{"version":3,"sources":["kendo.list.js"],"names":["f","define","$","undefined","unifyType","value","type","toLowerCase","last","list","length","getSelectedOption","select","index","selectedIndex","options","mapChangedItems","selected","itemsToMatch","dataItem","found","i","j","itemsLength","selectedLength","changed","unchanged","push","item","isValidFilterExpr","expression","isEmptyObject","filters","removeFiltersForField","field","grep","filter","STATIC_LIST_NS","StaticList","kendo","window","ui","outerHeight","_outerHeight","percentageUnitsRegex","Widget","keys","support","htmlEncode","activeElement","_activeElement","outerWidth","_outerWidth","ObservableArray","data","ID","CHANGE","FOCUSED","HOVER","KSELECTED","LOADING","LIST","TABLE","DATA_TABLE","TABLE_MD","LIST_UL","TABLE_LIST","FIXED_GROUP_HEADER","GROUP_LABEL","ITEMSELECTOR","LABELIDPART","OPEN","CLOSE","CASCADE","SELECT","CLICK","MOUSELEAVE","MOUSEENTER","ACTIVATE","DEACTIVATE","DATA_BINDING","DATA_BOUND","SELECTED_ITEM_CHANGE","SELECTED","REQUESTSTART","REQUESTEND","BLUR","FOCUS","FOCUSOUT","extend","proxy","isArray","Array","browser","HIDDENCLASS","WIDTH","TEXT","VALUE","isIE","msie","quotRegExp","alternativeNames","ComboBox","DropDownList","MultiColumnComboBox","UL_EL","LIST_EL","LIST_HEADER_EL","NO_DATA_EL","LIST_FOOTER_EL","MOUSEDOWN","LIST_SUFFIX","LISTBOX_SUFFIX","ARIA_LABELLEDBY","ARIA_LABEL","ARIA_ACTIVEDESCENDANT","ARIA_AUTOCOMPLETE","ARIA_CONTROLS","ARIA_LIVE","ARIA_EXPANDED","ARIA_HIDDEN","ARIA_BUSY","ARIA_MULTISELECTABLE","ARIA_SELECTED","GROUP_ROW_SEL","List","DataBoundWidget","init","element","id","that","this","ns","fn","call","_isSelect","is","dataSource","dataTextField","dataValueField","_listSize","cssProperties","getValidClass","widget","propName","size","ul","attr","tabIndex","aria-hidden","addClass","append","on","_listMousedown","guid","columns","removeClass","_columnsHeader","_header","_noData","_footer","_accessors","_initValue","valuePrimitive","footerTemplate","headerTemplate","noDataTemplate","messages","noData","clear","setOptions","enable","enabled","_renderFooter","_renderNoData","focus","_focused","trigger","readonly","_editable","disable","wrapper","header","template","_angularElement","destroy","remove","wrap","parent","prepend","colGroup","row","idx","currentColumn","title","columnsHeaderTemplate","currentWidth","currentWidthInt","widthStyle","columnsHeader","width","parseInt","isNaN","test","angular","elements","appendTo","footer","_listOptions","currentOptions","virtual","changeEventOption","change","_listChange","listBoundHandler","_listBound","focusedElm","inputId","labelElm","labelledBy","_generateLabelId","autoBind","selectable","click","_click","activate","_activateItem","deactivate","_deactivateItem","dataBinding","dataBound","height","groupTemplate","fixedGroupTemplate","ariaLabel","ariaLabelledBy","listSize","expr","$angular","_initList","listOptions","selectedItemChange","listView","VirtualList","bind","_setListValue","done","_updateSelectionState","noop","e","filterInput","target","preventDefault","_isFilterEnabled","_hideClear","_clear","_showClear","_clearValue","_clearText","_accessor","_customOption","enforceMinLength","_filter","word","open","highlightFirst","_change","text","_clearFilter","bound","_filterSource","force","newExpression","dataSourceState","isMultiColumnFiltering","filterFields","logic","resetPageSettings","removed","_clearFilterExpressions","Deferred","reject","promise","_pushFilterExpression","concat","_cascading","setDSFilter","page","pageSize","sort","group","aggregate","_mergeState","filtersToRemove","splice","action","html","instance","_toggleNoData","show","toggle","_toggleHeader","groupHeader","content","prev","_allowOpening","flatView","val","_old","_ignoreCase","model","reader","fields","ignoreCase","_focus","candidate","widgetOptions","fromFilter","_buildExpression","_open","accentFoldingFiltering","toLocaleLowerCase","operator","_clearButton","clearTitle","role","clearButton","search","_inputValue","clearTimeout","_typingTimeout","minLength","_state","_emptySearch","trim","_searchByWord","current","items","children","_unbindDataSource","off","popup","_form","_resetHandler","selectedDataItems","getByUid","add","removeAttr","getter","textField","valueField","_text","_value","_aria","autocomplete","suggest","aria-owns","aria-controls","_ariaLabel","labelId","inputElm","label","_blur","close","_userTriggered","_isValueChanged","optionValue","_valueBeforeCascade","_oldIndex","isFiltered","_typing","typing","_data","view","_enable","disabled","_dataValue","_offsetHeight","offsetHeight","siblings","prevAll","each","_height","offsetTop","popups","footerHeight","visible","closest","hide","scrollHeight","_openHandler","_adjustListWidth","computedStyle","computedWidth","style","getComputedStyle","parseFloat","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","css","fontFamily","autoWidth","minWidth","whiteSpace","_closeHandler","_focusItem","noFocusedItem","scrollToIndex","_calculateGroupPadding","li","first","padding","direction","display","scrollbar","parents","_calculatePopupHeight","_calculateColumnsHeaderPadding","isRtl","_refreshScroll","enableYScroll","overflowX","overflowY","_resizePopup","one","_popup","Popup","anchor","animation","autosize","_toggleHover","currentTarget","toggleClass","_toggle","preventFocus","touchEnabled","mobileOS","touch","MSPointers","pointers","_prevent","_triggerCascade","_cascadeTriggered","_cascadedValue","userTriggered","_triggerChange","unbind","_requestStartHandler","_requestEndHandler","_errorHandler","requireValueMapper","hasValue","valueMapper","Error","inArray","node","parentNode","Select","_initial","setDataSource","_dataSource","_initialIndex","_current","fetch","_parentWidget","_cascadeSelect","_select","_cascadeValue","_accessorInput","_accessorSelect","_custom","_syncValueAndText","custom","_hideBusy","_busy","_arrowIcon","_showBusy","isDefaultPrevented","_request","setTimeout","_requestEnd","DataSource","create","_firstItem","focusFirst","_lastItem","focusLast","_nextItem","focusNext","_prevItem","focusPrev","_getNormalizedDataItem","isIndex","hasOptionLabel","optionLabel","getElementIndex","dataItemByIndex","_getNormalizedSelectCandidate","normalizedCandidate","_move","pressed","moveIndex","selectCandidate","activeFilter","selection","shouldTrigger","key","keyCode","down","DOWN","isVirtual","UP","altKey","firstChild","_fetch","hasClass","total","_get","ENTER","TAB","input","_focusElement","focusout","ESC","PAGEDOWN","PAGEUP","scrollWith","screenHeight","_fetchData","hasItems","cascadeFrom","_options","option","dataText","dataValue","htmlElement","indexOf","replace","setAttribute","_reset","formId","form","parentElement","name","_cascade","cascade","_cascadeHandlerProxy","_cascadeHandler","_cascadeFilterRequests","_selectedValue","_toggleCascadeOnFocus","valueBeforeCascade","_clearSelection","_cascadeChange","expressions","handler","filterValue","cascadeFromParentField","cascadeFromField","currentHandler","shift","thead","_touchHandlers","find","before","_optionID","_selectedIndices","_view","_dataItems","_values","slice","_getter","_templates","_onScroll","_scrollId","_renderHeader","events","source","_refreshHandler","refresh","_fixedHeader","startY","endY","tapPosition","event","originalEvent","changedTouches","pageY","Math","abs","_touchTriggered","_triggerClick","get","skip","_render","clientHeight","scroll","scrollTop","itemOffsetTop","itemOffsetHeight","contentScrollTop","contentOffsetHeight","bottomDistance","dataItems","_getValues","_valueGetter","map","next","hasCandidate","focusIndex","skipUpdate","_skipUpdate","indices","result","deferred","filtered","singleSelection","selectedIndices","uiSelectedIndices","added","resolve","_deselectFiltered","_deselect","_valueComparer","removeAt","position","setValue","_valueDeferred","state","_valueIndices","_valueExpr","values","body","comparer","normalized","_valueType","Function","_dataItemPosition","valueExpr","removedIndices","_template","useWithBlock","templateText","templates","_normalizeIndices","newIndices","_firstVisibleItem","itemHeight","itemIndex","floor","lastChild","forward","nextSibling","previousSibling","isGrouped","visibleItem","_renderItem","context","notFirstItem","hasColumns","altRow","newGroup","isLastGroupedItem","_renderColumns","dataContext","_selected","innerHTML","_lastDSFilter","Query","compareFilters","skipUpdateOnBind","isItemChange","_angularItems","_bound","plugin","registerPrefix","jQuery","amd","a1","a2","a3"],"mappings":"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","file":"kendo.list.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('kendo.list', [\n        'kendo.data',\n        'kendo.popup'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'list',\n        name: 'List',\n        category: 'framework',\n        depends: [\n            'data',\n            'popup'\n        ],\n        hidden: true\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, ui = kendo.ui, outerHeight = kendo._outerHeight, percentageUnitsRegex = /^\\d+(\\.\\d+)?%$/i, Widget = ui.Widget, keys = kendo.keys, support = kendo.support, htmlEncode = kendo.htmlEncode, activeElement = kendo._activeElement, outerWidth = kendo._outerWidth, ObservableArray = kendo.data.ObservableArray, ID = 'id', CHANGE = 'change', FOCUSED = 'k-focus', HOVER = 'k-hover', KSELECTED = 'k-selected', LOADING = 'k-i-loading', LIST = 'k-list', TABLE = 'k-table', DATA_TABLE = 'k-data-table', TABLE_MD = 'k-table-md', LIST_UL = 'k-list-ul', TABLE_LIST = 'k-table-list', FIXED_GROUP_HEADER = '.k-list-group-sticky-header', GROUP_LABEL = '.k-list-item-group-label', ITEMSELECTOR = '.k-list-item', LABELIDPART = '_label', OPEN = 'open', CLOSE = 'close', CASCADE = 'cascade', SELECT = 'select', CLICK = 'click', MOUSELEAVE = 'mouseleave', MOUSEENTER = 'mouseenter', ACTIVATE = 'activate', DEACTIVATE = 'deactivate', DATA_BINDING = 'dataBinding', DATA_BOUND = 'dataBound', SELECTED_ITEM_CHANGE = 'selectedItemChange', SELECTED = 'selected', REQUESTSTART = 'requestStart', REQUESTEND = 'requestEnd', BLUR = 'blur', FOCUS = 'focus', FOCUSOUT = 'focusout', extend = $.extend, proxy = $.proxy, isArray = Array.isArray, browser = support.browser, HIDDENCLASS = 'k-hidden', WIDTH = 'width', TEXT = 'text', VALUE = 'value', isIE = browser.msie, quotRegExp = /\"/g, alternativeNames = {\n                'ComboBox': [\n                    'DropDownList',\n                    'MultiColumnComboBox'\n                ],\n                'DropDownList': [\n                    'ComboBox',\n                    'MultiColumnComboBox'\n                ],\n                'MultiColumnComboBox': [\n                    'ComboBox',\n                    'DropDownList'\n                ]\n            }, UL_EL = '<ul unselectable=\"on\"/>', LIST_EL = '<div class=\\'k-list\\'/>', LIST_HEADER_EL = '<div class=\"k-list-header\">', NO_DATA_EL = '<div class=\"k-no-data\" style=\"display: none;\"></div>', LIST_FOOTER_EL = '<div class=\"k-list-footer\"></div>', MOUSEDOWN = 'mousedown', LIST_SUFFIX = '-list', LISTBOX_SUFFIX = '_listbox', ARIA_LABELLEDBY = 'aria-labelledby', ARIA_LABEL = 'aria-label', ARIA_ACTIVEDESCENDANT = 'aria-activedescendant', ARIA_AUTOCOMPLETE = 'aria-autocomplete', ARIA_CONTROLS = 'aria-controls', ARIA_LIVE = 'aria-live', ARIA_EXPANDED = 'aria-expanded', ARIA_HIDDEN = 'aria-hidden', ARIA_BUSY = 'aria-busy', ARIA_MULTISELECTABLE = 'aria-multiselectable', ARIA_SELECTED = 'aria-selected', GROUP_ROW_SEL = '.k-table-group-row';\n        var List = kendo.ui.DataBoundWidget.extend({\n            init: function (element, options) {\n                var that = this, ns = that.ns, id;\n                Widget.fn.init.call(that, element, options);\n                element = that.element;\n                options = that.options;\n                that._isSelect = element.is(SELECT);\n                if (that._isSelect && that.element[0].length) {\n                    if (!options.dataSource) {\n                        options.dataTextField = options.dataTextField || TEXT;\n                        options.dataValueField = options.dataValueField || VALUE;\n                    }\n                }\n                that._listSize = kendo.cssProperties.getValidClass({\n                    widget: 'List',\n                    propName: 'size',\n                    value: options.size\n                });\n                that.ul = $(UL_EL).attr({\n                    tabIndex: -1,\n                    'aria-hidden': true\n                });\n                that.list = $(LIST_EL).addClass(that._listSize).append(that.ul).on(MOUSEDOWN + ns, proxy(that._listMousedown, that));\n                id = element.attr(ID);\n                if (!id) {\n                    id = kendo.guid();\n                }\n                that.list.attr(ID, id + LIST_SUFFIX);\n                that.ul.attr(ID, id + LISTBOX_SUFFIX);\n                if (options.columns && options.columns.length) {\n                    that.list.removeClass(LIST).addClass(DATA_TABLE);\n                    that.list.removeClass(that._listSize).addClass(TABLE_MD);\n                    that.ul.removeClass(LIST_UL).addClass(TABLE);\n                    that._columnsHeader();\n                }\n                that._header();\n                that._noData();\n                that._footer();\n                that._accessors();\n                that._initValue();\n            },\n            options: {\n                valuePrimitive: false,\n                footerTemplate: '',\n                headerTemplate: '',\n                noDataTemplate: true,\n                size: 'medium',\n                messages: {\n                    'noData': 'No data found.',\n                    'clear': 'clear'\n                }\n            },\n            setOptions: function (options) {\n                Widget.fn.setOptions.call(this, options);\n                if (options && options.enable !== undefined) {\n                    options.enabled = options.enable;\n                }\n                if (options.columns && options.columns.length) {\n                    this._columnsHeader();\n                }\n                this._header();\n                this._noData();\n                this._footer();\n                this._renderFooter();\n                this._renderNoData();\n            },\n            focus: function () {\n                this._focused.trigger(FOCUS);\n            },\n            readonly: function (readonly) {\n                this._editable({\n                    readonly: readonly === undefined ? true : readonly,\n                    disable: false\n                });\n            },\n            enable: function (enable) {\n                this._editable({\n                    readonly: false,\n                    disable: !(enable = enable === undefined ? true : enable)\n                });\n            },\n            _header: function () {\n                var list = this;\n                var header = $(list.header);\n                var template = list.options.headerTemplate;\n                var wrapper;\n                this._angularElement(header, 'cleanup');\n                kendo.destroy(header);\n                header.remove();\n                if (!template) {\n                    list.header = null;\n                    return;\n                }\n                var headerTemplate = typeof template !== 'function' ? kendo.template(template) : template;\n                header = $(headerTemplate({}));\n                list.header = header[0] ? header : null;\n                wrapper = header.wrap(LIST_HEADER_EL).parent();\n                list.list.prepend(wrapper);\n                this._angularElement(list.header, 'compile');\n            },\n            _columnsHeader: function () {\n                var list = this;\n                var columnsHeader = $(list.columnsHeader);\n                this._angularElement(columnsHeader, 'cleanup');\n                kendo.destroy(columnsHeader);\n                columnsHeader.remove();\n                var header = '<div class=\\'k-table-header\\'><div class=\\'k-table-header-wrap\\'><table class=\\'k-table\\' role=\\'presentation\\'>';\n                var colGroup = '<colgroup>';\n                var row = '<tr class=\\'k-table-row\\'>';\n                for (var idx = 0; idx < this.options.columns.length; idx++) {\n                    var currentColumn = this.options.columns[idx];\n                    var title = currentColumn.title || currentColumn.field || '';\n                    var template = currentColumn.headerTemplate || title;\n                    var columnsHeaderTemplate = typeof template !== 'function' ? kendo.template(template) : template;\n                    var currentWidth = currentColumn.width;\n                    var currentWidthInt = parseInt(currentWidth, 10);\n                    var widthStyle = '';\n                    if (currentWidth && !isNaN(currentWidthInt)) {\n                        widthStyle += 'style=\\'width:';\n                        widthStyle += currentWidthInt;\n                        widthStyle += percentageUnitsRegex.test(currentWidth) ? '%' : 'px';\n                        widthStyle += ';\\'';\n                    }\n                    colGroup += '<col ' + widthStyle + '/>';\n                    row += '<th class=\\'k-table-th\\'>';\n                    row += columnsHeaderTemplate(currentColumn);\n                    row += '</th>';\n                }\n                colGroup += '</colgroup>';\n                row += '</tr>';\n                header += colGroup;\n                header += '<thead class=\\'k-table-thead\\'>';\n                header += row;\n                header += '</thead></table></div></div>';\n                list.columnsHeader = columnsHeader = $(header);\n                list.list.prepend(columnsHeader);\n                this._angularElement(list.columnsHeader, 'compile');\n            },\n            _noData: function () {\n                var list = this;\n                var noData = $(list.noData);\n                var template = list.options.noDataTemplate === true ? list.options.messages.noData : list.options.noDataTemplate;\n                list.angular('cleanup', function () {\n                    return { elements: noData };\n                });\n                kendo.destroy(noData);\n                noData.remove();\n                if (!template) {\n                    list.noData = null;\n                    return;\n                }\n                list.noData = $(NO_DATA_EL).appendTo(list.list);\n                list.noDataTemplate = typeof template !== 'function' ? kendo.template(template) : template;\n            },\n            _footer: function () {\n                var list = this;\n                var footer = $(list.footer);\n                var template = list.options.footerTemplate;\n                this._angularElement(footer, 'cleanup');\n                kendo.destroy(footer);\n                footer.remove();\n                if (!template) {\n                    list.footer = null;\n                    return;\n                }\n                list.footer = $(LIST_FOOTER_EL).appendTo(list.list);\n                list.footerTemplate = typeof template !== 'function' ? kendo.template(template) : template;\n            },\n            _listOptions: function (options) {\n                var that = this;\n                var currentOptions = that.options;\n                var virtual = currentOptions.virtual;\n                var changeEventOption = { change: proxy(that._listChange, that) };\n                var listBoundHandler = proxy(that._listBound, that);\n                var focusedElm = that._focused;\n                var inputId = that.element.attr('id');\n                var labelElm = $('label[for=\"' + that.element.attr('id') + '\"]');\n                var labelledBy = focusedElm.attr(ARIA_LABELLEDBY);\n                if (!labelledBy && labelElm.length) {\n                    labelledBy = labelElm.attr('id') || that._generateLabelId(labelElm, inputId || kendo.guid());\n                }\n                virtual = typeof virtual === 'object' ? virtual : {};\n                options = $.extend({\n                    autoBind: false,\n                    selectable: true,\n                    dataSource: that.dataSource,\n                    click: proxy(that._click, that),\n                    activate: proxy(that._activateItem, that),\n                    columns: currentOptions.columns,\n                    deactivate: proxy(that._deactivateItem, that),\n                    dataBinding: function () {\n                        that.trigger(DATA_BINDING);\n                    },\n                    dataBound: listBoundHandler,\n                    height: currentOptions.height,\n                    dataValueField: currentOptions.dataValueField,\n                    dataTextField: currentOptions.dataTextField,\n                    groupTemplate: currentOptions.groupTemplate,\n                    fixedGroupTemplate: currentOptions.fixedGroupTemplate,\n                    template: currentOptions.template,\n                    ariaLabel: focusedElm.attr(ARIA_LABEL),\n                    ariaLabelledBy: labelledBy,\n                    listSize: that._listSize\n                }, options, virtual, changeEventOption);\n                if (!options.template) {\n                    options.template = '#:' + kendo.expr(options.dataTextField, 'data') + '#';\n                }\n                if (currentOptions.$angular) {\n                    options.$angular = currentOptions.$angular;\n                }\n                return options;\n            },\n            _initList: function () {\n                var that = this;\n                var listOptions = that._listOptions({ selectedItemChange: proxy(that._listChange, that) });\n                if (!that.options.virtual) {\n                    that.listView = new kendo.ui.StaticList(that.ul, listOptions);\n                } else {\n                    that.listView = new kendo.ui.VirtualList(that.ul, listOptions);\n                    that.list.addClass('k-virtual-list');\n                    that.list.addClass('k-virtual-table');\n                }\n                that.listView.bind('listBound', proxy(that._listBound, that));\n                that._setListValue();\n            },\n            _setListValue: function (value) {\n                value = value || this.options.value;\n                if (value !== undefined) {\n                    this.listView.value(value).done(proxy(this._updateSelectionState, this));\n                }\n            },\n            _updateSelectionState: $.noop,\n            _listMousedown: function (e) {\n                if (!this.filterInput || this.filterInput[0] !== e.target) {\n                    e.preventDefault();\n                }\n            },\n            _isFilterEnabled: function () {\n                var filter = this.options.filter;\n                return filter && filter !== 'none';\n            },\n            _hideClear: function () {\n                var list = this;\n                if (list._clear) {\n                    list._clear.addClass(HIDDENCLASS);\n                }\n            },\n            _showClear: function () {\n                if (this._clear) {\n                    this._clear.removeClass(HIDDENCLASS);\n                }\n            },\n            _clearValue: function () {\n                this._clearText();\n                this._accessor('');\n                this.listView.value([]);\n                if (this._isSelect) {\n                    this._customOption = undefined;\n                }\n                if (this._isFilterEnabled() && !this.options.enforceMinLength) {\n                    this._filter({\n                        word: '',\n                        open: false\n                    });\n                    if (this.options.highlightFirst) {\n                        this.listView.focus(0);\n                    }\n                }\n                this._change();\n            },\n            _clearText: function () {\n                this.text('');\n            },\n            _clearFilter: function () {\n                if (!this.options.virtual) {\n                    this.listView.bound(false);\n                }\n                this._filterSource();\n            },\n            _filterSource: function (filter, force) {\n                var that = this;\n                var options = that.options;\n                var isMultiColumnFiltering = options.filterFields && filter && filter.logic && filter.filters && filter.filters.length;\n                var dataSource = that.dataSource;\n                var expression = extend({}, dataSource.filter() || {});\n                var resetPageSettings = filter || expression.filters && expression.filters.length && !filter;\n                var removed = removeFiltersForField(expression, options.dataTextField);\n                this._clearFilterExpressions(expression);\n                if ((filter || removed) && that.trigger('filtering', { filter: filter })) {\n                    return $.Deferred().reject().promise();\n                }\n                var newExpression = {\n                    filters: [],\n                    logic: 'and'\n                };\n                if (isMultiColumnFiltering) {\n                    newExpression.filters.push(filter);\n                } else {\n                    this._pushFilterExpression(newExpression, filter);\n                }\n                if (isValidFilterExpr(expression)) {\n                    if (newExpression.logic === expression.logic) {\n                        newExpression.filters = newExpression.filters.concat(expression.filters);\n                    } else {\n                        newExpression.filters.push(expression);\n                    }\n                }\n                if (that._cascading) {\n                    this.listView.setDSFilter(newExpression);\n                }\n                var dataSourceState = extend({}, {\n                    page: resetPageSettings ? 1 : dataSource.page(),\n                    pageSize: resetPageSettings ? dataSource.options.pageSize : dataSource.pageSize(),\n                    sort: dataSource.sort(),\n                    filter: dataSource.filter(),\n                    group: dataSource.group(),\n                    aggregate: dataSource.aggregate()\n                }, { filter: newExpression });\n                return dataSource[force ? 'read' : 'query'](dataSource._mergeState(dataSourceState));\n            },\n            _pushFilterExpression: function (newExpression, filter) {\n                if (isValidFilterExpr(filter) && filter.value !== '') {\n                    newExpression.filters.push(filter);\n                }\n            },\n            _clearFilterExpressions: function (expression) {\n                if (!expression.filters) {\n                    return;\n                }\n                var filtersToRemove;\n                for (var i = 0; i < expression.filters.length; i++) {\n                    if ('fromFilter' in expression.filters[i]) {\n                        filtersToRemove = i;\n                    }\n                }\n                if (!isNaN(filtersToRemove)) {\n                    expression.filters.splice(filtersToRemove, 1);\n                }\n            },\n            _angularElement: function (element, action) {\n                if (!element) {\n                    return;\n                }\n                this.angular(action, function () {\n                    return { elements: element };\n                });\n            },\n            _renderNoData: function () {\n                var list = this;\n                var noData = list.noData;\n                if (!noData) {\n                    return;\n                }\n                this._angularElement(noData, 'cleanup');\n                noData.html(list.noDataTemplate({ instance: list }));\n                this._angularElement(noData, 'compile');\n            },\n            _toggleNoData: function (show) {\n                $(this.noData).toggle(show);\n            },\n            _toggleHeader: function (show) {\n                var groupHeader = this.listView.content.prev(FIXED_GROUP_HEADER);\n                groupHeader.toggle(show);\n            },\n            _renderFooter: function () {\n                var list = this, footer = list.footer;\n                if (!footer) {\n                    return;\n                }\n                this._angularElement(footer, 'cleanup');\n                footer.html(list.footerTemplate({ instance: list }));\n                this._angularElement(footer, 'compile');\n            },\n            _allowOpening: function () {\n                return this.options.noDataTemplate || this.dataSource.flatView().length;\n            },\n            _initValue: function () {\n                var that = this, value = that.options.value;\n                if (value !== null) {\n                    that.element.val(value);\n                } else {\n                    value = that._accessor();\n                    that.options.value = value;\n                }\n                that._old = value;\n            },\n            _ignoreCase: function () {\n                var that = this, model = that.dataSource.reader.model, field;\n                if (model && model.fields) {\n                    field = model.fields[that.options.dataTextField];\n                    if (field && field.type && field.type !== 'string') {\n                        that.options.ignoreCase = false;\n                    }\n                }\n            },\n            _focus: function (candidate) {\n                return this.listView.focus(candidate);\n            },\n            _filter: function (options) {\n                var that = this;\n                var widgetOptions = that.options;\n                var word = options.word;\n                var filterFields = widgetOptions.filterFields;\n                var field = widgetOptions.dataTextField;\n                var expression;\n                if (filterFields && filterFields.length) {\n                    expression = {\n                        logic: 'or',\n                        filters: [],\n                        fromFilter: true\n                    };\n                    for (var i = 0; i < filterFields.length; i++) {\n                        this._pushFilterExpression(expression, that._buildExpression(word, filterFields[i]));\n                    }\n                } else {\n                    expression = that._buildExpression(word, field);\n                }\n                that._open = options.open;\n                that._filterSource(expression);\n            },\n            _buildExpression: function (value, field) {\n                var that = this;\n                var widgetOptions = that.options;\n                var ignoreCase = widgetOptions.ignoreCase;\n                var accentFoldingFiltering = that.dataSource.options.accentFoldingFiltering;\n                return {\n                    value: ignoreCase ? accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase() : value,\n                    field: field,\n                    operator: widgetOptions.filter,\n                    ignoreCase: ignoreCase\n                };\n            },\n            _clearButton: function () {\n                var list = this;\n                var clearTitle = list.options.messages.clear;\n                if (!list._clear) {\n                    list._clear = $('<span unselectable=\"on\" class=\"k-clear-value\" title=\"' + clearTitle + '\"><span class=\"k-icon k-i-x\"></span></span>').attr({\n                        'role': 'button',\n                        'tabIndex': -1\n                    });\n                }\n                if (!list.options.clearButton) {\n                    list._clear.remove();\n                }\n                this._hideClear();\n            },\n            search: function (word) {\n                var options = this.options;\n                word = typeof word === 'string' ? word : this._inputValue();\n                clearTimeout(this._typingTimeout);\n                if (!options.enforceMinLength && !word.length || word.length >= options.minLength) {\n                    this._state = 'filter';\n                    if (this.listView) {\n                        this.listView._emptySearch = !kendo.trim(word).length;\n                    }\n                    if (!this._isFilterEnabled()) {\n                        this._searchByWord(word);\n                    } else {\n                        this._filter({\n                            word: word,\n                            open: true\n                        });\n                    }\n                }\n            },\n            current: function (candidate) {\n                return this._focus(candidate);\n            },\n            items: function () {\n                return this.ul[0].children;\n            },\n            destroy: function () {\n                var that = this;\n                var ns = that.ns;\n                Widget.fn.destroy.call(that);\n                that._unbindDataSource();\n                that.listView.destroy();\n                that.list.off(ns);\n                that.popup.destroy();\n                if (that._form) {\n                    that._form.off('reset', that._resetHandler);\n                }\n            },\n            dataItem: function (index) {\n                var that = this;\n                if (index === undefined) {\n                    return that.listView.selectedDataItems()[0];\n                }\n                if (typeof index !== 'number') {\n                    if (that.options.virtual) {\n                        return that.dataSource.getByUid($(index).data('uid'));\n                    }\n                    index = $(that.items()).index(index);\n                }\n                return that.dataSource.flatView()[index];\n            },\n            _activateItem: function () {\n                var current = this.listView.focus();\n                if (current) {\n                    this._focused.add(this.filterInput).attr(ARIA_ACTIVEDESCENDANT, current.attr('id'));\n                }\n            },\n            _deactivateItem: function () {\n                this._focused.add(this.filterInput).removeAttr(ARIA_ACTIVEDESCENDANT);\n            },\n            _accessors: function () {\n                var that = this;\n                var element = that.element;\n                var options = that.options;\n                var getter = kendo.getter;\n                var textField = element.attr(kendo.attr('text-field'));\n                var valueField = element.attr(kendo.attr('value-field'));\n                if (!options.dataTextField && textField) {\n                    options.dataTextField = textField;\n                }\n                if (!options.dataValueField && valueField) {\n                    options.dataValueField = valueField;\n                }\n                that._text = getter(options.dataTextField);\n                that._value = getter(options.dataValueField);\n            },\n            _aria: function (id) {\n                var that = this, options = that.options, element = that._focused, autocomplete;\n                if (options.suggest !== undefined) {\n                    if (options.filter === 'none') {\n                        if (options.suggest === true) {\n                            autocomplete = 'inline';\n                        } else {\n                            autocomplete = 'none';\n                        }\n                    } else {\n                        if (options.suggest === true) {\n                            autocomplete = 'both';\n                        } else {\n                            autocomplete = 'list';\n                        }\n                    }\n                    element.attr(ARIA_AUTOCOMPLETE, autocomplete);\n                }\n                id = id ? id + ' ' + that.ul[0].id : that.ul[0].id;\n                element.attr({\n                    'aria-owns': id,\n                    'aria-controls': id\n                });\n                if (that.filterInput && that.filterInput.length > 0) {\n                    that.filterInput.attr(ARIA_CONTROLS, id);\n                }\n                that.ul.attr(ARIA_LIVE, !that._isFilterEnabled() ? 'off' : 'polite');\n                that._ariaLabel();\n            },\n            _ariaLabel: function () {\n                var that = this;\n                var focusedElm = that._focused;\n                var inputElm = that.element;\n                var inputId = inputElm.attr('id');\n                var labelElm = $('label[for=\"' + inputId + '\"]');\n                var ariaLabel = inputElm.attr(ARIA_LABEL);\n                var ariaLabelledBy = inputElm.attr(ARIA_LABELLEDBY);\n                if (focusedElm === inputElm) {\n                    return;\n                }\n                if (ariaLabel) {\n                    focusedElm.attr(ARIA_LABEL, ariaLabel);\n                } else if (ariaLabelledBy) {\n                    focusedElm.attr(ARIA_LABELLEDBY, ariaLabelledBy);\n                } else if (labelElm.length) {\n                    var labelId = labelElm.attr('id') || that._generateLabelId(labelElm, inputId || kendo.guid());\n                    focusedElm.attr(ARIA_LABELLEDBY, labelId);\n                }\n            },\n            _generateLabelId: function (label, inputId) {\n                var labelId = inputId + LABELIDPART;\n                label.attr('id', labelId);\n                return labelId;\n            },\n            _blur: function () {\n                var that = this;\n                that._change();\n                that.close();\n                that._userTriggered = false;\n            },\n            _isValueChanged: function (value) {\n                return value !== unifyType(this._old, typeof value);\n            },\n            _change: function () {\n                var that = this;\n                var index = that.selectedIndex;\n                var optionValue = that.options.value;\n                var value = that.value();\n                var trigger;\n                if (that._isSelect && !that.listView.bound() && optionValue) {\n                    value = optionValue;\n                }\n                if (that._isValueChanged(value)) {\n                    trigger = true;\n                } else if (that._valueBeforeCascade !== undefined && that._valueBeforeCascade !== unifyType(that._old, typeof that._valueBeforeCascade) && that._userTriggered) {\n                    trigger = true;\n                } else if (index !== undefined && index !== that._oldIndex && !that.listView.isFiltered()) {\n                    trigger = true;\n                }\n                if (trigger) {\n                    if (that._old === null || that._old === '' || value === '') {\n                        that._valueBeforeCascade = that._old = value;\n                    } else {\n                        if (that.dataItem()) {\n                            that._valueBeforeCascade = that._old = that.options.dataValueField ? that.dataItem()[that.options.dataValueField] : that.dataItem();\n                        } else {\n                            that._valueBeforeCascade = that._old = null;\n                        }\n                    }\n                    that._oldIndex = index;\n                    if (!that._typing) {\n                        that.element.trigger(CHANGE);\n                    }\n                    that.trigger(CHANGE);\n                }\n                that.typing = false;\n            },\n            _data: function () {\n                return this.dataSource.view();\n            },\n            _enable: function () {\n                var that = this, options = that.options, disabled = that.element.is('[disabled]');\n                if (options.enable !== undefined) {\n                    options.enabled = options.enable;\n                }\n                if (!options.enabled || disabled) {\n                    that.enable(false);\n                } else {\n                    that.readonly(that.element.is('[readonly]'));\n                }\n            },\n            _dataValue: function (dataItem) {\n                var value = this._value(dataItem);\n                if (value === undefined) {\n                    value = this._text(dataItem);\n                }\n                return value;\n            },\n            _offsetHeight: function () {\n                var offsetHeight = 0;\n                var siblings = this.listView.content.prevAll(':visible');\n                siblings.each(function () {\n                    var element = $(this);\n                    offsetHeight += outerHeight(element, true);\n                });\n                return offsetHeight;\n            },\n            _height: function (length) {\n                var that = this;\n                var list = that.list;\n                var height = that.options.height;\n                var visible = that.popup.visible();\n                var offsetTop;\n                var popups;\n                var footerHeight;\n                if (length || that.options.noDataTemplate) {\n                    popups = list.parent().add(list.closest('.k-animation-container')).show();\n                    if (!list.parent().is(':visible')) {\n                        popups.hide();\n                        return;\n                    }\n                    height = that.listView.content[0].scrollHeight > height ? height : 'auto';\n                    popups.height(height);\n                    if (height !== 'auto') {\n                        offsetTop = that._offsetHeight();\n                        footerHeight = outerHeight($(that.footer)) || 0;\n                        height = height - offsetTop - footerHeight;\n                    }\n                    that.listView.content.height(height);\n                    if (!visible) {\n                        popups.hide();\n                    }\n                }\n                return height;\n            },\n            _openHandler: function (e) {\n                this._adjustListWidth();\n                if (this.trigger(OPEN)) {\n                    e.preventDefault();\n                } else {\n                    this._focused.attr(ARIA_EXPANDED, true);\n                    this.ul.attr(ARIA_HIDDEN, false);\n                }\n            },\n            _adjustListWidth: function () {\n                var that = this, list = that.list.parent(), width = list[0].style.width, wrapper = that.wrapper, computedStyle, computedWidth;\n                if (!list.data(WIDTH) && width) {\n                    return;\n                }\n                computedStyle = window.getComputedStyle ? window.getComputedStyle(wrapper[0], null) : 0;\n                computedWidth = parseFloat(computedStyle && computedStyle.width) || outerWidth(wrapper);\n                if (computedStyle && browser.msie) {\n                    computedWidth += parseFloat(computedStyle.paddingLeft) + parseFloat(computedStyle.paddingRight) + parseFloat(computedStyle.borderLeftWidth) + parseFloat(computedStyle.borderRightWidth);\n                }\n                if (list.css('box-sizing') !== 'border-box') {\n                    width = computedWidth - (outerWidth(list) - list.width());\n                } else {\n                    width = computedWidth;\n                }\n                list.css({\n                    fontFamily: wrapper.css('font-family'),\n                    width: that.options.autoWidth ? 'auto' : width,\n                    minWidth: width,\n                    whiteSpace: that.options.autoWidth ? 'nowrap' : 'normal'\n                }).data(WIDTH, width);\n                return true;\n            },\n            _closeHandler: function (e) {\n                if (this.trigger(CLOSE)) {\n                    e.preventDefault();\n                } else {\n                    this._focused.attr(ARIA_EXPANDED, false);\n                    this.ul.attr(ARIA_HIDDEN, true);\n                }\n            },\n            _focusItem: function () {\n                var listView = this.listView;\n                var noFocusedItem = !listView.focus();\n                var index = last(listView.select());\n                if (index === undefined && this.options.highlightFirst && noFocusedItem) {\n                    index = 0;\n                }\n                if (index !== undefined) {\n                    listView.focus(index);\n                } else if (noFocusedItem) {\n                    listView.scrollToIndex(0);\n                }\n            },\n            _calculateGroupPadding: function (height) {\n                var li = this.ul.children('.k-first').first();\n                var groupHeader = this.listView.content.prev(FIXED_GROUP_HEADER);\n                var padding = 0;\n                var direction = 'right';\n                if (groupHeader[0] && groupHeader[0].style.display !== 'none') {\n                    if (height !== 'auto') {\n                        padding = kendo.support.scrollbar();\n                    }\n                    if (this.element.parents('.k-rtl').length) {\n                        direction = 'left';\n                    }\n                    padding += parseFloat(li.css('border-' + direction + '-width'), 10) + parseFloat(li.children(GROUP_LABEL).css('padding-' + direction), 10);\n                    groupHeader.css('padding-' + direction, padding);\n                }\n            },\n            _calculatePopupHeight: function (force) {\n                var height = this._height(this.dataSource.flatView().length || force);\n                this._calculateGroupPadding(height);\n                this._calculateColumnsHeaderPadding(height);\n            },\n            _calculateColumnsHeaderPadding: function (height) {\n                if (this.options.columns && this.options.columns.length) {\n                    var list = this;\n                    var isRtl = support.isRtl(list.wrapper);\n                    var scrollbar = kendo.support.scrollbar();\n                    list.columnsHeader.css(isRtl ? 'padding-left' : 'padding-right', height !== 'auto' ? scrollbar : 0);\n                }\n            },\n            _refreshScroll: function () {\n                var listView = this.listView;\n                var enableYScroll = listView.element.height() > listView.content.height();\n                if (this.options.autoWidth) {\n                    listView.content.css({\n                        overflowX: 'hidden',\n                        overflowY: enableYScroll ? 'scroll' : 'auto'\n                    });\n                }\n            },\n            _resizePopup: function (force) {\n                if (this.options.virtual) {\n                    return;\n                }\n                if (!this.popup.element.is(':visible')) {\n                    this.popup.one('open', function (force) {\n                        return proxy(function () {\n                            this._calculatePopupHeight(force);\n                        }, this);\n                    }.call(this, force));\n                    this.popup.one(ACTIVATE, proxy(this._refreshScroll, this));\n                } else {\n                    this._calculatePopupHeight(force);\n                }\n            },\n            _popup: function () {\n                var list = this;\n                list.list.wrap('<div>');\n                list.popup = new ui.Popup(list.list.parent(), extend({}, list.options.popup, {\n                    anchor: list.wrapper,\n                    open: proxy(list._openHandler, list),\n                    close: proxy(list._closeHandler, list),\n                    animation: list.options.animation,\n                    isRtl: support.isRtl(list.wrapper),\n                    autosize: list.options.autoWidth\n                }));\n            },\n            _toggleHover: function (e) {\n                $(e.currentTarget).toggleClass(HOVER, e.type === MOUSEENTER);\n            },\n            _toggle: function (open, preventFocus) {\n                var that = this;\n                var touchEnabled = support.mobileOS && (support.touch || support.MSPointers || support.pointers);\n                open = open !== undefined ? open : !that.popup.visible();\n                if (!preventFocus && !touchEnabled && that._focused[0] !== activeElement()) {\n                    that._prevent = true;\n                    that._focused.trigger(FOCUS);\n                    that._prevent = false;\n                }\n                that[open ? OPEN : CLOSE]();\n            },\n            _triggerCascade: function () {\n                var that = this;\n                if (!that._cascadeTriggered || that.value() !== unifyType(that._cascadedValue, typeof that.value())) {\n                    that._cascadedValue = that.value();\n                    that._cascadeTriggered = true;\n                    that.trigger(CASCADE, { userTriggered: that._userTriggered });\n                }\n            },\n            _triggerChange: function () {\n                if (this._valueBeforeCascade !== this.value()) {\n                    this.trigger(CHANGE);\n                }\n            },\n            _unbindDataSource: function () {\n                var that = this;\n                that.dataSource.unbind(REQUESTSTART, that._requestStartHandler).unbind(REQUESTEND, that._requestEndHandler).unbind('error', that._errorHandler);\n            },\n            requireValueMapper: function (options, value) {\n                var hasValue = (options.value instanceof Array ? options.value.length : options.value) || (value instanceof Array ? value.length : value);\n                if (hasValue && options.virtual && typeof options.virtual.valueMapper !== 'function') {\n                    throw new Error('ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function');\n                }\n            }\n        });\n        function unifyType(value, type) {\n            if (value !== undefined && value !== '' && value !== null) {\n                if (type === 'boolean') {\n                    if (typeof value !== 'boolean') {\n                        value = value.toString().toLowerCase() === 'true';\n                    }\n                    value = Boolean(value);\n                } else if (type === 'number') {\n                    value = Number(value);\n                } else if (type === 'string') {\n                    value = value.toString();\n                }\n            }\n            return value;\n        }\n        extend(List, {\n            inArray: function (node, parentNode) {\n                var idx, length, siblings = parentNode.children;\n                if (!node || node.parentNode !== parentNode) {\n                    return -1;\n                }\n                for (idx = 0, length = siblings.length; idx < length; idx++) {\n                    if (node === siblings[idx]) {\n                        return idx;\n                    }\n                }\n                return -1;\n            },\n            unifyType: unifyType\n        });\n        kendo.ui.List = List;\n        ui.Select = List.extend({\n            init: function (element, options) {\n                List.fn.init.call(this, element, options);\n                this._initial = this.element.val();\n            },\n            setDataSource: function (dataSource) {\n                var that = this;\n                var parent;\n                that.options.dataSource = dataSource;\n                that._dataSource();\n                if (that.listView.bound()) {\n                    that._initialIndex = null;\n                    that.listView._current = null;\n                }\n                that.listView.setDataSource(that.dataSource);\n                if (that.options.autoBind) {\n                    that.dataSource.fetch();\n                }\n                parent = that._parentWidget();\n                if (parent) {\n                    that._cascadeSelect(parent);\n                }\n            },\n            close: function () {\n                this.popup.close();\n            },\n            select: function (candidate) {\n                var that = this;\n                if (candidate === undefined) {\n                    return that.selectedIndex;\n                } else {\n                    return that._select(candidate).done(function () {\n                        that._cascadeValue = that._old = that._accessor();\n                        that._oldIndex = that.selectedIndex;\n                    });\n                }\n            },\n            _accessor: function (value, idx) {\n                return this[this._isSelect ? '_accessorSelect' : '_accessorInput'](value, idx);\n            },\n            _accessorInput: function (value) {\n                var element = this.element[0];\n                if (value === undefined) {\n                    return element.value;\n                } else {\n                    if (value === null) {\n                        value = '';\n                    }\n                    element.value = value;\n                }\n            },\n            _accessorSelect: function (value, idx) {\n                var element = this.element[0];\n                var hasValue;\n                if (value === undefined) {\n                    return getSelectedOption(element).value || '';\n                }\n                getSelectedOption(element).selected = false;\n                if (idx === undefined) {\n                    idx = -1;\n                }\n                hasValue = value !== null && value !== '';\n                if (hasValue && idx == -1) {\n                    this._custom(value);\n                } else {\n                    if (value) {\n                        element.value = value;\n                    } else {\n                        element.selectedIndex = idx;\n                    }\n                }\n            },\n            _syncValueAndText: function () {\n                return true;\n            },\n            _custom: function (value) {\n                var that = this;\n                var element = that.element;\n                var custom = that._customOption;\n                if (!custom) {\n                    custom = $('<option/>');\n                    that._customOption = custom;\n                    element.append(custom);\n                }\n                custom.text(value);\n                custom[0].selected = true;\n            },\n            _hideBusy: function () {\n                var that = this;\n                clearTimeout(that._busy);\n                that._arrowIcon.removeClass(LOADING);\n                that._focused.attr(ARIA_BUSY, false);\n                that._busy = null;\n                that._showClear();\n            },\n            _showBusy: function (e) {\n                var that = this;\n                if (e.isDefaultPrevented()) {\n                    return;\n                }\n                that._request = true;\n                if (that._busy) {\n                    return;\n                }\n                that._busy = setTimeout(function () {\n                    if (that._arrowIcon) {\n                        that._focused.attr(ARIA_BUSY, true);\n                        that._arrowIcon.addClass(LOADING);\n                        that._hideClear();\n                    }\n                }, 100);\n            },\n            _requestEnd: function () {\n                this._request = false;\n                this._hideBusy();\n            },\n            _dataSource: function () {\n                var that = this, element = that.element, options = that.options, dataSource = options.dataSource || {}, idx;\n                dataSource = Array.isArray(dataSource) ? { data: dataSource } : dataSource;\n                if (that._isSelect) {\n                    idx = element[0].selectedIndex;\n                    if (idx > -1) {\n                        options.index = idx;\n                    }\n                    dataSource.select = element;\n                    dataSource.fields = [\n                        { field: options.dataTextField },\n                        { field: options.dataValueField }\n                    ];\n                }\n                if (that.dataSource) {\n                    that._unbindDataSource();\n                } else {\n                    that._requestStartHandler = proxy(that._showBusy, that);\n                    that._requestEndHandler = proxy(that._requestEnd, that);\n                    that._errorHandler = proxy(that._hideBusy, that);\n                }\n                that.dataSource = kendo.data.DataSource.create(dataSource).bind(REQUESTSTART, that._requestStartHandler).bind(REQUESTEND, that._requestEndHandler).bind('error', that._errorHandler);\n            },\n            _firstItem: function () {\n                this.listView.focusFirst();\n            },\n            _lastItem: function () {\n                this.listView.focusLast();\n            },\n            _nextItem: function () {\n                return this.listView.focusNext();\n            },\n            _prevItem: function () {\n                return this.listView.focusPrev();\n            },\n            _getNormalizedDataItem: function (candidate) {\n                var that = this, listView = that.listView, isIndex = typeof candidate === 'number', hasOptionLabel = that.optionLabel && that.optionLabel.length, index;\n                if (isIndex) {\n                    index = hasOptionLabel ? --candidate : candidate;\n                } else {\n                    index = listView.getElementIndex(candidate);\n                }\n                return listView.dataItemByIndex(index);\n            },\n            _getNormalizedSelectCandidate: function (candidate) {\n                var that = this, hasOptionLabel = that.optionLabel && that.optionLabel.length, isIndex = typeof candidate === 'number', normalizedCandidate = candidate;\n                if (hasOptionLabel && isIndex) {\n                    normalizedCandidate++;\n                }\n                return normalizedCandidate;\n            },\n            _move: function (e) {\n                var that = this;\n                var listView = that.listView;\n                var key = e.keyCode;\n                var down = key === keys.DOWN;\n                var isVirtual = that.options.virtual;\n                var dataItem;\n                var pressed;\n                var current;\n                var moveIndex;\n                var selectCandidate;\n                if (key === keys.UP || down) {\n                    if (e.altKey) {\n                        that.toggle(down);\n                    } else {\n                        if (!listView.bound() && !that.ul[0].firstChild) {\n                            if (!that._fetch) {\n                                that.dataSource.one(CHANGE, function () {\n                                    that._fetch = false;\n                                    that._move(e);\n                                });\n                                that._fetch = true;\n                                that._filterSource();\n                            }\n                            e.preventDefault();\n                            return true;\n                        }\n                        current = that._focus();\n                        if (!that._fetch && (!current || current.hasClass(KSELECTED))) {\n                            if (down) {\n                                moveIndex = that._nextItem();\n                                if (isVirtual && moveIndex <= 0 || !that._focus() && !moveIndex) {\n                                    that._lastItem();\n                                }\n                            } else {\n                                moveIndex = that._prevItem();\n                                if (isVirtual && moveIndex >= listView.dataSource.total() - 1 || !that._focus() && !moveIndex) {\n                                    that._firstItem();\n                                }\n                            }\n                        }\n                        selectCandidate = that._getNormalizedSelectCandidate(that._get(that._focus()) || moveIndex || 0);\n                        that._select(selectCandidate, true).done(function () {\n                            var done = function () {\n                                if (!that.popup.visible()) {\n                                    that._blur();\n                                }\n                                if (that._cascadedValue === null) {\n                                    that._cascadedValue = that.value();\n                                } else {\n                                    that._cascadedValue = that.dataItem() ? that.dataItem()[that.options.dataValueField] || that.dataItem() : null;\n                                }\n                            };\n                            if (that.trigger(SELECT, {\n                                    dataItem: that._getNormalizedDataItem(selectCandidate),\n                                    item: that._focus()\n                                })) {\n                                that._select(current).done(done);\n                            } else {\n                                done();\n                            }\n                        });\n                    }\n                    e.preventDefault();\n                    pressed = true;\n                } else if (key === keys.ENTER || key === keys.TAB) {\n                    if (that.popup.visible()) {\n                        e.preventDefault();\n                    }\n                    current = that._focus();\n                    dataItem = that.dataItem();\n                    if (!that.popup.visible() && (!dataItem || that.text() !== that._text(dataItem))) {\n                        current = null;\n                    }\n                    var activeFilter = that.filterInput && that.filterInput[0] === activeElement();\n                    var selection;\n                    if (current) {\n                        dataItem = listView.dataItemByIndex(listView.getElementIndex(current));\n                        var shouldTrigger = true;\n                        if (dataItem) {\n                            shouldTrigger = that._value(dataItem) !== List.unifyType(that.value(), typeof that._value(dataItem));\n                        }\n                        if (shouldTrigger && that.trigger(SELECT, {\n                                dataItem: dataItem,\n                                item: current\n                            })) {\n                            return;\n                        }\n                        selection = that._select(current);\n                    } else if (that.input) {\n                        if (that._syncValueAndText() || that._isSelect) {\n                            that._accessor(that.input.val());\n                        }\n                        that.listView.value(that.input.val());\n                    }\n                    if (that._focusElement) {\n                        that._focusElement(that.wrapper);\n                    }\n                    if (activeFilter && key === keys.TAB) {\n                        that.wrapper.focusout();\n                    } else {\n                        if (selection && typeof selection.done === 'function') {\n                            selection.done(function () {\n                                that._blur();\n                            });\n                        } else {\n                            that._blur();\n                        }\n                    }\n                    that.close();\n                    pressed = true;\n                } else if (key === keys.ESC) {\n                    if (that.popup.visible()) {\n                        e.preventDefault();\n                    }\n                    that.close();\n                    pressed = true;\n                } else if (that.popup.visible() && (key === keys.PAGEDOWN || key === keys.PAGEUP)) {\n                    e.preventDefault();\n                    var direction = key === keys.PAGEDOWN ? 1 : -1;\n                    listView.scrollWith(direction * listView.screenHeight());\n                    pressed = true;\n                }\n                return pressed;\n            },\n            _fetchData: function () {\n                var that = this;\n                var hasItems = !!that.dataSource.view().length;\n                if (that._request || that.options.cascadeFrom) {\n                    return;\n                }\n                if (!that.listView.bound() && !that._fetch && !hasItems) {\n                    that._fetch = true;\n                    that.dataSource.fetch().done(function () {\n                        that._fetch = false;\n                    });\n                }\n            },\n            _options: function (data, optionLabel, value) {\n                var that = this, element = that.element, htmlElement = element[0], length = data.length, options = '', option, dataItem, dataText, dataValue, idx = 0;\n                if (optionLabel) {\n                    options = optionLabel;\n                }\n                for (; idx < length; idx++) {\n                    option = '<option';\n                    dataItem = data[idx];\n                    dataText = that._text(dataItem);\n                    dataValue = that._value(dataItem);\n                    if (dataValue !== undefined) {\n                        dataValue += '';\n                        if (dataValue.indexOf('\"') !== -1) {\n                            dataValue = dataValue.replace(quotRegExp, '&quot;');\n                        }\n                        option += ' value=\"' + dataValue + '\"';\n                    }\n                    option += '>';\n                    if (dataText !== undefined) {\n                        option += htmlEncode(dataText);\n                    }\n                    option += '</option>';\n                    options += option;\n                }\n                element.html(options);\n                if (value !== undefined) {\n                    htmlElement.value = value;\n                    if (htmlElement.value && !value) {\n                        htmlElement.selectedIndex = -1;\n                    }\n                }\n                if (htmlElement.selectedIndex !== -1) {\n                    option = getSelectedOption(htmlElement);\n                    if (option) {\n                        option.setAttribute(SELECTED, SELECTED);\n                    }\n                }\n            },\n            _reset: function () {\n                var that = this, element = that.element, formId = element.attr('form'), form = formId ? $('#' + formId) : element.closest('form');\n                if (form[0]) {\n                    that._resetHandler = function () {\n                        setTimeout(function () {\n                            that.value(that._initial);\n                        });\n                    };\n                    that._form = form.on('reset', that._resetHandler);\n                }\n            },\n            _parentWidget: function () {\n                var name = this.options.name;\n                if (!this.options.cascadeFrom) {\n                    return;\n                }\n                var parentElement = $('#' + this.options.cascadeFrom);\n                var parent = parentElement.data('kendo' + name);\n                if (!parent) {\n                    for (var i = 0; i < alternativeNames[name].length; i += 1) {\n                        parent = parentElement.data('kendo' + alternativeNames[name][i]);\n                        if (!!parent) {\n                            break;\n                        }\n                    }\n                }\n                return parent;\n            },\n            _cascade: function () {\n                var that = this;\n                var options = that.options;\n                var cascade = options.cascadeFrom;\n                var parent;\n                if (cascade) {\n                    parent = that._parentWidget();\n                    if (!parent) {\n                        return;\n                    }\n                    that._cascadeHandlerProxy = proxy(that._cascadeHandler, that);\n                    that._cascadeFilterRequests = [];\n                    options.autoBind = false;\n                    parent.bind('set', function () {\n                        that.one('set', function (e) {\n                            that._selectedValue = e.value || that._accessor();\n                        });\n                    });\n                    parent.first(CASCADE, that._cascadeHandlerProxy);\n                    if (parent.listView.bound()) {\n                        that._toggleCascadeOnFocus();\n                        that._cascadeSelect(parent);\n                    } else {\n                        parent.one(DATA_BOUND, function () {\n                            that._toggleCascadeOnFocus();\n                            if (parent.popup.visible()) {\n                                parent._focused.trigger(FOCUS);\n                            }\n                        });\n                        if (!parent.value()) {\n                            that.enable(false);\n                        }\n                    }\n                }\n            },\n            _toggleCascadeOnFocus: function () {\n                var that = this;\n                var parent = that._parentWidget();\n                var focusout = isIE && parent instanceof ui.DropDownList ? BLUR : FOCUSOUT;\n                parent._focused.add(parent.filterInput).on(FOCUS, function () {\n                    parent.unbind(CASCADE, that._cascadeHandlerProxy);\n                    parent.unbind(CHANGE, that._cascadeHandlerProxy);\n                    parent.first(CHANGE, that._cascadeHandlerProxy);\n                });\n                parent._focused.add(parent.filterInput).on(focusout, function () {\n                    parent.unbind(CHANGE, that._cascadeHandlerProxy);\n                    parent.unbind(CASCADE, that._cascadeHandlerProxy);\n                    parent.first(CASCADE, that._cascadeHandlerProxy);\n                });\n            },\n            _cascadeHandler: function (e) {\n                var parent = this._parentWidget();\n                var valueBeforeCascade = this.value();\n                this._userTriggered = e.userTriggered || parent._userTriggered;\n                if (this.listView.bound()) {\n                    this._clearSelection(parent, true);\n                }\n                this._cascadeSelect(parent, valueBeforeCascade);\n            },\n            _cascadeChange: function (parent) {\n                var that = this;\n                var value = that._accessor() || that._selectedValue;\n                if (!that._cascadeFilterRequests.length) {\n                    that._selectedValue = null;\n                }\n                if (that._userTriggered) {\n                    that._clearSelection(parent, true);\n                } else if (value) {\n                    if (value !== unifyType(that.listView.value()[0], typeof value)) {\n                        that.value(value);\n                    }\n                    if (!that.dataSource.view()[0] || that.selectedIndex === -1) {\n                        that._clearSelection(parent, true);\n                    }\n                } else if (that.dataSource.flatView().length) {\n                    that.select(that.options.index);\n                }\n                that.enable();\n                that._triggerCascade();\n                that._triggerChange();\n                that._userTriggered = false;\n            },\n            _cascadeSelect: function (parent, valueBeforeCascade) {\n                var that = this;\n                var dataItem = parent.dataItem();\n                var filterValue = dataItem ? dataItem[that.options.cascadeFromParentField] || parent._value(dataItem) : null;\n                var valueField = that.options.cascadeFromField || parent.options.dataValueField;\n                var expressions;\n                that._valueBeforeCascade = valueBeforeCascade !== undefined ? valueBeforeCascade : that.value();\n                if (filterValue || filterValue === 0) {\n                    expressions = that.dataSource.filter() || {};\n                    removeFiltersForField(expressions, valueField);\n                    var handler = function () {\n                        var currentHandler = that._cascadeFilterRequests.shift();\n                        if (currentHandler) {\n                            that.unbind('dataBound', currentHandler);\n                        }\n                        currentHandler = that._cascadeFilterRequests[0];\n                        if (currentHandler) {\n                            that.first('dataBound', currentHandler);\n                        }\n                        that._cascadeChange(parent);\n                    };\n                    that._cascadeFilterRequests.push(handler);\n                    if (that._cascadeFilterRequests.length === 1) {\n                        that.first('dataBound', handler);\n                    }\n                    that._cascading = true;\n                    that._filterSource({\n                        field: valueField,\n                        operator: 'eq',\n                        value: filterValue\n                    });\n                    that._cascading = false;\n                } else {\n                    that.enable(false);\n                    that._clearSelection(parent);\n                    that._triggerCascade();\n                    that._triggerChange();\n                    that._userTriggered = false;\n                }\n            }\n        });\n        var STATIC_LIST_NS = '.StaticList';\n        var StaticList = kendo.ui.DataBoundWidget.extend({\n            init: function (element, options) {\n                Widget.fn.init.call(this, element, options);\n                this.element.attr('role', 'listbox').on(CLICK + STATIC_LIST_NS, 'li', proxy(this._click, this)).on(MOUSEENTER + STATIC_LIST_NS, 'li', function () {\n                    $(this).addClass(HOVER);\n                }).on(MOUSELEAVE + STATIC_LIST_NS, 'li', function () {\n                    $(this).removeClass(HOVER);\n                });\n                if (options && options.ariaLabel) {\n                    this.element.attr(ARIA_LABEL, options.ariaLabel);\n                } else if (options && options.ariaLabelledBy) {\n                    this.element.attr(ARIA_LABELLEDBY, options.ariaLabelledBy);\n                }\n                if (support.touch) {\n                    this._touchHandlers();\n                }\n                if (this.options.selectable === 'multiple') {\n                    this.element.attr(ARIA_MULTISELECTABLE, true);\n                }\n                if (this.options.columns && this.options.columns.length) {\n                    var thead = this.element.parent().find('.k-table-thead');\n                    var row = $('<tr class=\"k-table-group-row\">' + '<th class=\"k-table-th\" colspan=\"' + this.options.columns.length + '\"></th>' + '</tr>');\n                    thead.append(row);\n                    this.header = row.find('.k-table-th');\n                    this.content = this.element.wrap('<div class=\\'k-table-body k-table-scroller\\' unselectable=\\'on\\'></div>').parent();\n                    this.element.addClass(TABLE_LIST);\n                } else {\n                    this.content = this.element.wrap('<div class=\\'k-list-content k-list-scroller\\' unselectable=\\'on\\'></div>').parent();\n                    this.header = this.content.before('<div class=\"k-list-group-sticky-header\" style=\"display:none\"></div>').prev();\n                    this.element.addClass(LIST_UL);\n                }\n                this.bound(false);\n                this._optionID = kendo.guid();\n                this._selectedIndices = [];\n                this._view = [];\n                this._dataItems = [];\n                this._values = [];\n                var value = this.options.value;\n                if (value) {\n                    this._values = Array.isArray(value) ? value.slice(0) : [value];\n                }\n                this._getter();\n                this._templates();\n                this.setDataSource(this.options.dataSource);\n                this._onScroll = proxy(function () {\n                    var that = this;\n                    clearTimeout(that._scrollId);\n                    that._scrollId = setTimeout(function () {\n                        that._renderHeader();\n                    }, 50);\n                }, this);\n            },\n            options: {\n                name: 'StaticList',\n                dataValueField: null,\n                valuePrimitive: false,\n                selectable: true,\n                template: null,\n                groupTemplate: null,\n                fixedGroupTemplate: null,\n                ariaLabel: null,\n                ariaLabelledBy: null\n            },\n            events: [\n                CLICK,\n                CHANGE,\n                ACTIVATE,\n                DEACTIVATE,\n                DATA_BINDING,\n                DATA_BOUND,\n                SELECTED_ITEM_CHANGE\n            ],\n            setDataSource: function (source) {\n                var that = this;\n                var dataSource = source || {};\n                var value;\n                dataSource = Array.isArray(dataSource) ? { data: dataSource } : dataSource;\n                dataSource = kendo.data.DataSource.create(dataSource);\n                if (that.dataSource) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler);\n                    value = that.value();\n                    that.value([]);\n                    that.bound(false);\n                    that.value(value);\n                } else {\n                    that._refreshHandler = proxy(that.refresh, that);\n                }\n                that.setDSFilter(dataSource.filter());\n                that.dataSource = dataSource.bind(CHANGE, that._refreshHandler);\n                that._fixedHeader();\n            },\n            _touchHandlers: function () {\n                var that = this;\n                var startY;\n                var endY;\n                var tapPosition = function (event) {\n                    return (event.originalEvent || event).changedTouches[0].pageY;\n                };\n                that.element.on('touchstart' + STATIC_LIST_NS, function (e) {\n                    startY = tapPosition(e);\n                });\n                that.element.on('touchend' + STATIC_LIST_NS, function (e) {\n                    if (e.isDefaultPrevented()) {\n                        return;\n                    }\n                    endY = tapPosition(e);\n                    if (Math.abs(endY - startY) < 10) {\n                        that._touchTriggered = true;\n                        that._triggerClick($(e.target).closest(ITEMSELECTOR).get(0));\n                    }\n                });\n            },\n            skip: function () {\n                return this.dataSource.skip();\n            },\n            setOptions: function (options) {\n                Widget.fn.setOptions.call(this, options);\n                this._getter();\n                this._templates();\n                this._render();\n            },\n            destroy: function () {\n                this.element.off(STATIC_LIST_NS);\n                if (this._refreshHandler) {\n                    this.dataSource.unbind(CHANGE, this._refreshHandler);\n                }\n                clearTimeout(this._scrollId);\n                Widget.fn.destroy.call(this);\n            },\n            dataItemByIndex: function (index) {\n                return this.dataSource.flatView()[index];\n            },\n            screenHeight: function () {\n                return this.content[0].clientHeight;\n            },\n            scrollToIndex: function (index) {\n                var item = this.element[0].children[index];\n                if (item) {\n                    this.scroll(item);\n                }\n            },\n            scrollWith: function (value) {\n                this.content.scrollTop(this.content.scrollTop() + value);\n            },\n            scroll: function (item) {\n                if (!item) {\n                    return;\n                }\n                if (item[0]) {\n                    item = item[0];\n                }\n                var content = this.content[0], itemOffsetTop = item.offsetTop, itemOffsetHeight = item.offsetHeight, contentScrollTop = content.scrollTop, contentOffsetHeight = content.clientHeight, bottomDistance = itemOffsetTop + itemOffsetHeight;\n                if (contentScrollTop > itemOffsetTop) {\n                    contentScrollTop = itemOffsetTop;\n                } else if (bottomDistance > contentScrollTop + contentOffsetHeight) {\n                    contentScrollTop = bottomDistance - contentOffsetHeight;\n                }\n                content.scrollTop = contentScrollTop;\n            },\n            selectedDataItems: function (dataItems) {\n                if (dataItems === undefined) {\n                    return this._dataItems.slice();\n                }\n                this._dataItems = dataItems;\n                this._values = this._getValues(dataItems);\n            },\n            _getValues: function (dataItems) {\n                var getter = this._valueGetter;\n                return $.map(dataItems, function (dataItem) {\n                    return getter(dataItem);\n                });\n            },\n            focusNext: function () {\n                var current = this.focus();\n                if (!current) {\n                    current = 0;\n                } else {\n                    current = current.next();\n                }\n                this.focus(current);\n            },\n            focusPrev: function () {\n                var current = this.focus();\n                if (!current) {\n                    current = this.element[0].children.length - 1;\n                } else {\n                    current = current.prev();\n                }\n                this.focus(current);\n            },\n            focusFirst: function () {\n                this.focus(this.element[0].children[0]);\n            },\n            focusLast: function () {\n                this.focus(last(this.element[0].children));\n            },\n            focus: function (candidate) {\n                var that = this;\n                var id = that._optionID;\n                var hasCandidate;\n                if (candidate === undefined) {\n                    return that._current;\n                }\n                candidate = last(that._get(candidate));\n                candidate = $(this.element[0].children[candidate]);\n                if (that._current) {\n                    that._current.removeClass(FOCUSED).removeAttr(ID);\n                    that.trigger(DEACTIVATE);\n                }\n                hasCandidate = !!candidate[0];\n                if (hasCandidate) {\n                    candidate.addClass(FOCUSED);\n                    that.scroll(candidate);\n                    candidate.attr('id', id);\n                }\n                that._current = hasCandidate ? candidate : null;\n                that.trigger(ACTIVATE);\n            },\n            focusIndex: function () {\n                return this.focus() ? this.focus().index() : undefined;\n            },\n            skipUpdate: function (skipUpdate) {\n                this._skipUpdate = skipUpdate;\n            },\n            select: function (indices) {\n                var that = this;\n                var selectable = that.options.selectable;\n                var singleSelection = selectable !== 'multiple' && selectable !== false;\n                var selectedIndices = that._selectedIndices;\n                var uiSelectedIndices = [this.element.find('.k-selected').index()];\n                var added = [];\n                var removed = [];\n                var result;\n                if (indices === undefined) {\n                    return selectedIndices.slice();\n                }\n                indices = that._get(indices);\n                if (indices.length === 1 && indices[0] === -1) {\n                    indices = [];\n                }\n                var deferred = $.Deferred().resolve();\n                var filtered = that.isFiltered();\n                if (filtered && !singleSelection && that._deselectFiltered(indices)) {\n                    return deferred;\n                }\n                if (singleSelection && !filtered && $.inArray(last(indices), selectedIndices) !== -1 && $.inArray(last(indices), uiSelectedIndices) !== -1) {\n                    if (that._dataItems.length && that._view.length) {\n                        that._dataItems = [that._view[selectedIndices[0]].item];\n                    }\n                    return deferred;\n                }\n                result = that._deselect(indices);\n                removed = result.removed;\n                indices = result.indices;\n                if (indices.length) {\n                    if (singleSelection) {\n                        indices = [last(indices)];\n                    }\n                    added = that._select(indices);\n                }\n                if (added.length || removed.length) {\n                    that._valueComparer = null;\n                    that.trigger(CHANGE, {\n                        added: added,\n                        removed: removed\n                    });\n                }\n                return deferred;\n            },\n            removeAt: function (position) {\n                this._selectedIndices.splice(position, 1);\n                this._values.splice(position, 1);\n                this._valueComparer = null;\n                return {\n                    position: position,\n                    dataItem: this._dataItems.splice(position, 1)[0]\n                };\n            },\n            setValue: function (value) {\n                value = Array.isArray(value) || value instanceof ObservableArray ? value.slice(0) : [value];\n                this._values = value;\n                this._valueComparer = null;\n            },\n            value: function (value) {\n                var that = this;\n                var deferred = that._valueDeferred;\n                var indices;\n                if (value === undefined) {\n                    return that._values.slice();\n                }\n                that.setValue(value);\n                if (!deferred || deferred.state() === 'resolved') {\n                    that._valueDeferred = deferred = $.Deferred();\n                }\n                if (that.bound()) {\n                    indices = that._valueIndices(that._values);\n                    if (that.options.selectable === 'multiple') {\n                        that.select(-1);\n                    }\n                    that.select(indices);\n                    deferred.resolve();\n                }\n                that._skipUpdate = false;\n                return deferred;\n            },\n            items: function () {\n                return this.element.children(ITEMSELECTOR);\n            },\n            _click: function (e) {\n                if (this._touchTriggered) {\n                    this._touchTriggered = false;\n                    return;\n                }\n                if (!e.isDefaultPrevented()) {\n                    this._triggerClick(e.currentTarget);\n                }\n            },\n            _triggerClick: function (item) {\n                if (!this.trigger(CLICK, { item: $(item) })) {\n                    this.select(item);\n                }\n            },\n            _valueExpr: function (type, values) {\n                var that = this;\n                var idx = 0;\n                var body;\n                var comparer;\n                var normalized = [];\n                if (!that._valueComparer || that._valueType !== type) {\n                    that._valueType = type;\n                    for (; idx < values.length; idx++) {\n                        normalized.push(unifyType(values[idx], type));\n                    }\n                    body = 'for (var idx = 0; idx < ' + normalized.length + '; idx++) {' + ' if (current === values[idx]) {' + '   return idx;' + ' }' + '} ' + 'return -1;';\n                    comparer = new Function('current', 'values', body);\n                    that._valueComparer = function (current) {\n                        return comparer(current, normalized);\n                    };\n                }\n                return that._valueComparer;\n            },\n            _dataItemPosition: function (dataItem, values) {\n                var value = this._valueGetter(dataItem);\n                var valueExpr = this._valueExpr(typeof value, values);\n                return valueExpr(value);\n            },\n            _getter: function () {\n                this._valueGetter = kendo.getter(this.options.dataValueField);\n            },\n            _deselect: function (indices) {\n                var that = this;\n                var children = that.element[0].children;\n                var selectable = that.options.selectable;\n                var selectedIndices = that._selectedIndices;\n                var dataItems = that._dataItems;\n                var values = that._values;\n                var removed = [];\n                var i = 0;\n                var j;\n                var index, selectedIndex;\n                var removedIndices = 0;\n                indices = indices.slice();\n                if (selectable === true || !indices.length) {\n                    for (; i < selectedIndices.length; i++) {\n                        $(children[selectedIndices[i]]).removeClass(KSELECTED).attr(ARIA_SELECTED, false);\n                        removed.push({\n                            position: i,\n                            dataItem: dataItems[i]\n                        });\n                    }\n                    that._values = [];\n                    that._dataItems = [];\n                    that._selectedIndices = [];\n                } else if (selectable === 'multiple') {\n                    for (; i < indices.length; i++) {\n                        index = indices[i];\n                        if (!$(children[index]).hasClass(KSELECTED)) {\n                            continue;\n                        }\n                        for (j = 0; j < selectedIndices.length; j++) {\n                            selectedIndex = selectedIndices[j];\n                            if (selectedIndex === index) {\n                                $(children[selectedIndex]).removeClass(KSELECTED).attr(ARIA_SELECTED, false);\n                                var dataItem = this._view[index].item;\n                                var position = this._dataItemPosition(dataItem, this._values);\n                                removed.push({\n                                    position: position,\n                                    dataItem: dataItem\n                                });\n                                dataItems.splice(j, 1);\n                                selectedIndices.splice(j, 1);\n                                indices.splice(i, 1);\n                                values.splice(j, 1);\n                                removedIndices += 1;\n                                i -= 1;\n                                j -= 1;\n                                break;\n                            }\n                        }\n                    }\n                }\n                return {\n                    indices: indices,\n                    removed: removed\n                };\n            },\n            _deselectFiltered: function (indices) {\n                var children = this.element[0].children;\n                var dataItem, index, position;\n                var removed = [];\n                var idx = 0;\n                for (; idx < indices.length; idx++) {\n                    index = indices[idx];\n                    dataItem = this._view[index].item;\n                    position = this._dataItemPosition(dataItem, this._values);\n                    if (position > -1) {\n                        removed.push(this.removeAt(position));\n                        $(children[index]).removeClass(KSELECTED);\n                    }\n                }\n                if (removed.length) {\n                    this.trigger(CHANGE, {\n                        added: [],\n                        removed: removed\n                    });\n                    return true;\n                }\n                return false;\n            },\n            _select: function (indices) {\n                var that = this;\n                var children = that.element[0].children;\n                var data = that._view;\n                var dataItem, index;\n                var added = [];\n                var idx = 0;\n                if (last(indices) !== -1) {\n                    that.focus(indices);\n                }\n                for (; idx < indices.length; idx++) {\n                    index = indices[idx];\n                    dataItem = data[index];\n                    if (index === -1 || !dataItem) {\n                        continue;\n                    }\n                    dataItem = dataItem.item;\n                    that._selectedIndices.push(index);\n                    that._dataItems.push(dataItem);\n                    that._values.push(that._valueGetter(dataItem));\n                    $(children[index]).addClass(KSELECTED).attr(ARIA_SELECTED, true);\n                    added.push({ dataItem: dataItem });\n                }\n                return added;\n            },\n            getElementIndex: function (element) {\n                return $(element).data('offset-index');\n            },\n            _get: function (candidate) {\n                if (typeof candidate === 'number') {\n                    candidate = [candidate];\n                } else if (!isArray(candidate)) {\n                    candidate = this.getElementIndex(candidate);\n                    candidate = [candidate !== undefined ? candidate : -1];\n                }\n                return candidate;\n            },\n            _template: function () {\n                var that = this;\n                var options = that.options;\n                var template = options.template;\n                if (!template) {\n                    template = kendo.template('<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-list-item\"><span class=\"k-list-item-text\">${' + kendo.expr(options.dataTextField, 'data') + '}</span></li>', { useWithBlock: false });\n                } else {\n                    template = kendo.template(template);\n                    template = function (data) {\n                        return '<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-list-item\">' + template(data) + '</li>';\n                    };\n                }\n                return template;\n            },\n            _templates: function () {\n                var template;\n                var options = this.options;\n                var templates = {\n                    template: options.template,\n                    groupTemplate: options.groupTemplate,\n                    fixedGroupTemplate: options.fixedGroupTemplate\n                };\n                if (options.columns) {\n                    for (var i = 0; i < options.columns.length; i++) {\n                        var currentColumn = options.columns[i];\n                        var templateText = currentColumn.field ? currentColumn.field.toString() : TEXT;\n                        templates['column' + i] = currentColumn.template || '#: ' + templateText + '#';\n                    }\n                }\n                for (var key in templates) {\n                    template = templates[key];\n                    if (template && typeof template !== 'function') {\n                        templates[key] = kendo.template(template);\n                    }\n                }\n                this.templates = templates;\n            },\n            _normalizeIndices: function (indices) {\n                var newIndices = [];\n                var idx = 0;\n                for (; idx < indices.length; idx++) {\n                    if (indices[idx] !== undefined) {\n                        newIndices.push(indices[idx]);\n                    }\n                }\n                return newIndices;\n            },\n            _valueIndices: function (values, indices) {\n                var data = this._view;\n                var idx = 0;\n                var index;\n                indices = indices ? indices.slice() : [];\n                if (!values.length) {\n                    return [];\n                }\n                for (; idx < data.length; idx++) {\n                    index = this._dataItemPosition(data[idx].item, values);\n                    if (index !== -1) {\n                        indices[index] = idx;\n                    }\n                }\n                return this._normalizeIndices(indices);\n            },\n            _firstVisibleItem: function () {\n                var element = this.element[0];\n                var content = this.content[0];\n                var scrollTop = content.scrollTop;\n                var itemHeight = $(element.children[0]).height();\n                var itemIndex = Math.floor(scrollTop / itemHeight) || 0;\n                var item = element.children[itemIndex] || element.lastChild;\n                var forward = item.offsetTop < scrollTop;\n                while (item) {\n                    if (forward) {\n                        if (item.offsetTop + itemHeight > scrollTop || !item.nextSibling) {\n                            break;\n                        }\n                        item = item.nextSibling;\n                    } else {\n                        if (item.offsetTop <= scrollTop || !item.previousSibling) {\n                            break;\n                        }\n                        item = item.previousSibling;\n                    }\n                }\n                return this._view[$(item).data('offset-index')];\n            },\n            _fixedHeader: function () {\n                if (this.isGrouped() && this.templates.fixedGroupTemplate) {\n                    if (this.header.closest(GROUP_ROW_SEL).length) {\n                        this.header.closest(GROUP_ROW_SEL).show();\n                    } else {\n                        this.header.show();\n                    }\n                    this.content.scroll(this._onScroll);\n                } else {\n                    if (this.header.closest(GROUP_ROW_SEL).length) {\n                        this.header.closest(GROUP_ROW_SEL).hide();\n                    } else {\n                        this.header.hide();\n                    }\n                    this.content.off('scroll', this._onScroll);\n                }\n            },\n            _renderHeader: function () {\n                var template = this.templates.fixedGroupTemplate;\n                if (!template) {\n                    return;\n                }\n                var visibleItem = this._firstVisibleItem();\n                if (visibleItem && visibleItem.group.toString().length) {\n                    this.header.html(template(visibleItem.group));\n                }\n            },\n            _renderItem: function (context) {\n                var item = '<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" ';\n                var dataItem = context.item;\n                var notFirstItem = context.index !== 0;\n                var selected = context.selected;\n                var isGrouped = this.isGrouped();\n                var hasColumns = this.options.columns && this.options.columns.length;\n                var altRow = context.index % 2 === 1 ? ' k-table-alt-row' : '';\n                if (hasColumns) {\n                    item += 'class=\"k-table-row' + altRow;\n                } else {\n                    item += 'class=\"k-list-item';\n                }\n                if (notFirstItem && context.newGroup) {\n                    item += ' k-first';\n                }\n                if (context.isLastGroupedItem && hasColumns) {\n                    item += ' k-last';\n                }\n                if (selected) {\n                    item += ' k-selected';\n                }\n                item += '\" aria-selected=\"' + (selected ? 'true' : 'false') + '\" data-offset-index=\"' + context.index + '\">';\n                if (hasColumns) {\n                    item += this._renderColumns(dataItem);\n                } else {\n                    item += '<span class=\"k-list-item-text\">';\n                    item += this.templates.template(dataItem);\n                    item += '</span>';\n                }\n                if (notFirstItem && context.newGroup) {\n                    if (hasColumns) {\n                        item += '<span class=\"k-table-td k-table-group-td\"><span>' + this.templates.groupTemplate(context.group) + '</span></span>';\n                    } else {\n                        item += '<div class=\"k-list-item-group-label\">' + this.templates.groupTemplate(context.group) + '</div>';\n                    }\n                } else if (isGrouped && hasColumns) {\n                    item += '<span class=\"k-table-td k-table-spacer-td\"></span>';\n                }\n                return item + '</li>';\n            },\n            _renderColumns: function (dataItem) {\n                var item = '';\n                for (var i = 0; i < this.options.columns.length; i++) {\n                    var currentWidth = this.options.columns[i].width;\n                    var currentWidthInt = parseInt(currentWidth, 10);\n                    var widthStyle = '';\n                    if (currentWidth && !isNaN(currentWidthInt)) {\n                        widthStyle += 'style=\\'width:';\n                        widthStyle += currentWidthInt;\n                        widthStyle += percentageUnitsRegex.test(currentWidth) ? '%' : 'px';\n                        widthStyle += ';\\'';\n                    }\n                    item += '<span class=\\'k-table-td\\' ' + widthStyle + '>';\n                    item += this.templates['column' + i](dataItem);\n                    item += '</span>';\n                }\n                return item;\n            },\n            _render: function () {\n                var html = '';\n                var i = 0;\n                var idx = 0;\n                var context;\n                var dataContext = [];\n                var view = this.dataSource.view();\n                var values = this.value();\n                var group, newGroup, j;\n                var isGrouped = this.isGrouped();\n                if (isGrouped) {\n                    for (i = 0; i < view.length; i++) {\n                        group = view[i];\n                        newGroup = true;\n                        for (j = 0; j < group.items.length; j++) {\n                            context = {\n                                selected: this._selected(group.items[j], values),\n                                item: group.items[j],\n                                group: group.value,\n                                newGroup: newGroup,\n                                isLastGroupedItem: j === group.items.length - 1,\n                                index: idx\n                            };\n                            dataContext[idx] = context;\n                            idx += 1;\n                            html += this._renderItem(context);\n                            newGroup = false;\n                        }\n                    }\n                } else {\n                    for (i = 0; i < view.length; i++) {\n                        context = {\n                            selected: this._selected(view[i], values),\n                            item: view[i],\n                            index: i\n                        };\n                        dataContext[i] = context;\n                        html += this._renderItem(context);\n                    }\n                }\n                this._view = dataContext;\n                this.element[0].innerHTML = html;\n                if (isGrouped && dataContext.length) {\n                    this._renderHeader();\n                }\n            },\n            _selected: function (dataItem, values) {\n                var select = !this.isFiltered() || this.options.selectable === 'multiple';\n                return select && this._dataItemPosition(dataItem, values) !== -1;\n            },\n            setDSFilter: function (filter) {\n                this._lastDSFilter = extend({}, filter);\n            },\n            isFiltered: function () {\n                if (!this._lastDSFilter) {\n                    this.setDSFilter(this.dataSource.filter());\n                }\n                return !kendo.data.Query.compareFilters(this.dataSource.filter(), this._lastDSFilter);\n            },\n            refresh: function (e) {\n                var that = this;\n                var action = e && e.action;\n                var skipUpdateOnBind = that.options.skipUpdateOnBind;\n                var isItemChange = action === 'itemchange';\n                var result;\n                that.trigger(DATA_BINDING);\n                that._angularItems('cleanup');\n                that._fixedHeader();\n                that._render();\n                that.bound(true);\n                if (isItemChange || action === 'remove') {\n                    result = mapChangedItems(that._dataItems, e.items);\n                    if (result.changed.length) {\n                        if (isItemChange) {\n                            that.trigger(SELECTED_ITEM_CHANGE, { items: result.changed });\n                        } else {\n                            that.value(that._getValues(result.unchanged));\n                        }\n                    }\n                } else if (that.isFiltered() || that._skipUpdate || that._emptySearch) {\n                    that.focus(0);\n                    if (that._skipUpdate) {\n                        that._skipUpdate = false;\n                        that._selectedIndices = that._valueIndices(that._values, that._selectedIndices);\n                    }\n                } else if (!skipUpdateOnBind && (!action || action === 'add')) {\n                    that.value(that._values);\n                }\n                if (that._valueDeferred) {\n                    that._valueDeferred.resolve();\n                }\n                that._angularItems('compile');\n                that.trigger(DATA_BOUND);\n            },\n            bound: function (bound) {\n                if (bound === undefined) {\n                    return this._bound;\n                }\n                this._bound = bound;\n            },\n            isGrouped: function () {\n                return (this.dataSource.group() || []).length;\n            }\n        });\n        ui.plugin(StaticList);\n        function last(list) {\n            return list[list.length - 1];\n        }\n        function getSelectedOption(select) {\n            var index = select.selectedIndex;\n            return index > -1 ? select.options[index] : {};\n        }\n        function mapChangedItems(selected, itemsToMatch) {\n            var itemsLength = itemsToMatch.length;\n            var selectedLength = selected.length;\n            var dataItem;\n            var found;\n            var i, j;\n            var changed = [];\n            var unchanged = [];\n            if (selectedLength) {\n                for (i = 0; i < selectedLength; i++) {\n                    dataItem = selected[i];\n                    found = false;\n                    for (j = 0; j < itemsLength; j++) {\n                        if (dataItem === itemsToMatch[j]) {\n                            found = true;\n                            changed.push({\n                                index: i,\n                                item: dataItem\n                            });\n                            break;\n                        }\n                    }\n                    if (!found) {\n                        unchanged.push(dataItem);\n                    }\n                }\n            }\n            return {\n                changed: changed,\n                unchanged: unchanged\n            };\n        }\n        function isValidFilterExpr(expression) {\n            if (!expression || $.isEmptyObject(expression)) {\n                return false;\n            }\n            if (expression.filters && !expression.filters.length) {\n                return false;\n            }\n            return true;\n        }\n        function removeFiltersForField(expression, field) {\n            var filters;\n            var found = false;\n            if (expression.filters) {\n                filters = $.grep(expression.filters, function (filter) {\n                    found = removeFiltersForField(filter, field);\n                    if (filter.filters) {\n                        return filter.filters.length;\n                    } else {\n                        return filter.field != field;\n                    }\n                });\n                if (!found && expression.filters.length !== filters.length) {\n                    found = true;\n                }\n                expression.filters = filters;\n            }\n            return found;\n        }\n        kendo.cssProperties.registerPrefix('List', 'k-list-');\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}