{"version":3,"sources":["kendo.toolbar.js"],"names":["f","define","$","undefined","toggleActive","e","target","is","toggleClass","STATE_ACTIVE","type","actionSheetWrap","element","hasClass","closest","addClass","wrap","parent","preventClick","length","preventDefault","findFocusableSibling","dir","getSibling","NEXT","fn","next","prev","getter","first","last","candidate","call","DOT","OVERFLOW_ANCHOR","find","components","Item","Button","ToolBarButton","OverflowButton","ButtonGroup","ToolBarButtonGroup","OverflowButtonGroup","ToolBarMenuButton","ToolBarSplitButton","OverflowSplitButton","ToolBarSeparator","OverflowSeparator","ToolBarSpacer","TemplateItem","OverflowTemplateItem","Group","ToolBar","kendo","window","Class","Widget","ui","proxy","isFunction","keys","outerWidth","_outerWidth","ns","TOOLBAR","KBUTTON","BUTTON_DEFAULTS","OVERFLOW_BUTTON","TOGGLE_BUTTON","BUTTON_GROUP","SPLIT_BUTTON","SPLIT_BUTTON_ARROW","LIST_CONTAINER","ICON_BUTTON","KSEPARATOR","SPACER_CLASS","POPUP","RESIZABLE_TOOLBAR","STATE_DISABLED","STATE_HIDDEN","HIDDEN","GROUP_START","GROUP_END","MENU_LINK","OVERFLOW_GROUP","OVERFLOW_HIDDEN","OVERFLOW_CONTAINER","OVERFLOW_WRAPPER","FIRST_TOOLBAR_VISIBLE","LAST_TOOLBAR_VISIBLE","BUTTON_ROUNDED_MD","MENU_GROUP","ARIA_DISABLED","ARIA_PRESSED","CLICK","TOGGLE","OPEN","CLOSE","FOCUS","FOCUSIN","KEYDOWN","TAP","SPACER","BOTH","PRIMARY","HREF","ROLE","BUTTON","SEPARATOR","OVERFLOW","PREV","TABINDEX","TEMPLATE","OVERFLOW_OPEN","OVERFLOW_CLOSE","OVERFLOW_NEVER","OVERFLOW_AUTO","OVERFLOW_ALWAYS","OPTION_LIST_SUFFIX","KENDO_UID_ATTR","attr","POPUP_ITEM_TEMPLATE","MENU_LINK_SPAN","MENU_LINK_A","EMPTY","NOTHING","COMMA","ID","toolbar","overflowAnchor","overflowContainer","registerComponent","name","overflow","extend","addOverflowAttr","this","options","addUidAttr","uid","addIdAttr","id","addOverflowIdAttr","attributes","classes","show","removeClass","hidden","hide","overflowHidden","remove","enable","isEnabled","twin","splitContainerId","data","resizable","popup","init","useButtonTag","primary","themeColor","togglable","toggle","selected","url","mobile","group","addToGroup","click","clickHandler","toggleHandler","showIcon","showText","state","propagate","select","getParentGroup","isChild","align","text","html","icon","spriteCssClass","imageUrl","renderButton","button","_wrap","createButtons","buttonConstructor","item","i","items","buttons","guid","appendTo","refresh","children","filter","buttonGroup","img","span","template","href","prependTo","mainButton","arrowButton","popupElement","removeAttr","createMenuButtons","createPopup","_navigatable","main","splitButton","kendoPopup","that","on","li","keyCode","ESC","TAB","altKey","UP","focus","DOWN","trigger","SPACEBAR","ENTER","userEvents","HOME","END","menuButtons","rootUid","anchor","isRtl","_isRtl","copyAnchorStyles","animation","open","isDefaultPrevented","adjustPopupWidth","sender","activate","close","width","computedWidth","css","fontFamily","min-width","off","destroy","visible","separator","jQuery","add","index","inArray","splice","tmp","wrapper","support","_groups","isMobile","effects","_renderOverflow","overflowUserEvents","UserEvents","threshold","allowSelection","tap","_toggleOverflow","_resizeHandler","onResize","resize","_shrink","innerWidth","document","documentElement","_buttonClick","press","release","_toggleOverflowAnchor","notify","events","groupName","each","idx","unbindResize","tool","overflowTool","component","itemClasses","overflowTemplate","container","angular","elements","get","_getItem","toolbarItem","overflowItem","isResizable","buttonGroupInstance","getSelectedFromGroup","checked","horizontalDirection","append","Popup","origin","position","parseFloat","innerHeight","isComplexTool","hasVisibleChildren","paddingEnd","visibility","splitContainer","handler","eventData","urlTarget","isSplitButtonArrow","_toggle","parents","ev","_keydown","lastHasFocus","firstHasFocus","isOnlyOverflowAnchor","lastItemNotOverflowAnchor","isFirstTool","prevFocusable","isOverflowAnchor","direction","parentsUntil","not","shiftKey","_getPrevFocusable","_preventNextFocus","activeElement","eq","RIGHT","_getNextElement","LEFT","itemIndex","parentElement","startIndex","directionNumber","searchIndex","focusableItem","elementToFocus","prevElement","prevElements","prevAll","_resize","containerWidth","_stretch","_markVisibles","_childrenWidth","childrenWidth","Math","ceil","commandElement","visibleCommands","_hideItem","hiddenCommands","_showItem","itemOuterWidth","overflowItems","toolbarItems","visibleOverflowItems","visibleToolbarItems","plugin","amd","a1","a2","a3"],"mappings":"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","file":"kendo.toolbar.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('kendo.toolbar', [\n        'kendo.core',\n        'kendo.userevents',\n        'kendo.popup',\n        'kendo.html.button'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'toolbar',\n        name: 'ToolBar',\n        category: 'web',\n        description: 'The ToolBar widget displays one or more command buttons divided into groups.',\n        depends: [\n            'core',\n            'html.button'\n        ]\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, Class = kendo.Class, Widget = kendo.ui.Widget, proxy = $.proxy, isFunction = kendo.isFunction, keys = kendo.keys, outerWidth = kendo._outerWidth, ns = '.kendoToolBar', TOOLBAR = 'k-toolbar', KBUTTON = 'k-button', BUTTON_DEFAULTS = 'k-button-md k-rounded-md k-button-solid k-button-solid-base', OVERFLOW_BUTTON = 'k-overflow-button', TOGGLE_BUTTON = 'k-toggle-button', BUTTON_GROUP = 'k-button-group', SPLIT_BUTTON = 'k-split-button', SPLIT_BUTTON_ARROW = 'k-split-button-arrow', LIST_CONTAINER = 'k-list-container k-split-container', ICON_BUTTON = 'k-icon-button', KSEPARATOR = 'k-separator', SPACER_CLASS = 'k-spacer', POPUP = 'k-popup', RESIZABLE_TOOLBAR = 'k-toolbar-resizable', STATE_ACTIVE = 'k-active', STATE_DISABLED = 'k-disabled', STATE_HIDDEN = 'k-state-hidden', HIDDEN = 'k-hidden', GROUP_START = 'k-group-start', GROUP_END = 'k-group-end', MENU_LINK = 'k-menu-link', OVERFLOW_GROUP = 'k-overflow-group', OVERFLOW_HIDDEN = 'k-overflow-hidden', OVERFLOW_ANCHOR = 'k-overflow-anchor', OVERFLOW_CONTAINER = 'k-overflow-container', OVERFLOW_WRAPPER = 'k-overflow-wrapper', FIRST_TOOLBAR_VISIBLE = 'k-toolbar-first-visible', LAST_TOOLBAR_VISIBLE = 'k-toolbar-last-visible', BUTTON_ROUNDED_MD = 'k-rounded-md', MENU_GROUP = 'k-group k-menu-group k-reset k-menu-group-md', ARIA_DISABLED = 'aria-disabled', ARIA_PRESSED = 'aria-pressed', CLICK = 'click', TOGGLE = 'toggle', OPEN = 'open', CLOSE = 'close', FOCUS = 'focus', FOCUSIN = 'focusin', KEYDOWN = 'keydown', TAP = 'tap', SPACER = 'spacer', BOTH = 'both', PRIMARY = 'primary', HREF = 'href', ROLE = 'role', BUTTON = 'button', SEPARATOR = 'separator', OVERFLOW = 'overflow', NEXT = 'next', PREV = 'prev', TABINDEX = 'tabindex', TEMPLATE = 'template', OVERFLOW_OPEN = 'overflowOpen', OVERFLOW_CLOSE = 'overflowClose', OVERFLOW_NEVER = 'never', OVERFLOW_AUTO = 'auto', OVERFLOW_ALWAYS = 'always', OPTION_LIST_SUFFIX = '_optionlist', KENDO_UID_ATTR = kendo.attr('uid'), POPUP_ITEM_TEMPLATE = '<li class=\"k-menu-item k-item\">', MENU_LINK_SPAN = '<span tabindex=\"0\" class=\"k-link k-menu-link\">' + '<span class=\"k-menu-link-text\">#:text#</span>' + '</span>', MENU_LINK_A = '<a href=\"#:href#\" class=\"k-link k-menu-link\">' + '<span class=\"k-menu-link-text\">#:text#</span>' + '</a>', EMPTY = ' ', NOTHING = '', DOT = '.', COMMA = ',', ID = 'id';\n        kendo.toolbar = {};\n        var components = {\n            overflowAnchor: '<div tabindex=\"0\" class=\"k-overflow-anchor k-button k-button-md k-rounded-md k-button-flat k-button-flat-base\" title=\"More tools\" role=\"button\"></div>',\n            overflowContainer: '<ul class=\"k-overflow-container k-list-container\"></ul>'\n        };\n        kendo.toolbar.registerComponent = function (name, toolbar, overflow) {\n            components[name] = {\n                toolbar: toolbar,\n                overflow: overflow\n            };\n        };\n        var Item = kendo.Class.extend({\n            addOverflowAttr: function () {\n                this.element.attr(kendo.attr(OVERFLOW), this.options.overflow || OVERFLOW_AUTO);\n            },\n            addUidAttr: function () {\n                this.element.attr(KENDO_UID_ATTR, this.options.uid);\n            },\n            addIdAttr: function () {\n                if (this.options.id) {\n                    this.element.attr(ID, this.options.id);\n                }\n            },\n            addOverflowIdAttr: function () {\n                if (this.options.id) {\n                    this.element.attr(ID, this.options.id + '_overflow');\n                }\n            },\n            attributes: function () {\n                var attributes = this.options.attributes, classes;\n                if (attributes) {\n                    if (attributes.class) {\n                        classes = attributes.class;\n                        this.element.addClass(classes);\n                        delete attributes.class;\n                    }\n                    this.element.attr(attributes);\n                    attributes.class = classes;\n                }\n            },\n            show: function () {\n                this.element.removeClass(STATE_HIDDEN);\n                this.element.removeClass(HIDDEN);\n                this.options.hidden = false;\n            },\n            hide: function () {\n                this.element.addClass(STATE_HIDDEN);\n                this.element.addClass(HIDDEN);\n                if (this.overflow && this.overflowHidden) {\n                    this.overflowHidden();\n                }\n                this.options.hidden = true;\n            },\n            remove: function () {\n                this.element.remove();\n            },\n            enable: function (isEnabled) {\n                if (isEnabled === undefined) {\n                    isEnabled = true;\n                }\n                this.element.toggleClass(STATE_DISABLED, !isEnabled);\n                this.element.attr(ARIA_DISABLED, !isEnabled);\n                this.options.enable = isEnabled;\n            },\n            twin: function () {\n                var uid = this.element.attr(KENDO_UID_ATTR);\n                if (this.overflow && this.options.splitContainerId) {\n                    return $('#' + this.options.splitContainerId).find('[' + KENDO_UID_ATTR + '=\\'' + uid + '\\']').data(this.options.type);\n                } else if (this.overflow) {\n                    return this.toolbar.element.find('[' + KENDO_UID_ATTR + '=\\'' + uid + '\\']').data(this.options.type);\n                } else if (this.toolbar.options.resizable) {\n                    return this.toolbar.popup.element.find('[' + KENDO_UID_ATTR + '=\\'' + uid + '\\']').data(this.options.type);\n                }\n            }\n        });\n        kendo.toolbar.Item = Item;\n        var Button = Item.extend({\n            init: function (options, toolbar) {\n                var element = options.useButtonTag ? $('<button></button>') : $('<a role=\"button\" href></a>');\n                this.element = element;\n                this.options = $.extend({}, this.options, options);\n                this.toolbar = toolbar;\n                this.attributes();\n                if (options.primary) {\n                    this.options.themeColor = PRIMARY;\n                }\n                if (options.togglable) {\n                    element.addClass(TOGGLE_BUTTON);\n                    this.toggle(options.selected);\n                }\n                if (options.url !== undefined && !options.useButtonTag) {\n                    element.attr(HREF, options.url);\n                    if (options.mobile) {\n                        element.attr(kendo.attr(ROLE), BUTTON);\n                    }\n                }\n                if (options.group) {\n                    element.attr(kendo.attr('group'), options.group);\n                    this.group = this.toolbar.addToGroup(this, options.group);\n                }\n                if (!options.togglable && options.click && isFunction(options.click)) {\n                    this.clickHandler = options.click;\n                }\n                if (options.togglable && options.toggle && isFunction(options.toggle)) {\n                    this.toggleHandler = options.toggle;\n                }\n            },\n            options: {\n                showIcon: BOTH,\n                showText: BOTH\n            },\n            toggle: function (state, propagate) {\n                state = !!state;\n                if (this.group && state) {\n                    this.group.select(this);\n                } else if (!this.group) {\n                    this.select(state);\n                }\n                if (propagate && this.twin()) {\n                    this.twin().toggle(state);\n                }\n            },\n            getParentGroup: function () {\n                if (this.options.isChild) {\n                    return this.element.closest(DOT + BUTTON_GROUP).data('buttonGroup');\n                }\n            }\n        });\n        kendo.toolbar.Button = Button;\n        var ToolBarButton = Button.extend({\n            init: function (options, toolbar) {\n                Button.fn.init.call(this, options, toolbar);\n                var element = this.element;\n                options = this.options;\n                element.addClass(KBUTTON);\n                this.addIdAttr();\n                if (options.align) {\n                    element.addClass('k-align-' + options.align);\n                }\n                if (!!options.text && (options.showText == 'toolbar' || options.showText == BOTH)) {\n                    if (options.mobile) {\n                        element.html('<span class=\"km-text\">' + options.text + '</span>');\n                    } else {\n                        element.html(options.text);\n                    }\n                } else if (!!options.text) {\n                    element.attr('aria-label', options.text);\n                }\n                if (options.icon || options.spriteCssClass || options.imageUrl) {\n                    if (options.showIcon !== 'toolbar' && options.showIcon !== BOTH) {\n                        options.icon = null;\n                        options.spriteCssClass = null;\n                        options.imageUrl = null;\n                    }\n                }\n                kendo.html.renderButton(element, options);\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.enable(options.enable);\n                if (options.hidden) {\n                    this.hide();\n                }\n                this.element.data({\n                    type: BUTTON,\n                    button: this\n                });\n            },\n            select: function (selected) {\n                if (selected === undefined) {\n                    selected = false;\n                }\n                if (this.options.togglable) {\n                    this.element.attr(ARIA_PRESSED, selected);\n                }\n                this.element.toggleClass(STATE_ACTIVE, selected);\n                this.options.selected = selected;\n            }\n        });\n        kendo.toolbar.ToolBarButton = ToolBarButton;\n        var OverflowButton = Button.extend({\n            init: function (options, toolbar) {\n                this.overflow = true;\n                Button.fn.init.call(this, $.extend({}, options), toolbar);\n                var element = this.element;\n                options = this.options;\n                if (!!options.text && (options.showText == OVERFLOW || options.showText == BOTH)) {\n                    if (options.mobile) {\n                        element.html('<span class=\"km-text\">' + options.text + '</span>');\n                    } else {\n                        element.html(options.text);\n                    }\n                } else if (!!options.text) {\n                    element.attr('aria-label', options.text);\n                }\n                if (options.icon || options.spriteCssClass || options.imageUrl) {\n                    if (options.showIcon !== OVERFLOW && options.showIcon !== BOTH) {\n                        options.icon = null;\n                        options.spriteCssClass = null;\n                        options.imageUrl = null;\n                    }\n                }\n                kendo.html.renderButton(element, options);\n                if (!options.isChild) {\n                    this._wrap();\n                }\n                this.addOverflowIdAttr();\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.enable(options.enable);\n                element.addClass(OVERFLOW_BUTTON + EMPTY + KBUTTON);\n                if (options.hidden) {\n                    this.hide();\n                }\n                if (options.togglable) {\n                    this.toggle(options.selected);\n                }\n                this.element.data({\n                    type: BUTTON,\n                    button: this\n                });\n            },\n            _wrap: function () {\n                this.element = this.element.wrap(POPUP_ITEM_TEMPLATE).parent();\n            },\n            overflowHidden: function () {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            },\n            select: function (selected) {\n                if (selected === undefined) {\n                    selected = false;\n                }\n                if (this.options.isChild) {\n                    this.element.toggleClass(STATE_ACTIVE, selected);\n                } else {\n                    this.element.find(DOT + KBUTTON).toggleClass(STATE_ACTIVE, selected);\n                }\n                this.options.selected = selected;\n            }\n        });\n        kendo.toolbar.OverflowButton = OverflowButton;\n        kendo.toolbar.registerComponent(BUTTON, ToolBarButton, OverflowButton);\n        var ButtonGroup = Item.extend({\n            createButtons: function (buttonConstructor) {\n                var options = this.options;\n                var items = options.buttons || [];\n                var item;\n                for (var i = 0; i < items.length; i++) {\n                    if (!items[i].uid) {\n                        items[i].uid = kendo.guid();\n                    }\n                    item = new buttonConstructor($.extend({\n                        mobile: options.mobile,\n                        isChild: true,\n                        type: BUTTON\n                    }, items[i]), this.toolbar);\n                    item.element.appendTo(this.element);\n                }\n            },\n            refresh: function () {\n                this.element.children().filter(':not(\\'.' + STATE_HIDDEN + '\\')').first().addClass(GROUP_START);\n                this.element.children().filter(':not(\\'.' + STATE_HIDDEN + '\\')').last().addClass(GROUP_END);\n            }\n        });\n        kendo.toolbar.ButtonGroup = ButtonGroup;\n        var ToolBarButtonGroup = ButtonGroup.extend({\n            init: function (options, toolbar) {\n                var element = this.element = $('<div></div>');\n                this.options = options;\n                this.toolbar = toolbar;\n                this.addIdAttr();\n                if (options.align) {\n                    element.addClass('k-align-' + options.align);\n                }\n                this.createButtons(ToolBarButton);\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.refresh();\n                element.addClass(BUTTON_GROUP);\n                this.element.data({\n                    type: 'buttonGroup',\n                    buttonGroup: this\n                });\n            }\n        });\n        kendo.toolbar.ToolBarButtonGroup = ToolBarButtonGroup;\n        var OverflowButtonGroup = ButtonGroup.extend({\n            init: function (options, toolbar) {\n                var element = this.element = $('<li></li>');\n                this.options = options;\n                this.toolbar = toolbar;\n                this.overflow = true;\n                this.addOverflowIdAttr();\n                this.createButtons(OverflowButton);\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.refresh();\n                element.addClass((options.mobile ? NOTHING : BUTTON_GROUP) + EMPTY + OVERFLOW_GROUP);\n                this.element.data({\n                    type: 'buttonGroup',\n                    buttonGroup: this\n                });\n            },\n            overflowHidden: function () {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n        kendo.toolbar.OverflowButtonGroup = OverflowButtonGroup;\n        kendo.toolbar.registerComponent('buttonGroup', ToolBarButtonGroup, OverflowButtonGroup);\n        var ToolBarMenuButton = ToolBarButton.extend({\n            init: function (options, toolbar) {\n                var element, img, span;\n                options = this.options = $.extend({}, this.options, options);\n                if (options.url !== undefined) {\n                    element = $(kendo.template(MENU_LINK_A)({\n                        href: options.url,\n                        text: options.text\n                    }));\n                } else {\n                    element = $(kendo.template(MENU_LINK_SPAN)({ text: options.text }));\n                }\n                this.element = element;\n                this.toolbar = toolbar;\n                if (options.click && isFunction(options.click)) {\n                    this.clickHandler = options.click;\n                }\n                if (options.imageUrl) {\n                    img = $('<img alt=\"icon\" class=\"k-image\" />').prependTo(element);\n                    img.attr('src', options.imageUrl);\n                } else if (options.icon) {\n                    span = $('<span></span>').prependTo(element);\n                    span.attr('class', 'k-icon k-i-' + options.icon);\n                } else if (options.spriteCssClass) {\n                    span = $('<span class=\"k-sprite\"></span>').prependTo(element);\n                    span.addClass(options.spriteCssClass);\n                }\n                this.addIdAttr();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.attributes();\n                this.enable(options.enable);\n                if (options.group) {\n                    element.attr(kendo.attr('group'), options.group);\n                    this.group = this.toolbar.addToGroup(this, options.group);\n                }\n                if (options.hidden) {\n                    this.hide();\n                }\n                this.element.data({\n                    type: BUTTON,\n                    button: this\n                });\n            }\n        });\n        kendo.toolbar.ToolBarMenuButton = ToolBarMenuButton;\n        var ToolBarSplitButton = Item.extend({\n            init: function (options, toolbar) {\n                var element = this.element = $('<div class=\"' + SPLIT_BUTTON + EMPTY + BUTTON_GROUP + EMPTY + BUTTON_ROUNDED_MD + '\" tabindex=\"0\"></div>');\n                this.options = options;\n                this.toolbar = toolbar;\n                this.mainButton = new ToolBarButton($.extend({}, options, { hidden: false }), toolbar);\n                this.arrowButton = $('<a class=\"' + KBUTTON + EMPTY + BUTTON_DEFAULTS + EMPTY + ICON_BUTTON + EMPTY + SPLIT_BUTTON_ARROW + '\"><span class=\"' + (options.mobile ? 'km-icon km-arrowdown' : 'k-icon k-i-arrow-s') + '\"></span></a>');\n                this.popupElement = $('<ul class=\"' + LIST_CONTAINER + EMPTY + MENU_GROUP + '\"></ul>');\n                this.mainButton.element.removeAttr('href tabindex').appendTo(element);\n                this.arrowButton.appendTo(element);\n                this.popupElement.appendTo(element);\n                if (options.align) {\n                    element.addClass('k-align-' + options.align);\n                }\n                if (!options.id) {\n                    options.id = options.uid;\n                }\n                element.attr(ID, options.id + '_wrapper');\n                this.addOverflowAttr();\n                this.addUidAttr();\n                this.createMenuButtons();\n                this.createPopup();\n                this._navigatable();\n                this.mainButton.main = true;\n                this.enable(options.enable);\n                if (options.hidden) {\n                    this.hide();\n                }\n                element.data({\n                    type: 'splitButton',\n                    splitButton: this,\n                    kendoPopup: this.popup\n                });\n            },\n            _navigatable: function () {\n                var that = this;\n                that.popupElement.on(KEYDOWN + ns, DOT + MENU_LINK, function (e) {\n                    var li = $(e.target).parent();\n                    e.preventDefault();\n                    if (e.keyCode === keys.ESC || e.keyCode === keys.TAB || e.altKey && e.keyCode === keys.UP) {\n                        that.toggle();\n                        that.focus();\n                    } else if (e.keyCode === keys.DOWN) {\n                        findFocusableSibling(li, NEXT).trigger(FOCUS);\n                    } else if (e.keyCode === keys.UP) {\n                        findFocusableSibling(li, PREV).trigger(FOCUS);\n                    } else if (e.keyCode === keys.SPACEBAR || e.keyCode === keys.ENTER) {\n                        that.toolbar.userEvents.trigger(TAP, { target: $(e.target) });\n                    } else if (e.keyCode === keys.HOME) {\n                        li.parent().find(':kendoFocusable').first().trigger(FOCUS);\n                    } else if (e.keyCode === keys.END) {\n                        li.parent().find(':kendoFocusable').last().trigger(FOCUS);\n                    }\n                });\n            },\n            createMenuButtons: function () {\n                var options = this.options;\n                var items = options.menuButtons;\n                var item;\n                for (var i = 0; i < items.length; i++) {\n                    item = new ToolBarMenuButton($.extend({\n                        mobile: options.mobile,\n                        type: BUTTON,\n                        click: options.click\n                    }, items[i]), this.toolbar);\n                    item.element.wrap(POPUP_ITEM_TEMPLATE).parent().appendTo(this.popupElement);\n                }\n            },\n            createPopup: function () {\n                var that = this;\n                var options = this.options;\n                var element = this.element;\n                this.popupElement.attr(ID, options.id + OPTION_LIST_SUFFIX).attr(KENDO_UID_ATTR, options.rootUid);\n                if (options.mobile) {\n                    this.popupElement = actionSheetWrap(this.popupElement);\n                }\n                this.popup = this.popupElement.kendoPopup({\n                    appendTo: options.mobile ? $(options.mobile).children('.km-pane') : null,\n                    anchor: element,\n                    isRtl: this.toolbar._isRtl,\n                    copyAnchorStyles: false,\n                    animation: options.animation,\n                    open: function (e) {\n                        var isDefaultPrevented = that.toolbar.trigger(OPEN, { target: element });\n                        if (isDefaultPrevented) {\n                            e.preventDefault();\n                            return;\n                        }\n                        that.adjustPopupWidth(e.sender);\n                    },\n                    activate: function () {\n                        this.element.find(':kendoFocusable').first().trigger(FOCUS);\n                    },\n                    close: function (e) {\n                        var isDefaultPrevented = that.toolbar.trigger(CLOSE, { target: element });\n                        if (isDefaultPrevented) {\n                            e.preventDefault();\n                        }\n                        element.trigger(FOCUS);\n                    }\n                }).data('kendoPopup');\n                this.popup.element.on(CLICK + ns, 'a.k-button', preventClick);\n            },\n            adjustPopupWidth: function (popup) {\n                var anchor = popup.options.anchor, computedWidth = outerWidth(anchor), width;\n                kendo.wrap(popup.element).addClass('k-split-wrapper');\n                if (popup.element.css('box-sizing') !== 'border-box') {\n                    width = computedWidth - (outerWidth(popup.element) - popup.element.width());\n                } else {\n                    width = computedWidth;\n                }\n                popup.element.css({\n                    fontFamily: anchor.css('font-family'),\n                    'min-width': width\n                });\n            },\n            remove: function () {\n                this.popup.element.off(CLICK + ns, 'a.k-button');\n                this.popup.destroy();\n                this.element.remove();\n            },\n            toggle: function () {\n                if (this.options.enable || this.popup.visible()) {\n                    this.popup.toggle();\n                }\n            },\n            enable: function (isEnabled) {\n                if (isEnabled === undefined) {\n                    isEnabled = true;\n                }\n                this.mainButton.enable(isEnabled);\n                this.element.toggleClass(STATE_DISABLED, !isEnabled);\n                this.element.attr(ARIA_DISABLED, !isEnabled);\n                this.options.enable = isEnabled;\n            },\n            focus: function () {\n                this.element.trigger(FOCUS);\n            },\n            hide: function () {\n                if (this.popup) {\n                    this.popup.close();\n                }\n                this.element.addClass(STATE_HIDDEN);\n                this.element.addClass(HIDDEN);\n                this.options.hidden = true;\n            },\n            show: function () {\n                this.element.removeClass(STATE_HIDDEN);\n                this.element.removeClass(HIDDEN);\n                this.options.hidden = false;\n            }\n        });\n        kendo.toolbar.ToolBarSplitButton = ToolBarSplitButton;\n        var OverflowSplitButton = Item.extend({\n            init: function (options, toolbar) {\n                var element = this.element = $('<li class=\"' + SPLIT_BUTTON + '\"></li>'), items = options.menuButtons, item, splitContainerId;\n                this.options = options;\n                this.toolbar = toolbar;\n                this.overflow = true;\n                splitContainerId = (options.id || options.uid) + OPTION_LIST_SUFFIX;\n                this.mainButton = new OverflowButton($.extend({ isChild: true }, options));\n                this.mainButton.element.appendTo(element);\n                for (var i = 0; i < items.length; i++) {\n                    item = new OverflowButton($.extend({\n                        mobile: options.mobile,\n                        type: BUTTON,\n                        splitContainerId: splitContainerId,\n                        isChild: true\n                    }, items[i], { click: options.click }), this.toolbar);\n                    item.element.appendTo(element);\n                }\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.mainButton.main = true;\n                element.data({\n                    type: 'splitButton',\n                    splitButton: this\n                });\n            },\n            overflowHidden: function () {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n        kendo.toolbar.OverflowSplitButton = OverflowSplitButton;\n        kendo.toolbar.registerComponent('splitButton', ToolBarSplitButton, OverflowSplitButton);\n        var ToolBarSeparator = Item.extend({\n            init: function (options, toolbar) {\n                var element = this.element = $('<div>&nbsp;</div>');\n                this.element = element;\n                this.options = options;\n                this.toolbar = toolbar;\n                this.attributes();\n                this.addIdAttr();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                element.addClass(KSEPARATOR);\n                element.attr(ROLE, SEPARATOR);\n                element.data({\n                    type: SEPARATOR,\n                    separator: this\n                });\n            }\n        });\n        var OverflowSeparator = Item.extend({\n            init: function (options, toolbar) {\n                var element = this.element = $('<li>&nbsp;</li>');\n                this.element = element;\n                this.options = options;\n                this.toolbar = toolbar;\n                this.overflow = true;\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowIdAttr();\n                element.addClass(KSEPARATOR);\n                element.attr(ROLE, SEPARATOR);\n                element.data({\n                    type: SEPARATOR,\n                    separator: this\n                });\n            },\n            overflowHidden: function () {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n        kendo.toolbar.registerComponent('separator', ToolBarSeparator, OverflowSeparator);\n        var ToolBarSpacer = Item.extend({\n            init: function (options, toolbar) {\n                var element = this.element = $('<div>&nbsp;</div>');\n                this.element = element;\n                this.options = options;\n                this.toolbar = toolbar;\n                element.addClass(SPACER_CLASS);\n                element.data({ type: SPACER });\n            }\n        });\n        kendo.toolbar.registerComponent(SPACER, ToolBarSpacer);\n        var TemplateItem = Item.extend({\n            init: function (template, options, toolbar) {\n                var element = isFunction(template) ? template(options) : template;\n                if (!(element instanceof jQuery)) {\n                    element = $('<div></div>').html(element);\n                } else {\n                    element = element.wrap('<div></div>').parent();\n                }\n                this.element = element;\n                this.options = options;\n                this.options.type = TEMPLATE;\n                this.toolbar = toolbar;\n                this.attributes();\n                this.addUidAttr();\n                this.addIdAttr();\n                this.addOverflowAttr();\n                element.data({\n                    type: TEMPLATE,\n                    template: this\n                });\n            }\n        });\n        kendo.toolbar.TemplateItem = TemplateItem;\n        var OverflowTemplateItem = Item.extend({\n            init: function (template, options, toolbar) {\n                var element = isFunction(template) ? $(template(options)) : $(template);\n                if (!(element instanceof jQuery)) {\n                    element = $('<li></li>').html(element);\n                } else {\n                    element = element.wrap('<li></li>').parent();\n                }\n                this.element = element;\n                this.options = options;\n                this.options.type = TEMPLATE;\n                this.toolbar = toolbar;\n                this.overflow = true;\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowIdAttr();\n                this.addOverflowAttr();\n                element.data({\n                    type: TEMPLATE,\n                    template: this\n                });\n            },\n            overflowHidden: function () {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n        kendo.toolbar.OverflowTemplateItem = OverflowTemplateItem;\n        function toggleActive(e) {\n            if (!e.target.is('.k-toggle-button')) {\n                e.target.toggleClass(STATE_ACTIVE, e.type == 'press');\n            }\n        }\n        function actionSheetWrap(element) {\n            element = $(element);\n            return element.hasClass('km-actionsheet') ? element.closest('.km-popup-wrapper') : element.addClass('km-widget km-actionsheet').wrap('<div class=\"km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup\"></div>').parent().wrap('<div class=\"km-popup-wrapper k-popup\"></div>').parent();\n        }\n        function preventClick(e) {\n            if ($(e.target).closest('a.k-button').length) {\n                e.preventDefault();\n            }\n        }\n        function findFocusableSibling(element, dir) {\n            var getSibling = dir === NEXT ? $.fn.next : $.fn.prev;\n            var getter = dir === NEXT ? $.fn.first : $.fn.last;\n            var candidate = getSibling.call(element);\n            if (!candidate.length && element.is(DOT + OVERFLOW_ANCHOR)) {\n                return element;\n            }\n            if (candidate.is(':kendoFocusable') || !candidate.length) {\n                return candidate;\n            }\n            if (candidate.find(':kendoFocusable').length) {\n                return getter.call(candidate.find(':kendoFocusable'));\n            }\n            return findFocusableSibling(candidate, dir);\n        }\n        var Group = Class.extend({\n            init: function (name) {\n                this.name = name;\n                this.buttons = [];\n            },\n            add: function (button) {\n                this.buttons[this.buttons.length] = button;\n            },\n            remove: function (button) {\n                var index = $.inArray(button, this.buttons);\n                this.buttons.splice(index, 1);\n            },\n            select: function (button) {\n                var tmp;\n                for (var i = 0; i < this.buttons.length; i++) {\n                    tmp = this.buttons[i];\n                    tmp.select(false);\n                }\n                button.select(true);\n                if (button.twin()) {\n                    button.twin().select(true);\n                }\n            }\n        });\n        var ToolBar = Widget.extend({\n            init: function (element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, options);\n                options = that.options;\n                element = that.wrapper = that.element;\n                element.addClass(TOOLBAR + ' k-widget');\n                element.attr(ROLE, 'toolbar');\n                this.uid = kendo.guid();\n                this._isRtl = kendo.support.isRtl(element);\n                this._groups = {};\n                element.attr(KENDO_UID_ATTR, this.uid);\n                that.isMobile = typeof options.mobile === 'boolean' ? options.mobile : that.element.closest('.km-root')[0];\n                that.animation = that.isMobile ? { open: { effects: 'fade' } } : {};\n                if (that.isMobile) {\n                    element.addClass('km-widget');\n                    KBUTTON = 'km-button';\n                    BUTTON_GROUP = 'km-buttongroup';\n                    STATE_ACTIVE = 'km-state-active';\n                    STATE_DISABLED = 'km-state-disabled';\n                }\n                if (options.resizable) {\n                    that._renderOverflow();\n                    element.addClass(RESIZABLE_TOOLBAR);\n                    that.overflowUserEvents = new kendo.UserEvents(that.element, {\n                        threshold: 5,\n                        allowSelection: true,\n                        filter: DOT + OVERFLOW_ANCHOR,\n                        tap: proxy(that._toggleOverflow, that)\n                    });\n                    that._resizeHandler = kendo.onResize(function () {\n                        that.resize();\n                    });\n                } else {\n                    that.popup = { element: $([]) };\n                }\n                if (options.items && options.items.length) {\n                    for (var i = 0; i < options.items.length; i++) {\n                        that.add(options.items[i]);\n                    }\n                    if (options.resizable) {\n                        that._shrink(that.element.innerWidth());\n                    }\n                }\n                that.userEvents = new kendo.UserEvents(document.documentElement, {\n                    threshold: 5,\n                    allowSelection: true,\n                    filter: '[' + KENDO_UID_ATTR + '=' + this.uid + '] a.' + KBUTTON + COMMA + EMPTY + '[' + KENDO_UID_ATTR + '=' + this.uid + '] .' + MENU_LINK + COMMA + EMPTY + '[' + KENDO_UID_ATTR + '=' + this.uid + '] .' + OVERFLOW_BUTTON,\n                    tap: proxy(that._buttonClick, that),\n                    press: toggleActive,\n                    release: toggleActive\n                });\n                that.element.on(CLICK + ns, 'a.k-button', preventClick);\n                that._navigatable();\n                if (options.resizable) {\n                    that.popup.element.on(CLICK + ns, +'a.k-button', preventClick);\n                }\n                if (options.resizable) {\n                    this._toggleOverflowAnchor();\n                }\n                kendo.notify(that);\n            },\n            events: [\n                CLICK,\n                TOGGLE,\n                OPEN,\n                CLOSE,\n                OVERFLOW_OPEN,\n                OVERFLOW_CLOSE\n            ],\n            options: {\n                name: 'ToolBar',\n                items: [],\n                resizable: true,\n                mobile: null\n            },\n            addToGroup: function (button, groupName) {\n                var group;\n                if (!this._groups[groupName]) {\n                    group = this._groups[groupName] = new Group();\n                } else {\n                    group = this._groups[groupName];\n                }\n                group.add(button);\n                return group;\n            },\n            destroy: function () {\n                var that = this;\n                that.element.find(DOT + SPLIT_BUTTON).each(function (idx, element) {\n                    $(element).data('kendoPopup').destroy();\n                });\n                that.element.off(ns, 'a.k-button');\n                that.userEvents.destroy();\n                if (that.options.resizable) {\n                    kendo.unbindResize(that._resizeHandler);\n                    that.overflowUserEvents.destroy();\n                    that.popup.element.off(ns, 'a.k-button');\n                    that.popup.destroy();\n                }\n                Widget.fn.destroy.call(that);\n            },\n            add: function (options) {\n                var component = components[options.type], template = options.template, tool, that = this, itemClasses = that.isMobile ? NOTHING : 'k-item', overflowTemplate = options.overflowTemplate, overflowTool;\n                $.extend(options, {\n                    uid: kendo.guid(),\n                    animation: that.animation,\n                    mobile: that.isMobile,\n                    rootUid: that.uid\n                });\n                if (options.menuButtons) {\n                    for (var i = 0; i < options.menuButtons.length; i++) {\n                        $.extend(options.menuButtons[i], { uid: kendo.guid() });\n                    }\n                }\n                if (template && !overflowTemplate || options.type === SPACER) {\n                    options.overflow = OVERFLOW_NEVER;\n                } else if (!options.overflow) {\n                    options.overflow = OVERFLOW_AUTO;\n                }\n                if (options.overflow !== OVERFLOW_NEVER && that.options.resizable) {\n                    if (overflowTemplate) {\n                        overflowTool = new OverflowTemplateItem(overflowTemplate, options, that);\n                    } else if (component) {\n                        overflowTool = new component.overflow(options, that);\n                        overflowTool.element.addClass(itemClasses);\n                    }\n                    if (overflowTool) {\n                        if (options.overflow === OVERFLOW_AUTO) {\n                            overflowTool.overflowHidden();\n                        }\n                        overflowTool.element.appendTo(that.popup.container);\n                        that.angular('compile', function () {\n                            return { elements: overflowTool.element.get() };\n                        });\n                    }\n                }\n                if (options.overflow !== OVERFLOW_ALWAYS) {\n                    if (template) {\n                        tool = new TemplateItem(template, options, that);\n                    } else if (component) {\n                        tool = new component.toolbar(options, that);\n                    }\n                    if (tool) {\n                        tool.element.appendTo(that.element);\n                        that.angular('compile', function () {\n                            return { elements: tool.element.get() };\n                        });\n                    }\n                }\n            },\n            _getItem: function (candidate) {\n                var element, toolbarItem, overflowItem, isResizable = this.options.resizable, type;\n                element = this.element.find(candidate);\n                if (!element.length) {\n                    element = $('.k-split-container[data-uid=' + this.uid + ']').find(candidate);\n                }\n                type = element.length ? element.data('type') : NOTHING;\n                toolbarItem = element.data(type);\n                if (toolbarItem) {\n                    if (toolbarItem.main) {\n                        element = element.parent(DOT + SPLIT_BUTTON);\n                        type = 'splitButton';\n                        toolbarItem = element.data(type);\n                    }\n                    if (isResizable) {\n                        overflowItem = toolbarItem.twin();\n                    }\n                } else if (isResizable) {\n                    element = this.popup.element.find(candidate);\n                    type = element.length ? element.data('type') : NOTHING;\n                    overflowItem = element.data(type);\n                    if (overflowItem && overflowItem.main) {\n                        element = element.parent(DOT + SPLIT_BUTTON);\n                        type = 'splitButton';\n                        overflowItem = element.data(type);\n                    }\n                }\n                return {\n                    type: type,\n                    toolbar: toolbarItem,\n                    overflow: overflowItem\n                };\n            },\n            remove: function (candidate) {\n                var item = this._getItem(candidate);\n                if (item.toolbar) {\n                    item.toolbar.remove();\n                }\n                if (item.overflow) {\n                    item.overflow.remove();\n                }\n                this.resize(true);\n            },\n            hide: function (candidate) {\n                var item = this._getItem(candidate);\n                var buttonGroupInstance;\n                if (item.toolbar) {\n                    if (item.toolbar.options.type === BUTTON && item.toolbar.options.isChild) {\n                        buttonGroupInstance = item.toolbar.getParentGroup();\n                        item.toolbar.hide();\n                        if (buttonGroupInstance) {\n                            buttonGroupInstance.refresh();\n                        }\n                    } else if (!item.toolbar.options.hidden) {\n                        item.toolbar.hide();\n                    }\n                }\n                if (item.overflow) {\n                    if (item.overflow.options.type === BUTTON && item.overflow.options.isChild) {\n                        buttonGroupInstance = item.overflow.getParentGroup();\n                        item.overflow.hide();\n                        if (buttonGroupInstance) {\n                            buttonGroupInstance.refresh();\n                        }\n                    } else if (!item.overflow.options.hidden) {\n                        item.overflow.hide();\n                    }\n                }\n                this.resize(true);\n            },\n            show: function (candidate) {\n                var item = this._getItem(candidate);\n                var buttonGroupInstance;\n                if (item.toolbar) {\n                    if (item.toolbar.options.type === BUTTON && item.toolbar.options.isChild) {\n                        buttonGroupInstance = item.toolbar.getParentGroup();\n                        item.toolbar.show();\n                        if (buttonGroupInstance) {\n                            buttonGroupInstance.refresh();\n                        }\n                    } else if (item.toolbar.options.hidden) {\n                        item.toolbar.show();\n                    }\n                }\n                if (item.overflow) {\n                    if (item.overflow.options.type === BUTTON && item.overflow.options.isChild) {\n                        buttonGroupInstance = item.overflow.getParentGroup();\n                        item.toolbar.show();\n                        if (buttonGroupInstance) {\n                            buttonGroupInstance.refresh();\n                        }\n                    } else if (item.overflow.options.hidden) {\n                        item.overflow.show();\n                    }\n                }\n                this.resize(true);\n            },\n            enable: function (element, enable) {\n                var item = this._getItem(element);\n                if (typeof enable == 'undefined') {\n                    enable = true;\n                }\n                if (item.toolbar) {\n                    item.toolbar.enable(enable);\n                }\n                if (item.overflow) {\n                    item.overflow.enable(enable);\n                }\n            },\n            getSelectedFromGroup: function (groupName) {\n                return this.element.find(DOT + TOGGLE_BUTTON + '[data-group=\\'' + groupName + '\\']').filter(DOT + STATE_ACTIVE);\n            },\n            toggle: function (button, checked) {\n                var element = $(button), item = element.data(BUTTON);\n                if (item.options.togglable) {\n                    if (checked === undefined) {\n                        checked = true;\n                    }\n                    item.toggle(checked, true);\n                }\n            },\n            _renderOverflow: function () {\n                var that = this, overflowContainer = components.overflowContainer, isRtl = that._isRtl, horizontalDirection = isRtl ? 'left' : 'right';\n                that.overflowAnchor = $(components.overflowAnchor).addClass(KBUTTON);\n                that.element.append(that.overflowAnchor);\n                if (that.isMobile) {\n                    that.overflowAnchor.append('<span class=\"km-icon km-more\"></span>');\n                    overflowContainer = actionSheetWrap(overflowContainer);\n                } else {\n                    that.overflowAnchor.append('<span class=\"k-icon k-i-more-vertical\"></span>');\n                }\n                that.popup = new kendo.ui.Popup(overflowContainer, {\n                    origin: 'bottom ' + horizontalDirection,\n                    position: 'top ' + horizontalDirection,\n                    anchor: that.overflowAnchor,\n                    isRtl: isRtl,\n                    animation: that.animation,\n                    appendTo: that.isMobile ? $(that.isMobile).children('.km-pane') : null,\n                    copyAnchorStyles: false,\n                    open: function (e) {\n                        var wrapper = kendo.wrap(that.popup.element).addClass(OVERFLOW_WRAPPER);\n                        if (!that.isMobile) {\n                            wrapper.css('margin-left', (isRtl ? -1 : 1) * ((outerWidth(wrapper) - wrapper.width()) / 2 + 1));\n                        } else {\n                            that.popup.container.css('max-height', parseFloat($('.km-content:visible').innerHeight()) - 15 + 'px');\n                        }\n                        if (that.trigger(OVERFLOW_OPEN)) {\n                            e.preventDefault();\n                        }\n                    },\n                    activate: function () {\n                        this.element.find(':kendoFocusable').first().trigger(FOCUS);\n                    },\n                    close: function (e) {\n                        if (that.trigger(OVERFLOW_CLOSE)) {\n                            e.preventDefault();\n                        }\n                        this.element.trigger(FOCUS);\n                    }\n                });\n                that.popup.element.on(KEYDOWN + ns, DOT + KBUTTON, function (e) {\n                    var target = $(e.target), li = target.parent(), isComplexTool = li.is(DOT + BUTTON_GROUP) || li.is(DOT + SPLIT_BUTTON), element;\n                    e.preventDefault();\n                    if (e.keyCode === keys.ESC || e.keyCode === keys.TAB || e.altKey && e.keyCode === keys.UP) {\n                        that._toggleOverflow();\n                        that.overflowAnchor.trigger(FOCUS);\n                    } else if (e.keyCode === keys.DOWN) {\n                        element = !isComplexTool || isComplexTool && target.is(':last-child') ? li : target;\n                        findFocusableSibling(element, NEXT).trigger(FOCUS);\n                    } else if (e.keyCode === keys.UP) {\n                        element = !isComplexTool || isComplexTool && target.is(':first-child') ? li : target;\n                        findFocusableSibling(element, PREV).trigger(FOCUS);\n                    } else if (e.keyCode === keys.SPACEBAR || e.keyCode === keys.ENTER) {\n                        that.userEvents.trigger(TAP, { target: $(e.target) });\n                        that.overflowAnchor.trigger(FOCUS);\n                    } else if (e.keyCode === keys.HOME) {\n                        li.parent().find(':kendoFocusable').first().trigger(FOCUS);\n                    } else if (e.keyCode === keys.END) {\n                        li.parent().find(':kendoFocusable').last().trigger(FOCUS);\n                    }\n                });\n                if (that.isMobile) {\n                    that.popup.container = that.popup.element.find(DOT + OVERFLOW_CONTAINER);\n                } else {\n                    that.popup.container = that.popup.element;\n                }\n                that.popup.container.attr(KENDO_UID_ATTR, this.uid);\n            },\n            _toggleOverflowAnchor: function () {\n                var hasVisibleChildren = false;\n                var paddingEnd = this._isRtl ? 'padding-left' : 'padding-right';\n                if (this.options.mobile) {\n                    hasVisibleChildren = this.popup.element.find(DOT + OVERFLOW_CONTAINER).children(':not(.' + OVERFLOW_HIDDEN + ', .' + POPUP + ')').length > 0;\n                } else {\n                    hasVisibleChildren = this.popup.element.children(':not(.' + OVERFLOW_HIDDEN + ', .' + POPUP + ')').length > 0;\n                }\n                if (hasVisibleChildren) {\n                    this.overflowAnchor.css({\n                        visibility: 'visible',\n                        width: NOTHING\n                    });\n                    this.wrapper.css(paddingEnd, this.overflowAnchor.outerWidth(true));\n                } else {\n                    this.overflowAnchor.css({\n                        visibility: 'hidden',\n                        width: '1px'\n                    });\n                    this.wrapper.css(paddingEnd, NOTHING);\n                }\n            },\n            _buttonClick: function (e) {\n                var that = this, popup, target, item, splitContainer, isSplitButtonArrow = e.target.closest(DOT + SPLIT_BUTTON_ARROW).length, handler, eventData, urlTarget;\n                e.preventDefault();\n                if (isSplitButtonArrow) {\n                    that._toggle(e);\n                    return;\n                }\n                target = $(e.target).closest(DOT + KBUTTON + COMMA + EMPTY + DOT + MENU_LINK, that.element);\n                if (target.hasClass(OVERFLOW_ANCHOR)) {\n                    return;\n                }\n                item = target.data(BUTTON);\n                if (!item && that.popup) {\n                    target = $(e.target).closest(DOT + OVERFLOW_BUTTON, that.popup.container);\n                    item = target.parent('li').data(BUTTON);\n                }\n                if (!item || !item.options.enable) {\n                    return;\n                }\n                if (item.options.togglable) {\n                    handler = isFunction(item.toggleHandler) ? item.toggleHandler : null;\n                    item.toggle(!item.options.selected, true);\n                    eventData = {\n                        target: target,\n                        group: item.options.group,\n                        checked: item.options.selected,\n                        id: item.options.id,\n                        item: item\n                    };\n                    if (handler) {\n                        handler.call(that, eventData);\n                    }\n                    that.trigger(TOGGLE, eventData);\n                } else {\n                    handler = isFunction(item.clickHandler) ? item.clickHandler : null;\n                    eventData = {\n                        sender: that,\n                        target: target,\n                        id: item.options.id,\n                        item: item\n                    };\n                    if (handler) {\n                        handler.call(that, eventData);\n                    }\n                    that.trigger(CLICK, eventData);\n                }\n                if (item.options.url) {\n                    if (item.options.attributes && item.options.attributes.target) {\n                        urlTarget = item.options.attributes.target;\n                    }\n                    window.open(item.options.url, urlTarget || '_self');\n                }\n                if (target.hasClass(OVERFLOW_BUTTON)) {\n                    that.popup.close();\n                }\n                splitContainer = target.closest('.k-split-container');\n                if (splitContainer[0]) {\n                    popup = splitContainer.data('kendoPopup');\n                    (popup ? popup : splitContainer.parents('.km-popup-wrapper').data('kendoPopup')).close();\n                }\n            },\n            _navigatable: function () {\n                var that = this;\n                that.element.attr(TABINDEX, 0).on(FOCUSIN + ns, function (ev) {\n                    var target = $(ev.target);\n                    var element = $(this).find(':kendoFocusable').first();\n                    if (!target.is(DOT + TOOLBAR) || element.length === 0) {\n                        return;\n                    }\n                    if (element.is(DOT + OVERFLOW_ANCHOR)) {\n                        element = findFocusableSibling(element, NEXT);\n                    }\n                    if (element.length) {\n                        element[0].focus();\n                    }\n                }).on(KEYDOWN + ns, proxy(that._keydown, that));\n            },\n            _keydown: function (e) {\n                var target = $(e.target), keyCode = e.keyCode, items = this.element.children(':not(.k-separator):visible'), direction = this._isRtl ? -1 : 1;\n                if (keyCode === keys.TAB) {\n                    var element = target.parentsUntil(this.element).last(), lastHasFocus = false, firstHasFocus = false, isOnlyOverflowAnchor = false;\n                    if (!items.not(DOT + OVERFLOW_ANCHOR).length) {\n                        isOnlyOverflowAnchor = true;\n                    }\n                    if (!element.length) {\n                        element = target;\n                    }\n                    if (element.is(DOT + OVERFLOW_ANCHOR) && !isOnlyOverflowAnchor) {\n                        var lastItemNotOverflowAnchor = items.last();\n                        if (e.shiftKey) {\n                            e.preventDefault();\n                        }\n                        if (lastItemNotOverflowAnchor.is(':kendoFocusable')) {\n                            items.last().trigger(FOCUS);\n                        } else {\n                            items.last().find(':kendoFocusable').last().trigger(FOCUS);\n                        }\n                    }\n                    if (!e.shiftKey && items.index(element) === items.length - 1) {\n                        if (element.is(DOT + BUTTON_GROUP)) {\n                            lastHasFocus = target.is(':last-child');\n                        } else {\n                            lastHasFocus = true;\n                        }\n                    }\n                    var isFirstTool = items.index(element) === items.not('.k-overflow-anchor').first().index();\n                    if (e.shiftKey && isFirstTool) {\n                        if (element.is(DOT + BUTTON_GROUP)) {\n                            firstHasFocus = target.is(':first-child');\n                        } else {\n                            firstHasFocus = true;\n                        }\n                    }\n                    if (lastHasFocus && this.overflowAnchor && this.overflowAnchor.css('visibility') !== 'hidden' && !isOnlyOverflowAnchor) {\n                        e.preventDefault();\n                        this.overflowAnchor.trigger(FOCUS);\n                    }\n                    if (firstHasFocus || isOnlyOverflowAnchor && e.shiftKey) {\n                        e.preventDefault();\n                        var prevFocusable = this._getPrevFocusable(this.wrapper);\n                        if (prevFocusable) {\n                            prevFocusable.trigger(FOCUS);\n                        }\n                    }\n                    this._preventNextFocus = false;\n                }\n                if (e.altKey && keyCode === keys.DOWN) {\n                    var splitButton = $(document.activeElement).data('splitButton');\n                    var isOverflowAnchor = $(document.activeElement).is(DOT + OVERFLOW_ANCHOR);\n                    if (splitButton) {\n                        splitButton.toggle();\n                    } else if (isOverflowAnchor) {\n                        this._toggleOverflow();\n                    }\n                    return;\n                }\n                if ((keyCode === keys.SPACEBAR || keyCode === keys.ENTER) && !target.is('input, checkbox')) {\n                    if (keyCode === keys.SPACEBAR) {\n                        e.preventDefault();\n                    }\n                    if (target.is(DOT + SPLIT_BUTTON)) {\n                        target = target.children().first();\n                        this.userEvents.trigger(TAP, { target: target });\n                    } else if (keyCode === keys.SPACEBAR) {\n                        this.userEvents.trigger(TAP, { target: target });\n                    }\n                    return;\n                }\n                if (keyCode === keys.HOME) {\n                    if (target.is('.k-dropdown') || target.is('input')) {\n                        return;\n                    }\n                    if (this.overflowAnchor) {\n                        items.eq(1).trigger(FOCUS);\n                    } else {\n                        items.first().trigger(FOCUS);\n                    }\n                    e.preventDefault();\n                } else if (keyCode === keys.END) {\n                    if (target.is('.k-dropdown') || target.is('input')) {\n                        return;\n                    }\n                    if (this.overflowAnchor && $(this.overflowAnchor).css('visibility') != 'hidden') {\n                        this.overflowAnchor.trigger(FOCUS);\n                    } else {\n                        items.last().trigger(FOCUS);\n                    }\n                    e.preventDefault();\n                } else if (keyCode === keys.RIGHT && !this._preventNextFocus && !target.is('input, select, .k-dropdown, .k-colorpicker') && this._getNextElement(e.target, 1 * direction)) {\n                    this._getNextElement(e.target, 1 * direction).focus();\n                    e.preventDefault();\n                } else if (keyCode === keys.LEFT && !this._preventNextFocus && !target.is('input, select, .k-dropdown, .k-colorpicker') && this._getNextElement(e.target, -1 * direction)) {\n                    this._getNextElement(e.target, -1 * direction).focus();\n                    e.preventDefault();\n                }\n            },\n            _getNextElement: function (item, direction) {\n                var items = this.element.children(':not(.k-separator, .k-spacer):visible');\n                var itemIndex = items.index(item) === -1 ? items.index(item.parentElement) : items.index(item);\n                var startIndex = this.overflowAnchor ? 1 : 0;\n                var directionNumber = direction;\n                var searchIndex = direction === 1 ? items.length - 1 : startIndex;\n                var index = direction === 1 ? startIndex : items.length - 1;\n                var focusableItem = items[itemIndex + direction];\n                this._preventNextFocus = false;\n                if ($(item).closest(DOT + BUTTON_GROUP).not(DOT + SPLIT_BUTTON).length && !$(item).is(direction === 1 ? ':last-child' : ':first-child')) {\n                    return $(item).closest(DOT + BUTTON_GROUP).children()[$(item).closest(DOT + BUTTON_GROUP).children().index(item) + direction];\n                }\n                if (this.overflowAnchor && item === this.overflowAnchor[0] && direction === -1) {\n                    focusableItem = items[items.length - 1];\n                }\n                if (itemIndex === searchIndex) {\n                    focusableItem = !this.overflowAnchor || this.overflowAnchor && $(this.overflowAnchor).css('visibility') === 'hidden' ? items[index] : this.overflowAnchor;\n                }\n                while (!$(focusableItem).is(':kendoFocusable')) {\n                    if (direction === -1 && $(focusableItem).closest(DOT + BUTTON_GROUP).length) {\n                        focusableItem = $(focusableItem).children(':not(label, div)').last();\n                    } else {\n                        focusableItem = $(focusableItem).children(':not(label, div)').first();\n                    }\n                    if (!focusableItem.length) {\n                        directionNumber = directionNumber + direction;\n                        focusableItem = items[itemIndex + directionNumber];\n                        if (!focusableItem) {\n                            return this.overflowAnchor;\n                        }\n                    }\n                    if ($(focusableItem).hasClass('k-combobox')) {\n                        focusableItem = $(focusableItem).find('input');\n                    }\n                    this._preventNextFocus = $(focusableItem).closest(DOT + BUTTON_GROUP).length ? false : true;\n                }\n                return focusableItem;\n            },\n            _getPrevFocusable: function (element) {\n                if (element.is('html')) {\n                    return element;\n                }\n                var elementToFocus, prevElement, prevElements = element.prevAll();\n                prevElements.each(function () {\n                    prevElement = $(this);\n                    if (prevElement.is(':kendoFocusable')) {\n                        elementToFocus = prevElement;\n                        return false;\n                    } else if (prevElement.find(':kendoFocusable').length > 0) {\n                        elementToFocus = prevElement.find(':kendoFocusable').last();\n                        return false;\n                    }\n                });\n                if (elementToFocus) {\n                    return elementToFocus;\n                } else {\n                    return this._getPrevFocusable(element.parent());\n                }\n            },\n            _toggle: function (e) {\n                var splitButton = $(e.target).closest(DOT + SPLIT_BUTTON).data('splitButton');\n                e.preventDefault();\n                if (!splitButton.options.enable) {\n                    return;\n                }\n                splitButton.toggle();\n            },\n            _toggleOverflow: function () {\n                this.popup.toggle();\n            },\n            _resize: function (e) {\n                var containerWidth = e.width;\n                if (!this.options.resizable) {\n                    return;\n                }\n                this.popup.close();\n                this._shrink(containerWidth);\n                this._stretch(containerWidth);\n                this._markVisibles();\n                this._toggleOverflowAnchor();\n            },\n            _childrenWidth: function () {\n                var childrenWidth = 0;\n                this.element.children(':visible:not(.' + STATE_HIDDEN + COMMA + EMPTY + DOT + SPACER_CLASS + ')').each(function () {\n                    childrenWidth += outerWidth($(this), true);\n                });\n                return Math.ceil(childrenWidth);\n            },\n            _shrink: function (containerWidth) {\n                var commandElement, visibleCommands;\n                if (containerWidth < this._childrenWidth()) {\n                    visibleCommands = this.element.children(':visible:not([data-overflow=\\'never\\'], .' + OVERFLOW_ANCHOR + ')');\n                    for (var i = visibleCommands.length - 1; i >= 0; i--) {\n                        commandElement = visibleCommands.eq(i);\n                        if (containerWidth > this._childrenWidth()) {\n                            break;\n                        } else {\n                            this._hideItem(commandElement);\n                        }\n                    }\n                }\n            },\n            _stretch: function (containerWidth) {\n                var commandElement, hiddenCommands;\n                if (containerWidth > this._childrenWidth()) {\n                    hiddenCommands = this.element.children(':hidden:not(\\'.' + STATE_HIDDEN + '\\')');\n                    for (var i = 0; i < hiddenCommands.length; i++) {\n                        commandElement = hiddenCommands.eq(i);\n                        if (containerWidth < this._childrenWidth() || !this._showItem(commandElement, containerWidth)) {\n                            break;\n                        }\n                    }\n                }\n            },\n            _hideItem: function (item) {\n                item.addClass(HIDDEN);\n                if (this.popup) {\n                    this.popup.container.find('>li[data-uid=\\'' + item.data('uid') + '\\']').removeClass(OVERFLOW_HIDDEN);\n                }\n            },\n            _showItem: function (item, containerWidth) {\n                item.removeClass(HIDDEN);\n                var itemOuterWidth = outerWidth(item, true);\n                item.addClass(HIDDEN);\n                if (item.length && containerWidth > this._childrenWidth() + itemOuterWidth) {\n                    item.removeClass(HIDDEN);\n                    if (this.popup) {\n                        this.popup.container.find('>li[data-uid=\\'' + item.data('uid') + '\\']').addClass(OVERFLOW_HIDDEN);\n                    }\n                    return true;\n                }\n                return false;\n            },\n            _markVisibles: function () {\n                var overflowItems = this.popup.container.children(), toolbarItems = this.element.children(':not(.k-overflow-anchor)'), visibleOverflowItems = overflowItems.filter(':not(.k-overflow-hidden)'), visibleToolbarItems = toolbarItems.filter(':visible');\n                overflowItems.add(toolbarItems).removeClass(FIRST_TOOLBAR_VISIBLE + EMPTY + LAST_TOOLBAR_VISIBLE);\n                visibleOverflowItems.first().add(visibleToolbarItems.first()).addClass(FIRST_TOOLBAR_VISIBLE);\n                visibleOverflowItems.last().add(visibleToolbarItems.last()).addClass(LAST_TOOLBAR_VISIBLE);\n            }\n        });\n        kendo.ui.plugin(ToolBar);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}