{"version":3,"file":"kendo.ui.core.min.js","sources":["kendo.ui.core.js"],"sourcesContent":["(function(f, define) {\n    define('kendo.core',['jquery'], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"core\",\n    name: \"Core\",\n    category: \"framework\",\n    description: \"The core of the Kendo framework.\"\n};\n\nvar packageMetadata = {\n    name: '@progress/kendo-ui',\n    productName: 'Kendo UI',\n    productCodes: ['KENDOUICOMPLETE', 'KENDOUI', 'KENDOUI', 'KENDOUICOMPLETE'],\n    publishDate: 0,\n    version: '2022.3.1005'.replace(/^\\s+|\\s+$/g, ''),\n    licensingDocsUrl: 'https://docs.telerik.com/kendo-ui/intro/installation/using-license-code'\n};\n\n\n(function($, window, undefined) {\n    var kendo = window.kendo = window.kendo || { cultures: {} },\n        extend = $.extend,\n        each = $.each,\n        isArray = Array.isArray,\n        noop = $.noop,\n        math = Math,\n        Template,\n        JSON = window.JSON || {},\n        support = {},\n        percentRegExp = /%/,\n        formatRegExp = /\\{(\\d+)(:[^\\}]+)?\\}/g,\n        boxShadowRegExp = /(\\d+(?:\\.?)\\d*)px\\s*(\\d+(?:\\.?)\\d*)px\\s*(\\d+(?:\\.?)\\d*)px\\s*(\\d+)?/i,\n        numberRegExp = /^(\\+|-?)\\d+(\\.?)\\d*$/,\n        FUNCTION = \"function\",\n        STRING = \"string\",\n        NUMBER = \"number\",\n        OBJECT = \"object\",\n        NULL = \"null\",\n        BOOLEAN = \"boolean\",\n        UNDEFINED = \"undefined\",\n        PREFIX = \"prefix\",\n        ARIA_LABELLEDBY = \"aria-labelledby\",\n        ARIA_LABEL = \"aria-label\",\n        LABELIDPART = \"_label\",\n        getterCache = {},\n        setterCache = {},\n        slice = [].slice,\n        cssPropertiesNames = [ \"themeColor\", \"fillMode\", \"shape\", \"size\", \"rounded\", \"positionMode\" ],\n        // avoid extending the depricated properties in latest verions of jQuery\n        noDepricateExtend = function() {\n            var src, copyIsArray, copy, name, options, clone,\n                target = arguments[ 0 ] || {},\n                i = 1,\n                length = arguments.length,\n                deep = false;\n\n            // Handle a deep copy situation\n            if ( typeof target === \"boolean\" ) {\n                deep = target;\n\n                // skip the boolean and the target\n                target = arguments[ i ] || {};\n                i++;\n            }\n\n            // Handle case when target is a string or something (possible in deep copy)\n            if ( typeof target !== \"object\" && typeof target !== \"function\") {\n                target = {};\n            }\n\n            // extend jQuery itself if only one argument is passed\n            if ( i === length ) {\n                target = this;\n                i--;\n            }\n\n            for ( ; i < length; i++ ) {\n\n                // Only deal with non-null/undefined values\n                if ( ( options = arguments[ i ] ) != null ) {\n\n                    // Extend the base object\n                    for ( name in options ) {\n                        // filters, concat and : properties are depricated in the jQuery 3.3.0\n                        // accessing these properties throw a warning when jQuery migrate is included\n                        if (name == \"filters\" || name == \"concat\" || name == \":\") {\n                            continue;\n                        }\n                        src = target[ name ];\n                        copy = options[ name ];\n\n                        // Prevent never-ending loop\n                        if ( target === copy ) {\n                            continue;\n                        }\n\n                        // Recurse if we're merging plain objects or arrays\n                        if ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n                            ( copyIsArray = Array.isArray( copy ) ) ) ) {\n\n                            if ( copyIsArray ) {\n                                copyIsArray = false;\n                                clone = src && Array.isArray( src ) ? src : [];\n\n                            } else {\n                                clone = src && jQuery.isPlainObject( src ) ? src : {};\n                            }\n\n                            // Never move original objects, clone them\n                            target[ name ] = noDepricateExtend( deep, clone, copy );\n\n                        // Don't bring in undefined values\n                        } else if ( copy !== undefined ) {\n                            target[ name ] = copy;\n                        }\n                    }\n                }\n            }\n\n            // Return the modified object\n            return target;\n        };\n\n    kendo.version = \"2022.3.1005\".replace(/^\\s+|\\s+$/g, '');\n\n    function Class() {}\n\n    Class.extend = function(proto) {\n        var base = function() {},\n            member,\n            that = this,\n            subclass = proto && proto.init ? proto.init : function() {\n                that.apply(this, arguments);\n            },\n            fn;\n\n        base.prototype = that.prototype;\n        fn = subclass.fn = subclass.prototype = new base();\n\n        for (member in proto) {\n            if (proto[member] != null && proto[member].constructor === Object) {\n                // Merge object members\n                fn[member] = extend(true, {}, base.prototype[member], proto[member]);\n            } else {\n                fn[member] = proto[member];\n            }\n        }\n\n        fn.constructor = subclass;\n        subclass.extend = that.extend;\n\n        return subclass;\n    };\n\n    Class.prototype._initOptions = function(options) {\n        this.options = deepExtend({}, this.options, options);\n    };\n\n    var isFunction = kendo.isFunction = function(fn) {\n        return typeof fn === \"function\";\n    };\n\n    var preventDefault = function() {\n        this._defaultPrevented = true;\n    };\n\n    var isDefaultPrevented = function() {\n        return this._defaultPrevented === true;\n    };\n\n    var Observable = Class.extend({\n        init: function() {\n            this._events = {};\n        },\n\n        bind: function(eventName, handlers, one) {\n            var that = this,\n                idx,\n                eventNames = typeof eventName === STRING ? [eventName] : eventName,\n                length,\n                original,\n                handler,\n                handlersIsFunction = typeof handlers === FUNCTION,\n                events;\n\n            if (handlers === undefined) {\n                for (idx in eventName) {\n                    that.bind(idx, eventName[idx]);\n                }\n                return that;\n            }\n\n            for (idx = 0, length = eventNames.length; idx < length; idx++) {\n                eventName = eventNames[idx];\n\n                handler = handlersIsFunction ? handlers : handlers[eventName];\n\n                if (handler) {\n                    if (one) {\n                        original = handler;\n                        handler = function() {\n                            that.unbind(eventName, handler);\n                            original.apply(that, arguments);\n                        };\n                        handler.original = original;\n                    }\n                    events = that._events[eventName] = that._events[eventName] || [];\n                    events.push(handler);\n                }\n            }\n\n            return that;\n        },\n\n        one: function(eventNames, handlers) {\n            return this.bind(eventNames, handlers, true);\n        },\n\n        first: function(eventName, handlers) {\n            var that = this,\n                idx,\n                eventNames = typeof eventName === STRING ? [eventName] : eventName,\n                length,\n                handler,\n                handlersIsFunction = typeof handlers === FUNCTION,\n                events;\n\n            for (idx = 0, length = eventNames.length; idx < length; idx++) {\n                eventName = eventNames[idx];\n\n                handler = handlersIsFunction ? handlers : handlers[eventName];\n\n                if (handler) {\n                    events = that._events[eventName] = that._events[eventName] || [];\n                    events.unshift(handler);\n                }\n            }\n\n            return that;\n        },\n\n        trigger: function(eventName, e) {\n            var that = this,\n                events = that._events[eventName],\n                idx,\n                length;\n\n            if (events) {\n                e = e || {};\n\n                e.sender = that;\n\n                e._defaultPrevented = false;\n\n                e.preventDefault = preventDefault;\n\n                e.isDefaultPrevented = isDefaultPrevented;\n\n                events = events.slice();\n\n                for (idx = 0, length = events.length; idx < length; idx++) {\n                    events[idx].call(that, e);\n                }\n\n                return e._defaultPrevented === true;\n            }\n\n            return false;\n        },\n\n        unbind: function(eventName, handler) {\n            var that = this,\n                events = that._events[eventName],\n                idx;\n\n            if (eventName === undefined) {\n                that._events = {};\n            } else if (events) {\n                if (handler) {\n                    for (idx = events.length - 1; idx >= 0; idx--) {\n                        if (events[idx] === handler || events[idx].original === handler) {\n                            events.splice(idx, 1);\n                        }\n                    }\n                } else {\n                    that._events[eventName] = [];\n                }\n            }\n\n            return that;\n        }\n    });\n\n\n     function compilePart(part, stringPart) {\n         if (stringPart) {\n             return \"'\" +\n                 part.split(\"'\").join(\"\\\\'\")\n                     .split('\\\\\"').join('\\\\\\\\\\\\\"')\n                     .replace(/\\n/g, \"\\\\n\")\n                     .replace(/\\r/g, \"\\\\r\")\n                     .replace(/\\t/g, \"\\\\t\") + \"'\";\n         } else {\n             var first = part.charAt(0),\n                 rest = part.substring(1);\n\n             if (first === \"=\") {\n                 return \"+(\" + rest + \")+\";\n             } else if (first === \":\") {\n                 return \"+$kendoHtmlEncode(\" + rest + \")+\";\n             } else {\n                 return \";\" + part + \";$kendoOutput+=\";\n             }\n         }\n     }\n\n    var argumentNameRegExp = /^\\w+/,\n        encodeRegExp = /\\$\\{([^}]*)\\}/g,\n        escapedCurlyRegExp = /\\\\\\}/g,\n        curlyRegExp = /__CURLY__/g,\n        escapedSharpRegExp = /\\\\#/g,\n        sharpRegExp = /__SHARP__/g,\n        zeros = [\"\", \"0\", \"00\", \"000\", \"0000\"];\n\n    Template = {\n        paramName: \"data\", // name of the parameter of the generated template\n        useWithBlock: true, // whether to wrap the template in a with() block\n        render: function(template, data) {\n            var idx,\n                length,\n                html = \"\";\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                html += template(data[idx]);\n            }\n\n            return html;\n        },\n        compile: function(template, options) {\n            var settings = extend({}, this, options),\n                paramName = settings.paramName,\n                argumentName = paramName.match(argumentNameRegExp)[0],\n                useWithBlock = settings.useWithBlock,\n                functionBody = \"var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;\",\n                fn,\n                parts,\n                idx;\n\n            if (isFunction(template)) {\n                return template;\n            }\n\n            functionBody += useWithBlock ? \"with(\" + paramName + \"){\" : \"\";\n\n            functionBody += \"$kendoOutput=\";\n\n            parts = template\n                .replace(escapedCurlyRegExp, \"__CURLY__\")\n                .replace(encodeRegExp, \"#=$kendoHtmlEncode($1)#\")\n                .replace(curlyRegExp, \"}\")\n                .replace(escapedSharpRegExp, \"__SHARP__\")\n                .split(\"#\");\n\n            for (idx = 0; idx < parts.length; idx ++) {\n                functionBody += compilePart(parts[idx], idx % 2 === 0);\n            }\n\n            functionBody += useWithBlock ? \";}\" : \";\";\n\n            functionBody += \"return $kendoOutput;\";\n\n            functionBody = functionBody.replace(sharpRegExp, \"#\");\n\n            try {\n                fn = new Function(argumentName, functionBody);\n                fn._slotCount = Math.floor(parts.length / 2);\n                return fn;\n            } catch (e) {\n                throw new Error(kendo.format(\"Invalid template:'{0}' Generated code:'{1}'\", template, functionBody));\n            }\n        }\n    };\n\nfunction pad(number, digits, end) {\n    number = number + \"\";\n    digits = digits || 2;\n    end = digits - number.length;\n\n    if (end) {\n        return zeros[digits].substring(0, end) + number;\n    }\n\n    return number;\n}\n\n    //JSON stringify\n(function() {\n    var escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        gap,\n        indent,\n        meta = {\n            \"\\b\": \"\\\\b\",\n            \"\\t\": \"\\\\t\",\n            \"\\n\": \"\\\\n\",\n            \"\\f\": \"\\\\f\",\n            \"\\r\": \"\\\\r\",\n            \"\\\"\": '\\\\\"',\n            \"\\\\\": \"\\\\\\\\\"\n        },\n        rep,\n        toString = {}.toString;\n\n\n    if (typeof Date.prototype.toJSON !== FUNCTION) {\n\n        Date.prototype.toJSON = function() {\n            var that = this;\n\n            return isFinite(that.valueOf()) ?\n                pad(that.getUTCFullYear(), 4) + \"-\" +\n                pad(that.getUTCMonth() + 1) + \"-\" +\n                pad(that.getUTCDate()) + \"T\" +\n                pad(that.getUTCHours()) + \":\" +\n                pad(that.getUTCMinutes()) + \":\" +\n                pad(that.getUTCSeconds()) + \"Z\" : null;\n        };\n\n        String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function() {\n            return this.valueOf();\n        };\n    }\n\n    function quote(string) {\n        escapable.lastIndex = 0;\n        return escapable.test(string) ? \"\\\"\" + string.replace(escapable, function(a) {\n            var c = meta[a];\n            return typeof c === STRING ? c :\n                \"\\\\u\" + (\"0000\" + a.charCodeAt(0).toString(16)).slice(-4);\n        }) + \"\\\"\" : \"\\\"\" + string + \"\\\"\";\n    }\n\n    function str(key, holder) {\n        var i,\n            k,\n            v,\n            length,\n            mind = gap,\n            partial,\n            value = holder[key],\n            type;\n\n        if (value && typeof value === OBJECT && typeof value.toJSON === FUNCTION) {\n            value = value.toJSON(key);\n        }\n\n        if (typeof rep === FUNCTION) {\n            value = rep.call(holder, key, value);\n        }\n\n        type = typeof value;\n        if (type === STRING) {\n            return quote(value);\n        } else if (type === NUMBER) {\n            return isFinite(value) ? String(value) : NULL;\n        } else if (type === BOOLEAN || type === NULL) {\n            return String(value);\n        } else if (type === OBJECT) {\n            if (!value) {\n                return NULL;\n            }\n            gap += indent;\n            partial = [];\n            if (toString.apply(value) === \"[object Array]\") {\n                length = value.length;\n                for (i = 0; i < length; i++) {\n                    partial[i] = str(i, value) || NULL;\n                }\n                v = partial.length === 0 ? \"[]\" : gap ?\n                    \"[\\n\" + gap + partial.join(\",\\n\" + gap) + \"\\n\" + mind + \"]\" :\n                    \"[\" + partial.join(\",\") + \"]\";\n                gap = mind;\n                return v;\n            }\n            if (rep && typeof rep === OBJECT) {\n                length = rep.length;\n                for (i = 0; i < length; i++) {\n                    if (typeof rep[i] === STRING) {\n                        k = rep[i];\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? \": \" : \":\") + v);\n                        }\n                    }\n                }\n            } else {\n                for (k in value) {\n                    if (Object.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? \": \" : \":\") + v);\n                        }\n                    }\n                }\n            }\n\n            v = partial.length === 0 ? \"{}\" : gap ?\n                \"{\\n\" + gap + partial.join(\",\\n\" + gap) + \"\\n\" + mind + \"}\" :\n                \"{\" + partial.join(\",\") + \"}\";\n            gap = mind;\n            return v;\n        }\n    }\n\n    if (typeof JSON.stringify !== FUNCTION) {\n        JSON.stringify = function(value, replacer, space) {\n            var i;\n            gap = \"\";\n            indent = \"\";\n\n            if (typeof space === NUMBER) {\n                for (i = 0; i < space; i += 1) {\n                    indent += \" \";\n                }\n\n            } else if (typeof space === STRING) {\n                indent = space;\n            }\n\n            rep = replacer;\n            if (replacer && typeof replacer !== FUNCTION && (typeof replacer !== OBJECT || typeof replacer.length !== NUMBER)) {\n                throw new Error(\"JSON.stringify\");\n            }\n\n            return str(\"\", { \"\": value });\n        };\n    }\n})();\n\n// Date and Number formatting\n(function() {\n    var dateFormatRegExp = /dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|\"[^\"]*\"|'[^']*'/g,\n        standardFormatRegExp = /^(n|c|p|e)(\\d*)$/i,\n        literalRegExp = /(\\\\.)|(['][^']*[']?)|([\"][^\"]*[\"]?)/g,\n        commaRegExp = /\\,/g,\n        EMPTY = \"\",\n        POINT = \".\",\n        COMMA = \",\",\n        SHARP = \"#\",\n        ZERO = \"0\",\n        PLACEHOLDER = \"??\",\n        EN = \"en-US\",\n        objectToString = {}.toString;\n\n    //cultures\n    kendo.cultures[\"en-US\"] = {\n        name: EN,\n        numberFormat: {\n            pattern: [\"-n\"],\n            decimals: 2,\n            \",\": \",\",\n            \".\": \".\",\n            groupSize: [3],\n            percent: {\n                pattern: [\"-n %\", \"n %\"],\n                decimals: 2,\n                \",\": \",\",\n                \".\": \".\",\n                groupSize: [3],\n                symbol: \"%\"\n            },\n            currency: {\n                name: \"US Dollar\",\n                abbr: \"USD\",\n                pattern: [\"($n)\", \"$n\"],\n                decimals: 2,\n                \",\": \",\",\n                \".\": \".\",\n                groupSize: [3],\n                symbol: \"$\"\n            }\n        },\n        calendars: {\n            standard: {\n                days: {\n                    names: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n                    namesAbbr: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n                    namesShort: [ \"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\" ]\n                },\n                months: {\n                    names: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n                    namesAbbr: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n                },\n                AM: [ \"AM\", \"am\", \"AM\" ],\n                PM: [ \"PM\", \"pm\", \"PM\" ],\n                patterns: {\n                    d: \"M/d/yyyy\",\n                    D: \"dddd, MMMM dd, yyyy\",\n                    F: \"dddd, MMMM dd, yyyy h:mm:ss tt\",\n                    g: \"M/d/yyyy h:mm tt\",\n                    G: \"M/d/yyyy h:mm:ss tt\",\n                    m: \"MMMM dd\",\n                    M: \"MMMM dd\",\n                    s: \"yyyy'-'MM'-'ddTHH':'mm':'ss\",\n                    t: \"h:mm tt\",\n                    T: \"h:mm:ss tt\",\n                    u: \"yyyy'-'MM'-'dd HH':'mm':'ss'Z'\",\n                    y: \"MMMM, yyyy\",\n                    Y: \"MMMM, yyyy\"\n                },\n                \"/\": \"/\",\n                \":\": \":\",\n                firstDay: 0,\n                twoDigitYearMax: 2029\n            }\n        }\n    };\n\n\n     function findCulture(culture) {\n        if (culture) {\n            if (culture.numberFormat) {\n                return culture;\n            }\n\n            if (typeof culture === STRING) {\n                var cultures = kendo.cultures;\n                return cultures[culture] || cultures[culture.split(\"-\")[0]] || null;\n            }\n\n            return null;\n        }\n\n        return null;\n    }\n\n    function getCulture(culture) {\n        if (culture) {\n            culture = findCulture(culture);\n        }\n\n        return culture || kendo.cultures.current;\n    }\n\n    kendo.culture = function(cultureName) {\n        var cultures = kendo.cultures, culture;\n\n        if (cultureName !== undefined) {\n            culture = findCulture(cultureName) || cultures[EN];\n            culture.calendar = culture.calendars.standard;\n            cultures.current = culture;\n        } else {\n            return cultures.current;\n        }\n    };\n\n    kendo.findCulture = findCulture;\n    kendo.getCulture = getCulture;\n\n    //set current culture to en-US.\n    kendo.culture(EN);\n\n    function formatDate(date, format, culture) {\n        culture = getCulture(culture);\n\n        var calendar = culture.calendars.standard,\n            days = calendar.days,\n            months = calendar.months;\n\n        format = calendar.patterns[format] || format;\n\n        return format.replace(dateFormatRegExp, function(match) {\n            var minutes;\n            var result;\n            var sign;\n\n            if (match === \"d\") {\n                result = date.getDate();\n            } else if (match === \"dd\") {\n                result = pad(date.getDate());\n            } else if (match === \"ddd\") {\n                result = days.namesAbbr[date.getDay()];\n            } else if (match === \"dddd\") {\n                result = days.names[date.getDay()];\n            } else if (match === \"M\") {\n                result = date.getMonth() + 1;\n            } else if (match === \"MM\") {\n                result = pad(date.getMonth() + 1);\n            } else if (match === \"MMM\") {\n                result = months.namesAbbr[date.getMonth()];\n            } else if (match === \"MMMM\") {\n                result = months.names[date.getMonth()];\n            } else if (match === \"yy\") {\n                result = pad(date.getFullYear() % 100);\n            } else if (match === \"yyyy\") {\n                result = pad(date.getFullYear(), 4);\n            } else if (match === \"h\" ) {\n                result = date.getHours() % 12 || 12;\n            } else if (match === \"hh\") {\n                result = pad(date.getHours() % 12 || 12);\n            } else if (match === \"H\") {\n                result = date.getHours();\n            } else if (match === \"HH\") {\n                result = pad(date.getHours());\n            } else if (match === \"m\") {\n                result = date.getMinutes();\n            } else if (match === \"mm\") {\n                result = pad(date.getMinutes());\n            } else if (match === \"s\") {\n                result = date.getSeconds();\n            } else if (match === \"ss\") {\n                result = pad(date.getSeconds());\n            } else if (match === \"f\") {\n                result = math.floor(date.getMilliseconds() / 100);\n            } else if (match === \"ff\") {\n                result = date.getMilliseconds();\n                if (result > 99) {\n                    result = math.floor(result / 10);\n                }\n                result = pad(result);\n            } else if (match === \"fff\") {\n                result = pad(date.getMilliseconds(), 3);\n            } else if (match === \"tt\") {\n                result = date.getHours() < 12 ? calendar.AM[0] : calendar.PM[0];\n            } else if (match === \"zzz\") {\n                minutes = date.getTimezoneOffset();\n                sign = minutes < 0;\n\n                result = math.abs(minutes / 60).toString().split(\".\")[0];\n                minutes = math.abs(minutes) - (result * 60);\n\n                result = (sign ? \"+\" : \"-\") + pad(result);\n                result += \":\" + pad(minutes);\n            } else if (match === \"zz\" || match === \"z\") {\n                result = date.getTimezoneOffset() / 60;\n                sign = result < 0;\n\n                result = math.abs(result).toString().split(\".\")[0];\n                result = (sign ? \"+\" : \"-\") + (match === \"zz\" ? pad(result) : result);\n            }\n\n            return result !== undefined ? result : match.slice(1, match.length - 1);\n        });\n    }\n\n    //number formatting\n    function formatNumber(number, format, culture) {\n        culture = getCulture(culture);\n\n        var numberFormat = culture.numberFormat,\n            decimal = numberFormat[POINT],\n            precision = numberFormat.decimals,\n            pattern = numberFormat.pattern[0],\n            literals = [],\n            symbol,\n            isCurrency, isPercent,\n            customPrecision,\n            formatAndPrecision,\n            negative = number < 0,\n            integer,\n            fraction,\n            integerLength,\n            fractionLength,\n            replacement = EMPTY,\n            value = EMPTY,\n            idx,\n            length,\n            ch,\n            hasGroup,\n            hasNegativeFormat,\n            decimalIndex,\n            sharpIndex,\n            zeroIndex,\n            hasZero, hasSharp,\n            percentIndex,\n            currencyIndex,\n            startZeroIndex,\n            start = -1,\n            end;\n\n        //return empty string if no number\n        if (number === undefined) {\n            return EMPTY;\n        }\n\n        if (!isFinite(number)) {\n            return number;\n        }\n\n        //if no format then return number.toString() or number.toLocaleString() if culture.name is not defined\n        if (!format) {\n            return culture.name.length ? number.toLocaleString() : number.toString();\n        }\n\n        formatAndPrecision = standardFormatRegExp.exec(format);\n\n        // standard formatting\n        if (formatAndPrecision) {\n            format = formatAndPrecision[1].toLowerCase();\n\n            isCurrency = format === \"c\";\n            isPercent = format === \"p\";\n\n            if (isCurrency || isPercent) {\n                //get specific number format information if format is currency or percent\n                numberFormat = isCurrency ? numberFormat.currency : numberFormat.percent;\n                decimal = numberFormat[POINT];\n                precision = numberFormat.decimals;\n                symbol = numberFormat.symbol;\n                pattern = numberFormat.pattern[negative ? 0 : 1];\n            }\n\n            customPrecision = formatAndPrecision[2];\n\n            if (customPrecision) {\n                precision = +customPrecision;\n            }\n\n            //return number in exponential format\n            if (format === \"e\") {\n                var exp = customPrecision ? number.toExponential(precision) : number.toExponential(); // toExponential() and toExponential(undefined) differ in FF #653438.\n\n                return exp.replace(POINT, numberFormat[POINT]);\n            }\n\n            // multiply if format is percent\n            if (isPercent) {\n                number *= 100;\n            }\n\n            number = round(number, precision);\n            negative = number < 0;\n            number = number.split(POINT);\n\n            integer = number[0];\n            fraction = number[1];\n\n            //exclude \"-\" if number is negative.\n            if (negative) {\n                integer = integer.substring(1);\n            }\n\n            value = groupInteger(integer, 0, integer.length, numberFormat);\n\n            if (fraction) {\n                value += decimal + fraction;\n            }\n\n            if (format === \"n\" && !negative) {\n                return value;\n            }\n\n            number = EMPTY;\n\n            for (idx = 0, length = pattern.length; idx < length; idx++) {\n                ch = pattern.charAt(idx);\n\n                if (ch === \"n\") {\n                    number += value;\n                } else if (ch === \"$\" || ch === \"%\") {\n                    number += symbol;\n                } else {\n                    number += ch;\n                }\n            }\n\n            return number;\n        }\n\n        //custom formatting\n        //\n        //separate format by sections.\n\n        if (format.indexOf(\"'\") > -1 || format.indexOf(\"\\\"\") > -1 || format.indexOf(\"\\\\\") > -1) {\n            format = format.replace(literalRegExp, function(match) {\n                var quoteChar = match.charAt(0).replace(\"\\\\\", \"\"),\n                    literal = match.slice(1).replace(quoteChar, \"\");\n\n                literals.push(literal);\n\n                return PLACEHOLDER;\n            });\n        }\n\n        format = format.split(\";\");\n        if (negative && format[1]) {\n            //get negative format\n            format = format[1];\n            hasNegativeFormat = true;\n        } else if (number === 0 && format[2]) {\n            //format for zeros\n            format = format[2];\n            if (format.indexOf(SHARP) == -1 && format.indexOf(ZERO) == -1) {\n                //return format if it is string constant.\n                return format;\n            }\n        } else {\n            format = format[0];\n        }\n\n        percentIndex = format.indexOf(\"%\");\n        currencyIndex = format.indexOf(\"$\");\n\n        isPercent = percentIndex != -1;\n        isCurrency = currencyIndex != -1;\n\n        //multiply number if the format has percent\n        if (isPercent) {\n            number *= 100;\n        }\n\n        if (isCurrency && format[currencyIndex - 1] === \"\\\\\") {\n            format = format.split(\"\\\\\").join(\"\");\n            isCurrency = false;\n        }\n\n        if (isCurrency || isPercent) {\n            //get specific number format information if format is currency or percent\n            numberFormat = isCurrency ? numberFormat.currency : numberFormat.percent;\n            decimal = numberFormat[POINT];\n            precision = numberFormat.decimals;\n            symbol = numberFormat.symbol;\n        }\n\n        hasGroup = format.indexOf(COMMA) > -1;\n        if (hasGroup) {\n            format = format.replace(commaRegExp, EMPTY);\n        }\n\n        decimalIndex = format.indexOf(POINT);\n        length = format.length;\n\n        if (decimalIndex != -1) {\n            fraction = number.toString().split(\"e\");\n            if (fraction[1]) {\n                fraction = round(number, Math.abs(fraction[1]));\n            } else {\n                fraction = fraction[0];\n            }\n            fraction = fraction.split(POINT)[1] || EMPTY;\n            zeroIndex = format.lastIndexOf(ZERO) - decimalIndex;\n            sharpIndex = format.lastIndexOf(SHARP) - decimalIndex;\n            hasZero = zeroIndex > -1;\n            hasSharp = sharpIndex > -1;\n            idx = fraction.length;\n\n            if (!hasZero && !hasSharp) {\n                format = format.substring(0, decimalIndex) + format.substring(decimalIndex + 1);\n                length = format.length;\n                decimalIndex = -1;\n                idx = 0;\n            }\n\n            if (hasZero && zeroIndex > sharpIndex) {\n                idx = zeroIndex;\n            } else if (sharpIndex > zeroIndex) {\n                if (hasSharp && idx > sharpIndex) {\n                    var rounded = round(number, sharpIndex, negative);\n\n                    while (rounded.charAt(rounded.length - 1) === ZERO && sharpIndex > 0 && sharpIndex > zeroIndex) {\n                        sharpIndex--;\n\n                        rounded = round(number, sharpIndex, negative);\n                    }\n\n                    idx = sharpIndex;\n                } else if (hasZero && idx < zeroIndex) {\n                    idx = zeroIndex;\n                }\n            }\n        }\n\n        number = round(number, idx, negative);\n\n        sharpIndex = format.indexOf(SHARP);\n        startZeroIndex = zeroIndex = format.indexOf(ZERO);\n\n        //define the index of the first digit placeholder\n        if (sharpIndex == -1 && zeroIndex != -1) {\n            start = zeroIndex;\n        } else if (sharpIndex != -1 && zeroIndex == -1) {\n            start = sharpIndex;\n        } else {\n            start = sharpIndex > zeroIndex ? zeroIndex : sharpIndex;\n        }\n\n        sharpIndex = format.lastIndexOf(SHARP);\n        zeroIndex = format.lastIndexOf(ZERO);\n\n        //define the index of the last digit placeholder\n        if (sharpIndex == -1 && zeroIndex != -1) {\n            end = zeroIndex;\n        } else if (sharpIndex != -1 && zeroIndex == -1) {\n            end = sharpIndex;\n        } else {\n            end = sharpIndex > zeroIndex ? sharpIndex : zeroIndex;\n        }\n\n        if (start == length) {\n            end = start;\n        }\n\n        if (start != -1) {\n            value = number.toString().split(POINT);\n            integer = value[0];\n            fraction = value[1] || EMPTY;\n\n            integerLength = integer.length;\n            fractionLength = fraction.length;\n\n            if (negative && (number * -1) >= 0) {\n                negative = false;\n            }\n\n            number = format.substring(0, start);\n\n            if (negative && !hasNegativeFormat) {\n                number += \"-\";\n            }\n\n            for (idx = start; idx < length; idx++) {\n                ch = format.charAt(idx);\n\n                if (decimalIndex == -1) {\n                    if (end - idx < integerLength) {\n                        number += integer;\n                        break;\n                    }\n                } else {\n                    if (zeroIndex != -1 && zeroIndex < idx) {\n                        replacement = EMPTY;\n                    }\n\n                    if ((decimalIndex - idx) <= integerLength && decimalIndex - idx > -1) {\n                        number += integer;\n                        idx = decimalIndex;\n                    }\n\n                    if (decimalIndex === idx) {\n                        number += (fraction ? decimal : EMPTY) + fraction;\n                        idx += end - decimalIndex + 1;\n                        continue;\n                    }\n                }\n\n                if (ch === ZERO) {\n                    number += ch;\n                    replacement = ch;\n                } else if (ch === SHARP) {\n                    number += replacement;\n                }\n            }\n\n            if (hasGroup) {\n                number = groupInteger(number, start + (negative && !hasNegativeFormat ? 1 : 0), Math.max(end, (integerLength + start)), numberFormat);\n            }\n\n            if (end >= start) {\n                number += format.substring(end + 1);\n            }\n\n            //replace symbol placeholders\n            if (isCurrency || isPercent) {\n                value = EMPTY;\n                for (idx = 0, length = number.length; idx < length; idx++) {\n                    ch = number.charAt(idx);\n                    value += (ch === \"$\" || ch === \"%\") ? symbol : ch;\n                }\n                number = value;\n            }\n\n            length = literals.length;\n\n            if (length) {\n                for (idx = 0; idx < length; idx++) {\n                    number = number.replace(PLACEHOLDER, literals[idx]);\n                }\n            }\n        }\n\n        return number;\n    }\n\n    var groupInteger = function(number, start, end, numberFormat) {\n        var decimalIndex = number.indexOf(numberFormat[POINT]);\n        var groupSizes = numberFormat.groupSize.slice();\n        var groupSize = groupSizes.shift();\n        var integer, integerLength;\n        var idx, parts, value;\n        var newGroupSize;\n\n        end = decimalIndex !== -1 ? decimalIndex : end + 1;\n\n        integer = number.substring(start, end);\n        integerLength = integer.length;\n\n        if (integerLength >= groupSize) {\n            idx = integerLength;\n            parts = [];\n\n            while (idx > -1) {\n                value = integer.substring(idx - groupSize, idx);\n                if (value) {\n                    parts.push(value);\n                }\n                idx -= groupSize;\n                newGroupSize = groupSizes.shift();\n                groupSize = newGroupSize !== undefined ? newGroupSize : groupSize;\n\n                if (groupSize === 0) {\n                    if (idx > 0) {\n                        parts.push(integer.substring(0, idx));\n                    }\n                    break;\n                }\n            }\n\n            integer = parts.reverse().join(numberFormat[COMMA]);\n            number = number.substring(0, start) + integer + number.substring(end);\n        }\n\n        return number;\n    };\n\n    var round = function(value, precision, negative) {\n        precision = precision || 0;\n\n        value = value.toString().split('e');\n        value = Math.round(+(value[0] + 'e' + (value[1] ? (+value[1] + precision) : precision)));\n\n        if (negative) {\n            value = -value;\n        }\n\n        value = value.toString().split('e');\n        value = +(value[0] + 'e' + (value[1] ? (+value[1] - precision) : -precision));\n\n        return value.toFixed(Math.min(precision, 20));\n    };\n\n    var toString = function(value, fmt, culture) {\n        if (fmt) {\n            if (objectToString.call(value) === \"[object Date]\") {\n                return formatDate(value, fmt, culture);\n            } else if (typeof value === NUMBER) {\n                return formatNumber(value, fmt, culture);\n            }\n        }\n\n        return value !== undefined ? value : \"\";\n    };\n\n    kendo.format = function(fmt) {\n        var values = arguments;\n\n        return fmt.replace(formatRegExp, function(match, index, placeholderFormat) {\n            var value = values[parseInt(index, 10) + 1];\n\n            return toString(value, placeholderFormat ? placeholderFormat.substring(1) : \"\");\n        });\n    };\n\n    kendo._extractFormat = function(format) {\n        if (format.slice(0,3) === \"{0:\") {\n            format = format.slice(3, format.length - 1);\n        }\n\n        return format;\n    };\n\n    kendo._activeElement = function() {\n        try {\n            return document.activeElement;\n        } catch (e) {\n            return document.documentElement.activeElement;\n        }\n    };\n\n    kendo._round = round;\n    kendo._outerWidth = function(element, includeMargin) { return $(element).outerWidth(includeMargin || false) || 0; };\n    kendo._outerHeight = function(element, includeMargin) { return $(element).outerHeight(includeMargin || false) || 0; };\n    kendo.toString = toString;\n})();\n\n\n(function() {\n    var nonBreakingSpaceRegExp = /\\u00A0/g,\n        spaceRegExp = /\\s/g,\n        exponentRegExp = /[eE][\\-+]?[0-9]+/,\n        shortTimeZoneRegExp = /[+|\\-]\\d{1,2}/,\n        longTimeZoneRegExp = /[+|\\-]\\d{1,2}:?\\d{2}/,\n        dateRegExp = /^\\/Date\\((.*?)\\)\\/$/,\n        offsetRegExp = /[+-]\\d*/,\n        FORMATS_SEQUENCE = [ [], [ \"G\", \"g\", \"F\" ], [ \"D\", \"d\", \"y\", \"m\", \"T\", \"t\" ] ],\n        STANDARD_FORMATS = [\n            [\n            \"yyyy-MM-ddTHH:mm:ss.fffffffzzz\",\n            \"yyyy-MM-ddTHH:mm:ss.fffffff\",\n            \"yyyy-MM-ddTHH:mm:ss.fffzzz\",\n            \"yyyy-MM-ddTHH:mm:ss.fff\",\n            \"ddd MMM dd yyyy HH:mm:ss\",\n            \"yyyy-MM-ddTHH:mm:sszzz\",\n            \"yyyy-MM-ddTHH:mmzzz\",\n            \"yyyy-MM-ddTHH:mmzz\",\n            \"yyyy-MM-ddTHH:mm:ss\",\n            \"yyyy-MM-dd HH:mm:ss\",\n            \"yyyy/MM/dd HH:mm:ss\"\n            ], [\n            \"yyyy-MM-ddTHH:mm\",\n            \"yyyy-MM-dd HH:mm\",\n            \"yyyy/MM/dd HH:mm\"\n            ], [\n            \"yyyy/MM/dd\",\n            \"yyyy-MM-dd\",\n            \"HH:mm:ss\",\n            \"HH:mm\"\n            ]\n        ],\n        numberRegExp = {\n            2: /^\\d{1,2}/,\n            3: /^\\d{1,3}/,\n            4: /^\\d{4}/\n        },\n        objectToString = {}.toString;\n\n    function outOfRange(value, start, end) {\n        return !(value >= start && value <= end);\n    }\n\n    function designatorPredicate(designator) {\n        return designator.charAt(0);\n    }\n\n    function mapDesignators(designators) {\n        return $.map(designators, designatorPredicate);\n    }\n\n    //if date's day is different than the typed one - adjust\n    function adjustDST(date, hours) {\n        if (!hours && date.getHours() === 23) {\n            date.setHours(date.getHours() + 2);\n        }\n    }\n\n    function lowerArray(data) {\n        var idx = 0,\n            length = data.length,\n            array = [];\n\n        for (; idx < length; idx++) {\n            array[idx] = (data[idx] + \"\").toLowerCase();\n        }\n\n        return array;\n    }\n\n    function lowerLocalInfo(localInfo) {\n        var newLocalInfo = {}, property;\n\n        for (property in localInfo) {\n            newLocalInfo[property] = lowerArray(localInfo[property]);\n        }\n\n        return newLocalInfo;\n    }\n\n    function parseExact(value, format, culture, strict) {\n        if (!value) {\n            return null;\n        }\n\n        var lookAhead = function(match) {\n                var i = 0;\n                while (format[idx] === match) {\n                    i++;\n                    idx++;\n                }\n                if (i > 0) {\n                    idx -= 1;\n                }\n                return i;\n            },\n            getNumber = function(size) {\n                var rg = numberRegExp[size] || new RegExp('^\\\\d{1,' + size + '}'),\n                    match = value.substr(valueIdx, size).match(rg);\n\n                if (match) {\n                    match = match[0];\n                    valueIdx += match.length;\n                    return parseInt(match, 10);\n                }\n                return null;\n            },\n            getIndexByName = function(names, lower) {\n                var i = 0,\n                    length = names.length,\n                    name, nameLength,\n                    matchLength = 0,\n                    matchIdx = 0,\n                    subValue;\n\n                for (; i < length; i++) {\n                    name = names[i];\n                    nameLength = name.length;\n                    subValue = value.substr(valueIdx, nameLength);\n\n                    if (lower) {\n                        subValue = subValue.toLowerCase();\n                    }\n\n                    if (subValue == name && nameLength > matchLength) {\n                        matchLength = nameLength;\n                        matchIdx = i;\n                    }\n                }\n\n                if (matchLength) {\n                    valueIdx += matchLength;\n                    return matchIdx + 1;\n                }\n\n                return null;\n            },\n            checkLiteral = function() {\n                var result = false;\n                if (value.charAt(valueIdx) === format[idx]) {\n                    valueIdx++;\n                    result = true;\n                }\n                return result;\n            },\n            calendar = culture.calendars.standard,\n            year = null,\n            month = null,\n            day = null,\n            hours = null,\n            minutes = null,\n            seconds = null,\n            milliseconds = null,\n            idx = 0,\n            valueIdx = 0,\n            literal = false,\n            date = new Date(),\n            twoDigitYearMax = calendar.twoDigitYearMax || 2029,\n            defaultYear = date.getFullYear(),\n            ch, count, length, pattern,\n            pmHour, UTC, matches,\n            amDesignators, pmDesignators,\n            hoursOffset, minutesOffset,\n            hasTime, match;\n\n        if (!format) {\n            format = \"d\"; //shord date format\n        }\n\n        //if format is part of the patterns get real format\n        pattern = calendar.patterns[format];\n        if (pattern) {\n            format = pattern;\n        }\n\n        format = format.split(\"\");\n        length = format.length;\n\n        for (; idx < length; idx++) {\n            ch = format[idx];\n\n            if (literal) {\n                if (ch === \"'\") {\n                    literal = false;\n                } else {\n                    checkLiteral();\n                }\n            } else {\n                if (ch === \"d\") {\n                    count = lookAhead(\"d\");\n                    if (!calendar._lowerDays) {\n                        calendar._lowerDays = lowerLocalInfo(calendar.days);\n                    }\n\n                    if (day !== null && count > 2) {\n                        continue;\n                    }\n\n                    day = count < 3 ? getNumber(2) : getIndexByName(calendar._lowerDays[count == 3 ? \"namesAbbr\" : \"names\"], true);\n\n                    if (day === null || outOfRange(day, 1, 31)) {\n                        return null;\n                    }\n                } else if (ch === \"M\") {\n                    count = lookAhead(\"M\");\n                    if (!calendar._lowerMonths) {\n                        calendar._lowerMonths = lowerLocalInfo(calendar.months);\n                    }\n                    month = count < 3 ? getNumber(2) : getIndexByName(calendar._lowerMonths[count == 3 ? 'namesAbbr' : 'names'], true);\n\n                    if (month === null || outOfRange(month, 1, 12)) {\n                        return null;\n                    }\n                    month -= 1; //because month is zero based\n                } else if (ch === \"y\") {\n                    count = lookAhead(\"y\");\n                    year = getNumber(count);\n\n                    if (year === null) {\n                        return null;\n                    }\n\n                    if (count == 2) {\n                        if (typeof twoDigitYearMax === \"string\") {\n                            twoDigitYearMax = defaultYear + parseInt(twoDigitYearMax, 10);\n                        }\n\n                        year = (defaultYear - defaultYear % 100) + year;\n                        if (year > twoDigitYearMax) {\n                            year -= 100;\n                        }\n                    }\n                } else if (ch === \"h\" ) {\n                    lookAhead(\"h\");\n                    hours = getNumber(2);\n                    if (hours == 12) {\n                        hours = 0;\n                    }\n                    if (hours === null || outOfRange(hours, 0, 11)) {\n                        return null;\n                    }\n                } else if (ch === \"H\") {\n                    lookAhead(\"H\");\n                    hours = getNumber(2);\n                    if (hours === null || outOfRange(hours, 0, 23)) {\n                        return null;\n                    }\n                } else if (ch === \"m\") {\n                    lookAhead(\"m\");\n                    minutes = getNumber(2);\n                    if (minutes === null || outOfRange(minutes, 0, 59)) {\n                        return null;\n                    }\n                } else if (ch === \"s\") {\n                    lookAhead(\"s\");\n                    seconds = getNumber(2);\n                    if (seconds === null || outOfRange(seconds, 0, 59)) {\n                        return null;\n                    }\n                } else if (ch === \"f\") {\n                    count = lookAhead(\"f\");\n\n                    match = value.substr(valueIdx, count).match(numberRegExp[3]);\n                    milliseconds = getNumber(count); //move value index position\n\n                    if (milliseconds !== null) {\n                        milliseconds = parseFloat(\"0.\" + match[0], 10);\n                        milliseconds = kendo._round(milliseconds, 3);\n                        milliseconds *= 1000;\n                    }\n\n                    if (milliseconds === null || outOfRange(milliseconds, 0, 999)) {\n                        return null;\n                    }\n\n                } else if (ch === \"t\") {\n                    count = lookAhead(\"t\");\n                    amDesignators = calendar.AM;\n                    pmDesignators = calendar.PM;\n\n                    if (count === 1) {\n                        amDesignators = mapDesignators(amDesignators);\n                        pmDesignators = mapDesignators(pmDesignators);\n                    }\n\n                    pmHour = getIndexByName(pmDesignators);\n                    if (!pmHour && !getIndexByName(amDesignators)) {\n                        return null;\n                    }\n                }\n                else if (ch === \"z\") {\n                    UTC = true;\n                    count = lookAhead(\"z\");\n\n                    if (value.substr(valueIdx, 1) === \"Z\") {\n                        checkLiteral();\n                        continue;\n                    }\n\n                    matches = value.substr(valueIdx, 6)\n                                   .match(count > 2 ? longTimeZoneRegExp : shortTimeZoneRegExp);\n\n                    if (!matches) {\n                        return null;\n                    }\n\n                    matches = matches[0].split(\":\");\n\n                    hoursOffset = matches[0];\n                    minutesOffset = matches[1];\n\n                    if (!minutesOffset && hoursOffset.length > 3) { //(+|-)[hh][mm] format is used\n                        valueIdx = hoursOffset.length - 2;\n                        minutesOffset = hoursOffset.substring(valueIdx);\n                        hoursOffset = hoursOffset.substring(0, valueIdx);\n                    }\n\n                    hoursOffset = parseInt(hoursOffset, 10);\n                    if (outOfRange(hoursOffset, -12, 13)) {\n                        return null;\n                    }\n\n                    if (count > 2) {\n                        minutesOffset = matches[0][0] + minutesOffset;\n                        minutesOffset = parseInt(minutesOffset, 10);\n                        if (isNaN(minutesOffset) || outOfRange(minutesOffset, -59, 59)) {\n                            return null;\n                        }\n                    }\n                } else if (ch === \"'\") {\n                    literal = true;\n                    checkLiteral();\n                } else if (!checkLiteral()) {\n                    return null;\n                }\n            }\n        }\n\n        // if more characters follow, assume wrong format\n        // https://github.com/telerik/kendo-ui-core/issues/3476\n        if (strict && !/^\\s*$/.test(value.substr(valueIdx))) {\n            return null;\n        }\n\n        hasTime = hours !== null || minutes !== null || seconds || null;\n\n        if (year === null && month === null && day === null && hasTime) {\n            year = defaultYear;\n            month = date.getMonth();\n            day = date.getDate();\n        } else {\n            if (year === null) {\n                year = defaultYear;\n            }\n\n            if (day === null) {\n                day = 1;\n            }\n        }\n\n        if (pmHour && hours < 12) {\n            hours += 12;\n        }\n\n        if (UTC) {\n            if (hoursOffset) {\n                hours += -hoursOffset;\n            }\n\n            if (minutesOffset) {\n                minutes += -minutesOffset;\n            }\n\n            value = new Date(Date.UTC(year, month, day, hours, minutes, seconds, milliseconds));\n        } else {\n            value = new Date(year, month, day, hours, minutes, seconds, milliseconds);\n            adjustDST(value, hours);\n        }\n\n        if (year < 100) {\n            value.setFullYear(year);\n        }\n\n        if (value.getDate() !== day && UTC === undefined) {\n            return null;\n        }\n\n        return value;\n    }\n\n    function parseMicrosoftFormatOffset(offset) {\n        var sign = offset.substr(0, 1) === \"-\" ? -1 : 1;\n\n        offset = offset.substring(1);\n        offset = (parseInt(offset.substr(0, 2), 10) * 60) + parseInt(offset.substring(2), 10);\n\n        return sign * offset;\n    }\n\n    function getDefaultFormats(culture) {\n        var length = math.max(FORMATS_SEQUENCE.length, STANDARD_FORMATS.length);\n        var calendar = culture.calendar || culture.calendars.standard;\n        var patterns = calendar.patterns;\n        var cultureFormats, formatIdx, idx;\n        var formats = [];\n\n        for (idx = 0; idx < length; idx++) {\n            cultureFormats = FORMATS_SEQUENCE[idx];\n            for (formatIdx = 0; formatIdx < cultureFormats.length; formatIdx++) {\n                formats.push(patterns[cultureFormats[formatIdx]]);\n            }\n            formats = formats.concat(STANDARD_FORMATS[idx]);\n        }\n\n        return formats;\n    }\n\n    function internalParseDate(value, formats, culture, strict) {\n        if (objectToString.call(value) === \"[object Date]\") {\n            return value;\n        }\n\n        var idx = 0;\n        var date = null;\n        var length;\n        var tzoffset;\n\n        if (value && value.indexOf(\"/D\") === 0) {\n            date = dateRegExp.exec(value);\n            if (date) {\n                date = date[1];\n                tzoffset = offsetRegExp.exec(date.substring(1));\n\n                date = new Date(parseInt(date, 10));\n\n                if (tzoffset) {\n                    tzoffset = parseMicrosoftFormatOffset(tzoffset[0]);\n                    date = kendo.timezone.apply(date, 0);\n                    date = kendo.timezone.convert(date, 0, -1 * tzoffset);\n                }\n\n                return date;\n            }\n        }\n\n        culture = kendo.getCulture(culture);\n\n        if (!formats) {\n            formats = getDefaultFormats(culture);\n        }\n\n        formats = isArray(formats) ? formats : [formats];\n        length = formats.length;\n\n        for (; idx < length; idx++) {\n            date = parseExact(value, formats[idx], culture, strict);\n            if (date) {\n                return date;\n            }\n        }\n\n        return date;\n    }\n\n    kendo.parseDate = function(value, formats, culture) {\n        return internalParseDate(value, formats, culture, false);\n    };\n\n    kendo.parseExactDate = function(value, formats, culture) {\n        return internalParseDate(value, formats, culture, true);\n    };\n\n    kendo.parseInt = function(value, culture) {\n        var result = kendo.parseFloat(value, culture);\n        if (result) {\n            result = result | 0;\n        }\n        return result;\n    };\n\n    kendo.parseFloat = function(value, culture, format) {\n        if (!value && value !== 0) {\n           return null;\n        }\n\n        if (typeof value === NUMBER) {\n           return value;\n        }\n\n        value = value.toString();\n        culture = kendo.getCulture(culture);\n\n        var number = culture.numberFormat,\n            percent = number.percent,\n            currency = number.currency,\n            symbol = currency.symbol,\n            percentSymbol = percent.symbol,\n            negative = value.indexOf(\"-\"),\n            parts, isPercent;\n\n        //handle exponential number\n        if (exponentRegExp.test(value)) {\n            value = parseFloat(value.replace(number[\".\"], \".\"));\n            if (isNaN(value)) {\n                value = null;\n            }\n            return value;\n        }\n\n        if (negative > 0) {\n            return null;\n        } else {\n            negative = negative > -1;\n        }\n\n        if (value.indexOf(symbol) > -1 || (format && format.toLowerCase().indexOf(\"c\") > -1)) {\n            number = currency;\n            parts = number.pattern[0].replace(\"$\", symbol).split(\"n\");\n            if (value.indexOf(parts[0]) > -1 && value.indexOf(parts[1]) > -1) {\n                value = value.replace(parts[0], \"\").replace(parts[1], \"\");\n                negative = true;\n            }\n        } else if (value.indexOf(percentSymbol) > -1) {\n            isPercent = true;\n            number = percent;\n            symbol = percentSymbol;\n        }\n\n        value = value.replace(\"-\", \"\")\n                     .replace(symbol, \"\")\n                     .replace(nonBreakingSpaceRegExp, \" \")\n                     .split(number[\",\"].replace(nonBreakingSpaceRegExp, \" \")).join(\"\")\n                     .replace(spaceRegExp, \"\")\n                     .replace(number[\".\"], \".\");\n\n        value = parseFloat(value);\n\n        if (isNaN(value)) {\n            value = null;\n        } else if (negative) {\n            value *= -1;\n        }\n\n        if (value && isPercent) {\n            value /= 100;\n        }\n\n        return value;\n    };\n})();\n\n    function getShadows(element) {\n        var shadow = element.css(kendo.support.transitions.css + \"box-shadow\") || element.css(\"box-shadow\"),\n            radius = shadow ? shadow.match(boxShadowRegExp) || [ 0, 0, 0, 0, 0 ] : [ 0, 0, 0, 0, 0 ],\n            blur = math.max((+radius[3]), +(radius[4] || 0));\n\n        return {\n            left: (-radius[1]) + blur,\n            right: (+radius[1]) + blur,\n            bottom: (+radius[2]) + blur\n        };\n    }\n\n    function wrap(element, autosize) {\n        var percentage,\n            outerWidth = kendo._outerWidth,\n            outerHeight = kendo._outerHeight,\n            parent = element.parent(),\n            windowOuterWidth = outerWidth(window);\n\n        parent.removeClass(\"k-animation-container-sm\");\n\n        if (!parent.hasClass(\"k-animation-container\")) {\n            var width = element[0].style.width,\n                height = element[0].style.height,\n                percentWidth = percentRegExp.test(width),\n                percentHeight = percentRegExp.test(height),\n                forceWidth = element.hasClass(\"k-tooltip\") || element.is(\".k-menu-horizontal.k-context-menu\");\n\n            percentage = percentWidth || percentHeight;\n\n            if (!percentWidth && (!autosize || (autosize && width) || forceWidth)) { width = autosize ? outerWidth(element) + 1 : outerWidth(element); }\n            if (!percentHeight && (!autosize || (autosize && height)) || element.is(\".k-menu-horizontal.k-context-menu\")) { height = outerHeight(element); }\n\n            element.wrap(\n                         $(\"<div/>\")\n                         .addClass(\"k-animation-container\")\n                         .attr(\"role\", \"region\")\n                         .css({\n                             width: width,\n                             height: height\n                         }));\n            parent = element.parent();\n\n            if (percentage) {\n                element.css({\n                    width: \"100%\",\n                    height: \"100%\",\n                    boxSizing: \"border-box\",\n                    mozBoxSizing: \"border-box\",\n                    webkitBoxSizing: \"border-box\"\n                });\n            }\n        } else {\n            wrapResize(element, autosize);\n        }\n\n        if (windowOuterWidth < outerWidth(parent)) {\n            parent.addClass(\"k-animation-container-sm\");\n\n            wrapResize(element, autosize);\n        }\n\n        return parent;\n    }\n\n    function wrapResize(element, autosize) {\n        var percentage,\n            outerWidth = kendo._outerWidth,\n            outerHeight = kendo._outerHeight,\n            wrapper = element.parent(\".k-animation-container\"),\n            wrapperStyle = wrapper[0].style;\n\n        if (wrapper.is(\":hidden\")) {\n            wrapper.css({\n                display: \"\",\n                position: \"\"\n            });\n        }\n\n        percentage = percentRegExp.test(wrapperStyle.width) || percentRegExp.test(wrapperStyle.height);\n\n        if (!percentage) {\n            wrapper.css({\n                width: autosize ? outerWidth(element) + 1 : outerWidth(element),\n                height: outerHeight(element),\n                boxSizing: \"content-box\",\n                mozBoxSizing: \"content-box\",\n                webkitBoxSizing: \"content-box\"\n            });\n        }\n    }\n\n    function deepExtend(destination) {\n        var i = 1,\n            length = arguments.length;\n\n        for (i = 1; i < length; i++) {\n            deepExtendOne(destination, arguments[i]);\n        }\n\n        return destination;\n    }\n\n    function deepExtendOne(destination, source) {\n        var ObservableArray = kendo.data.ObservableArray,\n            LazyObservableArray = kendo.data.LazyObservableArray,\n            DataSource = kendo.data.DataSource,\n            HierarchicalDataSource = kendo.data.HierarchicalDataSource,\n            property,\n            propValue,\n            propType,\n            propInit,\n            destProp;\n\n        for (property in source) {\n            propValue = source[property];\n            propType = typeof propValue;\n\n            if (propType === OBJECT && propValue !== null) {\n                propInit = propValue.constructor;\n            } else {\n                propInit = null;\n            }\n\n            if (propInit &&\n                propInit !== Array && propInit !== ObservableArray && propInit !== LazyObservableArray &&\n                propInit !== DataSource && propInit !== HierarchicalDataSource && propInit !== RegExp &&\n                (!kendo.isFunction(window.ArrayBuffer) || propInit !== ArrayBuffer) && !(propValue instanceof HTMLElement)) {\n\n                if (propValue instanceof Date) {\n                    destination[property] = new Date(propValue.getTime());\n                } else if (isFunction(propValue.clone)) {\n                    destination[property] = propValue.clone();\n                } else {\n                    destProp = destination[property];\n                    if (typeof (destProp) === OBJECT) {\n                        destination[property] = destProp || {};\n                    } else {\n                        destination[property] = {};\n                    }\n                    deepExtendOne(destination[property], propValue);\n                }\n            } else if (propType !== UNDEFINED) {\n                destination[property] = propValue;\n            }\n        }\n\n        return destination;\n    }\n\n    function testRx(agent, rxs, dflt) {\n        for (var rx in rxs) {\n            if (rxs.hasOwnProperty(rx) && rxs[rx].test(agent)) {\n                return rx;\n            }\n        }\n        return dflt !== undefined ? dflt : agent;\n    }\n\n    function toHyphens(str) {\n        return str.replace(/([a-z][A-Z])/g, function(g) {\n            return g.charAt(0) + '-' + g.charAt(1).toLowerCase();\n        });\n    }\n\n    function toCamelCase(str) {\n        return str.replace(/\\-(\\w)/g, function(strMatch, g1) {\n            return g1.toUpperCase();\n        });\n    }\n\n    function getComputedStyles(element, properties) {\n        var styles = {}, computedStyle;\n\n        if (document.defaultView && document.defaultView.getComputedStyle) {\n            computedStyle = document.defaultView.getComputedStyle(element, \"\");\n\n            if (properties) {\n                $.each(properties, function(idx, value) {\n                    styles[value] = computedStyle.getPropertyValue(value);\n                });\n            }\n        } else {\n            computedStyle = element.currentStyle;\n\n            if (properties) {\n                $.each(properties, function(idx, value) {\n                    styles[value] = computedStyle[toCamelCase(value)];\n                });\n            }\n        }\n\n        if (!kendo.size(styles)) {\n            styles = computedStyle;\n        }\n\n        return styles;\n    }\n\n    function isScrollable(element) {\n        if (element.dataset[kendo.ns + \"scrollable\"] === \"false\") {\n            return false;\n        }\n\n        if (element && element.className && typeof(element.className) === \"string\" && element.className.indexOf(\"k-auto-scrollable\") > -1) {\n            return true;\n        }\n\n        var overflow = getComputedStyles(element, [\"overflow\"]).overflow;\n        return overflow.indexOf(\"auto\") > -1 || overflow.indexOf(\"scroll\") > -1;\n    }\n\n    function scrollLeft(element, value) {\n        var webkit = support.browser.webkit;\n        var mozila = support.browser.mozilla;\n        var browserVersion = support.browser.version;\n        var el, isRtl;\n\n        if (element instanceof $ && value !== undefined) {\n            element.each(function(i, e) {\n                scrollLeft(e, value);\n            });\n\n            return;\n        } else {\n            el = element instanceof $ ? element[0] : element;\n        }\n\n        if (!el) {\n            return;\n        }\n\n        isRtl = support.isRtl(element);\n\n        // After updating browser detection,\n        // Test in which if should the Safari browsers go\n        if (value !== undefined) {\n            if (isRtl && webkit && (browserVersion < 85 || support.browser.safari)) {\n                el.scrollLeft = el.scrollWidth - el.clientWidth - value;\n            } else if (isRtl && (mozila || webkit) && value > 0) {\n                el.scrollLeft = -value;\n            } else {\n                el.scrollLeft = value;\n            }\n        } else {\n            if (isRtl && webkit && (browserVersion < 85 || support.browser.safari)) {\n                return el.scrollWidth - el.clientWidth - el.scrollLeft;\n            } else {\n                return Math.abs(el.scrollLeft);\n            }\n        }\n    }\n\n    (function() {\n        support._scrollbar = undefined;\n\n        support.scrollbar = function(refresh) {\n            if (!isNaN(support._scrollbar) && !refresh) {\n                return support._scrollbar;\n            } else {\n                var div = document.createElement(\"div\"),\n                    result;\n\n                div.style.cssText = \"overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block\";\n                div.innerHTML = \"&nbsp;\";\n                document.body.appendChild(div);\n\n                support._scrollbar = result = div.offsetWidth - div.scrollWidth;\n\n                document.body.removeChild(div);\n\n                return result;\n            }\n        };\n\n        support.isRtl = function(element) {\n            return $(element).closest(\".k-rtl\").length > 0;\n        };\n\n        var table = document.createElement(\"table\");\n\n        // Internet Explorer does not support setting the innerHTML of TBODY and TABLE elements\n        try {\n            table.innerHTML = \"<tr><td></td></tr>\";\n\n            support.tbodyInnerHtml = true;\n        } catch (e) {\n            support.tbodyInnerHtml = false;\n        }\n\n        support.touch = \"ontouchstart\" in window;\n\n        var docStyle = document.documentElement.style;\n        var transitions = support.transitions = false,\n            transforms = support.transforms = false,\n            elementProto = \"HTMLElement\" in window ? HTMLElement.prototype : [];\n\n        support.hasHW3D = (\"WebKitCSSMatrix\" in window && \"m11\" in new window.WebKitCSSMatrix()) || \"MozPerspective\" in docStyle || \"msPerspective\" in docStyle;\n        support.cssFlexbox = (\"flexWrap\" in docStyle) || (\"WebkitFlexWrap\" in docStyle) || (\"msFlexWrap\" in docStyle);\n\n        each([ \"Moz\", \"webkit\", \"O\", \"ms\" ], function() {\n            var prefix = this.toString(),\n                hasTransitions = typeof table.style[prefix + \"Transition\"] === STRING;\n\n            if (hasTransitions || typeof table.style[prefix + \"Transform\"] === STRING) {\n                var lowPrefix = prefix.toLowerCase();\n\n                transforms = {\n                    css: (lowPrefix != \"ms\") ? \"-\" + lowPrefix + \"-\" : \"\",\n                    prefix: prefix,\n                    event: (lowPrefix === \"o\" || lowPrefix === \"webkit\") ? lowPrefix : \"\"\n                };\n\n                if (hasTransitions) {\n                    transitions = transforms;\n                    transitions.event = transitions.event ? transitions.event + \"TransitionEnd\" : \"transitionend\";\n                }\n\n                return false;\n            }\n        });\n\n        table = null;\n\n        support.transforms = transforms;\n        support.transitions = transitions;\n\n        support.devicePixelRatio = window.devicePixelRatio === undefined ? 1 : window.devicePixelRatio;\n\n        try {\n            support.screenWidth = window.outerWidth || window.screen ? window.screen.availWidth : window.innerWidth;\n            support.screenHeight = window.outerHeight || window.screen ? window.screen.availHeight : window.innerHeight;\n        } catch (e) {\n            //window.outerWidth throws error when in IE showModalDialog.\n            support.screenWidth = window.screen.availWidth;\n            support.screenHeight = window.screen.availHeight;\n        }\n\n        support.detectOS = function(ua) {\n            var os = false, minorVersion, match = [],\n                notAndroidPhone = !/mobile safari/i.test(ua),\n                agentRxs = {\n                    wp: /(Windows Phone(?: OS)?)\\s(\\d+)\\.(\\d+(\\.\\d+)?)/,\n                    fire: /(Silk)\\/(\\d+)\\.(\\d+(\\.\\d+)?)/,\n                    android: /(Android|Android.*(?:Opera|Firefox).*?\\/)\\s*(\\d+)\\.?(\\d+(\\.\\d+)?)?/,\n                    iphone: /(iPhone|iPod).*OS\\s+(\\d+)[\\._]([\\d\\._]+)/,\n                    ipad: /(iPad).*OS\\s+(\\d+)[\\._]([\\d_]+)/,\n                    meego: /(MeeGo).+NokiaBrowser\\/(\\d+)\\.([\\d\\._]+)/,\n                    webos: /(webOS)\\/(\\d+)\\.(\\d+(\\.\\d+)?)/,\n                    blackberry: /(BlackBerry|BB10).*?Version\\/(\\d+)\\.(\\d+(\\.\\d+)?)/,\n                    playbook: /(PlayBook).*?Tablet\\s*OS\\s*(\\d+)\\.(\\d+(\\.\\d+)?)/,\n                    windows: /(MSIE)\\s+(\\d+)\\.(\\d+(\\.\\d+)?)/,\n                    tizen: /(tizen).*?Version\\/(\\d+)\\.(\\d+(\\.\\d+)?)/i,\n                    sailfish: /(sailfish).*rv:(\\d+)\\.(\\d+(\\.\\d+)?).*firefox/i,\n                    ffos: /(Mobile).*rv:(\\d+)\\.(\\d+(\\.\\d+)?).*Firefox/\n                },\n                osRxs = {\n                    ios: /^i(phone|pad|pod)$/i,\n                    android: /^android|fire$/i,\n                    blackberry: /^blackberry|playbook/i,\n                    windows: /windows/,\n                    wp: /wp/,\n                    flat: /sailfish|ffos|tizen/i,\n                    meego: /meego/\n                },\n                formFactorRxs = {\n                    tablet: /playbook|ipad|fire/i\n                },\n                browserRxs = {\n                    omini: /Opera\\sMini/i,\n                    omobile: /Opera\\sMobi/i,\n                    firefox: /Firefox|Fennec/i,\n                    mobilesafari: /version\\/.*safari/i,\n                    ie: /MSIE|Windows\\sPhone/i,\n                    chrome: /chrome|crios/i,\n                    webkit: /webkit/i\n                };\n\n            for (var agent in agentRxs) {\n                if (agentRxs.hasOwnProperty(agent)) {\n                    match = ua.match(agentRxs[agent]);\n                    if (match) {\n                        if (agent == \"windows\" && \"plugins\" in navigator) { return false; } // Break if not Metro/Mobile Windows\n\n                        os = {};\n                        os.device = agent;\n                        os.tablet = testRx(agent, formFactorRxs, false);\n                        os.browser = testRx(ua, browserRxs, \"default\");\n                        os.name = testRx(agent, osRxs);\n                        os[os.name] = true;\n                        os.majorVersion = match[2];\n                        os.minorVersion = (match[3] || \"0\").replace(\"_\", \".\");\n                        minorVersion = os.minorVersion.replace(\".\", \"\").substr(0, 2);\n                        os.flatVersion = os.majorVersion + minorVersion + (new Array(3 - (minorVersion.length < 3 ? minorVersion.length : 2)).join(\"0\"));\n                        os.cordova = typeof window.PhoneGap !== UNDEFINED || typeof window.cordova !== UNDEFINED; // Use file protocol to detect appModes.\n                        os.appMode = window.navigator.standalone || (/file|local|wmapp/).test(window.location.protocol) || os.cordova; // Use file protocol to detect appModes.\n\n                        if (os.android && (support.devicePixelRatio < 1.5 && os.flatVersion < 400 || notAndroidPhone) && (support.screenWidth > 800 || support.screenHeight > 800)) {\n                            os.tablet = agent;\n                        }\n\n                        break;\n                    }\n                }\n            }\n            return os;\n        };\n\n        var mobileOS = support.mobileOS = support.detectOS(navigator.userAgent);\n\n        support.wpDevicePixelRatio = mobileOS.wp ? screen.width / 320 : 0;\n\n        support.hasNativeScrolling = false;\n\n        if (mobileOS.ios || (mobileOS.android && mobileOS.majorVersion > 2) || mobileOS.wp) {\n            support.hasNativeScrolling = mobileOS;\n        }\n\n        support.delayedClick = function() {\n\n            // only the mobile devices with touch events do this.\n            if (support.touch) {\n                // All iOS devices so far (by the time I am writing this, iOS 9.0.2 is the latest),\n                // delay their click events.\n                if (mobileOS.ios) {\n                    return true;\n                }\n\n                if (mobileOS.android) {\n\n                    if (!support.browser.chrome) { // older webkits and webviews delay the click\n                        return true;\n                    }\n\n                    // from here on, we deal with Chrome on Android.\n                    if (support.browser.version < 32) {\n                        return false;\n                    }\n\n                    // Chrome 32+ does conditional fast clicks if the view port is not user scalable.\n                    return !($(\"meta[name=viewport]\").attr(\"content\") || \"\").match(/user-scalable=no/i);\n                }\n            }\n\n            return false;\n        };\n\n        support.mouseAndTouchPresent = support.touch && !(support.mobileOS.ios || support.mobileOS.android);\n\n        support.detectBrowser = function(ua) {\n            var browser = false,\n                match = [],\n                chromiumEdgeMatch = [],\n                browserRxs = {\n                    edge: /(edge)[ \\/]([\\w.]+)/i,\n                    webkit: /(chrome|crios)[ \\/]([\\w.]+)/i,\n                    safari: /(webkit)[ \\/]([\\w.]+)/i,\n                    opera: /(opera)(?:.*version|)[ \\/]([\\w.]+)/i,\n                    msie: /(msie\\s|trident.*? rv:)([\\w.]+)/i,\n                    mozilla: /(mozilla)(?:.*? rv:([\\w.]+)|)/i\n                };\n\n            for (var agent in browserRxs) {\n                if (browserRxs.hasOwnProperty(agent)) {\n                    match = ua.match(browserRxs[agent]);\n                    if (match) {\n                        browser = {};\n                        browser[agent] = true;\n                        browser[match[1].toLowerCase().split(\" \")[0].split(\"/\")[0]] = true;\n                        browser.version = parseInt(document.documentMode || match[2], 10);\n\n                        if (browser.chrome) {\n                            chromiumEdgeMatch = ua.match(/(edg)[ \\/]([\\w.]+)/i);\n\n                            if (chromiumEdgeMatch) {\n                                browser.chromiumEdge = true;\n                            }\n                        }\n\n                        break;\n                    }\n                }\n            }\n\n            return browser;\n        };\n\n        support.browser = support.detectBrowser(navigator.userAgent);\n\n        if (!mobileOS && support.touch && support.browser.safari) {\n            mobileOS = support.mobileOS = {\n                ios: true,\n                tablet: \"tablet\",\n                device: \"ipad\"\n            };\n        }\n\n        support.detectClipboardAccess = function() {\n            var commands = {\n                copy: document.queryCommandSupported ? document.queryCommandSupported(\"copy\") : false,\n                cut: document.queryCommandSupported ? document.queryCommandSupported(\"cut\") : false,\n                paste: document.queryCommandSupported ? document.queryCommandSupported(\"paste\") : false\n            };\n\n            if (support.browser.chrome) {\n                //not using queryCommandSupported due to chromium issues 476508 and 542948\n                commands.paste = false;\n                if (support.browser.version >= 43) {\n                    commands.copy = true;\n                    commands.cut = true;\n                }\n            }\n\n            return commands;\n        };\n\n        support.clipboard = support.detectClipboardAccess();\n\n        support.zoomLevel = function() {\n            try {\n                var browser = support.browser;\n                var ie11WidthCorrection = 0;\n                var docEl = document.documentElement;\n\n                if (browser.msie && browser.version == 11 && docEl.scrollHeight > docEl.clientHeight && !support.touch) {\n                    ie11WidthCorrection = support.scrollbar();\n                }\n\n                return support.touch ? (docEl.clientWidth / window.innerWidth) :\n                       browser.msie && browser.version >= 10 ? (((top || window).document.documentElement.offsetWidth + ie11WidthCorrection) / (top || window).innerWidth) : 1;\n            } catch (e) {\n                return 1;\n            }\n        };\n\n        (function(browser) {\n            // add browser-specific CSS class\n            var cssClass = \"\",\n                docElement = $(document.documentElement),\n                majorVersion = parseInt(browser.version, 10);\n\n            if (browser.msie) {\n                cssClass = \"ie\";\n            } else if (browser.mozilla) {\n                cssClass = \"ff\";\n            } else if (browser.safari) {\n                cssClass = \"safari\";\n            } else if (browser.webkit) {\n                cssClass = \"webkit\";\n            } else if (browser.opera) {\n                cssClass = \"opera\";\n            } else if (browser.edge) {\n                cssClass = \"edge\";\n            }\n\n            if (cssClass) {\n                cssClass = \"k-\" + cssClass + \" k-\" + cssClass + majorVersion;\n            }\n            if (support.mobileOS) {\n                cssClass += \" k-mobile\";\n            }\n\n            if (!support.cssFlexbox) {\n                cssClass += \" k-no-flexbox\";\n            }\n\n            docElement.addClass(cssClass);\n        })(support.browser);\n\n        support.eventCapture = document.documentElement.addEventListener;\n\n        var input = document.createElement(\"input\");\n\n        support.placeholder = \"placeholder\" in input;\n        support.propertyChangeEvent = \"onpropertychange\" in input;\n\n        support.input = (function() {\n            var types = [\"number\", \"date\", \"time\", \"month\", \"week\", \"datetime\", \"datetime-local\"];\n            var length = types.length;\n            var value = \"test\";\n            var result = {};\n            var idx = 0;\n            var type;\n\n            for (;idx < length; idx++) {\n                type = types[idx];\n                input.setAttribute(\"type\", type);\n                input.value = value;\n\n                result[type.replace(\"-\", \"\")] = input.type !== \"text\" && input.value !== value;\n            }\n\n            return result;\n        })();\n\n        input.style.cssText = \"float:left;\";\n\n        support.cssFloat = !!input.style.cssFloat;\n\n        input = null;\n\n        support.stableSort = (function() {\n            // Chrome sort is not stable for more than *10* items\n            // IE9+ sort is not stable for than *512* items\n            var threshold = 513;\n\n            var sorted = [{\n                index: 0,\n                field: \"b\"\n            }];\n\n            for (var i = 1; i < threshold; i++) {\n                sorted.push({\n                    index: i,\n                    field: \"a\"\n                });\n            }\n\n            sorted.sort(function(a, b) {\n                return a.field > b.field ? 1 : (a.field < b.field ? -1 : 0);\n            });\n\n            return sorted[0].index === 1;\n        })();\n\n        support.matchesSelector = elementProto.webkitMatchesSelector || elementProto.mozMatchesSelector ||\n                                  elementProto.msMatchesSelector || elementProto.oMatchesSelector ||\n                                  elementProto.matchesSelector || elementProto.matches ||\n          function( selector ) {\n              var nodeList = document.querySelectorAll ? ( this.parentNode || document ).querySelectorAll( selector ) || [] : $(selector),\n                  i = nodeList.length;\n\n              while (i--) {\n                  if (nodeList[i] == this) {\n                      return true;\n                  }\n              }\n\n              return false;\n          };\n\n        support.matchMedia = \"matchMedia\" in window;\n\n        support.pushState = window.history && window.history.pushState;\n\n        support.hashChange = \"onhashchange\" in window;\n\n        support.customElements = \"registerElement\" in window.document;\n\n        var chrome = support.browser.chrome,\n            mobileChrome = support.browser.crios,\n            mozilla = support.browser.mozilla,\n            safari = support.browser.safari;\n        support.msPointers = !chrome && window.MSPointerEvent;\n        support.pointers = !chrome && !mobileChrome && !mozilla && !safari && window.PointerEvent;\n        support.kineticScrollNeeded = mobileOS && (support.touch || support.msPointers || support.pointers);\n    })();\n\n\n    function size(obj) {\n        var result = 0, key;\n        for (key in obj) {\n            if (obj.hasOwnProperty(key) && key != \"toJSON\") { // Ignore fake IE7 toJSON.\n                result++;\n            }\n        }\n\n        return result;\n    }\n\n    function getOffset(element, type, positioned) {\n        if (!type) {\n            type = \"offset\";\n        }\n\n        var offset = element[type]();\n        // clone ClientRect object to JS object (jQuery3)\n        var result = {\n            top: offset.top,\n            right: offset.right,\n            bottom: offset.bottom,\n            left: offset.left\n        };\n\n        // IE10 touch zoom is living in a separate viewport\n        if (support.browser.msie && (support.pointers || support.msPointers) && !positioned) {\n            var sign = support.isRtl(element) ? 1 : -1;\n\n            result.top -= (window.pageYOffset - (document.documentElement.scrollTop));\n            result.left -= (window.pageXOffset + (sign * document.documentElement.scrollLeft));\n        }\n\n        return result;\n    }\n\n    var directions = {\n        left: { reverse: \"right\" },\n        right: { reverse: \"left\" },\n        down: { reverse: \"up\" },\n        up: { reverse: \"down\" },\n        top: { reverse: \"bottom\" },\n        bottom: { reverse: \"top\" },\n        \"in\": { reverse: \"out\" },\n        out: { reverse: \"in\" }\n    };\n\n    function parseEffects(input) {\n        var effects = {};\n\n        each((typeof input === \"string\" ? input.split(\" \") : input), function(idx) {\n            effects[idx] = this;\n        });\n\n        return effects;\n    }\n\n    function fx(element) {\n        return new kendo.effects.Element(element);\n    }\n\n    var effects = {};\n\n    $.extend(effects, {\n        enabled: true,\n        Element: function(element) {\n            this.element = $(element);\n        },\n\n        promise: function(element, options) {\n            if (!element.is(\":visible\")) {\n                element.css({ display: element.data(\"olddisplay\") || \"block\" }).css(\"display\");\n            }\n\n            if (options.hide) {\n                element.data(\"olddisplay\", element.css(\"display\")).hide();\n            }\n\n            if (options.init) {\n                options.init();\n            }\n\n            if (options.completeCallback) {\n                options.completeCallback(element); // call the external complete callback with the element\n            }\n\n            element.dequeue();\n        },\n\n        disable: function() {\n            this.enabled = false;\n            this.promise = this.promiseShim;\n        },\n\n        enable: function() {\n            this.enabled = true;\n            this.promise = this.animatedPromise;\n        }\n    });\n\n    effects.promiseShim = effects.promise;\n\n    function prepareAnimationOptions(options, duration, reverse, complete) {\n        if (typeof options === STRING) {\n            // options is the list of effect names separated by space e.g. animate(element, \"fadeIn slideDown\")\n\n            // only callback is provided e.g. animate(element, options, function() {});\n            if (isFunction(duration)) {\n                complete = duration;\n                duration = 400;\n                reverse = false;\n            }\n\n            if (isFunction(reverse)) {\n                complete = reverse;\n                reverse = false;\n            }\n\n            if (typeof duration === BOOLEAN) {\n                reverse = duration;\n                duration = 400;\n            }\n\n            options = {\n                effects: options,\n                duration: duration,\n                reverse: reverse,\n                complete: complete\n            };\n        }\n\n        return extend({\n            //default options\n            effects: {},\n            duration: 400, //jQuery default duration\n            reverse: false,\n            init: noop,\n            teardown: noop,\n            hide: false\n        }, options, { completeCallback: options.complete, complete: noop }); // Move external complete callback, so deferred.resolve can be always executed.\n\n    }\n\n    function animate(element, options, duration, reverse, complete) {\n        var idx = 0,\n            length = element.length,\n            instance;\n\n        for (; idx < length; idx ++) {\n            instance = $(element[idx]);\n            instance.queue(function() {\n                effects.promise(instance, prepareAnimationOptions(options, duration, reverse, complete));\n            });\n        }\n\n        return element;\n    }\n\n    function toggleClass(element, classes, options, add) {\n        if (classes) {\n            classes = classes.split(\" \");\n\n            each(classes, function(idx, value) {\n                element.toggleClass(value, add);\n            });\n        }\n\n        return element;\n    }\n\n    if (!(\"kendoAnimate\" in $.fn)) {\n        extend($.fn, {\n            kendoStop: function(clearQueue, gotoEnd) {\n                return this.stop(clearQueue, gotoEnd);\n            },\n\n            kendoAnimate: function(options, duration, reverse, complete) {\n                return animate(this, options, duration, reverse, complete);\n            },\n\n            kendoAddClass: function(classes, options) {\n                return kendo.toggleClass(this, classes, options, true);\n            },\n\n            kendoRemoveClass: function(classes, options) {\n                return kendo.toggleClass(this, classes, options, false);\n            },\n            kendoToggleClass: function(classes, options, toggle) {\n                return kendo.toggleClass(this, classes, options, toggle);\n            }\n        });\n    }\n\n    var ampRegExp = /&/g,\n        ltRegExp = /</g,\n        quoteRegExp = /\"/g,\n        aposRegExp = /'/g,\n        gtRegExp = />/g;\n    function htmlEncode(value) {\n        return (\"\" + value).replace(ampRegExp, \"&amp;\").replace(ltRegExp, \"&lt;\").replace(gtRegExp, \"&gt;\").replace(quoteRegExp, \"&quot;\").replace(aposRegExp, \"&#39;\");\n    }\n\n    function unescape(value) {\n        var template;\n\n        try {\n            template = window.decodeURIComponent(value);\n        } catch (error) {\n            // If the string contains Unicode characters\n            // the decodeURIComponent() will throw an error.\n            // Therefore: convert to UTF-8 character\n            template = value.replace(/%u([\\dA-F]{4})|%([\\dA-F]{2})/gi, function(_, m1, m2) {\n                return String.fromCharCode(parseInt(\"0x\" + (m1 || m2), 16));\n            });\n        }\n\n        return template;\n    }\n\n    var eventTarget = function(e) {\n        return e.target;\n    };\n\n    if (support.touch) {\n\n        eventTarget = function(e) {\n            var touches = \"originalEvent\" in e ? e.originalEvent.changedTouches : \"changedTouches\" in e ? e.changedTouches : null;\n\n            return touches ? document.elementFromPoint(touches[0].clientX, touches[0].clientY) : e.target;\n        };\n\n        each([\"swipe\", \"swipeLeft\", \"swipeRight\", \"swipeUp\", \"swipeDown\", \"doubleTap\", \"tap\"], function(m, value) {\n            $.fn[value] = function(callback) {\n                return this.on(value, callback);\n            };\n        });\n    }\n\n    if (support.touch) {\n        if (!support.mobileOS) {\n            support.mousedown = \"mousedown touchstart\";\n            support.mouseup = \"mouseup touchend\";\n            support.mousemove = \"mousemove touchmove\";\n            support.mousecancel = \"mouseleave touchcancel\";\n            support.click = \"click\";\n            support.resize = \"resize\";\n        } else {\n            support.mousedown = \"touchstart\";\n            support.mouseup = \"touchend\";\n            support.mousemove = \"touchmove\";\n            support.mousecancel = \"touchcancel\";\n            support.click = \"touchend\";\n            support.resize = \"orientationchange\";\n        }\n    } else if (support.pointers) {\n        support.mousemove = \"pointermove\";\n        support.mousedown = \"pointerdown\";\n        support.mouseup = \"pointerup\";\n        support.mousecancel = \"pointercancel\";\n        support.click = \"pointerup\";\n        support.resize = \"orientationchange resize\";\n    } else if (support.msPointers) {\n        support.mousemove = \"MSPointerMove\";\n        support.mousedown = \"MSPointerDown\";\n        support.mouseup = \"MSPointerUp\";\n        support.mousecancel = \"MSPointerCancel\";\n        support.click = \"MSPointerUp\";\n        support.resize = \"orientationchange resize\";\n    } else {\n        support.mousemove = \"mousemove\";\n        support.mousedown = \"mousedown\";\n        support.mouseup = \"mouseup\";\n        support.mousecancel = \"mouseleave\";\n        support.click = \"click\";\n        support.resize = \"resize\";\n    }\n\n    var wrapExpression = function(members, paramName) {\n        var result = paramName || \"d\",\n            index,\n            idx,\n            length,\n            member,\n            count = 1;\n\n        for (idx = 0, length = members.length; idx < length; idx++) {\n            member = members[idx];\n            if (member !== \"\") {\n                index = member.indexOf(\"[\");\n\n                if (index !== 0) {\n                    if (index == -1) {\n                        member = \".\" + member;\n                    } else {\n                        count++;\n                        member = \".\" + member.substring(0, index) + \" || {})\" + member.substring(index);\n                    }\n                }\n\n                count++;\n                result += member + ((idx < length - 1) ? \" || {})\" : \")\");\n            }\n        }\n        return new Array(count).join(\"(\") + result;\n    },\n    localUrlRe = /^([a-z]+:)?\\/\\//i;\n\n    extend(kendo, {\n        widgets: [],\n        _widgetRegisteredCallbacks: [],\n        ui: kendo.ui || {},\n        fx: kendo.fx || fx,\n        effects: kendo.effects || effects,\n        mobile: kendo.mobile || { },\n        data: kendo.data || {},\n        dataviz: kendo.dataviz || {},\n        drawing: kendo.drawing || {},\n        spreadsheet: { messages: {} },\n        keys: {\n            INSERT: 45,\n            DELETE: 46,\n            BACKSPACE: 8,\n            TAB: 9,\n            ENTER: 13,\n            ESC: 27,\n            LEFT: 37,\n            UP: 38,\n            RIGHT: 39,\n            DOWN: 40,\n            END: 35,\n            HOME: 36,\n            SPACEBAR: 32,\n            PAGEUP: 33,\n            PAGEDOWN: 34,\n            F2: 113,\n            F10: 121,\n            F12: 123,\n            NUMPAD_PLUS: 107,\n            NUMPAD_MINUS: 109,\n            NUMPAD_DOT: 110\n        },\n        support: kendo.support || support,\n        animate: kendo.animate || animate,\n        ns: \"\",\n        attr: function(value) {\n            return \"data-\" + kendo.ns + value;\n        },\n        getShadows: getShadows,\n        wrap: wrap,\n        deepExtend: deepExtend,\n        getComputedStyles: getComputedStyles,\n        isScrollable: isScrollable,\n        scrollLeft: scrollLeft,\n        size: size,\n        toCamelCase: toCamelCase,\n        toHyphens: toHyphens,\n        getOffset: kendo.getOffset || getOffset,\n        parseEffects: kendo.parseEffects || parseEffects,\n        toggleClass: kendo.toggleClass || toggleClass,\n        directions: kendo.directions || directions,\n        Observable: Observable,\n        Class: Class,\n        Template: Template,\n        template: Template.compile.bind(Template),\n        render: Template.render.bind(Template),\n        stringify: JSON.stringify.bind(JSON),\n        eventTarget: eventTarget,\n        htmlEncode: htmlEncode,\n        unescape: unescape,\n        isLocalUrl: function(url) {\n            return url && !localUrlRe.test(url);\n        },\n\n        expr: function(expression, safe, paramName) {\n            expression = expression || \"\";\n\n            if (typeof safe == STRING) {\n                paramName = safe;\n                safe = false;\n            }\n\n            paramName = paramName || \"d\";\n\n            if (expression && expression.charAt(0) !== \"[\") {\n                expression = \".\" + expression;\n            }\n\n            if (safe) {\n                expression = expression.replace(/\"([^.]*)\\.([^\"]*)\"/g,'\"$1_$DOT$_$2\"');\n                expression = expression.replace(/'([^.]*)\\.([^']*)'/g,\"'$1_$DOT$_$2'\");\n                expression = wrapExpression(expression.split(\".\"), paramName);\n                expression = expression.replace(/_\\$DOT\\$_/g, \".\");\n            } else {\n                expression = paramName + expression;\n            }\n\n            return expression;\n        },\n\n        getter: function(expression, safe) {\n            var key = expression + safe;\n            return getterCache[key] = getterCache[key] || new Function(\"d\", \"return \" + kendo.expr(expression, safe));\n        },\n\n        setter: function(expression) {\n            return setterCache[expression] = setterCache[expression] || new Function(\"d,value\", kendo.expr(expression) + \"=value\");\n        },\n\n        accessor: function(expression) {\n            return {\n                get: kendo.getter(expression),\n                set: kendo.setter(expression)\n            };\n        },\n\n        guid: function() {\n            var id = \"\", i, random, chars = \"abcdef\";\n\n            id += chars[Math.floor(Math.random() * Math.floor(chars.length))];\n\n            for (i = 1; i < 32; i++) {\n                random = math.random() * 16 | 0;\n\n                if (i == 8 || i == 12 || i == 16 || i == 20) {\n                    id += \"-\";\n                }\n                id += (i == 12 ? 4 : (i == 16 ? (random & 3 | 8) : random)).toString(16);\n            }\n\n            return id;\n        },\n\n        roleSelector: function(role) {\n            return role.replace(/(\\S+)/g, \"[\" + kendo.attr(\"role\") + \"=$1],\").slice(0, -1);\n        },\n\n        directiveSelector: function(directives) {\n            var selectors = directives.split(\" \");\n\n            if (selectors) {\n                for (var i = 0; i < selectors.length; i++) {\n                    if (selectors[i] != \"view\") {\n                        selectors[i] = selectors[i].replace(/(\\w*)(view|bar|strip|over)$/, \"$1-$2\");\n                    }\n                }\n            }\n\n            return selectors.join(\" \").replace(/(\\S+)/g, \"kendo-mobile-$1,\").slice(0, -1);\n        },\n\n        triggeredByInput: function(e) {\n            return (/^(label|input|textarea|select)$/i).test(e.target.tagName);\n        },\n\n        onWidgetRegistered: function(callback) {\n            for (var i = 0, len = kendo.widgets.length; i < len; i++) {\n                callback(kendo.widgets[i]);\n            }\n\n            kendo._widgetRegisteredCallbacks.push(callback);\n        },\n\n        logToConsole: function(message, type) {\n            var console = window.console;\n\n            if (!kendo.suppressLog && typeof(console) != \"undefined\" && console.log) {\n                console[type || \"log\"](message);\n            }\n        }\n    });\n\n    var Widget = Observable.extend( {\n        init: function(element, options) {\n            var that = this;\n\n            validatePackage();\n\n            that.element = kendo.jQuery(element).handler(that);\n\n            that.angular(\"init\", options);\n\n            Observable.fn.init.call(that);\n\n            var dataSource = options ? options.dataSource : null;\n            var props;\n\n            if (options) {\n                props = (that.componentTypes || {})[(options || {}).componentType];\n            }\n\n            if (dataSource) {\n                // avoid deep cloning the data source\n                options = extend({}, options, { dataSource: {} });\n            }\n\n            options = that.options = extend(true, {}, that.options, that.defaults, props || {}, options);\n\n            if (dataSource) {\n                options.dataSource = dataSource;\n            }\n\n            if (!that.element.attr(kendo.attr(\"role\"))) {\n                that.element.attr(kendo.attr(\"role\"), (options.name || \"\").toLowerCase());\n            }\n\n            that.element.data(\"kendo\" + options.prefix + options.name, that);\n\n            that.bind(that.events, options);\n        },\n\n        events: [],\n\n        options: {\n            prefix: \"\"\n        },\n\n        _hasBindingTarget: function() {\n            return !!this.element[0].kendoBindingTarget;\n        },\n\n        _tabindex: function(target) {\n            target = target || this.wrapper;\n\n            var element = this.element,\n                TABINDEX = \"tabindex\",\n                tabindex = target.attr(TABINDEX) || element.attr(TABINDEX);\n\n            element.removeAttr(TABINDEX);\n\n            target.attr(TABINDEX, !isNaN(tabindex) ? tabindex : 0);\n        },\n\n        setOptions: function(options) {\n            this._clearCssClasses(options);\n            this._setEvents(options);\n            $.extend(this.options, options);\n            this._applyCssClasses();\n        },\n\n        _setEvents: function(options) {\n            var that = this,\n                idx = 0,\n                length = that.events.length,\n                e;\n\n            for (; idx < length; idx ++) {\n                e = that.events[idx];\n                if (that.options[e] && options[e]) {\n                    that.unbind(e, that.options[e]);\n                    if (that._events && that._events[e]) {\n                        delete that._events[e];\n                    }\n                }\n            }\n\n            that.bind(that.events, options);\n        },\n\n        resize: function(force) {\n            var size = this.getSize(),\n                currentSize = this._size;\n\n            if (force || (size.width > 0 || size.height > 0) && (!currentSize || size.width !== currentSize.width || size.height !== currentSize.height)) {\n                this._size = size;\n                this._resize(size, force);\n                this.trigger(\"resize\", size);\n            }\n        },\n\n        getSize: function() {\n            return kendo.dimensions(this.element);\n        },\n\n        size: function(size) {\n            if (!size) {\n                return this.getSize();\n            } else {\n                this.setSize(size);\n            }\n        },\n\n        setSize: $.noop,\n        _resize: $.noop,\n\n        destroy: function() {\n            var that = this;\n\n            that.element.removeData(\"kendo\" + that.options.prefix + that.options.name);\n            that.element.removeData(\"handler\");\n            that.unbind();\n        },\n        _destroy: function() {\n            this.destroy();\n        },\n        angular: function() {},\n\n        _muteAngularRebind: function(callback) {\n            this._muteRebind = true;\n\n            callback.call(this);\n\n            this._muteRebind = false;\n        },\n\n        _applyCssClasses: function(element) {\n            var protoOptions = this.__proto__.options,\n                options = this.options,\n                el = element || this.wrapper || this.element,\n                classes = [],\n                i, prop, validFill, widgetName;\n\n            if (!kendo.cssProperties.propertyDictionary[protoOptions.name]) {\n                return;\n            }\n\n            for (i = 0; i < cssPropertiesNames.length; i++) {\n                prop = cssPropertiesNames[i];\n                widgetName = this.options._altname || protoOptions.name;\n\n                if (protoOptions.hasOwnProperty(prop)) {\n                    if (prop === \"themeColor\") {\n                        validFill = kendo.cssProperties.getValidClass({\n                            widget: widgetName,\n                            propName: \"fillMode\",\n                            value: options.fillMode\n                        });\n\n                        if (validFill && validFill.length) {\n                            classes.push(kendo.cssProperties.getValidClass({\n                                widget: widgetName,\n                                propName: prop,\n                                value: options[prop],\n                                fill: options.fillMode\n                            }));\n                        }\n                    } else {\n                        classes.push(kendo.cssProperties.getValidClass({\n                            widget: widgetName,\n                            propName: prop,\n                            value: options[prop]\n                        }));\n                    }\n                }\n            }\n\n            el.addClass(classes.join(\" \"));\n        },\n\n        _ariaLabel: function(target) {\n            var that = this,\n                inputElm = that.element,\n                inputId = inputElm.attr(\"id\"),\n                labelElm = $(\"label[for=\\\"\" + inputId + \"\\\"]\"),\n                ariaLabel = inputElm.attr(ARIA_LABEL),\n                ariaLabelledBy = inputElm.attr(ARIA_LABELLEDBY),\n                labelId;\n\n            if (target[0] === inputElm[0]) {\n                return;\n            }\n\n            if (ariaLabel) {\n                target.attr(ARIA_LABEL, ariaLabel);\n            } else if (ariaLabelledBy) {\n                target.attr(ARIA_LABELLEDBY, ariaLabelledBy);\n            } else if (labelElm.length) {\n                labelId = labelElm.attr(\"id\") || that._generateLabelId(labelElm, inputId || kendo.guid());\n                target.attr(ARIA_LABELLEDBY, labelId);\n            }\n        },\n\n        _clearCssClasses: function(newOptions, element) {\n            var protoOptions = this.__proto__.options,\n                currentOptions = this.options,\n                el = element || this.wrapper || this.element,\n                i, prop, widgetName;\n\n            if (!kendo.cssProperties.propertyDictionary[protoOptions.name]) {\n                return;\n            }\n\n            for (i = 0; i < cssPropertiesNames.length; i++) {\n                prop = cssPropertiesNames[i];\n                widgetName = this.options._altname || protoOptions.name;\n\n                if (protoOptions.hasOwnProperty(prop) && newOptions.hasOwnProperty(prop)) {\n                    if (prop === \"themeColor\") {\n                        el.removeClass(kendo.cssProperties.getValidClass({\n                            widget: widgetName,\n                            propName: prop,\n                            value: currentOptions[prop],\n                            fill: currentOptions.fillMode\n                        }));\n                    } else {\n                        if (prop === \"fillMode\") {\n                            el.removeClass(kendo.cssProperties.getValidClass({\n                                widget: widgetName,\n                                propName: \"themeColor\",\n                                value: currentOptions.themeColor,\n                                fill: currentOptions.fillMode\n                            }));\n                        }\n\n                        el.removeClass(kendo.cssProperties.getValidClass({\n                            widget: widgetName,\n                            propName: prop,\n                            value: currentOptions[prop]\n                        }));\n                    }\n                }\n            }\n        },\n\n        _generateLabelId: function(label, inputId) {\n            var labelId = inputId + LABELIDPART;\n\n            label.attr(\"id\", labelId);\n\n            return labelId;\n        },\n    });\n\n    var DataBoundWidget = Widget.extend({\n        // Angular consumes these.\n        dataItems: function() {\n            return this.dataSource.flatView();\n        },\n\n        _angularItems: function(cmd) {\n            var that = this;\n            that.angular(cmd, function() {\n                return {\n                    elements: that.items(),\n                    data: $.map(that.dataItems(), function(dataItem) {\n                        return { dataItem: dataItem };\n                    })\n                };\n            });\n        }\n    });\n\n    kendo.dimensions = function(element, dimensions) {\n        var domElement = element[0];\n\n        if (dimensions) {\n            element.css(dimensions);\n        }\n\n        return { width: domElement.offsetWidth, height: domElement.offsetHeight };\n    };\n\n    kendo.notify = noop;\n\n    var templateRegExp = /template$/i,\n        jsonRegExp = /^\\s*(?:\\{(?:.|\\r\\n|\\n)*\\}|\\[(?:.|\\r\\n|\\n)*\\])\\s*$/,\n        jsonFormatRegExp = /^\\{(\\d+)(:[^\\}]+)?\\}|^\\[[A-Za-z_]+\\]$/,\n        dashRegExp = /([A-Z])/g;\n\n    function parseOption(element, option) {\n        var value;\n\n        if (option.indexOf(\"data\") === 0) {\n            option = option.substring(4);\n            option = option.charAt(0).toLowerCase() + option.substring(1);\n        }\n\n        option = option.replace(dashRegExp, \"-$1\");\n        value = element.getAttribute(\"data-\" + kendo.ns + option);\n\n        if (value === null) {\n            value = undefined;\n        } else if (value === \"null\") {\n            value = null;\n        } else if (value === \"true\") {\n            value = true;\n        } else if (value === \"false\") {\n            value = false;\n        } else if (numberRegExp.test(value) && option != \"mask\" && option != \"format\") {\n            value = parseFloat(value);\n        } else if (jsonRegExp.test(value) && !jsonFormatRegExp.test(value)) {\n            value = new Function(\"return (\" + value + \")\")();\n        }\n\n        return value;\n    }\n\n    function parseOptions(element, options, source) {\n        var result = {},\n            option,\n            value,\n            role = element.getAttribute(\"data-\" + kendo.ns + \"role\");\n\n        for (option in options) {\n            value = parseOption(element, option);\n\n            if (value !== undefined) {\n\n                if (templateRegExp.test(option) && role != \"drawer\") {\n                    if (typeof value === \"string\") {\n                        if ($(\"#\" + value).length) {\n                            value = kendo.template($(\"#\" + value).html());\n                        } else if (source) {\n                            value = kendo.template(source[value]);\n                        }\n                    } else {\n                        value = element.getAttribute(option);\n                    }\n                }\n\n                result[option] = value;\n            }\n        }\n\n        return result;\n    }\n\n    kendo.initWidget = function(element, options, roles) {\n        var result,\n            option,\n            widget,\n            idx,\n            length,\n            role,\n            value,\n            dataSource,\n            fullPath,\n            widgetKeyRegExp;\n\n        // Preserve backwards compatibility with (element, options, namespace) signature, where namespace was kendo.ui\n        if (!roles) {\n            roles = kendo.ui.roles;\n        } else if (roles.roles) {\n            roles = roles.roles;\n        }\n\n        element = element.nodeType ? element : element[0];\n\n        role = element.getAttribute(\"data-\" + kendo.ns + \"role\");\n\n        if (!role) {\n            return;\n        }\n\n        fullPath = role.indexOf(\".\") === -1;\n\n        // look for any widget that may be already instantiated based on this role.\n        // The prefix used is unknown, hence the regexp\n        //\n\n        if (fullPath) {\n            widget = roles[role];\n        } else { // full namespace path - like kendo.ui.Widget\n            widget = kendo.getter(role)(window);\n        }\n\n        var data = $(element).data(),\n            widgetKey = widget ? \"kendo\" + widget.fn.options.prefix + widget.fn.options.name : \"\";\n\n        if (fullPath) {\n            widgetKeyRegExp = new RegExp(\"^kendo.*\" + role + \"$\", \"i\");\n        } else { // full namespace path - like kendo.ui.Widget\n            widgetKeyRegExp = new RegExp(\"^\" + widgetKey + \"$\", \"i\");\n        }\n\n        for (var key in data) {\n            if (key.match(widgetKeyRegExp)) {\n                // we have detected a widget of the same kind - save its reference, we will set its options\n                if (key === widgetKey) {\n                    result = data[key];\n                } else {\n                    return data[key];\n                }\n            }\n        }\n\n        if (!widget) {\n            return;\n        }\n\n        dataSource = parseOption(element, \"dataSource\");\n\n        options = $.extend({}, parseOptions(element, $.extend({}, widget.fn.options, widget.fn.defaults) ), options);\n\n        if (dataSource) {\n            if (typeof dataSource === STRING) {\n                options.dataSource = kendo.getter(dataSource)(window);\n            } else {\n                options.dataSource = dataSource;\n            }\n        }\n\n        for (idx = 0, length = widget.fn.events.length; idx < length; idx++) {\n            option = widget.fn.events[idx];\n\n            value = parseOption(element, option);\n\n            if (value !== undefined) {\n                options[option] = kendo.getter(value)(window);\n            }\n        }\n\n        if (!result) {\n            result = new widget(element, options);\n        } else if (!$.isEmptyObject(options)) {\n            result.setOptions(options);\n        }\n\n        return result;\n    };\n\n    kendo.rolesFromNamespaces = function(namespaces) {\n        var roles = [],\n            idx,\n            length;\n\n        if (!namespaces[0]) {\n            namespaces = [kendo.ui, kendo.dataviz.ui];\n        }\n\n        for (idx = 0, length = namespaces.length; idx < length; idx ++) {\n            roles[idx] = namespaces[idx].roles;\n        }\n\n        return extend.apply(null, [{}].concat(roles.reverse()));\n    };\n\n    kendo.init = function(element) {\n        var roles = kendo.rolesFromNamespaces(slice.call(arguments, 1));\n\n        $(element).find(\"[data-\" + kendo.ns + \"role]\").addBack().each(function() {\n            kendo.initWidget(this, {}, roles);\n        });\n    };\n\n    kendo.destroy = function(element) {\n        $(element).find(\"[data-\" + kendo.ns + \"role]\").addBack().each(function() {\n            var data = $(this).data();\n\n            for (var key in data) {\n                if (key.indexOf(\"kendo\") === 0 && typeof data[key].destroy === FUNCTION) {\n                    data[key].destroy();\n                }\n            }\n        });\n    };\n\n    function containmentComparer(a, b) {\n        return $.contains(a, b) ? -1 : 1;\n    }\n\n    function resizableWidget() {\n        var widget = $(this);\n        return ($.inArray(widget.attr(\"data-\" + kendo.ns + \"role\"), [\"slider\", \"rangeslider\", \"breadcrumb\"]) > -1) || widget.is(\":visible\");\n    }\n\n    kendo.resize = function(element, force) {\n        var widgets = $(element).find(\"[data-\" + kendo.ns + \"role]\").addBack().filter(resizableWidget);\n\n        if (!widgets.length) {\n            return;\n        }\n\n        // sort widgets based on their parent-child relation\n        var widgetsArray = $.makeArray(widgets);\n        widgetsArray.sort(containmentComparer);\n\n        // resize widgets\n        $.each(widgetsArray, function() {\n            var widget = kendo.widgetInstance($(this));\n            if (widget) {\n                widget.resize(force);\n            }\n        });\n    };\n\n    kendo.parseOptions = parseOptions;\n\n    extend(kendo.ui, {\n        Widget: Widget,\n        DataBoundWidget: DataBoundWidget,\n        roles: {},\n        progress: function(container, toggle, options) {\n            var mask = container.find(\".k-loading-mask\"),\n                support = kendo.support,\n                browser = support.browser,\n                isRtl, leftRight, webkitCorrection, containerScrollLeft, cssClass;\n\n                options = $.extend({}, {\n                    width: \"100%\",\n                    height: \"100%\",\n                    top: container.scrollTop(),\n                    opacity: false\n                }, options);\n\n                cssClass = options.opacity ? 'k-loading-mask k-opaque' : 'k-loading-mask';\n\n            if (toggle) {\n                if (!mask.length) {\n                    isRtl = support.isRtl(container);\n                    leftRight = isRtl ? \"right\" : \"left\";\n                    containerScrollLeft = kendo.scrollLeft(container);\n                    webkitCorrection = browser.webkit ? (!isRtl ? 0 : container[0].scrollWidth - container.width() - 2 * containerScrollLeft) : 0;\n\n                    mask = $(kendo.format(\"<div class='{0}'><span role='alert' aria-live='polite' class='k-loading-text'>{1}</span><div class='k-loading-image'></div><div class='k-loading-color'></div></div>\", cssClass, kendo.ui.progress.messages.loading))\n                        .width(options.width).height(options.height)\n                        .css(\"top\", options.top)\n                        .css(leftRight, Math.abs(containerScrollLeft) + webkitCorrection)\n                        .prependTo(container);\n                }\n            } else if (mask) {\n                mask.remove();\n            }\n        },\n        plugin: function(widget, register, prefix) {\n            var name = widget.fn.options.name,\n                getter;\n\n            register = register || kendo.ui;\n            prefix = prefix || \"\";\n\n            register[name] = widget;\n\n            register.roles[name.toLowerCase()] = widget;\n\n            getter = \"getKendo\" + prefix + name;\n            name = \"kendo\" + prefix + name;\n\n            var widgetEntry = { name: name, widget: widget, prefix: prefix || \"\" };\n            kendo.widgets.push(widgetEntry);\n\n            for (var i = 0, len = kendo._widgetRegisteredCallbacks.length; i < len; i++) {\n                kendo._widgetRegisteredCallbacks[i](widgetEntry);\n            }\n\n            $.fn[name] = function(options) {\n                var value = this,\n                    args;\n\n                if (typeof options === STRING) {\n                    args = slice.call(arguments, 1);\n\n                    this.each(function() {\n                        var widget = $.data(this, name),\n                            method,\n                            result;\n\n                        if (!widget) {\n                            throw new Error(kendo.format(\"Cannot call method '{0}' of {1} before it is initialized\", options, name));\n                        }\n\n                        method = widget[options];\n\n                        if (typeof method !== FUNCTION) {\n                            throw new Error(kendo.format(\"Cannot find method '{0}' of {1}\", options, name));\n                        }\n\n                        result = method.apply(widget, args);\n\n                        if (result !== undefined) {\n                            value = result;\n                            return false;\n                        }\n                    });\n                } else {\n                    this.each(function() {\n                        return new widget(this, options);\n                    });\n                }\n\n                return value;\n            };\n\n            $.fn[name].widget = widget;\n\n            $.fn[getter] = function() {\n                return this.data(name);\n            };\n        }\n    });\n\n    kendo.ui.progress.messages = {\n        loading: \"Loading...\"\n    };\n\n    var ContainerNullObject = { bind: function() { return this; }, nullObject: true, options: {} };\n\n    var MobileWidget = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n            this.element.autoApplyNS();\n            this.wrapper = this.element;\n            this.element.addClass(\"km-widget\");\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.element.kendoDestroy();\n        },\n\n        options: {\n            prefix: \"Mobile\"\n        },\n\n        events: [],\n\n        view: function() {\n            var viewElement = this.element.closest(kendo.roleSelector(\"view splitview modalview drawer\"));\n            return kendo.widgetInstance(viewElement, kendo.mobile.ui) || ContainerNullObject;\n        },\n\n        viewHasNativeScrolling: function() {\n            var view = this.view();\n            return view && view.options.useNativeScrolling;\n        },\n\n        container: function() {\n            var element = this.element.closest(kendo.roleSelector(\"view layout modalview drawer splitview\"));\n            return kendo.widgetInstance(element.eq(0), kendo.mobile.ui) || ContainerNullObject;\n        }\n    });\n\n    extend(kendo.mobile, {\n        init: function(element) {\n            kendo.init(element, kendo.mobile.ui, kendo.ui, kendo.dataviz.ui);\n        },\n\n        appLevelNativeScrolling: function() {\n            return kendo.mobile.application && kendo.mobile.application.options && kendo.mobile.application.options.useNativeScrolling;\n        },\n\n        roles: {},\n\n        ui: {\n            Widget: MobileWidget,\n            DataBoundWidget: DataBoundWidget.extend(MobileWidget.prototype),\n            roles: {},\n            plugin: function(widget) {\n                kendo.ui.plugin(widget, kendo.mobile.ui, \"Mobile\");\n            }\n        }\n    });\n\n    deepExtend(kendo.dataviz, {\n        init: function(element) {\n            kendo.init(element, kendo.dataviz.ui);\n        },\n        ui: {\n            roles: {},\n            themes: {},\n            views: [],\n            plugin: function(widget) {\n                kendo.ui.plugin(widget, kendo.dataviz.ui);\n            }\n        },\n        roles: {}\n    });\n\n    kendo.touchScroller = function(elements, options) {\n        // return the first touch scroller\n        if (!options) { options = {}; }\n\n        options.useNative = true;\n\n        return $(elements).map(function(idx, element) {\n            element = $(element);\n            if (support.kineticScrollNeeded && kendo.mobile.ui.Scroller && !element.data(\"kendoMobileScroller\")) {\n                element.kendoMobileScroller(options);\n                return element.data(\"kendoMobileScroller\");\n            } else {\n                return false;\n            }\n        })[0];\n    };\n\n    kendo.preventDefault = function(e) {\n        e.preventDefault();\n    };\n\n    kendo.widgetInstance = function(element, suites) {\n        var role = element.data(kendo.ns + \"role\"),\n            widgets = [], i, length,\n            elementData = element.data(\"kendoView\");\n\n        if (role) {\n            // HACK!!! mobile view scroller widgets are instantiated on data-role=\"content\" elements. We need to discover them when resizing.\n            if (role === \"content\") {\n                role = \"scroller\";\n            }\n\n            // kendoEditorToolbar is not a public plugin, thus it does not exist in kendo.ui.roles.\n            // Therefore, this is needed in order to be resized when placed in Kendo Window.\n            if (role === \"editortoolbar\") {\n                var editorToolbar = element.data(\"kendoEditorToolbar\");\n                if (editorToolbar) {\n                    return editorToolbar;\n                }\n            }\n\n            // kendo.View is not a ui plugin\n\n            if (role === \"view\" && elementData) {\n                return elementData;\n            }\n\n            if (suites) {\n                if (suites[0]) {\n                    for (i = 0, length = suites.length; i < length; i ++) {\n                        widgets.push(suites[i].roles[role]);\n                    }\n                } else {\n                    widgets.push(suites.roles[role]);\n                }\n            }\n            else {\n                widgets = [ kendo.ui.roles[role], kendo.dataviz.ui.roles[role], kendo.mobile.ui.roles[role] ];\n            }\n\n            if (role.indexOf(\".\") >= 0) {\n                widgets = [ kendo.getter(role)(window) ];\n            }\n\n            for (i = 0, length = widgets.length; i < length; i ++) {\n                var widget = widgets[i];\n                if (widget) {\n                    var instance = element.data(\"kendo\" + widget.fn.options.prefix + widget.fn.options.name);\n                    if (instance) {\n                        return instance;\n                    }\n                }\n            }\n        }\n    };\n\n    kendo.onResize = function(callback) {\n        var handler = callback;\n        if (support.mobileOS.android) {\n            handler = function() { setTimeout(callback, 600); };\n        }\n\n        $(window).on(support.resize, handler);\n        return handler;\n    };\n\n    kendo.unbindResize = function(callback) {\n        $(window).off(support.resize, callback);\n    };\n\n    kendo.attrValue = function(element, key) {\n        return element.data(kendo.ns + key);\n    };\n\n    kendo.days = {\n        Sunday: 0,\n        Monday: 1,\n        Tuesday: 2,\n        Wednesday: 3,\n        Thursday: 4,\n        Friday: 5,\n        Saturday: 6\n    };\n\n    function focusable(element, isTabIndexNotNaN) {\n        var nodeName = element.nodeName.toLowerCase();\n\n        return (/input|select|textarea|button|object/.test(nodeName) ?\n                !element.disabled :\n                nodeName === \"a\" ?\n                element.href || isTabIndexNotNaN :\n                isTabIndexNotNaN\n               ) &&\n            visible(element);\n    }\n\n    function visible(element) {\n        return $.expr.pseudos.visible(element) &&\n            !$(element).parents().addBack().filter(function() {\n                return $.css(this,\"visibility\") === \"hidden\";\n            }).length;\n    }\n\n    $.extend($.expr.pseudos, {\n        kendoFocusable: function(element) {\n            var idx = $.attr(element, \"tabindex\");\n            return focusable(element, !isNaN(idx) && idx > -1);\n        }\n    });\n\n    var MOUSE_EVENTS = [\"mousedown\", \"mousemove\", \"mouseenter\", \"mouseleave\", \"mouseover\", \"mouseout\", \"mouseup\", \"click\"];\n    var EXCLUDE_BUST_CLICK_SELECTOR = \"label, input, [data-rel=external]\";\n\n    var MouseEventNormalizer = {\n        setupMouseMute: function() {\n            var idx = 0,\n                length = MOUSE_EVENTS.length,\n                element = document.documentElement;\n\n            if (MouseEventNormalizer.mouseTrap || !support.eventCapture) {\n                return;\n            }\n\n            MouseEventNormalizer.mouseTrap = true;\n\n            MouseEventNormalizer.bustClick = false;\n            MouseEventNormalizer.captureMouse = false;\n\n            var handler = function(e) {\n                if (MouseEventNormalizer.captureMouse) {\n                    if (e.type === \"click\") {\n                        if (MouseEventNormalizer.bustClick && !$(e.target).is(EXCLUDE_BUST_CLICK_SELECTOR)) {\n                            e.preventDefault();\n                            e.stopPropagation();\n                        }\n                    } else {\n                        e.stopPropagation();\n                    }\n                }\n            };\n\n            for (; idx < length; idx++) {\n                element.addEventListener(MOUSE_EVENTS[idx], handler, true);\n            }\n        },\n\n        muteMouse: function(e) {\n            MouseEventNormalizer.captureMouse = true;\n            if (e.data.bustClick) {\n                MouseEventNormalizer.bustClick = true;\n            }\n            clearTimeout(MouseEventNormalizer.mouseTrapTimeoutID);\n        },\n\n        unMuteMouse: function() {\n            clearTimeout(MouseEventNormalizer.mouseTrapTimeoutID);\n            MouseEventNormalizer.mouseTrapTimeoutID = setTimeout(function() {\n                MouseEventNormalizer.captureMouse = false;\n                MouseEventNormalizer.bustClick = false;\n            }, 400);\n        }\n    };\n\n    var eventMap = {\n        down: \"touchstart mousedown\",\n        move: \"mousemove touchmove\",\n        up: \"mouseup touchend touchcancel\",\n        cancel: \"mouseleave touchcancel\"\n    };\n\n    if (support.touch && (support.mobileOS.ios || support.mobileOS.android)) {\n        eventMap = {\n            down: \"touchstart\",\n            move: \"touchmove\",\n            up: \"touchend touchcancel\",\n            cancel: \"touchcancel\"\n        };\n    } else if (support.pointers) {\n        eventMap = {\n            down: \"pointerdown\",\n            move: \"pointermove\",\n            up: \"pointerup\",\n            cancel: \"pointercancel pointerleave\"\n        };\n    } else if (support.msPointers) {\n        eventMap = {\n            down: \"MSPointerDown\",\n            move: \"MSPointerMove\",\n            up: \"MSPointerUp\",\n            cancel: \"MSPointerCancel MSPointerLeave\"\n        };\n    }\n\n    if (support.msPointers && !(\"onmspointerenter\" in window)) { // IE10\n        // Create MSPointerEnter/MSPointerLeave events using mouseover/out and event-time checks\n        $.each({\n            MSPointerEnter: \"MSPointerOver\",\n            MSPointerLeave: \"MSPointerOut\"\n        }, function( orig, fix ) {\n            $.event.special[ orig ] = {\n                delegateType: fix,\n                bindType: fix,\n\n                handle: function( event ) {\n                    var ret,\n                        target = this,\n                        related = event.relatedTarget,\n                        handleObj = event.handleObj;\n\n                    // For mousenter/leave call the handler if related is outside the target.\n                    // NB: No relatedTarget if the mouse left/entered the browser window\n                    if ( !related || (related !== target && !$.contains( target, related )) ) {\n                        event.type = handleObj.origType;\n                        ret = handleObj.handler.apply( this, arguments );\n                        event.type = fix;\n                    }\n                    return ret;\n                }\n            };\n        });\n    }\n\n\n    var getEventMap = function(e) { return (eventMap[e] || e); },\n        eventRegEx = /([^ ]+)/g;\n\n    kendo.applyEventMap = function(events, ns) {\n        events = events.replace(eventRegEx, getEventMap);\n\n        if (ns) {\n            events = events.replace(eventRegEx, \"$1.\" + ns);\n        }\n\n        return events;\n    };\n\n    kendo.keyDownHandler = function(e, widget) {\n        var events = widget._events.kendoKeydown;\n\n        if (!events) {\n            return true;\n        }\n\n        events = events.slice();\n        e.sender = widget;\n        e.preventKendoKeydown = false;\n        for (var idx = 0, length = events.length; idx < length; idx++) {\n            events[idx].call(widget, e);\n        }\n\n        return !e.preventKendoKeydown;\n    };\n\n    var on = $.fn.on;\n\n    function kendoJQuery(selector, context) {\n        return new kendoJQuery.fn.init(selector, context);\n    }\n\n    noDepricateExtend(true, kendoJQuery, $);\n\n    kendoJQuery.fn = kendoJQuery.prototype = new $();\n\n    kendoJQuery.fn.constructor = kendoJQuery;\n\n    kendoJQuery.fn.init = function(selector, context) {\n        if (context && context instanceof $ && !(context instanceof kendoJQuery)) {\n            context = kendoJQuery(context);\n        }\n\n        return $.fn.init.call(this, selector, context, rootjQuery);\n    };\n\n    kendoJQuery.fn.init.prototype = kendoJQuery.fn;\n\n    var rootjQuery = kendoJQuery(document);\n\n    extend(kendoJQuery.fn, {\n        handler: function(handler) {\n            this.data(\"handler\", handler);\n            return this;\n        },\n\n        autoApplyNS: function(ns) {\n            this.data(\"kendoNS\", ns || kendo.guid());\n            return this;\n        },\n\n        on: function() {\n            var that = this,\n                ns = that.data(\"kendoNS\");\n\n            // support for event map signature\n            if (arguments.length === 1) {\n                return on.call(that, arguments[0]);\n            }\n\n            var context = that,\n                args = slice.call(arguments);\n\n            if (typeof args[args.length - 1] === UNDEFINED) {\n                args.pop();\n            }\n\n            var callback = args[args.length - 1],\n                events = kendo.applyEventMap(args[0], ns);\n\n            // setup mouse trap\n            if (support.mouseAndTouchPresent && events.search(/mouse|click/) > -1 && this[0] !== document.documentElement) {\n                MouseEventNormalizer.setupMouseMute();\n\n                var selector = args.length === 2 ? null : args[1],\n                    bustClick = events.indexOf(\"click\") > -1 && events.indexOf(\"touchend\") > -1;\n\n                on.call(this,\n                    {\n                        touchstart: MouseEventNormalizer.muteMouse,\n                        touchend: MouseEventNormalizer.unMuteMouse\n                    },\n                    selector,\n                    {\n                        bustClick: bustClick\n                    });\n            }\n\n            if (arguments[0].indexOf(\"keydown\") !== -1 && args[1] && args[1].options) {\n                args[0] = events;\n                var widget = args[1];\n                var keyDownCallBack = args[args.length - 1];\n                args[args.length - 1] = function(e) {\n                    if (kendo.keyDownHandler(e, widget)) {\n                       return keyDownCallBack.apply(this, [e]);\n                    }\n                };\n                on.apply(that, args);\n                return that;\n            }\n\n            if (typeof callback === STRING) {\n                context = that.data(\"handler\");\n                callback = context[callback];\n\n                args[args.length - 1] = function(e) {\n                    callback.call(context, e);\n                };\n            }\n\n            args[0] = events;\n\n            on.apply(that, args);\n\n            return that;\n        },\n\n        kendoDestroy: function(ns) {\n            ns = ns || this.data(\"kendoNS\");\n\n            if (ns) {\n                this.off(\".\" + ns);\n            }\n\n            return this;\n        }\n    });\n\n    kendo.jQuery = kendoJQuery;\n    kendo.eventMap = eventMap;\n\n    kendo.timezone = (function() {\n        var months = { Jan: 0, Feb: 1, Mar: 2, Apr: 3, May: 4, Jun: 5, Jul: 6, Aug: 7, Sep: 8, Oct: 9, Nov: 10, Dec: 11 };\n        var days = { Sun: 0, Mon: 1, Tue: 2, Wed: 3, Thu: 4, Fri: 5, Sat: 6 };\n\n        function ruleToDate(year, rule) {\n            var date;\n            var targetDay;\n            var ourDay;\n            var month = rule[3];\n            var on = rule[4];\n            var time = rule[5];\n            var cache = rule[8];\n\n            if (!cache) {\n                rule[8] = cache = {};\n            }\n\n            if (cache[year]) {\n                return cache[year];\n            }\n\n            if (!isNaN(on)) {\n                date = new Date(Date.UTC(year, months[month], on, time[0], time[1], time[2], 0));\n            } else if (on.indexOf(\"last\") === 0) {\n                date = new Date(Date.UTC(year, months[month] + 1, 1, time[0] - 24, time[1], time[2], 0));\n\n                targetDay = days[on.substr(4, 3)];\n                ourDay = date.getUTCDay();\n\n                date.setUTCDate(date.getUTCDate() + targetDay - ourDay - (targetDay > ourDay ? 7 : 0));\n            } else if (on.indexOf(\">=\") >= 0) {\n                date = new Date(Date.UTC(year, months[month], on.substr(5), time[0], time[1], time[2], 0));\n\n                targetDay = days[on.substr(0, 3)];\n                ourDay = date.getUTCDay();\n\n                date.setUTCDate(date.getUTCDate() + targetDay - ourDay + (targetDay < ourDay ? 7 : 0));\n            } else if (on.indexOf(\"<=\") >= 0) {\n                date = new Date(Date.UTC(year, months[month], on.substr(5), time[0], time[1], time[2], 0));\n\n                targetDay = days[on.substr(0, 3)];\n                ourDay = date.getUTCDay();\n\n                date.setUTCDate(date.getUTCDate() + targetDay - ourDay - (targetDay > ourDay ? 7 : 0));\n            }\n\n            return cache[year] = date;\n        }\n\n        function findRule(utcTime, rules, zone) {\n            rules = rules[zone];\n\n            if (!rules) {\n                var time = zone.split(\":\");\n                var offset = 0;\n\n                if (time.length > 1) {\n                    offset = time[0] * 60 + Number(time[1]);\n                }\n\n                return [-1000000, 'max', '-', 'Jan', 1, [0, 0, 0], offset, '-'];\n            }\n\n            var year = new Date(utcTime).getUTCFullYear();\n\n            rules = jQuery.grep(rules, function(rule) {\n                var from = rule[0];\n                var to = rule[1];\n\n                return from <= year && (to >= year || (from == year && to == \"only\") || to == \"max\");\n            });\n\n            rules.push(utcTime);\n\n            rules.sort(function(a, b) {\n                if (typeof a != \"number\") {\n                    a = Number(ruleToDate(year, a));\n                }\n\n                if (typeof b != \"number\") {\n                    b = Number(ruleToDate(year, b));\n                }\n\n                return a - b;\n            });\n\n            var rule = rules[jQuery.inArray(utcTime, rules) - 1] || rules[rules.length - 1];\n\n            return isNaN(rule) ? rule : null;\n        }\n\n        function findZone(utcTime, zones, timezone) {\n            var zoneRules = zones[timezone];\n\n            if (typeof zoneRules === \"string\") {\n                zoneRules = zones[zoneRules];\n            }\n\n            if (!zoneRules) {\n                throw new Error('Timezone \"' + timezone + '\" is either incorrect, or kendo.timezones.min.js is not included.');\n            }\n\n            for (var idx = zoneRules.length - 1; idx >= 0; idx--) {\n                var until = zoneRules[idx][3];\n\n                if (until && utcTime > until) {\n                    break;\n                }\n            }\n\n            var zone = zoneRules[idx + 1];\n\n            if (!zone) {\n                throw new Error('Timezone \"' + timezone + '\" not found on ' + utcTime + \".\");\n            }\n\n            return zone;\n        }\n\n        function zoneAndRule(utcTime, zones, rules, timezone) {\n            if (typeof utcTime != NUMBER) {\n                utcTime = Date.UTC(utcTime.getFullYear(), utcTime.getMonth(),\n                    utcTime.getDate(), utcTime.getHours(), utcTime.getMinutes(),\n                    utcTime.getSeconds(), utcTime.getMilliseconds());\n            }\n\n            var zone = findZone(utcTime, zones, timezone);\n\n            return {\n                zone: zone,\n                rule: findRule(utcTime, rules, zone[1])\n            };\n        }\n\n        function offset(utcTime, timezone) {\n            if (timezone == \"Etc/UTC\" || timezone == \"Etc/GMT\") {\n                return 0;\n            }\n\n            var info = zoneAndRule(utcTime, this.zones, this.rules, timezone);\n            var zone = info.zone;\n            var rule = info.rule;\n\n            return kendo.parseFloat(rule ? zone[0] - rule[6] : zone[0]);\n        }\n\n        function abbr(utcTime, timezone) {\n            var info = zoneAndRule(utcTime, this.zones, this.rules, timezone);\n            var zone = info.zone;\n            var rule = info.rule;\n\n            var base = zone[2];\n\n            if (base.indexOf(\"/\") >= 0) {\n                return base.split(\"/\")[rule && +rule[6] ? 1 : 0];\n            } else if (base.indexOf(\"%s\") >= 0) {\n                return base.replace(\"%s\", (!rule || rule[7] == \"-\") ? '' : rule[7]);\n            }\n\n            return base;\n        }\n\n        function convert(date, fromOffset, toOffset) {\n            var tempToOffset = toOffset;\n            var diff;\n\n            if (typeof fromOffset == STRING) {\n                fromOffset = this.offset(date, fromOffset);\n            }\n\n            if (typeof toOffset == STRING) {\n                toOffset = this.offset(date, toOffset);\n            }\n\n            var fromLocalOffset = date.getTimezoneOffset();\n\n            date = new Date(date.getTime() + (fromOffset - toOffset) * 60000);\n\n            var toLocalOffset = date.getTimezoneOffset();\n\n            if (typeof tempToOffset == STRING) {\n                tempToOffset = this.offset(date, tempToOffset);\n            }\n\n            diff = (toLocalOffset - fromLocalOffset) + (toOffset - tempToOffset);\n\n            return new Date(date.getTime() + diff * 60000);\n        }\n\n        function apply(date, timezone) {\n           return this.convert(date, date.getTimezoneOffset(), timezone);\n        }\n\n        function remove(date, timezone) {\n           return this.convert(date, timezone, date.getTimezoneOffset());\n        }\n\n        function toLocalDate(time) {\n            return this.apply(new Date(time), \"Etc/UTC\");\n        }\n\n        return {\n           zones: {},\n           rules: {},\n           offset: offset,\n           convert: convert,\n           apply: apply,\n           remove: remove,\n           abbr: abbr,\n           toLocalDate: toLocalDate\n        };\n    })();\n\n    kendo.date = (function() {\n        var MS_PER_MINUTE = 60000,\n            MS_PER_DAY = 86400000;\n\n        function adjustDST(date, hours) {\n            if (hours === 0 && date.getHours() === 23) {\n                date.setHours(date.getHours() + 2);\n                return true;\n            }\n\n            return false;\n        }\n\n        function setDayOfWeek(date, day, dir) {\n            var hours = date.getHours();\n\n            dir = dir || 1;\n            day = ((day - date.getDay()) + (7 * dir)) % 7;\n\n            date.setDate(date.getDate() + day);\n            adjustDST(date, hours);\n        }\n\n        function dayOfWeek(date, day, dir) {\n            date = new Date(date);\n            setDayOfWeek(date, day, dir);\n            return date;\n        }\n\n        function firstDayOfMonth(date) {\n            return new Date(\n                date.getFullYear(),\n                date.getMonth(),\n                1\n            );\n        }\n\n        function lastDayOfMonth(date) {\n            var last = new Date(date.getFullYear(), date.getMonth() + 1, 0),\n                first = firstDayOfMonth(date),\n                timeOffset = Math.abs(last.getTimezoneOffset() - first.getTimezoneOffset());\n\n            if (timeOffset) {\n                last.setHours(first.getHours() + (timeOffset / 60));\n            }\n\n            return last;\n        }\n\n        function firstDayOfYear(date) {\n            return new Date(date.getFullYear(), 0, 1);\n        }\n\n        function lastDayOfYear(date) {\n            return new Date(date.getFullYear(), 11, 31);\n        }\n\n        function moveDateToWeekStart(date, weekStartDay) {\n            if (weekStartDay !== 1) {\n                return addDays(dayOfWeek(date, weekStartDay, -1), 4);\n            }\n\n            return addDays(date, (4 - (date.getDay() || 7)));\n        }\n\n        function calcWeekInYear(date, weekStartDay) {\n            var firstWeekInYear = new Date(date.getFullYear(), 0, 1, -6);\n\n            var newDate = moveDateToWeekStart(date, weekStartDay);\n\n            var diffInMS = newDate.getTime() - firstWeekInYear.getTime();\n\n            var days = Math.floor(diffInMS / MS_PER_DAY);\n\n            return 1 + Math.floor(days / 7);\n        }\n\n        function weekInYear(date, weekStartDay) {\n            if (weekStartDay === undefined) {\n                weekStartDay = kendo.culture().calendar.firstDay;\n            }\n\n            var prevWeekDate = addDays(date, -7);\n            var nextWeekDate = addDays(date, 7);\n\n            var weekNumber = calcWeekInYear(date, weekStartDay);\n\n            if (weekNumber === 0) {\n                return calcWeekInYear(prevWeekDate, weekStartDay) + 1;\n            }\n\n            if (weekNumber === 53 && calcWeekInYear(nextWeekDate, weekStartDay) > 1) {\n                return 1;\n            }\n\n            return weekNumber;\n        }\n\n        function getDate(date) {\n            date = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\n            adjustDST(date, 0);\n            return date;\n        }\n\n        function toUtcTime(date) {\n            return Date.UTC(date.getFullYear(), date.getMonth(),\n                        date.getDate(), date.getHours(), date.getMinutes(),\n                        date.getSeconds(), date.getMilliseconds());\n        }\n\n        function getMilliseconds(date) {\n            return toInvariantTime(date).getTime() - getDate(toInvariantTime(date));\n        }\n\n        function isInTimeRange(value, min, max) {\n            var msMin = getMilliseconds(min),\n                msMax = getMilliseconds(max),\n                msValue;\n\n            if (!value || msMin == msMax) {\n                return true;\n            }\n\n            if (min >= max) {\n                max += MS_PER_DAY;\n            }\n\n            msValue = getMilliseconds(value);\n\n            if (msMin > msValue) {\n                msValue += MS_PER_DAY;\n            }\n\n            if (msMax < msMin) {\n                msMax += MS_PER_DAY;\n            }\n\n            return msValue >= msMin && msValue <= msMax;\n        }\n\n        function isInDateRange(value, min, max) {\n            var msMin = min.getTime(),\n                msMax = max.getTime(),\n                msValue;\n\n            if (msMin >= msMax) {\n                msMax += MS_PER_DAY;\n            }\n\n            msValue = value.getTime();\n\n            return msValue >= msMin && msValue <= msMax;\n        }\n\n        function addDays(date, offset) {\n            var hours = date.getHours();\n                date = new Date(date);\n\n            setTime(date, offset * MS_PER_DAY);\n            adjustDST(date, hours);\n            return date;\n        }\n\n        function setTime(date, milliseconds, ignoreDST) {\n            var offset = date.getTimezoneOffset();\n            var difference;\n\n            date.setTime(date.getTime() + milliseconds);\n\n            if (!ignoreDST) {\n                difference = date.getTimezoneOffset() - offset;\n                date.setTime(date.getTime() + difference * MS_PER_MINUTE);\n            }\n        }\n\n        function setHours(date, time) {\n            date = new Date(date.getFullYear(), date.getMonth(), date.getDate(), time.getHours(), time.getMinutes(), time.getSeconds(), time.getMilliseconds());\n            adjustDST(date, time.getHours());\n            return date;\n        }\n\n        function today() {\n            return getDate(new Date());\n        }\n\n        function isToday(date) {\n           return getDate(date).getTime() == today().getTime();\n        }\n\n        function toInvariantTime(date) {\n            var staticDate = new Date(1980, 1, 1, 0, 0, 0);\n\n            if (date) {\n                staticDate.setHours(date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds());\n            }\n\n            return staticDate;\n        }\n\n        function addYear(date, offset) {\n            var currentDate = new Date(date);\n\n            return new Date(currentDate.setFullYear(currentDate.getFullYear() + offset));\n        }\n\n        return {\n            adjustDST: adjustDST,\n            dayOfWeek: dayOfWeek,\n            setDayOfWeek: setDayOfWeek,\n            getDate: getDate,\n            isInDateRange: isInDateRange,\n            isInTimeRange: isInTimeRange,\n            isToday: isToday,\n            nextDay: function(date) {\n                return addDays(date, 1);\n            },\n            previousDay: function(date) {\n                return addDays(date, -1);\n            },\n            toUtcTime: toUtcTime,\n            MS_PER_DAY: MS_PER_DAY,\n            MS_PER_HOUR: 60 * MS_PER_MINUTE,\n            MS_PER_MINUTE: MS_PER_MINUTE,\n            setTime: setTime,\n            setHours: setHours,\n            addDays: addDays,\n            today: today,\n            toInvariantTime: toInvariantTime,\n            firstDayOfMonth: firstDayOfMonth,\n            lastDayOfMonth: lastDayOfMonth,\n            weekInYear: weekInYear,\n            getMilliseconds: getMilliseconds,\n            firstDayOfYear: firstDayOfYear,\n            lastDayOfYear: lastDayOfYear,\n            nextYear: function(date) {\n                return addYear(date, 1);\n            },\n            previousYear: function(date) {\n                return addYear(date, -1);\n            }\n        };\n    })();\n\n\n    kendo.stripWhitespace = function(element) {\n        if (document.createNodeIterator) {\n            var iterator = document.createNodeIterator(element, NodeFilter.SHOW_TEXT, function(node) {\n                    return node.parentNode == element ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_REJECT;\n                }, false);\n\n            while (iterator.nextNode()) {\n                if (iterator.referenceNode && !iterator.referenceNode.textContent.trim()) {\n                    iterator.referenceNode.parentNode.removeChild(iterator.referenceNode);\n                }\n            }\n        } else { // IE7/8 support\n            for (var i = 0; i < element.childNodes.length; i++) {\n                var child = element.childNodes[i];\n\n                if (child.nodeType == 3 && !/\\S/.test(child.nodeValue)) {\n                    element.removeChild(child);\n                    i--;\n                }\n\n                if (child.nodeType == 1) {\n                    kendo.stripWhitespace(child);\n                }\n            }\n        }\n    };\n\n    var animationFrame = window.requestAnimationFrame ||\n                          window.webkitRequestAnimationFrame ||\n                          window.mozRequestAnimationFrame ||\n                          window.oRequestAnimationFrame ||\n                          window.msRequestAnimationFrame ||\n                          function(callback) { setTimeout(callback, 1000 / 60); };\n\n    kendo.animationFrame = function(callback) {\n        animationFrame.call(window, callback);\n    };\n\n    var animationQueue = [];\n\n    kendo.queueAnimation = function(callback) {\n        animationQueue[animationQueue.length] = callback;\n        if (animationQueue.length === 1) {\n            kendo.runNextAnimation();\n        }\n    };\n\n    kendo.runNextAnimation = function() {\n        kendo.animationFrame(function() {\n            if (animationQueue[0]) {\n                animationQueue.shift()();\n                if (animationQueue[0]) {\n                    kendo.runNextAnimation();\n                }\n            }\n        });\n    };\n\n    kendo.parseQueryStringParams = function(url) {\n        var queryString = url.split('?')[1] || \"\",\n            params = {},\n            paramParts = queryString.split(/&|=/),\n            length = paramParts.length,\n            idx = 0;\n\n        for (; idx < length; idx += 2) {\n            if (paramParts[idx] !== \"\") {\n                params[decodeURIComponent(paramParts[idx])] = decodeURIComponent(paramParts[idx + 1]);\n            }\n        }\n\n        return params;\n    };\n\n    kendo.elementUnderCursor = function(e) {\n        if (typeof e.x.client != \"undefined\") {\n            return document.elementFromPoint(e.x.client, e.y.client);\n        }\n    };\n\n    kendo.wheelDeltaY = function(jQueryEvent) {\n        var e = jQueryEvent.originalEvent,\n            deltaY = e.wheelDeltaY,\n            delta;\n\n            if (e.wheelDelta) { // Webkit and IE\n                if (deltaY === undefined || deltaY) { // IE does not have deltaY, thus always scroll (horizontal scrolling is treated as vertical)\n                    delta = e.wheelDelta;\n                }\n            } else if (e.detail && e.axis === e.VERTICAL_AXIS) { // Firefox and Opera\n                delta = (-e.detail) * 10;\n            }\n\n        return delta;\n    };\n\n    kendo.throttle = function(fn, delay) {\n        var timeout;\n        var lastExecTime = 0;\n\n        if (!delay || delay <= 0) {\n            return fn;\n        }\n\n        var throttled = function() {\n            var that = this;\n            var elapsed = +new Date() - lastExecTime;\n            var args = arguments;\n\n            function exec() {\n                fn.apply(that, args);\n                lastExecTime = +new Date();\n            }\n\n            // first execution\n            if (!lastExecTime) {\n                return exec();\n            }\n\n            if (timeout) {\n                clearTimeout(timeout);\n            }\n\n            if (elapsed > delay) {\n                exec();\n            } else {\n                timeout = setTimeout(exec, delay - elapsed);\n            }\n        };\n\n        throttled.cancel = function() {\n            clearTimeout(timeout);\n        };\n\n        return throttled;\n    };\n\n\n    kendo.caret = function(element, start, end) {\n        var rangeElement;\n        var isPosition = start !== undefined;\n\n        if (end === undefined) {\n            end = start;\n        }\n\n        if (element[0]) {\n            element = element[0];\n        }\n\n        if (isPosition && element.disabled) {\n            return;\n        }\n\n        try {\n            if (element.selectionStart !== undefined) {\n                if (isPosition) {\n                    element.focus();\n                    var mobile = support.mobileOS;\n                    if (mobile.wp || mobile.android) {// without the timeout the caret is at the end of the input\n                        setTimeout(function() { element.setSelectionRange(start, end); }, 0);\n                    }\n                    else {\n                        element.setSelectionRange(start, end);\n                    }\n                } else {\n                    start = [element.selectionStart, element.selectionEnd];\n                }\n            } else if (document.selection) {\n                if ($(element).is(\":visible\")) {\n                    element.focus();\n                }\n\n                rangeElement = element.createTextRange();\n\n                if (isPosition) {\n                    rangeElement.collapse(true);\n                    rangeElement.moveStart(\"character\", start);\n                    rangeElement.moveEnd(\"character\", end - start);\n                    rangeElement.select();\n                } else {\n                    var rangeDuplicated = rangeElement.duplicate(),\n                        selectionStart, selectionEnd;\n\n                        rangeElement.moveToBookmark(document.selection.createRange().getBookmark());\n                        rangeDuplicated.setEndPoint('EndToStart', rangeElement);\n                        selectionStart = rangeDuplicated.text.length;\n                        selectionEnd = selectionStart + rangeElement.text.length;\n\n                    start = [selectionStart, selectionEnd];\n                }\n            }\n        } catch (e) {\n            /* element is not focused or it is not in the DOM */\n            start = [];\n        }\n\n        return start;\n    };\n\n    kendo.compileMobileDirective = function(element, scope) {\n        var angular = window.angular;\n\n        element.attr(\"data-\" + kendo.ns + \"role\", element[0].tagName.toLowerCase().replace('kendo-mobile-', '').replace('-', ''));\n\n        angular.element(element).injector().invoke([\"$compile\", function($compile) {\n            $compile(element)(scope);\n\n            if (!/^\\$(digest|apply)$/.test(scope.$$phase)) {\n                scope.$digest();\n            }\n        }]);\n\n        return kendo.widgetInstance(element, kendo.mobile.ui);\n    };\n\n    kendo.antiForgeryTokens = function() {\n        var tokens = { },\n            csrf_token = $(\"meta[name=csrf-token],meta[name=_csrf]\").attr(\"content\"),\n            csrf_param = $(\"meta[name=csrf-param],meta[name=_csrf_header]\").attr(\"content\");\n\n        $(\"input[name^='__RequestVerificationToken']\").each(function() {\n            tokens[this.name] = this.value;\n        });\n\n        if (csrf_param !== undefined && csrf_token !== undefined) {\n          tokens[csrf_param] = csrf_token;\n        }\n\n        return tokens;\n    };\n\n    kendo.cycleForm = function(form) {\n        var firstElement = form.find(\"input, .k-widget, .k-dropdownlist, .k-combobox\").first();\n        var lastElement = form.find(\"button, .k-button\").last();\n\n        function focus(el) {\n            var widget = kendo.widgetInstance(el);\n\n            if (widget && widget.focus) {\n              widget.focus();\n            } else {\n              el.trigger(\"focus\");\n            }\n        }\n\n        lastElement.on(\"keydown\", function(e) {\n          if (e.keyCode == kendo.keys.TAB && !e.shiftKey) {\n            e.preventDefault();\n            focus(firstElement);\n          }\n        });\n\n        firstElement.on(\"keydown\", function(e) {\n          if (e.keyCode == kendo.keys.TAB && e.shiftKey) {\n            e.preventDefault();\n            focus(lastElement);\n          }\n        });\n    };\n\n    kendo.focusElement = function(element) {\n        var scrollTopPositions = [];\n        var scrollableParents = element.parentsUntil(\"body\")\n                .filter(function(index, element) {\n                    var computedStyle = kendo.getComputedStyles(element, [\"overflow\"]);\n                    return computedStyle.overflow !== \"visible\";\n                })\n                .add(window);\n\n        scrollableParents.each(function(index, parent) {\n            scrollTopPositions[index] = $(parent).scrollTop();\n        });\n\n        try {\n            //The setActive method does not cause the document to scroll to the active object in the current page\n            element[0].setActive();\n        } catch (e) {\n            element[0].focus();\n        }\n\n        scrollableParents.each(function(index, parent) {\n            $(parent).scrollTop(scrollTopPositions[index]);\n        });\n    };\n\n    kendo.focusNextElement = function() {\n        if (document.activeElement) {\n            var focussable = $(\":kendoFocusable\");\n            var index = focussable.index(document.activeElement);\n\n            if (index > -1) {\n               var nextElement = focussable[index + 1] || focussable[0];\n               nextElement.focus();\n            }\n        }\n    };\n\n    kendo.trim = function(value) {\n        if (!!value) {\n            return value.toString().trim();\n        } else {\n            return \"\";\n        }\n    };\n\n    kendo.getWidgetFocusableElement = function(element) {\n        var nextFocusable = element.closest(\":kendoFocusable\"),\n            widgetInstance = kendo.widgetInstance(element),\n            target;\n\n        if (nextFocusable.length) {\n            target = nextFocusable;\n        } else if (widgetInstance) {\n            target = widgetInstance.options.name === 'Editor' ?\n                $(widgetInstance.body) :\n                widgetInstance.wrapper.find(\":kendoFocusable\").first();\n        } else {\n            target = element;\n        }\n\n        return target;\n    };\n\n    kendo.addAttribute = function(element, attribute, value) {\n        var current = element.attr(attribute) || \"\";\n\n        if (current.indexOf(value) < 0) {\n            element.attr(attribute, (current + \" \" + value).trim());\n        }\n    };\n\n    kendo.removeAttribute = function(element, attribute, value) {\n        var current = element.attr(attribute) || \"\";\n\n        element.attr(attribute, current.replace(value, \"\").trim());\n    };\n\n    kendo.toggleAttribute = function(element, attribute, value) {\n        var current = element.attr(attribute) || \"\";\n\n        if (current.indexOf(value) < 0) {\n            kendo.addAttribute(element, attribute, value);\n        } else {\n            kendo.removeAttribute(element, attribute, value);\n        }\n    };\n\n    kendo.matchesMedia = function(mediaQuery) {\n        var media = kendo._bootstrapToMedia(mediaQuery) || mediaQuery;\n        return support.matchMedia && window.matchMedia(media).matches;\n    };\n\n    kendo._bootstrapToMedia = function(bootstrapMedia) {\n        return {\n            \"xs\": \"(max-width: 576px)\",\n            \"sm\": \"(min-width: 576px)\",\n            \"md\": \"(min-width: 768px)\",\n            \"lg\": \"(min-width: 992px)\",\n            \"xl\": \"(min-width: 1200px)\"\n        }[bootstrapMedia];\n    };\n\n    kendo.fileGroupMap = {\n        audio: [\".aif\", \".iff\", \".m3u\", \".m4a\", \".mid\", \".mp3\", \".mpa\", \".wav\", \".wma\", \".ogg\", \".wav\", \".wma\", \".wpl\"],\n        video: [\".3g2\", \".3gp\", \".avi\", \".asf\", \".flv\", \".m4u\", \".rm\", \".h264\", \".m4v\", \".mkv\", \".mov\", \".mp4\", \".mpg\",\n                \".rm\", \".swf\", \".vob\", \".wmv\"],\n        image: [\".ai\", \".dds\", \".heic\", \".jpe\", \"jfif\", \".jif\", \".jp2\", \".jps\", \".eps\", \".bmp\", \".gif\", \".jpeg\",\n                \".jpg\", \".png\", \".ps\", \".psd\", \".svg\", \".svgz\", \".tif\", \".tiff\"],\n        txt: [\".doc\", \".docx\", \".log\", \".pages\", \".tex\", \".wpd\", \".wps\", \".odt\", \".rtf\", \".text\", \".txt\", \".wks\"],\n        presentation: [\".key\", \".odp\", \".pps\", \".ppt\", \".pptx\"],\n        data: [\".xlr\", \".xls\", \".xlsx\"],\n        programming: [\".tmp\", \".bak\", \".msi\", \".cab\", \".cpl\", \".cur\", \".dll\", \".dmp\", \".drv\", \".icns\", \".ico\", \".link\",\n                      \".sys\", \".cfg\", \".ini\", \".asp\", \".aspx\", \".cer\", \".csr\", \".css\", \".dcr\", \".htm\", \".html\", \".js\",\n                      \".php\", \".rss\", \".xhtml\"],\n        pdf: [\".pdf\"],\n        config: [\".apk\", \".app\", \".bat\", \".cgi\", \".com\", \".exe\", \".gadget\", \".jar\", \".wsf\"],\n        zip: [\".7z\", \".cbr\", \".gz\", \".sitx\", \".arj\", \".deb\", \".pkg\", \".rar\", \".rpm\", \".tar.gz\", \".z\", \".zip\", \".zipx\"],\n        \"disc-image\": [\".dmg\", \".iso\", \".toast\", \".vcd\", \".bin\", \".cue\", \".mdf\"]\n    };\n\n    kendo.getFileGroup = function(extension, withPrefix) {\n        var fileTypeMap = kendo.fileGroupMap;\n        var groups = Object.keys(fileTypeMap);\n        var type = \"file\";\n\n        if (extension === undefined || !extension.length) {\n            return type;\n        }\n\n        for (var i = 0; i < groups.length; i += 1) {\n            var extensions = fileTypeMap[groups[i]];\n\n            if (extensions.indexOf(extension.toLowerCase()) > -1) {\n               return withPrefix ? \"file-\" + groups[i] : groups[i];\n            }\n        }\n\n        return type;\n    };\n\n    kendo.getFileSizeMessage = function(size) {\n        var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n\n        if (size === 0) {\n            return '0 Byte';\n        }\n\n        var i = parseInt(Math.floor(Math.log(size) / Math.log(1024)), 10);\n        return Math.round(size / Math.pow(1024, i), 2) + ' ' + sizes[i];\n    };\n\n    kendo.selectorFromClasses = function(classes) {\n        return \".\" + classes.split(\" \").join(\".\");\n    };\n\n    // Standardized Properties and CSS classes\n\n    var themeColorValues = ['base', 'primary', 'secondary', 'tertiary', 'inherit', 'info', 'success', 'warning', 'error', 'dark', 'light', 'inverse'];\n    var fillValues = ['solid', 'outline', 'flat'];\n    //var postitionValues = ['edge', 'outside', 'inside'];\n    var shapeValues = ['rectangle', 'square'];\n    var sizeValues = [ ['small', 'sm'], ['medium', 'md'], ['large', 'lg'] ];\n    var roundedValues = [ ['small', 'sm'], ['medium', 'md'], ['large', 'lg'] ];\n    //var alignValues = [ ['top start', 'top-start'], ['top end', 'top-end'], ['bottom start', 'bottom-start'], ['bottom end', 'bottom-end'] ];\n    var positionModeValues = [ 'fixed', 'static', 'sticky', 'absolute' ];\n    var resizeValues = [ 'both', 'horizontal', 'vertical' ];\n    var overflowValues = [ 'auto', 'hidden', 'visible', 'scroll', 'clip' ];\n\n    kendo.cssProperties = (function() {\n        var defaultValues = {},\n            propertyDictionary = {};\n\n        function registerPrefix(widget, prefix) {\n            var dict = kendo.cssProperties.propertyDictionary;\n\n            if (!dict[widget]) {\n                dict[widget] = {};\n            }\n\n            dict[widget][PREFIX] = prefix;\n        }\n\n        function registerValues(widget, args) {\n            var dict = kendo.cssProperties.propertyDictionary,\n                i, j, prop, values, newValues, currentValue;\n\n            for (i = 0; i < args.length; i++) {\n                prop = args[i].prop;\n                newValues = args[i].values;\n\n                if (!dict[widget][prop]) {\n                    dict[widget][prop] = {};\n                }\n\n                values = dict[widget][prop];\n\n                for (j = 0; j < newValues.length; j++) {\n                    currentValue = newValues[j];\n\n                    if (isArray(newValues[j])) {\n                        values[currentValue[0]] = currentValue[1];\n                    } else {\n                        values[currentValue] = currentValue;\n                    }\n                }\n            }\n        }\n\n        function registerCssClass(propName, value, shorthand) {\n            if (!defaultValues[propName]) {\n                defaultValues[propName] = {};\n            }\n\n            defaultValues[propName][value] = shorthand || value;\n        }\n\n        function registerCssClasses(propName, arr) {\n            for (var i = 0; i < arr.length; i++) {\n                if (isArray(arr[i])) {\n                    registerCssClass(propName, arr[i][0], arr[i][1]);\n                } else {\n                    registerCssClass(propName, arr[i]);\n                }\n            }\n        }\n\n        function getValidClass(args) {\n            var widget = args.widget,\n                propName = args.propName,\n                value = args.value,\n                fill = args.fill,\n                cssProperties = kendo.cssProperties,\n                defaultValues = cssProperties.defaultValues[propName],\n                widgetProperties = cssProperties.propertyDictionary[widget],\n                widgetValues, validValue, prefix;\n\n            if (!widgetProperties) {\n                return \"\";\n            }\n\n            widgetValues = widgetProperties[propName];\n            validValue = widgetValues ? widgetValues[value] || defaultValues[value] : defaultValues[value];\n\n            if (validValue) {\n                if (propName === \"themeColor\") {\n                    prefix = widgetProperties[PREFIX] + fill + \"-\";\n                } else if (propName === \"positionMode\") {\n                    prefix = \"k-pos-\";\n                } else if (propName === \"rounded\") {\n                    prefix = \"k-rounded-\";\n                } else if (propName === \"resize\") {\n                    prefix = \"k-resize-\";\n                } else if (propName === \"overflow\") {\n                    prefix = \"k-overflow-\";\n                } else {\n                    prefix = widgetProperties[PREFIX];\n                }\n\n                return prefix + validValue;\n            } else {\n                return \"\";\n            }\n        }\n\n        registerCssClasses(\"themeColor\", themeColorValues);\n        registerCssClasses(\"fillMode\", fillValues);\n        registerCssClasses(\"shape\", shapeValues);\n        registerCssClasses(\"size\", sizeValues);\n        registerCssClasses(\"positionMode\", positionModeValues);\n        registerCssClasses(\"rounded\", roundedValues);\n        registerCssClasses(\"resize\", resizeValues);\n        registerCssClasses(\"overflow\", overflowValues);\n\n        return {\n            positionModeValues: positionModeValues,\n            roundedValues: roundedValues,\n            sizeValues: sizeValues,\n            shapeValues: shapeValues,\n            fillModeValues: fillValues,\n            themeColorValues: themeColorValues,\n\n            defaultValues: defaultValues,\n            propertyDictionary: propertyDictionary,\n\n            registerValues: registerValues,\n            getValidClass: getValidClass,\n            registerPrefix: registerPrefix\n        };\n    }());\n\n    //To do: delete below after implementing new styles and classes for BottomNavigation\n    kendo.registerCssClass = function(propName, value, shorthand) {\n        if (!kendo.propertyToCssClassMap[propName]) {\n            kendo.propertyToCssClassMap[propName] = {};\n        }\n\n        kendo.propertyToCssClassMap[propName][value] = shorthand || value;\n    };\n\n    kendo.registerCssClasses = function(propName, arr) {\n        for (var i = 0; i < arr.length; i++) {\n            if (isArray(arr[i])) {\n                kendo.registerCssClass(propName, arr[i][0], arr[i][1]);\n            } else {\n                kendo.registerCssClass(propName, arr[i]);\n            }\n        }\n    };\n\n    kendo.getValidCssClass = function(prefix, propName, value) {\n        var validValue = kendo.propertyToCssClassMap[propName][value];\n\n        if (validValue) {\n            return prefix + validValue;\n        }\n    };\n\n    kendo.propertyToCssClassMap = {};\n\n    kendo.registerCssClasses(\"themeColor\", themeColorValues);\n    kendo.registerCssClasses(\"fill\", fillValues);\n    //kendo.registerCssClasses(\"postition\", postitionValues);\n    kendo.registerCssClasses(\"shape\", shapeValues);\n    kendo.registerCssClasses(\"size\", sizeValues);\n    //kendo.registerCssClasses(\"align\", alignValues);\n    kendo.registerCssClasses(\"positionMode\", positionModeValues);\n\n    // jQuery deferred helpers\n\n    // influenced from: https://gist.github.com/fearphage/4341799\n    kendo.whenAll = function(array) {\n        var resolveValues = arguments.length == 1 && Array.isArray(array) ? array : Array.prototype.slice.call(arguments),\n            length = resolveValues.length,\n            remaining = length,\n            deferred = $.Deferred(),\n            i = 0,\n            failed = 0,\n            rejectContexts = Array(length),\n            rejectValues = Array(length),\n            resolveContexts = Array(length),\n            value;\n\n        function updateFunc(index, contexts, values) {\n            return function() {\n                if (values != resolveValues) {\n                    failed++;\n                }\n\n                deferred.notifyWith(\n                    contexts[index] = this,\n                    values[index] = Array.prototype.slice.call(arguments)\n                );\n\n                if (!(--remaining)) {\n                    deferred[(!failed ? 'resolve' : 'reject') + 'With'](contexts, values);\n                }\n            };\n        }\n\n        for (; i < length; i++) {\n            if ((value = resolveValues[i]) && kendo.isFunction(value.promise)) {\n                value.promise()\n                    .done(updateFunc(i, resolveContexts, resolveValues))\n                    .fail(updateFunc(i, rejectContexts, rejectValues));\n            }\n\n            else {\n                deferred.notifyWith(this, value);\n                --remaining;\n            }\n        }\n\n        if (!remaining) {\n            deferred.resolveWith(resolveContexts, resolveValues);\n        }\n\n        return deferred.promise();\n    };\n\n    // kendo.saveAs -----------------------------------------------\n    (function() {\n        function postToProxy(dataURI, fileName, proxyURL, proxyTarget) {\n            var form = $(\"<form>\").attr({\n                action: proxyURL,\n                method: \"POST\",\n                target: proxyTarget\n            });\n\n            var data = kendo.antiForgeryTokens();\n            data.fileName = fileName;\n\n            var parts = dataURI.split(\";base64,\");\n            data.contentType = parts[0].replace(\"data:\", \"\");\n            data.base64 = parts[1];\n\n            for (var name in data) {\n                if (data.hasOwnProperty(name)) {\n                    $('<input>').attr({\n                        value: data[name],\n                        name: name,\n                        type: \"hidden\"\n                    }).appendTo(form);\n                }\n            }\n\n            form.appendTo(\"body\").submit().remove();\n        }\n\n        var fileSaver = document.createElement(\"a\");\n        var downloadAttribute = \"download\" in fileSaver && !kendo.support.browser.edge;\n\n        function saveAsBlob(dataURI, fileName) {\n            var blob = dataURI; // could be a Blob object\n\n            if (typeof dataURI == \"string\") {\n                var parts = dataURI.split(\";base64,\");\n                var contentType = parts[0];\n                var base64 = atob(parts[1]);\n                var array = new Uint8Array(base64.length);\n\n                for (var idx = 0; idx < base64.length; idx++) {\n                    array[idx] = base64.charCodeAt(idx);\n                }\n                blob = new Blob([array.buffer], { type: contentType });\n            }\n\n            navigator.msSaveBlob(blob, fileName);\n        }\n\n        function saveAsDataURI(dataURI, fileName) {\n            if (window.Blob && dataURI instanceof Blob) {\n                dataURI = URL.createObjectURL(dataURI);\n            }\n\n            fileSaver.download = fileName;\n            fileSaver.href = dataURI;\n\n            var e = document.createEvent(\"MouseEvents\");\n            e.initMouseEvent(\"click\", true, false, window,\n                0, 0, 0, 0, 0, false, false, false, false, 0, null);\n\n            fileSaver.dispatchEvent(e);\n            setTimeout(function() {\n                URL.revokeObjectURL(dataURI);\n            });\n        }\n\n        kendo.saveAs = function(options) {\n            var save = postToProxy;\n\n            if (!options.forceProxy) {\n                if (downloadAttribute) {\n                    save = saveAsDataURI;\n                } else if (navigator.msSaveBlob) {\n                    save = saveAsBlob;\n                }\n            }\n\n            save(options.dataURI, options.fileName, options.proxyURL, options.proxyTarget);\n        };\n    })();\n\n    // kendo proxySetters\n    kendo.proxyModelSetters = function proxyModelSetters(data) {\n        var observable = {};\n\n        Object.keys(data || {}).forEach(function(property) {\n          Object.defineProperty(observable, property, {\n            get: function() {\n              return data[property];\n            },\n            set: function(value) {\n              data[property] = value;\n              data.dirty = true;\n            }\n          });\n        });\n\n        return observable;\n    };\n\n    kendo.getSeriesColors = function() {\n        var seriesColorsTemplate = '<div class=\"k-var--series-a\"></div>' +\n                '<div class=\"k-var--series-b\"></div>' +\n                '<div class=\"k-var--series-c\"></div>' +\n                '<div class=\"k-var--series-d\"></div>' +\n                '<div class=\"k-var--series-e\"></div>' +\n                '<div class=\"k-var--series-f\"></div>',\n            series = $(seriesColorsTemplate),\n            colors = [];\n\n        series.appendTo($('body'));\n\n        series.each(function(i, item) {\n            colors.push($(item).css(\"background-color\"));\n        });\n\n        series.remove();\n\n        return colors;\n    };\n\n    kendo.isElement = function(element) {\n        return element instanceof Element || element instanceof HTMLDocument;\n    };\n\n    // Kendo defaults\n    (function() {\n\n        kendo.defaults = kendo.defaults || {};\n        kendo.setDefaults = function(key, value) {\n            var path = key.split(\".\");\n            var curr = kendo.defaults;\n\n            key = path.pop();\n\n            path.forEach(function(part) {\n                if (curr[part] === undefined) {\n                    curr[part] = {};\n                }\n\n                curr = curr[part];\n            });\n\n            if (value.constructor === Object) {\n                curr[key] = deepExtend({}, curr[key], value);\n            } else {\n                curr[key] = value;\n            }\n        };\n\n    })();\n\n    // Implement type() as it has been depricated in jQuery\n    (function() {\n        kendo.class2type = {};\n\n        jQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\n            function( _i, name ) {\n                kendo.class2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n            } );\n\n        kendo.type = function(obj) {\n            if ( obj == null ) {\n                return obj + \"\";\n            }\n\n            // Support: Android <=2.3 only (functionish RegExp)\n            return typeof obj === \"object\" || typeof obj === \"function\" ?\n                kendo.class2type[Object.prototype.toString.call(obj)] || \"object\" :\n                typeof obj;\n        };\n    }());\n\n    var KendoLicensing = { validatePackage: function() {},setScriptKey: function() {} };\n\n    window.KendoLicensing = {\n        setScriptKey: KendoLicensing.setScriptKey\n    };\n\n    function validatePackage() {\n        KendoLicensing.validatePackage(packageMetadata);\n    }\n\n})(jQuery, window);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.router',[ \"kendo.core\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"router\",\n    name: \"Router\",\n    category: \"framework\",\n    description: \"The Router class is responsible for tracking the application state and navigating between the application states.\",\n    depends: [ \"core\" ],\n    hidden: false\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        CHANGE = \"change\",\n        BACK = \"back\",\n        SAME = \"same\",\n        support = kendo.support,\n        location = window.location,\n        history = window.history,\n        CHECK_URL_INTERVAL = 50,\n        BROKEN_BACK_NAV = kendo.support.browser.msie,\n        hashStrip = /^#*/,\n        document = window.document;\n\n    function absoluteURL(path, pathPrefix) {\n        if (!pathPrefix) {\n            return path;\n        }\n\n        if (path + \"/\" === pathPrefix) {\n            path = pathPrefix;\n        }\n\n        var regEx = new RegExp(\"^\" + pathPrefix, \"i\");\n\n        if (!regEx.test(path)) {\n            path = pathPrefix + \"/\" + path;\n        }\n\n        return location.protocol + '//' + (location.host + \"/\" + path).replace(/\\/\\/+/g, '/');\n    }\n\n    function hashDelimiter(bang) {\n        return bang ? \"#!\" : \"#\";\n    }\n\n    function locationHash(hashDelimiter) {\n        var href = location.href;\n\n        // ignore normal anchors if in hashbang mode - however, still return \"\" if no hash present\n        if (hashDelimiter === \"#!\" && href.indexOf(\"#\") > -1 && href.indexOf(\"#!\") < 0) {\n            return null;\n        }\n\n        return href.split(hashDelimiter)[1] || \"\";\n    }\n\n    function stripRoot(root, url) {\n        if (url.indexOf(root) === 0) {\n            return (url.substr(root.length)).replace(/\\/\\//g, '/');\n        } else {\n            return url;\n        }\n    }\n\n    var HistoryAdapter = kendo.Class.extend({\n        back: function() {\n            if (BROKEN_BACK_NAV) {\n                setTimeout(function() { history.back(); });\n            } else {\n                history.back();\n            }\n        },\n\n        forward: function() {\n            if (BROKEN_BACK_NAV) {\n                setTimeout(function() { history.forward(); });\n            } else {\n                history.forward();\n            }\n        },\n\n        length: function() {\n            return history.length;\n        },\n\n        replaceLocation: function(url) {\n            location.replace(url);\n        }\n    });\n\n    var PushStateAdapter = HistoryAdapter.extend({\n        init: function(root) {\n            this.root = root;\n        },\n\n        navigate: function(to) {\n            history.pushState({}, document.title, absoluteURL(to, this.root));\n        },\n\n        replace: function(to) {\n            history.replaceState({}, document.title, absoluteURL(to, this.root));\n        },\n\n        normalize: function(url) {\n            return stripRoot(this.root, url);\n        },\n\n        current: function() {\n            var current = location.pathname;\n\n            if (location.search) {\n                current += location.search;\n            }\n\n            return stripRoot(this.root, current);\n        },\n\n        change: function(callback) {\n            $(window).bind(\"popstate.kendo\", callback);\n        },\n\n        stop: function() {\n            $(window).unbind(\"popstate.kendo\");\n        },\n\n        normalizeCurrent: function(options) {\n            var fixedUrl,\n                root = options.root,\n                pathname = location.pathname,\n                hash = locationHash(hashDelimiter(options.hashBang));\n\n            if (root === pathname + \"/\") {\n                fixedUrl = root;\n            }\n\n            if (root === pathname && hash) {\n                fixedUrl = absoluteURL(hash.replace(hashStrip, ''), root);\n            }\n\n            if (fixedUrl) {\n                history.pushState({}, document.title, fixedUrl);\n            }\n        }\n    });\n\n    function fixHash(url) {\n        return url.replace(/^(#)?/, \"#\");\n    }\n\n    function fixBang(url) {\n        return url.replace(/^(#(!)?)?/, \"#!\");\n    }\n\n    var HashAdapter = HistoryAdapter.extend({\n        init: function(bang) {\n            this._id = kendo.guid();\n            this.prefix = hashDelimiter(bang);\n            this.fix = bang ? fixBang : fixHash;\n        },\n\n        navigate: function(to) {\n            location.hash = this.fix(to);\n        },\n\n        replace: function(to) {\n            this.replaceLocation(this.fix(to));\n        },\n\n        normalize: function(url) {\n            if (url.indexOf(this.prefix) < 0) {\n               return url;\n            } else {\n                return url.split(this.prefix)[1];\n            }\n        },\n\n        change: function(callback) {\n            if (support.hashChange) {\n                $(window).on(\"hashchange.\" + this._id, callback);\n            } else {\n                this._interval = setInterval(callback, CHECK_URL_INTERVAL);\n            }\n        },\n\n        stop: function() {\n            $(window).off(\"hashchange.\" + this._id);\n            clearInterval(this._interval);\n        },\n\n        current: function() {\n            return locationHash(this.prefix);\n        },\n\n        normalizeCurrent: function(options) {\n            var pathname = location.pathname,\n                root = options.root;\n\n            if (options.pushState && root !== pathname) {\n                this.replaceLocation(root + this.prefix + stripRoot(root, pathname));\n                return true; // browser will reload at this point.\n            }\n\n            return false;\n        }\n    });\n\n    var History = kendo.Observable.extend({\n        start: function(options) {\n            options = options || {};\n\n            this.bind([CHANGE, BACK, SAME], options);\n\n            if (this._started) {\n                return;\n            }\n\n            this._started = true;\n\n            options.root = options.root || \"/\";\n\n            var adapter = this.createAdapter(options),\n                current;\n\n            // adapter may reload the document\n            if (adapter.normalizeCurrent(options)) {\n                return;\n            }\n\n            current = adapter.current();\n\n            $.extend(this, {\n                adapter: adapter,\n                root: options.root,\n                historyLength: adapter.length(),\n                current: current,\n                locations: [current]\n            });\n\n            adapter.change(this._checkUrl.bind(this));\n        },\n\n        createAdapter: function(options) {\n           return support.pushState && options.pushState ? new PushStateAdapter(options.root) : new HashAdapter(options.hashBang);\n        },\n\n        stop: function() {\n            if (!this._started) {\n                return;\n            }\n            this.adapter.stop();\n            this.unbind(CHANGE);\n            this._started = false;\n        },\n\n        change: function(callback) {\n            this.bind(CHANGE, callback);\n        },\n\n        replace: function(to, silent) {\n\n            this._navigate(to, silent, function(adapter) {\n                adapter.replace(to);\n                this.locations[this.locations.length - 1] = this.current;\n            });\n        },\n\n        navigate: function(to, silent) {\n            if (to === \"#:back\") {\n                this.backCalled = true;\n                this.adapter.back();\n                return;\n            }\n\n            this._navigate(to, silent, function(adapter) {\n                adapter.navigate(to);\n                this.locations.push(this.current);\n            });\n        },\n\n        _navigate: function(to, silent, callback) {\n            var adapter = this.adapter;\n\n            to = adapter.normalize(to);\n\n            if (this.current === to || this.current === decodeURIComponent(to)) {\n                this.trigger(SAME);\n                return;\n            }\n\n            if (!silent) {\n                if (this.trigger(CHANGE, { url: to, decode: false })) {\n                    return;\n                }\n            }\n\n            this.current = to;\n\n            callback.call(this, adapter);\n\n            this.historyLength = adapter.length();\n        },\n\n        _checkUrl: function() {\n            var adapter = this.adapter,\n                current = adapter.current(),\n                newLength = adapter.length(),\n                navigatingInExisting = this.historyLength === newLength,\n                back = current === this.locations[this.locations.length - 2] && navigatingInExisting,\n                backCalled = this.backCalled,\n                prev = this.current;\n\n            if (current === null || this.current === current || this.current === decodeURIComponent(current)) {\n                return true;\n            }\n\n            this.historyLength = newLength;\n            this.backCalled = false;\n\n            this.current = current;\n\n            if (back && this.trigger(\"back\", { url: prev, to: current })) {\n                adapter.forward();\n                this.current = prev;\n                return;\n            }\n\n            if (this.trigger(CHANGE, { url: current, backButtonPressed: !backCalled })) {\n                if (back) {\n                    adapter.forward();\n                } else {\n                    adapter.back();\n                    this.historyLength --;\n                }\n                this.current = prev;\n                return;\n            }\n\n            if (back) {\n                this.locations.pop();\n            } else {\n                this.locations.push(current);\n            }\n        }\n    });\n\n    kendo.History = History;\n    kendo.History.HistoryAdapter = HistoryAdapter;\n    kendo.History.HashAdapter = HashAdapter;\n    kendo.History.PushStateAdapter = PushStateAdapter;\n    kendo.absoluteURL = absoluteURL;\n    kendo.history = new History();\n})(window.kendo.jQuery);\n\n(function() {\n    var kendo = window.kendo,\n        history = kendo.history,\n        Observable = kendo.Observable,\n        INIT = \"init\",\n        ROUTE_MISSING = \"routeMissing\",\n        CHANGE = \"change\",\n        BACK = \"back\",\n        SAME = \"same\",\n        optionalParam = /\\((.*?)\\)/g,\n        namedParam = /(\\(\\?)?:\\w+/g,\n        splatParam = /\\*\\w+/g,\n        escapeRegExp = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\n\n    function namedParamReplace(match, optional) {\n        return optional ? match : '([^\\/]+)';\n    }\n\n    function routeToRegExp(route, ignoreCase) {\n        return new RegExp('^' + route\n            .replace(escapeRegExp, '\\\\$&')\n            .replace(optionalParam, '(?:$1)?')\n            .replace(namedParam, namedParamReplace)\n            .replace(splatParam, '(.*?)') + '$', ignoreCase ? \"i\" : \"\");\n    }\n\n    function stripUrl(url) {\n        return url.replace(/(\\?.*)|(#.*)/g, \"\");\n    }\n\n    var Route = kendo.Class.extend({\n        init: function(route, callback, ignoreCase) {\n            if (!(route instanceof RegExp)) {\n                route = routeToRegExp(route, ignoreCase);\n            }\n\n            this.route = route;\n            this._callback = callback;\n        },\n\n        callback: function(url, back, decode) {\n            var params,\n                idx = 0,\n                length,\n                queryStringParams = kendo.parseQueryStringParams(url);\n                queryStringParams._back = back;\n\n            url = stripUrl(url);\n            params = this.route.exec(url).slice(1);\n            length = params.length;\n\n            if (decode) {\n                for (; idx < length; idx ++) {\n                    if (typeof params[idx] !== 'undefined') {\n                        params[idx] = decodeURIComponent(params[idx]);\n                    }\n                }\n            }\n\n            params.push(queryStringParams);\n\n            this._callback.apply(null, params);\n        },\n\n        worksWith: function(url, back, decode) {\n            if (this.route.test(stripUrl(url))) {\n                this.callback(url, back, decode);\n                return true;\n            } else {\n                return false;\n            }\n        }\n    });\n\n    var Router = Observable.extend({\n        init: function(options) {\n            if (!options) {\n                options = {};\n            }\n\n            Observable.fn.init.call(this);\n\n            this.routes = [];\n            this.pushState = options.pushState;\n            this.hashBang = options.hashBang;\n            this.root = options.root;\n            this.ignoreCase = options.ignoreCase !== false;\n\n            this.bind([INIT, ROUTE_MISSING, CHANGE, SAME, BACK], options);\n        },\n\n        destroy: function() {\n            history.unbind(CHANGE, this._urlChangedProxy);\n            history.unbind(SAME, this._sameProxy);\n            history.unbind(BACK, this._backProxy);\n            this.unbind();\n        },\n\n        start: function() {\n            var that = this,\n                sameProxy = function() { that._same(); },\n                backProxy = function(e) { that._back(e); },\n                urlChangedProxy = function(e) { that._urlChanged(e); };\n\n            history.start({\n                same: sameProxy,\n                change: urlChangedProxy,\n                back: backProxy,\n                pushState: that.pushState,\n                hashBang: that.hashBang,\n                root: that.root\n            });\n\n            // eslint-disable-next-line no-undef\n            var initEventObject = { url: history.current || \"/\", preventDefault: $.noop };\n\n            if (!that.trigger(INIT, initEventObject)) {\n                that._urlChanged(initEventObject);\n            }\n\n            this._urlChangedProxy = urlChangedProxy;\n            this._backProxy = backProxy;\n        },\n\n        route: function(route, callback) {\n            this.routes.push(new Route(route, callback, this.ignoreCase));\n        },\n\n        navigate: function(url, silent) {\n            kendo.history.navigate(url, silent);\n        },\n\n        replace: function(url, silent) {\n            kendo.history.replace(url, silent);\n        },\n\n        _back: function(e) {\n            if (this.trigger(BACK, { url: e.url, to: e.to })) {\n                e.preventDefault();\n            }\n        },\n\n        _same: function() {\n            this.trigger(SAME);\n        },\n\n        _urlChanged: function(e) {\n            var url = e.url;\n            var decode = !!e.decode;\n            var back = e.backButtonPressed;\n\n            if (!url) {\n                url = \"/\";\n            }\n\n            if (this.trigger(CHANGE, { url: e.url, params: kendo.parseQueryStringParams(e.url), backButtonPressed: back })) {\n                e.preventDefault();\n                return;\n            }\n\n            var idx = 0,\n                routes = this.routes,\n                route,\n                length = routes.length;\n\n            for (; idx < length; idx ++) {\n                 route = routes[idx];\n\n                 if (route.worksWith(url, back, decode)) {\n                    return;\n                 }\n            }\n\n            if (this.trigger(ROUTE_MISSING, { url: url, params: kendo.parseQueryStringParams(url), backButtonPressed: back })) {\n                e.preventDefault();\n            }\n        }\n    });\n\n    kendo.Router = Router;\n})();\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.userevents',[ \"kendo.core\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"userevents\",\n    name: \"User Events\",\n    category: \"framework\",\n    depends: [ \"core\" ],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        support = kendo.support,\n        Class = kendo.Class,\n        Observable = kendo.Observable,\n        now = Date.now,\n        extend = $.extend,\n        OS = support.mobileOS,\n        invalidZeroEvents = OS && OS.android,\n        DEFAULT_MIN_HOLD = 800,\n        CLICK_DELAY = 300,\n        DEFAULT_THRESHOLD = support.browser.msie ? 5 : 0, // WP8 and W8 are very sensitive and always report move.\n\n        // UserEvents events\n        PRESS = \"press\",\n        HOLD = \"hold\",\n        SELECT = \"select\",\n        START = \"start\",\n        MOVE = \"move\",\n        END = \"end\",\n        CANCEL = \"cancel\",\n        TAP = \"tap\",\n        DOUBLETAP = \"doubleTap\",\n        RELEASE = \"release\",\n        GESTURESTART = \"gesturestart\",\n        GESTURECHANGE = \"gesturechange\",\n        GESTUREEND = \"gestureend\",\n        GESTURETAP = \"gesturetap\";\n\n    var THRESHOLD = {\n        \"api\": 0,\n        \"touch\": 0,\n        \"mouse\": 9,\n        \"pointer\": 9\n    };\n\n    var ENABLE_GLOBAL_SURFACE = (!support.touch || support.mouseAndTouchPresent);\n\n    function touchDelta(touch1, touch2) {\n        var x1 = touch1.x.location,\n            y1 = touch1.y.location,\n            x2 = touch2.x.location,\n            y2 = touch2.y.location,\n            dx = x1 - x2,\n            dy = y1 - y2;\n\n        return {\n            center: {\n               x: (x1 + x2) / 2,\n               y: (y1 + y2) / 2\n            },\n\n            distance: Math.sqrt(dx * dx + dy * dy)\n        };\n    }\n\n    function getTouches(e) {\n        var touches = [],\n            originalEvent = e.originalEvent,\n            currentTarget = e.currentTarget,\n            idx = 0, length,\n            changedTouches,\n            touch;\n\n        if (e.api) {\n            touches.push({\n                id: 2, // hardcoded ID for API call;\n                event: e,\n                target: e.target,\n                currentTarget: e.target,\n                location: e,\n                type: \"api\"\n            });\n        }\n        else if (e.type.match(/touch/)) {\n            changedTouches = originalEvent ? originalEvent.changedTouches : [];\n            for (length = changedTouches.length; idx < length; idx ++) {\n                touch = changedTouches[idx];\n                touches.push({\n                    location: touch,\n                    event: e,\n                    target: touch.target,\n                    currentTarget: currentTarget,\n                    id: touch.identifier,\n                    type: \"touch\"\n                });\n            }\n        }\n        else if (support.pointers || support.msPointers) {\n            touches.push({\n                location: originalEvent,\n                event: e,\n                target: e.target,\n                currentTarget: currentTarget,\n                id: originalEvent.pointerId,\n                type: \"pointer\"\n            });\n        } else {\n            touches.push({\n                id: 1, // hardcoded ID for mouse event;\n                event: e,\n                target: e.target,\n                currentTarget: currentTarget,\n                location: e,\n                type: \"mouse\"\n            });\n        }\n\n        return touches;\n    }\n\n    var TouchAxis = Class.extend({\n        init: function(axis, location) {\n            var that = this;\n\n            that.axis = axis;\n\n            that._updateLocationData(location);\n\n            that.startLocation = that.location;\n            that.velocity = that.delta = 0;\n            that.timeStamp = now();\n        },\n\n        move: function(location) {\n            var that = this,\n                offset = location[\"page\" + that.axis],\n                timeStamp = now(),\n                timeDelta = (timeStamp - that.timeStamp) || 1; // Firing manually events in tests can make this 0;\n\n            if (!offset && invalidZeroEvents) {\n                return;\n            }\n\n            that.delta = offset - that.location;\n\n            that._updateLocationData(location);\n\n            that.initialDelta = offset - that.startLocation;\n            that.velocity = that.delta / timeDelta;\n            that.timeStamp = timeStamp;\n        },\n\n        _updateLocationData: function(location) {\n            var that = this, axis = that.axis;\n\n            that.location = location[\"page\" + axis];\n            that.client = location[\"client\" + axis];\n            that.screen = location[\"screen\" + axis];\n        }\n    });\n\n    var Touch = Class.extend({\n        init: function(userEvents, target, touchInfo) {\n            extend(this, {\n                x: new TouchAxis(\"X\", touchInfo.location),\n                y: new TouchAxis(\"Y\", touchInfo.location),\n                type: touchInfo.type,\n                useClickAsTap: userEvents.useClickAsTap,\n                threshold: userEvents.threshold || THRESHOLD[touchInfo.type],\n                userEvents: userEvents,\n                target: target,\n                currentTarget: touchInfo.currentTarget,\n                initialTouch: touchInfo.target,\n                id: touchInfo.id,\n                pressEvent: touchInfo,\n                _clicks: userEvents._clicks,\n                supportDoubleTap: userEvents.supportDoubleTap,\n                _moved: false,\n                _finished: false\n            });\n        },\n\n        press: function() {\n            this._holdTimeout = setTimeout(this._hold.bind(this), this.userEvents.minHold);\n            this._trigger(PRESS, this.pressEvent);\n        },\n\n        _tap: function(touchInfo) {\n            var that = this;\n            that.userEvents._clicks++;\n            if (that.userEvents._clicks == 1) {\n                that._clickTimeout = setTimeout(function() {\n                    if (that.userEvents._clicks == 1) {\n                        that._trigger(TAP, touchInfo);\n                    }\n                    else {\n                        that._trigger(DOUBLETAP, touchInfo);\n                    }\n                    that.userEvents._clicks = 0;\n                }, CLICK_DELAY);\n            }\n        },\n\n        _hold: function() {\n            this._trigger(HOLD, this.pressEvent);\n        },\n\n        move: function(touchInfo) {\n            var that = this;\n            var preventMove = touchInfo.type !== \"api\" && that.userEvents._shouldNotMove;\n\n            if (that._finished || preventMove) { return; }\n\n            that.x.move(touchInfo.location);\n            that.y.move(touchInfo.location);\n\n            if (!that._moved) {\n                if (that._withinIgnoreThreshold()) {\n                    return;\n                }\n\n                if (!UserEvents.current || UserEvents.current === that.userEvents) {\n                    that._start(touchInfo);\n                } else {\n                    return that.dispose();\n                }\n            }\n\n            // Event handlers may cancel the drag in the START event handler, hence the double check for pressed.\n            if (!that._finished) {\n                that._trigger(MOVE, touchInfo);\n            }\n        },\n\n        end: function(touchInfo) {\n            this.endTime = now();\n\n            if (this._finished) { return; }\n\n            // Mark the object as finished if there are blocking operations in the event handlers (alert/confirm)\n            this._finished = true;\n\n            this._trigger(RELEASE, touchInfo); // Release should be fired before TAP (as click is after mouseup/touchend)\n\n            if (this._moved) {\n                this._trigger(END, touchInfo);\n            } else {\n                if (!this.useClickAsTap) {\n                    if (this.supportDoubleTap) {\n                        this._tap(touchInfo);\n                    }\n                    else {\n                        this._trigger(TAP, touchInfo);\n                    }\n                }\n            }\n\n            clearTimeout(this._holdTimeout);\n\n            this.dispose();\n        },\n\n        dispose: function() {\n            var userEvents = this.userEvents,\n                activeTouches = userEvents.touches;\n\n            this._finished = true;\n            this.pressEvent = null;\n            clearTimeout(this._holdTimeout);\n\n            activeTouches.splice($.inArray(this, activeTouches), 1);\n        },\n\n        skip: function() {\n            this.dispose();\n        },\n\n        cancel: function() {\n            this.dispose();\n        },\n\n        isMoved: function() {\n            return this._moved;\n        },\n\n        _start: function(touchInfo) {\n            clearTimeout(this._holdTimeout);\n\n            this.startTime = now();\n            this._moved = true;\n            this._trigger(START, touchInfo);\n        },\n\n        _trigger: function(name, touchInfo) {\n            var that = this,\n                jQueryEvent = touchInfo.event,\n                data = {\n                    touch: that,\n                    x: that.x,\n                    y: that.y,\n                    target: that.target,\n                    event: jQueryEvent\n                };\n\n            if (that.userEvents.notify(name, data)) {\n                jQueryEvent.preventDefault();\n            }\n        },\n\n        _withinIgnoreThreshold: function() {\n            var xDelta = this.x.initialDelta,\n                yDelta = this.y.initialDelta;\n\n            return Math.sqrt(xDelta * xDelta + yDelta * yDelta) <= this.threshold;\n        }\n    });\n\n    function withEachUpEvent(callback) {\n        var downEvents = kendo.eventMap.up.split(\" \"),\n            idx = 0,\n            length = downEvents.length;\n\n        for (; idx < length; idx ++) {\n            callback(downEvents[idx]);\n        }\n    }\n\n    var UserEvents = Observable.extend({\n        init: function(element, options) {\n            var that = this,\n                filter,\n                ns = kendo.guid();\n\n            options = options || {};\n            filter = that.filter = options.filter;\n            that.threshold = options.threshold || DEFAULT_THRESHOLD;\n            that.minHold = options.minHold || DEFAULT_MIN_HOLD;\n            that.touches = [];\n            that._maxTouches = options.multiTouch ? 2 : 1;\n            that.allowSelection = options.allowSelection;\n            that.captureUpIfMoved = options.captureUpIfMoved;\n            that.useClickAsTap = !options.fastTap && !support.delayedClick();\n            that.eventNS = ns;\n            that._clicks = 0;\n            that.supportDoubleTap = options.supportDoubleTap;\n\n            element = $(element).handler(that);\n            Observable.fn.init.call(that);\n\n            extend(that, {\n                element: element,\n                // the touch events lock to the element anyway, so no need for the global setting\n                surface: options.global && ENABLE_GLOBAL_SURFACE ? $(element[0].ownerDocument.documentElement) : $(options.surface || element),\n                stopPropagation: options.stopPropagation,\n                pressed: false\n            });\n\n            that.surface.handler(that)\n                .on(kendo.applyEventMap(\"move\", ns), \"_move\")\n                .on(kendo.applyEventMap(\"up cancel\", ns), \"_end\");\n\n            element.on(kendo.applyEventMap(\"down\", ns), filter, \"_start\");\n\n            if (that.useClickAsTap) {\n                element.on(kendo.applyEventMap(\"click\", ns), filter, \"_click\");\n            }\n\n            if (support.pointers || support.msPointers) {\n                //touch-action:none will not work for IE10\n                if (support.browser.version < 11) {\n                    var defaultAction = \"pinch-zoom double-tap-zoom\";\n                    element.css(\"-ms-touch-action\", options.touchAction && options.touchAction != \"none\" ? defaultAction + \" \" + options.touchAction : defaultAction);\n                } else {\n                    element.css(\"touch-action\", options.touchAction || \"none\");\n                }\n            }\n\n            if (options.preventDragEvent) {\n                element.on(kendo.applyEventMap(\"dragstart\", ns), kendo.preventDefault);\n            }\n\n            element.on(kendo.applyEventMap(\"mousedown\", ns), filter, { root: element }, \"_select\");\n\n            if (that.captureUpIfMoved && support.eventCapture) {\n                var surfaceElement = that.surface[0],\n                    preventIfMovingProxy = that.preventIfMoving.bind(that);\n\n                withEachUpEvent(function(eventName) {\n                    surfaceElement.addEventListener(eventName, preventIfMovingProxy, true);\n                });\n            }\n\n            that.bind([\n            PRESS,\n            HOLD,\n            TAP,\n            DOUBLETAP,\n            START,\n            MOVE,\n            END,\n            RELEASE,\n            CANCEL,\n            GESTURESTART,\n            GESTURECHANGE,\n            GESTUREEND,\n            GESTURETAP,\n            SELECT\n            ], options);\n        },\n\n        preventIfMoving: function(e) {\n            if (this._isMoved()) {\n                e.preventDefault();\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that._destroyed) {\n                return;\n            }\n\n            that._destroyed = true;\n\n            if (that.captureUpIfMoved && support.eventCapture) {\n                var surfaceElement = that.surface[0];\n                withEachUpEvent(function(eventName) {\n                    surfaceElement.removeEventListener(eventName, that.preventIfMoving);\n                });\n            }\n\n            that.element.kendoDestroy(that.eventNS);\n            that.surface.kendoDestroy(that.eventNS);\n            that.element.removeData(\"handler\");\n            that.surface.removeData(\"handler\");\n            that._disposeAll();\n\n            that.unbind();\n            delete that.surface;\n            delete that.element;\n            delete that.currentTarget;\n        },\n\n        capture: function() {\n            UserEvents.current = this;\n        },\n\n        cancel: function() {\n            this._disposeAll();\n            this.trigger(CANCEL);\n        },\n\n        notify: function(eventName, data) {\n            var that = this,\n                touches = that.touches;\n\n            if (this._isMultiTouch()) {\n                switch (eventName) {\n                    case MOVE:\n                        eventName = GESTURECHANGE;\n                        break;\n                    case END:\n                        eventName = GESTUREEND;\n                        break;\n                    case TAP:\n                        eventName = GESTURETAP;\n                        break;\n                }\n\n                extend(data, { touches: touches }, touchDelta(touches[0], touches[1]));\n            }\n\n            return this.trigger(eventName, extend(data, { type: eventName }));\n        },\n\n        // API\n        press: function(x, y, target) {\n            this._apiCall(\"_start\", x, y, target);\n        },\n\n        move: function(x, y) {\n            this._apiCall(\"_move\", x, y);\n        },\n\n        end: function(x, y) {\n            this._apiCall(\"_end\", x, y);\n        },\n\n        _isMultiTouch: function() {\n            return this.touches.length > 1;\n        },\n\n        _maxTouchesReached: function() {\n            return this.touches.length >= this._maxTouches;\n        },\n\n        _disposeAll: function() {\n            var touches = this.touches;\n            while (touches.length > 0) {\n                touches.pop().dispose();\n            }\n        },\n\n        _isMoved: function() {\n            return $.grep(this.touches, function(touch) {\n                return touch.isMoved();\n            }).length;\n        },\n\n        _select: function(e) {\n           if (!this.allowSelection || this.trigger(SELECT, { event: e })) {\n               e.preventDefault();\n           }\n        },\n\n        _start: function(e) {\n            var that = this,\n                idx = 0,\n                filter = that.filter,\n                target,\n                touches = getTouches(e),\n                length = touches.length,\n                touch,\n                which = e.which;\n\n            if ((which && which > 1) || (that._maxTouchesReached())) {\n                return;\n            }\n\n            UserEvents.current = null;\n\n            that.currentTarget = e.currentTarget;\n\n            if (that.stopPropagation) {\n                e.stopPropagation();\n            }\n\n            for (; idx < length; idx ++) {\n                if (that._maxTouchesReached()) {\n                    break;\n                }\n\n                touch = touches[idx];\n\n                if (filter) {\n                    target = $(touch.currentTarget); // target.is(filter) ? target : target.closest(filter, that.element);\n                } else {\n                    target = that.element;\n                }\n\n                if (!target.length) {\n                    continue;\n                }\n\n                touch = new Touch(that, target, touch);\n                that.touches.push(touch);\n                touch.press();\n\n                if (that._isMultiTouch()) {\n                    that.notify(\"gesturestart\", {});\n                }\n            }\n        },\n\n        _move: function(e) {\n            this._eachTouch(\"move\", e);\n        },\n\n        _end: function(e) {\n            this._eachTouch(\"end\", e);\n        },\n\n        _click: function(e) {\n            var data = {\n                touch: {\n                    initialTouch: e.target,\n                    target: $(e.currentTarget),\n                    endTime: now(),\n                    x: {\n                        location: e.pageX,\n                        client: e.clientX\n                    },\n                    y: {\n                        location: e.pageY,\n                        client: e.clientY\n                    }\n                },\n                x: e.pageX,\n                y: e.pageY,\n                target: $(e.currentTarget),\n                event: e,\n                type: \"tap\"\n            };\n\n            if (this.trigger(\"tap\", data)) {\n                e.preventDefault();\n            }\n        },\n\n        _eachTouch: function(methodName, e) {\n            var that = this,\n                dict = {},\n                touches = getTouches(e),\n                activeTouches = that.touches,\n                idx,\n                touch,\n                touchInfo,\n                matchingTouch;\n\n            for (idx = 0; idx < activeTouches.length; idx ++) {\n                touch = activeTouches[idx];\n                dict[touch.id] = touch;\n            }\n\n            for (idx = 0; idx < touches.length; idx ++) {\n                touchInfo = touches[idx];\n                matchingTouch = dict[touchInfo.id];\n\n                if (matchingTouch) {\n                    matchingTouch[methodName](touchInfo);\n                }\n            }\n        },\n\n        _apiCall: function(type, x, y, target) {\n            this[type]({\n                api: true,\n                pageX: x,\n                pageY: y,\n                clientX: x,\n                clientY: y,\n                target: $(target || this.element)[0],\n                stopPropagation: $.noop,\n                preventDefault: $.noop\n            });\n        }\n    });\n\n    UserEvents.defaultThreshold = function(value) {\n        DEFAULT_THRESHOLD = value;\n    };\n\n    UserEvents.minHold = function(value) {\n        DEFAULT_MIN_HOLD = value;\n    };\n\n    kendo.getTouches = getTouches;\n    kendo.touchDelta = touchDelta;\n    kendo.UserEvents = UserEvents;\n })(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.touch',[ \"kendo.core\", \"kendo.userevents\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"touch\",\n    name: \"Touch\",\n    category: \"mobile\",\n    description: \"The kendo Touch widget provides a cross-platform compatible API for handling user-initiated touch events, multi-touch gestures and event sequences (drag, swipe, etc.). \",\n    depends: [ \"core\", \"userevents\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        abs = Math.abs,\n        MAX_DOUBLE_TAP_DISTANCE = 20;\n\n    var Touch = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            options = that.options;\n\n            element = that.element;\n            that.wrapper = element;\n\n            function eventProxy(name) {\n                return function(e) {\n                    that._triggerTouch(name, e);\n                };\n            }\n\n            function gestureEventProxy(name) {\n                return function(e) {\n                    that.trigger(name, { touches: e.touches, distance: e.distance, center: e.center, event: e.event });\n                };\n            }\n\n            that.events = new kendo.UserEvents(element, {\n                filter: options.filter,\n                surface: options.surface,\n                minHold: options.minHold,\n                multiTouch: options.multiTouch,\n                allowSelection: true,\n                fastTap: options.fastTap,\n                press: eventProxy(\"touchstart\"),\n                hold: eventProxy(\"hold\"),\n                tap: that._tap.bind(that),\n                gesturestart: gestureEventProxy(\"gesturestart\"),\n                gesturechange: gestureEventProxy(\"gesturechange\"),\n                gestureend: gestureEventProxy(\"gestureend\")\n            });\n\n            if (options.enableSwipe) {\n                that.events.bind(\"start\", that._swipestart.bind(that));\n                that.events.bind(\"move\", that._swipemove.bind(that));\n            } else {\n                that.events.bind(\"start\", that._dragstart.bind(that));\n                that.events.bind(\"move\", eventProxy(\"drag\"));\n                that.events.bind(\"end\", eventProxy(\"dragend\"));\n            }\n\n            kendo.notify(that);\n        },\n\n        events: [\n            \"touchstart\",\n            \"dragstart\",\n            \"drag\",\n            \"dragend\",\n            \"tap\",\n            \"doubletap\",\n            \"hold\",\n            \"swipe\",\n            \"gesturestart\",\n            \"gesturechange\",\n            \"gestureend\"\n        ],\n\n        options: {\n            name: \"Touch\",\n            surface: null,\n            global: false,\n            fastTap: false,\n            filter: null,\n            multiTouch: false,\n            enableSwipe: false,\n            minXDelta: 30,\n            maxYDelta: 20,\n            maxDuration: 1000,\n            minHold: 800,\n            doubleTapTimeout: 800\n        },\n\n        cancel: function() {\n            this.events.cancel();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            this.events.destroy();\n        },\n\n        _triggerTouch: function(type, e) {\n            if (this.trigger(type, { touch: e.touch, event: e.event })) {\n                e.preventDefault();\n            }\n        },\n\n        _tap: function(e) {\n            var that = this,\n                lastTap = that.lastTap,\n                touch = e.touch;\n\n            if (lastTap &&\n                (touch.endTime - lastTap.endTime < that.options.doubleTapTimeout) &&\n                kendo.touchDelta(touch, lastTap).distance < MAX_DOUBLE_TAP_DISTANCE\n                ) {\n\n               that._triggerTouch(\"doubletap\", e);\n               that.lastTap = null;\n            } else {\n                that._triggerTouch(\"tap\", e);\n                that.lastTap = touch;\n            }\n        },\n\n        _dragstart: function(e) {\n            this._triggerTouch(\"dragstart\", e);\n        },\n\n        _swipestart: function(e) {\n            if (abs(e.x.velocity) * 2 >= abs(e.y.velocity)) {\n                e.sender.capture();\n            }\n        },\n\n        _swipemove: function(e) {\n            var that = this,\n                options = that.options,\n                touch = e.touch,\n                duration = e.event.timeStamp - touch.startTime,\n                direction = touch.x.initialDelta > 0 ? \"right\" : \"left\";\n\n            if (\n                abs(touch.x.initialDelta) >= options.minXDelta &&\n                abs(touch.y.initialDelta) < options.maxYDelta &&\n                duration < options.maxDuration\n                )\n            {\n                that.trigger(\"swipe\", {\n                    direction: direction,\n                    touch: e.touch\n                });\n\n                touch.cancel();\n            }\n        }\n    });\n\n    kendo.ui.plugin(Touch);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.data.odata',[ \"kendo.core\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"data.odata\",\n    name: \"OData\",\n    category: \"framework\",\n    depends: [ \"core\" ],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        extend = $.extend,\n        NEWLINE = \"\\r\\n\",\n        DOUBLELINE = \"\\r\\n\\r\\n\",\n        isFunction = kendo.isFunction,\n        odataFilters = {\n            eq: \"eq\",\n            neq: \"ne\",\n            gt: \"gt\",\n            gte: \"ge\",\n            lt: \"lt\",\n            lte: \"le\",\n            contains: \"substringof\",\n            doesnotcontain: \"substringof\",\n            endswith: \"endswith\",\n            startswith: \"startswith\",\n            isnull: \"eq\",\n            isnotnull: \"ne\",\n            isnullorempty: \"eq\",\n            isnotnullorempty: \"ne\",\n            isempty: \"eq\",\n            isnotempty: \"ne\"\n        },\n        odataFiltersVersionFour = extend({}, odataFilters, {\n            contains: \"contains\"\n        }),\n        mappers = {\n            pageSize: $.noop,\n            page: $.noop,\n            filter: function(params, filter, useVersionFour) {\n                if (filter) {\n                    filter = toOdataFilter(filter, useVersionFour);\n                    if (filter) {\n                        params.$filter = filter;\n                    }\n                }\n            },\n            sort: function(params, orderby) {\n                var expr = $.map(orderby, function(value) {\n                    var order = value.field.replace(/\\./g, \"/\");\n\n                    if (value.dir === \"desc\") {\n                        order += \" desc\";\n                    }\n\n                    return order;\n                }).join(\",\");\n\n                if (expr) {\n                    params.$orderby = expr;\n                }\n            },\n            skip: function(params, skip) {\n                if (skip) {\n                    params.$skip = skip;\n                }\n            },\n            take: function(params, take) {\n                if (take) {\n                    params.$top = take;\n                }\n            }\n        },\n        defaultDataType = {\n            read: {\n                dataType: \"jsonp\"\n            }\n        };\n\n    function toOdataFilter(filter, useOdataFour) {\n        var result = [],\n            logic = filter.logic || \"and\",\n            idx,\n            length,\n            field,\n            type,\n            format,\n            operator,\n            value,\n            ignoreCase,\n            filters = filter.filters;\n\n        for (idx = 0, length = filters.length; idx < length; idx++) {\n            filter = filters[idx];\n            field = filter.field;\n            value = filter.value;\n            operator = filter.operator;\n\n            if (filter.filters) {\n                filter = toOdataFilter(filter, useOdataFour);\n            } else {\n                ignoreCase = filter.ignoreCase;\n                field = field.replace(/\\./g, \"/\");\n                filter = odataFilters[operator];\n                if (useOdataFour) {\n                    filter = odataFiltersVersionFour[operator];\n                }\n\n                if (operator === \"isnullorempty\") {\n                    filter = kendo.format(\"{0} {1} null or {0} {1} ''\", field, filter);\n                } else if (operator === \"isnotnullorempty\") {\n                    filter = kendo.format(\"{0} {1} null and {0} {1} ''\", field, filter);\n                } else if (operator === \"isnull\" || operator === \"isnotnull\") {\n                    filter = kendo.format(\"{0} {1} null\", field, filter);\n                } else if (operator === \"isempty\" || operator === \"isnotempty\") {\n                    filter = kendo.format(\"{0} {1} ''\", field, filter);\n                } else if (filter && value !== undefined) {\n                    type = kendo.type(value);\n                    if (type === \"string\") {\n                        format = \"'{1}'\";\n                        value = value.replace(/'/g, \"''\");\n\n                        if (ignoreCase === true) {\n                            field = \"tolower(\" + field + \")\";\n                        }\n\n                    } else if (type === \"date\") {\n                        if (useOdataFour) {\n                            format = \"{1:yyyy-MM-ddTHH:mm:ss+00:00}\";\n                            value = kendo.timezone.apply(value, 'Etc/UTC');\n                        } else {\n                            format = \"datetime'{1:yyyy-MM-ddTHH:mm:ss}'\";\n                        }\n                    } else {\n                        format = \"{1}\";\n                    }\n\n                    if (filter.length > 3) {\n                        if (filter !== \"substringof\") {\n                            format = \"{0}({2},\" + format + \")\";\n                        } else {\n                            format = \"{0}(\" + format + \",{2})\";\n                            if (operator === \"doesnotcontain\") {\n                                if (useOdataFour) {\n                                    format = \"{0}({2},'{1}') eq -1\";\n                                    filter = \"indexof\";\n                                } else {\n                                    format += \" eq false\";\n                                }\n                            }\n                        }\n                    } else {\n                        format = \"{2} {0} \" + format;\n                    }\n\n                    filter = kendo.format(format, filter, value, field);\n                }\n            }\n\n            result.push(filter);\n        }\n\n        filter = result.join(\" \" + logic + \" \");\n\n        if (result.length > 1) {\n            filter = \"(\" + filter + \")\";\n        }\n\n        return filter;\n    }\n\n    function stripMetadata(obj) {\n        for (var name in obj) {\n            if (name.indexOf(\"@odata\") === 0) {\n                delete obj[name];\n            }\n        }\n    }\n\n    function hex16() {\n        return Math.floor((1 + Math.random()) * 0x10000).toString(16).substr(1);\n    }\n\n    function createBoundary(prefix) {\n        return prefix + hex16() + '-' + hex16() + '-' + hex16();\n    }\n\n    function createDelimeter(boundary, close) {\n        var result = NEWLINE + \"--\" + boundary;\n\n        if (close) {\n            result += \"--\";\n        }\n\n        return result;\n    }\n\n    function createCommand(transport, item, httpVerb, command) {\n         var transportUrl = transport.options[command].url;\n         var commandPrefix = kendo.format(\"{0} \", httpVerb);\n\n         if (isFunction(transportUrl)) {\n             return commandPrefix + transportUrl(item);\n         } else {\n             return commandPrefix + transportUrl;\n         }\n    }\n\n    function getOperationHeader(changeset, changeId) {\n        var header = \"\";\n\n        header += createDelimeter(changeset, false);\n        header += NEWLINE + 'Content-Type: application/http';\n        header += NEWLINE + 'Content-Transfer-Encoding: binary';\n        header += NEWLINE + 'Content-ID: ' + changeId;\n\n        return header;\n    }\n\n    function getOperationContent(item) {\n        var content = \"\";\n\n        content += NEWLINE + \"Content-Type: application/json;odata=minimalmetadata\";\n        content += NEWLINE + \"Prefer: return=representation\";\n        content += DOUBLELINE + kendo.stringify(item);\n\n        return content;\n    }\n\n    function getOperations(collection, changeset, changeId, command, transport, skipContent) {\n        var requestBody = \"\";\n\n        for (var i = 0; i < collection.length; i++) {\n            requestBody += getOperationHeader(changeset, changeId);\n            requestBody += DOUBLELINE + createCommand(transport, collection[i], transport.options[command].type, command) + ' HTTP/1.1';\n            if (!skipContent) {\n                requestBody += getOperationContent(collection[i]);\n            }\n            requestBody += NEWLINE;\n            changeId++;\n        }\n\n        return requestBody;\n    }\n\n    function processCollection(colection, boundary, changeset, changeId, transport, command, skipContent) {\n        var requestBody = \"\";\n\n        requestBody += getBoundary(boundary, changeset);\n        requestBody += getOperations(colection, changeset, changeId, command, transport, skipContent);\n        requestBody += createDelimeter(changeset, true);\n        requestBody += NEWLINE;\n\n        return requestBody;\n    }\n\n    function getBoundary(boundary,changeset) {\n        var requestBody = \"\";\n\n        requestBody += \"--\" + boundary + NEWLINE;\n        requestBody += \"Content-Type: multipart/mixed; boundary=\" + changeset + NEWLINE;\n\n        return requestBody;\n    }\n\n    function createBatchRequest(transport, colections) {\n\t\tvar options = extend({}, transport.options.batch);\n        var boundary = createBoundary(\"sf_batch_\");\n        var requestBody = \"\";\n        var changeId = 0;\n        var batchURL = transport.options.batch.url;\n        var changeset = createBoundary(\"sf_changeset_\");\n\n        options.type = transport.options.batch.type;\n        options.url = isFunction(batchURL) ? batchURL() : batchURL;\n\t\toptions.headers = extend(options.headers || {}, {\n\t\t\t\"Content-Type\": \"multipart/mixed; boundary=\" + boundary\n\t\t});\n\n        if (colections.updated.length) {\n            requestBody += processCollection(colections.updated, boundary, changeset, changeId, transport, \"update\", false);\n            changeId += colections.updated.length;\n            changeset = createBoundary(\"sf_changeset_\");\n        }\n\n        if (colections.destroyed.length) {\n            requestBody += processCollection(colections.destroyed, boundary, changeset, changeId, transport, \"destroy\", true);\n            changeId += colections.destroyed.length;\n            changeset = createBoundary(\"sf_changeset_\");\n        }\n\n        if (colections.created.length) {\n            requestBody += processCollection(colections.created, boundary, changeset, changeId, transport, \"create\", false);\n        }\n\n        requestBody += createDelimeter(boundary, true);\n\n        options.data = requestBody;\n\n        return options;\n    }\n\n    function parseBatchResponse(responseText) {\n        var responseMarkers = responseText.match(/--changesetresponse_[a-z0-9-]+$/gm);\n        var markerIndex = 0;\n        var collections = [];\n        var changeBody;\n        var status;\n        var code;\n        var marker;\n        var jsonModel;\n\n        collections.push({ models: [], passed: true });\n\n        for (var i = 0; i < responseMarkers.length; i++) {\n            marker = responseMarkers[i];\n            if (marker.lastIndexOf('--', marker.length - 1)) {\n                if (i < responseMarkers.length - 1) {\n                    collections.push({ models: [], passed: true });\n                }\n                continue;\n            }\n\n            if (!markerIndex) {\n                markerIndex = responseText.indexOf(marker);\n            } else {\n                markerIndex = responseText.indexOf(marker, markerIndex + marker.length);\n            }\n\n            changeBody = responseText.substring(markerIndex, responseText.indexOf(\"--\", markerIndex + 1));\n            status = changeBody.match(/^HTTP\\/1\\.\\d (\\d{3}) (.*)$/gm).pop();\n            code = kendo.parseFloat(status.match(/\\d{3}/g).pop());\n\n            if (code >= 200 && code <= 299) {\n                jsonModel = changeBody.match(/\\{.*\\}/gm);\n                if (jsonModel) {\n                    collections[collections.length - 1].models.push(JSON.parse(jsonModel[0]));\n                }\n            } else {\n                collections[collections.length - 1].passed = false;\n            }\n\n        }\n\n        return collections;\n    }\n\n    extend(true, kendo.data, {\n        schemas: {\n            odata: {\n                type: \"json\",\n                data: function(data) {\n                    return data.d.results || [data.d];\n                },\n                total: \"d.__count\"\n            }\n        },\n        transports: {\n            odata: {\n                read: {\n                    cache: true, // to prevent jQuery from adding cache buster\n                    dataType: \"jsonp\",\n                    jsonp: \"$callback\"\n                },\n                update: {\n                    cache: true,\n                    dataType: \"json\",\n                    contentType: \"application/json\", // to inform the server the the request body is JSON encoded\n                    type: \"PUT\" // can be PUT or MERGE\n                },\n                create: {\n                    cache: true,\n                    dataType: \"json\",\n                    contentType: \"application/json\",\n                    type: \"POST\" // must be POST to create new entity\n                },\n                destroy: {\n                    cache: true,\n                    dataType: \"json\",\n                    type: \"DELETE\"\n                },\n                parameterMap: function(options, type, useVersionFour) {\n                    var params,\n                        value,\n                        option,\n                        dataType;\n\n                    options = options || {};\n                    type = type || \"read\";\n                    dataType = (this.options || defaultDataType)[type];\n                    dataType = dataType ? dataType.dataType : \"json\";\n\n                    if (type === \"read\") {\n                        params = {\n                            $inlinecount: \"allpages\"\n                        };\n\n                        if (dataType != \"json\") {\n                            params.$format = \"json\";\n                        }\n\n                        for (option in options) {\n                            if (mappers[option]) {\n                                mappers[option](params, options[option], useVersionFour);\n                            } else {\n                                params[option] = options[option];\n                            }\n                        }\n                    } else {\n                        if (dataType !== \"json\") {\n                            throw new Error(\"Only json dataType can be used for \" + type + \" operation.\");\n                        }\n\n                        if (type !== \"destroy\") {\n                            for (option in options) {\n                                value = options[option];\n                                if (typeof value === \"number\") {\n                                    options[option] = value + \"\";\n                                }\n                            }\n\n                            params = kendo.stringify(options);\n                        }\n                    }\n\n                    return params;\n                }\n            }\n        }\n    });\n\n    extend(true, kendo.data, {\n        schemas: {\n            \"odata-v4\": {\n                type: \"json\",\n                data: function(data) {\n                    if (Array.isArray(data)) {\n                        for (var i = 0; i < data.length; i++) {\n                            stripMetadata(data[i]);\n                        }\n                        return data;\n                    } else {\n                        data = $.extend({}, data);\n                        stripMetadata(data);\n\n                        if (data.value) {\n                            return data.value;\n                        }\n                        return [data];\n                    }\n                },\n                total: function(data) {\n                    return data[\"@odata.count\"];\n                }\n            }\n        },\n        transports: {\n            \"odata-v4\": {\n                batch: {\n                    type: \"POST\"\n                },\n                read: {\n                    cache: true, // to prevent jQuery from adding cache buster\n                    dataType: \"json\"\n                },\n                update: {\n                    cache: true,\n                    dataType: \"json\",\n                    contentType: \"application/json;IEEE754Compatible=true\", // to inform the server the the request body is JSON encoded\n                    type: \"PUT\" // can be PUT or MERGE\n                },\n                create: {\n                    cache: true,\n                    dataType: \"json\",\n                    contentType: \"application/json;IEEE754Compatible=true\",\n                    type: \"POST\" // must be POST to create new entity\n                },\n                destroy: {\n                    cache: true,\n                    dataType: \"json\",\n                    type: \"DELETE\"\n                },\n                parameterMap: function(options, type) {\n                    var result = kendo.data.transports.odata.parameterMap(options, type, true);\n                    if (type == \"read\") {\n                        result.$count = true;\n                        delete result.$inlinecount;\n                    }\n\n\t\t\t\t\tif (result && result.$filter) {\n\t\t\t\t\t\t// Remove the single quotation marks around the GUID (OData v4).\n\t\t\t\t\t\tresult.$filter = result.$filter.replace(/('[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}')/ig, function(x) {\n\t\t\t\t\t\t\treturn x.substring(1, x.length - 1);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n                    return result;\n                },\n                submit: function(e) {\n                    var that = this;\n                    var options = createBatchRequest(that, e.data);\n                    var collections = e.data;\n\n                    if (!collections.updated.length && !collections.destroyed.length && !collections.created.length) {\n                        return;\n                    }\n\n                    $.ajax(extend(true, {}, {\n                        success: function(response) {\n                            var responses = parseBatchResponse(response);\n                            var index = 0;\n                            var current;\n\n                            if (collections.updated.length) {\n                                current = responses[index];\n                                if (current.passed) {\n                                    // Pass either the obtained models or an empty array if only status codes are returned.\n                                    e.success(current.models.length ? current.models : [], \"update\");\n                                }\n                                index++;\n                            }\n                            if (collections.destroyed.length) {\n                                current = responses[index];\n                                if (current.passed) {\n                                    // For delete operations OData returns only status codes.\n                                    // Passing empty array to datasource will force it to correctly remove the deleted items from the pristine collection.\n                                    e.success([], \"destroy\");\n                                }\n                                index++;\n                            }\n                            if (collections.created.length) {\n                                current = responses[index];\n                                if (current.passed) {\n                                    e.success(current.models, \"create\");\n                                }\n                            }\n                        },\n                        error: function(response, status, error) {\n                            e.error(response, status, error);\n                        }\n                    }, options));\n                }\n            }\n        }\n    });\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.data.xml',[ \"kendo.core\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"data.xml\",\n    name: \"XML\",\n    category: \"framework\",\n    depends: [ \"core\" ],\n    hidden: true\n};\n\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        isArray = Array.isArray,\n        isPlainObject = $.isPlainObject,\n        map = $.map,\n        each = $.each,\n        extend = $.extend,\n        getter = kendo.getter,\n        Class = kendo.Class;\n\n    var XmlDataReader = Class.extend({\n        init: function(options) {\n            var that = this,\n                total = options.total,\n                model = options.model,\n                parse = options.parse,\n                errors = options.errors,\n                serialize = options.serialize,\n                data = options.data;\n\n            if (model) {\n                if (isPlainObject(model)) {\n                    var base = options.modelBase || kendo.data.Model;\n\n                    if (model.fields) {\n                        each(model.fields, function(field, value) {\n                            if (isPlainObject(value) && value.field) {\n                                if (!kendo.isFunction(value.field)) {\n                                    value = extend(value, { field: that.getter(value.field) });\n                                }\n                            } else {\n                                value = { field: that.getter(value) };\n                            }\n                            model.fields[field] = value;\n                        });\n                    }\n\n                    var id = model.id;\n                    if (id) {\n                        var idField = {};\n\n                        idField[that.xpathToMember(id, true)] = { field: that.getter(id) };\n                        model.fields = extend(idField, model.fields);\n                        model.id = that.xpathToMember(id);\n                    }\n                    model = base.define(model);\n                }\n\n                that.model = model;\n            }\n\n            if (total) {\n                if (typeof total == \"string\") {\n                    total = that.getter(total);\n                    that.total = function(data) {\n                        return parseInt(total(data), 10);\n                    };\n                } else if (typeof total == \"function\") {\n                    that.total = total;\n                }\n            }\n\n            if (errors) {\n                if (typeof errors == \"string\") {\n                    errors = that.getter(errors);\n                    that.errors = function(data) {\n                        return errors(data) || null;\n                    };\n                } else if (typeof errors == \"function\") {\n                    that.errors = errors;\n                }\n            }\n\n            if (data) {\n                if (typeof data == \"string\") {\n                    data = that.xpathToMember(data);\n                    that.data = function(value) {\n                        var result = that.evaluate(value, data),\n                            modelInstance;\n\n                        result = isArray(result) ? result : [result];\n\n                        if (that.model && model.fields) {\n                            modelInstance = new that.model();\n\n                            return map(result, function(value) {\n                                if (value) {\n                                    var record = {}, field;\n\n                                    for (field in model.fields) {\n                                        record[field] = modelInstance._parse(field, model.fields[field].field(value));\n                                    }\n\n                                    return record;\n                                }\n                            });\n                        }\n\n                        return result;\n                    };\n                } else if (typeof data == \"function\") {\n                    that.data = data;\n                }\n            }\n\n            if (typeof parse == \"function\") {\n                var xmlParse = that.parse;\n\n                that.parse = function(data) {\n                    var xml = parse.call(that, data);\n                    return xmlParse.call(that, xml);\n                };\n            }\n\n            if (typeof serialize == \"function\") {\n                that.serialize = serialize;\n            }\n        },\n        total: function(result) {\n            return this.data(result).length;\n        },\n        errors: function(data) {\n            return data ? data.errors : null;\n        },\n        serialize: function(data) {\n            return data;\n        },\n        parseDOM: function(element) {\n            var result = {},\n                parsedNode,\n                node,\n                nodeType,\n                nodeName,\n                member,\n                attribute,\n                attributes = element.attributes,\n                attributeCount = attributes.length,\n                idx;\n\n            for (idx = 0; idx < attributeCount; idx++) {\n                attribute = attributes[idx];\n                result[\"@\" + attribute.nodeName] = attribute.nodeValue;\n            }\n\n            for (node = element.firstChild; node; node = node.nextSibling) {\n                nodeType = node.nodeType;\n\n                if (nodeType === 3 || nodeType === 4) {\n                    // text nodes or CDATA are stored as #text field\n                    result[\"#text\"] = node.nodeValue;\n                } else if (nodeType === 1) {\n                    // elements are stored as fields\n                    parsedNode = this.parseDOM(node);\n\n                    nodeName = node.nodeName;\n\n                    member = result[nodeName];\n\n                    if (isArray(member)) {\n                        // elements of same nodeName are stored as array\n                        member.push(parsedNode);\n                    } else if (member !== undefined) {\n                        member = [member, parsedNode];\n                    } else {\n                        member = parsedNode;\n                    }\n\n                    result[nodeName] = member;\n                }\n            }\n            return result;\n        },\n\n        evaluate: function(value, expression) {\n            var members = expression.split(\".\"),\n                member,\n                result,\n                length,\n                intermediateResult,\n                idx;\n\n            while (member = members.shift()) {\n                value = value[member];\n\n                if (isArray(value)) {\n                    result = [];\n                    expression = members.join(\".\");\n\n                    for (idx = 0, length = value.length; idx < length; idx++) {\n                        intermediateResult = this.evaluate(value[idx], expression);\n\n                        intermediateResult = isArray(intermediateResult) ? intermediateResult : [intermediateResult];\n\n                        result.push.apply(result, intermediateResult);\n                    }\n\n                    return result;\n                }\n            }\n\n            return value;\n        },\n\n        parse: function(xml) {\n            var documentElement,\n                tree,\n                result = {};\n\n            documentElement = xml.documentElement || $.parseXML(xml).documentElement;\n\n            tree = this.parseDOM(documentElement);\n\n            result[documentElement.nodeName] = tree;\n\n            return result;\n        },\n\n        xpathToMember: function(member, raw) {\n            if (!member) {\n                return \"\";\n            }\n\n            member = member.replace(/^\\//, \"\") // remove the first \"/\"\n                           .replace(/\\//g, \".\"); // replace all \"/\" with \".\"\n\n            if (member.indexOf(\"@\") >= 0) {\n                // replace @attribute with '[\"@attribute\"]'\n                return member.replace(/\\.?(@.*)/, raw ? '$1' : '[\"$1\"]');\n            }\n\n            if (member.indexOf(\"text()\") >= 0) {\n                // replace \".text()\" with '[\"#text\"]'\n                return member.replace(/(\\.?text\\(\\))/, raw ? '#text' : '[\"#text\"]');\n            }\n\n            return member;\n        },\n        getter: function(member) {\n            return getter(this.xpathToMember(member), true);\n        }\n    });\n\n    $.extend(true, kendo.data, {\n        XmlDataReader: XmlDataReader,\n        readers: {\n            xml: XmlDataReader\n        }\n    });\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.data',[ \"kendo.core\", \"kendo.data.odata\", \"kendo.data.xml\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"data\",\n    name: \"Data source\",\n    category: \"framework\",\n    description: \"Powerful component for using local and remote data.Fully supports CRUD, Sorting, Paging, Filtering, Grouping, and Aggregates.\",\n    depends: [ \"core\" ],\n    features: [ {\n        id: \"data-odata\",\n        name: \"OData\",\n        description: \"Support for accessing Open Data Protocol (OData) services.\",\n        depends: [ \"data.odata\" ]\n    }, {\n        id: \"data-signalr\",\n        name: \"SignalR\",\n        description: \"Support for binding to SignalR hubs.\",\n        depends: [ \"data.signalr\" ]\n    }, {\n        id: \"data-XML\",\n        name: \"XML\",\n        description: \"Support for binding to XML.\",\n        depends: [ \"data.xml\" ]\n    }]\n};\n\n\n(function($, undefined) {\n    var extend = $.extend,\n        isPlainObject = $.isPlainObject,\n        isEmptyObject = $.isEmptyObject,\n        isArray = Array.isArray,\n        grep = $.grep,\n        ajax = $.ajax,\n        map,\n        each = $.each,\n        noop = $.noop,\n        kendo = window.kendo,\n        isFunction = kendo.isFunction,\n        Observable = kendo.Observable,\n        Class = kendo.Class,\n        STRING = \"string\",\n        FUNCTION = \"function\",\n        ASCENDING = \"asc\",\n        CREATE = \"create\",\n        READ = \"read\",\n        UPDATE = \"update\",\n        DESTROY = \"destroy\",\n        CHANGE = \"change\",\n        SYNC = \"sync\",\n        GET = \"get\",\n        ERROR = \"error\",\n        REQUESTSTART = \"requestStart\",\n        PROGRESS = \"progress\",\n        REQUESTEND = \"requestEnd\",\n        ITEMSLOADED = \"itemsLoaded\",\n        ITEMLOAD = \"itemLoad\",\n        crud = [CREATE, READ, UPDATE, DESTROY],\n        identity = function(o) { return o; },\n        getter = kendo.getter,\n        stringify = kendo.stringify,\n        math = Math,\n        push = [].push,\n        join = [].join,\n        pop = [].pop,\n        splice = [].splice,\n        shift = [].shift,\n        slice = [].slice,\n        unshift = [].unshift,\n        toString = {}.toString,\n        stableSort = kendo.support.stableSort,\n        dateRegExp = /^\\/Date\\((.*?)\\)\\/$/,\n        objectKeys = [];\n\n    var ObservableArray = Observable.extend({\n        init: function(array, type) {\n            var that = this;\n\n            that.type = type || ObservableObject;\n\n            Observable.fn.init.call(that);\n\n            that.length = array.length;\n\n            that.wrapAll(array, that);\n            that._loadPromises = [];\n            that._loadedNodes = [];\n        },\n\n        at: function(index) {\n            return this[index];\n        },\n\n        toJSON: function(serializeFunctions) {\n            var idx, length = this.length, value, json = new Array(length);\n\n            for (idx = 0; idx < length; idx++) {\n                value = this[idx];\n\n                if (value instanceof ObservableObject) {\n                    value = value.toJSON(serializeFunctions);\n                }\n\n                json[idx] = value;\n            }\n\n            return json;\n        },\n\n        parent: noop,\n\n        wrapAll: function(source, target) {\n            var that = this,\n                idx,\n                length,\n                parent = function() {\n                    return that;\n                };\n\n            target = target || [];\n\n            for (idx = 0, length = source.length; idx < length; idx++) {\n                target[idx] = that.wrap(source[idx], parent);\n            }\n\n            return target;\n        },\n\n        wrap: function(object, parent) {\n            var that = this,\n                observable;\n\n            if (object !== null && toString.call(object) === \"[object Object]\") {\n                observable = object instanceof that.type || object instanceof Model;\n\n                if (!observable) {\n                    object = object instanceof ObservableObject ? object.toJSON() : object;\n                    object = new that.type(object);\n                }\n\n                object.parent = parent;\n\n                object.bind(CHANGE, function(e) {\n                    var isGroup = object.hasOwnProperty(\"hasSubgroups\");\n                    that.trigger(CHANGE, {\n                        field: e.field,\n                        node: e.node,\n                        index: e.index,\n                        items: e.items || [this],\n                        action: e.node || isGroup ? (e.action || \"itemloaded\") : \"itemchange\"\n                    });\n                });\n\n                object.bind(ITEMLOAD, function(e) {\n                    that._loadPromises.push(e.promise);\n                    that._loading = true;\n\n                    e.promise.done(function() {\n                        that._loadedNodes.push(e.node);\n                        var index = that._loadPromises.indexOf(e.promise);\n                        that._loadPromises.splice(index, 1);\n\n                        if (!that._loadPromises.length) {\n                            that._loading = false;\n                            that.trigger(ITEMSLOADED, { collection: that, nodes: that._loadedNodes });\n                            that._loadedNodes = [];\n                        }\n                    });\n                });\n            }\n\n            return object;\n        },\n\n        loading: function() {\n            return this._loading;\n        },\n\n        push: function() {\n            var index = this.length,\n                items = this.wrapAll(arguments),\n                result;\n\n            result = push.apply(this, items);\n\n            if (!this.omitChangeEvent) {\n                this.trigger(CHANGE, {\n                    action: \"add\",\n                    index: index,\n                    items: items\n                });\n            }\n\n            return result;\n        },\n\n        slice: slice,\n\n        sort: [].sort,\n\n        join: join,\n\n        pop: function() {\n            var length = this.length, result = pop.apply(this);\n\n            if (length) {\n                this.trigger(CHANGE, {\n                    action: \"remove\",\n                    index: length - 1,\n                    items: [result]\n                });\n            }\n\n            return result;\n        },\n\n        splice: function(index, howMany, item) {\n            var items = this.wrapAll(slice.call(arguments, 2)),\n                result, i, len;\n\n            result = splice.apply(this, [index, howMany].concat(items));\n\n            if (result.length) {\n                if (!this.omitChangeEvent) {\n                    this.trigger(CHANGE, {\n                        action: \"remove\",\n                        index: index,\n                        items: result\n                    });\n                }\n\n                for (i = 0, len = result.length; i < len; i++) {\n                    if (result[i] && result[i].children) {\n                        result[i].unbind(CHANGE);\n                    }\n                }\n            }\n\n            if (item) {\n                if (!this.omitChangeEvent) {\n                    this.trigger(CHANGE, {\n                        action: \"add\",\n                        index: index,\n                        items: items\n                    });\n                }\n            }\n            return result;\n        },\n\n        shift: function() {\n            var length = this.length, result = shift.apply(this);\n\n            if (length) {\n                this.trigger(CHANGE, {\n                    action: \"remove\",\n                    index: 0,\n                    items: [result]\n                });\n            }\n\n            return result;\n        },\n\n        unshift: function() {\n            var items = this.wrapAll(arguments),\n                result;\n\n            result = unshift.apply(this, items);\n\n            this.trigger(CHANGE, {\n                action: \"add\",\n                index: 0,\n                items: items\n            });\n\n            return result;\n        },\n\n        indexOf: function(item) {\n            var that = this,\n                idx,\n                length;\n\n            for (idx = 0, length = that.length; idx < length; idx++) {\n                if (that[idx] === item) {\n                    return idx;\n                }\n            }\n            return -1;\n        },\n\n        forEach: function(callback, thisArg) {\n            var idx = 0;\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                callback.call(context, this[idx], idx, this);\n            }\n        },\n\n        map: function(callback, thisArg) {\n            var idx = 0;\n            var result = [];\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                result[idx] = callback.call(context, this[idx], idx, this);\n            }\n\n            return result;\n        },\n\n        reduce: function(callback) {\n            var idx = 0,\n                result,\n                length = this.length;\n\n            if (arguments.length == 2) {\n                result = arguments[1];\n            } else if (idx < length) {\n                result = this[idx++];\n            }\n\n            for (; idx < length; idx++) {\n                result = callback(result, this[idx], idx, this);\n            }\n\n            return result;\n        },\n\n        reduceRight: function(callback) {\n            var idx = this.length - 1,\n                result;\n\n            if (arguments.length == 2) {\n                result = arguments[1];\n            } else if (idx > 0) {\n                result = this[idx--];\n            }\n\n            for (; idx >= 0; idx--) {\n                result = callback(result, this[idx], idx, this);\n            }\n\n            return result;\n        },\n\n        filter: function(callback, thisArg) {\n            var idx = 0;\n            var result = [];\n            var item;\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                item = this[idx];\n                if (callback.call(context, item, idx, this)) {\n                    result[result.length] = item;\n                }\n            }\n\n            return result;\n        },\n\n        find: function(callback, thisArg) {\n            var idx = 0;\n            var item;\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                item = this[idx];\n                if (callback.call(context, item, idx, this)) {\n                    return item;\n                }\n            }\n        },\n\n        every: function(callback, thisArg) {\n            var idx = 0;\n            var item;\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                item = this[idx];\n                if (!callback.call(context, item, idx, this)) {\n                    return false;\n                }\n            }\n\n            return true;\n        },\n\n        some: function(callback, thisArg) {\n            var idx = 0;\n            var item;\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                item = this[idx];\n                if (callback.call(context, item, idx, this)) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        // non-standard collection methods\n        remove: function(item) {\n            var idx = this.indexOf(item);\n\n            if (idx !== -1) {\n                this.splice(idx, 1);\n            }\n        },\n\n        empty: function() {\n            this.splice(0, this.length);\n        }\n    });\n\n    // Polyfill for Symbol.iterator\n    if (typeof Symbol !== \"undefined\" && Symbol.iterator && !ObservableArray.prototype[Symbol.iterator]) {\n        ObservableArray.prototype[Symbol.iterator] = [][Symbol.iterator];\n    }\n\n    var LazyObservableArray = ObservableArray.extend({\n        init: function(data, type, events) {\n            var parentFn = function() { return this; };\n\n            Observable.fn.init.call(this);\n\n            this.type = type || ObservableObject;\n\n            if (events) {\n                this._events = events;\n            }\n\n            for (var idx = 0; idx < data.length; idx++) {\n                this[idx] = data[idx];\n            }\n\n            this.length = idx;\n            this._parent = parentFn.bind(this);\n        },\n        at: function(index) {\n            var item = this[index];\n\n            if (!(item instanceof this.type)) {\n                item = this[index] = this.wrap(item, this._parent);\n            } else {\n                item.parent = this._parent;\n            }\n\n            return item;\n        }\n    });\n\n    function eventHandler(context, type, field, prefix) {\n        return function(e) {\n            var event = {}, key;\n\n            for (key in e) {\n                event[key] = e[key];\n            }\n\n            if (prefix) {\n                event.field = field + \".\" + e.field;\n            } else {\n                event.field = field;\n            }\n\n            if (type == CHANGE && context._notifyChange) {\n                context._notifyChange(event);\n            }\n\n            context.trigger(type, event);\n        };\n    }\n\n    function isPrimitiveType(value) {\n        return (typeof value === \"object\" && Object.getPrototypeOf(value) === Object.getPrototypeOf({}))\n                || Object.getPrototypeOf(value) === Object.getPrototypeOf(new Date())\n                || typeof value !== \"object\";\n      }\n\n    function ownKeys(value, ignoreObjectKeys) {\n        var props = [];\n        var protoKeys = [];\n        var keys, filteredObjectKeys;\n\n        value = value || {};\n\n        if (!isPrimitiveType(value)) {\n            protoKeys = Object.getOwnPropertyNames(Object.getPrototypeOf(value));\n        }\n\n        keys = Object.getOwnPropertyNames(value).concat(protoKeys);\n\n        filteredObjectKeys = objectKeys.filter(function(key) {\n            return keys.indexOf(key) < 0;\n        });\n\n        while (value) {\n            Object.getOwnPropertyNames(value).forEach(function(prop) {\n                if (props.indexOf(prop) === -1 && (!ignoreObjectKeys || filteredObjectKeys.indexOf(prop) < 0)) {\n                    props.push(prop);\n                }\n            });\n            value = Object.getPrototypeOf(value);\n        }\n\n        return props;\n    }\n\n    objectKeys = ownKeys({}, false);\n\n    var ObservableObject = Observable.extend({\n        init: function(value) {\n            var that = this,\n                member,\n                keys = ownKeys(value, true),\n                parent = function() {\n                    return that;\n                };\n\n            Observable.fn.init.call(this);\n\n            this._handlers = {};\n\n            keys.forEach(function(field) {\n                member = value[field];\n\n                if (typeof member === \"object\" && member && !member.getTime && field.charAt(0) != \"_\") {\n                    member = that.wrap(member, field, parent);\n                }\n\n                that[field] = member;\n            });\n\n            that.uid = kendo.guid();\n        },\n\n        shouldSerialize: function(field, serializeFunctions) {\n            return this.hasOwnProperty(field) && field !== \"_handlers\" && field !== \"_events\" && ((serializeFunctions && serializeFunctions[field]) || typeof this[field] !== FUNCTION) && field !== \"uid\";\n        },\n\n        forEach: function(f) {\n            for (var i in this) {\n                if (this.shouldSerialize(i)) {\n                    f(this[i], i);\n                }\n            }\n        },\n\n        toJSON: function(serializeFunctions) {\n            var result = {}, value, field;\n\n            for (field in this) {\n                if (this.shouldSerialize(field, serializeFunctions)) {\n                    value = this[field];\n\n                    if (value instanceof ObservableObject || value instanceof ObservableArray) {\n                        value = value.toJSON(serializeFunctions);\n                    }\n\n                    result[field] = value;\n                }\n            }\n\n            return result;\n        },\n\n        get: function(field) {\n            var that = this, result;\n\n            that.trigger(GET, { field: field });\n\n            if (field === \"this\") {\n                result = that;\n            } else {\n                result = kendo.getter(field, true)(that);\n            }\n\n            return result;\n        },\n\n        _set: function(field, value) {\n            var that = this;\n            var composite = field.indexOf(\".\") >= 0;\n\n            if (composite) {\n                var paths = field.split(\".\"),\n                    path = \"\";\n\n                while (paths.length > 1) {\n                    path += paths.shift();\n                    var obj = kendo.getter(path, true)(that);\n                    if (obj instanceof ObservableObject) {\n                        obj.set(paths.join(\".\"), value);\n                        return composite;\n                    }\n                    path += \".\";\n                }\n            }\n\n            kendo.setter(field)(that, value);\n\n            return composite;\n        },\n\n        set: function(field, value) {\n            var that = this,\n                isSetPrevented = false,\n                composite = field.indexOf(\".\") >= 0,\n                current = kendo.getter(field, true)(that);\n\n            if (current !== value) {\n                if (current instanceof Observable && this._handlers[field]) {\n                    if (this._handlers[field].get) {\n                       current.unbind(GET, this._handlers[field].get);\n                    }\n                    current.unbind(CHANGE, this._handlers[field].change);\n                }\n\n                isSetPrevented = that.trigger(\"set\", { field: field, value: value });\n\n                if (!isSetPrevented) {\n                    if (!composite) {\n                        value = that.wrap(value, field, function() { return that; });\n                    }\n                    if (!that._set(field, value) || field.indexOf(\"(\") >= 0 || field.indexOf(\"[\") >= 0) {\n                        that.trigger(CHANGE, { field: field });\n                    }\n                }\n            }\n\n            return isSetPrevented;\n        },\n\n        parent: noop,\n\n        wrap: function(object, field, parent) {\n            var that = this;\n            var get;\n            var change;\n            var type = toString.call(object);\n\n            if (object != null && (type === \"[object Object]\" || type === \"[object Array]\")) {\n                var isObservableArray = object instanceof ObservableArray;\n                var isDataSource = object instanceof DataSource;\n\n                if (type === \"[object Object]\" && !isDataSource && !isObservableArray) {\n                    if (!(object instanceof ObservableObject)) {\n                        object = new ObservableObject(object);\n                    }\n\n                    get = eventHandler(that, GET, field, true);\n                    object.bind(GET, get);\n                    change = eventHandler(that, CHANGE, field, true);\n                    object.bind(CHANGE, change);\n\n                    that._handlers[field] = { get: get, change: change };\n                } else if (type === \"[object Array]\" || isObservableArray || isDataSource) {\n                    if (!isObservableArray && !isDataSource) {\n                        object = new ObservableArray(object);\n                    }\n\n                    change = eventHandler(that, CHANGE, field, false);\n\n                    object.bind(CHANGE, change);\n\n                    that._handlers[field] = { change: change };\n                }\n\n                object.parent = parent;\n            }\n\n            return object;\n        }\n    });\n\n    function equal(x, y) {\n        if (x === y) {\n            return true;\n        }\n\n        var xtype = kendo.type(x), ytype = kendo.type(y), field;\n\n        if (xtype !== ytype) {\n            return false;\n        }\n\n        if (xtype === \"date\") {\n            return x.getTime() === y.getTime();\n        }\n\n        if (xtype !== \"object\" && xtype !== \"array\") {\n            return false;\n        }\n\n        for (field in x) {\n            if (!equal(x[field], y[field])) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    var parsers = {\n        \"number\": function(value) {\n            if (typeof value === STRING && value.toLowerCase() === \"null\") {\n                return null;\n            }\n            return kendo.parseFloat(value);\n        },\n\n        \"date\": function(value) {\n            if (typeof value === STRING && value.toLowerCase() === \"null\") {\n                return null;\n            }\n            return kendo.parseDate(value);\n        },\n\n        \"boolean\": function(value) {\n            if (typeof value === STRING) {\n                if (value.toLowerCase() === \"null\") {\n                    return null;\n                } else {\n                    return value.toLowerCase() === \"true\";\n                }\n            }\n            return value != null ? !!value : value;\n        },\n\n        \"string\": function(value) {\n            if (typeof value === STRING && value.toLowerCase() === \"null\") {\n                return null;\n            }\n            return value != null ? (value + \"\") : value;\n        },\n\n        \"default\": function(value) {\n            return value;\n        }\n    };\n\n    var defaultValues = {\n        \"string\": \"\",\n        \"number\": 0,\n        \"date\": new Date(),\n        \"boolean\": false,\n        \"default\": \"\"\n    };\n\n    function getFieldByName(obj, name) {\n        var field,\n            fieldName;\n\n        for (fieldName in obj) {\n            field = obj[fieldName];\n            if (isPlainObject(field) && field.field && field.field === name) {\n                return field;\n            } else if (field === name) {\n                return field;\n            }\n        }\n        return null;\n    }\n\n    var Model = ObservableObject.extend({\n        init: function(data) {\n            var that = this;\n\n            if (!data || $.isEmptyObject(data)) {\n                data = $.extend({}, that.defaults, data);\n\n                if (that._initializers) {\n                    for (var idx = 0; idx < that._initializers.length; idx++) {\n                         var name = that._initializers[idx];\n                         data[name] = that.defaults[name]();\n                    }\n                }\n            }\n\n            ObservableObject.fn.init.call(that, data);\n\n            that.dirty = false;\n            that.dirtyFields = {};\n\n            if (that.idField) {\n                that.id = that.get(that.idField);\n\n                if (that.id === undefined) {\n                    that.id = that._defaultId;\n                }\n            }\n        },\n\n        shouldSerialize: function(field) {\n            return ObservableObject.fn.shouldSerialize.call(this, field) &&\n                field !== \"uid\" && !(this.idField !== \"id\" && field === \"id\") &&\n                field !== \"dirty\" && field !== \"dirtyFields\" && field !== \"_accessors\";\n        },\n\n        _parse: function(field, value) {\n            var that = this,\n                fieldName = field,\n                fields = (that.fields || {}),\n                parse;\n\n            field = fields[field];\n            if (!field) {\n                field = getFieldByName(fields, fieldName);\n            }\n            if (field) {\n                parse = field.parse;\n                if (!parse && field.type) {\n                    parse = parsers[field.type.toLowerCase()];\n                }\n            }\n\n            return parse ? parse(value) : value;\n        },\n\n        _notifyChange: function(e) {\n            var action = e.action;\n\n            if (action == \"add\" || action == \"remove\") {\n                this.dirty = true;\n                this.dirtyFields[e.field] = true;\n            }\n        },\n\n        editable: function(field) {\n            field = (this.fields || {})[field];\n            return field ? field.editable !== false : true;\n        },\n\n        set: function(field, value) {\n            var that = this;\n            var dirty = that.dirty;\n\n            if (that.editable(field)) {\n                value = that._parse(field, value);\n\n                if (!equal(value, that.get(field))) {\n                    that.dirty = true;\n                    that.dirtyFields[field] = true;\n\n                    if (ObservableObject.fn.set.call(that, field, value) && !dirty) {\n                        that.dirty = dirty;\n\n                        if (!that.dirty) {\n                            that.dirtyFields[field] = false;\n                        }\n                    }\n                } else {\n                    that.trigger(\"equalSet\", { field: field, value: value });\n                }\n            }\n        },\n\n        accept: function(data) {\n            var that = this,\n                parent = function() { return that; },\n                field;\n\n            for (field in data) {\n                var value = data[field];\n\n                if (field.charAt(0) != \"_\") {\n                    value = that.wrap(data[field], field, parent);\n                }\n\n                that._set(field, value);\n            }\n\n            if (that.idField) {\n                that.id = that.get(that.idField);\n            }\n\n            that.dirty = false;\n            that.dirtyFields = {};\n        },\n\n        isNew: function() {\n            return this.id === this._defaultId;\n        }\n    });\n\n    Model.define = function(base, options) {\n        if (options === undefined) {\n            options = base;\n            base = Model;\n        }\n\n        var model,\n            proto = extend({ defaults: {} }, options),\n            name,\n            field,\n            type,\n            value,\n            idx,\n            length,\n            fields = {},\n            originalName,\n            id = proto.id,\n            functionFields = [];\n\n        if (id) {\n            proto.idField = id;\n        }\n\n        if (proto.id) {\n            delete proto.id;\n        }\n\n        if (id) {\n            proto.defaults[id] = proto._defaultId = \"\";\n        }\n\n        if (toString.call(proto.fields) === \"[object Array]\") {\n            for (idx = 0, length = proto.fields.length; idx < length; idx++) {\n                field = proto.fields[idx];\n                if (typeof field === STRING) {\n                    fields[field] = {};\n                } else if (field.field) {\n                    fields[field.field] = field;\n                }\n            }\n            proto.fields = fields;\n        }\n\n        for (name in proto.fields) {\n            field = proto.fields[name];\n            type = field.type || \"default\";\n            value = null;\n            originalName = name;\n\n            name = typeof (field.field) === STRING ? field.field : name;\n\n            if (!field.nullable) {\n                value = proto.defaults[originalName !== name ? originalName : name] = field.defaultValue !== undefined ? field.defaultValue : defaultValues[type.toLowerCase()];\n\n                if (typeof value === \"function\") {\n                    functionFields.push(name);\n                }\n            }\n\n            if (options.id === name) {\n                proto._defaultId = value;\n            }\n\n            proto.defaults[originalName !== name ? originalName : name] = value;\n\n            field.parse = field.parse || parsers[type];\n        }\n\n        if (functionFields.length > 0) {\n            proto._initializers = functionFields;\n        }\n\n        model = base.extend(proto);\n        model.define = function(options) {\n            return Model.define(model, options);\n        };\n\n        if (proto.fields) {\n            model.fields = proto.fields;\n            model.idField = proto.idField;\n        }\n\n        return model;\n    };\n\n    var Comparer = {\n        selector: function(field) {\n            return isFunction(field) ? field : getter(field);\n        },\n\n        compare: function(field) {\n            var selector = this.selector(field);\n            return function(a, b) {\n                a = selector(a);\n                b = selector(b);\n\n                if (a == null && b == null) {\n                    return 0;\n                }\n\n                if (a == null) {\n                    return -1;\n                }\n\n                if (b == null) {\n                    return 1;\n                }\n\n                if (a.localeCompare) {\n                    return a.localeCompare(b);\n                }\n\n                return a > b ? 1 : (a < b ? -1 : 0);\n            };\n        },\n\n        create: function(sort) {\n            var compare = sort.compare || this.compare(sort.field);\n\n            if (sort.dir == \"desc\") {\n                return function(a, b) {\n                    return compare(b, a, true);\n                };\n            }\n\n            return compare;\n        },\n\n        combine: function(comparers) {\n            return function(a, b) {\n                var result = comparers[0](a, b),\n                    idx,\n                    length;\n\n                for (idx = 1, length = comparers.length; idx < length; idx ++) {\n                    result = result || comparers[idx](a, b);\n                }\n\n                return result;\n            };\n        }\n    };\n\n    var StableComparer = extend({}, Comparer, {\n        asc: function(field) {\n            var selector = this.selector(field);\n            return function(a, b) {\n                var valueA = selector(a);\n                var valueB = selector(b);\n\n                if (valueA && valueA.getTime && valueB && valueB.getTime) {\n                    valueA = valueA.getTime();\n                    valueB = valueB.getTime();\n                }\n\n                if (valueA === valueB) {\n                    return a.__position - b.__position;\n                }\n\n                if (valueA == null) {\n                    return -1;\n                }\n\n                if (valueB == null) {\n                    return 1;\n                }\n\n                if (valueA.localeCompare) {\n                    return valueA.localeCompare(valueB);\n                }\n\n                return valueA > valueB ? 1 : -1;\n            };\n        },\n\n        desc: function(field) {\n            var selector = this.selector(field);\n            return function(a, b) {\n                var valueA = selector(a);\n                var valueB = selector(b);\n\n                if (valueA && valueA.getTime && valueB && valueB.getTime) {\n                    valueA = valueA.getTime();\n                    valueB = valueB.getTime();\n                }\n\n                if (valueA === valueB) {\n                    return a.__position - b.__position;\n                }\n\n                if (valueA == null) {\n                    return 1;\n                }\n\n                if (valueB == null) {\n                    return -1;\n                }\n\n                if (valueB.localeCompare) {\n                    return valueB.localeCompare(valueA);\n                }\n\n                return valueA < valueB ? 1 : -1;\n            };\n        },\n        create: function(sort) {\n           return this[sort.dir](sort.field);\n        }\n    });\n\n    map = function(array, callback) {\n        var idx, length = array.length, result = new Array(length);\n\n        for (idx = 0; idx < length; idx++) {\n            result[idx] = callback(array[idx], idx, array);\n        }\n\n        return result;\n    };\n\n    var operators = (function() {\n\n        function quote(str) {\n            if (typeof str == \"string\") {\n                str = str.replace(/[\\r\\n]+/g, \"\");\n            }\n            return JSON.stringify(str);\n        }\n\n        function textOp(impl) {\n            return function(a, b, ignore, accentFoldingFiltering) {\n                b += \"\";\n                if (ignore) {\n                    a = \"(\" + a + \" + '').toString()\" + ((accentFoldingFiltering) ? \".toLocaleLowerCase('\" + accentFoldingFiltering + \"')\" : \".toLowerCase()\");\n                    b = ((accentFoldingFiltering) ? b.toLocaleLowerCase(accentFoldingFiltering) : b.toLowerCase());\n                }\n                return impl(a, quote(b), ignore);\n            };\n        }\n\n        function operator(op, a, b, ignore, accentFoldingFiltering) {\n            if (b != null) {\n                if (typeof b === STRING) {\n                    var date = dateRegExp.exec(b);\n                    if (date) {\n                        b = new Date(+date[1]);\n                    } else if (ignore) {\n                        b = quote(((accentFoldingFiltering) ? b.toLocaleLowerCase(accentFoldingFiltering) : b.toLowerCase()));\n                        a = \"((\" + a + \" || '')+'')\" + ((accentFoldingFiltering) ? \".toLocaleLowerCase('\" + accentFoldingFiltering + \"')\" : \".toLowerCase()\");\n                    } else {\n                        b = quote(b);\n                    }\n                }\n\n                if (b.getTime) {\n                    //b looks like a Date\n                    a = \"(\" + a + \"&&\" + a + \".getTime?\" + a + \".getTime():\" + a + \")\";\n                    b = b.getTime();\n                }\n            }\n\n            return a + \" \" + op + \" \" + b;\n        }\n\n        function getMatchRegexp(pattern) {\n            // take a pattern, as supported by Excel match filter, and\n            // convert it to the equivalent JS regular expression.\n            // Excel patterns support:\n            //\n            //   * - match any sequence of characters\n            //   ? - match a single character\n            //\n            // to match a literal * or ?, they must be prefixed by a tilde (~)\n            for (var rx = \"/^\", esc = false, i = 0; i < pattern.length; ++i) {\n                var ch = pattern.charAt(i);\n                if (esc) {\n                    rx += \"\\\\\" + ch;\n                } else if (ch == \"~\") {\n                    esc = true;\n                    continue;\n                } else if (ch == \"*\") {\n                    rx += \".*\";\n                } else if (ch == \"?\") {\n                    rx += \".\";\n                } else if (\".+^$()[]{}|\\\\/\\n\\r\\u2028\\u2029\\xA0\".indexOf(ch) >= 0) {\n                    rx += \"\\\\\" + ch;\n                } else {\n                    rx += ch;\n                }\n                esc = false;\n            }\n            return rx + \"$/\";\n        }\n\n        return {\n            quote: function(value) {\n                if (value && value.getTime) {\n                    return \"new Date(\" + value.getTime() + \")\";\n                }\n                return quote(value);\n            },\n            eq: function(a, b, ignore, accentFoldingFiltering) {\n                return operator(\"==\", a, b, ignore, accentFoldingFiltering);\n            },\n            neq: function(a, b, ignore, accentFoldingFiltering) {\n                return operator(\"!=\", a, b, ignore, accentFoldingFiltering);\n            },\n            gt: function(a, b, ignore) {\n                return operator(\">\", a, b, ignore);\n            },\n            gte: function(a, b, ignore) {\n                return operator(\">=\", a, b, ignore);\n            },\n            lt: function(a, b, ignore) {\n                return operator(\"<\", a, b, ignore);\n            },\n            lte: function(a, b, ignore) {\n                return operator(\"<=\", a, b, ignore);\n            },\n            startswith: textOp(function(a, b) {\n                return a + \".lastIndexOf(\" + b + \", 0) == 0\";\n            }),\n            doesnotstartwith: textOp(function(a, b) {\n                return a + \".lastIndexOf(\" + b + \", 0) == -1\";\n            }),\n            endswith: textOp(function(a, b) {\n                var n = b ? b.length - 2 : 0;\n                return a + \".indexOf(\" + b + \", \" + a + \".length - \" + n + \") >= 0\";\n            }),\n            doesnotendwith: textOp(function(a, b) {\n                var n = b ? b.length - 2 : 0;\n                return a + \".indexOf(\" + b + \", \" + a + \".length - \" + n + \") < 0\";\n            }),\n            contains: textOp(function(a, b) {\n                return a + \".indexOf(\" + b + \") >= 0\";\n            }),\n            doesnotcontain: textOp(function(a, b) {\n                return a + \".indexOf(\" + b + \") == -1\";\n            }),\n            matches: textOp(function(a, b) {\n                b = b.substring(1, b.length - 1);\n                return getMatchRegexp(b) + \".test(\" + a + \")\";\n            }),\n            doesnotmatch: textOp(function(a, b) {\n                b = b.substring(1, b.length - 1);\n                return \"!\" + getMatchRegexp(b) + \".test(\" + a + \")\";\n            }),\n            isempty: function(a) {\n                return a + \" === ''\";\n            },\n            isnotempty: function(a) {\n                return a + \" !== ''\";\n            },\n            isnull: function(a) {\n                return \"(\" + a + \" == null)\";\n            },\n            isnotnull: function(a) {\n                return \"(\" + a + \" != null)\";\n            },\n            isnullorempty: function(a) {\n                return \"(\" + a + \" === null) || (\" + a + \" === '')\";\n            },\n            isnotnullorempty: function(a) {\n                return \"(\" + a + \" !== null) && (\" + a + \" !== '')\";\n            }\n        };\n    })();\n\n    function Query(data) {\n        this.data = data || [];\n    }\n\n    Query.filterExpr = function(expression) {\n        var expressions = [],\n            logic = { and: \" && \", or: \" || \" },\n            idx,\n            length,\n            filter,\n            expr,\n            fieldFunctions = [],\n            operatorFunctions = [],\n            field,\n            operator,\n            filters = expression.filters;\n\n        for (idx = 0, length = filters.length; idx < length; idx++) {\n            filter = filters[idx];\n            field = filter.field;\n            operator = filter.operator;\n\n            if (filter.filters) {\n                expr = Query.filterExpr(filter);\n                //Nested function fields or operators - update their index e.g. __o[0] -> __o[1]\n                filter = expr.expression\n                .replace(/__o\\[(\\d+)\\]/g, function(match, index) {\n                    index = +index;\n                    return \"__o[\" + (operatorFunctions.length + index) + \"]\";\n                })\n                .replace(/__f\\[(\\d+)\\]/g, function(match, index) {\n                    index = +index;\n                    return \"__f[\" + (fieldFunctions.length + index) + \"]\";\n                });\n\n                operatorFunctions.push.apply(operatorFunctions, expr.operators);\n                fieldFunctions.push.apply(fieldFunctions, expr.fields);\n            } else {\n                if (typeof field === FUNCTION) {\n                    expr = \"__f[\" + fieldFunctions.length + \"](d)\";\n                    fieldFunctions.push(field);\n                } else {\n                    expr = kendo.expr(field);\n                }\n\n                if (typeof operator === FUNCTION) {\n                    filter = \"__o[\" + operatorFunctions.length + \"](\" + expr + \", \" + operators.quote(filter.value) + \")\";\n                    operatorFunctions.push(operator);\n                } else {\n                    filter = operators[(operator || \"eq\").toLowerCase()](expr, filter.value, filter.ignoreCase !== undefined ? filter.ignoreCase : true, expression.accentFoldingFiltering);\n                }\n            }\n\n            expressions.push(filter);\n        }\n\n        return { expression: \"(\" + expressions.join(logic[expression.logic]) + \")\", fields: fieldFunctions, operators: operatorFunctions };\n    };\n\n    function normalizeSort(field, dir) {\n        if (field) {\n            var descriptor = typeof field === STRING ? { field: field, dir: dir } : field,\n            descriptors = isArray(descriptor) ? descriptor : (descriptor !== undefined ? [descriptor] : []);\n\n            return grep(descriptors, function(d) { return !!d.dir; });\n        }\n    }\n\n    function sortFields(sorts, dir) {\n        var sortObject = {};\n\n        if (sorts) {\n            var descriptor = typeof sorts === STRING ? { field: sorts, dir: dir } : sorts,\n            descriptors = isArray(descriptor) ? descriptor : (descriptor !== undefined ? [descriptor] : []);\n\n            for (var i = 0; i < descriptors.length; i++) {\n                sortObject[descriptors[i].field] = { dir: descriptors[i].dir, index: i + 1 };\n            }\n        }\n\n        return sortObject;\n    }\n\n    var operatorMap = {\n        \"==\": \"eq\",\n        equals: \"eq\",\n        isequalto: \"eq\",\n        equalto: \"eq\",\n        equal: \"eq\",\n        \"!=\": \"neq\",\n        ne: \"neq\",\n        notequals: \"neq\",\n        isnotequalto: \"neq\",\n        notequalto: \"neq\",\n        notequal: \"neq\",\n        \"<\": \"lt\",\n        islessthan: \"lt\",\n        lessthan: \"lt\",\n        less: \"lt\",\n        \"<=\": \"lte\",\n        le: \"lte\",\n        islessthanorequalto: \"lte\",\n        lessthanequal: \"lte\",\n        \">\": \"gt\",\n        isgreaterthan: \"gt\",\n        greaterthan: \"gt\",\n        greater: \"gt\",\n        \">=\": \"gte\",\n        isgreaterthanorequalto: \"gte\",\n        greaterthanequal: \"gte\",\n        ge: \"gte\",\n        notsubstringof: \"doesnotcontain\",\n        isnull: \"isnull\",\n        isempty: \"isempty\",\n        isnotempty: \"isnotempty\"\n    };\n\n    function normalizeOperator(expression) {\n        var idx,\n        length,\n        filter,\n        operator,\n        filters = expression.filters;\n\n        if (filters) {\n            for (idx = 0, length = filters.length; idx < length; idx++) {\n                filter = filters[idx];\n                operator = filter.operator;\n\n                if (operator && typeof operator === STRING) {\n                    filter.operator = operatorMap[operator.toLowerCase()] || operator;\n                }\n\n                normalizeOperator(filter);\n            }\n        }\n    }\n\n    function normalizeFilter(expression) {\n        if (expression && !isEmptyObject(expression)) {\n            if (isArray(expression) || !expression.filters) {\n                expression = {\n                    logic: \"and\",\n                    filters: isArray(expression) ? expression : [expression]\n                };\n            }\n\n            normalizeOperator(expression);\n\n            return expression;\n        }\n    }\n\n    Query.normalizeFilter = normalizeFilter;\n\n    function compareDescriptor(f1, f2) {\n        if (f1.logic || f2.logic) {\n            return false;\n        }\n\n        return f1.field === f2.field && f1.value === f2.value && f1.operator === f2.operator;\n    }\n\n    function normalizeDescriptor(filter) {\n        filter = filter || {};\n\n        if (isEmptyObject(filter)) {\n            return { logic: \"and\", filters: [] };\n        }\n\n        return normalizeFilter(filter);\n    }\n\n    function fieldComparer(a, b) {\n        if (b.logic || (a.field > b.field)) {\n            return 1;\n        } else if (a.field < b.field) {\n            return -1;\n        } else {\n            return 0;\n        }\n    }\n\n    function compareFilters(expr1, expr2) {\n        expr1 = normalizeDescriptor(expr1);\n        expr2 = normalizeDescriptor(expr2);\n\n        if (expr1.logic !== expr2.logic) {\n            return false;\n        }\n\n        var f1, f2;\n        var filters1 = (expr1.filters || []).slice();\n        var filters2 = (expr2.filters || []).slice();\n\n        if (filters1.length !== filters2.length) {\n            return false;\n        }\n\n        filters1 = filters1.sort(fieldComparer);\n        filters2 = filters2.sort(fieldComparer);\n\n        for (var idx = 0; idx < filters1.length; idx++) {\n            f1 = filters1[idx];\n            f2 = filters2[idx];\n\n            if (f1.logic && f2.logic) {\n                if (!compareFilters(f1, f2)) {\n                    return false;\n                }\n            } else if (!compareDescriptor(f1, f2)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    Query.compareFilters = compareFilters;\n\n    function normalizeAggregate(expressions) {\n        return isArray(expressions) ? expressions : [expressions];\n    }\n\n    function normalizeGroup(field, dir, compare, skipItemSorting) {\n        var descriptor = typeof field === STRING ? { field: field, dir: dir, compare: compare, skipItemSorting: skipItemSorting } : field,\n        descriptors = isArray(descriptor) ? descriptor : (descriptor !== undefined ? [descriptor] : []);\n\n        return map(descriptors, function(d) {\n            return {\n                field: d.field,\n                dir: d.dir || \"asc\",\n                aggregates: d.aggregates,\n                compare: d.compare,\n                skipItemSorting: d.skipItemSorting\n            };\n        });\n    }\n\n    function normalizeGroupWithoutCompare(field, dir, compare) {\n        var descriptors = normalizeGroup(field, dir, compare);\n\n        for (var i = 0; i < descriptors.length; i++) {\n            delete descriptors[i].compare;\n        }\n\n        return descriptors;\n    }\n\n    function anyGroupDescriptorHasCompare(groupDescriptors) {\n        var descriptors = isArray(groupDescriptors) ? groupDescriptors : [groupDescriptors];\n\n        for (var i = 0; i < descriptors.length; i++) {\n            if (descriptors[i] && isFunction(descriptors[i].compare)) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    Query.prototype = {\n        toArray: function() {\n            return this.data;\n        },\n        range: function(index, count) {\n            return new Query(this.data.slice(index, index + count));\n        },\n        skip: function(count) {\n            return new Query(this.data.slice(count));\n        },\n        take: function(count) {\n            return new Query(this.data.slice(0, count));\n        },\n        select: function(selector) {\n            return new Query(map(this.data, selector));\n        },\n        order: function(selector, dir, inPlace) {\n            var sort = { dir: dir };\n\n            if (selector) {\n                if (selector.compare) {\n                    sort.compare = selector.compare;\n                } else {\n                    sort.field = selector;\n                }\n            }\n\n            if (inPlace) {\n                return new Query(this.data.sort(Comparer.create(sort)));\n            }\n\n            return new Query(this.data.slice(0).sort(Comparer.create(sort)));\n        },\n        orderBy: function(selector, inPlace) {\n            return this.order(selector, \"asc\", inPlace);\n        },\n        orderByDescending: function(selector, inPlace) {\n            return this.order(selector, \"desc\", inPlace);\n        },\n        sort: function(field, dir, comparer, inPlace) {\n            var idx,\n            length,\n            descriptors = normalizeSort(field, dir),\n            comparers = [];\n\n            comparer = comparer || Comparer;\n\n            if (descriptors.length) {\n                for (idx = 0, length = descriptors.length; idx < length; idx++) {\n                    comparers.push(comparer.create(descriptors[idx]));\n                }\n\n                return this.orderBy({ compare: comparer.combine(comparers) }, inPlace);\n            }\n\n            return this;\n        },\n\n        filter: function(expressions) {\n            var idx,\n            current,\n            length,\n            compiled,\n            predicate,\n            data = this.data,\n            fields,\n            operators,\n            result = [],\n            filter;\n\n            expressions = normalizeFilter(expressions);\n\n            if (!expressions || expressions.filters.length === 0) {\n                return this;\n            }\n\n            compiled = Query.filterExpr(expressions);\n            fields = compiled.fields;\n            operators = compiled.operators;\n\n            predicate = filter = new Function(\"d, __f, __o\", \"return \" + compiled.expression);\n\n            if (fields.length || operators.length) {\n                filter = function(d) {\n                    return predicate(d, fields, operators);\n                };\n            }\n\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                current = data[idx];\n\n                if (filter(current)) {\n                    result.push(current);\n                }\n            }\n\n            return new Query(result);\n        },\n\n        group: function(descriptors, allData, options) {\n            descriptors = normalizeGroup(descriptors || []);\n            allData = allData || this.data;\n\n            var that = this,\n            result = new Query(that.data),\n            descriptor;\n\n            if (descriptors.length > 0) {\n                descriptor = descriptors[0];\n\n                if (options && options.groupPaging) {\n                    result = new Query(allData).groupAllData(descriptor, allData).select(function(group) {\n                        var data = new Query(allData).filter([{\n                            field: group.field,\n                            operator: \"eq\",\n                            value: group.value,\n                            ignoreCase: false\n                        }]);\n                        var items = descriptors.length > 1 ? new Query(group.items).group(descriptors.slice(1), data.toArray(), options).toArray() : group.items;\n                        return {\n                            field: group.field,\n                            value: group.value,\n                            hasSubgroups: descriptors.length > 1,\n                            items: items,\n                            aggregates: data.aggregate(descriptor.aggregates),\n                            uid: kendo.guid(),\n                            itemCount: items.length,\n                            subgroupCount: items.length\n                        };\n                    });\n\n                } else {\n                    result = result.groupBy(descriptor).select(function(group) {\n                        var data = new Query(allData).filter([ { field: group.field, operator: \"eq\", value: group.value, ignoreCase: false } ]);\n                        return {\n                            field: group.field,\n                            value: group.value,\n                            items: descriptors.length > 1 ? new Query(group.items).group(descriptors.slice(1), data.toArray()).toArray() : group.items,\n                            hasSubgroups: descriptors.length > 1,\n                            aggregates: data.aggregate(descriptor.aggregates)\n                        };\n                    });\n                }\n            }\n            return result;\n        },\n\n        groupBy: function(descriptor) {\n            var that = this;\n\n            if (isEmptyObject(descriptor) || !this.data.length) {\n                return new Query([]);\n            }\n\n            var field = descriptor.field,\n                sorted = descriptor.skipItemSorting ? this.data : this._sortForGrouping(field, descriptor.dir || \"asc\"),\n                accessor = kendo.accessor(field),\n                item,\n                groupValue = accessor.get(sorted[0], field),\n                group = {\n                    field: field,\n                    value: groupValue,\n                    items: []\n                },\n                currentValue,\n                idx,\n                len,\n                result = [group];\n\n            for (idx = 0, len = sorted.length; idx < len; idx++) {\n                item = sorted[idx];\n                currentValue = accessor.get(item, field);\n                if (!groupValueComparer(groupValue, currentValue)) {\n                    groupValue = currentValue;\n                    group = {\n                        field: field,\n                        value: groupValue,\n                        items: []\n                    };\n                    result.push(group);\n                }\n                group.items.push(item);\n            }\n\n            result = that._sortGroups(result, descriptor);\n\n            return new Query(result);\n        },\n\n        groupAllData: function(descriptor, allData) {\n            if (isEmptyObject(descriptor) || this.data && !this.data.length) {\n                return new Query([]);\n            }\n\n            var field = descriptor.field,\n                sorted = descriptor.skipItemSorting ? allData : new Query(allData).sort(field, descriptor.dir || \"asc\", StableComparer).toArray(),\n                accessor = kendo.accessor(field),\n                item,\n                groupValue = accessor.get(sorted[0], field),\n                group = {\n                    field: field,\n                    value: groupValue,\n                    items: []\n                },\n                currentValue,\n                idx,\n                len,\n                result = [group];\n\n            for (idx = 0, len = sorted.length; idx < len; idx++) {\n                item = sorted[idx];\n                currentValue = accessor.get(item, field);\n                if (!groupValueComparer(groupValue, currentValue)) {\n                    groupValue = currentValue;\n                    group = {\n                        field: field,\n                        value: groupValue,\n                        items: []\n                    };\n                    result.push(group);\n                }\n                group.items.push(item);\n            }\n\n            result = this._sortGroups(result, descriptor);\n\n            return new Query(result);\n        },\n\n        _sortForGrouping: function(field, dir) {\n            var idx, length,\n                data = this.data;\n\n            if (!stableSort) {\n                for (idx = 0, length = data.length; idx < length; idx++) {\n                    data[idx].__position = idx;\n                }\n\n                data = new Query(data).sort(field, dir, StableComparer).toArray();\n\n                for (idx = 0, length = data.length; idx < length; idx++) {\n                    delete data[idx].__position;\n                }\n                return data;\n            }\n\n            return this.sort(field, dir).toArray();\n        },\n\n        _sortGroups: function(groups, descriptor) {\n            var result = groups;\n\n            if (descriptor && isFunction(descriptor.compare)) {\n                result = new Query(result).order({ compare: descriptor.compare }, descriptor.dir || ASCENDING).toArray();\n            }\n\n            return result;\n        },\n\n        aggregate: function(aggregates) {\n            var idx,\n                len,\n                result = {},\n                state = {};\n\n            if (aggregates && aggregates.length) {\n                for (idx = 0, len = this.data.length; idx < len; idx++) {\n                    calculateAggregate(result, aggregates, this.data[idx], idx, len, state);\n                }\n            }\n            return result;\n        }\n    };\n\n    function groupValueComparer(a, b) {\n        if (a && a.getTime && b && b.getTime) {\n            return a.getTime() === b.getTime();\n        }\n        return a === b;\n    }\n\n    function calculateAggregate(accumulator, aggregates, item, index, length, state) {\n        aggregates = aggregates || [];\n        var idx,\n            aggr,\n            functionName,\n            len = aggregates.length;\n\n        for (idx = 0; idx < len; idx++) {\n            aggr = aggregates[idx];\n            functionName = aggr.aggregate;\n            var field = aggr.field;\n            accumulator[field] = accumulator[field] || {};\n            state[field] = state[field] || {};\n            state[field][functionName] = state[field][functionName] || {};\n            accumulator[field][functionName] = functions[functionName.toLowerCase()](accumulator[field][functionName], item, kendo.accessor(field), index, length, state[field][functionName]);\n        }\n    }\n\n    var functions = {\n        sum: function(accumulator, item, accessor) {\n            var value = accessor.get(item);\n\n            if (!isNumber(accumulator)) {\n                accumulator = value;\n            } else if (isNumber(value)) {\n                accumulator += value;\n            }\n\n            return accumulator;\n        },\n        count: function(accumulator) {\n            return (accumulator || 0) + 1;\n        },\n        average: function(accumulator, item, accessor, index, length, state) {\n            var value = accessor.get(item);\n\n            if (state.count === undefined) {\n                state.count = 0;\n            }\n\n            if (!isNumber(accumulator)) {\n                accumulator = value;\n            } else if (isNumber(value)) {\n                accumulator += value;\n            }\n\n            if (isNumber(value)) {\n                state.count++;\n            }\n\n            if (index == length - 1 && isNumber(accumulator)) {\n                accumulator = accumulator / state.count;\n            }\n            return accumulator;\n        },\n        max: function(accumulator, item, accessor) {\n            var value = accessor.get(item);\n\n            if (!isNumber(accumulator) && !isDate(accumulator)) {\n                accumulator = value;\n            }\n\n            if (accumulator < value && (isNumber(value) || isDate(value))) {\n                accumulator = value;\n            }\n            return accumulator;\n        },\n        min: function(accumulator, item, accessor) {\n            var value = accessor.get(item);\n\n            if (!isNumber(accumulator) && !isDate(accumulator)) {\n                accumulator = value;\n            }\n\n            if (accumulator > value && (isNumber(value) || isDate(value))) {\n                accumulator = value;\n            }\n            return accumulator;\n        }\n    };\n\n    function isNumber(val) {\n        return typeof val === \"number\" && !isNaN(val);\n    }\n\n    function isDate(val) {\n        return val && val.getTime;\n    }\n\n    function toJSON(array) {\n        var idx, length = array.length, result = new Array(length);\n\n        for (idx = 0; idx < length; idx++) {\n            result[idx] = array[idx].toJSON();\n        }\n\n        return result;\n    }\n\n    Query.normalizeGroup = normalizeGroup;\n    Query.normalizeSort = normalizeSort;\n\n    Query.process = function(data, options, inPlace) {\n        options = options || {};\n\n        var group = options.group;\n        var customGroupSort = anyGroupDescriptorHasCompare(normalizeGroup(group || []));\n        var query = new Query(data),\n            groupDescriptorsWithoutCompare = normalizeGroupWithoutCompare(group || []),\n            normalizedSort = normalizeSort(options.sort || []),\n            sort = customGroupSort ? normalizedSort : groupDescriptorsWithoutCompare.concat(normalizedSort),\n            groupDescriptorsWithoutSort,\n            total,\n            filterCallback = options.filterCallback,\n            filter = options.filter,\n            skip = options.skip,\n            take = options.take;\n\n        if (sort && inPlace) {\n            query = query.sort(sort, undefined, undefined, inPlace);\n        }\n\n        if (filter) {\n            query = query.filter(filter);\n\n            if (filterCallback) {\n                query = filterCallback(query);\n            }\n\n            total = query.toArray().length;\n        }\n\n        if (sort) {\n            if (!inPlace) {\n                query = query.sort(sort);\n            }\n\n            if (group) {\n                data = query.toArray();\n            }\n        }\n\n        if (customGroupSort) {\n            query = query.group(group, data, options);\n\n            if (skip !== undefined && take !== undefined && !options.groupPaging) {\n                query = new Query(flatGroups(query.toArray())).range(skip, take);\n\n                groupDescriptorsWithoutSort = map(groupDescriptorsWithoutCompare, function(groupDescriptor) {\n                    return extend({}, groupDescriptor, {\n                        skipItemSorting: true\n                    });\n                });\n\n                query = query.group(groupDescriptorsWithoutSort, data, options);\n            }\n        } else {\n            if (skip !== undefined && take !== undefined) {\n                total = query.data.length;\n\n                if (skip + take > total && options.virtual) {\n                    skip -= skip + take - total;\n                    skip = skip < 0 ? 0 : skip;\n                }\n                query = query.range(skip, take);\n            }\n\n            if (group && (!isEmptyObject(group) || group.length !== 0)) {\n                query = query.group(group, data, options);\n            }\n        }\n\n        return {\n            total: total,\n            data: query.toArray()\n        };\n    };\n\n    var LocalTransport = Class.extend({\n        init: function(options) {\n            this.data = options.data;\n        },\n\n        read: function(options) {\n            options.success(this.data);\n        },\n        update: function(options) {\n            options.success(options.data);\n        },\n        create: function(options) {\n            options.success(options.data);\n        },\n        destroy: function(options) {\n            options.success(options.data);\n        }\n    });\n\n    var RemoteTransport = Class.extend( {\n        init: function(options) {\n            var that = this, parameterMap;\n\n            options = that.options = extend({}, that.options, options);\n\n            each(crud, function(index, type) {\n                if (typeof options[type] === STRING) {\n                    options[type] = {\n                        url: options[type]\n                    };\n                }\n            });\n\n            that.cache = options.cache ? Cache.create(options.cache) : {\n                find: noop,\n                add: noop\n            };\n\n            parameterMap = options.parameterMap;\n\n            if (options.submit) {\n                that.submit = options.submit;\n            }\n\n            if (isFunction(options.push)) {\n                that.push = options.push;\n            }\n\n            if (!that.push) {\n                that.push = identity;\n            }\n\n            that.parameterMap = isFunction(parameterMap) ? parameterMap : function(options) {\n                var result = {};\n\n                each(options, function(option, value) {\n                    if (option in parameterMap) {\n                        option = parameterMap[option];\n                        if (isPlainObject(option)) {\n                            value = option.value(value);\n                            option = option.key;\n                        }\n                    }\n\n                    result[option] = value;\n                });\n\n                return result;\n            };\n        },\n\n        options: {\n            parameterMap: identity\n        },\n\n        create: function(options) {\n            return ajax(this.setup(options, CREATE));\n        },\n\n        read: function(options) {\n            var that = this,\n                success,\n                error,\n                result,\n                cache = that.cache;\n\n            options = that.setup(options, READ);\n\n            success = options.success || noop;\n            error = options.error || noop;\n\n            result = cache.find(options.data);\n\n            if (result !== undefined) {\n                success(result);\n            } else {\n                options.success = function(result) {\n                    cache.add(options.data, result);\n\n                    success(result);\n                };\n\n                $.ajax(options);\n            }\n        },\n\n        update: function(options) {\n            return ajax(this.setup(options, UPDATE));\n        },\n\n        destroy: function(options) {\n            return ajax(this.setup(options, DESTROY));\n        },\n\n        setup: function(options, type) {\n            options = options || {};\n\n            var that = this,\n                parameters,\n                operation = that.options[type],\n                data = isFunction(operation.data) ? operation.data(options.data) : operation.data;\n\n            options = extend(true, {}, operation, options);\n            parameters = extend(true, {}, data, options.data);\n\n            options.data = that.parameterMap(parameters, type);\n\n            if (isFunction(options.url)) {\n                options.url = options.url(parameters);\n            }\n\n            return options;\n        }\n    });\n\n    var Cache = Class.extend({\n        init: function() {\n            this._store = {};\n        },\n        add: function(key, data) {\n            if (key !== undefined) {\n                this._store[stringify(key)] = data;\n            }\n        },\n        find: function(key) {\n            return this._store[stringify(key)];\n        },\n        clear: function() {\n            this._store = {};\n        },\n        remove: function(key) {\n            delete this._store[stringify(key)];\n        }\n    });\n\n    Cache.create = function(options) {\n        var store = {\n            \"inmemory\": function() { return new Cache(); }\n        };\n\n        if (isPlainObject(options) && isFunction(options.find)) {\n            return options;\n        }\n\n        if (options === true) {\n            return new Cache();\n        }\n\n        return store[options]();\n    };\n\n    function serializeRecords(data, getters, modelInstance, originalFieldNames, fieldNames) {\n        var record,\n            getter,\n            originalName,\n            idx,\n            setters = {},\n            length;\n\n        for (idx = 0, length = data.length; idx < length; idx++) {\n            record = data[idx];\n            for (getter in getters) {\n                originalName = fieldNames[getter];\n\n                if (originalName && originalName !== getter) {\n                    if (!setters[originalName]) {\n                        setters[originalName] = kendo.setter(originalName);\n                    }\n                    setters[originalName](record, getters[getter](record));\n                    delete record[getter];\n                }\n            }\n        }\n    }\n\n    function convertRecords(data, getters, modelInstance, originalFieldNames, fieldNames) {\n        var record,\n            getter,\n            originalName,\n            idx,\n            length;\n\n        for (idx = 0, length = data.length; idx < length; idx++) {\n            record = data[idx];\n            for (getter in getters) {\n                record[getter] = modelInstance._parse(getter, getters[getter](record));\n\n                originalName = fieldNames[getter];\n                if (originalName && originalName !== getter) {\n                    delete record[originalName];\n                }\n            }\n        }\n    }\n\n    function convertGroup(data, getters, modelInstance, originalFieldNames, fieldNames) {\n        var record,\n            idx,\n            fieldName,\n            length;\n\n        for (idx = 0, length = data.length; idx < length; idx++) {\n            record = data[idx];\n\n            fieldName = originalFieldNames[record.field];\n            if (fieldName && fieldName != record.field) {\n                record.field = fieldName;\n            }\n\n            record.value = modelInstance._parse(record.field, record.value);\n\n            if (record.items) {\n                if (record.hasSubgroups) {\n                    convertGroup(record.items, getters, modelInstance, originalFieldNames, fieldNames);\n                } else {\n                    convertRecords(record.items, getters, modelInstance, originalFieldNames, fieldNames);\n                }\n            }\n        }\n    }\n\n    function wrapDataAccess(originalFunction, model, converter, getters, originalFieldNames, fieldNames) {\n        return function(data) {\n            data = originalFunction(data);\n\n            return wrapDataAccessBase(model, converter, getters, originalFieldNames, fieldNames)(data);\n        };\n    }\n\n    function wrapDataAccessBase(model, converter, getters, originalFieldNames, fieldNames) {\n        return function(data) {\n\n            if (data && !isEmptyObject(getters)) {\n                if (toString.call(data) !== \"[object Array]\" && !(data instanceof ObservableArray)) {\n                    data = [data];\n                }\n\n                converter(data, getters, new model(), originalFieldNames, fieldNames);\n            }\n\n            return data || [];\n        };\n    }\n\n    var DataReader = Class.extend({\n        init: function(schema) {\n            var that = this, member, get, model, base;\n\n            schema = schema || {};\n\n            for (member in schema) {\n                get = schema[member];\n\n                that[member] = typeof get === STRING ? getter(get) : get;\n            }\n\n            base = schema.modelBase || Model;\n\n            if (isPlainObject(that.model)) {\n                that.model = model = base.define(that.model);\n            }\n\n            var dataFunction = that.data.bind(that);\n\n            that._dataAccessFunction = dataFunction;\n\n            if (that.model) {\n                var groupsFunction = that.groups.bind(that),\n                    serializeFunction = that.serialize.bind(that),\n                    originalFieldNames = {},\n                    getters = {},\n                    serializeGetters = {},\n                    fieldNames = {},\n                    shouldSerialize = false,\n                    fieldName,\n                    name;\n\n                model = that.model;\n\n                if (model.fields) {\n                    each(model.fields, function(field, value) {\n                        var fromName;\n\n                        fieldName = field;\n\n                        if (isPlainObject(value) && value.field) {\n                            fieldName = value.field;\n                        } else if (typeof value === STRING) {\n                            fieldName = value;\n                        }\n\n                        if (isPlainObject(value) && value.from) {\n                            fromName = value.from;\n                        }\n\n                        shouldSerialize = shouldSerialize || (fromName && fromName !== field) || fieldName !== field;\n                        name = fromName || fieldName;\n                        getters[field] = name.indexOf(\".\") !== -1 ? getter(name, true) : getter(name);\n                        serializeGetters[field] = getter(field);\n                        originalFieldNames[fromName || fieldName] = field;\n                        fieldNames[field] = fromName || fieldName;\n                    });\n\n                    if (!schema.serialize && shouldSerialize) {\n                        that.serialize = wrapDataAccess(serializeFunction, model, serializeRecords, serializeGetters, originalFieldNames, fieldNames);\n                    }\n                }\n\n                that._dataAccessFunction = dataFunction;\n                that._wrapDataAccessBase = wrapDataAccessBase(model, convertRecords, getters, originalFieldNames, fieldNames);\n                that.data = wrapDataAccess(dataFunction, model, convertRecords, getters, originalFieldNames, fieldNames);\n                that.groups = wrapDataAccess(groupsFunction, model, convertGroup, getters, originalFieldNames, fieldNames);\n            }\n        },\n        errors: function(data) {\n            return data ? data.errors : null;\n        },\n        parse: identity,\n        data: identity,\n        total: function(data) {\n            return data.length;\n        },\n        groups: identity,\n        aggregates: function() {\n            return {};\n        },\n        serialize: function(data) {\n            return data;\n        }\n    });\n\n    function fillLastGroup(originalGroup, newGroup) {\n        var currOriginal;\n        var currentNew;\n\n        if (newGroup.items && newGroup.items.length) {\n            for (var i = 0; i < newGroup.items.length; i++) {\n                currOriginal = originalGroup.items[originalGroup.items.length - 1];\n                currentNew = newGroup.items[i];\n                if (currOriginal && currentNew) {\n                    if (currOriginal.hasSubgroups && currOriginal.value == currentNew.value) {\n                        fillLastGroup(currOriginal, currentNew);\n                    } else if (currOriginal.field && currOriginal.value == currentNew.value) {\n                        currOriginal.items.omitChangeEvent = true;\n                        currOriginal.items.push.apply(currOriginal.items, currentNew.items);\n                        currOriginal.items.omitChangeEvent = false;\n                    } else {\n                        originalGroup.items.omitChangeEvent = true;\n                        originalGroup.items.push.apply(originalGroup.items, [currentNew]);\n                        originalGroup.items.omitChangeEvent = false;\n                    }\n                } else if (currentNew) {\n                    originalGroup.items.omitChangeEvent = true;\n                    originalGroup.items.push.apply(originalGroup.items, [currentNew]);\n                    originalGroup.items.omitChangeEvent = false;\n                }\n            }\n        }\n    }\n    function mergeGroups(target, dest, skip, take) {\n        var group,\n            idx = 0,\n            items;\n\n        while (dest.length && take) {\n            group = dest[idx];\n            items = group.items;\n\n            var length = items.length;\n\n            if (target && target.field === group.field && target.value === group.value) {\n                if (target.hasSubgroups && target.items.length) {\n                    mergeGroups(target.items[target.items.length - 1], group.items, skip, take);\n                } else {\n                    items = items.slice(skip, skip + take);\n                    target.items = target.items.concat(items);\n                }\n                dest.splice(idx--, 1);\n            } else if (group.hasSubgroups && items.length) {\n                mergeGroups(group, items, skip, take);\n                if (!group.items.length) {\n                    dest.splice(idx--, 1);\n                }\n            } else {\n                items = items.slice(skip, skip + take);\n                group.items = items;\n\n                if (!group.items.length) {\n                    dest.splice(idx--, 1);\n                }\n            }\n\n            if (items.length === 0) {\n                skip -= length;\n            } else {\n                skip = 0;\n                take -= items.length;\n            }\n\n            if (++idx >= dest.length) {\n                break;\n            }\n        }\n\n        if (idx < dest.length) {\n            dest.splice(idx, dest.length - idx);\n        }\n    }\n\n    function flatGroups(groups, indexFunction) {\n        var result = [];\n        var groupsLength = (groups || []).length;\n        var group;\n        var items;\n        var indexFn = isFunction(indexFunction) ? indexFunction : function(array, index) {\n            return array[index];\n        };\n\n        for (var groupIndex = 0; groupIndex < groupsLength; groupIndex++) {\n            group = indexFn(groups, groupIndex);\n\n            if (group.hasSubgroups) {\n                result = result.concat(flatGroups(group.items));\n            } else {\n                items = group.items;\n\n                for (var itemIndex = 0; itemIndex < items.length; itemIndex++) {\n                    result.push(indexFn(items, itemIndex));\n                }\n            }\n        }\n        return result;\n    }\n\n    function flattenGroups(data) {\n        var idx,\n            result = [],\n            length,\n            items,\n            itemIndex;\n\n        for (idx = 0, length = data.length; idx < length; idx++) {\n            var group = data.at(idx);\n            if (group.items) {\n                if (group.hasSubgroups) {\n                    result = result.concat(flattenGroups(group.items));\n                } else {\n                    items = group.items;\n                    for (itemIndex = 0; itemIndex < items.length; itemIndex++) {\n                        result.push(items.at(itemIndex));\n                    }\n                }\n            }\n        }\n        return result;\n    }\n\n    function wrapGroupItems(data, model) {\n        var idx, length, group;\n        if (model) {\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                group = data.at(idx);\n                if (group.items) {\n                    if (group.hasSubgroups) {\n                        wrapGroupItems(group.items, model);\n                    } else {\n                        group.items = new LazyObservableArray(group.items, model, group.items._events);\n                    }\n                }\n            }\n        }\n    }\n\n    function eachGroupItems(data, func) {\n        for (var idx = 0; idx < data.length; idx++) {\n            if (data[idx].hasSubgroups) {\n                if (eachGroupItems(data[idx].items, func)) {\n                    return true;\n                }\n            } else if (func(data[idx].items, data[idx])) {\n                return true;\n            }\n        }\n    }\n\n    function replaceInRanges(ranges, data, item, observable) {\n        for (var idx = 0; idx < ranges.length; idx++) {\n            if (ranges[idx].data === data) {\n                break;\n            }\n            if (replaceInRange(ranges[idx].data, item, observable)) {\n                break;\n            }\n        }\n    }\n\n    function replaceInRange(items, item, observable) {\n        for (var idx = 0, length = items.length; idx < length; idx++) {\n            if (items[idx] && items[idx].hasSubgroups) {\n                return replaceInRange(items[idx].items, item, observable);\n            } else if (items[idx] === item || items[idx] === observable) {\n               items[idx] = observable;\n               return true;\n            }\n        }\n    }\n\n    function replaceWithObservable(view, data, ranges, type, serverGrouping) {\n        for (var viewIndex = 0, length = view.length; viewIndex < length; viewIndex++) {\n            var item = view[viewIndex];\n\n            if (!item || item instanceof type) {\n                continue;\n            }\n\n            if (item.hasSubgroups !== undefined && !serverGrouping) {\n                replaceWithObservable(item.items, data, ranges, type, serverGrouping);\n            } else {\n                for (var idx = 0; idx < data.length; idx++) {\n                    if (data[idx] === item) {\n                        view[viewIndex] = data.at(idx);\n                        replaceInRanges(ranges, data, item, view[viewIndex]);\n                        break;\n                    }\n                }\n            }\n        }\n    }\n\n    function removeModel(data, model) {\n        if (!data) {\n            return;\n        }\n        var length = data.length;\n        var dataItem;\n        var idx;\n\n        for (idx = 0; idx < length; idx++) {\n            dataItem = data[idx];\n\n            if (dataItem.uid && dataItem.uid == model.uid) {\n                data.splice(idx, 1);\n                return dataItem;\n            }\n        }\n    }\n\n    function indexOfPristineModel(data, model) {\n        if (model) {\n            return indexOf(data, function(item) {\n                return (item.uid && item.uid == model.uid) || (item[model.idField] === model.id && model.id !== model._defaultId);\n            });\n        }\n        return -1;\n    }\n\n    function indexOfModel(data, model) {\n        if (model) {\n            return indexOf(data, function(item) {\n                return item.uid == model.uid;\n            });\n        }\n        return -1;\n    }\n\n    function indexOf(data, comparer) {\n        var idx, length;\n        if (!data) {\n            return;\n        }\n\n        for (idx = 0, length = data.length; idx < length; idx++) {\n            if (comparer(data[idx])) {\n                return idx;\n            }\n        }\n\n        return -1;\n    }\n\n    function fieldNameFromModel(fields, name) {\n        if (fields && !isEmptyObject(fields)) {\n            var descriptor = fields[name];\n            var fieldName;\n            if (isPlainObject(descriptor)) {\n                fieldName = descriptor.from || descriptor.field || name;\n            } else {\n                fieldName = fields[name] || name;\n            }\n\n            if (isFunction(fieldName)) {\n                return name;\n            }\n\n            return fieldName;\n        }\n        return name;\n    }\n\n    function convertFilterDescriptorsField(descriptor, model) {\n        var idx,\n            length,\n            target = {};\n\n        for (var field in descriptor) {\n            if (field !== \"filters\") {\n                target[field] = descriptor[field];\n            }\n        }\n\n        if (descriptor.filters) {\n            target.filters = [];\n            for (idx = 0, length = descriptor.filters.length; idx < length; idx++) {\n                target.filters[idx] = convertFilterDescriptorsField(descriptor.filters[idx], model);\n            }\n        } else {\n            target.field = fieldNameFromModel(model.fields, target.field);\n        }\n        return target;\n    }\n\n    function convertDescriptorsField(descriptors, model) {\n        var idx,\n            length,\n            result = [],\n            target,\n            descriptor;\n\n        for (idx = 0, length = descriptors.length; idx < length; idx ++) {\n            target = {};\n\n            descriptor = descriptors[idx];\n\n            for (var field in descriptor) {\n                target[field] = descriptor[field];\n            }\n\n            target.field = fieldNameFromModel(model.fields, target.field);\n\n            if (target.aggregates && isArray(target.aggregates)) {\n                target.aggregates = convertDescriptorsField(target.aggregates, model);\n            }\n            result.push(target);\n        }\n        return result;\n    }\n\n    var DataSource = Observable.extend({\n        init: function(options) {\n            var that = this, model, data;\n\n            if (options) {\n                data = options.data;\n            }\n\n            options = that.options = extend({}, that.options, options);\n\n            that._map = {};\n            that._prefetch = {};\n            that._data = [];\n            that._pristineData = [];\n            that._ranges = [];\n            that._view = [];\n            that._pristineTotal = 0;\n            that._destroyed = [];\n            that._pageSize = options.pageSize;\n            that._page = options.page || (options.pageSize ? 1 : undefined);\n            that._sort = normalizeSort(options.sort);\n            that._sortFields = sortFields(options.sort);\n            that._filter = normalizeFilter(options.filter);\n            that._group = normalizeGroup(options.group);\n            that._aggregate = options.aggregate;\n            that._total = options.total;\n            that._groupPaging = options.groupPaging;\n\n            if (that._groupPaging) {\n                that._groupsState = {};\n            }\n            that._shouldDetachObservableParents = true;\n\n            Observable.fn.init.call(that);\n\n            that.transport = Transport.create(options, data, that);\n\n            if (isFunction(that.transport.push)) {\n                that.transport.push({\n                    pushCreate: that._pushCreate.bind(that),\n                    pushUpdate: that._pushUpdate.bind(that),\n                    pushDestroy: that._pushDestroy.bind(that)\n                });\n            }\n\n            if (options.offlineStorage != null) {\n                if (typeof options.offlineStorage == \"string\") {\n                    var key = options.offlineStorage;\n\n                    that._storage = {\n                        getItem: function() {\n                            return JSON.parse(localStorage.getItem(key));\n                        },\n                        setItem: function(item) {\n                            localStorage.setItem(key, stringify(that.reader.serialize(item)));\n                        }\n                    };\n                } else {\n                    that._storage = options.offlineStorage;\n                }\n            }\n\n            that.reader = new kendo.data.readers[options.schema.type || \"json\" ](options.schema);\n\n            model = that.reader.model || {};\n\n            that._detachObservableParents();\n\n            that._data = that._observe(that._data);\n            that._online = true;\n\n            that.bind([\"push\", ERROR, CHANGE, REQUESTSTART, SYNC, REQUESTEND, PROGRESS], options);\n        },\n\n        options: {\n            data: null,\n            schema: {\n               modelBase: Model\n            },\n            offlineStorage: null,\n            serverSorting: false,\n            serverPaging: false,\n            serverFiltering: false,\n            serverGrouping: false,\n            serverAggregates: false,\n            batch: false,\n            inPlaceSort: false\n        },\n\n        clone: function() {\n            return this;\n        },\n\n        online: function(value) {\n            if (value !== undefined) {\n                if (this._online != value) {\n                    this._online = value;\n\n                    if (value) {\n                        return this.sync();\n                    }\n                }\n\n                return $.Deferred().resolve().promise();\n            } else {\n                return this._online;\n            }\n        },\n\n        offlineData: function(state) {\n            if (this.options.offlineStorage == null) {\n                return null;\n            }\n\n            if (state !== undefined) {\n                return this._storage.setItem(state);\n            }\n\n            return this._storage.getItem() || [];\n        },\n\n        _isServerGrouped: function() {\n            var group = this.group() || [];\n\n            return this.options.serverGrouping && group.length;\n        },\n\n        _isServerGroupPaged: function() {\n            return this._isServerGrouped() && this._groupPaging;\n        },\n\n        _isGroupPaged: function() {\n            var group = this._group || [];\n\n            return this._groupPaging && group.length;\n        },\n\n        _pushCreate: function(result) {\n            this._push(result, \"pushCreate\");\n        },\n\n        _pushUpdate: function(result) {\n            this._push(result, \"pushUpdate\");\n        },\n\n        _pushDestroy: function(result) {\n            this._push(result, \"pushDestroy\");\n        },\n\n        _push: function(result, operation) {\n            var data = this._readData(result);\n\n            if (!data) {\n                data = result;\n            }\n\n            this[operation](data);\n        },\n\n        _flatData: function(data, skip) {\n            if (data) {\n                if (this._isServerGrouped()) {\n                    return flattenGroups(data);\n                }\n\n                if (!skip) {\n                    for (var idx = 0; idx < data.length; idx++) {\n                        data.at(idx);\n                    }\n                }\n            }\n\n            return data;\n        },\n\n        parent: noop,\n\n        get: function(id) {\n            var idx, length, data = this._flatData(this._data, this.options.useRanges);\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if (data[idx].id == id) {\n                    return data[idx];\n                }\n            }\n        },\n\n        getByUid: function(id) {\n            return this._getByUid(id, this._data);\n        },\n\n        _getByUid: function(id, dataItems) {\n            var idx, length, data = this._flatData(dataItems, this.options.useRanges);\n\n            if (!data) {\n                return;\n            }\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if (data[idx].uid == id) {\n                    return data[idx];\n                }\n            }\n        },\n\n        indexOf: function(model) {\n            return indexOfModel(this._data, model);\n        },\n\n        at: function(index) {\n            return this._data.at(index);\n        },\n\n        data: function(value) {\n            var that = this;\n            if (value !== undefined) {\n                that._detachObservableParents();\n                that._data = this._observe(value);\n\n                that._pristineData = value.slice(0);\n\n                that._storeData();\n\n                that._ranges = [];\n                that.trigger(\"reset\");\n                that._addRange(that._data);\n\n                that._total = that._data.length;\n                that._pristineTotal = that._total;\n\n                that._process(that._data);\n            } else {\n                if (that._data) {\n                    for (var idx = 0; idx < that._data.length; idx++) {\n                        that._data.at(idx);\n                    }\n                }\n\n                return that._data;\n            }\n        },\n\n        view: function(value) {\n            if (value === undefined) {\n                return this._view;\n            } else {\n                this._view = this._observeView(value);\n            }\n        },\n\n        _observeView: function(data) {\n            var that = this;\n            replaceWithObservable(data, that._data, that._ranges, that.reader.model || ObservableObject, that._isServerGrouped());\n\n            var view = new LazyObservableArray(data, that.reader.model);\n            view.parent = function() { return that.parent(); };\n            return view;\n        },\n\n        flatView: function() {\n            var groups = this.group() || [];\n\n            if (groups.length) {\n                return flattenGroups(this._view);\n            } else {\n                return this._view;\n            }\n        },\n\n        add: function(model) {\n            return this.insert(this._data.length, model);\n        },\n\n        _createNewModel: function(model) {\n            if (this.reader.model) {\n                return new this.reader.model(model);\n            }\n\n            if (model instanceof ObservableObject) {\n                return model;\n            }\n\n            return new ObservableObject(model);\n        },\n\n        insert: function(index, model) {\n            if (!model) {\n                model = index;\n                index = 0;\n            }\n\n            if (!(model instanceof Model)) {\n                model = this._createNewModel(model);\n            }\n\n            if (this._isServerGrouped()) {\n                this._data.splice(index, 0, this._wrapInEmptyGroup(model));\n            } else {\n                this._data.splice(index, 0, model);\n            }\n\n            this._insertModelInRange(index, model);\n\n            return model;\n        },\n\n        pushInsert: function(index, items) {\n            var that = this;\n            var rangeSpan = that._getCurrentRangeSpan();\n\n            if (!items) {\n                items = index;\n                index = 0;\n            }\n\n            if (!isArray(items)) {\n                items = [items];\n            }\n\n            var pushed = [];\n            var autoSync = this.options.autoSync;\n            this.options.autoSync = false;\n\n            try {\n                for (var idx = 0; idx < items.length; idx ++) {\n                    var item = items[idx];\n\n                    var result = this.insert(index, item);\n\n                    pushed.push(result);\n\n                    var pristine = result.toJSON();\n\n                    if (this._isServerGrouped()) {\n                        pristine = this._wrapInEmptyGroup(pristine);\n                    }\n\n                    this._pristineData.push(pristine);\n\n                    if (rangeSpan && rangeSpan.length) {\n                        $(rangeSpan).last()[0].pristineData.push(pristine);\n                    }\n\n                    index++;\n                }\n            } finally {\n                this.options.autoSync = autoSync;\n            }\n\n            if (pushed.length) {\n                this.trigger(\"push\", {\n                    type: \"create\",\n                    items: pushed\n                });\n            }\n        },\n\n        pushCreate: function(items) {\n            this.pushInsert(this._data.length, items);\n        },\n\n        pushUpdate: function(items) {\n            if (!isArray(items)) {\n                items = [items];\n            }\n\n            var pushed = [];\n\n            for (var idx = 0; idx < items.length; idx ++) {\n                var item = items[idx];\n                var model = this._createNewModel(item);\n\n                var target = this.get(model.id);\n\n                if (target) {\n                    pushed.push(target);\n\n                    target.accept(item);\n\n                    target.trigger(CHANGE);\n\n                    this._updatePristineForModel(target, item);\n                } else {\n                    this.pushCreate(item);\n                }\n            }\n\n            if (pushed.length) {\n                this.trigger(\"push\", {\n                    type: \"update\",\n                    items: pushed\n                });\n            }\n        },\n\n        pushDestroy: function(items) {\n            var pushed = this._removeItems(items);\n\n            if (pushed.length) {\n                this.trigger(\"push\", {\n                    type: \"destroy\",\n                    items: pushed\n                });\n            }\n        },\n\n        _removeItems: function(items, removePristine) {\n            if (!isArray(items)) {\n                items = [items];\n            }\n\n            var shouldRemovePristine = typeof removePristine !== \"undefined\" ? removePristine : true;\n\n            var destroyed = [];\n            var autoSync = this.options.autoSync;\n            this.options.autoSync = false;\n            try {\n                for (var idx = 0; idx < items.length; idx ++) {\n                    var item = items[idx];\n                    var model = this._createNewModel(item);\n                    var found = false;\n\n                    this._eachItem(this._data, function(items) {\n                        for (var idx = 0; idx < items.length; idx++) {\n                            var item = items.at(idx);\n                            if (item.id === model.id) {\n                                destroyed.push(item);\n                                items.splice(idx, 1);\n                                found = true;\n                                break;\n                            }\n                        }\n                    });\n\n                    if (found && shouldRemovePristine) {\n                        this._removePristineForModel(model);\n                        this._destroyed.pop();\n                    }\n                }\n            } finally {\n                this.options.autoSync = autoSync;\n            }\n\n            return destroyed;\n        },\n\n        pushMove: function(index, items) {\n            var pushed = this._moveItems(index, items);\n\n            if (pushed.length) {\n                this.trigger(\"push\", {\n                    type: \"update\",\n                    items: pushed\n                });\n            }\n        },\n\n        _moveItems: function(index, items) {\n            if (!isArray(items)) {\n                items = [items];\n            }\n\n            var moved = [];\n            var autoSync = this.options.autoSync;\n            this.options.autoSync = false;\n\n            try {\n                for (var i = 0; i < items.length; i ++) {\n                    var item = items[i];\n                    var model = this._createNewModel(item);\n\n                    this._eachItem(this._data, function(dataItems) {\n                        for (var idx = 0; idx < dataItems.length; idx++) {\n                            var dataItem = dataItems.at(idx);\n                            if (dataItem.id === model.id) {\n                                moved.push(dataItem);\n                                dataItems.splice(index >= idx ? --index : index, 0, dataItems.splice(idx, 1)[0]);\n                                index++;\n                                break;\n                            }\n                        }\n                    });\n                }\n            } finally {\n                this.options.autoSync = autoSync;\n            }\n\n            return moved;\n        },\n\n        remove: function(model) {\n            var result,\n                that = this,\n                hasGroups = that._isServerGrouped();\n\n            if (hasGroups && model.uid && (!model.isNew || !model.isNew())) {\n                that._pushInDestroyed(model);\n            }\n\n            this._eachItem(that._data, function(items) {\n                result = removeModel(items, model);\n\n                if (result && hasGroups) {\n                    return true;\n                }\n            });\n\n            this._removeModelFromRanges(model);\n\n            return model;\n        },\n\n        destroyed: function() {\n            return this._destroyed;\n        },\n\n        created: function() {\n            var idx,\n                length,\n                result = [],\n                data = this._flatData(this._data, this.options.useRanges);\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if (data[idx].isNew && data[idx].isNew()) {\n                    result.push(data[idx]);\n                }\n            }\n            return result;\n        },\n\n        updated: function() {\n            var idx,\n                length,\n                result = [],\n                data = this._flatData(this._data, this.options.useRanges);\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if ((data[idx].isNew && !data[idx].isNew()) && data[idx].dirty) {\n                    result.push(data[idx]);\n                }\n            }\n            return result;\n        },\n\n        sync: function() {\n            var that = this,\n                created = [],\n                updated = [],\n                destroyed = that._destroyed;\n\n            var promise = $.Deferred().resolve().promise();\n\n            if (that.online()) {\n\n                if (!that.reader.model) {\n                    return promise;\n                }\n\n                created = that.created();\n                updated = that.updated();\n\n                var promises = [];\n\n                if (that.options.batch && that.transport.submit) {\n                    promises = that._sendSubmit(created, updated, destroyed);\n                } else {\n                    promises.push.apply(promises, that._send(\"create\", created));\n                    promises.push.apply(promises, that._send(\"update\", updated));\n                    promises.push.apply(promises, that._send(\"destroy\", destroyed));\n                }\n\n                promise = $.when\n                 .apply(null, promises)\n                 .then(function() {\n                    var idx, length;\n\n                    for (idx = 0, length = arguments.length; idx < length; idx++) {\n                        if (arguments[idx]) {\n                            that._accept(arguments[idx]);\n                        }\n                    }\n\n                    that._storeData(true);\n\n                    that._syncEnd();\n\n                    that._change({ action: \"sync\" });\n\n                    that.trigger(SYNC);\n\n                    if (that._isServerGroupPaged()) {\n                        that.read();\n                    }\n                });\n            } else {\n                that._storeData(true);\n\n                that._syncEnd();\n\n                that._change({ action: \"sync\" });\n            }\n\n            return promise;\n        },\n\n        _syncEnd: noop,\n\n        cancelChanges: function(model) {\n            var that = this;\n\n            if (model instanceof kendo.data.Model) {\n                that._cancelModel(model);\n            } else {\n                that._destroyed = [];\n                that._detachObservableParents();\n                that._data = that._observe(that._pristineData);\n                if (that.options.serverPaging) {\n                    that._total = that._pristineTotal;\n                }\n\n                that._ranges = [];\n                that._addRange(that._data, 0);\n\n                that._changesCanceled();\n\n                that._change();\n\n                that._markOfflineUpdatesAsDirty();\n\n                if (that._isServerGrouped()) {\n                    that.read();\n                }\n            }\n        },\n\n        _changesCanceled: noop,\n\n        _markOfflineUpdatesAsDirty: function() {\n            var that = this;\n\n            if (that.options.offlineStorage != null) {\n                that._eachItem(that._data, function(items) {\n                    for (var idx = 0; idx < items.length; idx++) {\n                        var item = items.at(idx);\n                        if (item.__state__ == \"update\" || item.__state__ == \"create\") {\n                            item.dirty = true;\n                        }\n                    }\n                });\n            }\n        },\n\n        hasChanges: function() {\n            var idx,\n                length,\n                data = this._flatData(this._data, this.options.useRanges);\n\n            if (this._destroyed.length) {\n                return true;\n            }\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if ((data[idx].isNew && data[idx].isNew()) || data[idx].dirty) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        _accept: function(result) {\n            var that = this,\n                models = result.models,\n                response = result.response,\n                idx = 0,\n                serverGroup = that._isServerGrouped(),\n                pristine = that._pristineData,\n                type = result.type,\n                length;\n\n            that.trigger(REQUESTEND, { response: response, type: type });\n\n            if (response && !isEmptyObject(response)) {\n                response = that.reader.parse(response);\n\n                if (that._handleCustomErrors(response)) {\n                    return;\n                }\n\n                response = that.reader.data(response);\n\n                if (!isArray(response)) {\n                    response = [response];\n                }\n            } else {\n                response = $.map(models, function(model) { return model.toJSON(); } );\n            }\n\n            if (type === \"destroy\") {\n                that._destroyed = [];\n            }\n\n            for (idx = 0, length = models.length; idx < length; idx++) {\n                if (type !== \"destroy\") {\n                    models[idx].accept(response[idx]);\n\n                    if (type === \"create\") {\n                        pristine.push(serverGroup ? that._wrapInEmptyGroup(models[idx].toJSON()) : response[idx]);\n                    } else if (type === \"update\") {\n                        that._updatePristineForModel(models[idx], response[idx]);\n                    }\n                } else {\n                    that._removePristineForModel(models[idx]);\n                }\n            }\n        },\n\n        _updatePristineForModel: function(model, values) {\n            this._executeOnPristineForModel(model, function(index, items) {\n                kendo.deepExtend(items[index], values);\n            });\n        },\n\n        _executeOnPristineForModel: function(model, callback) {\n            this._eachPristineItem(\n                function(items) {\n                    var index = indexOfPristineModel(items, model);\n                    if (index > -1) {\n                        callback(index, items);\n                        return true;\n                    }\n                });\n        },\n\n        _removePristineForModel: function(model) {\n            this._executeOnPristineForModel(model, function(index, items) {\n                items.splice(index, 1);\n            });\n        },\n\n        _readData: function(data) {\n            var read = !this._isServerGrouped() ? this.reader.data : this.reader.groups;\n            return read.call(this.reader, data);\n        },\n\n        _eachPristineItem: function(callback) {\n            var that = this;\n            var options = that.options;\n            var rangeSpan = that._getCurrentRangeSpan();\n\n            that._eachItem(that._pristineData, callback);\n\n            if (options.serverPaging && options.useRanges) {\n                each(rangeSpan, function(i, range) {\n                    that._eachItem(range.pristineData, callback);\n                });\n            }\n        },\n\n       _eachItem: function(data, callback) {\n            if (data && data.length) {\n                if (this._isServerGrouped()) {\n                    eachGroupItems(data, callback);\n                } else {\n                    callback(data);\n                }\n            }\n        },\n\n        _pristineForModel: function(model) {\n            var pristine,\n                idx,\n                callback = function(items) {\n                    idx = indexOfPristineModel(items, model);\n                    if (idx > -1) {\n                        pristine = items[idx];\n                        return true;\n                    }\n                };\n\n            this._eachPristineItem(callback);\n\n            return pristine;\n        },\n\n        _cancelModel: function(model) {\n            var that = this;\n            var pristine = this._pristineForModel(model);\n\n            this._eachItem(this._data, function(items) {\n                var idx = indexOfModel(items, model);\n                if (idx >= 0) {\n                    if (pristine && (!model.isNew() || pristine.__state__)) {\n                        items[idx].accept(pristine);\n\n                        if (pristine.__state__ == \"update\") {\n                            items[idx].dirty = true;\n                        }\n\n                    } else {\n                        that._modelCanceled(model);\n\n                        items.splice(idx, 1);\n\n                        that._removeModelFromRanges(model);\n                    }\n                }\n            });\n        },\n\n        _modelCanceled: noop,\n\n        _submit: function(promises, data) {\n            var that = this;\n\n            that.trigger(REQUESTSTART, { type: \"submit\" });\n\n            that.trigger(PROGRESS);\n\n            that.transport.submit(extend({\n                success: function(response, type) {\n                    var promise = $.grep(promises, function(x) {\n                        return x.type == type;\n                    })[0];\n\n                    if (promise) {\n                        promise.resolve({\n                            response: response,\n                            models: promise.models,\n                            type: type\n                        });\n                    }\n                },\n                error: function(response, status, error) {\n                    for (var idx = 0; idx < promises.length; idx++) {\n                        promises[idx].reject(response);\n                    }\n\n                    that.error(response, status, error);\n                }\n            }, data));\n        },\n\n        _sendSubmit: function(created, updated, destroyed) {\n            var that = this,\n                promises = [];\n\n            if (that.options.batch) {\n                if (created.length) {\n                    promises.push($.Deferred(function(deferred) {\n                        deferred.type = \"create\";\n                        deferred.models = created;\n                    }));\n                }\n\n                if (updated.length) {\n                    promises.push($.Deferred(function(deferred) {\n                        deferred.type = \"update\";\n                        deferred.models = updated;\n                    }));\n                }\n\n                if (destroyed.length) {\n                    promises.push($.Deferred(function(deferred) {\n                        deferred.type = \"destroy\";\n                        deferred.models = destroyed;\n                    }));\n                }\n\n                that._submit(promises, {\n                    data: {\n                        created: that.reader.serialize(toJSON(created)),\n                        updated: that.reader.serialize(toJSON(updated)),\n                        destroyed: that.reader.serialize(toJSON(destroyed))\n                    }\n                });\n            }\n\n            return promises;\n        },\n\n        _promise: function(data, models, type) {\n            var that = this;\n\n            return $.Deferred(function(deferred) {\n                that.trigger(REQUESTSTART, { type: type });\n\n                that.trigger(PROGRESS);\n\n                that.transport[type].call(that.transport, extend({\n                    success: function(response) {\n                        deferred.resolve({\n                            response: response,\n                            models: models,\n                            type: type\n                        });\n                    },\n                    error: function(response, status, error) {\n                        deferred.reject(response);\n                        that.error(response, status, error);\n                    }\n                }, data));\n            }).promise();\n        },\n\n        _send: function(method, data) {\n            var that = this,\n                idx,\n                length,\n                promises = [],\n                converted = that.reader.serialize(toJSON(data));\n\n            if (that.options.batch) {\n                if (data.length) {\n                    promises.push(that._promise( { data: { models: converted } }, data , method));\n                }\n            } else {\n                for (idx = 0, length = data.length; idx < length; idx++) {\n                    promises.push(that._promise( { data: converted[idx] }, [ data[idx] ], method));\n                }\n            }\n\n            return promises;\n        },\n\n        read: function(data) {\n            var that = this, params = that._params(data);\n            var deferred = $.Deferred();\n\n            that._queueRequest(params, function() {\n                var isPrevented = that.trigger(REQUESTSTART, { type: \"read\" });\n                if (!isPrevented) {\n                    that.trigger(PROGRESS);\n\n                    that._ranges = [];\n                    that.trigger(\"reset\");\n                    if (that.online()) {\n                        that.transport.read({\n                            data: params,\n                            success: function(data) {\n                                that._ranges = [];\n                                that.success(data, params);\n\n                                deferred.resolve();\n                            },\n                            error: function() {\n                                var args = slice.call(arguments);\n\n                                that.error.apply(that, args);\n\n                                deferred.reject.apply(deferred, args);\n                            }\n                        });\n                    } else if (that.options.offlineStorage != null) {\n                        that.success(that.offlineData(), params);\n\n                        deferred.resolve();\n                    }\n                } else {\n                    that._dequeueRequest();\n\n                    deferred.resolve(isPrevented);\n                }\n            });\n\n            return deferred.promise();\n        },\n\n        _readAggregates: function(data) {\n            return this.reader.aggregates(data);\n        },\n\n        success: function(data) {\n            var that = this,\n                options = that.options,\n                items,\n                replaceSubset;\n\n            that.trigger(REQUESTEND, { response: data, type: \"read\" });\n\n            if (that.online()) {\n                data = that.reader.parse(data);\n\n                if (that._handleCustomErrors(data)) {\n                    that._dequeueRequest();\n                    return;\n                }\n\n                that._total = that.reader.total(data);\n\n                if (that._isServerGroupPaged()) {\n                    that._serverGroupsTotal = that._total;\n                }\n\n                if (that._pageSize > that._total) {\n                    that._pageSize = that._total;\n                    if (that.options.pageSize && that.options.pageSize > that._pageSize) {\n                        that._pageSize = that.options.pageSize;\n                    }\n                }\n\n                if (that._aggregate && options.serverAggregates) {\n                    that._aggregateResult = that._readAggregates(data);\n                }\n\n                data = that._readData(data);\n\n                that._destroyed = [];\n            } else {\n                data = that._readData(data);\n\n                items = [];\n                var itemIds = {};\n                var model = that.reader.model;\n                var idField = model ? model.idField : \"id\";\n                var idx;\n\n                for (idx = 0; idx < this._destroyed.length; idx++) {\n                    var id = this._destroyed[idx][idField];\n                    itemIds[id] = id;\n                }\n\n                for (idx = 0; idx < data.length; idx++) {\n                    var item = data[idx];\n                    var state = item.__state__;\n                    if (state == \"destroy\") {\n                        if (!itemIds[item[idField]]) {\n                            this._pushInDestroyed(this._createNewModel(item));\n                        }\n                    } else {\n                        items.push(item);\n                    }\n                }\n\n                data = items;\n\n                that._total = data.length;\n            }\n\n            that._pristineTotal = that._total;\n            replaceSubset = that._skip && that._data.length && that._skip < that._data.length;\n\n            if (that.options.endless) {\n                if (replaceSubset) {\n                    that._pristineData.splice(that._skip, that._pristineData.length);\n                }\n                items = data.slice(0);\n                for (var j = 0; j < items.length; j++) {\n                    that._pristineData.push(items[j]);\n                }\n            } else {\n                that._pristineData = data.slice(0);\n            }\n\n            that._detachObservableParents();\n\n            if (that.options.endless) {\n                that._data.unbind(CHANGE, that._changeHandler);\n\n                if (that._isServerGrouped() && that._data[that._data.length - 1].value === data[0].value) {\n                    fillLastGroup(that._data[that._data.length - 1], data[0]);\n                    data.shift();\n                }\n\n                data = that._observe(data);\n                if (replaceSubset) {\n                    that._data.splice(that._skip, that._data.length);\n                }\n                for (var i = 0; i < data.length; i++) {\n                    that._data.push(data[i]);\n                }\n                that._data.bind(CHANGE, that._changeHandler);\n            } else {\n                that._data = that._observe(data);\n            }\n\n            that._markOfflineUpdatesAsDirty();\n\n            that._storeData();\n\n            that._addRange(that._data);\n\n            that._process(that._data);\n\n            that._dequeueRequest();\n        },\n\n        _detachObservableParents: function() {\n            if (this._data && this._shouldDetachObservableParents) {\n                for (var idx = 0; idx < this._data.length; idx++) {\n                    if (this._data[idx].parent) {\n                        this._data[idx].parent = noop;\n                    }\n                }\n            }\n        },\n\n        _storeData: function(updatePristine) {\n            var serverGrouping = this._isServerGrouped();\n            var model = this.reader.model;\n\n            function items(data) {\n                var state = [];\n\n                for (var idx = 0; idx < data.length; idx++) {\n                    var dataItem = data.at(idx);\n                    var item = dataItem.toJSON();\n\n                    if (serverGrouping && dataItem.items) {\n                        item.items = items(dataItem.items);\n                    } else {\n                        item.uid = dataItem.uid;\n\n                        if (model) {\n                            if (dataItem.isNew()) {\n                                item.__state__ = \"create\";\n                            } else if (dataItem.dirty) {\n                                item.__state__ = \"update\";\n                            }\n                        }\n                    }\n                    state.push(item);\n                }\n\n                return state;\n            }\n\n            if (this.options.offlineStorage != null) {\n                var state = items(this._data);\n\n                var destroyed = [];\n\n                for (var idx = 0; idx < this._destroyed.length; idx++) {\n                    var item = this._destroyed[idx].toJSON();\n                    item.__state__ = \"destroy\";\n                    destroyed.push(item);\n                }\n\n                this.offlineData(state.concat(destroyed));\n\n                if (updatePristine) {\n                    this._pristineData = this.reader.reader ? this.reader.reader._wrapDataAccessBase(state) : this.reader._wrapDataAccessBase(state);\n                }\n            }\n        },\n\n        _addRange: function(data, skip) {\n            var that = this,\n                start = typeof (skip) !== \"undefined\" ? skip : (that._skip || 0),\n                end,\n                range = {\n                    data: data,\n                    pristineData: data.toJSON(),\n                    timestamp: that._timeStamp()\n                };\n\n            if (this._isGroupPaged()) {\n                end = start + data.length;\n                range.outerStart = start;\n                range.outerEnd = end;\n            } else {\n                end = start + that._flatData(data, true).length;\n            }\n\n            range.start = start;\n            range.end = end;\n            that._ranges.push(range);\n            that._sortRanges();\n\n            if (that._isGroupPaged()) {\n                if (!that._groupsFlat) {\n                    that._groupsFlat = [];\n                }\n                that._appendToGroupsFlat(range.data);\n                that._updateOuterRangesLength();\n            }\n        },\n\n        _appendToGroupsFlat: function(data) {\n            var length = data.length;\n\n            for (var i = 0; i < length; i++) {\n                this._groupsFlat.push(data[i]);\n            }\n        },\n\n        _getGroupByUid: function(uid) {\n            var length = this._groupsFlat.length;\n            var group;\n\n            for (var i = 0; i < length; i++) {\n                group = this._groupsFlat[i];\n                if (group.uid === uid) {\n                    return group;\n                }\n            }\n        },\n\n        _sortRanges: function() {\n            this._ranges.sort(function(x, y) {\n                return x.start - y.start;\n            });\n        },\n\n        error: function(xhr, status, errorThrown) {\n            this._dequeueRequest();\n            this.trigger(REQUESTEND, { });\n            this.trigger(ERROR, { xhr: xhr, status: status, errorThrown: errorThrown });\n        },\n\n        _params: function(data) {\n            var that = this,\n                options = extend({\n                    take: that.take(),\n                    skip: that.skip(),\n                    page: that.page(),\n                    pageSize: that.pageSize(),\n                    sort: that._sort,\n                    filter: that._filter,\n                    group: that._group,\n                    aggregate: that._aggregate,\n                    groupPaging: !!that._groupPaging\n                }, data);\n\n            if (!that.options.serverPaging) {\n                delete options.take;\n                delete options.skip;\n                delete options.page;\n                delete options.pageSize;\n            }\n\n            if (!that.options.serverGrouping) {\n                delete options.group;\n            } else if (that.reader.model && options.group) {\n                options.group = convertDescriptorsField(options.group, that.reader.model);\n            }\n\n            if (!that.options.serverFiltering) {\n                delete options.filter;\n            } else if (that.reader.model && options.filter) {\n               options.filter = convertFilterDescriptorsField(options.filter, that.reader.model);\n            }\n\n            if (!that.options.serverSorting) {\n                delete options.sort;\n            } else if (that.reader.model && options.sort) {\n                options.sort = convertDescriptorsField(options.sort, that.reader.model);\n            }\n\n            if (!that.options.serverAggregates) {\n                delete options.aggregate;\n            } else if (that.reader.model && options.aggregate) {\n                options.aggregate = convertDescriptorsField(options.aggregate, that.reader.model);\n            }\n\n            if (!that.options.groupPaging) {\n                delete options.groupPaging;\n            }\n\n            return options;\n        },\n\n        _queueRequest: function(options, callback) {\n            var that = this;\n            if (!that._requestInProgress) {\n                that._requestInProgress = true;\n                that._pending = undefined;\n                callback();\n            } else {\n                that._pending = { callback: callback.bind(that), options: options };\n            }\n        },\n\n        _dequeueRequest: function() {\n            var that = this;\n            that._requestInProgress = false;\n            if (that._pending) {\n                that._queueRequest(that._pending.options, that._pending.callback);\n            }\n        },\n\n        _handleCustomErrors: function(response) {\n            if (this.reader.errors) {\n                var errors = this.reader.errors(response);\n                if (errors) {\n                    this.trigger(ERROR, { xhr: null, status: \"customerror\", errorThrown: \"custom error\", errors: errors });\n                    return true;\n                }\n            }\n            return false;\n        },\n\n        _shouldWrap: function(data) {\n            var model = this.reader.model;\n\n            if (model && data.length) {\n                return !(data[0] instanceof model);\n            }\n\n            return false;\n        },\n\n        _observe: function(data) {\n            var that = this,\n                model = that.reader.model;\n\n            that._shouldDetachObservableParents = true;\n\n            if (data instanceof ObservableArray) {\n                that._shouldDetachObservableParents = false;\n                if (that._shouldWrap(data)) {\n                    data.type = that.reader.model;\n                    data.wrapAll(data, data);\n                }\n            } else {\n                var arrayType = that.pageSize() && !that.options.serverPaging ? LazyObservableArray : ObservableArray;\n                data = new arrayType(data, that.reader.model);\n                data.parent = function() { return that.parent(); };\n            }\n\n            if (that._isServerGrouped()) {\n                wrapGroupItems(data, model);\n            }\n\n            if (that._changeHandler && that._data && that._data instanceof ObservableArray &&\n                !(that.options.useRanges && that.options.serverPaging)) {\n                that._data.unbind(CHANGE, that._changeHandler);\n            } else {\n                that._changeHandler = that._change.bind(that);\n            }\n\n            return data.bind(CHANGE, that._changeHandler);\n        },\n\n        _updateTotalForAction: function(action, items) {\n            var that = this;\n\n            var total = parseInt(that._total, 10);\n\n            if (!isNumber(that._total)) {\n                total = parseInt(that._pristineTotal, 10);\n            }\n            if (action === \"add\") {\n                total += items.length;\n            } else if (action === \"remove\") {\n                total -= items.length;\n            } else if (action !== \"itemchange\" && action !== \"sync\" && !that.options.serverPaging) {\n                total = that._pristineTotal;\n            } else if (action === \"sync\") {\n                total = that._pristineTotal = parseInt(that._total, 10);\n            }\n\n            that._total = total;\n        },\n\n        _pushInDestroyed: function(model) {\n            var isPushed = this._destroyed.find(function(item) {\n                return item.uid === model.uid;\n            });\n            if (!isPushed) {\n                this._destroyed.push(model);\n            }\n        },\n\n        _change: function(e) {\n            var that = this, idx, length, action = e ? e.action : \"\";\n\n            if (action === \"remove\") {\n                for (idx = 0, length = e.items.length; idx < length; idx++) {\n                    if (!e.items[idx].isNew || !e.items[idx].isNew()) {\n                        that._pushInDestroyed(e.items[idx]);\n                    }\n                }\n            }\n\n            if (that.options.autoSync && (action === \"add\" || action === \"remove\" || action === \"itemchange\")) {\n\n                var handler = function(args) {\n                    if (args.action === \"sync\") {\n                        that.unbind(\"change\", handler);\n                        that._updateTotalForAction(action, e.items);\n                    }\n                };\n\n                that.first(\"change\", handler);\n\n                that.sync();\n\n            } else {\n                that._updateTotalForAction(action, e ? e.items : []);\n\n                that._process(that._data, e);\n            }\n        },\n\n        _calculateAggregates: function(data, options) {\n            options = options || {};\n\n            var query = new Query(data),\n                aggregates = options.aggregate,\n                filter = options.filter;\n\n            if (filter) {\n                query = query.filter(filter);\n            }\n\n            return query.aggregate(aggregates);\n        },\n\n        _process: function(data, e) {\n            var that = this,\n                options = {},\n                result;\n\n            if (that.options.serverPaging !== true) {\n                options.skip = that._skip;\n                options.take = that._take || that._pageSize;\n\n                if (options.skip === undefined && that._page !== undefined && that._pageSize !== undefined) {\n                    options.skip = (that._page - 1) * that._pageSize;\n                }\n\n                if (that.options.useRanges) {\n                    options.skip = that.currentRangeStart();\n                }\n            }\n\n            if (that.options.serverSorting !== true) {\n                options.sort = that._sort;\n            }\n\n            if (that.options.serverFiltering !== true) {\n                options.filter = that._filter;\n            }\n\n            if (that.options.serverGrouping !== true) {\n                options.group = that._group;\n            }\n\n            if (that.options.serverAggregates !== true) {\n                options.aggregate = that._aggregate;\n            }\n\n            if (that.options.serverGrouping) {\n                that._clearEmptyGroups(data);\n            }\n\n            options.groupPaging = that._groupPaging;\n\n            if (that._isGroupPaged() && e && (e.action === \"page\" || e.action === \"expandGroup\" || e.action === \"collapseGroup\")) {\n                result = that._queryProcess(data, {\n                    aggregate: that._aggregate\n                });\n            } else {\n                result = that._queryProcess(data, options);\n            }\n\n            if (that._filter && e && e.action === \"add\") {\n                var model = e.items[0],\n                    resultData = result.data;\n\n                var modelIsInView = resultData.find(function(item) {\n                    return item.uid === model.uid;\n                });\n\n                if (!modelIsInView) {\n                    result.data.splice(model.index, 0, model);\n                    result.total++;\n                }\n            }\n\n            if (that.options.serverAggregates !== true) {\n                // for performance reasons, calculate aggregates for part of the data only after query process\n                // this is necessary in the TreeList when paging\n                that._aggregateResult = that._calculateAggregates(result.dataToAggregate || data, options);\n            }\n\n            that._setView(result, options, e);\n\n            that._setFilterTotal(result.total, false);\n\n            e = e || {};\n\n            e.items = e.items || that._view;\n\n            that.trigger(CHANGE, e);\n        },\n\n        _setView: function(result, options, e) {\n            var that = this;\n\n            if (that._isGroupPaged() && !that._isServerGrouped()) {\n                if (e && (e.action === \"page\" || e.action === \"expandGroup\" || e.action === \"collapseGroup\")) {\n                    that.view(result.data);\n                    that._updateOuterRangesLength();\n                } else {\n                    that._ranges = [];\n                    var query = new Query(result.data);\n                    that._addRange(that._observe(result.data));\n\n                    if (options.skip + options.take > result.data.length) {\n                        options.skip = result.data.length - options.take;\n                    }\n\n                    that.view(query.range(options.skip, options.take).toArray());\n                }\n\n            } else {\n                that.view(result.data);\n            }\n        },\n\n        _clearEmptyGroups: function(data) {\n            for (var idx = data.length - 1; idx >= 0; idx--) {\n                var group = data[idx];\n                if (group.hasSubgroups) {\n                    this._clearEmptyGroups(group.items);\n                }\n\n                if (group.items && !group.items.length && !group.itemCount) {\n                    splice.apply(group.parent(), [idx, 1]);\n                }\n            }\n        },\n\n        _queryProcess: function(data, options) {\n            if (this.options.inPlaceSort) {\n                return Query.process(data, options, this.options.inPlaceSort);\n            }\n            else {\n                return Query.process(data, options);\n            }\n        },\n\n        _mergeState: function(options) {\n            var that = this;\n\n            if (options !== undefined) {\n                that._pageSize = options.pageSize;\n                that._page = options.page;\n                that._sort = options.sort;\n                that._filter = options.filter;\n                that._group = options.group;\n                that._aggregate = options.aggregate;\n                that._skip = that._currentRangeStart = options.skip;\n                that._take = options.take;\n\n                if (that._skip === undefined) {\n                    that._skip = that._currentRangeStart = that.skip();\n                    options.skip = that.skip();\n                }\n\n                if (that._take === undefined && that._pageSize !== undefined) {\n                    that._take = that._pageSize;\n                    options.take = that._take;\n                }\n\n                if (that.options.virtual) {\n                    options.virtual = that.options.virtual;\n                }\n\n                if (options.sort) {\n                    that._sort = options.sort = normalizeSort(options.sort);\n                    that._sortFields = sortFields(options.sort);\n                }\n\n                if (options.filter) {\n                    that._filter = options.filter = (that.options.accentFoldingFiltering && !$.isEmptyObject(options.filter)) ? $.extend({}, normalizeFilter(options.filter), { accentFoldingFiltering: that.options.accentFoldingFiltering }) : normalizeFilter(options.filter);\n                }\n\n                if (options.group) {\n                    that._group = options.group = normalizeGroup(options.group);\n                }\n                if (options.aggregate) {\n                    that._aggregate = options.aggregate = normalizeAggregate(options.aggregate);\n                }\n            }\n            return options;\n        },\n\n        query: function(options) {\n            var result;\n            var remote = this.options.serverSorting || this.options.serverPaging || this.options.serverFiltering || this.options.serverGrouping || this.options.serverAggregates;\n\n            if (remote || ((this._data === undefined || this._data.length === 0) && !this._destroyed.length)) {\n                if (this.options.endless) {\n                    var moreItemsCount = options.pageSize - this.pageSize();\n                    if (moreItemsCount > 0) {\n                        moreItemsCount = this.pageSize();\n                        options.page = options.pageSize / moreItemsCount;\n                        options.pageSize = moreItemsCount;\n                    } else {\n                        options.page = 1;\n                        this.options.endless = false;\n                    }\n                }\n                return this.read(this._mergeState(options));\n            }\n\n            var isPrevented = this.trigger(REQUESTSTART, { type: \"read\" });\n            if (!isPrevented) {\n                this.trigger(PROGRESS);\n                if (options) {\n                    options.groupPaging = this._groupPaging;\n                }\n                result = this._queryProcess(this._data, this._mergeState(options));\n\n                this._setFilterTotal(result.total, true);\n\n                this._aggregateResult = this._calculateAggregates(result.dataToAggregate || this._data, options);\n                this._setView(result, options);\n                this.trigger(REQUESTEND, { type: \"read\" });\n                this.trigger(CHANGE, { items: result.data, action: options ? options.action : \"\" });\n            }\n\n            return $.Deferred().resolve(isPrevented).promise();\n        },\n\n        _hasExpandedSubGroups: function(group) {\n            var result = false;\n            var length = group.items ? group.items.length : 0;\n\n            if (!group.hasSubgroups) {\n                return false;\n            }\n\n            for (var i = 0; i < length; i++) {\n                if (this._groupsState[group.items[i].uid]) {\n                    result = true;\n                    break;\n                }\n            }\n            return result;\n        },\n\n        _findGroupedRange: function(data, result, options, parents, callback) {\n            var that = this;\n            var length = data.length;\n            var group;\n            var current;\n            var itemsLength;\n            var groupCount;\n            var itemsToSkip;\n\n            for (var i = 0; i < length; i++) {\n                group = data[i];\n\n                if (options.taken >= options.take) {\n                    break;\n                }\n\n                if (!that._getGroupByUid(group.uid)) {\n                    that._groupsFlat.push(group);\n                }\n\n                if (that._groupsState[group.uid]) {\n                    if (that._isServerGroupPaged()) {\n                       if (that._fetchGroupItems(group, options, parents, callback)) {\n                            that._fetchingGroupItems = true;\n                            return;\n                       }\n                       groupCount = (group.subgroupCount || group.itemCount) + 1;\n                       itemsToSkip = options.skip - options.skipped;\n                       if (!that._hasExpandedSubGroups(group) && itemsToSkip > groupCount) {\n                           options.skipped += groupCount;\n                           continue;\n                       }\n                    }\n\n                    if (options.includeParents && options.skipped < options.skip) {\n                        options.skipped++;\n                        group.excludeHeader = true;\n                    } else if (options.includeParents) {\n                        options.taken++;\n                        group.excludeHeader = false;\n                    }\n\n                    if (group.hasSubgroups && group.items && group.items.length) {\n                        group.currentItems = [];\n\n                        if (!parents) {\n                            parents = [];\n                        }\n                        parents.push(group);\n\n                        that._findGroupedRange(group.items, group.currentItems, options, parents, callback);\n                        parents.pop();\n\n                        if (group.currentItems.length || options.taken > 0) {\n                            result.push(group);\n                        } else {\n                            group.excludeHeader = false;\n                        }\n                    } else {\n                        current = [];\n                        itemsLength = group.items.length;\n\n                        for (var j = 0; j < itemsLength; j++) {\n                            if (options.skipped < options.skip) {\n                                options.skipped++;\n                                continue;\n                            }\n\n                            if (options.taken >= options.take) {\n                                break;\n                            }\n                            current.push(group.items[j]);\n                            options.taken++;\n                        }\n\n                        if (current.length || options.taken > 0) {\n                            group.currentItems = current;\n                            result.push(group);\n                        } else {\n                            group.excludeHeader = false;\n                        }\n                    }\n                } else {\n                    if (options.skipped < options.skip) {\n                        options.skipped++;\n                        continue;\n                    }\n                    result.push(group);\n                    options.taken++;\n                }\n            }\n        },\n\n        _expandedSubGroupItemsCount: function(group, end, includeCurrentItems) {\n            var that = this;\n            var result = 0;\n            var subGroup;\n            var endSpecified = typeof end === \"number\";\n            var length = endSpecified ? end : group.subgroupCount;\n            var temp;\n\n            if (!group.hasSubgroups) {\n                return result;\n            }\n\n            for (var i = 0; i < length; i++) {\n                subGroup = group.items[i];\n\n                if (!subGroup) {\n                    break;\n                }\n\n                if (subGroup.hasSubgroups && that._groupsState[group.uid]) {\n                    temp = that._expandedSubGroupItemsCount(subGroup, length, true);\n                    result += temp;\n\n                    if (endSpecified) {\n                        length -= temp;\n                    }\n                } else if (!subGroup.hasSubgroups && that._groupsState[subGroup.uid]) {\n                    temp = subGroup.items ? subGroup.items.length : 0;\n                    result += temp;\n                    if (endSpecified) {\n                        length -= temp;\n                    }\n                }\n\n                if (includeCurrentItems) {\n                    result += 1;\n                    if (endSpecified) {\n                        length -= 1;\n                    }\n                }\n\n                if (endSpecified && result > length) {\n                    return result;\n                }\n            }\n\n            return result;\n        },\n\n        _fetchGroupItems: function(group, options, parents, callback) {\n            var that = this;\n            var groupItemsSkip;\n            var firstItem;\n            var lastItem;\n            var groupItemCount = group.hasSubgroups ? group.subgroupCount : group.itemCount;\n            var take = options.take;\n            var skipped = options.skipped;\n            var pageSize = that.take();\n            var expandedSubGroupItemsCount;\n\n            if (options.includeParents) {\n                if (skipped < options.skip) {\n                    skipped += 1;\n                } else {\n                    take -= 1;\n                }\n            }\n\n            if (!group.items || (group.items && !group.items.length)) {\n                that.getGroupItems(group, options, parents, callback, 0);\n                return true;\n            } else {\n                expandedSubGroupItemsCount = this._expandedSubGroupItemsCount(group, options.skip - skipped);\n                groupItemsSkip = Math.max(options.skip - (skipped + expandedSubGroupItemsCount), 0);\n\n                if (groupItemsSkip >= groupItemCount) {\n                    return false;\n                }\n\n                firstItem = group.items[groupItemsSkip];\n                lastItem = group.items[Math.min(groupItemsSkip + take, groupItemCount - 1)];\n\n                if (firstItem.notFetched) {\n                    that.getGroupItems(group, options, parents, callback, math.max(math.floor(groupItemsSkip / pageSize), 0) * pageSize, math.round((groupItemsSkip + pageSize) / pageSize));\n                    return true;\n                }\n\n                if (lastItem.notFetched) {\n                    that.getGroupItems(group, options, parents, callback, math.max(math.floor((groupItemsSkip + pageSize) / pageSize), 0) * pageSize, math.round((groupItemsSkip + pageSize) / pageSize));\n                    return true;\n                }\n            }\n        },\n\n        getGroupItems: function(group, options, parents, callback, groupItemsSkip, page) {\n            var that = this;\n            var take;\n            var filter;\n            var data;\n            var subgroups;\n\n            if (!group.items) {\n                group.items = [];\n            }\n\n            take = that.take();\n            filter = this._composeItemsFilter(group, parents);\n            data = {\n                page: page || 1,\n                pageSize: take,\n                skip: groupItemsSkip,\n                take: take,\n                filter: filter,\n                aggregate: that._aggregate,\n                sort: that._sort\n            };\n            subgroups = that.findSubgroups(group);\n\n            if (subgroups && subgroups.length) {\n                data.group = subgroups;\n                data.groupPaging = true;\n            }\n\n            clearTimeout(that._timeout);\n            that._timeout = setTimeout(function() {\n                that._queueRequest(data, function() {\n                    if (!that.trigger(REQUESTSTART, {\n                            type: \"read\"\n                        })) {\n                        that.transport.read({\n                            data: data,\n                            success: that._groupItemsSuccessHandler(group, options.skip, that.take(), callback, groupItemsSkip),\n                            error: function() {\n                                var args = slice.call(arguments);\n                                that.error.apply(that, args);\n                            }\n                        });\n                    } else {\n                        that._dequeueRequest();\n                    }\n                });\n            }, 100);\n        },\n\n        _groupItemsSuccessHandler: function(group, skip, take, callback, groupItemsSkip) {\n            var that = this;\n            var timestamp = that._timeStamp();\n            callback = isFunction(callback) ? callback : noop;\n            var totalField = that.options.schema && that.options.schema.total ? that.options.schema.total : \"Total\";\n\n            return function(data) {\n                var temp;\n                var model = Model.define(that.options.schema.model);\n                var totalCount;\n\n                that._dequeueRequest();\n\n                that.trigger(REQUESTEND, {\n                    response: data,\n                    type: \"read\"\n                });\n\n                if (isFunction(totalField)) {\n                    totalCount = totalField(data);\n                } else {\n                    totalCount = data[totalField];\n                }\n\n                data = that.reader.parse(data);\n\n                if (group.hasSubgroups) {\n                    temp = that.reader.groups(data);\n                    group.subgroupCount = totalCount;\n                } else {\n                    temp = that.reader.data(data);\n                    temp = temp.map(function(item) {\n                        return new model(item);\n                    });\n                }\n\n                group.items.omitChangeEvent = true;\n                for (var i = 0; i < totalCount; i++) {\n                    if (i >= groupItemsSkip && i < (groupItemsSkip + take) ) {\n                        group.items.splice(i, 1, temp[i - groupItemsSkip]);\n                    } else {\n                        if (!group.items[i]) {\n                            group.items.splice(i, 0, { notFetched: true });\n                        }\n                    }\n                }\n                group.items.omitChangeEvent = false;\n\n                that._updateRangePristineData(group);\n                that._fetchingGroupItems = false;\n\n                if (!group.countAdded) {\n                    that._serverGroupsTotal += totalCount;\n                    group.countAdded = true;\n                }\n\n                that.range(skip, take, callback, \"expandGroup\");\n\n                if (timestamp >= that._currentRequestTimeStamp || !that._skipRequestsInProgress) {\n                    that.trigger(CHANGE, {});\n                }\n            };\n        },\n\n        findSubgroups: function(group) {\n            var indexOfCurrentGroup = this._group.map(function(g) {\n                return g.field;\n            }).indexOf(group.field);\n\n            return this._group.slice(indexOfCurrentGroup + 1, this._group.length);\n        },\n\n        _composeItemsFilter: function(group, parents) {\n            var filter = this.filter() || {\n                logic: \"and\",\n                filters: []\n            };\n\n            filter.logic = 'and';\n            filter = extend(true, {}, filter);\n            filter.filters.push({\n                field: group.field,\n                operator: \"eq\",\n                value: group.value\n            });\n\n            if (parents) {\n                for (var i = 0; i < parents.length; i++) {\n                    filter.filters.push({\n                        field: parents[i].field,\n                        operator: \"eq\",\n                        value: parents[i].value\n                    });\n                }\n            }\n\n            return filter;\n        },\n\n        _updateRangePristineData: function(group) {\n            var that = this;\n            var ranges = that._ranges;\n            var rangesLength = ranges.length;\n            var temp;\n            var currentGroup;\n            var range;\n            var dataLength;\n            var indexes;\n            var currIdx;\n\n            for (var i = 0; i < rangesLength; i++) {\n                range = ranges[i];\n                dataLength = range.data.length;\n                indexes = [];\n                temp = null;\n\n                for (var j = 0; j < dataLength; j++) {\n                    currentGroup = range.data[j];\n                    indexes.push(j);\n\n                    if ((currentGroup.uid === group.uid) || (currentGroup.hasSubgroups && currentGroup.items.length && that._containsSubGroup(currentGroup, group, indexes))) {\n                        break;\n                    }\n                    indexes.pop();\n                }\n\n                if (indexes.length) {\n                    temp = ranges[i].pristineData;\n\n                    while (indexes.length > 1) {\n                        currIdx = indexes.splice(0, 1)[0];\n                        temp = temp[currIdx].items;\n                    }\n                    temp[indexes[0]] = that._cloneGroup(group);\n                    break;\n                }\n            }\n        },\n\n        _containsSubGroup: function(group, subgroup, indexes) {\n            var that = this;\n            var length = group.items.length;\n            var currentSubGroup;\n\n            if (group.hasSubgroups && length) {\n                for (var i = 0; i < length; i++) {\n                    currentSubGroup = group.items[i];\n                    indexes.push(i);\n                    if (currentSubGroup.uid === subgroup.uid ||\n                            (currentSubGroup.hasSubgroups &&\n                            currentSubGroup.items.length &&\n                            that._containsSubGroup(currentSubGroup, subgroup, indexes))) {\n                        return true;\n                    }\n                    indexes.pop();\n                }\n            }\n\n        },\n\n        _cloneGroup: function(group) {\n            var that = this;\n            group = typeof group.toJSON == \"function\" ? group.toJSON() : group;\n\n            if (group.items && group.items.length) {\n                group.items = group.items.map(function(item) {\n                    return that._cloneGroup(item);\n                });\n            }\n\n            return group;\n        },\n\n        _setFilterTotal: function(filterTotal, setDefaultValue) {\n            var that = this;\n\n            if (!that.options.serverFiltering) {\n                if (filterTotal !== undefined) {\n                    that._total = filterTotal;\n                } else if (setDefaultValue) {\n                    that._total = that._data.length;\n                }\n            }\n        },\n\n        fetch: function(callback) {\n            var that = this;\n            var fn = function(isPrevented) {\n                if (isPrevented !== true && isFunction(callback)) {\n                    callback.call(that);\n                }\n            };\n\n            return this._query().done(fn);\n        },\n\n        _query: function(options) {\n            var that = this;\n\n            return that.query(extend({}, {\n                page: that.page(),\n                pageSize: that.pageSize(),\n                sort: that.sort(),\n                filter: that.filter(),\n                group: that.group(),\n                aggregate: that.aggregate()\n            }, options));\n        },\n\n        next: function(options) {\n            var that = this,\n                page = that.page(),\n                total = that.total();\n\n            options = options || {};\n\n            if (!page || (total && page + 1 > that.totalPages())) {\n                return;\n            }\n\n            that._skip = that._currentRangeStart = page * that.take();\n\n            page += 1;\n            options.page = page;\n\n            that._query(options);\n\n            return page;\n        },\n\n        prev: function(options) {\n            var that = this,\n                page = that.page();\n\n            options = options || {};\n\n            if (!page || page === 1) {\n                return;\n            }\n\n            that._skip = that._currentRangeStart = that._skip - that.take();\n\n            page -= 1;\n            options.page = page;\n\n            that._query(options);\n\n            return page;\n        },\n\n        page: function(val) {\n            var that = this,\n            skip;\n\n            if (val !== undefined) {\n                val = math.max(math.min(math.max(val, 1), that.totalPages()), 1);\n                var take = that.take();\n\n                if (that._isGroupPaged()) {\n                    val -= 1;\n                    that.range(val * take, take, null, \"page\");\n                    return;\n                }\n                that._query(that._pageableQueryOptions({ page: val }));\n                return;\n            }\n            skip = that.skip();\n\n            return skip !== undefined ? math.round((skip || 0) / (that.take() || 1)) + 1 : undefined;\n        },\n\n        pageSize: function(val) {\n            var that = this;\n\n            if (val !== undefined) {\n                that._query(that._pageableQueryOptions({ pageSize: val, page: 1 }));\n                return;\n            }\n\n            return that.take();\n        },\n\n        sort: function(val) {\n            var that = this;\n\n            if (val !== undefined) {\n                that.trigger(\"sort\");\n                that._query({ sort: val });\n                return;\n            }\n\n            return that._sort;\n        },\n\n        filter: function(val) {\n            var that = this;\n\n            if (val === undefined) {\n                return that._filter;\n            }\n\n            that.trigger(\"reset\");\n            that._query({ filter: val, page: 1 });\n        },\n\n        group: function(val) {\n            var that = this;\n            var options = { group: val };\n\n            if (that._groupPaging) {\n                // clear ranges if ungrouping is performed\n                if (val !== undefined && (!val || !val.length) ) {\n                    that._ranges = [];\n                }\n                options.page = 1;\n            }\n\n            if (val !== undefined) {\n                that._query(options);\n                return;\n            }\n\n            return that._group;\n        },\n\n        getGroupsFlat: function(data) {\n            var idx,\n                result = [],\n                length;\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                var group = data[idx];\n                if (group.hasSubgroups) {\n                    result = result.concat(this.getGroupsFlat(group.items));\n                }\n\n                result.push(group);\n            }\n\n            return result;\n        },\n\n        total: function() {\n            return parseInt(this._total || 0, 10);\n        },\n\n        groupsTotal: function(includeExpanded) {\n            var that = this;\n\n            if (!that._group.length) {\n                return that.total();\n            }\n\n            if (that._isServerGrouped()) {\n                if (that._serverGroupsTotal) {\n                    return that._serverGroupsTotal;\n                }\n                that._serverGroupsTotal = that.total();\n\n                return that._serverGroupsTotal;\n            }\n\n            return that._calculateGroupsTotal(that._ranges.length ? that._ranges[0].data : [], includeExpanded);\n        },\n\n        _calculateGroupsTotal: function(groups, includeExpanded, itemsField, ignoreState) {\n            var that = this;\n            itemsField = itemsField || \"items\";\n            var total;\n            var length;\n\n            if (that._group.length && groups) {\n                total = 0;\n                length = groups.length;\n\n                for (var i = 0; i < length; i++) {\n                    total += that.groupCount(groups[i], includeExpanded, itemsField, ignoreState);\n                }\n                that._groupsTotal = total;\n                return total;\n            }\n\n            that._groupsTotal = that._data.length;\n            return that._groupsTotal;\n        },\n\n        groupCount: function(group, includeExpanded, itemsField, ignoreState) {\n            var that = this;\n            var total = 0;\n\n            if (group.hasSubgroups && that._groupsState[group.uid]) {\n                if (includeExpanded && !group.excludeHeader || ignoreState) {\n                    total += 1;\n                }\n\n                group[itemsField].forEach(function(subgroup) {\n                    total += that.groupCount(subgroup, includeExpanded, itemsField, ignoreState);\n                });\n            } else {\n                if (that._groupsState[group.uid]) {\n                    if (includeExpanded && !group.excludeHeader || ignoreState) {\n                        total++;\n                    }\n                    total += group[itemsField] ? group[itemsField].length : 0;\n                } else {\n                    total++;\n                }\n            }\n            return total;\n        },\n\n        countGroupRange: function(range) {\n            var total = 0;\n            var length = range.length;\n\n            for (var i = 0; i < length; i++) {\n                total += this.groupCount(range[i], true);\n            }\n\n            return total;\n        },\n\n        aggregate: function(val) {\n            var that = this;\n\n            if (val !== undefined) {\n                that._query({ aggregate: val });\n                return;\n            }\n\n            return that._aggregate;\n        },\n\n        aggregates: function() {\n            var result = this._aggregateResult;\n\n            if (isEmptyObject(result)) {\n                result = this._emptyAggregates(this.aggregate());\n            }\n\n            return result;\n        },\n\n        _emptyAggregates: function(aggregates) {\n            var result = {};\n\n            if (!isEmptyObject(aggregates)) {\n                var aggregate = {};\n\n                if (!isArray(aggregates)) {\n                    aggregates = [aggregates];\n                }\n\n                for (var idx = 0; idx < aggregates.length; idx++) {\n                    aggregate[aggregates[idx].aggregate] = 0;\n                    result[aggregates[idx].field] = aggregate;\n                }\n            }\n\n            return result;\n        },\n\n        _pageableQueryOptions: function(options) {\n            return options;\n        },\n\n        _wrapInEmptyGroup: function(model) {\n            var groups = this.group(),\n                parent,\n                group,\n                idx,\n                length;\n\n            for (idx = groups.length - 1, length = 0; idx >= length; idx--) {\n                group = groups[idx];\n                parent = {\n                    value: model.get ? model.get(group.field) : model[group.field],\n                    field: group.field,\n                    items: parent ? [parent] : [model],\n                    hasSubgroups: !!parent,\n                    aggregates: this._emptyAggregates(group.aggregates)\n                };\n            }\n\n            return parent;\n        },\n\n        totalPages: function() {\n            var that = this,\n                pageSize = that.pageSize() || that.total(),\n                total = that._isGroupPaged() ? that.groupsTotal(true) : that.total();\n\n            return math.ceil((total || 0) / pageSize);\n        },\n\n        inRange: function(skip, take) {\n            var that = this,\n                end = math.min(skip + take, that.total());\n\n            if (!that.options.serverPaging && that._data.length > 0) {\n                return true;\n            }\n\n            return that._findRange(skip, end).length > 0;\n        },\n\n        lastRange: function() {\n            var ranges = this._ranges;\n            return ranges[ranges.length - 1] || { start: 0, end: 0, data: [] };\n        },\n\n        firstItemUid: function() {\n            var ranges = this._ranges;\n            return ranges.length && ranges[0].data.length && ranges[0].data[0].uid;\n        },\n\n        enableRequestsInProgress: function() {\n            this._skipRequestsInProgress = false;\n        },\n\n        _timeStamp: function() {\n            return new Date().getTime();\n        },\n\n        range: function(skip, take, callback, action) {\n            this._currentRequestTimeStamp = this._timeStamp();\n            this._skipRequestsInProgress = true;\n            var total = this._isGroupPaged() ? this.groupsTotal(true) : this.total();\n\n            if (action === \"expandGroup\" || action === \"collapseGroup\") {\n                this._updateOuterRangesLength();\n            }\n\n            skip = math.min(skip || 0, total);\n            callback = isFunction(callback) ? callback : noop;\n\n            var that = this,\n                pageSkip = math.max(math.floor(skip / take), 0) * take,\n                size = math.min(pageSkip + take, total),\n                data;\n\n            data = that._findRange(skip, math.min(skip + take, total), callback);\n\n            if ((data.length || total === 0) && !that._fetchingGroupItems) {\n                that._processRangeData(data, skip, take, that._originalPageSkip || pageSkip, that._originalSize || size, {\n                    action: action\n                });\n                that._originalPageSkip = null;\n                that._originalSize = null;\n                callback();\n                return;\n            }\n\n            if (that._isGroupPaged()) {\n                that._originalPageSkip = pageSkip;\n                that._originalSize = size;\n\n                pageSkip = math.max(math.floor(that._adjustPageSkip(skip, take) / take), 0) * take;\n                size = math.min(pageSkip + take, total);\n            }\n\n            if (take !== undefined && !that._fetchingGroupItems) {\n                if ((that._isGroupPaged() && !that._groupRangeExists(pageSkip, take)) || !that._rangeExists(pageSkip, size)) {\n                    that.prefetch(pageSkip, take, function() {\n                        if (skip > pageSkip && size < that.total() && !that._rangeExists(size, math.min(size + take, that.total()))) {\n                            that.prefetch(size, take, function() {\n                                that.range(skip, take, callback );\n                            });\n                        } else {\n                            that.range(skip, take, callback);\n                        }\n                    });\n                } else if (pageSkip < skip) {\n                    that.prefetch(size, take, function() {\n                        that.range(skip, take, callback );\n                    });\n                }\n            }\n        },\n\n        _findRange: function(start, end, callback) {\n            var that = this,\n                ranges = that._ranges,\n                range,\n                data = [],\n                skipIdx,\n                takeIdx,\n                startIndex,\n                endIndex,\n                rangeData,\n                rangeEnd,\n                processed,\n                options = that.options,\n                remote = options.serverSorting || options.serverPaging || options.serverFiltering || options.serverGrouping || options.serverAggregates,\n                flatData,\n                count,\n                length,\n                groupMapOptions = {\n                        take: end - start,\n                        skip: start,\n                        skipped: 0,\n                        taken: 0,\n                        includeParents: true\n                    },\n                prevRangeEnd,\n                isGroupPaged = that._isGroupPaged(),\n                startField = isGroupPaged ? \"outerStart\" : \"start\",\n                endField = isGroupPaged ? \"outerEnd\" : \"end\",\n                currentDataLength;\n\n            for (skipIdx = 0, length = ranges.length; skipIdx < length; skipIdx++) {\n                range = ranges[skipIdx];\n\n                if (isGroupPaged) {\n                    if (range.outerStart >= end) {\n                        return [];\n                    }\n\n                    if (start > range.outerEnd) {\n                        groupMapOptions.skipped += range.outerEnd - (prevRangeEnd || 0);\n                        prevRangeEnd = range.outerEnd;\n                        continue;\n                    }\n\n                    if (typeof prevRangeEnd !== \"undefined\" && prevRangeEnd != range.outerStart) {\n                        groupMapOptions.skipped += range.outerStart - prevRangeEnd;\n                    }\n\n                    if (groupMapOptions.skipped > groupMapOptions.skip) {\n                        return [];\n                    }\n\n                    if (typeof prevRangeEnd === \"undefined\" && start > 0 && range.start > 0) {\n                        groupMapOptions.skipped = range.outerStart;\n                    }\n\n                    takeIdx = skipIdx;\n                    while (true) {\n                        this._findGroupedRange(range.data, data, groupMapOptions, null, callback);\n                        currentDataLength = that._calculateGroupsTotal(data, true, \"currentItems\");\n\n                        if (currentDataLength >= groupMapOptions.take) {\n                            return data;\n                        }\n\n                        if (that._fetchingGroupItems) {\n                            return [];\n                        }\n                        takeIdx++;\n\n                        if (ranges[takeIdx] && ranges[takeIdx].outerStart === range.outerEnd) {\n                            range = ranges[takeIdx];\n                        } else {\n                            break;\n                        }\n                    }\n                } else if (start >= range[startField] && start <= range[endField]) {\n                    count = 0;\n\n                    for (takeIdx = skipIdx; takeIdx < length; takeIdx++) {\n                        range = ranges[takeIdx];\n                        flatData = that._flatData(range.data, true);\n\n                        if (flatData.length && start + count >= range.start) {\n                            rangeData = range.data;\n                            rangeEnd = range.end;\n\n                            if (!remote) {\n                                if (options.inPlaceSort) {\n                                    processed = that._queryProcess(range.data, { filter: that.filter() });\n                                } else {\n                                    var sort = normalizeGroupWithoutCompare(that.group() || []).concat(normalizeSort(that.sort() || []));\n                                    processed = that._queryProcess(range.data, { sort: sort, filter: that.filter() });\n                                }\n                                flatData = rangeData = processed.data;\n\n                                if (processed.total !== undefined) {\n                                    rangeEnd = processed.total;\n                                }\n                            }\n\n                            startIndex = 0;\n                            if (start + count > range.start) {\n                                startIndex = (start + count) - range.start;\n                            }\n                            endIndex = flatData.length;\n                            if (rangeEnd > end) {\n                                endIndex = endIndex - (rangeEnd - end);\n                            }\n                            count += endIndex - startIndex;\n                            data = that._mergeGroups(data, rangeData, startIndex, endIndex);\n\n                            if (end <= range.end && count == end - start) {\n                                return data;\n                            }\n                        }\n                    }\n                    break;\n                }\n                prevRangeEnd = range.outerEnd;\n            }\n            return [];\n        },\n\n        _getRangesMismatch: function(pageSkip) {\n            var that = this;\n            var ranges = that._ranges;\n            var mismatch = 0;\n            var i = 0;\n\n            while (true) {\n                var range = ranges[i];\n                if (!range || range.outerStart > pageSkip) {\n                    break;\n                }\n\n                if (range.outerEnd != range.end) {\n                    mismatch = range.outerEnd - range.end;\n                }\n                i++;\n            }\n\n            return mismatch;\n        },\n\n        _mergeGroups: function(data, range, skip, take) {\n            if (this._isServerGrouped()) {\n                var temp = range.toJSON(),\n                    prevGroup;\n\n                if (data.length) {\n                    prevGroup = data[data.length - 1];\n                }\n\n                mergeGroups(prevGroup, temp, skip, take);\n\n                return data.concat(temp);\n            }\n            return data.concat(range.slice(skip, take));\n        },\n\n        _processRangeData: function(data, skip, take, pageSkip, size, eventData) {\n            var that = this;\n\n            that._pending = undefined;\n\n            that._skip = skip > that.skip() && !that._omitPrefetch ? math.min(size, (that.totalPages() - 1) * that.take()) : pageSkip;\n\n            that._currentRangeStart = skip;\n\n            that._take = take;\n\n            var paging = that.options.serverPaging;\n            var sorting = that.options.serverSorting;\n            var filtering = that.options.serverFiltering;\n            var aggregates = that.options.serverAggregates;\n            try {\n                that.options.serverPaging = true;\n                if (!that._isServerGrouped() && !(that.group() && that.group().length)) {\n                    that.options.serverSorting = true;\n                }\n                that.options.serverFiltering = true;\n                that.options.serverPaging = true;\n                that.options.serverAggregates = true;\n\n                if (paging) {\n                    that._detachObservableParents();\n                    that._data = data = that._observe(data);\n                }\n                that._process(data, eventData);\n            } finally {\n                that.options.serverPaging = paging;\n                that.options.serverSorting = sorting;\n                that.options.serverFiltering = filtering;\n                that.options.serverAggregates = aggregates;\n            }\n        },\n\n        skip: function() {\n            var that = this;\n\n            if (that._skip === undefined) {\n                return (that._page !== undefined ? (that._page - 1) * (that.take() || 1) : undefined);\n            }\n            return that._skip;\n        },\n\n        currentRangeStart: function() {\n            return this._currentRangeStart || 0;\n        },\n\n        take: function() {\n            return this._take || this._pageSize;\n        },\n\n        _prefetchSuccessHandler: function(skip, size, callback, force) {\n            var that = this;\n            var timestamp = that._timeStamp();\n\n            return function(data) {\n                var found = false,\n                    range = { start: skip, end: size, data: [], timestamp: that._timeStamp() },\n                    idx,\n                    length,\n                    temp;\n\n                that._dequeueRequest();\n\n                that.trigger(REQUESTEND, { response: data, type: \"read\" });\n\n                data = that.reader.parse(data);\n\n                temp = that._readData(data);\n\n                if (temp.length) {\n                    for (idx = 0, length = that._ranges.length; idx < length; idx++) {\n                        if (that._ranges[idx].start === skip) {\n                            found = true;\n                            range = that._ranges[idx];\n\n                            if (!that._isGroupPaged()) {\n                                range.pristineData = temp;\n                                range.data = that._observe(temp);\n                                range.end = range.start + that._flatData(range.data, true).length;\n                                that._sortRanges();\n                            }\n\n                            break;\n                        }\n                    }\n\n                    if (!found) {\n                        that._addRange(that._observe(temp), skip);\n                    }\n                }\n\n                that._total = that.reader.total(data);\n\n                if (force || (timestamp >= that._currentRequestTimeStamp || !that._skipRequestsInProgress)) {\n                    if (callback && temp.length) {\n                        callback();\n                    } else {\n                        that.trigger(CHANGE, {});\n                    }\n                }\n            };\n        },\n\n        prefetch: function(skip, take, callback) {\n            var that = this,\n                size = math.min(skip + take, that.total()),\n                options = {\n                    take: take,\n                    skip: skip,\n                    page: skip / take + 1,\n                    pageSize: take,\n                    sort: that._sort,\n                    filter: that._filter,\n                    group: that._group,\n                    aggregate: that._aggregate\n                };\n\n\n            if ((that._isGroupPaged() && !that._isServerGrouped() && that._groupRangeExists(skip, size))) {\n                if (callback) {\n                    callback();\n                }\n                return;\n            }\n\n            if ((that._isServerGroupPaged() && !that._groupRangeExists(skip, size)) || !that._rangeExists(skip, size)) {\n                clearTimeout(that._timeout);\n\n                that._timeout = setTimeout(function() {\n                    that._queueRequest(options, function() {\n                        if (!that.trigger(REQUESTSTART, { type: \"read\" })) {\n                            if (that._omitPrefetch) {\n                                that.trigger(PROGRESS);\n                            }\n                            that.transport.read({\n                                data: that._params(options),\n                                success: that._prefetchSuccessHandler(skip, size, callback),\n                                error: function() {\n                                    var args = slice.call(arguments);\n                                    that.error.apply(that, args);\n                                }\n                            });\n                        } else {\n                            that._dequeueRequest();\n                        }\n                    });\n                }, 100);\n            } else if (callback) {\n                callback();\n            }\n        },\n\n        _multiplePrefetch: function(skip, take, callback) {\n            var that = this,\n                size = math.min(skip + take, that.total()),\n                options = {\n                    take: take,\n                    skip: skip,\n                    page: skip / take + 1,\n                    pageSize: take,\n                    sort: that._sort,\n                    filter: that._filter,\n                    group: that._group,\n                    aggregate: that._aggregate\n                };\n\n            if (!that._rangeExists(skip, size)) {\n                if (!that.trigger(REQUESTSTART, { type: \"read\" })) {\n                    that.transport.read({\n                        data: that._params(options),\n                        success: that._prefetchSuccessHandler(skip, size, callback, true)\n                    });\n                }\n            } else if (callback) {\n                callback();\n            }\n        },\n\n        _adjustPageSkip: function(start, take) {\n            var that = this;\n            var prevRange = that._getPrevRange(start);\n            var result;\n            var total = that.total();\n            var mismatch;\n\n            if (prevRange) {\n                mismatch = that._getRangesMismatch(start);\n\n                if (!mismatch) {\n                    return start;\n                }\n                start -= mismatch;\n            }\n            result = math.max(math.floor(start / take), 0) * take;\n\n            if (result > total) {\n                while (true) {\n                    result -= take;\n                    if (result < total) {\n                        break;\n                    }\n                }\n            }\n            return result;\n        },\n\n        _getNextRange: function(end) {\n            var that = this,\n                ranges = that._ranges,\n                idx,\n                length;\n\n            for (idx = 0, length = ranges.length; idx < length; idx++) {\n                if (ranges[idx].start <= end && ranges[idx].end >= end) {\n                    return ranges[idx];\n                }\n            }\n        },\n\n        _getPrevRange: function(start) {\n            var that = this,\n                ranges = that._ranges,\n                idx,\n                range,\n                length = ranges.length;\n\n            for (idx = length - 1; idx >= 0; idx--) {\n                if (ranges[idx].outerStart <= start) {\n                    range = ranges[idx];\n                    break;\n                }\n\n            }\n\n            return range;\n        },\n\n        _rangeExists: function(start, end) {\n            var that = this,\n                ranges = that._ranges,\n                idx,\n                length;\n\n            for (idx = 0, length = ranges.length; idx < length; idx++) {\n                if (ranges[idx].start <= start && ranges[idx].end >= end) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        _groupRangeExists: function(start, end) {\n            var that = this,\n                ranges = that._ranges,\n                idx,\n                length,\n                availableItemsCount = 0,\n                total = that.groupsTotal(true);\n\n            if (end > total && !that._isServerGrouped()) {\n                end = total;\n            }\n\n            for (idx = 0, length = ranges.length; idx < length; idx++) {\n                var range = ranges[idx];\n                if (range.outerStart <= start && range.outerEnd >= start) {\n                    availableItemsCount += range.outerEnd - start;\n                } else if (range.outerStart <= end && range.outerEnd >= end) {\n                    availableItemsCount += end - range.outerStart;\n                }\n            }\n\n            return availableItemsCount >= end - start;\n        },\n\n        _getCurrentRangeSpan: function() {\n            var that = this;\n            var ranges = that._ranges;\n            var start = that.currentRangeStart();\n            var end = start + (that.take() || 0);\n            var rangeSpan = [];\n            var range;\n            var idx;\n            var length = ranges.length;\n\n            for (idx = 0; idx < length; idx++) {\n                range = ranges[idx];\n\n                if ((range.start <= start && range.end >= start) || (range.start >= start && range.start <= end)) {\n                    rangeSpan.push(range);\n                }\n            }\n\n            return rangeSpan;\n        },\n\n        _removeModelFromRanges: function(model) {\n            var that = this;\n            var range;\n\n            for (var idx = 0, length = this._ranges.length; idx < length; idx++) {\n                range = this._ranges[idx];\n\n                that._removeModelFromRange(range, model);\n            }\n\n            that._updateRangesLength();\n        },\n\n        _removeModelFromRange: function(range, model) {\n            this._eachItem(range.data, function(data) {\n                if (!data) {\n                    return;\n                }\n                for (var idx = 0; idx < data.length; idx++) {\n                    var dataItem = data[idx];\n\n                    if (dataItem.uid && dataItem.uid == model.uid) {\n                        [].splice.call(data, idx, 1);\n                        break;\n                    }\n                }\n            });\n        },\n\n        _insertModelInRange: function(index, model) {\n            var that = this;\n            var ranges = that._ranges || [];\n            var rangesLength = ranges.length;\n            var range;\n            var i;\n\n            for (i = 0; i < rangesLength; i++) {\n                range = ranges[i];\n\n                if (range.start <= index && range.end >= index) {\n                    if (!that._getByUid(model.uid, range.data)) {\n                        if (that._isServerGrouped()) {\n                            range.data.splice(index, 0, that._wrapInEmptyGroup(model));\n                        } else {\n                            range.data.splice(index, 0, model);\n                        }\n                    }\n\n                    break;\n                }\n            }\n\n            that._updateRangesLength();\n        },\n\n        _updateRangesLength: function() {\n            var that = this;\n            var ranges = that._ranges || [];\n            var rangesLength = ranges.length;\n            var mismatchFound = false;\n            var mismatchLength = 0;\n            var lengthDifference = 0;\n            var rangeLength;\n            var range;\n            var i;\n\n            for (i = 0; i < rangesLength; i++) {\n                range = ranges[i];\n                rangeLength = that._isGroupPaged() ? range.data.length : that._flatData(range.data, true).length;\n                lengthDifference = rangeLength - math.abs(range.end - range.start);\n\n                if (!mismatchFound && lengthDifference !== 0) {\n                    mismatchFound = true;\n                    mismatchLength = lengthDifference;\n                    range.end += mismatchLength;\n                    continue;\n                }\n\n                if (mismatchFound) {\n                    range.start += mismatchLength;\n                    range.end += mismatchLength;\n                }\n            }\n        },\n\n        _updateOuterRangesLength: function() {\n            var that = this;\n            var ranges = that._ranges || [];\n            var rangesLength = ranges.length;\n            var mismatchLength = 0;\n            var range;\n            var i;\n            var prevRange;\n            var rangeLength;\n\n            for (i = 0; i < rangesLength; i++) {\n                range = ranges[i];\n                rangeLength = that._isGroupPaged() ? that._calculateGroupsTotal(range.data, true, \"items\", true) : that._flatData(range.data, true).length;\n\n                if (prevRange) {\n                    if (prevRange.end != range.start) {\n                        mismatchLength = range.start - prevRange.end;\n                    }\n                    range.outerStart = prevRange.outerEnd + mismatchLength;\n                    mismatchLength = 0;\n                } else {\n                    range.outerStart = range.start;\n                }\n\n                range.outerEnd = range.outerStart + rangeLength;\n                prevRange = range;\n            }\n        }\n    });\n\n    var Transport = {};\n\n    Transport.create = function(options, data, dataSource) {\n        var transport,\n            transportOptions = options.transport ? $.extend({}, options.transport) : null;\n\n        if (transportOptions) {\n            transportOptions.read = typeof transportOptions.read === STRING ? { url: transportOptions.read } : transportOptions.read;\n\n            if (options.type === \"jsdo\") {\n                transportOptions.dataSource = dataSource;\n            }\n\n            if (options.type) {\n                kendo.data.transports = kendo.data.transports || {};\n                kendo.data.schemas = kendo.data.schemas || {};\n\n                if (!kendo.data.transports[options.type]) {\n                    kendo.logToConsole(\"Unknown DataSource transport type '\" + options.type + \"'.\\nVerify that registration scripts for this type are included after Kendo UI on the page.\", \"warn\");\n                } else if (!isPlainObject(kendo.data.transports[options.type])) {\n                    transport = new kendo.data.transports[options.type](extend(transportOptions, { data: data }));\n                } else {\n                    transportOptions = extend(true, {}, kendo.data.transports[options.type], transportOptions);\n                }\n\n                options.schema = extend(true, {}, kendo.data.schemas[options.type], options.schema);\n            }\n\n            if (!transport) {\n                transport = isFunction(transportOptions.read) ? transportOptions : new RemoteTransport(transportOptions);\n            }\n        } else {\n            transport = new LocalTransport({ data: options.data || [] });\n        }\n        return transport;\n    };\n\n    DataSource.create = function(options) {\n        if (isArray(options) || options instanceof ObservableArray) {\n           options = { data: options };\n        }\n\n        var dataSource = options || {},\n            data = dataSource.data,\n            fields = dataSource.fields,\n            table = dataSource.table,\n            select = dataSource.select,\n            idx,\n            length,\n            model = {},\n            field;\n\n        if (!data && fields && !dataSource.transport) {\n            if (table) {\n                data = inferTable(table, fields);\n            } else if (select) {\n                data = inferSelect(select, fields);\n\n                if (dataSource.group === undefined && data[0] && data[0].optgroup !== undefined) {\n                    dataSource.group = \"optgroup\";\n                }\n            }\n        }\n\n        if (kendo.data.Model && fields && (!dataSource.schema || !dataSource.schema.model)) {\n            for (idx = 0, length = fields.length; idx < length; idx++) {\n                field = fields[idx];\n                if (field.type) {\n                    model[field.field] = field;\n                }\n            }\n\n            if (!isEmptyObject(model)) {\n                dataSource.schema = extend(true, dataSource.schema, { model: { fields: model } });\n            }\n        }\n\n        dataSource.data = data;\n\n        select = null;\n        dataSource.select = null;\n        table = null;\n        dataSource.table = null;\n\n        return dataSource instanceof DataSource ? dataSource : new DataSource(dataSource);\n    };\n\n    function inferSelect(select, fields) {\n        select = $(select)[0];\n        var options = select.options;\n        var firstField = fields[0];\n        var secondField = fields[1];\n\n        var data = [];\n        var idx, length;\n        var optgroup;\n        var option;\n        var record;\n        var value;\n\n        for (idx = 0, length = options.length; idx < length; idx++) {\n            record = {};\n            option = options[idx];\n            optgroup = option.parentNode;\n\n            if (optgroup === select) {\n                optgroup = null;\n            }\n\n            if (option.disabled || (optgroup && optgroup.disabled)) {\n                continue;\n            }\n\n            if (optgroup) {\n                record.optgroup = optgroup.label;\n            }\n\n            record[firstField.field] = option.text;\n\n            value = option.attributes.value;\n\n            if (value && value.specified) {\n                value = option.value;\n            } else {\n                value = option.text;\n            }\n\n            record[secondField.field] = value;\n\n            data.push(record);\n        }\n\n        return data;\n    }\n\n    function inferTable(table, fields) {\n        var tbody = $(table)[0].tBodies[0],\n        rows = tbody ? tbody.rows : [],\n        idx,\n        length,\n        fieldIndex,\n        fieldCount = fields.length,\n        data = [],\n        cells,\n        record,\n        cell,\n        empty;\n\n        for (idx = 0, length = rows.length; idx < length; idx++) {\n            record = {};\n            empty = true;\n            cells = rows[idx].cells;\n\n            for (fieldIndex = 0; fieldIndex < fieldCount; fieldIndex++) {\n                cell = cells[fieldIndex];\n                if (cell.nodeName.toLowerCase() !== \"th\") {\n                    empty = false;\n                    record[fields[fieldIndex].field] = cell.innerHTML;\n                }\n            }\n            if (!empty) {\n                data.push(record);\n            }\n        }\n\n        return data;\n    }\n\n    var Node = Model.define({\n        idField: \"id\",\n\n        init: function(value) {\n            var that = this,\n                hasChildren = that.hasChildren || value && value.hasChildren,\n                childrenField = \"items\",\n                childrenOptions = {};\n\n            kendo.data.Model.fn.init.call(that, value);\n\n            if (typeof that.children === STRING) {\n                childrenField = that.children;\n            }\n\n            childrenOptions = {\n                schema: {\n                    data: childrenField,\n                    model: {\n                        hasChildren: hasChildren,\n                        id: that.idField,\n                        fields: that.fields\n                    }\n                }\n            };\n\n            if (typeof that.children !== STRING) {\n                extend(childrenOptions, that.children);\n            }\n\n            childrenOptions.data = value;\n\n            if (!hasChildren) {\n                hasChildren = childrenOptions.schema.data;\n            }\n\n            if (typeof hasChildren === STRING) {\n                hasChildren = kendo.getter(hasChildren);\n            }\n\n            if (isFunction(hasChildren)) {\n                var hasChildrenObject = hasChildren.call(that, that);\n\n                if (hasChildrenObject && hasChildrenObject.length === 0) {\n                    that.hasChildren = false;\n                } else {\n                    that.hasChildren = !!hasChildrenObject;\n                }\n            }\n\n            that._childrenOptions = childrenOptions;\n\n            if (that.hasChildren) {\n                that._initChildren();\n            }\n\n            that._loaded = !!(value && value._loaded);\n        },\n\n        _initChildren: function() {\n            var that = this;\n            var children, transport, parameterMap;\n\n            if (!(that.children instanceof HierarchicalDataSource)) {\n                children = that.children = new HierarchicalDataSource(that._childrenOptions);\n\n                transport = children.transport;\n                parameterMap = transport.parameterMap;\n\n                transport.parameterMap = function(data, type) {\n                    data[that.idField || \"id\"] = that.id;\n\n                    if (parameterMap) {\n                        data = parameterMap.call(that, data, type);\n                    }\n\n                    return data;\n                };\n\n                children.parent = function() {\n                    return that;\n                };\n\n                children.bind(CHANGE, function(e) {\n                    e.node = e.node || that;\n                    that.trigger(CHANGE, e);\n                });\n\n                children.bind(ERROR, function(e) {\n                    var collection = that.parent();\n\n                    if (collection) {\n                        e.node = e.node || that;\n                        collection.trigger(ERROR, e);\n                    }\n                });\n\n                children.bind(ITEMSLOADED, function(e) {\n                    var collection = that.parent();\n\n                    if (collection) {\n                        collection.trigger(ITEMSLOADED, e);\n                    }\n                });\n\n                that._updateChildrenField();\n            }\n        },\n\n        append: function(model) {\n            this._initChildren();\n            this.loaded(true);\n            this.children.add(model);\n        },\n\n        hasChildren: false,\n\n        level: function() {\n            var parentNode = this.parentNode(),\n                level = 0;\n\n            while (parentNode && parentNode.parentNode) {\n                level++;\n                parentNode = parentNode.parentNode ? parentNode.parentNode() : null;\n            }\n\n            return level;\n        },\n\n        _updateChildrenField: function() {\n            var fieldName = this._childrenOptions.schema.data;\n\n            this[fieldName || \"items\"] = this.children.data();\n        },\n\n        _childrenLoaded: function() {\n            this._loaded = true;\n\n            this._updateChildrenField();\n        },\n\n        load: function() {\n            var options = {};\n            var method = \"_query\";\n            var children, promise;\n\n            if (this.hasChildren) {\n                this._initChildren();\n\n                children = this.children;\n\n                options[this.idField || \"id\"] = this.id;\n\n                if (!this._loaded) {\n                    children._data = undefined;\n                    method = \"read\";\n                }\n\n                children.one(CHANGE, this._childrenLoaded.bind(this));\n\n                if (this._matchFilter) {\n                    options.filter = { field: '_matchFilter', operator: 'eq', value: true };\n                }\n\n                promise = children[method](options);\n                if (!this._loaded) {\n                    this.trigger(ITEMLOAD, { promise: promise, node: this });\n                }\n            } else {\n                this.loaded(true);\n            }\n\n            return promise || $.Deferred().resolve().promise();\n        },\n\n        parentNode: function() {\n            var array = this.parent();\n\n            return array.parent();\n        },\n\n        loaded: function(value) {\n            if (value !== undefined) {\n                this._loaded = value;\n            } else {\n                return this._loaded;\n            }\n        },\n\n        shouldSerialize: function(field) {\n            return Model.fn.shouldSerialize.call(this, field) &&\n                    field !== \"children\" &&\n                    field !== \"_loaded\" &&\n                    field !== \"hasChildren\" &&\n                    field !== \"_childrenOptions\";\n        }\n    });\n\n    function dataMethod(name) {\n        return function() {\n            var data = this._data,\n                result = DataSource.fn[name].apply(this, slice.call(arguments));\n\n            if (this._data != data) {\n                this._attachBubbleHandlers();\n            }\n\n            return result;\n        };\n    }\n\n    var HierarchicalDataSource = DataSource.extend({\n        init: function(options) {\n            var node = Node.define({\n                children: options\n            });\n\n            if (options.filter && !options.serverFiltering) {\n                this._hierarchicalFilter = options.filter;\n                options.filter = null;\n            }\n\n            DataSource.fn.init.call(this, extend(true, {}, { schema: { modelBase: node, model: node } }, options));\n\n            this._attachBubbleHandlers();\n        },\n\n        _attachBubbleHandlers: function() {\n            var that = this;\n\n            that._data.bind(ERROR, function(e) {\n                that.trigger(ERROR, e);\n            });\n\n            that._data.bind(ITEMSLOADED, function(e) {\n                that.trigger(ITEMSLOADED, e);\n            });\n        },\n\n        loading: function() {\n            if (this._data) {\n                return this._data.loading() || this._childrenLoading();\n            }\n            return false;\n        },\n\n        _childrenLoading: function() {\n            var isLoading = false;\n            this._data.forEach(function(node) {\n                if (node.hasChildren && node.children.loading()) {\n                    isLoading = true;\n                }\n            });\n            return isLoading;\n        },\n\n        read: function(data) {\n            var result = DataSource.fn.read.call(this, data);\n\n            if (this._hierarchicalFilter) {\n                if (this._data && this._data.length > 0) {\n                    this.filter(this._hierarchicalFilter);\n                } else {\n                    this.options.filter = this._hierarchicalFilter;\n                    this._filter = normalizeFilter(this.options.filter);\n                    this._hierarchicalFilter = null;\n                }\n            }\n\n            return result;\n        },\n\n        remove: function(node) {\n            var parentNode = node.parentNode(),\n                dataSource = this,\n                result;\n\n            if (parentNode && parentNode._initChildren) {\n                dataSource = parentNode.children;\n            }\n\n            result = DataSource.fn.remove.call(dataSource, node);\n\n            if (parentNode && !dataSource.data().length) {\n                parentNode.hasChildren = false;\n            }\n\n            return result;\n        },\n\n        success: dataMethod(\"success\"),\n\n        data: dataMethod(\"data\"),\n\n        insert: function(index, model) {\n            var parentNode = this.parent();\n\n            if (parentNode && parentNode._initChildren) {\n                parentNode.hasChildren = true;\n                parentNode._initChildren();\n            }\n\n            return DataSource.fn.insert.call(this, index, model);\n        },\n\n        filter: function(val) {\n            if (val === undefined) {\n                 return this._filter;\n            }\n\n            if (!this.options.serverFiltering && this._markHierarchicalQuery(val)) {\n                val = { logic: \"or\", filters: [val, { field: '_matchFilter', operator: 'equals', value: true }] };\n            }\n\n            this.trigger(\"reset\");\n            this._query({ filter: val, page: 1 });\n        },\n\n        _markHierarchicalQuery: function(expressions) {\n            var compiled;\n            var predicate;\n            var fields;\n            var operators;\n            var filter;\n            var accentFoldingFiltering = this.options.accentFoldingFiltering;\n\n            expressions = accentFoldingFiltering ? $.extend({}, normalizeFilter(expressions), { accentFoldingFiltering: accentFoldingFiltering }) : normalizeFilter(expressions);\n\n            if (!expressions || expressions.filters.length === 0) {\n                this._updateHierarchicalFilter(function() {return true;});\n                return false;\n            }\n\n            compiled = Query.filterExpr(expressions);\n            fields = compiled.fields;\n            operators = compiled.operators;\n\n            predicate = filter = new Function(\"d, __f, __o\", \"return \" + compiled.expression);\n\n            if (fields.length || operators.length) {\n                filter = function(d) {\n                    return predicate(d, fields, operators);\n                };\n            }\n\n            this._updateHierarchicalFilter(filter);\n            return true;\n        },\n\n         _updateHierarchicalFilter: function(filter) {\n            var current;\n            var data = this._data;\n            var result = false;\n\n            for (var idx = 0; idx < data.length; idx++) {\n                 current = data[idx];\n\n                 if (current.hasChildren) {\n                     current._matchFilter = current.children._updateHierarchicalFilter(filter);\n                    if (!current._matchFilter) {\n                        current._matchFilter = filter(current);\n                    }\n                } else {\n                    current._matchFilter = filter(current);\n                }\n\n                if (current._matchFilter) {\n                    result = true;\n                }\n            }\n            return result;\n        },\n\n        _find: function(method, value) {\n            var idx, length, node, children;\n            var data = this._data;\n\n            if (!data) {\n                return;\n            }\n\n            node = DataSource.fn[method].call(this, value);\n\n            if (node) {\n                return node;\n            }\n\n            data = this._flatData(this._data);\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                children = data[idx].children;\n\n                if (!(children instanceof HierarchicalDataSource)) {\n                    continue;\n                }\n\n                node = children[method](value);\n\n                if (node) {\n                    return node;\n                }\n            }\n        },\n\n        get: function(id) {\n            return this._find(\"get\", id);\n        },\n\n        getByUid: function(uid) {\n            return this._find(\"getByUid\", uid);\n        }\n    });\n\n    function inferList(list, fields) {\n        var items = $(list).children(),\n            idx,\n            length,\n            data = [],\n            record,\n            textField = fields[0].field,\n            urlField = fields[1] && fields[1].field,\n            spriteCssClassField = fields[2] && fields[2].field,\n            imageUrlField = fields[3] && fields[3].field,\n            item,\n            id,\n            textChild,\n            className,\n            children;\n\n        function elements(collection, tagName) {\n            return collection.filter(tagName).add(collection.find(tagName));\n        }\n\n        for (idx = 0, length = items.length; idx < length; idx++) {\n            record = { _loaded: true };\n            item = items.eq(idx);\n\n            textChild = item[0].firstChild;\n            children = item.children();\n            list = children.filter(\"ul\");\n            children = children.filter(\":not(ul)\");\n\n            id = item.attr(\"data-id\");\n\n            if (id) {\n                record.id = id;\n            }\n\n            if (textChild) {\n                record[textField] = textChild.nodeType == 3 ? textChild.nodeValue : children.text();\n            }\n\n            if (urlField) {\n                record[urlField] = elements(children, \"a\").attr(\"href\");\n            }\n\n            if (imageUrlField) {\n                record[imageUrlField] = elements(children, \"img\").attr(\"src\");\n            }\n\n            if (spriteCssClassField) {\n                className = elements(children, \".k-sprite\").prop(\"className\");\n                record[spriteCssClassField] = className && kendo.trim(className.replace(\"k-sprite\", \"\"));\n            }\n\n            if (list.length) {\n                record.items = inferList(list.eq(0), fields);\n            }\n\n            if (item.attr(\"data-hasChildren\") == \"true\") {\n                record.hasChildren = true;\n            }\n\n            data.push(record);\n        }\n\n        return data;\n    }\n\n    HierarchicalDataSource.create = function(options) {\n        options = options && options.push ? { data: options } : options;\n\n        var dataSource = options || {},\n            data = dataSource.data,\n            fields = dataSource.fields,\n            list = dataSource.list;\n\n        if (data && data._dataSource) {\n            return data._dataSource;\n        }\n\n        if (!data && fields && !dataSource.transport) {\n            if (list) {\n                data = inferList(list, fields);\n            }\n        }\n\n        dataSource.data = data;\n\n        return dataSource instanceof HierarchicalDataSource ? dataSource : new HierarchicalDataSource(dataSource);\n    };\n\n    var Buffer = kendo.Observable.extend({\n        init: function(dataSource, viewSize, disablePrefetch) {\n            kendo.Observable.fn.init.call(this);\n\n            this._prefetching = false;\n            this.dataSource = dataSource;\n            this.prefetch = !disablePrefetch;\n\n            var buffer = this;\n\n            dataSource.bind(\"change\", function() {\n                buffer._change();\n            });\n\n            dataSource.bind(\"reset\", function() {\n                buffer._reset();\n            });\n\n            this._syncWithDataSource();\n\n            this.setViewSize(viewSize);\n        },\n\n        setViewSize: function(viewSize) {\n            this.viewSize = viewSize;\n            this._recalculate();\n        },\n\n        at: function(index) {\n            var pageSize = this.pageSize,\n                itemPresent = true;\n\n            if (index >= this.total()) {\n                this.trigger(\"endreached\", { index: index });\n                return null;\n            }\n\n            if (!this.useRanges) {\n               return this.dataSource.view()[index];\n            }\n            if (this.useRanges) {\n                // out of range request\n                if (index < this.dataOffset || index >= this.skip + pageSize) {\n                    itemPresent = this.range(Math.floor(index / pageSize) * pageSize);\n                }\n\n                // prefetch\n                if (index === this.prefetchThreshold) {\n                    this._prefetch();\n                }\n\n                // mid-range jump - prefetchThreshold and nextPageThreshold may be equal, do not change to else if\n                if (index === this.midPageThreshold) {\n                    this.range(this.nextMidRange, true);\n                }\n                // next range jump\n                else if (index === this.nextPageThreshold) {\n                    this.range(this.nextFullRange);\n                }\n                // pull-back\n                else if (index === this.pullBackThreshold) {\n                    if (this.offset === this.skip) { // from full range to mid range\n                        this.range(this.previousMidRange);\n                    } else { // from mid range to full range\n                        this.range(this.previousFullRange);\n                    }\n                }\n\n                if (itemPresent) {\n                    return this.dataSource.at(index - this.dataOffset);\n                } else {\n                    this.trigger(\"endreached\", { index: index });\n                    return null;\n                }\n            }\n        },\n\n        indexOf: function(item) {\n            return this.dataSource.data().indexOf(item) + this.dataOffset;\n        },\n\n        total: function() {\n            return parseInt(this.dataSource.total(), 10);\n        },\n\n        next: function() {\n            var buffer = this,\n                pageSize = buffer.pageSize,\n                offset = buffer.skip - buffer.viewSize + pageSize,\n                pageSkip = math.max(math.floor(offset / pageSize), 0) * pageSize;\n\n            this.offset = offset;\n            this.dataSource.prefetch(pageSkip, pageSize, function() {\n                buffer._goToRange(offset, true);\n            });\n        },\n\n        range: function(offset, nextRange) {\n            if (this.offset === offset) {\n                return true;\n            }\n\n            var buffer = this,\n                pageSize = this.pageSize,\n                pageSkip = math.max(math.floor(offset / pageSize), 0) * pageSize,\n                dataSource = this.dataSource;\n\n            if (nextRange) {\n                pageSkip += pageSize;\n            }\n\n            if (dataSource.inRange(offset, pageSize)) {\n                this.offset = offset;\n                this._recalculate();\n                this._goToRange(offset);\n                return true;\n            } else if (this.prefetch) {\n                dataSource.prefetch(pageSkip, pageSize, function() {\n                    buffer.offset = offset;\n                    buffer._recalculate();\n                    buffer._goToRange(offset, true);\n                });\n                return false;\n            }\n\n            return true;\n        },\n\n        syncDataSource: function() {\n            var offset = this.offset;\n            this.offset = null;\n            this.range(offset);\n        },\n\n        destroy: function() {\n            this.unbind();\n        },\n\n        _prefetch: function() {\n            var buffer = this,\n                pageSize = this.pageSize,\n                prefetchOffset = this.skip + pageSize,\n                dataSource = this.dataSource;\n\n            if (!dataSource.inRange(prefetchOffset, pageSize) && !this._prefetching && this.prefetch) {\n                this._prefetching = true;\n                this.trigger(\"prefetching\", { skip: prefetchOffset, take: pageSize });\n\n                dataSource.prefetch(prefetchOffset, pageSize, function() {\n                    buffer._prefetching = false;\n                    buffer.trigger(\"prefetched\", { skip: prefetchOffset, take: pageSize });\n                });\n            }\n        },\n\n        _goToRange: function(offset, expanding) {\n            if (this.offset !== offset) {\n                return;\n            }\n\n            this.dataOffset = offset;\n            this._expanding = expanding;\n            this.dataSource.range(offset, this.pageSize);\n            this.dataSource.enableRequestsInProgress();\n        },\n\n        _reset: function() {\n            this._syncPending = true;\n        },\n\n        _change: function() {\n            var dataSource = this.dataSource;\n\n            this.length = this.useRanges ? dataSource.lastRange().end : dataSource.view().length;\n\n            if (this._syncPending) {\n                this._syncWithDataSource();\n                this._recalculate();\n                this._syncPending = false;\n                this.trigger(\"reset\", { offset: this.offset });\n            }\n\n            this.trigger(\"resize\");\n\n            if (this._expanding) {\n                this.trigger(\"expand\");\n            }\n\n            delete this._expanding;\n        },\n\n        _syncWithDataSource: function() {\n            var dataSource = this.dataSource;\n\n            this._firstItemUid = dataSource.firstItemUid();\n            this.dataOffset = this.offset = dataSource.skip() || 0;\n            this.pageSize = dataSource.pageSize();\n            this.useRanges = dataSource.options.serverPaging;\n        },\n\n        _recalculate: function() {\n            var pageSize = this.pageSize,\n                offset = this.offset,\n                viewSize = this.viewSize,\n                skip = Math.ceil(offset / pageSize) * pageSize;\n\n            this.skip = skip;\n            this.midPageThreshold = skip + pageSize - 1;\n            this.nextPageThreshold = skip + viewSize - 1;\n            this.prefetchThreshold = skip + Math.floor(pageSize / 3 * 2);\n            this.pullBackThreshold = this.offset - 1;\n\n            this.nextMidRange = skip + pageSize - viewSize;\n            this.nextFullRange = skip;\n            this.previousMidRange = offset - viewSize;\n            this.previousFullRange = skip - pageSize;\n        }\n    });\n\n    var BatchBuffer = kendo.Observable.extend({\n        init: function(dataSource, batchSize) {\n            var batchBuffer = this;\n\n            kendo.Observable.fn.init.call(batchBuffer);\n\n            this.dataSource = dataSource;\n            this.batchSize = batchSize;\n            this._total = 0;\n\n            this.buffer = new Buffer(dataSource, batchSize * 3);\n\n            this.buffer.bind({\n                \"endreached\": function(e) {\n                    batchBuffer.trigger(\"endreached\", { index: e.index });\n                },\n                \"prefetching\": function(e) {\n                    batchBuffer.trigger(\"prefetching\", { skip: e.skip, take: e.take });\n                },\n                \"prefetched\": function(e) {\n                    batchBuffer.trigger(\"prefetched\", { skip: e.skip, take: e.take });\n                },\n                \"reset\": function() {\n                    batchBuffer._total = 0;\n                    batchBuffer.trigger(\"reset\");\n                },\n                \"resize\": function() {\n                    batchBuffer._total = Math.ceil(this.length / batchBuffer.batchSize);\n                    batchBuffer.trigger(\"resize\", { total: batchBuffer.total(), offset: this.offset });\n                }\n            });\n        },\n\n        syncDataSource: function() {\n            this.buffer.syncDataSource();\n        },\n\n        at: function(index) {\n            var buffer = this.buffer,\n                skip = index * this.batchSize,\n                take = this.batchSize,\n                view = [],\n                item;\n\n            if (buffer.offset > skip) {\n                buffer.at(buffer.offset - 1);\n            }\n\n            for (var i = 0; i < take; i++) {\n                item = buffer.at(skip + i);\n\n                if (item === null) {\n                    break;\n                }\n\n                view.push(item);\n            }\n\n            return view;\n        },\n\n        total: function() {\n            return this._total;\n        },\n\n        destroy: function() {\n            this.buffer.destroy();\n            this.unbind();\n        }\n    });\n\n    extend(true, kendo.data, {\n        readers: {\n            json: DataReader\n        },\n        Query: Query,\n        DataSource: DataSource,\n        HierarchicalDataSource: HierarchicalDataSource,\n        Node: Node,\n        Comparer: Comparer,\n        ObservableObject: ObservableObject,\n        ObservableArray: ObservableArray,\n        LazyObservableArray: LazyObservableArray,\n        LocalTransport: LocalTransport,\n        RemoteTransport: RemoteTransport,\n        Cache: Cache,\n        DataReader: DataReader,\n        Model: Model,\n        Buffer: Buffer,\n        BatchBuffer: BatchBuffer\n    });\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.binder',[ \"kendo.core\", \"kendo.data\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"binder\",\n    name: \"MVVM\",\n    category: \"framework\",\n    description: \"Model View ViewModel (MVVM) is a design pattern which helps developers separate the Model (the data) from the View (the UI).\",\n    depends: [ \"core\", \"data\" ]\n};\n\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Observable = kendo.Observable,\n        ObservableObject = kendo.data.ObservableObject,\n        ObservableArray = kendo.data.ObservableArray,\n        toString = {}.toString,\n        binders = {},\n        Class = kendo.Class,\n        VALUE = \"value\",\n        SOURCE = \"source\",\n        EVENTS = \"events\",\n        CHECKED = \"checked\",\n        CSS = \"css\",\n        deleteExpando = true,\n        FUNCTION = \"function\",\n        CHANGE = \"change\";\n\n    (function() {\n        var a = document.createElement(\"a\");\n\n        try {\n            delete a.test;\n        } catch (e) {\n            deleteExpando = false;\n        }\n    })();\n\n    var Binding = Observable.extend( {\n        init: function(parents, path) {\n            var that = this;\n\n            Observable.fn.init.call(that);\n\n            that.source = parents[0];\n            that.parents = parents;\n            that.path = path;\n            that.dependencies = {};\n            that.dependencies[path] = true;\n            that.observable = that.source instanceof Observable;\n\n            that._access = function(e) {\n                that.dependencies[e.field] = true;\n            };\n\n            if (that.observable) {\n                that._change = function(e) {\n                    that.change(e);\n                };\n\n                that.source.bind(CHANGE, that._change);\n            }\n        },\n\n        _parents: function() {\n            var parents = this.parents;\n            var value = this.get();\n\n            if (value && typeof value.parent == \"function\") {\n                var parent = value.parent();\n\n                if ($.inArray(parent, parents) < 0) {\n                    parents = [parent].concat(parents);\n                }\n            }\n\n            return parents;\n        },\n\n        change: function(e) {\n            var dependency,\n                ch,\n                field = e.field,\n                that = this;\n\n            if (that.path === \"this\") {\n                that.trigger(CHANGE, e);\n            } else {\n                for (dependency in that.dependencies) {\n                    if (dependency.indexOf(field) === 0) {\n                       ch = dependency.charAt(field.length);\n\n                       if (!ch || ch === \".\" || ch === \"[\") {\n                            that.trigger(CHANGE, e);\n                            break;\n                       }\n                    }\n                }\n            }\n        },\n\n        start: function(source) {\n            source.bind(\"get\", this._access);\n        },\n\n        stop: function(source) {\n            source.unbind(\"get\", this._access);\n        },\n\n        get: function() {\n\n            var that = this,\n                source = that.source,\n                index = 0,\n                path = that.path,\n                result = source;\n\n            if (!that.observable) {\n                return result;\n            }\n\n            that.start(that.source);\n\n            result = source.get(path);\n\n            // Traverse the observable hierarchy if the binding is not resolved at the current level.\n            while (result === undefined && source) {\n\n                source = that.parents[++index];\n\n                if (source instanceof ObservableObject) {\n                    result = source.get(path);\n                }\n            }\n\n            // second pass try to get the parent from the object hierarchy\n            if (result === undefined) {\n                source = that.source; //get the initial source\n\n                while (result === undefined && source) {\n                    source = source.parent();\n\n                    if (source instanceof ObservableObject) {\n                        result = source.get(path);\n                    }\n                }\n            }\n\n            // If the result is a function - invoke it\n            if (typeof result === \"function\") {\n                index = path.lastIndexOf(\".\");\n\n                // If the function is a member of a nested observable object make that nested observable the context (this) of the function\n                if (index > 0) {\n                    source = source.get(path.substring(0, index));\n                }\n\n                // Invoke the function\n                that.start(source);\n\n                if (source !== that.source) {\n                    result = result.call(source, that.source);\n                } else {\n                    result = result.call(source);\n                }\n\n                that.stop(source);\n            }\n\n            // If the binding is resolved by a parent object\n            if (source && source !== that.source) {\n\n                that.currentSource = source; // save parent object\n\n                // Listen for changes in the parent object\n                source.unbind(CHANGE, that._change)\n                      .bind(CHANGE, that._change);\n            }\n\n            that.stop(that.source);\n\n            return result;\n        },\n\n        set: function(value) {\n            var source = this.currentSource || this.source;\n\n            var field = kendo.getter(this.path)(source);\n\n            if (typeof field === \"function\") {\n                if (source !== this.source) {\n                    field.call(source, this.source, value);\n                } else {\n                    field.call(source, value);\n                }\n            } else {\n                source.set(this.path, value);\n            }\n        },\n\n        destroy: function() {\n            if (this.observable) {\n                this.source.unbind(CHANGE, this._change);\n                if (this.currentSource) {\n                    this.currentSource.unbind(CHANGE, this._change);\n                }\n            }\n\n            this.unbind();\n        }\n    });\n\n    var EventBinding = Binding.extend( {\n        get: function() {\n            var source = this.source,\n                path = this.path,\n                index = 0,\n                handler;\n\n            handler = source.get(path);\n\n            while (!handler && source) {\n                source = this.parents[++index];\n\n                if (source instanceof ObservableObject) {\n                    handler = source.get(path);\n                }\n            }\n\n            if (!handler) {\n                return;\n            }\n\n            return handler.bind(source);\n        }\n    });\n\n    var TemplateBinding = Binding.extend( {\n        init: function(source, path, template) {\n            var that = this;\n\n            Binding.fn.init.call(that, source, path);\n\n            that.template = template;\n        },\n\n        render: function(value) {\n            var html;\n\n            this.start(this.source);\n\n            html = kendo.render(this.template, value);\n\n            this.stop(this.source);\n\n            return html;\n        }\n    });\n\n    var Binder = Class.extend({\n        init: function(element, bindings, options) {\n            this.element = element;\n            this.bindings = bindings;\n            this.options = options;\n        },\n\n        bind: function(binding, attribute) {\n            var that = this;\n\n            binding = attribute ? binding[attribute] : binding;\n\n            binding.bind(CHANGE, function(e) {\n                that.refresh(attribute || e);\n            });\n\n            that.refresh(attribute);\n        },\n\n        destroy: function() {\n        }\n    });\n\n    var TypedBinder = Binder.extend({\n        dataType: function() {\n            var dataType = this.element.getAttribute(\"data-\" + kendo.ns + \"type\") || this.element.type || \"text\";\n            return dataType.toLowerCase();\n        },\n\n        parsedValue: function() {\n            return this._parseValue(this.element.value, this.dataType());\n        },\n\n        _parseValue: function(value, dataType) {\n            if (dataType == \"date\") {\n                value = kendo.parseDate(value, \"yyyy-MM-dd\");\n            } else if (dataType == \"datetime-local\") {\n                value = kendo.parseDate(value, [\"yyyy-MM-ddTHH:mm:ss\", \"yyyy-MM-ddTHH:mm\"] );\n            } else if (dataType == \"number\") {\n                value = kendo.parseFloat(value);\n            } else if (dataType == \"boolean\") {\n                value = value.toLowerCase();\n                if (kendo.parseFloat(value) !== null) {\n                    value = Boolean(kendo.parseFloat(value));\n                } else {\n                    value = (value.toLowerCase() === \"true\");\n                }\n            }\n            return value;\n        }\n    });\n\n    binders.attr = Binder.extend({\n        refresh: function(key) {\n            this.element.setAttribute(key, this.bindings.attr[key].get());\n        }\n    });\n\n    binders.css = Binder.extend({\n        init: function(element, bindings, options) {\n            Binder.fn.init.call(this, element, bindings, options);\n            this.classes = {};\n        },\n        refresh: function(className) {\n            var element = $(this.element),\n                binding = this.bindings.css[className],\n                hasClass = this.classes[className] = binding.get();\n            if (hasClass) {\n                element.addClass(className);\n            } else {\n                element.removeClass(className);\n            }\n        }\n    });\n\n    binders.style = Binder.extend({\n        refresh: function(key) {\n            this.element.style[key] = this.bindings.style[key].get() || \"\";\n        }\n    });\n\n    binders.enabled = Binder.extend({\n        refresh: function() {\n            if (this.bindings.enabled.get()) {\n                this.element.removeAttribute(\"disabled\");\n            } else {\n                this.element.setAttribute(\"disabled\", \"disabled\");\n            }\n        }\n    });\n\n    binders.readonly = Binder.extend({\n       refresh: function() {\n            if (this.bindings.readonly.get()) {\n                this.element.setAttribute(\"readonly\", \"readonly\");\n            } else {\n                this.element.removeAttribute(\"readonly\");\n            }\n       }\n    });\n\n    binders.disabled = Binder.extend({\n        refresh: function() {\n            if (this.bindings.disabled.get()) {\n                this.element.setAttribute(\"disabled\", \"disabled\");\n            } else {\n                this.element.removeAttribute(\"disabled\");\n            }\n        }\n    });\n\n    binders.events = Binder.extend({\n        init: function(element, bindings, options) {\n            Binder.fn.init.call(this, element, bindings, options);\n            this.handlers = {};\n        },\n\n        refresh: function(key) {\n            var element = $(this.element),\n                binding = this.bindings.events[key],\n                handler = this.handlers[key];\n\n            if (handler) {\n                element.off(key, handler);\n            }\n\n            handler = this.handlers[key] = binding.get();\n\n            element.on(key, binding.source, handler);\n        },\n\n        destroy: function() {\n            var element = $(this.element),\n                handler;\n\n            for (handler in this.handlers) {\n                element.off(handler, this.handlers[handler]);\n            }\n        }\n    });\n\n    binders.text = Binder.extend({\n        refresh: function() {\n            var text = this.bindings.text.get();\n            var dataFormat = this.element.getAttribute(\"data-\" + kendo.ns + \"format\") || \"\";\n            if (text == null) {\n                text = \"\";\n            }\n\n            $(this.element).text(kendo.toString(text, dataFormat));\n        }\n    });\n\n    binders.visible = Binder.extend({\n        refresh: function() {\n            if (this.bindings.visible.get()) {\n                this.element.style.display = \"\";\n            } else {\n                this.element.style.display = \"none\";\n            }\n        }\n    });\n\n    binders.invisible = Binder.extend({\n        refresh: function() {\n            if (!this.bindings.invisible.get()) {\n                this.element.style.display = \"\";\n            } else {\n                this.element.style.display = \"none\";\n            }\n        }\n  });\n\n    binders.html = Binder.extend({\n        refresh: function() {\n            this.element.innerHTML = this.bindings.html.get();\n        }\n    });\n\n    binders.value = TypedBinder.extend({\n        init: function(element, bindings, options) {\n            TypedBinder.fn.init.call(this, element, bindings, options);\n\n            this._change = this.change.bind(this);\n            this.eventName = options.valueUpdate || CHANGE;\n\n            $(this.element).on(this.eventName, this._change);\n\n            this._initChange = false;\n        },\n\n        change: function() {\n            this._initChange = this.eventName != CHANGE;\n\n            this.bindings[VALUE].set(this.parsedValue());\n\n            this._initChange = false;\n        },\n\n        refresh: function() {\n            if (!this._initChange) {\n                var value = this.bindings[VALUE].get();\n\n                if (value == null) {\n                    value = \"\";\n                }\n\n                var type = this.dataType();\n\n                if (type == \"date\") {\n                    value = kendo.toString(value, \"yyyy-MM-dd\");\n                } else if (type == \"datetime-local\") {\n                    value = kendo.toString(value, \"yyyy-MM-ddTHH:mm:ss\");\n                }\n\n                this.element.value = value;\n            }\n\n            this._initChange = false;\n        },\n\n        destroy: function() {\n            $(this.element).off(this.eventName, this._change);\n        }\n    });\n\n    binders.source = Binder.extend({\n        init: function(element, bindings, options) {\n            Binder.fn.init.call(this, element, bindings, options);\n\n            var source = this.bindings.source.get();\n\n            if (source instanceof kendo.data.DataSource && options.autoBind !== false) {\n                source.fetch();\n            }\n        },\n\n        refresh: function(e) {\n            var that = this,\n                source = that.bindings.source.get();\n\n            if (source instanceof ObservableArray || source instanceof kendo.data.DataSource) {\n                e = e || {};\n\n                if (e.action == \"add\") {\n                    that.add(e.index, e.items);\n                } else if (e.action == \"remove\") {\n                    that.remove(e.index, e.items);\n                } else if (e.action != \"itemchange\") {\n                    that.render();\n                }\n            } else {\n                that.render();\n            }\n        },\n\n        container: function() {\n            var element = this.element;\n\n            if (element.nodeName.toLowerCase() == \"table\") {\n                if (!element.tBodies[0]) {\n                    element.appendChild(document.createElement(\"tbody\"));\n                }\n                element = element.tBodies[0];\n            }\n\n            return element;\n        },\n\n        template: function() {\n            var options = this.options,\n                template = options.template,\n                nodeName = this.container().nodeName.toLowerCase();\n\n            if (!template) {\n                if (nodeName == \"select\") {\n                    if (options.valueField || options.textField) {\n                        template = kendo.format('<option value=\"#:{0}#\">#:{1}#</option>',\n                            options.valueField || options.textField, options.textField || options.valueField);\n                    } else {\n                        template = \"<option>#:data#</option>\";\n                    }\n                } else if (nodeName == \"tbody\") {\n                    template = \"<tr><td>#:data#</td></tr>\";\n                } else if (nodeName == \"ul\" || nodeName == \"ol\") {\n                    template = \"<li>#:data#</li>\";\n                } else {\n                    template = \"#:data#\";\n                }\n                template = kendo.template(template);\n            }\n\n            return template;\n        },\n\n        add: function(index, items) {\n            var element = this.container(),\n                parents,\n                idx,\n                length,\n                child,\n                clone = element.cloneNode(false),\n                reference = element.children[index];\n\n            $(clone).html(kendo.render(this.template(), items));\n\n            if (clone.children.length) {\n                parents = this.bindings.source._parents();\n\n                for (idx = 0, length = items.length; idx < length; idx++) {\n                    child = clone.children[0];\n                    element.insertBefore(child, reference || null);\n                    bindElement(child, items[idx], this.options.roles, [items[idx]].concat(parents));\n                }\n            }\n        },\n\n        remove: function(index, items) {\n            var idx, element = this.container();\n\n            for (idx = 0; idx < items.length; idx++) {\n                var child = element.children[index];\n                unbindElementTree(child, true);\n                if (child.parentNode == element) {\n                    element.removeChild(child);\n                }\n            }\n        },\n\n        render: function() {\n            var source = this.bindings.source.get(),\n                parents,\n                idx,\n                length,\n                element = this.container(),\n                template = this.template();\n\n            if (source == null) {\n                return;\n            }\n\n            if (source instanceof kendo.data.DataSource) {\n                source = source.view();\n            }\n\n            if (!(source instanceof ObservableArray) && toString.call(source) !== \"[object Array]\") {\n                source = [source];\n            }\n\n            if (this.bindings.template) {\n                unbindElementChildren(element, true);\n\n                $(element).html(this.bindings.template.render(source));\n\n                if (element.children.length) {\n                    parents = this.bindings.source._parents();\n\n                    for (idx = 0, length = source.length; idx < length; idx++) {\n                        bindElement(element.children[idx], source[idx], this.options.roles, [source[idx]].concat(parents));\n                    }\n                }\n            } else {\n                $(element).html(kendo.render(template, source));\n            }\n        }\n    });\n\n    binders.input = {\n        checked: TypedBinder.extend({\n            init: function(element, bindings, options) {\n                TypedBinder.fn.init.call(this, element, bindings, options);\n                this._change = this.change.bind(this);\n\n                $(this.element).change(this._change);\n            },\n\n            change: function() {\n                var element = this.element;\n                var value = this.value();\n\n                if (element.type == \"radio\") {\n                    value = this.parsedValue();\n                    this.bindings[CHECKED].set(value);\n                } else if (element.type == \"checkbox\") {\n                    var source = this.bindings[CHECKED].get();\n                    var index;\n\n                    if (source instanceof ObservableArray) {\n                        value = this.parsedValue();\n                        if (value instanceof Date) {\n                            for (var i = 0; i < source.length; i++) {\n                                if (source[i] instanceof Date && +source[i] === +value) {\n                                    index = i;\n                                    break;\n                                }\n                            }\n                        } else {\n                            index = source.indexOf(value);\n                        }\n                        if (index > -1) {\n                            source.splice(index, 1);\n                        } else {\n                            source.push(value);\n                        }\n                    } else {\n                        this.bindings[CHECKED].set(value);\n                    }\n                }\n            },\n\n            refresh: function() {\n                var value = this.bindings[CHECKED].get(),\n                    source = value,\n                    type = this.dataType(),\n                    element = this.element;\n\n                if (element.type == \"checkbox\") {\n                    if (source instanceof ObservableArray) {\n                        var index = -1;\n                        value = this.parsedValue();\n                        if (value instanceof Date) {\n                            for (var i = 0; i < source.length; i++) {\n                                if (source[i] instanceof Date && +source[i] === +value) {\n                                    index = i;\n                                    break;\n                                }\n                            }\n                        } else {\n                            index = source.indexOf(value);\n                        }\n                        element.checked = (index >= 0);\n                    } else {\n                        element.checked = source;\n                    }\n                } else if (element.type == \"radio\") {\n                    if (type == \"date\") {\n                        value = kendo.toString(value, \"yyyy-MM-dd\");\n                    } else if (type == \"datetime-local\") {\n                        value = kendo.toString(value, \"yyyy-MM-ddTHH:mm:ss\");\n                    }\n\n                    if (value !== null && typeof(value) !== \"undefined\" && element.value === value.toString()) {\n                        element.checked = true;\n                    } else {\n                        element.checked = false;\n                    }\n                }\n            },\n\n            value: function() {\n                var element = this.element,\n                    value = element.value;\n\n                if (element.type == \"checkbox\") {\n                    value = element.checked;\n                }\n\n                return value;\n            },\n            destroy: function() {\n                $(this.element).off(CHANGE, this._change);\n            }\n        })\n    };\n\n    binders.select = {\n        source: binders.source.extend({\n            refresh: function(e) {\n                var that = this,\n                    source = that.bindings.source.get();\n\n                if (source instanceof ObservableArray || source instanceof kendo.data.DataSource) {\n                    e = e || {};\n                    if (e.action == \"add\") {\n                        that.add(e.index, e.items);\n                    } else if (e.action == \"remove\") {\n                        that.remove(e.index, e.items);\n                    } else if (e.action == \"itemchange\" || e.action === undefined) {\n                        that.render();\n                        if (that.bindings.value) {\n                            if (that.bindings.value) {\n                                var val = retrievePrimitiveValues(that.bindings.value.get(), $(that.element).data(\"valueField\"));\n                                if (val === null) {\n                                    that.element.selectedIndex = -1;\n                                } else {\n                                    that.element.value = val;\n                                }\n                            }\n                        }\n                    }\n                } else {\n                    that.render();\n                }\n            }\n        }),\n        value: TypedBinder.extend({\n            init: function(target, bindings, options) {\n                TypedBinder.fn.init.call(this, target, bindings, options);\n\n                this._change = this.change.bind(this);\n                $(this.element).change(this._change);\n            },\n\n            parsedValue: function() {\n                var dataType = this.dataType();\n                var values = [];\n                var value, option, idx, length;\n                for (idx = 0, length = this.element.options.length; idx < length; idx++) {\n                    option = this.element.options[idx];\n\n                    if (option.selected) {\n                        value = option.attributes.value;\n\n                        if (value && value.specified) {\n                            value = option.value;\n                        } else {\n                            value = option.text;\n                        }\n\n                        values.push(this._parseValue(value, dataType));\n                    }\n                }\n                return values;\n            },\n\n            change: function() {\n                var values = [],\n                    element = this.element,\n                    source,\n                    field = this.options.valueField || this.options.textField,\n                    valuePrimitive = this.options.valuePrimitive,\n                    option,\n                    valueIndex,\n                    value,\n                    idx,\n                    length;\n\n                for (idx = 0, length = element.options.length; idx < length; idx++) {\n                    option = element.options[idx];\n\n                    if (option.selected) {\n                        value = option.attributes.value;\n\n                        if (value && value.specified) {\n                            value = option.value;\n                        } else {\n                            value = option.text;\n                        }\n\n                        if (field) {\n                            values.push(value);\n                        } else {\n                            values.push(this._parseValue(value, this.dataType()));\n                        }\n\n                    }\n                }\n\n                if (field) {\n                    source = this.bindings.source.get();\n                    if (source instanceof kendo.data.DataSource) {\n                        source = source.view();\n                    }\n\n                    for (valueIndex = 0; valueIndex < values.length; valueIndex++) {\n                        for (idx = 0, length = source.length; idx < length; idx++) {\n                            var sourceValue = source[idx].get(field);\n                            var match = (String(sourceValue) === values[valueIndex]);\n                            if (match) {\n                                values[valueIndex] = source[idx];\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                value = this.bindings[VALUE].get();\n                if (value instanceof ObservableArray) {\n                    value.splice.apply(value, [0, value.length].concat(values));\n                } else if (!valuePrimitive && (value instanceof ObservableObject || value === null || value === undefined || !field)) {\n                    this.bindings[VALUE].set(values[0]);\n                } else {\n                    this.bindings[VALUE].set(values[0].get(field));\n                }\n            },\n            refresh: function() {\n                var optionIndex,\n                    element = this.element,\n                    options = element.options,\n                    value = this.bindings[VALUE].get(),\n                    values = value,\n                    field = this.options.valueField || this.options.textField,\n                    found = false,\n                    type = this.dataType(),\n                    optionValue;\n\n                if (!(values instanceof ObservableArray)) {\n                    values = new ObservableArray([value]);\n                }\n\n                element.selectedIndex = -1;\n\n                for (var valueIndex = 0; valueIndex < values.length; valueIndex++) {\n                    value = values[valueIndex];\n\n\n                    if (field && value instanceof ObservableObject) {\n                        value = value.get(field);\n                    }\n\n                    if (type == \"date\") {\n                        value = kendo.toString(values[valueIndex], \"yyyy-MM-dd\");\n                    } else if (type == \"datetime-local\") {\n                        value = kendo.toString(values[valueIndex], \"yyyy-MM-ddTHH:mm:ss\");\n                    }\n\n                    for (optionIndex = 0; optionIndex < options.length; optionIndex++) {\n                        optionValue = options[optionIndex].value;\n\n                        if (optionValue === \"\" && value !== \"\") {\n                            optionValue = options[optionIndex].text;\n                        }\n\n                        if (value != null && optionValue == value.toString()) {\n                            options[optionIndex].selected = true;\n                            found = true;\n                        }\n                    }\n                }\n            },\n            destroy: function() {\n                $(this.element).off(CHANGE, this._change);\n            }\n        })\n    };\n\n    function dataSourceBinding(bindingName, fieldName, setter) {\n        return Binder.extend({\n            init: function(widget, bindings, options) {\n                var that = this;\n\n                Binder.fn.init.call(that, widget.element[0], bindings, options);\n\n                that.widget = widget;\n                that._dataBinding = that.dataBinding.bind(that);\n                that._dataBound = that.dataBound.bind(that);\n                that._itemChange = that.itemChange.bind(that);\n            },\n\n            itemChange: function(e) {\n                bindElement(e.item[0], e.data, this._ns(e.ns), [e.data].concat(this.bindings[bindingName]._parents()));\n            },\n\n            dataBinding: function(e) {\n                var idx,\n                    length,\n                    widget = this.widget,\n                    items = e.removedItems || widget.items();\n\n                for (idx = 0, length = items.length; idx < length; idx++) {\n                    unbindElementTree(items[idx], false);\n                }\n            },\n\n            _ns: function(ns) {\n                ns = ns || kendo.ui;\n                var all = [ kendo.ui, kendo.dataviz.ui, kendo.mobile.ui ];\n                all.splice($.inArray(ns, all), 1);\n                all.unshift(ns);\n\n                return kendo.rolesFromNamespaces(all);\n            },\n\n            dataBound: function(e) {\n                var idx,\n                    length,\n                    widget = this.widget,\n                    items = e.addedItems || widget.items(),\n                    dataSource = widget[fieldName],\n                    view,\n                    parents,\n                    hds = kendo.data.HierarchicalDataSource;\n\n                if (hds && dataSource instanceof hds) {\n                    // suppress binding of HDS items, because calling view() on root\n                    // will return only root items, and widget.items() returns all items\n                    return;\n                }\n\n                if (items.length) {\n                    view = e.addedDataItems || dataSource.flatView();\n                    parents = this.bindings[bindingName]._parents();\n\n                    for (idx = 0, length = view.length; idx < length; idx++) {\n                        if (items[idx]) {\n                            bindElement(items[idx], view[idx], this._ns(e.ns), [view[idx]].concat(parents));\n                        }\n                    }\n                }\n            },\n\n            refresh: function(e) {\n                var that = this,\n                    source,\n                    widget = that.widget,\n                    select, multiselect, dropdowntree;\n\n                e = e || {};\n\n                if (!e.action) {\n                    that.destroy();\n\n                    widget.bind(\"dataBinding\", that._dataBinding);\n                    widget.bind(\"dataBound\", that._dataBound);\n                    widget.bind(\"itemChange\", that._itemChange);\n\n                    source = that.bindings[bindingName].get();\n\n                    if (widget[fieldName] instanceof kendo.data.DataSource && widget[fieldName] != source) {\n                        if (source instanceof kendo.data.DataSource) {\n                            widget[setter](source);\n                        } else if (source && source._dataSource) {\n                            widget[setter](source._dataSource);\n                        } else {\n                            select = kendo.ui.Select && widget instanceof kendo.ui.Select;\n                            multiselect = kendo.ui.MultiSelect && widget instanceof kendo.ui.MultiSelect;\n                            dropdowntree = kendo.ui.DropDownTree && widget instanceof kendo.ui.DropDownTree;\n\n                            if (!dropdowntree) {\n                                widget[fieldName].data(source);\n                            } else {\n                                widget.treeview[fieldName].data(source);\n                            }\n\n                            if (that.bindings.value && (select || multiselect)) {\n                                widget.value(retrievePrimitiveValues(that.bindings.value.get(), widget.options.dataValueField));\n                            }\n                        }\n                    }\n                }\n            },\n\n            destroy: function() {\n                var widget = this.widget;\n\n                widget.unbind(\"dataBinding\", this._dataBinding);\n                widget.unbind(\"dataBound\", this._dataBound);\n                widget.unbind(\"itemChange\", this._itemChange);\n            }\n        });\n    }\n\n    binders.widget = {\n        events: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n                this.widget = widget;\n                this.handlers = {};\n            },\n\n            refresh: function(key) {\n                var binding = this.bindings.events[key],\n                    handler = this.handlers[key];\n\n                if (handler) {\n                    this.widget.unbind(key, handler);\n                }\n\n                handler = binding.get();\n\n                this.handlers[key] = function(e) {\n                    e.data = binding.source;\n\n                    handler(e);\n\n                    if (e.data === binding.source) {\n                        delete e.data;\n                    }\n                };\n\n                this.widget.bind(key, this.handlers[key]);\n            },\n\n            destroy: function() {\n                var handler;\n\n                for (handler in this.handlers) {\n                    this.widget.unbind(handler, this.handlers[handler]);\n                }\n            }\n        }),\n\n        checked: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n                this._change = this.change.bind(this);\n                this.widget.bind(CHANGE, this._change);\n            },\n            change: function() {\n                this.bindings[CHECKED].set(this.value());\n            },\n\n            refresh: function() {\n                if (this.element.type === \"radio\") {\n                    this.widget.check(this.bindings[CHECKED].get().toString() === this.value());\n                } else {\n                    this.widget.check(this.bindings[CHECKED].get() === true);\n                }\n            },\n\n            value: function() {\n                var element = this.element,\n                    value = element.value;\n\n                if (value == \"on\" || value == \"off\" || this.element.type == \"checkbox\") {\n                    value = element.checked;\n                }\n\n                return value;\n            },\n\n            destroy: function() {\n                this.widget.unbind(CHANGE, this._change);\n            }\n        }),\n\n        start: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n                this._change = this.change.bind(this);\n                this.widget = widget;\n                this.widget.bind(CHANGE, this._change);\n            },\n\n            change: function() {\n                this.bindings.start.set(this.widget.range().start);\n            },\n\n            refresh: function() {\n                var that = this;\n                var start = this.bindings.start.get();\n                var end = that.widget._range ? that.widget._range.end : null;\n                this.widget.range({ start: start, end: end });\n            },\n\n            destroy: function() {\n                this.widget.unbind(CHANGE, this._change);\n            }\n        }),\n\n        end: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n                this._change = this.change.bind(this);\n                this.widget = widget;\n                this.widget.bind(CHANGE, this._change);\n            },\n\n            change: function() {\n                this.bindings.end.set(this.widget.range().end);\n            },\n\n            refresh: function() {\n                var that = this;\n                var end = this.bindings.end.get();\n                var start = that.widget._range ? that.widget._range.start : null;\n                this.widget.range({ start: start, end: end });\n            },\n\n            destroy: function() {\n                this.widget.unbind(CHANGE, this._change);\n            }\n        }),\n\n        visible: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n            },\n\n            refresh: function() {\n                var visible = this.bindings.visible.get();\n                this.widget.wrapper[0].style.display = visible ? \"\" : \"none\";\n            }\n        }),\n\n        invisible: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n            },\n\n            refresh: function() {\n                var invisible = this.bindings.invisible.get();\n                this.widget.wrapper[0].style.display = invisible ? \"none\" : \"\";\n            }\n        }),\n\n        floatingLabel: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                if (!widget.floatingLabel) {\n                    return;\n                }\n\n                widget.floatingLabel.refresh();\n            }\n        }),\n\n        enabled: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n            },\n\n            refresh: function() {\n                if (this.widget.enable) {\n                    this.widget.enable(this.bindings.enabled.get());\n                }\n            }\n        }),\n\n        disabled: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n            },\n\n            refresh: function() {\n                if (this.widget.enable) {\n                    this.widget.enable(!this.bindings.disabled.get());\n                }\n            }\n        }),\n\n        source: dataSourceBinding(\"source\", \"dataSource\", \"setDataSource\"),\n\n        value: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n                this._change = this.change.bind(this);\n                this.widget.first(CHANGE, this._change);\n\n                var value = this.bindings.value.get();\n\n                this._valueIsObservableObject = !options.valuePrimitive && (value == null || value instanceof ObservableObject);\n                this._valueIsObservableArray = value instanceof ObservableArray;\n                this._initChange = false;\n            },\n\n            _source: function() {\n                var source;\n\n                if (this.widget.dataItem) {\n                    source = this.widget.dataItem();\n                    if (source && source instanceof ObservableObject) {\n                        return [source];\n                    }\n                }\n\n                if (this.bindings.source) {\n                    source = this.bindings.source.get();\n                }\n\n                if (!source || source instanceof kendo.data.DataSource) {\n                    source = this.widget.dataSource.flatView();\n                }\n\n                return source;\n            },\n\n            change: function() {\n                var value = this.widget.value(),\n                    field = this.options.dataValueField || this.options.dataTextField,\n                    isArray = toString.call(value) === \"[object Array]\",\n                    isObservableObject = this._valueIsObservableObject,\n                    valueIndex, valueLength, values = [],\n                    sourceItem, sourceValue,\n                    idx, length, source;\n\n                this._initChange = true;\n\n                if (field) {\n\n                    if (value === \"\" && (isObservableObject || this.options.valuePrimitive)) {\n                        value = null;\n                    } else {\n                        source = this._source();\n\n                        if (isArray) {\n                            valueLength = value.length;\n                            values = value.slice(0);\n                        }\n\n                        for (idx = 0, length = source.length; idx < length; idx++) {\n                            sourceItem = source[idx];\n                            sourceValue = sourceItem.get(field);\n\n                            if (isArray) {\n                                for (valueIndex = 0; valueIndex < valueLength; valueIndex++) {\n                                    if (sourceValue == values[valueIndex]) {\n                                        values[valueIndex] = sourceItem;\n                                        break;\n                                    }\n                                }\n                            } else if (sourceValue == value) {\n                                value = isObservableObject ? sourceItem : sourceValue;\n                                break;\n                            }\n                        }\n\n                        if (values[0]) {\n                            if (this._valueIsObservableArray) {\n                                value = values;\n                            } else if (isObservableObject || !field) {\n                                value = values[0];\n                            } else {\n                                value = values[0].get(field);\n                            }\n                        }\n                    }\n                }\n\n                this.bindings.value.set(value);\n                this._initChange = false;\n            },\n\n            refresh: function() {\n                if (!this._initChange) {\n                    var widget = this.widget;\n                    var options = widget.options;\n                    var textField = options.dataTextField;\n                    var valueField = options.dataValueField || textField;\n                    var value = this.bindings.value.get();\n                    var text = options.text || \"\";\n                    var idx = 0, length;\n                    var values = [];\n\n                    if (value === undefined) {\n                        value = null;\n                    }\n\n                    if (valueField) {\n                        if (value instanceof ObservableArray) {\n                            for (length = value.length; idx < length; idx++) {\n                                values[idx] = value[idx].get(valueField);\n                            }\n                            value = values;\n                        } else if (value instanceof ObservableObject) {\n                            text = value.get(textField);\n                            value = value.get(valueField);\n                        }\n                    }\n\n                    if (options.autoBind === false && !options.cascadeFrom && widget.listView && !widget.listView.bound()) {\n                        if (textField === valueField && !text) {\n                            text = value;\n                        }\n\n                        if (!text && (value || value === 0) && options.valuePrimitive) {\n                            widget.value(value);\n                        } else {\n                            widget._preselect(value, text);\n                        }\n                    } else {\n                        widget.value(value);\n                    }\n                }\n\n                this._initChange = false;\n            },\n\n            destroy: function() {\n                this.widget.unbind(CHANGE, this._change);\n            }\n        }),\n        dropdowntree: {\n            value: Binder.extend({\n                init: function(widget, bindings, options) {\n                    Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                    this.widget = widget;\n                    this._change = this.change.bind(this);\n                    this.widget.first(CHANGE, this._change);\n                    this._initChange = false;\n                },\n\n                change: function() {\n                    var that = this,\n                        oldValues = that.bindings[VALUE].get(),\n                        valuePrimitive = that.options.valuePrimitive,\n                        selectedNode = that.widget.treeview.select(),\n                        nonPrimitiveValues = that.widget._isMultipleSelection() ? that.widget._getAllChecked() : (that.widget.treeview.dataItem(selectedNode) || that.widget.value()),\n                        newValues = (valuePrimitive || that.widget.options.autoBind === false) ? that.widget.value() : nonPrimitiveValues;\n\n                    var field = this.options.dataValueField || this.options.dataTextField;\n\n                    newValues = newValues.slice ? newValues.slice(0) : newValues;\n\n                    that._initChange = true;\n\n                    if (oldValues instanceof ObservableArray) {\n                        var remove = [];\n                        var newLength = newValues.length;\n                        var i = 0, j = 0;\n                        var old = oldValues[i];\n                        var same = false;\n                        var removeIndex;\n                        var newValue;\n                        var found;\n\n                        while (old !== undefined) {\n                            found = false;\n                            for (j = 0; j < newLength; j++) {\n                                if (valuePrimitive) {\n                                    same = newValues[j] == old;\n                                } else {\n                                    newValue = newValues[j];\n\n                                    newValue = newValue.get ? newValue.get(field) : newValue;\n                                    same = newValue == (old.get ? old.get(field) : old);\n                                }\n\n                                if (same) {\n                                    newValues.splice(j, 1);\n                                    newLength -= 1;\n                                    found = true;\n                                    break;\n                                }\n                            }\n\n                            if (!found) {\n                                remove.push(old);\n                                arraySplice(oldValues, i, 1);\n                                removeIndex = i;\n                            } else {\n                                i += 1;\n                            }\n\n                            old = oldValues[i];\n                        }\n\n                        arraySplice(oldValues, oldValues.length, 0, newValues);\n\n                        if (remove.length) {\n                            oldValues.trigger(\"change\", {\n                                action: \"remove\",\n                                items: remove,\n                                index: removeIndex\n                            });\n                        }\n\n                        if (newValues.length) {\n                            oldValues.trigger(\"change\", {\n                                action: \"add\",\n                                items: newValues,\n                                index: oldValues.length - 1\n                            });\n                        }\n                    } else {\n                        that.bindings[VALUE].set(newValues);\n                    }\n\n                    that._initChange = false;\n                },\n\n                refresh: function() {\n                    if (!this._initChange) {\n                        var options = this.options,\n                            widget = this.widget,\n                            field = options.dataValueField || options.dataTextField,\n                            value = this.bindings.value.get(),\n                            data = value,\n                            idx = 0, length,\n                            values = [],\n                            selectedValue;\n\n                        if (field) {\n                            if (value instanceof ObservableArray) {\n                                for (length = value.length; idx < length; idx++) {\n                                    selectedValue = value[idx];\n                                    values[idx] = selectedValue.get ? selectedValue.get(field) : selectedValue;\n                                }\n                                value = values;\n                            } else if (value instanceof ObservableObject) {\n                                value = value.get(field);\n                            }\n                        }\n                        if (options.autoBind === false && options.valuePrimitive !== true) {\n                            widget._preselect(data, value);\n                        } else {\n                            widget.value(value);\n                        }\n                   }\n                },\n\n                destroy: function() {\n                    this.widget.unbind(CHANGE, this._change);\n                }\n            })\n        },\n        gantt: {\n            dependencies: dataSourceBinding(\"dependencies\", \"dependencies\", \"setDependenciesDataSource\")\n        },\n\n        multiselect: {\n            value: Binder.extend({\n                init: function(widget, bindings, options) {\n                    Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                    this.widget = widget;\n                    this._change = this.change.bind(this);\n                    this.widget.first(CHANGE, this._change);\n                    this._initChange = false;\n                },\n\n                change: function() {\n                    var that = this,\n                        oldValues = that.bindings[VALUE].get(),\n                        valuePrimitive = that.options.valuePrimitive,\n                        newValues = valuePrimitive ? that.widget.value() : that.widget.dataItems();\n\n                    var field = this.options.dataValueField || this.options.dataTextField;\n\n                    newValues = newValues.slice(0);\n\n                    that._initChange = true;\n\n                    if (oldValues instanceof ObservableArray) {\n                        var remove = [];\n\n                        var newLength = newValues.length;\n\n                        var i = 0, j = 0;\n                        var old = oldValues[i];\n                        var same = false;\n                        var removeIndex;\n                        var newValue;\n                        var found;\n\n                        while (old !== undefined) {\n                            found = false;\n                            for (j = 0; j < newLength; j++) {\n                                if (valuePrimitive) {\n                                    same = newValues[j] == old;\n                                } else {\n                                    newValue = newValues[j];\n\n                                    newValue = newValue.get ? newValue.get(field) : newValue;\n                                    same = newValue == (old.get ? old.get(field) : old);\n                                }\n\n                                if (same) {\n                                    newValues.splice(j, 1);\n                                    newLength -= 1;\n                                    found = true;\n                                    break;\n                                }\n                            }\n\n                            if (!found) {\n                                remove.push(old);\n                                arraySplice(oldValues, i, 1);\n                                removeIndex = i;\n                            } else {\n                                i += 1;\n                            }\n\n                            old = oldValues[i];\n                        }\n\n                        arraySplice(oldValues, oldValues.length, 0, newValues);\n\n                        if (remove.length) {\n                            oldValues.trigger(\"change\", {\n                                action: \"remove\",\n                                items: remove,\n                                index: removeIndex\n                            });\n                        }\n\n                        if (newValues.length) {\n                            oldValues.trigger(\"change\", {\n                                action: \"add\",\n                                items: newValues,\n                                index: oldValues.length - 1\n                            });\n                        }\n                    } else {\n                        that.bindings[VALUE].set(newValues);\n                    }\n\n                    that._initChange = false;\n                },\n\n                refresh: function() {\n                    if (!this._initChange) {\n                        var options = this.options,\n                            widget = this.widget,\n                            field = options.dataValueField || options.dataTextField,\n                            value = this.bindings.value.get(),\n                            data = value,\n                            idx = 0, length,\n                            values = [],\n                            selectedValue;\n\n                        if (value === undefined) {\n                            value = null;\n                        }\n\n                        if (field) {\n                            if (value instanceof ObservableArray) {\n                                for (length = value.length; idx < length; idx++) {\n                                    selectedValue = value[idx];\n                                    values[idx] = selectedValue.get ? selectedValue.get(field) : selectedValue;\n                                }\n                                value = values;\n                            } else if (value instanceof ObservableObject) {\n                                value = value.get(field);\n                            }\n                        }\n\n                        if (options.autoBind === false && options.valuePrimitive !== true && !widget._isBound()) {\n                            widget._preselect(data, value);\n                        } else {\n                            widget.value(value);\n                        }\n                    }\n                },\n\n                destroy: function() {\n                    this.widget.unbind(CHANGE, this._change);\n                }\n\n            })\n        },\n        scheduler: {\n            source: dataSourceBinding(\"source\", \"dataSource\", \"setDataSource\").extend({\n                dataBound: function(e) {\n                    var idx;\n                    var length;\n                    var widget = this.widget;\n                    var elements = e.addedItems || widget.items();\n                    var data, parents;\n\n                    if (elements.length) {\n                        data = e.addedDataItems || widget.dataItems();\n                        parents = this.bindings.source._parents();\n\n                        for (idx = 0, length = data.length; idx < length; idx++) {\n                            bindElement(elements[idx], data[idx], this._ns(e.ns), [data[idx]].concat(parents));\n                        }\n                    }\n                }\n            })\n        },\n\n        grid: {\n            source: dataSourceBinding(\"source\", \"dataSource\", \"setDataSource\").extend({\n                dataBound: function(e) {\n                    var idx,\n                    length,\n                    widget = this.widget,\n                    elements = e.addedItems || widget.items(),\n                    parents,\n                    data;\n\n                    if (elements.length) {\n                        data = e.addedDataItems || widget.dataItems();\n                        parents = this.bindings.source._parents();\n\n                        for (idx = 0, length = data.length; idx < length; idx++) {\n                            bindElement(elements[idx], data[idx], this._ns(e.ns), [data[idx]].concat(parents));\n                        }\n                    }\n                }\n            })\n        },\n\n        badge: {\n            text: Binder.extend({\n                init: function(widget, bindings, options) {\n                    Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                    this.widget = widget;\n                },\n                refresh: function() {\n                    var text = this.bindings.text.get();\n\n                    if (text == null) {\n                        text = \"\";\n                    }\n                    this.widget.text(text);\n                }\n            })\n        }\n    };\n\n    var arraySplice = function(arr, idx, remove, add) {\n        add = add || [];\n        remove = remove || 0;\n\n        var addLength = add.length;\n        var oldLength = arr.length;\n\n        var shifted = [].slice.call(arr, idx + remove);\n        var shiftedLength = shifted.length;\n        var index;\n\n        if (addLength) {\n            addLength = idx + addLength;\n            index = 0;\n\n            for (; idx < addLength; idx++) {\n                arr[idx] = add[index];\n                index++;\n            }\n\n            arr.length = addLength;\n        } else if (remove) {\n            arr.length = idx;\n\n            remove += idx;\n            while (idx < remove) {\n                delete arr[--remove];\n            }\n        }\n\n        if (shiftedLength) {\n            shiftedLength = idx + shiftedLength;\n            index = 0;\n\n            for (; idx < shiftedLength; idx++) {\n                arr[idx] = shifted[index];\n                index++;\n            }\n\n            arr.length = shiftedLength;\n        }\n\n        idx = arr.length;\n\n        while (idx < oldLength) {\n            delete arr[idx];\n            idx++;\n        }\n    };\n\n    var BindingTarget = Class.extend( {\n        init: function(target, options) {\n            this.target = target;\n            this.options = options;\n            this.toDestroy = [];\n        },\n\n        bind: function(bindings) {\n            var key,\n                hasValue,\n                hasSource,\n                hasEvents,\n                hasChecked,\n                hasCss,\n                widgetBinding = this instanceof WidgetBindingTarget,\n                specificBinders = this.binders();\n\n            for (key in bindings) {\n                if (key == VALUE) {\n                    hasValue = true;\n                } else if (key == SOURCE) {\n                    hasSource = true;\n                } else if (key == EVENTS && !widgetBinding) {\n                    hasEvents = true;\n                } else if (key == CHECKED) {\n                    hasChecked = true;\n                } else if (key == CSS) {\n                    hasCss = true;\n                } else {\n                    this.applyBinding(key, bindings, specificBinders);\n                }\n            }\n            if (hasSource) {\n                this.applyBinding(SOURCE, bindings, specificBinders);\n            }\n\n            if (hasValue) {\n                this.applyBinding(VALUE, bindings, specificBinders);\n            }\n\n            if (hasChecked) {\n                this.applyBinding(CHECKED, bindings, specificBinders);\n            }\n\n            if (hasEvents && !widgetBinding) {\n                this.applyBinding(EVENTS, bindings, specificBinders);\n            }\n\n            if (hasCss && !widgetBinding) {\n                this.applyBinding(CSS, bindings, specificBinders);\n            }\n\n            if (widgetBinding && this.target && this.target.floatingLabel) {\n                this.applyBinding(\"floatingLabel\", bindings, specificBinders);\n            }\n        },\n\n        binders: function() {\n            return binders[this.target.nodeName.toLowerCase()] || {};\n        },\n\n        applyBinding: function(name, bindings, specificBinders) {\n            var binder = specificBinders[name] || binders[name],\n                toDestroy = this.toDestroy,\n                attribute,\n                binding = bindings[name];\n\n            if (binder) {\n                binder = new binder(this.target, bindings, this.options);\n\n                toDestroy.push(binder);\n\n                if (binding instanceof Binding) {\n                    binder.bind(binding);\n                    toDestroy.push(binding);\n                } else {\n                    for (attribute in binding) {\n                        binder.bind(binding, attribute);\n                        toDestroy.push(binding[attribute]);\n                    }\n                }\n            } else if (name !== \"template\") {\n                throw new Error(\"The \" + name + \" binding is not supported by the \" + this.target.nodeName.toLowerCase() + \" element\");\n            }\n        },\n\n        destroy: function() {\n            var idx,\n                length,\n                toDestroy = this.toDestroy;\n\n            for (idx = 0, length = toDestroy.length; idx < length; idx++) {\n                toDestroy[idx].destroy();\n            }\n        }\n    });\n\n    var WidgetBindingTarget = BindingTarget.extend( {\n        binders: function() {\n            return binders.widget[this.target.options.name.toLowerCase()] || {};\n        },\n\n        applyBinding: function(name, bindings, specificBinders) {\n            var binder = specificBinders[name] || binders.widget[name],\n                toDestroy = this.toDestroy,\n                attribute,\n                binding = bindings[name];\n\n            if (binder) {\n                binder = new binder(this.target, bindings, this.target.options);\n\n                toDestroy.push(binder);\n\n\n                if (binding instanceof Binding) {\n                    binder.bind(binding);\n                    toDestroy.push(binding);\n                } else {\n                    for (attribute in binding) {\n                        binder.bind(binding, attribute);\n                        toDestroy.push(binding[attribute]);\n                    }\n                }\n            } else {\n                throw new Error(\"The \" + name + \" binding is not supported by the \" + this.target.options.name + \" widget\");\n            }\n        }\n    });\n\n    function bindingTargetForRole(element, roles) {\n        var widget = kendo.initWidget(element, {}, roles);\n\n        if (widget) {\n            return new WidgetBindingTarget(widget);\n        }\n    }\n\n    var keyValueRegExp = /[A-Za-z0-9_\\-]+:(\\{([^}]*)\\}|[^,}]+)/g,\n        whiteSpaceRegExp = /\\s/g;\n\n    function parseBindings(bind) {\n        var result = {},\n            idx,\n            length,\n            token,\n            colonIndex,\n            key,\n            value,\n            tokens;\n\n        tokens = bind.match(keyValueRegExp);\n\n        for (idx = 0, length = tokens.length; idx < length; idx++) {\n            token = tokens[idx];\n            colonIndex = token.indexOf(\":\");\n\n            key = token.substring(0, colonIndex);\n            value = token.substring(colonIndex + 1);\n\n            if (value.charAt(0) == \"{\") {\n                value = parseBindings(value);\n            }\n\n            result[key] = value;\n        }\n\n        return result;\n    }\n\n    function createBindings(bindings, source, type) {\n        var binding,\n            result = {};\n\n        for (binding in bindings) {\n            result[binding] = new type(source, bindings[binding]);\n        }\n\n        return result;\n    }\n\n    function bindElement(element, source, roles, parents) {\n\n        if (!element || element.getAttribute(\"data-\" + kendo.ns + \"stop\")) {\n            return;\n        }\n\n        var role = element.getAttribute(\"data-\" + kendo.ns + \"role\"),\n            idx,\n            bind = element.getAttribute(\"data-\" + kendo.ns + \"bind\"),\n            childrenCopy = [],\n            deep = true,\n            bindings,\n            options = {},\n            target;\n\n        parents = parents || [source];\n\n        if (role || bind) {\n            unbindElement(element, false);\n        }\n\n        if (role) {\n            target = bindingTargetForRole(element, roles);\n        }\n\n        if (bind) {\n            bind = parseBindings(bind.replace(whiteSpaceRegExp, \"\"));\n\n            if (!target) {\n                options = kendo.parseOptions(element, { textField: \"\", valueField: \"\", template: \"\", valueUpdate: CHANGE, valuePrimitive: false, autoBind: true }, source);\n                options.roles = roles;\n                target = new BindingTarget(element, options);\n            }\n\n            target.source = source;\n\n            bindings = createBindings(bind, parents, Binding);\n\n            if (options.template) {\n                bindings.template = new TemplateBinding(parents, \"\", options.template);\n            }\n\n            if (bindings.click) {\n                bind.events = bind.events || {};\n                bind.events.click = bind.click;\n                bindings.click.destroy();\n                delete bindings.click;\n            }\n\n            if (bindings.source) {\n                deep = false;\n            }\n\n            if (bind.attr) {\n                bindings.attr = createBindings(bind.attr, parents, Binding);\n            }\n\n            if (bind.style) {\n                bindings.style = createBindings(bind.style, parents, Binding);\n            }\n\n            if (bind.events) {\n                bindings.events = createBindings(bind.events, parents, EventBinding);\n            }\n\n            if (bind.css) {\n                bindings.css = createBindings(bind.css, parents, Binding);\n            }\n\n            target.bind(bindings);\n        }\n\n        if (target) {\n            element.kendoBindingTarget = target;\n        }\n\n        var children = element.children;\n        if (deep && children && !element.getAttribute(\"data-\" + kendo.ns + \"stop\")) {\n            // https://github.com/telerik/kendo/issues/1240 for the weirdness.\n            for (idx = 0; idx < children.length; idx++) {\n                childrenCopy[idx] = children[idx];\n            }\n\n            for (idx = 0; idx < childrenCopy.length; idx++) {\n                bindElement(childrenCopy[idx], source, roles, parents);\n            }\n        }\n    }\n\n    function bind(dom, object) {\n        var idx,\n            length,\n            node,\n            roles = kendo.rolesFromNamespaces([].slice.call(arguments, 2));\n\n        object = kendo.observable(object);\n        dom = $(dom);\n\n        for (idx = 0, length = dom.length; idx < length; idx++) {\n            node = dom[idx];\n            if (node.nodeType === 1) {\n                bindElement(node, object, roles);\n            }\n        }\n    }\n\n    function unbindElement(element, destroyWidget) {\n        var bindingTarget = element.kendoBindingTarget;\n\n        if (bindingTarget) {\n            bindingTarget.destroy();\n\n            if (deleteExpando) {\n                delete element.kendoBindingTarget;\n            } else if (element.removeAttribute) {\n                element.removeAttribute(\"kendoBindingTarget\");\n            } else {\n                element.kendoBindingTarget = null;\n            }\n        }\n\n        if (destroyWidget) {\n            var widget = kendo.widgetInstance($(element));\n            if (widget && typeof widget.destroy === FUNCTION) {\n                widget.destroy();\n            }\n        }\n    }\n\n    function unbindElementTree(element, destroyWidgets) {\n        unbindElement(element, destroyWidgets);\n\n        unbindElementChildren(element, destroyWidgets);\n    }\n\n    function unbindElementChildren(element, destroyWidgets) {\n        var children = element.children;\n\n        if (children) {\n            for (var idx = 0, length = children.length; idx < length; idx++) {\n                unbindElementTree(children[idx], destroyWidgets);\n            }\n        }\n    }\n\n    function unbind(dom) {\n        var idx, length;\n\n        dom = $(dom);\n\n        for (idx = 0, length = dom.length; idx < length; idx++ ) {\n            unbindElementTree(dom[idx], false);\n        }\n    }\n\n    function notify(widget, namespace) {\n        var element = widget.element,\n            bindingTarget = element[0].kendoBindingTarget;\n\n        if (bindingTarget) {\n            bind(element, bindingTarget.source, namespace);\n        }\n    }\n\n    function retrievePrimitiveValues(value, valueField) {\n        var values = [];\n        var idx = 0;\n        var length;\n        var item;\n\n        if (!valueField) {\n            return value;\n        }\n\n        if (value instanceof ObservableArray) {\n            for (length = value.length; idx < length; idx++) {\n                item = value[idx];\n                values[idx] = item.get ? item.get(valueField) : item[valueField];\n            }\n            value = values;\n        } else if (value instanceof ObservableObject) {\n            value = value.get(valueField);\n        }\n\n        return value;\n    }\n\n    kendo.unbind = unbind;\n    kendo.bind = bind;\n    kendo.data.binders = binders;\n    kendo.data.Binder = Binder;\n    kendo.notify = notify;\n\n    kendo.observable = function(object) {\n        if (!(object instanceof ObservableObject)) {\n            object = new ObservableObject(object);\n        }\n\n        return object;\n    };\n\n    kendo.observableHierarchy = function(array) {\n        var dataSource = kendo.data.HierarchicalDataSource.create(array);\n\n        function recursiveRead(data) {\n            var i, children;\n\n            for (i = 0; i < data.length; i++) {\n                data[i]._initChildren();\n\n                children = data[i].children;\n\n                children.fetch();\n\n                data[i].items = children.data();\n\n                recursiveRead(data[i].items);\n            }\n        }\n\n        dataSource.fetch();\n\n        recursiveRead(dataSource.data());\n\n        dataSource._data._dataSource = dataSource;\n\n        return dataSource._data;\n    };\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.fx',[ \"kendo.core\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"fx\",\n    name: \"Effects\",\n    category: \"framework\",\n    description: \"Required for animation effects in all Kendo UI widgets.\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        fx = kendo.effects,\n        each = $.each,\n        extend = $.extend,\n        support = kendo.support,\n        browser = support.browser,\n        transforms = support.transforms,\n        transitions = support.transitions,\n        scaleProperties = { scale: 0, scalex: 0, scaley: 0, scale3d: 0 },\n        translateProperties = { translate: 0, translatex: 0, translatey: 0, translate3d: 0 },\n        hasZoom = (typeof document.documentElement.style.zoom !== \"undefined\") && !transforms,\n        matrix3dRegExp = /matrix3?d?\\s*\\(.*,\\s*([\\d\\.\\-]+)\\w*?,\\s*([\\d\\.\\-]+)\\w*?,\\s*([\\d\\.\\-]+)\\w*?,\\s*([\\d\\.\\-]+)\\w*?/i,\n        cssParamsRegExp = /^(-?[\\d\\.\\-]+)?[\\w\\s]*,?\\s*(-?[\\d\\.\\-]+)?[\\w\\s]*/i,\n        translateXRegExp = /translatex?$/i,\n        oldEffectsRegExp = /(zoom|fade|expand)(\\w+)/,\n        singleEffectRegExp = /(zoom|fade|expand)/,\n        unitRegExp = /[xy]$/i,\n        transformProps = [\"perspective\", \"rotate\", \"rotatex\", \"rotatey\", \"rotatez\", \"rotate3d\", \"scale\", \"scalex\", \"scaley\", \"scalez\", \"scale3d\", \"skew\", \"skewx\", \"skewy\", \"translate\", \"translatex\", \"translatey\", \"translatez\", \"translate3d\", \"matrix\", \"matrix3d\"],\n        transform2d = [\"rotate\", \"scale\", \"scalex\", \"scaley\", \"skew\", \"skewx\", \"skewy\", \"translate\", \"translatex\", \"translatey\", \"matrix\"],\n        transform2units = { \"rotate\": \"deg\", scale: \"\", skew: \"px\", translate: \"px\" },\n        cssPrefix = transforms.css,\n        round = Math.round,\n        BLANK = \"\",\n        PX = \"px\",\n        NONE = \"none\",\n        AUTO = \"auto\",\n        WIDTH = \"width\",\n        HEIGHT = \"height\",\n        HIDDEN = \"hidden\",\n        ORIGIN = \"origin\",\n        ABORT_ID = \"abortId\",\n        OVERFLOW = \"overflow\",\n        TRANSLATE = \"translate\",\n        POSITION = \"position\",\n        COMPLETE_CALLBACK = \"completeCallback\",\n        TRANSITION = cssPrefix + \"transition\",\n        TRANSFORM = cssPrefix + \"transform\",\n        BACKFACE = cssPrefix + \"backface-visibility\",\n        PERSPECTIVE = cssPrefix + \"perspective\",\n        DEFAULT_PERSPECTIVE = \"1500px\",\n        TRANSFORM_PERSPECTIVE = \"perspective(\" + DEFAULT_PERSPECTIVE + \")\",\n        directions = {\n            left: {\n                reverse: \"right\",\n                property: \"left\",\n                transition: \"translatex\",\n                vertical: false,\n                modifier: -1\n            },\n            right: {\n                reverse: \"left\",\n                property: \"left\",\n                transition: \"translatex\",\n                vertical: false,\n                modifier: 1\n            },\n            down: {\n                reverse: \"up\",\n                property: \"top\",\n                transition: \"translatey\",\n                vertical: true,\n                modifier: 1\n            },\n            up: {\n                reverse: \"down\",\n                property: \"top\",\n                transition: \"translatey\",\n                vertical: true,\n                modifier: -1\n            },\n            top: {\n                reverse: \"bottom\"\n            },\n            bottom: {\n                reverse: \"top\"\n            },\n            \"in\": {\n                reverse: \"out\",\n                modifier: -1\n            },\n            out: {\n                reverse: \"in\",\n                modifier: 1\n            },\n\n            vertical: {\n                reverse: \"vertical\"\n            },\n\n            horizontal: {\n                reverse: \"horizontal\"\n            }\n        };\n\n    kendo.directions = directions;\n\n    extend($.fn, {\n        kendoStop: function(clearQueue, gotoEnd) {\n            if (transitions) {\n                return fx.stopQueue(this, clearQueue || false, gotoEnd || false);\n            } else {\n                return this.stop(clearQueue, gotoEnd);\n            }\n        }\n    });\n\n    /* jQuery support for all transform animations (FF 3.5/3.6, Opera 10.x, IE9 */\n\n    if (transforms && !transitions) {\n        each(transform2d, function(idx, value) {\n            $.fn[value] = function(val) {\n                if (typeof val == \"undefined\") {\n                    return animationProperty(this, value);\n                } else {\n                    var that = $(this)[0],\n                        transformValue = value + \"(\" + val + transform2units[value.replace(unitRegExp, \"\")] + \")\";\n\n                    if (that.style.cssText.indexOf(TRANSFORM) == -1) {\n                        $(this).css(TRANSFORM, transformValue);\n                    } else {\n                        that.style.cssText = that.style.cssText.replace(new RegExp(value + \"\\\\(.*?\\\\)\", \"i\"), transformValue);\n                    }\n                }\n                return this;\n            };\n\n            $.fx.step[value] = function(fx) {\n                $(fx.elem)[value](fx.now);\n            };\n        });\n\n        var curProxy = $.fx.prototype.cur;\n        $.fx.prototype.cur = function() {\n            if (transform2d.indexOf(this.prop) != -1) {\n                return parseFloat($(this.elem)[this.prop]());\n            }\n\n            return curProxy.apply(this, arguments);\n        };\n    }\n\n    kendo.toggleClass = function(element, classes, options, add) {\n        if (classes) {\n            classes = classes.split(\" \");\n\n            if (transitions) {\n                options = extend({\n                    exclusive: \"all\",\n                    duration: 400,\n                    ease: \"ease-out\"\n                }, options);\n\n                element.css(TRANSITION, options.exclusive + \" \" + options.duration + \"ms \" + options.ease);\n                setTimeout(function() {\n                    element.css(TRANSITION, \"\").css(HEIGHT);\n                }, options.duration); // TODO: this should fire a kendoAnimate session instead.\n            }\n\n            each(classes, function(idx, value) {\n                element.toggleClass(value, add);\n            });\n        }\n\n        return element;\n    };\n\n    kendo.parseEffects = function(input, mirror) {\n        var effects = {};\n\n        if (typeof input === \"string\") {\n            each(input.split(\" \"), function(idx, value) {\n                var redirectedEffect = !singleEffectRegExp.test(value),\n                    resolved = value.replace(oldEffectsRegExp, function(match, $1, $2) {\n                        return $1 + \":\" + $2.toLowerCase();\n                    }), // Support for old zoomIn/fadeOut style, now deprecated.\n                    effect = resolved.split(\":\"),\n                    direction = effect[1],\n                    effectBody = {};\n\n                if (effect.length > 1) {\n                    effectBody.direction = (mirror && redirectedEffect ? directions[direction].reverse : direction);\n                }\n\n                effects[effect[0]] = effectBody;\n            });\n        } else {\n            each(input, function(idx) {\n                var direction = this.direction;\n\n                if (direction && mirror && !singleEffectRegExp.test(idx)) {\n                    this.direction = directions[direction].reverse;\n                }\n\n                effects[idx] = this;\n            });\n        }\n\n        return effects;\n    };\n\n    function parseInteger(value) {\n        return parseInt(value, 10);\n    }\n\n    function parseCSS(element, property) {\n        return parseInteger(element.css(property));\n    }\n\n    function keys(obj) {\n        var acc = [];\n        for (var propertyName in obj) {\n            acc.push(propertyName);\n        }\n        return acc;\n    }\n\n    function strip3DTransforms(properties) {\n        for (var key in properties) {\n            if (transformProps.indexOf(key) != -1 && transform2d.indexOf(key) == -1) {\n                delete properties[key];\n            }\n        }\n\n        return properties;\n    }\n\n    function normalizeCSS(element, properties) {\n        var transformation = [], cssValues = {}, lowerKey, key, value, isTransformed;\n\n        for (key in properties) {\n            lowerKey = key.toLowerCase();\n            isTransformed = transforms && transformProps.indexOf(lowerKey) != -1;\n\n            if (!support.hasHW3D && isTransformed && transform2d.indexOf(lowerKey) == -1) {\n                delete properties[key];\n            } else {\n                value = properties[key];\n\n                if (isTransformed) {\n                    transformation.push(key + \"(\" + value + \")\");\n                } else {\n                    cssValues[key] = value;\n                }\n            }\n        }\n\n        if (transformation.length) {\n            cssValues[TRANSFORM] = transformation.join(\" \");\n        }\n\n        return cssValues;\n    }\n\n    if (transitions) {\n        extend(fx, {\n            transition: function(element, properties, options) {\n                var css,\n                    delay = 0,\n                    oldKeys = element.data(\"keys\") || [],\n                    timeoutID;\n\n                options = extend({\n                        duration: 200,\n                        ease: \"ease-out\",\n                        complete: null,\n                        exclusive: \"all\"\n                    },\n                    options\n                );\n\n                var stopTransitionCalled = false;\n\n                var stopTransition = function() {\n                    if (!stopTransitionCalled) {\n                        stopTransitionCalled = true;\n\n                        if (timeoutID) {\n                            clearTimeout(timeoutID);\n                            timeoutID = null;\n                        }\n\n                        element\n                        .removeData(ABORT_ID)\n                        .dequeue()\n                        .css(TRANSITION, \"\")\n                        .css(TRANSITION);\n\n                        options.complete.call(element);\n                    }\n                };\n\n                options.duration = $.fx ? $.fx.speeds[options.duration] || options.duration : options.duration;\n\n                css = normalizeCSS(element, properties);\n\n                $.merge(oldKeys, keys(css));\n\n                if ($.hasOwnProperty(\"uniqueSort\")) {\n                    element\n                        .data(\"keys\", $.uniqueSort(oldKeys))\n                        .height();\n                } else {\n                    element\n                        .data(\"keys\", $.unique(oldKeys))\n                        .height();\n                }\n\n                element.css(TRANSITION, options.exclusive + \" \" + options.duration + \"ms \" + options.ease).css(TRANSITION);\n                element.css(css).css(TRANSFORM);\n\n                /**\n                 * Use transitionEnd event for browsers who support it - but duplicate it with setTimeout, as the transitionEnd event will not be triggered if no CSS properties change.\n                 * This should be cleaned up at some point (widget by widget), and refactored to widgets not relying on the complete callback if no transition occurs.\n                 *\n                 * For IE9 and below, resort to setTimeout.\n                 */\n                if (transitions.event) {\n                    element.one(transitions.event, stopTransition);\n                    if (options.duration !== 0) {\n                        delay = 500;\n                    }\n                }\n\n                timeoutID = setTimeout(stopTransition, options.duration + delay);\n                element.data(ABORT_ID, timeoutID);\n                element.data(COMPLETE_CALLBACK, stopTransition);\n            },\n\n            stopQueue: function(element, clearQueue, gotoEnd) {\n                var cssValues,\n                    taskKeys = element.data(\"keys\"),\n                    retainPosition = (!gotoEnd && taskKeys),\n                    completeCallback = element.data(COMPLETE_CALLBACK);\n\n                if (retainPosition) {\n                    cssValues = kendo.getComputedStyles(element[0], taskKeys);\n                }\n\n                if (completeCallback) {\n                    completeCallback();\n                }\n\n                if (retainPosition) {\n                    element.css(cssValues);\n                }\n\n                return element\n                        .removeData(\"keys\")\n                        .stop(clearQueue);\n            }\n        });\n    }\n\n    function animationProperty(element, property) {\n        if (transforms) {\n            var transform = element.css(TRANSFORM);\n            if (transform == NONE) {\n                return property == \"scale\" ? 1 : 0;\n            }\n\n            var match = transform.match(new RegExp(property + \"\\\\s*\\\\(([\\\\d\\\\w\\\\.]+)\")),\n                computed = 0;\n\n            if (match) {\n                computed = parseInteger(match[1]);\n            } else {\n                match = transform.match(matrix3dRegExp) || [0, 0, 0, 0, 0];\n                property = property.toLowerCase();\n\n                if (translateXRegExp.test(property)) {\n                    computed = parseFloat(match[3] / match[2]);\n                } else if (property == \"translatey\") {\n                    computed = parseFloat(match[4] / match[2]);\n                } else if (property == \"scale\") {\n                    computed = parseFloat(match[2]);\n                } else if (property == \"rotate\") {\n                    computed = parseFloat(Math.atan2(match[2], match[1]));\n                }\n            }\n\n            return computed;\n        } else {\n            return parseFloat(element.css(property));\n        }\n    }\n\n    var EffectSet = kendo.Class.extend({\n        init: function(element, options) {\n            var that = this;\n\n            that.element = element;\n            that.effects = [];\n            that.options = options;\n            that.restore = [];\n        },\n\n        run: function(effects) {\n            var that = this,\n                effect,\n                idx, jdx,\n                length = effects.length,\n                element = that.element,\n                options = that.options,\n                deferred = $.Deferred(),\n                start = {},\n                end = {},\n                target,\n                children,\n                childrenLength;\n\n            that.effects = effects;\n\n            deferred.done(that.complete.bind(that));\n\n            element.data(\"animating\", true);\n\n            for (idx = 0; idx < length; idx ++) {\n                effect = effects[idx];\n\n                effect.setReverse(options.reverse);\n                effect.setOptions(options);\n\n                that.addRestoreProperties(effect.restore);\n\n                effect.prepare(start, end);\n\n                children = effect.children();\n\n                for (jdx = 0, childrenLength = children.length; jdx < childrenLength; jdx ++) {\n                    children[jdx].duration(options.duration).run();\n                }\n            }\n\n            // legacy support for options.properties\n            for (var effectName in options.effects) {\n                extend(end, options.effects[effectName].properties);\n            }\n\n            // Show the element initially\n            if (!element.is(\":visible\")) {\n                extend(start, { display: element.data(\"olddisplay\") || \"block\" });\n            }\n\n            if (transforms && !options.reset) {\n                target = element.data(\"targetTransform\");\n\n                if (target) {\n                    start = extend(target, start);\n                }\n            }\n\n            start = normalizeCSS(element, start);\n\n            if (transforms && !transitions) {\n                start = strip3DTransforms(start);\n            }\n\n            element.css(start)\n                   .css(TRANSFORM); // Nudge\n\n            for (idx = 0; idx < length; idx ++) {\n                effects[idx].setup();\n            }\n\n            if (options.init) {\n                options.init();\n            }\n\n            element.data(\"targetTransform\", end);\n            fx.animate(element, end, extend({}, options, { complete: deferred.resolve }));\n\n            return deferred.promise();\n        },\n\n        stop: function() {\n            $(this.element).kendoStop(true, true);\n        },\n\n        addRestoreProperties: function(restore) {\n            var element = this.element,\n                value,\n                i = 0,\n                length = restore.length;\n\n            for (; i < length; i ++) {\n                value = restore[i];\n\n                this.restore.push(value);\n\n                if (!element.data(value)) {\n                    element.data(value, element.css(value));\n                }\n            }\n        },\n\n        restoreCallback: function() {\n            var element = this.element;\n\n            for (var i = 0, length = this.restore.length; i < length; i ++) {\n                var value = this.restore[i];\n                element.css(value, element.data(value));\n            }\n        },\n\n        complete: function() {\n            var that = this,\n                idx = 0,\n                element = that.element,\n                options = that.options,\n                effects = that.effects,\n                length = effects.length;\n\n            element\n                .removeData(\"animating\")\n                .dequeue(); // call next animation from the queue\n\n            if (options.hide) {\n                element.data(\"olddisplay\", element.css(\"display\")).hide();\n            }\n\n            this.restoreCallback();\n\n            if (hasZoom && !transforms) {\n                setTimeout(this.restoreCallback.bind(this), 0); // Again jQuery callback in IE8-\n            }\n\n            for (; idx < length; idx ++) {\n                effects[idx].teardown();\n            }\n\n            if (options.completeCallback) {\n                options.completeCallback(element);\n            }\n        }\n    });\n\n    fx.promise = function(element, options) {\n        var effects = [],\n            effectClass,\n            effectSet = new EffectSet(element, options),\n            parsedEffects = kendo.parseEffects(options.effects),\n            effect;\n\n        options.effects = parsedEffects;\n\n        for (var effectName in parsedEffects) {\n            effectClass = fx[capitalize(effectName)];\n\n            if (effectClass) {\n                effect = new effectClass(element, parsedEffects[effectName].direction);\n                effects.push(effect);\n           }\n        }\n\n        if (effects[0]) {\n            effectSet.run(effects);\n        } else { // Not sure how would an fx promise reach this state - means that you call kendoAnimate with no valid effects? Why?\n            if (!element.is(\":visible\")) {\n                element.css({ display: element.data(\"olddisplay\") || \"block\" }).css(\"display\");\n            }\n\n            if (options.init) {\n                options.init();\n            }\n\n            element.dequeue();\n            effectSet.complete();\n        }\n    };\n\n    extend(fx, {\n        animate: function(elements, properties, options) {\n            var useTransition = options.transition !== false;\n            delete options.transition;\n\n            if (transitions && \"transition\" in fx && useTransition) {\n                fx.transition(elements, properties, options);\n            } else {\n                if (transforms) {\n                    elements.animate(strip3DTransforms(properties), { queue: false, show: false, hide: false, duration: options.duration, complete: options.complete }); // Stop animate from showing/hiding the element to be able to hide it later on.\n                } else {\n                    elements.each(function() {\n                        var element = $(this),\n                            multiple = {};\n\n                        each(transformProps, function(idx, value) { // remove transforms to avoid IE and older browsers confusion\n                            var params,\n                                currentValue = properties ? properties[value] + \" \" : null; // We need to match\n\n                            if (currentValue) {\n                                var single = properties;\n\n                                if (value in scaleProperties && properties[value] !== undefined) {\n                                    params = currentValue.match(cssParamsRegExp);\n                                    if (transforms) {\n                                        extend(single, { scale: +params[0] });\n                                    }\n                                } else {\n                                    if (value in translateProperties && properties[value] !== undefined) {\n                                        var position = element.css(POSITION),\n                                            isFixed = (position == \"absolute\" || position == \"fixed\");\n\n                                        if (!element.data(TRANSLATE)) {\n                                            if (isFixed) {\n                                                element.data(TRANSLATE, {\n                                                    top: parseCSS(element, \"top\") || 0,\n                                                    left: parseCSS(element, \"left\") || 0,\n                                                    bottom: parseCSS(element, \"bottom\"),\n                                                    right: parseCSS(element, \"right\")\n                                                });\n                                            } else {\n                                                element.data(TRANSLATE, {\n                                                    top: parseCSS(element, \"marginTop\") || 0,\n                                                    left: parseCSS(element, \"marginLeft\") || 0\n                                                });\n                                            }\n                                        }\n\n                                        var originalPosition = element.data(TRANSLATE);\n\n                                        params = currentValue.match(cssParamsRegExp);\n                                        if (params) {\n\n                                            var dX = value == TRANSLATE + \"y\" ? +null : +params[1],\n                                                dY = value == TRANSLATE + \"y\" ? +params[1] : +params[2];\n\n                                            if (isFixed) {\n                                                if (!isNaN(originalPosition.right)) {\n                                                    if (!isNaN(dX)) { extend(single, { right: originalPosition.right - dX }); }\n                                                } else {\n                                                    if (!isNaN(dX)) { extend(single, { left: originalPosition.left + dX }); }\n                                                }\n\n                                                if (!isNaN(originalPosition.bottom)) {\n                                                    if (!isNaN(dY)) { extend(single, { bottom: originalPosition.bottom - dY }); }\n                                                } else {\n                                                    if (!isNaN(dY)) { extend(single, { top: originalPosition.top + dY }); }\n                                                }\n                                            } else {\n                                                if (!isNaN(dX)) { extend(single, { marginLeft: originalPosition.left + dX }); }\n                                                if (!isNaN(dY)) { extend(single, { marginTop: originalPosition.top + dY }); }\n                                            }\n                                        }\n                                    }\n                                }\n\n                                if (!transforms && value != \"scale\" && value in single) {\n                                    delete single[value];\n                                }\n\n                                if (single) {\n                                    extend(multiple, single);\n                                }\n                            }\n                        });\n\n                        if (browser.msie) {\n                            delete multiple.scale;\n                        }\n\n                        element.animate(multiple, { queue: false, show: false, hide: false, duration: options.duration, complete: options.complete }); // Stop animate from showing/hiding the element to be able to hide it later on.\n                    });\n                }\n            }\n        }\n    });\n\n    fx.animatedPromise = fx.promise;\n\n    var Effect = kendo.Class.extend({\n        init: function(element, direction) {\n            var that = this;\n            that.element = element;\n            that._direction = direction;\n            that.options = {};\n            that._additionalEffects = [];\n\n            if (!that.restore) {\n                that.restore = [];\n            }\n        },\n\n// Public API\n        reverse: function() {\n            this._reverse = true;\n            return this.run();\n        },\n\n        play: function() {\n            this._reverse = false;\n            return this.run();\n        },\n\n        add: function(additional) {\n            this._additionalEffects.push(additional);\n            return this;\n        },\n\n        direction: function(value) {\n            this._direction = value;\n            return this;\n        },\n\n        duration: function(duration) {\n            this._duration = duration;\n            return this;\n        },\n\n        compositeRun: function() {\n            var that = this,\n                effectSet = new EffectSet(that.element, { reverse: that._reverse, duration: that._duration }),\n                effects = that._additionalEffects.concat([ that ]);\n\n            return effectSet.run(effects);\n        },\n\n        run: function() {\n            if (this._additionalEffects && this._additionalEffects[0]) {\n                return this.compositeRun();\n            }\n\n            var that = this,\n                element = that.element,\n                idx = 0,\n                restore = that.restore,\n                length = restore.length,\n                value,\n                deferred = $.Deferred(),\n                start = {},\n                end = {},\n                target,\n                children = that.children(),\n                childrenLength = children.length;\n\n            deferred.done(that._complete.bind(that));\n\n            element.data(\"animating\", true);\n\n            for (idx = 0; idx < length; idx ++) {\n                value = restore[idx];\n\n                if (!element.data(value)) {\n                    element.data(value, element.css(value));\n                }\n            }\n\n            for (idx = 0; idx < childrenLength; idx ++) {\n                children[idx].duration(that._duration).run();\n            }\n\n            that.prepare(start, end);\n\n            if (!element.is(\":visible\")) {\n                extend(start, { display: element.data(\"olddisplay\") || \"block\" });\n            }\n\n            if (transforms) {\n                target = element.data(\"targetTransform\");\n\n                if (target) {\n                    start = extend(target, start);\n                }\n            }\n\n            start = normalizeCSS(element, start);\n\n            if (transforms && !transitions) {\n                start = strip3DTransforms(start);\n            }\n\n            element.css(start).css(TRANSFORM); // Trick webkit into re-rendering\n\n            that.setup();\n\n            element.data(\"targetTransform\", end);\n            fx.animate(element, end, { duration: that._duration, complete: deferred.resolve });\n\n            return deferred.promise();\n        },\n\n        stop: function() {\n            var idx = 0,\n                children = this.children(),\n                childrenLength = children.length;\n\n            for (idx = 0; idx < childrenLength; idx ++) {\n                children[idx].stop();\n            }\n\n            $(this.element).kendoStop(true, true);\n            return this;\n        },\n\n        restoreCallback: function() {\n            var element = this.element;\n\n            for (var i = 0, length = this.restore.length; i < length; i ++) {\n                var value = this.restore[i];\n                element.css(value, element.data(value));\n            }\n        },\n\n        _complete: function() {\n            var that = this,\n                element = that.element;\n\n            element\n                .removeData(\"animating\")\n                .dequeue(); // call next animation from the queue\n\n            that.restoreCallback();\n\n            if (that.shouldHide()) {\n                element.data(\"olddisplay\", element.css(\"display\")).hide();\n            }\n\n            if (hasZoom && !transforms) {\n                setTimeout(that.restoreCallback.bind(that), 0); // Again jQuery callback in IE8-\n            }\n\n            that.teardown();\n        },\n\n        /////////////////////////// Support for kendo.animate;\n        setOptions: function(options) {\n            extend(true, this.options, options);\n        },\n\n        children: function() {\n            return [];\n        },\n\n        shouldHide: $.noop,\n\n        setup: $.noop,\n        prepare: $.noop,\n        teardown: $.noop,\n        directions: [],\n\n        setReverse: function(reverse) {\n            this._reverse = reverse;\n            return this;\n        }\n    });\n\n    function capitalize(word) {\n        return word.charAt(0).toUpperCase() + word.substring(1);\n    }\n\n    function createEffect(name, definition) {\n        var effectClass = Effect.extend(definition),\n            directions = effectClass.prototype.directions;\n\n        fx[capitalize(name)] = effectClass;\n\n        fx.Element.prototype[name] = function(direction, opt1, opt2, opt3) {\n            return new effectClass(this.element, direction, opt1, opt2, opt3);\n        };\n\n        each(directions, function(idx, theDirection) {\n            fx.Element.prototype[name + capitalize(theDirection)] = function(opt1, opt2, opt3) {\n                return new effectClass(this.element, theDirection, opt1, opt2, opt3);\n            };\n        });\n    }\n\n    var FOUR_DIRECTIONS = [\"left\", \"right\", \"up\", \"down\"],\n        IN_OUT = [\"in\", \"out\"];\n\n    createEffect(\"slideIn\", {\n        directions: FOUR_DIRECTIONS,\n\n        divisor: function(value) {\n            this.options.divisor = value;\n            return this;\n        },\n\n        prepare: function(start, end) {\n            var that = this,\n                tmp,\n                element = that.element,\n                outerWidth = kendo._outerWidth,\n                outerHeight = kendo._outerHeight,\n                direction = directions[that._direction],\n                offset = -direction.modifier * (direction.vertical ? outerHeight(element) : outerWidth(element)),\n                startValue = offset / (that.options && that.options.divisor || 1) + PX,\n                endValue = \"0px\";\n\n            if (that._reverse) {\n                tmp = start;\n                start = end;\n                end = tmp;\n            }\n\n            if (transforms) {\n                start[direction.transition] = startValue;\n                end[direction.transition] = endValue;\n            } else {\n                start[direction.property] = startValue;\n                end[direction.property] = endValue;\n            }\n        }\n    });\n\n    createEffect(\"tile\", {\n        directions: FOUR_DIRECTIONS,\n\n        init: function(element, direction, previous) {\n            Effect.prototype.init.call(this, element, direction);\n            this.options = { previous: previous };\n        },\n\n        previousDivisor: function(value) {\n            this.options.previousDivisor = value;\n            return this;\n        },\n\n        children: function() {\n            var that = this,\n                reverse = that._reverse,\n                previous = that.options.previous,\n                divisor = that.options.previousDivisor || 1,\n                dir = that._direction;\n\n            var children = [ kendo.fx(that.element).slideIn(dir).setReverse(reverse) ];\n\n            if (previous) {\n                children.push( kendo.fx(previous).slideIn(directions[dir].reverse).divisor(divisor).setReverse(!reverse) );\n            }\n\n            return children;\n        }\n    });\n\n    function createToggleEffect(name, property, defaultStart, defaultEnd) {\n        createEffect(name, {\n            directions: IN_OUT,\n\n            startValue: function(value) {\n                this._startValue = value;\n                return this;\n            },\n\n            endValue: function(value) {\n                this._endValue = value;\n                return this;\n            },\n\n            shouldHide: function() {\n               return this._shouldHide;\n            },\n\n            prepare: function(start, end) {\n                var that = this,\n                    startValue,\n                    endValue,\n                    out = this._direction === \"out\",\n                    startDataValue = that.element.data(property),\n                    startDataValueIsSet = !(isNaN(startDataValue) || startDataValue == defaultStart);\n\n                if (startDataValueIsSet) {\n                    startValue = startDataValue;\n                } else if (typeof this._startValue !== \"undefined\") {\n                    startValue = this._startValue;\n                } else {\n                    startValue = out ? defaultStart : defaultEnd;\n                }\n\n                if (typeof this._endValue !== \"undefined\") {\n                    endValue = this._endValue;\n                } else {\n                    endValue = out ? defaultEnd : defaultStart;\n                }\n\n                if (this._reverse) {\n                    start[property] = endValue;\n                    end[property] = startValue;\n                } else {\n                    start[property] = startValue;\n                    end[property] = endValue;\n                }\n\n                that._shouldHide = end[property] === defaultEnd;\n            }\n        });\n    }\n\n    createToggleEffect(\"fade\", \"opacity\", 1, 0);\n    createToggleEffect(\"zoom\", \"scale\", 1, 0.01);\n\n    createEffect(\"slideMargin\", {\n        prepare: function(start, end) {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                origin = element.data(ORIGIN),\n                offset = options.offset,\n                margin,\n                reverse = that._reverse;\n\n            if (!reverse && origin === null) {\n                element.data(ORIGIN, parseFloat(element.css(\"margin-\" + options.axis)));\n            }\n\n            margin = (element.data(ORIGIN) || 0);\n            end[\"margin-\" + options.axis] = !reverse ? margin + offset : margin;\n        }\n    });\n\n    createEffect(\"slideTo\", {\n        prepare: function(start, end) {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                offset = options.offset.split(\",\"),\n                reverse = that._reverse;\n\n            if (transforms) {\n                end.translatex = !reverse ? offset[0] : 0;\n                end.translatey = !reverse ? offset[1] : 0;\n            } else {\n                end.left = !reverse ? offset[0] : 0;\n                end.top = !reverse ? offset[1] : 0;\n            }\n            element.css(\"left\");\n        }\n    });\n\n    createEffect(\"expand\", {\n        directions: [\"horizontal\", \"vertical\"],\n\n        restore: [ OVERFLOW ],\n\n        prepare: function(start, end) {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                reverse = that._reverse,\n                property = that._direction === \"vertical\" ? HEIGHT : WIDTH,\n                setLength = element[0].style[property],\n                oldLength = element.data(property),\n                length = parseFloat(oldLength || setLength),\n                realLength = round(element.css(property, AUTO)[property]());\n\n            start.overflow = HIDDEN;\n\n            length = (options && options.reset) ? realLength || length : length || realLength;\n\n            end[property] = (reverse ? 0 : length) + PX;\n            start[property] = (reverse ? length : 0) + PX;\n\n            if (oldLength === undefined) {\n                element.data(property, setLength);\n            }\n        },\n\n        shouldHide: function() {\n           return this._reverse;\n        },\n\n        teardown: function() {\n            var that = this,\n                element = that.element,\n                property = that._direction === \"vertical\" ? HEIGHT : WIDTH,\n                length = element.data(property);\n\n            if (length == AUTO || length === BLANK) {\n                setTimeout(function() { element.css(property, AUTO).css(property); }, 0); // jQuery animate complete callback in IE is called before the last animation step!\n            }\n        }\n    });\n\n    var TRANSFER_START_STATE = { position: \"absolute\", marginLeft: 0, marginTop: 0, scale: 1 };\n    /**\n     * Intersection point formulas are taken from here - http://zonalandeducation.com/mmts/intersections/intersectionOfTwoLines1/intersectionOfTwoLines1.html\n     * Formula for a linear function from two points from here - http://demo.activemath.org/ActiveMath2/search/show.cmd?id=mbase://AC_UK_calculus/functions/ex_linear_equation_two_points\n     * The transform origin point is the intersection point of the two lines from the top left corners/top right corners of the element and target.\n     * The math and variables below MAY BE SIMPLIFIED (zeroes removed), but this would make the formula too cryptic.\n     */\n    createEffect(\"transfer\", {\n        init: function(element, target) {\n            this.element = element;\n            this.options = { target: target };\n            this.restore = [];\n        },\n\n        setup: function() {\n            this.element.appendTo(document.body);\n        },\n\n        prepare: function(start, end) {\n            var that = this,\n                element = that.element,\n                outerBox = fx.box(element),\n                innerBox = fx.box(that.options.target),\n                currentScale = animationProperty(element, \"scale\"),\n                scale = fx.fillScale(innerBox, outerBox),\n                transformOrigin = fx.transformOrigin(innerBox, outerBox);\n\n            extend(start, TRANSFER_START_STATE);\n            end.scale = 1;\n\n            element.css(TRANSFORM, \"scale(1)\").css(TRANSFORM);\n            element.css(TRANSFORM, \"scale(\" + currentScale + \")\");\n\n            start.top = outerBox.top;\n            start.left = outerBox.left;\n            start.transformOrigin = transformOrigin.x + PX + \" \" + transformOrigin.y + PX;\n\n            if (that._reverse) {\n                start.scale = scale;\n            } else {\n                end.scale = scale;\n            }\n        }\n    });\n\n\n    var CLIPS = {\n        top: \"rect(auto auto $size auto)\",\n        bottom: \"rect($size auto auto auto)\",\n        left: \"rect(auto $size auto auto)\",\n        right: \"rect(auto auto auto $size)\"\n    };\n\n    var ROTATIONS = {\n        top: { start: \"rotatex(0deg)\", end: \"rotatex(180deg)\" },\n        bottom: { start: \"rotatex(-180deg)\", end: \"rotatex(0deg)\" },\n        left: { start: \"rotatey(0deg)\", end: \"rotatey(-180deg)\" },\n        right: { start: \"rotatey(180deg)\", end: \"rotatey(0deg)\" }\n    };\n\n    function clipInHalf(container, direction) {\n        var vertical = kendo.directions[direction].vertical,\n            size = (container[vertical ? HEIGHT : WIDTH]() / 2) + \"px\";\n\n        return CLIPS[direction].replace(\"$size\", size);\n    }\n\n    createEffect(\"turningPage\", {\n        directions: FOUR_DIRECTIONS,\n\n        init: function(element, direction, container) {\n            Effect.prototype.init.call(this, element, direction);\n            this._container = container;\n        },\n\n        prepare: function(start, end) {\n            var that = this,\n                reverse = that._reverse,\n                direction = reverse ? directions[that._direction].reverse : that._direction,\n                rotation = ROTATIONS[direction];\n\n            start.zIndex = 1;\n\n            if (that._clipInHalf) {\n               start.clip = clipInHalf(that._container, kendo.directions[direction].reverse);\n            }\n\n            start[BACKFACE] = HIDDEN;\n\n            end[TRANSFORM] = TRANSFORM_PERSPECTIVE + (reverse ? rotation.start : rotation.end);\n            start[TRANSFORM] = TRANSFORM_PERSPECTIVE + (reverse ? rotation.end : rotation.start);\n        },\n\n        setup: function() {\n            this._container.append(this.element);\n        },\n\n        face: function(value) {\n            this._face = value;\n            return this;\n        },\n\n        shouldHide: function() {\n            var that = this,\n                reverse = that._reverse,\n                face = that._face;\n\n            return (reverse && !face) || (!reverse && face);\n        },\n\n        clipInHalf: function(value) {\n            this._clipInHalf = value;\n            return this;\n        },\n\n        temporary: function() {\n            this.element.addClass('temp-page');\n            return this;\n        }\n    });\n\n    createEffect(\"staticPage\", {\n        directions: FOUR_DIRECTIONS,\n\n        init: function(element, direction, container) {\n            Effect.prototype.init.call(this, element, direction);\n            this._container = container;\n        },\n\n        restore: [\"clip\"],\n\n        prepare: function(start, end) {\n            var that = this,\n                direction = that._reverse ? directions[that._direction].reverse : that._direction;\n\n            start.clip = clipInHalf(that._container, direction);\n            start.opacity = 0.999;\n            end.opacity = 1;\n        },\n\n        shouldHide: function() {\n            var that = this,\n                reverse = that._reverse,\n                face = that._face;\n\n            return (reverse && !face) || (!reverse && face);\n        },\n\n        face: function(value) {\n            this._face = value;\n            return this;\n        }\n    });\n\n    createEffect(\"pageturn\", {\n        directions: [\"horizontal\", \"vertical\"],\n\n        init: function(element, direction, face, back) {\n            Effect.prototype.init.call(this, element, direction);\n            this.options = {};\n            this.options.face = face;\n            this.options.back = back;\n        },\n\n        children: function() {\n            var that = this,\n                options = that.options,\n                direction = that._direction === \"horizontal\" ? \"left\" : \"top\",\n                reverseDirection = kendo.directions[direction].reverse,\n                reverse = that._reverse,\n                temp,\n                faceClone = options.face.clone(true).removeAttr(\"id\"),\n                backClone = options.back.clone(true).removeAttr(\"id\"),\n                element = that.element;\n\n            if (reverse) {\n                temp = direction;\n                direction = reverseDirection;\n                reverseDirection = temp;\n            }\n\n            return [\n                kendo.fx(options.face).staticPage(direction, element).face(true).setReverse(reverse),\n                kendo.fx(options.back).staticPage(reverseDirection, element).setReverse(reverse),\n                kendo.fx(faceClone).turningPage(direction, element).face(true).clipInHalf(true).temporary().setReverse(reverse),\n                kendo.fx(backClone).turningPage(reverseDirection, element).clipInHalf(true).temporary().setReverse(reverse)\n            ];\n        },\n\n        prepare: function(start, end) {\n            start[PERSPECTIVE] = DEFAULT_PERSPECTIVE;\n            start.transformStyle = \"preserve-3d\";\n            // hack to trigger transition end.\n            start.opacity = 0.999;\n            end.opacity = 1;\n        },\n\n        teardown: function() {\n            this.element.find(\".temp-page\").remove();\n        }\n    });\n\n    createEffect(\"flip\", {\n        directions: [\"horizontal\", \"vertical\"],\n\n        init: function(element, direction, face, back) {\n            Effect.prototype.init.call(this, element, direction);\n            this.options = {};\n            this.options.face = face;\n            this.options.back = back;\n        },\n\n        children: function() {\n            var that = this,\n                options = that.options,\n                direction = that._direction === \"horizontal\" ? \"left\" : \"top\",\n                reverseDirection = kendo.directions[direction].reverse,\n                reverse = that._reverse,\n                temp,\n                element = that.element;\n\n            if (reverse) {\n                temp = direction;\n                direction = reverseDirection;\n                reverseDirection = temp;\n            }\n\n            return [\n                kendo.fx(options.face).turningPage(direction, element).face(true).setReverse(reverse),\n                kendo.fx(options.back).turningPage(reverseDirection, element).setReverse(reverse)\n            ];\n        },\n\n        prepare: function(start) {\n            start[PERSPECTIVE] = DEFAULT_PERSPECTIVE;\n            start.transformStyle = \"preserve-3d\";\n        }\n    });\n\n    var RESTORE_OVERFLOW = !support.mobileOS.android;\n    var IGNORE_TRANSITION_EVENT_SELECTOR = \".km-touch-scrollbar, .km-actionsheet-wrapper\";\n\n    createEffect(\"replace\", {\n        _before: $.noop,\n        _after: $.noop,\n        init: function(element, previous, transitionClass) {\n            Effect.prototype.init.call(this, element);\n            this._previous = $(previous);\n            this._transitionClass = transitionClass;\n        },\n\n        duration: function() {\n            throw new Error(\"The replace effect does not support duration setting; the effect duration may be customized through the transition class rule\");\n        },\n\n        beforeTransition: function(callback) {\n            this._before = callback;\n            return this;\n        },\n\n        afterTransition: function(callback) {\n            this._after = callback;\n            return this;\n        },\n\n        _both: function() {\n            return $().add(this._element).add(this._previous);\n        },\n\n        _containerClass: function() {\n            var direction = this._direction,\n                containerClass = \"k-fx k-fx-start k-fx-\" + this._transitionClass;\n\n            if (direction) {\n                containerClass += \" k-fx-\" + direction;\n            }\n\n            if (this._reverse) {\n                containerClass += \" k-fx-reverse\";\n            }\n\n            return containerClass;\n        },\n\n        complete: function(e) {\n            if (!this.deferred || (e && $(e.target).is(IGNORE_TRANSITION_EVENT_SELECTOR))) {\n                return;\n            }\n\n            var container = this.container;\n\n            container\n                .removeClass(\"k-fx-end\")\n                .removeClass(this._containerClass())\n                .off(transitions.event, this.completeProxy);\n\n            this._previous.hide().removeClass(\"k-fx-current\");\n            this.element.removeClass(\"k-fx-next\");\n\n            if (RESTORE_OVERFLOW) {\n                container.css(OVERFLOW, \"\");\n            }\n\n            if (!this.isAbsolute) {\n                this._both().css(POSITION, \"\");\n            }\n\n            this.deferred.resolve();\n            delete this.deferred;\n        },\n\n        run: function() {\n            if (this._additionalEffects && this._additionalEffects[0]) {\n                return this.compositeRun();\n            }\n\n            var that = this,\n                element = that.element,\n                previous = that._previous,\n                container = element.parents().filter(previous.parents()).first(),\n                both = that._both(),\n                deferred = $.Deferred(),\n                originalPosition = element.css(POSITION),\n                originalOverflow;\n\n            // edge case for grid/scheduler, where the previous is already destroyed.\n            if (!container.length) {\n                container = element.parent();\n            }\n\n            this.container = container;\n            this.deferred = deferred;\n            this.isAbsolute = originalPosition == \"absolute\";\n\n            if (!this.isAbsolute) {\n                both.css(POSITION, \"absolute\");\n            }\n\n            if (RESTORE_OVERFLOW) {\n                originalOverflow = container.css(OVERFLOW);\n                container.css(OVERFLOW, \"hidden\");\n            }\n\n            if (!transitions) {\n                this.complete();\n            } else {\n                element.addClass(\"k-fx-hidden\");\n\n                container.addClass(this._containerClass());\n\n                this.completeProxy = this.complete.bind(this);\n                container.on(transitions.event, this.completeProxy);\n\n                kendo.animationFrame(function() {\n                    element.removeClass(\"k-fx-hidden\").addClass(\"k-fx-next\");\n                    previous.css(\"display\", \"\").addClass(\"k-fx-current\");\n                    that._before(previous, element);\n                    kendo.animationFrame(function() {\n                        container.removeClass(\"k-fx-start\").addClass(\"k-fx-end\");\n                        that._after(previous, element);\n                    });\n                });\n            }\n\n            return deferred.promise();\n        },\n\n        stop: function() {\n            this.complete();\n        }\n    });\n\n    var Animation = kendo.Class.extend({\n        init: function() {\n            var that = this;\n            that._tickProxy = that._tick.bind(that);\n            that._started = false;\n        },\n\n        tick: $.noop,\n        done: $.noop,\n        onEnd: $.noop,\n        onCancel: $.noop,\n\n        start: function() {\n            if (!this.enabled()) {\n                return;\n            }\n\n            if (!this.done()) {\n                this._started = true;\n                kendo.animationFrame(this._tickProxy);\n            } else {\n                this.onEnd();\n            }\n        },\n\n        enabled: function() {\n            return true;\n        },\n\n        cancel: function() {\n            this._started = false;\n            this.onCancel();\n        },\n\n        _tick: function() {\n            var that = this;\n            if (!that._started) { return; }\n\n            that.tick();\n\n            if (!that.done()) {\n                kendo.animationFrame(that._tickProxy);\n            } else {\n                that._started = false;\n                that.onEnd();\n            }\n        }\n    });\n\n    var Transition = Animation.extend({\n        init: function(options) {\n            var that = this;\n            extend(that, options);\n            Animation.fn.init.call(that);\n        },\n\n        done: function() {\n            return this.timePassed() >= this.duration;\n        },\n\n        timePassed: function() {\n            return Math.min(this.duration, (new Date()) - this.startDate);\n        },\n\n        moveTo: function(options) {\n            var that = this,\n                movable = that.movable;\n\n            that.initial = movable[that.axis];\n            that.delta = options.location - that.initial;\n\n            that.duration = typeof options.duration == \"number\" ? options.duration : 300;\n\n            that.tick = that._easeProxy(options.ease);\n\n            that.startDate = new Date();\n            that.start();\n        },\n\n        _easeProxy: function(ease) {\n            var that = this;\n\n            return function() {\n                that.movable.moveAxis(that.axis, ease(that.timePassed(), that.initial, that.delta, that.duration));\n            };\n        }\n    });\n\n    extend(Transition, {\n        easeOutExpo: function(t, b, c, d) {\n            return (t == d) ? b + c : c * (-Math.pow(2, -10 * t / d) + 1) + b;\n        },\n\n        easeOutBack: function(t, b, c, d, s) {\n            s = 1.70158;\n            return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n        }\n    });\n\n    fx.Animation = Animation;\n    fx.Transition = Transition;\n    fx.createEffect = createEffect;\n\n    fx.box = function(element) {\n        element = $(element);\n        var result = element.offset();\n        result.width = kendo._outerWidth(element);\n        result.height = kendo._outerHeight(element);\n        return result;\n    };\n\n    fx.transformOrigin = function(inner, outer) {\n        var x = (inner.left - outer.left) * outer.width / (outer.width - inner.width),\n            y = (inner.top - outer.top) * outer.height / (outer.height - inner.height);\n\n        return {\n            x: isNaN(x) ? 0 : x,\n            y: isNaN(y) ? 0 : y\n        };\n    };\n\n    fx.fillScale = function(inner, outer) {\n        return Math.min(inner.width / outer.width, inner.height / outer.height);\n    };\n\n    fx.fitScale = function(inner, outer) {\n        return Math.max(inner.width / outer.width, inner.height / outer.height);\n    };\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.view',[\n        \"kendo.core\",\n        \"kendo.binder\",\n        \"kendo.fx\"\n    ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"view\",\n    name: \"View\",\n    category: \"framework\",\n    description: \"The View class instantiates and handles the events of a certain screen from the application.\",\n    depends: [ \"core\", \"binder\", \"fx\" ],\n    hidden: false\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        attr = kendo.attr,\n        ui = kendo.ui,\n        attrValue = kendo.attrValue,\n        directiveSelector = kendo.directiveSelector,\n        Observable = kendo.Observable,\n        Widget = kendo.ui.Widget,\n        roleSelector = kendo.roleSelector,\n\n        SCRIPT = \"SCRIPT\",\n        INIT = \"init\",\n        TRANSITION_START = \"transitionStart\",\n        TRANSITION_END = \"transitionEnd\",\n        SHOW = \"show\",\n        HIDE = \"hide\",\n        ATTACH = \"attach\",\n        DETACH = \"detach\",\n        sizzleErrorRegExp = /unrecognized expression/;\n\n    var bodyRegExp = /<body[^>]*>(([\\u000a\\u000d\\u2028\\u2029]|.)*)<\\/body>/i;\n    var LOAD_START = \"loadStart\";\n    var LOAD_COMPLETE = \"loadComplete\";\n    var SHOW_START = \"showStart\";\n    var SAME_VIEW_REQUESTED = \"sameViewRequested\";\n    var VIEW_SHOW = \"viewShow\";\n    var VIEW_TYPE_DETERMINED = \"viewTypeDetermined\";\n    var AFTER = \"after\";\n    var classNames = {\n        content: \"k-content\",\n        view: \"k-view\",\n        stretchedView: \"k-stretched-view\",\n        widget: \"k-widget\",\n        header: \"k-header\",\n        footer: \"k-footer\"\n    };\n\n    var View = kendo.ui.Widget.extend({\n        init: function(content, options) {\n            var that = this;\n            options = options || {};\n            that.id = kendo.guid();\n\n            Observable.fn.init.call(that);\n            this.options = $.extend({}, this.options, options);\n\n            that.content = content;\n\n            if (that.options.renderOnInit) {\n                Widget.fn.init.call(that, that._createElement(), options);\n            }\n\n            if (that.options.wrapInSections) {\n                that._renderSections();\n            }\n\n            that.tagName = options.tagName || \"div\";\n            that.model = options.model;\n            that._wrap = options.wrap !== false;\n            this._evalTemplate = options.evalTemplate || false;\n            this._useWithBlock = options.useWithBlock;\n            that._fragments = {};\n\n            that.bind([ INIT, SHOW, HIDE, TRANSITION_START, TRANSITION_END ], options);\n        },\n\n        options: {\n            name: \"View\",\n            renderOnInit: false,\n            wrapInSections: false,\n            detachOnHide: true,\n            detachOnDestroy: true\n        },\n\n        render: function(container) {\n            var that = this,\n                notInitialized = !that.element;\n\n            // The order below matters - kendo.bind should happen when the element is in the DOM, and show should be triggered after init.\n\n            if (notInitialized) {\n                that.element = that._createElement();\n            }\n\n            if (container) {\n                $(container).append(that.element);\n            }\n\n            if (notInitialized) {\n                kendo.bind(that.element, that.model);\n                that.trigger(INIT);\n            }\n\n            if (container) {\n                that._eachFragment(ATTACH);\n                that.trigger(SHOW);\n            }\n\n            return that.element;\n        },\n\n        clone: function() {\n            return new ViewClone(this);\n        },\n\n        triggerBeforeShow: function() {\n            return true;\n        },\n\n        triggerBeforeHide: function() {\n            return true;\n        },\n\n        showStart: function() {\n            var that = this;\n            var element = that.render();\n\n            if (element) {\n                element.css(\"display\", \"\");\n            }\n\n            this.trigger(SHOW_START, { view: this });\n        },\n\n        showEnd: function() {\n        },\n\n        hideEnd: function() {\n            this.hide();\n        },\n\n        beforeTransition: function(type) {\n            this.trigger(TRANSITION_START, { type: type });\n        },\n\n        afterTransition: function(type) {\n            this.trigger(TRANSITION_END, { type: type });\n        },\n\n        hide: function() {\n            if (this.options.detachOnHide) {\n                this._eachFragment(DETACH);\n                $(this.element).detach();\n            }\n\n            this.trigger(HIDE);\n        },\n\n        destroy: function() {\n            var that = this;\n            var element = that.element;\n\n            if (element) {\n                Widget.fn.destroy.call(that);\n\n                kendo.unbind(element);\n                kendo.destroy(element);\n\n                if (that.options.detachOnDestroy) {\n                    element.remove();\n                }\n            }\n        },\n\n        // ported from mobile view\n        purge: function() {\n            var that = this;\n\n            that.destroy();\n            $(that.element).add(that.content).add(that.wrapper).off().remove();\n        },\n\n        fragments: function(fragments) {\n            $.extend(this._fragments, fragments);\n        },\n\n        _eachFragment: function(methodName) {\n            for (var placeholder in this._fragments) {\n                this._fragments[placeholder][methodName](this, placeholder);\n            }\n        },\n\n        _createElement: function() {\n            var that = this,\n                wrapper = \"<\" + that.tagName + \">\",\n                element,\n                content;\n\n            try {\n                content = $(document.getElementById(that.content) || that.content); // support passing id without #\n\n                if (content[0].tagName === SCRIPT) {\n                    content = content.html();\n                }\n            } catch (e) {\n                if (sizzleErrorRegExp.test(e.message)) {\n                    content = that.content;\n                }\n            }\n\n            if (typeof content === \"string\") {\n                content = content.replace(/^\\s+|\\s+$/g, '');\n                if (that._evalTemplate) {\n                    content = kendo.template(content, { useWithBlock: that._useWithBlock })(that.model || {});\n                }\n\n                element = $(wrapper).append(content);\n                // drop the wrapper if asked - this seems like the easiest (although not very intuitive) way to avoid messing up templates with questionable content, like this one for instance:\n                // <script id=\"my-template\">\n                // foo\n                // <span> Span </span>\n                // </script>\n                if (!that._wrap) {\n                   element = element.contents();\n                }\n            } else {\n                element = content;\n                if (that._evalTemplate) {\n                    var result = $(kendo.template($(\"<div />\").append(element.clone(true)).html(), { useWithBlock: that._useWithBlock })(that.model || {}));\n\n                    // template uses DOM\n                    if ($.contains(document, element[0])) {\n                        element.replaceWith(result);\n                    }\n\n                    element = result;\n                }\n                if (that._wrap) {\n                    element = element.wrapAll(wrapper).parent();\n                }\n            }\n\n            return element;\n        },\n\n        _renderSections: function() {\n            var that = this;\n\n            if (that.options.wrapInSections) {\n                that._wrapper();\n                that._createContent();\n                that._createHeader();\n                that._createFooter();\n            }\n        },\n\n        _wrapper: function() {\n            var that = this;\n            var content = that.content;\n\n            if (content.is(roleSelector(\"view\"))) {\n                that.wrapper = that.content;\n            } else {\n                that.wrapper = content\n                    .wrap('<div data-' + kendo.ns + 'stretch=\"true\" data-' + kendo.ns + 'role=\"view\" data-' + kendo.ns + 'init-widgets=\"false\"></div>')\n                    .parent();\n            }\n\n            var wrapper = that.wrapper;\n\n            wrapper.attr(\"id\", that.id);\n\n            wrapper.addClass(classNames.view);\n            wrapper.addClass(classNames.widget);\n            wrapper.attr(\"role\", \"view\");\n        },\n\n        _createContent: function() {\n            var that = this;\n            var wrapper = $(that.wrapper);\n            var contentSelector = roleSelector(\"content\");\n\n            if (!wrapper.children(contentSelector)[0]) {\n                var ccontentElements = wrapper.children().filter(function() {\n                    var child = $(this);\n                    if (!child.is(roleSelector(\"header\")) && !child.is(roleSelector(\"footer\"))) {\n                        return child;\n                    }\n                });\n\n                ccontentElements.wrap(\"<div \" + attr(\"role\") + '=\"content\"></div>');\n            }\n\n            // use contentElement instead of content as view.content can be a string\n            this.contentElement = wrapper.children(roleSelector(\"content\"));\n\n            this.contentElement\n                .addClass(classNames.stretchedView)\n                .addClass(classNames.content);\n        },\n\n        _createHeader: function() {\n            var that = this;\n            var wrapper = that.wrapper;\n\n            this.header = wrapper.children(roleSelector(\"header\")).addClass(classNames.header);\n        },\n\n        _createFooter: function() {\n            var that = this;\n            var wrapper = that.wrapper;\n\n            this.footer = wrapper.children(roleSelector(\"footer\")).addClass(classNames.footer);\n        }\n    });\n\n    var ViewClone = kendo.Class.extend({\n        init: function(view) {\n            $.extend(this, {\n                element: view.element.clone(true),\n                transition: view.transition,\n                id: view.id\n            });\n\n            view.element.parent().append(this.element);\n        },\n\n        hideEnd: function() {\n            this.element.remove();\n        },\n\n        beforeTransition: $.noop,\n        afterTransition: $.noop\n    });\n\n    var Layout = View.extend({\n        init: function(content, options) {\n            View.fn.init.call(this, content, options);\n            this.containers = {};\n        },\n\n        container: function(selector) {\n            var container = this.containers[selector];\n\n            if (!container) {\n                container = this._createContainer(selector);\n                this.containers[selector] = container;\n            }\n\n            return container;\n        },\n\n        showIn: function(selector, view, transition) {\n            this.container(selector).show(view, transition);\n        },\n\n        _createContainer: function(selector) {\n            var root = this.render(),\n                element = root.find(selector),\n                container;\n\n            if (!element.length && root.is(selector)) {\n                if (root.is(selector)) {\n                    element = root;\n                } else {\n\n                    throw new Error(\"can't find a container with the specified \" + selector + \" selector\");\n                }\n            }\n\n            container = new ViewContainer(element);\n\n            container.bind(\"accepted\", function(e) {\n                e.view.render(element);\n            });\n\n            return container;\n        }\n    });\n\n    var Fragment = View.extend({\n        attach: function(view, placeholder) {\n            view.element.find(placeholder).replaceWith(this.render());\n        },\n\n        detach: function() {\n        }\n    });\n\n    var transitionRegExp = /^(\\w+)(:(\\w+))?( (\\w+))?$/;\n\n    function parseTransition(transition) {\n        if (!transition) {\n            return {};\n        }\n\n        var matches = transition.match(transitionRegExp) || [];\n\n        return {\n            type: matches[1],\n            direction: matches[3],\n            reverse: matches[5] === \"reverse\"\n        };\n    }\n\n    var ViewContainer = Observable.extend({\n        init: function(container) {\n            Observable.fn.init.call(this);\n            this.container = container;\n            this.history = [];\n            this.view = null;\n            this.running = false;\n        },\n\n        after: function() {\n            this.running = false;\n            this.trigger(\"complete\", { view: this.view });\n            this.trigger(\"after\");\n        },\n\n        end: function() {\n            this.view.showEnd();\n            this.previous.hideEnd();\n            this.after();\n        },\n\n        show: function(view, transition, locationID) {\n            if (!view.triggerBeforeShow() || (this.view && !this.view.triggerBeforeHide())) {\n                this.trigger(\"after\");\n                return false;\n            }\n\n            locationID = locationID || view.id;\n\n            var that = this,\n                current = (view === that.view) ? view.clone() : that.view,\n                history = that.history,\n                previousEntry = history[history.length - 2] || {},\n                back = previousEntry.id === locationID,\n                // If explicit transition is set, it will be with highest priority\n                // Next we will try using the history record transition or the view transition configuration\n                theTransition = transition || ( back ? history[history.length - 1].transition : view.transition ),\n                transitionData = parseTransition(theTransition);\n\n            if (that.running) {\n                that.effect.stop();\n            }\n\n            if (theTransition === \"none\") {\n                theTransition = null;\n            }\n\n            that.trigger(\"accepted\", { view: view });\n            that.view = view;\n            that.previous = current;\n            that.running = true;\n\n            if (!back) {\n                history.push({ id: locationID, transition: theTransition });\n            } else {\n                history.pop();\n            }\n\n            if (!current) {\n                view.showStart();\n                view.showEnd();\n                that.after();\n                return true;\n            }\n\n            if (!theTransition || !kendo.effects.enabled) {\n                view.showStart();\n                that.end();\n            } else {\n                // hide the view element before init/show - prevents blinks on iPad\n                // the replace effect will remove this class\n                view.element.addClass(\"k-fx-hidden\");\n                view.showStart();\n                // do not reverse the explicit transition\n                if (back && !transition) {\n                    transitionData.reverse = !transitionData.reverse;\n                }\n\n                that.effect = kendo.fx(view.element).replace(current.element, transitionData.type)\n                    .beforeTransition(function() {\n                        view.beforeTransition(\"show\");\n                        current.beforeTransition(\"hide\");\n                    })\n                    .afterTransition(function() {\n                        view.afterTransition(\"show\");\n                        current.afterTransition(\"hide\");\n                    })\n                    .direction(transitionData.direction)\n                    .setReverse(transitionData.reverse);\n\n                that.effect.run().then(function() { that.end(); });\n            }\n\n            return true;\n        },\n\n        destroy: function() {\n            var that = this;\n            var view = that.view;\n\n            if (view && view.destroy) {\n                view.destroy();\n            }\n        }\n    });\n\n    var ViewEngine = Observable.extend({\n        init: function(options) {\n            var that = this,\n                views,\n                container;\n\n            Observable.fn.init.call(that);\n            that.options = options;\n\n            $.extend(that, options);\n            that.sandbox = $(\"<div />\");\n            container = that.container;\n\n            views = that._hideViews(container);\n            that.rootView = views.first();\n            that.layouts = {};\n\n            that.viewContainer = new kendo.ViewContainer(that.container);\n\n            that.viewContainer.bind(\"accepted\", function(e) {\n                e.view.params = that.params;\n            });\n\n            that.viewContainer.bind(\"complete\", function(e) {\n                that.trigger(VIEW_SHOW, { view: e.view });\n            });\n\n            that.viewContainer.bind(AFTER, function() {\n                that.trigger(AFTER);\n            });\n\n            this.bind(this.events, options);\n        },\n\n        events: [\n            SHOW_START,\n            AFTER,\n            VIEW_SHOW,\n            LOAD_START,\n            LOAD_COMPLETE,\n            SAME_VIEW_REQUESTED,\n            VIEW_TYPE_DETERMINED\n        ],\n\n        destroy: function() {\n            var that = this;\n            var viewContainer = that.viewContainer;\n\n            kendo.destroy(that.container);\n\n            for (var id in that.layouts) {\n                this.layouts[id].destroy();\n            }\n\n            if (viewContainer) {\n                viewContainer.destroy();\n            }\n        },\n\n        view: function() {\n            return this.viewContainer.view;\n        },\n\n        showView: function(url, transition, params) {\n            url = url.replace(new RegExp(\"^\" + this.remoteViewURLPrefix), \"\");\n            if (url === \"\" && this.remoteViewURLPrefix) {\n                url = \"/\";\n            }\n\n            if (url.replace(/^#/, \"\") === this.url) {\n                this.trigger(SAME_VIEW_REQUESTED);\n                return false;\n            }\n\n            this.trigger(SHOW_START);\n\n            var that = this,\n                element = that._findViewElement(url),\n                view = kendo.widgetInstance(element);\n\n            that.url = url.replace(/^#/, \"\");\n\n            that.params = params;\n\n            if (view && view.reload) {\n                view.purge();\n                element = [];\n            }\n\n            this.trigger(VIEW_TYPE_DETERMINED, { remote: element.length === 0, url: url });\n\n            if (element[0]) {\n                if (!view) {\n                    view = that._createView(element);\n                }\n\n                return that.viewContainer.show(view, transition, url);\n            } else {\n                return true;\n            }\n        },\n\n        append: function(html, url) {\n            var sandbox = this.sandbox,\n                urlPath = (url || \"\").split(\"?\")[0],\n                container = this.container,\n                views,\n                view;\n\n            if (bodyRegExp.test(html)) {\n                html = RegExp.$1;\n            }\n\n            sandbox[0].innerHTML = html;\n\n            container.append(sandbox.children(\"script, style\"));\n\n            views = this._hideViews(sandbox);\n            view = views.first();\n\n            // Generic HTML content found as remote view - no remote view markers\n            if (!view.length) {\n                views = view = sandbox.wrapInner(\"<div data-role=view />\").children(); // one element\n            }\n\n            if (urlPath) {\n                view.hide().attr(attr(\"url\"), urlPath);\n            }\n\n            container.append(views);\n\n            return this._createView(view);\n        },\n\n        _locate: function(selectors) {\n            return this.$angular ? directiveSelector(selectors) : roleSelector(selectors);\n        },\n\n        _findViewElement: function(url) {\n            var element,\n                urlPath = url.split(\"?\")[0];\n\n            if (!urlPath) {\n                return this.rootView;\n            }\n\n            element = this.container.children(\"[\" + attr(\"url\") + \"='\" + urlPath + \"']\");\n\n            // do not try to search for \"#/foo/bar\" id, jQuery throws error\n            if (!element[0] && urlPath.indexOf(\"/\") === -1) {\n                element = this.container.children(urlPath.charAt(0) === \"#\" ? urlPath : \"#\" + urlPath);\n            }\n\n            if (!element[0]) {\n                element = this._findViewElementById(url);\n            }\n\n            return element;\n        },\n\n        _findViewElementById: function(id) {\n            var element = this.container.children(\"[id='\" + id + \"']\");\n            return element;\n        },\n\n        _createView: function(element) {\n            //return this._createMobileView(element);\n            return this._createSpaView(element);\n        },\n\n        _createMobileView: function(element) {\n            return kendo.initWidget(element, {\n                defaultTransition: this.transition,\n                loader: this.loader,\n                container: this.container,\n                getLayout: this.getLayoutProxy,\n                modelScope: this.modelScope,\n                reload: attrValue(element, \"reload\")\n            }, ui.roles);\n        },\n\n        _createSpaView: function(element) {\n            var viewOptions = (this.options || {}).viewOptions || {};\n            return new kendo.View(element, {\n                renderOnInit: viewOptions.renderOnInit,\n                wrap: viewOptions.wrap || false,\n                wrapInSections: viewOptions.wrapInSections,\n                detachOnHide: viewOptions.detachOnHide,\n                detachOnDestroy: viewOptions.detachOnDestroy\n            });\n        },\n\n        _hideViews: function(container) {\n            return container.children(this._locate(\"view\")).hide();\n        }\n    });\n\n    kendo.ViewEngine = ViewEngine;\n\n    kendo.ViewContainer = ViewContainer;\n    kendo.Fragment = Fragment;\n    kendo.Layout = Layout;\n    kendo.View = View;\n    kendo.ViewClone = ViewClone;\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.floatinglabel',[\"kendo.core\"], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"floatinglabel\",\n    name: \"FloatingLabel\",\n    category: \"framework\",\n    depends: [\"core\"],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        ui = kendo.ui,\n        NS = \".kendoFloatingLabel\",\n        FLOATINGLABELCONTAINER = \"k-floating-label-container\",\n        EMPTY = \"k-empty\",\n        FOCUSED = \"k-focus\",\n        STATEDISABLED = \"k-disabled\",\n        NOCLICKCLASS = \"k-no-click\",\n        STATEREADONLY = \"k-readonly\";\n\n    var FloatingLabel = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            options = $.extend(true, {}, options);\n\n            that.refresh();\n            that._editable({\n                readonly: that.options.widget.options.readonly !== undefined ? that.options.widget.options.readonly : false,\n                disable: that.options.widget.options.enable !== undefined ? !(that.options.widget.options.enable) : false\n            });\n\n            that.element.addClass(FLOATINGLABELCONTAINER);\n\n            kendo.notify(that);\n        },\n\n        options: {\n            name: 'FloatingLabel',\n            widget: null,\n            useReadOnlyClass: false\n        },\n\n        readonly: function(readonly) {\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n        },\n\n        enable: function(enable) {\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n        },\n\n        refresh: function() {\n            var that = this;\n            var element = that.element;\n\n            element\n                .removeClass(EMPTY)\n                .removeClass(FOCUSED);\n\n\n            if (!that.options.widget.element.val()) {\n                element.addClass(EMPTY);\n            }\n\n            if (document.activeElement === that.options.widget.element[0]) {\n                element.addClass(FOCUSED);\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.element.off(NS);\n            Widget.fn.destroy.call(that);\n        },\n\n        _editable: function(options) {\n            var that = this;\n            var element = that.element;\n            var disable = options.disable;\n            var readonly = options.readonly;\n\n            element.off(NS);\n\n            if (!readonly && !disable) {\n                element\n                    .removeClass(STATEDISABLED)\n                    .removeClass(that.options.useReadOnlyClass ? STATEREADONLY : NOCLICKCLASS);\n\n                element.on(\"focusin\" + NS, that.refresh.bind(that));\n                element.on(\"focusout\" + NS, that.refresh.bind(that));\n            } else {\n                element\n                    .toggleClass(STATEDISABLED, disable)\n                    .toggleClass(that.options.useReadOnlyClass ? STATEREADONLY : NOCLICKCLASS, readonly);\n            }\n        }\n    });\n    ui.plugin(FloatingLabel);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.data.signalr',[ \"kendo.data\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"data.signalr\",\n    name: \"SignalR\",\n    category: \"framework\",\n    depends: [ \"data\" ],\n    hidden: true\n};\n\n(function($) {\n    var kendo = window.kendo;\n    var isFunction = kendo.isFunction;\n\n    function isJQueryPromise(promise) {\n        return promise && isFunction(promise.done) && isFunction(promise.fail);\n    }\n\n    function isNativePromise(promise) {\n        return promise && isFunction(promise.then) && isFunction(promise.catch);\n    }\n\n    var transport = kendo.data.RemoteTransport.extend({\n        init: function(options) {\n            var signalr = options && options.signalr ? options.signalr : {};\n\n            var promise = signalr.promise;\n\n            if (!promise) {\n                throw new Error('The \"promise\" option must be set.');\n            }\n\n            if (!isJQueryPromise(promise) && !isNativePromise(promise)) {\n                throw new Error('The \"promise\" option must be a Promise.');\n            }\n\n            this.promise = promise;\n\n            var hub = signalr.hub;\n\n            if (!hub) {\n                throw new Error('The \"hub\" option must be set.');\n            }\n\n            if (typeof hub.on != \"function\" || typeof hub.invoke != \"function\") {\n                throw new Error('The \"hub\" option is not a valid SignalR hub proxy.');\n            }\n\n            this.hub = hub;\n\n            kendo.data.RemoteTransport.fn.init.call(this, options);\n        },\n\n        push: function(callbacks) {\n            var client = this.options.signalr.client || {};\n\n            if (client.create) {\n                this.hub.on(client.create, callbacks.pushCreate);\n            }\n\n            if (client.update) {\n                this.hub.on(client.update, callbacks.pushUpdate);\n            }\n\n            if (client.destroy) {\n                this.hub.on(client.destroy, callbacks.pushDestroy);\n            }\n        },\n\n        _crud: function(options, type) {\n            var hub = this.hub;\n            var promise = this.promise;\n            var server = this.options.signalr.server;\n\n            if (!server || !server[type]) {\n                throw new Error(kendo.format('The \"server.{0}\" option must be set.', type));\n            }\n\n            var args = [server[type]];\n\n            var data = this.parameterMap(options.data, type);\n\n            if (!$.isEmptyObject(data)) {\n                args.push(data);\n            }\n\n            if (isJQueryPromise(promise)) {\n                promise.done(function() {\n                    hub.invoke.apply(hub, args)\n                              .done(options.success)\n                              .fail(options.error);\n                });\n            } else if (isNativePromise(promise)) {\n                promise.then(function() {\n                    hub.invoke.apply(hub, args)\n                              .then(options.success)\n                              .catch(options.error);\n                });\n            }\n        },\n\n        read: function(options) {\n            this._crud(options, \"read\");\n        },\n\n        create: function(options) {\n            this._crud(options, \"create\");\n        },\n\n        update: function(options) {\n            this._crud(options, \"update\");\n        },\n\n        destroy: function(options) {\n            this._crud(options, \"destroy\");\n        }\n    });\n\n    $.extend(true, kendo.data, {\n        transports: {\n            signalr: transport\n        }\n    });\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.validator',[ \"kendo.core\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"validator\",\n    name: \"Validator\",\n    category: \"web\",\n    description: \"The Validator offers an easy way to do a client-side form validation.\",\n    depends: [ \"core\" ]\n};\n\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        NS = \".kendoValidator\",\n        INVALIDMSG = \"k-invalid-msg\",\n        invalidMsgRegExp = new RegExp(INVALIDMSG,'i'),\n        INVALIDINPUT = \"k-invalid\",\n        VALIDINPUT = \"k-valid\",\n        VALIDATIONSUMMARY = \"k-validation-summary\",\n        INVALIDLABEL = \"k-text-error\",\n        MESSAGEBOX = \"k-messagebox k-messagebox-error\",\n        INPUTINNER = \".k-input-inner\",\n        INPUTWRAPPER = \".k-input\",\n        ARIAINVALID = \"aria-invalid\",\n        ARIADESCRIBEDBY = \"aria-describedby\",\n        emailRegExp = /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/i,\n        urlRegExp = /^(https?|ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i,\n        INPUTSELECTOR = \":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])\",\n        CHECKBOXSELECTOR = \":checkbox:not([disabled],[readonly])\",\n        NUMBERINPUTSELECTOR = \"[type=number],[type=range]\",\n        BLUR = \"blur\",\n        NAME = \"name\",\n        FORM = \"form\",\n        NOVALIDATE = \"novalidate\",\n        //events\n        VALIDATE = \"validate\",\n        CHANGE = \"change\",\n        VALIDATE_INPUT = \"validateInput\",\n\n        patternMatcher = function(value, pattern) {\n            if (typeof pattern === \"string\") {\n                pattern = new RegExp('^(?:' + pattern + ')$');\n            }\n            return pattern.test(value);\n        },\n        matcher = function(input, selector, pattern) {\n            var value = input.val();\n\n            if (input.filter(selector).length && value !== \"\") {\n                return patternMatcher(value, pattern);\n            }\n            return true;\n        },\n        hasAttribute = function(input, name) {\n            if (input.length) {\n                return input[0].attributes[name] != null;\n            }\n            return false;\n        };\n\n    if (!kendo.ui.validator) {\n        kendo.ui.validator = { rules: {}, messages: {}, allowSubmit: $.noop, validateOnInit: $.noop };\n    }\n\n    function resolveRules(element) {\n        var resolvers = kendo.ui.validator.ruleResolvers || {},\n            rules = {},\n            name;\n\n        for (name in resolvers) {\n            $.extend(true, rules, resolvers[name].resolve(element));\n        }\n        return rules;\n    }\n\n    function decode(value) {\n        return value.replace(/&amp/g, '&amp;')\n            .replace(/&quot;/g, '\"')\n            .replace(/&#39;/g, \"'\")\n            .replace(/&lt;/g, '<')\n            .replace(/&gt;/g, '>');\n    }\n\n    function numberOfDecimalDigits(value) {\n        value = (value + \"\").split('.');\n        if (value.length > 1) {\n            return value[1].length;\n        }\n        return 0;\n    }\n\n    function parseHtml(text) {\n        if ($.parseHTML) {\n            return $($.parseHTML(text));\n        }\n        return $(text);\n    }\n\n    function searchForMessageContainer(elements, fieldName) {\n        var containers = $(),\n            element,\n            attr;\n\n        for (var idx = 0, length = elements.length; idx < length; idx++) {\n            element = elements[idx];\n            if (invalidMsgRegExp.test(element.className)) {\n                attr = element.getAttribute(kendo.attr(\"for\"));\n                if (attr === fieldName) {\n                    containers = containers.add(element);\n                }\n            }\n        }\n        return containers;\n    }\n\n    function isLabelFor(label, element) {\n        if (!label) {\n            return false;\n        }\n        if (typeof label.nodeName !== 'string' || label.nodeName !== 'LABEL') {\n            return false;\n        }\n        if (typeof label.getAttribute('for') !== 'string' || typeof element.getAttribute('id') !== 'string') {\n            return false;\n        }\n        if (label.getAttribute('for') !== element.getAttribute('id')) {\n            return false;\n        }\n\n        return true;\n    }\n\n    var SUMMARYTEMPLATE = '<ul>' +\n        '#for(var i = 0; i < errors.length; i += 1){#' +\n            '<li><a data-field=\"#=errors[i].field#\" href=\"\\\\#\">#= errors[i].message #</a></li>' +\n        '# } #' +\n    '</ul>';\n\n    var Validator = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                resolved = resolveRules(element),\n                validateAttributeSelector = \"[\" + kendo.attr(\"validate\") + \"!=false]\";\n\n            options = options || {};\n\n            options.rules = $.extend({}, kendo.ui.validator.rules, resolved.rules, options.rules);\n            options.messages = $.extend({}, kendo.ui.validator.messages, resolved.messages, options.messages);\n\n            Widget.fn.init.call(that, element, options);\n\n            that._errorTemplate = kendo.template(that.options.errorTemplate);\n            that._summaryTemplate = kendo.template(that.options.validationSummary.template || SUMMARYTEMPLATE);\n\n            if (that.element.is(FORM)) {\n                that.element.attr(NOVALIDATE, NOVALIDATE);\n            }\n\n            that._inputSelector = INPUTSELECTOR + validateAttributeSelector;\n            that._checkboxSelector = CHECKBOXSELECTOR + validateAttributeSelector;\n\n            that._errors = {};\n            that._attachEvents();\n            that._isValidated = false;\n\n            if (that._validateOnInit()) {\n                that.validate();\n            }\n        },\n\n        events: [ VALIDATE, CHANGE, VALIDATE_INPUT ],\n\n        options: {\n            name: \"Validator\",\n            errorTemplate: '<span class=\"k-form-error\">#= message #</span>',\n            messages: {\n                required: \"{0} is required\",\n                pattern: \"{0} is not valid\",\n                min: \"{0} should be greater than or equal to {1}\",\n                max: \"{0} should be smaller than or equal to {1}\",\n                step: \"{0} is not valid\",\n                email: \"{0} is not valid email\",\n                url: \"{0} is not valid URL\",\n                date: \"{0} is not valid date\",\n                dateCompare: \"End date should be greater than or equal to the start date\",\n                captcha: \"The text you entered doesn't match the image.\"\n            },\n            rules: {\n                required: function(input) {\n                    var noNameCheckbox = !input.attr(\"name\") && !input.is(\":checked\"),\n                        name = input.attr(\"name\"),\n                        quote = !!name && name.indexOf(\"'\") > -1 ? '\\\"' : \"'\",\n                        namedCheckbox = input.attr(\"name\") && !this.element.find(\"input[name=\" + quote + input.attr(\"name\") + quote + \"]:checked\").length,\n                        checkbox = input.filter(\"[type=checkbox]\").length && (noNameCheckbox || namedCheckbox),\n                        radio = input.filter(\"[type=radio]\").length && !this.element.find(\"input[name=\" + quote + input.attr(\"name\") + quote + \"]:checked\").length,\n                        value = input.val();\n\n                    return !(hasAttribute(input, \"required\") && (!value || value === \"\" || value.length === 0 || checkbox || radio));\n                },\n                pattern: function(input) {\n                    if (input.filter(\"[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]\").filter(\"[pattern]\").length && input.val() !== \"\") {\n                        return patternMatcher(input.val(), input.attr(\"pattern\"));\n                    }\n                    return true;\n                },\n                min: function(input) {\n                    if (input.filter(NUMBERINPUTSELECTOR + \",[\" + kendo.attr(\"type\") + \"=number]\").filter(\"[min]\").length && input.val() !== \"\") {\n                        var min = parseFloat(input.attr(\"min\")) || 0,\n                            val = kendo.parseFloat(input.val());\n\n                        return min <= val;\n                    }\n                    return true;\n                },\n                max: function(input) {\n                    if (input.filter(NUMBERINPUTSELECTOR + \",[\" + kendo.attr(\"type\") + \"=number]\").filter(\"[max]\").length && input.val() !== \"\") {\n                        var max = parseFloat(input.attr(\"max\")) || 0,\n                            val = kendo.parseFloat(input.val());\n\n                        return max >= val;\n                    }\n                    return true;\n                },\n                step: function(input) {\n                    if (input.filter(NUMBERINPUTSELECTOR + \",[\" + kendo.attr(\"type\") + \"=number]\").filter(\"[step]\").length && input.val() !== \"\") {\n                        var min = parseFloat(input.attr(\"min\")) || 0,\n                            step = parseFloat(input.attr(\"step\")) || 1,\n                            val = parseFloat(input.val()),\n                            decimals = numberOfDecimalDigits(step),\n                            raise;\n\n                        if (decimals) {\n                            raise = Math.pow(10, decimals);\n                            return ((Math.floor((val - min) * raise)) % (step * raise)) / Math.pow(100, decimals) === 0;\n                        }\n                        return ((val - min) % step) === 0;\n                    }\n                    return true;\n                },\n                email: function(input) {\n                    return matcher(input, \"[type=email],[\" + kendo.attr(\"type\") + \"=email]\", emailRegExp);\n                },\n                url: function(input) {\n                    return matcher(input, \"[type=url],[\" + kendo.attr(\"type\") + \"=url]\", urlRegExp);\n                },\n                date: function(input) {\n                    if (input.filter(\"[type^=date],[\" + kendo.attr(\"type\") + \"=date]\").length && input.val() !== \"\") {\n                        return kendo.parseDate(input.val(), input.attr(kendo.attr(\"format\"))) !== null;\n                    }\n                    return true;\n                },\n                captcha: function(input) {\n                    if (input.filter(\"[\" + kendo.attr(\"role\") + \"=captcha]\").length) {\n                        var that = this,\n                            captcha = kendo.widgetInstance(input),\n                            isValidated = function(isValid) {\n                                return typeof(isValid) !== 'undefined' && isValid !== null;\n                            };\n\n                        if (!input.data(\"captcha_validating\") && !isValidated(captcha.isValid()) && !!captcha.getCaptchaId()) {\n                            input.data(\"captcha_validating\", true);\n                            that._validating = true;\n                            captcha.validate().done(function() {\n                                that._validating = false;\n                                that._checkElement(input);\n                            }).fail(function(data) {\n                                that._validating = false;\n                                if (data.error && data.error === \"handler_not_defined\") {\n                                    window.console.warn(\"Captcha's validationHandler is not defined! You should either define a proper validation endpoint or declare a callback function to ensure the required behavior.\");\n                                }\n                            });\n                        }\n\n                        if (isValidated(captcha.isValid())) {\n                            input.removeData(\"captcha_validating\");\n                            return captcha.isValid();\n                        }\n                    }\n                    return true;\n                }\n            },\n            validateOnBlur: true,\n            validationSummary: false\n        },\n\n        _allowSubmit: function() {\n            return kendo.ui.validator.allowSubmit(this.element, this.errors());\n        },\n\n        _validateOnInit: function() {\n            return kendo.ui.validator.validateOnInit(this.element);\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            this.element.off(NS);\n\n            if (this.validationSummary) {\n                this.validationSummary.off(NS);\n                this.validationSummary = null;\n            }\n        },\n\n        value: function() {\n            if (!this._isValidated) {\n                return false;\n            }\n\n            return this.errors().length === 0;\n        },\n\n        _submit: function(e) {\n            if ((!this.validate() && !this._allowSubmit()) || this._validating) {\n                e.stopPropagation();\n                e.stopImmediatePropagation();\n                e.preventDefault();\n                return false;\n            }\n            return true;\n        },\n\n        _checkElement: function(element) {\n            var state = this.value();\n\n            this.validateInput(element);\n\n            if (this.value() !== state) {\n                this.trigger(CHANGE);\n            }\n        },\n\n        _attachEvents: function() {\n            var that = this;\n\n            if (that.element.is(FORM)) {\n                that.element.on(\"submit\" + NS, that._submit.bind(that));\n            }\n\n            if (that.options.validateOnBlur) {\n                if (!that.element.is(INPUTSELECTOR)) {\n                    that.element.on(BLUR + NS, that._inputSelector, function() {\n                        that._checkElement($(this));\n                    });\n\n                    that.element.on(\"click\" + NS, that._checkboxSelector, function() {\n                        that._checkElement($(this));\n                    });\n                } else {\n                    that.element.on(BLUR + NS, function() {\n                        that._checkElement(that.element);\n                    });\n\n                    if (that.element.is(CHECKBOXSELECTOR)) {\n                        that.element.on(\"click\" + NS, function() {\n                            that._checkElement(that.element);\n                        });\n                    }\n                }\n            }\n        },\n\n        validate: function() {\n            var inputs;\n            var idx;\n            var result = false;\n            var length;\n\n            var isValid = this.value();\n\n            this._errors = {};\n\n            if (!this.element.is(INPUTSELECTOR)) {\n                var invalid = false;\n\n                inputs = this.element.find(this._inputSelector);\n\n                for (idx = 0, length = inputs.length; idx < length; idx++) {\n                    if (!this.validateInput(inputs.eq(idx))) {\n                        invalid = true;\n                    }\n                }\n\n                result = !invalid;\n            } else {\n                result = this.validateInput(this.element);\n            }\n\n            if (this.options.validationSummary && !isValid) {\n                this.showValidationSummary();\n            }\n\n            this.trigger(VALIDATE, { valid: result, errors: this.errors() });\n\n            if (isValid !== result) {\n                this.trigger(CHANGE);\n            }\n\n            return result;\n        },\n\n        validateInput: function(input) {\n            input = $(input);\n\n\n            this._isValidated = true;\n\n            var that = this,\n                template = that._errorTemplate,\n                result = that._checkValidity(input),\n                valid = result.valid,\n                widgetInstance,\n                className = \".\" + INVALIDMSG,\n                fieldName = (input.attr(NAME) || \"\"),\n                lbl = that._findMessageContainer(fieldName).add(input.next(className).filter(function() {\n                    var element = $(this);\n                    if (element.filter(\"[\" + kendo.attr(\"for\") + \"]\").length) {\n                        return element.attr(kendo.attr(\"for\")) === fieldName;\n                    }\n\n                    return true;\n\n                })).addClass(\"k-hidden\"),\n                messageText = !valid ? that._extractMessage(input, result.key) : \"\",\n                messageLabel = !valid ? parseHtml(template({ message: decode(messageText), field: fieldName })) : \"\",\n                wasValid = !input.attr(ARIAINVALID),\n                isInputInner = input.is(INPUTINNER),\n                inputWrapper = input.parent(INPUTWRAPPER);\n\n            input.removeAttr(ARIAINVALID);\n\n            if (input.hasClass(\"k-hidden\")) {\n                widgetInstance = kendo.widgetInstance(input.closest(\".k-signature\"));\n            }\n\n            if (!valid && !input.data(\"captcha_validating\")) {\n                that._errors[fieldName] = messageText;\n                var lblId = lbl.attr('id');\n\n                that._decorateMessageContainer(messageLabel, fieldName);\n\n\n                if (lblId) {\n                    messageLabel.attr('id', lblId);\n                }\n\n                if (lbl.length !== 0) {\n                    lbl.replaceWith(messageLabel);\n                } else {\n                    widgetInstance = widgetInstance || kendo.widgetInstance(input);\n                    var parentElement = input.parent().get(0);\n                    var nextElement = input.next().get(0);\n                    var prevElement = input.prev().get(0);\n\n                    // Get the instance of the RadioGroup which is not initialized on the input element\n                    if (!widgetInstance && input.is(\"[type=radio]\")) {\n                        widgetInstance = kendo.widgetInstance(input.closest(\".k-radio-list\"));\n                    }\n\n                    // Get the instance of the CheckBoxGroup which is not initialized on the input element\n                    if (!widgetInstance && input.is(\"[type=checkbox]\")) {\n                        widgetInstance = kendo.widgetInstance(input.closest(\".k-checkbox-list\"));\n                    }\n\n                    if (widgetInstance && widgetInstance.wrapper && (widgetInstance.element !== widgetInstance.wrapper || widgetInstance.options.name == \"Signature\")) {\n                        messageLabel.insertAfter(widgetInstance.wrapper);\n                    } else if (parentElement && parentElement.nodeName === \"LABEL\") {\n                        // Input inside label\n                        messageLabel.insertAfter(parentElement);\n                    } else if (nextElement && isLabelFor(nextElement, input[0])) {\n                        // Input before label\n                        messageLabel.insertAfter(nextElement);\n                    } else if (prevElement && isLabelFor(prevElement, input[0])) {\n                        // Input after label\n                        messageLabel.insertAfter(input);\n                    } else if (isInputInner && inputWrapper.length) {\n                        // Input after input wrapper\n                        messageLabel.insertAfter(inputWrapper);\n                    } else {\n                        messageLabel.insertAfter(input);\n                    }\n                }\n\n                messageLabel.removeClass(\"k-hidden\");\n\n                input.attr(ARIAINVALID, true);\n            } else {\n                delete that._errors[fieldName];\n            }\n\n            if (wasValid !== valid) {\n                this.trigger(VALIDATE_INPUT, { valid: valid, input: input, error: messageText, field: fieldName });\n            }\n\n            widgetInstance = (widgetInstance && widgetInstance.options.name == \"Signature\") ? widgetInstance : kendo.widgetInstance(input);\n            if (!widgetInstance || !(widgetInstance._inputWrapper || widgetInstance.wrapper)) {\n                input.toggleClass(INVALIDINPUT, !valid);\n                input.toggleClass(VALIDINPUT, valid);\n            }\n\n            if (widgetInstance) {\n                var inputWrap = widgetInstance._inputWrapper || widgetInstance.wrapper;\n                var inputLabel = widgetInstance._inputLabel;\n\n                if (inputWrap) {\n                    inputWrap.toggleClass(INVALIDINPUT, !valid);\n                    inputWrap.toggleClass(VALIDINPUT, valid);\n                }\n                if (inputLabel) {\n                    inputLabel.toggleClass(INVALIDLABEL, !valid);\n                }\n            }\n\n            if (wasValid !== valid) {\n                var errorId = messageLabel ? messageLabel.attr(\"id\") : lbl.attr(\"id\");\n\n                that._associateMessageContainer(input, errorId);\n\n                if (this.options.validationSummary && this.options.validateOnBlur) {\n                    this.showValidationSummary();\n                }\n            }\n\n            return valid;\n        },\n\n        hideMessages: function() {\n            var that = this,\n                className = \".\" + INVALIDMSG,\n                element = that.element;\n\n            that._disassociateMessageContainers();\n\n            if (!element.is(INPUTSELECTOR)) {\n                element.find(className).addClass(\"k-hidden\");\n            } else {\n                element.next(className).addClass(\"k-hidden\");\n            }\n        },\n\n        reset: function() {\n            var that = this,\n                inputs = that.element.find(\".\" + INVALIDINPUT),\n                labels = that.element.find(\".\" + INVALIDLABEL);\n\n            that._errors = [];\n\n            that.hideMessages();\n\n            that.hideValidationSummary();\n\n            inputs.removeAttr(ARIAINVALID);\n            inputs.removeClass(INVALIDINPUT);\n            labels.removeClass(INVALIDLABEL);\n        },\n\n        _findMessageContainer: function(fieldName) {\n            var locators = kendo.ui.validator.messageLocators,\n                name,\n                containers = $();\n\n            for (var idx = 0, length = this.element.length; idx < length; idx++) {\n                containers = containers.add(searchForMessageContainer(this.element[idx].getElementsByTagName(\"*\"), fieldName));\n            }\n\n            for (name in locators) {\n                containers = containers.add(locators[name].locate(this.element, fieldName));\n            }\n\n            return containers;\n        },\n\n        _decorateMessageContainer: function(container, fieldName) {\n            var locators = kendo.ui.validator.messageLocators,\n                name;\n\n            container.addClass(INVALIDMSG)\n                .attr(kendo.attr(\"for\"), fieldName || \"\");\n\n            if (!container.attr(\"id\")) {\n                container.attr(\"id\", fieldName + \"-error\");\n            }\n\n            for (name in locators) {\n                locators[name].decorate(container, fieldName);\n            }\n        },\n\n        _extractMessage: function(input, ruleKey) {\n            var that = this,\n                customMessage = that.options.messages[ruleKey],\n                fieldName = input.attr(NAME),\n                nonDefaultMessage;\n\n            if (!kendo.ui.Validator.prototype.options.messages[ruleKey]) {\n                 nonDefaultMessage = kendo.isFunction(customMessage) ? customMessage(input) : customMessage;\n            }\n\n            customMessage = kendo.isFunction(customMessage) ? customMessage(input) : customMessage;\n\n            return kendo.format(input.attr(kendo.attr(ruleKey + \"-msg\")) || input.attr(\"validationMessage\") || nonDefaultMessage || customMessage || input.attr(\"title\") || \"\",\n                fieldName,\n                input.attr(ruleKey) || input.attr(kendo.attr(ruleKey)));\n        },\n\n        _checkValidity: function(input) {\n            var rules = this.options.rules,\n                rule;\n\n            for (rule in rules) {\n                if (!rules[rule].call(this, input)) {\n                    return { valid: false, key: rule };\n                }\n            }\n\n            return { valid: true };\n        },\n\n        errors: function() {\n            var results = [],\n                errors = this._errors,\n                error;\n\n            for (error in errors) {\n                results.push(errors[error]);\n            }\n            return results;\n        },\n\n        setOptions: function(options) {\n            if (options.validationSummary) {\n                this.hideValidationSummary();\n            }\n\n            kendo.deepExtend(this.options, options);\n\n            this.destroy();\n\n            this.init(this.element, this.options);\n\n            this._setEvents(this.options);\n        },\n\n        _getInputNames: function() {\n            var that = this,\n                inputs = that.element.find(that._inputSelector),\n                sorted = [];\n\n            for (var idx = 0, length = inputs.length; idx < length; idx++) {\n                var input = $(inputs[idx]);\n\n                if (hasAttribute(input, NAME)) {\n                    // Add current name if:\n                    // - not present so far;\n                    // - present but not part of CheckBoxGroup or RadioGroup.\n                    if (sorted.indexOf(input.attr(NAME)) === -1 ||\n                        (input.closest(\".k-checkbox-list\").length === 0 &&\n                        input.closest(\".k-radio-list\").length === 0)) {\n                            sorted.push(input.attr(NAME));\n                    }\n                }\n            }\n\n            return sorted;\n        },\n\n        _associateMessageContainer: function(input, errorId) {\n            var nextFocusable = kendo.getWidgetFocusableElement(input);\n\n            if (!nextFocusable || !errorId) {\n                return;\n            }\n\n            kendo.toggleAttribute(nextFocusable, ARIADESCRIBEDBY, errorId);\n        },\n\n        _disassociateMessageContainers: function() {\n            var that = this,\n                inputs = that.element.find(\".\" + INVALIDINPUT).addBack(),\n                input, errorId;\n\n            for (var i = 0; i < inputs.length; i += 1) {\n                input = $(inputs[i]);\n\n                if (input.is(\"input\")) {\n                    errorId = that._findMessageContainer(input.attr(NAME))\n                        .add(input.next(\".\" + INVALIDMSG))\n                        .attr(\"id\");\n\n                    that._associateMessageContainer(input, errorId);\n                }\n            }\n        },\n\n        _errorsByName: function() {\n            var that = this,\n                inputNames = that._getInputNames(),\n                sorted = [];\n\n            for (var i = 0; i < inputNames.length; i += 1) {\n                var name = inputNames[i];\n\n                if (that._errors[name]) {\n                    sorted.push({\n                        field: name,\n                        message: that._errors[name]\n                    });\n                }\n            }\n\n            return sorted;\n        },\n\n        _renderSummary: function() {\n            var that = this,\n                options = this.options.validationSummary,\n                element = this.element,\n                prevElement = element.prev(),\n                container;\n\n            if (options.container) {\n                container = $(options.container);\n            } else if (prevElement && prevElement.hasClass(VALIDATIONSUMMARY)) {\n                container = prevElement;\n            } else {\n                container = $(\"<div />\").insertBefore(that.element);\n            }\n\n            container.addClass([VALIDATIONSUMMARY, MESSAGEBOX].join(\" \"));\n            container.attr(\"role\", \"alert\");\n\n            container.on(\"click\" + NS, that._summaryClick.bind(that));\n\n            return container;\n        },\n\n        _summaryClick: function(e) {\n            e.preventDefault();\n\n            var that = this,\n                link = $(e.target),\n                target = that.element.find(\"[name='\" + link.data(\"field\") + \"']\"),\n                nextFocusable;\n\n            if (!target.length) {\n                return;\n            }\n\n            nextFocusable = kendo.getWidgetFocusableElement(target);\n\n            if (nextFocusable) {\n                nextFocusable.trigger(\"focus\");\n            }\n        },\n\n        showValidationSummary: function() {\n            var that = this,\n                summary = that.validationSummary,\n                errors = that._errorsByName(),\n                errorsList;\n\n            if (!summary) {\n                summary = that.validationSummary = that._renderSummary();\n            }\n\n            errorsList = parseHtml(that._summaryTemplate({\n                errors: errors\n            }));\n\n            summary.html(errorsList);\n\n            summary.toggleClass(\"k-hidden\", !errors.length);\n        },\n\n        hideValidationSummary: function() {\n            var that = this,\n                summary = that.validationSummary;\n\n            if (!summary) {\n                return;\n            }\n\n            summary.addClass(\"k-hidden\");\n        }\n    });\n\n    kendo.ui.plugin(Validator);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.draganddrop',[ \"kendo.core\", \"kendo.userevents\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"draganddrop\",\n    name: \"Drag & drop\",\n    category: \"framework\",\n    description: \"Drag & drop functionality for any DOM element.\",\n    depends: [ \"core\", \"userevents\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        support = kendo.support,\n        document = window.document,\n        $window = $(window),\n        Class = kendo.Class,\n        Widget = kendo.ui.Widget,\n        Observable = kendo.Observable,\n        UserEvents = kendo.UserEvents,\n        extend = $.extend,\n        getOffset = kendo.getOffset,\n        draggables = {},\n        dropTargets = {},\n        dropAreas = {},\n        lastDropTarget,\n        elementUnderCursor = kendo.elementUnderCursor,\n        KEYUP = \"keyup\",\n        CHANGE = \"change\",\n\n        // Draggable events\n        DRAGSTART = \"dragstart\",\n        HOLD = \"hold\",\n        DRAG = \"drag\",\n        DRAGEND = \"dragend\",\n        DRAGCANCEL = \"dragcancel\",\n        HINTDESTROYED = \"hintDestroyed\",\n\n        // DropTarget events\n        DRAGENTER = \"dragenter\",\n        DRAGLEAVE = \"dragleave\",\n        DROP = \"drop\";\n\n    function contains(parent, child) {\n        try {\n            return $.contains(parent, child) || parent == child;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    function numericCssPropery(element, property) {\n        return parseInt(element.css(property), 10) || 0;\n    }\n\n    function within(value, range) {\n        return Math.min(Math.max(value, range.min), range.max);\n    }\n\n    function containerBoundaries(container, element) {\n        var offset = getOffset(container),\n            outerWidth = kendo._outerWidth,\n            outerHeight = kendo._outerHeight,\n            minX = offset.left + numericCssPropery(container, \"borderLeftWidth\") + numericCssPropery(container, \"paddingLeft\"),\n            minY = offset.top + numericCssPropery(container, \"borderTopWidth\") + numericCssPropery(container, \"paddingTop\"),\n            maxX = minX + container.width() - outerWidth(element, true),\n            maxY = minY + container.height() - outerHeight(element, true);\n\n        return {\n            x: { min: minX, max: maxX },\n            y: { min: minY, max: maxY }\n        };\n    }\n\n    function checkTarget(target, targets, areas) {\n        var theTarget, theFilter, i = 0,\n            targetLen = targets && targets.length,\n            areaLen = areas && areas.length;\n\n        while (target && target.parentNode) {\n            for (i = 0; i < targetLen; i ++) {\n                theTarget = targets[i];\n                if (theTarget.element[0] === target) {\n                    return { target: theTarget, targetElement: target };\n                }\n            }\n\n            for (i = 0; i < areaLen; i ++) {\n                theFilter = areas[i];\n                if ($.contains(theFilter.element[0], target) && support.matchesSelector.call(target, theFilter.options.filter)) {\n                    return { target: theFilter, targetElement: target };\n                }\n            }\n\n            target = target.parentNode;\n        }\n\n        return undefined;\n    }\n\n    var TapCapture = Observable.extend({\n        init: function(element, options) {\n            var that = this,\n                domElement = element[0];\n\n            that.capture = false;\n\n            if (domElement.addEventListener) {\n                $.each(kendo.eventMap.down.split(\" \"), function() {\n                    domElement.addEventListener(this, that._press.bind(that), true);\n                });\n                $.each(kendo.eventMap.up.split(\" \"), function() {\n                    domElement.addEventListener(this, that._release.bind(that), true);\n                });\n            } else {\n                $.each(kendo.eventMap.down.split(\" \"), function() {\n                    domElement.attachEvent(this, that._press.bind(that));\n                });\n                $.each(kendo.eventMap.up.split(\" \"), function() {\n                    domElement.attachEvent(this, that._release.bind(that));\n                });\n            }\n\n            Observable.fn.init.call(that);\n\n            that.bind([\"press\", \"release\"], options || {});\n        },\n\n        captureNext: function() {\n            this.capture = true;\n        },\n\n        cancelCapture: function() {\n            this.capture = false;\n        },\n\n        _press: function(e) {\n            var that = this;\n            that.trigger(\"press\");\n            if (that.capture) {\n                e.preventDefault();\n            }\n        },\n\n        _release: function(e) {\n            var that = this;\n            that.trigger(\"release\");\n\n            if (that.capture) {\n                e.preventDefault();\n                that.cancelCapture();\n            }\n        }\n    });\n\n    var PaneDimension = Observable.extend({\n        init: function(options) {\n            var that = this;\n            Observable.fn.init.call(that);\n\n            that.forcedEnabled = false;\n\n            $.extend(that, options);\n\n            that.scale = 1;\n\n            if (that.horizontal) {\n                that.measure = \"offsetWidth\";\n                that.scrollSize = \"scrollWidth\";\n                that.axis = \"x\";\n            } else {\n                that.measure = \"offsetHeight\";\n                that.scrollSize = \"scrollHeight\";\n                that.axis = \"y\";\n            }\n        },\n\n        makeVirtual: function() {\n            $.extend(this, {\n                virtual: true,\n                forcedEnabled: true,\n                _virtualMin: 0,\n                _virtualMax: 0\n            });\n        },\n\n        virtualSize: function(min, max) {\n            if (this._virtualMin !== min || this._virtualMax !== max) {\n                this._virtualMin = min;\n                this._virtualMax = max;\n                this.update();\n            }\n        },\n\n        outOfBounds: function(offset) {\n            return offset > this.max || offset < this.min;\n        },\n\n        forceEnabled: function() {\n            this.forcedEnabled = true;\n        },\n\n        getSize: function() {\n            return this.container[0][this.measure];\n        },\n\n        getTotal: function() {\n            return this.element[0][this.scrollSize];\n        },\n\n        rescale: function(scale) {\n            this.scale = scale;\n        },\n\n        update: function(silent) {\n            var that = this,\n                total = that.virtual ? that._virtualMax : that.getTotal(),\n                scaledTotal = total * that.scale,\n                size = that.getSize();\n\n            if (total === 0 && !that.forcedEnabled) {\n                return; // we are not visible.\n            }\n\n            that.max = that.virtual ? -that._virtualMin : 0;\n            that.size = size;\n            that.total = scaledTotal;\n            that.min = Math.min(that.max, size - scaledTotal);\n            that.minScale = size / total;\n            that.centerOffset = (scaledTotal - size) / 2;\n\n            that.enabled = that.forcedEnabled || (scaledTotal > size);\n\n            if (!silent) {\n                that.trigger(CHANGE, that);\n            }\n        }\n    });\n\n    var PaneDimensions = Observable.extend({\n        init: function(options) {\n            var that = this;\n\n            Observable.fn.init.call(that);\n\n            that.x = new PaneDimension(extend({ horizontal: true }, options));\n            that.y = new PaneDimension(extend({ horizontal: false }, options));\n            that.container = options.container;\n            that.forcedMinScale = options.minScale;\n            that.maxScale = options.maxScale || 100;\n\n            that.bind(CHANGE, options);\n        },\n\n        rescale: function(newScale) {\n            this.x.rescale(newScale);\n            this.y.rescale(newScale);\n            this.refresh();\n        },\n\n        centerCoordinates: function() {\n            return { x: Math.min(0, -this.x.centerOffset), y: Math.min(0, -this.y.centerOffset) };\n        },\n\n        refresh: function() {\n            var that = this;\n            that.x.update();\n            that.y.update();\n            that.enabled = that.x.enabled || that.y.enabled;\n            that.minScale = that.forcedMinScale || Math.min(that.x.minScale, that.y.minScale);\n            that.fitScale = Math.max(that.x.minScale, that.y.minScale);\n            that.trigger(CHANGE);\n        }\n    });\n\n    var PaneAxis = Observable.extend({\n        init: function(options) {\n            var that = this;\n            extend(that, options);\n            Observable.fn.init.call(that);\n        },\n\n        outOfBounds: function() {\n            return this.dimension.outOfBounds(this.movable[this.axis]);\n        },\n\n        dragMove: function(delta) {\n            var that = this,\n                dimension = that.dimension,\n                axis = that.axis,\n                movable = that.movable,\n                position = movable[axis] + delta;\n\n            if (!dimension.enabled) {\n                return;\n            }\n\n            if ((position < dimension.min && delta < 0) || (position > dimension.max && delta > 0)) {\n                delta *= that.resistance;\n            }\n\n            movable.translateAxis(axis, delta);\n            that.trigger(CHANGE, that);\n        }\n    });\n\n    var Pane = Class.extend({\n\n        init: function(options) {\n            var that = this,\n                x,\n                y,\n                resistance,\n                movable;\n\n            extend(that, { elastic: true }, options);\n\n            resistance = that.elastic ? 0.5 : 0;\n            movable = that.movable;\n\n            that.x = x = new PaneAxis({\n                axis: \"x\",\n                dimension: that.dimensions.x,\n                resistance: resistance,\n                movable: movable\n            });\n\n            that.y = y = new PaneAxis({\n                axis: \"y\",\n                dimension: that.dimensions.y,\n                resistance: resistance,\n                movable: movable\n            });\n\n            that.userEvents.bind([\"press\", \"move\", \"end\", \"gesturestart\", \"gesturechange\"], {\n                gesturestart: function(e) {\n                    that.gesture = e;\n                    that.offset = that.dimensions.container.offset();\n                },\n\n                press: function(e) {\n                    if ($(e.event.target).closest(\"a\").is(\"[data-navigate-on-press=true]\")) {\n                        e.sender.cancel();\n                    }\n                },\n\n                gesturechange: function(e) {\n                    var previousGesture = that.gesture,\n                        previousCenter = previousGesture.center,\n\n                        center = e.center,\n\n                        scaleDelta = e.distance / previousGesture.distance,\n\n                        minScale = that.dimensions.minScale,\n                        maxScale = that.dimensions.maxScale,\n                        coordinates;\n\n                    if (movable.scale <= minScale && scaleDelta < 1) {\n                        // Resist shrinking. Instead of shrinking from 1 to 0.5, it will shrink to 0.5 + (1 /* minScale */ - 0.5) * 0.8 = 0.9;\n                        scaleDelta += (1 - scaleDelta) * 0.8;\n                    }\n\n                    if (movable.scale * scaleDelta >= maxScale) {\n                        scaleDelta = maxScale / movable.scale;\n                    }\n\n                    var offsetX = movable.x + that.offset.left,\n                        offsetY = movable.y + that.offset.top;\n\n                    coordinates = {\n                        x: (offsetX - previousCenter.x) * scaleDelta + center.x - offsetX,\n                        y: (offsetY - previousCenter.y) * scaleDelta + center.y - offsetY\n                    };\n\n                    movable.scaleWith(scaleDelta);\n\n                    x.dragMove(coordinates.x);\n                    y.dragMove(coordinates.y);\n\n                    that.dimensions.rescale(movable.scale);\n                    that.gesture = e;\n                    e.preventDefault();\n                },\n\n                move: function(e) {\n                    if (e.event.target.tagName.match(/textarea|input/i)) {\n                        return;\n                    }\n\n                    if (x.dimension.enabled || y.dimension.enabled) {\n                        x.dragMove(e.x.delta);\n                        y.dragMove(e.y.delta);\n                        e.preventDefault();\n                    } else {\n                        e.touch.skip();\n                    }\n                },\n\n                end: function(e) {\n                    e.preventDefault();\n                }\n            });\n        }\n    });\n\n    var TRANSFORM_STYLE = support.transitions.prefix + \"Transform\",\n        translate;\n\n\n    if (support.hasHW3D) {\n        translate = function(x, y, scale) {\n            return \"translate3d(\" + x + \"px,\" + y + \"px,0) scale(\" + scale + \")\";\n        };\n    } else {\n        translate = function(x, y, scale) {\n            return \"translate(\" + x + \"px,\" + y + \"px) scale(\" + scale + \")\";\n        };\n    }\n\n    var Movable = Observable.extend({\n        init: function(element) {\n            var that = this;\n\n            Observable.fn.init.call(that);\n\n            that.element = $(element);\n            that.element[0].style.webkitTransformOrigin = \"left top\";\n            that.x = 0;\n            that.y = 0;\n            that.scale = 1;\n            that._saveCoordinates(translate(that.x, that.y, that.scale));\n        },\n\n        translateAxis: function(axis, by) {\n            this[axis] += by;\n            this.refresh();\n        },\n\n        scaleTo: function(scale) {\n            this.scale = scale;\n            this.refresh();\n        },\n\n        scaleWith: function(scaleDelta) {\n            this.scale *= scaleDelta;\n            this.refresh();\n        },\n\n        translate: function(coordinates) {\n            this.x += coordinates.x;\n            this.y += coordinates.y;\n            this.refresh();\n        },\n\n        moveAxis: function(axis, value) {\n            this[axis] = value;\n            this.refresh();\n        },\n\n        moveTo: function(coordinates) {\n            extend(this, coordinates);\n            this.refresh();\n        },\n\n        refresh: function() {\n            var that = this,\n                x = that.x,\n                y = that.y,\n                newCoordinates;\n\n            if (that.round) {\n                x = Math.round(x);\n                y = Math.round(y);\n            }\n\n            newCoordinates = translate(x, y, that.scale);\n\n            if (newCoordinates != that.coordinates) {\n                if (kendo.support.browser.msie && kendo.support.browser.version < 10) {\n                    that.element[0].style.position = \"absolute\";\n                    that.element[0].style.left = that.x + \"px\";\n                    that.element[0].style.top = that.y + \"px\";\n\n                } else {\n                    that.element[0].style[TRANSFORM_STYLE] = newCoordinates;\n                }\n                that._saveCoordinates(newCoordinates);\n                that.trigger(CHANGE);\n            }\n        },\n\n        _saveCoordinates: function(coordinates) {\n            this.coordinates = coordinates;\n        }\n    });\n\n    function destroyDroppable(collection, widget) {\n        var groupName = widget.options.group,\n        droppables = collection[groupName],\n        i;\n\n        Widget.fn.destroy.call(widget);\n\n        if (droppables.length > 1) {\n            for (i = 0; i < droppables.length; i++) {\n                if (droppables[i] == widget) {\n                    droppables.splice(i, 1);\n                    break;\n                }\n            }\n        } else {\n            droppables.length = 0; // WTF, porting this from the previous destroyGroup\n            delete collection[groupName];\n        }\n    }\n\n    var DropTarget = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            var group = that.options.group;\n\n            if (!(group in dropTargets)) {\n                dropTargets[group] = [ that ];\n            } else {\n                dropTargets[group].push( that );\n            }\n        },\n\n        events: [\n            DRAGENTER,\n            DRAGLEAVE,\n            DROP\n        ],\n\n        options: {\n            name: \"DropTarget\",\n            group: \"default\"\n        },\n\n        destroy: function() {\n            destroyDroppable(dropTargets, this);\n        },\n\n        _trigger: function(eventName, e) {\n            var that = this,\n                draggable = draggables[that.options.group];\n\n            if (draggable) {\n                return that.trigger(eventName, extend({}, e.event, {\n                           draggable: draggable,\n                           dropTarget: e.dropTarget\n                       }));\n            }\n        },\n\n        _over: function(e) {\n            this._trigger(DRAGENTER, e);\n        },\n\n        _out: function(e) {\n            this._trigger(DRAGLEAVE, e);\n        },\n\n        _drop: function(e) {\n            var that = this,\n                draggable = draggables[that.options.group];\n\n            if (draggable) {\n                draggable.dropped = !that._trigger(DROP, e);\n            }\n        }\n    });\n\n    DropTarget.destroyGroup = function(groupName) {\n        var group = dropTargets[groupName] || dropAreas[groupName],\n            i;\n\n        if (group) {\n            for (i = 0; i < group.length; i++) {\n                Widget.fn.destroy.call(group[i]);\n            }\n\n            group.length = 0;\n            delete dropTargets[groupName];\n            delete dropAreas[groupName];\n        }\n    };\n\n    DropTarget._cache = dropTargets;\n\n    var DropTargetArea = DropTarget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            var group = that.options.group;\n\n            if (!(group in dropAreas)) {\n                dropAreas[group] = [ that ];\n            } else {\n                dropAreas[group].push( that );\n            }\n        },\n\n        destroy: function() {\n            destroyDroppable(dropAreas, this);\n        },\n\n        options: {\n            name: \"DropTargetArea\",\n            group: \"default\",\n            filter: null\n        }\n    });\n\n    var Draggable = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._activated = false;\n\n            that.userEvents = new UserEvents(that.element, {\n                global: true,\n                allowSelection: true,\n                filter: that.options.filter,\n                threshold: that.options.distance,\n                start: that._start.bind(that),\n                hold: that._hold.bind(that),\n                move: that._drag.bind(that),\n                end: that._end.bind(that),\n                cancel: that._cancel.bind(that),\n                select: that._select.bind(that)\n            });\n\n            if (kendo.support.touch) {\n                that.element.find(that.options.filter).css('touch-action', 'none');\n            }\n\n            that._afterEndHandler = that._afterEnd.bind(that);\n            that._captureEscape = that._captureEscape.bind(that);\n        },\n\n        events: [\n            HOLD,\n            DRAGSTART,\n            DRAG,\n            DRAGEND,\n            DRAGCANCEL,\n            HINTDESTROYED\n        ],\n\n        options: {\n            name: \"Draggable\",\n            distance: ( kendo.support.touch ? 0 : 5),\n            group: \"default\",\n            cursorOffset: null,\n            axis: null,\n            container: null,\n            filter: null,\n            ignore: null,\n            holdToDrag: false,\n            autoScroll: false,\n            dropped: false\n        },\n\n        cancelHold: function() {\n            this._activated = false;\n        },\n\n        _captureEscape: function(e) {\n            var that = this;\n\n            if (e.keyCode === kendo.keys.ESC) {\n                that._trigger(DRAGCANCEL, { event: e });\n                that.userEvents.cancel();\n            }\n        },\n\n        _updateHint: function(e) {\n            var that = this,\n                coordinates,\n                options = that.options,\n                boundaries = that.boundaries,\n                axis = options.axis,\n                cursorOffset = that.options.cursorOffset;\n\n            if (cursorOffset) {\n               coordinates = { left: e.x.location + cursorOffset.left, top: e.y.location + cursorOffset.top };\n            } else {\n                that.hintOffset.left += e.x.delta;\n                that.hintOffset.top += e.y.delta;\n                coordinates = $.extend({}, that.hintOffset);\n            }\n\n            if (boundaries) {\n                coordinates.top = within(coordinates.top, boundaries.y);\n                coordinates.left = within(coordinates.left, boundaries.x);\n            }\n\n            if (axis === \"x\") {\n                delete coordinates.top;\n            } else if (axis === \"y\") {\n                delete coordinates.left;\n            }\n\n            that.hint.css(coordinates);\n        },\n\n        _shouldIgnoreTarget: function(target) {\n            var ignoreSelector = this.options.ignore;\n            return ignoreSelector && $(target).is(ignoreSelector);\n        },\n\n        _select: function(e) {\n            if (!this._shouldIgnoreTarget(e.event.target)) {\n                e.preventDefault();\n            }\n        },\n\n        _start: function(e) {\n            var that = this,\n                options = that.options,\n                container = options.container ? $(options.container) : null,\n                hint = options.hint;\n\n            if (this._shouldIgnoreTarget(e.touch.initialTouch) || (options.holdToDrag && !that._activated)) {\n                that.userEvents.cancel();\n                return;\n            }\n\n            that.currentTarget = e.target;\n            that.currentTargetOffset = getOffset(that.currentTarget);\n\n            if (hint) {\n                if (that.hint) {\n                    that.hint.stop(true, true).remove();\n                }\n\n                that.hint = kendo.isFunction(hint) ? $(hint.call(that, that.currentTarget)) : hint;\n\n                var offset = getOffset(that.currentTarget);\n                that.hintOffset = offset;\n\n                that.hint.css( {\n                    position: \"absolute\",\n                    zIndex: 20000, // the Window's z-index is 10000 and can be raised because of z-stacking\n                    left: offset.left,\n                    top: offset.top\n                })\n                .appendTo(document.body);\n\n                that.angular(\"compile\", function() {\n                    that.hint.removeAttr(\"ng-repeat\");\n                    var scopeTarget = $(e.target);\n\n                    while (!scopeTarget.data(\"$$kendoScope\") && scopeTarget.length) {\n                        scopeTarget = scopeTarget.parent();\n                    }\n\n                    return {\n                        elements: that.hint.get(),\n                        scopeFrom: scopeTarget.data(\"$$kendoScope\")\n                    };\n                });\n            }\n\n            draggables[options.group] = that;\n\n            that.dropped = false;\n\n            if (container) {\n                that.boundaries = containerBoundaries(container, that.hint);\n            }\n\n            $(document).on(KEYUP, that._captureEscape);\n\n            if (that._trigger(DRAGSTART, e)) {\n                that.userEvents.cancel();\n                that._afterEnd();\n            }\n\n            that.userEvents.capture();\n        },\n\n        _hold: function(e) {\n            this.currentTarget = e.target;\n\n            if (this._trigger(HOLD, e)) {\n                this.userEvents.cancel();\n            } else {\n                this._activated = true;\n            }\n        },\n\n        _drag: function(e) {\n            e.preventDefault();\n\n            var cursorElement = this._elementUnderCursor(e);\n\n            if (this.options.autoScroll && this._cursorElement !== cursorElement) {\n                this._scrollableParent = findScrollableParent(cursorElement);\n                this._cursorElement = cursorElement;\n            }\n\n            this._lastEvent = e;\n            this._processMovement(e, cursorElement);\n\n            if (this.options.autoScroll) {\n                // chrome seems to trigger mousemove when mouse is moved outside of the window (over the Chrome), too.\n                if (this._scrollableParent[0]) {\n                    var velocity = autoScrollVelocity(e.x.location, e.y.location, scrollableViewPort(this._scrollableParent));\n\n\n                    this._scrollCompenstation = $.extend({}, this.hintOffset);\n                    this._scrollVelocity = velocity;\n\n                    if (velocity.y === 0 && velocity.x === 0) {\n                        clearInterval(this._scrollInterval);\n                        this._scrollInterval = null;\n                    } else if (!this._scrollInterval) {\n                        this._scrollInterval = setInterval(this._autoScroll.bind(this), 50);\n                    }\n                }\n            }\n\n            if (this.hint) {\n                this._updateHint(e);\n            }\n        },\n\n        _processMovement: function(e, cursorElement) {\n            this._withDropTarget(cursorElement, function(target, targetElement) {\n                if (!target) {\n                    if (lastDropTarget) {\n                        lastDropTarget._trigger(DRAGLEAVE, extend(e, { dropTarget: $(lastDropTarget.targetElement) }));\n                        lastDropTarget = null;\n                    }\n                    return;\n                }\n\n                if (lastDropTarget) {\n                    if (targetElement === lastDropTarget.targetElement) {\n                        return;\n                    }\n\n                    lastDropTarget._trigger(DRAGLEAVE, extend(e, { dropTarget: $(lastDropTarget.targetElement) }));\n                }\n\n                target._trigger(DRAGENTER, extend(e, { dropTarget: $(targetElement) }));\n                lastDropTarget = extend(target, { targetElement: targetElement });\n            });\n\n            this._trigger(DRAG, extend(e, { dropTarget: lastDropTarget, elementUnderCursor: cursorElement }));\n        },\n\n        _autoScroll: function() {\n            var parent = this._scrollableParent[0],\n                velocity = this._scrollVelocity,\n                compensation = this._scrollCompenstation;\n\n            if (!parent) {\n                return;\n            }\n\n            var cursorElement = this._elementUnderCursor(this._lastEvent);\n            this._processMovement(this._lastEvent, cursorElement);\n\n            var yIsScrollable, xIsScrollable;\n\n            var isRootNode = parent === scrollableRoot()[0];\n\n            if (isRootNode) {\n                yIsScrollable = document.body.scrollHeight > $window.height();\n                xIsScrollable = document.body.scrollWidth > $window.width();\n            } else {\n                yIsScrollable = parent.offsetHeight <= parent.scrollHeight;\n                xIsScrollable = parent.offsetWidth <= parent.scrollWidth;\n            }\n\n            var yDelta = parent.scrollTop + velocity.y;\n            var yInBounds = yIsScrollable && yDelta > 0 && yDelta < parent.scrollHeight;\n\n            var xDelta = parent.scrollLeft + velocity.x;\n            var xInBounds = xIsScrollable && xDelta > 0 && xDelta < parent.scrollWidth;\n\n            if (yInBounds) {\n                parent.scrollTop += velocity.y;\n            } else if (yIsScrollable && yDelta < 0) {\n                parent.scrollTop = 0;\n            }\n\n            if (xInBounds) {\n                parent.scrollLeft += velocity.x;\n            } else if (xIsScrollable && xDelta < 0) {\n                parent.scrollLeft = 0;\n            }\n\n            if (this.hint && isRootNode && (xInBounds || yInBounds)) {\n                if (yInBounds) {\n                    compensation.top += velocity.y;\n                }\n\n                if (xInBounds) {\n                    compensation.left += velocity.x;\n                }\n\n                this.hint.css(compensation);\n            }\n        },\n\n        _end: function(e) {\n            this._withDropTarget(this._elementUnderCursor(e), function(target, targetElement) {\n                if (target) {\n                    target._drop(extend({}, e, { dropTarget: $(targetElement) }));\n                    lastDropTarget = null;\n                }\n            });\n\n            clearInterval(this._scrollInterval);\n            this._scrollInterval = null;\n            this._cancel(this._trigger(DRAGEND, e));\n        },\n\n        _cancel: function(isDefaultPrevented) {\n            var that = this;\n\n            that._scrollableParent = null;\n            this._cursorElement = null;\n            clearInterval(this._scrollInterval);\n            that._activated = false;\n\n            if (that.hint && !that.dropped) {\n                setTimeout(function() {\n                    that.hint.stop(true, true);\n\n                    if (isDefaultPrevented) {\n                        that._afterEndHandler();\n                    } else {\n                        that.hint.animate(that.currentTargetOffset, \"fast\", that._afterEndHandler);\n                    }\n                }, 0);\n\n            } else {\n                that._afterEnd();\n            }\n        },\n\n        _trigger: function(eventName, e) {\n            var that = this;\n\n            return that.trigger(\n                eventName, extend(\n                {},\n                e.event,\n                {\n                    x: e.x,\n                    y: e.y,\n                    currentTarget: that.currentTarget,\n                    initialTarget: e.touch ? e.touch.initialTouch : null,\n                    dropTarget: e.dropTarget,\n                    elementUnderCursor: e.elementUnderCursor\n                }\n            ));\n        },\n\n        _elementUnderCursor: function(e) {\n            var target = elementUnderCursor(e),\n                hint = this.hint;\n\n            if (hint && contains(hint[0], target)) {\n                hint.hide();\n                target = elementUnderCursor(e);\n                // IE8 does not return the element in iframe from first attempt\n                if (!target) {\n                    target = elementUnderCursor(e);\n                }\n                hint.show();\n            }\n\n            return target;\n        },\n\n        _withDropTarget: function(element, callback) {\n            var result,\n                group = this.options.group,\n                targets = dropTargets[group],\n                areas = dropAreas[group];\n\n            if (targets && targets.length || areas && areas.length) {\n                result = checkTarget(element, targets, areas);\n\n                if (result) {\n                    callback(result.target, result.targetElement);\n                } else {\n                    callback();\n                }\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that._afterEnd();\n\n            that.userEvents.destroy();\n\n            this._scrollableParent = null;\n            this._cursorElement = null;\n            clearInterval(this._scrollInterval);\n\n            that.currentTarget = null;\n        },\n\n        _afterEnd: function() {\n            var that = this;\n\n            if (that.hint) {\n                that.hint.remove();\n            }\n\n            delete draggables[that.options.group];\n\n            that.trigger(\"destroy\");\n            that.trigger(HINTDESTROYED);\n            $(document).off(KEYUP, that._captureEscape);\n        }\n    });\n\n    kendo.ui.plugin(DropTarget);\n    kendo.ui.plugin(DropTargetArea);\n    kendo.ui.plugin(Draggable);\n    kendo.TapCapture = TapCapture;\n    kendo.containerBoundaries = containerBoundaries;\n\n    extend(kendo.ui, {\n        Pane: Pane,\n        PaneDimensions: PaneDimensions,\n        Movable: Movable\n    });\n\n    function scrollableViewPort(element) {\n        var root = scrollableRoot()[0],\n            offset,\n            top,\n            left;\n\n        if (element[0] === root) {\n            top = root.scrollTop;\n            left = root.scrollLeft;\n\n            return {\n                top: top,\n                left: left,\n                bottom: top + $window.height(),\n                right: left + $window.width()\n            };\n        } else {\n            offset = element.offset();\n            offset.bottom = offset.top + element.height();\n            offset.right = offset.left + element.width();\n            return offset;\n        }\n    }\n\n    function scrollableRoot() {\n        return $(kendo.support.browser.edge || kendo.support.browser.safari ? document.body : document.documentElement);\n    }\n\n    function findScrollableParent(element) {\n        var root = scrollableRoot();\n\n        if (!element || element === document.body || element === document.documentElement) {\n            return root;\n        }\n\n        var parent = $(element)[0];\n\n        while (parent && !kendo.isScrollable(parent) && parent !== document.body) {\n            parent = parent.parentNode;\n        }\n\n        if (parent === document.body) {\n            return root;\n        }\n\n        return $(parent);\n    }\n\n    function autoScrollVelocity(mouseX, mouseY, rect) {\n        var velocity = { x: 0, y: 0 };\n\n        var AUTO_SCROLL_AREA = 50;\n\n        if (mouseX - rect.left < AUTO_SCROLL_AREA) {\n            velocity.x = -(AUTO_SCROLL_AREA - (mouseX - rect.left));\n        } else if (rect.right - mouseX < AUTO_SCROLL_AREA) {\n            velocity.x = AUTO_SCROLL_AREA - (rect.right - mouseX);\n        }\n\n        if (mouseY - rect.top < AUTO_SCROLL_AREA) {\n            velocity.y = -(AUTO_SCROLL_AREA - (mouseY - rect.top));\n        } else if (rect.bottom - mouseY < AUTO_SCROLL_AREA) {\n            velocity.y = AUTO_SCROLL_AREA - (rect.bottom - mouseY);\n        }\n\n        return velocity;\n    }\n\n    // export for testing\n    kendo.ui.Draggable.utils = {\n        autoScrollVelocity: autoScrollVelocity,\n        scrollableViewPort: scrollableViewPort,\n        findScrollableParent: findScrollableParent\n    };\n\n })(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.mobile.scroller',[ \"kendo.fx\", \"kendo.draganddrop\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"mobile.scroller\",\n    name: \"Scroller\",\n    category: \"mobile\",\n    description: \"The Kendo Mobile Scroller widget enables touch friendly kinetic scrolling for the contents of a given DOM element.\",\n    depends: [ \"fx\", \"draganddrop\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        fx = kendo.effects,\n        ui = mobile.ui,\n        extend = $.extend,\n        Widget = ui.Widget,\n        Class = kendo.Class,\n        Movable = kendo.ui.Movable,\n        Pane = kendo.ui.Pane,\n        PaneDimensions = kendo.ui.PaneDimensions,\n        Transition = fx.Transition,\n        Animation = fx.Animation,\n        abs = Math.abs,\n        SNAPBACK_DURATION = 500,\n        SCROLLBAR_OPACITY = 0.7,\n        FRICTION = 0.96,\n        VELOCITY_MULTIPLIER = 10,\n        MAX_VELOCITY = 55,\n        OUT_OF_BOUNDS_FRICTION = 0.5,\n        ANIMATED_SCROLLER_PRECISION = 5,\n        RELEASECLASS = \"km-scroller-release\",\n        REFRESHCLASS = \"km-scroller-refresh\",\n        PULL = \"pull\",\n        CHANGE = \"change\",\n        RESIZE = \"resize\",\n        SCROLL = \"scroll\",\n        MOUSE_WHEEL_ID = 2;\n\n    var ZoomSnapBack = Animation.extend({\n        init: function(options) {\n            var that = this;\n            Animation.fn.init.call(that);\n            extend(that, options);\n\n            that.userEvents.bind(\"gestureend\", that.start.bind(that));\n            that.tapCapture.bind(\"press\", that.cancel.bind(that));\n        },\n\n        enabled: function() {\n          return this.movable.scale < this.dimensions.minScale;\n        },\n\n        done: function() {\n            return this.dimensions.minScale - this.movable.scale < 0.01;\n        },\n\n        tick: function() {\n            var movable = this.movable;\n            movable.scaleWith(1.1);\n            this.dimensions.rescale(movable.scale);\n        },\n\n        onEnd: function() {\n            var movable = this.movable;\n            movable.scaleTo(this.dimensions.minScale);\n            this.dimensions.rescale(movable.scale);\n        }\n    });\n\n    var DragInertia = Animation.extend({\n        init: function(options) {\n            var that = this;\n\n            Animation.fn.init.call(that);\n\n            extend(that, options, {\n                transition: new Transition({\n                    axis: options.axis,\n                    movable: options.movable,\n                    onEnd: function() { that._end(); }\n                })\n            });\n\n            that.tapCapture.bind(\"press\", function() { that.cancel(); });\n            that.userEvents.bind(\"end\", that.start.bind(that));\n            that.userEvents.bind(\"gestureend\", that.start.bind(that));\n            that.userEvents.bind(\"tap\", that.onEnd.bind(that));\n        },\n\n        onCancel: function() {\n            this.transition.cancel();\n        },\n\n        freeze: function(location) {\n            var that = this;\n            that.cancel();\n            that._moveTo(location);\n        },\n\n        onEnd: function() {\n            var that = this;\n            if (that.paneAxis.outOfBounds()) {\n                that._snapBack();\n            } else {\n                that._end();\n            }\n        },\n\n        done: function() {\n            return abs(this.velocity) < 1;\n        },\n\n        start: function(e) {\n            var that = this,\n                velocity;\n\n            if (!that.dimension.enabled) { return; }\n\n            if (that.paneAxis.outOfBounds()) {\n                if (that.transition._started) {\n                    that.transition.cancel();\n                    that.velocity = Math.min(e.touch[that.axis].velocity * that.velocityMultiplier, MAX_VELOCITY);\n\n                    Animation.fn.start.call(that);\n                } else {\n                    that._snapBack();\n                }\n            } else {\n                velocity = e.touch.id === MOUSE_WHEEL_ID ? 0 : e.touch[that.axis].velocity;\n                that.velocity = Math.max(Math.min(velocity * that.velocityMultiplier, MAX_VELOCITY), -MAX_VELOCITY);\n\n                that.tapCapture.captureNext();\n                Animation.fn.start.call(that);\n            }\n        },\n\n        tick: function() {\n            var that = this,\n                dimension = that.dimension,\n                friction = that.paneAxis.outOfBounds() ? OUT_OF_BOUNDS_FRICTION : that.friction,\n                delta = (that.velocity *= friction),\n                location = that.movable[that.axis] + delta;\n\n                if (!that.elastic && dimension.outOfBounds(location)) {\n                    location = Math.max(Math.min(location, dimension.max), dimension.min);\n                    that.velocity = 0;\n                }\n\n            that.movable.moveAxis(that.axis, location);\n        },\n\n        _end: function() {\n            this.tapCapture.cancelCapture();\n            this.end();\n        },\n\n        _snapBack: function() {\n            var that = this,\n                dimension = that.dimension,\n                snapBack = that.movable[that.axis] > dimension.max ? dimension.max : dimension.min;\n            that._moveTo(snapBack);\n        },\n\n        _moveTo: function(location) {\n            this.transition.moveTo({ location: location, duration: SNAPBACK_DURATION, ease: Transition.easeOutExpo });\n        }\n    });\n\n    var AnimatedScroller = Animation.extend({\n        init: function(options) {\n            var that = this;\n\n            kendo.effects.Animation.fn.init.call(this);\n\n            extend(that, options, {\n                origin: {},\n                destination: {},\n                offset: {}\n            });\n        },\n\n        tick: function() {\n            this._updateCoordinates();\n            this.moveTo(this.origin);\n        },\n\n        done: function() {\n            return abs(this.offset.y) < ANIMATED_SCROLLER_PRECISION && abs(this.offset.x) < ANIMATED_SCROLLER_PRECISION;\n        },\n\n        onEnd: function() {\n            this.moveTo(this.destination);\n            if (this.callback) {\n                this.callback.call();\n            }\n        },\n\n        setCoordinates: function(from, to) {\n            this.offset = {};\n            this.origin = from;\n            this.destination = to;\n        },\n\n        setCallback: function(callback) {\n            if (callback && kendo.isFunction(callback)) {\n                this.callback = callback;\n            } else {\n                callback = undefined;\n            }\n        },\n\n        _updateCoordinates: function() {\n            this.offset = {\n                x: (this.destination.x - this.origin.x) / 4,\n                y: (this.destination.y - this.origin.y) / 4\n            };\n\n            this.origin = {\n                y: this.origin.y + this.offset.y,\n                x: this.origin.x + this.offset.x\n            };\n        }\n    });\n\n    var ScrollBar = Class.extend({\n        init: function(options) {\n            var that = this,\n                horizontal = options.axis === \"x\",\n                element = $('<div role=\"scrollbar\" aria-controls=\"' + options.controlsId + '\" class=\"km-touch-scrollbar km-' + (horizontal ? \"horizontal\" : \"vertical\") + '-scrollbar\" />');\n\n            if (horizontal) {\n                element.attr(\"aria-orientation\", \"horizontal\");\n            }\n\n            extend(that, options, {\n                element: element,\n                elementSize: 0,\n                movable: new Movable(element),\n                scrollMovable: options.movable,\n                alwaysVisible: options.alwaysVisible,\n                size: horizontal ? \"width\" : \"height\"\n            });\n\n            that.scrollMovable.bind(CHANGE, that.refresh.bind(that));\n            that.container.append(element);\n            if (options.alwaysVisible) {\n                that.show();\n            }\n        },\n\n        refresh: function() {\n            var that = this,\n                axis = that.axis,\n                dimension = that.dimension,\n                paneSize = dimension.size,\n                scrollMovable = that.scrollMovable,\n                sizeRatio = paneSize / dimension.total,\n                position = Math.round(-scrollMovable[axis] * sizeRatio),\n                size = Math.round(paneSize * sizeRatio);\n\n                if (sizeRatio >= 1) {\n                    this.element.css(\"display\", \"none\");\n                } else {\n                    this.element.css(\"display\", \"\");\n                }\n\n                if (position + size > paneSize) {\n                    size = paneSize - position;\n                } else if (position < 0) {\n                    size += position;\n                    position = 0;\n                }\n\n            if (that.elementSize != size) {\n                that.element.css(that.size, size + \"px\");\n                that.elementSize = size;\n            }\n\n            that._ariaValue(position, dimension.size - that.elementSize);\n\n            that.movable.moveAxis(axis, position);\n        },\n\n        show: function() {\n            this.element.css({ opacity: SCROLLBAR_OPACITY, visibility: \"visible\" });\n        },\n\n        hide: function() {\n            if (!this.alwaysVisible) {\n                this.element.css({ opacity: 0 });\n            }\n        },\n\n        _ariaValue: function(current, total) {\n            var element = this.element;\n\n            if (current > total) {\n                current = total;\n            }\n\n            element.attr(\"aria-valuemax\", total);\n            element.attr(\"aria-valuenow\", current);\n        }\n    });\n\n    var Scroller = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n            Widget.fn.init.call(that, element, options);\n\n            element = that.element;\n\n            that._native = that.options.useNative && kendo.support.hasNativeScrolling;\n            if (that._native) {\n                element.addClass(\"km-native-scroller\")\n                    .prepend('<div class=\"km-scroll-header\"/>');\n\n                extend(that, {\n                    scrollElement: element,\n                    fixedContainer: element.children().first()\n                });\n\n                return;\n            }\n\n            element\n                .css(\"overflow\", \"hidden\")\n                .addClass(\"km-scroll-wrapper\")\n                .wrapInner('<div class=\"km-scroll-container\"/>')\n                .prepend('<div class=\"km-scroll-header\"/>');\n\n            var inner = element.children().eq(1),\n\n                tapCapture = new kendo.TapCapture(element),\n\n                movable = new Movable(inner),\n\n                dimensions = new PaneDimensions({\n                    element: inner,\n                    container: element,\n                    forcedEnabled: that.options.zoom\n                }),\n\n                avoidScrolling = this.options.avoidScrolling,\n\n                userEvents = new kendo.UserEvents(element, {\n                    touchAction: \"pan-y\",\n                    fastTap: true,\n                    allowSelection: true,\n                    preventDragEvent: true,\n                    captureUpIfMoved: true,\n                    multiTouch: that.options.zoom,\n                    supportDoubleTap: that.options.supportDoubleTap,\n                    start: function(e) {\n                        dimensions.refresh();\n\n                        var velocityX = abs(e.x.velocity),\n                            velocityY = abs(e.y.velocity),\n                            horizontalSwipe = velocityX * 2 >= velocityY,\n                            originatedFromFixedContainer = $.contains(that.fixedContainer[0], e.event.target),\n                            verticalSwipe = velocityY * 2 >= velocityX;\n\n\n                        if (!originatedFromFixedContainer && !avoidScrolling(e) && that.enabled && (dimensions.x.enabled && horizontalSwipe || dimensions.y.enabled && verticalSwipe)) {\n                            userEvents.capture();\n                        } else {\n                            userEvents.cancel();\n                        }\n                    }\n                }),\n\n                pane = new Pane({\n                    movable: movable,\n                    dimensions: dimensions,\n                    userEvents: userEvents,\n                    elastic: that.options.elastic\n                }),\n\n                zoomSnapBack = new ZoomSnapBack({\n                    movable: movable,\n                    dimensions: dimensions,\n                    userEvents: userEvents,\n                    tapCapture: tapCapture\n                }),\n\n                animatedScroller = new AnimatedScroller({\n                    moveTo: function(coordinates) {\n                        that.scrollTo(coordinates.x, coordinates.y);\n                    }\n                });\n\n            movable.bind(CHANGE, function() {\n                that.scrollTop = - movable.y;\n                that.scrollLeft = - movable.x;\n\n                that.trigger(SCROLL, {\n                    scrollTop: that.scrollTop,\n                    scrollLeft: that.scrollLeft\n                });\n            });\n\n            if (that.options.mousewheelScrolling) {\n                element.on(\"DOMMouseScroll mousewheel\", this._wheelScroll.bind(this));\n            }\n\n            extend(that, {\n                movable: movable,\n                dimensions: dimensions,\n                zoomSnapBack: zoomSnapBack,\n                animatedScroller: animatedScroller,\n                userEvents: userEvents,\n                pane: pane,\n                tapCapture: tapCapture,\n                pulled: false,\n                enabled: true,\n                scrollElement: inner,\n                scrollTop: 0,\n                scrollLeft: 0,\n                fixedContainer: element.children().first()\n            });\n\n            that._initAxis(\"x\");\n            that._initAxis(\"y\");\n\n            // build closure\n            that._wheelEnd = function() {\n                that._wheel = false;\n                that.userEvents.end(0, that._wheelY);\n            };\n\n            dimensions.refresh();\n\n            if (that.options.pullToRefresh) {\n                that._initPullToRefresh();\n            }\n        },\n\n        _wheelScroll: function(e) {\n            if (e.ctrlKey) {\n                return;\n            }\n\n            if (!this._wheel) {\n                this._wheel = true;\n                this._wheelY = 0;\n                this.userEvents.press(0, this._wheelY);\n            }\n\n            clearTimeout(this._wheelTimeout);\n            this._wheelTimeout = setTimeout(this._wheelEnd, 50);\n\n            var delta = kendo.wheelDeltaY(e);\n\n            if (delta) {\n                this._wheelY += delta;\n                this.userEvents.move(0, this._wheelY);\n            }\n\n            e.preventDefault();\n        },\n\n        makeVirtual: function() {\n            this.dimensions.y.makeVirtual();\n        },\n\n        virtualSize: function(min, max) {\n            this.dimensions.y.virtualSize(min, max);\n        },\n\n        height: function() {\n            return this.dimensions.y.size;\n        },\n\n        scrollHeight: function() {\n            return this.scrollElement[0].scrollHeight;\n        },\n\n        scrollWidth: function() {\n            return this.scrollElement[0].scrollWidth;\n        },\n\n        options: {\n            name: \"Scroller\",\n            zoom: false,\n            pullOffset: 140,\n            visibleScrollHints: false,\n            elastic: true,\n            useNative: false,\n            mousewheelScrolling: true,\n            avoidScrolling: function() { return false; },\n            pullToRefresh: false,\n            messages: {\n                pullTemplate: \"Pull to refresh\",\n                releaseTemplate: \"Release to refresh\",\n                refreshTemplate: \"Refreshing\"\n            }\n        },\n\n        events: [\n            PULL,\n            SCROLL,\n            RESIZE\n        ],\n\n        _resize: function() {\n            if (!this._native) {\n                this.contentResized();\n            }\n        },\n\n        setOptions: function(options) {\n            var that = this;\n            Widget.fn.setOptions.call(that, options);\n            if (options.pullToRefresh) {\n                that._initPullToRefresh();\n            }\n        },\n\n        reset: function() {\n            if (this._native) {\n                this.scrollElement.scrollTop(0);\n            } else {\n                this.movable.moveTo({ x: 0, y: 0 });\n                this._scale(1);\n            }\n        },\n\n        contentResized: function() {\n            this.dimensions.refresh();\n            if (this.pane.x.outOfBounds()) {\n                this.movable.moveAxis(\"x\", this.dimensions.x.min);\n            }\n\n            if (this.pane.y.outOfBounds()) {\n                this.movable.moveAxis(\"y\", this.dimensions.y.min);\n            }\n        },\n\n        zoomOut: function() {\n            var dimensions = this.dimensions;\n            dimensions.refresh();\n            this._scale(dimensions.fitScale);\n            this.movable.moveTo(dimensions.centerCoordinates());\n        },\n\n        enable: function() {\n            this.enabled = true;\n        },\n\n        disable: function() {\n            this.enabled = false;\n        },\n\n        scrollTo: function(x, y) {\n            if (this._native) {\n                kendo.scrollLeft(this.scrollElement, abs(x));\n                this.scrollElement.scrollTop(abs(y));\n            } else {\n                this.dimensions.refresh();\n                this.movable.moveTo({ x: x, y: y });\n            }\n        },\n\n        animatedScrollTo: function(x, y, callback) {\n            var from,\n                to;\n\n            if (this._native) {\n                this.scrollTo(x, y);\n            } else {\n                from = { x: this.movable.x, y: this.movable.y };\n                to = { x: x, y: y };\n\n                this.animatedScroller.setCoordinates(from, to);\n                this.animatedScroller.setCallback(callback);\n                this.animatedScroller.start();\n            }\n        },\n\n        pullHandled: function() {\n            var that = this;\n            that.refreshHint.removeClass(REFRESHCLASS);\n            that.hintContainer.html(that.pullTemplate({}));\n            that.yinertia.onEnd();\n            that.xinertia.onEnd();\n            that.userEvents.cancel();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            if (this.userEvents) {\n                this.userEvents.destroy();\n            }\n        },\n\n        _scale: function(scale) {\n            this.dimensions.rescale(scale);\n            this.movable.scaleTo(scale);\n        },\n\n        _initPullToRefresh: function() {\n            var that = this;\n\n            that.dimensions.y.forceEnabled();\n            that.pullTemplate = kendo.template(that.options.messages.pullTemplate);\n            that.releaseTemplate = kendo.template(that.options.messages.releaseTemplate);\n            that.refreshTemplate = kendo.template(that.options.messages.refreshTemplate);\n\n            that.scrollElement.prepend('<span class=\"km-scroller-pull\"><span class=\"km-icon\"></span><span class=\"km-loading-left\"></span><span class=\"km-loading-right\"></span><span class=\"km-template\">' + that.pullTemplate({}) + '</span></span>');\n            that.refreshHint = that.scrollElement.children().first();\n            that.hintContainer = that.refreshHint.children(\".km-template\");\n\n            that.pane.y.bind(\"change\", that._paneChange.bind(that));\n            that.userEvents.bind(\"end\", that._dragEnd.bind(that));\n        },\n\n        _dragEnd: function() {\n            var that = this;\n\n            if (!that.pulled) {\n                return;\n            }\n\n            that.pulled = false;\n            that.refreshHint.removeClass(RELEASECLASS).addClass(REFRESHCLASS);\n            that.hintContainer.html(that.refreshTemplate({}));\n            that.yinertia.freeze(that.options.pullOffset / 2);\n            that.trigger(\"pull\");\n        },\n\n        _paneChange: function() {\n            var that = this;\n\n            if (that.movable.y / OUT_OF_BOUNDS_FRICTION > that.options.pullOffset) {\n                if (!that.pulled) {\n                    that.pulled = true;\n                    that.refreshHint.removeClass(REFRESHCLASS).addClass(RELEASECLASS);\n                    that.hintContainer.html(that.releaseTemplate({}));\n                }\n            } else if (that.pulled) {\n                that.pulled = false;\n                that.refreshHint.removeClass(RELEASECLASS);\n                that.hintContainer.html(that.pullTemplate({}));\n            }\n        },\n\n        _initAxis: function(axis) {\n            var that = this,\n                elementId = that.element.attr(\"id\"),\n                movable = that.movable,\n                dimension = that.dimensions[axis],\n                tapCapture = that.tapCapture,\n                paneAxis = that.pane[axis],\n                scrollBar;\n\n            if (!elementId) {\n                elementId = kendo.guid();\n                that.element.attr(\"id\", elementId);\n            }\n\n            scrollBar = new ScrollBar({\n                axis: axis,\n                movable: movable,\n                dimension: dimension,\n                container: that.element,\n                alwaysVisible: that.options.visibleScrollHints,\n                controlsId: elementId\n            });\n\n            dimension.bind(CHANGE, function() {\n                scrollBar.refresh();\n            });\n\n            paneAxis.bind(CHANGE, function() {\n                scrollBar.show();\n            });\n\n            that[axis + \"inertia\"] = new DragInertia({\n                axis: axis,\n                paneAxis: paneAxis,\n                movable: movable,\n                tapCapture: tapCapture,\n                userEvents: that.userEvents,\n                dimension: dimension,\n                elastic: that.options.elastic,\n                friction: that.options.friction || FRICTION,\n                velocityMultiplier: that.options.velocityMultiplier || VELOCITY_MULTIPLIER,\n                end: function() {\n                    scrollBar.hide();\n                    that.trigger(\"scrollEnd\", {\n                        axis: axis,\n                        scrollTop: that.scrollTop,\n                        scrollLeft: that.scrollLeft\n                    });\n                }\n            });\n        }\n    });\n\n    ui.plugin(Scroller);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.resizable',[ \"kendo.core\", \"kendo.draganddrop\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"resizable\",\n    name: \"Resizable\",\n    category: \"framework\",\n    depends: [ \"core\", \"draganddrop\" ],\n    advanced: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        isFunction = kendo.isFunction,\n        extend = $.extend,\n        HORIZONTAL = \"horizontal\",\n        VERTICAL = \"vertical\",\n        START = \"start\",\n        RESIZE = \"resize\",\n        RESIZEEND = \"resizeend\";\n\n    var Resizable = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that.orientation = that.options.orientation.toLowerCase() != VERTICAL ? HORIZONTAL : VERTICAL;\n            that._positionMouse = that.orientation == HORIZONTAL ? \"x\" : \"y\";\n            that._position = that.orientation == HORIZONTAL ? \"left\" : \"top\";\n            that._sizingDom = that.orientation == HORIZONTAL ? \"outerWidth\" : \"outerHeight\";\n\n            that.draggable = new ui.Draggable(options.draggableElement || element, {\n                distance: 1,\n                filter: options.handle,\n                drag: that._resize.bind(that),\n                dragcancel: that._cancel.bind(that),\n                dragstart: that._start.bind(that),\n                dragend: that._stop.bind(that)\n            });\n\n            that.userEvents = that.draggable.userEvents;\n        },\n\n        events: [\n            RESIZE,\n            RESIZEEND,\n            START\n        ],\n\n        options: {\n            name: \"Resizable\",\n            orientation: HORIZONTAL\n        },\n\n        resize: function() {\n            // Overrides base widget resize\n        },\n\n        _max: function(e) {\n            var that = this,\n                hintSize = that.hint ? that.hint[that._sizingDom]() : 0,\n                size = that.options.max;\n\n            return isFunction(size) ? size(e) : size !== undefined ? (that._initialElementPosition + size) - hintSize : size;\n        },\n\n        _min: function(e) {\n            var that = this,\n                size = that.options.min;\n\n            return isFunction(size) ? size(e) : size !== undefined ? that._initialElementPosition + size : size;\n        },\n\n        _start: function(e) {\n            var that = this,\n                hint = that.options.hint,\n                el = $(e.currentTarget);\n\n            that._initialElementPosition = el.position()[that._position];\n            that._initialMousePosition = e[that._positionMouse].startLocation;\n\n            if (hint) {\n                that.hint = isFunction(hint) ? $(hint(el)) : hint;\n\n                that.hint.css({\n                    position: \"absolute\"\n                })\n                .css(that._position, that._initialElementPosition)\n                .appendTo(that.element);\n            }\n\n            that.trigger(START, e);\n\n            that._maxPosition = that._max(e);\n            that._minPosition = that._min(e);\n\n            $(document.body).css(\"cursor\", el.css(\"cursor\"));\n        },\n\n        _resize: function(e) {\n            var that = this,\n                maxPosition = that._maxPosition,\n                minPosition = that._minPosition,\n                currentPosition = that._initialElementPosition + (e[that._positionMouse].location - that._initialMousePosition),\n                position;\n\n            position = minPosition !== undefined ? Math.max(minPosition, currentPosition) : currentPosition;\n            that.position = position = maxPosition !== undefined ? Math.min(maxPosition, position) : position;\n\n            if (that.hint) {\n                that.hint.toggleClass(that.options.invalidClass || \"\", position == maxPosition || position == minPosition)\n                         .css(that._position, position);\n            }\n\n            that.resizing = true;\n            that.trigger(RESIZE, extend(e, { position: position }));\n        },\n\n        _stop: function(e) {\n            var that = this;\n\n            if (that.hint) {\n                that.hint.remove();\n            }\n\n            that.resizing = false;\n            that.trigger(RESIZEEND, extend(e, { position: that.position }));\n            $(document.body).css(\"cursor\", \"\");\n        },\n\n        _cancel: function(e) {\n            var that = this;\n\n            if (that.hint) {\n                that.position = undefined;\n                that.hint.css(that._position, that._initialElementPosition);\n                that._stop(e);\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            if (that.draggable) {\n                that.draggable.destroy();\n            }\n        },\n\n        press: function(target) {\n            if (!target) {\n                return;\n            }\n\n            var position = target.position(),\n                that = this;\n\n            that.userEvents.press(position.left, position.top, target[0]);\n            that.targetPosition = position;\n            that.target = target;\n        },\n\n        move: function(delta) {\n            var that = this,\n                orientation = that._position,\n                position = that.targetPosition,\n                current = that.position;\n\n            if (current === undefined) {\n                current = position[orientation];\n            }\n\n            position[orientation] = current + delta;\n\n            that.userEvents.move(position.left, position.top);\n        },\n\n        end: function() {\n            this.userEvents.end();\n            this.target = this.position = undefined;\n        }\n    });\n\n    kendo.ui.plugin(Resizable);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n\n(function(f, define) {\n    define('kendo.sortable',[ \"kendo.draganddrop\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"sortable\",\n    name: \"Sortable\",\n    category: \"framework\",\n    depends: [ \"draganddrop\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        outerWidth = kendo._outerWidth,\n        outerHeight = kendo._outerHeight,\n\n        START = \"start\",\n        BEFORE_MOVE = \"beforeMove\",\n        MOVE = \"move\",\n        END = \"end\",\n        CHANGE = \"change\",\n        CANCEL = \"cancel\",\n\n        ACTION_SORT = \"sort\",\n        ACTION_REMOVE = \"remove\",\n        ACTION_RECEIVE = \"receive\",\n\n        DEFAULT_FILTER = \">*\",\n        MISSING_INDEX = -1;\n\n    function containsOrEqualTo(parent, child) {\n        try {\n            return $.contains(parent, child) || parent == child;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    function defaultHint(element) {\n        return element.clone();\n    }\n\n    function defaultPlaceholder(element) {\n        return element.clone().removeAttr(\"id\").css(\"visibility\", \"hidden\");\n    }\n\n    var Sortable = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            if (!that.options.placeholder) {\n                that.options.placeholder = defaultPlaceholder;\n            }\n\n            if (!that.options.hint) {\n                that.options.hint = defaultHint;\n            }\n\n            that.draggable = that._createDraggable();\n        },\n\n        events: [\n            START,\n            BEFORE_MOVE,\n            MOVE,\n            END,\n            CHANGE,\n            CANCEL\n        ],\n\n        options: {\n            name: \"Sortable\",\n            hint: null,\n            placeholder: null,\n            filter: DEFAULT_FILTER,\n            holdToDrag: false,\n            disabled: null,\n            container: null,\n            connectWith: null,\n            handler: null,\n            cursorOffset: null,\n            axis: null,\n            ignore: null,\n            autoScroll: false,\n            cursor: \"auto\",\n            moveOnDragEnter: false\n        },\n\n        destroy: function() {\n            this.draggable.destroy();\n            Widget.fn.destroy.call(this);\n        },\n\n        _createDraggable: function() {\n            var that = this,\n                element = that.element,\n                options = that.options;\n\n            return new kendo.ui.Draggable(element, {\n                filter: options.filter,\n                hint: kendo.isFunction(options.hint) ? options.hint : $(options.hint),\n                holdToDrag: options.holdToDrag,\n                container: options.container ? $(options.container) : null,\n                cursorOffset: options.cursorOffset,\n                axis: options.axis,\n                ignore: options.ignore,\n                autoScroll: options.autoScroll,\n                dragstart: that._dragstart.bind(that),\n                dragcancel: that._dragcancel.bind(that),\n                drag: that._drag.bind(that),\n                dragend: that._dragend.bind(that)\n            });\n        },\n\n        _dragstart: function(e) {\n            var draggedElement = this.draggedElement = e.currentTarget,\n                disabled = this.options.disabled,\n                handler = this.options.handler,\n                _placeholder = this.options.placeholder,\n                placeholder = this.placeholder = kendo.isFunction(_placeholder) ? $(_placeholder.call(this, draggedElement)) : $(_placeholder);\n\n            if (disabled && draggedElement.is(disabled)) {\n                e.preventDefault();\n            } else if (handler && !$(e.initialTarget).is(handler)) {\n                e.preventDefault();\n            } else {\n\n                if (this.trigger(START, { item: draggedElement, draggableEvent: e })) {\n                    e.preventDefault();\n                } else {\n                    draggedElement.css(\"display\", \"none\");\n                    draggedElement.before(placeholder);\n\n                    this._setCursor();\n                }\n\n            }\n        },\n\n        _dragcancel: function() {\n            this._cancel();\n            this.trigger(CANCEL, { item: this.draggedElement });\n\n            this._resetCursor();\n        },\n\n        _drag: function(e) {\n            var draggedElement = this.draggedElement,\n                target = this._findTarget(e),\n                targetCenter,\n                cursorOffset = { left: e.x.location, top: e.y.location },\n                offsetDelta,\n                axisDelta = { x: e.x.delta, y: e.y.delta },\n                direction,\n                sibling,\n                getSibling,\n                axis = this.options.axis,\n                moveOnDragEnter = this.options.moveOnDragEnter,\n                eventData = { item: draggedElement, list: this, draggableEvent: e };\n\n            if (axis === \"x\" || axis === \"y\") {\n                this._movementByAxis(axis, cursorOffset, axisDelta[axis], eventData);\n                return;\n            }\n\n            if (target) {\n                targetCenter = this._getElementCenter(target.element);\n\n                offsetDelta = {\n                    left: Math.round(cursorOffset.left - targetCenter.left),\n                    top: Math.round(cursorOffset.top - targetCenter.top)\n                };\n\n                $.extend(eventData, { target: target.element });\n\n                if (target.appendToBottom) {\n                    this._movePlaceholder(target, null, eventData);\n                    return;\n                }\n\n                if (target.appendAfterHidden) {\n                    this._movePlaceholder(target, \"next\", eventData);\n                }\n\n                if (this._isFloating(target.element)) { //horizontal\n                    if ((axisDelta.x < 0 && moveOnDragEnter) || (!moveOnDragEnter && offsetDelta.left < 0)) {\n                        direction = \"prev\";\n                    } else if ((axisDelta.x > 0 && moveOnDragEnter) || (!moveOnDragEnter && offsetDelta.left > 0)) {\n                        direction = \"next\";\n                    }\n                } else { //vertical\n                    if ((axisDelta.y < 0 && moveOnDragEnter) || (!moveOnDragEnter && offsetDelta.top < 0)) {\n                        direction = \"prev\";\n                    } else if ((axisDelta.y > 0 && moveOnDragEnter) || (!moveOnDragEnter && offsetDelta.top > 0)) {\n                        direction = \"next\";\n                    }\n                }\n\n                if (direction) {\n                    getSibling = (direction === \"prev\") ? jQuery.fn.prev : jQuery.fn.next;\n\n                    sibling = getSibling.call(target.element);\n\n                    //find the prev/next visible sibling\n                    while (sibling.length && !sibling.is(\":visible\")) {\n                        sibling = getSibling.call(sibling);\n                    }\n\n                    if (sibling[0] != this.placeholder[0]) {\n                        this._movePlaceholder(target, direction, eventData);\n                    }\n                }\n            }\n        },\n\n        _dragend: function(e) {\n            var placeholder = this.placeholder,\n                draggedElement = this.draggedElement,\n                draggedIndex = this.indexOf(draggedElement),\n                placeholderIndex = this.indexOf(placeholder),\n                connectWith = this.options.connectWith,\n                connectedList,\n                isDefaultPrevented,\n                eventData,\n                connectedListEventData;\n\n            this._resetCursor();\n\n            eventData = {\n                action: ACTION_SORT,\n                item: draggedElement,\n                oldIndex: draggedIndex,\n                newIndex: placeholderIndex,\n                draggableEvent: e\n            };\n\n            if (placeholderIndex >= 0) {\n                isDefaultPrevented = this.trigger(END, eventData);\n            } else {\n                connectedList = placeholder.parents(connectWith).getKendoSortable();\n\n                eventData.action = ACTION_REMOVE;\n                connectedListEventData = $.extend({}, eventData, {\n                    action: ACTION_RECEIVE,\n                    oldIndex: MISSING_INDEX,\n                    newIndex: connectedList.indexOf(placeholder)\n                });\n\n                isDefaultPrevented = !(!this.trigger(END, eventData) && !connectedList.trigger(END, connectedListEventData));\n            }\n\n            if (isDefaultPrevented || placeholderIndex === draggedIndex) {\n                this._cancel();\n                return;\n            }\n\n            placeholder.replaceWith(draggedElement);\n\n            draggedElement.show();\n            this.draggable.dropped = true;\n\n            eventData = {\n                action: this.indexOf(draggedElement) != MISSING_INDEX ? ACTION_SORT : ACTION_REMOVE,\n                item: draggedElement,\n                oldIndex: draggedIndex,\n                newIndex: this.indexOf(draggedElement),\n                draggableEvent: e\n            };\n\n            this.trigger(CHANGE, eventData);\n\n            if (connectedList) {\n                connectedListEventData = $.extend({}, eventData, {\n                    action: ACTION_RECEIVE,\n                    oldIndex: MISSING_INDEX,\n                    newIndex: connectedList.indexOf(draggedElement)\n                });\n\n                connectedList.trigger(CHANGE, connectedListEventData);\n            }\n\n        },\n\n        _findTarget: function(e) {\n            var element = this._findElementUnderCursor(e),\n                items,\n                connectWith = this.options.connectWith,\n                node;\n\n            if ($.contains(this.element[0], element)) { //the element is part of the sortable container\n                items = this.items();\n                node = items.filter(element)[0] || items.has(element)[0];\n\n                return node ? { element: $(node), sortable: this } : null;\n            } else if (this.element[0] == element && this._isEmpty()) {\n                return { element: this.element, sortable: this, appendToBottom: true };\n            } else if (this.element[0] == element && this._isLastHidden()) {\n                node = this.items().eq(0);\n                return { element: node , sortable: this, appendAfterHidden: true };\n            } else if (connectWith) { //connected lists are present\n                return this._searchConnectedTargets(element, e);\n            }\n        },\n\n        _findElementUnderCursor: function(e) {\n            var elementUnderCursor = kendo.elementUnderCursor(e),\n                draggable = e.sender;\n\n            if (containsOrEqualTo(draggable.hint[0], elementUnderCursor)) {\n                draggable.hint.hide();\n                elementUnderCursor = kendo.elementUnderCursor(e);\n                // IE8 does not return the element in iframe from first attempt\n                if (!elementUnderCursor) {\n                    elementUnderCursor = kendo.elementUnderCursor(e);\n                }\n                draggable.hint.show();\n            }\n\n            return elementUnderCursor;\n        },\n\n        _searchConnectedTargets: function(element, e) {\n            var connected = $(this.options.connectWith),\n                sortableInstance,\n                items,\n                node;\n\n            for (var i = 0; i < connected.length; i++) {\n                sortableInstance = connected.eq(i).getKendoSortable();\n\n                if ($.contains(connected[i], element)) {\n                    if (sortableInstance) {\n                        items = sortableInstance.items();\n                        node = items.filter(element)[0] || items.has(element)[0];\n\n                        if (node) {\n                            sortableInstance.placeholder = this.placeholder;\n                            return { element: $(node), sortable: sortableInstance };\n                        } else {\n                            return null;\n                        }\n                    }\n                } else if (connected[i] == element) {\n                    if (sortableInstance && sortableInstance._isEmpty()) {\n                        return { element: connected.eq(i), sortable: sortableInstance, appendToBottom: true };\n                    } else if (this._isCursorAfterLast(sortableInstance, e)) {\n                        node = sortableInstance.items().last();\n                        return { element: node, sortable: sortableInstance };\n                    }\n                }\n            }\n\n        },\n\n        _isCursorAfterLast: function(sortable, e) {\n            var lastItem = sortable.items().last(),\n                cursorOffset = { left: e.x.location, top: e.y.location },\n                lastItemOffset,\n                delta;\n\n            lastItemOffset = kendo.getOffset(lastItem);\n            lastItemOffset.top += outerHeight(lastItem);\n            lastItemOffset.left += outerWidth(lastItem);\n\n            if (this._isFloating(lastItem)) { //horizontal\n                delta = lastItemOffset.left - cursorOffset.left;\n            } else { //vertical\n                delta = lastItemOffset.top - cursorOffset.top;\n            }\n\n            return delta < 0 ? true : false;\n        },\n\n        _movementByAxis: function(axis, cursorOffset, delta, eventData) {\n            var cursorPosition = (axis === \"x\") ? cursorOffset.left : cursorOffset.top,\n                target = (delta < 0) ? this.placeholder.prev() : this.placeholder.next(),\n                items = this.items(),\n                targetCenter;\n\n            if (target.length && !target.is(\":visible\")) {\n                target = (delta < 0) ? target.prev() : target.next();\n            }\n\n            if (!items.filter(target).length) {\n                return;\n            }\n\n            $.extend(eventData, { target: target });\n            targetCenter = this._getElementCenter(target);\n\n            if (targetCenter) {\n                targetCenter = (axis === \"x\") ? targetCenter.left : targetCenter.top;\n            }\n\n            if (target.length && delta < 0 && cursorPosition - targetCenter < 0) { //prev\n                this._movePlaceholder({ element: target, sortable: this }, \"prev\", eventData);\n            } else if (target.length && delta > 0 && cursorPosition - targetCenter > 0) { //next\n                this._movePlaceholder({ element: target, sortable: this }, \"next\", eventData);\n            }\n        },\n\n        _movePlaceholder: function(target, direction, eventData) {\n            var placeholder = this.placeholder;\n\n            if (!target.sortable.trigger(BEFORE_MOVE, eventData)) {\n\n                if (!direction) {\n                    target.element.append(placeholder);\n                } else if (direction === \"prev\") {\n                    target.element.before(placeholder);\n                } else if (direction === \"next\") {\n                    target.element.after(placeholder);\n                }\n\n                target.sortable.trigger(MOVE, eventData);\n            }\n        },\n\n        _setCursor: function() {\n            var cursor = this.options.cursor,\n                body;\n\n            if (cursor && cursor !== \"auto\") {\n                body = $(document.body);\n\n                this._originalCursorType = body.css(\"cursor\");\n                body.css({ \"cursor\": cursor });\n\n                if (!this._cursorStylesheet) {\n                    this._cursorStylesheet = $(\"<style>* { cursor: \" + cursor + \" !important; }</style>\");\n                }\n\n                this._cursorStylesheet.appendTo(body);\n            }\n        },\n\n        _resetCursor: function() {\n            if (this._originalCursorType) {\n                $(document.body).css(\"cursor\", this._originalCursorType);\n                this._originalCursorType = null;\n\n                this._cursorStylesheet.remove();\n            }\n        },\n\n        _getElementCenter: function(element) {\n            var center = element.length ? kendo.getOffset(element) : null;\n            if (center) {\n                center.top += outerHeight(element) / 2;\n                center.left += outerWidth(element) / 2;\n            }\n\n            return center;\n        },\n\n        _isFloating: function(item) {\n            var isFloating = /left|right/.test(item.css('float'));\n            var isTable = /inline|table-cell/.test(item.css('display'));\n            var isHorizontalFlex = /flex/.test(item.parent().css('display')) && (/row|row-reverse/.test(item.parent().css('flex-direction')) || !item.parent().css('flex-direction'));\n            return isFloating || isTable || isHorizontalFlex;\n        },\n\n        _cancel: function() {\n            this.draggedElement.show();\n            this.placeholder.remove();\n            this.draggable.dropped = true;\n        },\n\n        _items: function() {\n            var filter = this.options.filter,\n                items;\n\n            if (filter) {\n                items = this.element.find(filter);\n            } else {\n                items = this.element.children();\n            }\n\n            return items;\n        },\n\n        indexOf: function(element) {\n            var items = this._items(),\n                placeholder = this.placeholder,\n                draggedElement = this.draggedElement;\n\n            if (placeholder && element[0] == placeholder[0]) {\n                return items.not(draggedElement).index(element);\n            } else {\n                return items.not(placeholder).index(element);\n            }\n        },\n\n        items: function() {\n            var placeholder = this.placeholder,\n                items = this._items();\n\n            if (placeholder) {\n                items = items.not(placeholder);\n            }\n\n            return items;\n        },\n\n        _isEmpty: function() {\n            return !this.items().length;\n        },\n\n        _isLastHidden: function() {\n            return this.items().length === 1 && this.items().is(\":hidden\");\n        }\n\n    });\n\n    kendo.ui.plugin(Sortable);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.selectable',[ \"kendo.core\", \"kendo.userevents\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"selectable\",\n    name: \"Selectable\",\n    category: \"framework\",\n    depends: [ \"core\", \"userevents\" ],\n    advanced: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        abs = Math.abs,\n        ARIASELECTED = \"aria-selected\",\n        SELECTED = \"k-selected\",\n        ACTIVE = \"k-selecting\",\n        SELECTABLE = \"k-selectable\",\n        CHANGE = \"change\",\n        NS = \".kendoSelectable\",\n        UNSELECT = \"unselect\",\n        UNSELECTING = \"k-unselecting\",\n        INPUTSELECTOR = \"input,a,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up,label.k-checkbox-label.k-no-text,.k-icon.k-i-collapse,.k-icon.k-i-expand,span.k-numeric-wrap,.k-focusable\",\n        msie = kendo.support.browser.msie,\n        supportEventDelegation = false,\n        extend = $.extend;\n\n        (function($) {\n            (function() {\n                $('<div class=\"parent\"><span></span></div>')\n                .on(\"click\", \">*\", function() {\n                    supportEventDelegation = true;\n                })\n                .find(\"span\")\n                .trigger(\"click\")\n                .end()\n                .off();\n            })();\n        })($);\n\n    var Selectable = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                multiple,\n                dragToSelect;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._marquee = $(\"<div class='k-marquee'><div class='k-marquee-color'></div></div>\");\n            that._lastActive = null;\n            that.element.addClass(SELECTABLE);\n\n            that.relatedTarget = that.options.relatedTarget;\n\n            multiple = that.options.multiple;\n            dragToSelect = that.options.dragToSelect;\n\n            that.userEvents = new kendo.UserEvents(that.element, {\n                global: true,\n                allowSelection: true,\n                filter: (!supportEventDelegation ? \".\" + SELECTABLE + \" \" : \"\") + that.options.filter,\n                tap: that._tap.bind(that),\n                touchAction: multiple ? \"none\" : \"pan-x pan-y\"\n            });\n\n            if (multiple) {\n                if (dragToSelect) {\n                    that.userEvents\n                        .bind(\"start\", that._start.bind(that))\n                        .bind(\"move\", that._move.bind(that))\n                        .bind(\"end\", that._end.bind(that));\n                }\n                that.userEvents\n                   .bind(\"select\", that._select.bind(that));\n            }\n        },\n\n        events: [CHANGE, UNSELECT],\n\n        options: {\n            name: \"Selectable\",\n            filter: \">*\",\n            inputSelectors: INPUTSELECTOR,\n            multiple: false,\n            dragToSelect: true,\n            relatedTarget: $.noop,\n            ignoreOverlapped: false,\n            addIdToRanges: false\n        },\n\n        _isElement: function(target) {\n            var elements = this.element;\n            var idx, length = elements.length, result = false;\n\n            target = target[0];\n\n            for (idx = 0; idx < length; idx ++) {\n                if (elements[idx] === target) {\n                    result = true;\n                    break;\n                }\n            }\n\n            return result;\n        },\n\n        _tap: function(e) {\n            var target = $(e.target),\n                that = this,\n                ctrlKey = e.event.ctrlKey || e.event.metaKey,\n                multiple = that.options.multiple,\n                shiftKey = multiple && e.event.shiftKey,\n                selectedClass = that.options.selectedClass || SELECTED,\n                selected,\n                whichCode = e.event.which,\n                buttonCode = e.event.button;\n\n            //in case of hierarchy or right-click\n            if (!that._isElement(target.closest(\".\" + SELECTABLE)) || whichCode && whichCode == 3 || buttonCode && buttonCode == 2) {\n                return;\n            }\n\n            if (!this._allowSelection(e.event.target)) {\n                return;\n            }\n\n            selected = target.hasClass(selectedClass);\n\n            target = target.add(that.relatedTarget(target));\n\n            if (!multiple) {\n                if (selected && ctrlKey) {\n                    that._unselect(target);\n                    that._notify(CHANGE, e);\n                } else if (!selected) {\n                    that.clear();\n                    that.value(target, e);\n                    that._notify(CHANGE, e);\n                }\n            } else {\n                if (shiftKey) {\n                    if (!that._lastRange || !compareElements(that._lastRange, target)) {\n                        that.selectRange(that._firstSelectee(), target, e);\n                        that._notify(CHANGE, e);\n                    }\n                    that._lastRange = target;\n                } else {\n                    that._lastRange = null;\n                    if (selected && ctrlKey) {\n                        that._unselect(target);\n                        that._notify(CHANGE, e);\n                    } else if (ctrlKey) {\n                        that.value(target, e);\n                        that._notify(CHANGE, e);\n                    } else if (!selected || that.value().length > 1) {\n                        that.clear();\n                        that.value(target, e);\n                        that._notify(CHANGE, e);\n                    }\n\n                    that._lastActive = that._downTarget = target;\n                }\n            }\n        },\n\n        _start: function(e) {\n            var that = this,\n                target = $(e.target),\n                selectedClass = that.options.selectedClass || SELECTED,\n                selected = target.hasClass(selectedClass),\n                currentElement,\n                ctrlKey = e.event.ctrlKey || e.event.metaKey;\n\n            if (!this._allowSelection(e.event.target)) {\n                return;\n            }\n\n            that._downTarget = target;\n\n            //in case of hierarchy\n            if (!that._isElement(target.closest(\".\" + SELECTABLE))) {\n                that.userEvents.cancel();\n                return;\n            }\n\n            if (that.options.useAllItems) {\n                that._items = that.element.find(that.options.filter);\n            } else {\n                currentElement = target.closest(that.element);\n                that._items = currentElement.find(that.options.filter);\n            }\n\n            e.sender.capture();\n\n            that._marquee\n                .appendTo(document.body)\n                .css({\n                    left: e.x.client + 1,\n                    top: e.y.client + 1,\n                    width: 0,\n                    height: 0\n                });\n\n            if (!ctrlKey) {\n                that.clear();\n            }\n\n            target = target.add(that.relatedTarget(target));\n            if (selected) {\n                that._selectElement(target, true);\n                if (ctrlKey) {\n                    target.addClass(UNSELECTING);\n                }\n            }\n        },\n\n        _move: function(e) {\n            var that = this,\n                position = {\n                    left: e.x.startLocation > e.x.location ? e.x.location : e.x.startLocation,\n                    top: e.y.startLocation > e.y.location ? e.y.location : e.y.startLocation,\n                    width: abs(e.x.initialDelta),\n                    height: abs(e.y.initialDelta)\n                };\n\n            that._marquee.css(position);\n\n            that._invalidateSelectables(position, (e.event.ctrlKey || e.event.metaKey));\n\n            e.preventDefault();\n        },\n\n        _end: function(e) {\n            var that = this,\n            rangeSelectedAttr = kendo.attr(\"range-selected\"),\n            uid = kendo.guid();\n\n            that._marquee.remove();\n\n            that._unselect(that.element\n                .find(that.options.filter + \".\" + UNSELECTING))\n                .removeClass(UNSELECTING);\n\n\n            var target = that.element.find(that.options.filter + \".\" + ACTIVE);\n            target = target.add(that.relatedTarget(target));\n\n            if (that.options.addIdToRanges) {\n                for (var i = 0; i < that._currentlyActive.length; i++) {\n                    $(that._currentlyActive[i]).attr(rangeSelectedAttr, uid);\n                }\n            }\n\n            if (!that._lastRange || !compareElements(that._lastRange, target)) {\n                that.value(target, e);\n                that._notify(CHANGE, e);\n            }\n            that._lastRange = target;\n            that._lastActive = that._downTarget;\n            that._items = null;\n        },\n\n        _invalidateSelectables: function(position, ctrlKey) {\n            var idx,\n                length,\n                target = this._downTarget[0],\n                items = this._items,\n                selectedClass = this.options.selectedClass || SELECTED,\n                related,\n                toSelect;\n\n            this._currentlyActive = [];\n\n            for (idx = 0, length = items.length; idx < length; idx ++) {\n                toSelect = items.eq(idx);\n                related = toSelect.add(this.relatedTarget(toSelect));\n\n                if (collision(toSelect, position)) {\n                    if (toSelect.hasClass(selectedClass)) {\n                        if (ctrlKey && target !== toSelect[0]) {\n                            related.removeClass(selectedClass).addClass(UNSELECTING);\n                        }\n                    } else if (!toSelect.hasClass(ACTIVE) && !toSelect.hasClass(UNSELECTING) && !this._collidesWithActiveElement(related, position)) {\n                        related.addClass(ACTIVE);\n                    }\n                    this._currentlyActive.push(related[0]);\n                } else {\n                    if (toSelect.hasClass(ACTIVE)) {\n                        related.removeClass(ACTIVE);\n                    } else if (ctrlKey && toSelect.hasClass(UNSELECTING)) {\n                        related.removeClass(UNSELECTING).addClass(selectedClass);\n                    }\n                }\n            }\n        },\n\n        _collidesWithActiveElement: function(element, marqueeRect) {\n            if (!this.options.ignoreOverlapped) {\n                return false;\n            }\n\n            var activeElements = this._currentlyActive;\n            var elemRect = element[0].getBoundingClientRect();\n            var activeElementRect;\n            var collision = false;\n            var isRtl = kendo.support.isRtl(element);\n            var leftRight = isRtl ? \"right\" : \"left\";\n            var tempRect = {};\n\n            marqueeRect.right = marqueeRect.left + marqueeRect.width;\n            marqueeRect.bottom = marqueeRect.top + marqueeRect.height;\n\n            for (var i = 0; i < activeElements.length; i++) {\n                activeElementRect = activeElements[i].getBoundingClientRect();\n                if (overlaps(elemRect, activeElementRect)) {\n                    tempRect[leftRight] = leftRight === \"left\" ? activeElementRect.right : activeElementRect.left;\n                    elemRect = extend({}, elemRect, tempRect);\n                    if (elemRect.left > elemRect.right) {\n                        return true;\n                    }\n                    collision = !overlaps(elemRect, marqueeRect);\n                }\n            }\n            return collision;\n        },\n\n        value: function(val) {\n            var that = this,\n                selectElement = that._selectElement.bind(that);\n\n            if (val) {\n                val.each(function() {\n                    selectElement(this);\n                });\n\n                return;\n            }\n\n            return that.element.find(that.options.filter + \".\" + (that.options.selectedClass || SELECTED));\n        },\n\n        selectedRanges: function() {\n            var that = this;\n            var rangeSelectedAttr = kendo.attr(\"range-selected\");\n            var map = {};\n\n            that.element.find(\"[\" + rangeSelectedAttr + \"]\").each(function(_, elem) {\n                var rangeId = $(elem).attr(rangeSelectedAttr);\n                var mapLocation = map[rangeId];\n\n                if (!mapLocation) {\n                    mapLocation = map[rangeId] = [];\n                }\n\n                mapLocation.push($(elem));\n            });\n\n            return map;\n        },\n\n        selectedSingleItems: function() {\n            var that = this;\n            var rangeSelectedAttr = kendo.attr(\"range-selected\");\n\n            return that.element.find(that.options.filter + \".\" + (that.options.selectedClass || SELECTED) + \":not([\" + rangeSelectedAttr + \"])\").toArray().map(function(elem) {\n                return $(elem);\n            });\n        },\n\n        _firstSelectee: function() {\n            var that = this,\n                selected;\n\n            if (that._lastActive !== null) {\n                return that._lastActive;\n            }\n\n            selected = that.value();\n            return selected.length > 0 ?\n                    selected[0] :\n                    that.element.find(that.options.filter)[0];\n        },\n\n        _selectElement: function(element, preventNotify) {\n            var toSelect = $(element),\n                selectedClass = this.options.selectedClass || SELECTED,\n                isPrevented = !preventNotify && this._notify(\"select\", { element: element });\n\n            toSelect.removeClass(ACTIVE);\n            if (!isPrevented) {\n                 toSelect.addClass(selectedClass);\n\n                if (this.options.aria) {\n                    toSelect.attr(ARIASELECTED, true);\n                }\n            }\n        },\n\n        _notify: function(name, args) {\n            args = args || { };\n            return this.trigger(name, args);\n        },\n\n        _unselect: function(element) {\n            if (this.trigger(UNSELECT, { element: element })) {\n                return;\n            }\n\n            var rangeSelectedAttr = kendo.attr(\"range-selected\");\n\n            element.removeClass(this.options.selectedClass || SELECTED).removeAttr(rangeSelectedAttr);\n\n            if (this.options.aria) {\n                element.attr(ARIASELECTED, false);\n            }\n\n            return element;\n        },\n\n        _select: function(e) {\n            if (this._allowSelection(e.event.target)) {\n                if (!msie || (msie && !$(kendo._activeElement()).is(this.options.inputSelectors))) {\n                    e.preventDefault();\n                }\n            }\n        },\n\n        _allowSelection: function(target) {\n            if ($(target).is(this.options.inputSelectors)) {\n                this.userEvents.cancel();\n                this._downTarget = null;\n                return false;\n            }\n\n            return true;\n        },\n\n        resetTouchEvents: function() {\n            this.userEvents.cancel();\n        },\n\n        clear: function() {\n            var items = this.element.find(this.options.filter + \".\" + (this.options.selectedClass || SELECTED));\n            this._unselect(items);\n        },\n\n        selectRange: function(start, end) {\n            var that = this,\n                idx,\n                tmp,\n                items;\n\n            that.clear();\n\n            if (that.element.length > 1) {\n                items = that.options.continuousItems();\n            }\n\n            if (!items || !items.length) {\n                items = that.element.find(that.options.filter);\n            }\n\n            start = $.inArray($(start)[0], items);\n            end = $.inArray($(end)[0], items);\n\n            if (start > end) {\n                tmp = start;\n                start = end;\n                end = tmp;\n            }\n\n            if (!that.options.useAllItems) {\n                end += that.element.length - 1;\n            }\n\n            for (idx = start; idx <= end; idx ++ ) {\n                that._selectElement(items[idx], true);\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that.element.off(NS);\n\n            that.userEvents.destroy();\n\n            that._marquee = that._lastActive = that.element = that.userEvents = null;\n        }\n    });\n\n    Selectable.parseOptions = function(selectable) {\n        var selectableMode = selectable.mode || selectable;\n        var asLowerString = typeof selectableMode === \"string\" && selectableMode.toLowerCase();\n        return {\n            multiple: asLowerString && asLowerString.indexOf(\"multiple\") > -1,\n            cell: asLowerString && asLowerString.indexOf(\"cell\") > -1\n        };\n    };\n\n    function compareElements(element, toCompare) {\n\n        if (element.length !== toCompare.length) {\n            return false;\n        }\n\n        for (var i = 0; i < element.length; i++) {\n            if (element[i] !== toCompare[i]) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    function collision(element, position) {\n        if (!element.is(\":visible\")) {\n            return false;\n        }\n\n        var elementPosition = kendo.getOffset(element),\n            right = position.left + position.width,\n            bottom = position.top + position.height;\n\n        elementPosition.right = elementPosition.left + kendo._outerWidth(element);\n        elementPosition.bottom = elementPosition.top + kendo._outerHeight(element);\n\n        return !(elementPosition.left > right ||\n            elementPosition.right < position.left ||\n            elementPosition.top > bottom ||\n            elementPosition.bottom < position.top);\n    }\n\n    function overlaps(firstRect, secondRect) {\n        return !(firstRect.right <= secondRect.left ||\n            firstRect.left >= secondRect.right ||\n            firstRect.bottom <= secondRect.top ||\n            firstRect.top >= secondRect.bottom);\n    }\n\n    kendo.ui.plugin(Selectable);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.badge',[\"kendo.core\"], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"badge\",\n    name: \"Badge\",\n    category: \"web\", // suite\n    description: \"The Badge decorates avatars, navigation menus, or other components in the application when visual notification is needed\",\n    depends: [\"core\"] // dependencies\n};\n\n(function($, undefined) {\n    var kendo = window.kendo;\n    var Widget = kendo.ui.Widget;\n    var ui = kendo.ui;\n    var HIDDEN = 'k-hidden';\n\n    var iconTemplate = '<span class=\\'k-badge-icon k-icon k-i-#= icon #\\'></span>';\n    var svgIconTemplate = '<span class=\\'k-badge-icon k-svg-icon\\'>#= icon #</span>';\n\n    var Badge = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._content();\n\n            that._appearance();\n\n            kendo.notify(that);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n        },\n\n        options: {\n            name: 'Badge',\n            cutoutBorder: false,\n            data: {},\n            fillMode: 'solid',\n            icon: '',\n            max: Infinity,\n            position: 'inline',\n            align: '',\n            rounded: 'medium',\n            roundings: {\n                'small': 'sm',\n                'medium': 'md',\n                'large': 'lg',\n                'full': 'full'\n            },\n            sizes: {\n                'small': 'sm',\n                'medium': 'md',\n                'large': 'lg'\n            },\n            size: 'medium',\n            template: null,\n            text: '',\n            themeColor: 'secondary',\n            visible: true,\n            _classNames: []\n        },\n\n        _content: function() {\n            var that = this;\n            var text = that.options.text;\n            var template = that.options.template;\n            var data = that.options.data;\n            var icon = that.options.icon;\n\n            // Order of precedence\n            // 1) template\n            // 2) icon\n            // 3) text\n            // 4) content\n\n            if (template !== null) {\n                that._text = text;\n                that._template = kendo.template(template).bind(that);\n                that.element.html( that._template(data) );\n\n                return;\n            }\n\n            if (icon !== '') {\n                that.icon(icon);\n\n                return;\n            }\n\n            if (text !== '') {\n                that.text(text);\n\n                return;\n            }\n\n            that.text(that.element.html());\n        },\n\n        _appearance: function() {\n            var that = this;\n            that._themeColor = that.options.themeColor;\n            that._shape = that.options.shape;\n            that._sizes = that.options.sizes;\n            that._size = that.options.size;\n            that._fillMode = that.options.fillMode;\n            that._rounded = that.options.rounded;\n            that._roundings = that.options.roundings;\n            that._cutoutBorder = that.options.cutoutBorder;\n            that._align = that.options.align;\n            that._position = that.options.position;\n            that._visible = that.options.visible;\n\n            that._updateClassNames();\n        },\n\n        _updateClassNames: function() {\n            var that = this;\n            var classNames = ['k-badge'];\n            var keepClassNames = that.options._classNames;\n            var themeColor = that._themeColor;\n            var shape = that._shape;\n            var sizes = that._sizes;\n            var size = that._size;\n            var sizeAbbr = sizes[size] === undefined ? size : sizes[size];\n            var fillMode = that._fillMode;\n            var rounded = that._rounded;\n            var roundings = that._roundings;\n            var roundedAbbr = roundings[rounded] === undefined ? rounded : roundings[rounded];\n            var cutoutBorder = that._cutoutBorder;\n            var align = that._align;\n            var position = that._position;\n            var visible = that._visible;\n\n            // Remove all class names\n            that.element.removeClass(function(index, className) {\n                if (className.indexOf('k-') === 0 && keepClassNames.indexOf(className) === -1) {\n                    that.element.removeClass(className);\n                }\n            });\n\n            // Fill\n            if (typeof fillMode === 'string' && fillMode !== '') {\n                classNames.push('k-badge-' + fillMode);\n            }\n\n            // Color\n            if (typeof themeColor === 'string' && themeColor !== '') {\n                classNames.push('k-badge-' + fillMode + '-' + themeColor);\n            }\n\n            // Size\n            if (typeof size === 'string' && size !== '') {\n                classNames.push('k-badge-' + sizeAbbr);\n            }\n\n            // Rounded\n            if (typeof rounded === 'string' && rounded !== '') {\n                classNames.push('k-rounded-' + roundedAbbr);\n            }\n\n            // Shape\n            if (typeof shape === 'string' && shape !== '') {\n                classNames.push('k-badge-' + shape);\n            }\n\n            // Cutout border\n            if (typeof cutoutBorder === 'boolean' && cutoutBorder === true) {\n                classNames.push('k-badge-border-cutout');\n            }\n\n            // Position\n            if (typeof position === 'string' && position !== '') {\n                classNames.push('k-badge-' + position);\n            }\n\n            // Align\n            if (typeof position === 'string' && position !== '' && position !== 'inline' && typeof align === 'string' && align.split(' ').length == 2) {\n                classNames.push('k-' + align.replace(' ', '-'));\n            }\n\n            // Visibility\n            if (visible === false) {\n                classNames.push(HIDDEN);\n            }\n\n            // Apply classnames\n            that.element.addClass(classNames.join(' '));\n        },\n\n        setOptions: function(options) {\n            var that = this;\n\n            that.element.removeClass(function(index, className) {\n                if (className.indexOf('k-') >= 0) {\n                    that.element.removeClass(className);\n                }\n            });\n\n            Widget.fn.setOptions.call(that, options);\n\n            that._content();\n\n            that._appearance();\n        },\n\n        text: function(text) {\n            var that = this;\n            var max = that.options.max;\n\n            // handle badge.text()\n            if (arguments.length === 0 || text === undefined) {\n                return that._text;\n            }\n\n            that._text = text;\n\n            // handle badge.text(true|false|null)\n            if (text === true || text === false || text === null) {\n                that.element.html('');\n\n                return;\n            }\n\n            // handle badge.text('string')\n            if (typeof text === 'string') {\n                that.element.html(text);\n\n                return;\n            }\n\n            // handle badge.text(1)\n            if (typeof text === 'number') {\n                if (text > max) {\n                    that.element.html(max + '+');\n                } else {\n                    that.element.html(text);\n                }\n\n                return;\n            }\n\n            // handle other objects\n            if (typeof text === 'object' && 'toString' in text) {\n                that.element.html(text.toString());\n\n                return;\n            }\n\n        },\n\n        icon: function(icon) {\n            var that = this;\n            var iconTemplateFunction;\n\n            // handle badge.icon()\n            if (arguments.length === 0 || icon === undefined) {\n                return that._icon;\n            }\n\n            that._icon = icon;\n\n            // Handle badge.icon(<SVG />)\n            if (icon.indexOf('<svg') === 0) {\n                iconTemplateFunction = kendo.template(svgIconTemplate);\n                that.element.html(iconTemplateFunction({ icon: icon }));\n\n                return;\n            }\n\n            // Handle badge.icon(ICON_NAME)\n            iconTemplateFunction = kendo.template(iconTemplate);\n            that.element.html(iconTemplateFunction({ icon: icon }));\n        },\n\n        themeColor: function(color) {\n            var that = this;\n\n            // handle badge.color()\n            if (arguments.length === 0 || color === undefined) {\n                return that._themeColor;\n            }\n\n            that._themeColor = color;\n            that._updateClassNames();\n        },\n\n        rounded: function(rounded) {\n            var that = this;\n\n            // handle badge.shape()\n            if (arguments.length === 0 || rounded === undefined) {\n                return that._rounded;\n            }\n\n            that._rounded = rounded;\n            that._updateClassNames();\n        },\n\n        hide: function() {\n            var that = this;\n            that._visible = false;\n\n            that._updateClassNames();\n        },\n\n        show: function() {\n            var that = this;\n            that._visible = true;\n\n            that._updateClassNames();\n        }\n    });\n\n    ui.plugin(Badge);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) {\n    (a3 || a2)();\n});\n(function(f, define) {\n    define('kendo.html.base',[\n        \"kendo.core\"\n    ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"html.base\",\n    name: \"Html.Base\",\n    category: \"web\",\n    description: \"\",\n    depends: [\"core\"],\n    features: []\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Class = kendo.Class;\n\n    kendo.html = kendo.html || {};\n\n    var HTMLBase = Class.extend({\n        init: function(element, options) {\n            var that = this;\n            that.element = $(element);\n            options = options || {};\n            delete options.name;\n            that._initOptions(options);\n        },\n        options: {\n            stylingOptions: []\n        },\n        _addClasses: function() {\n            var that = this,\n                options = that.options,\n                stylingOptions = options.stylingOptions,\n                previouslyAddedClasses = that.wrapper.data(\"added-classes\");\n\n            stylingOptions = stylingOptions.map(function(option) {\n                var validFill;\n\n                if (option === \"themeColor\") {\n                    validFill = kendo.cssProperties.getValidClass({\n                        widget: options.name,\n                        propName: \"fillMode\",\n                        value: options.fillMode\n                    });\n\n                    if (!validFill || validFill.length === 0) {\n                        return \"\";\n                    }\n                }\n\n                return kendo.cssProperties.getValidClass({\n                    widget: options.name,\n                    propName: option,\n                    value: options[option],\n                    fill: options.fillMode\n                });\n            });\n\n            if (previouslyAddedClasses) {\n                that.wrapper.removeClass(previouslyAddedClasses.join(\" \"));\n            }\n\n            that.wrapper.data(\"added-classes\", stylingOptions);\n            that.wrapper.addClass(stylingOptions.join(\" \"));\n        },\n        html: function() {\n            var that = this;\n\n            return that.wrapper[0].outerHTML;\n        }\n    });\n\n    $.extend(kendo.html, {\n        HTMLBase: HTMLBase\n    });\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.html.button',[\n        \"kendo.html.base\"\n    ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"html.button\",\n    name: \"Html.Button\",\n    category: \"web\",\n    description: \"HTML rendering utility for Kendo UI for jQuery.\",\n    depends: [ \"html.base\" ],\n    features: []\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        HTMLBase = kendo.html.HTMLBase,\n\n        KBUTTON = \"k-button\",\n        KBUTTONICON = \"k-button-icon\",\n        KBUTTONTEXT = \"k-button-text\";\n\n    var renderButton = function(element, options) {\n        if (arguments[0] === undefined || $.isPlainObject(arguments[0])) {\n            options = element;\n            element = $(\"<button></button>\");\n        }\n\n        return (new HTMLButton(element, options)).html();\n    };\n\n    var HTMLButton = HTMLBase.extend({\n        init: function(element, options) {\n            var that = this;\n            HTMLBase.fn.init.call(that, element, options);\n            that.wrapper = that.element.addClass(KBUTTON);\n\n            if (!that.element.attr(\"type\")) {\n                that.element.attr(\"type\", that.options.type);\n            }\n\n            that._addClasses();\n            that.iconElement();\n            that._textElement();\n        },\n        options: {\n            name: \"HTMLButton\",\n            type: \"button\",\n            icon: \"\",\n            iconClass: \"\",\n            spriteCssClass: \"\",\n            imageUrl: \"\",\n            size: \"medium\",\n            rounded: \"medium\",\n            fillMode: \"solid\",\n            themeColor: \"base\",\n            stylingOptions: [ \"size\", \"rounded\", \"fillMode\", \"themeColor\" ]\n        },\n        iconElement: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                icon = options.icon,\n                iconClass = options.iconClass,\n                spriteCssClass = options.spriteCssClass,\n                imageUrl = options.imageUrl,\n                span, img, isEmpty;\n\n            if (spriteCssClass || imageUrl || icon || iconClass) {\n                isEmpty = true;\n\n                element.contents().filter(function() {\n                    return (!$(this).hasClass(\"k-sprite\") && !$(this).hasClass(\"k-icon\") && !$(this).hasClass(\"k-image\"));\n                }).each(function(idx, el) {\n                    if (el.nodeType == 1 || el.nodeType == 3 && kendo.trim(el.nodeValue).length > 0) {\n                        isEmpty = false;\n                    }\n                });\n            }\n\n            if (isEmpty) {\n                that.element.addClass(\"k-icon-button\");\n            }\n\n            if (imageUrl) {\n                img = element.children(\"img.k-image\").first();\n                if (!img[0]) {\n                    img = $('<img alt=\"icon\" class=\"k-image\" />').prependTo(element);\n                }\n                img.attr(\"src\", imageUrl);\n                img.addClass(KBUTTONICON);\n            } else if (icon || iconClass) {\n                span = element.children(\"span.k-icon\").first();\n                if (!span[0]) {\n                    span = $('<span></span>').prependTo(element);\n                }\n                span.attr(\"class\", icon ? \"k-icon k-i-\" + icon : iconClass);\n                span.addClass(KBUTTONICON);\n            } else if (spriteCssClass) {\n                span = element.children(\"span.k-sprite\").first();\n                if (!span[0]) {\n                    span = $('<span class=\"k-sprite\"></span>').prependTo(element);\n                }\n                span.addClass(spriteCssClass + \" \" + KBUTTONICON);\n            }\n        },\n        _textElement: function() {\n            var element = this.element;\n\n            element.contents().filter(function() {\n                return (!$(this).hasClass(KBUTTONICON) && !$(this).hasClass(\"k-sprite\") && !$(this).hasClass(\"k-icon\") && !$(this).hasClass(\"k-image\"));\n            }).each(function(idx, el) {\n                if (el.nodeType == 1 || el.nodeType == 3 && kendo.trim(el.nodeValue).length > 0) {\n                    if (el.nodeType === 3) {\n                        var newSpan = document.createElement('span');\n\n                        el.parentNode.insertBefore(newSpan, el);\n                        newSpan.appendChild(el);\n                        el = newSpan;\n                    }\n\n                    el.classList.add(KBUTTONTEXT);\n                }\n            });\n        }\n    });\n\n    $.extend(kendo.html, {\n        renderButton: renderButton,\n        HTMLButton: HTMLButton\n    });\n\n    kendo.cssProperties.registerPrefix(\"HTMLButton\", \"k-button-\");\n\n    kendo.cssProperties.registerValues(\"HTMLButton\", [{\n        prop: \"fillMode\",\n        values: kendo.cssProperties.fillModeValues.concat([\"link\"])\n    }, {\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.button',[\"kendo.core\", \"kendo.badge\", \"kendo.html.button\"], f);\n})(function() {\n\n    var __meta__ = {\n        id: \"button\",\n        name: \"Button\",\n        category: \"web\",\n        description: \"The Button widget displays styled buttons.\",\n        depends: [\"core\", \"badge\", \"html.button\"]\n    };\n\n    (function($, undefined) {\n        var kendo = window.kendo,\n            Widget = kendo.ui.Widget,\n            html = kendo.html,\n            ui = kendo.ui,\n            keys = kendo.keys,\n            CLICK = \"click\",\n            MOUSEDOWN = kendo.support.mousedown,\n            MOUSEUP = kendo.support.mouseup,\n            MOUSEOUT = \"mouseout\",\n            NS = \".kendoButton\",\n            DISABLED = \"disabled\",\n            DISABLEDSTATE = \"k-disabled\",\n            FOCUSEDSTATE = \"k-focus\",\n            ACTIVESTATE = \"k-active\";\n\n        var BUTTON_DEFAULTS = {\n            icon: \"\",\n            iconClass: \"\",\n            spriteCssClass: \"\",\n            imageUrl: \"\",\n            badge: null\n        };\n        kendo.setDefaults(\"button\", BUTTON_DEFAULTS);\n\n        var Button = Widget.extend({\n            init: function(element, options) {\n                var that = this;\n\n                Widget.fn.init.call(that, element, options);\n\n                element = that.wrapper = that.element;\n                options = that.options;\n\n                html.renderButton(element, $.extend({}, options));\n\n                element.attr(\"role\", \"button\");\n\n                options.enable = options.enable && options.enabled && !element.attr(DISABLED);\n                that.enable(options.enable);\n\n                if (options.enable) {\n                    that._tabindex();\n                }\n\n                that._badge();\n\n                element\n                    .on(CLICK + NS, that._click.bind(that))\n                    .on(\"focus\" + NS, that._focus.bind(that))\n                    .on(\"blur\" + NS, that._blur.bind(that))\n                    .on(\"keydown\" + NS, that._keydown.bind(that))\n                    .on(\"keyup\" + NS, that._removeActive.bind(that))\n                    .on(MOUSEDOWN + NS, that._addActive.bind(that))\n                    .on(MOUSEUP + NS + \" \" + MOUSEOUT + NS, that._removeActive.bind(that));\n\n                kendo.notify(that);\n            },\n\n            destroy: function() {\n                var that = this;\n\n                that.wrapper.off(NS);\n\n                if (that.badge) {\n                    that.badge.destroy();\n                }\n\n                Widget.fn.destroy.call(that);\n            },\n\n            events: [\n                CLICK\n            ],\n\n            options: {\n                name: \"Button\",\n                enable: true,\n                enabled: true,\n                icon: \"\",\n                iconClass: \"\",\n                spriteCssClass: \"\",\n                imageUrl: \"\",\n                badge: null,\n                size: \"medium\",\n                shape: \"rectangle\",\n                rounded: \"medium\",\n                fillMode: \"solid\",\n                themeColor: \"base\"\n            },\n\n            _isNativeButton: function() {\n                return this.element.prop(\"tagName\").toLowerCase() == \"button\";\n            },\n\n            _click: function(e) {\n                if (this.options.enable) {\n                    if (this.trigger(CLICK, { event: e })) {\n                        e.preventDefault();\n                    }\n                }\n            },\n\n            _focus: function() {\n                if (this.options.enable) {\n                    this.element.addClass(FOCUSEDSTATE);\n                }\n            },\n\n            _blur: function() {\n                var that = this;\n                that.element.removeClass(FOCUSEDSTATE);\n                setTimeout(function() {\n                    that.element.removeClass(ACTIVESTATE);\n                });\n            },\n\n            _keydown: function(e) {\n                var that = this;\n                if (e.keyCode == keys.ENTER || e.keyCode == keys.SPACEBAR) {\n                    that._addActive();\n\n                    if (!that._isNativeButton()) {\n                        if (e.keyCode == keys.SPACEBAR) {\n                            e.preventDefault();\n                        }\n                        that._click(e);\n                    }\n                }\n            },\n\n            _removeActive: function() {\n                this.element.removeClass(ACTIVESTATE);\n            },\n\n            _addActive: function() {\n                if (this.options.enable) {\n                    this.element.addClass(ACTIVESTATE);\n                }\n            },\n\n            enable: function(enable) {\n                var that = this,\n                    element = that.element;\n\n                if (enable === undefined) {\n                    enable = true;\n                }\n\n                enable = !!enable;\n                that.options.enable = enable;\n                element.toggleClass(DISABLEDSTATE, !enable)\n                    .attr(\"aria-disabled\", !enable)\n                    .attr(DISABLED, !enable);\n\n                if (enable) {\n                    that._tabindex();\n                }\n\n                // prevent 'Unspecified error' in IE when inside iframe\n                try {\n                    element.trigger(\"blur\");\n                } catch (err) {}\n            },\n\n            _badge: function() {\n                var that = this;\n                var badgeOptions = that.options.badge;\n                var badgeEelement;\n\n                if (badgeOptions === null || badgeOptions === undefined) {\n                    return;\n                }\n\n                if (badgeOptions.constructor !== Object) {\n                    badgeOptions = { text: badgeOptions };\n                }\n\n                if (badgeOptions.position === undefined || badgeOptions.position === \"\") {\n                    badgeOptions.position = \"edge\";\n\n                    if (badgeOptions.align === undefined || badgeOptions.align === \"\") {\n                        badgeOptions.align = \"top end\";\n                    }\n                }\n\n                badgeOptions._classNames = [\"k-button-badge\"];\n\n                that.element.addClass(\"k-badge-container\");\n\n                badgeEelement = $('<span />').appendTo(that.element);\n                that.badge = new ui.Badge(badgeEelement, badgeOptions);\n            }\n        });\n\n        if (Button.fn.hasOwnProperty(\"defaults\") === false) {\n            Object.defineProperty(Button.fn, \"defaults\", {\n                get: function() {\n                    return kendo.defaults.button;\n                }\n            });\n        }\n\n        kendo.cssProperties.registerPrefix(\"Button\", \"k-button-\");\n\n        kendo.cssProperties.registerValues(\"Button\", [{\n            prop: \"fillMode\",\n            values: kendo.cssProperties.fillModeValues.concat([\"link\"])\n        }, {\n            prop: \"rounded\",\n            values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n        }]);\n\n        kendo.ui.plugin(Button);\n\n    })(window.kendo.jQuery);\n\n    return window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.bottomnavigation',[ \"kendo.core\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"bottomnavigation\",\n    name: \"BottomNavigation\",\n    category: \"web\",\n    description: \"The BottomNavigation widget is a navigation element that allows movement between primary destinations in an app.\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        extend = $.extend,\n        template = kendo.template,\n        keys = kendo.keys,\n        isPlainObject = $.isPlainObject,\n        isEmptyObject = $.isEmptyObject,\n\n        NS = \".kendoBottomNavigation\",\n        PREFIX = \"k-bottom-nav-\",\n        K_POS = \"k-pos-\",\n        DOT = \".\",\n\n        SELECT = \"select\";\n\n    var isString = function(value) {\n        return typeof value === \"string\";\n    };\n\n    var bottomNavigationStyles = {\n        widget: \"k-bottom-nav\",\n        item: \"k-bottom-nav-item\",\n        navIcon: \"k-bottom-nav-item-icon\",\n        icon: \"k-icon\",\n        text: \"k-bottom-nav-item-text\",\n        itemFlow: {\n            vertical: \"k-bottom-nav-item-flow-vertical\",\n            horizontal: \"k-bottom-nav-item-flow-horizontal\"\n        },\n        selected: \"k-selected\",\n        disabled: \"k-disabled\",\n        border: \"k-bottom-nav-border\",\n        shadow: \"k-bottom-nav-shadow\",\n        focus: \"k-focus\"\n    };\n\n    var templates = {\n        item: template(\"<span class='\" + bottomNavigationStyles.item + \"'></span>\"),\n        anchor: template(\"<a class='\" + bottomNavigationStyles.item + \"' href='#:url#'></a>\"),\n        text: template(\"<span class='\" + bottomNavigationStyles.text + \"'>#=text#</span>\"),\n        icon: template(\"<span class='\" + bottomNavigationStyles.navIcon + \"#if(icon){# k-icon k-i-#:icon# #}#'></span>\")\n    };\n\n    var BottomNavigation = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n            options = options || {};\n            Widget.fn.init.call(that, element, options);\n\n            that.element = $(element);\n\n            that._updateCssClasses();\n            that._items();\n            that._bindEvents();\n        },\n\n        options: {\n            name: \"BottomNavigation\",\n            positionMode: \"fixed\",\n            items: [],\n            themeColor: \"primary\",\n            itemFlow: \"vertical\",\n            fill: \"flat\",\n            shadow: false,\n            border: true,\n            template: null\n        },\n\n        events: [\n            SELECT\n        ],\n\n        destroy: function() {\n            var that = this;\n\n            that.element.off(NS);\n\n            Widget.fn.destroy.call(this);\n        },\n\n        _tabindex: function(target) {\n            var that = this,\n                element = that.element,\n                TABINDEX = \"tabindex\",\n                cachedTabIndex = element.attr(\"data-\" + kendo.ns + TABINDEX),\n                tabindex = target.attr(TABINDEX) || element.attr(TABINDEX) || cachedTabIndex;\n\n            if (!cachedTabIndex) {\n                element.removeAttr(TABINDEX);\n                element.attr(\"data-\" + kendo.ns + TABINDEX, tabindex);\n            }\n\n            target.attr(TABINDEX, !isNaN(tabindex) ? tabindex : 0);\n        },\n\n        _updateCssClasses: function() {\n            var that = this,\n                options = that.options,\n                styles = bottomNavigationStyles;\n\n            // Remove all class names\n            that.element.removeClass(function(index, className) {\n                if (className.indexOf('k-') === 0) {\n                    that.element.removeClass(className);\n                }\n            });\n\n            that.element.addClass(styles.widget);\n            that.element.addClass(kendo.getValidCssClass(PREFIX, \"themeColor\", options.themeColor));\n            that.element.addClass(kendo.getValidCssClass(PREFIX, \"fill\", options.fill));\n            that.element.addClass(kendo.getValidCssClass(K_POS, \"positionMode\", options.positionMode));\n            that.element.toggleClass(styles.border, options.border);\n            that.element.toggleClass(styles.shadow, options.shadow);\n            that._itemFlow(options.itemFlow);\n        },\n\n        _itemFlow: function(orientation) {\n            var that = this,\n                orientationStyles = bottomNavigationStyles.itemFlow;\n\n            that._toggleClassGroup(that.element, orientation, orientationStyles);\n        },\n\n        _toggleClassGroup: function(element, value, group) {\n            if (isString(group[value])) {\n                for (var key in group) {\n                    element.removeClass(group[key]);\n                }\n\n                element.addClass(group[value]);\n            }\n        },\n\n        _items: function() {\n            var that = this,\n                options = that.options,\n                items = options.items,\n                item;\n\n            for (var i = 0; i < items.length; i++) {\n                item = that._renderItem(items[i]);\n                that.element.append(item);\n            }\n        },\n\n        _renderItem: function(item) {\n            var that = this,\n                itemTemplate = item.template || that.options.template,\n                isLink = item.url && isString(item.url),\n                elm, icon;\n\n            elm = $(isLink ? template(templates.anchor)(item) : template(templates.item)(item));\n\n            elm.toggleClass(bottomNavigationStyles.selected, item.selected === true)\n                .toggleClass(bottomNavigationStyles.disabled, item.enabled === false)\n                .addClass(item.cssClass)\n                .attr(extend({}, item.attributes, {\n                    \"aria-disabled\": item.enabled === false\n                }))\n                .data(item.data);\n\n            that._tabindex(elm);\n\n            if (!elm.attr(\"role\") && !isLink) {\n                elm.attr(\"role\", \"link\");\n            }\n\n            if (itemTemplate) {\n                elm.append(template(itemTemplate)(item));\n                return elm;\n            }\n\n            item = extend({}, {\n                icon: \"\"\n            }, item);\n\n            icon = $(templates.icon(item)).addClass(item.iconClass);\n\n            elm.append(icon);\n\n            if (item.text) {\n                item.text = item.encoded === false ? item.text : kendo.htmlEncode(item.text);\n                elm.append($(templates.text(item)));\n            }\n\n            return elm;\n        },\n\n        _bindEvents: function() {\n            var that = this,\n                clickProxy = that._click.bind(that),\n                keydownProxy = that._keydown.bind(that);\n\n            that.element.on(\"click\" + NS, DOT + bottomNavigationStyles.item, clickProxy)\n                        .on(\"keydown\" + NS, DOT + bottomNavigationStyles.item, keydownProxy);\n        },\n\n        _click: function(ev) {\n            var that = this,\n                item = $(ev.target).closest(DOT + bottomNavigationStyles.item);\n\n            if (item.is(DOT + bottomNavigationStyles.disabled)) {\n                ev.preventDefault();\n                return;\n            }\n\n            that._triggerSelect(item, ev);\n        },\n\n        _triggerSelect: function(item, ev) {\n            var that = this;\n\n            if (item.is(DOT + bottomNavigationStyles.disabled)) {\n                return;\n            }\n\n            if (that.trigger(SELECT, { originalEvent: ev, item: item, data: item.data() })) {\n                return;\n            }\n\n            that.select(item);\n        },\n\n        _keydown: function(ev) {\n            var that = this,\n                target = $(ev.target),\n                key = ev.keyCode;\n\n            if (key === keys.ENTER || key === keys.SPACEBAR) {\n                if (that._isItem(target)) {\n                    that._triggerSelect(target, ev);\n\n                    if (key === keys.SPACEBAR) {\n                        ev.preventDefault();\n                    }\n                }\n            }\n        },\n\n        _isItem: function(item) {\n            var that = this;\n\n            item = $(item);\n\n            return item.is(DOT + bottomNavigationStyles.item) && !!that.element.find(item).length;\n        },\n\n        items: function() {\n            var that = this;\n\n            return that.element.children();\n        },\n\n        select: function(item, state) {\n            var that = this,\n                selectedItem = that.items().filter(DOT + bottomNavigationStyles.selected);\n\n            if (!item) {\n                return selectedItem;\n            }\n\n            state = state !== false;\n\n            if (that._isItem(item)) {\n                selectedItem.removeClass(bottomNavigationStyles.selected);\n                $(item).toggleClass(bottomNavigationStyles.selected, state);\n            }\n        },\n\n        enable: function(item, state) {\n            var that = this;\n\n            state = state === false;\n\n            if (item && that._isItem(item)) {\n                $(item).toggleClass(bottomNavigationStyles.disabled, state);\n                $(item).attr(\"aria-disabled\", state);\n            }\n        },\n\n        item: function(index) {\n            var that = this;\n\n            if (isNaN(index)) {\n                return null;\n            }\n\n            return that.items().eq(index);\n        },\n\n        itemById: function(id) {\n            var that = this;\n\n            return that.element.find(\"#\" + id);\n        },\n\n        add: function(item, before) {\n            var that = this,\n                method = \"append\",\n                targetElement = that.element;\n\n            if (before && that._isItem(before)) {\n                method = \"before\";\n                targetElement = $(before);\n            }\n\n            if (item && isPlainObject(item) && !isEmptyObject(item)) {\n                targetElement[method](that._renderItem(item));\n            }\n        },\n\n        remove: function(item) {\n            var that = this;\n\n            if (item && that._isItem(item)) {\n                item.remove();\n            }\n        },\n\n        showText: function(toggle) {\n            var that = this,\n                textItems = that.items().find(DOT + bottomNavigationStyles.text);\n\n            toggle = toggle !== false;\n\n            textItems.toggle(toggle);\n        },\n\n        setOptions: function(options) {\n            var that = this;\n\n            Widget.fn.setOptions.call(this, options);\n            that._updateCssClasses();\n\n            if (\"items\" in options || \"template\" in options) {\n                that.element.empty();\n                that._items();\n            }\n        }\n    });\n\n    ui.plugin(BottomNavigation);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n(function(f, define) {\n    define('kendo.pager',[ \"kendo.data\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"pager\",\n    name: \"Pager\",\n    category: \"framework\",\n    depends: [ \"data\" ],\n    advanced: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        keys = kendo.keys,\n        template = kendo.template,\n        FIRST = \".k-i-arrow-end-left\",\n        LAST = \".k-i-arrow-end-right\",\n        PREV = \".k-i-arrow-60-left\",\n        NEXT = \".k-i-arrow-60-right\",\n        SIZE = \"k-pager-md k-pager-sm\",\n        FOCUSABLE = \":kendoFocusable:not([tabindex='-1'])\",\n        CHANGE = \"change\",\n        NS = \".kendoPager\",\n        CLICK = \"click\",\n        KEYDOWN = \"keydown\",\n        DISABLED = \"disabled\",\n        MOUSEDOWN = \"down\",\n        MAX_VALUE = Number.MAX_VALUE,\n        isRtl = false,\n        iconTemplate = kendo.template('<a href=\"\\\\#\" role=\"button\" title=\"#=text#\" aria-label=\"#=text#\" class=\"k-link k-pager-nav #= wrapClassName #\"><span class=\"k-icon #= className #\"></span></a>');\n\n    function button(options) {\n        return options.template( {\n            idx: options.idx,\n            text: options.text,\n            ns: kendo.ns,\n            numeric: options.numeric,\n            title: options.title || \"\",\n            tabindex: options.navigatable ? 0 : -1,\n            navigatable: options.navigatable\n        });\n    }\n\n    function selectOption(template, idx, text, selected) {\n        return template( {\n            idx: idx,\n            text: text || idx,\n            selected: selected || false\n        });\n    }\n\n    function icon(className, text, wrapClassName, id) {\n        return iconTemplate({\n            className: className.substring(1),\n            text: text,\n            wrapClassName: wrapClassName || \"\",\n            id: id || \"\"\n        });\n    }\n\n    function update(element, selector, page, disabled) {\n       element.find(selector)\n              .parent()\n              .attr(kendo.attr(\"page\"), page)\n              .attr(\"tabindex\", disabled ? -1 : 0)\n              .attr(\"aria-disabled\", disabled)\n              .toggleClass(\"k-disabled\", disabled);\n    }\n\n    function first(element, page) {\n        update(element, FIRST, 1, page <= 1);\n    }\n\n    function prev(element, page) {\n        update(element, PREV, Math.max(1, page - 1), page <= 1);\n    }\n\n    function next(element, page, totalPages) {\n        update(element, NEXT, Math.min(totalPages, page + 1), page >= totalPages);\n    }\n\n    function last(element, page, totalPages) {\n        update(element, LAST, totalPages, page >= totalPages);\n    }\n\n    var Pager = Widget.extend( {\n        init: function(element, options) {\n            var that = this, page, totalPages;\n            var sizeClassName = null;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n            that._createDataSource(options);\n            that.linkTemplate = kendo.template(that.options.linkTemplate);\n            that.selectTemplate = kendo.template(that.options.selectTemplate);\n            that.numericSelectItemTemplate = kendo.template(that.options.numericSelectItemTemplate);\n\n            page = that.page();\n            totalPages = that.totalPages();\n\n            that._refreshHandler = that.refresh.bind(that);\n\n            that.dataSource.bind(CHANGE, that._refreshHandler);\n            that.downEvent = kendo.applyEventMap(MOUSEDOWN, kendo.guid());\n\n            isRtl = kendo.support.isRtl(element);\n\n            if (options.navigatable) {\n                that._id = that.element.attr(\"id\") || kendo.guid();\n            }\n            that._template();\n\n            if (options.previousNext) {\n                if (!that.element.find(FIRST).length) {\n                    that.element.append(icon(FIRST, options.messages.first, \"k-pager-first\", that._id));\n\n                    first(that.element, page, totalPages);\n                }\n\n                if (!that.element.find(PREV).length) {\n                    that.element.append(icon(PREV, options.messages.previous, null, that._id));\n\n                    prev(that.element, page, totalPages);\n                }\n            }\n\n            if (options.numeric) {\n                if (!that._numericWrap) {\n                    that._numericWrap = that.element.find(\".k-pager-numbers-wrap\");\n\n                    if (that._numericWrap.length === 0) {\n                        that._numericWrap = $(\"<div class='k-pager-numbers-wrap' />\").appendTo(that.element);\n                    }\n                }\n\n                if (!that._numericSelect) {\n                    that._numericSelect = that._numericWrap.find(\".k-dropdown\");\n\n                    if (that._numericSelect.length === 0) {\n                       that._numericSelect = $(\"<select aria-label='\" + that.options.messages.numbersSelectLabel + \"' class='k-dropdown k-picker k-dropdown-list' />\").appendTo(that._numericWrap);\n                    }\n                }\n\n                if (!that.list) {\n                    that.list = that._numericWrap.find(\".k-pager-numbers\");\n\n                    if (that.list.length === 0) {\n                       that.list = $('<ul class=\"k-pager-numbers\" />').appendTo(that._numericWrap);\n                    }\n                }\n\n                if (options.dataSource && !options.dataSource.total()) {\n                    that._numericSelect.empty().append(\"<option value='0' />\");\n                    that.list.empty().append(that.selectTemplate({ text: 0, tabindex: options.navigatalbe ? 0 : -1, navigatable: options.navigatable, title: kendo.format(options.messages.pageButtonLabel, 0) }));\n                }\n            }\n\n            if (options.input) {\n                if (!that.element.find(\".k-pager-input\").length) {\n                   that.element.append('<span class=\"k-pager-input k-label\">' +\n                       options.messages.page +\n                       '<span class=\"k-textbox k-input k-input-md k-rounded-md k-input-solid\"><input class=\"k-input-inner\" /></span>' +\n                       kendo.format(options.messages.of, totalPages) +\n                       '</span>');\n                }\n\n                that.element.on(KEYDOWN + NS, \".k-pager-input input\", that._keydown.bind(that));\n            }\n\n            if (options.previousNext) {\n                if (!that.element.find(NEXT).length) {\n                    that.element.append(icon(NEXT, options.messages.next, null, that._id));\n\n                    next(that.element, page, totalPages);\n                }\n\n                if (!that.element.find(LAST).length) {\n                    that.element.append(icon(LAST, options.messages.last, \"k-pager-last\", that._id));\n\n                    last(that.element, page, totalPages);\n                }\n            }\n\n            if (options.pageSizes) {\n                if (!that.element.find(\".k-pager-sizes\").length) {\n                    var pageSizes = options.pageSizes.length ? options.pageSizes : [\"all\", 5, 10, 20];\n                    var pageItems = $.map(pageSizes, function(size) {\n                        if (size.toLowerCase && size.toLowerCase() === \"all\") {\n                            return \"<option value='all'>\" + options.messages.allPages + \"</option>\";\n                        }\n\n                        return \"<option>\" + size + \"</option>\";\n                    });\n\n                    $('<span class=\"k-pager-sizes k-label\"><select></select>' + options.messages.itemsPerPage + \"</span>\")\n                        .appendTo(that.element)\n                        .find(\"select\").html(pageItems.join(\"\")).end()\n                        .appendTo(that.element);\n                }\n\n                that.element.find(\".k-pager-sizes select\").val(that.pageSize());\n\n                if (kendo.ui.DropDownList) {\n                   that.element.find(\".k-pager-sizes select\").show().attr(\"aria-label\", options.messages.pageSizeDropDownLabel).kendoDropDownList();\n                }\n\n                that.element.on(CHANGE + NS, \".k-pager-sizes select\", that._change.bind(that));\n            }\n\n            if (options.refresh) {\n                if (!that.element.find(\".k-pager-refresh\").length) {\n                    that.element.append('<a role=\"button\" href=\"#\" class=\"k-pager-refresh k-link\" title=\"' + options.messages.refresh +\n                        '\" aria-label=\"' + options.messages.refresh + '\"><span class=\"k-icon k-i-reload\"></span></a>');\n                }\n\n                that.element.on(CLICK + NS, \".k-pager-refresh\", that._refreshClick.bind(that));\n            }\n\n            if (options.info) {\n                if (!that.element.find(\".k-pager-info\").length) {\n                    that.element.append('<span class=\"k-pager-info k-label\" />');\n                }\n            }\n\n            that.element\n                .on(CLICK + NS , \"a\", that._click.bind(that))\n                .on(CHANGE + NS , \"select.k-dropdown\", that._numericSelectChange.bind(that))\n                .addClass(\"k-pager-wrap k-widget k-floatwrap\");\n\n            if (options.autoBind) {\n                that.refresh();\n            }\n\n            that._resizeHandler = that.resize.bind(that, true);\n            $(window).on(\"resize\" + NS, that._resizeHandler);\n\n            sizeClassName = that._getWidthSizeClass(that.element.outerWidth());\n\n            if (sizeClassName) {\n                that.element.addClass(sizeClassName);\n            }\n\n            that._navigatable();\n\n            kendo.notify(that);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that.element.off(NS);\n            that.dataSource.unbind(CHANGE, that._refreshHandler);\n            that._refreshHandler = null;\n            $(window).off(\"resize\" + NS, this._resizeHandler);\n\n            kendo.destroy(that.element);\n            that.element = that.list = null;\n        },\n\n        events: [\n            CHANGE\n        ],\n\n        options: {\n            name: \"Pager\",\n            ARIATemplate: \"Page navigation, page #=page# of #=totalPages#\",\n            selectTemplate: '<li><span role=\"button\" aria-current=\"page\" tabindex=\"#=tabindex#\" aria-label=\"#=title#\" class=\"k-link k-selected\">#=text#</span></li>',\n            linkTemplate: '<li><a role=\"button\" tabindex=\"#=tabindex#\" href=\"\\\\#\" class=\"k-link\" data-#=ns#page=\"#=idx#\" #if (title !== \"\") {# title=\"#=title#\" #}#>#=text#</a></li>',\n            numericSelectItemTemplate: '<option value=\"#= idx #\" #if (selected) {# selected=\"selected\" #}#>#= text #</option>',\n            buttonCount: 10,\n            autoBind: true,\n            numeric: true,\n            info: true,\n            input: false,\n            previousNext: true,\n            pageSizes: false,\n            refresh: false,\n            responsive: true,\n            navigatable: false,\n            messages: {\n                allPages: \"All\",\n                display: \"{0} - {1} of {2} items\",\n                empty: \"No items to display\",\n                page: \"Page\",\n                of: \"of {0}\",\n                itemsPerPage: \"items per page\",\n                pageButtonLabel: \"Page {0}\",\n                pageSizeDropDownLabel: \"Page sizes drop down\",\n                numbersSelectLabel: \"Page select\",\n                first: \"Go to the first page\",\n                previous: \"Go to the previous page\",\n                next: \"Go to the next page\",\n                last: \"Go to the last page\",\n                refresh: \"Refresh\",\n                morePages: \"More pages\"\n            }\n        },\n\n        setDataSource: function(dataSource) {\n            var that = this;\n\n            that.dataSource.unbind(CHANGE, that._refreshHandler);\n            that.dataSource = that.options.dataSource = dataSource;\n            dataSource.bind(CHANGE, that._refreshHandler);\n\n            if (that.options.autoBind) {\n                dataSource.fetch();\n            }\n        },\n\n        _aria: function() {\n            this.element.attr({\n                \"role\": \"application\",\n                \"aria-roledescription\": \"pager\",\n                \"aria-keyshortcuts\": \"Enter ArrowRight ArrowLeft\"\n            });\n        },\n\n        _resize: function(size) {\n            if (size.width) {\n                var sizeClassName = this._getWidthSizeClass(size.width);\n                var el = this.element;\n\n                if (!sizeClassName) {\n                    el.removeClass(SIZE);\n                } else if (!el.hasClass(sizeClassName)) {\n                    el.removeClass(SIZE);\n                    el.addClass(sizeClassName);\n                }\n            }\n        },\n\n        _createDataSource: function(options) {\n            this.dataSource = kendo.data.DataSource.create(options.dataSource);\n        },\n\n        refresh: function(e) {\n            var that = this,\n                idx,\n                end,\n                start = 1,\n                reminder,\n                page = that.page(),\n                html = \"\",\n                selectHtml = \"\",\n                options = that.options,\n                pageSize = that.pageSize(),\n                collapsedTotal = that._collapsedTotal(),\n                total = that.dataSource._isGroupPaged() ? that.dataSource.groupsTotal(true) : that.dataSource.total(),\n                totalPages = that.totalPages(),\n                linkTemplate = that.linkTemplate,\n                navigatable = options.navigatable,\n                numericSelectItemTemplate = that.numericSelectItemTemplate,\n                buttonCount = options.buttonCount;\n\n            if (e && e.action == \"itemchange\") {\n                return;\n            }\n\n            if (options.numeric) {\n\n                if (page > buttonCount) {\n                    reminder = (page % buttonCount);\n                    start = (reminder === 0) ? (page - buttonCount) + 1 : (page - reminder) + 1;\n                }\n\n                end = Math.min((start + buttonCount) - 1, totalPages);\n\n                if (start > 1) {\n                    html += button({\n                        template: linkTemplate,\n                        navigatable: navigatable,\n                        idx: start - 1,\n                        text: \"...\",\n                        numeric: false,\n                        title: options.messages.morePages\n                    });\n                    selectHtml += selectOption(numericSelectItemTemplate, start - 1, options.messages.morePages);\n                }\n\n                for (idx = start; idx <= end; idx++) {\n                    html += button({\n                        template: idx == page ? that.selectTemplate : linkTemplate,\n                        navigatable: navigatable,\n                        idx: idx,\n                        text: idx,\n                        numeric: true,\n                        title: kendo.format(options.messages.pageButtonLabel, idx)\n                    });\n                    selectHtml += selectOption(numericSelectItemTemplate, idx, idx, idx == page);\n                }\n\n                if (end < totalPages) {\n                    html += button({\n                        template: linkTemplate,\n                        navigatable: navigatable,\n                        idx: idx,\n                        text: \"...\",\n                        numeric: numericSelectItemTemplate,\n                        title: options.messages.morePages\n                    });\n                    selectHtml += selectOption(numericSelectItemTemplate, idx, options.messages.morePages);\n                }\n\n                if (html === \"\") {\n                    html = that.selectTemplate({ text: 0, tabindex: navigatable ? 0 : -1, navigatable: navigatable, title: kendo.format(options.messages.pageButtonLabel, 0) });\n                    selectHtml = $(\"<option value='0' />\");\n                }\n\n                that.list.html(html);\n                that._numericSelect.html(selectHtml);\n            }\n\n            if (options.info) {\n                if (total > 0) {\n                    html = kendo.format(options.messages.display,\n                        that.dataSource.options.endless ? 1 : Math.min((page - 1) * (that.dataSource.pageSize() || 0) + 1, collapsedTotal), // first item in the page\n                        Math.min(page * pageSize, collapsedTotal), // last item in the page\n                    total);\n                } else {\n                    html = options.messages.empty;\n                }\n\n                that.element.find(\".k-pager-info\").html(html);\n            }\n\n            if (options.input) {\n                that.element\n                    .find(\".k-pager-input\")\n                    .html(that.options.messages.page +\n                        '<span class=\"k-textbox k-input k-input-md k-rounded-md k-input-solid\"><input class=\"k-input-inner\" aria-label=\"' + that.options.messages.page + \" \" + page + '\"></span>' +\n                        kendo.format(options.messages.of, totalPages))\n                    .find(\"input\")\n                    .val(page)\n                    .attr(DISABLED, total < 1)\n                    .attr(\"aria-disabled\", total < 1)\n                    .toggleClass(\"k-disabled\", total < 1);\n            }\n\n            if (options.previousNext) {\n                first(that.element, page, totalPages);\n\n                prev(that.element, page, totalPages);\n\n                next(that.element, page, totalPages);\n\n                last(that.element, page, totalPages);\n            }\n\n            if (options.pageSizes) {\n                var hasAll = that.element.find(\".k-pager-sizes option[value='all']\").length > 0;\n                var selectAll = hasAll && (pageSize === this.dataSource.total() || pageSize == MAX_VALUE);\n                var text = pageSize;\n                if (selectAll) {\n                    pageSize = \"all\";\n                    text = options.messages.allPages;\n                }\n\n                that.element\n                    .find(\".k-pager-sizes select\")\n                    .val(pageSize)\n                    .filter(\"[\" + kendo.attr(\"role\") + \"=dropdownlist]\")\n                    .kendoDropDownList(\"value\", pageSize)\n                    .kendoDropDownList(\"text\", text); // handles custom values\n            }\n\n            that._restoreFocus(start, end, totalPages);\n            that._excludeChildrenFromTab();\n            that._updateAria();\n        },\n\n        _excludeChildrenFromTab: function() {\n            var activeElement = kendo._activeElement();\n            if (this.options.navigatable && (activeElement === this.element[0] || !$.contains(this.element[0], activeElement))) {\n                this.element.find(FOCUSABLE).attr(\"tabindex\", -1);\n            }\n        },\n\n        _restoreFocus: function(start, end, totalPages) {\n            var that = this;\n\n            if (!that.options.navigatable) {\n                return;\n            }\n\n            if (that._focusSelected) {\n                that.element.find(\".k-selected\").trigger(\"focus\");\n                that._focusSelected = null;\n            }\n\n            if (that._focusMore !== null) {\n                if (end < totalPages && that._focusMore) {\n                    that.list.find(\"li\").last().find(\"a\").trigger(\"focus\");\n                }\n                if (!that._focusMore && start > 1) {\n                    that.list.find(\"li\").first().find(\"a\").trigger(\"focus\");\n                }\n                that._focusMore = null;\n            }\n        },\n\n        _restoreTabIndexes: function() {\n            this.element\n                .find(\"[tabindex='-1']:not(.k-disabled)\")\n                .attr(\"tabindex\", 0);\n        },\n\n        _collapsedTotal: function() {\n            return this.dataSource.total();\n        },\n\n        _keydown: function(e) {\n            if (e.keyCode === kendo.keys.ENTER) {\n                var input = this.element.find(\".k-pager-input\").find(\"input\"),\n                    page = parseInt(input.val(), 10);\n\n                if (isNaN(page) || page < 1 || page > this.totalPages()) {\n                    page = this.page();\n                }\n\n                input.val(page);\n\n                this.page(page);\n            }\n        },\n\n        _refreshClick: function(e) {\n            e.preventDefault();\n\n            this.dataSource.read();\n        },\n\n        _change: function(e) {\n            var value = e.currentTarget.value;\n            var pageSize = parseInt(value, 10);\n            var dataSource = this.dataSource;\n\n            if (!isNaN(pageSize)) {\n                dataSource.pageSize(pageSize);\n            } else if ((value + \"\").toLowerCase() == \"all\") {\n                dataSource._pageSize = undefined;\n                dataSource._take = undefined;\n                dataSource._skip = 0;\n                dataSource.fetch();\n            }\n        },\n\n        _template: function() {\n            this._ariaTemplate = template(this.options.ARIATemplate).bind(this);\n        },\n\n        _updateAria: function() {\n            if (!this.options.navigatable) {\n                return;\n            }\n            this.element.attr(\"aria-label\", this._ariaTemplate({ page: this.page(), totalPages: this.totalPages() }));\n        },\n\n        _navigatable: function() {\n            var that = this;\n            var options = that.options;\n\n            if (!options.navigatable) {\n                return;\n            }\n\n            that._aria();\n            that.element.attr(\"id\", that._id);\n            that._template();\n            that._updateAria();\n\n            that._tabindex(that.element);\n\n            that.element.on(\"keydown\" + NS, that, that._keyDown.bind(that));\n            that.element.on(\"focusout\" + NS, function() { that.element.removeClass(\"k-focus\"); });\n            that.element.on(\"focusin\" + NS, function(e) {\n                that.element.addClass(\"k-focus\");\n\n                if (e.target === that.element[0]) {\n                    that.element.find(FOCUSABLE).attr(\"tabindex\", -1);\n                } else {\n                    that.element.removeClass(\"k-focus\");\n                }\n            });\n        },\n\n        _keyDown: function(e) {\n            var that = this;\n            var target = $(e.target);\n            var allFocusable;\n            var handled = false;\n            var focusedIndex;\n\n            if (target[0] === that.element[0] && e.keyCode == keys.ENTER) {\n                that._restoreTabIndexes();\n                that.element.find(FOCUSABLE).first().trigger(\"focus\");\n                handled = true;\n            }\n\n            if (target[0] !== that.element[0] && e.keyCode == keys.ESC) {\n                that.element.trigger(\"focus\");\n                handled = true;\n            }\n\n            if (target[0] === that.element[0] && e.keyCode == keys.HOME) {\n                that.page(1);\n                handled = true;\n            }\n\n            if (target[0] === that.element[0] && e.keyCode == keys.END) {\n                that.page(that.totalPages());\n                handled = true;\n            }\n\n            if (target[0] === that.element[0] && (e.keyCode == (isRtl ? keys.LEFT : keys.RIGHT) || e.keyCode == keys.PAGEDOWN)) {\n                that.page(that.page() + 1);\n                handled = true;\n            }\n\n            if (target[0] === that.element[0] && (e.keyCode == (isRtl ? keys.RIGHT : keys.LEFT) || e.keyCode == keys.PAGEUP)) {\n                that.page((that.page() - 1) || 1);\n                handled = true;\n            }\n\n            if (target[0] !== that.element[0] && e.keyCode == keys.TAB) {\n                allFocusable = that.element.find(FOCUSABLE);\n                focusedIndex = allFocusable.index(target);\n\n                if (e.shiftKey) {\n                    if (focusedIndex - 1 < 0) {\n                        allFocusable.last().trigger(\"focus\");\n                    } else {\n                        allFocusable.eq(focusedIndex - 1).trigger(\"focus\");\n                    }\n                } else {\n                    if (focusedIndex + 1 < allFocusable.length) {\n                        allFocusable.eq(focusedIndex + 1 ).trigger(\"focus\");\n                    } else {\n                        allFocusable.first().trigger(\"focus\");\n                    }\n                }\n\n                handled = true;\n            }\n\n            if (handled) {\n                e.preventDefault();\n                e.stopPropagation();\n            }\n        },\n\n        _numericSelectChange: function(e) {\n            var target = e.currentTarget;\n            var value = target.value;\n            var page = parseInt(value, 10);\n\n            target.blur();\n\n            this.page(page);\n        },\n\n        _click: function(e) {\n            var target = $(e.currentTarget);\n\n            e.preventDefault();\n\n            if (this.options.navigatable) {\n                if (target.attr(\"title\") == this.options.messages.morePages) {\n                    this._focusMore = target.parent().index();\n                } else if (!target.hasClass(\"k-pager-refresh\") && !target.hasClass(\"k-pager-nav\")) {\n                    this._focusSelected = true;\n                }\n            }\n\n            if (!target.is(\".k-disabled\")) {\n                this.page(parseInt(target.attr(kendo.attr(\"page\")), 10));\n            }\n        },\n\n        totalPages: function() {\n            return Math.ceil((this.dataSource.total() || 0) / (this.pageSize() || 1));\n        },\n\n        pageSize: function() {\n            return this.dataSource.pageSize() || this.dataSource.total();\n        },\n\n        page: function(page) {\n            if (page) {\n                if (this.trigger(\"pageChange\", { index: page })) {\n                   return;\n                }\n\n                this.dataSource.page(page);\n\n                this.trigger(CHANGE, { index: page });\n            } else {\n                if (this.dataSource.total() > 0) {\n                    return this.dataSource.page();\n                } else {\n                    return 0;\n                }\n            }\n        },\n\n        _getWidthSizeClass: function(width) {\n            var that = this,\n                sizes = SIZE.split(\" \");\n\n            if (!that.options.responsive) {\n                return null;\n            } else if (width <= 480) {\n                return sizes[1];\n            } else if (width <= 600) {\n                return sizes[0];\n            }\n            return null;\n        }\n    });\n\n    ui.plugin(Pager);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.popup',[ \"kendo.core\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"popup\",\n    name: \"Pop-up\",\n    category: \"framework\",\n    depends: [ \"core\" ],\n    advanced: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        Class = kendo.Class,\n        support = kendo.support,\n        getOffset = kendo.getOffset,\n        outerWidth = kendo._outerWidth,\n        outerHeight = kendo._outerHeight,\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        DEACTIVATE = \"deactivate\",\n        ACTIVATE = \"activate\",\n        CENTER = \"center\",\n        LEFT = \"left\",\n        RIGHT = \"right\",\n        TOP = \"top\",\n        BOTTOM = \"bottom\",\n        ABSOLUTE = \"absolute\",\n        HIDDEN = \"hidden\",\n        BODY = \"body\",\n        LOCATION = \"location\",\n        POSITION = \"position\",\n        VISIBLE = \"visible\",\n        EFFECTS = \"effects\",\n        ACTIVE = \"k-active\",\n        ACTIVEBORDER = \"k-state-border\",\n        ACTIVEBORDERREGEXP = /k-state-border-(\\w+)/,\n        ACTIVECHILDREN = \".k-picker-wrap, .k-dropdown-wrap, .k-link\",\n        MOUSEDOWN = \"down\",\n        DOCUMENT_ELEMENT = $(document.documentElement),\n        WINDOW = $(window),\n        SCROLL = \"scroll\",\n        cssPrefix = support.transitions.css,\n        TRANSFORM = cssPrefix + \"transform\",\n        extend = $.extend,\n        NS = \".kendoPopup\",\n        styles = [\"font-size\",\n                  \"font-family\",\n                  \"font-stretch\",\n                  \"font-style\",\n                  \"font-weight\",\n                  \"line-height\"];\n\n    function contains(container, target) {\n        if (!container || !target) {\n            return false;\n        }\n        return container === target || $.contains(container, target);\n    }\n\n    var Popup = Widget.extend({\n        init: function(element, options) {\n            var that = this, parentPopup;\n\n            options = options || {};\n\n            if (options.isRtl) {\n                options.origin = options.origin || BOTTOM + \" \" + RIGHT;\n                options.position = options.position || TOP + \" \" + RIGHT;\n            }\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.element;\n            options = that.options;\n\n            that.collisions = options.collision ? options.collision.split(\" \") : [];\n            that.downEvent = kendo.applyEventMap(MOUSEDOWN, kendo.guid());\n\n            if (that.collisions.length === 1) {\n                that.collisions.push(that.collisions[0]);\n            }\n\n            parentPopup = $(that.options.anchor).closest(\".k-popup,.k-group\").filter(\":not([class^=km-])\"); // When popup is in another popup, make it relative.\n\n            options.appendTo = $($(options.appendTo)[0] || parentPopup[0] || document.body);\n\n            that.element.hide()\n                .addClass(\"k-popup k-group k-reset\")\n                .toggleClass(\"k-rtl\", !!options.isRtl)\n                .css({ position: ABSOLUTE })\n                .appendTo(options.appendTo)\n                .attr(\"aria-hidden\", true)\n                .on(\"mouseenter\" + NS, function() {\n                    that._hovered = true;\n                })\n                .on(\"wheel\" + NS, function(e) {\n                    var list = $(e.target).find(\".k-list\");\n                    var scrollArea = list.parent();\n                    if (list.length && list.is(\":visible\") && ((scrollArea.scrollTop() === 0 && e.originalEvent.deltaY < 0) ||\n                        (scrollArea.scrollTop() === scrollArea.prop('scrollHeight') - scrollArea.prop('offsetHeight') && e.originalEvent.deltaY > 0))) {\n                           e.preventDefault();\n                    }\n                })\n                .on(\"mouseleave\" + NS, function() {\n                    that._hovered = false;\n                });\n\n            that.wrapper = $();\n\n            if (options.animation === false) {\n                options.animation = { open: { effects: {} }, close: { hide: true, effects: {} } };\n            }\n\n            extend(options.animation.open, {\n                complete: function() {\n                    that.wrapper.css({ overflow: VISIBLE }); // Forcing refresh causes flickering in mobile.\n                    that._activated = true;\n                    that._trigger(ACTIVATE);\n                }\n            });\n\n            extend(options.animation.close, {\n                complete: function() {\n                    that._animationClose();\n                }\n            });\n\n            that._mousedownProxy = function(e) {\n                that._mousedown(e);\n            };\n\n            if (support.mobileOS.android) {\n                that._resizeProxy = function(e) {\n                    setTimeout(function() {\n                        that._resize(e);\n                    }, 600); //Logic from kendo.onResize\n                };\n            } else {\n                that._resizeProxy = function(e) {\n                    that._resize(e);\n                };\n            }\n\n            if (options.toggleTarget) {\n                $(options.toggleTarget).on(options.toggleEvent + NS, that.toggle.bind(that));\n            }\n        },\n\n        events: [\n            OPEN,\n            ACTIVATE,\n            CLOSE,\n            DEACTIVATE\n        ],\n\n        options: {\n            name: \"Popup\",\n            toggleEvent: \"click\",\n            origin: BOTTOM + \" \" + LEFT,\n            position: TOP + \" \" + LEFT,\n            anchor: BODY,\n            appendTo: null,\n            collision: \"flip fit\",\n            viewport: window,\n            copyAnchorStyles: true,\n            autosize: false,\n            modal: false,\n            adjustSize: {\n                width: 0,\n                height: 0\n            },\n            animation: {\n                open: {\n                    effects: \"slideIn:down\",\n                    transition: true,\n                    duration: 200\n                },\n                close: { // if close animation effects are defined, they will be used instead of open.reverse\n                    duration: 100,\n                    hide: true\n                }\n            },\n            omitOriginOffsets: false\n        },\n\n        _animationClose: function() {\n            var that = this;\n            var location = that.wrapper.data(LOCATION);\n\n            that.wrapper.hide();\n\n            if (location) {\n                that.wrapper.css(location);\n            }\n\n            if (that.options.anchor != BODY) {\n                that._hideDirClass();\n            }\n\n            that._closing = false;\n            that._trigger(DEACTIVATE);\n        },\n\n        destroy: function() {\n            var that = this,\n                options = that.options,\n                element = that.element.off(NS),\n                parent;\n\n            Widget.fn.destroy.call(that);\n\n            if (options.toggleTarget) {\n                $(options.toggleTarget).off(NS);\n            }\n\n            if (!options.modal) {\n                DOCUMENT_ELEMENT.off(that.downEvent, that._mousedownProxy);\n                that._toggleResize(false);\n            }\n\n            kendo.destroy(that.element.children());\n            element.removeData();\n\n            if (options.appendTo[0] === document.body) {\n                parent = element.parent(\".k-animation-container\");\n\n                if (parent[0]) {\n                    parent.remove();\n                } else {\n                    element.remove();\n                }\n            }\n        },\n\n        open: function(x, y) {\n            var that = this,\n                fixed = { isFixed: !isNaN(parseInt(y,10)), x: x, y: y },\n                element = that.element,\n                options = that.options,\n                animation, wrapper,\n                anchor = $(options.anchor),\n                mobile = element[0] && element.hasClass(\"km-widget\"),\n                listbox = element.find(\"[role='listbox']\");\n\n            if (!that.visible()) {\n                if (options.copyAnchorStyles) {\n                    if (mobile && styles[0] == \"font-size\") {\n                        styles.shift();\n                    }\n                    element.css(kendo.getComputedStyles(anchor[0], styles));\n                }\n\n                if (element.data(\"animating\") || that._trigger(OPEN)) {\n                    return;\n                }\n\n                that._activated = false;\n\n                if (!options.modal) {\n                    DOCUMENT_ELEMENT.off(that.downEvent, that._mousedownProxy)\n                                .on(that.downEvent, that._mousedownProxy);\n\n                    // this binding hangs iOS in editor\n                    // all elements in IE7/8 fire resize event, causing mayhem\n                    that._toggleResize(false);\n                    that._toggleResize(true);\n                }\n\n                that.wrapper = wrapper = kendo.wrap(element, options.autosize)\n                    .css({\n                        overflow: HIDDEN,\n                        display: \"block\",\n                        position: ABSOLUTE\n                    })\n                    .attr(\"aria-hidden\", false);\n\n                if (listbox.attr(\"aria-label\")) {\n                    wrapper.attr(\"aria-label\", listbox.attr(\"aria-label\"));\n                } else if (listbox.attr(\"aria-labelledby\")) {\n                    wrapper.attr(\"aria-labelledby\", listbox.attr(\"aria-labelledby\"));\n                }\n\n                if (support.mobileOS.android) {\n                    wrapper.css(TRANSFORM, \"translatez(0)\"); // Android is VERY slow otherwise. Should be tested in other droids as well since it may cause blur.\n                }\n\n                wrapper.css(POSITION);\n\n                if ($(options.appendTo)[0] == document.body) {\n                    wrapper.css(TOP, \"-10000px\");\n                }\n\n                that.flipped = that._position(fixed);\n                animation = that._openAnimation();\n\n                if (options.anchor != BODY) {\n                    that._showDirClass(animation);\n                }\n\n                if (!element.is(\":visible\") && element.data(\"olddisplay\") === undefined) {\n                    element.show();\n                    element.data(\"olddisplay\", element.css(\"display\"));\n                    element.hide();\n                }\n\n                element.data(EFFECTS, animation.effects)\n                       .kendoStop(true)\n                       .kendoAnimate(animation)\n                       .attr(\"aria-hidden\", false);\n            }\n        },\n\n        _location: function(isFixed) {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                wrapper,\n                anchor = $(options.anchor),\n                mobile = element[0] && element.hasClass(\"km-widget\");\n\n            if (options.copyAnchorStyles) {\n                if (mobile && styles[0] == \"font-size\") {\n                    styles.shift();\n                }\n                element.css(kendo.getComputedStyles(anchor[0], styles));\n            }\n\n            that.wrapper = wrapper = kendo.wrap(element, options.autosize)\n                                    .css({\n                                        overflow: HIDDEN,\n                                        display: \"block\",\n                                        position: ABSOLUTE\n                                    });\n\n            if (support.mobileOS.android) {\n                wrapper.css(TRANSFORM, \"translatez(0)\"); // Android is VERY slow otherwise. Should be tested in other droids as well since it may cause blur.\n            }\n\n            wrapper.css(POSITION);\n\n            if ($(options.appendTo)[0] == document.body) {\n                wrapper.css(TOP, \"-10000px\");\n            }\n\n            that._position(isFixed || {});\n\n            var offset = wrapper.offset();\n            return {\n                width: kendo._outerWidth(wrapper),\n                height: kendo._outerHeight(wrapper),\n                left: offset.left,\n                top: offset.top\n            };\n        },\n\n        _openAnimation: function() {\n            var animation = extend(true, {}, this.options.animation.open);\n            animation.effects = kendo.parseEffects(animation.effects, this.flipped);\n\n            return animation;\n        },\n\n        _hideDirClass: function() {\n            var anchor = $(this.options.anchor);\n            var direction = ((anchor.attr(\"class\") || \"\").match(ACTIVEBORDERREGEXP) || [\"\", \"down\"])[1];\n            var dirClass = ACTIVEBORDER + \"-\" + direction;\n\n            anchor\n                .removeClass(dirClass)\n                .children(ACTIVECHILDREN)\n                .removeClass(ACTIVE)\n                .removeClass(dirClass);\n\n            this.element.removeClass(ACTIVEBORDER + \"-\" + kendo.directions[direction].reverse);\n        },\n\n        _showDirClass: function(animation) {\n            var direction = animation.effects.slideIn ? animation.effects.slideIn.direction : \"down\";\n            var dirClass = ACTIVEBORDER + \"-\" + direction;\n\n            $(this.options.anchor)\n                .addClass(dirClass)\n                .children(ACTIVECHILDREN)\n                .addClass(ACTIVE)\n                .addClass(dirClass);\n\n            this.element.addClass(ACTIVEBORDER + \"-\" + kendo.directions[direction].reverse);\n        },\n\n        position: function() {\n            if (this.visible()) {\n                this.flipped = this._position();\n                //this._hideDirClass();\n                //this._showDirClass(this._openAnimation());\n            }\n        },\n\n        toggle: function() {\n            var that = this;\n\n            that[that.visible() ? CLOSE : OPEN]();\n        },\n\n        visible: function() {\n            return this.element.is(\":\" + VISIBLE);\n        },\n\n        close: function(skipEffects) {\n            var that = this,\n                options = that.options, wrap,\n                animation, openEffects, closeEffects;\n\n            if (that.visible()) {\n                wrap = (that.wrapper[0] ? that.wrapper : kendo.wrap(that.element).hide());\n\n                that._toggleResize(false);\n\n                if (that._closing || that._trigger(CLOSE)) {\n                    that._toggleResize(true);\n                    return;\n                }\n\n                // Close all inclusive popups.\n                that.element.find(\".k-popup\").each(function() {\n                    var that = $(this),\n                        popup = that.data(\"kendoPopup\");\n\n                    if (popup) {\n                        popup.close(skipEffects);\n                    }\n                });\n\n                DOCUMENT_ELEMENT.off(that.downEvent, that._mousedownProxy);\n\n                if (skipEffects) {\n                    animation = { hide: true, effects: {} };\n                } else {\n                    animation = extend(true, {}, options.animation.close);\n                    openEffects = that.element.data(EFFECTS);\n                    closeEffects = animation.effects;\n\n                    if (!closeEffects && !kendo.size(closeEffects) && openEffects && kendo.size(openEffects)) {\n                        animation.effects = openEffects;\n                        animation.reverse = true;\n                    }\n\n                    that._closing = true;\n                }\n\n                that.element\n                        .kendoStop(true)\n                        .attr(\"aria-hidden\", true);\n                wrap\n                    .css({ overflow: HIDDEN }) // stop callback will remove hidden overflow\n                    .attr(\"aria-hidden\", true);\n                that.element.kendoAnimate(animation);\n\n                if (skipEffects) {\n                    that._animationClose();\n                }\n            }\n        },\n\n        _trigger: function(ev) {\n            return this.trigger(ev, { type: ev });\n        },\n\n        _resize: function(e) {\n            var that = this;\n\n            if (support.resize.indexOf(e.type) !== -1) {\n                clearTimeout(that._resizeTimeout);\n                that._resizeTimeout = setTimeout(function() {\n                    that._position();\n                    that._resizeTimeout = null;\n                }, 50);\n            } else {\n                if (!that._hovered || (that._activated && that.element.find(\".k-list\").length > 0)) {\n                    that.close();\n                }\n            }\n        },\n\n        _toggleResize: function(toggle) {\n            var method = toggle ? \"on\" : \"off\";\n            var eventNames = support.resize;\n\n            if (!(support.mobileOS.ios || support.mobileOS.android || support.browser.safari)) {\n                eventNames += \" \" + SCROLL;\n            }\n\n            if (toggle && !this.scrollableParents) {\n                this.scrollableParents = this._scrollableParents();\n            }\n\n            if (this.scrollableParents && this.scrollableParents.length) {\n                this.scrollableParents[method](SCROLL, this._resizeProxy);\n            }\n\n            WINDOW[method](eventNames, this._resizeProxy);\n        },\n\n        _mousedown: function(e) {\n            var that = this,\n                container = that.element[0],\n                options = that.options,\n                anchor = $(options.anchor)[0],\n                toggleTarget = options.toggleTarget,\n                target = kendo.eventTarget(e),\n                popup = $(target).closest(\".k-popup\"),\n                mobile = popup.parent().parent(\".km-shim\").length;\n\n            popup = popup[0];\n            if (!mobile && popup && popup !== that.element[0]) {\n                return;\n            }\n\n            // This MAY result in popup not closing in certain cases.\n            if ($(e.target).closest(\"a\").data(\"rel\") === \"popover\") {\n                return;\n            }\n\n            if (!contains(container, target) && !contains(anchor, target) && !(toggleTarget && contains($(toggleTarget)[0], target))) {\n                that.close();\n            }\n        },\n\n        _fit: function(position, size, viewPortSize) {\n            var output = 0;\n\n            if (position + size > viewPortSize) {\n                output = viewPortSize - (position + size);\n            }\n\n            if (position < 0) {\n                output = -position;\n            }\n\n            return output;\n        },\n\n        _flip: function(offset, size, anchorSize, viewPortSize, origin, position, boxSize) {\n            var output = 0;\n                boxSize = boxSize || size;\n\n            if (position !== origin && position !== CENTER && origin !== CENTER) {\n                if (offset + boxSize > viewPortSize) {\n                    output += -(anchorSize + size);\n                }\n\n                if (offset + output < 0) {\n                    output += anchorSize + size;\n                }\n            }\n            return output;\n        },\n\n        _scrollableParents: function() {\n            return $(this.options.anchor)\n                       .parentsUntil(\"body\")\n                       .filter(function(index, element) {\n                           return kendo.isScrollable(element);\n                       });\n        },\n\n        _position: function(fixed) {\n            var that = this,\n                //element = that.element.css(POSITION, \"\"), /* fixes telerik/kendo-ui-core#790, comes from telerik/kendo#615 */\n                element = that.element,\n                wrapper = that.wrapper,\n                options = that.options,\n                viewport = $(options.viewport),\n                zoomLevel = support.zoomLevel(),\n                isWindow = !!((viewport[0] == window) && window.innerWidth && (zoomLevel <= 1.02)),\n                anchor = $(options.anchor),\n                origins = options.origin.toLowerCase().split(\" \"),\n                positions = options.position.toLowerCase().split(\" \"),\n                collisions = that.collisions,\n                siblingContainer, parents,\n                parentZIndex, zIndex = 10002,\n                idx = 0,\n                docEl = document.documentElement,\n                length, viewportOffset, viewportWidth, viewportHeight;\n\n            if (options.viewport === window) {\n                viewportOffset = {\n                    top: (window.pageYOffset || document.documentElement.scrollTop || 0),\n                    left: (window.pageXOffset || document.documentElement.scrollLeft || 0)\n                };\n            } else {\n                viewportOffset = viewport.offset();\n            }\n\n            if (isWindow) {\n                viewportWidth = window.innerWidth;\n                viewportHeight = window.innerHeight;\n            } else {\n                viewportWidth = viewport.width();\n                viewportHeight = viewport.height();\n            }\n\n            if (isWindow && docEl.scrollHeight - docEl.clientHeight > 0) {\n                 var sign = options.isRtl ? -1 : 1;\n\n                 viewportWidth -= sign * kendo.support.scrollbar();\n            }\n\n            siblingContainer = anchor.parents().filter(wrapper.siblings());\n\n            if (siblingContainer[0]) {\n                parentZIndex = Math.max(Number(siblingContainer.css(\"zIndex\")), 0);\n\n                // set z-index to be more than that of the container/sibling\n                // compensate with more units for window z-stack\n                if (parentZIndex) {\n                    zIndex = parentZIndex + 10;\n                } else {\n                    parents = anchor.parentsUntil(siblingContainer);\n                    for (length = parents.length; idx < length; idx++) {\n                        parentZIndex = Number($(parents[idx]).css(\"zIndex\"));\n                        if (parentZIndex && zIndex < parentZIndex) {\n                            zIndex = parentZIndex + 10;\n                        }\n                    }\n                }\n            }\n\n            wrapper.css(\"zIndex\", zIndex);\n\n            if (fixed && fixed.isFixed) {\n                wrapper.css({ left: fixed.x, top: fixed.y });\n            } else {\n                wrapper.css(that._align(origins, positions));\n            }\n\n            var pos = getOffset(wrapper, POSITION, anchor[0] === wrapper.offsetParent()[0]),\n                offset = getOffset(wrapper),\n                anchorParent = anchor.offsetParent().parent(\".k-animation-container,.k-popup,.k-group\"); // If the parent is positioned, get the current positions\n\n            if (anchorParent.length) {\n                pos = getOffset(wrapper, POSITION, true);\n                offset = getOffset(wrapper);\n            }\n\n            offset.top -= viewportOffset.top;\n            offset.left -= viewportOffset.left;\n\n            if (!that.wrapper.data(LOCATION)) { // Needed to reset the popup location after every closure - fixes the resize bugs.\n                wrapper.data(LOCATION, extend({}, pos));\n            }\n\n            var offsets = extend({}, offset),\n                location = extend({}, pos),\n                adjustSize = options.adjustSize;\n\n            if (collisions[0] === \"fit\") {\n                location.top += that._fit(offsets.top, outerHeight(wrapper) + adjustSize.height, viewportHeight / zoomLevel);\n            }\n\n            if (collisions[1] === \"fit\") {\n                location.left += that._fit(offsets.left, outerWidth(wrapper) + adjustSize.width, viewportWidth / zoomLevel);\n            }\n\n            var flipPos = extend({}, location);\n            var elementHeight = outerHeight(element);\n            var wrapperHeight = outerHeight(wrapper);\n\n            if (!wrapper.height() && elementHeight) {\n                wrapperHeight = wrapperHeight + elementHeight;\n            }\n\n            if (collisions[0] === \"flip\") {\n                location.top += that._flip(offsets.top, elementHeight, outerHeight(anchor), viewportHeight / zoomLevel, origins[0], positions[0], wrapperHeight);\n            }\n\n            if (collisions[1] === \"flip\") {\n                location.left += that._flip(offsets.left, outerWidth(element), outerWidth(anchor), viewportWidth / zoomLevel, origins[1], positions[1], outerWidth(wrapper));\n            }\n\n            element.css(POSITION, ABSOLUTE);\n            wrapper.css(location);\n\n            return (location.left != flipPos.left || location.top != flipPos.top);\n        },\n\n        _align: function(origin, position) {\n            var that = this,\n                element = that.wrapper,\n                anchor = $(that.options.anchor),\n                verticalOrigin = origin[0],\n                horizontalOrigin = origin[1],\n                verticalPosition = position[0],\n                horizontalPosition = position[1],\n                anchorOffset = getOffset(anchor),\n                appendTo = $(that.options.appendTo),\n                appendToOffset,\n                width = outerWidth(element),\n                height = outerHeight(element) || outerHeight(element.children().first()),\n                anchorWidth = outerWidth(anchor),\n                anchorHeight = outerHeight(anchor),\n                top = that.options.omitOriginOffsets ? 0 : anchorOffset.top,\n                left = that.options.omitOriginOffsets ? 0 : anchorOffset.left,\n                round = Math.round;\n\n            if (appendTo[0] != document.body) {\n                appendToOffset = getOffset(appendTo);\n                top -= appendToOffset.top;\n                left -= appendToOffset.left;\n            }\n\n\n            if (verticalOrigin === BOTTOM) {\n                top += anchorHeight;\n            }\n\n            if (verticalOrigin === CENTER) {\n                top += round(anchorHeight / 2);\n            }\n\n            if (verticalPosition === BOTTOM) {\n                top -= height;\n            }\n\n            if (verticalPosition === CENTER) {\n                top -= round(height / 2);\n            }\n\n            if (horizontalOrigin === RIGHT) {\n                left += anchorWidth;\n            }\n\n            if (horizontalOrigin === CENTER) {\n                left += round(anchorWidth / 2);\n            }\n\n            if (horizontalPosition === RIGHT) {\n                left -= width;\n            }\n\n            if (horizontalPosition === CENTER) {\n                left -= round(width / 2);\n            }\n\n            return {\n                top: top,\n                left: left\n            };\n        }\n    });\n\n    ui.plugin(Popup);\n\n    var stableSort = kendo.support.stableSort;\n    var tabKeyTrapNS = \"kendoTabKeyTrap\";\n    var focusableNodesSelector = \"a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], *[contenteditable]\";\n    var TabKeyTrap = Class.extend({\n        init: function(element) {\n            this.element = $(element);\n            this.element.autoApplyNS(tabKeyTrapNS);\n        },\n\n        trap: function() {\n            this.element.on(\"keydown\", this._keepInTrap.bind(this));\n        },\n\n        removeTrap: function() {\n            this.element.kendoDestroy(tabKeyTrapNS);\n        },\n\n        destroy: function() {\n            this.element.kendoDestroy(tabKeyTrapNS);\n            this.element = undefined;\n        },\n\n        shouldTrap: function() {\n            return true;\n        },\n\n        _keepInTrap: function(e) {\n            if (e.which !== 9 || !this.shouldTrap() || e.isDefaultPrevented()) {\n                return;\n            }\n\n            var elements = this._focusableElements();\n            var sortedElements = this._sortFocusableElements(elements);\n            var next = this._nextFocusable(e, sortedElements);\n\n            this._focus(next);\n\n            e.preventDefault();\n        },\n        _focusableElements: function() {\n            var elements = this.element.find(focusableNodesSelector).filter(function(i, item) {\n                return item.tabIndex >= 0 && $(item).is(':visible') && !$(item).is('[disabled]');\n            });\n\n            if (this.element.is(\"[tabindex]\")) {\n                elements.push(this.element[0]);\n            }\n\n            return elements;\n        },\n        _sortFocusableElements: function(elements) {\n            var sortedElements;\n\n            if (stableSort) {\n                sortedElements = elements.sort(function(prev, next) {\n                    return prev.tabIndex - next.tabIndex;\n                });\n            } else {\n                var attrName = \"__k_index\";\n                elements.each(function(i, item) {\n                    item.setAttribute(attrName, i);\n                });\n\n                sortedElements = elements.sort(function(prev, next) {\n                    return prev.tabIndex === next.tabIndex ?\n                        parseInt(prev.getAttribute(attrName), 10) - parseInt(next.getAttribute(attrName), 10) :\n                        prev.tabIndex - next.tabIndex;\n                });\n\n                elements.removeAttr(attrName);\n            }\n\n            return sortedElements;\n        },\n        _nextFocusable: function(e, elements) {\n            var count = elements.length;\n            var current = elements.index(e.target);\n\n            return elements.get((current + (e.shiftKey ? -1 : 1)) % count);\n        },\n        _focus: function(element) {\n            if (element.nodeName == \"IFRAME\") {\n                element.contentWindow.document.body.focus();\n                return;\n            }\n\n            element.focus();\n\n            if (element.nodeName == \"INPUT\" && element.setSelectionRange && this._haveSelectionRange(element)) {\n                element.setSelectionRange(0, element.value.length);\n            }\n        },\n        _haveSelectionRange: function(element) {\n            var elementType = element.type.toLowerCase();\n\n            return elementType === \"text\" || elementType === \"search\" ||\n            elementType === \"url\" || elementType === \"tel\" ||\n            elementType === \"password\";\n        }\n    });\n    ui.Popup.TabKeyTrap = TabKeyTrap;\n})(window.kendo.jQuery);\n\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.notification',[ \"kendo.core\", \"kendo.popup\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"notification\",\n    name: \"Notification\",\n    category: \"web\",\n    description: \"The Notification widget displays user alerts.\",\n    depends: [ \"core\", \"popup\" ],\n    features: [ {\n        id: \"notification-fx\",\n        name: \"Animation\",\n        description: \"Support for animation\",\n        depends: [ \"fx\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        extend = $.extend,\n        setTimeout = window.setTimeout,\n        CLICK = \"click\",\n        SHOW = \"show\",\n        HIDE = \"hide\",\n        KNOTIFICATION = \"k-notification\",\n        KICLOSE = \".k-notification-wrap .k-i-close\",\n        KHIDING = \"k-hiding\",\n        INFO = \"info\",\n        SUCCESS = \"success\",\n        WARNING = \"warning\",\n        ERROR = \"error\",\n        TOP = \"top\",\n        LEFT = \"left\",\n        BOTTOM = \"bottom\",\n        RIGHT = \"right\",\n        UP = \"up\",\n        NS = \".kendoNotification\",\n        WRAPPER = '<div role=\"alert\" aria-live=\"polite\" class=\"k-widget k-popup k-notification\"></div>',\n        TEMPLATE = '<div class=\"k-notification-wrap\">' +\n                '<span class=\"k-icon k-i-#:typeIcon#\" title=\"#:typeIcon#\"></span>' +\n                '<div class=\"k-notification-content\">#=content#</div>' +\n                '<span aria-hidden=\"true\" class=\"#: closeButton ? \"\" : \"k-hidden\"# k-icon k-i-close\" title=\"Hide\"></span>' +\n            '</div>',\n        SAFE_TEMPLATE = TEMPLATE.replace(\"#=content#\", \"#:content#\");\n\n    var Notification = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n\n            if (!options.appendTo || !$(options.appendTo).is(element)) {\n                that.element.hide();\n            }\n\n            that._compileTemplates(options.templates);\n            that._guid = \"_\" + kendo.guid();\n            that._isRtl = kendo.support.isRtl(element);\n            that._compileStacking(options.stacking, options.position.top, options.position.left);\n\n            kendo.notify(that);\n        },\n\n        events: [\n            SHOW,\n            HIDE\n        ],\n\n        options: {\n            name: \"Notification\",\n            position: {\n                pinned: true,\n                top: null,\n                left: null,\n                bottom: 20,\n                right: 20\n            },\n            stacking: \"default\",\n            hideOnClick: true,\n            button: false,\n            allowHideAfter: 0,\n            autoHideAfter: 5000,\n            appendTo: null,\n            width: null,\n            height: null,\n            templates: [],\n            title: null,\n            animation: {\n                open: {\n                    effects: \"fade:in\",\n                    duration: 300\n                },\n                close: {\n                    effects: \"fade:out\",\n                    duration: 600,\n                    hide: true\n                }\n            }\n        },\n\n        _compileTemplates: function(templates) {\n            var that = this;\n            var kendoTemplate = kendo.template;\n\n            that._compiled = {};\n\n            $.each(templates, function(key, value) {\n                that._compiled[value.type] = kendoTemplate(value.template || $(\"#\" + value.templateId).html());\n            });\n\n            that._defaultCompiled = kendoTemplate(TEMPLATE);\n            that._safeCompiled = kendoTemplate(SAFE_TEMPLATE);\n        },\n\n        _getCompiled: function(type, safe) {\n            var defaultCompiled = safe ? this._safeCompiled : this._defaultCompiled;\n\n            return type ? this._compiled[type] || defaultCompiled : defaultCompiled;\n        },\n\n        _compileStacking: function(stacking, top, left) {\n            var that = this,\n                paddings = { paddingTop: 0, paddingRight: 0, paddingBottom: 0, paddingLeft: 0 },\n                horizontalAlignment = left !== null ? LEFT : RIGHT,\n                origin, position;\n\n            switch (stacking) {\n                case \"down\":\n                    origin = BOTTOM + \" \" + horizontalAlignment;\n                    position = TOP + \" \" + horizontalAlignment;\n                    delete paddings.paddingBottom;\n                break;\n                case RIGHT:\n                    origin = TOP + \" \" + RIGHT;\n                    position = TOP + \" \" + LEFT;\n                    delete paddings.paddingRight;\n                break;\n                case LEFT:\n                    origin = TOP + \" \" + LEFT;\n                    position = TOP + \" \" + RIGHT;\n                    delete paddings.paddingLeft;\n                break;\n                case UP:\n                    origin = TOP + \" \" + horizontalAlignment;\n                    position = BOTTOM + \" \" + horizontalAlignment;\n                    delete paddings.paddingTop;\n                break;\n                default:\n                    if (top !== null) {\n                        origin = BOTTOM + \" \" + horizontalAlignment;\n                        position = TOP + \" \" + horizontalAlignment;\n                        delete paddings.paddingBottom;\n                    } else {\n                        origin = TOP + \" \" + horizontalAlignment;\n                        position = BOTTOM + \" \" + horizontalAlignment;\n                        delete paddings.paddingTop;\n                    }\n                break;\n            }\n\n            that._popupOrigin = origin;\n            that._popupPosition = position;\n            that._popupPaddings = paddings;\n        },\n\n        _attachPopupEvents: function(options, popup) {\n            var that = this,\n                allowHideAfter = options.allowHideAfter,\n                attachDelay = !isNaN(allowHideAfter) && allowHideAfter > 0,\n                closeIcon;\n\n            function attachClick(target) {\n                target.on(CLICK + NS, function() {\n                    that._hidePopup(popup);\n                });\n            }\n\n            if (options.hideOnClick) {\n                popup.bind(\"activate\", function() {\n                    if (attachDelay) {\n                        setTimeout(function() {\n                            attachClick(popup.element);\n                        }, allowHideAfter);\n                    } else {\n                        attachClick(popup.element);\n                    }\n                });\n            } else if (options.button) {\n                closeIcon = popup.element.find(KICLOSE);\n                if (attachDelay) {\n                    setTimeout(function() {\n                        attachClick(closeIcon);\n                    }, allowHideAfter);\n                } else {\n                    attachClick(closeIcon);\n                }\n            }\n        },\n\n        _showPopup: function(wrapper, options) {\n            var that = this,\n                autoHideAfter = options.autoHideAfter,\n                x = options.position.left,\n                y = options.position.top,\n                popup, openPopup;\n\n            openPopup = $(\".\" + that._guid + \":not(.\" + KHIDING + \")\").last();\n\n            popup = new kendo.ui.Popup(wrapper, {\n                anchor: openPopup[0] ? openPopup : document.body,\n                origin: that._popupOrigin,\n                position: that._popupPosition,\n                animation: options.animation,\n                copyAnchorStyles: false,\n                modal: true,\n                collision: \"\",\n                isRtl: that._isRtl,\n                close: function() {\n                    that._triggerHide(this.element);\n                },\n                deactivate: function(e) {\n                    e.sender.element.off(NS);\n                    e.sender.element.find(KICLOSE).off(NS);\n                    e.sender.destroy();\n                }\n            });\n\n            that._attachPopupEvents(options, popup);\n\n            wrapper.removeClass(\"k-group k-reset\");\n\n            if (openPopup[0]) {\n                popup.open();\n            } else {\n                if (x === null) {\n                    x = $(window).width() - wrapper.outerWidth() - options.position.right;\n                }\n\n                if (y === null) {\n                    y = $(window).height() - wrapper.outerHeight() - options.position.bottom;\n                }\n\n                popup.open(x, y);\n            }\n\n            popup.wrapper.addClass(that._guid).css(extend({ margin: 0,zIndex: 10050 }, that._popupPaddings));\n\n            if (options.position.pinned) {\n                popup.wrapper.css(\"position\", \"fixed\");\n                if (openPopup[0]) {\n                    that._togglePin(popup.wrapper, true);\n                }\n            } else if (!openPopup[0]) {\n                that._togglePin(popup.wrapper, false);\n            }\n\n            if (autoHideAfter > 0) {\n                setTimeout(function() {\n                    that._hidePopup(popup);\n                }, autoHideAfter);\n            }\n        },\n\n        _hidePopup: function(popup) {\n            popup.wrapper.addClass(KHIDING);\n            popup.close();\n        },\n\n        _togglePin: function(wrapper, pin) {\n            var win = $(window),\n                sign = pin ? -1 : 1;\n\n            wrapper.css({\n                top: parseInt(wrapper.css(TOP), 10) + sign * win.scrollTop(),\n                left: parseInt(wrapper.css(LEFT), 10) + sign * win.scrollLeft()\n            });\n        },\n\n        _attachStaticEvents: function(options, wrapper) {\n            var that = this,\n                allowHideAfter = options.allowHideAfter,\n                attachDelay = !isNaN(allowHideAfter) && allowHideAfter > 0;\n\n            function attachClick(target) {\n                target.on(CLICK + NS, that._hideStatic.bind(that, wrapper));\n            }\n\n            if (options.hideOnClick) {\n                if (attachDelay) {\n                    setTimeout(function() {\n                        attachClick(wrapper);\n                    }, allowHideAfter);\n                } else {\n                    attachClick(wrapper);\n                }\n            } else if (options.button) {\n                if (attachDelay) {\n                    setTimeout(function() {\n                        attachClick(wrapper.find(KICLOSE));\n                    }, allowHideAfter);\n                } else {\n                    attachClick(wrapper.find(KICLOSE));\n                }\n            }\n        },\n\n        _showStatic: function(wrapper, options) {\n            var that = this,\n                autoHideAfter = options.autoHideAfter,\n                animation = options.animation,\n                insertionMethod = options.stacking == UP || options.stacking == LEFT ? \"prependTo\" : \"appendTo\",\n                initializedNotifications;\n\n            wrapper\n                .removeClass(\"k-popup\")\n                .addClass(that._guid)\n                [insertionMethod](options.appendTo)\n                .hide()\n                .kendoAnimate(animation.open || false);\n\n            initializedNotifications = that.getNotifications();\n            initializedNotifications.each(function(idx, element) {\n                that._attachStaticEvents(options, $(element));\n\n                if (autoHideAfter > 0) {\n                    setTimeout(function() {\n                        that._hideStatic($(element));\n                    }, autoHideAfter);\n                }\n            });\n        },\n\n        _hideStatic: function(wrapper) {\n            wrapper.kendoAnimate(extend(this.options.animation.close || false, { complete: function() {\n                wrapper.off(NS).find(KICLOSE).off(NS);\n                wrapper.remove();\n            } }));\n            this._triggerHide(wrapper);\n        },\n\n        _triggerHide: function(element) {\n            this.trigger(HIDE, { element: element });\n            this.angular(\"cleanup\", function() {\n                return { elements: element };\n            });\n        },\n\n        show: function(content, type, safe) {\n            var that = this,\n                options = that.options,\n                wrapper = $(WRAPPER),\n                contentId = kendo.guid(),\n                args, defaultArgs;\n\n            if (!type) {\n                type = INFO;\n            }\n\n            wrapper.attr(\"aria-label\", type);\n\n            if (content !== null && content !== undefined && content !== \"\") {\n\n                if (kendo.isFunction(content)) {\n                    content = content();\n                }\n\n                defaultArgs = { typeIcon: type, content: \"\", closeButton: options.button };\n\n                if ($.isPlainObject(content)) {\n                    args = extend(defaultArgs, content);\n                } else {\n                    args = extend(defaultArgs, { content: content });\n                }\n\n                wrapper\n                    .addClass(KNOTIFICATION + \"-\" + type)\n                    .toggleClass(KNOTIFICATION + \"-button\", options.button)\n                    .toggleClass(KNOTIFICATION + \"-closable\", options.button)\n                    .attr({\n                        \"data-role\": \"alert\",\n                        title: options.title\n                    })\n                    .css({ width: options.width, height: options.height })\n                    .append(that._getCompiled(type, safe)(args));\n\n                wrapper.find(\".k-notification-content\").attr(\"id\", contentId);\n                wrapper.attr(\"aria-describedby\", contentId);\n\n                that.angular(\"compile\", function() {\n                    return {\n                        elements: wrapper,\n                        data: [{ dataItem: args }]\n                    };\n                });\n\n                if ($(options.appendTo)[0]) {\n                    that._showStatic(wrapper, options);\n                } else {\n                    that._showPopup(wrapper, options);\n                }\n\n                that.trigger(SHOW, { element: wrapper });\n            }\n\n            return that;\n        },\n\n        showText: function(content, type) {\n            this.show(content, type, true);\n        },\n\n        info: function(content) {\n            return this.show(content, INFO);\n        },\n\n        success: function(content) {\n            return this.show(content, SUCCESS);\n        },\n\n        warning: function(content) {\n            return this.show(content, WARNING);\n        },\n\n        error: function(content) {\n            return this.show(content, ERROR);\n        },\n\n        hide: function() {\n            var that = this,\n                openedNotifications = that.getNotifications();\n\n            if (that.options.appendTo) {\n                openedNotifications.each(function(idx, element) {\n                    that._hideStatic($(element));\n                });\n            } else {\n                openedNotifications.each(function(idx, element) {\n                    var popup = $(element).data(\"kendoPopup\");\n                    if (popup) {\n                        that._hidePopup(popup);\n                    }\n                });\n            }\n\n            return that;\n        },\n\n        getNotifications: function() {\n            var that = this,\n                guidElements = $(\".\" + that._guid + \":not(.\" + KHIDING + \")\");\n\n            if (that.options.appendTo) {\n                return guidElements;\n            } else {\n                return guidElements.children(\".\" + KNOTIFICATION);\n            }\n        },\n\n        setOptions: function(newOptions) {\n            var that = this,\n                options;\n\n            Widget.fn.setOptions.call(that, newOptions);\n\n            options = that.options;\n\n            if (newOptions.templates !== undefined) {\n                that._compileTemplates(options.templates);\n            }\n\n            if (newOptions.stacking !== undefined || newOptions.position !== undefined) {\n                that._compileStacking(options.stacking, options.position.top, options.position.left);\n            }\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.getNotifications().off(NS).find(KICLOSE).off(NS);\n        }\n    });\n\n    kendo.ui.plugin(Notification);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.tooltip',[ \"kendo.core\", \"kendo.popup\", \"kendo.fx\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"tooltip\",\n    name: \"Tooltip\",\n    category: \"web\",\n    description: \"The Tooltip widget displays a popup hint for a given html element.\",\n    depends: [ \"core\", \"popup\" ],\n    features: [ {\n        id: \"tooltip-fx\",\n        name: \"Animation\",\n        description: \"Support for animation\",\n        depends: [ \"fx\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        Popup = kendo.ui.Popup,\n        isFunction = kendo.isFunction,\n        isPlainObject = $.isPlainObject,\n        extend = $.extend,\n        DOCUMENT = $(document),\n        isLocalUrl = kendo.isLocalUrl,\n        ARIAIDSUFFIX = \"_tb_active\",\n        DESCRIBEDBY = \"aria-describedby\",\n        SHOW = \"show\",\n        HIDE = \"hide\",\n        ERROR = \"error\",\n        CONTENTLOAD = \"contentLoad\",\n        REQUESTSTART = \"requestStart\",\n        KCONTENTFRAME = \"k-content-frame\",\n        TEMPLATE = '<div role=\"tooltip\" class=\"k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#\">' +\n            '<div class=\"k-tooltip-content\"></div>' +\n            '#if (!autoHide) {# <div class=\"k-tooltip-button\"><a href=\"\\\\#\" class=\"k-icon k-i-close\" title=\"Close\"></a></div> #}#' +\n            '#if (callout){ #<div class=\"k-callout k-callout-#=dir#\"></div>#}#' +\n        '</div>',\n        IFRAMETEMPLATE = kendo.template(\n            \"<iframe frameborder='0' class='\" + KCONTENTFRAME + \"' src='#= content.url #'>\" +\n                \"This page requires frames in order to show content\" +\n            \"</iframe>\"\n        ),\n        NS = \".kendoTooltip\",\n        POSITIONS = {\n            bottom: {\n                origin: \"bottom center\",\n                position: \"top center\"\n            },\n            top: {\n                origin: \"top center\",\n                position: \"bottom center\"\n            },\n            left: {\n                origin: \"center left\",\n                position: \"center right\",\n                collision: \"fit flip\"\n            },\n            right: {\n                origin: \"center right\",\n                position: \"center left\",\n                collision: \"fit flip\"\n            },\n            center: {\n                position: \"center center\",\n                origin: \"center center\"\n            }\n        },\n        REVERSE = {\n            \"top\": \"bottom\",\n            \"bottom\": \"top\",\n            \"left\": \"right\",\n            \"right\": \"left\",\n            \"center\": \"center\"\n        },\n        DIRCLASSES = {\n            bottom: \"n\",\n            top: \"s\",\n            left: \"e\",\n            right: \"w\",\n            center: \"n\"\n        },\n        DIMENSIONS = {\n            \"horizontal\": { offset: \"top\", size: \"outerHeight\" },\n            \"vertical\": { offset: \"left\", size: \"outerWidth\" }\n        },\n        DEFAULTCONTENT = function(e) {\n            return e.target.data(kendo.ns + \"title\");\n        };\n\n    function restoreTitle(element) {\n        while (element.length) {\n            if (restoreTitleAttributeForElement(element)) {\n                break;\n            }\n            element = element.parent();\n        }\n    }\n\n    function restoreTitleAttributeForElement(element) {\n        var title = element.data(kendo.ns + \"title\");\n        if (title) {\n            element.attr(\"title\", title);\n            element.removeData(kendo.ns + \"title\");\n            return true;\n        }\n    }\n\n    function saveTitleAttributeForElement(element) {\n        var title = element.attr(\"title\");\n        if (title) {\n            element.data(kendo.ns + \"title\", title);\n            element.attr(\"title\", \"\");\n            return true;\n        }\n    }\n\n    function saveTitleAttributes(element) {\n        while (element.length && !element.is(\"body\")) {\n            if (saveTitleAttributeForElement(element)) {\n                break;\n            }\n            element = element.parent();\n        }\n    }\n\n    var TooltipBase = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                axis;\n\n            Widget.fn.init.call(that, element, options);\n\n            axis = that.options.position.match(/left|right/) ? \"horizontal\" : \"vertical\";\n\n            that.dimensions = DIMENSIONS[axis];\n\n            if (kendo.support.touch && this._isShownOnMouseEnter()) {\n                that.element.on(kendo.support.mousedown + NS, that.options.filter, that._showOn.bind(that));\n            }\n\n            that.element.on(that.options.showOn + NS, that.options.filter, that._showOn.bind(that));\n        },\n\n        options: {\n            name: \"TooltipBase\",\n            filter: \"\",\n            offset: 0,\n            showAfter: 100,\n            hideAfter: 100,\n            callout: true,\n            position: \"bottom\",\n            showOn: \"mouseenter\",\n            animation: {\n                open: {\n                    effects: \"fade:in\",\n                    duration: 0\n                },\n                close: {\n                    duration: 40,\n                    hide: true\n                }\n            }\n        },\n\n        destroy: function() {\n            var popup = this.popup;\n\n            if (popup) {\n                popup.element.off(NS);\n                popup.destroy();\n            }\n\n            clearTimeout(this.timeout);\n\n            Widget.fn.destroy.call(this);\n        },\n\n        hide: function() {\n            if (this.popup) {\n                this.popup.close();\n            }\n        },\n\n        show: function(target) {\n            target = target || this.element;\n\n            this._saveTitle(target);\n            this._show(target);\n        },\n\n        target: function() {\n            if (this.popup) {\n                return this.popup.options.anchor;\n            }\n            return null;\n        },\n\n        _showOn: function(e) {\n            var that = this;\n\n            var currentTarget = $(e.currentTarget);\n            if (that._isShownOnClick() && !that._isShownOnMouseEnter()) {\n                that._show(currentTarget);\n            } else if (that._isShownOnFocus()) {\n                that._saveTitle(currentTarget);\n                that._show(currentTarget);\n            } else {\n                clearTimeout(that.timeout);\n\n                that.timeout = setTimeout(function() {\n                    that._show(currentTarget);\n                }, that.options.showAfter);\n            }\n        },\n\n        _isShownOnFocus: function() {\n            return this.options.showOn && this.options.showOn.match(/focus/);\n        },\n\n        _isShownOnMouseEnter: function() {\n            return this.options.showOn && this.options.showOn.match(/mouseenter/);\n        },\n\n        _isShownOnClick: function() {\n            return this.options.showOn && this.options.showOn.match(/click/);\n        },\n\n        _positionCallout: function() {\n            var that = this,\n                position = that.options.position,\n                dimensions = that.dimensions,\n                offset = dimensions.offset,\n                popup = that.popup,\n                anchor = popup.options.anchor,\n                anchorOffset = $(anchor).offset(),\n                elementOffset = $(popup.element).offset(),\n                cssClass = DIRCLASSES[popup.flipped ? REVERSE[position] : position],\n                offsetAmount = anchorOffset[offset] - elementOffset[offset] + ($(anchor)[dimensions.size]() / 2);\n\n            that._offset(position, that.options.offset);\n\n            that.arrow\n               .removeClass(\"k-callout-n k-callout-s k-callout-w k-callout-e\")\n               .addClass(\"k-callout-\" + cssClass)\n               .css(offset, offsetAmount);\n        },\n\n        _offset: function(position, offsetAmount, arrowWidth) {\n            var that = this,\n                isTopLeft = position == \"top\" || position == \"left\",\n                isFlipped = that.popup.flipped,\n                direction = (isTopLeft && isFlipped) || (!isTopLeft && !isFlipped) ? 1 : -1,\n                marginRule = isTopLeft ? \"margin-\" + position : \"margin-\" + REVERSE[position],\n                offset = ((arrowWidth || kendo._outerWidth(that.arrow)) / 2) + offsetAmount;\n\n            that.popup.wrapper.css(marginRule, offset * direction + \"px\");\n        },\n\n        _addDescribedBy: function() {\n            var that = this,\n                anchor = that.popup.options.anchor,\n                ariaId = anchor[0].id || that.element[0].id || kendo.guid(),\n                describedBy = [];\n\n            if (anchor.attr(DESCRIBEDBY)) {\n                describedBy.push(anchor.attr(DESCRIBEDBY));\n            }\n\n            if (ariaId) {\n                describedBy.push(ariaId + ARIAIDSUFFIX);\n                anchor.attr(DESCRIBEDBY, describedBy.join(\" \"));\n                that.popup.element.attr(\"id\", ariaId + ARIAIDSUFFIX);\n            }\n\n        },\n\n        _removeDescribedBy: function(target) {\n            var tooltipId = this.popup.element.attr(\"id\"),\n                currentDescribedBy = target.attr(DESCRIBEDBY),\n                arrayAttr, finalArray, finalDescribedbyAttr;\n\n            if (!currentDescribedBy) {\n                return;\n            }\n\n            arrayAttr = currentDescribedBy.split(\" \");\n\n            if (arrayAttr && arrayAttr.length > 0) {\n                finalArray = arrayAttr.filter(function(val) {\n                    return val !== tooltipId;\n                });\n            }\n\n            if (finalArray && finalArray.length > 0) {\n                finalDescribedbyAttr = finalArray.join(\" \");\n                target.attr(DESCRIBEDBY, finalDescribedbyAttr);\n            } else {\n                target.removeAttr(DESCRIBEDBY);\n            }\n        },\n\n        _openPopup: function() {\n            if (!this.popup) {\n                return;\n            }\n\n            this.popup._hovered = true;\n            this.popup.open();\n        }\n    });\n    kendo.ui.plugin(TooltipBase);\n\n    var Tooltip = TooltipBase.extend({\n        init: function(element, options) {\n            var that = this,\n                axis;\n\n            TooltipBase.fn.init.call(that, element, options);\n\n            axis = that.options.position.match(/left|right/) ? \"horizontal\" : \"vertical\";\n\n            that.dimensions = DIMENSIONS[axis];\n\n            that._documentKeyDownHandler = that._documentKeyDown.bind(that);\n\n            if (this._isShownOnMouseEnter() || this._isShownOnClick()) {\n                that.element.on(\"mouseenter\" + NS, that.options.filter, that._mouseenter.bind(that));\n            }\n\n            if (this.options.autoHide && this._isShownOnMouseEnter()) {\n                that.element.on(\"mouseleave\" + NS, that.options.filter, that._mouseleave.bind(that));\n            }\n\n            if (this.options.autoHide && this._isShownOnFocus()) {\n                that.element.on(\"blur\" + NS, that.options.filter, that._blur.bind(that));\n            }\n\n            if (kendo.support.touch) {\n                that.element.on(kendo.support.mousedown + NS, that.options.filter, that._mouseenter.bind(that));\n            }\n        },\n\n        options: {\n            name: \"Tooltip\",\n            filter: \"\",\n            content: DEFAULTCONTENT,\n            showAfter: 100,\n            callout: true,\n            offset: 0,\n            position: \"bottom\",\n            showOn: \"mouseenter\",\n            autoHide: true,\n            width: null,\n            height: null,\n            animation: {\n                open: {\n                    effects: \"fade:in\",\n                    duration: 0\n                },\n                close: {\n                    duration: 40,\n                    hide: true\n                }\n            }\n        },\n\n        events: [ SHOW, HIDE, CONTENTLOAD, ERROR, REQUESTSTART ],\n\n        _mouseenter: function(e) {\n            saveTitleAttributes($(e.currentTarget));\n        },\n\n        _saveTitle: function(target) {\n            saveTitleAttributes(target);\n        },\n\n        _appendContent: function(target) {\n            var that = this,\n                contentOptions = that.options.content,\n                element = that.content,\n                showIframe = that.options.iframe,\n                iframe;\n\n            if (isPlainObject(contentOptions) && contentOptions.url) {\n                if (!(\"iframe\" in that.options)) {\n                    showIframe = !isLocalUrl(contentOptions.url);\n                }\n\n                that.trigger(REQUESTSTART, { options: contentOptions, target: target });\n\n                if (!showIframe) {\n                    element.empty();\n                    kendo.ui.progress(element, true);\n\n                    // perform AJAX request\n                    that._ajaxRequest(contentOptions);\n                } else {\n                    element.hide();\n\n                    iframe = element.find(\".\" + KCONTENTFRAME)[0];\n\n                    if (iframe) {\n                        // refresh existing iframe\n                        iframe.src = contentOptions.url || iframe.src;\n                    } else {\n                        element.html(IFRAMETEMPLATE({ content: contentOptions }));\n                    }\n\n                    element.find(\".\" + KCONTENTFRAME)\n                        .off(\"load\" + NS)\n                        .on(\"load\" + NS, function() {\n                            that.trigger(CONTENTLOAD);\n                            element.show();\n                        });\n                }\n            } else if (contentOptions && isFunction(contentOptions)) {\n                contentOptions = contentOptions({ sender: this, target: target });\n                element.html(contentOptions || \"\");\n            } else {\n                element.html(contentOptions);\n            }\n\n            that.angular(\"compile\", function() {\n                return { elements: element };\n            });\n        },\n\n        _ajaxRequest: function(options) {\n            var that = this,\n                successFn = function(data) {\n                    kendo.ui.progress(that.content, false);\n\n                    that.content.html(data);\n\n                    if (kendo._outerHeight(that.popup.element) > kendo._outerHeight(that.popup.wrapper)) {\n                        that.popup.wrapper.css(\"height\", kendo._outerHeight(that.popup.element) + \"px\");\n                        that.popup.position();\n                        that._positionCallout();\n                    }\n\n                    that.trigger(CONTENTLOAD);\n                };\n\n            jQuery.ajax(extend({\n                type: \"GET\",\n                dataType: \"html\",\n                cache: false,\n                error: function(xhr, status) {\n                    kendo.ui.progress(that.content, false);\n\n                    that.trigger(ERROR, { status: status, xhr: xhr });\n                },\n                success: successFn.bind(that)\n            }, options));\n        },\n\n        _documentKeyDown: function(e) {\n            if (e.keyCode === kendo.keys.ESC) {\n                this.hide();\n            }\n        },\n\n        refresh: function() {\n            var that = this,\n                popup = that.popup;\n\n            if (popup && popup.options.anchor) {\n                that._appendContent(popup.options.anchor);\n            }\n        },\n\n        _show: function(target) {\n            var that = this,\n                current = that.target();\n\n            if (!that.popup) {\n                that._initPopup();\n            }\n\n            if (current && current[0] != target[0]) {\n                that.popup.close();\n                that.popup.element.kendoStop(true, true);// animation can be too long to hide the element before it is shown again\n            }\n\n            if (!current || current[0] != target[0]) {\n                that._appendContent(target);\n                that.popup.options.anchor = target;\n            }\n\n            that.popup.one(\"deactivate\", function() {\n                restoreTitle(target);\n\n                that._removeDescribedBy(target);\n\n                this.element\n                    .removeAttr(\"id\")\n                    .attr(\"aria-hidden\", true);\n\n                DOCUMENT.off(\"keydown\" + NS, that._documentKeyDownHandler);\n            });\n\n            that._openPopup();\n        },\n\n        _initPopup: function() {\n            var that = this,\n                options = that.options,\n                wrapper = $(kendo.template(TEMPLATE)({\n                    callout: options.callout && options.position !== \"center\",\n                    dir: DIRCLASSES[options.position],\n                    autoHide: options.autoHide\n                }));\n\n            that.popup = new Popup(wrapper, extend({\n                autosize: true,\n                activate: function() {\n                    that._addDescribedBy();\n\n                    if (options.callout) {\n                        that._positionCallout();\n                    } else {\n                        that._offset(that.options.position, that.options.offset);\n                    }\n\n                    this.element.removeAttr(\"aria-hidden\");\n\n                    DOCUMENT.on(\"keydown\" + NS, that._documentKeyDownHandler);\n\n                    that.trigger(SHOW);\n                    that.popup._hovered = undefined;\n                },\n                close: function() {\n                    that.trigger(HIDE);\n                },\n                copyAnchorStyles: false,\n                animation: options.animation\n            }, POSITIONS[options.position]));\n\n            wrapper.css({\n                width: options.width,\n                height: options.height\n            });\n\n            that.content = wrapper.find(\".k-tooltip-content\");\n            that.arrow = wrapper.find(\".k-callout\");\n\n            if (options.autoHide && this._isShownOnMouseEnter()) {\n                wrapper.on(\"mouseleave\" + NS, that._mouseleave.bind(that));\n            } else {\n                wrapper.on(\"click\" + NS, \".k-tooltip-button\", that._closeButtonClick.bind(that));\n            }\n        },\n\n        _closeButtonClick: function(e) {\n            e.preventDefault();\n            this.hide();\n        },\n\n        _mouseleave: function(e) {\n            var that = this;\n\n            clearTimeout(that.timeout);\n\n            that.timeout = setTimeout(function() {\n                that._closePopup(e.currentTarget);\n            }, that.options.hideAfter);\n        },\n\n        _blur: function(e) {\n            this._closePopup(e.currentTarget);\n        },\n\n        _closePopup: function(target) {\n            if (this.popup && !this.popup._hovered) {\n                this.popup.close();\n            } else {\n                restoreTitle($(target));\n            }\n        },\n\n        destroy: function() {\n            this.element.off(NS);\n\n            DOCUMENT.off(\"keydown\" + NS, this._documentKeyDownHandler);\n\n            TooltipBase.fn.destroy.call(this);\n        }\n    });\n\n    kendo.ui.plugin(Tooltip);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.button.menu',[\"kendo.core\", \"kendo.popup\"], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"button.menu\",\n    name: \"ButtonMenu\",\n    category: \"web\",\n    description: \"The popup Menu list part of the SplitButton and the DropDownButton\",\n    depends: [\"core\", \"popup\"]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        NS = \".kendoButtonMenu\",\n        ui = kendo.ui,\n        keys = kendo.keys,\n        extend = $.extend,\n\n        DOT = \".\",\n        ID = \"id\",\n        NEXT = \"next\",\n        PREV = \"prev\",\n        DISABLEDSTATE = \"k-disabled\",\n        HIDDEN = \"k-hidden\",\n\n        ARIA_DISABLED = \"aria-disabled\",\n        ROLE_MENU = \"menu\",\n        ROLE_MENU_ITEM = \"menuitem\",\n        TABINDEX = \"tabindex\",\n\n        CLICK = \"click\",\n        MENU_CLICK = \"menuClick\",\n        OPEN = \"menuOpen\",\n        CLOSE = \"menuClose\",\n        KEYDOWN = \"keydown\",\n\n        FOCUS = \"focus\";\n\n    var cssClasses = {\n        popup: \"k-menu-popup\",\n        list: \"k-group k-menu-group k-reset\",\n        listItem: \"k-item k-menu-item\",\n        menuItem: \"k-menu-item\",\n        itemText: \"k-menu-link-text\",\n        item: \"k-link k-menu-link\",\n        sprite: \"k-sprite\",\n        image: \"k-image\",\n        icon: \"k-icon\"\n    };\n\n    var baseItem = {\n        text: null,\n        icon: null,\n        url: null,\n        attributes: null,\n        enabled: true,\n        hidden: false,\n        id: null,\n        imageUrl: null,\n        spriteCssClass: null\n    };\n\n    var IMAGE_TEMPLATE = \"#if(imageUrl){#<img alt=\\\"icon\\\" class=\\\"\" + cssClasses.image + \"\\\" src=\\\"#:imageUrl#\\\" />#}#\";\n    var SPRITE_TEMPLATE = \"#if(spriteCssClass){#<span class=\\\"\" + cssClasses.sprite + \" #:spriteCssClass#\\\"></span>#}#\";\n    var ICON_TEMPLATE = \"#if(icon){#<span class=\\\"\" + cssClasses.icon + \" k-i-#:icon#\\\"></span>#}#\";\n    var TEXT_TEMPLATE = \"#if(text){#<span class=\\\"\" + cssClasses.itemText + \"\\\">#:text#</span>#}#\";\n\n    var ITEM_TEMPLATE = \"<span class=\\\"\" + cssClasses.item + \"\\\">\" + IMAGE_TEMPLATE + SPRITE_TEMPLATE + ICON_TEMPLATE + TEXT_TEMPLATE + \"</span>\";\n\n    var LINK_TEMPLATE = \"<a href=\\\"#:url#\\\" class=\\\"\" + cssClasses.item + \"\\\">\" + IMAGE_TEMPLATE + SPRITE_TEMPLATE + ICON_TEMPLATE + TEXT_TEMPLATE + \"</a>\";\n\n    function findFocusableSibling(element, dir) {\n        var getSibling = dir === NEXT ? $.fn.next : $.fn.prev;\n        var getter = dir === NEXT ? $.fn.first : $.fn.last;\n        var candidate = getSibling.call(element);\n        var focusable = \":kendoFocusable\";\n\n        if (!candidate.length) {\n            candidate = getter.call(element.parent().find(DOT + cssClasses.menuItem));\n        }\n\n        if (candidate.is(focusable) || !candidate.length) {\n            return candidate;\n        }\n\n        if (candidate.find(focusable).length) {\n            return getter.call(candidate.find(focusable));\n        }\n\n        return findFocusableSibling(candidate, dir);\n    }\n\n    var ButtonMenu = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n\n            Widget.fn.init.call(that, element, options);\n\n            that.mainButton = options.mainButton;\n            that._clickHandlers = {};\n\n            that._renderList();\n\n            that._initPopup();\n\n            that._attachEvents();\n\n            that._applyCssClasses(that.list);\n        },\n\n        options: {\n            name: \"ButtonMenu\",\n            element: null,\n            items: [],\n            size: \"medium\",\n        },\n\n        events: [\n            MENU_CLICK,\n            OPEN,\n            CLOSE\n        ],\n\n        _renderList: function() {\n            var that = this,\n                items = that.options.items,\n                popup = that.element.addClass(cssClasses.popup),\n                id = that.mainButton.attr(ID) || kendo.guid(),\n                list = $(\"<ul role=\\\"\" + ROLE_MENU + \"\\\"></ul>\").addClass(cssClasses.list);\n\n            that.list = list.appendTo(popup);\n\n            that.list.attr(ID, id + \"_buttonmenu\");\n\n            items.forEach(that._renderListItem.bind(that));\n        },\n\n        _renderListItem: function(item) {\n            var that = this,\n                id, menuItem;\n\n            item = extend({}, baseItem, item, {\n                enabled: item.enable && item.enabled // backward compatibility: support both enable and enabled options.\n            });\n\n            id = item.id || kendo.guid();\n            menuItem = $(\"<li id=\\\"\" + id + \"\\\" role=\\\"\" + ROLE_MENU_ITEM + \"\\\" class=\\\"\" + cssClasses.listItem + \"\\\">\" + that._renderItemButton(item) + \"</li>\");\n\n            if (item.click) {\n                that._clickHandlers[id] = item.click;\n            }\n\n            if (item.attributes) {\n                menuItem.attr(item.attributes);\n            }\n\n            if (item.data && kendo.isFunction(item.data)) {\n                menuItem.data(item.data(item));\n            }\n\n            that.list.append(menuItem);\n\n            that.enable(item.enabled, menuItem);\n            that._hide(item.hidden, menuItem);\n        },\n\n        _renderItemButton: function(item) {\n            var that = this,\n                options = that.options;\n\n            if (options.itemTemplate) {\n                return kendo.template(options.itemTemplate)(item);\n            }\n\n            if (item.url) {\n                return kendo.template(LINK_TEMPLATE)(item);\n            } else {\n                return kendo.template(ITEM_TEMPLATE)(item);\n            }\n        },\n\n        _initPopup: function() {\n            var that = this,\n                options = that.options;\n\n            that._popup = new ui.Popup(that.element, extend({}, options.popup, {\n                anchor: that.mainButton,\n                isRtl: that._isRtl,\n                toggleTarget: options.toggleTarget,\n                copyAnchorStyles: false,\n                animation: options.animation,\n                open: that._popupOpenHandler.bind(that),\n                close: that._popupCloseHandler.bind(that),\n                activate: that._popupExpandHandler.bind(that)\n            }));\n        },\n\n        _popupOpenHandler: function(ev) {\n            var that = this;\n\n            var isDefaultPrevented = that.trigger(OPEN);\n\n            if (isDefaultPrevented) {\n                ev.preventDefault();\n                return;\n            }\n\n            that.list.find(DOT + cssClasses.menuItem).attr(TABINDEX, 0);\n        },\n\n        _popupCloseHandler: function(ev) {\n            var that = this,\n                isDefaultPrevented = that.trigger(CLOSE);\n\n            if (isDefaultPrevented) {\n                ev.preventDefault();\n            }\n\n            that.list.find(DOT + cssClasses.menuItem).attr(TABINDEX, -1);\n        },\n\n        _popupExpandHandler: function() {\n            var that = this;\n\n            that.list.find(\":kendoFocusable\").first().trigger(FOCUS);\n        },\n\n        adjustPopupWidth: function(width) {\n            var that = this;\n\n            that.element.addClass(\"k-split-wrapper\");\n\n            that.element.css({\n                \"min-width\": width\n            });\n        },\n\n        _attachEvents: function() {\n            var that = this;\n\n            that.list\n                .on(CLICK + NS, DOT + cssClasses.menuItem, that._click.bind(that))\n                .on(KEYDOWN + NS, DOT + cssClasses.menuItem, that.listItemKeydown.bind(that));\n\n            that.mainButton\n                .on(KEYDOWN + NS, that._keydown.bind(that));\n        },\n\n        _keydown: function(ev) {\n            var that = this;\n\n            if ($(ev.target).is(DOT + DISABLEDSTATE) || $(ev.target).parents(DOT + DISABLEDSTATE).length) {\n                return;\n            }\n\n            if (ev.altKey && ev.keyCode === keys.DOWN) {\n                that._popup.open();\n                ev.preventDefault();\n                return;\n            }\n        },\n\n        listItemKeydown: function(ev) {\n            var that = this,\n                li = $(ev.target);\n\n            ev.preventDefault();\n\n            if (ev.keyCode === keys.ESC || ev.keyCode === keys.TAB || (ev.altKey && ev.keyCode === keys.UP)) {\n                that._popup.close();\n                that.mainButton.trigger(FOCUS);\n            } else if (ev.keyCode === keys.DOWN) {\n                findFocusableSibling(li, NEXT).trigger(FOCUS);\n            } else if (ev.keyCode === keys.UP) {\n                findFocusableSibling(li, PREV).trigger(FOCUS);\n            } else if (!li.is(DOT + DISABLEDSTATE) && (ev.keyCode === keys.SPACEBAR || ev.keyCode === keys.ENTER)) {\n                li.trigger(CLICK);\n            } else if (ev.keyCode === keys.HOME) {\n                that.list.find(\":kendoFocusable\")\n                    .filter(DOT + cssClasses.menuItem)\n                    .first().trigger(FOCUS);\n            } else if (ev.keyCode === keys.END) {\n                that.list.find(\":kendoFocusable\")\n                    .filter(DOT + cssClasses.menuItem)\n                    .last().trigger(FOCUS);\n            }\n        },\n\n        _click: function(ev) {\n            var that = this,\n                target = $(ev.target).closest(DOT + cssClasses.menuItem),\n                id = target.attr(ID);\n\n            if (that._clickHandlers[id]) {\n                that._clickHandlers[id](ev);\n            }\n\n            that.trigger(MENU_CLICK, { id: id, target: target, type: \"menu-click\", originalEvent: ev });\n        },\n\n        toggle: function() {\n            this._popup.toggle();\n        },\n\n        enable: function(enable, items) {\n            var that = this;\n\n            if (!items || !items.length) {\n                items = that.items();\n            } else {\n                items = that.list.find(items);\n            }\n\n            items.toggleClass(DISABLEDSTATE, !enable);\n\n            if (enable) {\n                items.removeAttr(ARIA_DISABLED);\n            } else {\n                items.attr(ARIA_DISABLED, !enable);\n            }\n        },\n\n\n        _hide: function(hidden, items) {\n            var that = this;\n\n            if (!items || !items.length) {\n                items = that.items();\n            } else {\n                items = that.list.find(items);\n            }\n\n            items.toggleClass(HIDDEN, hidden);\n        },\n\n        hide: function(items) {\n            this._hide(true, items);\n        },\n\n        show: function(items) {\n            this._hide(false, items);\n        },\n\n        close: function() {\n            this._popup.close();\n        },\n\n        items: function() {\n            return this.list.children(DOT + cssClasses.menuItem);\n        },\n\n        destroyPopup: function() {\n            var that = this;\n\n            if (that._popup) {\n                that._popup.destroy();\n                that._popup = null;\n\n                that.list.off(NS);\n                that.list.remove();\n                that.list = null;\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            delete that._clickHandlers;\n\n            that.destroyPopup();\n            that.mainButton.off(NS);\n            Widget.fn.destroy.call(that);\n        }\n    });\n\n    kendo.cssProperties.registerPrefix(\"ButtonMenu\", \"k-menu-group-\");\n\n    ui.plugin(ButtonMenu);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == \"function\" && define.amd ? define : function(a1, a2, a3) {\n    (a3 || a2)();\n});\n(function(f, define) {\n    define('kendo.splitbutton',[\"kendo.html.button\", \"kendo.button.menu\"], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"splitbutton\",\n    name: \"SplitButton\",\n    category: \"web\",\n    description: \"The SplitButton allows the user to execute a default action which is bound to a Button or to choose a predefined action from a drop-down list.\",\n    depends: [\"button.menu\", \"html.button\"]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        NS = \".kendoSplitButton\",\n        ui = kendo.ui,\n        extend = $.extend,\n        html = kendo.html,\n        outerWidth = kendo._outerWidth,\n        keys = kendo.keys,\n\n        DOT = \".\",\n        ID = \"id\",\n\n        ARIA_HASPOPUP = \"aria-haspopup\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_CONTROLS = \"aria-controls\",\n        ARIA_LABEL = \"aria-label\",\n        ARIA_EXPANDED = \"aria-expanded\",\n\n        DISABLED = \"disabled\",\n        DISABLEDSTATE = \"k-disabled\",\n        FOCUSSTATE = \"k-focus\",\n\n        CLICK = \"click\",\n        KEYDOWN = \"keydown\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n\n        FOCUS = \"focus\",\n        BLUR = \"blur\";\n\n    var cssClasses = {\n        widget: \"k-split-button k-button-group\"\n    };\n\n    var SplitButton = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            options.enabled = options.enabled !== false && !$(element).prop(DISABLED);\n            Widget.fn.init.call(that, element, options);\n\n            that._wrapper();\n            that._renderButtons();\n            that._renderMenu();\n\n            that._enable(that.options.enabled);\n\n            that._aria();\n\n            that._attachEvents();\n\n            kendo.notify(that);\n\n            that._applyCssClasses();\n        },\n\n        options: {\n            name: \"SplitButton\",\n            enabled: true,\n            items: [],\n            rounded: \"medium\",\n            size: \"medium\",\n            fillMode: \"solid\",\n            themeColor: \"base\",\n            icon: null,\n            popup: null,\n            arrowIcon: \"arrow-s\",\n            messages: {\n                labelSuffix: \"splitbutton\"\n            }\n        },\n\n        events: [\n            CLICK,\n            OPEN,\n            CLOSE\n        ],\n\n        _wrapper: function() {\n            var that = this,\n                id = that.element.attr(ID) || kendo.guid(),\n                wrapperId = id + \"_wrapper\";\n\n            that.wrapper = that.element\n                .wrap(\"<div id=\\\"\" + wrapperId + \"\\\" class=\\\"\" + cssClasses.widget + \"\\\"></div>\")\n                .parent(\".k-split-button\");\n\n            that.arrowButton = $(\"<button tabindex=\\\"-1\\\" aria-label=\\\"arrow-button\\\" class=\\\"k-split-button-arrow\\\"></button>\").appendTo(that.wrapper);\n        },\n\n        _applyCssClasses: function() {\n            var that = this;\n\n            that.wrapper.addClass(that._getAppearanceClasses());\n        },\n\n        _clearCssClasses: function() {\n            var that = this;\n\n            that.wrapper.removeClass(that._getAppearanceClasses());\n        },\n\n        _getAppearanceClasses: function() {\n            var that = this,\n                widgetName = that.__proto__.options.name,\n                roundedClass = kendo.cssProperties.getValidClass({\n                    widget: widgetName,\n                    propName: \"rounded\",\n                    value: that.options.rounded\n                });\n\n            return roundedClass;\n        },\n\n        _renderButtons: function() {\n            var that = this;\n\n            that._mainButton();\n            that._arrowButton();\n        },\n\n        _mainButton: function() {\n            var that = this,\n                options = extend({}, that.options, {\n                    type: that.element.attr(\"type\") || \"button\"\n                });\n\n            delete options.click;\n\n            html.renderButton(that.element, options);\n        },\n\n        _arrowButton: function() {\n            var that = this,\n                options = extend({}, that.options, {\n                    type: \"button\",\n                    icon: that.options.arrowIcon,\n                });\n\n            delete options.text;\n            delete options.imageUrl;\n            delete options.click;\n\n            html.renderButton(that.arrowButton, options);\n        },\n\n        _aria: function() {\n            var that = this,\n                element = that.element,\n                menu = that.menu;\n\n            element.attr(ARIA_HASPOPUP, menu ? \"menu\" : null);\n            element.attr(ARIA_EXPANDED, menu ? false : null);\n            element.attr(ARIA_CONTROLS, menu ? menu.list.attr(ID) : null);\n\n            if (!element.attr(ARIA_LABEL)) {\n                element.attr(ARIA_LABEL, element.text() + \" \" + that.options.messages.labelSuffix);\n            }\n        },\n\n        _renderMenu: function() {\n            var that = this,\n                options = extend({}, that.options),\n                menu = $(\"<div></div>\");\n\n            delete options.click;\n            delete options.name;\n\n            if (!options.items.length) {\n                return;\n            }\n\n            that.menu = menu.appendTo(that.wrapper).kendoButtonMenu(extend({\n                mainButton: that.element,\n                toggleTarget: that.arrowButton,\n                menuOpen: that.menuOpenHandler.bind(that),\n                menuClose: that.menuCloseHandler.bind(that),\n                menuClick: that._click.bind(that)\n            }, options)).data(\"kendoButtonMenu\");\n        },\n\n        menuOpenHandler: function(ev) {\n            var that = this,\n                computedWidth = outerWidth(that.wrapper);\n\n            var isDefaultPrevented = that.trigger(OPEN, { target: that.element });\n            if (isDefaultPrevented) {\n                ev.preventDefault();\n                return;\n            }\n\n            ev.sender.adjustPopupWidth(computedWidth);\n            that.element.attr(ARIA_EXPANDED, true);\n        },\n\n        menuCloseHandler: function(ev) {\n            var that = this,\n                isDefaultPrevented = that.trigger(CLOSE, { target: that.element });\n\n            if (isDefaultPrevented) {\n                ev.preventDefault();\n                return;\n            }\n\n            that.element.attr(ARIA_EXPANDED, false);\n            that.element.trigger(FOCUS);\n        },\n\n        _attachEvents: function() {\n            var that = this;\n\n            that.element.on(CLICK + NS, that._click.bind(that));\n            that.element.on(KEYDOWN + NS, that._keydown.bind(that));\n            that.element.on(FOCUS + NS, that._focus.bind(that));\n            that.element.on(BLUR + NS, that._blur.bind(that));\n        },\n\n        _focus: function() {\n            this.wrapper.addClass(FOCUSSTATE);\n        },\n\n        _blur: function() {\n            this.wrapper.removeClass(FOCUSSTATE);\n        },\n\n        _click: function(ev) {\n            var that = this,\n                target = $(ev.target).closest(\".k-button\"),\n                id = target.attr(ID),\n                originalEvent = ev;\n\n            if (ev.type === \"menu-click\") {\n                id = ev.id;\n                target = ev.target;\n                originalEvent = ev.originalEvent;\n            }\n\n            that.menu.close();\n\n            that.trigger(CLICK, { id: id, target: target, originalEvent: originalEvent });\n        },\n\n        _keydown: function(ev) {\n            var that = this;\n\n            if (that.element.is(DOT + DISABLEDSTATE) && (ev.keyCode === keys.ENTER || ev.keyCode === keys.SPACEBAR)) {\n                ev.preventDefault();\n            }\n        },\n\n        focus: function() {\n            var that = this;\n            that.element.trigger(FOCUS);\n        },\n\n        _enable: function(enable, soft) {\n            this.element.add(this.arrowButton)\n                .toggleClass(DISABLEDSTATE, !enable);\n\n            if (enable) {\n                this.element.removeAttr(ARIA_DISABLED);\n            } else {\n                this.element.attr(ARIA_DISABLED, !enable);\n            }\n\n            if (!soft) {\n                this.element.attr(DISABLED, !enable);\n            }\n\n            this.arrowButton.attr(DISABLED, !enable);\n        },\n\n        enable: function(enable, menuItem, soft) {\n            var that = this;\n\n            if (enable === undefined) {\n                enable = true;\n            }\n\n            if (menuItem && menuItem.length) {\n                that.menu.enable(enable, menuItem);\n                return;\n            }\n\n            that.options.enabled = enable;\n\n            that._enable(enable, soft);\n            that.menu.enable(enable);\n        },\n\n        hide: function(menuItem) {\n            var that = this;\n\n            if (menuItem && menuItem.length) {\n                that.menu.hide(menuItem);\n            }\n        },\n\n        show: function(menuItem) {\n            var that = this;\n\n            if (menuItem && menuItem.length) {\n                that.menu.show(menuItem);\n            }\n        },\n\n        open: function() {\n            this.menu._popup.open();\n        },\n\n        close: function() {\n            this.menu._popup.close();\n        },\n\n        items: function() {\n            return this.menu.items();\n        },\n\n        setOptions: function(options) {\n            var that = this;\n\n            Widget.fn.setOptions.call(that, options);\n\n            if (options.popup || options.items || options.size) {\n                that.menu.destroy();\n                that._renderMenu();\n            }\n\n            that._renderButtons();\n\n            that._aria();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.menu.destroy();\n\n            that.element.off(NS);\n\n            Widget.fn.destroy.call(that);\n        }\n    });\n\n    kendo.cssProperties.registerPrefix(\"SplitButton\", \"k-splitbutton-\");\n\n    kendo.cssProperties.registerValues(\"SplitButton\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([[\"full\", \"full\"]])\n    }]);\n\n    ui.plugin(SplitButton);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == \"function\" && define.amd ? define : function(a1, a2, a3) {\n    (a3 || a2)();\n});\n(function(f, define) {\n    define('kendo.dropdownbutton',[\"kendo.html.button\", \"kendo.button.menu\"], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"dropdownbutton\",\n    name: \"DropDownButton\",\n    category: \"web\",\n    description: \"The DropDownButton allows the user to execute an action from a drop-down list.\",\n    depends: [\"button.menu\", \"html.button\"]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        NS = \".kendoDropDownButton\",\n        ui = kendo.ui,\n        keys = kendo.keys,\n        extend = $.extend,\n        html = kendo.html,\n        outerWidth = kendo._outerWidth,\n\n        DOT = \".\",\n        ID = \"id\",\n\n        ARIA_HASPOPUP = \"aria-haspopup\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_CONTROLS = \"aria-controls\",\n        ARIA_LABEL = \"aria-label\",\n        ARIA_EXPANDED = \"aria-expanded\",\n\n        DISABLED = \"disabled\",\n        DISABLEDSTATE = \"k-disabled\",\n\n        CLICK = \"click\",\n        KEYDOWN = \"keydown\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n\n        FOCUS = \"focus\";\n\n    var cssClasses = {\n        menuButton: \"k-menu-button\"\n    };\n\n    var DropDownButton = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            options.enabled = options.enabled !== false && !$(element).prop(DISABLED);\n            Widget.fn.init.call(that, element, options);\n\n            that.wrapper = that.element;\n\n            that._mainButton();\n            that._renderMenu();\n\n            that._enable(that.options.enabled);\n\n            that._aria();\n\n            that._attachEvents();\n\n            kendo.notify(that);\n\n            that._applyCssClasses();\n        },\n\n        options: {\n            name: \"DropDownButton\",\n            enabled: true,\n            items: [],\n            rounded: \"medium\",\n            size: \"medium\",\n            fillMode: \"solid\",\n            themeColor: \"base\",\n            icon: null,\n            popup: null,\n            messages: {\n                labelSuffix: \"dropdownbutton\"\n            }\n        },\n\n        events: [\n            CLICK,\n            OPEN,\n            CLOSE\n        ],\n\n        _mainButton: function() {\n            var that = this,\n                options = extend({}, that.options, {\n                    type: that.element.attr(\"type\") || \"button\"\n                });\n\n            delete options.click;\n\n            that.element.addClass(cssClasses.menuButton);\n\n            html.renderButton(that.element, options);\n        },\n\n        _aria: function() {\n            var that = this,\n                element = that.element,\n                menu = that.menu;\n\n            element.attr(ARIA_HASPOPUP, menu ? \"menu\" : null);\n            element.attr(ARIA_EXPANDED, menu ? false : null);\n            element.attr(ARIA_CONTROLS, menu ? menu.list.attr(ID) : null);\n\n            if (!element.attr(ARIA_LABEL)) {\n                element.attr(ARIA_LABEL, element.text() + \" \" + that.options.messages.labelSuffix);\n            }\n        },\n\n        _renderMenu: function() {\n            var that = this,\n                options = extend({}, that.options),\n                menu = $(\"<div></div>\");\n\n            delete options.click;\n            delete options.name;\n\n            if (!options.items.length) {\n                return;\n            }\n\n            that.menu = menu.appendTo(document.body).kendoButtonMenu(extend({\n                mainButton: that.element,\n                toggleTarget: that.element,\n                menuOpen: that.menuOpenHandler.bind(that),\n                menuClose: that.menuCloseHandler.bind(that),\n                menuClick: that._click.bind(that)\n            }, options)).data(\"kendoButtonMenu\");\n        },\n\n        menuOpenHandler: function(ev) {\n            var that = this,\n                computedWidth = outerWidth(that.element);\n\n            var isDefaultPrevented = that.trigger(OPEN, { target: that.element });\n            if (isDefaultPrevented) {\n                ev.preventDefault();\n                return;\n            }\n\n            ev.sender.adjustPopupWidth(computedWidth);\n            that.element.attr(ARIA_EXPANDED, true);\n        },\n\n        menuCloseHandler: function(ev) {\n            var that = this,\n                isDefaultPrevented = that.trigger(CLOSE, { target: that.element });\n\n            if (isDefaultPrevented) {\n                ev.preventDefault();\n                return;\n            }\n\n            that.element.attr(ARIA_EXPANDED, false);\n            that.element.trigger(FOCUS);\n        },\n\n        _attachEvents: function() {\n            var that = this;\n\n            that.element.on(KEYDOWN + NS, that._keydown.bind(that));\n        },\n\n        _click: function(ev) {\n            var that = this,\n                id = ev.id,\n                target = ev.target,\n                originalEvent = ev.originalEvent;\n\n            that.menu.close();\n\n            that.trigger(CLICK, { id: id, target: target, originalEvent: originalEvent });\n        },\n\n        _keydown: function(ev) {\n            var that = this;\n\n            if (that.element.is(DOT + DISABLEDSTATE) && (ev.keyCode === keys.ENTER || ev.keyCode === keys.SPACEBAR)) {\n                ev.preventDefault();\n            }\n        },\n\n        focus: function() {\n            var that = this;\n            that.element.trigger(FOCUS);\n        },\n\n        _enable: function(enable, soft) {\n            this.element\n                .toggleClass(DISABLEDSTATE, !enable);\n\n            if (enable) {\n                this.element.removeAttr(ARIA_DISABLED);\n            } else {\n                this.element.attr(ARIA_DISABLED, !enable);\n            }\n\n            if (!soft) {\n                this.element.attr(DISABLED, !enable);\n            }\n        },\n\n        enable: function(enable, menuItem, soft) {\n            var that = this;\n\n            if (enable === undefined) {\n                enable = true;\n            }\n\n            if (menuItem && menuItem.length) {\n                that.menu.enable(enable, menuItem);\n                return;\n            }\n\n            that.options.enabled = enable;\n\n            that._enable(enable, soft);\n            that.menu.enable(enable);\n        },\n\n        hide: function(menuItem) {\n            var that = this;\n\n            if (menuItem && menuItem.length) {\n                that.menu.hide(menuItem);\n            }\n        },\n\n        show: function(menuItem) {\n            var that = this;\n\n            if (menuItem && menuItem.length) {\n                that.menu.show(menuItem);\n            }\n        },\n\n        open: function() {\n            this.menu._popup.open();\n        },\n\n        close: function() {\n            this.menu._popup.close();\n        },\n\n        items: function() {\n            return this.menu.items();\n        },\n\n        setOptions: function(options) {\n            var that = this;\n\n            Widget.fn.setOptions.call(that, options);\n\n            if (options.popup || options.items || options.size) {\n                that.menu.destroy();\n                that._renderMenu();\n            }\n\n            that._mainButton();\n\n            that._aria();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.menu.destroy();\n\n            that.element.off(NS);\n\n            Widget.fn.destroy.call(that);\n        }\n    });\n\n    ui.plugin(DropDownButton);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == \"function\" && define.amd ? define : function(a1, a2, a3) {\n    (a3 || a2)();\n});\n(function(f, define) {\n    define('kendo.toolbar',[ \"kendo.core\", \"kendo.userevents\", \"kendo.popup\", \"kendo.html.button\", \"kendo.splitbutton\", \"kendo.dropdownbutton\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"toolbar\",\n    name: \"ToolBar\",\n    category: \"web\",\n    description: \"The ToolBar widget displays one or more command buttons divided into groups.\",\n    depends: [ \"core\", \"html.button\", \"splitbutton\", \"dropdownbutton\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Class = kendo.Class,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        isFunction = kendo.isFunction,\n        keys = kendo.keys,\n        outerWidth = kendo._outerWidth,\n        ns = \".kendoToolBar\",\n        TOOLBAR = \"k-toolbar\",\n        KBUTTON = \"k-button\",\n        OVERFLOW_BUTTON = \"k-overflow-button\",\n        TOGGLE_BUTTON = \"k-toggle-button\",\n        BUTTON_GROUP = \"k-button-group\",\n        SPLIT_BUTTON = \"k-split-button\",\n        MENU_BUTTON = \"k-menu-button\",\n        KSEPARATOR = \"k-separator\",\n        SPACER_CLASS = \"k-spacer\",\n        POPUP = \"k-popup\",\n        RESIZABLE_TOOLBAR = \"k-toolbar-resizable\",\n        STATE_SELECTED = \"k-selected\",\n        STATE_DISABLED = \"k-disabled\",\n        STATE_HIDDEN = \"k-hidden\",\n        FORCE_HIDDEN = \"k-force-hidden\",\n        GROUP_START = \"k-group-start\",\n        GROUP_END = \"k-group-end\",\n        MENU_LINK = \"k-menu-link\",\n        MENU_ITEM = \"k-menu-item\",\n        OVERFLOW_GROUP = \"k-overflow-group\",\n        OVERFLOW_HIDDEN = \"k-overflow-hidden\",\n        OVERFLOW_ANCHOR = \"k-overflow-anchor\",\n        OVERFLOW_CONTAINER = \"k-overflow-container\",\n        OVERFLOW_WRAPPER = \"k-overflow-wrapper\",\n        FIRST_TOOLBAR_VISIBLE = \"k-toolbar-first-visible\",\n        LAST_TOOLBAR_VISIBLE = \"k-toolbar-last-visible\",\n        SPLIT_BUTTON_ARROW = \"k-split-button-arrow\",\n        TEMPLATE_ITEM = \"k-toolbar-item\",\n        DROPDOWNLIST = \"k-dropdownlist\",\n        COLORPICKER = \"k-colorpicker\",\n        INPUT_BUTTON = \"k-input-button\",\n        KFOCUS = \"k-focus\",\n\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_PRESSED = \"aria-pressed\",\n        ARIA_LEBEL = \"aria-label\",\n\n        CLICK = \"click\",\n        TOGGLE = \"toggle\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        FOCUS = \"focus\",\n        KEYDOWN = \"keydown\",\n        TAP = \"tap\",\n\n        SPACER = \"spacer\",\n        BOTH = \"both\",\n        PRIMARY = \"primary\",\n        HREF = \"href\",\n        ROLE = \"role\",\n        BUTTON = \"button\",\n        SPLITBUTTON = \"splitButton\",\n        DROPDOWNBUTTON = \"dropDownButton\",\n        SEPARATOR = \"separator\",\n        OVERFLOW = \"overflow\",\n        NEXT = \"next\",\n        PREV = \"prev\",\n        TABINDEX = \"tabindex\",\n        TEMPLATE = \"template\",\n        INPUT = \"input\",\n        SELECT = \"select\",\n        CHECKBOX = \"checkbox\",\n        HIDDEN = \"hidden\",\n        GROUP = \"group\",\n\n        KENDO_FOCUSABLE = \":kendoFocusable\",\n\n        OVERFLOW_OPEN = \"overflowOpen\",\n        OVERFLOW_CLOSE = \"overflowClose\",\n        OVERFLOW_NEVER = \"never\",\n        OVERFLOW_AUTO = \"auto\",\n        OVERFLOW_ALWAYS = \"always\",\n\n        OPTION_LIST_SUFFIX = \"_optionlist\",\n\n        KENDO_UID_ATTR = kendo.attr(\"uid\"),\n\n        POPUP_ITEM_TEMPLATE = '<li class=\"k-menu-item k-item\">',\n\n        MENU_LINK_SPAN = '<span tabindex=\"0\" class=\"k-link k-menu-link\">' +\n                '<span class=\"k-menu-link-text\">#:text#</span>' +\n            '</span>',\n\n        MENU_LINK_A = '<a href=\"#:href#\" class=\"k-link k-menu-link\">' +\n                '<span class=\"k-menu-link-text\">#:text#</span>' +\n            '</a>',\n\n        EMPTY = \" \",\n        NOTHING = \"\",\n        TEXT_ITEM = \"textItem\",\n        DOT = \".\",\n        COMMA = \",\",\n        ID = \"id\",\n        UID = \"uid\";\n\n        kendo.toolbar = {};\n\n        var components = {\n            overflowAnchor: '<div tabindex=\"0\" class=\"k-overflow-anchor k-button k-button-md k-rounded-md k-button-flat k-button-flat-base\" title=\"More tools\" role=\"button\"></div>',\n            overflowContainer: '<ul class=\"k-overflow-container k-list-container\"></ul>'\n        };\n\n        kendo.toolbar.registerComponent = function(name, toolbar, overflow) {\n            components[name] = {\n                toolbar: toolbar,\n                overflow: overflow\n            };\n        };\n\n        var Item = kendo.Class.extend({\n            addOverflowAttr: function() {\n                this.element.attr(kendo.attr(OVERFLOW), this.options.overflow || OVERFLOW_AUTO);\n            },\n\n            addUidAttr: function() {\n                this.element.attr(KENDO_UID_ATTR, this.options.uid);\n            },\n\n            addIdAttr: function() {\n                if (this.options.id) {\n                    this.element.attr(ID, this.options.id);\n                }\n            },\n\n            addOverflowIdAttr: function() {\n                if (this.options.id) {\n                    this.element.attr(ID, this.options.id + \"_overflow\");\n                }\n            },\n\n            attributes: function() {\n                var attributes = this.options.attributes,\n                    classes;\n\n                if (attributes) {\n                    if (attributes.class) {\n                        classes = attributes.class;\n\n                        this.element.addClass(classes);\n\n                        delete attributes.class;\n                    }\n\n                    this.element.attr(attributes);\n\n                    attributes.class = classes;\n                }\n            },\n\n            show: function() {\n                this.element.removeClass(STATE_HIDDEN);\n                this.element.removeClass(FORCE_HIDDEN);\n                this.options.hidden = false;\n            },\n\n            hide: function() {\n                this.element.addClass(STATE_HIDDEN);\n                this.element.addClass(FORCE_HIDDEN);\n\n                if (this.overflow && this.overflowHidden) {\n                    this.overflowHidden();\n                }\n                this.options.hidden = true;\n            },\n\n            remove: function() {\n                this.element.remove();\n            },\n\n            enable: function(isEnabled) {\n                if (isEnabled === undefined) {\n                    isEnabled = true;\n                }\n                this.element.toggleClass(STATE_DISABLED, !isEnabled);\n                this.element.attr(ARIA_DISABLED, !isEnabled);\n\n                this.options.enable = isEnabled;\n            },\n\n            twin: function() {\n                var uid = this.element.attr(KENDO_UID_ATTR);\n                if (this.overflow && this.options.splitContainerId) {\n                    return $(\"#\" + this.options.splitContainerId)\n                            .find(\"[\" + KENDO_UID_ATTR + \"='\" + uid + \"']\")\n                            .data(this.options.type);\n                } else if (this.overflow) {\n                    return this.toolbar\n                            .element\n                            .find(\"[\" + KENDO_UID_ATTR + \"='\" + uid + \"']\")\n                            .data(this.options.type);\n                } else if (this.toolbar.options.resizable) {\n                    return this.toolbar\n                            .popup.element\n                            .find(\"[\" + KENDO_UID_ATTR + \"='\" + uid + \"']\")\n                            .data(this.options.type);\n                }\n            }\n        });\n\n        kendo.toolbar.Item = Item;\n\n        var BareItem = Item.extend({\n            init: function(options, toolbar) {\n                this.options = $.extend({}, this.options, options);\n                this.toolbar = toolbar;\n            }\n        });\n\n        kendo.toolbar.BareItem = BareItem;\n\n        var Button = Item.extend({\n            init: function(options, toolbar) {\n                var element = options.useButtonTag ? $('<button></button>') : $('<a role=\"button\" href></a>');\n\n                this.element = element;\n                this.options = $.extend({}, this.options, options);\n                this.toolbar = toolbar;\n\n                this.attributes();\n\n                if (options.primary) {\n                    this.options.themeColor = PRIMARY;\n                }\n\n                if (options.togglable) {\n                    element.addClass(TOGGLE_BUTTON);\n                    this.toggle(options.selected);\n                }\n\n                if (options.url !== undefined && !options.useButtonTag) {\n                    element.attr(HREF, options.url);\n                    if (options.mobile) {\n                        element.attr(kendo.attr(ROLE), BUTTON);\n                    }\n                }\n\n                if (options.group) {\n                    element.attr(kendo.attr(GROUP), options.group);\n                    this.group = this.toolbar.addToGroup(this, options.group);\n                }\n\n                if (!options.togglable && options.click && isFunction(options.click)) {\n                    this.clickHandler = options.click;\n                }\n\n                if (options.togglable && options.toggle && isFunction(options.toggle)) {\n                    this.toggleHandler = options.toggle;\n                }\n            },\n\n            options: {\n                showIcon: BOTH,\n                showText: BOTH\n            },\n\n            toggle: function(state, propagate) {\n                state = !!state;\n\n                if (this.group && state) {\n                    this.group.select(this);\n                } else if (!this.group) {\n                    this.select(state);\n                }\n\n                if (propagate && this.twin()) {\n                    this.twin().toggle(state);\n                }\n            },\n\n            getParentGroup: function() {\n                if (this.options.isChild) {\n                    return this.element.closest(DOT + BUTTON_GROUP).data(\"buttonGroup\");\n                }\n            }\n        });\n\n        kendo.toolbar.Button = Button;\n\n        var ToolBarButton = Button.extend({\n            init: function(options, toolbar) {\n                Button.fn.init.call(this, options, toolbar);\n\n                var element = this.element;\n                options = this.options;\n\n                element.addClass(KBUTTON);\n\n                this.addIdAttr();\n\n                if (options.align) {\n                    element.addClass(\"k-align-\" + options.align);\n                }\n\n                if (!!options.text && (options.showText == \"toolbar\" || options.showText == BOTH)) {\n                    if (options.mobile) {\n                        element.html('<span class=\"km-text\">' + options.text + \"</span>\");\n                    } else {\n                        element.html(options.text);\n                    }\n                } else if (!!options.text) {\n                    element.attr(ARIA_LEBEL, options.text);\n                }\n\n                if (options.icon || options.spriteCssClass || options.imageUrl) {\n                    if (options.showIcon !== \"toolbar\" && options.showIcon !== BOTH) {\n                        options.icon = null;\n                        options.spriteCssClass = null;\n                        options.imageUrl = null;\n                    }\n                }\n\n                kendo.html.renderButton(element, options);\n\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.enable(options.enable);\n\n                if (options.hidden) {\n                    this.hide();\n                }\n\n                this.element.data({\n                    type: BUTTON,\n                    button: this\n                });\n            },\n\n            select: function(selected) {\n                if (selected === undefined) {\n                    selected = false;\n                }\n\n                if (this.options.togglable) {\n                    this.element.attr(ARIA_PRESSED, selected);\n                }\n\n                this.element.toggleClass(STATE_SELECTED, selected);\n                this.options.selected = selected;\n            }\n        });\n\n        kendo.toolbar.ToolBarButton = ToolBarButton;\n\n        var OverflowButton = Button.extend({\n            init: function(options, toolbar) {\n                this.overflow = true;\n\n                Button.fn.init.call(this, $.extend({}, options), toolbar);\n\n                var element = this.element;\n                options = this.options;\n\n                if (!!options.text && (options.showText == OVERFLOW || options.showText == BOTH)) {\n                    if (options.mobile) {\n                        element.html('<span class=\"km-text\">' + options.text + \"</span>\");\n                    } else {\n                        element.html(options.text);\n                    }\n                } else if (!!options.text) {\n                    element.attr(ARIA_LEBEL, options.text);\n                }\n\n                if (options.icon || options.spriteCssClass || options.imageUrl) {\n                    if (options.showIcon !== OVERFLOW && options.showIcon !== BOTH) {\n                        options.icon = null;\n                        options.spriteCssClass = null;\n                        options.imageUrl = null;\n                    }\n                }\n\n                kendo.html.renderButton(element, options);\n\n                if (!options.isChild) {\n                    this._wrap();\n                }\n\n                this.addOverflowIdAttr();\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.enable(options.enable);\n\n                element.addClass(OVERFLOW_BUTTON + EMPTY + KBUTTON);\n\n                if (options.hidden) {\n                    this.hide();\n                }\n\n                if (options.togglable) {\n                    this.toggle(options.selected);\n                }\n\n                this.element.data({\n                    type: BUTTON,\n                    button: this\n                });\n            },\n\n            _wrap: function() {\n                this.element = this.element.wrap(POPUP_ITEM_TEMPLATE).parent();\n            },\n\n            overflowHidden: function() {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            },\n\n            select: function(selected) {\n                if (selected === undefined) {\n                    selected = false;\n                }\n\n                if (this.options.isChild) {\n                    this.element.toggleClass(STATE_SELECTED, selected);\n                } else {\n                    this.element.find(DOT + KBUTTON).toggleClass(STATE_SELECTED, selected);\n                }\n                this.options.selected = selected;\n            }\n        });\n\n        kendo.toolbar.OverflowButton = OverflowButton;\n        kendo.toolbar.registerComponent(BUTTON, ToolBarButton, OverflowButton);\n\n        var ButtonGroup = Item.extend({\n            createButtons: function(buttonConstructor) {\n                var options = this.options;\n                var items = options.buttons || [];\n                var item;\n\n                for (var i = 0; i < items.length; i++) {\n                    if (!items[i].uid) {\n                        items[i].uid = kendo.guid();\n                    }\n                    item = new buttonConstructor($.extend({ mobile: options.mobile, isChild: true, type: BUTTON }, items[i]), this.toolbar);\n                    item.element.appendTo(this.element);\n                }\n            },\n\n            refresh: function() {\n                this.element.children().filter(\":not('.\" + STATE_HIDDEN + \"')\").first().addClass(GROUP_START);\n                this.element.children().filter(\":not('.\" + STATE_HIDDEN + \"')\").last().addClass(GROUP_END);\n            }\n        });\n\n        kendo.toolbar.ButtonGroup = ButtonGroup;\n\n        var ToolBarButtonGroup = ButtonGroup.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<div></div>');\n                this.options = options;\n                this.toolbar = toolbar;\n\n                this.addIdAttr();\n\n                if (options.align) {\n                    element.addClass(\"k-align-\" + options.align);\n                }\n\n                this.createButtons(ToolBarButton);\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.refresh();\n\n                element.addClass(BUTTON_GROUP);\n\n                if (options.hidden) {\n                    this.hide();\n                }\n\n                this.element.data({\n                    type: \"buttonGroup\",\n                    buttonGroup: this\n                });\n            }\n        });\n\n        kendo.toolbar.ToolBarButtonGroup = ToolBarButtonGroup;\n\n        var OverflowButtonGroup = ButtonGroup.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<li></li>');\n                this.options = options;\n                this.toolbar = toolbar;\n                this.overflow = true;\n\n                this.addOverflowIdAttr();\n\n                this.createButtons(OverflowButton);\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.refresh();\n\n                element.addClass((options.mobile ? NOTHING : BUTTON_GROUP) + EMPTY + OVERFLOW_GROUP);\n\n                this.element.data({\n                    type: \"buttonGroup\",\n                    buttonGroup: this\n                });\n            },\n\n            overflowHidden: function() {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n\n        kendo.toolbar.OverflowButtonGroup = OverflowButtonGroup;\n        kendo.toolbar.registerComponent(\"buttonGroup\", ToolBarButtonGroup, OverflowButtonGroup);\n\n        var ToolBarMenuButton = ToolBarButton.extend({\n            init: function(options, toolbar) {\n                var element, img, span;\n\n                options = this.options = $.extend({}, this.options, options);\n\n                if (options.url !== undefined) {\n                    element = $(kendo.template(MENU_LINK_A)({\n                        href: options.url,\n                        text: options.text\n                    }));\n                } else {\n                    element = $(kendo.template(MENU_LINK_SPAN)({\n                        text: options.text\n                    }));\n                }\n\n                this.element = element;\n                this.toolbar = toolbar;\n\n                if (options.click && isFunction(options.click)) {\n                    this.clickHandler = options.click;\n                }\n\n                if (options.togglable && options.toggle && isFunction(options.toggle)) {\n                    this.toggleHandler = options.toggle;\n                }\n\n                if (options.imageUrl) {\n                    img = $('<img alt=\"icon\" class=\"k-image\" />').prependTo(element);\n                    img.attr(\"src\", options.imageUrl);\n                } else if (options.icon) {\n                    span = $('<span></span>').prependTo(element);\n                    span.attr(\"class\", \"k-icon k-i-\" + options.icon);\n                } else if (options.spriteCssClass) {\n                    span = $('<span class=\"k-sprite\"></span>').prependTo(element);\n                    span.addClass(options.spriteCssClass);\n                }\n\n                this.addIdAttr();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.attributes();\n                this.enable(options.enable);\n\n                if (options.group) {\n                    element.attr(kendo.attr(GROUP), options.group);\n                    this.group = this.toolbar.addToGroup(this, options.group);\n                }\n\n                if (options.hidden) {\n                    this.hide();\n                }\n\n                this.element.data({\n                    type: BUTTON,\n                    button: this\n                });\n            }\n        });\n\n        kendo.toolbar.ToolBarMenuButton = ToolBarMenuButton;\n\n        var ToolBarSplitButton = Item.extend({\n            init: function(options, toolbar) {\n                var that = this;\n\n                that.options = $.extend({\n                    id: options.id || options.uid,\n                    enable: true\n                }, options, {\n                    togglable: false // disable togglable for splitbutton\n                });\n\n                if (options.primary) {\n                    that.options.themeColor = PRIMARY;\n                }\n\n                if (options.showIcon === OVERFLOW) {\n                    that.options.icon = null;\n                }\n\n                if (options.showText === OVERFLOW) {\n                    that.options.text = \"\";\n                }\n\n                that.toolbar = toolbar;\n\n                that.splitButton = new ui.SplitButton($(\"<button id='\" + that.options.id + \"'>\" + that.options.text + \"</button>\"),\n                                                         $.extend({}, that.options, {\n                                                             items: that._extend(options.menuButtons),\n                                                        }), toolbar.options);\n                that.element = that.splitButton.wrapper;\n\n                that.splitButton.bind(CLICK, toolbar._buttonClick.bind(toolbar));\n                that.splitButton.bind(CLOSE, that._close.bind(that));\n                that.splitButton.bind(OPEN, that._open.bind(that));\n\n                that.splitButton.element.data({\n                    type: SPLITBUTTON,\n                    button: that,\n                    splitButton: that\n                });\n\n                that.splitButton.wrapper.data({\n                    type: SPLITBUTTON,\n                    button: that,\n                    splitButton: that\n                });\n\n                that.addOverflowAttr();\n                that.addUidAttr();\n                that.attributes();\n                that.addMenuAttributes();\n\n                if (that.options.enable === false) {\n                    that.enable(this.options.enable);\n                }\n\n                if (that.options.hidden) {\n                    that.hide();\n                }\n            },\n            _open: function(ev) {\n                var that = this;\n                var isDefaultPrevented = that.toolbar.trigger(OPEN, { target: that.element });\n                if (isDefaultPrevented) {\n                    ev.preventDefault();\n                }\n            },\n            _close: function(ev) {\n                var that = this;\n                var isDefaultPrevented = that.toolbar.trigger(CLOSE, { target: that.element });\n                if (isDefaultPrevented) {\n                    ev.preventDefault();\n                }\n                that.splitButton.element.trigger(FOCUS);\n            },\n            _extend: function(items) {\n                var that = this;\n                return items.map(function(item) {\n                    var itemInstance = new BareItem(item, that.toolbar);\n                    return $.extend({}, item, {\n                        togglable: false,\n                        data: function() {\n                            return {\n                                type: BUTTON,\n                                button: itemInstance,\n                                splitButton: that\n                            };\n                        }\n                    });\n                });\n            },\n            addMenuAttributes: function() {\n                var that = this,\n                    items = that.splitButton.items(),\n                    itemInstance;\n\n                items.each(function(index, item) {\n                    item = $(item);\n                    itemInstance = item.data(BUTTON);\n                    itemInstance.element = item;\n                    itemInstance.options = $.extend({\n                        type: BUTTON,\n                        enable: true\n                    }, itemInstance.options);\n\n                    itemInstance.addOverflowAttr();\n                    itemInstance.addUidAttr();\n                });\n            },\n            remove: function() {\n                var elmToRemove = this.splitButton.wrapper;\n                this.splitButton.destroy();\n                elmToRemove.remove();\n            },\n            enable: function(enable, item) {\n                this.splitButton.enable(enable, item, true);\n\n                if (this.twin()) {\n                    this.twin().enable(enable);\n                }\n            },\n            attributes: function() {\n                var that = this,\n                    mainButton = that.splitButton.element,\n                    attributes = this.options.attributes,\n                    classes;\n\n                if (attributes) {\n                    if (attributes.class) {\n                        classes = attributes.class;\n\n                        mainButton.addClass(classes);\n\n                        delete attributes.class;\n                    }\n\n                    mainButton.attr(attributes);\n\n                    attributes.class = classes;\n                }\n            },\n        });\n\n        kendo.toolbar.ToolBarSplitButton = ToolBarSplitButton;\n\n        var OverflowSplitButton = Item.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<li class=\"' + SPLIT_BUTTON + '\"></li>'),\n                    items = options.menuButtons,\n                    item, splitContainerId;\n\n                this.options = $.extend({}, options, { togglable: false });\n                this.toolbar = toolbar;\n                this.overflow = true;\n                splitContainerId = (options.id || options.uid) + OPTION_LIST_SUFFIX;\n\n                this.mainButton = new OverflowButton($.extend({ isChild: true }, options, { togglable: false }));\n                this.mainButton.element.appendTo(element);\n\n                for (var i = 0; i < items.length; i++) {\n                    item = new OverflowButton($.extend({ mobile: options.mobile, type: BUTTON, splitContainerId: splitContainerId, isChild: true }, items[i], { click: options.click }), this.toolbar);\n                    item.element.appendTo(element);\n                }\n\n                this.addUidAttr();\n                this.addOverflowAttr();\n\n                this.mainButton.main = true;\n\n                if (this.options.enable === false) {\n                    this.enable(this.options.enable);\n                }\n\n                element.data({\n                    type: SPLITBUTTON,\n                    splitButton: this\n                });\n            },\n\n            enable: function(isEnabled) {\n                var elements = this.element.add(this.element.find(DOT + OVERFLOW_BUTTON));\n\n                if (isEnabled === undefined) {\n                    isEnabled = true;\n                }\n\n                elements.toggleClass(STATE_DISABLED, !isEnabled);\n                elements.attr(ARIA_DISABLED, !isEnabled);\n\n                this.options.enable = isEnabled;\n            },\n\n            overflowHidden: function() {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n\n        kendo.toolbar.OverflowSplitButton = OverflowSplitButton;\n        kendo.toolbar.registerComponent(SPLITBUTTON, ToolBarSplitButton, OverflowSplitButton);\n\n        var ToolBarDropDownButton = Item.extend({\n            init: function(options, toolbar) {\n                var that = this;\n\n                that.options = $.extend({\n                    id: options.id || options.uid,\n                    enable: true\n                }, options, {\n                    togglable: false // disable togglable for dropdownbutton\n                });\n\n                if (options.primary) {\n                    that.options.themeColor = PRIMARY;\n                }\n\n                if (options.showIcon === OVERFLOW) {\n                    that.options.icon = null;\n                }\n\n                if (options.showText === OVERFLOW) {\n                    that.options.text = \"\";\n                }\n\n                that.toolbar = toolbar;\n\n                that.dropDownButton = new ui.DropDownButton($(\"<button id='\" + that.options.id + \"'>\" + that.options.text + \"</button>\"),\n                                                         $.extend({}, that.options, {\n                                                             items: that._extend(options.menuButtons)\n                                                        }), toolbar.options);\n                that.element = that.dropDownButton.element;\n\n                that.dropDownButton.bind(CLICK, toolbar._buttonClick.bind(toolbar));\n                that.dropDownButton.bind(CLOSE, that._close.bind(that));\n                that.dropDownButton.bind(OPEN, that._open.bind(that));\n\n                that.dropDownButton.element.data({\n                    type: DROPDOWNBUTTON,\n                    button: that,\n                    dropDownButton: that\n                });\n\n                that.addOverflowAttr();\n                that.addUidAttr();\n                that.attributes();\n                that.addMenuAttributes();\n\n                if (that.options.enable === false) {\n                    that.enable(this.options.enable);\n                }\n\n                if (that.options.hidden) {\n                    that.hide();\n                }\n            },\n            _open: function(ev) {\n                var that = this;\n                var isDefaultPrevented = that.toolbar.trigger(OPEN, { target: that.element });\n                if (isDefaultPrevented) {\n                    ev.preventDefault();\n                }\n            },\n            _close: function(ev) {\n                var that = this;\n                var isDefaultPrevented = that.toolbar.trigger(CLOSE, { target: that.element });\n                if (isDefaultPrevented) {\n                    ev.preventDefault();\n                }\n                that.dropDownButton.element.trigger(FOCUS);\n            },\n            _extend: function(items) {\n                var that = this;\n                return items.map(function(item) {\n                    var itemInstance = new BareItem(item, that.toolbar);\n                    return $.extend({}, item, {\n                        data: function() {\n                            return {\n                                type: BUTTON,\n                                button: itemInstance,\n                                dropDownButton: that\n                            };\n                        }\n                    });\n                });\n            },\n            addMenuAttributes: function() {\n                var that = this,\n                    items = that.dropDownButton.items(),\n                    itemInstance;\n\n                items.each(function(index, item) {\n                    item = $(item);\n                    itemInstance = item.data(BUTTON);\n                    itemInstance.element = item;\n                    itemInstance.options = $.extend({\n                        type: BUTTON,\n                        enable: true\n                    }, itemInstance.options);\n\n                    itemInstance.addOverflowAttr();\n                    itemInstance.addUidAttr();\n                });\n            },\n            remove: function() {\n                var elmToRemove = this.dropDownButton.element;\n                this.dropDownButton.destroy();\n                elmToRemove.remove();\n            },\n            enable: function(enable, item) {\n                this.dropDownButton.enable(enable, item, true);\n\n                if (this.twin()) {\n                    this.twin().enable(enable);\n                }\n            },\n            attributes: function() {\n                var that = this,\n                    mainButton = that.element,\n                    attributes = this.options.attributes,\n                    classes;\n\n                if (attributes) {\n                    if (attributes.class) {\n                        classes = attributes.class;\n\n                        mainButton.addClass(classes);\n\n                        delete attributes.class;\n                    }\n\n                    mainButton.attr(attributes);\n\n                    attributes.class = classes;\n                }\n            },\n        });\n\n        kendo.toolbar.ToolBarSplitButton = ToolBarSplitButton;\n\n        var OverflowTextItem = Item.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<span></span>');\n\n                this.element = element;\n                this.options = options;\n                this.toolbar = toolbar;\n                this.overflow = true;\n\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowIdAttr();\n\n                if (options.icon && (!options.showIcon || options.showIcon !== \"toolbar\")) {\n                    element.append(\"<span class=\\\"k-icon k-i-\" + options.icon + \"\\\"></span>\");\n                }\n\n                if (options.showText !== \"toolbar\") {\n                    element.append(\"<span>\" + this.options.text + \"</span>\");\n                }\n\n                element.data({\n                    type: TEXT_ITEM,\n                    textItem: this\n                });\n            },\n\n            overflowHidden: function() {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n\n        var OverflowDropDownButton = Item.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<li class=\"' + SPLIT_BUTTON + ' ' + MENU_BUTTON + '\"></li>'),\n                    items = options.menuButtons,\n                    item, splitContainerId;\n\n                this.options = $.extend({}, options, { togglable: false });\n                this.toolbar = toolbar;\n                this.overflow = true;\n                splitContainerId = (options.id || options.uid) + OPTION_LIST_SUFFIX;\n\n                this.mainButton = new OverflowTextItem($.extend({ isChild: true }, options, { togglable: false }));\n                this.mainButton.element.appendTo(element);\n\n                for (var i = 0; i < items.length; i++) {\n                    item = new OverflowButton($.extend({ mobile: options.mobile, type: BUTTON, splitContainerId: splitContainerId, isChild: true }, items[i], { click: options.click }), this.toolbar);\n                    item.element.appendTo(element);\n                }\n\n                this.addUidAttr();\n                this.addOverflowAttr();\n\n                this.mainButton.main = true;\n\n                if (this.options.enable === false) {\n                    this.enable(this.options.enable);\n                }\n\n                element.data({\n                    type: DROPDOWNBUTTON,\n                    dropDownButton: this\n                });\n            },\n\n            enable: function(isEnabled) {\n                var elements = this.element.add(this.element.find(DOT + OVERFLOW_BUTTON));\n\n                if (isEnabled === undefined) {\n                    isEnabled = true;\n                }\n\n                elements.toggleClass(STATE_DISABLED, !isEnabled);\n                elements.attr(ARIA_DISABLED, !isEnabled);\n\n                this.options.enable = isEnabled;\n            },\n\n            overflowHidden: function() {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n\n        kendo.toolbar.OverflowSplitButton = OverflowDropDownButton;\n        kendo.toolbar.registerComponent(DROPDOWNBUTTON, ToolBarDropDownButton, OverflowDropDownButton);\n\n        var ToolBarSeparator = Item.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<div>&nbsp;</div>');\n\n                this.element = element;\n                this.options = options;\n                this.toolbar = toolbar;\n\n                this.attributes();\n                this.addIdAttr();\n                this.addUidAttr();\n                this.addOverflowAttr();\n\n                element.addClass(KSEPARATOR);\n                element.attr(ROLE, SEPARATOR);\n\n                element.data({\n                    type: SEPARATOR,\n                    separator: this\n                });\n            }\n        });\n\n        var OverflowSeparator = Item.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<li>&nbsp;</li>');\n\n                this.element = element;\n                this.options = options;\n                this.toolbar = toolbar;\n                this.overflow = true;\n\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowIdAttr();\n\n                element.addClass(KSEPARATOR);\n                element.attr(ROLE, SEPARATOR);\n\n                element.data({\n                    type: SEPARATOR,\n                    separator: this\n                });\n            },\n\n            overflowHidden: function() {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n\n        kendo.toolbar.registerComponent(\"separator\", ToolBarSeparator, OverflowSeparator);\n\n        var ToolBarSpacer = Item.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<div>&nbsp;</div>');\n\n                this.element = element;\n                this.options = options;\n                this.toolbar = toolbar;\n\n                element.addClass(SPACER_CLASS);\n\n                element.data({\n                    type: SPACER\n                });\n                this.addOverflowAttr();\n            }\n        });\n\n        kendo.toolbar.registerComponent(SPACER, ToolBarSpacer);\n\n        var TemplateItem = Item.extend({\n            init: function(template, options, toolbar) {\n                var element = isFunction(template) ? template(options) : template;\n\n                if (!(element instanceof jQuery)) {\n                    element = $(\"<div class='k-toolbar-item' aria-keyshortcuts='Enter'></div>\").html(element);\n                } else {\n                    element = element.wrap(\"<div class='k-toolbar-item' aria-keyshortcuts='Enter'></div>\").parent();\n                }\n\n                this.element = element;\n                this.options = options;\n                this.options.type = options.type || TEMPLATE;\n                this.toolbar = toolbar;\n\n                this.attributes();\n                this.addUidAttr();\n                this.addIdAttr();\n                this.addOverflowAttr();\n\n                if (options.hidden) {\n                    this.hide();\n                }\n\n                element.data({\n                    type: TEMPLATE,\n                    template: this\n                });\n            }\n        });\n\n        kendo.toolbar.TemplateItem = TemplateItem;\n\n        var OverflowTemplateItem = Item.extend({\n            init: function(template, options, toolbar) {\n                var element = isFunction(template) ? $(template(options)) : $(template);\n\n                if (!(element instanceof jQuery)) {\n                    element = $(\"<li></li>\").html(element);\n                } else {\n                    element = element.wrap(\"<li></li>\").parent();\n                }\n\n                this.element = element;\n                this.options = options;\n                this.options.type = TEMPLATE;\n                this.toolbar = toolbar;\n                this.overflow = true;\n\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowIdAttr();\n                this.addOverflowAttr();\n\n                element.data({\n                    type: TEMPLATE,\n                    template: this\n                });\n            },\n\n            overflowHidden: function() {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n\n        kendo.toolbar.OverflowTemplateItem = OverflowTemplateItem;\n\n        function toggleActive(e) {\n            if (!e.target.is(\".k-toggle-button\")) {\n                e.target.toggleClass(STATE_SELECTED, e.type == \"press\");\n            }\n        }\n\n        function actionSheetWrap(element) {\n            element = $(element);\n\n            return element.hasClass(\"km-actionsheet\") ? element.closest(\".km-popup-wrapper\") : element.addClass(\"km-widget km-actionsheet\")\n                             .wrap('<div class=\"km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup\"></div>').parent()\n                             .wrap('<div class=\"km-popup-wrapper k-popup\"></div>').parent();\n        }\n\n        function preventClick(e) {\n            if ($(e.target).closest(\"a.k-button\").length) {\n                e.preventDefault();\n            }\n        }\n\n        function findFocusableSibling(element, dir) {\n            var getSibling = dir === NEXT ? $.fn.next : $.fn.prev;\n            var getter = dir === NEXT ? $.fn.first : $.fn.last;\n            var candidate = getSibling.call(element);\n\n            if (!candidate.length && element.is(DOT + OVERFLOW_ANCHOR)) {\n                return element;\n            }\n\n            if (candidate.is(KENDO_FOCUSABLE) || !candidate.length) {\n                return candidate;\n            }\n\n            if (candidate.find(KENDO_FOCUSABLE).length) {\n                return getter.call(candidate.find(KENDO_FOCUSABLE));\n            }\n\n            return findFocusableSibling(candidate, dir);\n        }\n\n        var Group = Class.extend({\n            init: function(name) {\n                this.name = name;\n                this.buttons = [];\n            },\n\n            add: function(button) {\n                this.buttons[this.buttons.length] = button;\n            },\n\n            remove: function(button) {\n                var index = $.inArray(button, this.buttons);\n                this.buttons.splice(index, 1);\n            },\n\n            select: function(button) {\n                var tmp;\n                for (var i = 0; i < this.buttons.length; i ++) {\n                    tmp = this.buttons[i];\n\n                    tmp.select(false);\n                }\n\n                button.select(true);\n                if (button.twin()) {\n                    button.twin().select(true);\n                }\n            }\n        });\n\n        var ToolBar = Widget.extend({\n            init: function(element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, options);\n\n                options = that.options;\n                element = that.wrapper = that.element;\n\n                element.addClass(TOOLBAR + \" k-widget\");\n                element.attr(ROLE, \"toolbar\");\n\n                this.uid = kendo.guid();\n                this._isRtl = kendo.support.isRtl(element);\n                this._groups = {};\n                element.attr(KENDO_UID_ATTR, this.uid);\n\n                that.isMobile = (typeof options.mobile === \"boolean\") ? options.mobile : that.element.closest(\".km-root\")[0];\n                that.animation = that.isMobile ? { open: { effects: \"fade\" } } : {};\n\n                if (that.isMobile) {\n                    element.addClass(\"km-widget\");\n                    KBUTTON = \"km-button\";\n                    BUTTON_GROUP = \"km-buttongroup\";\n                    STATE_SELECTED = \"km-state-active\";\n                    STATE_DISABLED = \"km-state-disabled\";\n                }\n\n                if (options.resizable) {\n                    that._renderOverflow();\n                    element.addClass(RESIZABLE_TOOLBAR);\n\n                    that.overflowUserEvents = new kendo.UserEvents(that.element, {\n                        threshold: 5,\n                        allowSelection: true,\n                        filter: DOT + OVERFLOW_ANCHOR,\n                        tap: that._toggleOverflow.bind(that)\n                    });\n\n                    that._resizeHandler = kendo.onResize(function() {\n                        that.resize();\n                    });\n                } else {\n                    that.popup = { element: $([]) };\n                }\n\n                if (options.items && options.items.length) {\n                    for (var i = 0; i < options.items.length; i++) {\n                        that.add(options.items[i]);\n                    }\n\n                    if (options.resizable) {\n                        that._shrink(that.element.innerWidth());\n                    }\n                }\n\n                that.userEvents = new kendo.UserEvents(document.documentElement, {\n                    threshold: 5,\n                    allowSelection: true,\n                    filter:\n                        \"[\" + KENDO_UID_ATTR + \"=\" + that.uid + \"] a.\" + KBUTTON + COMMA + EMPTY +\n                        \"[\" + KENDO_UID_ATTR + \"=\" + that.uid + \"] .\" + OVERFLOW_ANCHOR + COMMA + EMPTY +\n                        \"[\" + KENDO_UID_ATTR + \"=\" + that.uid + \"] .\" + SPLIT_BUTTON_ARROW + COMMA + EMPTY +\n                        \"[\" + KENDO_UID_ATTR + \"=\" + that.uid + \"] .\" + TEMPLATE_ITEM + COMMA + EMPTY +\n                        \"[\" + KENDO_UID_ATTR + \"=\" + that.uid + \"] .\" + MENU_BUTTON,\n                    tap: that._buttonClick.bind(that),\n                    press: toggleActive,\n                    release: toggleActive\n                });\n\n                that.element.on(CLICK + ns, \"a.k-button\", preventClick)\n                    .on(KEYDOWN + ns, that._keydown.bind(that))\n                    .on(\"focusin\" + ns, that._focusIn.bind(that))\n                    .on(\"focusout\" + ns, that._focusOut.bind(that));\n\n                if (that.options.resizable) {\n                    that.popup.element.on(CLICK + ns, + \"a.k-button\", preventClick);\n                }\n\n                if (options.resizable) {\n                    that.overflowAnchor.appendTo(that.wrapper);\n                    this._toggleOverflowAnchor();\n                }\n\n                that._tabIndex();\n\n                kendo.notify(that);\n            },\n\n            events: [\n                CLICK,\n                TOGGLE,\n                OPEN,\n                CLOSE,\n                OVERFLOW_OPEN,\n                OVERFLOW_CLOSE\n            ],\n\n            options: {\n                name: \"ToolBar\",\n                items: [],\n                resizable: true,\n                mobile: null,\n                navigateOnTab: false\n            },\n\n            addToGroup: function(button, groupName) {\n                var group;\n\n                if (!this._groups[groupName]) {\n                    group = this._groups[groupName] = new Group();\n                } else {\n                    group = this._groups[groupName];\n                }\n\n                group.add(button);\n                return group;\n            },\n\n            destroy: function() {\n                var that = this;\n\n                that.destroySplitButtons();\n                that.destroyDropDownButtons();\n\n                that.element.off(ns, \"a.k-button\");\n\n                that.userEvents.destroy();\n\n                if (that.options.resizable) {\n                    kendo.unbindResize(that._resizeHandler);\n                    that.overflowUserEvents.destroy();\n                    that.popup.element.off(ns, \"a.k-button\");\n                    that.popup.destroy();\n                }\n\n                Widget.fn.destroy.call(that);\n            },\n\n            destroySplitButtons: function() {\n                var that = this,\n                    splitButtonWrappers = that.element.find(DOT + SPLIT_BUTTON),\n                    item;\n\n\n                splitButtonWrappers.each(function(idx, element) {\n                    item = that._getItem(element);\n\n                    if (item && item.type === SPLITBUTTON) {\n                        item = item.toolbar;\n                    }\n\n                    if (item && item.splitButton && item.splitButton.destroy) {\n                        item.splitButton.destroy();\n                        $(element).remove();\n                    }\n                });\n            },\n\n            destroyDropDownButtons: function() {\n                var that = this,\n                    dropDownButtons = that.element.find(DOT + MENU_BUTTON),\n                    item;\n\n\n                    dropDownButtons.each(function(idx, element) {\n                    item = that._getItem(element);\n\n                    if (item && item.type === DROPDOWNBUTTON) {\n                        item = item.toolbar;\n                    }\n\n                    if (item && item.dropDownButton && item.dropDownButton.destroy) {\n                        item.dropDownButton.destroy();\n                        $(element).remove();\n                    }\n                });\n            },\n\n            add: function(options) {\n                var component = components[options.type],\n                    template = options.template,\n                    tool, that = this,\n                    itemClasses = that.isMobile ? NOTHING : \"k-item\",\n                    overflowTemplate = options.overflowTemplate,\n                    overflowTool, inputsInTemplate;\n\n                $.extend(options, {\n                    uid: kendo.guid(),\n                    animation: that.animation,\n                    mobile: that.isMobile,\n                    rootUid: that.uid\n                });\n\n                if (options.menuButtons) {\n                    for (var i = 0; i < options.menuButtons.length; i++) {\n                        $.extend(options.menuButtons[i], {\n                            uid: kendo.guid()\n                        });\n                    }\n                }\n\n                if ((template && !overflowTemplate) || options.type === SPACER) {\n                    options.overflow = OVERFLOW_NEVER;\n                } else if (!options.overflow) {\n                    options.overflow = OVERFLOW_AUTO;\n                }\n\n                //add the command in the overflow popup\n                if (options.overflow !== OVERFLOW_NEVER && that.options.resizable) {\n                    if (overflowTemplate) { //template command\n                         overflowTool = new OverflowTemplateItem(overflowTemplate, options, that);\n                    } else if (component) { //build-in command\n                        overflowTool = new component.overflow(options, that);\n                        overflowTool.element.addClass(itemClasses);\n                    }\n\n                    if (overflowTool) {\n                        if (options.overflow === OVERFLOW_AUTO) {\n                            overflowTool.overflowHidden();\n                        }\n\n                        overflowTool.element.appendTo(that.popup.container);\n                        that.angular(\"compile\", function() {\n                            return { elements: overflowTool.element.get() };\n                        });\n                    }\n                }\n\n                //add the command in the toolbar container\n                if (options.overflow !== OVERFLOW_ALWAYS) {\n                    if (template) { //template command\n                        tool = new TemplateItem(template, options, that);\n                        inputsInTemplate = tool.element.find(INPUT + COMMA + SELECT);\n\n                        if (!this.options.navigateOnTab && inputsInTemplate.length > 0) {\n                            tool.element.attr(TABINDEX, 0);\n                            inputsInTemplate.attr(TABINDEX, -1);\n                        }\n                    } else if (component) { //build-in command\n                        tool = new component.toolbar(options, that);\n                    }\n\n                    if (tool) {\n                        tool.element.appendTo(that.element);\n\n                        that.angular(\"compile\", function() {\n                            return { elements: tool.element.get() };\n                        });\n                    }\n                }\n            },\n\n            _getItem: function(candidate) {\n                var element,\n                    toolbarItem,\n                    overflowItem,\n                    isResizable = this.options.resizable,\n                    type;\n\n                //find toolbar item\n                element = this.element.find(candidate);\n\n                if (!element.length) {\n                    element = $(\"[data-role=\\\"buttonmenu\\\"]\").find(candidate);\n                }\n\n                type = element.length ? element.data(\"type\") : NOTHING;\n                toolbarItem = element.data(type);\n\n                if (toolbarItem && isResizable) {\n\n                        overflowItem = toolbarItem.twin();\n                } else if (isResizable) { //find overflow item\n                    element = this.popup.element.find(candidate);\n                    type = element.length ? element.data(\"type\") : NOTHING;\n                    overflowItem = element.data(type);\n\n                    if (type === TEXT_ITEM) {\n                        element = element.parent(DOT + MENU_BUTTON);\n                        type = \"dropDownButton\";\n                        overflowItem = element.data(type);\n                    }\n\n                    if (overflowItem && overflowItem.main && type !== TEXT_ITEM) {\n                        element = element.parent(DOT + SPLIT_BUTTON);\n                        type = \"splitButton\";\n                        overflowItem = element.data(type);\n                    }\n                }\n\n                return {\n                    type: type,\n                    toolbar: toolbarItem,\n                    overflow: overflowItem\n                };\n            },\n\n            remove: function(candidate) {\n                var item = this._getItem(candidate);\n\n                if (item.toolbar) { item.toolbar.remove(); }\n                if (item.overflow) { item.overflow.remove(); }\n\n                this.resize(true);\n            },\n\n            hide: function(candidate) {\n                var item = this._getItem(candidate);\n                var buttonGroupInstance;\n\n                if (item.toolbar) {\n                    if (item.toolbar.options.type === BUTTON && item.toolbar.options.isChild) {\n                        buttonGroupInstance = item.toolbar.getParentGroup();\n\n                        item.toolbar.hide();\n\n                        if (buttonGroupInstance) {\n                            buttonGroupInstance.refresh();\n                        }\n                    } else if (!item.toolbar.options.hidden) {\n                        item.toolbar.hide();\n                    }\n                }\n\n                if (item.overflow) {\n                    if (item.overflow.options.type === BUTTON && item.overflow.options.isChild) {\n                        buttonGroupInstance = item.overflow.getParentGroup();\n\n                        item.overflow.hide();\n\n                        if (buttonGroupInstance) {\n                            buttonGroupInstance.refresh();\n                        }\n                    } else if (!item.overflow.options.hidden) {\n                        item.overflow.hide();\n                    }\n                }\n\n                this.resize(true);\n            },\n\n            show: function(candidate) {\n                var item = this._getItem(candidate);\n                var buttonGroupInstance;\n\n                if (item.toolbar) {\n                    if (item.toolbar.options.type === BUTTON && item.toolbar.options.isChild) {\n                        buttonGroupInstance = item.toolbar.getParentGroup();\n                        item.toolbar.show();\n\n                        if (buttonGroupInstance) {\n                            buttonGroupInstance.refresh();\n                        }\n                    } else if (item.toolbar.options.hidden) {\n                        item.toolbar.show();\n                    }\n                }\n\n                if (item.overflow) {\n                    if (item.overflow.options.type === BUTTON && item.overflow.options.isChild) {\n                        buttonGroupInstance = item.overflow.getParentGroup();\n\n                        item.toolbar.show();\n\n                        if (buttonGroupInstance) {\n                            buttonGroupInstance.refresh();\n                        }\n                    } else if (item.overflow.options.hidden) {\n                        item.overflow.show();\n                    }\n                }\n\n                this.resize(true);\n            },\n\n            enable: function(element, enable) {\n                var item = this._getItem(element);\n\n                if (typeof enable == \"undefined\") {\n                    enable = true;\n                }\n\n                if (item.toolbar) { item.toolbar.enable(enable, item.element); }\n                if (item.overflow) { item.overflow.enable(enable); }\n            },\n\n            getSelectedFromGroup: function(groupName) {\n                return this.element.find(DOT + TOGGLE_BUTTON + \"[data-group='\" + groupName + \"']\").filter(DOT + STATE_SELECTED);\n            },\n\n            toggle: function(button, checked) {\n                var element = $(button),\n                    item = element.data(BUTTON);\n\n                if (item.options.togglable) {\n                    if (checked === undefined) {\n                        checked = true;\n                    }\n\n                    item.toggle(checked, true);\n                }\n            },\n\n            _renderOverflow: function() {\n                var that = this,\n                    overflowContainer = components.overflowContainer,\n                    isRtl = that._isRtl,\n                    horizontalDirection = isRtl ? \"left\" : \"right\";\n\n                that.overflowAnchor = $(components.overflowAnchor).addClass(KBUTTON);\n\n                that.element.append(that.overflowAnchor);\n\n                if (that.isMobile) {\n                    that.overflowAnchor.append('<span class=\"km-icon km-more\"></span>');\n                    overflowContainer = actionSheetWrap(overflowContainer);\n                } else {\n                    that.overflowAnchor.append('<span class=\"k-icon k-i-more-vertical\"></span>');\n                }\n\n                that.popup = new kendo.ui.Popup(overflowContainer, {\n                    origin: \"bottom \" + horizontalDirection,\n                    position: \"top \" + horizontalDirection,\n                    anchor: that.overflowAnchor,\n                    isRtl: isRtl,\n                    animation: that.animation,\n                    appendTo: that.isMobile ? $(that.isMobile).children(\".km-pane\") : null,\n                    copyAnchorStyles: false,\n                    open: function(e) {\n                        var wrapper = kendo.wrap(that.popup.element)\n                            .addClass(OVERFLOW_WRAPPER);\n\n                        if (!that.isMobile) {\n                            wrapper.css(\"margin-left\", (isRtl ? -1 : 1) * ((outerWidth(wrapper) - wrapper.width()) / 2 + 1));\n                        } else {\n                            that.popup.container.css(\"max-height\", (parseFloat($(\".km-content:visible\").innerHeight()) - 15) + \"px\");\n                        }\n\n                        if (that.trigger(OVERFLOW_OPEN)) {\n                            e.preventDefault();\n                        }\n                    },\n                    activate: function() {\n                        this.element.find(KENDO_FOCUSABLE).first().trigger(FOCUS);\n                    },\n                    close: function(e) {\n                        if (that.trigger(OVERFLOW_CLOSE)) {\n                            e.preventDefault();\n                        }\n\n                        this.element.trigger(FOCUS);\n                    }\n                });\n\n                that.popup.element.on(KEYDOWN + ns, DOT + KBUTTON, function(e) {\n                    var target = $(e.target),\n                        li = target.parent(),\n                        isComplexTool = li.is(DOT + BUTTON_GROUP) || li.is(DOT + SPLIT_BUTTON),\n                        element;\n\n                    e.preventDefault();\n\n                    if (e.keyCode === keys.ESC || e.keyCode === keys.TAB || (e.altKey && e.keyCode === keys.UP)) {\n                        that._toggleOverflow();\n                        that.overflowAnchor.trigger(FOCUS);\n                    } else if (e.keyCode === keys.DOWN) {\n                        element = !isComplexTool || (isComplexTool && target.is(\":last-child\")) || (isComplexTool && !target.next().is(KENDO_FOCUSABLE)) ? li : target;\n                        findFocusableSibling(element, NEXT).trigger(FOCUS);\n                    } else if (e.keyCode === keys.UP) {\n                        element = !isComplexTool || (isComplexTool && target.is(\":first-child\")) || (isComplexTool && !target.prev().is(KENDO_FOCUSABLE)) ? li : target;\n                        findFocusableSibling(element, PREV).trigger(FOCUS);\n                    } else if ((e.keyCode === keys.SPACEBAR || e.keyCode === keys.ENTER) && !$(e.target).is(DOT + STATE_DISABLED)) {\n                        that.userEvents.trigger(TAP, { target: $(e.target) });\n                        that.overflowAnchor.trigger(FOCUS);\n                    } else if (e.keyCode === keys.HOME) {\n                        li.parent().find(KENDO_FOCUSABLE).first().trigger(FOCUS);\n                    } else if (e.keyCode === keys.END) {\n                        li.parent().find(KENDO_FOCUSABLE).last().trigger(FOCUS);\n                    }\n                });\n\n                if (that.isMobile) {\n                    that.popup.container = that.popup.element.find(DOT + OVERFLOW_CONTAINER);\n                } else {\n                    that.popup.container = that.popup.element;\n                }\n\n                that.popup.container.attr(KENDO_UID_ATTR, this.uid);\n            },\n\n            _toggleOverflowAnchor: function() {\n                var hasVisibleChildren = false;\n                var paddingEnd = this._isRtl ? \"padding-left\" : \"padding-right\";\n\n                if (this.options.mobile) {\n                    hasVisibleChildren = this.popup.element.find(DOT + OVERFLOW_CONTAINER).children(\":not(.\" + OVERFLOW_HIDDEN + \", .\" + POPUP + \")\").length > 0;\n                } else {\n                    hasVisibleChildren = this.popup.element.children(\":not(.\" + OVERFLOW_HIDDEN + \", .\" + POPUP + \")\").length > 0;\n                }\n\n                if (hasVisibleChildren) {\n                    this.overflowAnchor.css({\n                        visibility: \"visible\",\n                        width: NOTHING\n                    });\n                    this.wrapper.css(paddingEnd, this.overflowAnchor.outerWidth(true));\n                } else {\n                    this.overflowAnchor.css({\n                        visibility: HIDDEN,\n                        width: \"1px\"\n                    });\n                    this.wrapper.css(paddingEnd, NOTHING);\n                }\n            },\n\n            _buttonClick: function(e) {\n                var that = this,\n                    target = $(e.target),\n                    item, handler, eventData, urlTarget,\n                    templateFocusable;\n\n                if (target.closest(DOT + TEMPLATE_ITEM).length === 0) {\n                    e.preventDefault();\n                }\n\n                if (target.hasClass(MENU_BUTTON) || target.hasClass(OVERFLOW_ANCHOR)) {\n                    that._resetTabIndex(target);\n                    return;\n                } else if (target.hasClass(SPLIT_BUTTON_ARROW)) {\n                    that._resetTabIndex(target.prev());\n                    return;\n                } else if (target.hasClass(TEMPLATE_ITEM)) {\n                    templateFocusable = target.find(INPUT + COMMA + SELECT + COMMA + DOT + DROPDOWNLIST);\n\n                    if (templateFocusable.length > 0) {\n                        that._resetTabIndex(templateFocusable.first());\n                    }\n\n                    return;\n                }\n\n                if (!target.data(SPLITBUTTON)) {\n                    target = $(e.target).closest(DOT + KBUTTON + COMMA + DOT + MENU_LINK, that.element);\n                }\n\n                item = target.data(BUTTON);\n\n                if (item && !target.hasClass(MENU_ITEM)) {\n                    that._resetTabIndex(target);\n                }\n\n                if (!item && that.popup) {\n                    target = $(e.target).closest(DOT + OVERFLOW_BUTTON, that.popup.container);\n                    item = target.parent(\"li\").data(BUTTON);\n                }\n\n                if (!item || !item.options.enable) {\n                    return;\n                }\n\n                if (item.options.togglable) {\n                    handler = isFunction(item.toggleHandler) ? item.toggleHandler : null;\n\n                    item.toggle(!item.options.selected, true);\n                    eventData = { target: target, group: item.options.group, checked: item.options.selected, id: item.options.id, item: item };\n\n                    if (handler) { handler.call(that, eventData); }\n                    that.trigger(TOGGLE, eventData);\n                } else {\n                    handler = isFunction(item.clickHandler) ? item.clickHandler : null;\n                    eventData = { sender: that, target: target, id: item.options.id, item: item };\n\n                    if (handler) { handler.call(that, eventData); }\n                    that.trigger(CLICK, eventData);\n                }\n\n                if (item.options.url) {\n                    if (item.options.attributes && item.options.attributes.target) {\n                        urlTarget = item.options.attributes.target;\n                    }\n                    window.open(item.options.url, urlTarget || \"_self\");\n                }\n\n                if (target.hasClass(OVERFLOW_BUTTON)) {\n                    that.popup.close();\n                }\n            },\n\n            _focusOut: function(e) {\n                this.wrapper.find(DOT + KBUTTON + DOT + KFOCUS).removeClass(KFOCUS);\n            },\n\n            _focusIn: function(e) {\n                var target = $(e.target);\n\n                if (target.closest(DOT + KBUTTON).length > 0) {\n                    target.closest(DOT + KBUTTON).addClass(KFOCUS);\n                }\n            },\n\n            _keydown: function(e) {\n                var target = $(e.target),\n                    keyCode = e.keyCode,\n                    items = this._getItems(),\n                    direction = this._isRtl ? -1 : 1,\n                    templateItem = target.closest(DOT + TEMPLATE_ITEM),\n                    last, next, innerFocusable, innerWidget, widgetInstance;\n\n                if (e.altKey && keyCode === keys.DOWN) {\n                    var isOverflowAnchor = $(document.activeElement).is(DOT + OVERFLOW_ANCHOR);\n\n                    if (isOverflowAnchor) {\n                        this._toggleOverflow();\n                    }\n\n                    return;\n                }\n\n                if (!this.options.navigateOnTab && keyCode === keys.ENTER && target.hasClass(TEMPLATE_ITEM)) {\n                    innerFocusable = target.find(KENDO_FOCUSABLE + \":not('\" + DOT + INPUT_BUTTON + \"')\" + COMMA + DOT + DROPDOWNLIST);\n\n                    if (innerFocusable.length > 0) {\n                        target.attr(TABINDEX, -1);\n\n                        innerFocusable.attr(TABINDEX, 0);\n                        innerFocusable.first().trigger(FOCUS);\n                    }\n\n                    return;\n                } else if (!this.options.navigateOnTab && keyCode === keys.ESC && templateItem.length > 0) {\n                    innerWidget = templateItem.find(\"[data-role]\");\n                    innerFocusable = templateItem.find(KENDO_FOCUSABLE + \":not('\" + DOT + INPUT_BUTTON + \"')\" + COMMA + DOT + DROPDOWNLIST);\n\n                    if (innerWidget.length > 0) {\n                        widgetInstance = kendo.widgetInstance(innerWidget);\n\n                        if (widgetInstance) {\n                            if (widgetInstance.popup && widgetInstance.popup.visible()) {\n                                return;\n                            } else {\n                                templateItem.attr(TABINDEX, 0);\n                                templateItem.trigger(FOCUS);\n                                templateItem.find(KENDO_FOCUSABLE).attr(TABINDEX, -1);\n                            }\n                        }\n                    }\n\n                    if (innerFocusable.length > 0) {\n                        templateItem.attr(TABINDEX, 0);\n                        templateItem.trigger(FOCUS);\n                        innerFocusable.attr(TABINDEX, -1);\n                    }\n\n                    return;\n                } else if ((keyCode === keys.SPACEBAR || keyCode === keys.ENTER) && !target.is(INPUT + COMMA + CHECKBOX + COMMA + BUTTON)) {\n                    if (keyCode === keys.SPACEBAR) {\n                        e.preventDefault(); //prevent spacebar to scroll the page down\n                        this.userEvents.trigger(TAP, { target: target });\n                    }\n\n                    return;\n                }\n\n                if (keyCode === keys.HOME) {\n                    if (target.is(DOT + DROPDOWNLIST) || target.is(INPUT)) {\n                        return;\n                    }\n\n                    this._resetTabIndex(items.first());\n                    items.first().trigger(FOCUS);\n                    e.preventDefault();\n                } else if (keyCode === keys.END) {\n                    if (target.is(DOT + DROPDOWNLIST) || target.is(INPUT)) {\n                        return;\n                    }\n\n                    last = items.last();\n\n                    if (last.width() === 0) {\n                        last = items.eq(items.length - 2);\n                    }\n\n                    this._resetTabIndex(last);\n                    last.trigger(FOCUS);\n                    e.preventDefault();\n                } else if (!this.options.navigateOnTab &&\n                    keyCode === keys.RIGHT &&\n                    !target.is(INPUT + \":not([type=file])\" + COMMA + SELECT + COMMA + DOT + DROPDOWNLIST + COMMA + DOT + COLORPICKER) &&\n                    this._getNextElement(e.target, 1 * direction)) {\n                        next = $(this._getNextElement(e.target, 1 * direction));\n                        this._resetTabIndex(next);\n                        next.trigger(FOCUS);\n\n                        e.preventDefault();\n                } else if (!this.options.navigateOnTab &&\n                    keyCode === keys.LEFT &&\n                    !target.is(INPUT + \":not([type=file])\" + COMMA + SELECT + COMMA + EMPTY + DOT + DROPDOWNLIST + COMMA + DOT + COLORPICKER) &&\n                    this._getNextElement(e.target, -1 * direction)) {\n                        next = $(this._getNextElement(e.target, -1 * direction));\n                        this._resetTabIndex(next);\n                        next.trigger(FOCUS);\n\n                        e.preventDefault();\n                }\n            },\n\n            _getNextElement: function(item, direction) {\n                var items = this._getItems(),\n                    itemIndex = items.index(item) === -1 ? items.index(item.parentElement) : items.index(item),\n                    focusableItem = items[itemIndex + direction];\n\n                if (!focusableItem) {\n                    if (direction === -1) {\n                        focusableItem = items.last();\n                    } else {\n                        focusableItem = items.first();\n                    }\n                }\n\n                return focusableItem;\n            },\n\n            _getItems: function() {\n                return this.wrapper.find(KENDO_FOCUSABLE + COMMA + DOT + TEMPLATE_ITEM + COMMA + DOT + OVERFLOW_ANCHOR + COMMA + DOT + \"k-switch\").filter(function() {\n                    var current = $(this);\n\n                    if (current.hasClass(\"k-hidden\")) {\n                        return false;\n                    } else if (current.hasClass(OVERFLOW_ANCHOR) && current.css(\"visibility\") === HIDDEN) {\n                        return false;\n                    } else if (current.hasClass(TEMPLATE_ITEM) && current.find(\"input:visible\" + COMMA + DOT + \"k-picker\" + COMMA + DOT + \"k-input\").length === 0) {\n                        return false;\n                    } else if (!current.hasClass(TEMPLATE_ITEM) && current.closest(DOT + TEMPLATE_ITEM).length > 0) {\n                        return false;\n                    } else if (current.hasClass(INPUT_BUTTON) || current.hasClass(SPLIT_BUTTON_ARROW)) {\n                        return false;\n                    }\n\n                    return true;\n                });\n            },\n\n            _toggle: function(e) {\n                var splitButton = $(e.target).closest(DOT + SPLIT_BUTTON).data(\"splitButton\");\n\n                e.preventDefault();\n\n                if (!splitButton.options.enable) {\n                    return;\n                }\n\n                splitButton.toggle();\n            },\n\n            _toggleOverflow: function() {\n                this.popup.toggle();\n            },\n\n            _resize: function(e) {\n                var containerWidth = e.width;\n\n                if (!this.options.resizable) {\n                    return;\n                }\n\n                this.popup.close();\n\n                this._shrink(containerWidth);\n                this._stretch(containerWidth);\n\n                this._markVisibles();\n\n                this._toggleOverflowAnchor();\n            },\n\n            _childrenWidth: function() {\n                var childrenWidth = 0;\n                var gap = parseInt(this.element.css('gap'), 10) || 0;\n\n                this.element.children(\":visible:not(\" + DOT + SPACER_CLASS + \")\").each(function() {\n                    childrenWidth += outerWidth($(this), true) + gap;\n                });\n\n                return Math.ceil(childrenWidth);\n            },\n\n            _shrink: function(containerWidth) {\n                var commandElement,\n                    visibleCommands,\n                    activeElement;\n\n                if (containerWidth < this._childrenWidth()) {\n                    visibleCommands = this.element.children(\":visible:not([data-overflow='never'], .\" + OVERFLOW_ANCHOR + \")\");\n\n                    for (var i = visibleCommands.length - 1; i >= 0; i--) {\n                        commandElement = visibleCommands.eq(i);\n\n                        if (containerWidth > this._childrenWidth()) {\n                            break;\n                        } else {\n                            activeElement = commandElement.find(\"[tabindex=0]\");\n\n                            if (activeElement.length > 0) {\n                                activeElement.attr(TABINDEX, -1);\n                                this.element.children(DOT + OVERFLOW_ANCHOR).attr(TABINDEX, 0);\n                            }\n\n                            this._hideItem(commandElement);\n                        }\n                    }\n                }\n            },\n\n            _stretch: function(containerWidth) {\n                var commandElement,\n                    hiddenCommands;\n\n                if (containerWidth > this._childrenWidth()) {\n                    hiddenCommands = this.element.children(DOT + STATE_HIDDEN + \":not(\" + DOT + FORCE_HIDDEN + \")\");\n\n                    for (var i = 0; i < hiddenCommands.length; i++) {\n                        commandElement = hiddenCommands.eq(i);\n                        if (containerWidth < this._childrenWidth() || !this._showItem(commandElement, containerWidth)) {\n                            break;\n                        }\n                    }\n                }\n            },\n\n            _hideItem: function(item) {\n                item.addClass(STATE_HIDDEN);\n\n                if (this.popup) {\n                    this.popup.container\n                        .find(\">li[data-uid='\" + item.data(UID) + \"']\")\n                        .removeClass(OVERFLOW_HIDDEN);\n                }\n            },\n\n            _showItem: function(item, containerWidth) {\n                var gap = parseInt(this.element.css('gap'), 10) || 0;\n                // From jquery.outerWidth docs:\n                //  > jQuery will attempt to temporarily show and then re-hide an element\n                //  > in order to measure its dimensions, but this is unreliable\n                // Thus we show and hide the item\n                item.removeClass(STATE_HIDDEN);\n                var itemOuterWidth = outerWidth(item, true) + gap;\n                item.addClass(STATE_HIDDEN);\n\n                if (item.length && containerWidth > this._childrenWidth() + itemOuterWidth) {\n                    item.removeClass(STATE_HIDDEN);\n\n                    if (this.options.navigateOnTab !== true) {\n                        item.find(KENDO_FOCUSABLE).attr(TABINDEX, -1);\n                    }\n\n                    if (this.popup) {\n                        this.popup.container\n                            .find(\">li[data-uid='\" + item.data(UID) + \"']\")\n                            .addClass(OVERFLOW_HIDDEN);\n                    }\n\n                    return true;\n                }\n\n                return false;\n            },\n\n            _markVisibles: function() {\n                var overflowItems = this.popup.container.children(),\n                    toolbarItems = this.element.children(\":not(\" + DOT + OVERFLOW_ANCHOR + \")\"),\n                    visibleOverflowItems = overflowItems.filter(\":not(\" + DOT + OVERFLOW_HIDDEN + \")\"),\n                    visibleToolbarItems = toolbarItems.filter(\":visible\");\n\n                overflowItems.add(toolbarItems).removeClass(FIRST_TOOLBAR_VISIBLE + EMPTY + LAST_TOOLBAR_VISIBLE);\n                visibleOverflowItems.first().add(visibleToolbarItems.first()).addClass(FIRST_TOOLBAR_VISIBLE);\n                visibleOverflowItems.last().add(visibleToolbarItems.last()).addClass(LAST_TOOLBAR_VISIBLE);\n            },\n\n            _resetTabIndex: function(toFocus) {\n                if (this.options.navigateOnTab !== true) {\n                    this.wrapper.find(KENDO_FOCUSABLE).attr(TABINDEX, -1);\n                    toFocus.attr(TABINDEX, 0);\n                }\n            },\n\n            _tabIndex: function() {\n                var focusableItems = this.wrapper.find(KENDO_FOCUSABLE + \":not('[tabindex=-1]')\"),\n                    firstFocusable = focusableItems.first();\n\n                if (this.options.navigateOnTab !== true) {\n                    focusableItems.attr(TABINDEX, -1);\n                    firstFocusable.attr(TABINDEX, 0);\n                }\n            }\n        });\n\n    kendo.ui.plugin(ToolBar);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.list',[ \"kendo.data\", \"kendo.popup\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"list\",\n    name: \"List\",\n    category: \"framework\",\n    depends: [ \"data\", \"popup\" ],\n    hidden: true\n};\n\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        outerHeight = kendo._outerHeight,\n        percentageUnitsRegex = /^\\d+(\\.\\d+)?%$/i,\n        Widget = ui.Widget,\n        keys = kendo.keys,\n        support = kendo.support,\n        htmlEncode = kendo.htmlEncode,\n        activeElement = kendo._activeElement,\n        outerWidth = kendo._outerWidth,\n        ObservableArray = kendo.data.ObservableArray,\n        ID = \"id\",\n        CHANGE = \"change\",\n        FOCUSED = \"k-focus\",\n        HOVER = \"k-hover\",\n        KSELECTED = \"k-selected\",\n        LOADING = \"k-i-loading k-input-loading-icon\",\n        LIST = \"k-list\",\n        TABLE = \"k-table\",\n        DATA_TABLE = \"k-data-table\",\n        TABLE_MD = \"k-table-md\",\n        LIST_UL = \"k-list-ul\",\n        TABLE_LIST = \"k-table-list\",\n        FIXED_GROUP_HEADER = \".k-list-group-sticky-header\",\n        GROUP_LABEL = \".k-list-item-group-label\",\n        ITEMSELECTOR = \".k-list-item\",\n        ITEMSELECTORTABLE = \".k-table-row\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        CASCADE = \"cascade\",\n        SELECT = \"select\",\n        CLICK = \"click\",\n        MOUSELEAVE = \"mouseleave\",\n        MOUSEENTER = \"mouseenter\",\n        ACTIVATE = \"activate\",\n        DEACTIVATE = \"deactivate\",\n        DATA_BINDING = \"dataBinding\",\n        DATA_BOUND = \"dataBound\",\n        SELECTED_ITEM_CHANGE = \"selectedItemChange\",\n        SELECTED = \"selected\",\n        REQUESTSTART = \"requestStart\",\n        REQUESTEND = \"requestEnd\",\n        BLUR = \"blur\",\n        FOCUS = \"focus\",\n        FOCUSOUT = \"focusout\",\n        extend = $.extend,\n        isArray = Array.isArray,\n        browser = support.browser,\n        HIDDENCLASS = \"k-hidden\",\n        WIDTH = \"width\",\n        TEXT = \"text\",\n        VALUE = \"value\",\n        isIE = browser.msie,\n        quotRegExp = /\"/g,\n        alternativeNames = {\n            \"ComboBox\": [ \"DropDownList\", \"MultiColumnComboBox\" ],\n            \"DropDownList\": [ \"ComboBox\", \"MultiColumnComboBox\" ],\n            \"MultiColumnComboBox\": [ \"ComboBox\", \"DropDownList\" ]\n        },\n\n        UL_EL = '<ul unselectable=\"on\"/>',\n        LIST_EL = \"<div class='k-list'/>\",\n        NO_DATA_EL = '<div class=\"k-no-data\" style=\"display: none;\"></div>',\n        LIST_FOOTER_EL = '<div class=\"k-list-footer\"></div>',\n        TABLE_FOOTER_EL = '<div class=\"k-table-footer\">' +\n                '<span class=\"k-table-td\"></span>' +\n            '</div>',\n        MOUSEDOWN = \"mousedown\",\n        LIST_SUFFIX = \"-list\",\n        LISTBOX_SUFFIX = \"_listbox\",\n        ARIA_LABELLEDBY = \"aria-labelledby\",\n        ARIA_LABEL = \"aria-label\",\n        ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n        ARIA_AUTOCOMPLETE = \"aria-autocomplete\",\n        ARIA_CONTROLS = \"aria-controls\",\n        ARIA_LIVE = \"aria-live\",\n        ARIA_EXPANDED = \"aria-expanded\",\n        ARIA_HIDDEN = \"aria-hidden\",\n        ARIA_BUSY = \"aria-busy\",\n        ARIA_MULTISELECTABLE = \"aria-multiselectable\",\n        ARIA_SELECTED = \"aria-selected\",\n        GROUP_ROW_SEL = \".k-table-group-row\";\n\n    var List = kendo.ui.DataBoundWidget.extend({\n        init: function(element, options) {\n            var that = this,\n                id;\n\n            Widget.fn.init.call(that, element, options);\n            element = that.element;\n            options = that.options;\n\n            that._isSelect = element.is(SELECT);\n\n            if (that._isSelect && that.element[0].length) {\n                if (!options.dataSource) {\n                    options.dataTextField = options.dataTextField || TEXT;\n                    options.dataValueField = options.dataValueField || VALUE;\n                }\n            }\n\n            that._listSize = kendo.cssProperties.getValidClass({\n                widget: \"List\",\n                propName: \"size\",\n                value: options.size\n            });\n\n            that.ul = $(UL_EL).attr({\n                tabIndex: -1,\n                \"aria-hidden\": true\n            });\n\n            that.list = $(LIST_EL)\n                .addClass(that._listSize)\n                .append(that.ul);\n\n            id = element.attr(ID);\n\n            if (!id) {\n                id = kendo.guid();\n            }\n\n            that.list.attr(ID, id + LIST_SUFFIX);\n            that.ul.attr(ID, id + LISTBOX_SUFFIX);\n\n            if (options.columns && options.columns.length) {\n                that.list.removeClass(LIST).addClass(DATA_TABLE);\n                that.list.removeClass(that._listSize).addClass(TABLE_MD);\n\n                that.ul.removeClass(LIST_UL).addClass(TABLE);\n\n                that._columnsHeader();\n            }\n\n            that._header();\n            that._noData();\n            that._footer();\n            that._accessors();\n            that._initValue();\n        },\n\n        options: {\n            valuePrimitive: false,\n            footerTemplate: \"\",\n            headerTemplate: \"\",\n            noDataTemplate: true,\n            size: \"medium\",\n            messages: {\n                \"noData\": \"No data found.\",\n                \"clear\": \"clear\"\n            }\n        },\n\n        setOptions: function(options) {\n            Widget.fn.setOptions.call(this, options);\n\n            if (options && options.enable !== undefined) {\n                options.enabled = options.enable;\n            }\n\n            if (options.columns && options.columns.length) {\n                this._columnsHeader();\n            }\n\n            this._header();\n            this._noData();\n            this._footer();\n\n            this._renderFooter();\n            this._renderNoData();\n        },\n\n        focus: function() {\n            this._focused.trigger(FOCUS);\n        },\n\n        readonly: function(readonly) {\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n        },\n\n        enable: function(enable) {\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n        },\n\n        _header: function() {\n            var list = this;\n            var header = $(list.header);\n            var template = list.options.headerTemplate;\n\n            this._angularElement(header, \"cleanup\");\n            kendo.destroy(header);\n            header.remove();\n\n            if (!template) {\n                list.header = null;\n                return;\n            }\n\n            var headerTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n            header = $(headerTemplate({}));\n\n            list.header = header[0] ? header : null;\n\n            if (list.list.parent.length > 0) {\n                list.list.before(header);\n            }\n\n            this._angularElement(list.header, \"compile\");\n        },\n\n        _columnsHeader: function() {\n            var list = this;\n            var columnsHeader = $(list.columnsHeader);\n\n            this._angularElement(columnsHeader, \"cleanup\");\n            kendo.destroy(columnsHeader);\n            columnsHeader.remove();\n\n            var header = \"<div class='k-table-header'><div class='k-table-header-wrap'><table class='k-table' role='presentation'>\";\n            var colGroup = \"<colgroup>\";\n            var row = \"<tr class='k-table-row'>\";\n\n            for (var idx = 0; idx < this.options.columns.length; idx++) {\n                var currentColumn = this.options.columns[idx];\n                var title = currentColumn.title || currentColumn.field || \"\";\n                var template = currentColumn.headerTemplate || title;\n                var columnsHeaderTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n                var currentWidth = currentColumn.width;\n                var currentWidthInt = parseInt(currentWidth, 10);\n                var widthStyle = '';\n\n                if (currentWidth && !isNaN(currentWidthInt)) {\n                    widthStyle += \"style='width:\";\n                    widthStyle += currentWidthInt;\n                    widthStyle += percentageUnitsRegex.test(currentWidth) ? \"%\" : \"px\";\n                    widthStyle += \";'\";\n                }\n\n                colGroup += \"<col \" + widthStyle + \"/>\";\n\n                row += \"<th class='k-table-th'>\";\n                row += columnsHeaderTemplate(currentColumn);\n                row += \"</th>\";\n            }\n            colGroup += \"</colgroup>\";\n            row += \"</tr>\";\n            header += colGroup;\n            header += \"<thead class='k-table-thead'>\";\n            header += row;\n            header += \"</thead></table></div></div>\";\n\n            list.columnsHeader = columnsHeader = $(header);\n            list.list.prepend(columnsHeader);\n\n            this._angularElement(list.columnsHeader, \"compile\");\n        },\n\n        _noData: function() {\n            var list = this;\n            var noData = $(list.noData);\n            var template = list.options.noDataTemplate === true ? list.options.messages.noData : list.options.noDataTemplate;\n\n            list.angular(\"cleanup\", function() { return { elements: noData }; });\n            kendo.destroy(noData);\n            noData.remove();\n\n            if (!template) {\n                list.noData = null;\n                return;\n            }\n\n            list.noData = $(NO_DATA_EL).appendTo(list.list);\n            list.noDataTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n        },\n\n        _footer: function() {\n            var list = this;\n            var footer = $(list.footer);\n            var template = list.options.footerTemplate;\n            var footerEl = this.options.columns && this.options.columns.length ? TABLE_FOOTER_EL : LIST_FOOTER_EL;\n\n            this._angularElement(footer, \"cleanup\");\n            kendo.destroy(footer);\n            footer.remove();\n\n            if (!template) {\n                list.footer = null;\n                return;\n            }\n\n            list.footer = $(footerEl).appendTo(list.list);\n            list.footerTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n        },\n\n        _listOptions: function(options) {\n            var that = this;\n            var currentOptions = that.options;\n            var virtual = currentOptions.virtual;\n            var changeEventOption = { change: that._listChange.bind(that) };\n            var listBoundHandler = that._listBound.bind(that);\n            var focusedElm = that._focused;\n            var inputId = that.element.attr(\"id\");\n            var labelElm = $(\"label[for=\\\"\" + that.element.attr(\"id\") + \"\\\"]\");\n            var labelledBy = focusedElm.attr(ARIA_LABELLEDBY);\n\n            if (!labelledBy && labelElm.length) {\n                labelledBy = labelElm.attr(\"id\") || that._generateLabelId(labelElm, inputId || kendo.guid());\n            }\n\n            virtual = typeof virtual === \"object\" ? virtual : {};\n\n            options = $.extend({\n                autoBind: false,\n                selectable: true,\n                dataSource: that.dataSource,\n                click: that._click.bind(that),\n                activate: that._activateItem.bind(that),\n                columns: currentOptions.columns,\n                deactivate: that._deactivateItem.bind(that),\n                dataBinding: function() {\n                    that.trigger(DATA_BINDING);\n                },\n                dataBound: listBoundHandler,\n                height: currentOptions.height,\n                dataValueField: currentOptions.dataValueField,\n                dataTextField: currentOptions.dataTextField,\n                groupTemplate: currentOptions.groupTemplate,\n                fixedGroupTemplate: currentOptions.fixedGroupTemplate,\n                template: currentOptions.template,\n                ariaLabel: focusedElm.attr(ARIA_LABEL),\n                ariaLabelledBy: labelledBy,\n                listSize: that._listSize\n            }, options, virtual, changeEventOption);\n\n            if (!options.template) {\n                options.template = \"#:\" + kendo.expr(options.dataTextField, \"data\") + \"#\";\n            }\n\n            if (currentOptions.$angular) {\n                options.$angular = currentOptions.$angular;\n            }\n\n            return options;\n        },\n\n        _initList: function() {\n            var that = this;\n            var listOptions = that._listOptions({\n                selectedItemChange: that._listChange.bind(that)\n            });\n\n            if (!that.options.virtual) {\n                that.listView = new kendo.ui.StaticList(that.ul, listOptions);\n            } else {\n                that.listView = new kendo.ui.VirtualList(that.ul, listOptions);\n                that.list.addClass(\"k-virtual-list\");\n            }\n\n            that.listView.bind(\"listBound\", that._listBound.bind(that));\n            that._setListValue();\n        },\n\n        _setListValue: function(value) {\n            value = value || this.options.value;\n\n            if (value !== undefined) {\n                this.listView.value(value)\n                    .done(this._updateSelectionState.bind(this));\n            }\n        },\n\n        _updateSelectionState: $.noop,\n\n        _listMousedown: function(e) {\n            if (!this.filterInput || this.filterInput[0] !== e.target) {\n                e.preventDefault();\n            }\n        },\n\n        _isFilterEnabled: function() {\n            var filter = this.options.filter;\n            return filter && filter !== \"none\";\n        },\n\n        _hideClear: function() {\n            var list = this;\n\n            if (list._clear) {\n                list._clear.addClass(HIDDENCLASS);\n            }\n        },\n\n        _showClear: function() {\n            if (this._clear) {\n                this._clear.removeClass(HIDDENCLASS);\n            }\n        },\n\n        _clearValue: function() {\n            this._clearText();\n            this._accessor(\"\");\n            this.listView.value([]);\n\n            if (this._isSelect) {\n                this._customOption = undefined;\n            }\n\n            if (this._isFilterEnabled() && !this.options.enforceMinLength) {\n                this._filter({ word: \"\", open: false });\n\n                if (this.options.highlightFirst) {\n                    this.listView.focus(0);\n                }\n            }\n            this._change();\n        },\n\n        _clearText: function() {\n            this.text(\"\");\n        },\n\n        _clearFilter: function() {\n            if (!this.options.virtual) {\n                this.listView.bound(false);\n            }\n\n            this._filterSource();\n        },\n\n        _filterSource: function(filter, force) {\n            var that = this;\n            var options = that.options;\n            var isMultiColumnFiltering = options.filterFields && filter && filter.logic && filter.filters && filter.filters.length;\n            var dataSource = that.dataSource;\n            var expression = extend({}, dataSource.filter() || {});\n            var resetPageSettings = filter || (expression.filters && expression.filters.length && !filter);\n\n            var removed = removeFiltersForField(expression, options.dataTextField);\n\n            this._clearFilterExpressions(expression);\n\n            if ((filter || removed) && that.trigger(\"filtering\", { filter: filter })) {\n                return $.Deferred().reject().promise();\n            }\n\n            var newExpression = {\n                filters: [],\n                logic: \"and\"\n            };\n\n            if (isMultiColumnFiltering) {\n                newExpression.filters.push(filter);\n            } else {\n                this._pushFilterExpression(newExpression, filter);\n            }\n\n            if (isValidFilterExpr(expression)) {\n                if (newExpression.logic === expression.logic) {\n                    newExpression.filters = newExpression.filters.concat(expression.filters);\n                } else {\n                    newExpression.filters.push(expression);\n                }\n            }\n\n            if (that._cascading) {\n                this.listView.setDSFilter(newExpression);\n            }\n\n            var dataSourceState = extend({}, {\n                page: resetPageSettings ? 1 : dataSource.page(),\n                pageSize: resetPageSettings ? dataSource.options.pageSize : dataSource.pageSize(),\n                sort: dataSource.sort(),\n                filter: dataSource.filter(),\n                group: dataSource.group(),\n                aggregate: dataSource.aggregate()\n            }, { filter: newExpression });\n\n            return dataSource[force ? \"read\" : \"query\"](dataSource._mergeState(dataSourceState));\n        },\n\n        _pushFilterExpression: function(newExpression, filter) {\n            if (isValidFilterExpr(filter) && filter.value !== \"\") {\n                newExpression.filters.push(filter);\n            }\n        },\n\n        _clearFilterExpressions: function(expression) {\n            if (!expression.filters) {\n                return;\n            }\n\n            var filtersToRemove;\n\n            for (var i = 0; i < expression.filters.length; i++) {\n                if (\"fromFilter\" in expression.filters[i]) {\n                    filtersToRemove = i;\n                }\n            }\n\n            if (!isNaN(filtersToRemove)) {\n                expression.filters.splice(filtersToRemove, 1);\n            }\n        },\n\n        _angularElement: function(element, action) {\n            if (!element) {\n                return;\n            }\n\n            this.angular(action, function() {\n                return { elements: element };\n            });\n        },\n\n        _renderNoData: function() {\n            var list = this;\n            var noData = list.noData;\n\n            if (!noData) {\n                return;\n            }\n\n            this._angularElement(noData, \"cleanup\");\n            noData.html(list.noDataTemplate({ instance: list }));\n            this._angularElement(noData, \"compile\");\n        },\n\n        _toggleNoData: function(show) {\n            $(this.noData).toggle(show);\n        },\n\n        _toggleHeader: function(show) {\n            var groupHeader = this.listView.content.prev(FIXED_GROUP_HEADER);\n            groupHeader.toggle(show);\n        },\n\n        _renderFooter: function() {\n            var list = this,\n                footer = list.footer ? this.options.columns && this.options.columns.length ? list.footer.children().first() : list.footer : null;\n\n            if (!footer) {\n                return;\n            }\n\n            this._angularElement(footer, \"cleanup\");\n            footer.html(list.footerTemplate({ instance: list }));\n            this._angularElement(footer, \"compile\");\n        },\n\n        _allowOpening: function() {\n            return this.options.noDataTemplate || this.dataSource.flatView().length;\n        },\n\n        _initValue: function() {\n            var that = this,\n                value = that.options.value;\n\n            if (value !== null) {\n                that.element.val(value);\n            } else {\n                value = that._accessor();\n                that.options.value = value;\n            }\n\n            that._old = value;\n        },\n\n        _ignoreCase: function() {\n            var that = this,\n                model = that.dataSource.reader.model,\n                field;\n\n            if (model && model.fields) {\n                field = model.fields[that.options.dataTextField];\n\n                if (field && field.type && field.type !== \"string\") {\n                    that.options.ignoreCase = false;\n                }\n            }\n        },\n\n        _focus: function(candidate) {\n            return this.listView.focus(candidate);\n        },\n\n        _filter: function(options) {\n            var that = this;\n            var widgetOptions = that.options;\n            var word = options.word;\n            var filterFields = widgetOptions.filterFields;\n            var field = widgetOptions.dataTextField;\n            var expression;\n\n            if (filterFields && filterFields.length) {\n                expression = {\n                    logic: \"or\",\n                    filters: [],\n                    fromFilter: true\n                };\n                for (var i = 0; i < filterFields.length; i++) {\n                    this._pushFilterExpression(expression, that._buildExpression(word, filterFields[i]));\n                }\n            } else {\n                expression = that._buildExpression(word, field);\n            }\n\n            that._open = options.open;\n            that._filterSource(expression);\n        },\n\n        _buildExpression: function(value, field) {\n            var that = this;\n            var widgetOptions = that.options;\n            var ignoreCase = widgetOptions.ignoreCase;\n            var accentFoldingFiltering = that.dataSource.options.accentFoldingFiltering;\n\n            return {\n                value: ignoreCase ? (accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase()) : value,\n                field: field,\n                operator: widgetOptions.filter,\n                ignoreCase: ignoreCase\n            };\n        },\n\n        _clearButton: function() {\n            var list = this;\n            var clearTitle = list.options.messages.clear;\n\n            if (!list._clear) {\n                list._clear = $('<span unselectable=\"on\" class=\"k-clear-value\" title=\"' + clearTitle + '\"><span class=\"k-icon k-i-x\"></span></span>').attr({\n                    \"role\": \"button\",\n                    \"tabIndex\": -1\n                });\n            }\n\n            if (!list.options.clearButton) {\n                list._clear.remove();\n            }\n            this._hideClear();\n        },\n\n        search: function(word) {\n            var options = this.options;\n\n            word = typeof word === \"string\" ? word : this._inputValue();\n\n            clearTimeout(this._typingTimeout);\n\n            if ((!options.enforceMinLength && !word.length) || word.length >= options.minLength) {\n                this._state = \"filter\";\n                if (this.listView) {\n                    this.listView._emptySearch = !kendo.trim(word).length;\n                }\n\n                if (!this._isFilterEnabled()) {\n                    this._searchByWord(word);\n                } else {\n                    this._filter({ word: word, open: true });\n                }\n            }\n        },\n\n        current: function(candidate) {\n            return this._focus(candidate);\n        },\n\n        items: function() {\n            return this.ul[0].children;\n        },\n\n        destroy: function() {\n            var that = this;\n            var ns = that.ns;\n\n            Widget.fn.destroy.call(that);\n\n            that._unbindDataSource();\n\n            that.listView.destroy();\n            that.list.off(ns);\n\n            that.popup.destroy();\n\n            if (that._form) {\n                that._form.off(\"reset\", that._resetHandler);\n            }\n        },\n\n        dataItem: function(index) {\n            var that = this;\n\n            if (index === undefined) {\n                return that.listView.selectedDataItems()[0];\n            }\n\n            if (typeof index !== \"number\") {\n                if (that.options.virtual) {\n                    return that.dataSource.getByUid($(index).data(\"uid\"));\n                }\n\n                index = $(that.items()).index(index);\n            }\n\n            return that.dataSource.flatView()[index];\n        },\n\n        _activateItem: function() {\n            var current = this.listView.focus();\n            if (current && this.popup.visible()) {\n                this._focused.add(this.filterInput).attr(ARIA_ACTIVEDESCENDANT, current.attr(\"id\"));\n            }\n        },\n\n        _deactivateItem: function() {\n            this._focused.add(this.filterInput).removeAttr(ARIA_ACTIVEDESCENDANT);\n        },\n\n        _accessors: function() {\n            var that = this;\n            var element = that.element;\n            var options = that.options;\n            var getter = kendo.getter;\n            var textField = element.attr(kendo.attr(\"text-field\"));\n            var valueField = element.attr(kendo.attr(\"value-field\"));\n\n            if (!options.dataTextField && textField) {\n                options.dataTextField = textField;\n            }\n\n            if (!options.dataValueField && valueField) {\n                options.dataValueField = valueField;\n            }\n\n            that._text = getter(options.dataTextField);\n            that._value = getter(options.dataValueField);\n        },\n\n        _aria: function(id) {\n            var that = this,\n                options = that.options,\n                element = that._focused,\n                autocomplete;\n\n            if (options.suggest !== undefined) {\n                if (options.filter === \"none\") {\n                    if (options.suggest === true) {\n                        autocomplete = \"inline\";\n                    } else {\n                        autocomplete = \"none\";\n                    }\n                } else {\n                    if (options.suggest === true) {\n                        autocomplete = \"both\";\n                    } else {\n                        autocomplete = \"list\";\n                    }\n                }\n\n                element.attr(ARIA_AUTOCOMPLETE, autocomplete);\n            }\n\n            id = id ? id + \" \" + that.ul[0].id : that.ul[0].id;\n\n            element.attr({\n                \"aria-controls\": id\n            });\n\n            if (that.filterInput && that.filterInput.length > 0) {\n                that.filterInput.attr(ARIA_CONTROLS, id);\n            }\n\n            that.ul.attr(ARIA_LIVE, !that._isFilterEnabled() ? \"off\" : \"polite\");\n\n            that._ariaLabel(that._focused);\n        },\n\n        _blur: function() {\n            var that = this;\n\n            that._change();\n            that.close();\n            that._userTriggered = false;\n        },\n\n        _isValueChanged: function(value) {\n            return value !== unifyType(this._old, typeof value);\n        },\n\n        _change: function() {\n            var that = this;\n            var index = that.selectedIndex;\n            var optionValue = that.options.value;\n            var value = that.value();\n            var trigger;\n\n            if (that._isSelect && !that.listView.bound() && optionValue) {\n                value = optionValue;\n            }\n\n            if (that._isValueChanged(value)) {\n                trigger = true;\n            } else if (that._valueBeforeCascade !== undefined && that._valueBeforeCascade !== unifyType(that._old, typeof that._valueBeforeCascade) && that._userTriggered) {\n                trigger = true;\n            } else if (index !== undefined && index !== that._oldIndex && !that.listView.isFiltered()) {\n                trigger = true;\n            }\n\n            if (trigger) {\n\n                if (that._old === null || that._old === \"\" || value === \"\") {\n                    that._valueBeforeCascade = that._old = value;\n                } else {\n                    if (that.dataItem()) {\n                        that._valueBeforeCascade = that._old = that.options.dataValueField ? that.dataItem()[that.options.dataValueField] : that.dataItem();\n                    } else {\n                        that._valueBeforeCascade = that._old = null;\n                    }\n                }\n                that._oldIndex = index;\n\n                if (!that._typing) {\n                    // trigger the DOM change event so any subscriber gets notified\n                    that.element.trigger(CHANGE);\n                }\n\n                that.trigger(CHANGE);\n            }\n\n            that.typing = false;\n        },\n\n        _data: function() {\n            return this.dataSource.view();\n        },\n\n        _enable: function() {\n            var that = this,\n                options = that.options,\n                disabled = that.element.is(\"[disabled]\");\n\n            if (options.enable !== undefined) {\n                options.enabled = options.enable;\n            }\n\n            if (!options.enabled || disabled) {\n                that.enable(false);\n            } else {\n                that.readonly(that.element.is(\"[readonly]\"));\n            }\n        },\n\n        _dataValue: function(dataItem) {\n            var value = this._value(dataItem);\n\n            if (value === undefined) {\n                value = this._text(dataItem);\n            }\n\n            return value;\n        },\n\n        _offsetHeight: function() {\n            var offsetHeight = 0;\n            var siblings = this.listView.content.parent().prevAll(\":visible\");\n\n            siblings.each(function() {\n                var element = $(this);\n\n                offsetHeight += outerHeight(element, true);\n            });\n\n            return offsetHeight;\n        },\n\n        _height: function(length) {\n            var that = this;\n            var list = that.list;\n            var height = that.options.height;\n            var visible = that.popup.visible();\n            var isMccb = this.options.columns && this.options.columns.length;\n            var offsetTop, popups;\n\n            if (length || that.options.noDataTemplate) {\n                // Check where animation container stays\n                popups = list.parent().add(list.closest(\".k-animation-container\")).show();\n\n                if (!list.parent().is(\":visible\")) {\n                    popups.hide();\n                    return;\n                }\n\n                height = that.listView.content[0].scrollHeight > height ? height : \"auto\";\n\n                popups.height(height);\n\n                if (height !== \"auto\") {\n                    offsetTop = that._offsetHeight();\n\n                    height = height - offsetTop;\n\n                    if (isMccb) {\n                        height = height - (outerHeight($(that.footer)) || 0) - (outerHeight($(that.columnsHeader)) || 0);\n                    }\n                }\n\n                if (isMccb) {\n                    that.listView.content.outerHeight(height);\n                } else {\n                    that.listView.content.parent().outerHeight(height);\n                }\n\n                if (!visible) {\n                    list.parent().hide();\n                }\n            }\n\n            return height;\n        },\n\n        _openHandler: function(e) {\n            var current;\n\n            this._adjustListWidth();\n\n            if (this.trigger(OPEN)) {\n                e.preventDefault();\n            } else {\n                this._focused.attr(ARIA_EXPANDED, true);\n                this.ul.attr(ARIA_HIDDEN, false);\n\n                current = this.listView.focus();\n                if (current) {\n                    this._focused.add(this.filterInput).attr(ARIA_ACTIVEDESCENDANT, current.attr(\"id\"));\n                }\n            }\n        },\n\n        _adjustListWidth: function() {\n            var that = this,\n                list = that.list.parent(),\n                width = list[0].style.width,\n                wrapper = that.wrapper,\n                computedStyle, computedWidth;\n\n            if (!list.data(WIDTH) && width) {\n                return;\n            }\n\n            computedStyle = window.getComputedStyle ? window.getComputedStyle(wrapper[0], null) : 0;\n            computedWidth = parseFloat(computedStyle && computedStyle.width) || outerWidth(wrapper);\n\n            if (computedStyle && browser.msie) { // getComputedStyle returns different box in IE.\n                computedWidth += parseFloat(computedStyle.paddingLeft) + parseFloat(computedStyle.paddingRight) + parseFloat(computedStyle.borderLeftWidth) + parseFloat(computedStyle.borderRightWidth);\n            }\n\n            if (list.css(\"box-sizing\") !== \"border-box\") {\n                width = computedWidth - (outerWidth(list) - list.width());\n            } else {\n                width = computedWidth;\n            }\n\n            list.css({\n                fontFamily: wrapper.css(\"font-family\"),\n                width: that.options.autoWidth ? \"auto\" : width,\n                minWidth: width,\n                whiteSpace: that.options.autoWidth ? \"nowrap\" : \"normal\"\n            })\n            .data(WIDTH, width);\n\n            return true;\n        },\n\n        _closeHandler: function(e) {\n            if (this.trigger(CLOSE)) {\n                e.preventDefault();\n            } else {\n                this._focused.attr(ARIA_EXPANDED, false);\n                this.ul.attr(ARIA_HIDDEN, true);\n                this._focused.add(this.filterInput).removeAttr(ARIA_ACTIVEDESCENDANT);\n            }\n        },\n\n        _focusItem: function() {\n            var listView = this.listView;\n            var noFocusedItem = !listView.focus();\n            var index = last(listView.select());\n\n            if (index === undefined && this.options.highlightFirst && noFocusedItem) {\n                index = 0;\n            }\n\n            if (index !== undefined) {\n                listView.focus(index);\n            } else if (noFocusedItem) {\n                listView.scrollToIndex(0);\n            }\n        },\n\n        _calculateGroupPadding: function(height) {\n            var li = this.ul.children(\".k-first\").first();\n            var groupHeader = this.listView.content.prev(FIXED_GROUP_HEADER);\n            var padding = 0;\n            var direction = 'right';\n\n            if (groupHeader[0] && groupHeader[0].style.display !== \"none\") {\n                if (height !== \"auto\") {\n                    padding = kendo.support.scrollbar();\n                }\n\n                if (this.element.parents('.k-rtl').length) {\n                    direction = 'left';\n                }\n\n                padding += parseFloat(li.css(\"border-\" + direction + \"-width\"), 10) + parseFloat(li.children(GROUP_LABEL).css(\"padding-\" + direction), 10);\n                groupHeader.css(\"padding-\" + direction, padding);\n            }\n        },\n\n        _calculatePopupHeight: function(force) {\n            var height = this._height(this.dataSource.flatView().length || force);\n            this._calculateGroupPadding(height);\n            this._calculateColumnsHeaderPadding(height);\n        },\n\n        _calculateColumnsHeaderPadding: function(height) {\n            if (this.options.columns && this.options.columns.length) {\n                var list = this;\n                var isRtl = support.isRtl(list.wrapper);\n                var scrollbar = kendo.support.scrollbar();\n\n                list.columnsHeader.css((isRtl ? \"padding-left\" : \"padding-right\"), height !== \"auto\" ? scrollbar : 0);\n            }\n        },\n\n        _refreshScroll: function() {\n            var listView = this.listView;\n            var enableYScroll = listView.element.height() > listView.content.height();\n\n            if (this.options.autoWidth) {\n                listView.content.css({\n                    overflowX: \"hidden\",\n                    overflowY: enableYScroll ? \"scroll\" : \"auto\"\n                });\n            }\n        },\n\n        _resizePopup: function(force) {\n            if (this.options.virtual) {\n                return;\n            }\n\n            if (!this.popup.element.is(\":visible\")) {\n                this.popup.one(\"open\", (function(force) {\n                    return (function() {\n                        this._calculatePopupHeight(force);\n                    }).bind(this);\n                }).call(this, force));\n\n                this.popup.one(ACTIVATE, this._refreshScroll.bind(this));\n            } else {\n                this._calculatePopupHeight(force);\n            }\n        },\n\n        _popup: function() {\n            var list = this;\n\n            list.list.wrap(\"<div>\");\n\n            list.popup = new ui.Popup(list.list.parent(), extend({}, list.options.popup, {\n                anchor: list.wrapper,\n                open: list._openHandler.bind(list),\n                close: list._closeHandler.bind(list),\n                animation: list.options.animation,\n                isRtl: support.isRtl(list.wrapper),\n                autosize: list.options.autoWidth\n            }));\n\n            list.popup.element.prepend(list.header)\n                .on(MOUSEDOWN + this.ns, this._listMousedown.bind(this));\n        },\n\n        _toggleHover: function(e) {\n            $(e.currentTarget).toggleClass(HOVER, e.type === MOUSEENTER);\n        },\n\n        _toggle: function(open, preventFocus) {\n            var that = this;\n            var touchEnabled = support.mobileOS && (support.touch || support.MSPointers || support.pointers);\n\n            open = open !== undefined ? open : !that.popup.visible();\n\n            if (!preventFocus && !touchEnabled && that._focused[0] !== activeElement()) {\n                that._prevent = true;\n                that._focused.trigger(FOCUS);\n                that._prevent = false;\n            }\n\n            that[open ? OPEN : CLOSE]();\n        },\n\n        _triggerCascade: function() {\n            var that = this;\n\n            if (!that._cascadeTriggered || that.value() !== unifyType(that._cascadedValue, typeof that.value())) {\n                that._cascadedValue = that.value();\n                that._cascadeTriggered = true;\n                that.trigger(CASCADE, { userTriggered: that._userTriggered });\n            }\n        },\n\n        _triggerChange: function() {\n            if (this._valueBeforeCascade !== this.value()) {\n                this.trigger(CHANGE);\n            }\n        },\n\n        _unbindDataSource: function() {\n            var that = this;\n\n            that.dataSource.unbind(REQUESTSTART, that._requestStartHandler)\n                           .unbind(REQUESTEND, that._requestEndHandler)\n                           .unbind(\"error\", that._errorHandler);\n        },\n\n        requireValueMapper: function(options, value) {\n            var hasValue = (options.value instanceof Array ? options.value.length : options.value) || (value instanceof Array ? value.length : value);\n            if (hasValue && options.virtual && typeof options.virtual.valueMapper !== \"function\") {\n                throw new Error(\"ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function\");\n            }\n        }\n    });\n\n    function unifyType(value, type) {\n        if (value !== undefined && value !== \"\" && value !== null) {\n            if (type === \"boolean\") {\n                if (typeof value !== \"boolean\") {\n                    value = value.toString().toLowerCase() === \"true\";\n                }\n                value = Boolean(value);\n            } else if (type === \"number\") {\n                value = Number(value);\n            } else if (type === \"string\") {\n                value = value.toString();\n            }\n        }\n\n        return value;\n    }\n\n    extend(List, {\n        inArray: function(node, parentNode) {\n            var idx, length, siblings = parentNode.children;\n\n            if (!node || node.parentNode !== parentNode) {\n                return -1;\n            }\n\n            for (idx = 0, length = siblings.length; idx < length; idx++) {\n                if (node === siblings[idx]) {\n                    return idx;\n                }\n            }\n\n            return -1;\n        },\n        unifyType: unifyType\n    });\n\n    kendo.ui.List = List;\n\n    ui.Select = List.extend({\n        init: function(element, options) {\n            List.fn.init.call(this, element, options);\n            this._initial = this.element.val();\n        },\n\n        setDataSource: function(dataSource) {\n            var that = this;\n            var parent;\n\n            that.options.dataSource = dataSource;\n\n            that._dataSource();\n\n            if (that.listView.bound()) {\n                that._initialIndex = null;\n                that.listView._current = null;\n            }\n\n            that.listView.setDataSource(that.dataSource);\n\n            if (that.options.autoBind) {\n                that.dataSource.fetch();\n            }\n\n            parent = that._parentWidget();\n\n            if (parent) {\n                that._cascadeSelect(parent);\n            }\n        },\n\n        close: function() {\n            this.popup.close();\n        },\n\n        select: function(candidate) {\n            var that = this;\n\n            if (candidate === undefined) {\n                return that.selectedIndex;\n            } else {\n                return that._select(candidate).done(function() {\n                    that._cascadeValue = that._old = that._accessor();\n                    that._oldIndex = that.selectedIndex;\n                });\n            }\n        },\n\n        _accessor: function(value, idx) {\n            return this[this._isSelect ? \"_accessorSelect\" : \"_accessorInput\"](value, idx);\n        },\n\n        _accessorInput: function(value) {\n            var element = this.element[0];\n\n            if (value === undefined) {\n                return element.value;\n            } else {\n                if (value === null) {\n                    value = \"\";\n                }\n                element.value = value;\n            }\n        },\n\n        _accessorSelect: function(value, idx) {\n            var element = this.element[0];\n            var hasValue;\n\n            if (value === undefined) {\n                return getSelectedOption(element).value || \"\";\n            }\n\n            getSelectedOption(element).selected = false;\n\n            if (idx === undefined) {\n                idx = -1;\n            }\n\n            hasValue = (value !== null && value !== \"\");\n\n            if (hasValue && idx == -1) {\n                this._custom(value);\n            } else {\n                if (value) {\n                    element.value = value;\n                } else {\n                    element.selectedIndex = idx;\n                }\n            }\n        },\n\n        _syncValueAndText: function() {\n            return true;\n        },\n\n        _custom: function(value) {\n            var that = this;\n            var element = that.element;\n            var custom = that._customOption;\n\n            if (!custom) {\n                custom = $(\"<option/>\");\n                that._customOption = custom;\n\n                element.append(custom);\n            }\n\n            custom.text(value);\n            custom[0].selected = true;\n        },\n\n        _hideBusy: function() {\n            var that = this;\n            clearTimeout(that._busy);\n            that._arrowIcon.removeClass(LOADING);\n            that._focused.attr(ARIA_BUSY, false);\n            that._busy = null;\n            that._showClear();\n        },\n\n        _showBusy: function(e) {\n            var that = this;\n\n            if (e.isDefaultPrevented()) {\n                return;\n            }\n\n            that._request = true;\n\n            if (that._busy) {\n                return;\n            }\n\n            that._busy = setTimeout(function() {\n                if (that._arrowIcon) { //destroyed after request start\n                    that._focused.attr(ARIA_BUSY, true);\n                    that._arrowIcon.addClass(LOADING);\n                    that._hideClear();\n                }\n            }, 100);\n        },\n\n        _requestEnd: function() {\n            this._request = false;\n            this._hideBusy();\n        },\n\n        _dataSource: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                dataSource = options.dataSource || {},\n                idx;\n\n            dataSource = Array.isArray(dataSource) ? { data: dataSource } : dataSource;\n\n            if (that._isSelect) {\n                idx = element[0].selectedIndex;\n                if (idx > -1) {\n                    options.index = idx;\n                }\n\n                dataSource.select = element;\n                dataSource.fields = [{ field: options.dataTextField },\n                                     { field: options.dataValueField }];\n            }\n\n            if (that.dataSource) {\n                that._unbindDataSource();\n            } else {\n                that._requestStartHandler = that._showBusy.bind(that);\n                that._requestEndHandler = that._requestEnd.bind(that);\n                that._errorHandler = that._hideBusy.bind(that);\n            }\n\n            that.dataSource = kendo.data.DataSource.create(dataSource)\n                                   .bind(REQUESTSTART, that._requestStartHandler)\n                                   .bind(REQUESTEND, that._requestEndHandler)\n                                   .bind(\"error\", that._errorHandler);\n        },\n\n        _firstItem: function() {\n            this.listView.focusFirst();\n        },\n\n        _lastItem: function() {\n            this.listView.focusLast();\n        },\n\n        _nextItem: function() {\n            return this.listView.focusNext();\n        },\n\n        _prevItem: function() {\n            return this.listView.focusPrev();\n        },\n\n        _getNormalizedDataItem: function(candidate) {\n            var that = this,\n                listView = that.listView,\n                isIndex = typeof candidate === \"number\",\n                hasOptionLabel = that.optionLabel && that.optionLabel.length,\n                index;\n\n            if (isIndex) {\n                index = hasOptionLabel ? --candidate : candidate;\n            } else {\n                index = listView.getElementIndex(candidate);\n            }\n\n            return listView.dataItemByIndex(index);\n        },\n\n        _getNormalizedSelectCandidate: function(candidate) {\n            var that = this,\n                hasOptionLabel = that.optionLabel && that.optionLabel.length,\n                isIndex = typeof candidate === \"number\",\n                normalizedCandidate = candidate;\n\n            if (hasOptionLabel && isIndex) {\n                normalizedCandidate++;\n            }\n\n            return normalizedCandidate;\n        },\n\n        _move: function(e) {\n            var that = this;\n            var listView = that.listView;\n            var key = e.keyCode;\n            var down = key === keys.DOWN;\n            var isVirtual = that.options.virtual;\n            var dataItem;\n            var pressed;\n            var current;\n            var moveIndex;\n            var selectCandidate;\n\n            if (key === keys.UP || down) {\n                if (e.altKey) {\n                    that.toggle(down);\n                } else {\n                    if (!listView.bound() && !that.ul[0].firstChild) {\n                        if (!that._fetch) {\n                            that.dataSource.one(CHANGE, function() {\n                                that._fetch = false;\n                                that._move(e);\n                            });\n\n                            that._fetch = true;\n                            that._filterSource();\n                        }\n\n                        e.preventDefault();\n\n                        return true; //pressed\n                    }\n\n                    current = that._focus();\n\n                    if (!that._fetch && (!current || current.hasClass(KSELECTED))) {\n                        if (down) {\n                            moveIndex = that._nextItem();\n\n                            if ((isVirtual && moveIndex <= 0) || (!that._focus() && !moveIndex) ) {\n                                that._lastItem();\n                            }\n                        } else {\n                            moveIndex = that._prevItem();\n\n                            if ((isVirtual && moveIndex >= listView.dataSource.total() - 1) || (!that._focus() && !moveIndex)) {\n                                that._firstItem();\n                            }\n                        }\n                    }\n\n                    selectCandidate = that._getNormalizedSelectCandidate(that._get(that._focus()) || moveIndex || 0);\n\n                    that._select(selectCandidate, true).done(function() {\n                        var done = function() {\n                            if (!that.popup.visible()) {\n                                that._blur();\n                            }\n\n                            if (that._cascadedValue === null) {\n                                that._cascadedValue = that.value();\n                            } else {\n                                that._cascadedValue = that.dataItem() ? that.dataItem()[that.options.dataValueField] || that.dataItem() : null;\n                            }\n                        };\n\n                        if (that.trigger(SELECT, { dataItem: that._getNormalizedDataItem(selectCandidate), item: that._focus() })) {\n                            that._select(current).done(done);\n                        } else {\n                            done();\n                        }\n                    });\n                }\n\n                e.preventDefault();\n                pressed = true;\n            } else if (key === keys.ENTER || key === keys.TAB) {\n                if (that.popup.visible()) {\n                    e.preventDefault();\n                }\n\n                current = that._focus();\n                dataItem = that.dataItem();\n\n                if (!that.popup.visible() && (!dataItem || that.text() !== that._text(dataItem))) {\n                    current = null;\n                }\n\n                var activeFilter = that.filterInput && that.filterInput[0] === activeElement();\n                var selection;\n\n                if (current) {\n                    dataItem = listView.dataItemByIndex(listView.getElementIndex(current));\n                    var shouldTrigger = true;\n\n                    if (dataItem) {\n                        shouldTrigger = that._value(dataItem) !== List.unifyType(that.value(), typeof that._value(dataItem));\n                    }\n\n                    if (shouldTrigger && that.trigger(SELECT, { dataItem: dataItem, item: current })) {\n                        return;\n                    }\n\n                    selection = that._select(current);\n                } else if (that.input) {\n                    if (that._syncValueAndText() || that._isSelect) {\n                        that._accessor(that.input.val());\n                    }\n                    that.listView.value(that.input.val());\n                }\n\n                if (that._focusElement) {\n                    that._focusElement(that.wrapper);\n                }\n\n                if (activeFilter && key === keys.TAB) {\n                    that.wrapper.focusout();\n                } else {\n                    if (selection && typeof selection.done === \"function\") {\n                        selection.done(function() {\n                            that._blur();\n                        });\n                    } else {\n                        that._blur();\n                    }\n                }\n\n                that.close();\n                pressed = true;\n            } else if (key === keys.ESC) {\n                if (that.popup.visible()) {\n                    e.preventDefault();\n                }\n                that.close();\n                pressed = true;\n            } else if (that.popup.visible() && (key === keys.PAGEDOWN || key === keys.PAGEUP)) {\n                e.preventDefault();\n\n                var direction = key === keys.PAGEDOWN ? 1 : -1;\n                listView.scrollWith(direction * listView.screenHeight());\n\n                pressed = true;\n            }\n\n            return pressed;\n        },\n\n        _fetchData: function() {\n            var that = this;\n            var hasItems = !!that.dataSource.view().length;\n\n            if (that._request || that.options.cascadeFrom) {\n                return;\n            }\n\n            if (!that.listView.bound() && !that._fetch && !hasItems) {\n                that._fetch = true;\n                that.dataSource.fetch().done(function() {\n                    that._fetch = false;\n                });\n            }\n        },\n\n        _options: function(data, optionLabel, value) {\n            var that = this,\n                element = that.element,\n                htmlElement = element[0],\n                length = data.length,\n                options = \"\",\n                option,\n                dataItem,\n                dataText,\n                dataValue,\n                idx = 0;\n\n            if (optionLabel) {\n                options = optionLabel;\n            }\n\n            for (; idx < length; idx++) {\n                option = \"<option\";\n                dataItem = data[idx];\n                dataText = that._text(dataItem);\n                dataValue = that._value(dataItem);\n\n                if (dataValue !== undefined) {\n                    dataValue += \"\";\n\n                    if (dataValue.indexOf('\"') !== -1) {\n                        dataValue = dataValue.replace(quotRegExp, \"&quot;\");\n                    }\n\n                    option += ' value=\"' + dataValue + '\"';\n                }\n\n                option += \">\";\n\n                if (dataText !== undefined) {\n                    option += htmlEncode(dataText);\n                }\n\n                option += \"</option>\";\n                options += option;\n            }\n\n            element.html(options);\n\n            if (value !== undefined) {\n                htmlElement.value = value;\n                if (htmlElement.value && !value) {\n                    htmlElement.selectedIndex = -1;\n                }\n            }\n\n            if (htmlElement.selectedIndex !== -1) {\n                option = getSelectedOption(htmlElement);\n\n                if (option) {\n                    option.setAttribute(SELECTED, SELECTED);\n                }\n            }\n        },\n\n        _reset: function() {\n            var that = this,\n                element = that.element,\n                formId = element.attr(\"form\"),\n                form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    setTimeout(function() {\n                        that.value(that._initial);\n                    });\n                };\n\n                that._form = form.on(\"reset\", that._resetHandler);\n            }\n        },\n\n        _parentWidget: function() {\n            var name = this.options.name;\n\n            if (!this.options.cascadeFrom) {\n                return;\n            }\n\n            var parentElement = $(\"#\" + this.options.cascadeFrom);\n            var parent = parentElement.data(\"kendo\" + name);\n\n            if (!parent) {\n                for (var i = 0; i < alternativeNames[name].length; i += 1) {\n                    parent = parentElement.data(\"kendo\" + alternativeNames[name][i]);\n\n                    if (!!parent) {\n                        break;\n                    }\n                }\n            }\n\n            return parent;\n        },\n\n        _cascade: function() {\n            var that = this;\n            var options = that.options;\n            var cascade = options.cascadeFrom;\n            var parent;\n\n            if (cascade) {\n                parent = that._parentWidget();\n\n                if (!parent) {\n                    return;\n                }\n\n                that._cascadeHandlerProxy = that._cascadeHandler.bind(that);\n                that._cascadeFilterRequests = [];\n\n                options.autoBind = false;\n\n                parent.bind(\"set\", function() { //will cascade\n                    that.one(\"set\", function(e) { //get your value\n                        that._selectedValue = e.value || that._accessor();\n                    });\n                });\n\n                parent.first(CASCADE, that._cascadeHandlerProxy);\n\n                //refresh was called\n                if (parent.listView.bound()) {\n                    that._toggleCascadeOnFocus();\n                    that._cascadeSelect(parent);\n                } else {\n                    parent.one(DATA_BOUND, function() {\n                        that._toggleCascadeOnFocus();\n                        if (parent.popup.visible()) {\n                            parent._focused.trigger(FOCUS);\n                        }\n                    });\n\n                    if (!parent.value()) {\n                        that.enable(false);\n                    }\n                }\n            }\n        },\n\n        _toggleCascadeOnFocus: function() {\n            var that = this;\n            var parent = that._parentWidget();\n            var focusout = isIE && parent instanceof ui.DropDownList ? BLUR : FOCUSOUT;\n\n            parent._focused.add(parent.filterInput).on(FOCUS, function() {\n                parent.unbind(CASCADE, that._cascadeHandlerProxy);\n                parent.unbind(CHANGE, that._cascadeHandlerProxy);\n                parent.first(CHANGE, that._cascadeHandlerProxy);\n            });\n\n            parent._focused.add(parent.filterInput).on(focusout, function() {\n                parent.unbind(CHANGE, that._cascadeHandlerProxy);\n                parent.unbind(CASCADE, that._cascadeHandlerProxy);\n                parent.first(CASCADE, that._cascadeHandlerProxy);\n            });\n        },\n\n        _cascadeHandler: function(e) {\n            var parent = this._parentWidget();\n            var valueBeforeCascade = this.value();\n\n            this._userTriggered = e.userTriggered || parent._userTriggered;\n\n            if (this.listView.bound()) {\n                this._clearSelection(parent, true);\n            }\n\n            this._cascadeSelect(parent, valueBeforeCascade);\n        },\n\n        _cascadeChange: function(parent) {\n            var that = this;\n            var value = that._accessor() || that._selectedValue;\n\n            if (!that._cascadeFilterRequests.length) {\n                that._selectedValue = null;\n            }\n\n            if (that._userTriggered) {\n                that._clearSelection(parent, true);\n            } else if (value) {\n                if (value !== unifyType(that.listView.value()[0], typeof value)) {\n                    that.value(value);\n                }\n\n                if (!that.dataSource.view()[0] || that.selectedIndex === -1) {\n                    that._clearSelection(parent, true);\n                }\n            } else if (that.dataSource.flatView().length) {\n                that.select(that.options.index);\n            }\n\n            that.enable();\n            that._triggerCascade();\n            that._triggerChange();\n            that._userTriggered = false;\n        },\n\n        _cascadeSelect: function(parent, valueBeforeCascade) {\n            var that = this;\n            var dataItem = parent.dataItem();\n            var filterValue = dataItem ? dataItem[that.options.cascadeFromParentField] || parent._value(dataItem) : null;\n            var valueField = that.options.cascadeFromField || parent.options.dataValueField;\n            var expressions;\n\n            that._valueBeforeCascade = valueBeforeCascade !== undefined ? valueBeforeCascade : that.value();\n\n            if (filterValue || filterValue === 0) {\n                expressions = that.dataSource.filter() || {};\n                removeFiltersForField(expressions, valueField);\n\n                var handler = function() {\n                    var currentHandler = that._cascadeFilterRequests.shift();\n                    if (currentHandler) {\n                        that.unbind('dataBound', currentHandler);\n                    }\n\n                    currentHandler = that._cascadeFilterRequests[0];\n                    if (currentHandler) {\n                        that.first('dataBound', currentHandler);\n                    }\n\n                    that._cascadeChange(parent);\n                };\n\n                that._cascadeFilterRequests.push(handler);\n\n                if (that._cascadeFilterRequests.length === 1) {\n                    that.first('dataBound', handler);\n                }\n\n                that._cascading = true;\n                that._filterSource({\n                    field: valueField,\n                    operator: \"eq\",\n                    value: filterValue\n                });\n                that._cascading = false;\n            } else {\n                that.enable(false);\n                that._clearSelection(parent);\n                that._triggerCascade();\n                that._triggerChange();\n                that._userTriggered = false;\n            }\n        }\n    });\n\n    var STATIC_LIST_NS = \".StaticList\";\n\n    var StaticList = kendo.ui.DataBoundWidget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n\n            this.element.attr(\"role\", \"listbox\")\n                        .on(CLICK + STATIC_LIST_NS, \"li\", this._click.bind(this))\n                        .on(MOUSEENTER + STATIC_LIST_NS, \"li\", function() { $(this).addClass(HOVER); })\n                        .on(MOUSELEAVE + STATIC_LIST_NS, \"li\", function() { $(this).removeClass(HOVER); });\n\n            if (options && options.ariaLabel) {\n                this.element.attr(ARIA_LABEL, options.ariaLabel);\n            } else if (options && options.ariaLabelledBy) {\n                this.element.attr(ARIA_LABELLEDBY, options.ariaLabelledBy);\n            }\n\n            if (support.touch) {\n                this._touchHandlers();\n            }\n\n            if (this.options.selectable === \"multiple\") {\n                this.element.attr(ARIA_MULTISELECTABLE, true);\n            }\n\n            if (this.options.columns && this.options.columns.length) {\n                var thead = this.element.parent().find('.k-table-thead');\n                var row = $('<tr class=\"k-table-group-row\">' +\n                    '<th class=\"k-table-th\" colspan=\"' + this.options.columns.length + '\"></th>' +\n                '</tr>');\n\n                thead.append(row);\n\n                this.header = row.find(\".k-table-th\");\n\n                this.content = this.element.wrap(\"<div class='k-table-body k-table-scroller' unselectable='on'></div>\").parent();\n\n                this.element.addClass(TABLE_LIST);\n            } else {\n                this.content = this.element.wrap(\"<div class='k-list-content k-list-scroller' unselectable='on'></div>\").parent();\n                this.header = this.content.before('<div class=\"k-list-group-sticky-header\" style=\"display:none\"></div>').prev();\n                this.element.addClass(LIST_UL);\n            }\n\n            this.bound(false);\n\n            this._optionID = kendo.guid();\n\n            this._selectedIndices = [];\n\n            this._view = [];\n            this._dataItems = [];\n            this._values = [];\n\n            var value = this.options.value;\n\n            if (value) {\n                this._values = Array.isArray(value) ? value.slice(0) : [value];\n            }\n\n            this._getter();\n            this._templates();\n\n            this.setDataSource(this.options.dataSource);\n\n            this._createOnScrollProxy();\n        },\n\n        options: {\n            name: \"StaticList\",\n            dataValueField: null,\n            valuePrimitive: false,\n            selectable: true,\n            template: null,\n            groupTemplate: null,\n            fixedGroupTemplate: null,\n            ariaLabel: null,\n            ariaLabelledBy: null\n        },\n\n        events: [\n           CLICK,\n            CHANGE,\n           ACTIVATE,\n           DEACTIVATE,\n           DATA_BINDING,\n           DATA_BOUND,\n           SELECTED_ITEM_CHANGE\n        ],\n\n        setDataSource: function(source) {\n            var that = this;\n            var dataSource = source || {};\n            var value;\n\n            dataSource = Array.isArray(dataSource) ? { data: dataSource } : dataSource;\n            dataSource = kendo.data.DataSource.create(dataSource);\n\n            if (that.dataSource) {\n                that.dataSource.unbind(CHANGE, that._refreshHandler);\n\n                value = that.value();\n\n                that.value([]);\n                that.bound(false);\n\n                that.value(value);\n            } else {\n                that._refreshHandler = that.refresh.bind(that);\n            }\n\n            that.setDSFilter(dataSource.filter());\n\n            that.dataSource = dataSource.bind(CHANGE, that._refreshHandler);\n            that._fixedHeader();\n        },\n\n        _touchHandlers: function() {\n            var that = this,\n                itemSelector = this.options.columns && this.options.columns.length ? ITEMSELECTORTABLE : ITEMSELECTOR,\n                startY, endY,\n                tapPosition = function(event) {\n                    return (event.originalEvent || event).changedTouches[0].pageY;\n                };\n\n            that.element.on(\"touchstart\" + STATIC_LIST_NS, function(e) {\n                startY = tapPosition(e);\n            });\n\n            that.element.on(\"touchend\" + STATIC_LIST_NS, function(e) {\n                if (e.isDefaultPrevented()) {\n                    return;\n                }\n\n                endY = tapPosition(e);\n\n                if (Math.abs(endY - startY) < 10) {\n                    that._touchTriggered = true;\n                    that._triggerClick($(e.target).closest(itemSelector).get(0));\n                }\n            });\n        },\n\n        skip: function() {\n            return this.dataSource.skip();\n        },\n\n        setOptions: function(options) {\n            Widget.fn.setOptions.call(this, options);\n\n            this._getter();\n            this._templates();\n            this._render();\n        },\n\n        destroy: function() {\n            this.element.off(STATIC_LIST_NS);\n\n            if (this._refreshHandler) {\n                this.dataSource.unbind(CHANGE, this._refreshHandler);\n            }\n\n            clearTimeout(this._scrollId);\n\n            Widget.fn.destroy.call(this);\n        },\n\n        dataItemByIndex: function(index) {\n            return this.dataSource.flatView()[index];\n        },\n\n        screenHeight: function() {\n            return this.content[0].clientHeight;\n        },\n\n        scrollToIndex: function(index) {\n            var item = this.element[0].children[index];\n\n            if (item) {\n                this.scroll(item);\n            }\n        },\n\n        scrollWith: function(value) {\n            this.content.scrollTop(this.content.scrollTop() + value);\n        },\n\n        scroll: function(item) {\n            if (!item) {\n                return;\n            }\n\n            if (item[0]) {\n                item = item[0];\n            }\n\n            var content = this.content[0],\n                itemOffsetTop = item.offsetTop,\n                itemOffsetHeight = item.offsetHeight,\n                contentScrollTop = content.scrollTop,\n                contentOffsetHeight = content.clientHeight,\n                bottomDistance = itemOffsetTop + itemOffsetHeight;\n\n                if (contentScrollTop > itemOffsetTop) {\n                    contentScrollTop = itemOffsetTop;\n                } else if (bottomDistance > (contentScrollTop + contentOffsetHeight)) {\n                    contentScrollTop = (bottomDistance - contentOffsetHeight);\n                }\n\n                content.scrollTop = contentScrollTop;\n        },\n\n        selectedDataItems: function(dataItems) {\n            if (dataItems === undefined) {\n                return this._dataItems.slice();\n            }\n\n            this._dataItems = dataItems;\n            this._values = this._getValues(dataItems);\n        },\n\n        _getValues: function(dataItems) {\n            var getter = this._valueGetter;\n\n            return $.map(dataItems, function(dataItem) {\n                return getter(dataItem);\n            });\n        },\n\n        focusNext: function() {\n            var current = this.focus();\n\n            if (!current) {\n                current = 0;\n            } else {\n                current = current.next();\n            }\n\n            this.focus(current);\n        },\n\n        focusPrev: function() {\n            var current = this.focus();\n\n            if (!current) {\n                current = this.element[0].children.length - 1;\n            } else {\n                current = current.prev();\n            }\n\n            this.focus(current);\n        },\n\n        focusFirst: function() {\n            this.focus(this.element[0].children[0]);\n        },\n\n        focusLast: function() {\n            this.focus(last(this.element[0].children));\n        },\n\n        focus: function(candidate) {\n            var that = this;\n            var id = that._optionID;\n            var hasCandidate;\n\n            if (candidate === undefined) {\n                return that._current;\n            }\n\n            candidate = last(that._get(candidate));\n            candidate = $(this.element[0].children[candidate]);\n\n            if (that._current) {\n                that._current\n                    .removeClass(FOCUSED)\n                    .removeAttr(ID);\n\n                that.trigger(DEACTIVATE);\n            }\n\n            hasCandidate = !!candidate[0];\n\n            if (hasCandidate) {\n                candidate.addClass(FOCUSED);\n                that.scroll(candidate);\n\n                candidate.attr(\"id\", id);\n            }\n\n            that._current = hasCandidate ? candidate : null;\n            that.trigger(ACTIVATE);\n        },\n\n        focusIndex: function() {\n            return this.focus() ? this.focus().index() : undefined;\n        },\n\n        skipUpdate: function(skipUpdate) {\n            this._skipUpdate = skipUpdate;\n        },\n\n        select: function(indices) {\n            var that = this;\n            var selectable = that.options.selectable;\n            var singleSelection = selectable !== \"multiple\" && selectable !== false;\n            var selectedIndices = that._selectedIndices;\n            var uiSelectedIndices = [this.element.find(\".k-selected\").index()];\n\n            var added = [];\n            var removed = [];\n            var result;\n\n            if (indices === undefined) {\n                return selectedIndices.slice();\n            }\n\n            indices = that._get(indices);\n\n            if (indices.length === 1 && indices[0] === -1) {\n                indices = [];\n            }\n\n            var deferred = $.Deferred().resolve();\n            var filtered = that.isFiltered();\n\n            if (filtered && !singleSelection && that._deselectFiltered(indices)) {\n                return deferred;\n            }\n\n            if (singleSelection && !filtered &&\n                $.inArray(last(indices), selectedIndices) !== -1 && $.inArray(last(indices), uiSelectedIndices) !== -1) {\n\n                if (that._dataItems.length && that._view.length) {\n                    that._dataItems = [that._view[selectedIndices[0]].item];\n                }\n\n                return deferred;\n            }\n\n            result = that._deselect(indices);\n\n            removed = result.removed;\n            indices = result.indices;\n\n            if (indices.length) {\n                if (singleSelection) {\n                    indices = [last(indices)];\n                }\n\n                added = that._select(indices);\n            }\n\n            if (added.length || removed.length) {\n                that._valueComparer = null;\n                that.trigger(CHANGE, {\n                    added: added,\n                    removed: removed\n                });\n            }\n\n            return deferred;\n        },\n\n        removeAt: function(position) {\n            this._selectedIndices.splice(position, 1);\n            this._values.splice(position, 1);\n            this._valueComparer = null;\n\n            return {\n                position: position,\n                dataItem: this._dataItems.splice(position, 1)[0]\n            };\n        },\n\n        setValue: function(value) {\n            value = Array.isArray(value) || value instanceof ObservableArray ? value.slice(0) : [value];\n\n            this._values = value;\n\n            this._valueComparer = null;\n        },\n\n        value: function(value) {\n            var that = this;\n            var deferred = that._valueDeferred;\n            var indices;\n\n            if (value === undefined) {\n                return that._values.slice();\n            }\n\n            that.setValue(value);\n\n            if (!deferred || deferred.state() === \"resolved\") {\n                that._valueDeferred = deferred = $.Deferred();\n            }\n\n            if (that.bound()) {\n                indices = that._valueIndices(that._values);\n\n                if (that.options.selectable === \"multiple\") {\n                    that.select(-1);\n                }\n\n                that.select(indices);\n\n                deferred.resolve();\n            }\n\n            that._skipUpdate = false;\n\n            return deferred;\n        },\n\n        items: function() {\n            return this.element.children(ITEMSELECTOR);\n        },\n\n        _click: function(e) {\n            if (this._touchTriggered)\n            {\n                this._touchTriggered = false;\n                return;\n            }\n\n            if (!e.isDefaultPrevented()) {\n                this._triggerClick(e.currentTarget);\n            }\n        },\n\n        _createOnScrollProxy: function() {\n            var onScrollProxy = function() {\n                var that = this;\n                clearTimeout(that._scrollId);\n\n                that._scrollId = setTimeout(function() {\n                    that._renderHeader();\n                }, 50);\n            };\n\n            this._onScroll = onScrollProxy.bind(this);\n        },\n\n        _triggerClick: function(item) {\n            if (!this.trigger(CLICK, { item: $(item) })) {\n                this.select(item);\n            }\n        },\n\n        _valueExpr: function(type, values) {\n            var that = this;\n            var idx = 0;\n\n            var body;\n            var comparer;\n            var normalized = [];\n\n            if (!that._valueComparer || that._valueType !== type) {\n                that._valueType = type;\n\n                for (; idx < values.length; idx++) {\n                    normalized.push(unifyType(values[idx], type));\n                }\n\n                body = \"for (var idx = 0; idx < \" + normalized.length + \"; idx++) {\" +\n                        \" if (current === values[idx]) {\" +\n                        \"   return idx;\" +\n                        \" }\" +\n                        \"} \" +\n                        \"return -1;\";\n\n                comparer = new Function(\"current\", \"values\", body);\n\n                that._valueComparer = function(current) {\n                    return comparer(current, normalized);\n                };\n            }\n\n            return that._valueComparer;\n        },\n\n        _dataItemPosition: function(dataItem, values) {\n            var value = this._valueGetter(dataItem);\n\n            var valueExpr = this._valueExpr(typeof value, values);\n\n            return valueExpr(value);\n        },\n\n        _getter: function() {\n            this._valueGetter = kendo.getter(this.options.dataValueField);\n        },\n\n        _deselect: function(indices) {\n            var that = this;\n            var children = that.element[0].children;\n            var selectable = that.options.selectable;\n            var selectedIndices = that._selectedIndices;\n            var dataItems = that._dataItems;\n            var values = that._values;\n            var removed = [];\n            var i = 0;\n            var j;\n\n            var index, selectedIndex;\n            var removedIndices = 0;\n\n            indices = indices.slice();\n\n            if (selectable === true || !indices.length) {\n                for (; i < selectedIndices.length; i++) {\n                    $(children[selectedIndices[i]]).removeClass(KSELECTED).attr(ARIA_SELECTED, false);\n\n                    removed.push({\n                        position: i,\n                        dataItem: dataItems[i]\n                    });\n                }\n\n                that._values = [];\n                that._dataItems = [];\n                that._selectedIndices = [];\n            } else if (selectable === \"multiple\") {\n                for (; i < indices.length; i++) {\n                    index = indices[i];\n\n                    if (!$(children[index]).hasClass(KSELECTED)) {\n                        continue;\n                    }\n\n                    for (j = 0; j < selectedIndices.length; j++) {\n                        selectedIndex = selectedIndices[j];\n\n                        if (selectedIndex === index) {\n                            $(children[selectedIndex]).removeClass(KSELECTED).attr(ARIA_SELECTED, false);\n                            var dataItem = this._view[index].item;\n                            var position = this._dataItemPosition(dataItem, this._values);\n\n                            removed.push({\n                                position: position,\n                                dataItem: dataItem\n                            });\n\n                            dataItems.splice(j, 1);\n                            selectedIndices.splice(j, 1);\n                            indices.splice(i, 1);\n                            values.splice(j, 1);\n\n                            removedIndices += 1;\n                            i -= 1;\n                            j -= 1;\n                            break;\n                        }\n                    }\n                }\n            }\n\n            return {\n                indices: indices,\n                removed: removed\n            };\n        },\n\n        _deselectFiltered: function(indices) {\n            var children = this.element[0].children;\n            var dataItem, index, position;\n            var removed = [];\n            var idx = 0;\n\n            for (; idx < indices.length; idx++) {\n                index = indices[idx];\n\n                dataItem = this._view[index].item;\n                position = this._dataItemPosition(dataItem, this._values);\n\n                if (position > -1) {\n                    removed.push(this.removeAt(position));\n                    $(children[index]).removeClass(KSELECTED);\n                }\n            }\n\n            if (removed.length) {\n                this.trigger(CHANGE, {\n                    added: [],\n                    removed: removed\n                });\n\n                return true;\n            }\n\n            return false;\n        },\n\n        _select: function(indices) {\n            var that = this;\n            var children = that.element[0].children;\n            var data = that._view;\n            var dataItem, index;\n            var added = [];\n            var idx = 0;\n\n            if (last(indices) !== -1) {\n                that.focus(indices);\n            }\n\n            for (; idx < indices.length; idx++) {\n                index = indices[idx];\n                dataItem = data[index];\n\n                if (index === -1 || !dataItem) {\n                    continue;\n                }\n\n                dataItem = dataItem.item;\n\n                that._selectedIndices.push(index);\n                that._dataItems.push(dataItem);\n                that._values.push(that._valueGetter(dataItem));\n\n                $(children[index]).addClass(KSELECTED).attr(ARIA_SELECTED, true);\n\n                added.push({\n                    dataItem: dataItem\n                });\n            }\n\n            return added;\n        },\n\n        getElementIndex: function(element) {\n            return $(element).data(\"offset-index\");\n        },\n\n        _get: function(candidate) {\n            if (typeof candidate === \"number\") {\n                candidate = [candidate];\n            } else if (!isArray(candidate)) {\n                candidate = this.getElementIndex(candidate);\n                candidate = [candidate !== undefined ? candidate : -1];\n            }\n\n            return candidate;\n        },\n\n        _template: function() {\n            var that = this;\n            var options = that.options;\n            var template = options.template;\n\n            if (!template) {\n                template = kendo.template('<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-list-item\"><span class=\"k-list-item-text\">${' + kendo.expr(options.dataTextField, \"data\") + \"}</span></li>\", { useWithBlock: false });\n            } else {\n                template = kendo.template(template);\n                template = function(data) {\n                    return '<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-list-item\">' + template(data) + \"</li>\";\n                };\n            }\n\n            return template;\n        },\n\n        _templates: function() {\n            var template;\n            var options = this.options;\n            var templates = {\n                template: options.template,\n                groupTemplate: options.groupTemplate,\n                fixedGroupTemplate: options.fixedGroupTemplate\n            };\n\n            if (options.columns) {\n                for (var i = 0; i < options.columns.length; i++) {\n                    var currentColumn = options.columns[i];\n                    var templateText = currentColumn.field ? currentColumn.field.toString() : TEXT;\n\n                    templates[\"column\" + i] = currentColumn.template || \"#: \" + templateText + \"#\";\n                }\n            }\n\n            for (var key in templates) {\n                template = templates[key];\n                if (template && typeof template !== \"function\") {\n                    templates[key] = kendo.template(template);\n                }\n            }\n\n            this.templates = templates;\n        },\n\n        _normalizeIndices: function(indices) {\n            var newIndices = [];\n            var idx = 0;\n\n            for (; idx < indices.length; idx++) {\n                if (indices[idx] !== undefined) {\n                    newIndices.push(indices[idx]);\n                }\n            }\n\n            return newIndices;\n        },\n\n        _valueIndices: function(values, indices) {\n            var data = this._view;\n            var idx = 0;\n            var index;\n\n            indices = indices ? indices.slice() : [];\n\n            if (!values.length) {\n                return [];\n            }\n\n            for (; idx < data.length; idx++) {\n                index = this._dataItemPosition(data[idx].item, values);\n\n                if (index !== -1) {\n                    indices[index] = idx;\n                }\n            }\n\n            return this._normalizeIndices(indices);\n        },\n\n        _firstVisibleItem: function() {\n            var element = this.element[0];\n            var content = this.content[0];\n            var scrollTop = content.scrollTop;\n            var itemHeight = $(element.children[0]).height();\n            var itemIndex = Math.floor(scrollTop / itemHeight) || 0;\n            var item = element.children[itemIndex] || element.lastChild;\n            var forward = item.offsetTop < scrollTop;\n\n            while (item) {\n                if (forward) {\n                    if ((item.offsetTop + itemHeight) > scrollTop || !item.nextSibling) {\n                        break;\n                    }\n\n                    item = item.nextSibling;\n                } else {\n                    if (item.offsetTop <= scrollTop || !item.previousSibling) {\n                        break;\n                    }\n\n                    item = item.previousSibling;\n                }\n            }\n\n            return this._view[$(item).data(\"offset-index\")];\n        },\n\n        _fixedHeader: function() {\n            if (this.isGrouped() && this.templates.fixedGroupTemplate) {\n                if (this.header.closest(GROUP_ROW_SEL).length) {\n                    this.header.closest(GROUP_ROW_SEL).show();\n                } else {\n                    this.header.show();\n                }\n\n                this.content.scroll(this._onScroll);\n            } else {\n                if (this.header.closest(GROUP_ROW_SEL).length) {\n                    this.header.closest(GROUP_ROW_SEL).hide();\n                } else {\n                    this.header.hide();\n                }\n\n                this.content.off(\"scroll\", this._onScroll);\n            }\n        },\n\n        _renderHeader: function() {\n            var template = this.templates.fixedGroupTemplate;\n            if (!template) {\n                return;\n            }\n\n            var visibleItem = this._firstVisibleItem();\n\n            if (visibleItem && visibleItem.group.toString().length) {\n                this.header.html(template(visibleItem.group));\n            }\n        },\n\n        _renderItem: function(context) {\n            var item = '<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" ';\n\n            var dataItem = context.item;\n            var notFirstItem = context.index !== 0;\n            var selected = context.selected;\n            var isGrouped = this.isGrouped();\n            var hasColumns = this.options.columns && this.options.columns.length;\n            var altRow = context.index % 2 === 1 ? \" k-table-alt-row\" : \"\";\n\n            if (hasColumns) {\n                item += ('class=\"k-table-row' + altRow);\n            } else {\n                item += 'class=\"k-list-item';\n            }\n\n            if (notFirstItem && context.newGroup) {\n                item += ' k-first';\n            }\n\n            if (context.isLastGroupedItem && hasColumns) {\n                item += ' k-last';\n            }\n\n            if (selected) {\n                item += ' k-selected';\n            }\n\n            item += '\" aria-selected=\"' + (selected ? \"true\" : \"false\") + '\" data-offset-index=\"' + context.index + '\">';\n            if (hasColumns) {\n                item += this._renderColumns(dataItem);\n            } else {\n                item += '<span class=\"k-list-item-text\">';\n                item += this.templates.template(dataItem);\n                item += '</span>';\n            }\n\n            if (notFirstItem && context.newGroup) {\n                if (hasColumns) {\n                    item += '<span class=\"k-table-td k-table-group-td\"><span>' + this.templates.groupTemplate(context.group) + '</span></span>';\n                } else {\n                    item += '<div class=\"k-list-item-group-label\">' + this.templates.groupTemplate(context.group) + '</div>';\n                }\n            } else if (isGrouped && hasColumns) {\n                item += '<span class=\"k-table-td k-table-spacer-td\"></span>';\n            }\n\n            return item + \"</li>\";\n        },\n\n        _renderColumns: function(dataItem) {\n            var item = \"\";\n\n            for (var i = 0; i < this.options.columns.length; i++) {\n                var currentWidth = this.options.columns[i].width;\n                var currentWidthInt = parseInt(currentWidth, 10);\n                var widthStyle = '';\n\n                if (currentWidth && !isNaN(currentWidthInt)) {\n                    widthStyle += \"style='width:\";\n                    widthStyle += currentWidthInt;\n                    widthStyle += percentageUnitsRegex.test(currentWidth) ? \"%\" : \"px\";\n                    widthStyle += \";'\";\n                }\n                item += \"<span class='k-table-td' \" + widthStyle + \">\";\n                item += this.templates[\"column\" + i](dataItem);\n                item += \"</span>\";\n            }\n\n            return item;\n        },\n\n        _render: function() {\n            var html = \"\";\n\n            var i = 0;\n            var idx = 0;\n            var context;\n            var dataContext = [];\n            var view = this.dataSource.view();\n            var values = this.value();\n\n            var group, newGroup, j;\n            var isGrouped = this.isGrouped();\n\n            if (isGrouped) {\n                for (i = 0; i < view.length; i++) {\n                    group = view[i];\n                    newGroup = true;\n\n                    for (j = 0; j < group.items.length; j++) {\n                        context = {\n                            selected: this._selected(group.items[j], values),\n                            item: group.items[j],\n                            group: group.value,\n                            newGroup: newGroup,\n                            isLastGroupedItem: j === group.items.length - 1,\n                            index: idx };\n                        dataContext[idx] = context;\n                        idx += 1;\n\n                        html += this._renderItem(context);\n                        newGroup = false;\n                    }\n                }\n            } else {\n                for (i = 0; i < view.length; i++) {\n                    context = { selected: this._selected(view[i], values), item: view[i], index: i };\n\n                    dataContext[i] = context;\n\n                    html += this._renderItem(context);\n                }\n            }\n\n            this._view = dataContext;\n\n            this.element[0].innerHTML = html;\n\n            if (isGrouped && dataContext.length) {\n                this._renderHeader();\n            }\n        },\n\n        _selected: function(dataItem, values) {\n            var select = !this.isFiltered() || this.options.selectable === \"multiple\";\n            return select && this._dataItemPosition(dataItem, values) !== -1;\n        },\n\n        setDSFilter: function(filter) {\n            this._lastDSFilter = extend({}, filter);\n        },\n\n        isFiltered: function() {\n            if (!this._lastDSFilter) {\n                this.setDSFilter(this.dataSource.filter());\n            }\n\n            return !kendo.data.Query.compareFilters(this.dataSource.filter(), this._lastDSFilter);\n        },\n\n        refresh: function(e) {\n            var that = this;\n            var action = e && e.action;\n            var skipUpdateOnBind = that.options.skipUpdateOnBind;\n            var isItemChange = action === \"itemchange\";\n            var result;\n\n            that.trigger(DATA_BINDING);\n            that._angularItems(\"cleanup\");\n\n            that._fixedHeader();\n\n            that._render();\n\n            that.bound(true);\n\n            if (isItemChange || action === \"remove\") {\n                result = mapChangedItems(that._dataItems, e.items);\n\n                if (result.changed.length) {\n                    if (isItemChange) {\n                        that.trigger(SELECTED_ITEM_CHANGE, {\n                            items: result.changed\n                        });\n                    } else {\n                        that.value(that._getValues(result.unchanged));\n                    }\n                }\n            } else if (that.isFiltered() || that._skipUpdate || that._emptySearch) {\n                that.focus(0);\n                if (that._skipUpdate) {\n                    that._skipUpdate = false;\n                    that._selectedIndices = that._valueIndices(that._values, that._selectedIndices);\n                }\n            } else if (!skipUpdateOnBind && (!action || action === \"add\")) {\n                that.value(that._values);\n            }\n\n            if (that._valueDeferred) {\n                that._valueDeferred.resolve();\n            }\n\n            that._angularItems(\"compile\");\n            that.trigger(DATA_BOUND);\n        },\n\n        bound: function(bound) {\n            if (bound === undefined) {\n                return this._bound;\n            }\n\n            this._bound = bound;\n        },\n\n        isGrouped: function() {\n            return (this.dataSource.group() || []).length;\n        }\n    });\n\n    ui.plugin(StaticList);\n\n    function last(list) {\n        return list[list.length - 1];\n    }\n\n    function getSelectedOption(select) {\n        var index = select.selectedIndex;\n        return index > -1 ? select.options[index] : {};\n    }\n\n    function mapChangedItems(selected, itemsToMatch) {\n        var itemsLength = itemsToMatch.length;\n        var selectedLength = selected.length;\n        var dataItem;\n        var found;\n        var i, j;\n\n        var changed = [];\n        var unchanged = [];\n\n        if (selectedLength) {\n            for (i = 0; i < selectedLength; i++) {\n                dataItem = selected[i];\n                found = false;\n\n                for (j = 0; j < itemsLength; j++) {\n                    if (dataItem === itemsToMatch[j]) {\n                        found = true;\n                        changed.push({ index: i, item: dataItem });\n                        break;\n                    }\n                }\n\n                if (!found) {\n                    unchanged.push(dataItem);\n                }\n            }\n        }\n\n        return {\n            changed: changed,\n            unchanged: unchanged\n        };\n    }\n\n    function isValidFilterExpr(expression) {\n        if (!expression || $.isEmptyObject(expression)) {\n            return false;\n        }\n\n        if (expression.filters && !expression.filters.length) {\n            return false;\n        }\n\n        return true;\n    }\n\n    function removeFiltersForField(expression, field) {\n        var filters;\n        var found = false;\n\n        if (expression.filters) {\n            filters = $.grep(expression.filters, function(filter) {\n                found = removeFiltersForField(filter, field);\n                if (filter.filters) {\n                    return filter.filters.length;\n                } else {\n                    return filter.field != field;\n                }\n            });\n\n            if (!found && expression.filters.length !== filters.length) {\n                found = true;\n            }\n\n            expression.filters = filters;\n        }\n\n        return found;\n    }\n\n    kendo.cssProperties.registerPrefix(\"List\", \"k-list-\");\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.calendar',[ \"kendo.core\", \"kendo.selectable\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"calendar\",\n    name: \"Calendar\",\n    category: \"web\",\n    description: \"The Calendar widget renders a graphical calendar that supports navigation and selection.\",\n    depends: [ \"core\", \"selectable\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        support = kendo.support,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        keys = kendo.keys,\n        parse = kendo.parseDate,\n        adjustDST = kendo.date.adjustDST,\n        weekInYear = kendo.date.weekInYear,\n        Selectable = kendo.ui.Selectable,\n        extractFormat = kendo._extractFormat,\n        template = kendo.template,\n        getCulture = kendo.getCulture,\n        transitions = kendo.support.transitions,\n        transitionOrigin = transitions ? transitions.css + \"transform-origin\" : \"\",\n        cellTemplate = template('<td class=\"#=data.cssClass#\" role=\"gridcell\"><a tabindex=\"-1\" class=\"k-link\" href=\"\\\\#\" data-#=data.ns#value=\"#=data.dateString#\">#=data.value#</a></td>', { useWithBlock: false }),\n        emptyCellTemplate = template('<td role=\"gridcell\" class=\"k-calendar-td k-out-of-range\"><a class=\"k-link\"></a></td>', { useWithBlock: false }),\n        otherMonthCellTemplate = template('<td role=\"gridcell\" class=\"k-calendar-td k-out-of-range\">&nbsp;</td>', { useWithBlock: false }),\n        weekNumberTemplate = template('<td class=\"k-calendar-td k-alt\">#= data.weekNumber #</td>', { useWithBlock: false }),\n        outerWidth = kendo._outerWidth,\n        ns = \".kendoCalendar\",\n        CLICK = \"click\" + ns,\n        KEYDOWN_NS = \"keydown\" + ns,\n        ID = \"id\",\n        MIN = \"min\",\n        LEFT = \"left\",\n        SLIDE = \"slideIn\",\n        MONTH = \"month\",\n        CENTURY = \"century\",\n        CHANGE = \"change\",\n        NAVIGATE = \"navigate\",\n        VALUE = \"value\",\n        HOVER = \"k-hover\",\n        DISABLED = \"k-disabled\",\n        FOCUSED = \"k-focus\",\n        OTHERMONTH = \"k-other-month\",\n        OUTOFRANGE = \"k-out-of-range\",\n        TODAY = \"k-nav-today\",\n        CELLSELECTOR = \"td:has(.k-link)\",\n        CELLSELECTORVALID = \"td:has(.k-link):not(.\" + DISABLED + \"):not(.\" + OUTOFRANGE + \")\",\n        WEEKCOLUMNSELECTOR = \"td:not(:has(.k-link))\",\n        SELECTED = \"k-selected\",\n        BLUR = \"blur\" + ns,\n        FOCUS = \"focus\",\n        FOCUS_WITH_NS = FOCUS + ns,\n        MOUSEENTER = support.touch ? \"touchstart\" : \"mouseenter\",\n        MOUSEENTER_WITH_NS = support.touch ? \"touchstart\" + ns : \"mouseenter\" + ns,\n        MOUSELEAVE = support.touch ? \"touchend\" + ns + \" touchmove\" + ns : \"mouseleave\" + ns,\n        MS_PER_MINUTE = 60000,\n        MS_PER_DAY = 86400000,\n        PREVARROW = \"_prevArrow\",\n        NEXTARROW = \"_nextArrow\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_SELECTED = \"aria-selected\",\n        ARIA_LABEL = \"aria-label\",\n        extend = $.extend,\n        DATE = Date,\n        views = {\n            month: 0,\n            year: 1,\n            decade: 2,\n            century: 3\n        },\n        HEADERSELECTOR = '.k-header, .k-calendar-header',\n        CLASSIC_HEADER_TEMPLATE = '<div class=\"k-header k-hstack\">' +\n            '<a tabindex=\"-1\" href=\"\\\\#\" #=actionAttr#=\"prev\" role=\"button\" class=\"k-nav-prev k-button #=size# k-rounded-md k-button-flat k-button-flat-base k-icon-button\" ' + ARIA_LABEL + '=\"Previous\"><span class=\"k-button-icon k-icon k-i-arrow-60-left\"></span></a>' +\n            '<a tabindex=\"-1\" href=\"\\\\#\" #=actionAttr#=\"nav-up\" role=\"button\" id=\"nav-up\" class=\"k-nav-fast k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-flex\"></a>' +\n            '<a tabindex=\"-1\" href=\"\\\\#\" #=actionAttr#=\"next\" role=\"button\" class=\"k-nav-next k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-icon-button\" ' + ARIA_LABEL + '=\"Next\"><span class=\"k-icon k-i-arrow-60-right\"></span></a>' +\n        '</div>',\n        MODERN_HEADER_TEMPLATE = '<div class=\"k-calendar-header k-hstack\">' +\n            '<a href=\"\\\\#\" #=actionAttr#=\"nav-up\" id=\"nav-up\" role=\"button\" class=\"k-calendar-title k-title k-button #=size# k-rounded-md k-button-flat k-button-flat-base \"></a>' +\n            '<span class=\"k-spacer\"></span>' +\n            '<span class=\"k-calendar-nav k-hstack\">' +\n                '<a tabindex=\"-1\" #=actionAttr#=\"prev\" class=\"k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-icon-button k-prev-view\">' +\n                    '<span class=\"k-button-icon k-icon k-i-arrow-60-left\"></span>' +\n                '</a>' +\n                '<a tabindex=\"-1\" #=actionAttr#=\"today\" class=\"k-nav-today\">#=messages.today#</a>' +\n                '<a tabindex=\"-1\" #=actionAttr#=\"next\" class=\"k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-icon-button k-next-view\">' +\n                    '<span class=\"k-button-icon k-icon k-i-arrow-60-right\"></span>' +\n                '</a>' +\n            '</span>' +\n        '</div>';\n\n    var Calendar = Widget.extend({\n        init: function(element, options) {\n            var that = this, value, id;\n            options = options || {};\n            options.componentType = options.componentType || \"classic\";\n            Widget.fn.init.call(that, element, options);\n\n            element = that.wrapper = that.element;\n            options = that.options;\n\n            options.url = kendo.unescape(options.url);\n\n            that.options.disableDates = getDisabledExpr(that.options.disableDates);\n\n            that._templates();\n\n            that._selectable();\n\n            that._header();\n\n            that._viewWrapper();\n\n            if (that.options.hasFooter) {\n                that._footer(that.footer);\n            } else {\n                that._today = that.element.find('a.k-nav-today');\n                that._toggle();\n            }\n\n            id = element\n                .addClass(\"k-widget k-calendar \" + (options.weekNumber ? \" k-week-number\" : \"\"))\n                .on(MOUSEENTER_WITH_NS + \" \" + MOUSELEAVE, CELLSELECTOR, mousetoggle)\n                .on(KEYDOWN_NS, \"table.k-content\", that._move.bind(that))\n                .on(CLICK + \" touchend\", CELLSELECTOR, function(e) {\n                    var link = e.currentTarget.firstChild,\n                        value = toDateObject(link);\n\n                    if (link.href.indexOf(\"#\") != -1) {\n                        e.preventDefault();\n                    }\n\n                    if (that._view.name == \"month\" && that.options.disableDates(value)) {\n                        return;\n                    }\n                    if (that._view.name != \"month\" || options.selectable == \"single\") {\n                            that._click($(link));\n                    }\n                })\n                .on(\"mouseup\" + ns, \"table.k-content, .k-footer\", function() {\n                    that._focusView(that.options.focusOnNav !== false);\n                })\n                .attr(ID);\n\n            if (that._isMultipleSelection() && that.options.weekNumber) {\n                element.on(CLICK, WEEKCOLUMNSELECTOR, function(e) {\n                        var first = $(e.currentTarget).closest(\"tr\").find(CELLSELECTORVALID).first(),\n                            last = that.selectable._lastActive = $(e.currentTarget).closest(\"tr\").find(CELLSELECTORVALID).last();\n                        that.selectable.selectRange(first, last);\n                        that.selectable.trigger(CHANGE, { event: e });\n                        that._current = that._value = toDateObject(last.find(\"a\"));\n                        that._setCurrent(that._current);\n                });\n            }\n\n            normalize(options);\n            value = parse(options.value, options.format, options.culture);\n            that._selectDates = [];\n\n            that._index = views[options.start];\n\n            that._current = new DATE(+restrictValue(value, options.min, options.max));\n\n            that._addClassProxy = function() {\n                that._active = true;\n\n                if (that._cell.hasClass(DISABLED)) {\n                    var todayString = that._view.toDateString(getToday());\n                    that._cell = that._cellByDate(todayString);\n                }\n\n                that._cell.addClass(FOCUSED);\n            };\n\n            that._removeClassProxy = function() {\n                that._active = false;\n                if (that._cell) {\n                    that._cell.removeClass(FOCUSED);\n                }\n            };\n\n            that.value(value);\n\n            if (that._isMultipleSelection() && options.selectDates.length > 0) {\n                that.selectDates(options.selectDates);\n            }\n            kendo.notify(that);\n        },\n\n        options: {\n            name: \"Calendar\",\n            value: null,\n            min: new DATE(1900, 0, 1),\n            max: new DATE(2099, 11, 31),\n            dates: [],\n            disableDates: null,\n            url: \"\",\n            culture: \"\",\n            footer: \"\",\n            format: \"\",\n            month: {},\n            weekNumber: false,\n            selectable: \"single\",\n            selectDates: [],\n            start: MONTH,\n            depth: MONTH,\n            size: \"medium\",\n            animation: {\n                horizontal: {\n                    effects: SLIDE,\n                    reverse: true,\n                    duration: 500,\n                    divisor: 2\n                },\n                vertical: {\n                    effects: \"zoomIn\",\n                    duration: 400\n                }\n            },\n            messages: {\n                weekColumnHeader: \"\",\n                today: \"Today\",\n                navigateTo: \"Navigate to \",\n                parentViews: {\n                    month: \"year view\",\n                    year: \"decade view\",\n                    decade: \"century view\"\n                }\n            },\n            componentType: \"classic\"\n        },\n\n        events: [\n            CHANGE,\n            NAVIGATE\n        ],\n\n        componentTypes: {\n            \"classic\": {\n                header: {\n                    template: CLASSIC_HEADER_TEMPLATE\n                },\n                hasFooter: true,\n                linksSelector: \".k-button\",\n                contentClasses: \"k-calendar-table k-content\"\n            },\n            \"modern\": {\n                header: {\n                    template: MODERN_HEADER_TEMPLATE\n                },\n                hasFooter: false,\n                linksSelector: \".k-button\",\n                contentClasses: \"k-calendar-table k-content k-calendar-content\"\n            }\n        },\n\n        setOptions: function(options) {\n            var that = this;\n\n            normalize(options);\n\n            options.disableDates = getDisabledExpr(options.disableDates);\n            that._destroySelectable();\n\n            if (options.messages) {\n                options.messages = $.extend({}, true, that.options.messages, options.messages);\n            }\n\n            Widget.fn.setOptions.call(that, options);\n\n            that._templates();\n\n            that._selectable();\n\n            that._viewWrapper();\n\n            if (that.options.hasFooter) {\n                that._footer(that.footer);\n            } else {\n                that.element.find(\".k-footer\").hide();\n                that._toggle();\n            }\n            that._index = views[that.options.start];\n\n            that.navigate();\n\n            if (options.weekNumber) {\n                that.element.addClass('k-week-number');\n            }\n        },\n\n        destroy: function() {\n            var that = this,\n            today = that._today;\n\n            that.element.off(ns);\n            that._title.off(ns);\n            that[PREVARROW].off(ns);\n            that[NEXTARROW].off(ns);\n            that._destroySelectable();\n            kendo.destroy(that._table);\n\n            if (today) {\n                kendo.destroy(today.off(ns));\n            }\n\n            Widget.fn.destroy.call(that);\n        },\n\n        current: function() {\n            return this._current;\n        },\n\n        view: function() {\n            return this._view;\n        },\n\n        focus: function(table) {\n            table = table || this._table;\n            this._bindTable(table);\n            table.trigger(\"focus\");\n        },\n\n        min: function(value) {\n            return this._option(MIN, value);\n        },\n\n        max: function(value) {\n            return this._option(\"max\", value);\n        },\n\n        navigateToPast: function() {\n            this._navigate(PREVARROW, -1);\n        },\n\n        navigateToFuture: function() {\n            this._navigate(NEXTARROW, 1);\n        },\n\n        navigateUp: function() {\n            var that = this,\n            index = that._index;\n\n            if (that._title.hasClass(DISABLED)) {\n                return;\n            }\n\n            that.navigate(that._current, ++index);\n        },\n\n        navigateDown: function(value) {\n            var that = this,\n            index = that._index,\n            depth = that.options.depth;\n\n            if (!value) {\n                return;\n            }\n\n            if (index === views[depth]) {\n                if (!isEqualDate(that._value, that._current) || !isEqualDate(that._value, value)) {\n                    that.value(value);\n                    that.trigger(CHANGE);\n                }\n                return;\n            }\n\n            that.navigate(value, --index);\n        },\n\n        navigate: function(value, view) {\n            view = isNaN(view) ? views[view] : view;\n\n            var that = this,\n                options = that.options,\n                culture = options.culture,\n                min = options.min,\n                max = options.max,\n                title = that._title,\n                from = that._table,\n                old = that._oldTable,\n                currentValue = that._current,\n                future = value && +value > +currentValue,\n                vertical = view !== undefined && view !== that._index,\n                to, currentView, compare,\n                disabled,\n                viewWrapper = that.element.children(\".k-calendar-view\");\n\n            if (!value) {\n                value = currentValue;\n            }\n\n            that._current = value = new DATE(+restrictValue(value, min, max));\n\n            if (view === undefined) {\n                view = that._index;\n            } else {\n                that._index = view;\n            }\n\n            that._view = currentView = calendar.views[view];\n            compare = currentView.compare;\n\n            disabled = view === views[CENTURY];\n            title.toggleClass(DISABLED, disabled).attr(ARIA_DISABLED, disabled);\n\n            disabled = compare(value, min) < 1;\n            that[PREVARROW].toggleClass(DISABLED, disabled).attr(ARIA_DISABLED, disabled);\n\n            disabled = compare(value, max) > -1;\n            that[NEXTARROW].toggleClass(DISABLED, disabled).attr(ARIA_DISABLED, disabled);\n\n            if (from && old && old.data(\"animating\")) {\n                old.kendoStop(true, true);\n                from.kendoStop(true, true);\n            }\n\n            that._oldTable = from;\n\n            if (!from || that._changeView) {\n                title.html(currentView.title(value, min, max, culture));\n\n                if (that.options.messages.parentViews && that._view.name !== CENTURY) {\n                    title.attr(\"title\", that.options.messages.navigateTo + that.options.messages.parentViews[that._view.name]);\n                } else {\n                    title.removeAttr(\"title\");\n                }\n\n                that._table = to = $(currentView.content(extend({\n                    min: min,\n                    max: max,\n                    date: value,\n                    url: options.url,\n                    dates: options.dates,\n                    format: options.format,\n                    otherMonth: true,\n                    culture: culture,\n                    disableDates: options.disableDates,\n                    isWeekColumnVisible: options.weekNumber,\n                    messages: options.messages,\n                    contentClasses: that.options.contentClasses\n                }, that[currentView.name])));\n\n                that._aria();\n\n                addClassToViewContainer(to, currentView.name);\n                var replace = from && from.data(\"start\") === to.data(\"start\");\n                that._animate({\n                    from: from,\n                    to: to,\n                    vertical: vertical,\n                    future: future,\n                    replace: replace\n                });\n\n                viewWrapper.removeClass(\"k-calendar-monthview k-calendar-yearview k-calendar-decadeview k-calendar-centuryview\");\n                viewWrapper.addClass(\"k-calendar-\" + currentView.name + \"view\");\n\n                that.trigger(NAVIGATE);\n\n                that._focus(value);\n            }\n\n            if (view === views[options.depth] && that._selectDates.length > 0) {\n                that._visualizeSelectedDatesInView();\n            }\n\n            if (that.options.selectable === \"single\") {\n                if (view === views[options.depth] && that._value && !that.options.disableDates(that._value)) {\n                    that._selectCell(that._value);\n                }\n            }\n\n            that._setCurrent(value);\n\n            if (!from && that._cell) {\n                that._cell.removeClass(FOCUSED);\n            }\n\n            that._changeView = true;\n        },\n\n        selectDates: function(dates) {\n            var that = this,\n                validSelectedDates,\n                datesUnique;\n\n            if (dates === undefined) {\n                return that._selectDates;\n            }\n\n            datesUnique = dates\n                .map(function(date) { return date.getTime(); })\n                .filter(function(date, position, array) {\n                    return array.indexOf(date) === position;\n                })\n                .map(function(time) { return new Date(time); });\n\n            validSelectedDates = $.grep(datesUnique, function(value) {\n                if (value) {\n                    return +that._validateValue(new Date(value.setHours(0, 0, 0, 0))) === +value;\n                }\n            });\n            that._selectDates = validSelectedDates.length > 0 ? validSelectedDates : (datesUnique.length === 0 ? datesUnique : that._selectDates);\n            that._visualizeSelectedDatesInView();\n        },\n\n        value: function(value) {\n            var that = this,\n                old = that._view,\n                view = that._view;\n\n            if (value === undefined) {\n                return that._value;\n            }\n\n            value = that._validateValue(value);\n            if (value && that._isMultipleSelection()) {\n                var date = new Date(+value);\n                date.setHours(0, 0, 0, 0);\n                that._selectDates = [date];\n                that.selectable._lastActive = null;\n            }\n            if (old && value === null && that._cell) {\n                that._cell.removeClass(SELECTED);\n            } else {\n                that._changeView = !value || view && view.compare(value, that._current) !== 0;\n                that.navigate(value);\n            }\n        },\n\n        _aria: function() {\n            var table = this._table;\n\n            table.attr(\"aria-labelledby\", this._title.attr(\"id\"));\n\n            if (this._view.name === \"month\" && this.options.selectable === \"multiple\") {\n                table.attr(\"aria-multiselectable\", \"true\");\n            }\n        },\n\n        _validateValue: function(value) {\n            var that = this,\n                options = that.options,\n                min = options.min,\n                max = options.max;\n\n            if (value === null) {\n                that._current = createDate(that._current.getFullYear(), that._current.getMonth(), that._current.getDate());\n            }\n\n            value = parse(value, options.format, options.culture);\n\n            if (value !== null) {\n                value = new DATE(+value);\n\n                if (!isInRange(value, min, max)) {\n                    value = null;\n                }\n            }\n\n            if (value === null || !that.options.disableDates(new Date(+value))) {\n                that._value = value;\n            } else if (that._value === undefined) {\n                that._value = null;\n            }\n\n            return that._value;\n        },\n\n        _visualizeSelectedDatesInView: function() {\n            var that = this;\n             var selectedDates = {};\n            $.each(that._selectDates, function(index, value) {\n                selectedDates[kendo.calendar.views[0].toDateString(value)] = value;\n            });\n            that.selectable.clear();\n             var cells = that._table\n                .find(CELLSELECTOR)\n                .filter(function(index, element) {\n                    return selectedDates[$(element.firstChild).attr(kendo.attr(VALUE))];\n                });\n            if (cells.length > 0) {\n                that.selectable._selectElement(cells, true);\n            }\n        },\n\n        _isMultipleSelection: function() {\n            var that = this;\n            return that.options.selectable === \"multiple\";\n        },\n\n        _selectable: function() {\n            var that = this;\n            if (!that._isMultipleSelection()) {\n                return;\n            }\n\n            var selectable = that.options.selectable,\n            selectableOptions = Selectable.parseOptions(selectable);\n\n            that.selectable = new Selectable(that.wrapper, {\n                aria: true,\n                //excludes the anchor element\n                inputSelectors: \"input,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up\",\n                multiple: selectableOptions.multiple,\n                filter: \"table.k-month:eq(0) \" + CELLSELECTORVALID,\n                change: that._onSelect.bind(that),\n                relatedTarget: that._onRelatedTarget.bind(that)\n            });\n        },\n\n        _onRelatedTarget: function(target) {\n            var that = this;\n\n            if (that.selectable.options.multiple && target.is(CELLSELECTORVALID)) {\n                that._current = toDateObject(target.find(\"a\"));\n                that._setCurrent(that._current);\n            }\n\n        },\n\n        _onSelect: function(e) {\n            var that = this,\n                eventArgs = e,\n                selectableOptions = Selectable.parseOptions(that.options.selectable);\n\n            if (!selectableOptions.multiple) {\n                if ($(eventArgs.event.currentTarget).is(\"td\") && !$(eventArgs.event.currentTarget).hasClass(\"k-selected\")) {\n                    $(eventArgs.event.currentTarget).addClass(\"k-selected\");\n                }\n                else {\n                    that._click($(eventArgs.event.currentTarget).find(\"a\"));\n                }\n                return;\n            }\n\n            if (eventArgs.event.ctrlKey || eventArgs.event.metaKey) {\n                if ($(eventArgs.event.currentTarget).is(CELLSELECTORVALID)) {\n                    that._toggleSelection($(eventArgs.event.currentTarget));\n                }\n                else {\n                    that._cellsBySelector(CELLSELECTORVALID).each(function(index, element) {\n                        var value = toDateObject($(element).find(\"a\"));\n                        that._deselect(value);\n                    });\n                    that._addSelectedCellsToArray();\n                }\n            }\n            else if (eventArgs.event.shiftKey) {\n                that._rangeSelection(that._cell);\n            }\n            else if ($(eventArgs.event.currentTarget).is(CELLSELECTOR)) {\n                that.value(toDateObject($(eventArgs.event.currentTarget).find(\"a\")));\n            }\n            else {\n                that._selectDates = [];\n                that._addSelectedCellsToArray();\n            }\n             that.trigger(CHANGE);\n        },\n\n        _destroySelectable: function() {\n            var that = this;\n\n            if (that.selectable) {\n                that.selectable.destroy();\n                that.selectable = null;\n            }\n        },\n\n        //when ctrl key is clicked\n        _toggleSelection: function(currentCell) {\n            var that = this,\n                date = toDateObject(currentCell.find(\"a\"));\n                if (currentCell.hasClass(\"k-selected\")) {\n                    that._selectDates.push(date);\n                }\n                else {\n                    that._deselect(date);\n                }\n        },\n\n        //shift selection\n        _rangeSelection: function(toDateCell, startDate) {\n            var that = this,\n                fromDate = startDate || toDateObject(that.selectable.value().first().find(\"a\")),\n                toDate = toDateObject(toDateCell.find(\"a\")),\n                daysDifference;\n\n            if (that.selectable._lastActive || that._value) {\n                fromDate = that.selectable._lastActive ? toDateObject(that.selectable._lastActive.find(\"a\")) : new Date(+that._value);\n            } else {\n                that.selectable._lastActive = startDate ? that._cellByDate(that._view.toDateString(startDate), CELLSELECTORVALID) : that.selectable.value().first();\n            }\n\n            that._selectDates = [];\n            daysDifference = daysBetweenTwoDates(fromDate, toDate);\n            addDaysToArray(that._selectDates, daysDifference, fromDate, that.options.disableDates);\n\n            that._visualizeSelectedDatesInView();\n        },\n\n        _cellsBySelector: function(selector) {\n            var that = this;\n            return that._table.find(selector);\n        },\n\n        _addSelectedCellsToArray: function() {\n            var that = this;\n            that.selectable.value().each(function(index, item) {\n                var date = toDateObject($(item.firstChild));\n                if (!that.options.disableDates(date)) {\n                    that._selectDates.push(date);\n                }\n            });\n        },\n\n         _deselect: function(date) {\n            var that = this;\n             var currentDateIndex = that._selectDates.map(Number).indexOf(+date);\n            if (currentDateIndex != -1) {\n                that._selectDates.splice(currentDateIndex, 1);\n            }\n        },\n\n        _dateInView: function(date) {\n            var that = this,\n                firstDateInView = toDateObject(that._cellsBySelector(CELLSELECTORVALID).first().find(\"a\")),\n                lastDateInView = toDateObject(that._cellsBySelector(CELLSELECTORVALID).last().find(\"a\"));\n\n            return +date <= +lastDateInView && +date >= +firstDateInView;\n        },\n\n        _isNavigatable: function(currentValue, cellIndex) {\n            var that = this;\n            var isDisabled = that.options.disableDates;\n            var cell;\n            var index;\n\n            if (that._view.name == \"month\") {\n                return !isDisabled(currentValue);\n            } else {\n                index = that.wrapper.find(\".\" + FOCUSED).index();\n                cell = that.wrapper.find(\".k-content td\").eq(index + cellIndex);\n                return cell.is(CELLSELECTORVALID) || !isDisabled(currentValue);\n            }\n        },\n\n        _move: function(e) {\n            var that = this,\n                options = that.options,\n                key = e.keyCode,\n                view = that._view,\n                index = that._index,\n                min = that.options.min,\n                max = that.options.max,\n                currentValue = new DATE(+that._current),\n                isRtl = kendo.support.isRtl(that.wrapper),\n                isDisabled = that.options.disableDates,\n                value, prevent, method, temp;\n\n            if (e.target === that._table[0]) {\n                that._active = true;\n            }\n\n            if (key == keys.RIGHT && !isRtl || key == keys.LEFT && isRtl) {\n                value = 1;\n                prevent = true;\n            } else if (key == keys.LEFT && !isRtl || key == keys.RIGHT && isRtl) {\n                value = -1;\n                prevent = true;\n            } else if (key == keys.UP) {\n                value = index === 0 ? -7 : -4;\n                prevent = true;\n            } else if (key == keys.DOWN) {\n                value = index === 0 ? 7 : 4;\n                prevent = true;\n            } else if (key == keys.SPACEBAR) {\n                value = 0;\n                prevent = true;\n            } else if (key == keys.HOME || key == keys.END) {\n                method = key == keys.HOME ? \"first\" : \"last\";\n                temp = view[method](currentValue);\n                currentValue = new DATE(temp.getFullYear(), temp.getMonth(), temp.getDate(), currentValue.getHours(), currentValue.getMinutes(), currentValue.getSeconds(), currentValue.getMilliseconds());\n                currentValue.setFullYear(temp.getFullYear());\n                prevent = true;\n            } else if (key === 84) {\n                that._todayClick(e);\n                prevent = true;\n            }\n\n            if (e.ctrlKey || e.metaKey) {\n                if (key == keys.RIGHT && !isRtl || key == keys.LEFT && isRtl) {\n                    that.navigateToFuture();\n                    prevent = true;\n                } else if (key == keys.LEFT && !isRtl || key == keys.RIGHT && isRtl) {\n                    that.navigateToPast();\n                    prevent = true;\n                } else if (key == keys.UP) {\n                    that.navigateUp();\n                    prevent = true;\n                } else if (key == keys.DOWN) {\n                    that._click($(that._cell[0].firstChild));\n                    prevent = true;\n                }\n                  else if ((key == keys.ENTER || key == keys.SPACEBAR) && that._isMultipleSelection()) {\n                    that._keyboardToggleSelection(e);\n\n                    var focusedDate = toDateObject($(that._cell[0]).find(\"a\"));\n                    that._setCurrent(focusedDate);\n\n                }\n            } else if (e.shiftKey) {\n                if (value !== undefined || method) {\n                    if (!method) {\n                        view.setDate(currentValue, value);\n                    }\n\n                    if (!isInRange(currentValue, min, max)) {\n                        currentValue = restrictValue(currentValue, options.min, options.max);\n                    }\n\n                    if (isDisabled(currentValue)) {\n                        currentValue = that._nextNavigatable(currentValue, value);\n                    }\n\n                    min = createDate(min.getFullYear(), min.getMonth(), min.getDate());\n                    if (that._isMultipleSelection()) {\n                        that._keyboardRangeSelection(e, currentValue);\n                    }\n                    else {\n                        that._focus(currentValue);\n                    }\n                }\n            } else {\n                if (key == keys.ENTER || key == keys.SPACEBAR) {\n                    if (view.name == \"month\" && that._isMultipleSelection()) {\n                        that.value(toDateObject($(that._cell.find(\"a\"))));\n                        that.selectable._lastActive = $(that._cell[0]);\n                        that.trigger(CHANGE);\n                    }\n                    else {\n                        that._click($(that._cell[0].firstChild));\n                    }\n                    prevent = true;\n                } else if (key == keys.PAGEUP) {\n                    prevent = true;\n                    that.navigateToPast();\n                } else if (key == keys.PAGEDOWN) {\n                    prevent = true;\n                    that.navigateToFuture();\n                }\n\n                if (value || method) {\n                    if (!method) {\n                        view.setDate(currentValue, value);\n                    }\n\n                    min = createDate(min.getFullYear(), min.getMonth(), min.getDate());\n\n                    if (!isInRange(currentValue, min, max)) {\n                        currentValue = restrictValue(currentValue, options.min, options.max);\n                    }\n\n                    if (!that._isNavigatable(currentValue, value)) {\n                        currentValue = that._nextNavigatable(currentValue, value);\n                    }\n\n                    if (that._isMultipleSelection()) {\n                        if (!that._dateInView(currentValue)) {\n                            that.navigate(currentValue);\n                        }\n                        else {\n                            that._current = currentValue;\n                            that._setCurrent(currentValue);\n                        }\n                    }\n                    else {\n                        that._focus(currentValue);\n                    }\n                }\n            }\n\n            if (prevent) {\n                e.preventDefault();\n            }\n\n            return that._current;\n        },\n\n        _keyboardRangeSelection: function(event, currentValue) {\n            var that = this,\n                fromDate,\n                daysDifference;\n\n            if (!that._dateInView(currentValue)) {\n                that._selectDates = [];\n\n                fromDate = that.selectable._lastActive ? toDateObject(that.selectable._lastActive.find(\"a\")) : currentValue;\n                daysDifference = daysBetweenTwoDates(fromDate, new Date(+currentValue));\n\n                addDaysToArray(that._selectDates, daysDifference, fromDate, that.options.disableDates);\n\n                that.navigate(currentValue);\n                that._current = currentValue;\n                that.selectable._lastActive = that.selectable._lastActive || that._cellByDate(that._view.toDateString(currentValue), CELLSELECTORVALID);\n                that.trigger(CHANGE);\n                return;\n            }\n            that.selectable.options.filter = that.wrapper.find(\"table\").length > 1 && +currentValue > +that._current ? \"table.k-month:eq(1) \" + CELLSELECTORVALID : \"table.k-month:eq(0) \" + CELLSELECTORVALID;\n            that._setCurrent(currentValue);\n            that._current = currentValue;\n\n            that._rangeSelection(that._cellByDate(that._view.toDateString(currentValue), CELLSELECTORVALID), currentValue);\n\n            that.trigger(CHANGE);\n\n            that.selectable.options.filter = \"table.k-month:eq(0) \" + CELLSELECTORVALID;\n        },\n\n        _keyboardToggleSelection: function(event) {\n            var that = this;\n\n            event.currentTarget = that._cell[0];\n            that.selectable._lastActive = $(that._cell[0]);\n\n            if ($(that._cell[0]).hasClass(SELECTED)) {\n                that.selectable._unselect($(that._cell[0]));\n            }\n            else {\n                that.selectable.value($(that._cell[0]));\n            }\n            that.selectable.trigger(CHANGE, { event: event });\n        },\n\n        _nextNavigatable: function(currentValue, value) {\n            var that = this,\n            disabled = true,\n            view = that._view,\n            min = that.options.min,\n            max = that.options.max,\n            isDisabled = that.options.disableDates,\n            navigatableDate = new Date(currentValue.getTime());\n\n            view.setDate(navigatableDate, -value);\n\n            while (disabled) {\n                view.setDate(currentValue, value);\n\n                if (!isInRange(currentValue, min, max)) {\n                    currentValue = navigatableDate;\n                    break;\n                }\n                disabled = isDisabled(currentValue);\n            }\n            return currentValue;\n        },\n\n        _animate: function(options) {\n            var that = this;\n            var from = options.from;\n            var to = options.to;\n            var active = that._active;\n            var viewWrapper = that.element.children(\".k-calendar-view\");\n\n            if (!from) {\n                viewWrapper.append(to);\n                that._bindTable(to);\n            } else if (from.parent().data(\"animating\")) {\n                from.off(ns);\n                from.parent().kendoStop(true, true).remove();\n                from.remove();\n\n                viewWrapper.append(to);\n                that._focusView(active);\n            } else if (!from.is(\":visible\") || that.options.animation === false || options.replace) {\n                to.insertAfter(from);\n                from.off(ns).remove();\n\n                that._focusView(active);\n            } else {\n                that[options.vertical ? \"_vertical\" : \"_horizontal\"](from, to, options.future);\n            }\n        },\n\n        _horizontal: function(from, to, future) {\n            var that = this,\n                active = that._active,\n                horizontal = that.options.animation.horizontal,\n                effects = horizontal.effects,\n                viewWidth = outerWidth(from),\n                margin = (outerWidth(from, true) - viewWidth);\n\n            if (effects && effects.indexOf(SLIDE) != -1) {\n                from.add(to).css({ width: viewWidth });\n\n                from.wrap(\"<div/>\");\n\n                that._focusView(active, from);\n\n                from.parent()\n                .css({\n                    position: \"relative\",\n                    width: (viewWidth * 2) + (2 * margin),\n                    display: \"flex\",\n                    \"margin-left\": future ? 0 : (-viewWidth - margin)\n                });\n\n                to[future ? \"insertAfter\" : \"insertBefore\"](from);\n\n                extend(horizontal, {\n                    effects: SLIDE + \":\" + (future ? \"right\" : LEFT),\n                    complete: function() {\n                        from.off(ns).remove();\n                        that._oldTable = null;\n\n                        to.unwrap();\n\n                        that._focusView(active);\n\n                    }\n                });\n\n                from.parent().kendoStop(true, true).kendoAnimate(horizontal);\n            }\n        },\n\n        _vertical: function(from, to) {\n            var that = this,\n                vertical = that.options.animation.vertical,\n                effects = vertical.effects,\n                active = that._active, //active state before from's blur\n                cell, position;\n\n            if (effects && effects.indexOf(\"zoom\") != -1) {\n                to.insertBefore(from);\n\n                from.css({\n                    position: \"absolute\",\n                    width: to.width()\n                });\n\n                if (transitionOrigin) {\n                    cell = that._cellByDate(that._view.toDateString(that._current));\n                    position = cell.position();\n                    position = (position.left + parseInt(cell.width() / 2, 10)) + \"px\" + \" \" + (position.top + parseInt(cell.height() / 2, 10) + \"px\");\n                    to.css(transitionOrigin, position);\n                }\n\n                from.kendoStop(true, true).kendoAnimate({\n                    effects: \"fadeOut\",\n                    duration: 600,\n                    complete: function() {\n                        from.off(ns).remove();\n                        that._oldTable = null;\n\n                        that._focusView(active);\n                    }\n                });\n\n                to.kendoStop(true, true).kendoAnimate(vertical);\n            }\n        },\n\n        _cellByDate: function(value, selector) {\n            return this._table.find(selector ? selector : \"td:not(.\" + OTHERMONTH + \")\")\n            .filter(function() {\n                return $(this.firstChild).attr(kendo.attr(VALUE)) === value;\n            });\n        },\n\n        _selectCell: function(date) {\n            var that = this,\n                cell = that._selectedCell,\n                value = that._view.toDateString(date);\n\n                if (cell && cell[0]) {\n                    cell[0].removeAttribute(ARIA_SELECTED);\n                    cell.removeClass(SELECTED);\n                }\n\n                cell = that._cellByDate(value, that.options.selectable == \"multiple\" ? CELLSELECTOR : \"td:not(.\" + OTHERMONTH + \")\");\n\n                that._selectedCell = cell;\n                cell.addClass(SELECTED)\n                    .attr(ARIA_SELECTED, true);\n        },\n\n        _setCurrent: function(date) {\n            var that = this,\n                id = kendo.guid(),\n                cell = that._cell,\n                value = that._view.toDateString(date);\n\n                if (cell && cell[0]) {\n                    cell.removeClass(FOCUSED);\n                    cell[0].removeAttribute(ARIA_LABEL);\n                    cell[0].removeAttribute(ID);\n                }\n\n                cell = that._cellByDate(value, that.options.selectable == \"multiple\" ? CELLSELECTOR : \"td:not(.\" + OTHERMONTH + \")\");\n\n                that._cell = cell;\n\n                cell.attr(ID, id)\n                    .addClass(FOCUSED);\n\n                if (that._table[0]) {\n                    that._table[0].removeAttribute(\"aria-activedescendant\");\n                    that._table.attr(\"aria-activedescendant\", id);\n                }\n        },\n\n        _bindTable: function(table) {\n            table\n            .on(FOCUS_WITH_NS, this._addClassProxy)\n            .on(BLUR, this._removeClassProxy);\n        },\n\n        _click: function(link) {\n            var that = this,\n            options = that.options,\n            currentValue = new Date(+that._current),\n            value = toDateObject(link);\n\n            adjustDST(value, 0);\n\n            if (that._view.name == \"month\" && that.options.disableDates(value)) {\n                value = that._value;\n            }\n\n            that._view.setDate(currentValue, value);\n\n            that.navigateDown(restrictValue(currentValue, options.min, options.max));\n        },\n\n        _focus: function(value) {\n            var that = this,\n            view = that._view;\n\n            if (view.compare(value, that._current) !== 0) {\n                that.navigate(value);\n            } else {\n                that._current = value;\n                that._setCurrent(value);\n            }\n        },\n\n        _focusView: function(active, table) {\n            if (active) {\n                this.focus(table);\n            }\n        },\n\n        _viewWrapper: function() {\n            var that = this;\n            var element = that.element;\n            var viewWrapper = element.children(\".k-calendar-view\");\n\n            if (!viewWrapper[0]) {\n                viewWrapper = $(\"<div class='k-calendar-view' />\").insertAfter(element.find(HEADERSELECTOR));\n            }\n        },\n\n        _footer: function(template) {\n            var that = this,\n            today = getToday(),\n            element = that.element,\n            footer = element.find(\".k-footer\");\n\n            if (!template) {\n                that._toggle(false);\n                footer.hide();\n                return;\n            }\n\n            if (!footer[0]) {\n                footer = $('<div class=\"k-footer\"><a tabindex=\"-1\" href=\"#\" class=\"k-link k-nav-today\"></a></div>').appendTo(element);\n            }\n\n            that._today = footer.show()\n                .find(\".k-link\")\n                .html(template(today))\n                .attr(\"title\", kendo.toString(today, \"D\", that.options.culture));\n\n            that._toggle();\n        },\n\n        _header: function() {\n            var that = this,\n            element = that.element,\n            linksSelector = that.options.linksSelector;\n\n            if (!element.find(HEADERSELECTOR)[0]) {\n                element.html(kendo.template(that.options.header.template)($.extend(true,{}, that.options, {\n                    actionAttr: kendo.attr(\"action\"),\n                    size: kendo.getValidCssClass(\"k-button-\", \"size\", that.options.size)\n                })));\n            }\n\n            element.find(linksSelector)\n                .on(CLICK + \" touchend\" + ns, function() { return false; } );\n\n            that._title = element.find('[' + kendo.attr(\"action\") + '=\"nav-up\"]').on(CLICK + \" touchend\" + ns, function() {\n                that._active = that.options.focusOnNav !== false;\n                that.navigateUp();\n            });\n            that[PREVARROW] = element.find('[' + kendo.attr(\"action\") + '=\"prev\"]').on(CLICK + \" touchend\" + ns, function() {\n                that._active = that.options.focusOnNav !== false;\n                that.navigateToPast();\n            });\n            that[NEXTARROW] = element.find('[' + kendo.attr(\"action\") + '=\"next\"]').on(CLICK + \" touchend\" + ns, function() {\n                that._active = that.options.focusOnNav !== false;\n                that.navigateToFuture();\n            });\n            element.find('[' + kendo.attr(\"action\") + '=\"today\"]').on(CLICK + \" touchend\" + ns, that._todayClick.bind(that));\n\n        },\n\n        _navigate: function(arrow, modifier) {\n            var that = this,\n            index = that._index + 1,\n            currentValue = new DATE(+that._current);\n\n            if (that._isMultipleSelection()) {\n                var firstDayCurrentMonth = that._table.find(\"td:not(.k-other-month):not(.k-out-of-range)\").has(\".k-link\").first();\n                currentValue = toDateObject(firstDayCurrentMonth.find(\"a\"));\n                that._current = new Date(+currentValue);\n            }\n\n            arrow = that[arrow];\n\n            if (!arrow.hasClass(DISABLED)) {\n                if (index > 3) {\n                    currentValue.setFullYear(currentValue.getFullYear() + 100 * modifier);\n                } else {\n                    calendar.views[index].setDate(currentValue, modifier);\n                }\n\n                that.navigate(currentValue);\n            }\n        },\n\n        _option: function(option, value) {\n            var that = this,\n                options = that.options,\n                currentValue = that._value || that._current,\n                isBigger;\n\n            if (value === undefined) {\n                return options[option];\n            }\n\n            value = parse(value, options.format, options.culture);\n\n            if (!value) {\n                return;\n            }\n\n            options[option] = new DATE(+value);\n\n            if (option === MIN) {\n                isBigger = value > currentValue;\n            } else {\n                isBigger = currentValue > value;\n            }\n\n            if (isBigger || isEqualMonth(currentValue, value)) {\n                if (isBigger) {\n                    that._value = null;\n                }\n                that._changeView = true;\n            }\n\n            if (!that._changeView) {\n                that._changeView = !!(options.month.content || options.month.empty);\n            }\n\n            that.navigate(that._value);\n\n            that._toggle();\n        },\n\n        _toggle: function(toggle) {\n            var that = this,\n                options = that.options,\n                isTodayDisabled = that.options.disableDates(getToday()),\n                link = that._today,\n                todayClass = that._todayClass();\n\n            if (toggle === undefined) {\n                toggle = isInRange(getToday(), options.min, options.max);\n            }\n\n            if (link) {\n                link.off(CLICK);\n\n                if (toggle && !isTodayDisabled) {\n                    link.addClass(todayClass)\n                    .removeClass(DISABLED)\n                    .on(CLICK, that._todayClick.bind(that));\n                } else {\n                    link.removeClass(todayClass)\n                    .addClass(DISABLED)\n                    .on(CLICK, prevent);\n                }\n            }\n        },\n\n        _todayClass: function() {\n            return TODAY;\n        },\n\n        _todayClick: function(e) {\n            var that = this,\n            depth = views[that.options.depth],\n            disabled = that.options.disableDates,\n            today = getToday();\n\n            e.preventDefault();\n\n            if (disabled(today)) {\n                return;\n            }\n\n            if (that._view.compare(that._current, today) === 0 && that._index == depth) {\n                that._changeView = false;\n            }\n\n            if (that._isMultipleSelection()) {\n                that._selectDates = [today];\n                that.selectable._lastActive = null;\n            }\n\n            that._value = today;\n            that.navigate(today, depth);\n\n            that.trigger(CHANGE);\n        },\n\n        _templates: function() {\n            var that = this,\n                options = that.options,\n                footer = options.footer,\n                month = options.month,\n                content = month.content,\n                weekNumber = month.weekNumber,\n                empty = month.empty,\n                footerTemplate = '#= kendo.toString(data,\"D\",\"' + options.culture + '\") #';\n\n            that.month = {\n                content: template('<td class=\"#=data.cssClass#\" role=\"gridcell\"><a tabindex=\"-1\" class=\"k-link#=data.linkClass#\" href=\"#=data.url#\" ' + kendo.attr(VALUE) + '=\"#=data.dateString#\" title=\"#=data.title#\">' + (content || \"#=data.value#\") + '</a></td>', { useWithBlock: !!content }),\n                empty: template('<td role=\"gridcell\">' + (empty || \"&nbsp;\") + \"</td>\", { useWithBlock: !!empty }),\n                weekNumber: template('<td class=\"k-alt\">' + (weekNumber || \"#= data.weekNumber #\") + \"</td>\", { useWithBlock: !!weekNumber })\n            };\n\n            that.year = {\n                content: template('<td class=\"#=data.cssClass#\" role=\"gridcell\"><a tabindex=\"-1\" class=\"k-link\" href=\"\\\\#\" data-#=data.ns#value=\"#=data.dateString#\" aria-label=\"#=data.label#\">#=data.value#</a></td>', { useWithBlock: false })\n            };\n\n            if (footer && footer !== true) {\n                footerTemplate = footer;\n            }\n\n            that.footer = footer !== false ? template(footerTemplate, { useWithBlock: false }) : null;\n        },\n\n        _updateAria: function(ariaTemplate, date) {\n            var that = this;\n            var cell = that._cell;\n            var valueType = that.view().valueType();\n            var current = date || that.current();\n            var text;\n\n            if (valueType === \"month\") {\n                text = kendo.toString(current, \"MMMM\");\n            } else if (valueType === \"date\") {\n                text = kendo.toString(current, \"D\");\n            } else {\n                text = cell.text();\n            }\n\n            cell.attr(\"aria-label\", ariaTemplate({ current: current, valueType: valueType, text: text }));\n\n            return cell.attr(\"id\");\n        }\n    });\n\n    ui.plugin(Calendar);\n\n    var calendar = {\n        firstDayOfMonth: function(date) {\n            return createDate(\n                date.getFullYear(),\n                date.getMonth(),\n                1\n            );\n        },\n\n        firstVisibleDay: function(date, calendarInfo) {\n            calendarInfo = calendarInfo || kendo.culture().calendar;\n\n            var firstDay = calendarInfo.firstDay,\n            firstVisibleDay = new DATE(date.getFullYear(), date.getMonth(), 1, date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds());\n            firstVisibleDay.setFullYear(date.getFullYear());\n\n            while (firstVisibleDay.getDay() != firstDay) {\n                calendar.setTime(firstVisibleDay, -1 * MS_PER_DAY);\n            }\n\n            return firstVisibleDay;\n        },\n\n        setTime: function(date, time) {\n            var tzOffsetBefore = date.getTimezoneOffset(),\n            resultDATE = new DATE(date.getTime() + time),\n            tzOffsetDiff = resultDATE.getTimezoneOffset() - tzOffsetBefore;\n\n            date.setTime(resultDATE.getTime() + tzOffsetDiff * MS_PER_MINUTE);\n        },\n        views: [{\n            name: MONTH,\n            title: function(date, min, max, culture) {\n                return getCalendarInfo(culture).months.names[date.getMonth()] + \" \" + date.getFullYear();\n            },\n            content: function(options) {\n                var that = this,\n                    idx = 0,\n                    min = options.min,\n                    max = options.max,\n                    date = options.date,\n                    dates = options.dates,\n                    format = options.format,\n                    culture = options.culture,\n                    navigateUrl = options.url,\n                    showHeader = options.showHeader,\n                    otherMonth = options.otherMonth,\n                    isWeekColumnVisible = options.isWeekColumnVisible,\n                    hasUrl = navigateUrl && dates[0],\n                    currentCalendar = getCalendarInfo(culture),\n                    firstDayIdx = currentCalendar.firstDay,\n                    days = currentCalendar.days,\n                    names = shiftArray(days.names, firstDayIdx),\n                    shortNames = shiftArray(days.namesShort, firstDayIdx),\n                    start = calendar.firstVisibleDay(date, currentCalendar),\n                    firstDayOfMonth = that.first(date),\n                    lastDayOfMonth = that.last(date),\n                    toDateString = that.toDateString,\n                    today = getToday(),\n                    contentClasses = options.contentClasses,\n                    html = '<table tabindex=\"0\" role=\"grid\" class=\"' + contentClasses + '\" cellspacing=\"0\" data-start=\"' + toDateString(start) + '\">';\n\n                if (showHeader) {\n                    html += '<caption class=\"k-calendar-caption k-month-header\">' + this.title(date, min, max, culture) + '</caption>';\n                }\n\n                html += '<thead class=\"k-calendar-thead\"><tr role=\"row\" class=\"k-calendar-tr\">';\n\n                if (isWeekColumnVisible) {\n                    html += '<th scope=\"col\" class=\"k-calendar-th k-alt\">' + options.messages.weekColumnHeader + '</th>';\n                }\n\n                for (; idx < 7; idx++) {\n                    html += '<th scope=\"col\" class=\"k-calendar-th\" aria-label=\"' + names[idx] + '\">' + shortNames[idx] + '</th>';\n                }\n\n                adjustDST(today, 0);\n                today = +today;\n\n                return view({\n                    cells: 42,\n                    perRow: 7,\n                    html: html += '</tr></thead><tbody class=\"k-calendar-tbody\"><tr role=\"row\" class=\"k-calendar-tr\">',\n                    start: start,\n                    isWeekColumnVisible: isWeekColumnVisible,\n                    weekNumber: options.weekNumber,\n                    min: createDate(min.getFullYear(), min.getMonth(), min.getDate()),\n                    max: createDate(max.getFullYear(), max.getMonth(), max.getDate()),\n                    otherMonth: otherMonth,\n                    content: options.content,\n                    lastDayOfMonth: lastDayOfMonth,\n                    empty: options.empty,\n                    setter: that.setDate,\n                    disableDates: options.disableDates,\n                    build: function(date, idx, disableDates) {\n                        var cssClass = [ \"k-calendar-td\" ],\n                            day = date.getDay(),\n                            linkClass = \"\",\n                            url = \"#\";\n\n                        if (date < firstDayOfMonth || date > lastDayOfMonth) {\n                            cssClass.push(OTHERMONTH);\n                        }\n\n                        if (disableDates(date)) {\n                            cssClass.push(DISABLED);\n                        }\n\n                        if (+date === today) {\n                            cssClass.push(\"k-today\");\n                        }\n\n                        if (day === 0 || day === 6) {\n                            cssClass.push(\"k-weekend\");\n                        }\n\n                        if (hasUrl && inArray(+date, dates)) {\n                            url = navigateUrl.replace(\"{0}\", kendo.toString(date, format, culture));\n                            linkClass = \" k-action-link\";\n                        }\n\n                        return {\n                            date: date,\n                            dates: dates,\n                            ns: kendo.ns,\n                            title: kendo.toString(date, \"D\", culture),\n                            value: date.getDate(),\n                            dateString: toDateString(date),\n                            cssClass: cssClass.join(\" \"),\n                            linkClass: linkClass,\n                            url: url\n                        };\n                    },\n                    weekNumberBuild: function(date) {\n                        return {\n                            weekNumber: weekInYear(date, kendo.culture().calendar.firstDay),\n                            currentDate: date\n                        };\n                    }\n                });\n            },\n            first: function(date) {\n                return calendar.firstDayOfMonth(date);\n            },\n            last: function(date) {\n                var last = createDate(date.getFullYear(), date.getMonth() + 1, 0),\n                first = calendar.firstDayOfMonth(date),\n                timeOffset = Math.abs(last.getTimezoneOffset() - first.getTimezoneOffset());\n\n                if (timeOffset) {\n                    last.setHours(first.getHours() + (timeOffset / 60));\n                }\n\n                return last;\n            },\n            compare: function(date1, date2) {\n                var result,\n                month1 = date1.getMonth(),\n                year1 = date1.getFullYear(),\n                month2 = date2.getMonth(),\n                year2 = date2.getFullYear();\n\n                if (year1 > year2) {\n                    result = 1;\n                } else if (year1 < year2) {\n                    result = -1;\n                } else {\n                    result = month1 == month2 ? 0 : month1 > month2 ? 1 : -1;\n                }\n\n                return result;\n            },\n            setDate: function(date, value) {\n                var hours = date.getHours();\n                if (value instanceof DATE) {\n                    date.setFullYear(value.getFullYear(), value.getMonth(), value.getDate());\n                } else {\n                    calendar.setTime(date, value * MS_PER_DAY);\n                }\n                adjustDST(date, hours);\n            },\n            toDateString: function(date) {\n                return date.getFullYear() + \"/\" + date.getMonth() + \"/\" + date.getDate();\n            },\n            valueType: function() {\n                return \"date\";\n            }\n        },\n        {\n            name: \"year\",\n            title: function(date) {\n                return date.getFullYear();\n            },\n            content: function(options) {\n                var calendarMonths = getCalendarInfo(options.culture).months,\n                    namesAbbr = calendarMonths.namesAbbr,\n                    namesFull = calendarMonths.names,\n                    toDateString = this.toDateString,\n                    min = options.min,\n                    max = options.max,\n                    html = \"\";\n\n                if (options.showHeader) {\n                    html += '<table tabindex=\"0\" role=\"grid\" class=\"k-calendar-table k-content k-meta-view\" cellspacing=\"0\">';\n                        html += '<caption class=\"k-calendar-caption k-meta-header\">';\n                            html += this.title(options.date);\n                        html += '</caption>';\n                        html += '<tbody class=\"k-calendar-tbody\">';\n                            html += '<tr role=\"row\" class=\"k-calendar-tr\">';\n                }\n\n                return view({\n                    min: createDate(min.getFullYear(), min.getMonth(), 1),\n                    max: createDate(max.getFullYear(), max.getMonth(), 1),\n                    start: createDate(options.date.getFullYear(), 0, 1),\n                    html: html,\n                    setter: this.setDate,\n                    content: options.content,\n                    build: function(date) {\n                        var cssClass = [ \"k-calendar-td\" ];\n\n                        return {\n                            value: namesAbbr[date.getMonth()],\n                            label: namesFull[date.getMonth()],\n                            ns: kendo.ns,\n                            dateString: toDateString(date),\n                            cssClass: cssClass.join(\" \")\n                        };\n                    }\n                });\n            },\n            first: function(date) {\n                return createDate(date.getFullYear(), 0, date.getDate());\n            },\n            last: function(date) {\n                return createDate(date.getFullYear(), 11, date.getDate());\n            },\n            compare: function(date1, date2) {\n                return compare(date1, date2);\n            },\n            setDate: function(date, value) {\n                var month,\n                hours = date.getHours();\n\n                if (value instanceof DATE) {\n                    month = value.getMonth();\n\n                    date.setFullYear(value.getFullYear(), month, date.getDate());\n\n                    if (month !== date.getMonth()) {\n                        date.setDate(0);\n                    }\n                } else {\n                    month = date.getMonth() + value;\n\n                    date.setMonth(month);\n\n                    if (month > 11) {\n                        month -= 12;\n                    }\n\n                    if (month > 0 && date.getMonth() != month) {\n                        date.setDate(0);\n                    }\n                }\n\n                adjustDST(date, hours);\n            },\n            toDateString: function(date) {\n                return date.getFullYear() + \"/\" + date.getMonth() + \"/1\";\n            },\n            valueType: function() {\n                return \"month\";\n            }\n        },\n        {\n            name: \"decade\",\n            title: function(date, min, max) {\n                return title(date, min, max, 10);\n            },\n            content: function(options) {\n                var year = options.date.getFullYear(),\n                toDateString = this.toDateString,\n                html = \"\";\n\n                if (options.showHeader) {\n                    html += '<table tabindex=\"0\" role=\"grid\" class=\"k-calendar-table k-content k-meta-view\" cellspacing=\"0\">';\n                        html += '<caption class=\"k-meta-header\">';\n                            html += this.title(options.date, options.min, options.max);\n                        html += '</caption>';\n                        html += '<tbody class=\"k-calendar-thead\">';\n                            html += '<tr role=\"row\" class=\"k-calendar-tr\">';\n                }\n\n                return view({\n                    start: createDate(year - year % 10 - 1, 0, 1),\n                    min: createDate(options.min.getFullYear(), 0, 1),\n                    max: createDate(options.max.getFullYear(), 0, 1),\n                    otherMonth: options.otherMonth,\n                    html: html,\n                    setter: this.setDate,\n                    build: function(date, idx) {\n                        var cssClass = [ \"k-calendar-td\" ];\n\n                        if (idx === 0 || idx === 11) {\n                            cssClass.push(OTHERMONTH);\n                        }\n\n                        return {\n                            value: date.getFullYear(),\n                            ns: kendo.ns,\n                            dateString: toDateString(date),\n                            cssClass: cssClass.join(\" \")\n                        };\n                    }\n                });\n            },\n            first: function(date) {\n                var year = date.getFullYear();\n                return createDate(year - year % 10, date.getMonth(), date.getDate());\n            },\n            last: function(date) {\n                var year = date.getFullYear();\n                return createDate(year - year % 10 + 9, date.getMonth(), date.getDate());\n            },\n            compare: function(date1, date2) {\n                return compare(date1, date2, 10);\n            },\n            setDate: function(date, value) {\n                setDate(date, value, 1);\n            },\n            toDateString: function(date) {\n                return date.getFullYear() + \"/0/1\";\n            },\n            valueType: function() {\n                return \"year\";\n            }\n        },\n        {\n            name: CENTURY,\n            title: function(date, min, max) {\n                return title(date, min, max, 100);\n            },\n            content: function(options) {\n                var year = options.date.getFullYear(),\n                min = options.min.getFullYear(),\n                max = options.max.getFullYear(),\n                toDateString = this.toDateString,\n                minYear = min,\n                maxYear = max,\n                html = \"\";\n\n                minYear = minYear - minYear % 10;\n                maxYear = maxYear - maxYear % 10;\n\n                if (maxYear - minYear < 10) {\n                    maxYear = minYear + 9;\n                }\n\n                if (options.showHeader) {\n                    html += '<table tabindex=\"0\" role=\"grid\" class=\"k-calendar-table k-content k-meta-view\" cellspacing=\"0\">';\n                        html += '<caption class=\"k-calendar-caption k-meta-header\">';\n                            html += this.title(options.date, options.min, options.max);\n                        html += '</caption>';\n                        html += '<tbody class=\"k-calendar-tbody\">';\n                            html += '<tr role=\"row\" class=\"k-calendar-tr\">';\n                }\n\n                return view({\n                    start: createDate(year - year % 100 - 10, 0, 1),\n                    min: createDate(minYear, 0, 1),\n                    max: createDate(maxYear, 0, 1),\n                    otherMonth: options.otherMonth,\n                    html: html,\n                    setter: this.setDate,\n                    build: function(date, idx) {\n                        var cssClass = [ \"k-calendar-td\" ];\n                        var start = date.getFullYear(),\n                            end = start + 9;\n\n                        if (idx === 0 || idx === 11) {\n                            cssClass.push(OTHERMONTH);\n                        }\n\n                        if (start < min) {\n                            start = min;\n                        }\n\n                        if (end > max) {\n                            end = max;\n                        }\n\n                        return {\n                            ns: kendo.ns,\n                            value: start + \" - \" + end,\n                            dateString: toDateString(date),\n                            cssClass: cssClass.join(\" \")\n                        };\n                    }\n                });\n            },\n            first: function(date) {\n                var year = date.getFullYear();\n                return createDate(year - year % 100, date.getMonth(), date.getDate());\n            },\n            last: function(date) {\n                var year = date.getFullYear();\n                return createDate(year - year % 100 + 99, date.getMonth(), date.getDate());\n            },\n            compare: function(date1, date2) {\n                return compare(date1, date2, 100);\n            },\n            setDate: function(date, value) {\n                setDate(date, value, 10);\n            },\n            toDateString: function(date) {\n                var year = date.getFullYear();\n                return (year - year % 10) + \"/0/1\";\n            },\n            valueType: function() {\n                return \"decade\";\n            }\n        }]\n    };\n\n    function title(date, min, max, modular) {\n        var start = date.getFullYear(),\n            minYear = min.getFullYear(),\n            maxYear = max.getFullYear(),\n            end;\n\n        start = start - start % modular;\n        end = start + (modular - 1);\n\n        if (start < minYear) {\n            start = minYear;\n        }\n        if (end > maxYear) {\n            end = maxYear;\n        }\n\n        return start + \"-\" + end;\n    }\n\n    function view(options) {\n        var idx = 0,\n            data,\n            min = options.min,\n            max = options.max,\n            start = options.start,\n            setter = options.setter,\n            build = options.build,\n            weekNumberBuild = options.weekNumberBuild,\n            length = options.cells || 12,\n            isWeekColumnVisible = options.isWeekColumnVisible,\n            cellsPerRow = options.perRow || 4,\n            otherMonth = options.otherMonth,\n            lastDayOfMonth = options.lastDayOfMonth,\n            weekNumber = options.weekNumber || weekNumberTemplate,\n            content = options.content || cellTemplate,\n            empty = options.empty || emptyCellTemplate,\n            otherMonthTemplate = options.otherMonthCellTemplate || otherMonthCellTemplate,\n            html = options.html || '<table tabindex=\"0\" role=\"grid\" class=\"k-calendar-table k-content k-meta-view\" cellspacing=\"0\"><tbody class=\"k-calendar-tbody\"><tr role=\"row\" class=\"k-calendar-tr\">';\n\n        if (isWeekColumnVisible) {\n            html += weekNumber(weekNumberBuild(start));\n        }\n\n\n        for (; idx < length; idx++) {\n            if (idx > 0 && idx % cellsPerRow === 0) {\n                html += '</tr><tr role=\"row\" class=\"k-calendar-tr\">';\n                if (isWeekColumnVisible) {\n                    html += otherMonth || (+start <= +lastDayOfMonth) ? weekNumber(weekNumberBuild(start)) : weekNumber({ weekNumber: \"&nbsp;\" });\n                }\n            }\n\n            start = createDate(start.getFullYear(), start.getMonth(), start.getDate());\n            adjustDST(start, 0);\n\n            data = build(start, idx, options.disableDates);\n\n            html += (data.cssClass.indexOf(OTHERMONTH) !== -1 && !otherMonth) ? otherMonthTemplate(data) : isInRange(start, min, max) ? content(data) : empty(data);\n\n            setter(start, 1);\n        }\n\n        return html + \"</tr></tbody></table>\";\n    }\n\n    function compare(date1, date2, modifier) {\n        var year1 = date1.getFullYear(),\n            start = date2.getFullYear(),\n            end = start,\n            result = 0;\n\n        if (modifier) {\n            start = start - start % modifier;\n            end = start - start % modifier + modifier - 1;\n        }\n\n        if (year1 > end) {\n            result = 1;\n        } else if (year1 < start) {\n            result = -1;\n        }\n\n        return result;\n    }\n\n    function getToday() {\n        var today = new DATE();\n        return new DATE(today.getFullYear(), today.getMonth(), today.getDate());\n    }\n\n    function restrictValue(value, min, max) {\n        var today = getToday();\n\n        if (value) {\n            today = new DATE(+value);\n        }\n\n        if (min > today) {\n            today = new DATE(+min);\n        } else if (max < today) {\n            today = new DATE(+max);\n        }\n        return today;\n    }\n\n    function isInRange(date, min, max) {\n        return +date >= +min && +date <= +max;\n    }\n\n    function shiftArray(array, idx) {\n        return array.slice(idx).concat(array.slice(0, idx));\n    }\n\n    function setDate(date, value, multiplier) {\n        value = value instanceof DATE ? value.getFullYear() : date.getFullYear() + multiplier * value;\n        date.setFullYear(value);\n    }\n\n    function daysBetweenTwoDates(startDate, endDate) {\n        if (+endDate < +startDate) {\n            var temp = +startDate;\n            calendar.views[0].setDate(startDate, endDate);\n            calendar.views[0].setDate(endDate, new Date(temp));\n        }\n        var fromDateUTC = Date.UTC(startDate.getFullYear(), startDate.getMonth(), startDate.getDate());\n        var endDateUTC = Date.UTC(endDate.getFullYear(), endDate.getMonth(), endDate.getDate());\n\n        return Math.ceil((+endDateUTC - +fromDateUTC) / kendo.date.MS_PER_DAY);\n    }\n\n    function addDaysToArray(array, numberOfDays, fromDate, disableDates) {\n        for (var i = 0; i <= numberOfDays; i++) {\n            var nextDay = new Date(fromDate.getTime());\n            nextDay = new Date(nextDay.setDate(nextDay.getDate() + i));\n            if (!disableDates(nextDay)) {\n                array.push(nextDay);\n            }\n        }\n    }\n\n    function mousetoggle(e) {\n        var disabled = $(this).hasClass(\"k-disabled\");\n\n        if (!disabled) {\n            $(this).toggleClass(HOVER, MOUSEENTER.indexOf(e.type) > -1 || e.type == FOCUS);\n        }\n    }\n\n    function prevent(e) {\n        e.preventDefault();\n    }\n\n    // creates date with full year\n    function createDate(year, month, date) {\n        var dateObject = new DATE(year, month, date);\n        dateObject.setFullYear(year, month, date);\n        return dateObject;\n    }\n\n    function getCalendarInfo(culture) {\n        return getCulture(culture).calendars.standard;\n    }\n\n    function normalize(options) {\n        var start = views[options.start],\n            depth = views[options.depth],\n            culture = getCulture(options.culture);\n\n        options.format = extractFormat(options.format || culture.calendars.standard.patterns.d);\n\n        if (isNaN(start)) {\n            start = 0;\n            options.start = MONTH;\n        }\n\n        if (depth === undefined || depth > start) {\n            options.depth = MONTH;\n        }\n\n        if (options.dates === null) {\n            options.dates = [];\n        }\n    }\n\n    function addClassToViewContainer(element, currentView) {\n        element.addClass(\"k-\" + currentView);\n    }\n\n    function inArray(date, dates) {\n        for (var i = 0, length = dates.length; i < length; i++) {\n            if (date === +dates[i]) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    function isEqualDatePart(value1, value2) {\n        if (value1) {\n            return value1.getFullYear() === value2.getFullYear() &&\n                value1.getMonth() === value2.getMonth() &&\n                value1.getDate() === value2.getDate();\n        }\n\n        return false;\n    }\n\n    function isEqualMonth(value1, value2) {\n        if (value1) {\n            return value1.getFullYear() === value2.getFullYear() &&\n                value1.getMonth() === value2.getMonth();\n        }\n\n        return false;\n    }\n\n\n    function getDisabledExpr(option) {\n        if (kendo.isFunction(option)) {\n            return option;\n        }\n\n        if (Array.isArray(option)) {\n            return createDisabledExpr(option);\n        }\n        return $.noop;\n    }\n\n    function convertDatesArray(dates) {\n        var result = [];\n        for (var i = 0; i < dates.length; i++) {\n            result.push(dates[i].setHours(0, 0, 0, 0));\n        }\n        return result;\n    }\n\n    function createDisabledExpr(dates) {\n        var body, callback,\n            disabledDates = [],\n            days = [\"su\", \"mo\", \"tu\", \"we\", \"th\", \"fr\", \"sa\"],\n            searchExpression = \"if (found) {\" +\n                    \" return true \" +\n                \"} else {\" +\n                    \"return false\" +\n                \"}\";\n\n        if (dates[0] instanceof DATE) {\n            disabledDates = convertDatesArray(dates);\n            body = \"var clonedDate = new Date(date); var found = date && window.kendo.jQuery.inArray(clonedDate.setHours(0, 0, 0, 0),[\" + disabledDates + \"]) > -1;\" + searchExpression;\n        } else {\n            for (var i = 0; i < dates.length; i++) {\n                var day = dates[i].slice(0,2).toLowerCase();\n                var index = $.inArray(day, days);\n                if (index > -1) {\n                    disabledDates.push(index);\n                }\n            }\n            body = \"var clonedDate = new Date(date); var found = date && window.kendo.jQuery.inArray(clonedDate.getDay(),[\" + disabledDates + \"]) > -1;\" + searchExpression;\n        }\n\n        callback = new Function(\"date\", body);\n\n        return callback;\n    }\n\n    function isEqualDate(oldValue, newValue) {\n       if (oldValue instanceof Date && newValue instanceof Date) {\n           oldValue = oldValue.getTime();\n           newValue = newValue.getTime();\n       }\n\n       return oldValue === newValue;\n    }\n\n    function toDateObject(link) {\n        var value = $(link).attr(kendo.attr(VALUE)).split(\"/\");\n        //Safari cannot create correctly date from \"1/1/2090\"\n        value = createDate(value[0], value[1], value[2]);\n\n        return value;\n    }\n\n    calendar.isEqualDatePart = isEqualDatePart;\n    calendar.isEqualDate = isEqualDate;\n    calendar.restrictValue = restrictValue;\n    calendar.isInRange = isInRange;\n    calendar.addClassToViewContainer = addClassToViewContainer;\n    calendar.normalize = normalize;\n    calendar.viewsEnum = views;\n    calendar.disabled = getDisabledExpr;\n    calendar.toDateObject = toDateObject;\n    calendar.getToday = getToday;\n    calendar.createDate = createDate;\n\n    kendo.calendar = calendar;\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.dateinput',[ \"kendo.core\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"dateinput\",\n    name: \"DateInput\",\n    category: \"web\",\n    description: \"The DateInput widget allows to edit date by typing.\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined) {\n    var global = window;\n    var kendo = global.kendo;\n    var caret = kendo.caret;\n    var ui = kendo.ui;\n    var Widget = ui.Widget;\n    var keys = kendo.keys;\n    var ns = \".kendoDateInput\";\n    var objectToString = {}.toString;\n\n    var INPUT_EVENT_NAME = (kendo.support.propertyChangeEvent ? \"propertychange.kendoDateInput input\" : \"input\") + ns;\n\n    var FOCUSED = \"k-focus\";\n    var STATEDISABLED = \"k-disabled\";\n    var STATEINVALID = \"k-invalid\";\n\n    var DISABLED = \"disabled\";\n    var READONLY = \"readonly\";\n    var CHANGE = \"change\";\n\n    var knownSymbols = \"dMyHhmftsz\";\n\n    var DateInput = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            element = that.element;\n\n            options = that.options;\n            options.format = kendo._extractFormat(options.format || kendo.getCulture(options.culture).calendars.standard.patterns.d);\n            options.min = kendo.parseDate(element.attr(\"min\")) || kendo.parseDate(options.min);\n            options.max = kendo.parseDate(element.attr(\"max\")) || kendo.parseDate(options.max);\n\n            var wrapperClass = (element.parent().attr(\"class\") || \"\");\n            var skipWrapping = wrapperClass.indexOf(\"picker\") >= 0 && wrapperClass.indexOf(\"rangepicker\") < 0;\n\n            if (skipWrapping) {\n                that.wrapper = element.parent();\n            } else {\n                that.wrapper = element.wrap(\"<span class='k-dateinput k-input'></span>\").parent();\n                that.wrapper.addClass(element[0].className).removeClass('input-validation-error');\n                that.wrapper[0].style.cssText = element[0].style.cssText;\n                element.css({\n                    height: element[0].style.height\n                });\n            }\n\n            that._validationIcon = $(\"<span class='k-input-validation-icon k-icon k-i-warning k-hidden'></span>\").insertAfter(element);\n\n            that._form();\n\n            that.element\n                .addClass(skipWrapping ? \" \" : \"k-input-inner\")\n                .attr(\"autocomplete\", \"off\")\n                .on(\"focus\" + ns, function() {\n                    that.wrapper.addClass(FOCUSED);\n                })\n                .on(\"focusout\" + ns, function() {\n                    that.wrapper.removeClass(FOCUSED);\n                    that._change();\n                });\n\n            try {\n                element[0].setAttribute(\"type\", \"text\");\n            } catch (e) {\n                element[0].type = \"text\";\n            }\n\n            var disabled = element.is(\"[disabled]\") || $(that.element).parents(\"fieldset\").is(':disabled');\n\n            if (disabled) {\n                that.enable(false);\n            } else {\n                that.readonly(element.is(\"[readonly]\"));\n            }\n\n            that.value(that.options.value || element.val());\n            that._applyCssClasses();\n\n            kendo.notify(that);\n        },\n\n        options: {\n            name: \"DateInput\",\n            culture: \"\",\n            value: \"\",\n            format: \"\",\n            min: new Date(1900, 0, 1),\n            max: new Date(2099, 11, 31),\n            messages: {\n                \"year\": \"year\",\n                \"month\": \"month\",\n                \"day\": \"day\",\n                \"weekday\": \"day of the week\",\n                \"hour\": \"hours\",\n                \"minute\": \"minutes\",\n                \"second\": \"seconds\",\n                \"dayperiod\": \"AM/PM\"\n            },\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        events: [\n            CHANGE\n        ],\n\n        min: function(value) {\n            if (value !== undefined) {\n                this.options.min = value;\n            } else {\n                return this.options.min;\n            }\n        },\n\n        max: function(value) {\n            if (value !== undefined) {\n                this.options.max = value;\n            } else {\n                return this.options.max;\n            }\n        },\n\n        setOptions: function(options) {\n            var that = this;\n            Widget.fn.setOptions.call(that, options);\n            this._unbindInput();\n            this._bindInput();\n            this._updateElementValue();\n        },\n\n        destroy: function() {\n            var that = this;\n            that.element.off(ns);\n\n            if (that._formElement) {\n                that._formElement.off(\"reset\", that._resetHandler);\n            }\n\n            Widget.fn.destroy.call(that);\n        },\n\n        value: function(value) {\n            if (value === undefined) {\n                return this._dateTime.getDateObject();\n            }\n\n            if (value === null) {\n                value = \"\";\n            }\n\n            if (objectToString.call(value) !== \"[object Date]\") {\n                value = kendo.parseDate(value, this.options.format, this.options.culture);\n            }\n\n            if (value && !value.getTime()) {\n                value = null;\n            }\n\n            this._dateTime = new customDateTime(value, this.options.format, this.options.culture, this.options.messages);\n\n            this._updateElementValue();\n            this._oldValue = value;\n        },\n\n        _updateElementValue: function() {\n            var stringAndFromat = this._dateTime.toPair(this.options.format, this.options.culture, this.options.messages);\n            this.element.val(stringAndFromat[0]);\n            this._oldText = stringAndFromat[0];\n            this._format = stringAndFromat[1];\n        },\n\n        readonly: function(readonly) {\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n        },\n\n        enable: function(enable) {\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n        },\n\n        _bindInput: function() {\n            var that = this;\n            that.element\n                .on(\"focus\" + ns, function() {\n                    that.wrapper.addClass(FOCUSED);\n                })\n                .on(\"focusout\" + ns, function() {\n                    that.wrapper.removeClass(FOCUSED);\n                    that._change();\n                })\n                .on(\"paste\" + ns, that._paste.bind(that))\n                .on(\"keydown\" + ns, that._keydown.bind(that))\n                .on(INPUT_EVENT_NAME, that._input.bind(that))\n                .on(\"mouseup\" + ns, that._mouseUp.bind(that))\n                .on(\"DOMMouseScroll\" + ns + \" mousewheel\" + ns, that._scroll.bind(that));\n        },\n\n        _unbindInput: function() {\n            this.element\n                .off(\"keydown\" + ns)\n                .off(\"paste\" + ns)\n                .off(\"focus\" + ns)\n                .off(\"focusout\" + ns)\n                .off(INPUT_EVENT_NAME)\n                .off(\"mouseup\" + ns)\n                .off(\"DOMMouseScroll\" + ns + \" mousewheel\" + ns);\n        },\n\n        _editable: function(options) {\n            var that = this;\n            var element = that.element;\n            var disable = options.disable;\n            var readonly = options.readonly;\n            var wrapper = that.wrapper;\n\n            that._unbindInput();\n\n            if (!readonly && !disable) {\n                wrapper.removeClass(STATEDISABLED);\n                if (element && element.length) {\n                    element[0].removeAttribute(DISABLED);\n                    element[0].removeAttribute(READONLY);\n                }\n\n                that._bindInput();\n            } else {\n                if (disable) {\n                    wrapper.addClass(STATEDISABLED);\n                    element.attr(DISABLED, disable);\n                    if (element && element.length) {\n                        element[0].removeAttribute(READONLY);\n                    }\n                }\n                if (readonly) {\n                    element.attr(READONLY, readonly);\n                }\n            }\n        },\n\n        _change: function() {\n            var that = this;\n            var oldValue = that._oldValue;\n            var value = that.value();\n\n            if (value && that.min() && value < that.min()) {\n                that.value(that.min());\n                value = that.value();\n            }\n            if (value && that.max() && value > that.max()) {\n                that.value(that.max());\n                value = that.value();\n            }\n\n            if (oldValue && value && value.getTime() !== oldValue.getTime() ||\n                oldValue && !value ||\n                !oldValue && value\n            ) {\n                that._oldValue = value;\n                that.trigger(CHANGE);\n                that.element.trigger(CHANGE);\n            }\n        },\n\n        _input: function() {\n            var that = this;\n            var element = that.element[0];\n            var blinkInvalid = false;\n\n            if (kendo._activeElement() !== element) {\n                return;\n            }\n\n            var diff = approximateStringMatching(\n                this._oldText,\n                this._format,\n                this.element[0].value,\n                caret(this.element[0])[0]);\n\n            var navigationOnly = (diff.length === 1 && diff[0][1] === \" \");\n            if (!navigationOnly) {\n                for (var i = 0; i < diff.length; i++) {\n                    var valid = this._dateTime.parsePart(diff[i][0], diff[i][1]);\n                    blinkInvalid = blinkInvalid || !valid;\n                }\n            }\n            this._updateElementValue();\n\n            if (diff.length && diff[0][0] !== \" \") {\n                this._selectSegment(diff[0][0]);\n\n                //android fix\n                if (!navigationOnly) {\n                    var difSym = diff[0][0];\n                    setTimeout(function() { that._selectSegment(difSym); });\n                }\n            }\n            if (navigationOnly) {\n                var newEvent = { keyCode: 39, preventDefault: function() { } };\n                this._keydown(newEvent);\n            }\n            if (blinkInvalid) {\n                that._blinkInvalidState();\n            }\n        },\n\n        _blinkInvalidState: function() {\n            var that = this;\n\n            that._addInvalidState();\n            clearTimeout(that._invalidStateTimeout);\n            that._invalidStateTimeout = setTimeout(that._removeInvalidState.bind(that), 100);\n        },\n\n        _addInvalidState: function() {\n            var that = this;\n\n            that.wrapper.addClass(STATEINVALID);\n            that._validationIcon.removeClass(\"k-hidden\");\n        },\n\n        _removeInvalidState: function() {\n            var that = this;\n\n            that.wrapper.removeClass(STATEINVALID);\n            that._validationIcon.addClass(\"k-hidden\");\n            that._invalidStateTimeout = null;\n        },\n\n        _mouseUp: function() {\n            var selection = caret(this.element[0]);\n            if (selection[0] === selection[1]) {\n                this._selectNearestSegment();\n            }\n        },\n\n        _scroll: function(e) {\n            if (kendo._activeElement() !== this.element[0] || this.element.is(\"[readonly]\")) {\n                return;\n            }\n            e = window.event || e;\n\n            var newEvent = { keyCode: 37, preventDefault: function() { } };\n\n            if (e.shiftKey) {\n                newEvent.keyCode = (e.wheelDelta || -e.detail) > 0 ? 37 : 39;\n            } else {\n                newEvent.keyCode = (e.wheelDelta || -e.detail) > 0 ? 38 : 40;\n            }\n            this._keydown(newEvent);\n            e.returnValue = false;\n            if (e.preventDefault) {\n                e.preventDefault();\n            }\n            if (e.stopPropagation) {\n                e.stopPropagation();\n            }\n        },\n\n        _form: function() {\n            var that = this;\n            var element = that.element;\n            var formId = element.attr(\"form\");\n            var form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n            var initialValue = element[0].value;\n\n            if (!initialValue && that.options.value) {\n                initialValue = that.options.value;\n            }\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    setTimeout(function() {\n                        that.value(initialValue);\n                    });\n                };\n\n                that._formElement = form.on(\"reset\", that._resetHandler);\n            }\n        },\n\n        _paste: function(e) {\n            e.preventDefault();\n        },\n\n        _keydown: function(e) {\n            var key = e.keyCode;\n            var selection;\n            if (key == 37 || key == 39) { //left/right\n                e.preventDefault();\n                selection = caret(this.element[0]);\n                if (selection[0] != selection[1]) {\n                    this._selectNearestSegment();\n                }\n                var dir = (key == 37) ? -1 : 1;\n                var index = (dir == -1) ? caret(this.element[0])[0] - 1 : caret(this.element[0])[1] + 1;\n                while (index >= 0 && index < this._format.length) {\n                    if (knownSymbols.indexOf(this._format[index]) >= 0) {\n                        this._selectSegment(this._format[index]);\n                        break;\n                    }\n                    index += dir;\n                }\n            }\n            if (key == 38 || key == 40) { //up/down\n                e.preventDefault();\n                selection = caret(this.element[0]);\n                var symbol = this._format[selection[0]];\n                if (knownSymbols.indexOf(symbol) >= 0) {\n                    var interval = 1;\n                    if (symbol == 'm') {\n                        interval = this.options.interval || 1;\n                    }\n                    this._dateTime.modifyPart(symbol, key == 38 ? interval * 1 : interval * -1);\n                    this._updateElementValue();\n                    this._selectSegment(symbol);\n                    this.element.trigger(CHANGE);\n                }\n            }\n            if (kendo.support.browser.msie && kendo.support.browser.version < 10) {\n                var keycode = e.keyCode ? e.keyCode : e.which;\n                if (keycode === 8 || keycode === 46) {\n                    var that = this;\n                    setTimeout(function() {\n                        that._input();\n                    }, 0);\n                }\n            }\n            if (key === keys.ENTER) {\n                this._change();\n            }\n        },\n\n        _selectNearestSegment: function() {\n            var selection = caret(this.element[0]);\n            var start = selection[0];\n            for (var i = start, j = start - 1; i < this._format.length || j >= 0; i++ , j--) {\n                if (i < this._format.length && knownSymbols.indexOf(this._format[i]) !== -1) {\n                    this._selectSegment(this._format[i]);\n                    return;\n                }\n                if (j >= 0 && knownSymbols.indexOf(this._format[j]) !== -1) {\n                    this._selectSegment(this._format[j]);\n                    return;\n                }\n            }\n        },\n\n        _selectSegment: function(symbol) {\n            var begin = -1, end = 0;\n            for (var i = 0; i < this._format.length; i++) {\n                if (this._format[i] === symbol) {\n                    end = i + 1;\n                    if (begin === -1) {\n                        begin = i;\n                    }\n                }\n            }\n            if (begin < 0) {\n                begin = 0;\n            }\n            caret(this.element, begin, end);\n        }\n\n    });\n\n    kendo.cssProperties.registerPrefix(\"DateInput\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"DateInput\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    ui.plugin(DateInput);\n\n    var customDateTime = function(initDate, initFormat, initCulture, initMessages) {\n\n        var value = null;\n        var year = true, month = true, date = true, hours = true, minutes = true, seconds = true, milliseconds = true;\n        var typedMonthPart = \"\";\n        var typedDayPeriodPart = \"\";\n        var placeholders = {};\n\n        //TODO: rewrite pad method\n        var zeros = [\"\", \"0\", \"00\", \"000\", \"0000\"];\n        function pad(number, digits, end) {\n            number = number + \"\";\n            digits = digits || 2;\n            end = digits - number.length;\n\n            if (end) {\n                return zeros[digits].substring(0, end) + number;\n            }\n\n            return number;\n        }\n        var dateFormatRegExp = /dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|\"[^\"]*\"|'[^']*'/g;\n        var months = null, calendar = null, days = null, returnsFormat = false;\n        var matcher = function(match) {\n            var mins, sign;\n            var result;\n\n            switch (match) {\n                case (\"d\"): result = date ? value.getDate() : placeholders.day; break;\n                case (\"dd\"): result = date ? pad(value.getDate()) : placeholders.day; break;\n                case (\"ddd\"): result = date && month && year ? days.namesAbbr[value.getDay()] : placeholders.weekday; break;\n                case (\"dddd\"): result = date && month && year ? days.names[value.getDay()] : placeholders.weekday; break;\n\n                case (\"M\"): result = month ? value.getMonth() + 1 : placeholders.month; break;\n                case (\"MM\"): result = month ? pad(value.getMonth() + 1) : placeholders.month; break;\n                case (\"MMM\"): result = month ? months.namesAbbr[value.getMonth()] : placeholders.month; break;\n                case (\"MMMM\"): result = month ? months.names[value.getMonth()] : placeholders.month; break;\n\n                case (\"yy\"): result = year ? pad(value.getFullYear() % 100) : placeholders.year; break;\n                case (\"yyyy\"): result = year ? pad(value.getFullYear(), 4) : placeholders.year; break;\n\n                case (\"h\"): result = hours ? value.getHours() % 12 || 12 : placeholders.hour; break;\n                case (\"hh\"): result = hours ? pad(value.getHours() % 12 || 12) : placeholders.hour; break;\n                case (\"H\"): result = hours ? value.getHours() : placeholders.hour; break;\n                case (\"HH\"): result = hours ? pad(value.getHours()) : placeholders.hour; break;\n\n                case (\"m\"): result = minutes ? value.getMinutes() : placeholders.minute; break;\n                case (\"mm\"): result = minutes ? pad(value.getMinutes()) : placeholders.minute; break;\n                case (\"s\"): result = seconds ? value.getSeconds() : placeholders.second; break;\n                case (\"ss\"): result = seconds ? pad(value.getSeconds()) : placeholders.second; break;\n                case (\"f\"): result = milliseconds ? Math.floor(value.getMilliseconds() / 100) : milliseconds; break;\n                case (\"ff\"):\n                    result = value.getMilliseconds();\n                    if (result > 99) {\n                        result = Math.floor(result / 10);\n                    }\n                    result = milliseconds ? pad(result) : match;\n                    break;\n                case (\"fff\"): result = milliseconds ? pad(value.getMilliseconds(), 3) : match; break;\n                case (\"tt\"): result = hours ? (value.getHours() < 12 ? calendar.AM[0] : calendar.PM[0]) : placeholders.dayperiod; break;\n                case (\"zzz\"):\n                    mins = value.getTimezoneOffset();\n                    sign = mins < 0;\n                    result = Math.abs(mins / 60).toString().split(\".\")[0];\n                    mins = Math.abs(mins) - (result * 60);\n                    result = (sign ? \"+\" : \"-\") + pad(result);\n                    result += \":\" + pad(mins);\n                    break;\n                case (\"z\"):\n                case (\"zz\"):\n                    result = value.getTimezoneOffset() / 60;\n                    sign = result < 0;\n                    result = Math.abs(result).toString().split(\".\")[0];\n                    result = (sign ? \"+\" : \"-\") + (match === \"zz\" ? pad(result) : result);\n                    break;\n            }\n            result = (result !== undefined ? result : match.slice(1, match.length - 1));\n\n            if (returnsFormat) {\n                result = \"\" + result;\n                var formatResult = \"\";\n                if (match == \"ddd\") { match = \"EEE\"; }\n                if (match == \"dddd\") { match = \"EEEE\"; }\n                for (var i = 0; i < result.length; i++) {\n                    formatResult += match[0];\n                }\n                return formatResult;\n            } else {\n                return result;\n            }\n        };\n\n        function generateMatcher(retFormat) {\n            returnsFormat = retFormat;\n            return matcher;\n        }\n\n        function setExisting(symbol, val) {\n            switch (symbol) {\n                case \"y\": year = val; break;\n                case \"M\": month = val;\n                    if (!val) {\n                        value.setMonth(0);\n                        typedMonthPart = \"\";\n                    }\n                    break;\n                case \"d\": date = val; break;\n                case \"H\":\n                case \"h\": hours = val;\n                    if (!val) {\n                        typedDayPeriodPart = \"\";\n                    }\n                    break;\n                case \"m\": minutes = val; break;\n                case \"s\": seconds = val; break;\n                default: return;\n            }\n        }\n\n        this.setValue = function(val) {\n            date = val;\n        };\n\n        this.getValue = function() {\n            return date;\n        };\n\n        this.modifyPart = function(symbol, offset) {\n            var newValue = new Date((value && value.getTime) ? value.getTime() : value);\n            switch (symbol) {\n                case \"y\": newValue.setFullYear(newValue.getFullYear() + offset); break;\n                case \"M\":\n                    var newMonth = newValue.getMonth() + offset;\n                    newValue.setMonth(newMonth);\n                    if (newValue.getMonth() % 12 !== (newMonth + 12) % 12) {\n                        //handle case when new month does not have such date\n                        newValue.setDate(1);\n                        newValue.setMonth(newMonth);\n                    }\n                    break;\n                case \"d\":\n                case \"E\": newValue.setDate(newValue.getDate() + offset); break;\n                case \"H\":\n                case \"h\": newValue.setHours(newValue.getHours() + offset); break;\n                case \"m\": newValue.setMinutes(newValue.getMinutes() + offset); break;\n                case \"s\": newValue.setSeconds(newValue.getSeconds() + offset); break;\n                case \"t\": newValue.setHours((newValue.getHours() + 12) % 24); break;\n                default: break;\n            }\n            if (newValue.getFullYear() > 0) {\n                setExisting(symbol, true);\n                value = newValue;\n            }\n        };\n\n        this.parsePart = function(symbol, currentChar) {\n            if (!currentChar) {\n                setExisting(symbol, false);\n                return true;\n            }\n            var newValue = new Date((value && value.getTime) ? value.getTime() : value);\n            var lastDateOfMonth = new Date(newValue.getFullYear(), newValue.getMonth() + 1, 0).getDate();\n            var newHours;\n            switch (symbol) {\n                case \"d\":\n                    var newDate = (date ? newValue.getDate() * 10 : 0) + parseInt(currentChar, 10);\n                    if (isNaN(newDate)) { return; }\n                    while (newDate > lastDateOfMonth) {\n                        newDate = parseInt(newDate.toString().slice(1), 10);\n                    }\n                    if (newDate < 1) {\n                        date = false;\n                    } else {\n                        newValue.setDate(newDate);\n                        if (newValue.getMonth() !== value.getMonth()) {\n                            return;\n                        }\n                        date = true;\n                    }\n                    break;\n                case \"M\":\n                    var newMonth = (month ? (newValue.getMonth() + 1) * 10 : 0) + parseInt(currentChar, 10);\n                    if (!isNaN(newMonth)) {\n                        while (newMonth > 12) {\n                            newMonth = parseInt(newMonth.toString().slice(1), 10);\n                        }\n                        if (newMonth < 1) {\n                            month = false;\n                        } else {\n                            newValue.setMonth(newMonth - 1);\n                            if (newValue.getMonth() !== newMonth - 1) {\n                                newValue.setDate(1);\n                                newValue.setMonth(newMonth - 1);\n                            }\n                            month = true;\n                        }\n                    }\n                    else {\n                        var monthNames = calendar.months.names;\n                        typedMonthPart += currentChar.toLowerCase();\n\n                        while (typedMonthPart.length > 0) {\n                            for (var i = 0; i < monthNames.length; i++) {\n                                if (monthNames[i].toLowerCase().indexOf(typedMonthPart) === 0) {\n                                    newValue.setMonth(i);\n                                    month = true;\n                                    value = newValue;\n                                    return true;\n                                }\n                            }\n                            typedMonthPart = typedMonthPart.substring(1, typedMonthPart.length);\n                        }\n                        return false;\n                    }\n                    break;\n                case \"y\":\n                    var newYear = (year ? (newValue.getFullYear()) * 10 : 0) + parseInt(currentChar, 10);\n                    if (isNaN(newYear)) {return;}\n                    while (newYear > 9999) {\n                        newYear = parseInt(newYear.toString().slice(1), 10);\n                    }\n                    if (newYear < 1) {\n                        year = false;\n                    } else {\n                        newValue.setFullYear(newYear);\n                        year = true;\n                    }\n                    break;\n                case \"h\":\n                    newHours = (hours ? (newValue.getHours() % 12 || 12) * 10 : 0) + parseInt(currentChar, 10);\n                    if (isNaN(newHours)) { return; }\n                    while (newHours > 12) {\n                        newHours = parseInt(newHours.toString().slice(1), 10);\n                    }\n                    newValue.setHours(Math.floor(newValue.getHours() / 12) * 12 + newHours % 12);\n                    hours = true;\n                    break;\n                case \"H\":\n                    newHours = (hours ? (newValue.getHours()) * 10 : 0) + parseInt(currentChar, 10);\n                    if (isNaN(newHours)) { return; }\n                    while (newHours > 23) {\n                        newHours = parseInt(newHours.toString().slice(1), 10);\n                    }\n                    newValue.setHours(newHours);\n                    hours = true;\n                    break;\n                case \"m\":\n                    var newMinutes = (minutes ? (newValue.getMinutes()) * 10 : 0) + parseInt(currentChar, 10);\n                    if (isNaN(newMinutes)) { return; }\n                    while (newMinutes > 59) {\n                        newMinutes = parseInt(newMinutes.toString().slice(1), 10);\n                    }\n                    newValue.setMinutes(newMinutes);\n                    minutes = true;\n                    break;\n                case \"s\":\n                    var newSeconds = (seconds ? (newValue.getSeconds()) * 10 : 0) + parseInt(currentChar, 10);\n                    if (isNaN(newSeconds)) { return; }\n                    while (newSeconds > 59) {\n                        newSeconds = parseInt(newSeconds.toString().slice(1), 10);\n                    }\n                    newValue.setSeconds(newSeconds);\n                    seconds = true;\n                    break;\n                case \"t\":\n                    if (hours) {\n                        typedDayPeriodPart += currentChar.toLowerCase();\n                        while (typedDayPeriodPart.length > 0) {\n                            if (calendar.AM[0].toLowerCase().indexOf(typedDayPeriodPart) === 0 && newValue.getHours() >= 12 ||\n                                calendar.PM[0].toLowerCase().indexOf(typedDayPeriodPart) === 0 && newValue.getHours() < 12) {\n                                newValue.setHours((newValue.getHours() + 12) % 24);\n                                value = newValue;\n                                return true;\n                            }\n                            typedDayPeriodPart = typedDayPeriodPart.substring(1, typedDayPeriodPart.length);\n                        }\n                        return false;\n                    }\n                    break;\n                default: break;\n            }\n            value = newValue;\n            return true;\n        };\n\n        this.toPair = function(format, culture , messages) {\n            if (!format) {\n                return [\"\", \"\"];\n            }\n            culture = kendo.getCulture(culture);\n            calendar = culture.calendars.standard;\n            format = calendar.patterns[format] || format;\n            days = calendar.days;\n            months = calendar.months;\n            placeholders = messages;\n            return [\n                format.replace(dateFormatRegExp, generateMatcher(false)),\n                format.replace(dateFormatRegExp, generateMatcher(true))\n            ];\n        };\n\n        this.getDateObject = function() {\n            return (year && month && date && hours && minutes && seconds && milliseconds) ?\n                new Date(value.getTime()) : null;\n        };\n\n        if (!initDate) {\n            value = new Date();\n            var sampleFormat = this.toPair(initFormat, initCulture, initMessages)[1];\n            for (var i = 0; i < sampleFormat.length; i++) {\n                setExisting(sampleFormat[i], false);\n            }\n        } else {\n            value = new Date(initDate.getTime());\n        }\n    };\n\n    function approximateStringMatching(oldText, oldFormat, newText, caret) {\n        var oldTextSeparator = oldText[caret + oldText.length - newText.length];\n        oldText = oldText.substring(0, caret + oldText.length - newText.length);\n        newText = newText.substring(0, caret);\n        var diff = [];\n        var i;\n        //handle typing single character over the same selection\n        if (oldText === newText && caret > 0) {\n            diff.push([oldFormat[caret - 1], newText[caret - 1]]);\n            return diff;\n        }\n        if (oldText.indexOf(newText) === 0 && (newText.length === 0 || oldFormat[newText.length - 1] !== oldFormat[newText.length])) {\n            //handle delete/backspace\n            var deletedSymbol = \"\";\n            for (i = newText.length; i < oldText.length; i++) {\n                if (oldFormat[i] !== deletedSymbol && knownSymbols.indexOf(oldFormat[i]) >= 0) {\n                    deletedSymbol = oldFormat[i];\n                    diff.push([deletedSymbol, \"\"]);\n                }\n            }\n            return diff;\n        }\n\n        //handle entering space or separator, for nagivation to next item\n        if (newText[newText.length - 1] === \" \" || newText[newText.length - 1] === oldTextSeparator) {\n            return [[oldFormat[caret - 1], \" \"]];\n        }\n\n        //handle inserting text (new text is longer than previous)\n        //handle typing over literal as well\n        if (newText.indexOf(oldText) === 0 || knownSymbols.indexOf(oldFormat[caret - 1]) === -1) {\n            var symbol = oldFormat[0];\n            for (i = Math.max(0, oldText.length - 1); i < oldFormat.length; i++) {\n                if (knownSymbols.indexOf(oldFormat[i]) >= 0) {\n                    symbol = oldFormat[i];\n                    break;\n                }\n            }\n            return [[symbol, newText[caret - 1]]];\n        }\n        //handle typing over correctly selected part\n        return [[oldFormat[caret - 1], newText[caret - 1]]];\n}\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.datepicker',[ \"kendo.calendar\", \"kendo.popup\", \"kendo.dateinput\", \"kendo.html.button\"], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"datepicker\",\n    name: \"DatePicker\",\n    category: \"web\",\n    description: \"The DatePicker widget allows the user to select a date from a calendar or by direct input.\",\n    depends: [ \"calendar\", \"popup\", \"html.button\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n    ui = kendo.ui,\n    html = kendo.html,\n    Widget = ui.Widget,\n    parse = kendo.parseDate,\n    keys = kendo.keys,\n    support = kendo.support,\n    template = kendo.template,\n    activeElement = kendo._activeElement,\n    DIV = \"<div />\",\n    SPAN = \"<span />\",\n    ns = \".kendoDatePicker\",\n    CLICK = \"click\" + ns,\n    UP = support.mouseAndTouchPresent ? kendo.applyEventMap(\"up\", ns.slice(1)) : CLICK,\n    OPEN = \"open\",\n    CLOSE = \"close\",\n    CHANGE = \"change\",\n    DISABLED = \"disabled\",\n    READONLY = \"readonly\",\n    FOCUSED = \"k-focus\",\n    SELECTED = \"k-selected\",\n    STATEDISABLED = \"k-disabled\",\n    HOVER = \"k-hover\",\n    HOVEREVENTS = \"mouseenter\" + ns + \" mouseleave\" + ns,\n    MOUSEDOWN = \"mousedown\" + ns,\n    NAVIGATE = \"navigate\",\n    ID = \"id\",\n    MIN = \"min\",\n    MAX = \"max\",\n    MONTH = \"month\",\n    ARIA_DISABLED = \"aria-disabled\",\n    ARIA_READONLY = \"aria-readonly\",\n    ARIA_EXPANDED = \"aria-expanded\",\n    ARIA_HIDDEN = \"aria-hidden\",\n    ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n    calendar = kendo.calendar,\n    isInRange = calendar.isInRange,\n    restrictValue = calendar.restrictValue,\n    isEqualDatePart = calendar.isEqualDatePart,\n    extend = $.extend,\n    DATE = Date;\n\n    function normalize(options) {\n        var parseFormats = options.parseFormats,\n            format = options.format;\n\n        calendar.normalize(options);\n\n\n        parseFormats = Array.isArray(parseFormats) ? parseFormats : [parseFormats];\n\n        if (!parseFormats.length) {\n            parseFormats.push(\"yyyy-MM-dd\");\n        }\n\n        if ($.inArray(format, parseFormats) === -1) {\n            parseFormats.splice(0, 0, options.format);\n        }\n\n        options.parseFormats = parseFormats;\n    }\n\n    function preventDefault(e) {\n        e.preventDefault();\n    }\n\n    var DateView = function(options) {\n        var that = this, id,\n            body = document.body,\n            div = $(DIV).attr(ARIA_HIDDEN, \"true\")\n                        .addClass(\"k-calendar-container\");\n\n        that.options = options = options || {};\n        id = options.id;\n\n        if (!options.omitPopup) {\n            div.appendTo(body);\n            that.popup = new ui.Popup(div, extend(options.popup, options, { name: \"Popup\", isRtl: kendo.support.isRtl(options.anchor) }));\n        } else {\n            div = options.dateDiv;\n        }\n        if (id) {\n            id += \"_dateview\";\n\n            div.attr(ID, id);\n            that._dateViewID = id;\n        }\n        that.div = div;\n\n        that.value(options.value);\n    };\n\n    DateView.prototype = {\n        _calendar: function() {\n            var that = this;\n            var calendar = that.calendar;\n            var options = that.options;\n            var div;\n\n            if (!calendar) {\n                div = $(DIV).attr(ID, kendo.guid())\n                            .appendTo(options.omitPopup ? options.dateDiv : that.popup.element)\n                            .on(MOUSEDOWN, preventDefault)\n                            .on(CLICK, \"td:has(.k-link)\", that._click.bind(that));\n\n                that.calendar = calendar = new ui.Calendar(div, {\n                    componentType: options.componentType,\n                    size: options.size,\n                    messages: options.messages\n                });\n                that._setOptions(options);\n\n                div.addClass(kendo.getValidCssClass(\"k-calendar-\", \"size\", options.size));\n\n                calendar.navigate(that._value || that._current, options.start);\n\n                that.value(that._value);\n            }\n        },\n\n        _setOptions: function(options) {\n            this.calendar.setOptions({\n                focusOnNav: false,\n                change: options.change,\n                culture: options.culture,\n                dates: options.dates,\n                depth: options.depth,\n                footer: options.footer,\n                format: options.format,\n                max: options.max,\n                min: options.min,\n                month: options.month,\n                weekNumber: options.weekNumber,\n                start: options.start,\n                messages: options.messages,\n                disableDates: options.disableDates\n            });\n        },\n\n        setOptions: function(options) {\n            var old = this.options;\n            var disableDates = options.disableDates;\n\n            if (disableDates) {\n                options.disableDates = calendar.disabled(disableDates);\n            }\n\n            this.options = extend(old, options, {\n                change: old.change,\n                close: old.close,\n                open: old.open\n            });\n\n            if (this.calendar) {\n                this._setOptions(this.options);\n            }\n        },\n\n        destroy: function() {\n            if (this.popup) {\n                this.popup.destroy();\n            }\n        },\n\n        open: function() {\n            var that = this;\n            var popupHovered;\n\n            that._calendar();\n\n            // In some cases when the popup is opened resize is triggered which will cause it to close\n            // Setting the below flag will prevent this from happening\n            // Reference: https://github.com/telerik/kendo/pull/7553\n            popupHovered = that.popup._hovered;\n            that.popup._hovered = true;\n\n            that.popup.open();\n\n            setTimeout(function() {\n                that.popup._hovered = popupHovered;\n            }, 1);\n        },\n\n        close: function() {\n            if (this.popup) {\n                this.popup.close();\n            }\n        },\n\n        min: function(value) {\n            this._option(MIN, value);\n        },\n\n        max: function(value) {\n            this._option(MAX, value);\n        },\n\n        toggle: function() {\n            var that = this;\n\n            that[that.popup.visible() ? CLOSE : OPEN]();\n        },\n\n        move: function(e) {\n            var that = this,\n                key = e.keyCode,\n                calendar = that.calendar,\n                selectIsClicked = e.ctrlKey && key == keys.DOWN || key == keys.ENTER,\n                handled = false;\n\n            if (e.altKey) {\n                if (key == keys.DOWN) {\n                    that.open();\n                    e.preventDefault();\n                    handled = true;\n                } else if (key == keys.UP) {\n                    that.close();\n                    e.preventDefault();\n                    handled = true;\n                }\n\n            } else if (that.popup && that.popup.visible()) {\n\n                if (key == keys.ESC || (selectIsClicked && calendar._cell.hasClass(SELECTED))) {\n                    that.close();\n                    e.preventDefault();\n                    return true;\n                }\n                //spacebar selects a date in the calendar\n                if (key != keys.SPACEBAR) {\n                    that._current = calendar._move(e);\n                }\n\n                handled = true;\n            }\n\n            return handled;\n        },\n\n        current: function(date) {\n            this._current = date;\n            if (this.calendar) {\n                this.calendar._focus(date);\n            }\n        },\n\n        value: function(value) {\n            var that = this,\n                calendar = that.calendar,\n                options = that.options,\n                disabledDate = options.disableDates;\n\n            if (disabledDate && disabledDate(value)) {\n                value = null;\n            }\n\n            that._value = value;\n            that._current = new DATE(+restrictValue(value, options.min, options.max));\n\n            if (calendar) {\n                calendar.value(value);\n            }\n        },\n\n        _click: function(e) {\n\n            if (e.currentTarget.className.indexOf(SELECTED) !== -1) {\n                this.calendar.trigger(\"change\");\n                this.close();\n            }\n        },\n\n        _option: function(option, value) {\n            var that = this;\n            var calendar = that.calendar;\n\n            that.options[option] = value;\n\n            if (calendar) {\n                calendar[option](value);\n            }\n        }\n    };\n\n    DateView.normalize = normalize;\n\n    kendo.DateView = DateView;\n\n    var DatePicker = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                initialValue,\n                disabled,\n                div;\n\n            Widget.fn.init.call(that, element, options);\n            element = that.element;\n            options = that.options;\n\n            options.disableDates = kendo.calendar.disabled(options.disableDates);\n\n            options.min = parse(element.attr(\"min\")) || parse(options.min);\n            options.max = parse(element.attr(\"max\")) || parse(options.max);\n\n            normalize(options);\n\n            that._initialOptions = extend({}, options);\n\n            that._wrapper();\n\n            that.dateView = new DateView(extend({}, options, {\n                id: element.attr(ID),\n                anchor: that.wrapper,\n                change: function() {\n                    // calendar is the current scope\n                    that._change(this.value());\n                    that.close();\n                },\n                close: function(e) {\n                    if (that.trigger(CLOSE)) {\n                        e.preventDefault();\n                    } else {\n                        element.attr(ARIA_EXPANDED, false);\n                        div.attr(ARIA_HIDDEN, true);\n\n                        setTimeout(function() {\n                            element.removeAttr(\"aria-activedescendant\");\n                        });\n                    }\n                },\n                open: function(e) {\n                    var options = that.options,\n                        date;\n\n                    if (that.trigger(OPEN)) {\n                        e.preventDefault();\n                    } else {\n                        if (that.element.val() !== that._oldText) {\n                            date = parse(element.val(), options.parseFormats, options.culture);\n\n                            that.dateView[date ? \"current\" : \"value\"](date);\n                        }\n\n                        element.attr(ARIA_EXPANDED, true);\n                        div.attr(ARIA_HIDDEN, false);\n\n                        that._updateARIA(date);\n\n                    }\n                }\n            }));\n\n            div = that.dateView.div;\n\n            that._icon();\n\n            try {\n                element[0].setAttribute(\"type\", \"text\");\n            } catch (e) {\n                element[0].type = \"text\";\n            }\n\n            element\n                .addClass(\"k-input-inner\")\n                .attr({\n                    role: \"combobox\",\n                    \"aria-expanded\": false,\n                    \"aria-haspopup\": \"grid\",\n                    \"aria-controls\": that.dateView._dateViewID,\n                    \"autocomplete\": \"off\"\n                });\n            that._reset();\n            that._template();\n\n            disabled = element.is(\"[disabled]\") || $(that.element).parents(\"fieldset\").is(':disabled');\n            if (disabled) {\n                that.enable(false);\n            } else {\n                that.readonly(element.is(\"[readonly]\"));\n            }\n\n            initialValue = parse(options.value || that.element.val(), options.parseFormats, options.culture);\n\n            that._createDateInput(options);\n\n            that._old = that._update(initialValue || that.element.val());\n            that._oldText = element.val();\n            that._applyCssClasses();\n\n            kendo.notify(that);\n        },\n        events: [\n        OPEN,\n        CLOSE,\n        CHANGE],\n        options: {\n            name: \"DatePicker\",\n            value: null,\n            footer: \"\",\n            format: \"\",\n            culture: \"\",\n            parseFormats: [],\n            min: new Date(1900, 0, 1),\n            max: new Date(2099, 11, 31),\n            start: MONTH,\n            depth: MONTH,\n            animation: {},\n            month: {},\n            dates: [],\n            disableDates: null,\n            ARIATemplate: 'Current focused #=data.valueType# is #=data.text#',\n            dateInput: false,\n            weekNumber: false,\n            messages: {\n                weekColumnHeader: \"\"\n            },\n            componentType: \"classic\",\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        setOptions: function(options) {\n            var that = this;\n            var value = that._value;\n\n            Widget.fn.setOptions.call(that, options);\n\n            options = that.options;\n\n            options.min = parse(options.min);\n            options.max = parse(options.max);\n\n            normalize(options);\n\n            that._dateIcon.off(ns);\n            that._dateIcon.remove();\n\n            that.dateView.setOptions(options);\n            that._icon();\n            that._editable(options);\n            that._createDateInput(options);\n\n            if (!that._dateInput) {\n                that.element.val(kendo.toString(value, options.format, options.culture));\n            }\n\n            if (value) {\n                that._updateARIA(value);\n            }\n        },\n\n        _editable: function(options) {\n            var that = this,\n                icon = that._dateIcon.off(ns),\n                element = that.element.off(ns),\n                wrapper = that.wrapper.off(ns),\n                readonly = options.readonly,\n                disable = options.disable;\n\n            if (!readonly && !disable) {\n                wrapper\n                    .removeClass(STATEDISABLED)\n                    .on(HOVEREVENTS, that._toggleHover);\n                if (element && element.length) {\n                    element[0].removeAttribute(DISABLED);\n                    element[0].removeAttribute(READONLY);\n                }\n                element.attr(ARIA_DISABLED, false)\n                       .attr(ARIA_READONLY, false)\n                       .on(\"keydown\" + ns, that._keydown.bind(that))\n                       .on(\"focusout\" + ns, that._blur.bind(that))\n                       .on(\"focus\" + ns, function() {\n                           that.wrapper.addClass(FOCUSED);\n                       });\n\n               icon.on(UP, that._click.bind(that))\n                   .on(MOUSEDOWN, preventDefault);\n            } else {\n                wrapper\n                    .addClass(disable ? STATEDISABLED : \"\")\n                    .removeClass(disable ? \"\" : STATEDISABLED);\n\n                element.attr(DISABLED, disable)\n                       .attr(READONLY, readonly)\n                       .attr(ARIA_DISABLED, disable)\n                       .attr(ARIA_READONLY, readonly);\n            }\n        },\n\n        readonly: function(readonly) {\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n            if (this._dateInput) {\n                this._dateInput._editable({\n                    readonly: readonly === undefined ? true : readonly,\n                    disable: false\n                });\n            }\n        },\n\n        enable: function(enable) {\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n            if (this._dateInput) {\n                this._dateInput._editable({\n                    readonly: false,\n                    disable: !(enable = enable === undefined ? true : enable)\n                });\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            if (that.dateView.calendar && that._navigateCalendarHandler) {\n                that.dateView.calendar.unbind(NAVIGATE, that._navigateCalendarHandler);\n                that._navigateCalendarHandler = null;\n            }\n\n            that.dateView.destroy();\n\n            that.element.off(ns);\n            that._dateIcon.off(ns);\n\n            if (that._form) {\n                that._form.off(\"reset\", that._resetHandler);\n            }\n        },\n\n        open: function() {\n            this.dateView.open();\n            this._navigateCalendar();\n        },\n\n        close: function() {\n            this.dateView.close();\n        },\n\n        min: function(value) {\n            return this._option(MIN, value);\n        },\n\n        max: function(value) {\n            return this._option(MAX, value);\n        },\n\n        value: function(value) {\n            var that = this;\n\n            if (value === undefined) {\n                return that._value;\n            }\n\n            that._old = that._update(value);\n\n            if (that._old === null) {\n                if (that._dateInput) {\n                    that._dateInput.value(that._old);\n                } else {\n                    that.element.val(\"\");\n                }\n            }\n\n            that._oldText = that.element.val();\n        },\n\n        _toggleHover: function(e) {\n            $(e.currentTarget).toggleClass(HOVER, e.type === \"mouseenter\");\n        },\n\n        _blur: function() {\n            var that = this,\n                value = that.element.val();\n\n            that.close();\n            if (value !== that._oldText) {\n                that._change(value);\n                if (!value) {\n                    that.dateView.current(kendo.calendar.getToday());\n                }\n            }\n\n            that.wrapper.removeClass(FOCUSED);\n        },\n\n        _click: function(e) {\n            var that = this;\n\n            that.dateView.toggle();\n            that._navigateCalendar();\n            that._focusElement(e.type);\n        },\n\n        _focusElement: function(eventType) {\n            var element = this.element;\n\n            if ((!support.touch || (support.mouseAndTouchPresent && !(eventType || \"\").match(/touch/i))) && element[0] !== activeElement()) {\n                element.trigger(\"focus\");\n            }\n        },\n\n        _change: function(value) {\n            var that = this,\n            oldValue = that.element.val(),\n            dateChanged;\n\n            value = that._update(value);\n            dateChanged = !kendo.calendar.isEqualDate(that._old, value);\n\n            var valueUpdated = dateChanged && !that._typing;\n            var textFormatted = oldValue !== that.element.val();\n\n            if (valueUpdated || textFormatted) {\n                that.element.trigger(CHANGE);\n            }\n\n            if (dateChanged) {\n                that._old = value;\n                that._oldText = that.element.val();\n\n                that.trigger(CHANGE);\n            }\n\n            that._typing = false;\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                dateView = that.dateView,\n                value = that.element.val(),\n                handled = false;\n\n            if (!dateView.popup.visible() && e.keyCode == keys.ENTER && value !== that._oldText) {\n                that._change(value);\n            } else {\n                handled = dateView.move(e);\n                that._updateARIA(dateView._current);\n\n                if (!handled) {\n                    that._typing = true;\n                } else if (that._dateInput && e.stopImmediatePropagation) {\n                    e.stopImmediatePropagation();\n                }\n            }\n        },\n\n        _icon: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                icon;\n\n            icon = element.next(\"button.k-input-button\");\n\n            if (!icon[0]) {\n                icon = $(html.renderButton('<button aria-label=\"select\" tabindex=\"-1\" class=\"k-input-button k-button k-icon-button\"></button>', {\n                    icon: \"calendar\",\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    shape: \"none\",\n                    rounded: \"none\"\n                })).insertAfter(element);\n            }\n\n            that._dateIcon = icon.attr({\n                \"role\": \"button\"\n            });\n        },\n\n        _setCalendarAttribute: function() {\n            var that = this;\n            setTimeout(function() {\n                that.element.attr(ARIA_ACTIVEDESCENDANT, that.dateView.calendar._table.attr(ARIA_ACTIVEDESCENDANT));\n            });\n        },\n\n        _navigateCalendar: function() {\n            var that = this;\n\n            if (!that._navigateCalendarHandler) {\n                that._navigateCalendarHandler = that._setCalendarAttribute.bind(that);\n            }\n\n            if (!!that.dateView.calendar) {\n                that.dateView.calendar.unbind(NAVIGATE, that._navigateCalendarHandler).bind(NAVIGATE, that._navigateCalendarHandler);\n            }\n        },\n\n        _option: function(option, value) {\n            var that = this,\n                options = that.options;\n\n            if (value === undefined) {\n                return options[option];\n            }\n\n            value = parse(value, options.parseFormats, options.culture);\n\n            if (!value) {\n                return;\n            }\n\n            options[option] = new DATE(+value);\n            that.dateView[option](value);\n        },\n\n        _update: function(value) {\n            var that = this,\n                options = that.options,\n                min = options.min,\n                max = options.max,\n                current = that._value,\n                date = parse(value, options.parseFormats, options.culture),\n                isSameType = (date === null && current === null) || (date instanceof Date && current instanceof Date),\n                formattedValue;\n\n            if (options.disableDates(date)) {\n                date = null;\n                if (!that._old && !that.element.val()) {\n                    value = null;\n                }\n            }\n\n            if (+date === +current && isSameType) {\n                formattedValue = kendo.toString(date, options.format, options.culture);\n\n                if (formattedValue !== value && !(that._dateInput && !date)) {\n                    that.element.val(date === null ? value : formattedValue);\n                }\n\n                return date;\n            }\n\n            if (date !== null && isEqualDatePart(date, min)) {\n                date = restrictValue(date, min, max);\n            } else if (!isInRange(date, min, max)) {\n                date = null;\n            }\n\n            that._value = date;\n            that.dateView.value(date);\n            if (that._dateInput && date) {\n                that._dateInput.value(date || value);\n            } else {\n                that.element.val(kendo.toString(date || value, options.format, options.culture));\n            }\n            that._updateARIA(date);\n\n            return date;\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                wrapper;\n\n            wrapper = element.parents(\".k-datepicker\");\n\n            if (!wrapper[0]) {\n                wrapper = element.wrap(SPAN).parent();\n            }\n\n            wrapper[0].style.cssText = element[0].style.cssText;\n            element.css({\n                height: element[0].style.height\n            });\n\n            that.wrapper = wrapper.addClass(\"k-datepicker k-input\")\n                .addClass(element[0].className).removeClass('input-validation-error');\n        },\n\n        _reset: function() {\n            var that = this,\n                element = that.element,\n                formId = element.attr(\"form\"),\n                options = that.options,\n                disabledDate = options.disableDates,\n                parseFormats = options.parseFormats.length ? options.parseFormats : null,\n                optionsValue = that._initialOptions.value,\n                form = formId ? $(\"#\" + formId) : element.closest(\"form\"),\n                initialValue = element[0].defaultValue;\n\n            if (optionsValue && (disabledDate && disabledDate(optionsValue))) {\n                optionsValue = null;\n            }\n\n            if ((!initialValue || !kendo.parseDate(initialValue, parseFormats, options.culture)) && optionsValue) {\n                element.attr(\"value\", kendo.toString(optionsValue, options.format, options.culture));\n            }\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    that.value(optionsValue || element[0].defaultValue);\n                    that.max(that._initialOptions.max);\n                    that.min(that._initialOptions.min);\n                };\n\n                that._form = form.on(\"reset\", that._resetHandler);\n            }\n        },\n\n        _template: function() {\n            this._ariaTemplate = template(this.options.ARIATemplate).bind(this);\n        },\n\n        _createDateInput: function(options) {\n            if (this._dateInput) {\n                this._dateInput.destroy();\n                this._dateInput = null;\n            }\n\n            if (options.dateInput ) {\n                this._dateInput = new ui.DateInput(this.element, {\n                    culture: options.culture,\n                    format: options.format,\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    rounded: options.rounded,\n                    min: options.min,\n                    max: options.max\n                });\n            }\n        },\n\n        _updateARIA: function(date) {\n            var that = this;\n            var calendar = that.dateView.calendar;\n\n            if (that.element && that.element.length) {\n                that.element[0].removeAttribute(ARIA_ACTIVEDESCENDANT);\n            }\n\n            if (calendar) {\n                that.element.attr(ARIA_ACTIVEDESCENDANT, calendar._updateAria(that._ariaTemplate, date));\n            }\n        }\n    });\n\n    kendo.cssProperties.registerPrefix(\"DatePicker\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"DatePicker\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    ui.plugin(DatePicker);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.virtuallist',[ \"kendo.data\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"virtuallist\",\n    name: \"VirtualList\",\n    category: \"framework\",\n    depends: [ \"data\" ],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        DataBoundWidget = ui.DataBoundWidget,\n        percentageUnitsRegex = /^\\d+(\\.\\d+)?%$/i,\n        LIST_CONTENT = \"k-list-content k-virtual-content\",\n        TABLE_CONTENT = \"k-table-body k-table-scroller\",\n        HEADER = \"k-list-group-sticky-header\",\n        LIST_ITEM = \"k-list-item\",\n        TABLE_ITEM = \"k-table-row\",\n        HEIGHTCONTAINER = \"k-height-container\",\n        GROUPITEM = \"k-list-item-group-label\",\n        LIST_UL = \"k-list-ul\",\n        TABLE_LIST = \"k-table-list\",\n\n        SELECTED = \"k-selected\",\n        FOCUSED = \"k-focus\",\n        HOVER = \"k-hover\",\n        CHANGE = \"change\",\n        CLICK = \"click\",\n        LISTBOUND = \"listBound\",\n        ITEMCHANGE = \"itemChange\",\n\n        ACTIVATE = \"activate\",\n        DEACTIVATE = \"deactivate\",\n\n        GROUP_ROW_SEL = \".k-table-group-row\",\n\n        VIRTUAL_LIST_NS = \".VirtualList\";\n\n    function lastFrom(array) {\n        return array[array.length - 1];\n    }\n\n    function toArray(value) {\n        return value instanceof Array ? value : [value];\n    }\n\n    function isPrimitive(dataItem) {\n        return typeof dataItem === \"string\" || typeof dataItem === \"number\" || typeof dataItem === \"boolean\";\n    }\n\n    function getItemCount(screenHeight, listScreens, itemHeight) {\n        return Math.ceil(screenHeight * listScreens / itemHeight);\n    }\n\n    function appendChild(parent, className, tagName) {\n        var element = document.createElement(tagName || \"div\");\n        if (className) {\n            element.className = className;\n        }\n        parent.appendChild(element);\n\n        return element;\n    }\n\n    function getDefaultItemHeight(listSize) {\n        var mockList = $('<div class=\"k-list ' + listSize + ' k-virtual-list\">' +\n                '<div class=\"k-list-content k-virtual-content\">' +\n                    '<ul class=\"k-list-ul\">' +\n                        '<li class=\"k-list-item\">' +\n                            '<span class=\"k-list-item-text\">test</span>' +\n                        '</li>' +\n                    '</ul>' +\n                '</div>' +\n            '</div>');\n        var lineHeight;\n\n        mockList.css({\n            position: \"absolute\",\n            left: \"-200000px\",\n            visibility: \"hidden\"\n        });\n        mockList.appendTo(document.body);\n        lineHeight = parseFloat(kendo.getComputedStyles(mockList.find(\".k-list-item\")[0], [\"height\"]).height);\n        mockList.remove();\n\n        return lineHeight;\n    }\n\n    function bufferSizes(screenHeight, listScreens, opposite) { //in pixels\n        return {\n            down: screenHeight * opposite,\n            up: screenHeight * (listScreens - 1 - opposite)\n        };\n    }\n\n    function listValidator(options, screenHeight) {\n        var downThreshold = (options.listScreens - 1 - options.threshold) * screenHeight;\n        var upThreshold = options.threshold * screenHeight;\n\n        return function(list, scrollTop, lastScrollTop) {\n            if (scrollTop > lastScrollTop) {\n                return scrollTop - list.top < downThreshold;\n            } else {\n                return list.top === 0 || scrollTop - list.top > upThreshold;\n            }\n        };\n    }\n\n    function scrollCallback(element, callback) {\n        return function(force) {\n            return callback(element.scrollTop, force);\n        };\n    }\n\n    function syncList(reorder) {\n        return function(list, force) {\n            reorder(list.items, list.index, force);\n            return list;\n        };\n    }\n\n    function position(element, y) {\n        element.style.webkitTransform = 'translateY(' + y + \"px)\";\n        element.style.transform = 'translateY(' + y + \"px)\";\n    }\n\n    function map2(callback, templates) {\n        return function(arr1, arr2) {\n            for (var i = 0, len = arr1.length; i < len; i++) {\n                callback(arr1[i], arr2[i], templates);\n                if (arr2[i].item) {\n                    this.trigger(ITEMCHANGE, { item: $(arr1[i]), data: arr2[i].item, ns: kendo.ui });\n                }\n            }\n        };\n    }\n\n    function reshift(items, diff) {\n        var range;\n\n        if (diff > 0) { // down\n            range = items.splice(0, diff);\n            items.push.apply(items, range);\n        } else { // up\n            range = items.splice(diff, -diff);\n            items.unshift.apply(items, range);\n        }\n\n        return range;\n    }\n\n    function render(element, data, templates) {\n        var itemTemplate = templates.template,\n            hasColumns = this.options.columns && this.options.columns.length,\n            altRow = data.index % 2 === 1 ? \"k-table-alt-row\" : \"\";\n\n        element = $(element);\n\n        if (!data.item) {\n            itemTemplate = templates.placeholderTemplate;\n        }\n\n        if (data.index === 0 && this.header && data.group) {\n            this.header.html(templates.fixedGroupTemplate(data.group));\n        }\n\n        this.angular(\"cleanup\", function() {\n            return { elements: [ element ] };\n        });\n\n        element\n            .attr(\"data-uid\", data.item ? data.item.uid : \"\")\n            .attr(\"data-offset-index\", data.index);\n\n        if (hasColumns && data.item) {\n            if (altRow.length > 0) {\n                element.addClass(altRow);\n            } else {\n                element.removeClass(\"k-table-alt-row\");\n            }\n            element.html(renderColumns(this.options, data.item, templates));\n        } else {\n            element.find(\".\" + GROUPITEM).remove();\n            element.find(\".k-list-item-text\").html(itemTemplate(data.item || {}));\n        }\n\n        element.toggleClass(FOCUSED, data.current);\n        element.toggleClass(SELECTED, data.selected);\n        element.toggleClass(\"k-first\", data.newGroup);\n        element.toggleClass(\"k-last\", data.isLastGroupedItem);\n        element.toggleClass(\"k-loading-item\", !data.item);\n\n        if (data.index !== 0 && data.newGroup) {\n            if (hasColumns) {\n                $('<span class=\"k-table-td k-table-group-td\"><span>' + templates.groupTemplate(data.group) + '</span></span>')\n                    .appendTo(element);\n            } else {\n                $(\"<div class=\" + GROUPITEM + \"></div>\")\n                    .appendTo(element)\n                    .html(templates.groupTemplate(data.group));\n            }\n        } else if (data.group && hasColumns) {\n            element.append($('<span class=\"k-table-td k-table-spacer-td\"></span>'));\n        }\n\n        if (data.top !== undefined) {\n            position(element[0], data.top);\n        }\n\n        this.angular(\"compile\", function() {\n            return { elements: [ element ], data: [ { dataItem: data.item, group: data.group, newGroup: data.newGroup } ] };\n        });\n    }\n\n    function renderColumns(options, dataItem, templates) {\n        var item = \"\";\n\n        for (var i = 0; i < options.columns.length; i++) {\n            var currentWidth = options.columns[i].width;\n            var currentWidthInt = parseInt(currentWidth, 10);\n            var widthStyle = '';\n\n            if (currentWidth) {\n                widthStyle += \"style='width:\";\n                widthStyle += currentWidthInt;\n                widthStyle += percentageUnitsRegex.test(currentWidth) ? \"%\" : \"px\";\n                widthStyle += \";'\";\n            }\n            item += \"<span class='k-table-td' \" + widthStyle + \">\";\n            item += templates[\"column\" + i](dataItem);\n            item += \"</span>\";\n        }\n\n        return item;\n    }\n\n    function mapChangedItems(selected, itemsToMatch) {\n        var itemsLength = itemsToMatch.length;\n        var selectedLength = selected.length;\n        var dataItem;\n        var found;\n        var i, j;\n\n        var changed = [];\n        var unchanged = [];\n\n        if (selectedLength) {\n            for (i = 0; i < selectedLength; i++) {\n                dataItem = selected[i];\n                found = false;\n\n                for (j = 0; j < itemsLength; j++) {\n                    if (dataItem === itemsToMatch[j]) {\n                        found = true;\n                        changed.push({ index: i, item: dataItem });\n                        break;\n                    }\n                }\n\n                if (!found) {\n                    unchanged.push(dataItem);\n                }\n            }\n        }\n\n        return {\n            changed: changed,\n            unchanged: unchanged\n        };\n    }\n\n    function isActivePromise(promise) {\n        return promise && promise.state() !== \"resolved\";\n    }\n\n    var VirtualList = DataBoundWidget.extend({\n        init: function(element, options) {\n            var that = this,\n                contentClasses = options.columns && options.columns.length ? TABLE_CONTENT : LIST_CONTENT;\n\n            that.bound(false);\n            that._fetching = false;\n\n            Widget.fn.init.call(that, element, options);\n\n            if (!that.options.itemHeight) {\n                that.options.itemHeight = getDefaultItemHeight(options.listSize);\n            }\n\n            options = that.options;\n\n            that.element.attr(\"role\", \"listbox\");\n\n            that.content = that.wrapper = that.element.wrap(\"<div unselectable='on' class='\" + contentClasses + \"'></div>\").parent();\n\n            if (that.options.columns && that.options.columns.length) {\n                var thead = that.element.closest(\".k-data-table\").find('.k-table-thead');\n                var row = $('<tr class=\"k-table-group-row\">' +\n                    '<th class=\"k-table-th\" colspan=\"' + that.options.columns.length + '\"></th>' +\n                '</tr>');\n\n                thead.append(row);\n\n                that.header = row.find(\".k-table-th\");\n                that.element.addClass(TABLE_LIST + \" k-virtual-table\");\n            } else {\n                that.header = that.content.before(\"<div class='\" + HEADER + \"'></div>\").prev();\n                that.element.addClass(LIST_UL);\n            }\n\n            if (options.ariaLabel) {\n                this.element.attr(\"aria-label\", options.ariaLabel);\n            } else if (options.ariaLabelledBy) {\n                this.element.attr(\"aria-labelledby\", options.ariaLabelledBy);\n            }\n\n            that.element.on(\"mouseenter\" + VIRTUAL_LIST_NS, \"li:not(.k-loading-item)\", function() { $(this).addClass(HOVER); })\n                        .on(\"mouseleave\" + VIRTUAL_LIST_NS, \"li\", function() { $(this).removeClass(HOVER); });\n\n            that._values = toArray(that.options.value);\n            that._selectedDataItems = [];\n            that._selectedIndexes = [];\n            that._rangesList = {};\n            that._promisesList = [];\n            that._optionID = kendo.guid();\n\n            that._templates();\n\n            that.setDataSource(options.dataSource);\n\n            that.content.on(\"scroll\" + VIRTUAL_LIST_NS, kendo.throttle(function() {\n                that._renderItems();\n                that._triggerListBound();\n            }, options.delay));\n\n            that._selectable();\n        },\n\n        options: {\n            name: \"VirtualList\",\n            autoBind: true,\n            delay: 100,\n            height: null,\n            listScreens: 4,\n            threshold: 0.5,\n            itemHeight: null,\n            oppositeBuffer: 1,\n            type: \"flat\",\n            selectable: false,\n            value: [],\n            dataValueField: null,\n            template: \"#:data#\",\n            placeholderTemplate: \"loading...\",\n            groupTemplate: \"#:data#\",\n            fixedGroupTemplate: \"#:data#\",\n            mapValueTo: \"index\",\n            valueMapper: null,\n            ariaLabel: null,\n            ariaLabelledBy: null\n        },\n\n        events: [\n            CHANGE,\n            CLICK,\n            LISTBOUND,\n            ITEMCHANGE,\n            ACTIVATE,\n            DEACTIVATE\n        ],\n\n        setOptions: function(options) {\n            var itemClass = this.options.columns && this.options.columns.length ? TABLE_ITEM : LIST_ITEM;\n\n            Widget.fn.setOptions.call(this, options);\n\n            if (this._selectProxy && this.options.selectable === false) {\n                this.element.off(CLICK, \".\" + itemClass, this._selectProxy);\n            } else if (!this._selectProxy && this.options.selectable) {\n                this._selectable();\n            }\n\n            this._templates();\n            this.refresh();\n        },\n\n        items: function() {\n            return $(this._items);\n        },\n\n        destroy: function() {\n            this.wrapper.off(VIRTUAL_LIST_NS);\n            this.dataSource.unbind(CHANGE, this._refreshHandler);\n            Widget.fn.destroy.call(this);\n        },\n\n        setDataSource: function(source) {\n            var that = this;\n            var dataSource = source || {};\n            var value;\n\n            dataSource = Array.isArray(dataSource) ? { data: dataSource } : dataSource;\n            dataSource = kendo.data.DataSource.create(dataSource);\n\n            if (that.dataSource) {\n                that.dataSource.unbind(CHANGE, that._refreshHandler);\n\n                that._clean();\n                that.bound(false);\n\n                that._deferValueSet = true;\n                value = that.value();\n\n                that.value([]);\n                that.mute(function() {\n                    that.value(value);\n                });\n            } else {\n                that._refreshHandler = that.refresh.bind(that);\n            }\n\n            that.dataSource = dataSource.bind(CHANGE, that._refreshHandler);\n\n            that.setDSFilter(dataSource.filter());\n\n            if (dataSource.view().length !== 0) {\n                that.refresh();\n            } else if (that.options.autoBind) {\n                dataSource.fetch();\n            }\n        },\n\n        skip: function() {\n            return this.dataSource.currentRangeStart();\n        },\n\n        _triggerListBound: function() {\n            var that = this;\n            var skip = that.skip();\n\n            if (that.bound() && !that._selectingValue && that._skip !== skip) {\n                that._skip = skip;\n                that.trigger(LISTBOUND);\n            }\n        },\n\n        _getValues: function(dataItems) {\n            var getter = this._valueGetter;\n\n            return $.map(dataItems, function(dataItem) {\n                return getter(dataItem);\n            });\n        },\n\n        _highlightSelectedItems: function() {\n            for (var i = 0; i < this._selectedDataItems.length; i++) {\n                var item = this._getElementByDataItem(this._selectedDataItems[i]);\n                if (item.length) {\n                    item.addClass(SELECTED);\n                }\n            }\n        },\n\n        refresh: function(e) {\n            var that = this;\n            var action = e && e.action;\n            var isItemChange = action === \"itemchange\";\n            var filtered = this.isFiltered();\n            var result;\n\n            if (that._mute) { return; }\n\n            that._deferValueSet = false;\n\n            if (!that._fetching) {\n                if (filtered) {\n                    that.focus(0);\n                }\n\n                that._createList();\n                if (!action && that._values.length && !filtered &&\n                     !that.options.skipUpdateOnBind && !that._emptySearch) {\n                    that._selectingValue = true;\n\n                    that.bound(true);\n                    that.value(that._values, true).done(function() {\n                        that._selectingValue = false;\n                        that._triggerListBound();\n                    });\n                } else {\n                    that.bound(true);\n                    that._highlightSelectedItems();\n                    that._triggerListBound();\n                }\n            } else {\n                if (that._renderItems) {\n                    that._renderItems(true);\n                }\n\n                that._triggerListBound();\n            }\n\n            if (isItemChange || action === \"remove\") {\n                result = mapChangedItems(that._selectedDataItems, e.items);\n                if (result.changed.length) {\n                    if (isItemChange) {\n                        that.trigger(\"selectedItemChange\", {\n                            items: result.changed\n                        });\n                    } else {\n                        that.value(that._getValues(result.unchanged));\n                    }\n                }\n            }\n\n            that._fetching = false;\n        },\n\n        removeAt: function(position) {\n            var value = this._values.splice(position, 1)[0];\n\n            return {\n                position: position,\n                dataItem: this._removeSelectedDataItem(value)\n            };\n        },\n\n        _removeSelectedDataItem: function(value) {\n            var that = this,\n                valueGetter = that._valueGetter;\n\n            for (var idx in that._selectedDataItems) {\n                if (valueGetter(that._selectedDataItems[idx]) === value) {\n                    that._selectedIndexes.splice(idx, 1);\n                    return that._selectedDataItems.splice(idx, 1)[0];\n                }\n            }\n        },\n\n        setValue: function(value) {\n            this._values = toArray(value);\n        },\n\n        value: function(value, _forcePrefetch) {\n            var that = this;\n\n            if (value === undefined) {\n                return that._values.slice();\n            }\n\n            if (value === null) {\n                value = [];\n            }\n\n            value = toArray(value);\n\n            if (!that._valueDeferred || that._valueDeferred.state() === \"resolved\") {\n                that._valueDeferred = $.Deferred();\n            }\n\n            var shouldClear = that.options.selectable === \"multiple\" && that.select().length && value.length;\n\n            if (shouldClear || !value.length) {\n                that.select(-1);\n            }\n\n            that._values = value;\n\n            if ((that.bound() && !that._mute && !that._deferValueSet) || _forcePrefetch) {\n                that._prefetchByValue(value);\n            }\n\n            return that._valueDeferred;\n        },\n\n        _checkValuesOrder: function(value) {\n            if (this._removedAddedIndexes &&\n                this._removedAddedIndexes.length === value.length) {\n                    var newValue = this._removedAddedIndexes.slice();\n                    this._removedAddedIndexes = null;\n                return newValue;\n            }\n\n            return value;\n        },\n\n        _prefetchByValue: function(value) {\n            var that = this,\n                dataView = that._dataView,\n                valueGetter = that._valueGetter,\n                mapValueTo = that.options.mapValueTo,\n                item, match = false,\n                forSelection = [];\n\n            //try to find the items in the loaded data\n            for (var i = 0; i < value.length; i++) {\n                for (var idx = 0; idx < dataView.length; idx++) {\n                    item = dataView[idx].item;\n                    if (item) {\n                        match = isPrimitive(item) ? value[i] === item : value[i] === valueGetter(item);\n\n                        if (match) {\n                            forSelection.push(dataView[idx].index);\n                        }\n                    }\n                }\n            }\n\n            if (forSelection.length === value.length) {\n                that._values = [];\n                that.select(forSelection);\n                return;\n            }\n\n            //prefetch the items\n            if (typeof that.options.valueMapper === \"function\") {\n                that.options.valueMapper({\n                    value: (this.options.selectable === \"multiple\") ? value : value[0],\n                    success: function(response) {\n                        if (mapValueTo === \"index\") {\n                            that.mapValueToIndex(response);\n                        } else if (mapValueTo === \"dataItem\") {\n                            that.mapValueToDataItem(response);\n                        }\n                    }\n                });\n            } else {\n                 if (!that.value()[0]) {\n                     that.select([-1]);\n                 } else {\n                    that._selectingValue = false;\n                    that._triggerListBound();\n                 }\n            }\n        },\n\n        mapValueToIndex: function(indexes) {\n            if (indexes === undefined || indexes === -1 || indexes === null) {\n                indexes = [];\n            } else {\n                indexes = toArray(indexes);\n            }\n\n            if (!indexes.length) {\n                indexes = [-1];\n            } else {\n                var removed = this._deselect([]).removed;\n                if (removed.length) {\n                    this._triggerChange(removed, []);\n                }\n            }\n\n            this.select(indexes);\n        },\n\n        mapValueToDataItem: function(dataItems) {\n            var removed, added;\n\n            if (dataItems === undefined || dataItems === null) {\n                dataItems = [];\n            } else {\n                dataItems = toArray(dataItems);\n            }\n\n            if (!dataItems.length) {\n                this.select([-1]);\n            } else {\n                removed = $.map(this._selectedDataItems, function(item, index) {\n                    return { index: index, dataItem: item };\n                });\n\n                added = $.map(dataItems, function(item, index) {\n                    return { index: index, dataItem: item };\n                });\n\n                this._selectedDataItems = dataItems;\n\n                this._selectedIndexes = [];\n\n                for (var i = 0; i < this._selectedDataItems.length; i++) {\n                    var item = this._getElementByDataItem(this._selectedDataItems[i]);\n                    this._selectedIndexes.push(this._getIndecies(item)[0]);\n                    item.addClass(SELECTED);\n                }\n\n                this._triggerChange(removed, added);\n\n                if (this._valueDeferred) {\n                    this._valueDeferred.resolve();\n                }\n            }\n        },\n\n        deferredRange: function(index) {\n            var dataSource = this.dataSource;\n            var take = this.itemCount;\n            var ranges = this._rangesList;\n            var result = $.Deferred();\n            var defs = [];\n\n            var low = Math.floor(index / take) * take;\n            var high = Math.ceil(index / take) * take;\n\n            var pages = high === low ? [ high ] : [ low, high ];\n\n            $.each(pages, function(_, skip) {\n                var end = skip + take;\n                var existingRange = ranges[skip];\n                var deferred;\n\n                if (!existingRange || (existingRange.end !== end)) {\n                    deferred = $.Deferred();\n                    ranges[skip] = { end: end, deferred: deferred };\n\n                    dataSource._multiplePrefetch(skip, take, function() {\n                        deferred.resolve();\n                    });\n                } else {\n                    deferred = existingRange.deferred;\n                }\n\n                defs.push(deferred);\n            });\n\n            $.when.apply($, defs).then(function() {\n                result.resolve();\n            });\n\n            return result;\n        },\n\n        prefetch: function(indexes) {\n            var that = this,\n                take = this.itemCount,\n                isEmptyList = !that._promisesList.length;\n\n            if (!isActivePromise(that._activeDeferred)) {\n                that._activeDeferred = $.Deferred();\n                that._promisesList = [];\n            }\n\n            $.each(indexes, function(_, index) {\n                that._promisesList.push(that.deferredRange(that._getSkip(index, take)));\n            });\n\n            if (isEmptyList) {\n                $.when.apply($, that._promisesList).done(function() {\n                    that._promisesList = [];\n                    that._activeDeferred.resolve();\n                });\n            }\n\n            return that._activeDeferred;\n        },\n\n        _findDataItem: function(view, index) {\n            var group;\n\n            //find in grouped view\n            if (this.options.type === \"group\") {\n                for (var i = 0; i < view.length; i++) {\n                    group = view[i].items;\n                    if (group.length <= index) {\n                        index = index - group.length;\n                    } else {\n                        return group[index];\n                    }\n                }\n            }\n\n            //find in flat view\n            return view[index];\n        },\n\n        _getRange: function(skip, take) {\n            return this.dataSource._findRange(skip, Math.min(skip + take, this.dataSource.total()));\n        },\n\n        dataItemByIndex: function(index) {\n            var that = this;\n            var take = that.itemCount;\n            var skip = that._getSkip(index, take);\n            var view = this._getRange(skip, take);\n\n            //should not return item if data is not loaded\n            if (!that._getRange(skip, take).length) {\n                return null;\n            }\n\n            if (that.options.type === \"group\") {\n                kendo.ui.progress($(that.wrapper), true);\n                that.mute(function() {\n                    that.dataSource.range(skip, take, function() {\n                        kendo.ui.progress($(that.wrapper), false);\n                    });\n                    view = that.dataSource.view();\n                });\n            }\n\n            return that._findDataItem(view, [index - skip]);\n        },\n\n        selectedDataItems: function() {\n            return this._selectedDataItems.slice();\n        },\n\n        scrollWith: function(value) {\n            this.content.scrollTop(this.content.scrollTop() + value);\n        },\n\n        scrollTo: function(y) {\n            this.content.scrollTop(y); //works only if the element is visible\n        },\n\n        scrollToIndex: function(index) {\n            this.scrollTo(index * this.options.itemHeight);\n        },\n\n        focus: function(candidate) {\n            var element,\n                index,\n                data,\n                current,\n                itemHeight = this.options.itemHeight,\n                id = this._optionID,\n                triggerEvent = true;\n\n            if (candidate === undefined) {\n                current = this.element.find(\".\" + FOCUSED);\n                return current.length ? current : null;\n            }\n\n            if (typeof candidate === \"function\") {\n                data = this.dataSource.flatView();\n                for (var idx = 0; idx < data.length; idx++) {\n                    if (candidate(data[idx])) {\n                        candidate = idx;\n                        break;\n                    }\n                }\n            }\n\n            if (candidate instanceof Array) {\n                candidate = lastFrom(candidate);\n            }\n\n            if (isNaN(candidate)) {\n                element = $(candidate);\n                index = parseInt($(element).attr(\"data-offset-index\"), 10);\n            } else {\n                index = candidate;\n                element = this._getElementByIndex(index);\n            }\n\n            if (index === -1) {\n                this.element.find(\".\" + FOCUSED).removeClass(FOCUSED);\n                this._focusedIndex = undefined;\n                return;\n            }\n\n            if (element.length) { /*focus rendered item*/\n                if (element.hasClass(FOCUSED)) {\n                    triggerEvent = false;\n                }\n                if (this._focusedIndex !== undefined) {\n                    current = this._getElementByIndex(this._focusedIndex);\n                    current\n                        .removeClass(FOCUSED)\n                        .removeAttr(\"id\");\n\n                    if (triggerEvent) {\n                        this.trigger(DEACTIVATE);\n                    }\n                }\n\n                this._focusedIndex = index;\n\n                element\n                    .addClass(FOCUSED)\n                    .attr(\"id\", id);\n\n                var position = this._getElementLocation(index);\n\n                if (position === \"top\") {\n                    this.scrollTo(index * itemHeight);\n                } else if (position === \"bottom\") {\n                    this.scrollTo((index * itemHeight + itemHeight) - this._screenHeight);\n                } else if (position === \"outScreen\") {\n                    this.scrollTo(index * itemHeight);\n                }\n\n                if (triggerEvent) {\n                    this.trigger(ACTIVATE);\n                }\n            } else { /*focus non rendered item*/\n                this._focusedIndex = index;\n                this.items().removeClass(FOCUSED);\n                this.scrollToIndex(index);\n            }\n        },\n\n        focusIndex: function() {\n            return this._focusedIndex;\n        },\n\n        focusFirst: function() {\n            this.scrollTo(0);\n            this.focus(0);\n        },\n\n        focusLast: function() {\n            var lastIndex = this.dataSource.total();\n            this.scrollTo(this.heightContainer.offsetHeight);\n            this.focus(lastIndex - 1);\n        },\n\n        focusPrev: function() {\n            var index = this._focusedIndex;\n            var current;\n\n            if (!isNaN(index) && index > 0) {\n                index -= 1;\n                this.focus(index);\n\n                current = this.focus();\n                if (current && current.hasClass(\"k-loading-item\")) {\n                    index += 1;\n                    this.focus(index);\n                }\n\n                return index;\n            } else {\n                index = this.dataSource.total() - 1;\n                this.focus(index);\n                return index;\n            }\n        },\n\n        focusNext: function() {\n            var index = this._focusedIndex;\n            var lastIndex = this.dataSource.total() - 1;\n            var current;\n\n            if (!isNaN(index) && index < lastIndex) {\n                index += 1;\n                this.focus(index);\n\n                current = this.focus();\n                if (current && current.hasClass(\"k-loading-item\")) {\n                    index -= 1;\n                    this.focus(index);\n                }\n\n                return index;\n            } else {\n                index = 0;\n                this.focus(index);\n                return index;\n            }\n        },\n\n        _triggerChange: function(removed, added) {\n            removed = removed || [];\n            added = added || [];\n\n            if (removed.length || added.length) {\n                this.trigger(CHANGE, {\n                    removed: removed,\n                    added: added\n                });\n            }\n        },\n\n        select: function(candidate) {\n            var that = this,\n                indices,\n                initialIndices,\n                singleSelection = that.options.selectable !== \"multiple\",\n                prefetchStarted = isActivePromise(that._activeDeferred),\n                filtered = this.isFiltered(),\n                isAlreadySelected,\n                deferred,\n                result,\n                removed = [];\n\n            if (candidate === undefined) {\n                return that._selectedIndexes.slice();\n            }\n\n            if (!that._selectDeferred || that._selectDeferred.state() === \"resolved\") {\n                that._selectDeferred = $.Deferred();\n            }\n\n            indices = that._getIndecies(candidate);\n            isAlreadySelected = singleSelection && !filtered && lastFrom(indices) === lastFrom(this._selectedIndexes);\n            removed = that._deselectCurrentValues(indices);\n\n            if (removed.length || !indices.length || isAlreadySelected) {\n                that._triggerChange(removed);\n\n                if (that._valueDeferred) {\n                    that._valueDeferred.resolve().promise();\n                }\n\n                return that._selectDeferred.resolve().promise();\n            }\n\n            if (indices.length === 1 && indices[0] === -1) {\n                indices = [];\n            }\n\n            initialIndices = indices;\n            result = that._deselect(indices);\n            removed = result.removed;\n            indices = result.indices;\n\n            if (singleSelection) {\n                prefetchStarted = false;\n                if (indices.length) {\n                    indices = [lastFrom(indices)];\n                }\n            }\n\n            var done = function() {\n                var added = that._select(indices);\n\n                if (initialIndices.length === indices.length || singleSelection) {\n                    that.focus(indices);\n                }\n\n                that._triggerChange(removed, added);\n\n                if (that._valueDeferred) {\n                    that._valueDeferred.resolve();\n                }\n\n                that._selectDeferred.resolve();\n            };\n\n            deferred = that.prefetch(indices);\n\n            if (!prefetchStarted) {\n                if (deferred) {\n                    deferred.done(done);\n                } else {\n                    done();\n                }\n            }\n\n            return that._selectDeferred.promise();\n        },\n\n        bound: function(bound) {\n            if (bound === undefined) {\n                return this._listCreated;\n            }\n\n            this._listCreated = bound;\n        },\n\n        mute: function(callback) {\n            this._mute = true;\n            callback();\n            this._mute = false;\n        },\n\n        setDSFilter: function(filter) {\n            this._lastDSFilter = $.extend({}, filter);\n        },\n\n        isFiltered: function() {\n            if (!this._lastDSFilter) {\n                this.setDSFilter(this.dataSource.filter());\n            }\n\n            return !kendo.data.Query.compareFilters(this.dataSource.filter(), this._lastDSFilter);\n        },\n\n        skipUpdate: $.noop,\n\n        _getElementByIndex: function(index) {\n            return this.items().filter(function(idx, element) {\n                return index === parseInt($(element).attr(\"data-offset-index\"), 10);\n            });\n        },\n\n        _getElementByDataItem: function(dataItem) {\n            var dataView = this._dataView,\n            valueGetter = this._valueGetter,\n                element, match;\n\n            for (var i = 0; i < dataView.length; i++) {\n                match = dataView[i].item && isPrimitive(dataView[i].item) ? dataView[i].item === dataItem : dataView[i].item && dataItem && valueGetter(dataView[i].item) == valueGetter(dataItem);\n                if (match) {\n                    element = dataView[i];\n                    break;\n                }\n            }\n\n            return element ? this._getElementByIndex(element.index) : $();\n        },\n\n        _clean: function() {\n            this.result = undefined;\n            this._lastScrollTop = undefined;\n            this._skip = undefined;\n            $(this.heightContainer).remove();\n            this.heightContainer = undefined;\n            this.element.empty();\n        },\n\n        _height: function() {\n            var hasData = !!this.dataSource.view().length,\n                height = this.options.height,\n                itemHeight = this.options.itemHeight,\n                total = this.dataSource.total();\n\n            if (!hasData) {\n                height = 0;\n            } else if (height / itemHeight > total) {\n                height = total * itemHeight;\n            }\n\n            return height;\n        },\n\n        setScreenHeight: function() {\n            var height = this._height();\n\n            this.content.height(height);\n            this._screenHeight = height;\n        },\n\n        screenHeight: function() {\n            return this._screenHeight;\n        },\n\n        _getElementLocation: function(index) {\n            var scrollTop = this.content.scrollTop(),\n                screenHeight = this._screenHeight,\n                itemHeight = this.options.itemHeight,\n                yPosition = index * itemHeight,\n                yDownPostion = yPosition + itemHeight,\n                screenEnd = scrollTop + screenHeight,\n                position;\n\n            if (yPosition === (scrollTop - itemHeight) || (yDownPostion > scrollTop && yPosition < scrollTop)) {\n                position = \"top\";\n            } else if (yPosition === screenEnd || (yPosition < screenEnd && screenEnd < yDownPostion)) {\n                position = \"bottom\";\n            } else if ((yPosition >= scrollTop) && (yPosition <= scrollTop + (screenHeight - itemHeight))) {\n                position = \"inScreen\";\n            } else {\n                position = \"outScreen\";\n            }\n\n            return position;\n        },\n\n        _templates: function() {\n            var options = this.options;\n            var templates = {\n                template: options.template,\n                placeholderTemplate: options.placeholderTemplate,\n                groupTemplate: options.groupTemplate,\n                fixedGroupTemplate: options.fixedGroupTemplate\n            };\n\n            if (options.columns) {\n                for (var i = 0; i < options.columns.length; i++) {\n                    var currentColumn = options.columns[i];\n                    var templateText = currentColumn.field ? currentColumn.field.toString() : \"text\";\n\n                    templates[\"column\" + i] = currentColumn.template || \"#: \" + templateText + \"#\";\n                }\n            }\n\n            for (var key in templates) {\n                if (typeof templates[key] !== \"function\") {\n                    templates[key] = kendo.template(templates[key] || \"\");\n                }\n            }\n\n            this.templates = templates;\n        },\n\n        _generateItems: function(element, count) {\n            var items = [],\n                item, text,\n                itemHeight = this.options.itemHeight + \"px\",\n                itemClass = this.options.columns && this.options.columns.length ? TABLE_ITEM : LIST_ITEM;\n\n            while (count-- > 0) {\n                text = document.createElement(\"span\");\n                text.className = \"k-list-item-text\";\n\n                item = document.createElement(\"li\");\n                item.tabIndex = -1;\n                item.className = itemClass;\n                item.setAttribute(\"role\", \"option\");\n                item.style.height = itemHeight;\n                item.style.minHeight = itemHeight;\n                item.appendChild(text);\n\n                element.appendChild(item);\n\n                items.push(item);\n            }\n\n            return items;\n        },\n\n        _saveInitialRanges: function() {\n            var ranges = this.dataSource._ranges;\n            var deferred = $.Deferred();\n            deferred.resolve();\n\n            this._rangesList = {};\n            for (var i = 0; i < ranges.length; i++) {\n                this._rangesList[ranges[i].start] = { end: ranges[i].end, deferred: deferred };\n            }\n        },\n\n        _createList: function() {\n            var that = this,\n                content = that.content.get(0),\n                options = that.options,\n                dataSource = that.dataSource;\n\n            if (that.bound()) {\n                that._clean();\n            }\n\n            that._saveInitialRanges();\n            that._buildValueGetter();\n            that.setScreenHeight();\n            that.itemCount = getItemCount(that._screenHeight, options.listScreens, options.itemHeight);\n\n            if (that.itemCount > dataSource.total()) {\n                that.itemCount = dataSource.total();\n            }\n\n            that._items = that._generateItems(that.element[0], that.itemCount);\n\n            that._setHeight(options.itemHeight * dataSource.total());\n            that.options.type = (dataSource.group() || []).length ? \"group\" : \"flat\";\n\n            if (that.options.type === \"flat\") {\n                if (that.header.closest(GROUP_ROW_SEL).length) {\n                    that.header.closest(GROUP_ROW_SEL).hide();\n                } else {\n                    that.header.hide();\n                }\n            } else {\n                if (that.header.closest(GROUP_ROW_SEL).length) {\n                    that.header.closest(GROUP_ROW_SEL).show();\n                } else {\n                    that.header.show();\n                }\n            }\n\n            that.getter = that._getter(function() {\n                that._renderItems(true);\n            });\n\n            that._onScroll = function(scrollTop, force) {\n                var getList = that._listItems(that.getter);\n                return that._fixedHeader(scrollTop, getList(scrollTop, force));\n            };\n\n            that._renderItems = that._whenChanged(\n                scrollCallback(content, that._onScroll),\n                syncList(that._reorderList(that._items, render.bind(that)))\n            );\n\n            that._renderItems();\n            that._calculateGroupPadding(that._screenHeight);\n            that._calculateColumnsHeaderPadding();\n        },\n\n        _setHeight: function(height) {\n            var currentHeight,\n                heightContainer = this.heightContainer;\n\n            if (!heightContainer) {\n                heightContainer = this.heightContainer = appendChild(this.content[0], HEIGHTCONTAINER);\n            } else {\n                currentHeight = heightContainer.offsetHeight;\n            }\n\n            if (height !== currentHeight) {\n                heightContainer.innerHTML = \"\";\n\n                while (height > 0) {\n                    var padHeight = Math.min(height, 250000); //IE workaround, should not create elements with height larger than 250000px\n                    appendChild(heightContainer).style.height = padHeight + \"px\";\n                    height -= padHeight;\n                }\n            }\n        },\n\n        _getter: function() {\n            var lastRequestedRange = null,\n                dataSource = this.dataSource,\n                lastRangeStart = dataSource.skip(),\n                type = this.options.type,\n                pageSize = this.itemCount,\n                flatGroups = {};\n\n            if (dataSource.pageSize() < pageSize) {\n                this.mute(function() {\n                    dataSource.pageSize(pageSize);\n                });\n            }\n\n            return function(index, rangeStart) {\n                var that = this;\n                if (!dataSource.inRange(rangeStart, pageSize)) {\n                    if (lastRequestedRange !== rangeStart) {\n                        lastRequestedRange = rangeStart;\n                        lastRangeStart = rangeStart;\n\n                        if (that._getterDeferred) {\n                            that._getterDeferred.reject();\n                        }\n\n                        that._getterDeferred = that.deferredRange(rangeStart);\n                        that._getterDeferred.then(function() {\n                            var firstItemIndex = that._indexConstraint(that.content[0].scrollTop);\n\n                            that._getterDeferred = null;\n\n                            if (rangeStart <= firstItemIndex && firstItemIndex <= (rangeStart + pageSize)) {\n                                that._fetching = true;\n                                dataSource.range(rangeStart, pageSize);\n                            }\n                        });\n                    }\n\n                    return null;\n                } else {\n                    if (lastRangeStart !== rangeStart) {\n                        this.mute(function() {\n                            dataSource.range(rangeStart, pageSize);\n                            lastRangeStart = rangeStart;\n                        });\n                    }\n\n                    var result;\n                    if (type === \"group\") { //grouped list\n                        if (!flatGroups[rangeStart]) {\n                            var flatGroup = flatGroups[rangeStart] = [];\n                            var groups = dataSource.view();\n                            for (var i = 0, len = groups.length; i < len; i++) {\n                                var group = groups[i];\n                                for (var j = 0, groupLength = group.items.length; j < groupLength; j++) {\n                                    flatGroup.push({ item: group.items[j], group: group.value });\n                                }\n                            }\n                        }\n\n                        result = flatGroups[rangeStart][index - rangeStart];\n                    } else { //flat list\n                        result = dataSource.view()[index - rangeStart];\n                    }\n\n                    return result;\n                }\n            };\n        },\n\n        _fixedHeader: function(scrollTop, list) {\n            var group = this.currentVisibleGroup,\n                itemHeight = this.options.itemHeight,\n                firstVisibleDataItemIndex = Math.floor((scrollTop - list.top) / itemHeight),\n                firstVisibleDataItem = list.items[firstVisibleDataItemIndex];\n\n            if (firstVisibleDataItem && firstVisibleDataItem.item) {\n                var firstVisibleGroup = firstVisibleDataItem.group;\n\n                if (firstVisibleGroup !== group) {\n                    var fixedGroupText = firstVisibleGroup || \"\";\n                    this.header.html(this.templates.fixedGroupTemplate(fixedGroupText));\n                    this.currentVisibleGroup = firstVisibleGroup;\n                }\n            }\n\n            return list;\n        },\n\n        _itemMapper: function(item, index, value) {\n            var listType = this.options.type,\n                itemHeight = this.options.itemHeight,\n                currentIndex = this._focusedIndex,\n                selected = false,\n                current = false,\n                newGroup = false,\n                group = null,\n                match = false,\n                valueGetter = this._valueGetter;\n\n            if (listType === \"group\") {\n                if (item) {\n                    newGroup = index === 0 || (this._currentGroup !== false && this._currentGroup !== item.group);\n                    this._currentGroup = item.group;\n                }\n\n                group = item ? item.group : null;\n                item = item ? item.item : null;\n            }\n\n            if (this.options.mapValueTo === \"dataItem\" && this._selectedDataItems.length && item) {\n                for (var i = 0; i < this._selectedDataItems.length; i++) {\n                    match = valueGetter(this._selectedDataItems[i]) === valueGetter(item);\n                    if (match) {\n                        selected = true;\n                        break;\n                    }\n                }\n            } else if (!this.isFiltered() && value.length && item) {\n                for (var j = 0; j < value.length; j++) {\n                    match = isPrimitive(item) ? value[j] === item : value[j] === valueGetter(item);\n                    if (match) {\n                        value.splice(j , 1);\n                        selected = true;\n                        break;\n                    }\n                }\n            }\n\n            if (currentIndex === index) {\n                current = true;\n            }\n\n            return {\n                item: item ? item : null,\n                group: group,\n                newGroup: newGroup,\n                selected: selected,\n                current: current,\n                index: index,\n                top: index * itemHeight\n            };\n        },\n\n        _range: function(index) {\n            var itemCount = this.itemCount,\n                value = this._values.slice(),\n                items = [],\n                item;\n\n            this._view = {};\n            this._currentGroup = false;\n\n            for (var i = index, length = index + itemCount; i < length; i++) {\n                item = this._itemMapper(this.getter(i, index), i, value);\n                if (items[items.length - 1]) {\n                    items[items.length - 1].isLastGroupedItem = item.newGroup;\n                }\n                items.push(item);\n                this._view[item.index] = item;\n            }\n\n            this._dataView = items;\n            return items;\n        },\n\n        _getDataItemsCollection: function(scrollTop, lastScrollTop) {\n            var items = this._range(this._listIndex(scrollTop, lastScrollTop));\n            return {\n                index: items.length ? items[0].index : 0,\n                top: items.length ? items[0].top : 0,\n                items: items\n            };\n        },\n\n        _listItems: function() {\n            var screenHeight = this._screenHeight,\n                options = this.options;\n\n            var theValidator = listValidator(options, screenHeight);\n\n            return (function(value, force) {\n                var result = this.result,\n                    lastScrollTop = this._lastScrollTop;\n\n                if (force || !result || !theValidator(result, value, lastScrollTop)) {\n                    result = this._getDataItemsCollection(value, lastScrollTop);\n                }\n\n                this._lastScrollTop = value;\n                this.result = result;\n\n                return result;\n            }).bind(this);\n        },\n\n        _whenChanged: function(getter, callback) {\n            var current;\n\n            return function(force) {\n                var theNew = getter(force);\n\n                if (theNew !== current) {\n                    current = theNew;\n                    callback(theNew, force);\n                }\n            };\n        },\n\n        _reorderList: function(list, reorder) {\n            var that = this;\n            var length = list.length;\n            var currentOffset = -Infinity;\n            reorder = map2(reorder, this.templates).bind(this);\n\n            return function(list2, offset, force) {\n                var diff = offset - currentOffset;\n                var range, range2;\n\n                if (force || Math.abs(diff) >= length) { // full reorder\n                    range = list;\n                    range2 = list2;\n                } else { // partial reorder\n                    range = reshift(list, diff);\n                    range2 = diff > 0 ? list2.slice(-diff) : list2.slice(0, -diff);\n                }\n\n                reorder(range, range2, that.bound());\n\n                currentOffset = offset;\n            };\n        },\n\n        _bufferSizes: function() {\n            var options = this.options;\n\n            return bufferSizes(this._screenHeight, options.listScreens, options.oppositeBuffer);\n        },\n\n        _indexConstraint: function(position) {\n            var itemCount = this.itemCount,\n                itemHeight = this.options.itemHeight,\n                total = this.dataSource.total();\n\n            return Math.min(Math.max(total - itemCount, 0), Math.max(0, Math.floor(position / itemHeight )));\n        },\n\n        _listIndex: function(scrollTop, lastScrollTop) {\n            var buffers = this._bufferSizes(),\n                position;\n\n            position = scrollTop - ((scrollTop > lastScrollTop) ? buffers.down : buffers.up);\n\n            return this._indexConstraint(position);\n        },\n\n        _selectable: function() {\n            var itemClass = this.options.columns && this.options.columns.length ? TABLE_ITEM : LIST_ITEM;\n\n            if (this.options.selectable) {\n                this._selectProxy = this._clickHandler.bind(this);\n                this.element.on(CLICK + VIRTUAL_LIST_NS, \".\" + itemClass, this._selectProxy);\n            }\n        },\n\n        getElementIndex: function(element) {\n            if (!(element instanceof jQuery)) {\n                return undefined;\n            }\n\n            return parseInt(element.attr(\"data-offset-index\"), 10);\n        },\n\n        _getIndecies: function(candidate) {\n            var result = [], data;\n\n            if (typeof candidate === \"function\") {\n                data = this.dataSource.flatView();\n                for (var idx = 0; idx < data.length; idx++) {\n                    if (candidate(data[idx])) {\n                        result.push(idx);\n                        break;\n                    }\n                }\n            }\n\n            if (typeof candidate === \"number\") {\n                result.push(candidate);\n            }\n\n            var elementIndex = this.getElementIndex(candidate);\n            if (!isNaN(elementIndex)) {\n                result.push(elementIndex);\n            }\n\n            if (candidate instanceof Array) {\n                result = candidate;\n            }\n\n            return result;\n        },\n\n        _deselect: function(indices) {\n            var removed = [],\n                selectedIndex,\n                dataItem,\n                selectedIndexes = this._selectedIndexes,\n                selectedDataItems = this._selectedDataItems,\n                position = 0,\n                selectable = this.options.selectable,\n                removedindexesCounter = 0,\n                valueGetter = this._valueGetter,\n                item, match,\n                result = null;\n\n            indices = indices.slice();\n\n            if (selectable === true || !indices.length) { //deselect everything\n                for (var idx = 0; idx < selectedIndexes.length; idx++) {\n                    if (selectedIndexes[idx] !== undefined) {\n                        this._getElementByIndex(selectedIndexes[idx]).removeClass(SELECTED);\n                    } else if (selectedDataItems[idx]) {\n                        this._getElementByDataItem(selectedDataItems[idx]).removeClass(SELECTED);\n                    }\n\n                    removed.push({\n                        index: selectedIndexes[idx],\n                        position: idx,\n                        dataItem: selectedDataItems[idx]\n                    });\n                }\n\n                this._values = [];\n                this._selectedDataItems = [];\n                this._selectedIndexes = [];\n            } else if (selectable === \"multiple\") {\n                for (var i = 0; i < indices.length; i++) {\n                    result = null;\n                    position = $.inArray(indices[i], selectedIndexes);\n                    dataItem = this.dataItemByIndex(indices[i]);\n\n                    if (position === -1 && dataItem) {\n                        for (var j = 0; j < selectedDataItems.length; j++) {\n                            match = isPrimitive(dataItem) ? selectedDataItems[j] === dataItem : valueGetter(selectedDataItems[j]) === valueGetter(dataItem);\n                            if (match) {\n                                item = this._getElementByIndex(indices[i]);\n                                result = this._deselectSingleItem(item, j, indices[i], removedindexesCounter);\n                            }\n                        }\n                    } else {\n                        selectedIndex = selectedIndexes[position];\n\n                        if (selectedIndex !== undefined) {\n                            item = this._getElementByIndex(selectedIndex);\n                            result = this._deselectSingleItem(item, position, selectedIndex, removedindexesCounter);\n                        }\n                    }\n\n                    if (result) {\n                        indices.splice(i, 1);\n                        removed.push(result);\n\n                        removedindexesCounter++;\n                        i--;\n                    }\n                }\n            }\n\n            return {\n                indices: indices,\n                removed: removed\n            };\n        },\n\n        _deselectSingleItem: function(item, position, selectedIndex, removedindexesCounter) {\n            var dataItem;\n\n            if (!item.hasClass(SELECTED)) {\n                return;\n            }\n\n            item.removeClass(SELECTED);\n            this._values.splice(position, 1);\n            this._selectedIndexes.splice(position, 1);\n            dataItem = this._selectedDataItems.splice(position, 1)[0];\n\n            return {\n                index: selectedIndex,\n                position: position + removedindexesCounter,\n                dataItem: dataItem\n            };\n        },\n\n        _deselectCurrentValues: function(indices) {\n            var children = this.element[0].children;\n            var value, index, position;\n            var values = this._values;\n            var removed = [];\n            var idx = 0;\n            var j;\n\n            if (this.options.selectable !== \"multiple\" || !this.isFiltered()) {\n                return [];\n            }\n\n            if (indices[0] === -1) {\n                $(children).removeClass(SELECTED);\n                removed = $.map(this._selectedDataItems.slice(0), function(dataItem, idx) {\n                   return {\n                      dataItem: dataItem,\n                      position: idx\n                   };\n                });\n                this._selectedIndexes = [];\n                this._selectedDataItems = [];\n                this._values = [];\n                return removed;\n            }\n\n            for (; idx < indices.length; idx++) {\n                position = -1;\n                index = indices[idx];\n                if (this.dataItemByIndex(index)) {\n                    value = this._valueGetter(this.dataItemByIndex(index));\n                }\n\n                for (j = 0; j < values.length; j++) {\n                    if (value == values[j]) {\n                        position = j;\n                        break;\n                    }\n                }\n\n                if (position > -1) {\n                    removed.push(this.removeAt(position));\n                    $(children[index]).removeClass(SELECTED);\n                }\n            }\n\n            return removed;\n        },\n\n        _getSkip: function(index, take) {\n            var page = index < take ? 1 : Math.floor(index / take) + 1;\n\n            return (page - 1) * take;\n        },\n\n        _select: function(indexes) {\n            var that = this,\n                singleSelection = this.options.selectable !== \"multiple\",\n                dataSource = this.dataSource,\n                dataItem, oldSkip,\n                take = this.itemCount,\n                valueGetter = this._valueGetter,\n                added = [];\n\n            if (singleSelection) {\n                that._selectedIndexes = [];\n                that._selectedDataItems = [];\n                that._values = [];\n            }\n\n            oldSkip = dataSource.skip();\n\n            $.each(indexes, function(_, index) {\n                var skip = that._getSkip(index, take);\n\n                that.mute(function() {\n                    dataSource.range(skip, take); //switch the range to get the dataItem\n\n                    dataItem = that._findDataItem(dataSource.view(), [index - skip]);\n                    that._selectedIndexes.push(index);\n                    that._selectedDataItems.push(dataItem);\n                    that._values.push(isPrimitive(dataItem) ? dataItem : valueGetter(dataItem));\n\n                    added.push({\n                        index: index,\n                        dataItem: dataItem\n                    });\n\n                    that._getElementByIndex(index).addClass(SELECTED);\n\n                    dataSource.range(oldSkip, take); //switch back the range\n                });\n            });\n\n            that._values = that._checkValuesOrder(that._values);\n\n            return added;\n        },\n\n        _clickHandler: function(e) {\n            var item = $(e.currentTarget);\n\n            if (!e.isDefaultPrevented() && item.attr(\"data-uid\")) {\n                this.trigger(CLICK, { item: item });\n            }\n        },\n\n        _buildValueGetter: function() {\n            this._valueGetter = kendo.getter(this.options.dataValueField);\n        },\n\n        _calculateGroupPadding: function(height) {\n            var firstItem = this.items().first(),\n                groupHeader = this.header,\n                padding = 0;\n\n            if (groupHeader[0] && groupHeader[0].style.display !== \"none\") {\n                if (height !== \"auto\") {\n                    padding = kendo.support.scrollbar();\n                }\n\n                padding += parseFloat(firstItem.css(\"border-right-width\"), 10) + parseFloat(firstItem.children(\".k-group\").css(\"right\"), 10);\n\n                groupHeader.css(\"padding-right\", padding);\n            }\n        },\n\n        _calculateColumnsHeaderPadding: function() {\n            if (this.options.columns && this.options.columns.length) {\n                var isRtl = kendo.support.isRtl(this.wrapper);\n                var scrollbar = kendo.support.scrollbar();\n                var columnsHeader = this.content.parent().parent().find(\".k-table-header\");\n                var total = this.dataSource.total();\n\n                columnsHeader.css((isRtl ? \"padding-left\" : \"padding-right\"), total ? scrollbar : 0);\n            }\n        }\n\n    });\n\n    kendo.ui.VirtualList = VirtualList;\n    kendo.ui.plugin(VirtualList);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.autocomplete',[ \"kendo.list\", \"kendo.mobile.scroller\", \"kendo.virtuallist\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"autocomplete\",\n    name: \"AutoComplete\",\n    category: \"web\",\n    description: \"The AutoComplete widget provides suggestions depending on the typed text.It also allows multiple value entries.\",\n    depends: [ \"list\" ],\n    features: [ {\n        id: \"mobile-scroller\",\n        name: \"Mobile scroller\",\n        description: \"Support for kinetic scrolling in mobile device\",\n        depends: [ \"mobile.scroller\" ]\n    }, {\n        id: \"virtualization\",\n        name: \"VirtualList\",\n        description: \"Support for virtualization\",\n        depends: [ \"virtuallist\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        support = kendo.support,\n        caret = kendo.caret,\n        activeElement = kendo._activeElement,\n        placeholderSupported = support.placeholder,\n        ui = kendo.ui,\n        List = ui.List,\n        keys = kendo.keys,\n        DataSource = kendo.data.DataSource,\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_READONLY = \"aria-readonly\",\n        CHANGE = \"change\",\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        FOCUSED = \"k-focus\",\n        SELECTED = \"k-selected\",\n        HIDDENCLASS = \"k-hidden\",\n        STATEDISABLED = \"k-disabled\",\n        AUTOCOMPLETEVALUE = \"off\",\n        HOVER = \"k-hover\",\n        ns = \".kendoAutoComplete\",\n        HOVEREVENTS = \"mouseenter\" + ns + \" mouseleave\" + ns;\n\n    function indexOfWordAtCaret(caretIdx, text, separator) {\n        return separator ? text.substring(0, caretIdx).split(separator).length - 1 : 0;\n    }\n\n    function wordAtCaret(caretIdx, text, separator) {\n        return text.split(separator)[indexOfWordAtCaret(caretIdx, text, separator)];\n    }\n\n    function replaceWordAtCaret(caretIdx, text, word, separator, defaultSeparator) {\n        var words = text.split(separator);\n\n        words.splice(indexOfWordAtCaret(caretIdx, text, separator), 1, word);\n\n        if (separator && words[words.length - 1] !== \"\") {\n            words.push(\"\");\n        }\n\n        return words.join(defaultSeparator);\n    }\n\n    var AutoComplete = List.extend({\n        init: function(element, options) {\n            var that = this, wrapper, disabled;\n\n            that.ns = ns;\n            options = Array.isArray(options) ? { dataSource: options } : options;\n\n            List.fn.init.call(that, element, options);\n\n            element = that.element;\n            options = that.options;\n\n            options.placeholder = options.placeholder || element.attr(\"placeholder\");\n            if (placeholderSupported) {\n                element.attr(\"placeholder\", options.placeholder);\n            }\n\n            that._wrapper();\n            that._loader();\n            that._clearButton();\n\n            that._dataSource();\n            that._ignoreCase();\n\n            element[0].type = \"text\";\n            wrapper = that.wrapper;\n\n            that._popup();\n\n            element\n                .addClass(\"k-input-inner\")\n                .on(\"keydown\" + ns, that._keydown.bind(that))\n                .on(\"keypress\" + ns, that._keypress.bind(that))\n                .on(\"input\" + ns, that._search.bind(that))\n                .on(\"paste\" + ns, that._search.bind(that))\n                .on(\"focus\" + ns, function() {\n                    that._prev = that._accessor();\n                    that._oldText = that._prev;\n                    that._placeholder(false);\n                    wrapper.addClass(FOCUSED);\n                })\n                .on(\"focusout\" + ns, function() {\n                    that._change();\n                    that._placeholder();\n                    that.close();\n                    wrapper.removeClass(FOCUSED);\n                })\n                .attr({\n                    autocomplete: AUTOCOMPLETEVALUE,\n                    role: \"combobox\",\n                    \"aria-expanded\": false\n                });\n\n            that._clear.on(\"click\" + ns + \" touchend\" + ns, that._clearValue.bind(that));\n            that._enable();\n\n            that._old = that._accessor();\n\n            that._aria();\n\n            that._placeholder();\n\n            that._initList();\n\n            disabled = $(that.element).parents(\"fieldset\").is(':disabled');\n\n            if (disabled) {\n                that.enable(false);\n            }\n\n            that.listView.bind(\"click\", function(e) { e.preventDefault(); });\n\n            that._resetFocusItemHandler = that._resetFocusItem.bind(that);\n\n            kendo.notify(that);\n            that._toggleCloseVisibility();\n            that._applyCssClasses();\n        },\n\n        options: {\n            name: \"AutoComplete\",\n            enabled: true,\n            suggest: false,\n            template: \"\",\n            groupTemplate: \"#:data#\",\n            fixedGroupTemplate: \"#:data#\",\n            dataTextField: \"\",\n            minLength: 1,\n            enforceMinLength: false,\n            delay: 200,\n            height: 200,\n            filter: \"startswith\",\n            ignoreCase: true,\n            highlightFirst: false,\n            separator: null,\n            placeholder: \"\",\n            animation: {},\n            virtual: false,\n            value: null,\n            clearButton: true,\n            autoWidth: false,\n            popup: null,\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        _dataSource: function() {\n            var that = this;\n\n            if (that.dataSource && that._refreshHandler) {\n                that._unbindDataSource();\n            } else {\n                that._progressHandler = that._showBusy.bind(that);\n                that._errorHandler = that._hideBusy.bind(that);\n            }\n\n            that.dataSource = DataSource.create(that.options.dataSource)\n                .bind(\"progress\", that._progressHandler)\n                .bind(\"error\", that._errorHandler);\n        },\n\n        setDataSource: function(dataSource) {\n            this.options.dataSource = dataSource;\n            this._dataSource();\n\n            this.listView.setDataSource(this.dataSource);\n        },\n\n        events: [\n            \"open\",\n            \"close\",\n            CHANGE,\n            \"select\",\n            \"filtering\",\n            \"dataBinding\",\n            \"dataBound\"\n        ],\n\n        setOptions: function(options) {\n            var listOptions = this._listOptions(options);\n\n            List.fn.setOptions.call(this, options);\n\n            this.listView.setOptions(listOptions);\n            this._accessors();\n            this._aria();\n            this._clearButton();\n        },\n\n        _listOptions: function(options) {\n            var listOptions = List.fn._listOptions.call(this, $.extend(options, {\n                skipUpdateOnBind: true\n            }));\n\n            listOptions.dataValueField = listOptions.dataTextField;\n            listOptions.selectedItemChange = null;\n\n            return listOptions;\n        },\n\n        _editable: function(options) {\n            var that = this,\n                element = that.element,\n                wrapper = that.wrapper.off(ns),\n                readonly = options.readonly,\n                disable = options.disable;\n\n            if (!readonly && !disable) {\n                wrapper\n                    .removeClass(STATEDISABLED)\n                    .on(HOVEREVENTS, that._toggleHover);\n\n                element.prop(DISABLED, false)\n                       .prop(READONLY, false)\n                       .attr(ARIA_DISABLED, false)\n                       .attr(ARIA_READONLY, false);\n            } else {\n                wrapper\n                    .addClass(disable ? STATEDISABLED : \"\")\n                    .removeClass(disable ? \"\" : STATEDISABLED);\n\n                element.attr(DISABLED, disable)\n                       .attr(READONLY, readonly)\n                       .attr(ARIA_DISABLED, disable)\n                       .attr(ARIA_READONLY, readonly);\n            }\n        },\n\n        close: function() {\n            var that = this;\n            var current = that.listView.focus();\n\n            if (current) {\n                current.removeClass(SELECTED);\n            }\n\n            that.popup.close();\n            that._deactivateItem();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.element.off(ns);\n            that._clear.off(ns);\n            that.wrapper.off(ns);\n\n            List.fn.destroy.call(that);\n        },\n\n        refresh: function() {\n            this.listView.refresh();\n        },\n\n        select: function(li) {\n            this._select(li);\n        },\n\n        search: function(word) {\n            var that = this,\n            options = that.options,\n            ignoreCase = options.ignoreCase,\n            separator = that._separator(),\n            length,\n            accentFoldingFiltering = that.dataSource.options.accentFoldingFiltering;\n\n            word = word || that._accessor();\n\n            clearTimeout(that._typingTimeout);\n\n            if (separator) {\n                word = wordAtCaret(caret(that.element)[0], word, separator);\n            }\n\n            length = word.length;\n\n            if ((!options.enforceMinLength && !length) || length >= options.minLength) {\n                that._open = true;\n\n                that._mute(function() {\n                    this.listView.value([]);\n                });\n\n                that._filterSource({\n                    value: ignoreCase ? (accentFoldingFiltering ? word.toLocaleLowerCase(accentFoldingFiltering) : word.toLowerCase()) : word,\n                    operator: options.filter,\n                    field: options.dataTextField,\n                    ignoreCase: ignoreCase\n                });\n\n                that.one(\"close\", that._unifySeparators.bind(that));\n            }\n            that._toggleCloseVisibility();\n        },\n\n        suggest: function(word) {\n            var that = this,\n                key = that._last,\n                value = that._accessor(),\n                element = that.element[0],\n                caretIdx = caret(element)[0],\n                separator = that._separator(),\n                words = value.split(separator),\n                wordIndex = indexOfWordAtCaret(caretIdx, value, separator),\n                selectionEnd = caretIdx,\n                idx,\n                accentFoldingFiltering = that.dataSource.options.accentFoldingFiltering;\n\n            if (key == keys.BACKSPACE || key == keys.DELETE) {\n                that._last = undefined;\n                return;\n            }\n\n            word = word || \"\";\n\n            if (typeof word !== \"string\") {\n                if (word[0]) {\n                    word = that.dataSource.view()[List.inArray(word[0], that.ul[0])];\n                }\n\n                word = word ? that._text(word) : \"\";\n            }\n\n            if (caretIdx <= 0) {\n                caretIdx = (accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase()).indexOf(accentFoldingFiltering ? word.toLocaleLowerCase(accentFoldingFiltering) : word.toLowerCase()) + 1;\n            }\n\n            idx = value.substring(0, caretIdx).lastIndexOf(separator);\n            idx = idx > -1 ? caretIdx - (idx + separator.length) : caretIdx;\n            value = words[wordIndex].substring(0, idx);\n\n            if (word) {\n                word = word.toString();\n                idx = (accentFoldingFiltering ? word.toLocaleLowerCase(accentFoldingFiltering) : word.toLowerCase()).indexOf(accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase());\n                if (idx > -1) {\n                    word = word.substring(idx + value.length);\n\n                    selectionEnd = caretIdx + word.length;\n\n                    value += word;\n                }\n\n                if (separator && words[words.length - 1] !== \"\") {\n                    words.push(\"\");\n                }\n\n            }\n\n            words[wordIndex] = value;\n\n            that._accessor(words.join(separator || \"\"));\n\n            if (element === activeElement()) {\n                caret(element, caretIdx, selectionEnd);\n            }\n        },\n\n        value: function(value) {\n            if (value !== undefined) {\n                this.listView.value(value);\n\n                this._accessor(value);\n                this._old = this._accessor();\n                this._oldText = this._accessor();\n            } else {\n                return this._accessor();\n            }\n            this._toggleCloseVisibility();\n        },\n\n        _click: function(e) {\n            var item = e.item;\n            var that = this;\n            var element = that.element;\n            var dataItem = that.listView.dataItemByIndex(that.listView.getElementIndex(item));\n\n            e.preventDefault();\n\n            that._active = true;\n\n            if (that.trigger(\"select\", { dataItem: dataItem, item: item })) {\n                that.close();\n                return;\n            }\n            that._oldText = element.val();\n            that._select(item).done(function() {\n                that._blur();\n\n                caret(element, element.val().length);\n            });\n        },\n\n        _clearText: $.noop,\n\n        _resetFocusItem: function() {\n            var index = this.options.highlightFirst ? 0 : -1;\n\n            if (this.options.virtual) {\n                this.listView.scrollTo(0);\n            }\n\n            this.listView.focus(index);\n        },\n\n        _listBound: function() {\n            var that = this;\n            var popup = that.popup;\n            var options = that.options;\n            var data = that.dataSource.flatView();\n            var length = data.length;\n            var groupsLength = that.dataSource._group ? that.dataSource._group.length : 0;\n            var isActive = that.element[0] === activeElement();\n            var action;\n\n            that._renderFooter();\n            that._renderNoData();\n            that._toggleNoData(!length);\n            that._toggleHeader(!!groupsLength && !!length);\n\n            that._resizePopup();\n\n            popup.position();\n\n            if (length) {\n                if (options.suggest && isActive && that._inputValue()) {\n                    that.suggest(data[0]);\n                }\n            }\n\n            if (that._open) {\n                that._open = false;\n                action = that._allowOpening() ? \"open\" : \"close\";\n\n                if (that._typingTimeout && !isActive) {\n                    action = \"close\";\n                }\n\n                if (length) {\n                    that._resetFocusItem();\n\n                    if (options.virtual) {\n                        that.popup\n                            .unbind(\"activate\", that._resetFocusItemHandler)\n                            .one(\"activate\", that._resetFocusItemHandler);\n                    }\n                }\n\n                popup[action]();\n                that._typingTimeout = undefined;\n            }\n\n            if (that._touchScroller) {\n                that._touchScroller.reset();\n            }\n\n            that._hideBusy();\n\n            that.trigger(\"dataBound\");\n        },\n\n        _mute: function(callback) {\n            this._muted = true;\n            callback.call(this);\n            this._muted = false;\n        },\n\n        _listChange: function() {\n            var isActive = this._active || this.element[0] === activeElement();\n\n            if (isActive && !this._muted) {\n                this._selectValue(this.listView.selectedDataItems()[0]);\n            }\n        },\n\n        _selectValue: function(dataItem) {\n            var separator = this._separator();\n            var text = \"\";\n\n            if (dataItem) {\n                text = this._text(dataItem);\n            }\n\n            if (text === null) {\n                text = \"\";\n            }\n\n            if (separator) {\n                text = replaceWordAtCaret(caret(this.element)[0], this._accessor(), text, separator, this._defaultSeparator());\n            }\n\n            this._prev = text;\n            this._accessor(text);\n            this._placeholder();\n        },\n\n        _unifySeparators: function() {\n            this._accessor(this.value().split(this._separator()).join(this._defaultSeparator()));\n            return this;\n        },\n\n        _preselect: function(value, text) {\n            this._inputValue(text);\n            this._accessor(value);\n\n            this._old = this.oldText = this._accessor();\n\n            this.listView.setValue(value);\n            this._placeholder();\n        },\n\n        _change: function() {\n            var that = this;\n            var value = that._unifySeparators().value();\n            var trigger = value !== List.unifyType(that._old, typeof value);\n\n            var valueUpdated = trigger && !that._typing;\n            var itemSelected = that._oldText !== value;\n\n            that._old = value;\n            that._oldText = value;\n\n            if (valueUpdated || itemSelected) {\n                // trigger the DOM change event so any subscriber gets notified\n                that.element.trigger(CHANGE);\n            }\n\n            if (trigger) {\n                that.trigger(CHANGE);\n            }\n\n            that.typing = false;\n            that._toggleCloseVisibility();\n        },\n\n        _accessor: function(value) {\n            var that = this,\n                element = that.element[0];\n\n            if (value !== undefined) {\n                element.value = value === null ? \"\" : value;\n                that._placeholder();\n            } else {\n                value = element.value;\n\n                if (element.className.indexOf(\"k-readonly\") > -1) {\n                    if (value === that.options.placeholder) {\n                        return \"\";\n                    } else {\n                        return value;\n                    }\n                }\n\n                return value;\n            }\n        },\n\n        _keydown: function(e) {\n            var that = this;\n            var key = e.keyCode;\n            var listView = that.listView;\n            var visible = that.popup.visible();\n            var current = listView.focus();\n\n            that._last = key;\n\n            if (key === keys.DOWN) {\n                if (visible) {\n                    this._move(current ? \"focusNext\" : \"focusFirst\");\n                } else if (that.value()) {\n                    that._filterSource({\n                        value: that.ignoreCase ? that.value().toLowerCase() : that.value(),\n                        operator: that.options.filter,\n                        field: that.options.dataTextField,\n                        ignoreCase: that.ignoreCase\n                    }).done(function() {\n                        if (that._allowOpening()) {\n                            that._resetFocusItem();\n                            that.popup.open();\n                        }\n                    });\n                }\n                e.preventDefault();\n            } else if (key === keys.ESC ) {\n                if (visible) {\n                    e.preventDefault();\n                    that.close();\n                } else {\n                    that._clearValue();\n                }\n            } else if (e.altKey && key === keys.UP && visible) {\n                e.preventDefault();\n                that.close();\n            } else if (key === keys.UP) {\n                if (visible) {\n                    this._move(current ? \"focusPrev\" : \"focusLast\");\n                }\n                e.preventDefault();\n            } else if (key === keys.HOME) {\n                this._move(\"focusFirst\");\n            } else if (key === keys.END) {\n                this._move(\"focusLast\");\n            } else if (key === keys.ENTER || key === keys.TAB) {\n\n                if (key === keys.ENTER && visible) {\n                    e.preventDefault();\n                }\n\n                if (visible && current) {\n                    var dataItem = listView.dataItemByIndex(listView.getElementIndex(current));\n                    if (that.trigger(\"select\", { dataItem: dataItem, item: current })) {\n                        return;\n                    }\n\n                    this._select(current);\n                }\n\n                this._blur();\n            } else if (that.popup.visible() && (key === keys.PAGEDOWN || key === keys.PAGEUP)) {\n                e.preventDefault();\n\n                var direction = key === keys.PAGEDOWN ? 1 : -1;\n                listView.scrollWith(direction * listView.screenHeight());\n            } else {\n                // In some cases when the popup is opened resize is triggered which will cause it to close\n                // Setting the below flag will prevent this from happening\n                that.popup._hovered = true;\n                that._search();\n            }\n        },\n\n        _keypress: function() {\n            this._oldText = this.element.val();\n            this._typing = true;\n        },\n\n        _move: function(action) {\n            this.listView[action]();\n\n            if (this.options.suggest) {\n                this.suggest(this.listView.focus());\n            }\n        },\n\n        _hideBusy: function() {\n            var that = this;\n            clearTimeout(that._busy);\n            that._loading.addClass(HIDDENCLASS);\n            that.element.attr(\"aria-busy\", false);\n            that._busy = null;\n            that._showClear();\n        },\n\n        _showBusy: function() {\n            var that = this;\n\n            if (that._busy) {\n                return;\n            }\n\n            that._busy = setTimeout(function() {\n                that.element.attr(\"aria-busy\", true);\n                that._loading.removeClass(HIDDENCLASS);\n                that._hideClear();\n            }, 100);\n        },\n\n        _placeholder: function(show) {\n            if (placeholderSupported) {\n                return;\n            }\n\n            var that = this,\n                element = that.element,\n                placeholder = that.options.placeholder,\n                value;\n\n            if (placeholder) {\n                value = element.val();\n\n                if (show === undefined) {\n                    show = !value;\n                }\n\n                if (!show) {\n                    if (value !== placeholder) {\n                        placeholder = value;\n                    } else {\n                        placeholder = \"\";\n                    }\n                }\n\n                if (value === that._old && !show) {\n                    return;\n                }\n\n                element.toggleClass(\"k-readonly\", show)\n                       .val(placeholder);\n\n                if (!placeholder && element[0] === document.activeElement) {\n                    caret(element[0], 0, 0);\n                }\n            }\n        },\n\n        _separator: function() {\n            var separator = this.options.separator;\n            if (separator instanceof Array) {\n               return new RegExp(separator.join(\"|\"), 'gi');\n            }\n            return separator;\n        },\n\n        _defaultSeparator: function() {\n            var separator = this.options.separator;\n            if (separator instanceof Array) {\n                return separator[0];\n            }\n            return separator;\n        },\n\n        _inputValue: function() {\n            return this.element.val();\n        },\n\n        _search: function() {\n            var that = this;\n            clearTimeout(that._typingTimeout);\n\n            that._typingTimeout = setTimeout(function() {\n                if (that._prev !== that._accessor()) {\n                    that._prev = that._accessor();\n                    that.search();\n                }\n            }, that.options.delay);\n        },\n\n        _select: function(candidate) {\n            var that = this;\n            that._active = true;\n\n            return that.listView.select(candidate).done(function() {\n                that._active = false;\n            });\n        },\n\n        _loader: function() {\n            this._loading = $('<span class=\"k-icon k-i-loading k-input-loading-icon ' + HIDDENCLASS + '\"></span>').insertAfter(this.element);\n        },\n\n        _clearButton: function() {\n            List.fn._clearButton.call(this);\n\n            if (this.options.clearButton) {\n                this._clear.insertAfter(this.element);\n                this.wrapper.addClass(\"k-autocomplete-clearable\");\n            }\n        },\n\n        _toggleHover: function(e) {\n            $(e.currentTarget).toggleClass(HOVER, e.type === \"mouseenter\");\n        },\n\n        _toggleCloseVisibility: function() {\n            if (this.value()) {\n                this._showClear();\n            } else {\n                this._hideClear();\n            }\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                DOMelement = element[0],\n                wrapper;\n\n            wrapper = element.parent();\n\n            if (!wrapper.is(\"span.k-autocomplete\")) {\n                wrapper = element.wrap(\"<span />\").parent();\n            }\n\n            wrapper.attr(\"tabindex\", -1);\n\n            wrapper[0].style.cssText = DOMelement.style.cssText;\n            element.css({\n                width: \"\",\n                height: DOMelement.style.height\n            });\n\n            that._focused = that.element;\n            that.wrapper = wrapper\n                .addClass(\"k-autocomplete k-input\")\n                .addClass(DOMelement.className)\n                .removeClass('input-validation-error');\n        },\n\n        _clearValue: function() {\n            List.fn._clearValue.call(this);\n            this.element.focus();\n        }\n    });\n\n    ui.plugin(AutoComplete);\n\n    kendo.cssProperties.registerPrefix(\"AutoComplete\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"AutoComplete\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.dropdownlist',[ \"kendo.list\", \"kendo.mobile.scroller\", \"kendo.virtuallist\", \"kendo.html.button\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"dropdownlist\",\n    name: \"DropDownList\",\n    category: \"web\",\n    description: \"The DropDownList widget displays a list of values and allows the selection of a single value from the list.\",\n    depends: [ \"list\", \"html.button\" ],\n    features: [ {\n        id: \"mobile-scroller\",\n        name: \"Mobile scroller\",\n        description: \"Support for kinetic scrolling in mobile device\",\n        depends: [ \"mobile.scroller\" ]\n    }, {\n        id: \"virtualization\",\n        name: \"VirtualList\",\n        description: \"Support for virtualization\",\n        depends: [ \"virtuallist\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        html = kendo.html,\n        List = ui.List,\n        Select = ui.Select,\n        support = kendo.support,\n        activeElement = kendo._activeElement,\n        ObservableObject = kendo.data.ObservableObject,\n        keys = kendo.keys,\n        ns = \".kendoDropDownList\",\n        nsFocusEvent = ns + \"FocusEvent\",\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        CHANGE = \"change\",\n        FOCUSED = \"k-focus\",\n        STATEDISABLED = \"k-disabled\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_READONLY = \"aria-readonly\",\n        CLICKEVENTS = \"click\" + ns + \" touchend\" + ns,\n        HOVEREVENTS = \"mouseenter\" + ns + \" mouseleave\" + ns,\n        TABINDEX = \"tabindex\",\n        STATE_FILTER = \"filter\",\n        STATE_ACCEPT = \"accept\",\n        MSG_INVALID_OPTION_LABEL = \"The `optionLabel` option is not valid due to missing fields. Define a custom optionLabel as shown here http://docs.telerik.com/kendo-ui/api/javascript/ui/dropdownlist#configuration-optionLabel\",\n        OPEN = \"open\",\n        CLOSE = \"close\";\n\n    var DropDownList = Select.extend( {\n        init: function(element, options) {\n            var that = this;\n            var index = options && options.index;\n            var optionLabel, text, disabled;\n\n            that.ns = ns;\n            options = Array.isArray(options) ? { dataSource: options } : options;\n\n            Select.fn.init.call(that, element, options);\n\n            options = that.options;\n            element = that.element.on(\"focus\" + ns, that._focusHandler.bind(that));\n\n            that._focusInputHandler = that._focusInput.bind(that);\n\n            that.optionLabel = $();\n            that._optionLabel();\n\n            that._inputTemplate();\n\n            that._reset();\n\n            that._prev = \"\";\n            that._word = \"\";\n\n            that._wrapper();\n\n            that._tabindex();\n            that.wrapper.data(TABINDEX, that.wrapper.attr(TABINDEX));\n\n            that._span();\n\n            that._popup();\n\n            that._mobile();\n\n            that._dataSource();\n\n            that._ignoreCase();\n\n            that._filterHeader();\n\n            that._aria();\n\n            that._enable();\n\n            that._attachFocusHandlers();\n\n            that._oldIndex = that.selectedIndex = -1;\n\n            if (index !== undefined) {\n                options.index = index;\n            }\n\n            that._initialIndex = options.index;\n\n            that.requireValueMapper(that.options);\n            that._initList();\n            that.listView.one(\"dataBound\", that._attachAriaActiveDescendant.bind(that));\n\n            that._cascade();\n\n            that.one(\"set\", function(e) {\n                if (!e.sender.listView.bound() && that.hasOptionLabel()) {\n                    that._textAccessor(that._optionLabelText());\n                }\n            });\n\n            if (options.autoBind) {\n                that.dataSource.fetch();\n            } else if (that.selectedIndex === -1) { //selectedIndex !== -1 when cascade functionality happens instantly\n                text = options.text || \"\";\n                if (!text) {\n                    optionLabel = options.optionLabel;\n\n                    if (optionLabel && options.index === 0) {\n                        text = optionLabel;\n                    } else if (that._isSelect) {\n                        text = element.children(\":selected\").text();\n                    }\n                }\n\n                that._textAccessor(text);\n            }\n\n            disabled = $(that.element).parents(\"fieldset\").is(':disabled');\n\n            if (disabled) {\n                that.enable(false);\n            }\n\n            that.listView.bind(\"click\", function(e) { e.preventDefault(); });\n\n            kendo.notify(that);\n            that._applyCssClasses();\n        },\n\n        options: {\n            name: \"DropDownList\",\n            enabled: true,\n            autoBind: true,\n            index: 0,\n            text: null,\n            value: null,\n            delay: 500,\n            height: 200,\n            dataTextField: \"\",\n            dataValueField: \"\",\n            optionLabel: \"\",\n            cascadeFrom: \"\",\n            cascadeFromField: \"\",\n            cascadeFromParentField: \"\",\n            ignoreCase: true,\n            animation: {},\n            filter: \"none\",\n            minLength: 1,\n            enforceMinLength: false,\n            virtual: false,\n            template: null,\n            valueTemplate: null,\n            optionLabelTemplate: null,\n            groupTemplate: \"#:data#\",\n            fixedGroupTemplate: \"#:data#\",\n            autoWidth: false,\n            popup: null,\n            filterTitle: null,\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        events: [\n            \"open\",\n            \"close\",\n            CHANGE,\n            \"select\",\n            \"filtering\",\n            \"dataBinding\",\n            \"dataBound\",\n            \"cascade\",\n            \"set\",\n            \"kendoKeydown\"\n        ],\n\n        setOptions: function(options) {\n            Select.fn.setOptions.call(this, options);\n\n            this.listView.setOptions(this._listOptions(options));\n\n            this._optionLabel();\n            this._inputTemplate();\n            this._accessors();\n            this._filterHeader();\n            this._enable();\n            this._aria();\n\n            if (!this.value() && this.hasOptionLabel()) {\n                this.select(0);\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Select.fn.destroy.call(that);\n\n            that.wrapper.off(ns);\n            that.wrapper.off(nsFocusEvent);\n            that.element.off(ns);\n\n            that._arrow.off();\n            that._arrow = null;\n            that._arrowIcon = null;\n\n            that.optionLabel.off();\n\n            if (that.filterInput) {\n                that.filterInput.off(nsFocusEvent);\n            }\n        },\n\n        open: function() {\n            var that = this;\n            var isFiltered = that.dataSource.filter() ? that.dataSource.filter().filters.length > 0 : false;\n            var listView = this.listView;\n\n            if (that.popup.visible()) {\n                return;\n            }\n\n            if (!that.listView.bound() || that._state === STATE_ACCEPT) {\n                that._open = true;\n                that._state = \"rebind\";\n\n                if (that.filterInput) {\n                    that.filterInput.val(\"\");\n                    that._prev = \"\";\n                }\n\n                if (that.filterInput && that.options.minLength !== 1 && !isFiltered) {\n                    that.refresh();\n                    that.popup.one(\"activate\", that._focusInputHandler);\n                    that.wrapper.attr(\"aria-activedescendant\", listView._optionID);\n                    that.popup.open();\n                    that._resizeFilterInput();\n                } else {\n                    that._filterSource();\n                }\n            } else if (that._allowOpening()) {\n                that._focusFilter = true;\n                that.popup.one(\"activate\", that._focusInputHandler);\n                // In some cases when the popup is opened resize is triggered which will cause it to close\n                // Setting the below flag will prevent this from happening\n                that.popup._hovered = true;\n                that.wrapper.attr(\"aria-activedescendant\", listView._optionID);\n                that.popup.open();\n                that._resizeFilterInput();\n                that._focusItem();\n            }\n        },\n\n        close: function() {\n            this._attachAriaActiveDescendant();\n            this.popup.close();\n        },\n\n        _attachAriaActiveDescendant: function() {\n            var wrapper = this.wrapper,\n                inputId = wrapper.find(\".k-input-inner\").attr('id');\n\n            wrapper.attr(\"aria-describedby\", inputId);\n        },\n\n        _focusInput: function() {\n            this._focusElement(this.filterInput);\n        },\n\n        _resizeFilterInput: function() {\n            var filterInput = this.filterInput;\n            var originalPrevent = this._prevent;\n\n            if (!filterInput) {\n                return;\n            }\n\n            var isInputActive = this.filterInput[0] === activeElement();\n            var caret = kendo.caret(this.filterInput[0])[0];\n\n            this._prevent = true;\n\n            filterInput.addClass(\"k-hidden\");\n            filterInput.closest(\".k-list-filter\").css(\"width\", this.popup.element.css(\"width\"));\n            filterInput.removeClass(\"k-hidden\");\n\n            if (isInputActive) {\n                filterInput.trigger(\"focus\");\n                kendo.caret(filterInput[0], caret);\n            }\n\n            this._prevent = originalPrevent;\n        },\n\n        _allowOpening: function() {\n            return this.hasOptionLabel() || this.filterInput || Select.fn._allowOpening.call(this);\n        },\n\n        toggle: function(toggle) {\n            this._toggle(toggle, true);\n        },\n\n        current: function(candidate) {\n            var current;\n\n            if (candidate === undefined) {\n                current = this.listView.focus();\n\n                if (!current && this.selectedIndex === 0 && this.hasOptionLabel()) {\n                    return this.optionLabel;\n                }\n\n                return current;\n            }\n\n            this._focus(candidate);\n        },\n\n        dataItem: function(index) {\n            var that = this;\n            var dataItem = null;\n\n            if (index === null) { return index; }\n\n            if (index === undefined) {\n                dataItem = that.listView.selectedDataItems()[0];\n            } else {\n                if (typeof index !== \"number\") {\n                    if (that.options.virtual) {\n                        return that.dataSource.getByUid($(index).data(\"uid\"));\n                    }\n                    if (index.hasClass(\"k-list-optionlabel\")) {\n                        index = -1;\n                    } else {\n                        index = $(that.items()).index(index);\n                    }\n                } else if (that.hasOptionLabel()) {\n                    index -= 1;\n                }\n\n                dataItem = that.dataSource.flatView()[index];\n            }\n\n            if (!dataItem) {\n                dataItem = that._optionLabelDataItem();\n            }\n\n            return dataItem;\n        },\n\n        refresh: function() {\n            this.listView.refresh();\n        },\n\n        text: function(text) {\n            var that = this;\n            var loweredText;\n            var ignoreCase = that.options.ignoreCase;\n\n            text = text === null ? \"\" : text;\n\n            if (text !== undefined) {\n                if (typeof text !== \"string\") {\n                    that._textAccessor(text);\n                    return;\n                }\n\n                loweredText = ignoreCase ? text.toLowerCase() : text;\n\n                that._select(function(data) {\n                    data = that._text(data);\n\n                    if (ignoreCase) {\n                        data = (data + \"\").toLowerCase();\n                    }\n\n                    return data === loweredText;\n                }).done(function() {\n                    that._textAccessor(that.dataItem() || text);\n                });\n\n            } else {\n                return that._textAccessor();\n            }\n        },\n\n        _clearFilter: function() {\n            $(this.filterInput).val(\"\");\n            Select.fn._clearFilter.call(this);\n        },\n\n        value: function(value) {\n            var that = this;\n            var listView = that.listView;\n            var dataSource = that.dataSource;\n            var valueFn = function() { that.value(value); };\n\n            if (value === undefined) {\n                value = that._accessor() || that.listView.value()[0];\n                return value === undefined || value === null ? \"\" : value;\n            }\n\n            that.requireValueMapper(that.options, value);\n\n            if (value || !that.hasOptionLabel()) {\n                that._initialIndex = null;\n            }\n\n            this.trigger(\"set\", { value: value });\n\n            if (that._request && that.options.cascadeFrom && that.listView.bound()) {\n                if (that._valueSetter) {\n                    dataSource.unbind(CHANGE, that._valueSetter);\n                }\n\n                that._valueSetter = valueFn.bind(that);\n\n                dataSource.one(CHANGE, that._valueSetter);\n                return;\n            }\n\n            if (that._isFilterEnabled() && listView.bound() && listView.isFiltered()) {\n                that._clearFilter();\n            } else {\n                that._fetchData();\n            }\n\n            listView.value(value).done(function() {\n                that._old = that._valueBeforeCascade = that._accessor();\n                that._oldIndex = that.selectedIndex;\n            });\n        },\n\n        hasOptionLabel: function() {\n            return this.optionLabel && !!this.optionLabel[0];\n        },\n\n        _optionLabel: function() {\n            var that = this;\n            var options = that.options;\n            var optionLabel = options.optionLabel;\n            var template = options.optionLabelTemplate;\n\n            if (!optionLabel) {\n                that.optionLabel.off().remove();\n                that.optionLabel = $();\n                return;\n            }\n\n            if (!template) {\n                template = \"#:\";\n\n                if (typeof optionLabel === \"string\") {\n                    template += \"data\";\n                } else {\n                    template += kendo.expr(options.dataTextField, \"data\");\n                }\n\n                template += \"#\";\n            }\n\n            if (typeof template !== \"function\") {\n                template = kendo.template(template);\n            }\n\n            that.optionLabelTemplate = template;\n\n            if (!that.hasOptionLabel()) {\n                that.optionLabel = $('<div role=\"option\" class=\"k-list-optionlabel\"></div>').prependTo(that.list);\n            }\n\n            that.optionLabel.html(template(optionLabel))\n                            .off()\n                            .on(CLICKEVENTS, that._click.bind(that))\n                            .on(HOVEREVENTS, that._toggleHover);\n\n            that.angular(\"compile\", function() {\n                return { elements: that.optionLabel, data: [{ dataItem: that._optionLabelDataItem() }] };\n            });\n        },\n\n        _optionLabelText: function() {\n            var optionLabel = this.options.optionLabel;\n            return (typeof optionLabel === \"string\") ? optionLabel : this._text(optionLabel);\n        },\n\n        _optionLabelDataItem: function() {\n            var that = this;\n            var optionLabel = that.options.optionLabel;\n\n            if (that.hasOptionLabel()) {\n                return $.isPlainObject(optionLabel) ? new ObservableObject(optionLabel) : that._assignInstance(that._optionLabelText(), \"\");\n            }\n\n            return undefined;\n        },\n\n        _buildOptions: function(data) {\n            var that = this;\n            if (!that._isSelect) {\n                return;\n            }\n\n            var value = that.listView.value()[0];\n            var optionLabel = that._optionLabelDataItem();\n            var optionLabelValue = optionLabel && that._value(optionLabel);\n\n            if (value === undefined || value === null) {\n                value = \"\";\n            }\n\n            if (optionLabel) {\n                if (optionLabelValue === undefined || optionLabelValue === null) {\n                    optionLabelValue = \"\";\n                }\n\n                optionLabel = '<option value=\"' + optionLabelValue + '\">' + that._text(optionLabel) + \"</option>\";\n            }\n\n            that._options(data, optionLabel, value);\n\n            if (value !== List.unifyType(that._accessor(), typeof value)) {\n                that._customOption = null;\n                that._custom(value);\n            }\n        },\n\n        _listBound: function() {\n\n            var that = this;\n            var initialIndex = that._initialIndex;\n            var filtered = that._state === STATE_FILTER;\n\n            var data = that.dataSource.flatView();\n            var dataItem;\n\n            that._presetValue = false;\n\n            that._renderFooter();\n            that._renderNoData();\n            that._toggleNoData(!data.length);\n\n            that._resizePopup(true);\n\n            that.popup.position();\n\n            that._buildOptions(data);\n\n            if (!filtered) {\n                if (that._open) {\n                    that.toggle(that._allowOpening());\n                }\n\n                that._open = false;\n\n                if (!that._fetch) {\n                    if (data.length) {\n                        if (!that.listView.value().length && initialIndex > -1 && initialIndex !== null) {\n                            that.select(initialIndex);\n                        }\n\n                        that._initialIndex = null;\n                        dataItem = that.listView.selectedDataItems()[0];\n                        if (dataItem && that.text() !== that._text(dataItem)) {\n                            that._selectValue(dataItem);\n                        }\n                    } else if (that._textAccessor() !== that._optionLabelText()) {\n                        that.listView.value(\"\");\n                        that._selectValue(null);\n                        that._oldIndex = that.selectedIndex;\n                    }\n                }\n            }\n\n            that._hideBusy();\n            that.trigger(\"dataBound\");\n        },\n\n        _listChange: function() {\n            this._selectValue(this.listView.selectedDataItems()[0]);\n\n            if (this._presetValue || (this._old && this._oldIndex === -1)) {\n                this._oldIndex = this.selectedIndex;\n            }\n        },\n\n        _filterPaste: function() {\n            this._search();\n        },\n\n        _attachFocusHandlers: function() {\n            var that = this;\n            var wrapper = that.wrapper;\n\n            wrapper.on(\"focusin\" + nsFocusEvent, that._focusinHandler.bind(that))\n                   .on(\"focusout\" + nsFocusEvent, that._focusoutHandler.bind(that));\n            if (that.filterInput) {\n                that.filterInput.on(\"focusin\" + nsFocusEvent, that._focusinHandler.bind(that))\n                   .on(\"focusout\" + nsFocusEvent, that._focusoutHandler.bind(that));\n            }\n        },\n\n        _focusHandler: function() {\n            this.wrapper.trigger(\"focus\");\n        },\n\n        _focusinHandler: function() {\n            this.wrapper.addClass(FOCUSED);\n            this._prevent = false;\n        },\n\n        _focusoutHandler: function() {\n            var that = this;\n            var isIFrame = window.self !== window.top;\n\n            if (!that._prevent) {\n                clearTimeout(that._typingTimeout);\n\n                if (support.mobileOS.ios && isIFrame) {\n                    that._change();\n                } else {\n                    that._blur();\n                }\n\n                that.wrapper.removeClass(FOCUSED);\n                that._prevent = true;\n                that._open = false;\n                that.element.trigger(\"blur\");\n            }\n        },\n\n        _wrapperMousedown: function() {\n            this._prevent = !!this.filterInput;\n        },\n\n        _wrapperClick: function(e) {\n            e.preventDefault();\n            this.popup.unbind(\"activate\", this._focusInputHandler);\n            this._focused = this.wrapper;\n            this._prevent = false;\n            this._toggle();\n        },\n\n        _editable: function(options) {\n            var that = this;\n            var element = that.element;\n            var disable = options.disable;\n            var readonly = options.readonly;\n            var wrapper = that.wrapper.add(that.filterInput).off(ns);\n            var dropDownWrapper = that.wrapper.off(HOVEREVENTS);\n\n            if (!readonly && !disable) {\n                element.prop(DISABLED, false).prop(READONLY, false);\n\n                dropDownWrapper\n                    .removeClass(STATEDISABLED)\n                    .on(HOVEREVENTS, that._toggleHover);\n\n                wrapper\n                    .attr(TABINDEX, wrapper.data(TABINDEX))\n                    .attr(ARIA_DISABLED, false)\n                    .attr(ARIA_READONLY, false)\n                    .on(\"keydown\" + ns, that, that._keydown.bind(that))\n                    .on(kendo.support.mousedown + ns, that._wrapperMousedown.bind(that))\n                    .on(\"paste\" + ns, that._filterPaste.bind(that));\n\n                that.wrapper.on(\"click\" + ns, that._wrapperClick.bind(that));\n\n                if (!that.filterInput) {\n                    wrapper.on(\"keypress\" + ns, that._keypress.bind(that));\n                } else {\n                    wrapper.on(\"input\" + ns, that._search.bind(that));\n                }\n\n            } else if (disable) {\n                wrapper.removeAttr(TABINDEX);\n                dropDownWrapper.addClass(STATEDISABLED);\n            } else {\n                dropDownWrapper.removeClass(STATEDISABLED);\n            }\n\n            element.attr(DISABLED, disable)\n                   .attr(READONLY, readonly);\n\n            wrapper.attr(ARIA_DISABLED, disable)\n                    .attr(ARIA_READONLY, readonly);\n        },\n\n        _keydown: function(e) {\n            var that = this;\n            var key = e.keyCode;\n            var altKey = e.altKey;\n            var isInputActive;\n            var handled;\n\n            var isPopupVisible = that.popup.visible();\n\n            if (that.filterInput) {\n                isInputActive = that.filterInput[0] === activeElement();\n            }\n\n            if (key === keys.LEFT) {\n                key = keys.UP;\n                handled = true;\n            } else if (key === keys.RIGHT) {\n                key = keys.DOWN;\n                handled = true;\n            }\n\n            if (handled && isInputActive) {\n                return;\n            }\n\n            e.keyCode = key;\n\n            if ((altKey && key === keys.UP) || key === keys.ESC) {\n                that._focusElement(that.wrapper);\n            }\n\n            if (that._state === STATE_FILTER && key === keys.ESC) {\n                that._clearFilter();\n                that._open = false;\n                that._state = STATE_ACCEPT;\n            }\n\n            if (key === keys.ENTER && that._typingTimeout && that.filterInput && isPopupVisible) {\n                e.preventDefault();\n                return;\n            }\n\n            if (key === keys.SPACEBAR && !isInputActive) {\n                that.toggle(!isPopupVisible);\n                e.preventDefault();\n            }\n\n            handled = that._move(e);\n\n            if (handled) {\n                return;\n            }\n\n            if (!isPopupVisible || !that.filterInput) {\n                var current = that._focus();\n\n                if (key === keys.HOME) {\n                    handled = true;\n                    that._firstItem();\n                } else if (key === keys.END) {\n                    handled = true;\n                    that._lastItem();\n                }\n\n                if (handled) {\n                    if (that.trigger(\"select\", { dataItem: that._getElementDataItem(that._focus()), item: that._focus() })) {\n                        that._focus(current);\n                        return;\n                    }\n\n                    that._select(that._focus(), true).done(function() {\n                        if (!isPopupVisible) {\n                            that._blur();\n                        }\n                    });\n                    e.preventDefault();\n                }\n            }\n\n            if (!altKey && !handled && that.filterInput) {\n                that._search();\n            }\n        },\n\n        _matchText: function(text, word) {\n            var ignoreCase = this.options.ignoreCase;\n\n            if (text === undefined || text === null) {\n                return false;\n            }\n\n            text = text + \"\";\n\n            if (ignoreCase) {\n                text = text.toLowerCase();\n            }\n\n            return text.indexOf(word) === 0;\n        },\n\n        _shuffleData: function(data, splitIndex) {\n            var optionDataItem = this._optionLabelDataItem();\n\n            if (optionDataItem) {\n                data = [optionDataItem].concat(data);\n            }\n\n            return data.slice(splitIndex).concat(data.slice(0, splitIndex));\n        },\n\n        _selectNext: function() {\n            var that = this;\n            var data = that.dataSource.flatView();\n            var dataLength = data.length + (that.hasOptionLabel() ? 1 : 0);\n            var isInLoop = sameCharsOnly(that._word, that._last);\n            var startIndex = that.selectedIndex;\n            var oldFocusedItem;\n            var text;\n\n            if (startIndex === -1) {\n                startIndex = 0;\n            } else {\n                startIndex += isInLoop ? 1 : 0;\n                startIndex = normalizeIndex(startIndex, dataLength);\n            }\n\n            data = data.toJSON ? data.toJSON() : data.slice();\n            data = that._shuffleData(data, startIndex);\n\n            for (var idx = 0; idx < dataLength; idx++) {\n                text = that._text(data[idx]);\n\n                if (isInLoop && that._matchText(text, that._last)) {\n                    break;\n                } else if (that._matchText(text, that._word)) {\n                    break;\n                }\n            }\n\n            if (idx !== dataLength) {\n                oldFocusedItem = that._focus();\n\n                that._select(normalizeIndex(startIndex + idx, dataLength)).done(function() {\n                    var done = function() {\n                        if (!that.popup.visible()) {\n                            that._change();\n                        }\n                    };\n\n                    if (that.trigger(\"select\", { dataItem: that._getElementDataItem(that._focus()), item: that._focus() })) {\n                        that._select(oldFocusedItem).done(done);\n                    } else {\n                        done();\n                    }\n                });\n            }\n        },\n\n        _keypress: function(e) {\n            var that = this;\n\n            if (e.which === 0 || e.keyCode === kendo.keys.ENTER) {\n                return;\n            }\n\n            var character = String.fromCharCode(e.charCode || e.keyCode);\n\n            if (that.options.ignoreCase) {\n                character = character.toLowerCase();\n            }\n\n            if (character === \" \") {\n                e.preventDefault();\n            }\n\n            that._word += character;\n            that._last = character;\n\n            that._search();\n        },\n\n        _popupOpen: function() {\n            var popup = this.popup;\n\n            popup.wrapper = kendo.wrap(popup.element);\n\n            if (popup.element.closest(\".km-root\")[0]) {\n                popup.wrapper.addClass(\"km-popup km-widget\");\n                this.wrapper.addClass(\"km-widget\");\n            }\n        },\n\n        _popup: function() {\n            Select.fn._popup.call(this);\n            this.popup.one(\"open\", this._popupOpen.bind(this));\n        },\n\n        _getElementDataItem: function(element) {\n            if (!element || !element[0]) {\n                return null;\n            }\n\n            if (element[0] === this.optionLabel[0]) {\n                return this._optionLabelDataItem();\n            }\n\n            return this.listView.dataItemByIndex(this.listView.getElementIndex(element));\n        },\n\n        _click: function(e) {\n            var that = this;\n            var item = e.item || $(e.currentTarget);\n\n            e.preventDefault();\n\n            if (that.trigger(\"select\", { dataItem: that._getElementDataItem(item), item: item })) {\n                that.close();\n                return;\n            }\n\n            that._userTriggered = true;\n\n            that._select(item).done(function() {\n                that._blur();\n                that._focusElement(that.wrapper);\n            });\n        },\n\n        _focusElement: function(element) {\n            var active = activeElement();\n            var wrapper = this.wrapper;\n            var filterInput = this.filterInput;\n            var compareElement = element === filterInput ? wrapper : filterInput;\n            var touchEnabled = support.mobileOS && (support.touch || support.MSPointers || support.pointers);\n\n            if (filterInput && filterInput[0] === element[0] && touchEnabled) {\n                return;\n            }\n\n            if (filterInput && (compareElement[0] === active || this._focusFilter)) {\n                this._focusFilter = false;\n                this._prevent = true;\n                this._focused = element.trigger(\"focus\");\n            }\n        },\n\n        _searchByWord: function(word) {\n            if (!word) {\n                return;\n            }\n\n            var that = this;\n            var ignoreCase = that.options.ignoreCase;\n\n            if (ignoreCase) {\n                word = word.toLowerCase();\n            }\n\n            that._select(function(dataItem) {\n                return that._matchText(that._text(dataItem), word);\n            });\n        },\n\n        _inputValue: function() {\n            return this.text();\n        },\n\n        _search: function() {\n            var that = this;\n            var dataSource = that.dataSource;\n\n            clearTimeout(that._typingTimeout);\n\n            if (that._isFilterEnabled()) {\n                that._typingTimeout = setTimeout(function() {\n                    var value = that.filterInput.val();\n\n                    if (that._prev !== value) {\n                        that._prev = value;\n                        that.search(value);\n                        that._resizeFilterInput();\n                    }\n\n                    that._typingTimeout = null;\n                }, that.options.delay);\n            } else {\n                that._typingTimeout = setTimeout(function() {\n                    that._word = \"\";\n                }, that.options.delay);\n\n                if (!that.listView.bound()) {\n                    dataSource.fetch().done(function() {\n                        that._selectNext();\n                    });\n                    return;\n                }\n\n                that._selectNext();\n            }\n        },\n\n        _get: function(candidate) {\n            var data, found, idx;\n            var isFunction = typeof candidate === \"function\";\n            var jQueryCandidate = !isFunction ? $(candidate) : $();\n\n            if (this.hasOptionLabel()) {\n                if (typeof candidate === \"number\") {\n                    if (candidate > -1) {\n                        candidate -= 1;\n                    }\n                } else if (jQueryCandidate.hasClass(\"k-list-optionlabel\")) {\n                    candidate = -1;\n                }\n            }\n\n            if (isFunction) {\n                data = this.dataSource.flatView();\n\n                for (idx = 0; idx < data.length; idx++) {\n                    if (candidate(data[idx])) {\n                        candidate = idx;\n                        found = true;\n                        break;\n                    }\n                }\n\n                if (!found) {\n                    candidate = -1;\n                }\n            }\n\n            return candidate;\n        },\n\n        _firstItem: function() {\n            if (this.hasOptionLabel()) {\n                this._focus(this.optionLabel);\n            } else {\n                this.listView.focusFirst();\n            }\n        },\n\n        _lastItem: function() {\n            this._resetOptionLabel();\n            this.listView.focusLast();\n        },\n\n        _nextItem: function() {\n            var focusIndex;\n\n            if (this.optionLabel.hasClass(\"k-focus\")) {\n                this._resetOptionLabel();\n                this.listView.focusFirst();\n                focusIndex = 1;\n            } else {\n                focusIndex = this.listView.focusNext();\n            }\n\n            return focusIndex;\n        },\n\n        _prevItem: function() {\n            var focusIndex;\n\n            if (this.optionLabel.hasClass(\"k-focus\")) {\n                return;\n            }\n\n            focusIndex = this.listView.focusPrev();\n\n            if (!this.listView.focus() && !this.options.virtual) {\n                this._focus(this.optionLabel);\n            }\n\n            return focusIndex;\n        },\n\n        _focusItem: function() {\n            var options = this.options;\n            var listView = this.listView;\n            var focusedItem = listView.focus();\n            var index = listView.select();\n\n            index = index[index.length - 1];\n\n            if (index === undefined && options.highlightFirst && !focusedItem) {\n                index = 0;\n            }\n\n            if (index !== undefined) {\n                listView.focus(index);\n            } else {\n                if (options.optionLabel && (!options.virtual || options.virtual.mapValueTo !== \"dataItem\")) {\n                    this._focus(this.optionLabel);\n                    this._select(this.optionLabel);\n                    this.listView.content.scrollTop(0);\n                } else {\n                    listView.scrollToIndex(0);\n                }\n            }\n        },\n\n        _resetOptionLabel: function(additionalClass) {\n            this.optionLabel.removeClass(\"k-focus\" + (additionalClass || \"\")).removeAttr(\"id\");\n        },\n\n        _focus: function(candidate) {\n            var listView = this.listView;\n            var optionLabel = this.optionLabel;\n\n            if (candidate === undefined) {\n                candidate = listView.focus();\n\n                if (!candidate && optionLabel.hasClass(\"k-focus\")) {\n                    candidate = optionLabel;\n                }\n\n                return candidate;\n            }\n\n            this._resetOptionLabel();\n\n            candidate = this._get(candidate);\n\n            listView.focus(candidate);\n\n            if (candidate === -1) {\n                optionLabel.addClass(\"k-focus\")\n                           .attr(\"id\", listView._optionID);\n\n                if (this.filterInput) {\n                    this.filterInput\n                        .removeAttr(\"aria-activedescendant\")\n                        .attr(\"aria-activedescendant\", listView._optionID);\n                }\n            }\n        },\n\n        _select: function(candidate, keepState) {\n            var that = this;\n\n            candidate = that._get(candidate);\n\n            return that.listView.select(candidate).done(function() {\n                if (!keepState && that._state === STATE_FILTER) {\n                    that._state = STATE_ACCEPT;\n                }\n\n                if (candidate === -1) {\n                    that._selectValue(null);\n                }\n            });\n        },\n\n        _selectValue: function(dataItem) {\n            var that = this;\n            var optionLabel = that.options.optionLabel;\n            var idx = that.listView.select();\n\n            var value = \"\";\n            var text = \"\";\n\n            idx = idx[idx.length - 1];\n            if (idx === undefined) {\n                idx = -1;\n            }\n\n            this._resetOptionLabel(\" k-selected\");\n\n            if (dataItem || dataItem === 0) {\n                text = dataItem;\n                value = that._dataValue(dataItem);\n                if (optionLabel) {\n                    idx += 1;\n                }\n            } else if (optionLabel) {\n                that._focus(that.optionLabel.addClass(\"k-selected\"));\n\n                text = that._optionLabelText();\n\n                if (typeof optionLabel === \"string\") {\n                    value = \"\";\n                } else {\n                    value = that._value(optionLabel);\n                }\n\n                idx = 0;\n            }\n\n            that.selectedIndex = idx;\n\n            if (value === null) {\n                value = \"\";\n            }\n\n            that._textAccessor(text);\n            that._accessor(value, idx);\n\n            that._triggerCascade();\n        },\n\n        _mobile: function() {\n            var that = this,\n                popup = that.popup,\n                mobileOS = support.mobileOS,\n                root = popup.element.parents(\".km-root\").eq(0);\n\n            if (root.length && mobileOS) {\n                popup.options.animation.open.effects = (mobileOS.android || mobileOS.meego) ? \"fadeIn\" : (mobileOS.ios || mobileOS.wp) ? \"slideIn:up\" : popup.options.animation.open.effects;\n            }\n        },\n\n        _filterHeader: function() {\n            var filterTemplate = '<div class=\"k-list-filter\">' +\n                '<span class=\"k-searchbox k-input k-input-md k-rounded-md k-input-solid\" type=\"text\" autocomplete=\"off\">' +\n                    '<span class=\"k-input-icon k-icon k-i-search\"></span>' +\n                '</span>' +\n            '</div>';\n\n            if (this.filterInput) {\n                this.filterInput\n                    .off(ns)\n                    .closest(\".k-list-filter\")\n                    .remove();\n\n                this.filterInput = null;\n            }\n\n            if (this._isFilterEnabled()) {\n                this.filterInput = $('<input class=\"k-input-inner\" type=\"text\" />')\n                    .attr({\n                        placeholder: this.element.attr(\"placeholder\"),\n                        title: this.options.filterTitle || this.element.attr(\"title\"),\n                        role: \"searchbox\",\n                        \"aria-label\": this.options.filterTitle,\n                        \"aria-haspopup\": \"listbox\",\n                        \"aria-autocomplete\": \"list\"\n                    });\n\n                this.list\n                    .parent()\n                    .prepend($(filterTemplate))\n                    .find(\".k-searchbox\")\n                    .append(this.filterInput);\n            }\n        },\n\n        _span: function() {\n            var that = this,\n                wrapper = that.wrapper,\n                SELECTOR = \"span.k-input-value-text\",\n                id = kendo.guid(),\n                options = that.options,\n                span, arrowBtn;\n\n            span = wrapper.find(SELECTOR);\n\n            if (!span[0]) {\n                arrowBtn = html.renderButton('<span role=\"button\" class=\"k-input-button\" aria-label=\"select\"></span>', {\n                    icon: \"arrow-s\",\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    shape: \"none\",\n                    rounded: \"none\"\n                });\n\n                wrapper.append('<span id=\"' + id + '\" unselectable=\"on\" class=\"k-input-inner\">' +\n                            '<span class=\"k-input-value-text\"></span>' +\n                        '</span>')\n                    .append(arrowBtn)\n                    .append(that.element);\n\n                span = wrapper.find(SELECTOR);\n            }\n\n            that.span = span;\n            that._arrow = wrapper.find(\".k-input-button\");\n            that._arrowIcon = that._arrow.find(\".k-icon\");\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                DOMelement = element[0],\n                wrapper;\n\n            wrapper = element.parent();\n\n            if (!wrapper.is(\"span.k-picker\")) {\n                wrapper = element.wrap(\"<span />\").parent();\n                wrapper[0].style.cssText = DOMelement.style.cssText;\n                wrapper[0].title = DOMelement.title;\n            }\n\n            that._focused = that.wrapper = wrapper\n                .addClass(\"k-picker k-dropdownlist\")\n                .addClass(DOMelement.className)\n                .removeClass('input-validation-error')\n                .css(\"display\", \"\")\n                .attr({\n                    accesskey: element.attr(\"accesskey\"),\n                    unselectable: \"on\",\n                    role: \"combobox\",\n                    \"aria-expanded\": false\n                });\n\n            element.hide().removeAttr(\"accesskey\");\n        },\n\n        _clearSelection: function(parent) {\n            this.select(parent.value() ? 0 : -1);\n        },\n\n        _openHandler: function(e) {\n            this._adjustListWidth();\n\n            if (this.trigger(OPEN)) {\n                e.preventDefault();\n            } else {\n                this.wrapper.attr(\"aria-expanded\", true);\n                this.ul.attr(\"aria-hidden\", false);\n            }\n        },\n\n        _closeHandler: function(e) {\n            if (this.trigger(CLOSE)) {\n                e.preventDefault();\n            } else {\n                this.wrapper.attr(\"aria-expanded\", false);\n                this.ul.attr(\"aria-hidden\", true);\n            }\n        },\n\n        _inputTemplate: function() {\n            var that = this,\n                template = that.options.valueTemplate;\n\n\n            if (!template) {\n                template = kendo.template('#:this._text(data)#', { useWithBlock: false }).bind(that);\n            } else {\n                template = kendo.template(template);\n            }\n\n            that.valueTemplate = template;\n\n            if (that.hasOptionLabel() && !that.options.optionLabelTemplate) {\n                try {\n                    that.valueTemplate(that._optionLabelDataItem());\n                } catch (e) {\n                    throw new Error(MSG_INVALID_OPTION_LABEL);\n                }\n            }\n        },\n\n        _textAccessor: function(text) {\n            var dataItem = null;\n            var template = this.valueTemplate;\n            var optionLabelText = this._optionLabelText();\n            var span = this.span;\n\n            if (text === undefined) {\n                return span.text();\n            }\n\n            if ($.isPlainObject(text) || text instanceof ObservableObject) {\n                dataItem = text;\n            } else if (optionLabelText && optionLabelText === text) {\n                dataItem = this.options.optionLabel;\n            }\n\n            if (!dataItem) {\n                dataItem = this._assignInstance(text, this._accessor());\n            }\n\n            if (this.hasOptionLabel()) {\n                if (dataItem === optionLabelText || this._text(dataItem) === optionLabelText) {\n                    template = this.optionLabelTemplate;\n\n                    if (typeof this.options.optionLabel === \"string\" && !this.options.optionLabelTemplate) {\n                        dataItem = optionLabelText;\n                    }\n                }\n            }\n\n            var getElements = function() {\n                return {\n                    elements: span.get(),\n                    data: [ { dataItem: dataItem } ]\n                };\n            };\n\n            this.angular(\"cleanup\", getElements);\n\n            try {\n                span.html(template(dataItem));\n            } catch (e) {\n                //dataItem has missing fields required in custom template\n                span.html(\"\");\n            }\n\n            this.angular(\"compile\", getElements);\n        },\n\n        _preselect: function(value, text) {\n            if (!value && !text) {\n                text = this._optionLabelText();\n            }\n\n            this._accessor(value);\n            this._textAccessor(text);\n\n            this._old = this._accessor();\n            this._oldIndex = this.selectedIndex;\n\n            this.listView.setValue(value);\n\n            this._initialIndex = null;\n            this._presetValue = true;\n        },\n\n        _assignInstance: function(text, value) {\n            var dataTextField = this.options.dataTextField;\n            var dataItem = {};\n\n            if (dataTextField) {\n                assign(dataItem, dataTextField.split(\".\"), text);\n                assign(dataItem, this.options.dataValueField.split(\".\"), value);\n                dataItem = new ObservableObject(dataItem);\n            } else {\n                dataItem = text;\n            }\n\n            return dataItem;\n        }\n    });\n\n    function assign(instance, fields, value) {\n        var idx = 0,\n            lastIndex = fields.length - 1,\n            field;\n\n        for (; idx < lastIndex; ++idx) {\n            field = fields[idx];\n\n            if (!(field in instance)) {\n                instance[field] = {};\n            }\n\n            instance = instance[field];\n        }\n\n        instance[fields[lastIndex]] = value;\n    }\n\n    function normalizeIndex(index, length) {\n        if (index >= length) {\n            index -= length;\n        }\n        return index;\n    }\n\n    function sameCharsOnly(word, character) {\n        for (var idx = 0; idx < word.length; idx++) {\n            if (word.charAt(idx) !== character) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    ui.plugin(DropDownList);\n\n    kendo.cssProperties.registerPrefix(\"DropDownList\", \"k-picker-\");\n\n    kendo.cssProperties.registerValues(\"DropDownList\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.combobox',[ \"kendo.list\", \"kendo.mobile.scroller\", \"kendo.virtuallist\", \"kendo.html.button\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"combobox\",\n    name: \"ComboBox\",\n    category: \"web\",\n    description: \"The ComboBox widget allows the selection from pre-defined values or entering a new value.\",\n    depends: [ \"list\", \"html.button\" ],\n    features: [ {\n        id: \"mobile-scroller\",\n        name: \"Mobile scroller\",\n        description: \"Support for kinetic scrolling in mobile device\",\n        depends: [ \"mobile.scroller\" ]\n    }, {\n        id: \"virtualization\",\n        name: \"VirtualList\",\n        description: \"Support for virtualization\",\n        depends: [ \"virtuallist\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        html = kendo.html,\n        List = ui.List,\n        Select = ui.Select,\n        caret = kendo.caret,\n        support = kendo.support,\n        placeholderSupported = support.placeholder,\n        activeElement = kendo._activeElement,\n        keys = kendo.keys,\n        ns = \".kendoComboBox\",\n        nsFocusEvent = ns + \"FocusEvent\",\n        CLICK = \"click\" + ns,\n        MOUSEDOWN = \"mousedown\" + ns,\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        CHANGE = \"change\",\n        LOADING = \"k-i-loading k-input-loading-icon\",\n        FOCUSED = \"k-focus\",\n        STATEDISABLED = \"k-disabled\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_READONLY = \"aria-readonly\",\n        AUTOCOMPLETEVALUE = \"off\",\n        STATE_FILTER = \"filter\",\n        STATE_ACCEPT = \"accept\",\n        STATE_REBIND = \"rebind\",\n        HOVEREVENTS = \"mouseenter\" + ns + \" mouseleave\" + ns,\n        newLineRegEx = /(\\r\\n|\\n|\\r)/gm,\n        NON_PRINTABLE_KEYS = [16,17,18,19,20,33,34,37,39,45,91,92,144,145];\n\n    var ComboBox = Select.extend({\n        init: function(element, options) {\n            var that = this, text, disabled;\n\n            that.ns = ns;\n\n            options = Array.isArray(options) ? { dataSource: options } : options;\n\n            Select.fn.init.call(that, element, options);\n\n            options = that.options;\n            element = that.element.on(\"focus\" + ns, that._focusHandler.bind(that));\n\n            options.placeholder = options.placeholder || element.attr(\"placeholder\");\n\n            that._reset();\n\n            that._wrapper();\n\n            that._input();\n\n            that._clearButton();\n\n            that._tabindex(that.input);\n\n            that._popup();\n\n            that._dataSource();\n            that._ignoreCase();\n\n            that._enable();\n\n            that._attachFocusEvents();\n\n            that._oldIndex = that.selectedIndex = -1;\n\n            that._aria();\n\n            that._initialIndex = options.index;\n\n            that.requireValueMapper(that.options);\n            that._initList();\n\n            that._cascade();\n\n            if (options.autoBind) {\n                that._filterSource();\n            } else {\n                text = options.text;\n\n                if (!text && that._isSelect) {\n                    text = element.children(\":selected\").text();\n                }\n\n                if (text) {\n                    that._setText(text);\n                }\n            }\n\n            if (!text) {\n                that._placeholder();\n            }\n\n            disabled = $(that.element).parents(\"fieldset\").is(':disabled');\n\n            if (disabled) {\n                that.enable(false);\n            }\n\n            kendo.notify(that);\n            that._toggleCloseVisibility();\n            that._applyCssClasses();\n        },\n\n        options: {\n            name: \"ComboBox\",\n            enabled: true,\n            index: -1,\n            text: null,\n            value: null,\n            autoBind: true,\n            delay: 200,\n            dataTextField: \"\",\n            dataValueField: \"\",\n            minLength: 1,\n            enforceMinLength: false,\n            height: 200,\n            highlightFirst: true,\n            filter: \"none\",\n            placeholder: \"\",\n            suggest: false,\n            cascadeFrom: \"\",\n            cascadeFromField: \"\",\n            cascadeFromParentField: \"\",\n            ignoreCase: true,\n            animation: {},\n            virtual: false,\n            template: null,\n            groupTemplate: \"#:data#\",\n            fixedGroupTemplate: \"#:data#\",\n            clearButton: true,\n            syncValueAndText: true,\n            autoWidth: false,\n            popup: null,\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        events: [\n            \"open\",\n            \"close\",\n            CHANGE,\n            \"select\",\n            \"filtering\",\n            \"dataBinding\",\n            \"dataBound\",\n            \"cascade\",\n            \"set\"\n        ],\n\n        setOptions: function(options) {\n            var listOptions = this._listOptions(options);\n\n            Select.fn.setOptions.call(this, options);\n\n            this.listView.setOptions(listOptions);\n\n            this._accessors();\n            this._aria();\n            this._clearButton();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.input.off(ns);\n            that.input.off(nsFocusEvent);\n            that.element.off(ns);\n            that.wrapper.off(ns);\n            clearTimeout(that._pasteTimeout);\n\n            that._arrow.off(CLICK + \" \" + MOUSEDOWN);\n            that._clear.off(CLICK + \" \" + MOUSEDOWN);\n\n            Select.fn.destroy.call(that);\n        },\n\n        _isValueChanged: function(value) {\n            return value !== List.unifyType(this._old, typeof value) &&\n                value !== List.unifyType(this._oldText, typeof value);\n        },\n\n        _change: function() {\n            var that = this;\n            var text = that.text();\n            var hasText = text && text !== that._oldText && text !== that.options.placeholder;\n            var index = that.selectedIndex;\n            var isCustom = index === -1;\n\n            if (!that.options.syncValueAndText && !that.value() && isCustom && hasText) {\n                that._old = \"\";\n                that._oldIndex = index;\n                that._oldText = text;\n\n                if (!that._typing) {\n                    // trigger the DOM change event so any subscriber gets notified\n                    that.element.trigger(CHANGE);\n                }\n\n                that.trigger(CHANGE);\n                that._typing = false;\n                return;\n            }\n\n            Select.fn._change.call(that);\n\n            that._oldText = that.text && that.text();\n\n            that._toggleCloseVisibility();\n        },\n\n        _attachFocusEvents: function() {\n            var that = this;\n            that.input.on(\"focus\" + nsFocusEvent, that._inputFocus.bind(that))\n                      .on(\"focusout\" + nsFocusEvent, that._inputFocusout.bind(that));\n        },\n\n        _focusHandler: function(e) {\n            if (e.target === this.element[0]) {\n                this.input.trigger(\"focus\");\n            }\n        },\n\n        _arrowClick: function() {\n            this._toggle();\n        },\n\n        _inputFocus: function() {\n            this.wrapper.addClass(FOCUSED);\n            this._placeholder(false);\n        },\n\n        _inputFocusout: function(e) {\n            var that = this;\n            var value = that.value();\n            var isClearButton = !$(e.relatedTarget).closest('.k-clear-value').length;\n\n            that._userTriggered = true;\n            that.wrapper.removeClass(FOCUSED);\n            clearTimeout(that._typingTimeout);\n            that._typingTimeout = null;\n\n            if (isClearButton) {\n              that.text(that.text());\n            }\n\n            var item = that._focus();\n            var dataItem = this.listView.dataItemByIndex(this.listView.getElementIndex(item));\n\n            if (value !== that.value() && that.trigger(\"select\", { dataItem: dataItem, item: item })) {\n                that.value(value);\n                return;\n            }\n\n            that._placeholder();\n            that._valueBeforeCascade = that._old;\n\n            if (isClearButton) {\n                that._blur();\n\n                that.element.trigger(\"blur\");\n            }\n        },\n\n        _inputPaste: function() {\n            var that = this;\n            clearTimeout(that._pasteTimeout);\n            that._pasteTimeout = null;\n\n            that._pasteTimeout = setTimeout(function() {\n                that.search();\n            });\n        },\n\n        _editable: function(options) {\n            var that = this,\n                disable = options.disable,\n                readonly = options.readonly,\n                wrapper = that.wrapper.off(ns),\n                input = that.element.add(that.input.off(ns)),\n                arrow = that._arrow.off(CLICK + \" \" + MOUSEDOWN),\n                clear = that._clear;\n\n            if (!readonly && !disable) {\n                wrapper\n                    .removeClass(STATEDISABLED)\n                    .on(HOVEREVENTS, that._toggleHover);\n\n                input.prop(DISABLED, false)\n                     .prop(READONLY, false)\n                     .attr(ARIA_DISABLED, false)\n                     .attr(ARIA_READONLY, false);\n\n                arrow.on(CLICK, that._arrowClick.bind(that))\n                     .on(MOUSEDOWN, function(e) { e.preventDefault(); });\n\n                clear.on(CLICK + \" touchend\" + ns, that._clearValue.bind(that));\n\n                that.input\n                    .on(\"keydown\" + ns, that._keydown.bind(that))\n                    .on(\"input\" + ns, that._search.bind(that))\n                    .on(\"paste\" + ns, that._inputPaste.bind(that));\n\n                that.wrapper.on(CLICK + ns, that._focusHandler.bind(that));\n            } else {\n                wrapper\n                    .addClass(disable ? STATEDISABLED : \"\")\n                    .removeClass(disable ? \"\" : STATEDISABLED);\n\n                input.attr(DISABLED, disable)\n                     .attr(READONLY, readonly)\n                     .attr(ARIA_DISABLED, disable)\n                     .attr(ARIA_READONLY, readonly);\n            }\n\n            that._toggleCloseVisibility();\n        },\n\n        open: function() {\n            var that = this;\n            var state = that._state;\n            var isFiltered = that.dataSource.filter() ? that.dataSource.filter().filters.length > 0 : false;\n            var reinitialized = !that.ul.find(that.listView.focus()).length;\n\n            if (that.popup.visible()) {\n                return;\n            }\n\n            if ((!that.listView.bound() && state !== STATE_FILTER) || state === STATE_ACCEPT) {\n                that._open = true;\n                that._state = STATE_REBIND;\n\n                if ((that.options.minLength !== 1 && !isFiltered) || (isFiltered && that.value() && that.selectedIndex === -1 )) {\n                    that.refresh();\n                    that._openPopup();\n                    if (!this.options.virtual) {\n                        that.listView.bound(false);\n                    }\n                } else {\n                    that._filterSource();\n                }\n            } else if (that._allowOpening()) {\n                // In some cases when the popup is opened resize is triggered which will cause it to close\n                // Setting the below flag will prevent this from happening\n                that.popup._hovered = true;\n                that._openPopup();\n                if (that.options.virtual) {\n                    that._focusItem();\n                } else if (reinitialized && that.options.highlightFirst) {\n                    that.listView.focus(0);\n                }\n            }\n        },\n\n        _scrollToFocusedItem: function() {\n            var listView = this.listView;\n\n            listView.scrollToIndex(listView.getElementIndex(listView.focus()));\n        },\n\n        _openPopup: function() {\n            this.popup.one(\"activate\", this._scrollToFocusedItem.bind(this));\n            this.popup.open();\n        },\n\n        _updateSelectionState: function() {\n            var that = this;\n            var text = that.options.text;\n            var value = that.options.value;\n\n            if (that.listView.isFiltered()) {\n                return;\n            }\n\n            if (that.selectedIndex === -1) {\n                if (text === undefined || text === null) {\n                    text = value;\n                }\n\n                that._accessor(value);\n                that.input.val(text || that.input.val());\n                that._placeholder();\n            } else if (that._oldIndex === -1) {\n                that._oldIndex = that.selectedIndex;\n            }\n        },\n\n        _buildOptions: function(data) {\n            var that = this;\n            if (!that._isSelect) {\n                return;\n            }\n\n            var custom = that._customOption;\n\n            if (that._state === STATE_REBIND) {\n                that._state = \"\";\n            }\n\n            that._customOption = undefined;\n            that._options(data, \"\", that.value());\n\n            if (custom && custom[0].selected && !that.listView._emptySearch) {\n                that._custom(custom.val());\n            }\n        },\n\n        _updateSelection: function() {\n            var that = this;\n            var listView = that.listView;\n            var initialIndex = that._initialIndex;\n            var hasInitialIndex = initialIndex !== null && initialIndex > -1;\n            var filtered = that._state === STATE_FILTER;\n\n            if (filtered) {\n                $(listView.focus()).removeClass(\"k-selected\");\n                return;\n            }\n\n            if (that._fetch) {\n                return;\n            }\n\n            if (!listView.value().length) {\n                if (hasInitialIndex) {\n                    that.select(initialIndex);\n                } else if (that._accessor()) {\n                    listView.value(that._accessor());\n                }\n            }\n\n            that._initialIndex = null;\n            var dataItem = listView.selectedDataItems()[0];\n\n            if (!dataItem) {\n                return;\n            }\n\n            if (that._value(dataItem) !== that.value()) {\n                that._custom(that._value(dataItem));\n            } else if (that._value(dataItem) !== that.element[0].value) {\n                that._accessor(that._value(dataItem));\n            }\n\n            if (that.text() && that.text() !== that._text(dataItem)) {\n                that._selectValue(dataItem);\n            }\n        },\n\n        _updateItemFocus: function() {\n            var listView = this.listView;\n\n            if (!this.options.highlightFirst) {\n                listView.focus(-1);\n            } else if (!listView.focus() && !listView.focusIndex()) {\n                listView.focus(0);\n            }\n        },\n\n        _listBound: function() {\n            var that = this;\n            var isActive = that.input[0] === activeElement();\n\n            var data = that.dataSource.flatView();\n            var skip = that.listView.skip();\n            var length = data.length;\n            var groupsLength = that.dataSource._group ? that.dataSource._group.length : 0;\n            var isFirstPage = skip === undefined || skip === 0;\n\n            that._presetValue = false;\n\n            that._renderFooter();\n            that._renderNoData();\n            that._toggleNoData(!length);\n            that._toggleHeader(!!groupsLength && !!length);\n\n            that._resizePopup();\n\n            that.popup.position();\n\n            that._buildOptions(data);\n\n            that._updateSelection();\n\n            if (data.length && isFirstPage) {\n                that._updateItemFocus();\n\n                if (that.options.suggest && isActive && that.input.val()) {\n                    that.suggest(data[0]);\n                }\n            }\n\n            if (that._open) {\n                that._open = false;\n\n                if (that._typingTimeout && !isActive) {\n                    that.popup.close();\n                } else {\n                    that.toggle(that._allowOpening());\n                }\n\n                that._typingTimeout = null;\n            }\n\n            that._hideBusy();\n            that.trigger(\"dataBound\");\n        },\n\n        _listChange: function() {\n            this._selectValue(this.listView.selectedDataItems()[0]);\n\n            if (this._presetValue) {\n                this._oldIndex = this.selectedIndex;\n            }\n        },\n\n        _get: function(candidate) {\n            var data, found, idx;\n\n            if (typeof candidate === \"function\") {\n                data = this.dataSource.flatView();\n\n                for (idx = 0; idx < data.length; idx++) {\n                    if (candidate(data[idx])) {\n                        candidate = idx;\n                        found = true;\n                        break;\n                    }\n                }\n\n                if (!found) {\n                    candidate = -1;\n                }\n            }\n\n            if (!this.dataSource.total() && !candidate) {\n                candidate = -1;\n            }\n\n            return candidate;\n        },\n\n        _select: function(candidate, keepState) {\n            var that = this;\n\n            candidate = that._get(candidate);\n\n            if (candidate === -1) {\n                that.input[0].value = \"\";\n                that._accessor(\"\");\n            }\n\n            return that.listView.select(candidate).done(function() {\n                if (!keepState && that._state === STATE_FILTER) {\n                    that._state = STATE_ACCEPT;\n                }\n                that._toggleCloseVisibility();\n            });\n        },\n\n        _selectValue: function(dataItem) {\n            var idx = this.listView.select();\n            var value = \"\";\n            var text = \"\";\n\n            idx = idx[idx.length - 1];\n            if (idx === undefined) {\n                idx = -1;\n            }\n\n            this.selectedIndex = idx;\n\n            if (this.listView.isFiltered() && idx !== -1) {\n                this._valueBeforeCascade = this._old;\n            }\n\n            if (idx === -1 && !dataItem) {\n                if (this.options.syncValueAndText) {\n                    if (this.options.dataTextField === this.options.dataValueField) {\n                        text = this._accessor();\n                    } else {\n                        text = this.input[0].value;\n                    }\n                    value = text;\n                }\n                else {\n                    text = this.text();\n                }\n                this.listView.focus(-1);\n            } else {\n                if (dataItem || dataItem === 0) {\n                    value = this._dataValue(dataItem);\n                    text = this._text(dataItem);\n                }\n\n                if (value === null) {\n                    value = \"\";\n                }\n            }\n\n            this._setDomInputValue(text);\n            this._accessor(value !== undefined ? value : text, idx);\n\n            this._placeholder();\n            this._triggerCascade();\n        },\n\n        _setDomInputValue: function(text) {\n            var that = this;\n            var currentCaret = caret(this.input);\n            var caretStart;\n\n            if (currentCaret && currentCaret.length) {\n                caretStart = currentCaret[0];\n            }\n\n            this._prev = this.input[0].value = text;\n\n            if (caretStart && this.selectedIndex === -1) {\n                var mobile = support.mobileOS;\n                if (mobile.wp || mobile.android) {// without the timeout the caret is at the end of the input\n                    setTimeout(function() { that.input[0].setSelectionRange(caretStart, caretStart); }, 0);\n                }\n                else {\n                    this.input[0].setSelectionRange(caretStart, caretStart);\n                }\n            }\n        },\n\n        refresh: function() {\n            this.listView.refresh();\n        },\n\n        _toggleCloseVisibility: function() {\n            var preventShow = this.element.is(\":disabled\") || this.element.is(\"[readonly]\");\n\n            if (this.text() && !preventShow) {\n                this._showClear();\n            } else {\n                this._hideClear();\n            }\n        },\n\n        suggest: function(word) {\n            var that = this;\n            var element = that.input[0];\n            var value = that.text();\n            var caretIdx = caret(element)[0];\n            var key = that._last;\n            var idx;\n            var accentFoldingFiltering = that.dataSource.options.accentFoldingFiltering;\n\n            if (key == keys.BACKSPACE || key == keys.DELETE) {\n                that._last = undefined;\n                return;\n            }\n\n            word = word || \"\";\n\n            if (typeof word !== \"string\") {\n                if (word[0]) {\n                    word = that.dataSource.view()[List.inArray(word[0], that.ul[0])];\n                }\n\n                word = word ? that._text(word) : \"\";\n            }\n\n            if (caretIdx <= 0) {\n                caretIdx = (accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase()).indexOf(accentFoldingFiltering ? word.toLocaleLowerCase(accentFoldingFiltering) : word.toLowerCase()) + 1;\n            }\n\n            if (word) {\n                word = word.toString();\n                idx = (accentFoldingFiltering ? word.toLocaleLowerCase(accentFoldingFiltering) : word.toLowerCase()).indexOf(accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase());\n                if (idx > -1) {\n                    value += word.substring(idx + value.length);\n                }\n            } else {\n                value = value.substring(0, caretIdx);\n            }\n\n            if (value.length !== caretIdx || !word) {\n                element.value = value;\n                if (element === activeElement()) {\n                    caret(element, caretIdx, value.length);\n                }\n            }\n        },\n\n        text: function(text) {\n            text = text === null ? \"\" : text;\n\n            var that = this;\n            var input = that.input[0];\n            var ignoreCase = that.options.ignoreCase;\n            var loweredText = text;\n            var dataItem;\n            var value;\n\n            if (text === undefined) {\n                return input.value;\n            }\n\n            if (that.options.autoBind === false && !that.listView.bound()) {\n                that._setText(text);\n                return;\n            }\n\n            dataItem = that.dataItem();\n\n            if (dataItem && that._text(dataItem).replace && that._text(dataItem).replace(newLineRegEx,\"\") === text) {\n                value = that._value(dataItem);\n\n                if (value === List.unifyType(that._old, typeof value)) {\n                    that._triggerCascade();\n                    return;\n                }\n            }\n\n            if (ignoreCase) {\n                loweredText = loweredText.toLowerCase();\n            }\n\n            if (that.dataItem() && that._text(that.dataItem()) === text) {\n                return;\n            }\n\n            that._select(function(data) {\n                data = that._text(data);\n                if (ignoreCase) {\n                    data = (data + \"\").toLowerCase();\n                }\n\n                return data === loweredText;\n            }).done(function() {\n                if (that.selectedIndex < 0) {\n                    input.value = text;\n\n                    if (that.options.syncValueAndText) {\n                        that._accessor(text);\n                    }\n\n                    that._cascadeTriggered = true;\n                    that._triggerCascade();\n                }\n\n                that._prev = input.value;\n            });\n\n            that._toggleCloseVisibility();\n        },\n\n        toggle: function(toggle) {\n            this._toggle(toggle, true);\n        },\n\n        value: function(value) {\n            var that = this;\n            var options = that.options;\n            var listView = that.listView;\n\n            if (value === undefined) {\n                value = that._accessor() || that.listView.value()[0];\n                return value === undefined || value === null ? \"\" : value;\n            }\n\n            that.requireValueMapper(that.options, value);\n\n            that.trigger(\"set\", { value: value });\n\n            if (value === options.value && that.input.val() === options.text &&\n            !that.options.cascadeFrom) {\n                return;\n            }\n\n            that._accessor(value);\n\n            if (that._isFilterEnabled() && listView.bound() && listView.isFiltered()) {\n                that._clearFilter();\n            } else {\n                that._fetchData();\n            }\n\n            listView\n                .value(value)\n                .done(function() {\n                    if (that.selectedIndex === -1 && (!listView._selectedDataItems || !listView._selectedDataItems.length)) {\n                        that._accessor(value);\n                        that.input.val(value);\n                        that._placeholder(true);\n                    }\n\n                    if (that._userTriggered) {\n                         that._old = that._accessor();\n                    } else {\n                         that._old = that._valueBeforeCascade = that._accessor();\n                    }\n\n                    that._oldIndex = that.selectedIndex;\n\n                    that._prev = that._oldText = that.input.val();\n\n                    if (that._state === STATE_FILTER) {\n                        that._state = STATE_ACCEPT;\n                    }\n                    that._toggleCloseVisibility();\n                });\n        },\n\n        _hideBusy: function() {\n            var that = this;\n            clearTimeout(that._busy);\n            that._arrowIcon.removeClass(LOADING);\n            that._focused.attr(\"aria-busy\", false);\n            that._busy = null;\n            that._toggleCloseVisibility();\n        },\n\n        _click: function(e) {\n            var that = this;\n            var item = e.item;\n            var dataItem = that.listView.dataItemByIndex(that.listView.getElementIndex(item));\n            var shouldTrigger = true;\n            e.preventDefault();\n\n            if (dataItem) {\n                shouldTrigger = that._value(dataItem) !== List.unifyType(that.value(), typeof that._value(dataItem));\n\n                if (!shouldTrigger) {\n                   that.input.val(that._text(dataItem));\n                }\n            }\n\n            if (shouldTrigger && that.trigger(\"select\", { dataItem: dataItem, item: item })) {\n                that.close();\n                return;\n            }\n\n            that._userTriggered = true;\n\n            that._select(item).done(function() {\n                that._blur();\n            });\n        },\n\n        _syncValueAndText: function() {\n            return this.options.syncValueAndText;\n        },\n\n        _inputValue: function() {\n            return this.text();\n        },\n\n        _searchByWord: function(word) {\n            var that = this;\n            var options = that.options;\n            var dataSource = that.dataSource;\n            var ignoreCase = options.ignoreCase;\n            var predicate = function(dataItem) {\n                var text = that._text(dataItem);\n                if (text !== undefined) {\n                    text = text + \"\";\n                    if (text !== \"\" && word === \"\") {\n                        return false;\n                    }\n\n                    if (ignoreCase) {\n                        text = text.toLowerCase();\n                    }\n\n                    return text.indexOf(word) === 0;\n                }\n            };\n\n            if (ignoreCase) {\n                word = word.toLowerCase();\n            }\n\n            if (!that.ul[0].firstChild) {\n                dataSource.one(CHANGE, function() {\n                    if (dataSource.view()[0]) {\n                        that.search(word);\n                    }\n                }).fetch();\n                return;\n            }\n\n            this.listView.focus(this._get(predicate));\n\n            var current = this.listView.focus();\n\n            if (current) {\n                if (options.suggest) {\n                    that.suggest(current);\n                }\n\n                this.open();\n            }\n\n            if (this.options.highlightFirst && !word) {\n                this.listView.focusFirst();\n            }\n        },\n\n        _input: function() {\n            var that = this,\n                element = that.element.removeClass(\"k-input-inner\")[0],\n                accessKey = element.accessKey,\n                wrapper = that.wrapper,\n                SELECTOR = \"input.k-input-inner\",\n                name = element.name || \"\",\n                options = that.options,\n                input,\n                maxLength,\n                arrowBtn;\n\n            if (name) {\n                name = 'name=\"' + name + '_input\" ';\n            }\n\n            input = wrapper.find(SELECTOR);\n\n            if (!input[0]) {\n                arrowBtn = html.renderButton('<button type=\"button\" class=\"k-input-button\" aria-label=\"expand combobox\"></button>', {\n                    icon: \"arrow-s\",\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    shape: \"none\",\n                    rounded: \"none\",\n                });\n\n                wrapper.append('<input ' + name + 'class=\"k-input-inner\" type=\"text\" autocomplete=\"' + AUTOCOMPLETEVALUE + '\"/>')\n                    .append(arrowBtn)\n                    .append(that.element);\n\n                input = wrapper.find(SELECTOR);\n            }\n\n            input[0].style.cssText = element.style.cssText;\n            input[0].title = element.title;\n\n            maxLength = parseInt(this.element.prop(\"maxlength\") || this.element.attr(\"maxlength\"), 10);\n            if (maxLength > -1) {\n                input[0].maxLength = maxLength;\n            }\n\n            input.addClass(element.className)\n                .css({\n                    width: \"\",\n                    height: element.style.height,\n                    position: \"\"\n                })\n                .attr({\n                    \"role\": \"combobox\",\n                    \"aria-expanded\": false\n                })\n                .show();\n\n            if (placeholderSupported) {\n                input.attr(\"placeholder\", that.options.placeholder);\n            }\n\n            if (accessKey) {\n                element.accessKey = \"\";\n                input[0].accessKey = accessKey;\n            }\n\n            that._focused = that.input = input;\n            that._arrow = wrapper.find(\".k-input-button\")\n                .attr({\n                    \"role\": \"button\",\n                    \"tabIndex\": -1\n                });\n            that._arrowIcon = that._arrow.find(\".k-icon\");\n        },\n\n        _clearButton: function() {\n            List.fn._clearButton.call(this);\n\n            if (this.options.clearButton) {\n                this._clear.insertAfter(this.input);\n                this.wrapper.addClass(\"k-combobox-clearable\");\n            }\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode,\n                textField = that.options.dataTextField || \"text\",\n                isFkey = key >= 112 && key <= 135,\n                isNonPrintableKey = NON_PRINTABLE_KEYS.indexOf(key) > -1;\n\n            that._last = key;\n\n            clearTimeout(that._typingTimeout);\n            that._typingTimeout = null;\n\n            if (key === keys.HOME) {\n                that._firstItem();\n            } else if (key === keys.END) {\n                that._lastItem();\n            } else if (key === keys.ENTER || (key === keys.TAB && that.popup.visible())) {\n                var current = that.listView.focus();\n                var dataItem = that.dataItem();\n                var shouldTrigger = true;\n\n                if (!that.popup.visible() && (!dataItem || that.text() !== that._text(dataItem))) {\n                    current = null;\n                }\n\n                if (current) {\n                    if (that.popup.visible()) {\n                        e.preventDefault();\n                    }\n\n                    dataItem = that.listView.dataItemByIndex(that.listView.getElementIndex(current));\n\n                    if (dataItem) {\n                        shouldTrigger = that._value(dataItem) !== List.unifyType(that.value(), typeof that._value(dataItem));\n                    }\n\n                    if (shouldTrigger && that.trigger(\"select\", { dataItem: dataItem, item: current })) {\n                        return;\n                    }\n\n                    that._userTriggered = true;\n\n                    that._select(current).done(function() {\n                        that._blur();\n                        that._valueBeforeCascade = that._old = that.value();\n                    });\n                } else {\n                    if (that._syncValueAndText() || that._isSelect) {\n                        if (!that.dataItem() || that.dataItem()[textField] !== that.input.val()) {\n                            that._accessor(that.input.val());\n                        }\n                    }\n\n                    if (that.options.highlightFirst) {\n                        that.listView.value(that.input.val());\n                        that._blur();\n                    } else {\n                        that._oldText = that.text();\n                    }\n                }\n            } else if (key != keys.TAB && !that._move(e) && !isNonPrintableKey && !isFkey && !e.ctrlKey) {\n               that._search();\n            } else if (key === keys.ESC && !that.popup.visible() && that.text()) {\n                that._clearValue();\n            }\n        },\n\n        _placeholder: function(show) {\n            if (placeholderSupported) {\n                return;\n            }\n\n            var that = this,\n                input = that.input,\n                placeholder = that.options.placeholder,\n                value;\n\n            if (placeholder) {\n                value = that.value();\n\n                if (show === undefined) {\n                    show = !value;\n                }\n\n                input.toggleClass(\"k-readonly\", show);\n\n                if (!show) {\n                    if (!value) {\n                        placeholder = \"\";\n                    } else {\n                        return;\n                    }\n                }\n\n                input.val(placeholder);\n\n                if (!placeholder && input[0] === activeElement()) {\n                    caret(input[0], 0, 0);\n                }\n            }\n        },\n\n        _search: function() {\n            var that = this;\n\n            clearTimeout(that._typingTimeout);\n\n            that._typingTimeout = setTimeout(function() {\n                var value = that.text();\n\n                if (value !== \"\" && that._prev !== value) {\n                    that._prev = value;\n\n                    if (that.options.filter === \"none\" && that.options.virtual) {\n                        that.listView.select(-1);\n                    }\n\n                    that.search(value);\n\n                    that._toggleCloseVisibility();\n                }\n                else if (value === \"\" && that._prev !== \"\" && that._prev !== undefined) {\n                    that._clearValue();\n                    that._open = true;\n                    that._state = STATE_REBIND;\n                }\n\n                that._typingTimeout = null;\n            }, that.options.delay);\n        },\n\n        _setText: function(text) {\n            this.input.val(text);\n            this._prev = text;\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                wrapper = element.parent();\n\n            if (!wrapper.is(\"span.k-input\")) {\n                wrapper = element.hide().wrap(\"<span />\").parent();\n                wrapper[0].style.cssText = element[0].style.cssText;\n            }\n\n            that.wrapper = wrapper.addClass(\"k-input k-combobox\")\n                .addClass(element[0].className)\n                .removeClass('input-validation-error')\n                .css(\"display\", \"\");\n        },\n\n        _clearSelection: function(parent, isFiltered) {\n            var that = this;\n            var hasValue = parent.value();\n            var custom = hasValue && parent.selectedIndex === -1;\n\n            if (this.selectedIndex == -1 && this.value()) {\n                return;\n            }\n\n            if (isFiltered || !hasValue || custom) {\n                that.options.value = \"\";\n                that.value(\"\");\n            }\n        },\n\n        _preselect: function(value, text) {\n            this.input.val(text);\n            this._accessor(value);\n\n            this._old = this._accessor();\n            this._oldIndex = this.selectedIndex;\n\n            this.listView.setValue(value);\n            this._placeholder();\n\n            this._initialIndex = null;\n            this._presetValue = true;\n            this._toggleCloseVisibility();\n        },\n\n        _clearText: function() {\n            this._old = this.value();\n            this.text(\"\");\n        },\n\n        _clearValue: function() {\n            Select.fn._clearValue.call(this);\n            this.input.trigger(\"focus\");\n        }\n    });\n\n    ui.plugin(ComboBox);\n\n    kendo.cssProperties.registerPrefix(\"ComboBox\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"ComboBox\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.html.chip',[\n        \"kendo.html.base\"\n    ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"html.chip\",\n    name: \"Html.Chip\",\n    category: \"web\",\n    description: \"HTML rendering utility for Kendo UI for jQuery.\",\n    depends: [ \"html.base\" ],\n    features: []\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        HTMLBase = kendo.html.HTMLBase;\n\n    var renderChip = function(element, options) {\n        if (!element || $.isPlainObject(element)) {\n            options = element;\n            element = $(\"<span></span>\");\n        }\n\n        return (new HTMLChip(element, options)).html();\n    };\n\n    var HTMLChip = HTMLBase.extend({\n        init: function(element, options) {\n            var that = this;\n            HTMLBase.fn.init.call(that, element, options);\n            that._wrapper();\n        },\n        options: {\n            name: \"HTMLChip\",\n            size: \"medium\",\n            rounded: \"medium\",\n            fillMode: \"solid\",\n            themeColor: \"base\",\n            attr: {},\n            icon: \"\",\n            iconAttr: {},\n            removable: false,\n            removableAttr: {},\n            removeIcon: \"x-circle\",\n            content: \"\",\n            text: \"\",\n            stylingOptions: [ \"size\", \"rounded\", \"fillMode\", \"themeColor\" ]\n        },\n        _wrapper: function() {\n            var that = this,\n                options = that.options;\n\n            that.wrapper = that.element.wrap(\"<span class='k-chip'></span>\").parent().attr(options.attr);\n            that._addClasses();\n\n            if (options.icon) {\n                that.wrapper.prepend($(\"<span class='k-chip-icon k-icon k-i-\" + options.icon + \"'></span>\").attr(options.iconAttr));\n            }\n\n            that.element.addClass(\"k-chip-content\");\n            if (options.text) {\n                that.element.html('<span class=\"k-chip-label\">' + options.text + '</span>');\n            }\n\n            if (options.removable) {\n                that.wrapper.append($(\"<span class='k-chip-action k-chip-remove-action'><span class='k-icon k-i-\" + options.removeIcon + \"'></span></span>\").attr(options.removableAttr));\n            }\n        }\n    });\n\n    $.extend(kendo.html, {\n        renderChip: renderChip,\n        HTMLChip: HTMLChip\n    });\n\n    kendo.cssProperties.registerPrefix(\"HTMLChip\", \"k-chip-\");\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.html.chiplist',[\n        \"kendo.html.base\"\n    ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"html.chiplist\",\n    name: \"Html.ChipList\",\n    category: \"web\",\n    description: \"HTML rendering utility for Kendo UI for jQuery.\",\n    depends: [ \"html.base\" ],\n    features: []\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        HTMLBase = kendo.html.HTMLBase;\n\n    var renderChipList = function(element, options) {\n        if (arguments[0] === undefined || $.isPlainObject(arguments[0])) {\n            options = element;\n            element = $(\"<div></div>\");\n        }\n\n        return (new HTMLChipList(element, options)).html();\n    };\n\n    var HTMLChipList = HTMLBase.extend({\n        init: function(element, options) {\n            var that = this;\n            HTMLBase.fn.init.call(that, element, options);\n            that.wrapper = that.element.addClass(\"k-chip-list\");\n            that._addClasses();\n        },\n        options: {\n            name: \"HTMLChipList\",\n            size: \"medium\",\n            stylingOptions: [ \"size\" ]\n        }\n    });\n\n    $.extend(kendo.html, {\n        renderChipList: renderChipList,\n        HTMLChipList: HTMLChipList\n    });\n\n    kendo.cssProperties.registerPrefix(\"HTMLChipList\", \"k-chip-list-\");\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.multiselect',[ \"kendo.list\", \"kendo.mobile.scroller\", \"kendo.virtuallist\", \"kendo.html.chip\", \"kendo.html.chiplist\", \"kendo.html.button\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"multiselect\",\n    name: \"MultiSelect\",\n    category: \"web\",\n    description: \"The MultiSelect widget allows the selection from pre-defined values.\",\n    depends: [ \"list\", \"html.chip\", \"html.chiplist\", \"html.button\" ],\n    features: [ {\n        id: \"mobile-scroller\",\n        name: \"Mobile scroller\",\n        description: \"Support for kinetic scrolling in mobile device\",\n        depends: [ \"mobile.scroller\" ]\n    }, {\n        id: \"virtualization\",\n        name: \"VirtualList\",\n        description: \"Support for virtualization\",\n        depends: [ \"virtuallist\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        List = ui.List,\n        html = kendo.html,\n        keys = $.extend({ A: 65 }, kendo.keys),\n        activeElement = kendo._activeElement,\n        ObservableArray = kendo.data.ObservableArray,\n        ID = \"id\",\n        CHIP = \".k-chip\",\n        ACCEPT = \"accept\",\n        FILTER = \"filter\",\n        REBIND = \"rebind\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        CHANGE = \"change\",\n        PROGRESS = \"progress\",\n        SELECT = \"select\",\n        DESELECT = \"deselect\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_READONLY = \"aria-readonly\",\n        ARIA_EXPANDED = \"aria-expanded\",\n        ARIA_HIDDEN = \"aria-hidden\",\n        ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n        ARIA_BUSY = \"aria-busy\",\n        FOCUSEDCLASS = \"k-focus\",\n        SELECTEDCLASS = \"k-selected\",\n        HIDDENCLASS = \"k-hidden\",\n        HOVERCLASS = \"k-hover\",\n        STATEDISABLED = \"k-disabled\",\n        NOCLICKCLASS = \"k-no-click\",\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        AUTOCOMPLETEVALUE = \"off\",\n        ns = \".kendoMultiSelect\",\n        CLICK = \"click\" + ns,\n        KEYDOWN = \"keydown\" + ns,\n        MOUSEENTER = \"mouseenter\" + ns,\n        MOUSELEAVE = \"mouseleave\" + ns,\n        HOVEREVENTS = MOUSEENTER + \" \" + MOUSELEAVE,\n        quotRegExp = /\"/g,\n        isArray = Array.isArray,\n        styles = [\"font-family\",\n                  \"font-size\",\n                  \"font-stretch\",\n                  \"font-style\",\n                  \"font-weight\",\n                  \"letter-spacing\",\n                  \"text-transform\",\n                  \"line-height\"];\n\n    var MultiSelect = List.extend({\n        init: function(element, options) {\n            var that = this, id, disabled;\n\n            that.ns = ns;\n            List.fn.init.call(that, element, options);\n\n            that._optionsMap = {};\n            that._customOptions = {};\n\n            that._wrapper();\n            that._tagList();\n            that._input();\n            that._textContainer();\n            that._loader();\n            that._clearButton();\n            that._arrowButton();\n\n            that._tabindex(that.input);\n\n            element = that.element.attr(\"multiple\", \"multiple\").hide();\n            options = that.options;\n\n            if (!options.placeholder) {\n                options.placeholder = element.data(\"placeholder\");\n            }\n\n            id = element.attr(ID);\n\n            if (!id) {\n                id = kendo.guid();\n            }\n\n            if (id) {\n                that._tagID = id + \"_tag_active\";\n                id = id + \"_taglist\";\n                that.tagList.attr(ID, id);\n            }\n\n            that._initialOpen = true;\n            that._aria();\n            that._dataSource();\n            that._ignoreCase();\n            that._popup();\n\n            that._tagTemplate();\n            that.requireValueMapper(that.options);\n            that._initList();\n\n            that._reset();\n            that._enable();\n            that._placeholder();\n\n            if (options.autoBind) {\n                that.dataSource.fetch();\n            } else if (options.value) {\n                that._preselect(options.value);\n            }\n\n            disabled = $(that.element).parents(\"fieldset\").is(':disabled');\n\n            if (disabled) {\n                that.enable(false);\n            }\n\n            kendo.notify(that);\n            that._toggleCloseVisibility();\n            that._applyCssClasses();\n        },\n\n        options: {\n            name: \"MultiSelect\",\n            tagMode: \"multiple\",\n            enabled: true,\n            autoBind: true,\n            autoClose: true,\n            highlightFirst: true,\n            dataTextField: \"\",\n            dataValueField: \"\",\n            filter: \"startswith\",\n            ignoreCase: true,\n            minLength: 1,\n            messages: {\n                \"singleTag\": \"item(s) selected\",\n                \"clear\": \"clear\",\n                \"deleteTag\": \"delete\",\n                \"noData\": \"No data found.\",\n                \"downArrow\": \"select\"\n            },\n            enforceMinLength: false,\n            delay: 100,\n            value: null,\n            maxSelectedItems: null,\n            placeholder: \"\",\n            height: 200,\n            animation: {},\n            virtual: false,\n            itemTemplate: \"\",\n            tagTemplate: \"\",\n            groupTemplate: \"#:data#\",\n            fixedGroupTemplate: \"#:data#\",\n            clearButton: true,\n            autoWidth: false,\n            popup: null,\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        events: [\n            OPEN,\n            CLOSE,\n            CHANGE,\n            SELECT,\n            DESELECT,\n            \"filtering\",\n            \"dataBinding\",\n            \"dataBound\"\n        ],\n\n        setDataSource: function(dataSource) {\n            this.options.dataSource = dataSource;\n\n            this._state = \"\";\n            this._dataSource();\n\n            this.persistTagList = false;\n            this.listView.setDataSource(this.dataSource);\n\n            if (this.options.autoBind) {\n                this.dataSource.fetch();\n            }\n        },\n\n        setOptions: function(options) {\n            var listOptions = this._listOptions(options);\n\n            List.fn.setOptions.call(this, options);\n\n            this.listView.setOptions(listOptions);\n\n\n            this._accessors();\n            this._aria();\n            this._tagTemplate();\n            this._placeholder();\n            this._clearButton();\n            this._arrowButton();\n        },\n\n        currentTag: function(candidate) {\n            var that = this;\n\n            if (candidate !== undefined) {\n                if (that._currentTag) {\n                    that._currentTag\n                        .removeClass(FOCUSEDCLASS)\n                        .removeAttr(ID);\n\n                    that._currentTag.find(\".k-chip-action\").attr(ARIA_HIDDEN, true);\n\n                    that.input.removeAttr(ARIA_ACTIVEDESCENDANT);\n                }\n\n                if (candidate) {\n                    candidate.addClass(FOCUSEDCLASS).attr(ID, that._tagID);\n\n                    candidate.find(\".k-chip-action\").removeAttr(ARIA_HIDDEN);\n\n                    that.input.attr(ARIA_ACTIVEDESCENDANT, that._tagID);\n                }\n\n                that._currentTag = candidate;\n            } else {\n                return that._currentTag;\n            }\n        },\n\n        dataItems: function() {\n            return this.listView.selectedDataItems();\n        },\n\n        destroy: function() {\n            var that = this,\n                ns = that.ns;\n\n            clearTimeout(that._busy);\n            clearTimeout(that._typingTimeout);\n\n            that.wrapper.off(ns);\n            that.tagList.off(ns);\n            that.input.off(ns);\n            that._clear.off(ns);\n\n            List.fn.destroy.call(that);\n        },\n\n        _aria: function() {\n            var that = this,\n                id = that.ul[0].id,\n                autocomplete = this.options.filter === \"none\" ? \"none\" : \"list\",\n                tagListId = that.tagList.attr(ID);\n\n            that.input.attr({\n                \"role\": \"combobox\",\n                \"aria-expanded\": false,\n                \"aria-controls\": id,\n                \"aria-autocomplete\": autocomplete,\n                \"aria-describedby\": tagListId\n            });\n\n            that._ariaLabel(that._focused);\n        },\n\n        _activateItem: function() {\n            if (this.popup.visible()) {\n                List.fn._activateItem.call(this);\n            }\n            this.currentTag(null);\n        },\n\n        _listOptions: function(options) {\n            var that = this;\n            var listOptions = List.fn._listOptions.call(that, $.extend(options, {\n                selectedItemChange: that._selectedItemChange.bind(that),\n                selectable: \"multiple\"\n            }));\n\n            var itemTemplate = this.options.itemTemplate || this.options.template;\n            var template = listOptions.itemTemplate || itemTemplate || listOptions.template;\n\n            if (!template) {\n                template = \"#:\" + kendo.expr(listOptions.dataTextField, \"data\") + \"#\";\n            }\n\n            listOptions.template = template;\n\n            return listOptions;\n        },\n\n        _setListValue: function() {\n            List.fn._setListValue.call(this, this._initialValues.slice(0));\n        },\n\n        _listChange: function(e) {\n            var data = this.dataSource.flatView();\n            var optionsMap = this._optionsMap;\n            var valueGetter = this._value;\n\n            if (this._state === REBIND) {\n                this._state = \"\";\n            }\n\n            for (var i = 0; i < e.added.length; i++) {\n                if (optionsMap[valueGetter(e.added[i].dataItem)] === undefined) {\n                    this._render(data); //render select element <option> tags if the item does not persist in the current data view\n                    break;\n                }\n            }\n\n            this._selectValue(e.added, e.removed);\n        },\n\n        _selectedItemChange: function(e) {\n            var items = e.items;\n            var context;\n            var idx;\n\n            for (idx = 0; idx < items.length; idx++) {\n                context = items[idx];\n                this.tagList.children(CHIP).eq(context.index).children(\"span\").first().html(this.tagTextTemplate(context.item));\n            }\n        },\n\n        _wrapperMousedown: function(e) {\n            var that = this;\n            var notInput = e.target.nodeName.toLowerCase() !== \"input\";\n            var target = $(e.target);\n            var closeButton = target.closest(\".k-multiselect-toggle-button, .k-chip\").children(\".k-i-arrow-s\")[0];\n            var removeButton = target.closest(\".k-i-x, .k-i-x-circle\")[0];\n\n            if (notInput && !(removeButton && kendo.support.mobileOS) && e.cancelable) {\n                e.preventDefault();\n            }\n\n            if (!removeButton) {\n                if (closeButton && that.popup.visible()) {\n                    that.toggle(false);\n                } else {\n                    if (that.input[0] !== activeElement() && notInput) {\n                        that.input.trigger(\"focus\");\n                    }\n\n                    if (that.options.minLength === 1 && !that.popup.visible()) {\n                        that.open();\n                    }\n                }\n            }\n\n        },\n\n        _inputFocus: function() {\n            this._placeholder(false, true);\n            this.wrapper.addClass(FOCUSEDCLASS);\n        },\n\n        _inputFocusout: function() {\n            var that = this;\n\n            clearTimeout(that._typingTimeout);\n\n            that.wrapper.removeClass(FOCUSEDCLASS);\n\n            that._placeholder(!that.listView.selectedDataItems()[0], true);\n            that.close();\n\n            if (that._state === FILTER) {\n                that._state = ACCEPT;\n                that.listView.skipUpdate(true);\n            }\n\n            if (that.listView.bound() && that.listView.isFiltered()) {\n                that.persistTagList = true;\n                that._clearFilter();\n            }\n\n            that.element.trigger(\"blur\");\n        },\n\n        _removeTag: function(tag, shouldTrigger) {\n            var that = this;\n            var state = that._state;\n            var position = tag.index();\n            var listView = that.listView;\n            var value = listView.value()[position];\n            var dataItem = that.listView.selectedDataItems()[position];\n            var customIndex = that._customOptions[value];\n            var listViewChildren = listView.element[0].children;\n            var option;\n            var listViewChild;\n\n            if (that.trigger(DESELECT, { dataItem: dataItem, item: tag })) {\n                that._close();\n                return;\n            }\n\n            if (customIndex === undefined && (state === ACCEPT || state === FILTER)) {\n                customIndex = that._optionsMap[value];\n            }\n\n            var done = function() {\n                that.currentTag(null);\n                if (shouldTrigger) {\n                    that._change();\n                }\n                that._close();\n            };\n\n            if (customIndex === undefined && listView.select().length) {\n                that.persistTagList = false;\n                listView.select(listView.select()[position]).done(done);\n            } else {\n                option = that.element[0].children[customIndex];\n                if (option) {\n                    option.selected = false;\n                }\n\n                listView.removeAt(position);\n\n                if (listView._removedAddedIndexes) {\n                    listView._removedAddedIndexes.splice(position, 1);\n                }\n\n                listViewChild = listViewChildren[customIndex];\n                if (listViewChild) {\n                    listViewChildren[customIndex].classList.remove(\"k-selected\");\n                }\n                if (that.options.tagMode !== \"single\") {\n                    tag.remove();\n                } else {\n                    that._updateTagListHTML();\n                }\n                done();\n            }\n        },\n\n        _tagListClick: function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            var target = $(e.currentTarget);\n\n            if (target.is(\".k-i-x-circle\")) {\n                this._removeTag(target.closest(CHIP), true);\n            }\n        },\n\n        _clearValue: function() {\n            var that = this;\n\n            if (that.options.tagMode === \"single\") {\n                that._clearSingleTagValue();\n            } else {\n                that.tagList.children(CHIP).each(function(index, tag) {\n                    that._removeTag($(tag), false);\n                });\n            }\n\n            that.input.val(\"\");\n            that._search();\n            that._change();\n            that.focus();\n            that._hideClear();\n\n            if (that._state === FILTER) {\n                that._state = ACCEPT;\n            }\n        },\n\n        _clearSingleTagValue: function() {\n            var that = this;\n            var items = that.dataItems();\n            var tags = that.tagList.children(CHIP);\n            var persistTagList = that.persistTagList;\n\n            for (var i = 0; i < items.length; i += 1) {\n                if (that.trigger(DESELECT, { dataItem: items[i], item: tags.first() })) {\n                    that._close();\n                    return;\n                }\n            }\n\n            if (persistTagList) {\n                that.persistTagList = false;\n            }\n\n            that.listView.value([]);\n            that.persistTagList = persistTagList;\n        },\n\n        _focusHandler: function() {\n            var input = this.input;\n            var active = activeElement();\n            var isActive = input[0] === active;\n\n            if (!isActive) {\n                this.input.trigger(\"focus\");\n            }\n        },\n\n        _editable: function(options) {\n            var that = this,\n                disable = options.disable,\n                readonly = options.readonly,\n                wrapper = that.wrapper.off(ns),\n                tagList = that.tagList.off(ns),\n                input = that.input.off(ns);\n\n            if (!readonly && !disable) {\n                wrapper\n                    .removeClass(STATEDISABLED)\n                    .removeClass(NOCLICKCLASS)\n                    .on(HOVEREVENTS, that._toggleHover)\n                    .on(\"mousedown\" + ns + \" touchend\" + ns, that._wrapperMousedown.bind(that))\n                    .on(CLICK, that._focusHandler.bind(that));\n\n                that.input.on(KEYDOWN, that._keydown.bind(that))\n                    .on(\"paste\" + ns, that._search.bind(that))\n                    .on(\"input\" + ns, that._search.bind(that))\n                    .on(\"focus\" + ns, that._inputFocus.bind(that))\n                    .on(\"focusout\" + ns, that._inputFocusout.bind(that));\n\n                that._clear.on(CLICK + \" touchend\" + ns, that._clearValue.bind(that));\n\n                input.prop(DISABLED, false)\n                     .prop(READONLY, false)\n                     .attr(ARIA_DISABLED, false)\n                     .attr(ARIA_READONLY, false);\n\n                that.element.prop(DISABLED, false);\n\n                tagList\n                    .on(MOUSEENTER, CHIP, function() { $(this).addClass(HOVERCLASS); })\n                    .on(MOUSELEAVE, CHIP, function() { $(this).removeClass(HOVERCLASS); })\n                    .on(CLICK + \" touchend\" + ns, \".k-chip .k-icon\", that._tagListClick.bind(that));\n            } else {\n\n                wrapper.toggleClass(STATEDISABLED, disable)\n                       .toggleClass(NOCLICKCLASS, readonly);\n\n                input.attr(DISABLED, disable)\n                     .attr(READONLY, readonly)\n                     .attr(ARIA_DISABLED, disable)\n                     .attr(ARIA_READONLY, readonly);\n\n                that.element.prop(DISABLED, disable);\n            }\n        },\n\n        _close: function() {\n            var that = this;\n            if (that.options.autoClose) {\n                that.close();\n            } else {\n                that.popup.position();\n            }\n        },\n\n        _filterSource: function(filter, force) {\n            if (!force) {\n                force = this._retrieveData;\n            }\n            this._retrieveData = false;\n            List.fn._filterSource.call(this, filter, force);\n        },\n\n        close: function() {\n            this._activeItem = null;\n            this.input.removeAttr(ARIA_ACTIVEDESCENDANT);\n\n            this.popup.close();\n        },\n\n        open: function() {\n            var that = this,\n                filterValue = that.input.val().toLowerCase(),\n                listViewFilter = that.listView.dataSource.filter(),\n                listViewFilterValue;\n\n            if (listViewFilter && listViewFilter.filters.length > 0) {\n                listViewFilterValue = (listViewFilter.filters[0].value || \"\").toString().toLowerCase();\n            }\n\n            if (that._request) {\n                that._retrieveData = false;\n            }\n\n            if (that._retrieveData || !that.listView.bound() || (that._state === ACCEPT && filterValue !== listViewFilterValue)) {\n                that._open = true;\n                that._state = REBIND;\n\n                that.listView.skipUpdate(true);\n\n                that.persistTagList = that._initialOpen && !that.listView.bound() ? false : true;\n                that._filterSource();\n                that._focusItem();\n            } else if (that._allowOpening()) {\n\n                //selects values in autoBind false and non virtual scenario on initial load\n                if (that._initialOpen && !that.options.autoBind && !that.options.virtual && that.options.value && !$.isPlainObject(that.options.value[0])) {\n                    that.value(that.value() || that._initialValues);\n                }\n\n                // In some cases when the popup is opened resize is triggered which will cause it to close\n                // Setting the below flag will prevent this from happening\n                that.popup._hovered = true;\n                that._initialOpen = false;\n                that.popup.open();\n                that._focusItem();\n            }\n        },\n\n        toggle: function(toggle) {\n            toggle = toggle !== undefined ? toggle : !this.popup.visible();\n\n            this[toggle ? OPEN : CLOSE]();\n        },\n\n        refresh: function() {\n            this.listView.refresh();\n        },\n\n        _listBound: function() {\n            var that = this;\n            var data = that.dataSource.flatView();\n\n            that._render(data);\n            that._renderFooter();\n            that._renderNoData();\n            that._toggleNoData(!data.length);\n            that._resizePopup();\n\n            if (that._open) {\n                that._open = false;\n                that.toggle(that._allowOpening());\n            }\n\n            that.popup.position();\n            that._updateItemFocus();\n\n            if (that._touchScroller) {\n                that._touchScroller.reset();\n            }\n\n            that._hideBusy();\n\n            that.trigger(\"dataBound\");\n        },\n\n        _updateItemFocus: function() {\n            var that = this,\n                data = that.dataSource.flatView(),\n                skip = that.listView.skip(),\n                isFirstPage = skip === undefined || skip === 0;\n\n            if (data.length && isFirstPage) {\n                if (!that.options.highlightFirst) {\n                    that.listView.focus(-1);\n                } else {\n                    that.listView.focusFirst();\n                }\n            }\n        },\n\n        _inputValue: function() {\n            var that = this;\n            var inputValue = that.input.val();\n\n            if (that.options.placeholder === inputValue) {\n                inputValue = \"\";\n            }\n            return inputValue;\n        },\n\n        value: function(value) {\n            var that = this;\n            var listView = that.listView;\n            var oldValue = listView.value().slice();\n            var maxSelectedItems = that.options.maxSelectedItems;\n            var clearFilters = listView.bound() && listView.isFiltered();\n\n            if (value === undefined) {\n                return oldValue;\n            }\n\n            that.persistTagList = false;\n            that.requireValueMapper(that.options, value);\n\n            value = that._normalizeValues(value);\n\n            if (maxSelectedItems !== null && value.length > maxSelectedItems) {\n                value = value.slice(0, maxSelectedItems);\n            }\n\n            if (clearFilters) {\n                that._clearFilter();\n            }\n\n            listView.value(value);\n            that._old = that._valueBeforeCascade = value.slice(); //get a new array reference\n\n            if (!clearFilters) {\n                that._fetchData();\n            }\n\n            that._toggleCloseVisibility();\n        },\n\n        _preselect: function(data, value) {\n            var that = this;\n\n            if (!isArray(data) && !(data instanceof kendo.data.ObservableArray)) {\n                data = [data];\n            }\n\n            if ($.isPlainObject(data[0]) || data[0] instanceof kendo.data.ObservableObject || !that.options.dataValueField) {\n                that.dataSource.data(data);\n                that.value(value || that._initialValues);\n                that._retrieveData = true;\n            }\n        },\n\n        _setOption: function(value, selected) {\n            var option = this.element[0].children[this._optionsMap[value]];\n\n            if (option) {\n                option.selected = selected;\n            }\n        },\n\n        _fetchData: function() {\n            var that = this;\n            var hasItems = !!that.dataSource.view().length;\n            var isEmptyArray = that.listView.value().length === 0;\n\n            if (isEmptyArray || that._request) {\n                return;\n            }\n\n            if (that._retrieveData || (!that._fetch && !hasItems)) {\n                that._fetch = true;\n                that._retrieveData = false;\n                that.dataSource.read().done(function() {\n                    that._fetch = false;\n                });\n            }\n        },\n\n        _isBound: function() {\n            return this.listView.bound() && !this._retrieveData;\n        },\n\n        _dataSource: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                dataSource = options.dataSource || {};\n\n            dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n\n            dataSource.select = element;\n            dataSource.fields = [{ field: options.dataTextField },\n                                 { field: options.dataValueField }];\n\n            if (that.dataSource && that._refreshHandler) {\n                that._unbindDataSource();\n            } else {\n                that._progressHandler = that._showBusy.bind(that);\n                that._errorHandler = that._hideBusy.bind(that);\n            }\n\n            that.dataSource = kendo.data.DataSource.create(dataSource)\n                                   .bind(PROGRESS, that._progressHandler)\n                                   .bind(\"error\", that._errorHandler);\n        },\n\n        _reset: function() {\n            var that = this,\n                element = that.element,\n                formId = element.attr(\"form\"),\n                form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    setTimeout(function() {\n                        that.value(that._initialValues);\n                        that._placeholder();\n                    });\n                };\n\n                that._form = form.on(\"reset\", that._resetHandler);\n            }\n        },\n\n        _initValue: function() {\n            var value = this.options.value || this.element.val();\n\n            this._old = this._initialValues = this._normalizeValues(value);\n        },\n\n        _normalizeValues: function(value) {\n            var that = this;\n\n            if (value === null) {\n                value = [];\n            } else if (value && $.isPlainObject(value)) {\n                value = [that._value(value)];\n            } else if (value && $.isPlainObject(value[0])) {\n                value = $.map(value, function(dataItem) { return that._value(dataItem); });\n            } else if (!isArray(value) && !(value instanceof ObservableArray)) {\n                value = [value];\n            } else if (isArray(value)) {\n                value = value.slice();\n            }\n\n            return value;\n        },\n\n        _change: function() {\n            var that = this,\n                value = that.value();\n\n            if (!compare(value, that._old)) {\n                that._old = value.slice();\n\n                that.trigger(CHANGE);\n\n                // trigger the DOM change event so any subscriber gets notified\n                that.element.trigger(CHANGE);\n            }\n            that.popup.position();\n\n            that._toggleCloseVisibility();\n        },\n\n        _click: function(e) {\n            var that = this;\n            var item = e.item;\n\n            e.preventDefault();\n\n            that._select(item).done(function() {\n                that._activeItem = item;\n                that._change();\n                that._close();\n            });\n        },\n\n        _getActiveItem: function() {\n            return this._activeItem || $(this.listView.items()[this._getSelectedIndices().length - 1]) || this.listView.focus();\n        },\n\n        _getSelectedIndices: function() {\n            return this.listView._selectedIndices || this.listView._selectedIndexes;\n        },\n\n        _keydown: function(e) {\n            var that = this;\n            var key = e.keyCode;\n            var tag = that._currentTag;\n            var listView = that.listView;\n            var hasValue = that.input.val();\n            var isRtl = kendo.support.isRtl(that.wrapper);\n            var visible = that.popup.visible();\n            var dir = 0;\n            var activeItemIdx;\n\n            if (key !== keys.ENTER) {\n                this._multipleSelection = false;\n            }\n\n            if (key === keys.DOWN) {\n                e.preventDefault();\n\n                if (!visible) {\n                    that.open();\n\n                    if (!listView.focus()) {\n                        listView.focusFirst();\n                    }\n                    return;\n                }\n\n                if (listView.focus()) {\n                    if (!that._activeItem && e.shiftKey) {\n                        that._activeItem = listView.focus();\n                        dir = -1;\n                    }\n                    activeItemIdx = listView.getElementIndex(that._getActiveItem().first());\n\n                    listView.focusNext();\n                    if (!listView.focus()) {\n                        listView.focusLast();\n                    } else {\n                        if (e.shiftKey && !that.options.virtual) {\n                            this._multipleSelection = true;\n                            that._selectRange(activeItemIdx, listView.getElementIndex(listView.focus().first()) + dir);\n                        }\n                    }\n                } else {\n                    listView.focusFirst();\n                }\n\n            } else if (key === keys.UP) {\n                if (visible) {\n                    if (!that._activeItem && e.shiftKey) {\n                        that._activeItem = listView.focus();\n                        dir = 1;\n                    }\n                    activeItemIdx = listView.getElementIndex(that._getActiveItem().first());\n                    listView.focusPrev();\n                    if (!listView.focus()) {\n                        that.close();\n                    } else {\n                        if (e.shiftKey && !that.options.virtual) {\n                            this._multipleSelection = true;\n                            that._selectRange(activeItemIdx, listView.getElementIndex(listView.focus().first()) + dir);\n                        }\n                    }\n                }\n                e.preventDefault();\n            } else if ((key === keys.LEFT && !isRtl) || (key === keys.RIGHT && isRtl)) {\n                if (!hasValue) {\n                    tag = tag ? tag.prev(CHIP) : that.tagList.children(CHIP).last();\n                    if (tag[0]) {\n                        that.currentTag(tag);\n                    }\n                }\n            } else if ((key === keys.RIGHT && !isRtl) || (key === keys.LEFT && isRtl)) {\n                if (!hasValue && tag) {\n                    tag = tag.next(CHIP);\n                    that.currentTag(tag[0] ? tag : null);\n                }\n            } else if (e.ctrlKey && !e.altKey && key === keys.A && visible && !that.options.virtual) {\n                this._multipleSelection = true;\n                if (this._getSelectedIndices().length === listView.items().length) {\n                    that._activeItem = null;\n                }\n\n                if (listView.items().length) {\n                    that._selectRange(0, listView.items().length - 1);\n                }\n            } else if (key === keys.ENTER && visible) {\n                if (!listView.focus()) {\n                    return;\n                }\n\n                e.preventDefault();\n\n                if (this._multipleSelection) {\n                    this._multipleSelection = false;\n                     if (listView.focus().hasClass(SELECTEDCLASS)) {\n                        that._close();\n                        return;\n                    }\n                }\n\n                that._select(listView.focus()).done(function() {\n                    that._change();\n                    that._close();\n                });\n            } else if (key === keys.SPACEBAR && e.ctrlKey && visible) {\n                if (that._activeItem && listView.focus() && listView.focus()[0] === that._activeItem[0]) {\n                    that._activeItem = null;\n                }\n                if (!$(listView.focus()).hasClass(SELECTEDCLASS)) {\n                    that._activeItem = listView.focus();\n                }\n                that._select(listView.focus()).done(function() {\n                    that._change();\n                });\n                e.preventDefault();\n            } else if (key === keys.SPACEBAR && e.shiftKey && visible && !that.options.virtual) {\n                var activeIndex = listView.getElementIndex(that._getActiveItem());\n                var currentIndex = listView.getElementIndex(listView.focus());\n\n                if (activeIndex !== undefined && currentIndex !== undefined) {\n                    that._selectRange(activeIndex, currentIndex);\n                }\n\n                e.preventDefault();\n            } else if (key === keys.ESC) {\n                if (visible) {\n                    e.preventDefault();\n                } else {\n                    that.tagList.children(CHIP).each(function(index, tag) {\n                        that._removeTag($(tag), false);\n                    });\n                    that._change();\n                }\n\n                that.close();\n            } else if (key === keys.HOME) {\n                if (visible) {\n                    if (!listView.focus()) {\n                        that.close();\n                    } else {\n                        if (e.ctrlKey && e.shiftKey && !that.options.virtual) {\n                            that._selectRange(listView.getElementIndex(listView.focus()[0]), 0);\n                        }\n                        listView.focusFirst();\n                    }\n                } else if (!hasValue) {\n                    tag = that.tagList.children(CHIP).first()[0];\n\n                    if (tag) {\n                        that.currentTag($(tag));\n                    }\n                }\n            } else if (key === keys.END) {\n                if (visible) {\n                    if (!listView.focus()) {\n                        that.close();\n                    } else {\n                        if (e.ctrlKey && e.shiftKey && !that.options.virtual) {\n                            that._selectRange(\n                                listView.getElementIndex(listView.focus()[0]),\n                                listView.element.children().length - 1\n                            );\n                        }\n                        listView.focusLast();\n                    }\n                } else if (!hasValue) {\n                    tag = that.tagList.children(CHIP).last()[0];\n\n                    if (tag) {\n                        that.currentTag($(tag));\n                    }\n                }\n            } else if ((key === keys.DELETE || key === keys.BACKSPACE) && !hasValue) {\n                that._state = ACCEPT;\n\n                if (that.options.tagMode === \"single\") {\n                    that._clearSingleTagValue();\n\n                    that._change();\n                    that._close();\n                    return;\n                }\n\n                if (key === keys.BACKSPACE && !tag) {\n                    tag = that.tagList.children(CHIP).last();\n                }\n\n                if (tag && tag[0]) {\n                    that._removeTag(tag, true);\n                }\n            } else if (that.popup.visible() && (key === keys.PAGEDOWN || key === keys.PAGEUP)) {\n                e.preventDefault();\n\n                var direction = key === keys.PAGEDOWN ? 1 : -1;\n                listView.scrollWith(direction * listView.screenHeight());\n            } else {\n                clearTimeout(that._typingTimeout);\n                that._search();\n            }\n        },\n\n        _hideBusy: function() {\n            var that = this;\n            clearTimeout(that._busy);\n            that.input.attr(ARIA_BUSY, false);\n            that._loading.addClass(HIDDENCLASS);\n            that._request = false;\n            that._busy = null;\n\n            that._toggleCloseVisibility();\n        },\n\n        _showBusyHandler: function() {\n            this.input.attr(ARIA_BUSY, true);\n            this._loading.removeClass(HIDDENCLASS);\n            this._hideClear();\n        },\n\n        _showBusy: function() {\n            var that = this;\n\n            that._request = true;\n\n            if (that._busy) {\n                return;\n            }\n\n            that._busy = setTimeout(that._showBusyHandler.bind(that), 100);\n        },\n\n        _placeholder: function(show, skipCaret) {\n            var that = this;\n            var input = that.input;\n            var active = activeElement();\n            var placeholder = that.options.placeholder;\n            var inputValue = input.val();\n            var isActive = input[0] === active;\n            var caretPos = inputValue.length;\n\n            if (!isActive || that.options.autoClose || inputValue === placeholder) {\n                caretPos = 0;\n                inputValue = \"\";\n            }\n\n            if (show === undefined) {\n                show = false;\n                if (input[0] !== active) {\n                    show = !that.listView.selectedDataItems()[0];\n                }\n            }\n\n            that._prev = inputValue;\n            input.toggleClass(\"k-readonly\", show).val(show ? placeholder : inputValue);\n\n            if (isActive && !skipCaret) {\n                kendo.caret(input[0], caretPos, caretPos);\n            }\n        },\n\n        _option: function(dataValue, dataText, selected) {\n            var option = \"<option\";\n\n            if (dataValue !== undefined) {\n                dataValue += \"\";\n\n                if (dataValue.indexOf('\"') !== -1) {\n                    dataValue = dataValue.replace(quotRegExp, \"&quot;\");\n                }\n\n                option += ' value=\"' + dataValue + '\"';\n            }\n\n            if (selected) {\n                option += ' selected';\n            }\n\n            option += \">\";\n\n            if (dataText !== undefined) {\n                option += kendo.htmlEncode(dataText);\n            }\n\n            return option += \"</option>\";\n        },\n\n        _render: function(data) {\n            var selectedItems = this.listView.selectedDataItems();\n            var values = this.listView.value();\n            var length = data.length;\n            var selectedIndex;\n            var options = \"\";\n            var dataItem;\n            var value;\n            var idx;\n\n            if (values.length !== selectedItems.length) {\n                selectedItems = this._buildSelectedItems(values);\n            }\n\n            var custom = {};\n            var optionsMap = {};\n\n            for (idx = 0; idx < length; idx++) {\n                dataItem = data[idx];\n                value = this._value(dataItem);\n\n                selectedIndex = this._selectedItemIndex(value, selectedItems);\n                if (selectedIndex !== -1) {\n                    selectedItems.splice(selectedIndex, 1);\n                }\n\n                optionsMap[value] = idx;\n                options += this._option(value, this._text(dataItem), selectedIndex !== -1);\n            }\n\n            if (selectedItems.length) {\n                for (idx = 0; idx < selectedItems.length; idx++) {\n                    dataItem = selectedItems[idx];\n\n                    value = this._value(dataItem);\n                    custom[value] = length;\n                    optionsMap[value] = length;\n\n                    length += 1;\n                    options += this._option(value, this._text(dataItem), true);\n                }\n            }\n\n            this._customOptions = custom;\n            this._optionsMap = optionsMap;\n\n            this.element.html(options);\n        },\n\n        _buildSelectedItems: function(values) {\n            var valueField = this.options.dataValueField;\n            var textField = this.options.dataTextField;\n            var result = [];\n            var item;\n\n            for (var idx = 0; idx < values.length; idx++) {\n                item = {};\n                item[valueField] = values[idx];\n                item[textField] = values[idx];\n\n                result.push(item);\n            }\n\n            return result;\n        },\n\n        _selectedItemIndex: function(value, selectedItems) {\n            var valueGetter = this._value;\n            var idx = 0;\n\n            for (; idx < selectedItems.length; idx++) {\n                if (value === valueGetter(selectedItems[idx])) {\n                    return idx;\n                }\n            }\n\n            return -1;\n        },\n\n        _search: function() {\n            var that = this;\n\n            clearTimeout(that._typingTimeout);\n\n            that._typingTimeout = setTimeout(function() {\n                var value = that._inputValue();\n                if (that._prev !== value) {\n                    that._prev = value;\n                    that.search(value);\n                    that._toggleCloseVisibility();\n                }\n            }, that.options.delay);\n        },\n\n        _toggleCloseVisibility: function() {\n            if (this.value().length || (this.input.val() && this.input.val() !== this.options.placeholder)) {\n                this._showClear();\n            } else {\n                this._hideClear();\n            }\n        },\n\n        _allowOpening: function() {\n            return this._allowSelection() && List.fn._allowOpening.call(this);\n        },\n\n        _allowSelection: function() {\n            var max = this.options.maxSelectedItems;\n            return max === null || max > this.listView.value().length;\n        },\n\n        _angularTagItems: function(cmd) {\n            var that = this;\n\n            that.angular(cmd, function() {\n                return {\n                    elements: that.tagList[0].children,\n                    data: $.map(that.dataItems(), function(dataItem) {\n                        return { dataItem: dataItem };\n                    })\n                };\n            });\n        },\n\n        updatePersistTagList: function(added, removed) {\n            if (this.persistTagList.added &&\n                this.persistTagList.added.length === removed.length &&\n                this.persistTagList.removed &&\n                this.persistTagList.removed.length === added.length) {\n                    this.persistTagList = false;\n             } else {\n                 this.listView._removedAddedIndexes = this._old.slice();\n                 this.persistTagList = {\n                     added: added,\n                     removed: removed\n                 };\n             }\n        },\n\n        _selectValue: function(added, removed) {\n            var that = this;\n            var total = that.dataSource.total();\n            var tagList = that.tagList;\n            var getter = that._value;\n            var removedItem;\n            var addedItem;\n            var idx;\n\n            if (this.persistTagList) {\n                this.updatePersistTagList(added, removed);\n\n                return;\n            }\n\n            that._angularTagItems(\"cleanup\");\n\n            if (that.options.tagMode === \"multiple\") {\n                for (idx = removed.length - 1; idx > -1; idx--) {\n                    removedItem = removed[idx];\n\n                    if (tagList.children(CHIP).length) {\n                        tagList[0].removeChild(tagList[0].children[removedItem.position]);\n                        that._setOption(getter(removedItem.dataItem), false);\n                    }\n                }\n\n                for (idx = 0; idx < added.length; idx++) {\n                    addedItem = added[idx];\n\n                    that.input.before(that.tagTemplate(addedItem.dataItem));\n\n                    that._setOption(getter(addedItem.dataItem), true);\n                }\n            } else {\n                if (!that._maxTotal || that._maxTotal < total) {\n                    that._maxTotal = total;\n                }\n\n                this._updateTagListHTML();\n\n                for (idx = removed.length - 1; idx > -1; idx--) {\n                    that._setOption(getter(removed[idx].dataItem), false);\n                }\n\n                for (idx = 0; idx < added.length; idx++) {\n                    that._setOption(getter(added[idx].dataItem), true);\n                }\n            }\n\n            that._angularTagItems(\"compile\");\n            that._placeholder();\n        },\n\n        _updateTagListHTML: function() {\n            var that = this;\n            var values = that.value();\n            var total = that.dataSource.total();\n            var tagList = that.tagList;\n\n            tagList.children(CHIP).each(function(index, tag) {\n                $(tag).remove();\n            });\n\n            if (values.length) {\n                that.input.before(that.tagTemplate({\n                    values: values,\n                    dataItems: that.dataItems(),\n                    maxTotal: that._maxTotal,\n                    currentTotal: total\n                }));\n            }\n        },\n\n        _select: function(candidate) {\n            var resolved = $.Deferred().resolve();\n\n            if (!candidate) {\n                return resolved;\n            }\n\n            var that = this;\n            var listView = that.listView;\n            var dataItem = listView.dataItemByIndex(listView.getElementIndex(candidate));\n            var isSelected = candidate.hasClass(\"k-selected\");\n\n            if (that._state === REBIND) {\n                that._state = \"\";\n            }\n\n            if (!that._allowSelection() && !isSelected) {\n                return resolved;\n            }\n\n            if (that.trigger(isSelected ? DESELECT : SELECT, { dataItem: dataItem, item: candidate })) {\n                that._close();\n                return resolved;\n            }\n\n            that.persistTagList = false;\n            return listView.select(candidate).done(function() {\n                that._placeholder();\n\n                if (that._state === FILTER) {\n                    that._state = ACCEPT;\n                    listView.skipUpdate(true);\n                }\n            });\n        },\n\n        _selectRange: function(startIndex, endIndex) {\n            var that = this;\n            var listView = this.listView;\n            var maxSelectedItems = this.options.maxSelectedItems;\n            var indices = this._getSelectedIndices().slice();\n            var indicesToSelect = [];\n            var i;\n\n            var selectIndices = function(indices) {\n                listView.select(indices).done(function() {\n                    indices.forEach(function(index) {\n                        var dataItem = listView.dataItemByIndex(index);\n                        var candidate = listView.element.children()[index];\n                        var isSelected = $(candidate).hasClass(\"k-selected\");\n\n                        that.trigger(isSelected ? SELECT : DESELECT, { dataItem: dataItem, item: $(candidate) });\n                    });\n                    that._change();\n                });\n            };\n\n            if (indices.length - 1 === endIndex - startIndex) {\n                return selectIndices(indices);\n            }\n\n            if (startIndex < endIndex) {\n                for (i = startIndex; i <= endIndex; i++) {\n                    indicesToSelect.push(i);\n                }\n            } else {\n                for (i = startIndex; i >= endIndex; i--) {\n                    indicesToSelect.push(i);\n                }\n            }\n\n            if (maxSelectedItems !== null && indicesToSelect.length > maxSelectedItems) {\n                indicesToSelect = indicesToSelect.slice(0, maxSelectedItems);\n            }\n\n            for (i = 0; i < indicesToSelect.length; i++) {\n                var index = indicesToSelect[i];\n\n                if (this._getSelectedIndices().indexOf(index) == -1) {\n                    indices.push(index);\n                } else {\n                    indices.splice(indices.indexOf(index), 1);\n                }\n            }\n\n            if (!indices.length) {\n                return;\n            }\n\n            that.persistTagList = false;\n            return selectIndices(indices);\n        },\n\n        _input: function() {\n            var that = this;\n            var element = that.element;\n            var accessKey = element[0].accessKey;\n            var input = that.tagList.children(\"input.k-input-inner\");\n\n            if (!input[0]) {\n                input = $('<input class=\"k-input-inner\" />').appendTo(that.tagList);\n            }\n\n            element.removeAttr(\"accesskey\");\n\n            that._focused = that.input = input.attr({\n                \"autocomplete\": AUTOCOMPLETEVALUE,\n                \"title\": element[0].title\n            });\n\n            if (accessKey) {\n                that._focused.attr(\"accesskey\", accessKey);\n            }\n        },\n\n        _tagList: function() {\n            var that = this,\n                options = that.options,\n                tagList = that.wrapper.children(\".k-input-values\");\n\n            if (!tagList[0]) {\n                tagList = $(html.renderChipList('<div unselectable=\"on\" class=\"k-input-values k-selection-multiple\" />', $.extend({}, options))).appendTo(that.wrapper);\n            }\n\n            that.tagList = tagList;\n        },\n\n        _tagTemplate: function() {\n            var that = this;\n            var options = that.options;\n            var tagTemplate = options.tagTemplate;\n            var hasDataSource = options.dataSource;\n            var isMultiple = options.tagMode === \"multiple\";\n            var singleTag = options.messages.singleTag;\n            var defaultTemplate;\n\n            if (that.element[0].length && !hasDataSource) {\n                options.dataTextField = options.dataTextField || \"text\";\n                options.dataValueField = options.dataValueField || \"value\";\n            }\n\n            defaultTemplate = isMultiple ? kendo.template(\"#:\" + kendo.expr(options.dataTextField, \"data\") + \"#\", { useWithBlock: false }) : kendo.template(\"#:values.length# \" + singleTag);\n\n            that.tagTextTemplate = tagTemplate = tagTemplate ? kendo.template(tagTemplate) : defaultTemplate;\n\n            that.tagTemplate = function(data) {\n                return html.renderChip('<span unselectable=\"on\">' +\n                '</span>', $.extend({}, options, {\n                        fillMode: \"solid\",\n                        rounded: \"medium\",\n                        themeColor: \"base\",\n                        text: tagTemplate(data),\n                        attr: {\n                            unselectable: \"on\"\n                        },\n                        removable: isMultiple,\n                        removableAttr: {\n                            unselectable: \"on\",\n                            \"aria-hidden\": true,\n                            \"aria-label\": that.options.messages.deleteTag,\n                            title: that.options.messages.deleteTag\n                        },\n                        icon: !isMultiple ? \"arrow-s\" : \"\",\n                        iconAttr: {\n                            unselectable: \"on\",\n                            \"aria-hidden\": true,\n                            \"aria-label\": 'open'\n                        }\n                    })\n                );\n            };\n        },\n\n        _loader: function() {\n            this._loading = $('<span class=\"k-icon k-i-loading k-input-loading-icon ' + HIDDENCLASS + '\"></span>').insertAfter(this.tagList);\n        },\n\n        _clearButton: function() {\n            List.fn._clearButton.call(this);\n\n            if (this.options.clearButton) {\n                this._clear.insertAfter(this.tagList);\n                this.wrapper.addClass(\"k-multiselect-clearable\");\n            }\n        },\n\n        _arrowButton: function() {\n            var arrowTitle = this.options.messages.downArrow,\n                arrow = $(html.renderButton('<button type=\"button\" aria-label=\"' + arrowTitle + '\" class=\"k-input-button k-multiselect-toggle-button\"></button>', $.extend({}, this.options, {\n                    icon: \"arrow-s\"\n                })));\n\n            if (this._arrow) {\n                this._arrow.remove();\n                this._arrow = null;\n            }\n\n            if (this.options.downArrow) {\n                this._arrow = arrow.attr({\n                    \"tabIndex\": -1\n                });\n\n                this._arrow.appendTo(this.wrapper);\n            }\n        },\n\n        _textContainer: function() {\n            var computedStyles = kendo.getComputedStyles(this.input[0], styles);\n\n            computedStyles.position = \"absolute\";\n            computedStyles.visibility = \"hidden\";\n            computedStyles.top = -3333;\n            computedStyles.left = -3333;\n\n            this._span = $(\"<span/>\").css(computedStyles).appendTo(this.wrapper);\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                wrapper = element.parent(\"span.k-multiselect\");\n\n            if (!wrapper[0]) {\n                wrapper = element.wrap('<span class=\"k-multiselect k-input\" unselectable=\"on\" />').parent();\n                wrapper[0].style.cssText = element[0].style.cssText;\n            }\n\n            that.wrapper = wrapper\n                            .addClass(element[0].className)\n                            .removeClass('input-validation-error').css(\"display\", \"\");\n        },\n\n        _closeHandler: function(e) {\n            if (this.trigger(CLOSE)) {\n                e.preventDefault();\n            } else {\n                this.input.attr(ARIA_EXPANDED, false);\n                this.ul.attr(ARIA_HIDDEN, true);\n            }\n        },\n\n        _openHandler: function(e) {\n            this._adjustListWidth();\n\n            if (this.trigger(OPEN)) {\n                e.preventDefault();\n            } else {\n                this.input.attr(ARIA_EXPANDED, true);\n                this.ul.attr(ARIA_HIDDEN, false);\n            }\n        }\n    });\n\n    function compare(a, b) {\n        var length;\n\n        if ((a === null && b !== null) || (a !== null && b === null)) {\n            return false;\n        }\n\n        length = a.length;\n        if (length !== b.length) {\n            return false;\n        }\n\n        while (length--) {\n            if (a[length] !== b[length]) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    ui.plugin(MultiSelect);\n\n    kendo.cssProperties.registerPrefix(\"MultiSelect\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"MultiSelect\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n/***********************************************************************\n * WARNING: this file is auto-generated.  If you change it directly,\n * your modifications will eventually be lost.  The source code is in\n * `kendo-drawing` repository, you should make your changes there and\n * run `src-modules/sync.sh` in this repository.\n */\n(function(f, define) {\n    define('kendo.color',[ \"kendo.core\" ], f);\n})(function() {\n/* eslint-disable space-before-blocks, space-before-function-paren, no-multi-spaces */\n\n    var __meta__ = {\n        id: \"color\",\n        name: \"Color utils\",\n        category: \"framework\",\n        advanced: true,\n        description: \"Color utilities used across components\",\n        depends: [ \"core\" ]\n    };\n\nwindow.kendo = window.kendo || {};\n\nvar Class = kendo.Class;\nvar support = kendo.support;\n\nvar namedColors = {\n    aliceblue: \"f0f8ff\", antiquewhite: \"faebd7\", aqua: \"00ffff\",\n    aquamarine: \"7fffd4\", azure: \"f0ffff\", beige: \"f5f5dc\",\n    bisque: \"ffe4c4\", black: \"000000\", blanchedalmond: \"ffebcd\",\n    blue: \"0000ff\", blueviolet: \"8a2be2\", brown: \"a52a2a\",\n    burlywood: \"deb887\", cadetblue: \"5f9ea0\", chartreuse: \"7fff00\",\n    chocolate: \"d2691e\", coral: \"ff7f50\", cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\", crimson: \"dc143c\", cyan: \"00ffff\",\n    darkblue: \"00008b\", darkcyan: \"008b8b\", darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\", darkgrey: \"a9a9a9\", darkgreen: \"006400\",\n    darkkhaki: \"bdb76b\", darkmagenta: \"8b008b\", darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\", darkorchid: \"9932cc\", darkred: \"8b0000\",\n    darksalmon: \"e9967a\", darkseagreen: \"8fbc8f\", darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\", darkslategrey: \"2f4f4f\", darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\", deeppink: \"ff1493\", deepskyblue: \"00bfff\",\n    dimgray: \"696969\", dimgrey: \"696969\", dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\", floralwhite: \"fffaf0\", forestgreen: \"228b22\",\n    fuchsia: \"ff00ff\", gainsboro: \"dcdcdc\", ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\", goldenrod: \"daa520\", gray: \"808080\",\n    grey: \"808080\", green: \"008000\", greenyellow: \"adff2f\",\n    honeydew: \"f0fff0\", hotpink: \"ff69b4\", indianred: \"cd5c5c\",\n    indigo: \"4b0082\", ivory: \"fffff0\", khaki: \"f0e68c\",\n    lavender: \"e6e6fa\", lavenderblush: \"fff0f5\", lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\", lightblue: \"add8e6\", lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\", lightgoldenrodyellow: \"fafad2\", lightgray: \"d3d3d3\",\n    lightgrey: \"d3d3d3\", lightgreen: \"90ee90\", lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\", lightseagreen: \"20b2aa\", lightskyblue: \"87cefa\",\n    lightslategray: \"778899\", lightslategrey: \"778899\", lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\", lime: \"00ff00\", limegreen: \"32cd32\",\n    linen: \"faf0e6\", magenta: \"ff00ff\", maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\", mediumblue: \"0000cd\", mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370d8\", mediumseagreen: \"3cb371\", mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\", mediumturquoise: \"48d1cc\", mediumvioletred: \"c71585\",\n    midnightblue: \"191970\", mintcream: \"f5fffa\", mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\", navajowhite: \"ffdead\", navy: \"000080\",\n    oldlace: \"fdf5e6\", olive: \"808000\", olivedrab: \"6b8e23\",\n    orange: \"ffa500\", orangered: \"ff4500\", orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\", palegreen: \"98fb98\", paleturquoise: \"afeeee\",\n    palevioletred: \"d87093\", papayawhip: \"ffefd5\", peachpuff: \"ffdab9\",\n    peru: \"cd853f\", pink: \"ffc0cb\", plum: \"dda0dd\",\n    powderblue: \"b0e0e6\", purple: \"800080\", red: \"ff0000\",\n    rosybrown: \"bc8f8f\", royalblue: \"4169e1\", saddlebrown: \"8b4513\",\n    salmon: \"fa8072\", sandybrown: \"f4a460\", seagreen: \"2e8b57\",\n    seashell: \"fff5ee\", sienna: \"a0522d\", silver: \"c0c0c0\",\n    skyblue: \"87ceeb\", slateblue: \"6a5acd\", slategray: \"708090\",\n    slategrey: \"708090\", snow: \"fffafa\", springgreen: \"00ff7f\",\n    steelblue: \"4682b4\", tan: \"d2b48c\", teal: \"008080\",\n    thistle: \"d8bfd8\", tomato: \"ff6347\", turquoise: \"40e0d0\",\n    violet: \"ee82ee\", wheat: \"f5deb3\", white: \"ffffff\",\n    whitesmoke: \"f5f5f5\", yellow: \"ffff00\", yellowgreen: \"9acd32\"\n};\n\nvar browser = support.browser;\n\nvar matchNamedColor = function (color) {\n    var colorNames = Object.keys(namedColors);\n    colorNames.push(\"transparent\");\n\n    var regexp = new RegExp(\"^(\" + colorNames.join(\"|\") + \")(\\\\W|$)\", \"i\");\n    matchNamedColor = function (color) { return regexp.exec(color); };\n\n    return regexp.exec(color);\n};\n\nvar BaseColor = Class.extend({\n    init: function() {  },\n\n    toHSV: function() { return this; },\n\n    toRGB: function() { return this; },\n\n    toHex: function(options) { return this.toBytes().toHex(options); },\n\n    toBytes: function() { return this; },\n\n    toCss: function(options) { return \"#\" + this.toHex(options); },\n\n    toCssRgba: function() {\n        var rgb = this.toBytes();\n        return (\"rgba(\" + (rgb.r) + \", \" + (rgb.g) + \", \" + (rgb.b) + \", \" + (parseFloat((Number(this.a)).toFixed(3))) + \")\");\n    },\n\n    toDisplay: function() {\n        if (browser.msie && browser.version < 9) {\n            return this.toCss(); // no RGBA support; does it support any opacity in colors?\n        }\n        return this.toCssRgba();\n    },\n\n    equals: function(c) {\n        return c === this || ((c !== null && c !== undefined) && this.toCssRgba() === parseColor(c).toCssRgba());\n    },\n\n    diff: function(other) {\n        if (other === null) {\n            return NaN;\n        }\n\n        var c1 = this.toBytes();\n        var c2 = other.toBytes();\n\n        return Math.sqrt(Math.pow((c1.r - c2.r) * 0.30, 2) +\n                         Math.pow((c1.g - c2.g) * 0.59, 2) +\n                         Math.pow((c1.b - c2.b) * 0.11, 2));\n    },\n\n    clone: function() {\n        var c = this.toBytes();\n        if (c === this) {\n            c = new Bytes(c.r, c.g, c.b, c.a);\n        }\n\n        return c;\n    }\n});\n\nvar RGB = BaseColor.extend({\n    init: function(r, g, b, a) {\n        BaseColor.fn.init.call(this);\n\n        this.r = r;\n        this.g = g;\n        this.b = b;\n        this.a = a;\n    },\n\n    toHSV: function() {\n        var ref = this;\n        var r = ref.r;\n        var g = ref.g;\n        var b = ref.b;\n        var min = Math.min(r, g, b);\n        var max = Math.max(r, g, b);\n        var delta = max - min;\n        var v = max;\n        var h, s;\n\n        if (delta === 0) {\n            return new HSV(0, 0, v, this.a);\n        }\n\n        if (max !== 0) {\n            s = delta / max;\n            if (r === max) {\n                h = (g - b) / delta;\n            } else if (g === max) {\n                h = 2 + (b - r) / delta;\n            } else {\n                h = 4 + (r - g) / delta;\n            }\n\n            h *= 60;\n            if (h < 0) {\n                h += 360;\n            }\n        } else {\n            s = 0;\n            h = -1;\n        }\n\n        return new HSV(h, s, v, this.a);\n    },\n\n    toHSL: function() {\n        var ref = this;\n        var r = ref.r;\n        var g = ref.g;\n        var b = ref.b;\n        var max = Math.max(r, g, b);\n        var min = Math.min(r, g, b);\n        var h, s, l = (max + min) / 2;\n\n        if (max === min) {\n            h = s = 0;\n        } else {\n            var d = max - min;\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n            switch (max) {\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n                default: break;\n            }\n        }\n\n        return new HSL(h * 60, s * 100, l * 100, this.a);\n    },\n\n    toBytes: function() {\n        return new Bytes(this.r * 255, this.g * 255, this.b * 255, this.a);\n    }\n});\n\nvar Bytes = RGB.extend({\n    init: function(r, g, b, a) {\n        RGB.fn.init.call(this, Math.round(r), Math.round(g), Math.round(b), a);\n    },\n\n    toRGB: function() {\n        return new RGB(this.r / 255, this.g / 255, this.b / 255, this.a);\n    },\n\n    toHSV: function() {\n        return this.toRGB().toHSV();\n    },\n\n    toHSL: function() {\n        return this.toRGB().toHSL();\n    },\n\n    toHex: function(options) {\n        var value = hex(this.r, 2) + hex(this.g, 2) + hex(this.b, 2);\n\n        if (options && options.alpha) {\n            value += hex(Math.round(this.a * 255), 2);\n        }\n\n        return value;\n    },\n\n    toBytes: function() {\n        return this;\n    }\n});\n\nfunction hex(n, width, pad) {\n    if (pad === void 0) { pad = \"0\"; }\n\n    var result = n.toString(16);\n    while (width > result.length) {\n        result = pad + result;\n    }\n\n    return result;\n}\n\nvar HSV = BaseColor.extend({\n    init: function(h, s, v, a) {\n        BaseColor.fn.init.call(this);\n\n        this.h = h;\n        this.s = s;\n        this.v = v;\n        this.a = a;\n    },\n\n    toRGB: function() {\n        var ref = this;\n        var h = ref.h;\n        var s = ref.s;\n        var v = ref.v;\n        var r, g, b;\n\n        if (s === 0) {\n            r = g = b = v;\n        } else {\n            h /= 60;\n\n            var i = Math.floor(h);\n            var f = h - i;\n            var p = v * (1 - s);\n            var q = v * (1 - s * f);\n            var t = v * (1 - s * (1 - f));\n\n            switch (i) {\n                case 0: r = v; g = t; b = p; break;\n                case 1: r = q; g = v; b = p; break;\n                case 2: r = p; g = v; b = t; break;\n                case 3: r = p; g = q; b = v; break;\n                case 4: r = t; g = p; b = v; break;\n                default: r = v; g = p; b = q; break;\n            }\n        }\n\n        return new RGB(r, g, b, this.a);\n    },\n\n    toHSL: function() {\n        return this.toRGB().toHSL();\n    },\n\n    toBytes: function() {\n        return this.toRGB().toBytes();\n    }\n});\n\nvar HSL = BaseColor.extend({\n    init: function(h, s, l, a) {\n        BaseColor.fn.init.call(this);\n\n        this.h = h;\n        this.s = s;\n        this.l = l;\n        this.a = a;\n    },\n\n    toRGB: function() {\n        var h = this.h / 360;\n        var s = this.s / 100;\n        var l = this.l / 100;\n        var r, g, b;\n\n        if (s === 0) {\n            r = g = b = l; // achromatic\n        } else {\n            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n            var p = 2 * l - q;\n            r = hue2rgb(p, q, h + 1 / 3);\n            g = hue2rgb(p, q, h);\n            b = hue2rgb(p, q, h - 1 / 3);\n        }\n\n        return new RGB(r, g, b, this.a);\n    },\n\n    toHSV: function() {\n        return this.toRGB().toHSV();\n    },\n\n    toBytes: function() {\n        return this.toRGB().toBytes();\n    }\n});\n\nfunction hue2rgb(p, q, s) {\n    var t = s;\n\n    if (t < 0) {\n        t += 1;\n    }\n\n    if (t > 1) {\n        t -= 1;\n    }\n\n    if (t < 1 / 6) {\n        return p + (q - p) * 6 * t;\n    }\n\n    if (t < 1 / 2) {\n        return q;\n    }\n\n    if (t < 2 / 3) {\n        return p + (q - p) * (2 / 3 - t) * 6;\n    }\n\n    return p;\n}\n\nfunction alphaFromHex(a) {\n    return parseFloat(parseFloat(parseInt(a, 16) / 255 ).toFixed(3));\n}\n\nfunction parseColor(value, safe) {\n    var m, ret;\n\n    if (value == null || value === \"none\") {\n        return null;\n    }\n\n    if (value instanceof BaseColor) {\n        return value;\n    }\n\n    var color = value.toLowerCase();\n    if ((m = matchNamedColor(color))) {\n        if (m[1] === \"transparent\") {\n            color = new RGB(1, 1, 1, 0);\n        } else {\n            color = parseColor(namedColors[m[1]], safe);\n        }\n        color.match = [ m[1] ];\n        return color;\n    }\n    if ((m = /^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\\b/i.exec(color))) {\n        ret = new Bytes(parseInt(m[1], 16),\n                        parseInt(m[2], 16),\n                        parseInt(m[3], 16), 1);\n    } else if ((m = /^#?([0-9a-f])([0-9a-f])([0-9a-f])\\b/i.exec(color))) {\n        ret = new Bytes(parseInt(m[1] + m[1], 16),\n                        parseInt(m[2] + m[2], 16),\n                        parseInt(m[3] + m[3], 16), 1);\n    } else if ((m = /^#?([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])\\b/i.exec(color))) { // Parse 4 digit hex color\n        ret = new Bytes(parseInt(m[1] + m[1], 16),\n                        parseInt(m[2] + m[2], 16),\n                        parseInt(m[3] + m[3], 16),\n                        alphaFromHex(m[4] + m[4]));\n    } else if ((m = /^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\\b/i.exec(color))) { // Parse 8 digit hex color\n        ret = new Bytes(parseInt(m[1], 16),\n                        parseInt(m[2], 16),\n                        parseInt(m[3], 16),\n                        alphaFromHex(m[4]));\n    } else if ((m = /^rgb\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/.exec(color))) {\n        ret = new Bytes(parseInt(m[1], 10),\n                        parseInt(m[2], 10),\n                        parseInt(m[3], 10), 1);\n    } else if ((m = /^rgba\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9.]+)\\s*\\)/.exec(color))) {\n        ret = new Bytes(parseInt(m[1], 10),\n                        parseInt(m[2], 10),\n                        parseInt(m[3], 10), parseFloat(m[4]));\n    } else if ((m = /^rgb\\(\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*\\)/.exec(color))) {\n        ret = new RGB(parseFloat(m[1]) / 100,\n                      parseFloat(m[2]) / 100,\n                      parseFloat(m[3]) / 100, 1);\n    } else if ((m = /^rgba\\(\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9.]+)\\s*\\)/.exec(color))) {\n        ret = new RGB(parseFloat(m[1]) / 100,\n                      parseFloat(m[2]) / 100,\n                      parseFloat(m[3]) / 100, parseFloat(m[4]));\n    }\n\n    if (ret) {\n        ret.match = m;\n    } else if (!safe) {\n        throw new Error(\"Cannot parse color: \" + color);\n    }\n\n    return ret;\n}\n\nvar DARK_TRESHOLD = 180;\n\nvar Color = Class.extend({\n    init: function(value) {\n        var this$1 = this;\n\n        if (arguments.length === 1) {\n            var formats = Color.formats;\n            var resolvedColor = this.resolveColor(value);\n\n            for (var idx = 0; idx < formats.length; idx++) {\n                var formatRegex = formats[idx].re;\n                var processor = formats[idx].process;\n                var parts = formatRegex.exec(resolvedColor);\n\n                if (parts) {\n                    var channels = processor(parts);\n                    this$1.r = channels[0];\n                    this$1.g = channels[1];\n                    this$1.b = channels[2];\n                }\n            }\n        } else {\n            this.r = arguments[0];\n            this.g = arguments[1];\n            this.b = arguments[2];\n        }\n\n        this.r = this.normalizeByte(this.r);\n        this.g = this.normalizeByte(this.g);\n        this.b = this.normalizeByte(this.b);\n    },\n\n    toHex: function() {\n        var pad = this.padDigit;\n        var r = this.r.toString(16);\n        var g = this.g.toString(16);\n        var b = this.b.toString(16);\n\n        return \"#\" + pad(r) + pad(g) + pad(b);\n    },\n\n    resolveColor: function(value) {\n        var color = value || \"black\";\n\n        if (color.charAt(0) === \"#\") {\n            color = color.substr(1, 6);\n        }\n\n        color = color.replace(/ /g, \"\");\n        color = color.toLowerCase();\n        color = Color.namedColors[color] || color;\n\n        return color;\n    },\n\n    normalizeByte: function(value) {\n        if (value < 0 || isNaN(value)) {\n            return 0;\n        }\n\n        return value > 255 ? 255 : value;\n    },\n\n    padDigit: function(value) {\n        return (value.length === 1) ? \"0\" + value : value;\n    },\n\n    brightness: function(value) {\n        var round = Math.round;\n\n        this.r = round(this.normalizeByte(this.r * value));\n        this.g = round(this.normalizeByte(this.g * value));\n        this.b = round(this.normalizeByte(this.b * value));\n\n        return this;\n    },\n\n    percBrightness: function() {\n        return Math.sqrt(0.241 * this.r * this.r + 0.691 * this.g * this.g + 0.068 * this.b * this.b);\n    },\n\n    isDark: function() {\n        return this.percBrightness() < DARK_TRESHOLD;\n    }\n});\n\nColor.fromBytes = function(r, g, b, a) {\n    return new Bytes(r, g, b, a != null ? a : 1);\n};\n\nColor.fromRGB = function(r, g, b, a) {\n    return new RGB(r, g, b, a != null ? a : 1);\n};\n\nColor.fromHSV = function(h, s, v, a) {\n    return new HSV(h, s, v, a != null ? a : 1);\n};\n\nColor.fromHSL = function(h, s, l, a) {\n    return new HSL(h, s, l, a != null ? a : 1);\n};\n\nColor.formats = [ {\n    re: /^rgb\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,\n    process: function(parts) {\n        return [\n            parseInt(parts[1], 10), parseInt(parts[2], 10), parseInt(parts[3], 10)\n        ];\n    }\n}, {\n    re: /^(\\w{2})(\\w{2})(\\w{2})$/,\n    process: function(parts) {\n        return [\n            parseInt(parts[1], 16), parseInt(parts[2], 16), parseInt(parts[3], 16)\n        ];\n    }\n}, {\n    re: /^(\\w{1})(\\w{1})(\\w{1})$/,\n    process: function(parts) {\n        return [\n            parseInt(parts[1] + parts[1], 16),\n            parseInt(parts[2] + parts[2], 16),\n            parseInt(parts[3] + parts[3], 16)\n        ];\n    }\n} ];\n\nColor.namedColors = namedColors;\n\nkendo.deepExtend(kendo, {\n    parseColor: parseColor,\n    namedColors: namedColors,\n    Color: Color\n});\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n(function(f, define) {\n    define('kendo.slider',[ \"kendo.draganddrop\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"slider\",\n    name: \"Slider\",\n    category: \"web\",\n    description: \"The Slider widget provides a rich input for selecting values or ranges of values.\",\n    depends: [ \"draganddrop\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        Draggable = kendo.ui.Draggable,\n        outerWidth = kendo._outerWidth,\n        outerHeight = kendo._outerHeight,\n        extend = $.extend,\n        format = kendo.format,\n        parse = kendo.parseFloat,\n        isArray = Array.isArray,\n        math = Math,\n        support = kendo.support,\n        pointers = support.pointers,\n        msPointers = support.msPointers,\n        CHANGE = \"change\",\n        SLIDE = \"slide\",\n        NS = \".slider\",\n        MOUSE_DOWN = \"touchstart\" + NS + \" mousedown\" + NS,\n        TRACK_MOUSE_DOWN = pointers ? \"pointerdown\" + NS : (msPointers ? \"MSPointerDown\" + NS : MOUSE_DOWN),\n        MOUSE_UP = \"touchend\" + NS + \" mouseup\" + NS,\n        TRACK_MOUSE_UP = pointers ? \"pointerup\" : (msPointers ? \"MSPointerUp\" + NS : MOUSE_UP),\n        MOVE_SELECTION = \"moveSelection\",\n        KEY_DOWN = \"keydown\" + NS,\n        CLICK = \"click\" + NS,\n        MOUSE_OVER = \"mouseover\" + NS,\n        FOCUS = \"focus\" + NS,\n        BLUR = \"blur\" + NS,\n        DRAG_HANDLE = \".k-draghandle\",\n        TRACK_SELECTOR = \".k-slider-track\",\n        TICK_SELECTOR = \".k-tick\",\n        STATE_SELECTED = \"k-selected\",\n        STATE_FOCUSED = \"k-focus\",\n        STATE_DISABLED = \"k-disabled\",\n        DISABLED = \"disabled\",\n        UNDEFINED = \"undefined\",\n        TABINDEX = \"tabindex\",\n        getTouches = kendo.getTouches,\n\n        ARIA_VALUETEXT = \"aria-valuetext\",\n        ARIA_VALUENOW = \"aria-valuenow\";\n\n    var SliderBase = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n            that._isHorizontal = options.orientation == \"horizontal\";\n            that._isRtl = that._isHorizontal && kendo.support.isRtl(element);\n            that._position = that._isHorizontal ? \"left\" : \"bottom\";\n            that._sizeFn = that._isHorizontal ? \"width\" : \"height\";\n            that._outerSize = that._isHorizontal ? outerWidth : outerHeight;\n\n            options.tooltip.format = options.tooltip.enabled ? options.tooltip.format || \"{0}\" : \"{0}\";\n\n            if (options.smallStep <= 0) {\n                throw new Error('Kendo UI Slider smallStep must be a positive number.');\n            }\n\n            that._createHtml();\n            that._trackDiv = that.wrapper.find(TRACK_SELECTOR);\n\n            that._maxSelection = that._trackDiv[that._sizeFn]();\n\n            that._sliderItemsInit();\n\n            that._reset();\n\n            that._tabindex(that.wrapper.find(DRAG_HANDLE));\n            that[options.enabled ? \"enable\" : \"disable\"]();\n\n            var rtlDirectionSign = kendo.support.isRtl(that.wrapper) ? -1 : 1;\n\n            that._keyMap = {\n                37: step(-1 * rtlDirectionSign * options.smallStep), // left arrow\n                40: step(-options.smallStep), // down arrow\n                39: step(+1 * rtlDirectionSign * options.smallStep), // right arrow\n                38: step(+options.smallStep), // up arrow\n                35: setValue(options.max), // end\n                36: setValue(options.min), // home\n                33: step(+options.largeStep), // page up\n                34: step(-options.largeStep) // page down\n            };\n\n            that._ariaLabel(that.wrapper.find(DRAG_HANDLE));\n\n            kendo.notify(that);\n        },\n\n        events: [\n            CHANGE,\n            SLIDE\n        ],\n\n        options: {\n            enabled: true,\n            min: 0,\n            max: 10,\n            smallStep: 1,\n            largeStep: 5,\n            orientation: \"horizontal\",\n            tickPlacement: \"both\",\n            tooltip: { enabled: true, format: \"{0}\" }\n        },\n\n        _distance: function() {\n            return round(this.options.max - this.options.min);\n        },\n\n        _resize: function() {\n            this.wrapper.find(\".k-slider-items\").remove();\n\n            this._maxSelection = this._trackDiv[this._sizeFn]();\n            this._sliderItemsInit();\n            this._refresh();\n\n            if (this.options.enabled) {\n                this.enable(true);\n            }\n        },\n\n        _sliderItemsInit: function() {\n            var that = this,\n                options = that.options;\n\n            // [Backwards compatibilty]: maxSelection is reduced with 2 to compensate new styling and preserve automatic calculation to not show ticks.\n            var sizeBetweenTicks = (that._maxSelection - 2) / ((options.max - options.min) / options.smallStep);\n\n            var pixelWidths = that._calculateItemsWidth(math.floor(removeFraction(that._distance()) / removeFraction(options.smallStep)));\n\n            if (options.tickPlacement != \"none\" && sizeBetweenTicks >= 2) {\n                $(this.element).parent().find(\".k-slider-items\").remove();\n                that._trackDiv.before(createSliderItems(options, that._distance()));\n                that._setItemsTitle();\n            }\n\n            that._calculateSteps(pixelWidths);\n\n            if (options.tickPlacement != \"none\" && sizeBetweenTicks >= 2 &&\n                options.largeStep >= options.smallStep) {\n                that._setItemsLargeTick();\n                that.wrapper.find(TICK_SELECTOR).first().addClass(\"k-first\");\n                that.wrapper.find(TICK_SELECTOR).last().addClass(\"k-last\");\n            }\n        },\n\n        getSize: function() {\n            return kendo.dimensions(this.wrapper);\n        },\n\n        _setItemsTitle: function() {\n            var that = this,\n                options = that.options,\n                items = that.wrapper.find(TICK_SELECTOR),\n                titleNumber = options.min,\n                count = items.length;\n\n            for (var i = 0; i <= count; i += 1) {\n                $(items[i]).attr(\"title\", format(options.tooltip.format, round(titleNumber)));\n                titleNumber += options.smallStep;\n            }\n        },\n\n        _setItemsLargeTick: function() {\n            var that = this,\n                options = that.options,\n                items = that.wrapper.find(TICK_SELECTOR),\n                i = 0, item, value;\n\n            if (removeFraction(options.largeStep) % removeFraction(options.smallStep) === 0 || that._distance() / options.largeStep >= 3) {\n                if (!that._isHorizontal && !that._isRtl) {\n                    items = $.makeArray(items).reverse();\n                }\n\n                for (i = 0; i < items.length; i++) {\n                    item = $(items[i]);\n                    value = that._values[i];\n                    var valueWithoutFraction = round(removeFraction(value - this.options.min));\n                    if (valueWithoutFraction % removeFraction(options.smallStep) === 0 && valueWithoutFraction % removeFraction(options.largeStep) === 0) {\n                        item.addClass(\"k-tick-large\")\n                            .html(\"<span class='k-label'>\" + item.attr(\"title\") + \"</span>\");\n\n                        if (i !== 0 && i !== items.length - 1) {\n                            item.css(\"line-height\", item[that._sizeFn]() + \"px\");\n                        }\n                    }\n                }\n            }\n        },\n\n        _calculateItemsWidth: function(itemsCount) {\n            var that = this,\n                options = that.options,\n                trackDivSize = parseFloat(that._trackDiv.css(that._sizeFn)) + 1,\n                distance = that._distance(),\n                preciseItemsCount = removeFraction(distance) / removeFraction(options.smallStep),\n                pixelStep = trackDivSize / removeFraction(distance),\n                itemWidth,\n                pixelWidths,\n                i;\n\n            if (preciseItemsCount - itemsCount > 0) {\n                trackDivSize -= ((removeFraction(distance) % removeFraction(options.smallStep)) * pixelStep);\n            }\n\n            itemWidth = trackDivSize / itemsCount;\n            pixelWidths = [];\n\n            for (i = 0; i < itemsCount - 1; i++) {\n                pixelWidths[i] = itemWidth;\n            }\n\n            pixelWidths[itemsCount - 1] = pixelWidths[itemsCount] = itemWidth / 2;\n            return that._roundWidths(pixelWidths);\n        },\n\n        _roundWidths: function(pixelWidthsArray) {\n            var balance = 0,\n                count = pixelWidthsArray.length,\n                i;\n\n            for (i = 0; i < count; i++) {\n                balance += (pixelWidthsArray[i] - math.floor(pixelWidthsArray[i]));\n                pixelWidthsArray[i] = math.floor(pixelWidthsArray[i]);\n            }\n\n            balance = math.round(balance);\n\n            return this._addAdditionalSize(balance, pixelWidthsArray);\n        },\n\n        _addAdditionalSize: function(additionalSize, pixelWidthsArray) {\n            if (additionalSize === 0) {\n                return pixelWidthsArray;\n            }\n\n            //set step size\n            var step = parseFloat(pixelWidthsArray.length - 1) / parseFloat(additionalSize == 1 ? additionalSize : additionalSize - 1),\n                i;\n\n            for (i = 0; i < additionalSize; i++) {\n                pixelWidthsArray[parseInt(math.round(step * i), 10)] += 1;\n            }\n\n            return pixelWidthsArray;\n        },\n\n        _calculateSteps: function(pixelWidths) {\n            var that = this,\n                options = that.options,\n                val = options.min,\n                selection = 0,\n                distance = that._distance(),\n                itemsCount = math.ceil(removeFraction(distance) / removeFraction(options.smallStep)),\n                i = 1,\n                lastItem;\n\n            itemsCount += (removeFraction(distance) / removeFraction(options.smallStep)) % 1 === 0 ? 1 : 0;\n            pixelWidths.splice(0, 0, pixelWidths[itemsCount - 2] * 2);\n            pixelWidths.splice(itemsCount - 1, 1, pixelWidths.pop() * 2);\n\n            that._pixelSteps = [selection];\n            that._values = [val];\n\n            if (itemsCount === 0) {\n                return;\n            }\n\n            while (i < itemsCount) {\n                selection += (pixelWidths[i - 1] + pixelWidths[i]) / 2;\n                that._pixelSteps[i] = selection;\n                val += options.smallStep;\n                that._values[i] = round(val);\n\n                i++;\n            }\n\n            lastItem = (removeFraction(distance) % removeFraction(options.smallStep)) === 0 ? itemsCount - 1 : itemsCount;\n\n            that._pixelSteps[lastItem] = that._maxSelection;\n            that._values[lastItem] = options.max;\n\n            if (that._isRtl) {\n                that._pixelSteps.reverse();\n                that._values.reverse();\n            }\n        },\n\n        _getValueFromPosition: function(mousePosition, draggableArea) {\n            var that = this,\n                options = that.options,\n                step = math.max(options.smallStep * (that._maxSelection / that._distance()), 0),\n                position = 0,\n                halfStep = (step / 2),\n                i;\n\n            if (that._isHorizontal) {\n                position = mousePosition - draggableArea.startPoint;\n                if (that._isRtl) {\n                    position = that._maxSelection - position;\n                }\n            } else {\n                position = draggableArea.startPoint - mousePosition;\n            }\n\n            if (that._maxSelection - ((parseInt(that._maxSelection % step, 10) - 3) / 2) < position) {\n                return options.max;\n            }\n\n            for (i = 0; i < that._pixelSteps.length; i++) {\n                if (math.abs(that._pixelSteps[i] - position) - 1 <= halfStep) {\n                    return round(that._values[i]);\n                }\n            }\n        },\n\n        _getFormattedValue: function(val, drag) {\n            var that = this,\n                html = \"\",\n                tooltip = that.options.tooltip,\n                tooltipTemplate,\n                selectionStart,\n                selectionEnd;\n\n            if (isArray(val)) {\n                selectionStart = val[0];\n                selectionEnd = val[1];\n            } else if (drag && drag.type) {\n                selectionStart = drag.selectionStart;\n                selectionEnd = drag.selectionEnd;\n            }\n\n            if (drag) {\n                tooltipTemplate = drag.tooltipTemplate;\n            }\n\n            if (!tooltipTemplate && tooltip.template) {\n                tooltipTemplate = kendo.template(tooltip.template);\n            }\n\n            if (isArray(val) || (drag && drag.type)) {\n\n                if (tooltipTemplate) {\n                    html = tooltipTemplate({\n                        selectionStart: selectionStart,\n                        selectionEnd: selectionEnd\n                    });\n                } else {\n                    selectionStart = format(tooltip.format, selectionStart);\n                    selectionEnd = format(tooltip.format, selectionEnd);\n                    html = selectionStart + \" - \" + selectionEnd;\n                }\n            } else {\n                if (drag) {\n                    drag.val = val;\n                }\n\n                if (tooltipTemplate) {\n                    html = tooltipTemplate({\n                        value: val\n                    });\n                } else {\n                    html = format(tooltip.format, val);\n                }\n            }\n            return html;\n        },\n\n        _getDraggableArea: function() {\n            var that = this,\n                offset = kendo.getOffset(that._trackDiv);\n\n            return {\n                startPoint: that._isHorizontal ? offset.left : offset.top + that._maxSelection,\n                endPoint: that._isHorizontal ? offset.left + that._maxSelection : offset.top\n            };\n        },\n\n        _createHtml: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                inputs = element.find(\"input\");\n\n            if (inputs.length == 2) {\n                inputs.eq(0).prop(\"value\", formatValue(options.selectionStart));\n                inputs.eq(1).prop(\"value\", formatValue(options.selectionEnd));\n            } else {\n                element.prop(\"value\", formatValue(options.value));\n            }\n\n            that.wrapper = element.wrap(createWrapper(options, element, that._isHorizontal)).hide().parents(\".k-slider\");\n\n            if (options.showButtons) {\n                that.wrapper.find(\".k-slider-track-wrap\")\n                       .after(createButton(options, \"increase\", that._isHorizontal, that._isRtl))\n                       .before(createButton(options, \"decrease\", that._isHorizontal, that._isRtl));\n            }\n\n            element.before(createTrack(options, element, that._isHorizontal));\n        },\n\n        _focus: function(e) {\n            var that = this,\n                target = e.target,\n                val = that.value(),\n                drag = that._drag;\n\n            if (!drag) {\n                if (target == that.wrapper.find(DRAG_HANDLE).eq(0)[0]) {\n                    drag = that._firstHandleDrag;\n                    that._activeHandle = 0;\n                } else {\n                    drag = that._lastHandleDrag;\n                    that._activeHandle = 1;\n                }\n                val = val[that._activeHandle];\n            }\n\n            $(target).addClass(STATE_FOCUSED + \" \" + STATE_SELECTED);\n\n            if (drag) {\n                that._activeHandleDrag = drag;\n\n                drag.selectionStart = that.options.selectionStart;\n                drag.selectionEnd = that.options.selectionEnd;\n\n                drag._updateTooltip(val);\n            }\n        },\n\n        _focusWithMouse: function(target) {\n            target = $(target);\n\n            var that = this,\n                idx = target.is(DRAG_HANDLE) ? target.index() : 0;\n\n            window.setTimeout(function() {\n                that.wrapper.find(DRAG_HANDLE)[idx == 2 ? 1 : 0].focus();\n            }, 1);\n\n            that._setTooltipTimeout();\n        },\n\n        _blur: function(e) {\n            var that = this,\n                drag = that._activeHandleDrag;\n\n            $(e.target).removeClass(STATE_FOCUSED + \" \" + STATE_SELECTED);\n\n            if (drag) {\n                drag._removeTooltip();\n                delete that._activeHandleDrag;\n                delete that._activeHandle;\n            }\n        },\n\n        _setTooltipTimeout: function() {\n            var that = this;\n            that._tooltipTimeout = window.setTimeout(function() {\n                var drag = that._drag || that._activeHandleDrag;\n                if (drag) {\n                    drag._removeTooltip();\n                }\n            }, 300);\n        },\n\n        _clearTooltipTimeout: function() {\n            var that = this;\n            window.clearTimeout(this._tooltipTimeout);\n            var drag = that._drag || that._activeHandleDrag;\n            if (drag && drag.tooltipDiv) {\n                drag.tooltipDiv.stop(true, false).css(\"opacity\", 1);\n            }\n        },\n\n        _reset: function() {\n            var that = this,\n                element = that.element,\n                formId = element.attr(\"form\"),\n                form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n\n            if (form[0]) {\n                that._form = form.on(\"reset\", that._formResetHandler.bind(that));\n            }\n        },\n\n        min: function(value) {\n            if (!value) {\n                return this.options.min;\n            }\n            this.setOptions({ \"min\": value });\n        },\n\n        max: function(value) {\n            if (!value) {\n                return this.options.max;\n            }\n            this.setOptions({ \"max\": value });\n        },\n\n        setOptions: function(options) {\n            Widget.fn.setOptions.call(this, options);\n            this._sliderItemsInit();\n            this._refresh();\n        },\n\n        destroy: function() {\n            if (this._form) {\n                this._form.off(\"reset\", this._formResetHandler);\n            }\n            Widget.fn.destroy.call(this);\n        }\n    });\n\n    function createWrapper(options, element, isHorizontal) {\n        var orientationCssClass = isHorizontal ? \" k-slider-horizontal\" : \" k-slider-vertical\",\n            style = options.style ? options.style : element.attr(\"style\"),\n            cssClasses = element.attr(\"class\") ? (\" \" + element.attr(\"class\")) : \"\",\n            tickPlacementCssClass = \"\";\n\n        if (options.tickPlacement == \"bottomRight\") {\n            tickPlacementCssClass = \" k-slider-bottomright\";\n        } else if (options.tickPlacement == \"topLeft\") {\n            tickPlacementCssClass = \" k-slider-topleft\";\n        }\n\n        style = style ? \" style='\" + style + \"'\" : \"\";\n\n        return \"<div class='k-widget k-slider\" + orientationCssClass + cssClasses + \"'\" + style + \">\" +\n               \"<div class='k-slider-track-wrap\" + tickPlacementCssClass +\n               \"'></div></div>\";\n    }\n\n    function createButton(options, type, isHorizontal) {\n        var buttonCssClass = \"\";\n\n        if (isHorizontal) {\n            if (type === \"increase\") {\n                buttonCssClass = \"k-i-arrow-e\";\n            } else {\n                buttonCssClass = \"k-i-arrow-w\";\n            }\n        } else {\n            if (type == \"increase\") {\n                buttonCssClass = \"k-i-arrow-n\";\n            } else {\n                buttonCssClass = \"k-i-arrow-s\";\n            }\n        }\n\n        return \"<a role='button' class='k-button k-button-md k-rounded-full k-button-solid k-button-solid-base k-icon-button k-button-\" + type + \"' \" +\n                \"title='\" + options[type + \"ButtonTitle\"] + \"' \" +\n                \"aria-label='\" + options[type + \"ButtonTitle\"] + \"'>\" +\n                \"<span class='k-button-icon k-icon \" + buttonCssClass + \"'></span></a>\";\n    }\n\n    function createSliderItems(options, distance) {\n        var result = \"<ul class='k-reset k-slider-items' role='presentation'>\",\n            count = math.floor(round(distance / options.smallStep)) + 1,\n            i;\n\n        for (i = 0; i < count; i++) {\n            result += \"<li class='k-tick'></li>\";\n        }\n\n        result += \"</ul>\";\n\n        return result;\n    }\n\n    function createTrack(options, element, isHorizontal) {\n        var dragHandleCount = element.is(\"input\") ? 1 : 2,\n            firstDragHandleTitle = dragHandleCount == 2 ? options.leftDragHandleTitle : options.dragHandleTitle,\n            value = options.value,\n            min = options.selectionStart,\n            max = options.selectionEnd,\n            elementValue, minElementValue, maxElementValue;\n\n        if (dragHandleCount === 1) {\n            elementValue = element.val();\n\n            if (elementValue !== null && elementValue !== undefined && elementValue !== 'null') {\n                if (value === null || value === undefined) {\n                    value = elementValue;\n                }\n            }\n        } else {\n            minElementValue = element.find(\"input\").eq(0).val();\n            maxElementValue = element.find(\"input\").eq(1).val();\n\n            if (minElementValue !== null && minElementValue !== undefined && minElementValue !== 'null') {\n                if (min === null || min === undefined) {\n                    min = minElementValue;\n                }\n            }\n\n            if (maxElementValue !== null && maxElementValue !== undefined && maxElementValue !== 'null') {\n                if (max === null || max === undefined) {\n                    max = maxElementValue;\n                }\n            }\n        }\n\n        var result = \"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div>\" +\n               \"<span tabindex='0' class='k-draghandle' title='\" + firstDragHandleTitle + \"' role='slider' \" +\n               (isHorizontal === false ? \"aria-orientation='vertical' \" : \"\") +\n               \"aria-valuemin='\" + options.min + \"' aria-valuemax='\" + options.max + \"' aria-valuenow='\" + (dragHandleCount > 1 ? (min || options.min) : value || options.min) + \"'></span>\" +\n               (dragHandleCount > 1 ? \"<span tabindex='0' class='k-draghandle' title='\" + options.rightDragHandleTitle + \"'role='slider' \" +\n               (isHorizontal === false ? \"aria-orientation='vertical' \" : \"\") +\n               \"aria-valuemin='\" + options.min + \"' aria-valuemax='\" + options.max + \"' aria-valuenow='\" + (max || options.max) + \"'></span>\" : \"\") +\n               \"</div>\";\n\n        return result;\n    }\n\n    function step(stepValue) {\n        return function(value) {\n            return value + stepValue;\n        };\n    }\n\n    function setValue(value) {\n        return function() {\n            return value;\n        };\n    }\n\n    function formatValue(value) {\n        return (value + \"\").replace(\".\", kendo.cultures.current.numberFormat[\".\"]);\n    }\n\n    function calculatePrecision(value) {\n        var number = value.toString();\n        var precision = 0;\n\n        number = number.split(\".\");\n\n        if (number[1]) {\n            precision = number[1].length;\n        }\n\n        precision = precision > 10 ? 10 : precision;\n        return precision;\n    }\n\n    function round(value) {\n        var precision, power;\n\n        value = parseFloat(value, 10);\n        precision = calculatePrecision(value);\n        power = math.pow(10, precision || 0);\n\n        return math.round(value * power) / power;\n    }\n\n    function parseAttr(element, name) {\n        var value = parse(element.getAttribute(name));\n        if (value === null) {\n            value = undefined;\n        }\n        return value;\n    }\n\n    function defined(value) {\n        return typeof value !== UNDEFINED;\n    }\n\n    function removeFraction(value) {\n        return value * 10000;\n    }\n\n    var Slider = SliderBase.extend({\n        init: function(element, options) {\n            var that = this,\n                dragHandle;\n\n            element.type = \"text\";\n            options = extend({}, {\n                value: parseAttr(element, \"value\"),\n                min: parseAttr(element, \"min\"),\n                max: parseAttr(element, \"max\"),\n                smallStep: parseAttr(element, \"step\")\n            }, options);\n\n            element = $(element);\n\n            if (options && options.enabled === undefined) {\n                options.enabled = !element.is(\"[disabled]\");\n            }\n\n            SliderBase.fn.init.call(that, element, options);\n            options = that.options;\n            if (!defined(options.value) || options.value === null) {\n                options.value = options.min;\n                element.prop(\"value\", formatValue(options.min));\n            }\n            options.value = math.max(math.min(options.value, options.max), options.min);\n\n            dragHandle = that.wrapper.find(DRAG_HANDLE);\n\n            that._selection = new Slider.Selection(dragHandle, that, options);\n            that._drag = new Slider.Drag(dragHandle, \"\", that, options);\n\n            that._refreshAriaAttr(options.value);\n        },\n\n        options: {\n            name: \"Slider\",\n            showButtons: true,\n            increaseButtonTitle: \"Increase\",\n            decreaseButtonTitle: \"Decrease\",\n            dragHandleTitle: \"drag\",\n            tooltip: { format: \"{0:#,#.##}\" },\n            value: null\n        },\n\n        enable: function(enable) {\n            var that = this,\n                options = that.options,\n                clickHandler,\n                move;\n\n            that.disable();\n            if (enable === false) {\n                return;\n            }\n\n            that.wrapper\n                .removeClass(STATE_DISABLED);\n\n            that.wrapper.find(\"input\").prop(DISABLED, false);\n\n            clickHandler = function(e) {\n                var touch = getTouches(e)[0];\n\n                if (!touch) {\n                    return;\n                }\n\n                var mousePosition = that._isHorizontal ? touch.location.pageX : touch.location.pageY,\n                    draggableArea = that._getDraggableArea(),\n                    target = $(e.target);\n\n                if (target.hasClass(\"k-draghandle\")) {\n                    target.addClass(STATE_FOCUSED + \" \" + STATE_SELECTED);\n                    return;\n                }\n\n                that._update(that._getValueFromPosition(mousePosition, draggableArea));\n\n                that._focusWithMouse(e.target);\n\n                that._drag.dragstart(e);\n                e.preventDefault();\n            };\n\n            that.wrapper\n                .find(TICK_SELECTOR + \", \" + TRACK_SELECTOR)\n                    .on(TRACK_MOUSE_DOWN, clickHandler)\n                    .end()\n                    .on(TRACK_MOUSE_DOWN, function() {\n                        $(document.documentElement).one(\"selectstart\", kendo.preventDefault);\n                    })\n                    .on(TRACK_MOUSE_UP, function() {\n                        that._drag._end();\n                    });\n\n            that.wrapper\n                .find(DRAG_HANDLE)\n                .attr(TABINDEX, 0)\n                .on(MOUSE_UP, function() {\n                    that._setTooltipTimeout();\n                })\n                .on(CLICK, function(e) {\n                    that._focusWithMouse(e.target);\n                    e.preventDefault();\n                })\n                .on(FOCUS, that._focus.bind(that))\n                .on(BLUR, that._blur.bind(that));\n\n            move = (function(sign) {\n                var newVal = that._nextValueByIndex(that._valueIndex + (sign * 1));\n                that._setValueInRange(newVal);\n                that._drag._updateTooltip(newVal);\n            });\n\n            if (options.showButtons) {\n                var mouseDownHandler = (function(e, sign) {\n                    this._clearTooltipTimeout();\n                    if (e.which === 1 || (support.touch && e.which === 0)) {\n                        move(sign);\n\n                        this.timeout = setTimeout((function() {\n                            this.timer = setInterval(function() {\n                                move(sign);\n                            }, 60);\n                        }).bind(this), 200);\n                    }\n                }).bind(that);\n\n                that.wrapper.find(\".k-button\")\n                    .on(MOUSE_UP, (function(e) {\n                        this._clearTimer();\n                        that._focusWithMouse(e.target);\n                    }).bind(that))\n                    .on(MOUSE_OVER, function(e) {\n                        $(e.currentTarget).addClass(\"k-hover\");\n                    })\n                    .on(\"mouseout\" + NS, (function(e) {\n                        $(e.currentTarget).removeClass(\"k-hover\");\n                        this._clearTimer();\n                    }).bind(that))\n                    .on(MOUSE_DOWN, (function(e) {\n                        var sign = $(e.target).closest(\".k-button\").is(\".k-button-increase\") ? 1 : -1;\n                        mouseDownHandler(e, sign);\n                    }))\n                    .on(\"click\", kendo.preventDefault);\n            }\n\n            that.wrapper\n                .find(DRAG_HANDLE)\n                .off(KEY_DOWN, false)\n                .on(KEY_DOWN, this._keydown.bind(that));\n\n            options.enabled = true;\n        },\n\n        disable: function() {\n            var that = this;\n\n            that.wrapper\n                .addClass(STATE_DISABLED);\n\n            $(that.element).prop(DISABLED, DISABLED);\n\n            that.wrapper\n                .find(\".k-button\")\n                .off(MOUSE_DOWN)\n                .on(MOUSE_DOWN, function(e) {\n                    e.preventDefault();\n                    $(this).addClass(\"k-active\");\n                })\n                .off(MOUSE_UP)\n                .on(MOUSE_UP, function(e) {\n                    e.preventDefault();\n                    $(this).removeClass(\"k-active\");\n                })\n                .off(\"mouseleave\" + NS)\n                .on(\"mouseleave\" + NS, kendo.preventDefault)\n                .off(MOUSE_OVER)\n                .on(MOUSE_OVER, kendo.preventDefault);\n\n            that.wrapper\n                .find(TICK_SELECTOR + \", \" + TRACK_SELECTOR).off(TRACK_MOUSE_DOWN).off(TRACK_MOUSE_UP);\n\n            that.wrapper\n                .find(DRAG_HANDLE)\n                .attr(TABINDEX, -1)\n                .off(MOUSE_UP)\n                .off(KEY_DOWN)\n                .off(CLICK)\n                .off(FOCUS)\n                .off(BLUR);\n\n            that.options.enabled = false;\n        },\n\n        _update: function(val) {\n            var that = this,\n                change = that.value() != val;\n\n            that.value(val);\n\n            if (change) {\n                that.trigger(CHANGE, { value: that.options.value });\n            }\n        },\n\n        value: function(value) {\n            var that = this,\n                options = that.options;\n\n            value = round(value);\n            if (isNaN(value)) {\n                return options.value;\n            }\n\n            if (value >= options.min && value <= options.max) {\n                if (options.value != value) {\n                    that.element.prop(\"value\", formatValue(value));\n                    options.value = value;\n                    that._refreshAriaAttr(value);\n                    that._refresh();\n                }\n            }\n        },\n\n        _refresh: function() {\n            this.trigger(MOVE_SELECTION, { value: this.options.value });\n        },\n\n        _refreshAriaAttr: function(value) {\n            var that = this,\n                drag = that._drag,\n                formattedValue;\n\n            if (drag && drag._tooltipDiv) {\n                formattedValue = drag._tooltipDiv.text();\n            } else {\n                formattedValue = that._getFormattedValue(value, null);\n            }\n            this.wrapper.find(DRAG_HANDLE).attr(ARIA_VALUENOW, value).attr(ARIA_VALUETEXT, formattedValue);\n        },\n\n        _clearTimer: function() {\n            clearTimeout(this.timeout);\n            clearInterval(this.timer);\n        },\n\n        _keydown: function(e) {\n            var that = this;\n\n            if (e.keyCode in that._keyMap) {\n                that._clearTooltipTimeout();\n                that._setValueInRange(that._keyMap[e.keyCode](that.options.value));\n                that._drag._updateTooltip(that.value());\n                e.preventDefault();\n            }\n        },\n\n        _setValueInRange: function(val) {\n            var that = this,\n                options = that.options;\n\n            val = round(val);\n            if (isNaN(val)) {\n                that._update(options.min);\n                return;\n            }\n\n            val = math.max(math.min(val, options.max), options.min);\n            that._update(val);\n        },\n\n        _nextValueByIndex: function(index) {\n            var count = this._values.length;\n            if (this._isRtl) {\n                index = count - 1 - index;\n            }\n            return this._values[math.max(0, math.min(index, count - 1))];\n        },\n\n        _formResetHandler: function() {\n            var that = this,\n                min = that.options.min;\n\n            setTimeout(function() {\n                var value = that.element[0].value;\n                that.value(value === \"\" || isNaN(value) ? min : value);\n            });\n        },\n\n        destroy: function() {\n            var that = this;\n\n            SliderBase.fn.destroy.call(that);\n\n            that.wrapper.off(NS)\n                .find(\".k-button\").off(NS)\n                .end()\n                .find(DRAG_HANDLE).off(NS)\n                .end()\n                .find(TICK_SELECTOR + \", \" + TRACK_SELECTOR).off(NS)\n                .end();\n\n            that._drag.draggable.destroy();\n            that._drag._removeTooltip(true);\n        }\n    });\n\n    Slider.Selection = function(dragHandle, that, options) {\n        function moveSelection(val) {\n            var selectionValue = val - options.min,\n                index = that._valueIndex = math.ceil(round(selectionValue / options.smallStep)),\n                selection = parseInt(that._pixelSteps[index], 10),\n                selectionDiv = that._trackDiv.find(\".k-slider-selection\"),\n                rtlCorrection = that._isRtl ? 2 : 0;\n\n            selectionDiv[that._sizeFn](that._isRtl ? that._maxSelection - selection : selection);\n            dragHandle.css(that._position, selection - rtlCorrection);\n        }\n\n        moveSelection(options.value);\n\n        that.bind([SLIDE, MOVE_SELECTION], function(e) {\n            moveSelection(parseFloat(e.value, 10));\n        });\n\n        that.bind(CHANGE, function(e) {\n            moveSelection(parseFloat(e.sender.value(), 10));\n        });\n    };\n\n    Slider.Drag = function(element, type, owner, options) {\n        var that = this;\n        that.owner = owner;\n        that.options = options;\n        that.element = element;\n        that.type = type;\n\n        that.draggable = new Draggable(element, {\n            distance: 0,\n            dragstart: that._dragstart.bind(that),\n            drag: that.drag.bind(that),\n            dragend: that.dragend.bind(that),\n            dragcancel: that.dragcancel.bind(that)\n        });\n\n        element.click(false);\n\n        // Disable link dragging\n        element.on(\"dragstart\", function(e) {\n            e.preventDefault();\n        });\n    };\n\n    Slider.Drag.prototype = {\n        dragstart: function(e) {\n            // add reference to the last active drag handle.\n            this.owner._activeDragHandle = this;\n            // HACK to initiate click on the line\n            this.draggable.userEvents.cancel();\n            this._dragstart(e);\n            this.dragend();\n        },\n\n        _dragstart: function(e) {\n            var that = this,\n                owner = that.owner,\n                options = that.options;\n\n            if (!options.enabled) {\n                e.preventDefault();\n                return;\n            }\n\n            // add reference to the last active drag handle.\n            this.owner._activeDragHandle = this;\n\n            owner.element.off(MOUSE_OVER);\n            owner.wrapper.find(\".\" + STATE_FOCUSED).removeClass(STATE_FOCUSED + \" \" + STATE_SELECTED);\n            that.element.addClass(STATE_FOCUSED + \" \" + STATE_SELECTED);\n            $(document.documentElement).css(\"cursor\", \"pointer\");\n\n            that.draggableArea = owner._getDraggableArea();\n            that.step = math.max(options.smallStep * (owner._maxSelection / owner._distance()), 0);\n\n            if (that.type) {\n                that.selectionStart = options.selectionStart;\n                that.selectionEnd = options.selectionEnd;\n                owner._setZIndex(that.type);\n            } else {\n                that.oldVal = that.val = options.value;\n            }\n\n            that._removeTooltip(true);\n            that._createTooltip();\n        },\n\n        _createTooltip: function() {\n            var that = this,\n                owner = that.owner,\n                tooltip = that.options.tooltip,\n                html = '',\n                wnd = $(window),\n                tooltipTemplate, calloutCssClass;\n\n            if (!tooltip.enabled) {\n                return;\n            }\n\n            if (tooltip.template) {\n                tooltipTemplate = that.tooltipTemplate = kendo.template(tooltip.template);\n            }\n\n            $(\".k-slider-tooltip\").remove(); // if user changes window while tooltip is visible, a second one will be created\n            that.tooltipDiv = $(\"<div class='k-tooltip k-slider-tooltip'><!-- --></div>\").appendTo(document.body);\n\n            html = owner._getFormattedValue(that.val || owner.value(), that);\n\n            if (!that.type) {\n                calloutCssClass = \"k-callout-\" + (owner._isHorizontal ? 's' : 'e');\n                that.tooltipInnerDiv = \"<div class='k-callout \" + calloutCssClass + \"'><!-- --></div>\";\n                html += that.tooltipInnerDiv;\n            }\n\n            that.tooltipDiv.html(html);\n\n            that._scrollOffset = {\n                top: wnd.scrollTop(),\n                left: kendo.scrollLeft(wnd)\n            };\n\n            that.moveTooltip();\n        },\n\n        drag: function(e) {\n            var that = this,\n                owner = that.owner,\n                x = e.x.location,\n                y = e.y.location,\n                startPoint = that.draggableArea.startPoint,\n                endPoint = that.draggableArea.endPoint,\n                slideParams;\n\n            e.preventDefault();\n\n            if (owner._isHorizontal) {\n                if (owner._isRtl) {\n                    that.val = that.constrainValue(x, startPoint, endPoint, x < endPoint);\n                } else {\n                    that.val = that.constrainValue(x, startPoint, endPoint, x >= endPoint);\n                }\n            } else {\n                that.val = that.constrainValue(y, endPoint, startPoint, y <= endPoint);\n            }\n\n            if (that.oldVal != that.val) {\n                that.oldVal = that.val;\n\n                if (that.type) {\n                    if (that.type == \"firstHandle\") {\n                        if (that.val < that.selectionEnd) {\n                            that.selectionStart = that.val;\n                        } else {\n                            that.selectionStart = that.selectionEnd = that.val;\n                        }\n                    } else {\n                        if (that.val > that.selectionStart) {\n                            that.selectionEnd = that.val;\n                        } else {\n                            that.selectionStart = that.selectionEnd = that.val;\n                        }\n                    }\n                    slideParams = {\n                        values: [that.selectionStart, that.selectionEnd],\n                        value: [that.selectionStart, that.selectionEnd]\n                    };\n                } else {\n                    slideParams = { value: that.val };\n                }\n\n                owner.trigger(SLIDE, slideParams);\n            }\n            that._updateTooltip(that.val);\n        },\n\n        _updateTooltip: function(val) {\n            var that = this,\n                options = that.options,\n                tooltip = options.tooltip,\n                html = \"\";\n\n            if (!tooltip.enabled) {\n                return;\n            }\n\n            if (!that.tooltipDiv) {\n                that._createTooltip();\n            }\n\n            html = that.owner._getFormattedValue(round(val), that);\n\n            if (!that.type) {\n                html += that.tooltipInnerDiv;\n            }\n\n            that.tooltipDiv.html(html);\n            that.moveTooltip();\n        },\n\n        dragcancel: function() {\n            this.owner._refresh();\n            $(document.documentElement).css(\"cursor\", \"\");\n            return this._end();\n        },\n\n        dragend: function() {\n            var that = this,\n                owner = that.owner;\n\n            $(document.documentElement).css(\"cursor\", \"\");\n\n            if (that.type) {\n                owner._update(that.selectionStart, that.selectionEnd);\n            } else {\n                owner._update(that.val);\n                that.draggable.userEvents._disposeAll();\n            }\n\n            that.draggable.userEvents.cancel();\n            return that._end();\n        },\n\n        _end: function() {\n            var that = this,\n                owner = that.owner;\n\n            owner._focusWithMouse(that.element);\n\n            owner.element.on(MOUSE_OVER);\n\n            return false;\n        },\n\n        _removeTooltip: function(noAnimation) {\n            var that = this,\n                owner = that.owner;\n\n            if (that.tooltipDiv && owner.options.tooltip.enabled && owner.options.enabled) {\n                if (noAnimation) {\n                    that.tooltipDiv.remove();\n                    that.tooltipDiv = null;\n                } else {\n                    that.tooltipDiv.fadeOut(\"slow\", function() {\n                        $(this).remove();\n                        that.tooltipDiv = null;\n                    });\n                }\n            }\n        },\n\n        moveTooltip: function() {\n            var that = this,\n                owner = that.owner,\n                top = 0,\n                left = 0,\n                element = that.element,\n                offset = kendo.getOffset(element),\n                margin = 8,\n                viewport = $(window),\n                callout = that.tooltipDiv.find(\".k-callout\"),\n                width = outerWidth(that.tooltipDiv),\n                height = outerHeight(that.tooltipDiv),\n                dragHandles, sdhOffset, diff, anchorSize;\n\n            if (that.type) {\n                dragHandles = owner.wrapper.find(DRAG_HANDLE);\n                offset = kendo.getOffset(dragHandles.eq(0));\n                sdhOffset = kendo.getOffset(dragHandles.eq(1));\n\n                if (owner._isHorizontal) {\n                    top = sdhOffset.top;\n                    left = offset.left + ((sdhOffset.left - offset.left) / 2);\n                } else {\n                    top = offset.top + ((sdhOffset.top - offset.top) / 2);\n                    left = sdhOffset.left;\n                }\n\n                anchorSize = outerWidth(dragHandles.eq(0)) + 2 * margin;\n            } else {\n                top = offset.top;\n                left = offset.left;\n                anchorSize = outerWidth(element) + 2 * margin;\n            }\n\n            if (owner._isHorizontal) {\n                left -= parseInt((width - owner._outerSize(element)) / 2, 10);\n                top -= height + margin + (callout.length ? callout.height() : 0);\n            } else {\n                top -= parseInt((height - owner._outerSize(element)) / 2, 10);\n                left -= width + margin + (callout.length ? callout.width() : 0);\n            }\n\n            if (owner._isHorizontal) {\n                diff = that._flip(top, height, anchorSize, outerHeight(viewport) + that._scrollOffset.top);\n                top += diff;\n                left += that._fit(left, width, outerWidth(viewport) + that._scrollOffset.left);\n            } else {\n                diff = that._flip(left, width, anchorSize, outerWidth(viewport) + that._scrollOffset.left);\n                top += that._fit(top, height, outerHeight(viewport) + that._scrollOffset.top);\n                left += diff;\n            }\n\n            if (diff > 0 && callout) {\n                callout.removeClass();\n                callout.addClass(\"k-callout k-callout-\" + (owner._isHorizontal ? \"n\" : \"w\"));\n            }\n\n            that.tooltipDiv.css({ top: top, left: left });\n        },\n\n        _fit: function(position, size, viewPortEnd) {\n            var output = 0;\n\n            if (position + size > viewPortEnd) {\n                output = viewPortEnd - (position + size);\n            }\n\n            if (position < 0) {\n                output = -position;\n            }\n\n            return output;\n        },\n\n        _flip: function(offset, size, anchorSize, viewPortEnd) {\n            var output = 0;\n\n            if (offset + size > viewPortEnd) {\n                output += -(anchorSize + size);\n            }\n\n            if (offset + output < 0) {\n                output += anchorSize + size;\n            }\n\n            return output;\n        },\n\n        constrainValue: function(position, min, max, maxOverflow) {\n            var that = this,\n                val = 0;\n\n            if (min < position && position < max) {\n                val = that.owner._getValueFromPosition(position, that.draggableArea);\n            } else {\n                if (maxOverflow ) {\n                    val = that.options.max;\n                } else {\n                    val = that.options.min;\n                }\n            }\n\n            return val;\n        }\n\n    };\n\n    kendo.ui.plugin(Slider);\n\n    var RangeSlider = SliderBase.extend({\n        init: function(element, options) {\n            var that = this,\n                inputs = $(element).find(\"input\"),\n                firstInput = inputs.eq(0)[0],\n                secondInput = inputs.eq(1)[0];\n\n            firstInput.type = \"text\";\n            secondInput.type = \"text\";\n\n            if (options && options.showButtons) {\n                if (window.console) {\n                    window.console.warn(\"showbuttons option is not supported for the range slider, ignoring\");\n                }\n\n                options.showButtons = false;\n            }\n\n            options = extend({}, {\n                selectionStart: parseAttr(firstInput, \"value\"),\n                min: parseAttr(firstInput, \"min\"),\n                max: parseAttr(firstInput, \"max\"),\n                smallStep: parseAttr(firstInput, \"step\")\n            }, {\n                selectionEnd: parseAttr(secondInput, \"value\"),\n                min: parseAttr(secondInput, \"min\"),\n                max: parseAttr(secondInput, \"max\"),\n                smallStep: parseAttr(secondInput, \"step\")\n            }, options);\n\n            if (options && options.enabled === undefined) {\n                options.enabled = !inputs.is(\"[disabled]\");\n            }\n\n            SliderBase.fn.init.call(that, element, options);\n            options = that.options;\n            if (!defined(options.selectionStart) || options.selectionStart === null) {\n                options.selectionStart = options.min;\n                inputs.eq(0).prop(\"value\", formatValue(options.min));\n            }\n\n            if (!defined(options.selectionEnd) || options.selectionEnd === null) {\n                options.selectionEnd = options.max;\n                inputs.eq(1).prop(\"value\", formatValue(options.max));\n            }\n\n            var dragHandles = that.wrapper.find(DRAG_HANDLE);\n\n            this._selection = new RangeSlider.Selection(dragHandles, that, options);\n            that._firstHandleDrag = new Slider.Drag(dragHandles.eq(0), \"firstHandle\", that, options);\n            that._lastHandleDrag = new Slider.Drag(dragHandles.eq(1), \"lastHandle\" , that, options);\n\n            that._refreshAriaAttr(options.selectionStart , options.selectionEnd);\n        },\n\n        options: {\n            name: \"RangeSlider\",\n            leftDragHandleTitle: \"drag\",\n            rightDragHandleTitle: \"drag\",\n            tooltip: { format: \"{0:#,#.##}\" },\n            selectionStart: null,\n            selectionEnd: null\n        },\n\n        enable: function(enable) {\n            var that = this,\n                options = that.options,\n                clickHandler;\n\n            that.disable();\n            if (enable === false) {\n                return;\n            }\n\n            that.wrapper\n                .removeClass(STATE_DISABLED);\n\n            that.wrapper.find(\"input\").prop(DISABLED, false);\n\n            clickHandler = function(e) {\n                var touch = getTouches(e)[0];\n\n                if (!touch) {\n                    return;\n                }\n\n                var mousePosition = that._isHorizontal ? touch.location.pageX : touch.location.pageY,\n                    draggableArea = that._getDraggableArea(),\n                    val = that._getValueFromPosition(mousePosition, draggableArea),\n                    target = $(e.target),\n                    from, to, drag;\n\n                if (target.hasClass(\"k-draghandle\")) {\n                    that.wrapper.find(\".\" + STATE_FOCUSED).removeClass(STATE_FOCUSED + \" \" + STATE_SELECTED);\n                    target.addClass(STATE_FOCUSED + \" \" + STATE_SELECTED);\n                    return;\n                }\n\n                if (val < options.selectionStart) {\n                    from = val;\n                    to = options.selectionEnd;\n                    drag = that._firstHandleDrag;\n                } else if (val > that.selectionEnd) {\n                    from = options.selectionStart;\n                    to = val;\n                    drag = that._lastHandleDrag;\n                } else {\n                    if (val - options.selectionStart <= options.selectionEnd - val) {\n                        from = val;\n                        to = options.selectionEnd;\n                        drag = that._firstHandleDrag;\n                    } else {\n                        from = options.selectionStart;\n                        to = val;\n                        drag = that._lastHandleDrag;\n                    }\n                }\n\n                drag.dragstart(e);\n                that._setValueInRange(from, to);\n                that._focusWithMouse(drag.element);\n            };\n\n            that.wrapper\n                .find(TICK_SELECTOR + \", \" + TRACK_SELECTOR)\n                    .on(TRACK_MOUSE_DOWN, clickHandler)\n                    .end()\n                    .on(TRACK_MOUSE_DOWN, function() {\n                        $(document.documentElement).one(\"selectstart\", kendo.preventDefault);\n                    })\n                    .on(TRACK_MOUSE_UP, function() {\n                        if (that._activeDragHandle) {\n                            that._activeDragHandle._end();\n                        }\n                    });\n\n            that.wrapper\n                .find(DRAG_HANDLE)\n                .attr(TABINDEX, 0)\n                .on(MOUSE_UP, function() {\n                    that._setTooltipTimeout();\n                })\n                .on(CLICK, function(e) {\n                    that._focusWithMouse(e.target);\n                    e.preventDefault();\n                })\n                .on(FOCUS, that._focus.bind(that))\n                .on(BLUR, that._blur.bind(that));\n\n            that.wrapper.find(DRAG_HANDLE)\n                .off(KEY_DOWN, kendo.preventDefault)\n                .eq(0).on(KEY_DOWN,\n                    (function(e) {\n                        this._keydown(e, \"firstHandle\");\n                    }).bind(that)\n                )\n                .end()\n                .eq(1).on(KEY_DOWN,\n                    (function(e) {\n                        this._keydown(e, \"lastHandle\");\n                    }).bind(that)\n                );\n\n            that.options.enabled = true;\n        },\n\n        disable: function() {\n            var that = this;\n\n            that.wrapper\n                .addClass(STATE_DISABLED);\n\n            that.wrapper.find(\"input\").prop(DISABLED, DISABLED);\n\n            that.wrapper\n                .find(TICK_SELECTOR + \", \" + TRACK_SELECTOR).off(TRACK_MOUSE_DOWN).off(TRACK_MOUSE_UP);\n\n            that.wrapper\n                .find(DRAG_HANDLE)\n                .attr(TABINDEX, -1)\n                .off(MOUSE_UP)\n                .off(KEY_DOWN)\n                .off(CLICK)\n                .off(FOCUS)\n                .off(BLUR);\n\n            that.options.enabled = false;\n        },\n\n        _keydown: function(e, handle) {\n            var that = this,\n                selectionStartValue = that.options.selectionStart,\n                selectionEndValue = that.options.selectionEnd,\n                dragSelectionStart,\n                dragSelectionEnd,\n                activeHandleDrag;\n\n            if (e.keyCode in that._keyMap) {\n\n                that._clearTooltipTimeout();\n\n                if (handle == \"firstHandle\") {\n                    activeHandleDrag = that._activeHandleDrag = that._firstHandleDrag;\n                    selectionStartValue = that._keyMap[e.keyCode](selectionStartValue);\n\n                    if (selectionStartValue > selectionEndValue) {\n                        selectionEndValue = selectionStartValue;\n                    }\n                } else {\n                    activeHandleDrag = that._activeHandleDrag = that._lastHandleDrag;\n                    selectionEndValue = that._keyMap[e.keyCode](selectionEndValue);\n\n                    if (selectionStartValue > selectionEndValue) {\n                        selectionStartValue = selectionEndValue;\n                    }\n                }\n\n                that._setValueInRange(round(selectionStartValue), round(selectionEndValue));\n\n                dragSelectionStart = Math.max(selectionStartValue, that.options.selectionStart);\n                dragSelectionEnd = Math.min(selectionEndValue, that.options.selectionEnd);\n\n                activeHandleDrag.selectionEnd = Math.max(dragSelectionEnd, that.options.selectionStart);\n                activeHandleDrag.selectionStart = Math.min(dragSelectionStart, that.options.selectionEnd);\n\n                activeHandleDrag._updateTooltip(that.value()[that._activeHandle]);\n\n                e.preventDefault();\n            }\n        },\n\n        _update: function(selectionStart, selectionEnd) {\n            var that = this,\n                values = that.value();\n\n            var change = values[0] != selectionStart || values[1] != selectionEnd;\n\n            that.value([selectionStart, selectionEnd]);\n\n            if (change) {\n                that.trigger(CHANGE, {\n                    values: [selectionStart, selectionEnd],\n                    value: [selectionStart, selectionEnd]\n                });\n            }\n        },\n\n        value: function(value) {\n            if (value && value.length) {\n                return this._value(value[0], value[1]);\n            } else {\n                return this._value();\n            }\n        },\n\n        _value: function(start, end) {\n            var that = this,\n                options = that.options,\n                selectionStart = options.selectionStart,\n                selectionEnd = options.selectionEnd;\n\n            if (isNaN(start) && isNaN(end)) {\n                return [selectionStart, selectionEnd];\n            } else {\n                start = round(start);\n                end = round(end);\n            }\n\n            if (start >= options.min && start <= options.max &&\n                end >= options.min && end <= options.max && start <= end) {\n                if (selectionStart != start || selectionEnd != end) {\n                    that.element.find(\"input\")\n                        .eq(0).prop(\"value\", formatValue(start))\n                        .end()\n                        .eq(1).prop(\"value\", formatValue(end));\n\n                    options.selectionStart = start;\n                    options.selectionEnd = end;\n                    that._refresh();\n                    that._refreshAriaAttr(start, end);\n                }\n            }\n        },\n\n        values: function(start, end) {\n            if (isArray(start)) {\n                return this._value(start[0], start[1]);\n            } else {\n                return this._value(start, end);\n            }\n        },\n\n        _refresh: function() {\n            var that = this,\n                options = that.options;\n\n            that.trigger(MOVE_SELECTION, {\n                values: [options.selectionStart, options.selectionEnd],\n                value: [options.selectionStart, options.selectionEnd]\n            });\n\n            if (options.selectionStart == options.max && options.selectionEnd == options.max) {\n                that._setZIndex(\"firstHandle\");\n            }\n        },\n\n        _refreshAriaAttr: function(start, end) {\n            var that = this,\n                dragHandles = that.wrapper.find(DRAG_HANDLE),\n                drag = that._activeHandleDrag,\n                formattedValue;\n\n            formattedValue = that._getFormattedValue([start, end], drag);\n\n            dragHandles.eq(0).attr(ARIA_VALUENOW, start);\n            dragHandles.eq(1).attr(ARIA_VALUENOW, end);\n            dragHandles.attr(ARIA_VALUETEXT, formattedValue);\n        },\n\n        _setValueInRange: function(selectionStart, selectionEnd) {\n            var options = this.options;\n\n            selectionStart = math.max(math.min(selectionStart, options.max), options.min);\n\n            selectionEnd = math.max(math.min(selectionEnd, options.max), options.min);\n\n            if (selectionStart == options.max && selectionEnd == options.max) {\n                this._setZIndex(\"firstHandle\");\n            }\n\n            this._update(math.min(selectionStart, selectionEnd), math.max(selectionStart, selectionEnd));\n        },\n\n        _setZIndex: function(type) {\n            this.wrapper.find(DRAG_HANDLE).each(function(index) {\n                $(this).css(\"z-index\", type == \"firstHandle\" ? 1 - index : index);\n            });\n        },\n\n        _formResetHandler: function() {\n            var that = this,\n                options = that.options;\n\n            setTimeout(function() {\n                var inputs = that.element.find(\"input\");\n                var start = inputs[0].value;\n                var end = inputs[1].value;\n                that.values(start === \"\" || isNaN(start) ? options.min : start, end === \"\" || isNaN(end) ? options.max : end);\n            });\n        },\n\n        destroy: function() {\n            var that = this;\n\n            SliderBase.fn.destroy.call(that);\n\n            that.wrapper.off(NS)\n                .find(TICK_SELECTOR + \", \" + TRACK_SELECTOR).off(NS)\n                .end()\n                .find(DRAG_HANDLE).off(NS);\n\n            that._firstHandleDrag.draggable.destroy();\n            that._lastHandleDrag.draggable.destroy();\n        }\n    });\n\n    RangeSlider.Selection = function(dragHandles, that, options) {\n        function moveSelection(value) {\n            value = value || [];\n            var selectionStartValue = value[0] - options.min,\n                selectionEndValue = value[1] - options.min,\n                selectionStartIndex = math.ceil(round(selectionStartValue / options.smallStep)),\n                selectionEndIndex = math.ceil(round(selectionEndValue / options.smallStep)),\n                selectionStart = that._pixelSteps[selectionStartIndex],\n                selectionEnd = that._pixelSteps[selectionEndIndex],\n                rtlCorrection = that._isRtl ? 2 : 0;\n\n            dragHandles.eq(0).css(that._position, selectionStart - rtlCorrection)\n                       .end()\n                       .eq(1).css(that._position, selectionEnd - rtlCorrection);\n\n            makeSelection(selectionStart, selectionEnd);\n        }\n\n        function makeSelection(selectionStart, selectionEnd) {\n            var selection,\n                selectionPosition,\n                selectionDiv = that._trackDiv.find(\".k-slider-selection\");\n\n            selection = math.abs(selectionStart - selectionEnd);\n\n            selectionDiv[that._sizeFn](selection);\n            if (that._isRtl) {\n                selectionPosition = math.max(selectionStart, selectionEnd);\n                selectionDiv.css(\"right\", that._maxSelection - selectionPosition - 1);\n            } else {\n                selectionPosition = math.min(selectionStart, selectionEnd);\n                selectionDiv.css(that._position, selectionPosition - 1);\n            }\n        }\n\n        moveSelection(that.value());\n\n        that.bind([ CHANGE, SLIDE, MOVE_SELECTION ], function(e) {\n            moveSelection(e.values);\n        });\n    };\n\n    kendo.ui.plugin(RangeSlider);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.textbox',[\"kendo.core\", \"kendo.floatinglabel\"], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"textbox\",\n    name: \"TextBox\",\n    category: \"web\",\n    description: \"The TextBox widget enables you to style and provide a floating label functionality to input elements\",\n    depends: [\"core\", \"floatinglabel\"]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        ui = kendo.ui,\n        isPlainObject = $.isPlainObject,\n        NS = \".kendoTextBox\",\n        CHANGE = \"change\",\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        INPUT = \"k-input-inner\",\n        FOCUSED = \"k-focus\",\n        LABELCLASSES = \"k-label k-input-label\",\n        STATEDISABLED = \"k-disabled\",\n        NOCLICKCLASS = \"k-no-click\",\n        ARIA_DISABLED = \"aria-disabled\";\n\n    var TextBox = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            options = $.extend(true, {}, options);\n\n            that.options.value = options.value || that.element.val();\n            that.options.readonly = options.readonly !== undefined ? options.readonly : Boolean(that.element.attr(\"readonly\"));\n            that.options.enable = options.enable !== undefined ? options.enable : !(Boolean(that.element.attr(\"disabled\")));\n            that.options.placeholder = options.placeholder || that.element.attr(\"placeholder\");\n\n            that.value(that.options.value);\n            that._wrapper();\n            that._label();\n            that._editable({\n                readonly: that.options.readonly,\n                disable: !(that.options.enable)\n            });\n\n            that.element\n                .addClass(INPUT)\n                .attr(\"placeholder\", that.options.placeholder)\n                .attr(\"autocomplete\", \"off\");\n\n            kendo.notify(that);\n            that._applyCssClasses();\n        },\n\n        events: [\n            CHANGE\n        ],\n\n        options: {\n            name: 'TextBox',\n            value: '',\n            readonly: false,\n            enable: true,\n            placeholder: '',\n            label: null,\n            rounded: \"medium\",\n            size: \"medium\",\n            fillMode: \"solid\"\n        },\n\n        value: function(value) {\n            var that = this;\n\n            if (value === undefined) {\n                return that._value;\n            }\n\n            that._value = value;\n            that.element.val(value);\n        },\n\n        readonly: function(readonly) {\n            var that = this;\n\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n\n            if (that.floatingLabel) {\n                that.floatingLabel.readonly(readonly === undefined ? true : readonly);\n            }\n        },\n\n        enable: function(enable) {\n            var that = this;\n\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n\n            if (that.floatingLabel) {\n                that.floatingLabel.enable(enable = enable === undefined ? true : enable);\n            }\n        },\n\n        focus: function() {\n            var that = this;\n\n            that.element[0].focus();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that.floatingLabel) {\n                that.floatingLabel.destroy();\n            }\n\n            that.element.off(NS);\n            that.element[0].style.width = \"\";\n            that.element.removeClass(INPUT);\n            Widget.fn.destroy.call(that);\n        },\n\n        setOptions: function(options) {\n            this.destroy();\n\n            if (this._inputLabel) {\n                this._inputLabel.remove();\n                this._inputLabel = null;\n            }\n\n            if (this._floatingLabelContainer) {\n                this.floatingLabel.destroy();\n                this.floatingLabel = null;\n                this.element.unwrap();\n                this.element.unwrap();\n                this._floatingLabelContainer = null;\n            } else {\n                this.element.unwrap();\n            }\n\n            kendo.deepExtend(this.options, options);\n            this.init(this.element, this.options);\n        },\n\n        _editable: function(options) {\n            var that = this;\n            var element = that.element;\n            var wrapper = that.wrapper;\n            var disable = options.disable;\n            var readonly = options.readonly;\n\n            element.off(NS);\n\n            if (!readonly && !disable) {\n                element.prop(DISABLED, false)\n                       .prop(READONLY, false)\n                       .attr(ARIA_DISABLED, false);\n\n                wrapper.removeClass(STATEDISABLED)\n                        .removeClass(NOCLICKCLASS);\n\n                element.on(\"focusin\" + NS, that._focusin.bind(that));\n                element.on(\"focusout\" + NS, that._focusout.bind(that));\n                element.on(\"change\" + NS, that._change.bind(that));\n            } else {\n                element.attr(DISABLED, disable)\n                       .attr(READONLY, readonly)\n                       .attr(ARIA_DISABLED, disable);\n\n                wrapper.toggleClass(STATEDISABLED, disable)\n                        .toggleClass(NOCLICKCLASS, readonly);\n            }\n        },\n\n        _label: function() {\n            var that = this;\n            var element = that.element;\n            var options = that.options;\n            var id = element.attr(\"id\");\n            var floating;\n            var labelText;\n\n            if (options.label !== null) {\n                floating = isPlainObject(options.label) ? options.label.floating : false;\n                labelText = isPlainObject(options.label) ? options.label.content : options.label;\n\n                if (floating) {\n                    that._floatingLabelContainer = that.wrapper.wrap(\"<span></span>\").parent();\n                    that.floatingLabel = new kendo.ui.FloatingLabel(that._floatingLabelContainer, { widget: that });\n                }\n\n                if (kendo.isFunction(labelText)) {\n                    labelText = labelText.call(that);\n                }\n\n                if (!labelText) {\n                    labelText = \"\";\n                }\n\n                if (!id) {\n                    id = options.name + \"_\" + kendo.guid();\n                    element.attr(\"id\", id);\n                }\n\n                that._inputLabel = $(\"<label class='\" + LABELCLASSES + \"' for='\" + id + \"'>\" + labelText + \"</label>'\").insertBefore(that.wrapper);\n            }\n        },\n\n        _focusin: function() {\n            var that = this;\n\n            that.wrapper.addClass(FOCUSED);\n        },\n\n        _focusout: function() {\n            var that = this;\n\n            that.wrapper.removeClass(FOCUSED);\n        },\n\n        _change: function(e) {\n            var that = this;\n            var newValue = that.element.val();\n\n            that._value = newValue;\n\n            that.trigger(CHANGE, { value: newValue, originalEvent: e });\n        },\n\n        _wrapper: function() {\n            var that = this;\n            var element = that.element;\n            var DOMElement = element[0];\n            var wrapper;\n\n            wrapper = element.wrap(\"<span class='k-input k-textbox'></span>\").parent();\n            wrapper[0].style.cssText = DOMElement.style.cssText;\n            DOMElement.style.width = \"100%\";\n            that.wrapper = wrapper.addClass(DOMElement.className).removeClass('input-validation-error');\n        }\n    });\n\n    kendo.cssProperties.registerPrefix(\"TextBox\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"TextBox\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    ui.plugin(TextBox);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.numerictextbox',[ \"kendo.core\", \"kendo.userevents\", \"kendo.floatinglabel\", \"kendo.html.button\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"numerictextbox\",\n    name: \"NumericTextBox\",\n    category: \"web\",\n    description: \"The NumericTextBox widget can format and display numeric, percentage or currency textbox.\",\n    depends: [ \"core\", \"userevents\", \"floatinglabel\", \"html.button\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        caret = kendo.caret,\n        keys = kendo.keys,\n        html = kendo.html,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        activeElement = kendo._activeElement,\n        extractFormat = kendo._extractFormat,\n        parse = kendo.parseFloat,\n        placeholderSupported = kendo.support.placeholder,\n        getCulture = kendo.getCulture,\n        CHANGE = \"change\",\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        INPUT = \"k-input-inner\",\n        SPIN = \"spin\",\n        ns = \".kendoNumericTextBox\",\n        TOUCHEND = \"touchend\",\n        MOUSELEAVE = \"mouseleave\" + ns,\n        HOVEREVENTS = \"mouseenter\" + ns + \" \" + MOUSELEAVE,\n        FOCUSED = \"k-focus\",\n        HOVER = \"k-hover\",\n        FOCUS = \"focus\",\n        POINT = \".\",\n        SYMBOL = \"symbol\",\n        CLASS_ICON = \"k-icon\",\n        LABELCLASSES = \"k-label k-input-label\",\n        SELECTED = \"k-selected\",\n        STATEDISABLED = \"k-disabled\",\n        STATEINVALID = \"k-invalid\",\n        ARIA_DISABLED = \"aria-disabled\",\n        INTEGER_REGEXP = /^(-)?(\\d*)$/,\n        NULL = null,\n        isPlainObject = $.isPlainObject,\n        extend = $.extend;\n\n    var NumericTextBox = Widget.extend({\n         init: function(element, options) {\n             var that = this,\n             isStep = options && options.step !== undefined,\n             min, max, step, value, disabled;\n             var inputType;\n\n             Widget.fn.init.call(that, element, options);\n\n             options = that.options;\n             element = that.element\n                           .on(\"focusout\" + ns, that._focusout.bind(that))\n                           .attr(\"role\", \"spinbutton\");\n\n             options.placeholder = options.placeholder || element.attr(\"placeholder\");\n\n             min = that.min(element.attr(\"min\"));\n             max = that.max(element.attr(\"max\"));\n             step = that._parse(element.attr(\"step\"));\n\n             if (options.min === NULL && min !== NULL) {\n                 options.min = min;\n             }\n\n             if (options.max === NULL && max !== NULL) {\n                 options.max = max;\n             }\n\n             if (!isStep && step !== NULL) {\n                 options.step = step;\n             }\n\n             that._initialOptions = extend({}, options);\n\n             inputType = element.attr(\"type\");\n\n             that._reset();\n             that._wrapper();\n             that._arrows();\n             that._validation();\n             that._input();\n\n             if (!kendo.support.mobileOS) {\n                 that._text.on(FOCUS + ns, that._click.bind(that));\n             } else {\n                 that._text.on(TOUCHEND + ns + \" \" + FOCUS + ns, function() {\n                     if (kendo.support.browser.edge) {\n                         that._text.one(FOCUS + ns, function() {\n                            that._focusin();\n                         });\n                     } else {\n                        that._focusin();\n                     }\n                     that.selectValue();\n                 });\n             }\n\n             element.attr(\"aria-valuemin\", options.min !== NULL ? options.min * options.factor : options.min)\n                    .attr(\"aria-valuemax\", options.max !== NULL ? options.max * options.factor : options.max);\n\n             options.format = extractFormat(options.format);\n\n             value = options.value;\n\n             if (value == NULL) {\n                 if (inputType == \"number\") {\n                    value = parseFloat(element.val());\n                 } else {\n                     value = element.val();\n                 }\n             }\n\n             that.value(value);\n\n             disabled = !options.enable || element.is(\"[disabled]\") || $(that.element).parents(\"fieldset\").is(':disabled');\n\n             if (disabled) {\n                 that.enable(false);\n             } else {\n                 that.readonly(element.is(\"[readonly]\"));\n             }\n\n             that.angular(\"compile\", function() {\n                 return {\n                     elements: that._text.get()\n                 };\n             });\n\n             that._label();\n             that._ariaLabel(that._text);\n             that._applyCssClasses();\n\n             kendo.notify(that);\n         },\n\n        options: {\n            name: \"NumericTextBox\",\n            decimals: NULL,\n            enable: true,\n            restrictDecimals: false,\n            min: NULL,\n            max: NULL,\n            value: NULL,\n            step: 1,\n            round: true,\n            culture: \"\",\n            format: \"n\",\n            spinners: true,\n            placeholder: \"\",\n            selectOnFocus: false,\n            factor: 1,\n            upArrowText: \"Increase value\",\n            downArrowText: \"Decrease value\",\n            label: null,\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n        events: [\n            CHANGE,\n            SPIN\n        ],\n\n        _editable: function(options) {\n            var that = this,\n                element = that.element,\n                disable = options.disable,\n                readonly = options.readonly,\n                text = that._text.add(element),\n                wrapper = that.wrapper.off(HOVEREVENTS);\n\n            that._toggleText(true);\n\n            that._upArrowEventHandler.unbind(\"press\");\n            that._downArrowEventHandler.unbind(\"press\");\n            element\n                .off(\"keydown\" + ns)\n                .off(\"keyup\" + ns)\n                .off(\"input\" + ns)\n                .off(\"paste\" + ns);\n\n            if (that._inputLabel) {\n                that._inputLabel.off(ns);\n            }\n\n            if (!readonly && !disable) {\n                wrapper\n                    .removeClass(STATEDISABLED)\n                    .on(HOVEREVENTS, that._toggleHover);\n\n                text.prop(DISABLED, false)\n                    .prop(READONLY, false)\n                    .attr(ARIA_DISABLED, false);\n\n                that._upArrowEventHandler.bind(\"press\", function(e) {\n                    e.preventDefault();\n                    that._spin(1);\n                    that._upArrow.addClass(SELECTED);\n                });\n\n                that._downArrowEventHandler.bind(\"press\", function(e) {\n                    e.preventDefault();\n                    that._spin(-1);\n                    that._downArrow.addClass(SELECTED);\n                });\n\n                that.element\n                    .on(\"keydown\" + ns, that._keydown.bind(that))\n                    .on(\"keyup\" + ns, that._keyup.bind(that))\n                    .on(\"paste\" + ns, that._paste.bind(that))\n                    .on(\"input\" + ns, that._inputHandler.bind(that));\n\n                if (that._inputLabel) {\n                    that._inputLabel.on(\"click\" + ns, that.focus.bind(that));\n                }\n\n            } else {\n                wrapper\n                    .addClass(disable ? STATEDISABLED : \"\")\n                    .removeClass(disable ? \"\" : STATEDISABLED);\n\n                text.attr(DISABLED, disable)\n                    .attr(READONLY, readonly)\n                    .attr(ARIA_DISABLED, disable);\n            }\n        },\n\n        readonly: function(readonly) {\n            var that = this;\n\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n\n            if (that.floatingLabel) {\n                that.floatingLabel.readonly(readonly === undefined ? true : readonly);\n            }\n        },\n\n        enable: function(enable) {\n            var that = this;\n\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n\n            if (that.floatingLabel) {\n                that.floatingLabel.enable(enable = enable === undefined ? true : enable);\n            }\n        },\n\n        setOptions: function(options) {\n            var that = this;\n            Widget.fn.setOptions.call(that, options);\n\n            that.wrapper.toggleClass(\"k-expand-padding\", !that.options.spinners);\n            that._text.prop(\"placeholder\", that.options.placeholder);\n            that._placeholder(that.options.placeholder);\n            that.element.attr({\n                \"aria-valuemin\": that.options.min !== NULL ? that.options.min * that.options.factor : that.options.min,\n                \"aria-valuemax\": that.options.max !== NULL ? that.options.max * that.options.factor : that.options.max\n            });\n\n            that.options.format = extractFormat(that.options.format);\n            that._upArrowEventHandler.destroy();\n            that._upArrowEventHandler = null;\n            that._downArrowEventHandler.destroy();\n            that._downArrowEventHandler = null;\n            that._arrowsWrap.remove();\n            that._arrows();\n\n            that._applyCssClasses();\n\n            if (that._inputLabel) {\n                that._inputLabel.off(ns);\n                that._inputLabel.remove();\n\n                if (that.floatingLabel) {\n                    that.floatingLabel.destroy();\n                    if (that._floatingLabelContainer) {\n                        that.wrapper.unwrap();\n                    }\n                }\n            }\n\n            that._label();\n\n            that._editable({\n                readonly: that.options.readonly,\n                disable: !that.options.enable\n            });\n\n            if (options.value !== undefined) {\n                that.value(options.value);\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that._inputLabel) {\n                that._inputLabel.off(ns);\n\n                if (that.floatingLabel) {\n                    that.floatingLabel.destroy();\n                }\n            }\n\n            that.element\n                .add(that._text)\n                .add(that._upArrow)\n                .add(that._downArrow)\n                .off(ns);\n\n            that._upArrowEventHandler.destroy();\n            that._downArrowEventHandler.destroy();\n\n            if (that._form) {\n                that._form.off(\"reset\", that._resetHandler);\n            }\n\n            Widget.fn.destroy.call(that);\n        },\n\n        min: function(value) {\n            return this._option(\"min\", value);\n        },\n\n        max: function(value) {\n            return this._option(\"max\", value);\n        },\n\n        step: function(value) {\n            return this._option(\"step\", value);\n        },\n\n        value: function(value) {\n            var that = this, adjusted;\n\n            if (value === undefined) {\n                return that._value;\n            }\n\n            value = that._parse(value);\n            adjusted = that._adjust(value);\n\n            if (value !== adjusted) {\n                return;\n            }\n\n            that._update(value);\n            that._old = that._value;\n        },\n\n        focus: function() {\n            this._focusin();\n        },\n\n        _adjust: function(value) {\n            var that = this,\n            options = that.options,\n            min = options.min,\n            max = options.max;\n\n            if (value === NULL) {\n                return value;\n            }\n\n            if (min !== NULL && value < min) {\n                value = min;\n            } else if (max !== NULL && value > max) {\n                value = max;\n            }\n\n            return value;\n        },\n\n        _arrows: function() {\n            var that = this,\n            arrows,\n            _release = function() {\n                clearTimeout( that._spinning );\n                arrows.removeClass(SELECTED);\n            },\n            options = that.options,\n            spinners = options.spinners,\n            element = that.element;\n\n            arrows = element.siblings(\".k-icon-button\");\n\n            if (!arrows[0]) {\n                arrows = $(buttonHtml(\"increase\", options.upArrowText, options) + buttonHtml(\"decrease\", options.downArrowText, options))\n                        .appendTo(that.wrapper);\n\n                that._arrowsWrap = arrows.wrapAll('<span class=\"k-input-spinner k-spin-button\"/>').parent();\n            }\n\n            if (!spinners) {\n                arrows.parent().toggle(spinners);\n                that.wrapper.addClass(\"k-expand-padding\");\n            }\n\n            that._upArrow = arrows.eq(0);\n            that._upArrowEventHandler = new kendo.UserEvents(that._upArrow, { release: _release });\n            that._downArrow = arrows.eq(1);\n            that._downArrowEventHandler = new kendo.UserEvents(that._downArrow, { release: _release });\n        },\n\n        _validation: function() {\n            var that = this;\n            var element = that.element;\n\n            that._validationIcon = $(\"<span class='k-input-validation-icon \" + CLASS_ICON + \" k-i-warning k-hidden'></span>\").insertAfter(element);\n        },\n\n        _blur: function() {\n            var that = this;\n\n            that._toggleText(true);\n\n            that._change(that.element.val());\n        },\n\n        _click: function(e) {\n            var that = this;\n\n            clearTimeout(that._focusing);\n            that._focusing = setTimeout(function() {\n                var input = e.target,\n                    idx = caret(input)[0],\n                    value = input.value.substring(0, idx),\n                    format = that._format(that.options.format),\n                    group = format[\",\"],\n                    result, groupRegExp, extractRegExp,\n                    caretPosition = 0;\n\n                if (group) {\n                    groupRegExp = new RegExp(\"\\\\\" + group, \"g\");\n                    extractRegExp = new RegExp(\"(-)?(\" + format[SYMBOL] + \")?([\\\\d\\\\\" + group + \"]+)(\\\\\" + format[POINT] + \")?(\\\\d+)?\");\n                }\n\n                if (extractRegExp) {\n                    result = extractRegExp.exec(value);\n                }\n\n                if (result) {\n                    caretPosition = result[0].replace(groupRegExp, \"\").length;\n\n                    if (value.indexOf(\"(\") != -1 && that._value < 0) {\n                        caretPosition++;\n                    }\n                }\n\n                that._focusin();\n\n                caret(that.element[0], caretPosition);\n                that.selectValue();\n            });\n        },\n\n        selectValue: function() {\n            if (this.options.selectOnFocus) {\n                this.element[0].select();\n            }\n        },\n\n        _getFactorValue: function(value) {\n            var that = this,\n                factor = that.options.factor;\n\n            if (factor && factor !== 1) {\n                value = kendo.parseFloat(value);\n                if (value !== null) {\n                    value = value / factor;\n                }\n            }\n\n            return value;\n        },\n\n        _change: function(value) {\n            var that = this;\n\n            value = that._getFactorValue(value);\n            that._update(value);\n            value = that._value;\n\n            if (that._old != value) {\n                that._old = value;\n\n                if (!that._typing) {\n                    // trigger the DOM change event so any subscriber gets notified\n                    that.element.trigger(CHANGE);\n                }\n\n                that.trigger(CHANGE);\n            }\n\n            that._typing = false;\n        },\n\n        _culture: function(culture) {\n            return culture || getCulture(this.options.culture);\n        },\n\n        _focusin: function() {\n            var that = this;\n            that.wrapper.addClass(FOCUSED);\n            that._toggleText(false);\n            that.element[0].focus();\n        },\n\n        _focusout: function() {\n            var that = this;\n\n            clearTimeout(that._focusing);\n            that.wrapper.removeClass(FOCUSED).removeClass(HOVER);\n            that._blur();\n            that._removeInvalidState();\n        },\n\n        _format: function(format, culture) {\n            var numberFormat = this._culture(culture).numberFormat;\n\n            format = format.toLowerCase();\n\n            if (format.indexOf(\"c\") > -1) {\n                numberFormat = numberFormat.currency;\n            } else if (format.indexOf(\"p\") > -1) {\n                numberFormat = numberFormat.percent;\n            }\n\n            return numberFormat;\n        },\n\n        _input: function() {\n            var that = this,\n                options = that.options,\n                element = that.element.addClass(INPUT).show()[0],\n                accessKey = element.accessKey,\n                wrapper = that.wrapper,\n                inputs = wrapper.find(POINT + INPUT),\n                text;\n\n            text = inputs.first();\n\n            if (text.length < 2) {\n                text = $('<input type=\"text\"/>')\n                        .attr(kendo.attr(\"validate\"), false)\n                        .insertBefore(element);\n            }\n\n            try {\n                element.setAttribute(\"type\", \"text\");\n            } catch (e) {\n                element.type = \"text\";\n            }\n\n            text[0].title = element.title;\n            text[0].tabIndex = element.tabIndex;\n            text[0].style.cssText = element.style.cssText;\n            text.prop(\"placeholder\", options.placeholder);\n\n            if (accessKey) {\n                text.attr(\"accesskey\", accessKey);\n                element.accessKey = \"\";\n            }\n\n\n            that._text = text.addClass(element.className)\n                             .attr({\n                                 \"role\": \"spinbutton\",\n                                 \"aria-valuemin\": options.min !== NULL ? options.min * options.factor : options.min,\n                                 \"aria-valuemax\": options.max !== NULL ? options.max * options.factor : options.max,\n                                 \"autocomplete\": \"off\"\n                             });\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode;\n\n            if (key === keys.NUMPAD_DOT) {\n                that._numPadDot = true;\n            }\n\n            if (key == keys.DOWN) {\n                that._step(-1);\n                return;\n            } else if (key == keys.UP) {\n                that._step(1);\n                return;\n            } else if (key == keys.ENTER) {\n                that._change(that.element.val());\n                return;\n            }\n\n            if (key != keys.TAB) {\n                that._typing = true;\n            }\n            that._cachedCaret = caret(that.element);\n        },\n\n        _keyup: function() {\n            this._removeInvalidState();\n        },\n\n        _inputHandler: function() {\n            var element = this.element;\n            var value = element.val();\n            var min = this.options.min;\n            var numberFormat = this._format(this.options.format);\n            var decimalSeparator = numberFormat[POINT];\n            var minInvalid = (min !== null && min >= 0 && value.charAt(0) === \"-\");\n\n            if (this._numPadDot && decimalSeparator !== POINT) {\n                value = value.replace(POINT, decimalSeparator);\n                this.element.val(value);\n                this._numPadDot = false;\n            }\n\n            if (this._isPasted && this._parse(value)) {\n                value = this._parse(value)\n                    .toString()\n                    .replace(POINT, numberFormat[POINT]);\n            }\n\n            if (this._numericRegex(numberFormat).test(value) && !minInvalid) {\n                this._oldText = value;\n            } else {\n                this._blinkInvalidState();\n                this.element.val(this._oldText);\n                if (this._cachedCaret) {\n                    caret(element, this._cachedCaret[0]);\n                    this._cachedCaret = null;\n                }\n            }\n\n            this._isPasted = false;\n        },\n\n        _blinkInvalidState: function() {\n            var that = this;\n\n            that._addInvalidState();\n            clearTimeout(that._invalidStateTimeout);\n            that._invalidStateTimeout = setTimeout(that._removeInvalidState.bind(that), 100);\n        },\n\n        _addInvalidState: function() {\n            var that = this;\n\n            that.wrapper.addClass(STATEINVALID);\n            that._validationIcon.removeClass('k-hidden');\n        },\n\n        _removeInvalidState: function() {\n            var that = this;\n\n            that.wrapper.removeClass(STATEINVALID);\n            that._validationIcon.addClass('k-hidden');\n            that._invalidStateTimeout = null;\n        },\n\n        _numericRegex: function(numberFormat) {\n            var that = this;\n            var separator = numberFormat[POINT];\n            var precision = that.options.decimals;\n            var fractionRule = \"*\";\n\n            if (separator === POINT) {\n                separator = \"\\\\\" + separator;\n            }\n\n            if (precision === NULL) {\n                precision = numberFormat.decimals;\n            }\n\n            if (precision === 0 && that.options.restrictDecimals) {\n                return INTEGER_REGEXP;\n            }\n\n            if (that.options.restrictDecimals) {\n                fractionRule = \"{0,\" + precision + \"}\";\n            }\n\n            if (that._separator !== separator) {\n                that._separator = separator;\n                that._floatRegExp = new RegExp(\"^(-)?(((\\\\d+(\" + separator + \"\\\\d\" + fractionRule + \")?)|(\" + separator + \"\\\\d\" + fractionRule + \")))?$\");\n            }\n\n            return that._floatRegExp;\n        },\n\n        _paste: function(e) {\n            var that = this;\n            var element = e.target;\n            var value = element.value;\n            var numberFormat = that._format(that.options.format);\n\n            that._isPasted = true;\n\n           setTimeout(function() {\n                var result = that._parse(element.value);\n\n                if (result === NULL) {\n                    that._update(value);\n                } else {\n                    element.value = result.toString().replace(POINT, numberFormat[POINT]);\n                    if (that._adjust(result) !== result || !that._numericRegex(numberFormat).test(element.value)) {\n                        value = that._getFactorValue(element.value);\n                        that._update(value);\n                    }\n                }\n            });\n        },\n\n        _option: function(option, value) {\n            var that = this,\n                element = that.element,\n                options = that.options;\n\n            if (value === undefined) {\n                return options[option];\n            }\n\n            value = that._parse(value);\n\n            if (!value && option === \"step\") {\n                return;\n            }\n\n            options[option] = value;\n            element\n                .add(that._text)\n                .attr(\"aria-value\" + option, value);\n\n            element.attr(option, value);\n        },\n\n        _spin: function(step, timeout) {\n            var that = this;\n\n            timeout = timeout || 500;\n\n            clearTimeout( that._spinning );\n            that._spinning = setTimeout(function() {\n                that._spin(step, 50);\n            }, timeout );\n\n            that._step(step);\n        },\n\n        _step: function(step) {\n            var that = this,\n                element = that.element,\n                originalValue = that._value,\n                value = that._parse(element.val()) || 0,\n                precision = that.options.decimals || 2;\n\n            if (activeElement() != element[0]) {\n                that._focusin();\n            }\n\n            if (that.options.factor && value) {\n                value = value / that.options.factor;\n            }\n\n            value = +(value + that.options.step * step).toFixed(precision);\n            value = that._adjust(value);\n            that._update(value);\n            that._typing = false;\n\n            if (originalValue !== value) {\n                that.trigger(SPIN);\n            }\n        },\n\n        _toggleHover: function(e) {\n            $(e.currentTarget).toggleClass(HOVER, e.type === \"mouseenter\");\n        },\n\n        _toggleText: function(toggle) {\n            var that = this;\n\n            that._text.toggle(toggle);\n            if (toggle) {\n                that._text.removeAttr(\"aria-hidden\");\n            } else {\n                that._text.attr(\"aria-hidden\", \"true\");\n            }\n            that.element.toggle(!toggle);\n        },\n\n        _parse: function(value, culture) {\n            return parse(value, this._culture(culture), this.options.format);\n        },\n\n        _round: function(value, precision) {\n            var rounder = this.options.round ? kendo._round : truncate;\n\n            return rounder(value, precision);\n        },\n\n        _update: function(value) {\n            var that = this,\n                options = that.options,\n                factor = options.factor,\n                format = options.format,\n                decimals = options.decimals,\n                culture = that._culture(),\n                numberFormat = that._format(format, culture),\n                originalValue,\n                isNotNull;\n\n            if (decimals === NULL) {\n                decimals = numberFormat.decimals;\n            }\n\n            value = that._parse(value, culture);\n\n            isNotNull = value !== NULL;\n\n            if (isNotNull) {\n                value = parseFloat(that._round(value, decimals), 10);\n            }\n\n            that._value = value = that._adjust(value);\n            that._placeholder(kendo.toString(value, format, culture));\n\n            if (isNotNull) {\n                if (factor) {\n                    value = parseFloat(that._round(value * factor, decimals), 10);\n                }\n                value = value.toString();\n                if (value.indexOf(\"e\") !== -1) {\n                    value = that._round(+value, decimals);\n                }\n                originalValue = value;\n                value = value.replace(POINT, numberFormat[POINT]);\n            } else {\n                value = null;\n                originalValue = null;\n            }\n\n            that.element.val(value);\n            that._oldText = value;\n            that.element.add(that._text).attr(\"aria-valuenow\", originalValue);\n        },\n\n        _placeholder: function(value) {\n            var input = this._text;\n\n            input.val(value);\n            if (!placeholderSupported && !value) {\n                input.val(this.options.placeholder);\n            }\n\n            input.attr(\"title\", this.element.attr(\"title\") || input.val());\n        },\n\n        _label: function() {\n            var that = this;\n            var element = that.element;\n            var options = that.options;\n            var id = element.attr(\"id\");\n            var floating;\n            var labelText;\n\n            if (options.label !== null) {\n                floating = isPlainObject(options.label) ? options.label.floating : false;\n                labelText = isPlainObject(options.label) ? options.label.content : options.label;\n\n                if (floating) {\n                    that._floatingLabelContainer = that.wrapper.wrap(\"<span></span>\").parent();\n                    that.floatingLabel = new kendo.ui.FloatingLabel(that._floatingLabelContainer, { widget: that });\n                }\n\n                if (kendo.isFunction(labelText)) {\n                    labelText = labelText.call(that);\n                }\n\n                if (!labelText) {\n                    labelText = \"\";\n                }\n\n                if (!id) {\n                    id = options.name + \"_\" + kendo.guid();\n                    element.attr(\"id\", id);\n                }\n\n                that._inputLabel = $(\"<label class='\" + LABELCLASSES + \"' for='\" + id + \"'>\" + labelText + \"</label>'\").insertBefore(that.wrapper);\n\n                if ((that.element.attr(\"disabled\") === undefined) && (that.element.attr(\"readonly\") === undefined)) {\n                    that._inputLabel.on(\"click\" + ns, that.focus.bind(that));\n                }\n            }\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                DOMElement = element[0],\n                wrapper;\n\n            wrapper = element.parents(\".k-numerictextbox\");\n\n            if (!wrapper.is(\"span.k-numerictextbox\")) {\n                wrapper = element.hide().wrap(\"<span/>\").parent();\n            }\n\n            wrapper[0].style.cssText = DOMElement.style.cssText;\n            DOMElement.style.width = \"\";\n            that.wrapper = wrapper.addClass(\"k-numerictextbox k-input\")\n                                  .addClass(DOMElement.className)\n                                  .removeClass('input-validation-error')\n                                  .css(\"display\", \"\");\n        },\n\n        _reset: function() {\n            var that = this,\n                element = that.element,\n                formId = element.attr(\"form\"),\n                form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    setTimeout(function() {\n                        that.value(element[0].value);\n                        that.max(that._initialOptions.max);\n                        that.min(that._initialOptions.min);\n                    });\n                };\n\n                that._form = form.on(\"reset\", that._resetHandler);\n            }\n        }\n    });\n\n    kendo.cssProperties.registerPrefix(\"NumericTextBox\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"NumericTextBox\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    function buttonHtml(direction, text, options) {\n        var className = direction === \"increase\" ? \"arrow-n\" : \"arrow-s\";\n        var dir = direction === \"increase\" ? \"increase\" : \"decrease\";\n\n        return html.renderButton('<button role=\"button\" tabindex=\"-1\" unselectable=\"on\" class=\"k-spinner-' + dir + '\" aria-label=\"' + text + '\" title=\"' + text + '\"></button>', extend({}, options, {\n            icon: className,\n            shape: null,\n            rounded: null\n        }));\n    }\n\n    function truncate(value, precision) {\n        var parts = parseFloat(value, 10).toString().split(POINT);\n\n        if (parts[1]) {\n            parts[1] = parts[1].substring(0, precision);\n        }\n\n        return parts.join(POINT);\n\n    }\n\n    ui.plugin(NumericTextBox);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define){\n    define('colorpicker/colorselector',[ \"kendo.core\" ], f);\n})(function(){\n\n(function($, undefined) {\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        parseColor = kendo.parseColor,\n        TabKeyTrap = kendo.ui.Popup.TabKeyTrap,\n\n        extend = $.extend,\n\n        NS = \".kendoColorTools\",\n        KEYDOWN_NS = \"keydown\" + NS,\n        DISABLED = \"k-disabled\";\n\n    var ColorSelector = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            element = that.element;\n            options = that.options;\n\n            if (element.is(\"input\")) {\n                that._initialValue();\n                that._preventDefaultLabelClick();\n            } else {\n                that._value = parseColor(options.value);\n            }\n\n            that._tabIndex = element.attr(\"tabIndex\") || 0;\n\n            if (options._standalone) {\n                that._triggerSelect = that._triggerChange;\n            }\n        },\n        options: {\n            name: \"ColorSelector\",\n            ARIATemplate: 'Current selected color is #=data || \"none\"#',\n            value: null,\n            _standalone: true\n        },\n        events: [\n            \"change\",\n            \"select\",\n            \"forceSelect\",\n            \"cancel\"\n        ],\n        color: function(value) {\n            if (value !== undefined) {\n                this._value = parseColor(value);\n\n                if (this.element.is(\"input\")) {\n                    this._updateInput(this._value);\n                }\n\n                this._updateUI(this._value);\n            }\n\n            return this._value;\n        },\n        value: function(color) {\n            color = this.color(color);\n\n            if (color) {\n                if (this.options.opacity) {\n                    color = color.toCssRgba();\n                } else {\n                    color = color.toCss();\n                }\n            }\n\n            return color || null;\n        },\n        enable: function(enable) {\n            if (arguments.length === 0) {\n                enable = true;\n            }\n\n            if (this.element.is(\"input\")) {\n                this.element.attr(\"disabled\", !enable);\n            }\n\n            this.wrapper.toggleClass(DISABLED, !enable);\n\n            this._onEnable(enable);\n        },\n        _attachFocusEvents: function () {\n            this.wrapper.on(KEYDOWN_NS, this._navKeydown.bind(this))\n                .on(\"focusout\" + NS, this._navFocusout.bind(this));\n        },\n        _initialValue: function() {\n            var element = this.element,\n                options = this.options,\n                value = options.value || element.attr(\"value\");\n\n            if (value) {\n                this._value = parseColor(value, true);\n            }\n\n            this.element.val(value);\n        },\n        _innerTabindex: function(value) {\n            var wrapper = this.wrapper;\n\n            wrapper.find(\".k-draghandle, .k-button, .k-input-inner\").attr(\"tabindex\", value);\n        },\n        _isInputTypeColor: function() {\n            var el = this.element[0];\n            return (/^input$/i).test(el.tagName) && (/^color$/i).test(el.type);\n        },\n        _navFocusout: function() {\n            var that = this,\n                wrapper = that.wrapper[0];\n\n            setTimeout(function() {\n                if (!wrapper.contains(document.activeElement)) {\n                    that._releaseInnerFocus();\n                }\n            });\n        },\n        _navKeydown: function(e) {\n            var wrapper = this.wrapper;\n\n            if (e.keyCode === kendo.keys.ENTER && wrapper.attr(\"tabindex\")) {\n                e.preventDefault();\n\n                this._trapInnerFocus();\n            } else if (e.keyCode === kendo.keys.ESC && wrapper.attr(\"tabindex\") === undefined) {\n                this._releaseInnerFocus();\n                this.wrapper.trigger(\"focus\");\n            }\n        },\n        _releaseInnerFocus: function() {\n            this._tabKeyTrap.removeTrap();\n            this.wrapper.attr(\"tabindex\", this._tabIndex);\n            this._innerTabindex(-1);\n        },\n        _select: function(color, nohooks) {\n            var prev = this._value;\n\n            color = this.color(color);\n\n            if (!nohooks) {\n                if ((color && (!prev || !color.equals(prev))) || (color === null && color !== prev)) {\n                    this.element.trigger(\"change\");\n                    this.trigger(\"change\", { value: this.value() });\n                } else if (!this._standalone) {\n                    this.trigger(\"cancel\");\n                }\n            }\n        },\n        _navigation: function() {\n            var value = this.value();\n\n            if (value && value.indexOf(\"rgba\") > -1) {\n                value = value.replace(\"rgba\", \"RGBA\");\n            };\n\n            if (this.options._otOfPicker) {\n                this._innerTabindex(-1);\n                this._attachFocusEvents();\n                this._tabKeyTrap = new TabKeyTrap(this.wrapper);\n\n                this._ariaTemplate = kendo.template(this.options.ARIATemplate);\n                this.wrapper.attr({\n                    \"aria-label\": this._ariaTemplate(value || \"\"),\n                    tabindex: this._tabIndex\n                });\n            } else {\n                this.wrapper.removeAttr(\"tabindex\");\n                this.wrapper.removeAttr(\"aria-label\");\n                this.wrapper.removeAttr(\"role\");\n                this.wrapper.removeAttr(\"aria-keyshortcuts\");\n            }\n        },\n        _trapInnerFocus: function() {\n            this._innerTabindex(0);\n            this.wrapper.removeAttr(\"tabindex\");\n            this.wrapper.find(\".k-hsv-draghandle\").trigger(\"focus\");\n            this._tabKeyTrap.trap();\n        },\n        _triggerSelect: function(color) {\n            triggerEvent(this, \"select\", color);\n        },\n        _triggerChange: function(color) {\n            triggerEvent(this, \"change\", color);\n        },\n        destroy: function() {\n            if (this.element) {\n                this.element.off(NS);\n            }\n\n            if (this.wrapper) {\n                this.wrapper.off(KEYDOWN_NS);\n                this.wrapper.off(NS).find(\"*\").off(NS);\n                this.wrapper = null;\n            }\n\n            Widget.fn.destroy.call(this);\n        },\n        _preventDefaultLabelClick: function() {\n            // if there exists a <label> associated with this\n            // input field, we must catch clicks on it to prevent\n            // the built-in color picker from showing up.\n            // https://github.com/telerik/kendo-ui-core/issues/292\n            var element = this.element,\n                label = element.closest(\"label\"),\n                id = element.attr(\"id\");\n\n            if (id) {\n                label = label.add('label[for=\"' + id + '\"]');\n            }\n            label.on(\"click\", function(ev) {\n                ev.preventDefault();\n            });\n        },\n        _updateUI: $.noop,\n        _updateInput: function(value) {\n            var formattedValue = \"\",\n                valueForLabel;\n\n            if (value) {\n                if (this._isInputTypeColor() || value.a == 1) {\n                    // seems that input type=\"color\" doesn't support opacity\n                    // in colors; the only accepted format is hex #RRGGBB\n                    formattedValue = value.toCss();\n                } else {\n                    formattedValue = value.toCssRgba();\n                }\n\n                this.element.val(formattedValue);\n            }\n\n            if (this.options._otOfPicker) {\n                if (!this._ariaTemplate) {\n                    this._ariaTemplate = kendo.template(this.options.ARIATemplate);\n                }\n\n                valueForLabel = this.value();\n\n                if (valueForLabel && valueForLabel.indexOf(\"rgba\") > -1) {\n                    valueForLabel = valueForLabel.replace(\"rgba\", \"RGBA\");\n                };\n\n                this.wrapper.attr(\"aria-label\", this._ariaTemplate(valueForLabel || \"\"));\n            }\n        },\n        _selectOnHide: function() {\n            return null;\n        },\n        _cancel: function() {\n            this.trigger(\"cancel\");\n        }\n    });\n\n    function triggerEvent(self, type, color) {\n        color = parseColor(color);\n\n        if ((color && !color.equals(self.color())) || color !== self.color()) {\n            if (type == \"change\") {\n                // UI is already updated.  setting _value directly\n                // rather than calling self.color(color) to avoid an\n                // endless loop.\n                self._value = color;\n                self._updateInput(self._value);\n            }\n            if (color && color.a != 1) {\n                color = color.toCssRgba();\n            } else if (color) {\n                color = color.toCss();\n            }\n\n            self.trigger(type, { value: color });\n        }\n    }\n\n    extend(ui, {\n        colorpicker: {\n            ColorSelector: ColorSelector\n        }\n    });\n\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n(function(f, define){\n    define('colorpicker/contrastToolUtils',[\n        \"kendo.core\"\n    ], f);\n})(function(){\n\n(function($, undefined){\n    var colorpicker = kendo.ui.colorpicker,\n        extend = $.extend,\n        Color = kendo.Color,\n        parseColor = kendo.parseColor,\n\n        AA_CONTRAST = 4.5,\n        AAA_CONTRAST = 7,\n        STEP_COUNT = 16;\n\n    // Color utils - calc contrast\n\n    function getContrast(luminance1, luminance2) {\n        var brightest = Math.max(luminance1, luminance2);\n        var darkest = Math.min(luminance1, luminance2);\n        return (brightest + 0.05) / (darkest + 0.05);\n    }\n\n    function getContrastFromTwoRGBAs(a, b) {\n        return getContrast(\n            getLuminance(getRGBFromRGBA(a, b)),\n            getLuminance(getRGBFromRGBA(b, { r: 0, g: 0, b: 0, a: 1 })));\n    }\n\n    function getLuminance (rgb) {\n        var a = [rgb.r, rgb.g, rgb.b].map(function (v) {\n            v /= 255;\n            return v <= 0.03928 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\n        });\n        return a[0] * 0.2126 + a[1] * 0.7152 + a[2] * 0.0722;\n    }\n\n    function getRGBFromRGBA(foregroundColor, backgroundColor) {\n        var r1 = fitIntoBounds(foregroundColor.r, 0, 255);\n        var g1 = fitIntoBounds(foregroundColor.g, 0, 255);\n        var b1 = fitIntoBounds(foregroundColor.b, 0, 255);\n        var a1 = fitIntoBounds(foregroundColor.a, 0, 1);\n\n        var r2 = fitIntoBounds(backgroundColor.r, 0, 255);\n        var g2 = fitIntoBounds(backgroundColor.g, 0, 255);\n        var b2 = fitIntoBounds(backgroundColor.b, 0, 255);\n\n        return {\n            r: Math.round(((1 - a1) * r2) + (a1 * r1)),\n            g: Math.round(((1 - a1) * g2) + (a1 * g1)),\n            b: Math.round(((1 - a1) * b2) + (a1 * b1))\n        };\n    }\n\n    function fitIntoBounds(contender, min, max) {\n        if (!isPresent(contender) || isNaN(contender)) {\n            return min;\n        }\n\n        return contender <= min ? min : contender >= max ? max : contender;\n    }\n\n    function isPresent(value) { return value !== null && value !== undefined; }\n\n\n    // Color utils - Contrast tool SVG path\n\n    function renderSvgCurveLine(gradientRectMetrics, hsva, backgroundColor) {\n        var findValue = function (contrast, saturation, low, high, comparer) {\n            var mid = (low + high) / 2;\n            var currentHsva = extend({}, hsva, { s: saturation / gradientRectMetrics.width, v: 1 - mid / gradientRectMetrics.height });\n            var currentContrast = getContrastFromTwoRGBAs(parseColor(getColorFromHSV(currentHsva)).toBytes(), parseColor(backgroundColor).toBytes());\n\n            if (low + 0.5 > high) {\n                if (currentContrast < contrast + 1 && currentContrast > contrast - 1) {\n                    return mid;\n                } else {\n                    return null;\n                }\n            }\n\n            if (comparer(currentContrast, contrast)) {\n                return findValue(contrast, saturation, low, high - (high - low) / 2, comparer);\n            }\n            return findValue(contrast, saturation, low + (high - low) / 2, high, comparer);\n        };\n\n        var comparer = function (a, b) {\n            return a > b;\n        };\n\n        var reversedComparer = function (a, b) {\n            return a < b;\n        };\n\n        var getPaths = function (contrast, stepCount, reversed) {\n            var points = [];\n            for (var i = 0; i <= gradientRectMetrics.width; i += gradientRectMetrics.width/stepCount) {\n               var value = findValue(contrast, i, 0, gradientRectMetrics.height, reversed ? reversedComparer : comparer);\n                if (value !== null){\n                    points.push([i, value]);\n                }\n            }\n            return points;\n        };\n\n        var bezierCommandCalc = bezierCommand(controlPoint(line));\n        var paths = svgPath(getPaths(AA_CONTRAST, STEP_COUNT, false), bezierCommandCalc) +\n                svgPath(getPaths(AA_CONTRAST, STEP_COUNT, true), bezierCommandCalc) +\n                svgPath(getPaths(AAA_CONTRAST, STEP_COUNT, false), bezierCommandCalc) +\n                svgPath(getPaths(AAA_CONTRAST, STEP_COUNT, true), bezierCommandCalc);\n\n        return '<svg xmlns=\"http://www.w3.org/2000/svg\" style=\"position: absolute; overflow: visible; pointer-events: none; left: 0px; top: 0px; z-index: 3;\" >' +\n                    paths  + '</svg>';\n    }\n\n    function svgPath(points, command) {\n        if (points.length === 0){\n            return '';\n        }\n\n        var reducer = function (acc, point, i, a) {\n            return i === 0 ?\n                // if first point\n                kendo.format(\"M {0},{1}\", point[0], point[1]) :\n                // else\n                kendo.format(\"{0} {1}\", acc, command(point, i, a));\n        };\n\n        // build the d attributes by looping over the points\n        var d = points.reduce(reducer, \"\");\n\n        return kendo.format('<path d=\"{0}\" fill=\"none\" stroke=\"white\" stroke-width=\"1\"/>', d);\n    }\n\n    function bezierCommand(controlPointCalc) {\n        return function(point, i, a) {\n            // start control point\n            var cps = controlPointCalc(a[i - 1], a[i - 2], point); // [cpsX, cpsY]\n\n            // end control point\n            var cpe = controlPointCalc(point, a[i - 1], a[i + 1], true); //  [cpeX, cpeY]\n\n            return kendo.format(\"C {0},{1} {2},{3} {4},{5}\", cps[0], cps[1], cpe[0], cpe[1], point[0], point[1]);\n        };\n    }\n\n    function controlPoint(lineCalc) {\n        return function (current, previous, next, reverse) {\n            // when 'current' is the first or last point of the array\n            // 'previous' and 'next' are undefined\n            // replace with 'current'\n                var p = previous || current;\n                var n = next || current;\n                var smooth = 0.1;\n\n                // properties of the line between previous and next\n                var l = lineCalc(p, n);\n\n                // If is end-control-point, add PI to the angle to go backward\n                var angle = l.angle + (reverse ? Math.PI : 0);\n                var length = l.length * smooth;\n\n                // The control point position is relative to the current point\n                var x = current[0] + Math.cos(angle) * length;\n                var y = current[1] + Math.sin(angle) * length;\n\n                return [x, y];\n        };\n    }\n\n    function line (pointA, pointB) {\n        var lengthX = pointB[0] - pointA[0];\n        var lengthY = pointB[1] - pointA[1];\n\n        return {\n            length: Math.sqrt(Math.pow(lengthX, 2) + Math.pow(lengthY, 2)),\n            angle: Math.atan2(lengthY, lengthX)\n        };\n    }\n\n    function getColorFromHSV (hsva) {\n        var hue = fitIntoBounds(hsva.h, 0, 359.9);\n        var saturation = fitIntoBounds(hsva.s, 0, 1);\n        var value = fitIntoBounds(hsva.v, 0, 1);\n        var alpha = fitIntoBounds(hsva.a, 0, 1);\n\n        return Color.fromHSV(hue, saturation, value, alpha).toCssRgba();\n    }\n\n    extend(colorpicker, {\n        contrastToolUtils: {\n            getContrastFromTwoRGBAs: getContrastFromTwoRGBAs,\n            renderSvgCurveLine: renderSvgCurveLine\n        }\n    });\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n(function(f, define){\n    define('colorpicker/colorgradient',[ \"kendo.core\", \"kendo.popup\", \"./contrastToolUtils\" ], f);\n})(function(){\n    var __meta__ = {\n        id: \"colorgradient\",\n        name: \"ColorGradient\",\n        category: \"web\", // suite\n        description: \"ColorGradient allows selection of a color from an HSV canvas.\",\n        depends: [\"core\", \"popup\", \"textbox\"] // dependencies\n    };\n(function($, undefined) {\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Observable = kendo.Observable,\n        parseColor = kendo.parseColor,\n        extend = $.extend,\n        Color = kendo.Color,\n        KEYS = kendo.keys,\n        BACKGROUNDCOLOR = \"background-color\",\n        WHITE = \"#ffffff\",\n        BLACK = \"#000000\",\n        NS = \".kendoColorTools\",\n        KEYDOWN_NS = \"keydown\" + NS,\n        ColorSelector = ui.colorpicker.ColorSelector,\n\n        contrastToolUtils = ui.colorpicker.contrastToolUtils;\n\n    function preventDefault(ev) { ev.preventDefault(); }\n\n    function bind(callback, obj) {\n        return function() {\n            return callback.apply(obj, arguments);\n        };\n    }\n\n    var ColorInput = Observable.extend({\n        init: function(element, options) {\n            var that = this;\n\n            that.element = element;\n            that.options = options;\n\n            that._viewModel = kendo.observable({\n                switchMode: that.switchMode.bind(that),\n                keydown: that.keydown.bind(that),\n                mode: function (mode) {\n                    return mode === this.get(\"format\");\n                },\n                format: options.format,\n                formats: options.formats,\n                rgb: null,\n                hex: function () {\n                    return this.get(\"rgb\") !== null && this.get(\"rgb\").toCss({alpha: options.opacity});\n                }\n            });\n\n            that._changeHandler = that.change.bind(that);\n\n            that._viewModel.bind(\"change\", that._changeHandler);\n\n            that._render();\n\n            that.element.on(KEYDOWN_NS, that.keydown.bind(that));\n\n            Observable.fn.init.call(that);\n        },\n        _template: kendo.template(\n            '# if (options.formats && options.formats.length > 1) { #' +\n            '<div class=\"k-vstack\">' +\n                '<button class=\"k-colorgradient-toggle-mode\" data-#:ns#role=\"button\" data-#:ns#icon=\"arrows-kpi\" data data-#:ns#bind=\"click: switchMode\" data-#:ns#fill-mode=\"flat\" data-#:ns#size=\"#: options.size #\" title=\"#: options.messages.toggleFormat #\">' +\n               '</button>' +\n            '</div>' +\n            '# } #' +\n\n\n            // HEX input\n            '# if (options.formats && options.formats.indexOf(\"hex\") >= 0) { #' +\n            '<div class=\"k-vstack k-flex-1\" data-#:ns#bind=\"visible: mode(\\'hex\\')\">' +\n                '<input type=\"text\" data-#:ns#bind=\"value: hex\" data-#:ns#role=\"textbox\" data-#:ns#size=\"#: options.size #\" tabindex=\"#:options.tabindex#\"  aria-label=\"#: options.messages.hex #\"/>' +\n                '<label class=\"k-colorgradient-input-label\">HEX</label>' +\n            '</div>' +\n            '# } #' +\n\n            // RGBA input\n            '# if (options.formats && options.formats.indexOf(\"rgb\") >= 0) { #' +\n            '<div  class=\"k-vstack\" data-#:ns#bind=\"visible: mode(\\'rgb\\')\">' +\n                '<input tabindex=\"#:options.tabindex#\" data-#:ns#bind=\"value: rgb.r\" data-#:ns#role=\"numerictextbox\" data-#:ns#size=\"#: options.size #\" data-#:ns#max=\"255\" data-#:ns#min=\"0\" data-#:ns#decimals=\"0\" data-#:ns#spinners=\"false\" data-#:ns#format=\"n0\"  aria-label=\"#: options.messages.red #\" />' +\n                '<label class=\"k-colorgradient-input-label\">R</label>' +\n            '</div>' +\n            '<div  class=\"k-vstack\" data-#:ns#bind=\"visible: mode(\\'rgb\\')\">' +\n                '<input tabindex=\"#:options.tabindex#\" data-#:ns#bind=\"value: rgb.g\" data-#:ns#role=\"numerictextbox\" data-#:ns#size=\"#: options.size #\" data-#:ns#max=\"255\" data-#:ns#min=\"0\" data-#:ns#decimals=\"0\" data-#:ns#spinners=\"false\" data-#:ns#format=\"n0\"  aria-label=\"#: options.messages.green #\" />' +\n                '<label class=\"k-colorgradient-input-label\">G</label>' +\n            '</div>' +\n            '<div  class=\"k-vstack\" data-#:ns#bind=\"visible: mode(\\'rgb\\')\">' +\n                '<input tabindex=\"#:options.tabindex#\" data-#:ns#bind=\"value: rgb.b\" data-#:ns#role=\"numerictextbox\" data-#:ns#size=\"#: options.size #\" data-#:ns#max=\"255\" data-#:ns#min=\"0\" data-#:ns#decimals=\"0\" data-#:ns#spinners=\"false\" data-#:ns#format=\"n0\"  aria-label=\"#: options.messages.blue #\"/>' +\n                '<label class=\"k-colorgradient-input-label\">B</label>' +\n            '</div>' +\n            '#if(options.opacity){#' +\n            '<div  class=\"k-vstack\" data-#:ns#bind=\"visible: mode(\\'rgb\\')\">' +\n                '<input tabindex=\"#:options.tabindex#\" data-#:ns#bind=\"value: rgb.a\" data-#:ns#role=\"numerictextbox\" data-#:ns#size=\"#: options.size #\" data-#:ns#step=\"0.1\" data-#:ns#max=\"1\" data-#:ns#min=\"0\" data-#:ns#decimals=\"1\" data-#:ns#spinners=\"false\" data-#:ns#format=\"n1\"  aria-label=\"#: options.messages.alpha #\" />' +\n                '<label class=\"k-colorgradient-input-label\">A</label>' +\n            '</div>' +\n            '# } #' +\n            '# } #'),\n        destroy: function(){\n            var that = this;\n\n            that._viewModel.unbind(\"change\", that._changeHandler);\n            kendo.unbind(that.element);\n            kendo.destroy(that.element);\n            that.element.off(KEYDOWN_NS);\n            delete that._viewModel;\n            delete that._changeHandler;\n        },\n        change: function (ev) {\n            var that = this;\n\n            if (ev.field.indexOf(\"rgb\") >= 0) {\n                that._color = that._tryParseColor(that._viewModel.rgb.toCssRgba());\n                that._viewModel.set(\"hex\", that._color.toCss({ alpha: that.options.opacity }));\n            } else if (ev.field === \"hex\") {\n                that._color = that._tryParseColor(ev.sender[ev.field]);\n                that._viewModel.set(\"rgb\", that._color);\n            }\n\n            if (!that._preventChangeEvent) {\n                that.trigger(\"change\", {value: that._color});\n            }\n        },\n        keydown: function (ev) {\n            var that = this,\n                textbox = $(ev.target).data(\"kendoTextBox\");\n\n            if (ev.keyCode === KEYS.ENTER && $(ev.target).is(\"input\")) {\n                if(textbox && textbox._change) {\n                    textbox._change();\n                }\n\n                that.trigger(\"change\", {value: that._color});\n                that.trigger(\"select\", {value: that._color});\n            }\n        },\n        reset: function () {\n            var that = this;\n\n            that._preventChangeEvent = true;\n            that._viewModel.set(\"rgb\", parseColor(BLACK));\n            delete that._preventChangeEvent;\n        },\n        switchMode: function() {\n            var that = this,\n                model = that._viewModel,\n                currentFormat = model.format,\n                index = model.formats.indexOf(currentFormat) + 1;\n\n            index = index >= model.formats.length ? 0 : index;\n\n            that._preventChangeEvent = true;\n            that._viewModel.set(\"format\", model.formats[index]);\n            delete that._preventChangeEvent;\n        },\n        value: function (color) {\n            var that = this;\n\n            that._color = (color && color.toBytes()) || parseColor(BLACK);\n            that._preventChangeEvent = true;\n            that._viewModel.set(\"rgb\", that._color);\n            delete that._preventChangeEvent;\n        },\n        _render: function() {\n            var that = this;\n\n            that.element\n                .append(that._template({ ns: kendo.ns, guid: kendo.guid(), options: that.options }))\n                .parent();\n\n            kendo.bind(that.element, that._viewModel);\n            that.element.attr(\"data-\" + kendo.ns + \"stop\", \"stop\");\n        },\n        _tryParseColor: function (color) {\n            var that = this;\n\n            try {\n                color = parseColor(color) || that._color;\n            } catch (error) {\n                color = that._color;\n            }\n\n            return color;\n        }\n    });\n\n    var ColorGradient = ColorSelector.extend({\n        init: function (element, options) {\n            var that = this,\n                value;\n\n            ColorSelector.fn.init.call(that, element, options);\n\n            options = that.options = kendo.deepExtend({}, that.options, options);\n\n            if(options.messages.previewInput) {\n                options.messages.hex = options.messages.previewInput;\n            }\n\n            options.messages = options.messages ? $.extend(that.options.messages, options.messages) : that.options.messages;\n            element = that.element;\n\n            that._wrapper();\n            that._sliders();\n            that._hsvArea();\n\n            value = that._value;\n\n            that._gradientInputs();\n            that._updateUI(value);\n            that._navigation();\n        },\n        options: {\n            name : \"ColorGradient\",\n            opacity : false,\n            hsvDragARIATemplate: 'Color well with two-dimensional slider for selecting saturation and value. Selected color is #=data || \"none\"#',\n            input : true,\n            format: \"hex\",\n            formats: [\"rgb\", \"hex\"],\n            contrastTool: false,\n            size: \"medium\",\n            messages: {\n                contrastRatio: \"Contrast ratio:\",\n                fail: \"Fail\",\n                pass: \"Pass\",\n                hex: \"HEX\",\n                toggleFormat: \"Toggle format\",\n                red: \"Red channel\",\n                green: \"Green channel\",\n                blue: \"Blue channel\",\n                alpha: \"Alpha channel\"\n            },\n            _otOfPicker: true\n        },\n        _template: kendo.template(\n            '<div class=\"k-colorgradient-canvas k-hstack\">' +\n                '<div class=\"k-hsv-rectangle\"><div class=\"k-hsv-gradient\"></div><div role=\"slider\" aria-orientation=\"undefined\" class=\"k-hsv-draghandle k-draghandle\"></div></div>' +\n\n                '<div class=\"k-hsv-controls k-hstack\">' +\n                    '<input class=\"k-hue-slider k-colorgradient-slider\" />' +\n                    '# if (opacity) { #' +\n                        '<input class=\"k-alpha-slider k-colorgradient-slider\" />' +\n                    '# } #' +\n                '</div>' +\n            '</div>' +\n\n            '# if (input) { #' +\n            '<div class=\"k-colorgradient-inputs k-hstack\">' +\n            '</div>' +\n            '# } #' +\n\n            '# if (contrastTool) { #' +\n                '<div class=\"k-colorgradient-color-contrast k-vbox\">' +\n                '</div>' +\n            '# } #'\n        ),\n        focus: function() {\n            this._hsvHandle.focus();\n        },\n        setBackgroundColor: function(color) {\n            var that = this;\n\n            if (that.options.contrastTool) {\n                that.options.contrastTool = $.isPlainObject(that.options.contrastTool) ? extend({}, that.options.contrastTool, {\n                    backgroundColor: color\n                }) : {\n                    backgroundColor: color\n                };\n\n                that._updateColorContrast(that.color() || parseColor(WHITE));\n            }\n        },\n        _getHSV: function(h, s, v, a) {\n            var that = this,\n                rect = that._hsvRect,\n                width = rect.width(),\n                height = rect.height(),\n                handlePosition = this._hsvHandle.position();\n\n            if(!width || !height) {\n                return that.color() ? that.color().toHSV() : parseColor(BLACK);\n            }\n\n            if (h == null) {\n                h = that._hueSlider.value();\n            }\n            if (s == null) {\n                s = handlePosition.left / width;\n            }\n            if (v == null) {\n                v = 1 - handlePosition.top / height;\n            }\n            if (a == null) {\n                a = that._opacitySlider ? that._opacitySlider.value() / 100 : 1;\n            }\n            return Color.fromHSV(h, s, v, a);\n        },\n        _gradientInputs: function() {\n            var that = this,\n                options = that.options;\n\n            if(that._colorgradientInputs.length) {\n                that._colorInput = new ColorInput(that._colorgradientInputs, extend({}, options, {\n                    tabindex: 0\n                }));\n\n                that._colorInput.bind(\"change\", function(ev){\n                    that._updateUI(ev.value, true);\n                });\n\n                that._colorInput.bind(\"select\", function(ev){\n                    var color = parseColor(ev.value);\n                    that._select(color);\n                    that.trigger(\"forceSelect\", { value: that.value() });\n                });\n            }\n        },\n        _hsvArea: function() {\n            var that = this,\n                wrapper = that.wrapper,\n                hsvRect = wrapper.find(\".k-hsv-rectangle\"),\n                hsvHandle = hsvRect.find(\".k-draghandle\").attr(\"tabIndex\", 0).on(KEYDOWN_NS, bind(that._hsvKeydown, that)),\n                value = this.value();\n\n            if (value && value.indexOf(\"rgba\") > -1) {\n                value = value.replace(\"rgba\", \"RGBA\");\n            };\n\n            if (!this._hsvDragAriaTemplate) {\n                this._hsvDragAriaTemplate = kendo.template(this.options.hsvDragARIATemplate);\n            }\n\n            hsvHandle.attr(\"aria-label\", this._hsvDragAriaTemplate(value || ''));\n\n            function update(x, y) {\n                var offset = this.offset,\n                    dx = x - offset.left, dy = y - offset.top,\n                    rw = this.width, rh = this.height,\n                    resultX, resultY;\n\n                dx = dx < 0 ? 0 : dx > rw ? rw : dx;\n                dy = dy < 0 ? 0 : dy > rh ? rh : dy;\n                resultX = dx / rw;\n                resultY = 1 - dy / rh;\n\n                that._svChange(resultX, resultY);\n            }\n\n            that._hsvEvents = new kendo.UserEvents(hsvRect, {\n                global: true,\n                press: function(e) {\n                    this.offset = kendo.getOffset(hsvRect);\n                    this.width = hsvRect.width();\n                    this.height = hsvRect.height();\n                    hsvHandle.focus();\n                    update.call(this, e.x.location, e.y.location);\n                },\n                start: function() {\n                    hsvRect.addClass(\"k-dragging\");\n                    hsvHandle.focus();\n                },\n                move: function(e) {\n                    e.preventDefault();\n                    update.call(this, e.x.location, e.y.location);\n                },\n                end: function() {\n                    hsvRect.removeClass(\"k-dragging\");\n                }\n            });\n\n            that._hsvRect = hsvRect;\n            that._hsvHandle = hsvHandle;\n        },\n        _hsvKeydown: function(ev) {\n            var that = this;\n            function move(prop, d) {\n                var c = that._getHSV();\n                c[prop] += d * (ev.shiftKey ? 0.01 : 0.05);\n                if (c[prop] < 0) { c[prop] = 0; }\n                if (c[prop] > 1) { c[prop] = 1; }\n                that._updateUI(c);\n                preventDefault(ev);\n            }\n            function hue(d) {\n                var c = that._getHSV();\n                c.h += d * (ev.shiftKey ? 1 : 5);\n                if (c.h < 0) { c.h = 0; }\n                if (c.h > 359) { c.h = 359; }\n                that._updateUI(c);\n                preventDefault(ev);\n            }\n            switch (ev.keyCode) {\n            case KEYS.LEFT:\n                if (ev.ctrlKey) {\n                    hue(-1);\n                } else {\n                    move(\"s\", -1);\n                }\n                break;\n            case KEYS.RIGHT:\n                if (ev.ctrlKey) {\n                    hue(1);\n                } else {\n                    move(\"s\", 1);\n                }\n                break;\n            case KEYS.UP:\n                move(ev.ctrlKey && that._opacitySlider ? \"a\" : \"v\", 1);\n                break;\n            case KEYS.DOWN:\n                move(ev.ctrlKey && that._opacitySlider ? \"a\" : \"v\", -1);\n                break;\n            case KEYS.ENTER:\n                that._select(that._getHSV());\n                break;\n            case KEYS.F2:\n                that._colorInput.element.find(\"input\").trigger(\"focus\").select();\n                break;\n            case KEYS.ESC:\n                that._cancel();\n                break;\n            }\n        },\n        _onEnable: function(enable) {\n            var wrapper = this.wrapper;\n\n            this._hueSlider.enable(enable);\n\n            if (this._opacitySlider) {\n                this._opacitySlider.enable(enable);\n            }\n\n            wrapper.find(\"input\").attr(\"disabled\", !enable);\n\n            if (this.options._standalone) {\n                if (enable) {\n                    wrapper.removeAttr(\"aria-disabled\");\n                } else {\n                    wrapper.attr(\"aria-disabled\", true);\n                }\n            }\n        },\n        _reset: function () {\n            var that = this;\n\n            if (that._colorInput) {\n                that._colorInput.reset();\n            }\n\n            that._resetHsv();\n            that._resetColorContrast();\n        },\n        _resetColorContrast: function () {\n            var that = this,\n                contrastOptions = that.options.contrastTool;\n\n            if(that._contrastTool.length) {\n                that._updateColorContrast(contrastOptions.backgroundColor ? parseColor(contrastOptions.backgroundColor) : parseColor(WHITE));\n            }\n        },\n        _resetHsv: function () {\n            var that = this,\n                color = parseColor(BLACK);\n\n            that._updateHsv(color);\n        },\n        _sliders: function() {\n            var that = this,\n                wrapper = that.wrapper,\n                hueSlider = wrapper.find(\".k-hue-slider\"),\n                opacitySlider = wrapper.find(\".k-alpha-slider\");\n\n            function hueChange(e) {\n                that._updateUI(that._getHSV(e.value, null, null, null));\n            }\n\n            hueSlider.attr(\"aria-label\", \"hue\");\n            that._hueSlider = hueSlider.kendoSlider({\n                min: 0,\n                max: 360,\n                tickPlacement: \"none\",\n                showButtons: false,\n                orientation: \"vertical\",\n                slide: hueChange,\n                change: hueChange\n            }).data(\"kendoSlider\");\n\n            function opacityChange(e) {\n                that._updateUI(that._getHSV(null, null, null, e.value / 100));\n            }\n\n            opacitySlider.attr(\"aria-label\", \"opacity\");\n            that._opacitySlider = opacitySlider.kendoSlider({\n                min: 0,\n                max: 100,\n                tickPlacement: \"none\",\n                showButtons: false,\n                orientation: \"vertical\",\n                slide: opacityChange,\n                change: opacityChange\n            }).data(\"kendoSlider\");\n        },\n        _svChange: function(s, v) {\n            var color = this._getHSV(null, s, v, null);\n            this._updateUI(color);\n        },\n        _updateColorContrast: function (color) {\n            var that = this,\n                contrastOptions = that.options.contrastTool,\n                backgroundColor = contrastOptions.backgroundColor ? parseColor(contrastOptions.backgroundColor) : parseColor(WHITE),\n                contrastRatio = contrastToolUtils.getContrastFromTwoRGBAs(parseColor(color.toCssRgba()), backgroundColor),\n                contrastRatioTemplate = kendo.template('<div class=\"k-contrast-ratio\">' +\n                                            '<span class=\"k-contrast-ratio-text\">#:messages.contrastRatio# #:kendo.toString(ratio, \"n2\")#</span>' +\n                                            '<span class=\"k-contrast-validation k-text-success\">' +\n                                                '#if (ratio > 4.5) {#' +\n                                                    '<span class=\"k-icon k-i-check\"></span>' +\n                                                '#}#' +\n                                                '#if (ratio > 7) {#' +\n                                                    '<span class=\"k-icon k-i-check\"></span>' +\n                                                '#}#' +\n                                            '</span></div>'),\n                labelTemplate = kendo.template('<div>' +\n                                            '<span>#:level#: #:limit# </span>' +\n                                            '#if (ratio > limit) {#' +\n                                            '<span class=\"k-contrast-validation k-text-success\">#:messages.pass# <span class=\"k-icon k-i-check\"></span></span>' +\n                                            '#} else {#' +\n                                            '<span class=\"k-contrast-validation k-text-error\">#:messages.fail# <span class=\"k-icon k-i-close\"></span></span>' +\n                                            '#}#' +\n                                            '</div>'),\n                output = \"\";\n\n            output += contrastRatioTemplate({\n                messages: that.options.messages,\n                ratio: contrastRatio,\n            });\n\n            output += labelTemplate({\n                messages: that.options.messages,\n                ratio: contrastRatio,\n                limit: 4.5,\n                level: \"AA\"\n            });\n\n            output += labelTemplate({\n                messages: that.options.messages,\n                ratio: contrastRatio,\n                limit: 7,\n                level: \"AAA\"\n            });\n\n            that._contrastTool.find(\".k-contrast-ratio, div\").remove();\n            that._contrastTool.append(output);\n\n            that._updateContrastSvg(backgroundColor);\n        },\n        _updateContrastSvg: function (backgroundColor) {\n            var that = this,\n                hsvRect = that._hsvRect,\n                svgClassName = \"k-color-contrast-svg\",\n                metrics = { width: hsvRect.width(), height: hsvRect.height() },\n                newSvg;\n\n            if(!metrics.width || !metrics.height) {\n                return;\n            }\n\n            newSvg = $(contrastToolUtils.renderSvgCurveLine(metrics, that._getHSV(), backgroundColor)).addClass(svgClassName);\n\n            hsvRect.find(\".\" + svgClassName).remove();\n            hsvRect.append(newSvg);\n        },\n        _updateHsv: function (color) {\n            var that = this,\n                rect = that._hsvRect;\n\n            color = color.toHSV();\n\n            that._hsvHandle.css({\n                // saturation is 0 on the left side, full (1) on the right\n                left: color.s * rect.width() + \"px\",\n                // value is 0 on the bottom, full on the top.\n                top: (1 - color.v) * rect.height() + \"px\"\n            });\n\n            that._hueElements.css(BACKGROUNDCOLOR, Color.fromHSV(color.h, 1, 1, 1).toCss());\n            that._hueSlider.value(color.h);\n\n            if (that._opacitySlider) {\n                that._opacitySlider.wrapper.find(\".k-slider-track\").css(\"background\", \"linear-gradient(to top, transparent, \" + Color.fromHSV(color.h, 1, 1, 1).toCss());\n                that._opacitySlider.value(100 * color.a);\n            }\n\n            that._updateHsvAria(color.s, color.v);\n        },\n        _updateHsvAria: function(x,y) {\n            var value = this.value();\n\n            if (value && value.indexOf(\"rgba\") > -1) {\n                value = value.replace(\"rgba\", \"RGBA\");\n            }\n\n            this._hsvHandle.attr({\n                \"aria-label\": this._hsvDragAriaTemplate(value || ''),\n                \"aria-valuenow\": Math.round(x * 100),\n                \"aria-valuetext\": \"saturation: \" + Math.round(x * 100) + \"%, value: \" + Math.round(y * 100) + \"%\"\n            });\n        },\n        _updateUI: function(color, dontChangeInput) {\n            var that = this;\n\n            if (!color) {\n                that._reset();\n                return;\n            }\n\n            if (!dontChangeInput && that._colorInput) {\n                that._colorInput.value(color);\n            }\n\n            that._triggerSelect(color);\n            that._updateHsv(color);\n\n            if(that._contrastTool.length) {\n                that._updateColorContrast(color);\n            }\n        },\n        _wrapper: function() {\n            var options = this.options,\n                wrapper;\n\n            if (this.element.is(\"input\")) {\n                wrapper = this.element.addClass(\"k-hidden\").wrap(\"<div>\").parent();\n            } else {\n                wrapper = this.element;\n            }\n\n            wrapper.addClass(\"k-colorgradient\")\n                .attr({\n                    \"role\": \"textbox\",\n                    \"aria-keyshortcuts\": \"Enter\"\n                })\n                .append(this._template(options));\n\n            this._hueElements = $(\".k-hsv-rectangle, .k-alpha-slider .k-slider-track\", wrapper);\n            this._colorgradientInputs = $(\".k-colorgradient-inputs\", wrapper);\n            this._contrastTool = $(\".k-colorgradient-color-contrast\", wrapper);\n\n            this.wrapper = wrapper;\n        },\n        destroy: function (){\n            this._hsvEvents.destroy();\n\n            this._hueSlider.destroy();\n            if (this._opacitySlider) {\n                this._opacitySlider.destroy();\n            }\n\n            if(this._colorInput) {\n                this._colorInput.destroy();\n            }\n\n            this._hueSlider = this._opacitySlider = this._hsvRect = this._hsvHandle =\n                this._hueElements = this._selectedColor = this._colorAsText =\n                this._contrastTool = null;\n\n            ColorSelector.fn.destroy.call(this);\n        }\n    });\n\n    ui.plugin(ColorGradient);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n(function(f, define){\n    define('colorpicker/colorpalette',[\n        \"kendo.core\"\n    ], f);\n})(function(){\n\n(function($, undefined){\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        parseColor = kendo.parseColor,\n        KEYS = kendo.keys,\n        DOT = \".\",\n        BACKGROUNDCOLOR = \"background-color\",\n        ITEMSELECTEDCLASS = \"k-selected\",\n        ITEMSFOCUSEDCLASS = \"k-focus\",\n        TILE_CLASS = \"k-colorpalette-tile\",\n        SIMPLEPALETTE = \"000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7\",\n        WEBPALETTE = \"FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000\",\n        NS = \".kendoColorTools\",\n        FOCUS_NS = \"focus\" + NS,\n        CLICK_NS = \"click\" + NS,\n        KEYDOWN_NS = \"keydown\" + NS,\n        BLUR_NS = \"blur\" + NS,\n        ColorSelector = ui.colorpicker.ColorSelector;\n\n    function preventDefault(ev) { ev.preventDefault(); }\n\n    function bind(callback, obj) {\n        return function() {\n            return callback.apply(obj, arguments);\n        };\n    }\n\n    function relative(array, element, delta) {\n        array = Array.prototype.slice.call(array);\n        var n = array.length;\n        var pos = array.indexOf(element);\n        if (pos < 0) {\n            return delta < 0 ? array[n - 1] : array[0];\n        }\n        pos += delta;\n        if (pos < 0) {\n            pos += n;\n        } else {\n            pos %= n;\n        }\n        return array[pos];\n    }\n\n    var ColorPalette = ColorSelector.extend({\n        init: function(element, options) {\n            var that = this;\n\n            ColorSelector.fn.init.call(that, element, options);\n\n            that._tabIndex = this.element.attr(\"tabindex\") || 0;\n\n            that._wrapper();\n\n            options = that.options;\n\n            that._selectedID = (options.ariaId || kendo.guid()) + \"_selected\";\n            that._ariaTemplate = kendo.template(that.options.ARIATemplate);\n\n            if (that._value) {\n                that._updateUI(that._value);\n                that.wrapper.find(DOT + ITEMSFOCUSEDCLASS).removeClass(ITEMSFOCUSEDCLASS);\n            }\n\n            that.wrapper.attr(\"aria-label\", that._ariaTemplate(that.value() || \"\"));\n\n            that._attachEvents();\n        },\n        focus: function(){\n            if (this.wrapper && !this.wrapper.is(\"[unselectable='on']\")) {\n                this.wrapper.trigger(\"focus\");\n            }\n        },\n        options: {\n            name: \"ColorPalette\",\n            columns: 10,\n            tileSize: null,\n            palette: \"basic\"\n        },\n        _attachEvents: function() {\n            var that = this;\n\n            that.wrapper.on(CLICK_NS, DOT + TILE_CLASS, function(ev){\n                that._select(ev.currentTarget);\n            })\n            .on(KEYDOWN_NS, bind(that._keydown, that))\n            .on(BLUR_NS, function(){\n                that.wrapper.find(DOT + TILE_CLASS).removeClass(ITEMSFOCUSEDCLASS);\n            })\n            .on(FOCUS_NS, bind(that._focus, that));\n        },\n        _colors: function() {\n            var options = this.options,\n                colors = options.palette || \"basic\";\n\n            if (colors == \"websafe\") {\n                colors = WEBPALETTE;\n                options.columns = 18;\n            } else if (colors == \"basic\") {\n                colors = SIMPLEPALETTE;\n            }\n\n            if (typeof colors == \"string\") {\n                colors = colors.split(\",\");\n            }\n\n            if (Array.isArray(colors)) {\n                colors = $.map(colors, function(x) { return parseColor(x); });\n            }\n\n            return colors;\n        },\n        _current: function(item) {\n            this.wrapper.find(DOT + TILE_CLASS)\n                .removeClass(ITEMSFOCUSEDCLASS)\n                .removeAttr(\"id\");\n\n            $(item)\n                .addClass(ITEMSFOCUSEDCLASS)\n                .attr(\"id\", this._selectedID);\n\n            this.wrapper\n                .removeAttr(\"aria-activedescendant\")\n                .attr(\"aria-activedescendant\", this._selectedID);\n        },\n        _focus: function() {\n            var wrapper = this.wrapper,\n                selected = wrapper.find(\"#\" + this._selectedID);\n\n            if (selected.length === 0) {\n                this._current(wrapper.find(DOT + TILE_CLASS).first());\n            }\n        },\n        _keydown: function(e) {\n            var newCurrent,\n                wrapper = this.wrapper,\n                items = wrapper.find(DOT + TILE_CLASS),\n                current = items.filter(DOT + ITEMSFOCUSEDCLASS).get(0) || items.filter(DOT + ITEMSELECTEDCLASS).get(0),\n                keyCode = e.keyCode,\n                index;\n\n            if (current) {\n                index = Array.prototype.indexOf.call(current.parentNode.children, current);\n            }\n\n            if (keyCode == KEYS.LEFT) {\n                newCurrent = current ? current.previousSibling : items[items.length - 1];\n            } else if (keyCode == KEYS.RIGHT) {\n                newCurrent = current ? current.nextSibling : items[0];\n            } else if (keyCode == KEYS.DOWN) {\n                newCurrent = current ? (current.parentNode.nextSibling ? current.parentNode.nextSibling.children[index] : null) : items[0];\n            } else if (keyCode == KEYS.UP) {\n                newCurrent = current ? (current.parentNode.previousSibling ? current.parentNode.previousSibling.children[index] : null) : items.get[items.length - 1];\n            } else if (keyCode == KEYS.ENTER) {\n                preventDefault(e);\n                if (current) {\n                    this._select(current);\n                    this.trigger(\"forceSelect\", { value: this.value() });\n                    return;\n                }\n            } else if (keyCode == KEYS.ESC) {\n                this._cancel();\n            }\n\n            if (newCurrent && newCurrent.nodeType !== 1) {\n                newCurrent = null;\n            }\n\n            if (newCurrent) {\n                preventDefault(e);\n\n                this._current(newCurrent);\n            }\n        },\n        _onEnable: function(enable) {\n            if (this.options._standalone) {\n                if (enable) {\n                    this.wrapper.attr(\"tabindex\", this._tabIndex);\n                    this.wrapper.removeAttr(\"aria-disabled\");\n                } else {\n                    this.wrapper.removeAttr(\"tabindex\");\n                    this.wrapper.attr(\"aria-disabled\", true);\n                }\n            }\n        },\n        _select: function(item) {\n            var that = this,\n                items = that.wrapper.find(DOT + TILE_CLASS);\n\n            item = $(item);\n\n            ColorSelector.fn._select.call(that, item.css(BACKGROUNDCOLOR));\n\n            items.removeClass(ITEMSELECTEDCLASS).removeAttr(\"aria-selected\");\n            item.addClass(ITEMSELECTEDCLASS).attr(\"aria-selected\", true);\n        },\n        _template: kendo.template(\n            '<div class=\"k-colorpalette-table-wrap\">' +\n            '<table class=\"k-colorpalette-table k-palette\" role=\"presentation\"><tr role=\"row\">' +\n              '# for (var i = 0; i < colors.length; ++i) { #' +\n                '# var selected = colors[i].equals(value); #' +\n                '# if (i && i % columns == 0) { # </tr><tr role=\"row\"> # } #' +\n                '<td role=\"gridcell\" unselectable=\"on\" style=\"background-color:#= colors[i].toCss() #\"' +\n                    '#= selected ? \" aria-selected=true\" : \"\" # ' +\n                    '#=(id && i === 0) ? \"id=\\\\\"\"+id+\"\\\\\" \" : \"\" # ' +\n                    'class=\"k-colorpalette-tile#= selected ? \" ' + ITEMSELECTEDCLASS + '\" : \"\" #\" ' +\n                    'aria-label=\"#= colors[i].toCss() #\"></td>' +\n              '# } #' +\n            '</tr></table></div>'\n        ),\n        _tileSize: function() {\n            var tileSize = this.options.tileSize,\n                width, height;\n\n            if (tileSize) {\n                if (/number|string/.test(typeof tileSize)) {\n                    width = height = parseFloat(tileSize);\n                } else if (typeof tileSize == \"object\") {\n                    width = parseFloat(tileSize.width);\n                    height = parseFloat(tileSize.height);\n                } else {\n                    throw new Error(\"Unsupported value for the 'tileSize' argument\");\n                }\n                this.wrapper.find(DOT + TILE_CLASS).css({ width: width, height: height });\n            }\n        },\n        _updateUI: function(color) {\n            var item = null,\n                items = this.wrapper.find(DOT + TILE_CLASS);\n\n            this.wrapper.find(DOT + TILE_CLASS).each(function(){\n                var c = parseColor($(this).css(BACKGROUNDCOLOR));\n\n                if (c && c.equals(color)) {\n                    item = this;\n\n                    return false;\n                }\n            });\n\n            this._current(item);\n\n            items.removeClass(ITEMSELECTEDCLASS);\n\n            if (item) {\n                $(item).addClass(ITEMSELECTEDCLASS);\n                this.wrapper.attr(\"aria-label\", this._ariaTemplate(this.value() || \"\"));\n            }\n        },\n        _wrapper: function() {\n            var options = this.options,\n                colors = this._colors(),\n                wrapper;\n\n            if (this.element.is(\"input\")) {\n                wrapper = this.element.addClass(\"k-hidden\").wrap(\"<div>\").parent();\n            } else {\n                wrapper = this.element;\n            }\n\n            wrapper.addClass(\"k-colorpalette\")\n                .attr(\"role\", \"grid\")\n                .append($(this._template({\n                    colors: colors,\n                    columns: options.columns,\n                    tileSize: options.tileSize,\n                    value: this._value,\n                    id: options.ariaId\n                })))\n                .attr(\"tabindex\", this._tabIndex);\n\n            this.wrapper = wrapper;\n            this._tileSize();\n        }\n    });\n\n\n    ui.plugin(ColorPalette);\n\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('colorpicker/flatcolorpicker',[\n        \"./colorgradient\",\n        \"./colorpalette\",\n        \"kendo.html.button\"\n    ], f);\n})(function(){\n\n(function($, undefined){\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        html = kendo.html,\n        Color = kendo.Color,\n        extend = $.extend,\n        BACKGROUNDCOLOR = \"background-color\",\n        MESSAGES = {\n            apply  : \"Apply\",\n            cancel : \"Cancel\",\n            noColor: \"no color\",\n            clearColor: \"Clear color\",\n            previewInput: null,\n            contrastRatio: \"Contrast ratio:\",\n            fail: \"Fail\",\n            pass: \"Pass\",\n            hex: \"HEX\",\n            toggleFormat: \"Toggle format\",\n            red: \"Red\",\n            green: \"Green\",\n            blue: \"Blue\",\n            alpha: \"Alpha\",\n            gradient: \"Gradient view\",\n            palette: \"Palette view\"\n        },\n        NS = \".kendoColorTools\",\n        CLICK_NS = \"click\" + NS,\n        KEYDOWN_NS = \"keydown\" + NS,\n        ColorSelector = ui.colorpicker.ColorSelector,\n        KEYS = kendo.keys,\n\n        NO_COLOR = \"k-no-color\",\n        SELECTED = \"k-selected\",\n        PREVIEW_MASK = \".k-color-preview-mask\",\n\n        ARIA_PRESSED = \"aria-pressed\",\n        ARIA_DISABLED = \"aria-disabled\",\n\n        VIEWS = {\n            \"gradient\": ui.ColorGradient,\n            \"palette\": ui.ColorPalette\n        };\n\n    function bind(callback, obj) {\n        return function() {\n            return callback.apply(obj, arguments);\n        };\n    }\n\n    var FlatColorPicker = ColorSelector.extend({\n        init: function(element, options) {\n            var that = this;\n\n            if (options && options.autoupdate === false) {\n                options._standalone = false;\n            }\n\n            ColorSelector.fn.init.call(that, element, options);\n            options = that.options = kendo.deepExtend({}, that.options, options);\n            element = that.element;\n\n            that._wrapper();\n\n            var value = that.color();\n\n            that._changeView(options.view);\n\n            that._setViewSize();\n\n            if (value) {\n                that._updateUI(value);\n                that._previousColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, value.toDisplay());\n                that._selectedColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, value.toDisplay());\n            } else {\n                that._selectedColor.addClass(NO_COLOR);\n                that._previousColor.addClass(NO_COLOR);\n            }\n\n            that._attachEvents();\n            that._navigation();\n        },\n        destroy: function() {\n            var that = this;\n\n            ColorSelector.fn.destroy.call(this);\n\n            if (that._view) {\n                that._view.destroy();\n                that._viewsContainer.empty();\n            }\n\n            that.element.off(NS);\n\n            that._selectedColor = that._previousColor = that._viewsContainer = that._view = null;\n        },\n        options: {\n            name: \"FlatColorPicker\",\n            opacity: false,\n            buttons: false,\n            input: true,\n            preview: true,\n            clearButton: false,\n            format: \"hex\",\n            formats: [\"rgb\", \"hex\"],\n            view: \"gradient\",\n            views: [\"gradient\", \"palette\"],\n            palette: null,\n            autoupdate : true,\n            backgroundColor: null,\n            columns: 10,\n            tileSize: 24,\n            messages   : MESSAGES,\n            size: \"medium\", // Fake styling option to accomplish colorpicker's size for textbox and button\n            _otOfPicker: true\n        },\n        setBackgroundColor: function (color) {\n            var that = this;\n\n            if(that._view && that._view.setBackgroundColor) {\n                that._view.setBackgroundColor(color);\n            }\n        },\n        _attachEvents: function() {\n            var that = this;\n\n            that.wrapper\n                .on(KEYDOWN_NS, bind(that._keydown, that))\n                .on(CLICK_NS, \".k-coloreditor-reset\", function () {\n                    that._clearColor = true;\n                    that._updateUI(null);\n                    that._view.value(null);\n                })\n                .on(CLICK_NS, \".k-coloreditor-apply\", function(){\n                    if(that._clearColor) {\n                        that._select(null);\n                    } else {\n                        that._select(that._view.color());\n                    }\n                })\n                .on(CLICK_NS, \".k-coloreditor-cancel\", function(){\n                    delete that._clearColor;\n                    that._updateUI(that.color());\n                    that._cancel();\n                })\n                .on(CLICK_NS, \".k-button[data-view]\", function(ev){\n                    var viewButton =  $(ev.target).closest(\"[data-view]\");\n\n                    if(viewButton.is(\".\" + SELECTED)) {\n                        return;\n                    }\n\n                    that.wrapper.find(\".k-button[data-view]\").removeClass(SELECTED).attr(ARIA_PRESSED, false);\n                    viewButton.addClass(SELECTED).attr(ARIA_PRESSED, true);\n                    that._changeView(viewButton.data(\"view\"));\n                });\n        },\n        _select: function(value) {\n            var that = this;\n\n            ColorSelector.fn._select.call(that, value);\n\n            that._updatePreviousColor(value);\n        },\n        _updatePreviousColor: function (value) {\n            var that = this;\n\n            if (value) {\n                that._previousColor.removeClass(NO_COLOR);\n                that._previousColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, value.toDisplay());\n            } else {\n                that._previousColor.addClass(NO_COLOR);\n                that._previousColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, \"\");\n            }\n        },\n        _changeView: function (mode) {\n            var that = this,\n                options = $.extend({}, that.options),\n                selector =  VIEWS[mode],\n                selectedColor, hsvColor;\n\n            if(that._view && that._view._colorInput) {\n                that.options.format = that._view._colorInput._viewModel.format;\n            }\n\n            that.options.view = mode;\n\n            delete options.name;\n            delete options.change;\n            delete options.select;\n            delete options.cancel;\n            delete options._standalone;\n\n            if (that._view) {\n                selectedColor = that._view.color();\n                that._view.destroy();\n                that._viewsContainer.empty();\n            }\n\n            if (selectedColor) {\n                selectedColor = selectedColor.toHSV();\n                hsvColor = Color.fromHSV(that._cachedHue || 0, selectedColor.s, selectedColor.v, selectedColor.a);\n                that._cachedHue = selectedColor.toHSV().h;\n                selectedColor = selectedColor.equals(hsvColor) ? hsvColor : selectedColor;\n            }\n\n            options._otOfPicker = false;\n\n            if (selector) {\n                that._view = new VIEWS[mode]($(\"<div></div>\").appendTo(that._viewsContainer), options);\n                that._view.value(selectedColor);\n\n                that._view.bind(\"change\", function (ev) {\n                    delete that._clearColor;\n                    that._updateUI(ev.sender.color(), true);\n                });\n\n                that._view.bind(\"forceSelect\", function (ev) {\n                    delete that._clearColor;\n                    that._select(ev.sender.color());\n                });\n            }\n        },\n        _onEnable: function(enable) {\n            var that = this;\n\n            if (that._view) {\n                that._view._onEnable(enable);\n            }\n\n            if (that.options._standalone) {\n                if (enable) {\n                    that.wrapper.removeAttr(ARIA_DISABLED);\n                } else {\n                    that.wrapper.attr(ARIA_DISABLED, true);\n                }\n            }\n        },\n        focus: function() {\n            var that = this;\n\n            if (that._view) {\n                that._view.focus();\n            }\n        },\n        _updateUI: function(color, dontChangeView) {\n            var that = this;\n\n            if (color && color.toDisplay) {\n                that._selectedColor.removeClass(NO_COLOR);\n                that._selectedColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, color.toDisplay());\n            } else {\n                that._selectedColor.addClass(NO_COLOR);\n                that._selectedColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, \"\");\n            }\n\n            that._triggerSelect(color);\n\n            if (that.options.autoupdate) {\n                that._updatePreviousColor(color);\n            }\n\n            if(!dontChangeView) {\n                that._view.value(color);\n            }\n        },\n        _setViewSize: function() {\n            var that = this,\n                wrapper = that.wrapper[0],\n                previewWidth = parseInt((that.options.tileSize.width || that.options.tileSize), 10),\n                previewHeight = parseInt((that.options.tileSize.width || that.options.tileSize), 10),\n                previewColumns = that.options.columns;\n\n            wrapper.style.setProperty(\"--kendo-color-preview-columns\", previewColumns);\n            wrapper.style.setProperty(\"--kendo-color-preview-width\", previewWidth + \"px\");\n            wrapper.style.setProperty(\"--kendo-color-preview-height\", previewHeight + \"px\");\n        },\n        _keydown: function(e) {\n            if (e.keyCode == KEYS.ESC) {\n                this._cancel();\n            }\n        },\n        _template: function () {\n            var that = this,\n                options = that.options,\n                buttonOptions = extend({}, options, {\n                    fillMode: \"flat\",\n                    themeColor: \"base\",\n                    rounded: \"medium\"\n                });\n\n            return kendo.template(\n                    '<div class=\"k-coloreditor-header k-hstack\">' +\n                        '# if (views && views.length > 1) { #' +\n                        '<div class=\"k-coloreditor-header-actions k-hstack\">' +\n                            '<div role=\"group\" class=\"k-button-group k-button-group-flat\">' +\n                                html.renderButton('<button aria-pressed=\"false\" data-view=\"gradient\" title=\"#:messages.gradient#\"></button>', extend({ icon: \"color-canvas\" }, buttonOptions)) +\n                                html.renderButton('<button aria-pressed=\"false\" data-view=\"palette\" title=\"#:messages.palette#\"></button>', extend({ icon: \"palette\" }, buttonOptions)) +\n                            '</div>' +\n                        '</div>' +\n                        '# } #' +\n                        '<div class=\"k-spacer\"></div>' +\n                        '<div class=\"k-coloreditor-header-actions k-hstack\">' +\n                            '# if (clearButton) { #' +\n                            html.renderButton('<button class=\"k-coloreditor-reset\" title=\"#:messages.clearColor#\"></button>', extend({ icon: \"reset-color\" }, buttonOptions)) +\n                            '# } #' +\n                            '# if (preview) { #' +\n                            '<div class=\"k-coloreditor-preview k-vstack\">' +\n                                '<span class=\"k-coloreditor-preview-color k-color-preview\">' +\n                                    '<span class=\"k-color-preview-mask\"></span>' +\n                                '</span>' +\n                                '<span class=\"k-coloreditor-current-color k-color-preview\">' +\n                                    '<span class=\"k-color-preview-mask\"></span>' +\n                                '</span>' +\n                            '</div>' +\n                            '# } #' +\n                        '</div>' +\n                    '</div>' +\n                    '<div class=\"k-coloreditor-views k-vstack\"></div>' +\n                    '# if (buttons) { #' +\n                    '<div class=\"k-coloreditor-footer k-actions k-hstack k-justify-content-end\">' +\n                        html.renderButton('<button class=\"k-coloreditor-cancel\" title=\"#:messages.cancel#\">#: messages.cancel #</button>', extend({}, buttonOptions, { fillMode: \"solid\" })) +\n                        html.renderButton('<button class=\"k-coloreditor-apply\" title=\"#:messages.apply#\">#: messages.apply #</button>', extend({}, buttonOptions, { fillMode: \"solid\", themeColor: \"primary\" })) +\n                    '</div>' +\n                    '# } #'\n                )(options);\n        },\n        _wrapper: function() {\n            var options = this.options,\n                wrapper;\n\n            if (this.element.is(\"input\")) {\n                wrapper = this.element.addClass(\"k-hidden\").wrap(\"<div>\").parent();\n            } else {\n                wrapper = this.element;\n            }\n\n            wrapper.addClass(\"k-flatcolorpicker k-coloreditor\")\n                .attr({\n                    \"role\": \"textbox\",\n                    \"aria-keyshortcuts\": \"Enter\"\n                })\n                .append(this._template());\n\n            this._selectedColor = $(\".k-coloreditor-preview-color\", wrapper);\n            this._previousColor = $(\".k-coloreditor-current-color\", wrapper);\n            this._viewsContainer = $(\".k-coloreditor-views\", wrapper);\n\n            wrapper.find(\".k-button[data-view=\" + options.view + \"]\").addClass(SELECTED).attr(ARIA_PRESSED, true);\n\n            this.wrapper = wrapper;\n        }\n    });\n\n    ui.plugin(FlatColorPicker);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.colorpicker',[\n        \"kendo.core\",\n        \"kendo.color\",\n        \"kendo.popup\",\n        \"kendo.slider\",\n        \"kendo.userevents\",\n        \"kendo.button\",\n        \"kendo.binder\",\n        \"kendo.textbox\",\n        \"kendo.numerictextbox\",\n        \"kendo.html.button\",\n\n        \"./colorpicker/colorselector\",\n        \"./colorpicker/flatcolorpicker\"\n    ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"colorpicker\",\n    name: \"Color tools\",\n    category: \"web\",\n    description: \"Color selection widgets\",\n    depends: [ \"core\", \"color\", \"popup\", \"slider\", \"userevents\", \"button\", \"binder\", \"textbox\", \"numerictextbox\", \"html.button\" ]\n};\n\n(function($, undefined) {\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        Color = kendo.Color,\n        parseColor = kendo.parseColor,\n        KEYS = kendo.keys,\n        BACKGROUNDCOLOR = \"background-color\",\n        MESSAGES = {\n            apply: \"Apply\",\n            cancel: \"Cancel\",\n            noColor: \"no color\",\n            clearColor: \"Clear color\",\n            previewInput: null,\n            contrastRatio: \"Contrast ratio:\",\n            fail: \"Fail\",\n            pass: \"Pass\",\n            hex: \"HEX\",\n            toggleFormat: \"Toggle format\",\n            red: \"Red\",\n            green: \"Green\",\n            blue: \"Blue\",\n            alpha: \"Alpha\",\n            gradient: \"Gradient view\",\n            palette: \"Palette view\"\n        },\n        NS = \".kendoColorTools\",\n        CLICK_NS = \"click\" + NS,\n        KEYDOWN_NS = \"keydown\" + NS,\n        ColorSelector = ui.colorpicker.ColorSelector,\n        FlatColorPicker = ui.FlatColorPicker;\n\n    /* -----[ The ColorPicker widget ]----- */\n\n    var ColorPicker = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            // Legacy support for the cases where only palette is defined\n            if (options && options.palette && !options.view) {\n                options.view = \"palette\";\n            }\n\n            Widget.fn.init.call(that, element, options);\n            options = that.options = kendo.deepExtend({}, that.options, options);\n            element = that.element;\n\n            var value = element.attr(\"value\") || element.val();\n            if (value) {\n                value = parseColor(value, true);\n            } else {\n                value = parseColor(options.value, true);\n            }\n            that._value = options.value = value;\n\n            var _buttonHtml = kendo.html.renderButton('<button class=\"k-input-button\" unselectable=\"on\" aria-label=\"select\" tabindex=\"-1\"></button>', $.extend({}, that.options, {\n                icon: \"arrow-s\"\n            }));\n\n            var content = that._inputWrapper = that.wrapper = $(that._template($.extend({}, that.options, {\n                _buttonHtml: _buttonHtml\n            })));\n\n            that._applyCssClasses();\n            element.hide().after(content);\n\n            if (element.is(\"input\")) {\n                element.appendTo(content);\n                that._preventDefaultLabelClick();\n            }\n\n            that._tabIndex = element.attr(\"tabIndex\") || 0;\n\n            that.enable(!element.attr(\"disabled\"));\n\n            var accesskey = element.attr(\"accesskey\");\n            if (accesskey) {\n                element.attr(\"accesskey\", null);\n                content.attr(\"accesskey\", accesskey);\n            }\n\n            that.bind(\"activate\", function(ev) {\n                if (!ev.isDefaultPrevented()) {\n                    that.toggle();\n                }\n            });\n\n            that._updateUI(value);\n        },\n        destroy: function() {\n            this.wrapper.off(NS).find(\"*\").off(NS);\n            if (this._popup) {\n                this._selector.destroy();\n                this._popup.destroy();\n            }\n            this._selector = this._popup = this.wrapper = null;\n            Widget.fn.destroy.call(this);\n        },\n        enable: function(enable) {\n            var that = this,\n                wrapper = that.wrapper,\n                arrow = wrapper.find(\".k-input-button\");\n\n            if (arguments.length === 0) {\n                enable = true;\n            }\n\n            that.element.attr(\"disabled\", !enable);\n            wrapper.attr(\"aria-disabled\", !enable);\n\n            arrow.off(NS).on(\"mousedown\" + NS, preventDefault);\n\n            wrapper.addClass(\"k-disabled\")\n                .removeAttr(\"tabIndex\")\n                .add(\"*\", wrapper).off(NS);\n\n            if (enable) {\n                wrapper.removeClass(\"k-disabled\")\n                    .attr(\"tabIndex\", that._tabIndex)\n                    .on(\"mouseenter\" + NS, function() { wrapper.addClass(\"k-hover\"); })\n                    .on(\"mouseleave\" + NS, function() { wrapper.removeClass(\"k-hover\"); })\n                    .on(\"focus\" + NS, function() { wrapper.addClass(\"k-focus\"); })\n                    .on(\"blur\" + NS, function() { wrapper.removeClass(\"k-focus\"); })\n                    .on(KEYDOWN_NS, bind(that._keydown, that))\n                    .on(CLICK_NS, \".k-input-button\", bind(that.toggle, that))\n                    .on(CLICK_NS, \".k-input-inner\", function() {\n                        that.trigger(\"activate\");\n                    });\n            } else {\n                that.close();\n            }\n        },\n\n        _template: kendo.template(\n            '<span role=\"textbox\" aria-haspopup=\"true\" class=\"k-colorpicker k-picker k-icon-picker\">' +\n                '<span  class=\"k-input-inner\">' +\n                    '<span class=\"k-value-icon k-color-preview #: toolIcon ? \"k-icon-color-preview\" : \"\" #\">' +\n                        '# if (toolIcon) { #' +\n                        '<span class=\"k-color-preview-icon k-icon #= toolIcon #\"></span>' +\n                        '# } #' +\n                        '<span class=\"k-color-preview-mask\"></span>' +\n                    '</span>' +\n                '</span >' +\n                '#= _buttonHtml #' +\n            '</span>'\n        ),\n\n        options: {\n            name: \"ColorPicker\",\n            closeOnSelect: false,\n            contrastTool: false,\n            palette: null,\n            columns: 10,\n            toolIcon: null,\n            value: null,\n            messages: MESSAGES,\n            opacity: false,\n            buttons: true,\n            preview: true,\n            clearButton: false,\n            input: true,\n            format: \"hex\",\n            formats: [\"rgb\", \"hex\"],\n            view: \"gradient\",\n            views: [\"gradient\", \"palette\"],\n            backgroundColor: null,\n            ARIATemplate: 'Current selected color is #=data || \"none\"#',\n            size: \"medium\",\n            rounded: \"medium\",\n            fillMode: \"solid\"\n        },\n\n        events: [ \"activate\", \"change\", \"select\", \"open\", \"close\" ],\n\n        open: function() {\n            if (!this.element.prop(\"disabled\")) {\n                this._getPopup().open();\n            }\n        },\n        close: function() {\n            var selOptions = (this._selector && this._selector.options) || {};\n            selOptions._closing = true;\n            this._getPopup().close();\n\n            delete selOptions._closing;\n        },\n        toggle: function() {\n            if (!this.element.prop(\"disabled\")) {\n                this._getPopup().toggle();\n            }\n        },\n        setBackgroundColor: function(color) {\n            var that = this,\n                handler = function() { that._selector.setBackgroundColor(color); };\n\n            that.options.contrastTool.backgroundColor = color;\n\n            if (that._selector && (that._popup && that._popup.visible())) {\n                that._selector.setBackgroundColor(color);\n            } else if (that._popup) {\n                that._popup.unbind(\"activate\", handler);\n                that._popup.bind(\"activate\", handler);\n            }\n        },\n        _noColorIcon: function() {\n            return this.wrapper.find(\".k-color-preview\");\n        },\n        color: ColorSelector.fn.color,\n        value: ColorSelector.fn.value,\n        _select: ColorSelector.fn._select,\n        _triggerSelect: ColorSelector.fn._triggerSelect,\n        _isInputTypeColor: ColorSelector.fn._isInputTypeColor,\n\n        _preventDefaultLabelClick: function() {\n            // if there exists a <label> associated with this\n            // input field, we must catch clicks on it to prevent\n            // the built-in color picker from showing up.\n            // https://github.com/telerik/kendo-ui-core/issues/292\n            var that = this,\n                element = that.element,\n                label = element.closest(\"label\"),\n                id = element.attr(\"id\");\n\n            if (id) {\n                label = label.add('label[for=\"' + id + '\"]');\n            }\n            label.on(\"click\", function(ev) {\n                that.open();\n                ev.preventDefault();\n            });\n        },\n\n        _updateUI: function(value, dontChangeSelector) {\n            this._updateInput(value);\n            this._triggerSelect(value);\n\n            this.wrapper.find(\".k-color-preview-mask\").css(\n                BACKGROUNDCOLOR,\n                value ? value.toDisplay() : \"\"\n            );\n\n            this._noColorIcon().toggleClass(\"k-no-color\", !value);\n\n            if (this._selector && !dontChangeSelector) {\n                this._selector.value(value);\n            }\n        },\n        _updateInput: function(value) {\n            var formattedValue = \"\";\n\n            if (value) {\n                if (this._isInputTypeColor() || value.a == 1) {\n                    // seems that input type=\"color\" doesn't support opacity\n                    // in colors; the only accepted format is hex #RRGGBB\n                    formattedValue = value.toCss();\n                } else {\n                    formattedValue = value.toCssRgba();\n                }\n\n                this.element.val(formattedValue);\n            }\n\n            if (!this._ariaTemplate) {\n                this._ariaTemplate = kendo.template(this.options.ARIATemplate);\n            }\n\n            this.wrapper.attr(\"aria-label\", this._ariaTemplate(formattedValue));\n        },\n        _keydown: function(ev) {\n            var key = ev.keyCode;\n            if (this._getPopup().visible()) {\n                if (key == KEYS.ESC) {\n                    this._selector._cancel();\n                } else {\n                    this._selector._keydown(ev);\n                }\n                preventDefault(ev);\n            }\n            else if (key == KEYS.ENTER || key == KEYS.DOWN) {\n                this.open();\n                preventDefault(ev);\n            }\n        },\n        _getPopup: function() {\n            var that = this, popup = that._popup;\n\n            if (!popup) {\n                var options = that.options;\n                var selectorType;\n\n                selectorType = FlatColorPicker;\n\n                options.autoupdate = options.buttons !== true;\n                delete options.select;\n                delete options.change;\n                delete options.cancel;\n\n                options._otOfPicker = false;\n\n                var id = kendo.guid();\n\n                var selectorWrapper = $('<div id=\"' + id + '\" class=\"k-colorpicker-popup\"></div>').appendTo(document.body);\n                var selector = that._selector = new selectorType($('<div></div>').appendTo(selectorWrapper), options);\n\n                that.wrapper.attr(\"aria-owns\", id);\n\n                that._popup = popup = selectorWrapper.kendoPopup({\n                    anchor: that.wrapper,\n                    adjustSize: { width: 5, height: 0 }\n                }).data(\"kendoPopup\");\n\n                selector.bind({\n                    select: function(ev) {\n                        that._updateUI(parseColor(ev.value), true);\n                    },\n                    change: function(ev) {\n                        if (that.options.buttons) {\n                            that._select(selector.color());\n                        } else {\n                            that._updateUI(parseColor(ev.value), true);\n                        }\n\n                        if (that.options.buttons || (that._selector.options.view === \"palette\" && that.options.closeOnSelect)) {\n                            that.close();\n                        }\n                    },\n                    cancel: function() {\n                        that.close();\n                    }\n                });\n                popup.bind({\n                    close: function(ev) {\n                        if (that.trigger(\"close\")) {\n                            ev.preventDefault();\n                            return;\n                        }\n                        that.wrapper.removeClass(\"k-focus\");\n\n                        var color = selector.color();\n\n                        if (!that.options.buttons) {\n                            that._select(color);\n                        } else {\n                            that._select(that.color());\n                        }\n\n                        color = that.color();\n\n                        if (color && color.h) {\n                            that._cachedHue = color.h;\n                        }\n\n                        var clickedOutside = event &&\n                            event instanceof MouseEvent &&\n                            $(event.target).parents(\".k-colorpicker-popup\").length === 0;\n\n                        if (!clickedOutside) {\n                            setTimeout(function() {\n                                if (that.wrapper && !that.wrapper.is(\"[unselectable='on']\")) {\n                                    that.wrapper.trigger(\"focus\");\n                                }\n                            }, 0);\n                        }\n                    },\n                    open: function(ev) {\n                        if (that.trigger(\"open\")) {\n                            ev.preventDefault();\n                        } else {\n                            that.wrapper.addClass(\"k-focus\");\n                        }\n                    },\n                    activate: function() {\n                        var hsvColor,\n                            selectedColor = that.color();\n\n                        if (selectedColor) {\n                            selectedColor = selectedColor.toHSV();\n                            hsvColor = Color.fromHSV(that._cachedHue || 0, selectedColor.s, selectedColor.v, selectedColor.a);\n                            selectedColor = selectedColor.equals(hsvColor) ? hsvColor : selectedColor;\n                        }\n\n                        selector.value(selectedColor);\n                        selector.focus();\n                        that.wrapper.addClass(\"k-focus\");\n                    }\n                });\n            }\n            return popup;\n        }\n    });\n\n    function preventDefault(ev) { ev.preventDefault(); }\n\n    function bind(callback, obj) {\n        return function() {\n            return callback.apply(obj, arguments);\n        };\n    }\n\n    ui.plugin(ColorPicker);\n\n    kendo.cssProperties.registerPrefix(\"ColorPicker\", \"k-picker-\");\n\n    kendo.cssProperties.registerValues(\"ColorPicker\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.toggleinputbase',[ \"kendo.core\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"toggleinputbase\",\n    name: \"ToggleInputBase\",\n    category: \"web\",\n    description: \"The ToggleInputBase component.\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        CHANGE = \"change\",\n        DISABLED = \"disabled\",\n        CHECKED = \"checked\";\n\n    var ToggleInputBase = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._wrapper();\n\n            that._initSettings();\n\n            that._attachEvents();\n\n            kendo.notify(that, kendo.ui);\n        },\n\n        events: [\n            CHANGE\n        ],\n\n        options: {\n            name: \"ToggleInputBase\"\n        },\n\n        NS: \".kendoToggleInputBase\",\n        RENDER_INPUT: $.noop,\n\n        check: function(checked) {\n            var that = this,\n                element = that.element[0];\n\n            if (checked === undefined) {\n                return element.checked;\n            }\n\n            if (element.checked !== checked) {\n                that.options.checked = element.checked = checked;\n            }\n\n            if (checked) {\n                that.element.attr(CHECKED, CHECKED);\n            } else {\n                that.element.prop(CHECKED, false);\n            }\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.wrapper.off(this.NS);\n        },\n\n        enable: function(enable) {\n            var element = this.element;\n\n            if (typeof enable == \"undefined\") {\n                enable = true;\n            }\n\n            this.options.enabled = enable;\n\n            if (enable) {\n                element.prop(DISABLED, false);\n            } else {\n                element.attr(DISABLED, DISABLED);\n            }\n        },\n\n        toggle: function() {\n            var that = this;\n\n            that.check(!that.element[0].checked);\n        },\n\n        _attachEvents: function() {\n            this.element.on(CHANGE + this.NS, this._change.bind(this));\n        },\n\n        _change: function() {\n            var checked = this.element[0].checked;\n\n            this.trigger(CHANGE, { checked: checked });\n        },\n\n        _initSettings: function() {\n            var that = this,\n                element = that.element[0],\n                options = that.options;\n\n            if (options.checked === null) {\n                options.checked = element.checked;\n            }\n\n            that.check(options.checked);\n\n            options.enabled = options.enabled && !that.element.attr(DISABLED);\n            that.enable(options.enabled);\n        },\n\n        _wrapper: function() {\n            var that = this,\n                options = that.options,\n                inputMethod = that.RENDER_INPUT;\n\n\n            inputMethod(that.element, $.extend({}, options));\n            that.element.removeClass('input-validation-error');\n\n            that.wrapper = that.element;\n        }\n    });\n\n    ui.plugin(ToggleInputBase);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.html.input',[\n        \"kendo.html.base\"\n    ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"html.input\",\n    name: \"Html.Input\",\n    category: \"web\",\n    description: \"HTML rendering utility for Kendo UI for jQuery.\",\n    depends: [ \"html.base\" ],\n    features: []\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        HTMLBase = kendo.html.HTMLBase;\n\n    var renderCheckBox = function(element, options) {\n        if (arguments[0] === undefined || $.isPlainObject(arguments[0])) {\n            options = element;\n            element = $(\"<input />\");\n        }\n\n        return (new HTMLCheckBox(element, options)).html();\n    };\n\n    var renderRadioButton = function(element, options) {\n        if (arguments[0] === undefined || $.isPlainObject(arguments[0])) {\n            options = element;\n            element = $(\"<input />\");\n        }\n\n        return (new HTMLRadioButton(element, options)).html();\n    };\n\n    var HTMLInput = HTMLBase.extend({\n        init: function(element, options) {\n            var that = this;\n            HTMLBase.fn.init.call(that, element, options);\n            that._wrapper();\n            that._addClasses();\n        },\n        options: {\n            label: null,\n            labelPosition: \"after\",\n            labelId: null,\n            encoded: true\n        },\n        _wrapper: function() {\n            var that = this,\n                element = that.element[0],\n                options = that.options,\n                elementId = element.id;\n\n            that.wrapper = that.element\n                .addClass(options.inputClass)\n                .prop(\"type\", options.type);\n\n            if (!elementId && !!options.label) {\n                element.id = elementId = kendo.guid();\n            }\n\n            if (!!options.label) {\n                that.labelEl = $(\"<label for='\" + elementId + \"' class='\" + options.labelClass + \"'>\");\n\n                if (options.encoded) {\n                    that.labelEl.text(options.label);\n                } else {\n                    that.labelEl.html(options.label);\n                }\n\n                if (options.labelId) {\n                    that.labelEl.attr(\"id\", options.labelId);\n                }\n\n                if (options.optional) {\n                    that.labelEl.append(\"<span class='\" + options.optionalClass + \"'>\" + options.optionalText + \"</span>\");\n                }\n\n                that.element[options.labelPosition](that.labelEl);\n            }\n        },\n        html: function() {\n            var that = this,\n                after = that.options.labelPosition === \"after\",\n                wrapperHtml = HTMLBase.fn.html.call(that);\n\n            if (!that.labelEl) {\n                return wrapperHtml;\n            }\n\n            if (after) {\n                return wrapperHtml + that.labelEl[0].outerHTML;\n            }\n\n            return that.labelEl[0].outerHTML + wrapperHtml;\n        }\n    });\n\n    var HTMLCheckBox = HTMLInput.extend({\n        init: function(element, options) {\n            var that = this;\n            HTMLInput.fn.init.call(that, element, options);\n            that._addClasses();\n        },\n        options: {\n            name: \"HTMLCheckBox\",\n            inputClass: \"k-checkbox\",\n            labelClass: \"k-checkbox-label\",\n            optionalClass: \"k-label-optional\",\n            optionalText: \"(Optional)\",\n            type: \"checkbox\",\n            rounded: \"medium\",\n            size: \"medium\",\n            stylingOptions: [ \"size\", \"rounded\" ]\n        }\n    });\n\n    var HTMLRadioButton = HTMLInput.extend({\n        init: function(element, options) {\n            var that = this;\n            HTMLInput.fn.init.call(that, element, options);\n            that._addClasses();\n        },\n        options: {\n            name: \"HTMLRadioButton\",\n            inputClass: \"k-radio\",\n            labelClass: \"k-radio-label\",\n            optionalClass: \"k-label-optional\",\n            optionalText: \"(Optional)\",\n            type: \"radio\",\n            size: \"medium\",\n            stylingOptions: [ \"size\"]\n        }\n    });\n\n    $.extend(kendo.html, {\n        renderCheckBox: renderCheckBox,\n        renderRadioButton: renderRadioButton,\n        HTMLInput: HTMLInput,\n        HTMLCheckBox: HTMLCheckBox,\n        HTMLRadioButton: HTMLRadioButton\n    });\n\n    kendo.cssProperties.registerPrefix(\"HTMLCheckBox\", \"k-checkbox-\");\n\n    kendo.cssProperties.registerValues(\"HTMLCheckBox\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    kendo.cssProperties.registerPrefix(\"HTMLRadioButton\", \"k-radio-\");\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.checkbox',[ \"kendo.toggleinputbase\", \"kendo.html.input\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"checkbox\",\n    name: \"CheckBox\",\n    category: \"web\",\n    description: \"The CheckBox widget is used to display boolean value input.\",\n    depends: [ \"toggleinputbase\", \"html.input\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        ToggleInputBase = ui.ToggleInputBase;\n\n    var CheckBox = ToggleInputBase.extend({\n        options: {\n            name: \"CheckBox\",\n            checked: null,\n            enabled: true,\n            encoded: true,\n            label: null,\n            rounded: \"medium\",\n            size: \"medium\"\n        },\n\n        RENDER_INPUT: kendo.html.renderCheckBox,\n        NS: \".kendoCheckBox\",\n\n        // alias for check, NG support\n        value: function(value) {\n            if (typeof value === \"string\") {\n                value = (value === \"true\");\n            }\n\n            return this.check.apply(this, [value]);\n        }\n    });\n\n    kendo.cssProperties.registerPrefix(\"CheckBox\", \"k-checkbox-\");\n\n    kendo.cssProperties.registerValues(\"CheckBox\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    ui.plugin(CheckBox);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.editable',[ \"kendo.checkbox\", \"kendo.dropdownlist\", \"kendo.datepicker\", \"kendo.numerictextbox\", \"kendo.validator\", \"kendo.binder\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"editable\",\n    name: \"Editable\",\n    category: \"framework\",\n    depends: [ \"checkbox\", \"dropdownlist\", \"datepicker\", \"numerictextbox\", \"validator\", \"binder\" ],\n    hidden: true\n};\n\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        extend = $.extend,\n        isFunction = kendo.isFunction,\n        isPlainObject = $.isPlainObject,\n        inArray = $.inArray,\n        POINT = \".\",\n        AUTOCOMPLETEVALUE = \"off\",\n        nameSpecialCharRegExp = /(\"|\\%|'|\\[|\\]|\\$|\\.|\\,|\\:|\\;|\\+|\\*|\\&|\\!|\\#|\\(|\\)|<|>|\\=|\\?|\\@|\\^|\\{|\\}|\\~|\\/|\\||`)/g,\n        ERRORTEMPLATE = '<div class=\"k-tooltip k-tooltip-error k-validator-tooltip\">' +\n            '<span class=\"k-tooltip-icon k-icon k-i-warning\"></span>' +\n            '<span class=\"k-tooltip-content\">#= message #</span>' +\n            '<span class=\"k-callout k-callout-n\"></span>' +\n        '</div>',\n        CHANGE = \"change\";\n    var EQUAL_SET = \"equalSet\";\n    var specialRules = [\"url\", \"email\", \"number\", \"date\", \"boolean\"];\n\n    function fieldType(field) {\n        field = field != null ? field : \"\";\n        return field.type || kendo.type(field) || \"string\";\n    }\n\n    function convertToValueBinding(container) {\n        container.find(\":input:not(:button, .k-combobox .k-input, .k-checkbox-list .k-checkbox, .k-radio-list .k-radio, [\" + kendo.attr(\"role\") + \"=listbox], [\" + kendo.attr(\"role\") + \"=upload], [\" + kendo.attr(\"skip\") + \"], [type=file])\").each(function() {\n            var bindAttr = kendo.attr(\"bind\"),\n                binding = this.getAttribute(bindAttr) || \"\",\n                bindingName = this.type === \"checkbox\" || this.type === \"radio\" ? \"checked:\" : \"value:\",\n                isAntiForgeryToken = this.getAttribute(\"name\") === Editable.antiForgeryTokenName,\n                fieldName = this.name;\n\n            if (binding.indexOf(bindingName) === -1 && fieldName && !isAntiForgeryToken) {\n                binding += (binding.length ? \",\" : \"\") + bindingName + fieldName;\n\n                $(this).attr(bindAttr, binding);\n            }\n        });\n    }\n\n    function createAttributes(options) {\n        var field = (options.model.fields || options.model)[options.field],\n            type = fieldType(field),\n            validation = field ? field.validation : {},\n            attributes = field ? field.attributes : {},\n            ruleName,\n            DATATYPE = kendo.attr(\"type\"),\n            BINDING = kendo.attr(\"bind\"),\n            rule,\n            attr = {\n                id: options.id || options.field,\n                name: options.field,\n                title: options.title ? options.title : options.field\n            };\n\n        for (ruleName in validation) {\n            rule = validation[ruleName];\n\n            if (inArray(ruleName, specialRules) >= 0) {\n                attr[DATATYPE] = ruleName;\n            } else if (!isFunction(rule)) {\n                var culture = kendo.getCulture();\n\n                if (typeof rule === \"number\" && culture.name.length) {\n                    var numberFormat = culture.numberFormat;\n                    var stringRule = rule.toString()\n                        .replace(POINT, numberFormat[POINT]);\n\n                    attr[ruleName] = stringRule;\n                } else {\n                    attr[ruleName] = isPlainObject(rule) ? rule.value || ruleName : rule;\n                }\n            }\n\n            attr[kendo.attr(ruleName + \"-msg\")] = rule.message;\n\n            attr.autocomplete = AUTOCOMPLETEVALUE;\n        }\n\n        for (var attributeName in attributes) {\n            attr[attributeName] = attributes[attributeName];\n        }\n\n        if (inArray(type, specialRules) >= 0) {\n            attr[DATATYPE] = type;\n        }\n\n        attr[BINDING] = (type === \"boolean\" ? \"checked:\" : \"value:\") + options.field;\n\n        return attr;\n    }\n\n    function addIdAttribute(container, attr) {\n        var id = container.attr(\"id\");\n\n        if (id) {\n            attr.id = id;\n            container.removeAttr(\"id\");\n        }\n\n        return attr;\n    }\n\n    function convertItems(items) {\n        var idx,\n            length,\n            item,\n            value,\n            text,\n            result;\n\n        if (items && items.length) {\n            result = [];\n            for (idx = 0, length = items.length; idx < length; idx++) {\n                item = items[idx];\n                text = item.text || item.value || item;\n                value = item.value == null ? (item.text || item) : item.value;\n\n                result[idx] = { text: text, value: value };\n            }\n        }\n        return result;\n    }\n\n    function getEditorTag(type, options) {\n        var tag;\n\n        if (!type.length) { return; }\n\n        if ((type === \"DropDownTree\" && options && options.checkboxes) || type === \"MultiSelect\") {\n            tag = \"<select />\";\n        } else if (type === \"RadioGroup\" || type === \"CheckBoxGroup\") {\n            tag = \"<ul />\";\n        } else if (type === \"Signature\") {\n            tag = \"<div></div>\";\n        } else {\n            tag = type === \"Editor\" || type === \"TextArea\" ? \"<textarea />\" : \"<input />\";\n        }\n\n        return tag;\n    }\n\n    var kendoEditors = [\n        \"AutoComplete\", \"CheckBox\", \"CheckBoxGroup\", \"ColorGradient\", \"ColorPicker\", \"ColorPalette\", \"ComboBox\", \"DateInput\",\n        \"DatePicker\", \"DateTimePicker\", \"DropDownTree\",\n        \"Editor\", \"FlatColorPicker\", \"MaskedTextBox\", \"MultiColumnComboBox\",\"MultiSelect\",\n        \"NumericTextBox\", \"RadioGroup\", \"Rating\", \"Slider\", \"Switch\", \"TimePicker\", \"DropDownList\",\n        \"TextBox\", \"TextArea\", \"Captcha\", \"Signature\"\n    ];\n\n    var editors = {\n        \"hidden\": function(container, options) {\n            var attr = createAttributes(options);\n            $('<input type=\"hidden\"/>').attr(attr).appendTo(container);\n        },\n        \"number\": function(container, options) {\n            var attr = createAttributes(options);\n            $('<input type=\"text\"/>').attr(attr).appendTo(container).kendoNumericTextBox({ format: options.format });\n            $('<span ' + kendo.attr(\"for\") + '=\"' + options.field + '\" class=\"k-invalid-msg k-hidden\"/>').appendTo(container);\n        },\n        \"date\": function(container, options) {\n            var attr = createAttributes(options),\n                format = options.format;\n\n            if (format) {\n                format = kendo._extractFormat(format);\n            }\n\n            attr[kendo.attr(\"format\")] = format;\n\n            $('<input type=\"text\"/>').attr(attr).appendTo(container).kendoDatePicker({ format: options.format });\n            $('<span ' + kendo.attr(\"for\") + '=\"' + options.field + '\" class=\"k-invalid-msg k-hidden\"/>').appendTo(container);\n        },\n        \"string\": function(container, options) {\n            var attr = createAttributes(options);\n\n            $('<input type=\"text\"/>').attr(attr).appendTo(container).kendoTextBox();\n        },\n        \"boolean\": function(container, options) {\n            var attr = createAttributes(options);\n            var element = $('<input type=\"checkbox\" />').attr(attr).kendoCheckBox().appendTo(container);\n\n            renderHiddenForMvcCheckbox(element, container, options);\n        },\n        \"values\": function(container, options) {\n            var attr = createAttributes(options);\n            var items = kendo.stringify(convertItems(options.values));\n            $('<select ' + kendo.attr(\"text-field\") + '=\"text\"' + kendo.attr(\"value-field\") + '=\"value\"' +\n                kendo.attr(\"source\") + \"=\\'\" + (items ? items.replace(/\\'/g,\"&apos;\") : items) +\n                \"\\'\" + kendo.attr(\"role\") + '=\"dropdownlist\"/>') .attr(attr).appendTo(container);\n            $('<span ' + kendo.attr(\"for\") + '=\"' + options.field + '\" class=\"k-invalid-msg  k-hidden\"/>').appendTo(container);\n        },\n        \"kendoEditor\": function(container, options) {\n            var attr = createAttributes(options);\n            var type = options.editor;\n            var editor = \"kendo\" + type;\n            var editorOptions = options.editorOptions;\n            var tagElement = getEditorTag(type, editorOptions);\n\n            var element = $(tagElement)\n                .attr(attr)\n                .appendTo(container)\n                [editor](editorOptions);\n\n            renderHiddenForMvcCheckbox(element, container, options);\n        }\n    };\n\n    var mobileEditors = {\n        \"number\": function(container, options) {\n            var attr = createAttributes(options);\n            attr = addIdAttribute(container, attr);\n\n            $('<input type=\"number\"/>').attr(attr).appendTo(container);\n        },\n        \"date\": function(container, options) {\n            var attr = createAttributes(options);\n            attr = addIdAttribute(container, attr);\n\n            $('<input type=\"date\"/>').attr(attr).appendTo(container);\n        },\n        \"string\": function(container, options) {\n            var attr = createAttributes(options);\n            attr = addIdAttribute(container, attr);\n\n            $('<input type=\"text\" />').attr(attr).appendTo(container);\n        },\n        \"boolean\": function(container, options) {\n            var attr = createAttributes(options);\n            attr = addIdAttribute(container, attr);\n\n            $('<input type=\"checkbox\" />').attr(attr).appendTo(container);\n        },\n        \"values\": function(container, options) {\n            var attr = createAttributes(options);\n            var items = options.values;\n            var select = $('<select />');\n\n            attr = addIdAttribute(container, attr);\n\n            for (var index in items) {\n                $('<option value=\"' + items[index].value + '\">' + items[index].text + '</option>').appendTo(select);\n            }\n\n            select.attr(attr).appendTo(container);\n        }\n    };\n\n    function addValidationRules(modelField, rules) {\n        var validation = modelField ? (modelField.validation || {}) : {},\n            rule,\n            descriptor;\n\n        for (rule in validation) {\n            descriptor = validation[rule];\n\n            if (isPlainObject(descriptor) && descriptor.value) {\n                descriptor = descriptor.value;\n            }\n\n            if (isFunction(descriptor)) {\n                rules[rule] = descriptor;\n            }\n        }\n    }\n\n    function renderHiddenForMvcCheckbox(tag, container, field) {\n        var addHidden = field ? (field.shouldRenderHidden || false) : false;\n\n        if (addHidden) {\n            tag.val(true);\n            container.append($(\"<input type='hidden' name='\" + field.field + \"' value='false' data-skip='true' data-validate='false'/>\"));\n        }\n    }\n\n    var Editable = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            if (options.target) {\n                options.$angular = options.target.options.$angular;\n\n                if (options.target.pane) {\n                    that._isMobile = true;\n                }\n            }\n            Widget.fn.init.call(that, element, options);\n            that._validateProxy = that._validate.bind(that);\n            that.refresh();\n        },\n\n        events: [CHANGE],\n\n        options: {\n            name: \"Editable\",\n            editors: editors,\n            mobileEditors: mobileEditors,\n            clearContainer: true,\n            validateOnBlur: true,\n            validationSummary: false,\n            errorTemplate: ERRORTEMPLATE,\n            skipFocus: false\n        },\n\n        editor: function(field, modelField) {\n            var that = this,\n                editors = that._isMobile ? mobileEditors : that.options.editors,\n                isObject = isPlainObject(field),\n                fieldName = isObject ? field.field : field,\n                model = that.options.model || {},\n                isValuesEditor = isObject && field.values,\n                type = isValuesEditor ? \"values\" : fieldType(modelField),\n                isHidden = isObject && typeof field.editor === \"string\" && field.editor === \"hidden\",\n                isCustomEditor = isObject && !isHidden && field.editor,\n                isKendoEditor = isObject && $.inArray(field.editor, kendoEditors) !== -1,\n                editor = isCustomEditor ? field.editor : editors[isHidden ? \"hidden\" : type],\n                container = that.element.find(\"[\" + kendo.attr(\"container-for\") + \"=\" + fieldName.replace(nameSpecialCharRegExp, \"\\\\$1\") + \"]\");\n\n            editor = editor ? editor : editors.string;\n\n            if (isKendoEditor) {\n                editor = editors.kendoEditor;\n            } else if (isCustomEditor && typeof field.editor === \"string\") {\n                editor = function(container) {\n                    container.append(field.editor);\n                };\n            }\n\n            container = container.length ? container : that.element;\n            editor(container, extend(true, {}, isObject ? field : { field: fieldName }, { model: model }));\n        },\n\n        _validate: function(e) {\n            var that = this,\n                input,\n                value = e.value,\n                preventChangeTrigger = that._validationEventInProgress,\n                values = {},\n                bindAttribute = kendo.attr(\"bind\"),\n                fieldName = e.field.replace(nameSpecialCharRegExp, \"\\\\$1\"),\n                bindingRegex = new RegExp(\"(value|checked)\\\\s*:\\\\s*\" + fieldName + \"\\\\s*(,|$)\");\n\n            values[e.field] = e.value;\n\n            input = $(':input[' + bindAttribute + '*=\"' + fieldName + '\"]', that.element)\n                .filter(\"[\" + kendo.attr(\"validate\") + \"!='false']\").filter(function() {\n                   return bindingRegex.test($(this).attr(bindAttribute));\n                });\n            if (input.length > 1) {\n                input = input.filter(function() {\n                    var element = $(this);\n                    return !element.is(\":radio\") || element.val() == value;\n                });\n            }\n\n            try {\n                that._validationEventInProgress = true;\n\n                if (!that.validatable.validateInput(input) || (!preventChangeTrigger && that.trigger(CHANGE, { values: values }))) {\n                    e.preventDefault();\n                }\n\n            } finally {\n                that._validationEventInProgress = false;\n            }\n        },\n\n        end: function() {\n            return this.validatable.validate();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.angular(\"cleanup\", function() {\n                return { elements: that.element };\n            });\n\n            Widget.fn.destroy.call(that);\n\n            that.options.model.unbind(\"set\", that._validateProxy);\n            that.options.model.unbind(EQUAL_SET, that._validateProxy);\n\n            kendo.unbind(that.element);\n\n            if (that.validatable) {\n                that.validatable.destroy();\n            }\n            kendo.destroy(that.element);\n\n            that.element.removeData(\"kendoValidator\");\n\n            if (that.element.is(\"[\" + kendo.attr(\"role\") + \"=editable]\")) {\n                that.element.removeAttr(kendo.attr(\"role\"));\n            }\n        },\n\n        refresh: function() {\n            var that = this,\n                idx,\n                length,\n                fields = that.options.fields || [],\n                container = that.options.clearContainer ? that.element.empty() : that.element,\n                model = that.options.model || {},\n                rules = {},\n                field,\n                isObject,\n                fieldName,\n                modelField,\n                modelFields;\n\n            if (!Array.isArray(fields)) {\n                fields = [fields];\n            }\n\n            for (idx = 0, length = fields.length; idx < length; idx++) {\n                 field = fields[idx];\n                 isObject = isPlainObject(field);\n                 fieldName = isObject ? field.field : field;\n                 modelField = (model.fields || model)[fieldName];\n\n                 addValidationRules(modelField, rules);\n\n                 that.editor(field, modelField);\n            }\n\n            if (that.options.target) {\n                that.angular(\"compile\", function() {\n                    return {\n                        elements: container,\n                        data: container.map(function() { return { dataItem: model }; })\n                    };\n                });\n            }\n\n            if (!length) {\n                modelFields = model.fields || model;\n                for (fieldName in modelFields) {\n                    addValidationRules(modelFields[fieldName], rules);\n               }\n            }\n\n            convertToValueBinding(container);\n\n            if (that.validatable) {\n                that.validatable.destroy();\n            }\n\n            kendo.bind(container, that.options.model);\n\n            if (that.options.validateOnBlur) {\n                that.options.model\n                    .unbind(\"set\", that._validateProxy)\n                    .bind(\"set\", that._validateProxy);\n\n                that.options.model\n                    .unbind(EQUAL_SET, that._validateProxy)\n                    .bind(EQUAL_SET, that._validateProxy);\n            }\n\n            that.validatable = new kendo.ui.Validator(container, {\n                validateOnBlur: that.options.validateOnBlur,\n                validationSummary: that.options.validationSummary,\n                errorTemplate: that.options.errorTemplate || undefined,\n                rules: rules });\n\n            if (!that.options.skipFocus) {\n                container.find(\":kendoFocusable\").eq(0).trigger(\"focus\");\n            }\n        }\n   });\n\n   Editable.antiForgeryTokenName = \"__RequestVerificationToken\";\n\n   ui.plugin(Editable);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.listview',[ \"kendo.data\", \"kendo.editable\", \"kendo.selectable\", \"kendo.pager\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"listview\",\n    name: \"ListView\",\n    category: \"web\",\n    description: \"The ListView widget offers rich support for interacting with data.\",\n    depends: [ \"data\" ],\n    features: [ {\n        id: \"listview-editing\",\n        name: \"Editing\",\n        description: \"Support for record editing\",\n        depends: [ \"editable\" ]\n    }, {\n        id: \"listview-selection\",\n        name: \"Selection\",\n        description: \"Support for selection\",\n        depends: [ \"selectable\" ]\n    }, {\n        id: \"listview-paging\",\n        name: \"Paging\",\n        description: \"Support for paging\",\n        depends: [ \"pager\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        CHANGE = \"change\",\n        KENDO_KEYDOWN = \"kendoKeydown\",\n        CANCEL = \"cancel\",\n        DATABOUND = \"dataBound\",\n        DATABINDING = \"dataBinding\",\n        Widget = kendo.ui.Widget,\n        keys = kendo.keys,\n        EMPTY_STRING = \"\",\n        DOT = \".\",\n        FOCUSSELECTOR = \"> *:not(.k-loading-mask)\",\n        PROGRESS = \"progress\",\n        ERROR = \"error\",\n        FOCUSED = \"k-focus\",\n        SELECTED = \"k-selected\",\n        KEDITITEM = \"k-edit-item\",\n        PAGER_CLASS = \"k-listview-pager\",\n        ITEM_CLASS = \"k-listview-item\",\n        ARIA_SETSIZE = \"aria-setsize\",\n        ARIA_POSINSET = \"aria-posinset\",\n        ARIA_ROLE = \"role\",\n        ARIA_LABEL = \"aria-label\",\n        ARIA_MULTISELECTABLE = \"aria-multiselectable\",\n        ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n        EDIT = \"edit\",\n        REMOVE = \"remove\",\n        SAVE = \"save\",\n        MOUSEDOWN = \"mousedown\",\n        CLICK = \"click\",\n        TOUCHSTART = \"touchstart\",\n        NS = \".kendoListView\",\n        activeElement = kendo._activeElement,\n        progress = kendo.ui.progress,\n        DataSource = kendo.data.DataSource;\n\n    var ListView = kendo.ui.DataBoundWidget.extend( {\n        init: function(element, options) {\n            var that = this;\n\n            options = Array.isArray(options) ? { dataSource: options } : options;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n\n            that.wrapper = element = that.element;\n\n            if (element[0].id) {\n                that._itemId = element[0].id + \"_lv_active\";\n            } else {\n                that._itemId = kendo.guid() + \"_lv_active\";\n            }\n\n            that._element();\n\n            that._layout();\n\n            that._dataSource();\n\n            that._setContentHeight();\n\n            that._templates();\n\n            that._navigatable();\n\n            that._selectable();\n\n            that._pageable();\n\n            that._crudHandlers();\n\n            that._scrollable();\n\n            if (that.options.autoBind) {\n                that.dataSource.fetch();\n            }\n\n            kendo.notify(that);\n        },\n\n        events: [\n            CHANGE,\n            CANCEL,\n            DATABINDING,\n            DATABOUND,\n            EDIT,\n            REMOVE,\n            SAVE,\n            KENDO_KEYDOWN\n        ],\n\n        options: {\n            name: \"ListView\",\n            autoBind: true,\n            selectable: false,\n            navigatable: false,\n            pageable: false,\n            height: null,\n            template: EMPTY_STRING,\n            altTemplate: EMPTY_STRING,\n            editTemplate: EMPTY_STRING,\n            contentTemplate: \"<div data-content='true' />\",\n            contentElement: \"div\",\n            bordered: true,\n            borders: \"\",\n            layout: \"\",\n            flex: {\n                direction: \"row\",\n                wrap: \"nowrap\"\n            },\n            grid: {},\n            scrollable: false\n        },\n\n        setOptions: function(options) {\n            Widget.fn.setOptions.call(this, options);\n\n            this._layout();\n\n            this._templates();\n\n            if (this.selectable) {\n                this.selectable.destroy();\n                this.selectable = null;\n            }\n\n            this._selectable();\n        },\n\n        _templates: function() {\n            var options = this.options;\n\n            this.template = kendo.template(options.template || EMPTY_STRING);\n            this.altTemplate = kendo.template(options.altTemplate || options.template);\n            this.editTemplate = kendo.template(options.editTemplate || EMPTY_STRING);\n        },\n\n        _item: function(action) {\n            return this.content.children()[action]();\n        },\n\n        items: function() {\n            return this.content.children(\":not(.k-loading-mask)\");\n        },\n\n        dataItem: function(element) {\n            var attr = kendo.attr(\"uid\");\n            var uid = $(element).closest(\"[\" + attr + \"]\").attr(attr);\n\n            return this.dataSource.getByUid(uid);\n        },\n\n        setDataSource: function(dataSource) {\n            this.options.dataSource = dataSource;\n            this._dataSource();\n\n            if (this.options.autoBind) {\n                dataSource.fetch();\n            }\n\n            if (this.options.scrollable === \"endless\") {\n                this._bindScrollable();\n            }\n        },\n\n        _unbindDataSource: function() {\n            var that = this;\n\n            that.dataSource.unbind(CHANGE, that._refreshHandler)\n                            .unbind(PROGRESS, that._progressHandler)\n                            .unbind(ERROR, that._errorHandler);\n        },\n\n        _dataSource: function() {\n            var that = this,\n                pageable = that.options.pageable,\n                dataSource = that.options.dataSource;\n\n            if ($.isPlainObject(pageable) && pageable.pageSize !== undefined) {\n                dataSource.pageSize = pageable.pageSize;\n            }\n\n            if (that.dataSource && that._refreshHandler) {\n                that._unbindDataSource();\n            } else {\n                that._refreshHandler = that.refresh.bind(that);\n                that._progressHandler = that._progress.bind(that);\n                that._errorHandler = that._error.bind(that);\n            }\n\n            that.dataSource = DataSource.create(dataSource)\n                                .bind(CHANGE, that._refreshHandler)\n                                .bind(PROGRESS, that._progressHandler)\n                                .bind(ERROR, that._errorHandler);\n        },\n\n        _progress: function(toggle) {\n            var element = this.wrapper;\n            if (toggle && this.content.height()) {\n                element = this.content;\n            }\n            progress(element, toggle, { opacity: true });\n        },\n\n        _error: function() {\n            progress(this.content, false);\n        },\n\n        _element: function() {\n            var options = this.options;\n            var height = options.height;\n\n            this.element.addClass(\"k-widget k-listview\");\n\n\n            if (options.contentElement) {\n                this.content = $(document.createElement(options.contentElement)).appendTo(this.element);\n            } else {\n                this.content = this.element;\n            }\n\n            if (height) {\n                this.element.css(\"height\", height);\n            }\n        },\n\n        _layout: function() {\n            var that = this;\n            var options = that.options;\n            var flex = options.flex;\n            var grid = options.grid;\n            var element = that.element;\n            var elementClassNames = [\"k-widget\", \"k-listview\"];\n            var content = that.content;\n            var contentClassNames = [\"k-listview-content\"];\n\n            element.add(content).removeClass(function(index, className) {\n                if (className.indexOf(\"k-\") >= 0) {\n                    return true;\n                }\n            });\n\n            // Element class names\n            if (options.bordered === true) {\n                elementClassNames.push(\"k-listview-bordered\");\n            }\n\n            if (typeof options.borders === \"string\" && options.borders !== EMPTY_STRING) {\n                elementClassNames.push(\"k-listview-borders-\" + options.borders);\n            }\n\n\n            // Content class names\n            if (typeof options.contentPadding === \"string\" && options.contentPadding !== EMPTY_STRING) {\n                contentClassNames.push(\"k-listview-content-padding-\" + options.contentPadding);\n            }\n\n            if (typeof options.layout === \"string\" && options.layout !== EMPTY_STRING) {\n                contentClassNames.push(\"k-d-\" + options.layout);\n            }\n\n            if (options.layout === \"flex\" && typeof flex === \"object\") {\n                if (typeof flex.direction === \"string\" && flex.direction !== \"\") {\n                    contentClassNames.push(\"k-flex-\" + flex.direction);\n                }\n\n                if (typeof flex.wrap === \"string\" && flex.wrap !== \"\") {\n                    contentClassNames.push(\"k-flex-\" + flex.wrap);\n                }\n            }\n\n            if (options.layout === \"grid\" && typeof grid === \"object\") {\n                if (typeof grid.cols === \"number\") {\n                    content.css(\"grid-template-columns\", \"repeat(\" + grid.cols + \", 1fr)\");\n                } else if (typeof grid.cols === \"string\") {\n                    content.css(\"grid-template-columns\", grid.cols);\n                }\n\n                if (typeof grid.rows === \"number\") {\n                    content.css(\"grid-template-rows\", \"repeat(\" + grid.rows + \", \" + (grid.rowHeight !== undefined ? grid.rowHeight : \"1fr\") + \")\");\n                } else if (typeof grid.rows === \"string\") {\n                    content.css(\"grid-template-rows\", grid.rows);\n                }\n\n                if (typeof grid.gutter === \"number\") {\n                    content.css(\"grid-gap\", grid.gutter);\n                } else if (typeof grid.gutter === \"string\") {\n                    content.css(\"grid-gap\", grid.gutter);\n                }\n            }\n\n            that.element.addClass(elementClassNames.join(\" \"));\n            that.content.addClass(contentClassNames.join(\" \"));\n\n        },\n\n        _setContentHeight: function() {\n            var that = this,\n                options = that.options,\n                height;\n\n            if (options.scrollable && that.wrapper.is(\":visible\")) {\n\n                height = that.wrapper.innerHeight();\n                that.content.height(height);\n            }\n        },\n\n        refresh: function(e) {\n            var that = this,\n                view = that.dataSource.view(),\n                data,\n                items,\n                item,\n                html = \"\",\n                idx,\n                length,\n                template = that.template,\n                altTemplate = that.altTemplate,\n                options = that.options,\n                role = (options.selectable || options.navigatable) ? \"option\" : \"listitem\",\n                active = activeElement(),\n                endlessAppend = that._endlessFetchInProgress,\n                index = endlessAppend ? that._skipRerenderItemsCount : 0,\n                scrollable = that.options.scrollable;\n\n            e = e || {};\n\n            if (e.action === \"itemchange\") {\n                if (!that._hasBindingTarget() && !that.editable) {\n                    data = e.items[0];\n                    item = that.items().filter(\"[\" + kendo.attr(\"uid\") + \"=\" + data.uid + \"]\");\n\n                    if (item.length > 0) {\n                        idx = item.index();\n\n                        that.angular(\"cleanup\", function() {\n                            return { elements: [ item ] };\n                        });\n\n                        item.replaceWith(template(data));\n                        item = that.items().eq(idx);\n                        item.attr(kendo.attr(\"uid\"), data.uid);\n\n                        that.angular(\"compile\", function() {\n                            return { elements: [ item ], data: [ { dataItem: data } ] };\n                        });\n\n                        that.trigger(\"itemChange\", {\n                            item: item,\n                            data: data\n                        });\n                    }\n                }\n\n                return;\n            }\n\n            if (that.trigger(DATABINDING, { action: e.action || \"rebind\", items: e.items, index: e.index })) {\n                return;\n            }\n\n            that._angularItems(\"cleanup\");\n\n            if (!endlessAppend) {\n                that._destroyEditable();\n            }\n\n            for (idx = index, length = view.length; idx < length; idx++) {\n                if (idx % 2) {\n                    html += altTemplate(view[idx]);\n                } else {\n                    html += template(view[idx]);\n                }\n            }\n\n            if (endlessAppend) {\n                that.content.append(html);\n            } else {\n                that.content.html(html);\n            }\n\n            items = that.items().not(\".k-loading-mask\");\n\n            that._ariaAttributes(view.length);\n\n            for (idx = index, length = view.length; idx < length; idx++) {\n                item = items.eq(idx);\n\n                item.addClass(ITEM_CLASS);\n\n                item.attr(kendo.attr(\"uid\"), view[idx].uid)\n                    .attr(ARIA_ROLE, role);\n\n                if (that.options.selectable) {\n                    item.attr(\"aria-selected\", \"false\");\n                }\n\n                if (that.options.pageable) {\n                    item.attr(ARIA_SETSIZE, that.dataSource.total());\n                    item.attr(ARIA_POSINSET, that.dataSource.indexOf(that.dataItem(item)) + 1);\n                }\n            }\n\n            if (that.content[0] === active && that.options.navigatable) {\n                if (that._focusNext) {\n                    that.current(that.current().next());\n                } else {\n                    if (!scrollable) {\n                        that.current(items.eq(0));\n                    }\n                }\n            }\n\n            if (that.element.attr(ARIA_ACTIVEDESCENDANT) &&\n                that.element.find(\"#\" + that.element.attr(ARIA_ACTIVEDESCENDANT)).length === 0) {\n                    that.element.removeAttr(ARIA_ACTIVEDESCENDANT);\n            }\n\n            that._setContentHeight();\n            that._angularItems(\"compile\");\n\n            that._progress(false);\n            that._endlessFetchInProgress = null;\n\n            that.trigger(DATABOUND, { action: e.action || \"rebind\", items: e.items, index: e.index });\n        },\n\n        _ariaAttributes: function(length) {\n            var el = this.element,\n                options = this.options,\n                selectable = options.selectable;\n\n            if (length === 0) {\n                el.removeAttr(ARIA_ROLE);\n                el.removeAttr(ARIA_MULTISELECTABLE);\n\n                if (el.attr(ARIA_LABEL)) {\n                    this._ariaLabelValue = el.attr(ARIA_LABEL);\n                    el.removeAttr(ARIA_LABEL);\n                }\n            } else {\n                el.attr(ARIA_ROLE, (selectable || options.navigatable) ? \"listbox\" : \"list\");\n\n                if (selectable && kendo.ui.Selectable.parseOptions(selectable).multiple) {\n                    el.attr(ARIA_MULTISELECTABLE, true);\n                }\n\n                if (this._ariaLabelValue) {\n                    el.attr(ARIA_LABEL, this._ariaLabelValue);\n                }\n            }\n        },\n\n        _pageable: function() {\n            var that = this,\n                pageable = that.options.pageable,\n                navigatable = that.options.navigatable,\n                pagerWrap,\n                settings;\n\n            if (!pageable) {\n                return;\n            }\n\n            pagerWrap = that.wrapper.find(DOT + PAGER_CLASS);\n\n            if (!pagerWrap.length) {\n                pagerWrap = $('<div />').addClass(PAGER_CLASS);\n            }\n\n            if (pageable.position === \"top\") {\n                pagerWrap\n                    .addClass(kendo.format(\"{0}-{1}\", PAGER_CLASS, pageable.position))\n                    .prependTo(that.wrapper);\n            } else {\n                pagerWrap.appendTo(that.wrapper);\n            }\n\n            if (that.pager) {\n                that.pager.destroy();\n            }\n\n            if (typeof pageable === \"object\" && pageable instanceof kendo.ui.Pager) {\n                that.pager = pageable;\n            } else {\n                pagerWrap = pageable.pagerId ? $(\"#\" + pageable.pagerId) : pagerWrap;\n\n                settings = $.extend({}, pageable, {\n                    dataSource: that.dataSource,\n                    navigatable: navigatable,\n                    pagerId: null\n                });\n\n                that.pager = new kendo.ui.Pager(pagerWrap, settings);\n            }\n        },\n\n        _selectable: function() {\n            var that = this,\n                multi,\n                current,\n                selectable = that.options.selectable,\n                navigatable = that.options.navigatable;\n\n            if (selectable) {\n                multi = kendo.ui.Selectable.parseOptions(selectable).multiple;\n\n                that.selectable = new kendo.ui.Selectable(that.element, {\n                    aria: true,\n                    multiple: multi,\n                    filter: that.options.contentElement ? \".k-listview-content \" + FOCUSSELECTOR : FOCUSSELECTOR,\n                    change: function() {\n                        that.trigger(CHANGE);\n                    }\n                });\n\n                if (navigatable) {\n                    that.element.on(\"keydown\" + NS, function(e) {\n\n                        if (!$(e.target).is(that.element)) { return; }\n\n                        if (e.keyCode === keys.SPACEBAR) {\n                            current = that.current();\n\n                            if (e.target == e.currentTarget) {\n                                e.preventDefault();\n                            }\n\n                            if (multi) {\n                                if (!e.ctrlKey) {\n                                    that.selectable.clear();\n                                } else {\n                                    if (current && current.hasClass(SELECTED)) {\n                                        current.removeClass(SELECTED);\n                                        that.trigger(CHANGE);\n                                        return;\n                                    }\n                                }\n                            } else {\n                                that.selectable.clear();\n                            }\n\n                            that.selectable.value(current);\n                            that.trigger(CHANGE);\n                        }\n                    });\n                }\n            }\n        },\n\n        _scrollable: function() {\n            var that = this;\n            var scrollable = that.options.scrollable;\n\n            if (scrollable) {\n\n                that.content.css({\n                    \"overflow-y\": \"scroll\",\n                    \"position\": \"relative\",\n                    \"-webkit-overflow-scrolling\": \"touch\"\n                });\n\n                if (scrollable === \"endless\") {\n                    that._bindScrollable();\n                }\n            }\n        },\n\n        _bindScrollable: function() {\n            var that = this;\n            var originalPageSize = that._endlessPageSize = that.dataSource.options.pageSize;\n\n            that.content\n                .off(\"scroll\" + NS)\n                .on(\"scroll\" + NS, function() {\n                    if (this.scrollTop + this.clientHeight - this.scrollHeight >= -15 &&\n                    !that._endlessFetchInProgress &&\n                    that._endlessPageSize < that.dataSource.total()) {\n                        that._skipRerenderItemsCount = that._endlessPageSize;\n                        that._endlessPageSize = that._skipRerenderItemsCount + originalPageSize;\n                        that.dataSource.options.endless = true;\n                        that._endlessFetchInProgress = true;\n                        that.dataSource.pageSize(that._endlessPageSize);\n                    }\n                });\n        },\n\n        current: function(candidate) {\n            var that = this,\n                element = that.element,\n                current = that._current,\n                id = that._itemId;\n\n            if (candidate === undefined) {\n                return current;\n            }\n\n            if (current && current[0]) {\n                if (current[0].id === id) {\n                    current.removeAttr(\"id\");\n                }\n\n                current.removeClass(FOCUSED);\n                element.removeAttr(ARIA_ACTIVEDESCENDANT);\n            }\n\n            if (candidate && candidate[0]) {\n                id = candidate[0].id || id;\n\n                that._scrollTo(candidate[0]);\n\n                element.attr(ARIA_ACTIVEDESCENDANT, id);\n                candidate.addClass(FOCUSED).attr(\"id\", id);\n            }\n\n            that._current = candidate;\n        },\n\n        _scrollTo: function(element) {\n            var that = this,\n                content = that.content,\n                container,\n                UseJQueryoffset = false,\n                SCROLL = \"scroll\";\n\n            if (content.css(\"overflow\") === \"auto\" || content.css(\"overflow\") === SCROLL || content.css(\"overflow-y\") === SCROLL) {\n                container = content[0];\n            } else {\n                container = window;\n                UseJQueryoffset = true;\n            }\n\n            var scrollDirectionFunc = function(direction, dimension) {\n\n                var elementOffset = UseJQueryoffset ? $(element).offset()[direction.toLowerCase()] : element[\"offset\" + direction],\n                    elementDimension = element[\"client\" + dimension],\n                    containerScrollAmount = $(container)[SCROLL + direction](),\n                    containerDimension = $(container)[dimension.toLowerCase()]();\n\n                if (elementOffset + elementDimension > containerScrollAmount + containerDimension) {\n                    $(container)[SCROLL + direction](elementOffset + elementDimension - containerDimension);\n                } else if (elementOffset < containerScrollAmount) {\n                    $(container)[SCROLL + direction](elementOffset);\n                }\n            };\n\n            scrollDirectionFunc(\"Top\", \"Height\");\n            scrollDirectionFunc(\"Left\", \"Width\");\n        },\n\n        _navigatable: function() {\n            var that = this,\n                navigatable = that.options.navigatable,\n                element = that.element,\n                content = that.content,\n                clickCallback = function(e) {\n                    that.current($(e.currentTarget));\n                    if (!$(e.target).is(\":button, a, :input, a > .k-icon, textarea\")) {\n                        kendo.focusElement(element);\n                    }\n                };\n\n            if (navigatable) {\n                that._tabindex();\n\n                element\n                    .on(\"focus\" + NS, function() {\n                        var current = that._current;\n\n                        if (!current || !current.is(\":visible\")) {\n                            current = that._item(\"first\");\n                        }\n\n                        that.current(current);\n                    })\n                    .on(\"focusout\" + NS, function() {\n                        if (that._current) {\n                            that._current.removeClass(FOCUSED);\n                        }\n                    })\n                    .on(\"keydown\" + NS, that, function(e) {\n                        var key = e.keyCode,\n                            current = that.current(),\n                            target = $(e.target),\n                            canHandle = !target.is(\":button, textarea, a, a > .t-icon, input\"),\n                            isTextBox = target.is(\":text, :password\"),\n                            preventDefault = kendo.preventDefault,\n                            editItem = content.find(\".\" + KEDITITEM),\n                            active = activeElement(), idx,\n                            scrollable = that.options.scrollable;\n\n                        if (target.hasClass(PAGER_CLASS) || (!canHandle && !isTextBox && key !== keys.ESC) || (isTextBox && key !== keys.ESC && key !== keys.ENTER)) {\n                            return;\n                        }\n\n                        if (key === keys.UP || key === keys.LEFT) {\n                            if (current && current[0]) {\n                                current = current.prev();\n                            }\n\n                            if (current && current[0]) {\n                                that.current(current);\n                            }\n                            else if (!scrollable) {\n                                that.current(that._item(\"last\"));\n                            }\n                            preventDefault(e);\n                        }\n\n                        if (key === keys.DOWN || key === keys.RIGHT) {\n                            if (scrollable) {\n                                if (that.options.scrollable === \"endless\" && !current.next().length) {\n                                    that.content[0].scrollTop = that.content[0].scrollHeight;\n                                    that._focusNext = true;\n                                } else {\n                                    current = current.next();\n\n                                    if (current && current[0]) {\n                                        that.current(current);\n                                    }\n                                }\n                            }\n                            else {\n                                current = current.next();\n                                that.current(!current || !current[0] ? that._item(\"first\") : current);\n                            }\n                            preventDefault(e);\n                        }\n\n                        if (key === keys.PAGEUP) {\n                            that.current(null);\n                            that.dataSource.page(that.dataSource.page() - 1);\n                            preventDefault(e);\n                        }\n\n                        if (key === keys.PAGEDOWN) {\n                            that.current(null);\n                            that.dataSource.page(that.dataSource.page() + 1);\n                            preventDefault(e);\n                        }\n\n                        if (key === keys.HOME) {\n                            that.current(that._item(\"first\"));\n                            preventDefault(e);\n                        }\n\n                        if (key === keys.END) {\n                            that.current(that._item(\"last\"));\n                            preventDefault(e);\n                        }\n\n                        if (key === keys.ENTER) {\n                            if (editItem.length !== 0 && (canHandle || isTextBox)) {\n                                idx = that.items().index(editItem);\n\n                                if (active) {\n                                    active.blur();\n                                }\n\n                                that.save();\n\n                                var focusAgain = function() {\n                                    that.element.trigger(\"focus\");\n                                    that.current(that.items().eq(idx));\n                                };\n\n                                that.one(\"dataBound\", focusAgain);\n                            } else if (that.options.editTemplate !== \"\") {\n                                that.edit(current);\n                            }\n                        }\n\n                        if (key === keys.ESC) {\n                            editItem = content.find(\".\" + KEDITITEM);\n\n                            if (editItem.length === 0) {\n                                return;\n                            }\n\n                            idx = that.items().index(editItem);\n                            that.cancel();\n                            that.element.trigger(\"focus\");\n                            that.current(that.items().eq(idx));\n                        }\n                    });\n\n                element.on(MOUSEDOWN + NS + \" \" + TOUCHSTART + NS, that.options.contentElement ? \".k-listview-content \" + FOCUSSELECTOR : FOCUSSELECTOR, clickCallback.bind(that));\n            }\n        },\n\n        clearSelection: function() {\n            var that = this;\n            that.selectable.clear();\n        },\n\n        select: function(items) {\n            var that = this,\n                selectable = that.selectable;\n\n            items = $(items);\n\n            if (items.length) {\n                if (!selectable.options.multiple) {\n                    selectable.clear();\n                    items = items.first();\n                }\n                selectable.value(items);\n                return;\n            }\n\n            return selectable.value();\n        },\n\n        _destroyEditable: function() {\n            var that = this;\n            if (that.editable) {\n                that.editable.destroy();\n                delete that.editable;\n            }\n        },\n\n        _modelFromElement: function(element) {\n            var uid = element.attr(kendo.attr(\"uid\"));\n\n            return this.dataSource.getByUid(uid);\n        },\n\n        _closeEditable: function() {\n            var that = this,\n                editable = that.editable,\n                options = that.options,\n                role = (options.selectable || options.navigatable) ? \"option\" : \"listitem\",\n                data,\n                item,\n                index,\n                template = that.template;\n\n            if (editable) {\n                if (editable.element.index() % 2) {\n                    template = that.altTemplate;\n                }\n\n                that.angular(\"cleanup\", function() {\n                    return { elements: [ editable.element ] };\n                });\n\n                data = that._modelFromElement(editable.element);\n                that._destroyEditable();\n\n                index = editable.element.index();\n                editable.element.replaceWith(template(data));\n                item = that.items().eq(index);\n                item.addClass(ITEM_CLASS);\n                item.attr(kendo.attr(\"uid\"), data.uid);\n                item.attr(ARIA_ROLE, role);\n\n                if (that._hasBindingTarget()) {\n                    kendo.bind(item, data);\n                }\n\n                that.angular(\"compile\", function() {\n                    return { elements: [ item ], data: [ { dataItem: data } ] };\n                });\n            }\n            return true;\n        },\n\n        edit: function(item) {\n            var that = this,\n                data = that._modelFromElement(item),\n                container,\n                uid = data.uid,\n                index;\n\n            that.cancel();\n\n            item = that.items().filter(\"[\" + kendo.attr(\"uid\") + \"=\" + uid + \"]\");\n            index = item.index();\n            item.replaceWith(that.editTemplate(data));\n            container = that.items().eq(index).addClass(KEDITITEM).attr(kendo.attr(\"uid\"), data.uid);\n            that.editable = container.kendoEditable({\n                model: data,\n                clearContainer: false,\n                errorTemplate: false,\n                target: that\n            }).data(\"kendoEditable\");\n\n            that.trigger(EDIT, { model: data, item: container });\n        },\n\n        save: function() {\n            var that = this,\n                editable = that.editable,\n                model;\n\n            if (!editable) {\n                return;\n            }\n\n            var container = editable.element;\n            model = that._modelFromElement(container);\n\n            if (editable.end() && !that.trigger(SAVE, { model: model, item: container })) {\n                that._closeEditable();\n                that.dataSource.sync();\n            }\n        },\n\n        remove: function(item) {\n            var that = this,\n                dataSource = that.dataSource,\n                data = that._modelFromElement(item);\n\n            if (that.editable) {\n                dataSource.cancelChanges(that._modelFromElement(that.editable.element));\n                that._closeEditable();\n            }\n\n            if (!that.trigger(REMOVE, { model: data, item: item })) {\n                if (item.attr(\"id\") === that.element.attr(ARIA_ACTIVEDESCENDANT)) {\n                    that.element.removeAttr(ARIA_ACTIVEDESCENDANT);\n                }\n\n                item.hide();\n                dataSource.remove(data);\n                dataSource.sync();\n            }\n        },\n\n        add: function() {\n            var that = this,\n                dataItem,\n                dataSource = that.dataSource,\n                index = dataSource.indexOf((dataSource.view() || [])[0]);\n\n            if (index < 0) {\n                index = 0;\n            }\n\n            that.cancel();\n            dataItem = dataSource.insert(index, {});\n            that.edit(that.element.find(\"[data-uid='\" + dataItem.uid + \"']\"));\n        },\n\n        cancel: function() {\n            var that = this,\n                dataSource = that.dataSource;\n\n            if (that.editable) {\n                var container = that.editable.element;\n                var model = that._modelFromElement(container);\n\n                if (!that.trigger(CANCEL, { model: model, container: container })) {\n                    dataSource.cancelChanges(model);\n                    that._closeEditable();\n                }\n            }\n        },\n\n        _crudHandlers: function() {\n            var that = this,\n                touchstartNs = TOUCHSTART + NS,\n                clickNs = CLICK + NS;\n\n            that.content.on(touchstartNs + \" \" + clickNs, \".k-edit-button\", function(e) {\n                e.preventDefault();\n                var item = $(this).closest(\"[\" + kendo.attr(\"uid\") + \"]\");\n                setTimeout(function() {\n                    that.edit(item);\n                });\n            });\n\n\n            that.content.on(touchstartNs + \" \" + clickNs, \".k-delete-button\", function(e) {\n                e.preventDefault();\n                var item = $(this).closest(\"[\" + kendo.attr(\"uid\") + \"]\");\n                 setTimeout(function() {\n                    that.remove(item);\n                 });\n            });\n\n            that.content.on(clickNs, \".k-update-button\", function(e) {\n                that.save();\n                e.preventDefault();\n            });\n\n            that.content.on(clickNs, \".k-cancel-button\", function(e) {\n                that.cancel();\n                e.preventDefault();\n            });\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that._unbindDataSource();\n\n            that._destroyEditable();\n\n            that.element.off(NS);\n            that.content.off(NS);\n\n            that._endlessFetchInProgress = that._endlessPageSize = that._skipRerenderItemsCount = that._focusNext = null;\n\n            if (that.pager) {\n                that.pager.destroy();\n            }\n\n            kendo.destroy(that.element);\n        }\n    });\n\n    kendo.ui.plugin(ListView);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n\n(function(f, define) {\n    define('kendo.listbox',[ \"kendo.draganddrop\", \"kendo.data\", \"kendo.selectable\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"listbox\",\n    name: \"ListBox\",\n    category: \"web\",\n    depends: [\"draganddrop\", \"data\", \"selectable\"]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo;\n    var kendoAttr = kendo.attr;\n    var data = kendo.data;\n    var keys = kendo.keys;\n    var kendoTemplate = kendo.template;\n    var Widget = kendo.ui.Widget;\n    var DataSource = data.DataSource;\n    var Selectable = kendo.ui.Selectable;\n    var DataBoundWidget = kendo.ui.DataBoundWidget;\n    var Class = kendo.Class;\n\n    var extend = $.extend;\n    var noop = $.noop;\n\n    var DASH = \"-\";\n    var DOT = \".\";\n    var SPACE = \" \";\n    var HASH = \"#\";\n\n    var KENDO_LISTBOX = \"kendoListBox\";\n    var NS = DOT + KENDO_LISTBOX;\n    var DISABLED_STATE_CLASS = \"k-disabled\";\n    var SELECTED_STATE_CLASS = \"k-selected\";\n    var ENABLED_ITEM_SELECTOR = \".k-list-item:not(.k-disabled)\";\n    var ENABLED_ITEMS_SELECTOR = \".k-list-ul:not(.k-disabled) >\" + ENABLED_ITEM_SELECTOR;\n    var TOOLBAR_CLASS = \"k-listbox-toolbar\";\n    var TOOL_SELECTOR = \"li > a.k-button:not(.k-disabled)\";\n    var FOCUSED_CLASS = \"k-focus\";\n    var DRAG_CLUE_CLASS = \"k-drag-clue\";\n    var DROP_HINT_CLASS = \"k-drop-hint\";\n    var LIST_CLASS = \"k-list-ul\";\n    var LIST_SELECTOR = \".k-list-ul\";\n\n    var CLICK = \"click\" + NS;\n    var KEYDOWN = \"keydown\" + NS;\n    var BLUR = \"blur\" + NS;\n    var outerWidth = kendo._outerWidth;\n    var outerHeight = kendo._outerHeight;\n    var CHANGE = \"change\";\n    var DATABOUND = \"dataBound\";\n    var ADD = \"add\";\n    var REMOVE = \"remove\";\n    var REORDER = \"reorder\";\n    var MOVE_UP = \"moveUp\";\n    var MOVE_DOWN = \"moveDown\";\n    var TRANSFER_TO = \"transferTo\";\n    var TRANSFER_FROM = \"transferFrom\";\n    var TRANSFER_ALL_TO = \"transferAllTo\";\n    var TRANSFER_ALL_FROM = \"transferAllFrom\";\n    var DRAGGEDCLASS = \"k-ghost\";\n    var UNIQUE_ID = \"uid\";\n    var ID = \"id\";\n    var TABINDEX = \"tabindex\";\n    var COMMAND = \"command\";\n\n    var MOVE_UP_OFFSET = -1;\n    var MOVE_DOWN_OFFSET = 1;\n    var DRAGSTART = \"dragstart\";\n    var DRAG = \"drag\";\n    var DROP = \"drop\";\n    var DRAGEND = \"dragend\";\n    var DEFAULT_FILTER = \"ul.k-list-ul>li.k-list-item\";\n\n    var RIGHT = \"right\";\n    var BOTTOM = \"bottom\";\n\n    var TOOLBAR_POSITION_CLASS_NAMES = [\n        TOOLBAR_CLASS + DASH + \"left\",\n        TOOLBAR_CLASS + DASH + RIGHT,\n        TOOLBAR_CLASS + DASH + \"top\",\n        TOOLBAR_CLASS + DASH + BOTTOM\n    ];\n\n    function getSortedDomIndices(items) {\n        var indices = $.map(items, function(item) {\n            return $(item).index();\n        });\n\n        return indices;\n    }\n\n    function isUndefined(value) {\n        return (typeof value === \"undefined\");\n    }\n\n    function defaultHint(element) {\n        return element.clone()\n            .attr('class', '')\n            .addClass(DRAG_CLUE_CLASS);\n    }\n\n    function defaultPlaceholder() {\n        return $('<li>').addClass(DROP_HINT_CLASS);\n    }\n\n    var ListBox = DataBoundWidget.extend({\n        init: function(element, options) {\n            var that = this;\n            Widget.fn.init.call(that, element, options);\n\n            that._wrapper();\n            that._list();\n            that._ariaLabel(that._getList());\n            element = that.element.attr(\"multiple\", \"multiple\").hide();\n\n            if (element[0] && !that.options.dataSource) {\n                that.options.dataTextField = that.options.dataTextField || \"text\";\n                that.options.dataValueField = that.options.dataValueField || \"value\";\n            }\n            that._templates();\n            that._selectable();\n            that._dataSource();\n            that._createToolbar();\n            that._createDraggable();\n            that._createNavigatable();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            DataBoundWidget.fn.destroy.call(that);\n            if (!isNaN(that._listTabIndex)) {\n                that._getList().off();\n                that._listTabIndex = null;\n            }\n            that._unbindDataSource();\n            that._destroySelectable();\n            that._destroyToolbar();\n            that.wrapper.off(NS);\n            if (that._target) {\n                that._target = null;\n            }\n            if (that._draggable) {\n                that._draggable.destroy();\n                that.placeholder = null;\n            }\n\n            kendo.destroy(that.element);\n        },\n\n        setOptions: function(options) {\n            Widget.fn.setOptions.call(this, options);\n            this._templates();\n            this._dataSource();\n        },\n\n        events: [\n            CHANGE,\n            DATABOUND,\n            ADD,\n            REMOVE,\n            REORDER,\n            DRAGSTART,\n            DRAG,\n            DROP,\n            DRAGEND\n        ],\n\n        options: {\n            name: \"ListBox\",\n            autoBind: true,\n            template: \"\",\n            dataTextField: \"\",\n            dataValueField: \"\",\n            selectable: \"single\",\n            draggable: null,\n            dropSources: [],\n            connectWith: \"\",\n            navigatable: true,\n            toolbar: {\n                position: RIGHT,\n                tools: []\n            },\n            messages: {\n                tools: {\n                    remove: \"Delete\",\n                    moveUp: \"Move Up\",\n                    moveDown: \"Move Down\",\n                    transferTo: \"Transfer To\",\n                    transferFrom: \"Transfer From\",\n                    transferAllTo: \"Transfer All To\",\n                    transferAllFrom: \"Transfer All From\"\n                }\n            }\n        },\n\n        add: function(dataItems) {\n            var that = this;\n            var items = dataItems && dataItems.length ? dataItems : [dataItems];\n            var itemsLength = items.length;\n            var list = that._getList();\n            var i;\n\n            that._unbindDataSource();\n            that._unbindDataChange();\n            for (i = 0; i < itemsLength; i++) {\n                that._addItem(items[i], list);\n            }\n            that._bindDataChange();\n            that._bindDataSource();\n            that._syncElement();\n        },\n\n        _addItem: function(dataItem, list) {\n            var that = this;\n            var item = $(that.templates.itemTemplate({ item: dataItem, r: that.templates.itemContent }));\n\n            that._setItemId(item, dataItem.uid);\n\n            item.appendTo(list);\n\n            if (typeof dataItem === typeof \"\") {\n                that.dataSource._data.push(dataItem);\n            } else {\n                that.dataSource.add(dataItem);\n            }\n        },\n\n        _addItemAt: function(dataItem, index) {\n            var that = this;\n            var item = $(that.templates.itemTemplate({ item: dataItem, r: that.templates.itemContent }));\n            that._unbindDataSource();\n            if (typeof dataItem === typeof \"\") {\n                that._insertElementAt(item, index);\n                that.dataSource._data.push(dataItem);\n            } else {\n                that._setItemId(item, dataItem.uid);\n                that._insertElementAt(item, index);\n                that.dataSource.add(dataItem);\n            }\n            that._bindDataSource();\n            that._syncElement();\n        },\n\n        _insertElementAt: function(item, index) {\n            var that = this;\n            var list = that._getList();\n\n            if (index > 0) {\n                $(item).insertAfter(list.children().eq(index - 1));\n            } else {\n                $(list).prepend(item);\n            }\n        },\n\n        _createNavigatable: function() {\n            var that = this;\n            var options = that.options;\n\n            if (options.navigatable) {\n                that._getList().on(CLICK, ENABLED_ITEM_SELECTOR, that._click.bind(that))\n                            .on(KEYDOWN, that._keyDown.bind(that))\n                            .on(BLUR, that._blur.bind(that));\n            }\n        },\n\n        _getTabIndex: function() {\n            var that = this;\n            var tabindex;\n\n            if (!isNaN(that._listTabIndex))\n            {\n                return that._listTabIndex;\n            }\n\n            tabindex = that.element.attr(TABINDEX);\n            that._listTabIndex = !isNaN(tabindex) ? tabindex : 0;\n\n            that.element.removeAttr(TABINDEX);\n\n            return that._listTabIndex;\n        },\n\n        _blur: function() {\n            if (this._target) {\n                this._target.removeClass(FOCUSED_CLASS);\n                this._getList().removeAttr(\"aria-activedescendant\");\n            }\n            this._target = null;\n        },\n\n        _click: function(e) {\n            var that = this;\n            var target = $(e.currentTarget);\n            var oldTarget = that._target;\n            var activeEl = kendo._activeElement();\n            var isContained = $.contains(that.wrapper[0], activeEl);\n\n            if (oldTarget) {\n                oldTarget.removeClass(FOCUSED_CLASS);\n            }\n\n            that._target = target;\n            target.addClass(FOCUSED_CLASS);\n            that._getList().attr(\"aria-activedescendant\", target.attr(ID));\n\n            if (that._getList()[0] !== kendo._activeElement() && (!isContained || !isInputElement(activeEl))) {\n                that.focus();\n            }\n        },\n\n        _getNavigatableItem: function(key) {\n            var that = this;\n            var current;\n\n            if (!that._target) {\n                current = that.items().filter(ENABLED_ITEM_SELECTOR).first();\n            } else {\n                current = that._target;\n            }\n\n            if (key === keys.UP && that._target) {\n                current = that._target.prevAll(ENABLED_ITEM_SELECTOR).first();\n            }\n\n            if (key === keys.DOWN && that._target) {\n                current = that._target.nextAll(ENABLED_ITEM_SELECTOR).first();\n            }\n\n            return current.length ? current : null;\n        },\n\n        _scrollIntoView: function(item) {\n            if (!item) {\n                return;\n            }\n\n            if (item[0]) {\n                item = item[0];\n            }\n\n            var list = this._getList().parent()[0];\n            var itemOffsetTop = item.offsetTop;\n            var contentScrollTop = list.scrollTop;\n            var contentOffsetHeight = list.clientHeight;\n            var bottomDistance = itemOffsetTop + item.offsetHeight;\n\n            if (contentScrollTop > itemOffsetTop) {\n                contentScrollTop = itemOffsetTop;\n            } else if (bottomDistance > (contentScrollTop + contentOffsetHeight)) {\n                contentScrollTop = (bottomDistance - contentOffsetHeight);\n            }\n\n            list.scrollTop = contentScrollTop;\n        },\n\n        _keyDown: function(e) {\n            var that = this;\n            var key = e.keyCode;\n            var current = that._getNavigatableItem(key);\n            var shouldPreventDefault;\n\n            if (that._target) {\n                that._target.removeClass(FOCUSED_CLASS);\n            }\n\n            if (!(e.shiftKey && !e.ctrlKey && (key === keys.DOWN || key === keys.UP))) {\n                that._shiftSelecting = false;\n            }\n\n            if (key == keys.DELETE) {\n                that._executeCommand(REMOVE);\n                if (that._target) {\n                    that._target.removeClass(FOCUSED_CLASS);\n                    that._getList().removeAttr(\"aria-activedescendant\");\n                    that._target = null;\n                }\n                shouldPreventDefault = true;\n            } else if (key === keys.DOWN || key === keys.UP) {\n                if (!current) {\n                    e.preventDefault();\n                    return;\n                }\n                if (e.shiftKey && !e.ctrlKey) {\n                    if (!that._shiftSelecting) {\n                        that.clearSelection();\n                        that._shiftSelecting = true;\n                    }\n                    if (that._target && current.hasClass(\"k-selected\")) {\n                        that._target.removeClass(SELECTED_STATE_CLASS);\n                    } else if (that.options.selectable == \"single\") {\n                       that.select(current);\n                    } else {\n                       that.select(current.add(that._target));\n                    }\n                    that.trigger(CHANGE);\n                } else if (e.shiftKey && e.ctrlKey) {\n                    that._executeCommand(key === keys.DOWN ? MOVE_DOWN : MOVE_UP);\n                    that._scrollIntoView(that._target);\n                    e.preventDefault();\n                    return;\n                } else if (!e.shiftKey && !e.ctrlKey) {\n                    if (that.options.selectable === \"multiple\") {\n                        that.clearSelection();\n                    }\n                    that.select(current);\n                    that.trigger(CHANGE);\n                }\n\n                that._target = current;\n                if (that._target) {\n                    that._target.addClass(FOCUSED_CLASS);\n                    that._scrollIntoView(that._target);\n                    that._getList().attr(\"aria-activedescendant\", that._target.attr(ID));\n                } else {\n                    that._getList().removeAttr(\"aria-activedescendant\");\n                }\n                shouldPreventDefault = true;\n            } else if (key == keys.SPACEBAR) {\n                if (e.ctrlKey && that._target) {\n                   if (that._target.hasClass(SELECTED_STATE_CLASS)) {\n                       that._target.removeClass(SELECTED_STATE_CLASS);\n                   } else {\n                       that.select(that._target);\n                   }\n                    that.trigger(CHANGE);\n                } else {\n                   that.clearSelection();\n                   that.select(that._target);\n                   that.trigger(CHANGE);\n                }\n                shouldPreventDefault = true;\n            } else if (e.ctrlKey && key == keys.RIGHT) {\n                if (e.shiftKey) {\n                   that._executeCommand(TRANSFER_ALL_TO);\n                } else {\n                   that._executeCommand(TRANSFER_TO);\n                }\n                that._target = that.select().length ? that.select() : null;\n                shouldPreventDefault = true;\n            } else if (e.ctrlKey && key == keys.LEFT) {\n                if (e.shiftKey) {\n                   that._executeCommand(TRANSFER_ALL_FROM);\n                } else {\n                   that._executeCommand(TRANSFER_FROM);\n                }\n                shouldPreventDefault = true;\n            }\n\n            if (shouldPreventDefault) {\n                e.preventDefault();\n            }\n        },\n\n        focus: function() {\n            kendo.focusElement(this._getList());\n        },\n\n        _createDraggable: function() {\n            var that = this;\n            var draggable = that.options.draggable;\n            var hint;\n\n            if (draggable) {\n                hint = draggable.hint;\n                if (!that.options.selectable) {\n                    throw new Error(\"Dragging requires selection to be enabled\");\n                }\n\n                if (!hint) {\n                    hint = defaultHint;\n                }\n\n                that._draggable = new kendo.ui.Draggable(that.wrapper, {\n                    filter: draggable.filter ? draggable.filter : DEFAULT_FILTER,\n                    hint: kendo.isFunction(hint) ? hint : $(hint),\n                    dragstart: that._dragstart.bind(that),\n                    dragcancel: that._clear.bind(that),\n                    drag: that._drag.bind(that),\n                    dragend: that._dragend.bind(that)\n                });\n            }\n        },\n\n        _dragstart: function(e) {\n            var that = this;\n            var draggedElement = that.draggedElement = e.currentTarget;\n            var placeholder = that.options.draggable.placeholder;\n            var dataItem = that.dataItem(draggedElement);\n            var eventData = { dataItems: dataItem, items: $(draggedElement), draggableEvent: e };\n\n            if (that.options.draggable.enabled === false) {\n                e.preventDefault();\n                return;\n            }\n\n            if (!placeholder) {\n                placeholder = defaultPlaceholder;\n            }\n\n            that.placeholder = kendo.isFunction(placeholder) ? $(placeholder.call(that, draggedElement)) : $(placeholder);\n\n            if (draggedElement.is(DOT + DISABLED_STATE_CLASS)) {\n                e.preventDefault();\n            } else {\n                if (that.trigger(DRAGSTART, eventData)) {\n                    e.preventDefault();\n                } else {\n                    that.clearSelection();\n                    that.select(draggedElement);\n                    draggedElement.addClass(DRAGGEDCLASS);\n                }\n            }\n        },\n\n        _clear: function() {\n            this.draggedElement.removeClass(DRAGGEDCLASS);\n            this.placeholder.remove();\n        },\n\n        _findElementUnderCursor: function(e) {\n            var elementUnderCursor = kendo.elementUnderCursor(e);\n            var draggable = e.sender;\n\n            if ($.contains(draggable.hint[0], elementUnderCursor) || draggable.hint[0] === elementUnderCursor) {\n                draggable.hint.hide();\n                elementUnderCursor = kendo.elementUnderCursor(e);\n                draggable.hint.show();\n            }\n\n            return elementUnderCursor;\n        },\n\n        _findTarget: function(e) {\n            var that = this;\n            var element = that._findElementUnderCursor(e);\n            var elementNode = $(element);\n            var list = that._getList();\n            var items;\n            var node;\n\n            if ($.contains(list[0], element)) {\n                items = that.items();\n                element = elementNode.is(\"li\") ? element : elementNode.closest(\"li\")[0];\n                node = items.filter(element)[0] || items.has(element)[0];\n                if (node) {\n                    node = $(node);\n                    return !node.hasClass(DISABLED_STATE_CLASS) ? { element: node, listBox: that } : null;\n                } else {\n                    return null;\n                }\n            } else if (list[0] == element || list.parent()[0] == element) {\n                return { element: $(list), appendToBottom: true, listBox: that };\n            } else {\n                return that._searchConnectedListBox(elementNode);\n            }\n        },\n\n        _getElementCenter: function(element) {\n            var center = element.length ? kendo.getOffset(element) : null;\n            if (center) {\n                center.top += outerHeight(element) / 2;\n                center.left += outerWidth(element) / 2;\n            }\n\n            return center;\n        },\n\n        _searchConnectedListBox: function(element) {\n            var connectedListBox;\n            var items;\n            var node;\n            var originalElement = element;\n            var closestContainer;\n\n            if (element.hasClass(\"k-list-scroller k-selectable\")) {\n                closestContainer = element;\n            } else {\n                closestContainer = element.closest(\".k-list-scroller.k-selectable\");\n            }\n\n            if (closestContainer.length) {\n                connectedListBox = closestContainer.parent().find(\"[data-role='listbox']\").getKendoListBox();\n            } else {\n                return null;\n            }\n\n            if (connectedListBox && $.inArray(this.element[0].id, connectedListBox.options.dropSources) !== -1) {\n                items = connectedListBox.items();\n                element = element.is(\"li\") ? element[0] : element.closest(\"li\")[0];\n                node = items.filter(element)[0] || items.has(element)[0];\n                if (node) {\n                    node = $(node);\n                    return !node.hasClass(DISABLED_STATE_CLASS) ? { element: node, listBox: connectedListBox } : null;\n                } else if (!items.length ||\n                            originalElement.hasClass(\"k-list-scroller k-selectable\") ||\n                            originalElement.hasClass(\"k-list-content\")) {\n                    return { element: connectedListBox._getList(), listBox: connectedListBox, appendToBottom: true };\n                } else {\n                    return null;\n                }\n            }\n            return null;\n        },\n\n        _drag: function(e) {\n            var that = this;\n            var draggedElement = that.draggedElement;\n            var target = that._findTarget(e);\n            var cursorOffset = { left: e.x.location, top: e.y.location };\n            var dataItem = that.dataItem(draggedElement);\n            var eventData = { dataItems: [dataItem], items: $(draggedElement), draggableEvent: e };\n            var targetCenter;\n            var offsetDelta;\n            var direction;\n\n            if (that.trigger(DRAG, eventData)) {\n                e.preventDefault();\n                return;\n            }\n\n            if (target) {\n                targetCenter = this._getElementCenter(target.element);\n\n                offsetDelta = {\n                    left: Math.round(cursorOffset.left - targetCenter.left),\n                    top: Math.round(cursorOffset.top - targetCenter.top)\n                };\n\n                if (target.appendToBottom) {\n                    that._movePlaceholder(target, null , draggedElement);\n                    return;\n                }\n\n                if (offsetDelta.top < 0) {\n                    direction = \"prev\";\n                } else if (offsetDelta.top > 0) {\n                    direction = \"next\";\n                }\n\n                if (direction) {\n                    if (target.element[0] != that.placeholder[0]) {\n                        that._movePlaceholder(target, direction, draggedElement);\n                    }\n                }\n             }\n             else if (that.placeholder.parent().length) {\n                that.placeholder.remove();\n             }\n        },\n\n        _movePlaceholder: function(target, direction, draggedElement) {\n            var that = this;\n            var placeholder = that.placeholder;\n            var draggableOptions = target.listBox.options.draggable;\n\n            if (placeholder.parent().length) {\n                that.placeholder.remove();\n                if (draggableOptions && draggableOptions.placeholder) {\n                    that.placeholder = kendo.isFunction(draggableOptions.placeholder) ? $(draggableOptions.placeholder.call(that, draggedElement)) : $(draggableOptions.placeholder);\n                } else {\n                    that.placeholder = $(defaultPlaceholder.call(that, draggedElement));\n                }\n            }\n\n            if (!direction) {\n                target.element.append(that.placeholder);\n            } else if (direction === \"prev\") {\n                target.element.before(that.placeholder);\n            } else if (direction === \"next\") {\n                target.element.after(that.placeholder);\n            }\n        },\n\n        _dragend: function(e) {\n            var that = this;\n            var draggedItem = that.draggedElement;\n            var items = that.items();\n            var placeholderIndex = items.not(that.draggedElement).index(that.placeholder);\n            var draggedIndex = items.not(that.placeholder).index(that.draggedElement);\n            var dataItem = that.dataItem(draggedItem);\n            var eventData = { dataItems: [dataItem], items: $(draggedItem) };\n            var connectedListBox = that.placeholder.closest(\".k-widget.k-listbox\").find(\"[data-role='listbox']\").getKendoListBox();\n\n            if (that.trigger(DROP, extend({}, eventData, { draggableEvent: e }))) {\n                e.preventDefault();\n                this._clear();\n                return;\n            }\n\n            if (placeholderIndex >= 0) {\n                if (placeholderIndex !== draggedIndex && !that.trigger(REORDER, extend({}, eventData, { offset: placeholderIndex - draggedIndex }))) {\n                    draggedItem.removeClass(DRAGGEDCLASS);\n                    that.reorder(draggedItem, placeholderIndex);\n                }\n            } else if (connectedListBox) {\n                if (!that.trigger(REMOVE, eventData)) {\n                    that.remove($(draggedItem));\n                }\n\n                if (!connectedListBox.trigger(ADD, eventData)) {\n                    connectedListBox._addItemAt(dataItem, connectedListBox.items().index(that.placeholder));\n                }\n            }\n\n            that._clear();\n            that._draggable.dropped = true;\n\n            that.trigger(DRAGEND, extend({}, eventData, { draggableEvent: e }));\n\n            that._updateToolbar();\n            that._updateAllToolbars();\n        },\n\n        reorder: function(item, index) {\n            var that = this;\n            var dataSource = that.dataSource;\n            var dataItem = that.dataItem(item);\n            var dataItemAtIndex = dataSource.at(index);\n            var itemAtIndex = that.items()[index];\n            var listItem = $(item);\n\n            if (dataItem && itemAtIndex && dataItemAtIndex) {\n                that._removeElement(listItem);\n                that._insertElementAt(listItem, index);\n                that._updateToolbar();\n            }\n        },\n\n        remove: function(items) {\n            var that = this;\n            var listItems = that._getItems(items);\n            var itemsLength = listItems.length;\n            var i;\n\n            that._unbindDataSource();\n            that._unbindDataChange();\n            for (i = 0; i < itemsLength; i++) {\n                that._removeItem($(listItems[i]));\n            }\n            that._bindDataChange();\n            that._bindDataSource();\n            that._syncElement();\n            that._updateToolbar();\n            that._updateAllToolbars();\n        },\n\n        _removeItem: function(item) {\n            var that = this;\n            var dataSource = that.dataSource;\n            var dataItem = that.dataItem(item);\n            var transport = dataSource.transport;\n\n            if (!dataItem || !dataSource) {\n                return;\n            }\n            if (typeof dataItem === typeof \"\") {\n                var data = dataSource._data;\n                for (var i = 0; i < data.length; i++) {\n                    if (dataItem === data[i]) {\n                        data[i] = data[data.length - 1];\n                        data.pop();\n                        break;\n                    }\n                }\n            } else {\n                dataSource.remove(dataItem);\n                if (transport && (transport.destroy || (transport.options || {}).destroy) &&\n                    (!dataItem.isNew || !dataItem.isNew())) {\n                    dataSource._destroyed.push(dataItem);\n                }\n            }\n            that._removeElement(item);\n        },\n\n        _removeElement: function(item) {\n            kendo.destroy(item);\n            $(item).off().remove();\n        },\n\n        dataItem: function(element) {\n            var uniqueIdAttr = kendoAttr(UNIQUE_ID);\n            var uid = $(element).attr(uniqueIdAttr) || $(element).closest(\"[\" + uniqueIdAttr + \"]\").attr(uniqueIdAttr);\n            if (uid) {\n                return this.dataSource.getByUid(uid);\n            }\n            else {\n                return $(element).find(\".k-list-item-text\").html();\n            }\n        },\n\n        _dataItems: function(items) {\n            var dataItems = [];\n            var listItems = $(items);\n            var itemsLength = listItems.length;\n            var i;\n\n            for (i = 0; i < itemsLength; i++) {\n                dataItems.push(this.dataItem(listItems.eq(i)));\n            }\n\n            return dataItems;\n        },\n\n        items: function() {\n            var list = this._getList();\n            return list.children();\n        },\n\n        select: function(items) {\n            var that = this;\n            var selectable = that.selectable;\n            var enabledItems;\n\n            if (isUndefined(items)) {\n                return selectable.value();\n            }\n\n            enabledItems = that.items().filter(items).filter(ENABLED_ITEMS_SELECTOR);\n\n            if (!selectable.options.multiple) {\n                selectable.clear();\n                enabledItems = enabledItems.first();\n            }\n\n            return selectable.value(enabledItems);\n        },\n\n        clearSelection: function() {\n            var that = this;\n            var selectable = that.selectable;\n\n            if (selectable) {\n                selectable.clear();\n            }\n        },\n\n        enable: function(items, enable) {\n            var that = this;\n            var enabled = isUndefined(enable) ? true : !!enable;\n            var listItems = that._getItems(items);\n            var itemsLength = listItems.length;\n            var i;\n\n            for (i = 0; i < itemsLength; i++) {\n                that._enableItem($(listItems[i]), enabled);\n            }\n\n            that._updateAllToolbars();\n        },\n\n        _enableItem: function(item, enable) {\n            var that = this;\n            var dataItem = that.dataItem(item);\n\n            if (dataItem) {\n                if (enable) {\n                    $(item).removeClass(DISABLED_STATE_CLASS);\n                } else {\n                    $(item)\n                        .addClass(DISABLED_STATE_CLASS)\n                        .removeClass(SELECTED_STATE_CLASS);\n                }\n            }\n        },\n\n        setDataSource: function(dataSource) {\n            var that = this;\n\n            that.options.dataSource = dataSource;\n\n            that._dataSource();\n        },\n\n        _dataSource: function() {\n            var that = this;\n            var options = that.options;\n            var dataSource = options.dataSource || {};\n\n            dataSource = Array.isArray(dataSource) ? { data: dataSource } : dataSource;\n            dataSource.select = that.element;\n            dataSource.fields = [\n                { field: options.dataTextField },\n                { field: options.dataValueField }];\n\n            that._unbindDataSource();\n            that.dataSource = DataSource.create(dataSource);\n            that._bindDataSource();\n\n            if (that.options.autoBind) {\n                that.wrapper.attr(\"aria-busy\", true);\n                that.dataSource.fetch();\n            }\n        },\n\n        _bindDataChange: function() {\n            var dataSource = this.dataSource;\n            if (dataSource._data && dataSource._changeHandler) {\n                dataSource._data.bind(CHANGE, dataSource._changeHandler);\n                dataSource._data.trigger(CHANGE);\n            }\n        },\n\n        _unbindDataChange: function() {\n            var dataSource = this.dataSource;\n            if (dataSource._data && dataSource._changeHandler) {\n                dataSource._data.unbind(CHANGE, dataSource._changeHandler);\n            }\n        },\n\n        _bindDataSource: function() {\n            var that = this;\n            var dataSource = that.dataSource;\n\n            that._dataChangeHandler = that.refresh.bind(that);\n\n            if (dataSource) {\n                dataSource.bind(CHANGE, that._dataChangeHandler);\n            }\n        },\n\n        _unbindDataSource: function() {\n            var that = this;\n            var dataSource = that.dataSource;\n\n            if (dataSource) {\n                dataSource.unbind(CHANGE, that._dataChangeHandler);\n            }\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                wrapper = element.parent(\"div.k-listbox\");\n\n            if (!wrapper[0]) {\n                wrapper = element.wrap('<div class=\"k-widget k-listbox\" unselectable=\"on\" />').parent();\n                wrapper[0].style.cssText = element[0].style.cssText;\n                wrapper[0].title = element[0].title;\n                $('<div class=\"k-list-scroller\"><div class=\"k-list k-list-md\"><div class=\"k-list-content\"></div></div></div>').insertBefore(element);\n            }\n\n            that.wrapper = wrapper.addClass(element[0].className).css(\"display\", \"\");\n            that._innerWrapper = $(wrapper[0].firstChild);\n        },\n\n        _list: function() {\n            var that = this,\n                list = $(\"<ul class='\" + LIST_CLASS + \"' role='listbox'></ul>\"),\n                selectable = that.options.selectable,\n                selectableOptions = Selectable.parseOptions(selectable);\n\n            if (selectableOptions.multiple) {\n                list.attr(\"aria-multiselectable\", \"true\");\n            }\n\n            list.appendTo(that.wrapper.find(\".k-list-content\"));\n\n            if (that.options.navigatable) {\n                that._getList().attr(TABINDEX, that._getTabIndex());\n            }\n        },\n\n        _templates: function() {\n            var that = this;\n            var options = this.options;\n            var template;\n\n            if (options.template && typeof options.template == \"string\") {\n                template = kendo.template(options.template);\n            } else if (!options.template) {\n                template = kendo.template('${' + kendo.expr(options.dataTextField, \"data\") + \"}\", { useWithBlock: false });\n            } else {\n                template = options.template;\n            }\n\n            that.templates = {\n                itemTemplate: kendo.template(\"# var item = data.item, r = data.r; # <li class='k-list-item' role='option' aria-selected='false'><span class='k-list-item-text'>#=r(item)#</span></li>\", { useWithBlock: false }),\n                itemContent: template,\n                toolbar: \"<div class='\" + TOOLBAR_CLASS + \"'></div>\"\n            };\n        },\n\n        refresh: function() {\n            var that = this;\n            var view = that.dataSource.view();\n            var template = that.templates.itemTemplate;\n            var html = \"\";\n\n            for (var idx = 0; idx < view.length; idx++) {\n                html += template({ item: view[idx], r: that.templates.itemContent });\n            }\n            that._getList().html(html);\n            that._setItemIds();\n            that._createToolbar();\n            that._syncElement();\n            that._updateToolbar();\n            that._updateAllToolbars();\n            that.trigger(DATABOUND);\n\n            that.wrapper.attr(\"aria-busy\", false);\n        },\n\n        _syncElement: function() {\n            var options = \"\";\n            var view = this.dataSource.view();\n            for (var idx = 0; idx < view.length; idx++) {\n                options += this._option(view[idx][this.options.dataValueField] || view[idx], view[idx][this.options.dataTextField] || view[idx], true);\n            }\n            this.element.html(options);\n        },\n\n        _option: function(dataValue, dataText) {\n            var option = \"<option\";\n\n            if (dataValue !== undefined) {\n                dataValue += \"\";\n\n                if (dataValue.indexOf('\"') !== -1) {\n                    dataValue = dataValue.replace(/\"/g, \"&quot;\");\n                }\n\n                option += ' value=\"' + dataValue + '\"';\n            }\n            option += \" selected>\";\n\n            if (dataText !== undefined) {\n                option += kendo.htmlEncode(dataText);\n            }\n\n            return option += \"</option>\";\n        },\n\n        _setItemId: function(item, id) {\n            if (!item.length) {\n                return;\n            }\n\n            item.attr(kendoAttr(UNIQUE_ID), id).attr(ID, id);\n        },\n\n        _setItemIds: function() {\n            var that = this;\n            var items = that.items();\n            var view = that.dataSource.view();\n            var viewLength = view.length;\n            var i;\n\n            for (i = 0; i < viewLength; i++) {\n                that._setItemId(items.eq(i), view[i].uid);\n            }\n        },\n\n        _selectable: function() {\n            var that = this;\n            var selectable = that.options.selectable;\n            var selectableOptions = Selectable.parseOptions(selectable);\n\n            that.selectable = new Selectable(that._innerWrapper, {\n                aria: true,\n                selectedClass: \"k-selected\",\n                multiple: selectableOptions.multiple,\n                filter: ENABLED_ITEM_SELECTOR,\n                change: that._onSelect.bind(that)\n            });\n        },\n\n        _onSelect: function() {\n            var that = this;\n\n            that._updateToolbar();\n            that._updateAllToolbars();\n            that.trigger(CHANGE);\n        },\n\n        _destroySelectable: function() {\n            var that = this;\n\n            if (that.selectable && that.selectable.element) {\n                that.selectable.destroy();\n                that.selectable = null;\n            }\n        },\n\n        _getList: function() {\n            return this.wrapper.find(LIST_SELECTOR);\n        },\n\n        _getItems: function(items) {\n            return this.items().filter(items);\n        },\n\n        _createToolbar: function() {\n            var that = this;\n            var toolbarOptions = that.options.toolbar;\n            var position = toolbarOptions.position || RIGHT;\n            var toolbarInsertion = position === BOTTOM ? \"insertAfter\" : \"insertBefore\";\n            var tools = toolbarOptions.tools || [];\n            var messages = that.options.messages;\n\n            that._destroyToolbar();\n            that.wrapper.removeClass(TOOLBAR_POSITION_CLASS_NAMES.join(SPACE));\n\n            if (tools.length && tools.length > 0) {\n                var toolbarElement = $(that.templates.toolbar)[toolbarInsertion](that._innerWrapper);\n                that.toolbar = new ToolBar(toolbarElement, extend({}, toolbarOptions, { listBox: that, messages: messages }));\n                that.wrapper.addClass(TOOLBAR_CLASS + DASH + position);\n            }\n        },\n\n        _destroyToolbar: function() {\n            var that = this;\n\n            if (that.toolbar) {\n                that.toolbar.destroy();\n                that.toolbar = null;\n            }\n        },\n\n        _executeCommand: function(commandName) {\n            var that = this;\n            var command = CommandFactory.current.create(commandName, { listBox: that });\n\n            if (command) {\n                command.execute();\n                that._updateToolbar();\n                that._updateAllToolbars();\n            }\n        },\n\n        _updateToolbar: function() {\n            var toolbar = this.toolbar;\n\n            if (toolbar) {\n                toolbar._updateToolStates();\n            }\n        },\n\n        _updateAllToolbars: function() {\n            var listBoxElements = $(\"select[data-role='listbox']\");\n            var elementsLength = listBoxElements.length;\n            var listBox;\n            var i;\n\n            for (i = 0; i < elementsLength; i++) {\n                listBox = $(listBoxElements[i]).data(KENDO_LISTBOX);\n\n                if (listBox) {\n                    listBox._updateToolbar();\n                }\n            }\n        }\n    });\n\n    kendo.ui.plugin(ListBox);\n\n    var CommandFactory = Class.extend({\n        init: function() {\n            this._commands = [];\n        },\n\n        register: function(commandName, commandType) {\n            this._commands.push({\n                commandName: commandName,\n                commandType: commandType\n            });\n        },\n\n        create: function(commandName, options) {\n            var commands = this._commands;\n            var itemsLength = commands.length;\n            var name = commandName ? commandName.toLowerCase() : \"\";\n            var match;\n            var command;\n            var i;\n\n            for (i = 0; i < itemsLength; i++) {\n                command = commands[i];\n\n                if (command.commandName.toLowerCase() === name) {\n                    match = command;\n                    break;\n                }\n            }\n\n            if (match) {\n                return new match.commandType(options);\n            }\n        }\n    });\n    CommandFactory.current = new CommandFactory();\n\n    var ListBoxCommand = Class.extend({\n        init: function(options) {\n            var that = this;\n\n            that.options = extend({}, that.options, options);\n            that.listBox = that.options.listBox;\n        },\n\n        options: {\n            listBox: null\n        },\n\n        getItems: function() {\n            return $(this.listBox.select());\n        },\n\n        execute: noop,\n        canExecute: noop\n    });\n\n    var RemoveItemsCommand = ListBoxCommand.extend({\n        execute: function() {\n            var that = this;\n            var listBox = that.listBox;\n            var items = that.getItems();\n\n            if (!listBox.trigger(REMOVE, { dataItems: listBox._dataItems(items), items: items })) {\n                listBox.remove(items);\n            }\n        },\n\n        canExecute: function() {\n            return this.listBox.select().length > 0;\n        }\n    });\n    CommandFactory.current.register(REMOVE, RemoveItemsCommand);\n\n    var MoveItemsCommand = ListBoxCommand.extend({\n        execute: function() {\n            var that = this;\n\n            if (that.canExecute()) {\n                that.moveItems();\n            }\n        },\n\n        canExecute: noop,\n\n        moveItems: function() {\n            var that = this;\n            var listBox = that.listBox;\n            var options = that.options;\n            var items = that.getItems();\n            var offset = options.offset;\n            var indecesInDom = getSortedDomIndices(items);\n            var movedItems = $.makeArray(items.sort(that.itemComparer));\n            var moveAction = options.moveAction;\n            var movedItem;\n\n            if (!listBox.trigger(REORDER, { dataItems: listBox._dataItems(movedItems), items: $(movedItems), offset: offset })) {\n                while (movedItems.length > 0 && indecesInDom.length > 0) {\n                    movedItem = movedItems[moveAction]();\n\n                    listBox.reorder(movedItem, indecesInDom[moveAction]() + offset);\n                }\n            }\n        },\n\n        options: {\n            offset: 0,\n            moveAction: \"pop\"\n        },\n\n        itemComparer: function(item1, item2) {\n            var indexItem1 = $(item1).index();\n            var indexItem2 = $(item2).index();\n\n            if (indexItem1 === indexItem2) {\n                return 0;\n            } else {\n                return (indexItem1 > indexItem2 ? 1 : (-1));\n            }\n        }\n    });\n\n    var MoveUpItemsCommand = MoveItemsCommand.extend({\n        options: {\n            offset: MOVE_UP_OFFSET,\n            moveAction: \"shift\"\n        },\n\n        canExecute: function() {\n            var items = this.getItems();\n            var domIndices = getSortedDomIndices(items);\n\n            return (domIndices.length > 0 && domIndices[0] > 0);\n        }\n    });\n    CommandFactory.current.register(MOVE_UP, MoveUpItemsCommand);\n\n    var MoveDownItemsCommand = MoveItemsCommand.extend({\n        options: {\n            offset: MOVE_DOWN_OFFSET,\n            moveAction: \"pop\"\n        },\n\n        canExecute: function() {\n            var that = this;\n            var items = that.getItems();\n            var domIndices = getSortedDomIndices(items);\n\n            return (domIndices.length > 0 && $(domIndices).last()[0] < (that.listBox.items().length - 1));\n        }\n    });\n    CommandFactory.current.register(MOVE_DOWN, MoveDownItemsCommand);\n\n    var TransferItemsCommand = ListBoxCommand.extend({\n        options: {\n            filter: ENABLED_ITEM_SELECTOR\n        },\n\n        execute: function() {\n            var that = this;\n            var sourceListBox = that.getSourceListBox();\n            var items = that.getItems().filter(that.options.filter);\n            var dataItems = sourceListBox ? sourceListBox._dataItems(items) : [];\n            var destinationListBox = that.getDestinationListBox();\n            var updatedSelection = that.getUpdatedSelection(items);\n\n            if (destinationListBox && items.length > 0) {\n                if (!destinationListBox.trigger(ADD, { dataItems: dataItems, items: items })) {\n                    destinationListBox.add(dataItems);\n                }\n\n                if (!sourceListBox.trigger(REMOVE, { dataItems: dataItems, items: items })) {\n                    sourceListBox.remove(items);\n                    that.updateSelection(updatedSelection);\n                }\n            }\n        },\n\n        getUpdatedSelection: function(items) {\n\n            if (items.length !== 1) {\n                return null;\n            }\n            var that = this;\n            var itemFilter = that.options.filter;\n            var sourceListBox = that.getSourceListBox();\n            var lastEnabledItem = sourceListBox ? sourceListBox.items().filter(itemFilter).last() : null;\n            var containsLastItem = $(items).filter(lastEnabledItem).length > 0;\n            var itemToSelect = containsLastItem ? $(items).prevAll(itemFilter)[0] : $(items).nextAll(itemFilter)[0];\n\n            if (itemToSelect) {\n                return itemToSelect;\n            } else {\n                return null;\n            }\n        },\n\n        updateSelection: function(item) {\n            var sourceListBox = this.getSourceListBox();\n\n            if (sourceListBox && item) {\n                sourceListBox.select($(item));\n                sourceListBox.selectable.trigger(CHANGE);\n                sourceListBox._scrollIntoView(item);\n            }\n        },\n\n        getSourceListBox: noop,\n        getDestinationListBox: noop\n    });\n\n    var TransferItemsToCommand = TransferItemsCommand.extend({\n        canExecute: function() {\n            var sourceListBox = this.getSourceListBox();\n\n            return (sourceListBox ? sourceListBox.select().length > 0 : false);\n        },\n\n        getSourceListBox: function() {\n            return this.listBox;\n        },\n\n        getDestinationListBox: function() {\n            var sourceListBox = this.getSourceListBox();\n            return sourceListBox && sourceListBox.options.connectWith ? $(HASH + sourceListBox.options.connectWith).data(KENDO_LISTBOX) : null;\n        },\n\n        getItems: function() {\n            var sourceListBox = this.getSourceListBox();\n            return sourceListBox ? $(sourceListBox.select()) : $();\n        }\n    });\n    CommandFactory.current.register(TRANSFER_TO, TransferItemsToCommand);\n\n    var TransferItemsFromCommand = TransferItemsCommand.extend({\n        canExecute: function() {\n            var sourceListBox = this.getSourceListBox();\n\n            return (sourceListBox ? sourceListBox.select().length > 0 : false);\n        },\n\n        getSourceListBox: function() {\n            var destinationListBox = this.getDestinationListBox();\n            return (destinationListBox && destinationListBox.options.connectWith) ? $(HASH + destinationListBox.options.connectWith).data(KENDO_LISTBOX) : null;\n        },\n\n        getDestinationListBox: function() {\n            return this.listBox;\n        },\n\n        getItems: function() {\n            var sourceListBox = this.getSourceListBox();\n            return sourceListBox ? $(sourceListBox.select()) : $();\n        }\n    });\n    CommandFactory.current.register(TRANSFER_FROM, TransferItemsFromCommand);\n\n    var TransferAllItemsToCommand = TransferItemsToCommand.extend({\n        canExecute: function() {\n            var sourceListBox = this.getSourceListBox();\n\n            return (sourceListBox ? sourceListBox.wrapper.find(ENABLED_ITEMS_SELECTOR).length > 0 : false);\n        },\n\n        getItems: function() {\n            var sourceListBox = this.getSourceListBox();\n            return sourceListBox ? sourceListBox.items() : $();\n        },\n\n        getUpdatedSelection: noop,\n        updateSelection: noop\n    });\n    CommandFactory.current.register(TRANSFER_ALL_TO, TransferAllItemsToCommand);\n\n    var TransferAllItemsFromCommand = TransferItemsFromCommand.extend({\n        canExecute: function() {\n            var sourceListBox = this.getSourceListBox();\n\n            return (sourceListBox ? sourceListBox.wrapper.find(ENABLED_ITEMS_SELECTOR).length > 0 : false);\n        },\n\n        getItems: function() {\n            var sourceListBox = this.getSourceListBox();\n            return sourceListBox ? sourceListBox.items() : $();\n        },\n\n        getUpdatedSelection: noop,\n        updateSelection: noop\n    });\n    CommandFactory.current.register(TRANSFER_ALL_FROM, TransferAllItemsFromCommand);\n\n    var ToolBar = Class.extend({\n        init: function(element, options) {\n            var that = this;\n\n            that.element = $(element).addClass(TOOLBAR_CLASS);\n            that.options = extend({}, that.options, options);\n            that.listBox = that.options.listBox;\n\n            that._initTemplates();\n            that._createTools();\n            that._updateToolStates();\n            that._attachEventHandlers();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that._detachEventHandlers();\n            kendo.destroy(that.element);\n            that.element.remove();\n            that.element = null;\n        },\n\n        options: {\n            position: RIGHT,\n            tools: []\n        },\n\n        _initTemplates: function() {\n            this.templates = {\n                tool: kendoTemplate(\n                    \"<li>\" +\n                        \"<a href='\\\\\\\\#' class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button' data-command='#= command #' title='#= text #' aria-label='#= text #' role='button'>\" +\n                            \"<span class='k-button-icon k-icon #= iconClass #'></span>\" +\n                        \"</a>\" +\n                    \"</li>\")\n            };\n        },\n\n        _createTools: function() {\n            var that = this;\n            var tools = that.options.tools;\n            var toolsLength = tools.length;\n            var toolsMessages = that.options.messages.tools;\n            var toolList = that._createToolList();\n            var tool;\n            var i;\n\n            for (i = 0; i < toolsLength; i++) {\n                tool = extend({}, ToolBar.defaultTools[tools[i]], { text: toolsMessages[tools[i]] });\n\n                if (tool) {\n                    toolList.append($(that.templates.tool(tool)));\n                }\n            }\n\n            that.element.append(toolList);\n        },\n\n        _createToolList: function() {\n            return $(\"<ul class='k-reset' />\");\n        },\n\n        _attachEventHandlers: function() {\n            var that = this;\n\n            that.element.on(CLICK, TOOL_SELECTOR, that._onToolClick.bind(that));\n        },\n\n        _detachEventHandlers: function() {\n            this.element.off(NS).find(\"*\").off(NS);\n        },\n\n        _onToolClick: function(e) {\n            e.preventDefault();\n\n            this._executeToolCommand($(e.currentTarget).data(COMMAND));\n        },\n\n        _executeToolCommand: function(command) {\n            var that = this;\n            var listBox = that.listBox;\n\n            if (listBox) {\n                listBox._executeCommand(command);\n            }\n        },\n\n        _updateToolStates: function() {\n            var that = this;\n            var tools = that.options.tools;\n            var toolsLength = tools.length;\n            var i;\n\n            for (i = 0; i < toolsLength; i++) {\n                that._updateToolState(tools[i]);\n            }\n        },\n\n        _updateToolState: function(toolName) {\n            var that = this;\n            var command = CommandFactory.current.create(toolName, { listBox: that.listBox });\n            var tool = that.element.find(\"[data-command='\" + toolName + \"']\");\n            var toolElement = tool[0];\n\n            if (toolElement && command && command.canExecute) {\n                if (command.canExecute()) {\n                    tool.removeClass(DISABLED_STATE_CLASS).removeAttr(TABINDEX);\n                } else {\n                    tool.addClass(DISABLED_STATE_CLASS).attr(TABINDEX, \"-1\");\n                }\n            }\n        }\n    });\n\n    ToolBar.defaultTools = {\n        remove: {\n            command: REMOVE,\n            iconClass: \"k-i-x\"\n        },\n        moveUp: {\n            command: MOVE_UP,\n            iconClass: \"k-i-arrow-60-up\"\n        },\n        moveDown: {\n            command: MOVE_DOWN,\n            iconClass: \"k-i-arrow-60-down\"\n        },\n        transferTo: {\n            command: TRANSFER_TO,\n            iconClass: \"k-i-arrow-60-right\"\n        },\n        transferFrom: {\n            command: TRANSFER_FROM,\n            iconClass: \"k-i-arrow-60-left\"\n        },\n        transferAllTo: {\n            command: TRANSFER_ALL_TO,\n            iconClass: \"k-i-arrow-double-60-right\"\n        },\n        transferAllFrom: {\n            command: TRANSFER_ALL_FROM,\n            iconClass: \"k-i-arrow-double-60-left\"\n        }\n    };\n\n    extend(ListBox, {\n        ToolBar: ToolBar\n    });\n\n    function isInputElement(element) {\n        return $(element).is(\":button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,label.k-checkbox-label,.k-input,.k-multiselect-wrap,.k-picker-wrap,.k-picker-wrap>.k-selected-color,.k-tool-icon,.k-dropdownlist\");\n    }\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.loader',[\"kendo.core\"], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"loader\",\n    name: \"Loader\",\n    category: \"web\",\n    description: \"The Loader is a visual indicator of loading data across different parts of the page.\",\n    depends: [\"core\"]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        ui = kendo.ui,\n\n        HIDDEN = 'k-hidden',\n        ROLE = 'role',\n        ARIA_LABEL = 'aria-label',\n        ARIA_HIDDEN = 'aria-hidden',\n        ARIA_LIVE = 'aria-live';\n\n    var loaderClasses = {\n        loader: \"k-widget k-loader\",\n        canvas: \"k-loader-canvas\",\n        segment: \"k-loader-segment\"\n    };\n\n    var loaderTypes = {\n        'pulsing': { className: 'pulsing-2', segments: 2 },\n        'infinite-spinner': { className: 'spinner-3', segments: 3 },\n        'converging-spinner': { className: 'spinner-4', segments: 4 }\n    };\n\n    var Loader = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._render();\n\n            that._appearance();\n\n            kendo.notify(that);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n        },\n\n        options: {\n            name: 'Loader',\n            themeColor: \"primary\",\n            sizes: {\n                'small': 'sm',\n                'medium': 'md',\n                'large': 'lg'\n            },\n            size: 'medium',\n            type: \"pulsing\",\n            visible: true,\n            messages: {\n                \"loading\": \"Loading\"\n            },\n            _classNames: []\n        },\n\n        _render: function() {\n            var that = this,\n                wrapper = that.element,\n                type = that.options.type,\n                typeData = loaderTypes[type] === undefined ? type : loaderTypes[type],\n                segments = [];\n\n            wrapper\n                .empty()\n                .attr(ARIA_LABEL, that.options.messages.loading)\n                .attr(ROLE, \"alert\")\n                .attr(ARIA_LIVE, \"polite\");\n\n            if (typeData.segments) {\n                for (var i = 0; i < typeData.segments; i += 1) {\n                    segments.push($('<span/>').addClass(loaderClasses.segment));\n                }\n            }\n\n            $(\"<div>\").addClass(loaderClasses.canvas)\n                .append(segments)\n                .appendTo(wrapper);\n        },\n\n        _appearance: function() {\n            var that = this;\n\n            that._themeColor = that.options.themeColor;\n            that._sizes = that.options.sizes;\n            that._size = that.options.size;\n            that._type = that.options.type;\n            that._visible = that.options.visible;\n\n            that._updateClassNames();\n        },\n\n        _updateClassNames: function() {\n            var that = this,\n                classNames = [loaderClasses.loader],\n                keepClassNames = that.options._classNames,\n                themeColor = that._themeColor,\n                sizes = that._sizes,\n                size = that._size,\n                type = that._type,\n                typeData = loaderTypes[type] === undefined ? type : loaderTypes[type],\n                sizeAbbr = sizes[size] === undefined ? size : sizes[size],\n                visible = that._visible;\n\n            // Remove all class names\n            that.element.removeClass(function(index, className) {\n                if (className.indexOf('k-') === 0 && keepClassNames.indexOf(className) === -1) {\n                    that.element.removeClass(className);\n                }\n            });\n\n            // Color\n            if (typeof themeColor === 'string' && themeColor !== '' && themeColor !== 'inherit') {\n                classNames.push('k-loader-' + themeColor);\n            }\n\n            // Size\n            if (typeof size === 'string' && size !== '' && sizeAbbr !== '') {\n                classNames.push('k-loader-' + sizeAbbr);\n            }\n\n            // Type\n            if (typeof type === 'string' && type !== '') {\n                classNames.push('k-loader-' + ($.isPlainObject(typeData) ? typeData.className : type));\n            }\n\n            // Visibility\n            if (visible === false) {\n                classNames.push(HIDDEN);\n            }\n\n            that.element.attr(ARIA_HIDDEN, !visible);\n\n            // Apply classnames\n            that.element.addClass(classNames.join(' '));\n        },\n\n        setOptions: function(options) {\n            var that = this;\n\n            Widget.fn.setOptions.call(that, options);\n\n            that._render();\n\n            that._appearance();\n        },\n\n        themeColor: function(color) {\n            var that = this;\n\n            if (arguments.length === 0 || color === undefined) {\n                return that._themeColor;\n            }\n\n            that._themeColor = color;\n\n            that._updateClassNames();\n        },\n\n        hide: function() {\n            var that = this;\n\n            that._visible = false;\n\n            that._updateClassNames();\n        },\n\n        show: function() {\n            var that = this;\n\n            that._visible = true;\n\n            that._updateClassNames();\n        }\n    });\n\n    ui.plugin(Loader);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) {\n    (a3 || a2)();\n});\n(function(f, define) {\n    define('kendo.textarea',[\"kendo.core\", \"kendo.floatinglabel\"], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"textarea\",\n    name: \"TextArea\",\n    category: \"web\",\n    description: \"The TextArea widget represents a multi-line plain-text editing control which enables you to style and provide a floating label functionality to textarea elements\",\n    depends: [\"core\", \"floatinglabel\"]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        ui = kendo.ui,\n        isPlainObject = $.isPlainObject,\n        NS = \".kendoTextArea\",\n        CHANGE = \"change\",\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        INPUT = \"k-input-inner\",\n        FOCUSED = \"k-focus\",\n        LABELCLASSES = \"k-label k-input-label\",\n        STATEDISABLED = \"k-disabled\",\n        STATEREADONLY = \"k-readonly\",\n        ARIA_DISABLED = \"aria-disabled\",\n        TEXTAREACONTAINER = \"k-textarea-container\";\n\n    var TextArea = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            options = $.extend(true, {}, options);\n\n            that.options.value = options.value || that.element.val();\n            that.options.readonly = options.readonly !== undefined ? options.readonly : Boolean(that.element.attr(\"readonly\"));\n            that.options.enable = options.enable !== undefined ? options.enable : !(Boolean(that.element.attr(\"disabled\")));\n            that.options.placeholder = options.placeholder || that.element.attr(\"placeholder\");\n\n            if (!that.options.value.replace(/\\s/g, '').length) {\n                that.options.value = '';\n                that.element.val('');\n            }\n\n            that.value(that.options.value);\n            that._wrapper();\n            that._label();\n            that._editable({\n                readonly: that.options.readonly,\n                disable: !(that.options.enable)\n            });\n            that._applyAttributes();\n            that._applyCssClasses();\n            that.element\n                .addClass(INPUT)\n                .css(\"resize\", that.options.resizable)\n                .attr(\"autocomplete\", \"off\");\n\n            kendo.notify(that);\n        },\n\n        events: [\n            CHANGE\n        ],\n\n        attributes: [\n            \"maxLength\",\n            \"rows\",\n            \"placeholder\"\n        ],\n\n        options: {\n            name: 'TextArea',\n            value: '',\n            readonly: false,\n            enable: true,\n            placeholder: '',\n            label: null,\n            resizable: \"none\",\n            maxLength: null,\n            cols: 20,\n            rows: 1,\n            rounded: \"medium\",\n            size: \"medium\",\n            fillMode: \"solid\",\n            resize: \"none\",\n            overflow: \"auto\"\n        },\n\n        _applyCssClasses: function(action) {\n            var that = this,\n                options = that.options,\n                resize = kendo.cssProperties.getValidClass({\n                    widget: options.name,\n                    propName: \"resize\",\n                    value: options.resize\n                }),\n                overflow = kendo.cssProperties.getValidClass({\n                    widget: options.name,\n                    propName: \"overflow\",\n                    value: options.overflow\n                });\n\n            Widget.fn._applyCssClasses.call(that);\n\n            if (!resize && options.resize === \"none\") {\n                resize = \"k-resize-none\";\n            }\n\n            action = action || \"addClass\";\n\n            if (options.overflow === \"auto\") {\n                overflow = \"!k-overflow-y-auto\";\n            }\n\n            that.wrapper[action](resize);\n            that.element[action](overflow);\n        },\n\n        _applyAttributes: function() {\n            var that = this;\n            var property;\n            var attributes = {};\n\n            for (property in that.attributes) {\n                attributes[that.attributes[property]] = that.options[that.attributes[property]];\n            }\n\n            that.element.attr(attributes);\n        },\n\n        value: function(value) {\n            var that = this;\n\n            if (value === undefined) {\n                return that._value;\n            }\n\n            that._value = value;\n            that.element.val(value);\n        },\n\n        readonly: function(readonly) {\n            var that = this;\n\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n\n            if (that.floatingLabel) {\n                that.floatingLabel.readonly(readonly === undefined ? true : readonly);\n            }\n        },\n\n        enable: function(enable) {\n            var that = this;\n\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n\n            if (that.floatingLabel) {\n                that.floatingLabel.enable(enable = enable === undefined ? true : enable);\n            }\n        },\n\n        focus: function() {\n            var that = this;\n\n            that.element[0].focus();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that.floatingLabel) {\n                that.floatingLabel.destroy();\n            }\n\n            that.element.off(NS);\n            Widget.fn.destroy.call(that);\n        },\n\n        setOptions: function(options) {\n            var that = this;\n            that._applyCssClasses(\"removeClass\");\n            Widget.fn.setOptions.call(that, options);\n        },\n\n        _editable: function(options) {\n            var that = this;\n            var element = that.element;\n            var wrapper = that.wrapper;\n            var disable = options.disable;\n            var readonly = options.readonly;\n\n            element.off(NS);\n\n            if (!readonly && !disable) {\n                element.prop(DISABLED, false)\n                       .prop(READONLY, false)\n                       .attr(ARIA_DISABLED, false);\n\n                wrapper.removeClass(STATEDISABLED)\n                        .removeClass(STATEREADONLY);\n\n                element.on(\"focusin\" + NS, that._focusin.bind(that));\n                element.on(\"focusout\" + NS, that._focusout.bind(that));\n            } else {\n                element.attr(DISABLED, disable)\n                       .attr(READONLY, readonly)\n                       .attr(ARIA_DISABLED, disable);\n\n                wrapper.toggleClass(STATEDISABLED, disable)\n                        .toggleClass(STATEREADONLY, readonly);\n            }\n        },\n\n        _label: function() {\n            var that = this;\n            var element = that.element;\n            var options = that.options;\n            var id = element.attr(\"id\");\n            var floating;\n            var labelText;\n\n            if (options.label !== null) {\n                floating = isPlainObject(options.label) ? options.label.floating : false;\n                labelText = isPlainObject(options.label) ? options.label.content : options.label;\n\n                if (floating) {\n                    that._floatingLabelContainer = that.wrapper.wrap(\"<span></span>\").parent();\n                    that.floatingLabel = new kendo.ui.FloatingLabel(that._floatingLabelContainer, { widget: that, useReadOnlyClass: true });\n                    that._floatingLabelContainer.addClass(TEXTAREACONTAINER);\n                }\n\n                if (kendo.isFunction(labelText)) {\n                    labelText = labelText.call(that);\n                }\n\n                if (!labelText) {\n                    labelText = \"\";\n                }\n\n                if (!id) {\n                    id = options.name + \"_\" + kendo.guid();\n                    element.attr(\"id\", id);\n                }\n\n                that._inputLabel = $(\"<label class='\" + LABELCLASSES + \"' for='\" + id + \"'>\" + labelText + \"</label>'\").insertBefore(that.wrapper);\n            }\n        },\n\n        _focusin: function() {\n            var that = this;\n\n            that.wrapper.addClass(FOCUSED);\n        },\n\n        _focusout: function() {\n            var that = this;\n            var value = that._value;\n            var newValue = that.element.val();\n\n            that.wrapper.removeClass(FOCUSED);\n\n            if (value === null) {\n                value = \"\";\n            }\n\n            if (value !== newValue) {\n                that._value = newValue;\n\n                that.trigger(CHANGE);\n            }\n        },\n\n        _wrapper: function() {\n            var that = this;\n            var element = that.element;\n            var DOMElement = element[0];\n            var wrapper;\n\n            wrapper = element.wrap(\"<span class='k-input k-textarea'></span>\").parent();\n            wrapper[0].style.cssText = DOMElement.style.cssText;\n            DOMElement.style.width = \"100%\";\n\n            that.wrapper = wrapper.addClass(DOMElement.className).removeClass('input-validation-error');\n        }\n    });\n\n    kendo.cssProperties.registerPrefix(\"TextArea\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"TextArea\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    ui.plugin(TextArea);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.maskedtextbox',[ \"kendo.core\", \"kendo.floatinglabel\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"maskedtextbox\",\n    name: \"MaskedTextBox\",\n    category: \"web\",\n    description: \"The MaskedTextBox widget allows to specify a mask type on an input field.\",\n    depends: [\"core\", \"floatinglabel\"]\n};\n\n(function($, undefined) {\n    var global = window;\n    var min = global.Math.min;\n    var kendo = global.kendo;\n    var caret = kendo.caret;\n    var keys = kendo.keys;\n    var ui = kendo.ui;\n    var Widget = ui.Widget;\n    var NS = \".kendoMaskedTextBox\";\n    var isPlainObject = $.isPlainObject;\n    var setTimeout = window.setTimeout;\n\n    var LABELCLASSES = \"k-label k-input-label\";\n    var STATEDISABLED = \"k-disabled\";\n    var STATEINVALID = \"k-invalid\";\n    var FOCUSED = \"k-focus\";\n    var DISABLED = \"disabled\";\n    var READONLY = \"readonly\";\n    var CHANGE = \"change\";\n    var MOUSEUP = \"mouseup\";\n    var DROP = \"drop\";\n    var KEYDOWN = \"keydown\";\n    var PASTE = \"paste\";\n    var INPUT = \"input\";\n\n    function ns(name) { return name + NS; }\n\n    var INPUT_EVENT_NAME = ns(kendo.support.propertyChangeEvent ? \"propertychange\" : INPUT);\n\n    function stringDiffStart(str1, str2) {\n        var i = 0;\n        while (i < str2.length) {\n            if (str1[i] !== str2[i]) {\n                break;\n            }\n            i++;\n        }\n\n        return i;\n    }\n    var MaskedTextBox = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n            var DOMElement;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._rules = $.extend({}, that.rules, that.options.rules);\n\n            element = that.element;\n            DOMElement = element[0];\n\n            that._wrapper();\n            that._tokenize();\n            that._form();\n\n            that.element\n                .addClass(\"k-input-inner\")\n                .attr(\"autocomplete\", \"off\")\n                .on(\"focus\" + NS, function() {\n                    var value = DOMElement.value;\n\n                    if (!value) {\n                        DOMElement.value = that._old = that._emptyMask;\n                    } else {\n                        that._togglePrompt(true);\n                    }\n\n                    that._oldValue = value;\n                    that.wrapper.addClass(FOCUSED);\n\n                    that._timeoutId = setTimeout(function() {\n                        caret(element, 0, value ? that._maskLength : 0);\n                    });\n                })\n                .on(\"focusout\" + NS, function() {\n                    var value = element.val();\n\n                    clearTimeout(that._timeoutId);\n                    DOMElement.value = that._old = \"\";\n\n                    if (value !== that._emptyMask) {\n                        DOMElement.value = that._old = value;\n                    }\n\n                    that.wrapper.removeClass(FOCUSED);\n                    that._change();\n                    that._togglePrompt();\n                });\n\n            if (that.options.mask && that.options.mask.length > 0) {\n                that.element.attr(\"aria-placeholder\", that.options.mask);\n            }\n\n            var disabled = element.is(\"[disabled]\") || $(that.element).parents(\"fieldset\").is(':disabled');\n\n            if (disabled) {\n                that.enable(false);\n            } else {\n                that.readonly(element.is(\"[readonly]\"));\n            }\n\n            that.value(that.options.value || element.val());\n\n            that._validationIcon = $(\"<span class='k-input-validation-icon k-icon k-i-warning k-hidden'></span>\").insertAfter(element);\n\n            that._label();\n            that._applyCssClasses();\n            kendo.notify(that);\n        },\n\n        options: {\n            name: \"MaskedTextBox\",\n            clearPromptChar: false,\n            unmaskOnPost: false,\n            promptChar: \"_\",\n            culture: \"\",\n            rules: {},\n            value: \"\",\n            mask: \"\",\n            label: null,\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        events: [\n            CHANGE\n        ],\n\n        rules: {\n            \"0\": /\\d/,\n            \"9\": /\\d|\\s/,\n            \"#\": /\\d|\\s|\\+|\\-/,\n            \"L\": /[a-zA-Z]/,\n            \"?\": /[a-zA-Z]|\\s/,\n            \"&\": /\\S/,\n            \"C\": /./,\n            \"A\": /[a-zA-Z0-9]/,\n            \"a\": /[a-zA-Z0-9]|\\s/\n        },\n\n        setOptions: function(options) {\n            var that = this;\n\n            Widget.fn.setOptions.call(that, options);\n\n            that._rules = $.extend({}, that.rules, that.options.rules);\n\n            that._tokenize();\n\n            this._unbindInput();\n            this._bindInput();\n\n            that.value(that.element.val());\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that.floatingLabel) {\n                that.floatingLabel.destroy();\n            }\n\n            that.element.off(NS);\n\n            if (that._formElement) {\n                that._formElement.off(\"reset\", that._resetHandler);\n                that._formElement.off(\"submit\", that._submitHandler);\n            }\n\n            Widget.fn.destroy.call(that);\n        },\n\n        raw: function() {\n            var unmasked = this._unmask(this.element.val(), 0);\n            return unmasked.replace(new RegExp(escapeRegExp(this.options.promptChar), \"g\"), \"\");\n        },\n\n        value: function(value) {\n            var element = this.element;\n            var emptyMask = this._emptyMask;\n\n            if (value === undefined) {\n                return this.element.val();\n            }\n\n            if (value === null) {\n                value = \"\";\n            }\n\n            if (!emptyMask) {\n                this._oldValue = value;\n                element.val(value);\n                return;\n            }\n\n            value = this._unmask(value + \"\");\n\n            element.val(value ? emptyMask : \"\");\n\n            this._mask(0, this._maskLength, value);\n            this._unmaskedValue = null;\n\n            value = element.val();\n            this._oldValue = value;\n\n            if (kendo._activeElement() !== element) {\n                if (value === emptyMask) {\n                    element.val(\"\");\n                } else {\n                    this._togglePrompt();\n                }\n            }\n        },\n\n        _togglePrompt: function(show) {\n            var DOMElement = this.element[0];\n            var value = DOMElement.value;\n\n            if (this.options.clearPromptChar) {\n                if (!show) {\n                    value = value.replace(new RegExp(escapeRegExp(this.options.promptChar), \"g\"), \" \");\n                } else {\n                    value = this._oldValue;\n                }\n\n                DOMElement.value = this._old = value;\n            }\n        },\n\n        readonly: function(readonly) {\n            var that = this;\n\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n\n            if (that.floatingLabel) {\n                that.floatingLabel.readonly(readonly === undefined ? true : readonly);\n            }\n        },\n\n        enable: function(enable) {\n            var that = this;\n\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n\n            if (that.floatingLabel) {\n                that.floatingLabel.enable(enable = enable === undefined ? true : enable);\n            }\n        },\n\n        _bindInput: function() {\n            var that = this;\n\n            if (that._maskLength) {\n                if (that.options.$angular) {//detach \"input\" event in angular scenario to keep the ng-model consistent and updated only when the change event of the textbox is raised.\n                    that.element.off(INPUT);\n                }\n                that.element\n                    .on(ns(KEYDOWN), that._keydown.bind(that))\n                    .on(ns(DROP), that._drop.bind(that))\n                    .on(ns(CHANGE), that._trackChange.bind(that))\n                    .on(INPUT_EVENT_NAME, that._inputHandler.bind(that));\n\n\n                if (kendo.support.browser.msie) {\n                    var version = kendo.support.browser.version;\n                    if (version > 8 && version < 11) {\n                        var events = [ns(MOUSEUP), ns(DROP), ns(KEYDOWN), ns(PASTE)].join(\" \");\n                        that.element.on(events, that._legacyIEInputHandler.bind(that));\n                    }\n                }\n            }\n        },\n\n        _unbindInput: function() {\n            var events = [INPUT_EVENT_NAME, ns(KEYDOWN), ns(MOUSEUP), ns(DROP), ns(PASTE)].join(\" \");\n\n            this.element.off(events);\n        },\n\n        _editable: function(options) {\n            var that = this;\n            var element = that.element;\n            var wrapper = that.wrapper;\n            var disable = options.disable;\n            var readonly = options.readonly;\n\n            that._unbindInput();\n\n            if (!readonly && !disable) {\n                element.prop(DISABLED, false)\n                       .prop(READONLY, false);\n\n                wrapper.removeClass(STATEDISABLED);\n\n                that._bindInput();\n            } else {\n                element.attr(DISABLED, disable)\n                       .attr(READONLY, readonly);\n\n                wrapper.toggleClass(STATEDISABLED, disable);\n            }\n        },\n\n        _change: function() {\n            var that = this;\n            var value = that.value();\n\n            if (value !== that._oldValue) {\n                that._oldValue = value;\n\n                that.trigger(CHANGE);\n                that.element.trigger(CHANGE);\n            }\n            else if (value === \"\" && that.__changing) {//ensure change is raised when empty value (mask is stripped from input content) for consistent ngjs model update\n                that.element.trigger(CHANGE);\n            }\n        },\n\n        inputChange: function(backward) {\n            var that = this;\n            var old = that._old;\n            var element = that.element[0];\n            var value = element.value;\n            var selection = caret(element);\n            var cursor = selection[1];\n            var lengthDiff = value.length - old.length;\n            var mobile = kendo.support.mobileOS;\n\n            if (that.__dropping && lengthDiff < 0) {//dropping in same input on WebKit is raised once for the removal phase and once for the adding phase\n                return;\n            }\n\n            if (lengthDiff === -1 && mobile.android && mobile.browser === \"chrome\") {\n                backward = true;\n            }\n\n            var contentStart = min(cursor, stringDiffStart(value, old));\n            var content = value.substring(contentStart, cursor);\n\n            element.value = value.substring(0, contentStart) + that._emptyMask.substring(contentStart);\n\n            var caretPos = that._mask(contentStart, cursor, content);\n            var endContent = that._trimStartPromptChars(value.substring(cursor), min(lengthDiff, caretPos - contentStart));\n\n            var unmasked = that._unmask(endContent, old.length - endContent.length);\n            that._mask(caretPos, caretPos, unmasked);\n\n            if (backward) {\n                caretPos = that._findCaretPosBackwards(contentStart);\n            }\n\n            caret(element, caretPos);\n\n            //clean-up flags\n            that.__dropping = false;\n        },\n\n        _trimStartPromptChars: function(content, count) {\n            var promptChar = this.options.promptChar;\n\n            while (count-- > 0 && content.indexOf(promptChar) === 0) {\n                content = content.substring(1);\n            }\n\n            return content;\n        },\n\n        _findCaretPosBackwards: function(pos) {\n            var caretStart = this._find(pos, true);\n            if (caretStart < pos) {\n                caretStart += 1;\n            }\n\n            return caretStart;\n        },\n\n        _inputHandler: function() {\n            if (kendo._activeElement() !== this.element[0]) {\n                return;\n            }\n\n            this.inputChange(this.__backward);\n        },\n\n        _legacyIEInputHandler: function(e) {\n            var that = this;\n            var input = that.element[0];\n            var value = input.value;\n            var type = e.type;\n\n            that.__pasting = (type === \"paste\");\n\n            setTimeout(function() {\n                if (type === \"mouseup\" && that.__pasting) {\n                    return;\n                }\n                if (input.value && input.value !== value) {\n                    that.inputChange(that.__backward);\n                }\n            });\n        },\n\n        _trackChange: function() {\n            var that = this;\n\n            that.__changing = true;\n            setTimeout(function() { that.__changing = false; });\n        },\n\n        _form: function() {\n            var that = this;\n            var element = that.element;\n            var formId = element.attr(\"form\");\n            var form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    setTimeout(function() {\n                        that.value(element[0].value);\n                    });\n                };\n\n                that._submitHandler = function() {\n                    that.element[0].value = that._old = that.raw();\n                };\n\n                if (that.options.unmaskOnPost) {\n                    form.on(\"submit\", that._submitHandler);\n                }\n\n                that._formElement = form.on(\"reset\", that._resetHandler);\n            }\n        },\n\n        _keydown: function(e) {\n            var key = e.keyCode;\n\n            this.__backward = key === keys.BACKSPACE;\n\n            if (key === keys.ENTER) {\n                this._change();\n            }\n        },\n\n        _drop: function() {\n            this.__dropping = true;\n        },\n\n        _find: function(idx, backward) {\n            var value = this.element.val() || this._emptyMask;\n            var step = 1;\n\n            if (backward === true) {\n                step = -1;\n            }\n\n            while (idx > -1 || idx <= this._maskLength) {\n                if (value.charAt(idx) !== this.tokens[idx]) {\n                    return idx;\n                }\n\n                idx += step;\n            }\n\n            return -1;\n        },\n\n        _mask: function(start, end, value, backward) {\n            var element = this.element[0];\n            var current = element.value || this._emptyMask;\n            var empty = this.options.promptChar;\n            var valueLength;\n            var chrIdx = 0;\n            var unmasked;\n            var chr;\n            var idx;\n\n            start = this._find(start, backward);\n\n            if (start > end) {\n                end = start;\n            }\n\n            unmasked = this._unmask(current.substring(end), end);\n            value = this._unmask(value, start);\n            valueLength = value.length;\n\n            if (value) {\n                unmasked = unmasked.replace(new RegExp(\"^_{0,\" + valueLength + \"}\"), \"\");\n            }\n\n            value += unmasked;\n            current = current.split(\"\");\n            chr = value.charAt(chrIdx);\n\n            while (start < this._maskLength) {\n                current[start] = chr || empty;\n                chr = value.charAt(++chrIdx);\n\n                if (idx === undefined && chrIdx > valueLength) {\n                    idx = start;\n                }\n\n                start = this._find(start + 1);\n            }\n\n            element.value = this._old = current.join(\"\");\n\n            if (kendo._activeElement() === element) {\n                if (idx === undefined) {\n                    idx = this._maskLength;\n                }\n\n                caret(element, idx);\n            }\n\n            return idx;\n        },\n\n        _unmask: function(value, idx) {\n            if (!value) {\n                return \"\";\n            }\n\n            if (this._unmaskedValue === value) {\n                return this._unmaskedValue;\n            }\n            value = (value + \"\").split(\"\");\n\n            var chr;\n            var token;\n            var chrIdx = 0;\n            var tokenIdx = idx || 0;\n\n            var empty = this.options.promptChar;\n\n            var valueLength = value.length;\n            var tokensLength = this.tokens.length;\n\n            var result = \"\";\n\n            while (tokenIdx < tokensLength) {\n                chr = value[chrIdx];\n                token = this.tokens[tokenIdx];\n\n                if (chr === token || chr === empty) {\n                    result += chr === empty ? empty : \"\";\n\n                    chrIdx += 1;\n                    tokenIdx += 1;\n                } else if (typeof token !== \"string\") {\n                    if ((token && token.test && token.test(chr)) || (kendo.isFunction(token) && token(chr))) {\n                        result += chr;\n                        tokenIdx += 1;\n                    } else {\n                        if (valueLength === 1) {\n                            this._blinkInvalidState();\n                        }\n                    }\n\n                    chrIdx += 1;\n                } else {\n                    tokenIdx += 1;\n                }\n\n                if (chrIdx >= valueLength) {\n                    break;\n                }\n            }\n            this._unmaskedValue = result;\n            return result;\n        },\n\n        _label: function() {\n            var that = this;\n            var element = that.element;\n            var options = that.options;\n            var id = element.attr(\"id\");\n            var floating;\n            var labelText;\n\n            if (options.label !== null) {\n                floating = isPlainObject(options.label) ? options.label.floating : false;\n                labelText = isPlainObject(options.label) ? options.label.content : options.label;\n\n                if (floating) {\n                    that._floatingLabelContainer = that.wrapper.wrap(\"<span></span>\").parent();\n                    that.floatingLabel = new kendo.ui.FloatingLabel(that._floatingLabelContainer, { widget: that });\n                }\n\n                if (kendo.isFunction(labelText)) {\n                    labelText = labelText.call(that);\n                }\n\n                if (!labelText) {\n                    labelText = \"\";\n                }\n\n                if (!id) {\n                    id = options.name + \"_\" + kendo.guid();\n                    element.attr(\"id\", id);\n                }\n\n                that._inputLabel = $(\"<label class='\" + LABELCLASSES + \"' for='\" + id + \"'>\" + labelText + \"</label>'\").insertBefore(that.wrapper);\n            }\n        },\n\n        _wrapper: function() {\n            var that = this;\n            var element = that.element;\n            var DOMElement = element[0];\n\n            var wrapper = element.wrap(\"<span class='k-input k-maskedtextbox'></span>\").parent();\n            wrapper[0].style.cssText = DOMElement.style.cssText;\n            DOMElement.style.width = \"100%\";\n            that.wrapper = wrapper.addClass(DOMElement.className).removeClass('input-validation-error');\n        },\n\n        _blinkInvalidState: function() {\n            var that = this;\n\n            that._addInvalidState();\n            clearTimeout(that._invalidStateTimeout);\n            that._invalidStateTimeout = setTimeout(that._removeInvalidState.bind(that), 100);\n        },\n\n        _addInvalidState: function() {\n            var that = this;\n\n            that.wrapper.addClass(STATEINVALID);\n            that._validationIcon.removeClass(\"k-hidden\");\n        },\n\n        _removeInvalidState: function() {\n            var that = this;\n\n            that.wrapper.removeClass(STATEINVALID);\n            that._validationIcon.addClass(\"k-hidden\");\n            that._invalidStateTimeout = null;\n        },\n\n        _tokenize: function() {\n            var tokens = [];\n            var tokenIdx = 0;\n\n            var mask = this.options.mask || \"\";\n            var maskChars = mask.split(\"\");\n            var length = maskChars.length;\n            var idx = 0;\n            var chr;\n            var rule;\n\n            var emptyMask = \"\";\n            var promptChar = this.options.promptChar;\n            var numberFormat = kendo.getCulture(this.options.culture).numberFormat;\n            var rules = this._rules;\n\n            for (; idx < length; idx++) {\n                chr = maskChars[idx];\n                rule = rules[chr];\n\n                if (rule) {\n                    tokens[tokenIdx] = rule;\n                    emptyMask += promptChar;\n                    tokenIdx += 1;\n                } else {\n                    if (chr === \".\" || chr === \",\") {\n                        chr = numberFormat[chr];\n                    } else if (chr === \"$\") {\n                        chr = numberFormat.currency.symbol;\n                    } else if (chr === \"\\\\\") {\n                        idx += 1;\n                        chr = maskChars[idx];\n                    }\n\n                    chr = chr.split(\"\");\n\n                    for (var i = 0, l = chr.length; i < l; i++) {\n                        tokens[tokenIdx] = chr[i];\n                        emptyMask += chr[i];\n                        tokenIdx += 1;\n                    }\n                }\n            }\n\n            this.tokens = tokens;\n\n            this._emptyMask = emptyMask;\n            this._maskLength = emptyMask.length;\n        }\n    });\n\n    function escapeRegExp(text) {\n        return text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n    }\n\n    kendo.cssProperties.registerPrefix(\"MaskedTextBox\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"MaskedTextBox\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    ui.plugin(MaskedTextBox);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.menu',[ \"kendo.popup\", \"kendo.data\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"menu\",\n    name: \"Menu\",\n    category: \"web\",\n    description: \"The Menu widget displays hierarchical data as a multi-level menu.\",\n    depends: [ \"popup\", \"data\", \"data.odata\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        activeElement = kendo._activeElement,\n        touch = (kendo.support.touch && kendo.support.mobileOS),\n        isArray = Array.isArray,\n        HierarchicalDataSource = kendo.data.HierarchicalDataSource,\n        MOUSEDOWN = \"mousedown\",\n        CLICK = \"click\",\n        DELAY = 30,\n        SCROLLSPEED = 50,\n        extend = $.extend,\n        each = $.each,\n        template = kendo.template,\n        keys = kendo.keys,\n        Widget = ui.Widget,\n        excludedNodesRegExp = /^(ul|a|div)$/i,\n        NS = \".kendoMenu\",\n        IMG = \"img\",\n        OPEN = \"open\",\n        MENU = \"k-menu\",\n        LINK = \"k-link k-menu-link\",\n        LINK_SELECTOR = \".k-link\",\n        ICON_SELECTOR = \".k-menu-expand-arrow-icon\",\n        LAST = \"k-last\",\n        CLOSE = \"close\",\n        TIMER = \"timer\",\n        FIRST = \"k-first\",\n        IMAGE = \"k-image\",\n        SELECT = \"select\",\n        ZINDEX = \"zIndex\",\n        ACTIVATE = \"activate\",\n        DEACTIVATE = \"deactivate\",\n        POINTERDOWN = \"touchstart\" + NS + \" MSPointerDown\" + NS + \" pointerdown\" + NS,\n        pointers = kendo.support.pointers,\n        msPointers = kendo.support.msPointers,\n        allPointers = msPointers || pointers,\n        CHANGE = \"change\",\n        ERROR = \"error\",\n        TOUCHSTART = kendo.support.touch ? \"touchstart\" : \"\",\n        MOUSEENTER = pointers ? \"pointerover\" : (msPointers ? \"MSPointerOver\" : \"mouseenter\"),\n        MOUSELEAVE = pointers ? \"pointerout\" : (msPointers ? \"MSPointerOut\" : \"mouseleave\"),\n        MOUSEWHEEL = \"DOMMouseScroll\" + NS + \" mousewheel\" + NS,\n        RESIZE = kendo.support.resize + NS,\n        SCROLLWIDTH = \"scrollWidth\",\n        SCROLLHEIGHT = \"scrollHeight\",\n        OFFSETWIDTH = \"offsetWidth\",\n        OFFSETHEIGHT = \"offsetHeight\",\n        POPUP_ID_ATTR = \"group\",\n        POPUP_OPENER_ATTR = \"groupparent\",\n        DOCUMENT_ELEMENT = $(document.documentElement),\n        KENDOPOPUP = \"kendoPopup\",\n        HOVERSTATE = \"k-hover\",\n        FOCUSEDSTATE = \"k-focus\",\n        DISABLEDSTATE = \"k-disabled\",\n        SELECTEDSTATE = \"k-selected\",\n        menuSelector = \".k-menu\",\n        groupSelector = \".k-menu-group\",\n        animationContainerSelector = \".k-animation-container\",\n        popupSelector = groupSelector + \",\" + animationContainerSelector,\n        allItemsSelector = \":not(.k-list) > .k-item:not([role='treeitem'])\",\n        disabledSelector = \".k-item.k-disabled\",\n        itemSelector = \".k-item\",\n        availableItemsSelector = \".k-item:not(.k-disabled)\",\n        linkSelector = \".k-item:not(.k-disabled) > .k-link\",\n        exclusionSelector = \":not(.k-item.k-separator)\",\n        templateSelector = \"div:not(.k-animation-container,.k-list-container)\",\n        scrollButtonSelector = \".k-menu-scroll-button\",\n        touchPointerTypes = { \"2\": 1, \"touch\": 1 },\n        STRING = \"string\",\n        DATABOUND = \"dataBound\",\n        ARIA_EXPANDED = \"aria-expanded\",\n        ROLE = \"role\",\n\n        bindings = {\n            text: \"dataTextField\",\n            url: \"dataUrlField\",\n            spriteCssClass: \"dataSpriteCssClassField\",\n            imageUrl: \"dataImageUrlField\",\n            imageAttr: \"dataImageAttrField\",\n            content: \"dataContentField\"\n        },\n\n        rendering = {\n            wrapperCssClass: function(group, item) {\n                var result = \"k-item k-menu-item\",\n                    index = item.index;\n\n                if (item.enabled === false) {\n                    result += \" k-disabled\";\n                }\n\n                if (group.firstLevel && index === 0) {\n                    result += \" k-first\";\n                }\n\n                if (index == group.length - 1) {\n                    result += \" k-last\";\n                }\n\n                if (item.cssClass) {\n                    result += \" \" + item.cssClass;\n                }\n\n                if (item.attr && item.attr.hasOwnProperty(\"class\")) {\n                    result += \" \" + item.attr[\"class\"];\n                }\n\n                if (item.selected) {\n                    result += \" \" + SELECTEDSTATE;\n                }\n\n                return result;\n            },\n\n            itemCssAttributes: function(item) {\n                var result = \"\";\n                var attributes = item.attr || {};\n\n                for (var attr in attributes) {\n                    if (attributes.hasOwnProperty(attr) && attr !== \"class\") {\n                        result += attr + \"=\\\"\" + attributes[attr] + \"\\\" \";\n                    }\n                }\n\n                return result;\n            },\n\n            imageCssAttributes: function(imgAttributes) {\n                var result = \"\";\n                var attributes = imgAttributes && imgAttributes.toJSON ? imgAttributes.toJSON() : {};\n\n                if (!attributes['class']) {\n                    attributes['class'] = IMAGE;\n                } else {\n                    attributes['class'] += \" \" + IMAGE;\n                }\n\n                for (var attr in attributes) {\n                    if (attributes.hasOwnProperty(attr)) {\n                        result += attr + \"=\\\"\" + attributes[attr] + \"\\\" \";\n                    }\n                }\n\n                return result;\n            },\n\n            contentCssAttributes: function(item) {\n                var result = \"\";\n                var attributes = item.contentAttr || {};\n                var defaultClasses = \"k-content k-group k-menu-group k-menu-group-md\";\n\n                if (!attributes['class']) {\n                    attributes['class'] = defaultClasses;\n                } else {\n                    attributes['class'] += \" \" + defaultClasses;\n                }\n\n                for (var attr in attributes) {\n                    if (attributes.hasOwnProperty(attr)) {\n                        result += attr + \"=\\\"\" + attributes[attr] + \"\\\" \";\n                    }\n                }\n\n                return result;\n            },\n\n            textClass: function() {\n                return LINK;\n            },\n\n            arrowClass: function(item, group) {\n                var result = \"k-menu-expand-arrow-icon k-icon\";\n\n                if (group.horizontal) {\n                    result += \" k-i-arrow-s\";\n                } else {\n                    result += \" k-i-arrow-e\";\n                }\n\n                return result;\n            },\n\n            groupAttributes: function(group) {\n                return group.expanded !== true ? \" style='display:none'\" : \"\";\n            },\n\n            groupCssClass: function() {\n                return \"k-group k-menu-group k-menu-group-md\";\n            },\n\n            content: function(item) {\n                return item.content ? item.content : \"&nbsp;\";\n            }\n    };\n\n    function getEffectDirection(direction, root) {\n        direction = direction.split(\" \")[!root + 0] || direction;\n        return direction.replace(\"top\", \"up\").replace(\"bottom\", \"down\");\n    }\n\n    function parseDirection(direction, root, isRtl) {\n        direction = direction.split(\" \")[!root + 0] || direction;\n        var output = { origin: [\"bottom\", (isRtl ? \"right\" : \"left\")], position: [\"top\", (isRtl ? \"right\" : \"left\")] },\n            horizontal = /left|right/.test(direction);\n\n        if (horizontal) {\n            output.origin = [ \"top\", direction ];\n            output.position[1] = kendo.directions[direction].reverse;\n        } else {\n            output.origin[0] = direction;\n            output.position[0] = kendo.directions[direction].reverse;\n        }\n\n        output.origin = output.origin.join(\" \");\n        output.position = output.position.join(\" \");\n\n        return output;\n    }\n\n    function contains(parent, child) {\n        try {\n            return $.contains(parent, child);\n        } catch (e) {\n            return false;\n        }\n    }\n\n    function updateItemClasses(item) {\n        item = $(item);\n        var omitWrap = item.attr(kendo.attr(\"omit-wrap\"));\n\n        if (omitWrap) {\n            return;\n        }\n\n        item.addClass(\"k-item k-menu-item\")\n            .children(IMG)\n            .addClass(IMAGE);\n\n        item\n            .children(\"a\")\n            .addClass(LINK)\n            .children(IMG)\n            .addClass(IMAGE);\n\n        item\n            .filter(\":not([disabled])\");\n\n        item\n            .filter(\".k-separator\")\n            .removeClass(\"k-menu-item\")\n            .addClass(\"k-menu-separator\")\n            .empty()\n            .append(\"&nbsp;\");\n\n        item\n            .filter(\"li[disabled]\")\n            .addClass(DISABLEDSTATE)\n            .prop(\"disabled\", false)\n            .attr(\"aria-disabled\", true);\n\n        if (!item.filter(\"[role]\").length) {\n            item.attr(ROLE, \"menuitem\");\n        }\n\n        if (!item.children(LINK_SELECTOR).length) {\n            item.contents() // exclude groups, real links, templates and empty text nodes\n                .filter(function() { return (!this.nodeName.match(excludedNodesRegExp) && !(this.nodeType === 3 && !kendo.trim(this.nodeValue))); })\n                .wrapAll(\"<span class='\" + LINK + \"'></span>\")\n                .filter(function(idx, elm) { return elm.nodeType === 3; })\n                .wrap(\"<span class='k-menu-link-text'></span>\");\n        }\n\n        updateArrow(item);\n        updateFirstLast(item);\n    }\n\n    function updateArrow(item) {\n        item = $(item);\n\n        item.find(\"> .k-link > .k-menu-expand-arrow > [class*=k-i-arrow]:not(.k-sprite)\").parent().remove();\n\n        item.filter(\":has(.k-menu-group)\")\n            .children(\".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))\")\n            .each(function() {\n                var item = $(this),\n                    arrowCssClass = getArrowCssClass(item);\n\n                item.append(\"<span class='k-menu-expand-arrow'><span class='k-menu-expand-arrow-icon k-icon \" + arrowCssClass + \"'></span></span>\");\n            });\n    }\n\n    function getArrowCssClass(item) {\n        var arrowCssClass,\n            parent = item.parent().parent(),\n            isRtl = kendo.support.isRtl(parent);\n\n        if (parent.hasClass(MENU + \"-horizontal\")) {\n            arrowCssClass = \"k-i-arrow-s\";\n        } else {\n            if (isRtl) {\n                arrowCssClass = \"k-i-arrow-w\";\n            }\n            else {\n                arrowCssClass = \"k-i-arrow-e\";\n            }\n        }\n        return arrowCssClass;\n    }\n\n    function updateFirstLast(item) {\n        item = $(item);\n\n        item.filter(\".k-first:not(:first-child)\").removeClass(FIRST);\n        item.filter(\".k-last:not(:last-child)\").removeClass(LAST);\n        item.filter(\":first-child\").addClass(FIRST);\n        item.filter(\":last-child\").addClass(LAST);\n    }\n\n    function updateHasAriaPopup(parents) {\n        if (parents && parents.length) {\n            for (var index in parents) {\n                var parentLi = parents.eq(index);\n                if (parentLi.find(\"ul\").length) {\n                    parentLi.attr(\"aria-haspopup\", true);\n                } else {\n                    parentLi.removeAttr(\"aria-haspopup\");\n                }\n            }\n        }\n    }\n\n    function getParentLiItems(group) {\n        if (!group.hasClass(MENU)) {\n            return group.parentsUntil(\".\" + MENU, \"li\");\n        }\n    }\n\n    function storeItemSelectEventHandler(element, options) {\n        var selectHandler = getItemSelectEventHandler(options);\n        if (selectHandler) {\n            setItemData(element, selectHandler);\n        }\n\n        if (options.items) {\n            $(element).children(\"ul\").children(\"li\").each(function(i) {\n                storeItemSelectEventHandler(this, options.items[i]);\n            });\n        }\n    }\n\n    function setItemData(element, selectHandler) {\n        $(element).children(\".k-link\").data({\n            selectHandler: selectHandler\n        });\n    }\n\n    function getItemSelectEventHandler(options) {\n        var selectHandler = options.select,\n            isFunction = kendo.isFunction;\n\n        if (selectHandler && isFunction(selectHandler)) {\n            return selectHandler;\n        }\n        return null;\n    }\n\n    function popupOpenerSelector(id) {\n        return id ? \"li[data-groupparent='\" + id + \"']\" : \"li[data-groupparent]\";\n    }\n    function popupGroupSelector(id) {\n        var selector = id ? \"[data-group='\" + id + \"']\" : \"[data-group]\";\n        return \"ul\" + selector + \",div\" + selector;\n    }\n    function getChildPopups(currentPopup, overflowWrapper) {\n        var childPopupOpener = currentPopup.find(popupOpenerSelector());\n        var result = [];\n        childPopupOpener.each(function(i, opener) {\n            opener = $(opener);\n            var popupId = opener.data(POPUP_OPENER_ATTR);\n            var popup = currentPopup;\n            while (popupId) {\n                popup = overflowWrapper.find(popupGroupSelector(popupId) + \":visible\");\n                if (popup.length) {\n                    result.push(popup);\n                }\n                opener = popup.find(popupOpenerSelector());\n                popupId = opener.data(POPUP_OPENER_ATTR);\n            }\n        });\n\n        return result;\n    }\n\n    function popupParentItem(popupElement, overflowWrapper) {\n        var popupId = popupElement.data(POPUP_ID_ATTR);\n        return popupId ? overflowWrapper.find(popupOpenerSelector(popupId)) : $([]);\n    }\n\n    function itemPopup(item, overflowWrapper) {\n        var popupId = item.data(POPUP_OPENER_ATTR);\n        return popupId ? overflowWrapper.children(animationContainerSelector).children(popupGroupSelector(popupId)) : $([]);\n    }\n\n    function overflowMenuParents(current, overflowWrapper) {\n        var parents = [];\n        var getParents = function(item) {\n            while (item.parentNode && !overflowWrapper.is(item.parentNode)) {\n                parents.push(item.parentNode);\n                item = item.parentNode;\n            }\n        };\n        var elem = current[0] || current;\n        getParents(elem);\n        var last = parents[parents.length - 1];\n        while ($(last).is(animationContainerSelector)) {\n            var popupElement = $(last).children(\"ul\");\n            elem = popupParentItem(popupElement, overflowWrapper)[0];\n            if (!elem) {\n                break;\n            }\n            parents.push(elem);\n            getParents(elem);\n            last = parents[parents.length - 1];\n        }\n        return parents;\n    }\n\n    function mousewheelDelta(e) {\n        var delta = 0;\n\n        if (e.wheelDelta) {\n            delta = -e.wheelDelta / 120;\n            delta = delta > 0 ? Math.ceil(delta) : Math.floor(delta);\n        }\n\n        if (e.detail) {\n            delta = Math.round(e.detail / 3);\n        }\n\n        return delta;\n    }\n\n    function parentsScroll(current, scrollDirection) {\n        var scroll = 0;\n        var parent = current.parentNode;\n        while (parent && !isNaN(parent[scrollDirection])) {\n            scroll += parent[scrollDirection];\n            parent = parent.parentNode;\n        }\n        return scroll;\n    }\n\n    function isPointerTouch(e) {\n        return allPointers && e.originalEvent && e.originalEvent.pointerType in touchPointerTypes;\n    }\n\n    function isTouch(e) {\n        var ev = e.originalEvent;\n        return touch && /touch/i.test(ev.type || \"\");\n    }\n\n    function removeSpacesBetweenItems(ul) {\n        ul.contents().filter(function() { return this.nodeName != \"LI\"; }).remove();\n    }\n\n    var Menu = kendo.ui.DataBoundWidget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.wrapper = that.element;\n            options = that.options;\n            that._accessors();\n            that._templates();\n            that._dataSource();\n\n            that._updateClasses();\n\n            that._animations(options);\n\n            that.nextItemZIndex = 100;\n\n            that._tabindex();\n\n            that._initOverflow(options);\n\n            that._attachMenuEventsHandlers();\n\n            if (options.openOnClick) {\n                that.clicked = false;\n            }\n\n            element.attr(ROLE, \"menubar\");\n\n            if (element[0].id) {\n                that._ariaId = kendo.format(\"{0}_mn_active\", element[0].id);\n            }\n\n            kendo.notify(that);\n        },\n\n        events: [\n            OPEN,\n            CLOSE,\n            ACTIVATE,\n            DEACTIVATE,\n            SELECT,\n            DATABOUND\n        ],\n\n        options: {\n            name: \"Menu\",\n            animation: {\n                open: {\n                    duration: 200\n                },\n                close: { // if close animation effects are defined, they will be used instead of open.reverse\n                    duration: 100\n                }\n            },\n            orientation: \"horizontal\",\n            direction: \"default\",\n            openOnClick: false,\n            closeOnClick: true,\n            hoverDelay: 100,\n            scrollable: false,\n            popupCollision: undefined\n        },\n\n        _initData: function() {\n            var that = this;\n\n            if (that.dataSource) {\n                that.angular(\"cleanup\", function() {\n                    return {\n                        elements: that.element.children()\n                    };\n                });\n                that.element.empty();\n\n                that.append(that.dataSource.view(), that.element);\n                that.angular(\"compile\", function() {\n                    return {\n                        elements: that.element.children()\n                    };\n                });\n            }\n        },\n\n        _attachMenuEventsHandlers: function() {\n            var that = this;\n            var element = that.element;\n            var options = that.options;\n            var overflowWrapper = that._overflowWrapper();\n\n            that._checkActiveProxy = that._checkActiveElement.bind(that);\n\n            (overflowWrapper || element).on(POINTERDOWN, itemSelector, that._focusHandler.bind(that))\n                   .on(CLICK + NS, disabledSelector, false)\n                   .on(CLICK + NS, itemSelector, that._click.bind(that))\n                   .on(POINTERDOWN + \" \" + MOUSEDOWN + NS, \".k-content\", that._preventClose.bind(that))\n                   .on(MOUSEENTER + NS, availableItemsSelector, that._mouseenter.bind(that))\n                   .on(MOUSELEAVE + NS, availableItemsSelector, that._mouseleave.bind(that))\n                   .on(MOUSEDOWN + NS, availableItemsSelector, that._mousedown.bind(that))\n                   .on(TOUCHSTART + NS + \" \" + MOUSEENTER + NS + \" \" + MOUSELEAVE + NS + \" \" +\n                       MOUSEDOWN + NS + \" \" + CLICK + NS, linkSelector, that._toggleHover.bind(that));\n\n            element.on(\"keydown\" + NS, that._keydown.bind(that))\n                   .on(\"focus\" + NS, that._focus.bind(that))\n                   .on(\"focus\" + NS, \".k-content\", that._focus.bind(that))\n                   .on(\"blur\" + NS, that._removeHoverItem.bind(that))\n                   .on(\"blur\" + NS, \"[tabindex]\", that._checkActiveProxy);\n\n            if (overflowWrapper) {\n                overflowWrapper\n                    .on(MOUSELEAVE + NS, popupSelector, that._mouseleavePopup.bind(that))\n                    .on(MOUSEENTER + NS, popupSelector, that._mouseenterPopup.bind(that));\n            }\n\n            if (options.openOnClick) {\n                that._documentClickHandler = that._documentClick.bind(that);\n                $(document).on(\"click\", that._documentClickHandler);\n            }\n        },\n\n        _detachMenuEventsHandlers: function() {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n\n            if (overflowWrapper) {\n                overflowWrapper.off(NS);\n            }\n\n            that.element.off(NS);\n\n            if (that._documentClickHandler) {\n                $(document).off(\"click\", that._documentClickHandler);\n            }\n        },\n\n        _initOverflow: function(options) {\n            var that = this;\n            var isHorizontal = options.orientation == \"horizontal\";\n            var backwardBtn, forwardBtn;\n\n            if (options.scrollable) {\n                that._openedPopups = {};\n                that._scrollWrapper = that.element.wrap(\"<div class='k-menu-scroll-wrapper k-\" + options.orientation + \"'></div>\").parent();\n                if (isHorizontal) {\n                    removeSpacesBetweenItems(that.element);\n                }\n\n                backwardBtn = $(that.templates.scrollButton({ direction: isHorizontal ? \"left\" : \"up\" }));\n                forwardBtn = $(that.templates.scrollButton({ direction: isHorizontal ? \"right\" : \"down\" }));\n                backwardBtn.add(forwardBtn).appendTo(that._scrollWrapper);\n\n                that._initScrolling(that.element, backwardBtn, forwardBtn, isHorizontal);\n\n                var initialWidth = that.element.outerWidth();\n                var initialCssWidth = that.element[0].style.width;\n                initialCssWidth = initialCssWidth === \"auto\" ? \"\" : initialCssWidth;\n\n                if (isHorizontal) {\n                    $(window).on(RESIZE, function() {\n                        setTimeout(function() {\n                            that._setOverflowWrapperWidth(initialWidth, initialCssWidth);\n                            that._toggleScrollButtons(that.element, backwardBtn, forwardBtn, isHorizontal);\n                        }, 300);\n                    });\n                }\n\n                that._setOverflowWrapperWidth(initialWidth, initialCssWidth);\n                that._toggleScrollButtons(that.element, backwardBtn, forwardBtn, isHorizontal);\n            }\n        },\n\n        _overflowWrapper: function() {\n            return this._scrollWrapper || this._popupsWrapper;\n        },\n\n        _setOverflowWrapperWidth: function(initialWidth, initialCssWidth) {\n            var that = this;\n            var wrapperCssWidth = that._scrollWrapper.css(\"width\");\n\n            that._scrollWrapper.css({ width: \"\" });\n            var wrapperWidth = that._scrollWrapper.outerWidth();\n            that._scrollWrapper.css({ width: wrapperCssWidth });\n\n            var menuWidth = that.element.outerWidth();\n            var borders = that.element[0].offsetWidth - that.element[0].clientWidth;\n\n            if (menuWidth != wrapperWidth && wrapperWidth > 0) {\n                var width = initialCssWidth ? Math.min(initialWidth, wrapperWidth) : wrapperWidth;\n                that.element.width(width - borders);\n                that._scrollWrapper.width(width);\n            }\n        },\n\n        _reinitOverflow: function(options) {\n            var that = this;\n            var overflowChanged = ((options.scrollable && !that.options.scrollable) || (!options.scrollable && that.options.scrollable)) ||\n                (options.scrollable && that.options.scrollable && options.scrollable.distance != that.options.scrollable.distance) ||\n                options.orientation != that.options.orientation;\n\n            if (overflowChanged) {\n                that._detachMenuEventsHandlers();\n                that._destroyOverflow();\n                that._initOverflow(options);\n                that._attachMenuEventsHandlers();\n            }\n        },\n\n        _destroyOverflow: function() {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            if (overflowWrapper) {\n                overflowWrapper.off(NS);\n                overflowWrapper.find(scrollButtonSelector).off(NS).remove();\n                overflowWrapper.children(animationContainerSelector).each(function(i, popupWrapper) {\n                    var ul = $(popupWrapper).children(groupSelector);\n                    ul.off(MOUSEWHEEL);\n                    var popupParentLi = popupParentItem(ul, overflowWrapper);\n                    if (popupParentLi.length) {\n                        popupParentLi.append(popupWrapper);\n                    }\n                });\n\n                overflowWrapper.find(popupOpenerSelector()).removeAttr(\"data-groupparent\");\n                overflowWrapper.find(popupGroupSelector()).removeAttr(\"data-group\");\n                that.element.off(MOUSEWHEEL);\n                $(window).off(RESIZE);\n                overflowWrapper.contents().unwrap();\n\n                that._scrollWrapper = that._popupsWrapper = that._openedPopups = undefined;\n            }\n        },\n\n        _initScrolling: function(scrollElement, backwardBtn, forwardBtn, isHorizontal) {\n            var that = this;\n            var scrollable = that.options.scrollable;\n            var distance = that.isNumeric(scrollable.distance) ? scrollable.distance : SCROLLSPEED;\n            var mouseWheelDistance = distance / 2;\n            var backward = \"-=\" + distance;\n            var forward = \"+=\" + distance;\n            var backwardDouble = \"-=\" + distance * 2;\n            var forwardDouble = \"+=\" + distance * 2;\n            var scrolling = false;\n            var touchEvents = false;\n\n            var scroll = function(value) {\n                var scrollValue = isHorizontal ? { \"scrollLeft\": value } : { \"scrollTop\": value };\n                scrollElement.finish().animate(scrollValue, \"fast\", \"linear\", function() {\n                    if (scrolling) {\n                        scroll(value);\n                    }\n                });\n                that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n            };\n\n            var mouseenterHandler = function(e) {\n                if (!scrolling && !touchEvents) {\n                    scroll(e.data.direction);\n                    scrolling = true;\n                }\n            };\n\n            var mousedownHandler = function(e) {\n                var scrollValue = isHorizontal ? { \"scrollLeft\": e.data.direction } : { \"scrollTop\": e.data.direction };\n                touchEvents = isTouch(e) || isPointerTouch(e);\n                scrollElement.stop().animate(scrollValue, \"fast\", \"linear\", function() {\n                    if (!touchEvents) {\n                        $(e.currentTarget).trigger(MOUSEENTER);\n                    } else {\n                         that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n                         scrolling = true;\n                    }\n                });\n                scrolling = false;\n\n                e.stopPropagation();\n                e.preventDefault();\n            };\n\n            backwardBtn.on(MOUSEENTER + NS, { direction: backward }, mouseenterHandler)\n                .on(kendo.eventMap.down + NS, { direction: backwardDouble }, mousedownHandler);\n\n            forwardBtn.on(MOUSEENTER + NS, { direction: forward }, mouseenterHandler)\n                .on(kendo.eventMap.down + NS, { direction: forwardDouble }, mousedownHandler);\n\n            backwardBtn.add(forwardBtn)\n                .on(MOUSELEAVE + NS, function() {\n                    scrollElement.stop();\n                    scrolling = false;\n                    that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n                });\n\n            scrollElement.on(MOUSEWHEEL, function(e) {\n                if (!e.ctrlKey && !e.shiftKey && !e.altKey) {\n                    var wheelDelta = mousewheelDelta(e.originalEvent);\n                    var scrollSpeed = Math.abs(wheelDelta) * mouseWheelDistance;\n                    var value = (wheelDelta > 0 ? \"+=\" : \"-=\") + scrollSpeed;\n                    var scrollValue = isHorizontal ? { \"scrollLeft\": value } : { \"scrollTop\": value };\n\n                    that._closeChildPopups(scrollElement);\n\n                    scrollElement.finish().animate(scrollValue, \"fast\", \"linear\", function() {\n                        that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n                    });\n                    e.preventDefault();\n                }\n            });\n        },\n\n        isNumeric: function(n) {\n            return !isNaN(parseFloat(n)) && isFinite(n);\n        },\n\n        _toggleScrollButtons: function(scrollElement, backwardBtn, forwardBtn, horizontal) {\n            var currentScroll = horizontal ? kendo.scrollLeft(scrollElement) : scrollElement.scrollTop();\n            var scrollSize = horizontal ? SCROLLWIDTH : SCROLLHEIGHT;\n            var offset = horizontal ? OFFSETWIDTH : OFFSETHEIGHT;\n\n            backwardBtn.toggle(currentScroll !== 0);\n            forwardBtn.toggle(currentScroll < scrollElement[0][scrollSize] - scrollElement[0][offset] - 1);\n        },\n\n        setOptions: function(options) {\n            var animation = this.options.animation;\n\n            this._animations(options);\n\n            options.animation = extend(true, animation, options.animation);\n\n            if (\"dataSource\" in options) {\n                this._dataSource(options);\n            }\n\n            this._updateClasses();\n            this._reinitOverflow(options);\n\n            Widget.fn.setOptions.call(this, options);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that._detachMenuEventsHandlers();\n\n            that._destroyOverflow();\n\n            kendo.destroy(that.element);\n        },\n\n        enable: function(element, enable) {\n            this._toggleDisabled(element, enable !== false);\n\n            return this;\n        },\n\n        disable: function(element) {\n            this._toggleDisabled(element, false);\n\n            return this;\n        },\n\n        attemptGetItem: function(candidate) {\n            candidate = candidate || this.element;\n            var item = this.element.find(candidate);\n            var overflowWrapper = this._overflowWrapper();\n\n            if (item.length || candidate === this.element) {\n                return item;\n            } else if (overflowWrapper) {\n                return overflowWrapper.find(candidate);\n            } else {\n                return $();\n            }\n        },\n\n        append: function(item, referenceItem) {\n            referenceItem = this.attemptGetItem(referenceItem);\n\n            var inserted = this._insert(item, referenceItem, referenceItem.length ? this._childPopupElement(referenceItem) : null);\n\n            each(inserted.items, function(i) {\n                inserted.group.append(this);\n                updateArrow(this);\n                storeItemSelectEventHandler(this, item[i] || item);\n            });\n\n            updateArrow(referenceItem);\n            updateFirstLast(inserted.group.find(\".k-first, .k-last\").add(inserted.items));\n            updateHasAriaPopup(getParentLiItems(inserted.group));\n\n            return this;\n        },\n\n        insertBefore: function(item, referenceItem) {\n            referenceItem = this.attemptGetItem(referenceItem);\n\n            var inserted = this._insert(item, referenceItem, referenceItem.parent());\n\n            each(inserted.items, function(i) {\n                referenceItem.before(this);\n                updateArrow(this);\n                updateFirstLast(this);\n                storeItemSelectEventHandler(this, item[i] || item);\n            });\n\n            updateFirstLast(referenceItem);\n\n            return this;\n        },\n\n        insertAfter: function(item, referenceItem) {\n            referenceItem = this.attemptGetItem(referenceItem);\n\n            var inserted = this._insert(item, referenceItem, referenceItem.parent());\n\n            each(inserted.items, function(i) {\n                referenceItem.after(this);\n                updateArrow(this);\n                updateFirstLast(this);\n                storeItemSelectEventHandler(this, item[i] || item);\n            });\n\n            updateFirstLast(referenceItem);\n\n            return this;\n        },\n\n        _insert: function(item, referenceItem, parent) {\n            var that = this,\n                items, groups;\n\n            if (!referenceItem || !referenceItem.length) {\n                parent = that.element;\n            }\n\n            var plain = $.isPlainObject(item) || item instanceof kendo.data.ObservableObject,\n                groupData = {\n                    firstLevel: parent.hasClass(MENU),\n                    horizontal: parent.hasClass(MENU + \"-horizontal\"),\n                    expanded: true,\n                    length: parent.children().length\n                };\n\n            if (referenceItem && !parent.length) {\n                parent = $(that.renderGroup({ group: groupData, options: that.options })).css(\"display\", \"none\").appendTo(referenceItem);\n            }\n\n            if (plain || isArray(item) || item instanceof kendo.data.ObservableArray) { // is JSON\n                items = $($.map(plain ? [ item ] : item, function(value, idx) {\n                            if (typeof value === \"string\") {\n                                return $(value).get();\n                            } else {\n                                return $(that.renderItem({\n                                    group: groupData,\n                                    item: extend(value, { index: idx })\n                                })).get();\n                            }\n                        }));\n            } else {\n                if (typeof item == \"string\" && item.charAt(0) != \"<\") {\n                    items = that.element.find(item);\n                } else {\n                    items = $(item);\n                }\n\n                groups = items.find(\"> ul\")\n                                .addClass(\"k-menu-group k-menu-group-md\")\n                                .attr(ROLE, \"menu\");\n\n                items = items.filter(\"li\");\n\n                items.add(groups.find(\"> li\")).each(function() {\n                    updateItemClasses(this);\n                });\n            }\n\n            return { items: items, group: parent };\n        },\n\n        remove: function(element) {\n            element = this.attemptGetItem(element);\n\n            var that = this,\n                parent = element.parentsUntil(that.element, allItemsSelector),\n                group = element.parent(\"ul:not(.k-menu)\");\n\n            element.remove();\n\n            if (group && !group.children(allItemsSelector).length) {\n                var parentItems = getParentLiItems(group);\n\n                var container = group.parent(animationContainerSelector);\n\n                if (container.length) {\n                    container.remove();\n                } else {\n                    group.remove();\n                }\n\n                updateHasAriaPopup(parentItems);\n            }\n\n            if (parent.length) {\n                parent = parent.eq(0);\n\n                updateArrow(parent);\n                updateFirstLast(parent);\n            }\n\n            return that;\n        },\n\n        _openAfterLoad: function(element, dataItem) {\n            var that = this;\n            if (dataItem.loaded()) {\n                that.open(element);\n                that._loading = false;\n            } else {\n                dataItem.one(CHANGE, function() {\n                    element.find(ICON_SELECTOR).removeClass(\"k-i-loading\");\n                    if (that._loading) {\n                        that.open(element);\n                        that._loading = false;\n                    }\n                });\n            }\n        },\n\n        open: function(element) {\n            var that = this;\n            var options = that.options;\n            var horizontal = options.orientation == \"horizontal\";\n            var direction = options.direction;\n            var isRtl = kendo.support.isRtl(that.wrapper);\n            var overflowWrapper = that._overflowWrapper();\n            element = (overflowWrapper || that.element).find(element);\n\n            var dataItem = that.dataSource && that.dataSource.getByUid(element.data(kendo.ns + \"uid\"));\n\n            if (dataItem && dataItem.hasChildren && !dataItem.loaded() && !that._loading) {\n                that._loading = true;\n                element.find(ICON_SELECTOR).addClass(\"k-i-loading\");\n                dataItem.load();\n                that._openAfterLoad(element, dataItem);\n                return;\n            }\n\n            if (/^(top|bottom|default)$/.test(direction)) {\n                if (isRtl) {\n                    direction = horizontal ? (direction + \" left\").replace(\"default\", \"bottom\") : \"left\";\n                } else {\n                    direction = horizontal ? (direction + \" right\").replace(\"default\", \"bottom\") : \"right\";\n                }\n            }\n\n            var visiblePopups = \">.k-popup:visible,>.k-animation-container>.k-popup:visible\";\n            var closePopup = function() {\n                var popup = $(this).data(KENDOPOPUP);\n                if (popup) {\n                    // Use the built-in close method to play the hoverDelay from the options\n                    that.close($(this).closest(\"li.k-item\"), true);\n                }\n            };\n\n            element.siblings()\n                   .find(visiblePopups)\n                   .each(closePopup);\n\n            if (overflowWrapper) {\n                element.find(visiblePopups).each(closePopup);\n            }\n\n            if (that.options.openOnClick) {\n                that.clicked = true;\n            }\n\n            element.each(function() {\n                var li = $(this);\n\n                clearTimeout(li.data(TIMER));\n\n                li.data(TIMER, setTimeout(function() {\n                    var ul = li.find(\"> .k-menu-group, > .k-animation-container > .k-menu-group\").filter(\":hidden\").first();\n                    var popup;\n                    var overflowPopup;\n\n                    if (!ul[0] && overflowWrapper) {\n                        overflowPopup = that._getPopup(li);\n                        ul = overflowPopup && overflowPopup.element;\n                    }\n                    if (ul.is(\":visible\")) {\n                        return;\n                    }\n\n                    if (ul[0] && that._triggerEvent({ item: li[0], type: OPEN }) === false) {\n\n                        if (!ul.find(\".k-menu-group\")[0] && ul.children(\".k-item\").length > 1) {\n                            var windowHeight = $(window).height(),\n                                setScrolling = function() {\n                                    ul.css({ maxHeight: windowHeight - (kendo._outerHeight(ul) - ul.height()) - kendo.getShadows(ul).bottom, overflow: \"auto\" });\n                                };\n\n                            setScrolling();\n                        } else {\n                            ul.css({ maxHeight: \"\", overflow: \"\" });\n                        }\n\n                        li.data(ZINDEX, li.css(ZINDEX));\n                        var nextZindex = that.nextItemZIndex++;\n                        li.css(ZINDEX, nextZindex);\n\n                        if (that.options.scrollable) {\n                            li.parent().siblings(scrollButtonSelector).css({ zIndex: ++nextZindex });\n                        }\n\n                        popup = ul.data(KENDOPOPUP);\n                        var root = li.parent().hasClass(MENU),\n                            parentHorizontal = root && horizontal,\n                            directions = parseDirection(direction, root, isRtl),\n                            effects = options.animation.open.effects,\n                            openEffects = effects !== undefined ? effects : \"slideIn:\" + getEffectDirection(direction, root);\n\n                        if (!popup) {\n                            popup = ul.kendoPopup({\n                                activate: function() { that._triggerEvent({ item: this.wrapper.parent(), type: ACTIVATE }); },\n                                deactivate: function(e) {\n                                    that._closing = false;\n                                    e.sender.element // Restore opacity after fade.\n                                        .removeData(\"targetTransform\")\n                                        .css({ opacity: \"\" });\n                                    that._triggerEvent({ item: this.wrapper.parent(), type: DEACTIVATE });\n                                },\n                                origin: directions.origin,\n                                position: directions.position,\n                                collision: options.popupCollision !== undefined ? options.popupCollision : (parentHorizontal ? \"fit\" : \"fit flip\"),\n                                anchor: li,\n                                appendTo: overflowWrapper || li,\n                                animation: {\n                                    open: extend(true, { effects: openEffects }, options.animation.open),\n                                    close: options.animation.close\n                                },\n                                open: that._popupOpen.bind(that),\n                                close: function(e) {\n                                    that._closing = e.sender.element;\n                                    var li = e.sender.wrapper.parent();\n\n                                    if (overflowWrapper) {\n                                        var popupId = e.sender.element.data(POPUP_ID_ATTR);\n                                        if (popupId) {\n                                            li = (overflowWrapper || that.element).find(popupOpenerSelector(popupId));\n                                        }\n                                        e.sender.wrapper.children(scrollButtonSelector).hide();\n                                    }\n\n                                    if (!that._triggerEvent({ item: li[0], type: CLOSE })) {\n                                        li.css(ZINDEX, li.data(ZINDEX));\n                                        li.removeData(ZINDEX);\n\n                                        if (that.options.scrollable) {\n                                            li.parent().siblings(scrollButtonSelector).css({ zIndex: \"\" });\n                                        }\n\n                                        if (touch || allPointers || kendo.support.mouseAndTouchPresent) {\n                                            li.removeClass(HOVERSTATE);\n                                            that._removeHoverItem();\n                                        }\n                                    } else {\n                                        e.preventDefault();\n                                    }\n                                }\n                            }).data(KENDOPOPUP);\n\n                            ul.closest(animationContainerSelector).removeAttr(ROLE);\n                        } else {\n                            popup = ul.data(KENDOPOPUP);\n                            popup.options.origin = directions.origin;\n                            popup.options.position = directions.position;\n                            popup.options.animation.open.effects = openEffects;\n                        }\n                        ul.removeAttr(\"aria-hidden\");\n                        li.attr(ARIA_EXPANDED, true);\n\n                        that._configurePopupOverflow(popup, li);\n\n                        popup._hovered = true;\n                        popup.open();\n\n                        that._initPopupScrolling(popup);\n                    }\n\n                }, that.options.hoverDelay));\n            });\n\n            return that;\n        },\n\n        _configurePopupOverflow: function(popup, popupOpener) {\n            var that = this;\n           if (that.options.scrollable) {\n                that._wrapPopupElement(popup);\n                if (!popupOpener.attr(\"data-groupparent\")) {\n                    var groupId = new Date().getTime();\n                    popupOpener.attr(\"data-groupparent\", groupId);\n                    popup.element.attr(\"data-group\", groupId);\n                }\n           }\n        },\n\n        _wrapPopupElement: function(popup) {\n            if (!popup.element.parent().is(animationContainerSelector)) {\n                popup.wrapper = kendo.wrap(popup.element, popup.options.autosize)\n                    .css({\n                        overflow: \"hidden\",\n                        display: \"block\",\n                        position: \"absolute\"\n                    });\n            }\n        },\n\n        _initPopupScrolling: function(popup, isHorizontal, skipMouseEvents) {\n            var that = this;\n\n            if (that.options.scrollable && popup.element[0].scrollHeight > popup.element[0].offsetHeight) {\n                that._initPopupScrollButtons(popup, isHorizontal, skipMouseEvents);\n            }\n        },\n\n        _initPopupScrollButtons: function(popup, isHorizontal, skipMouseEvents) {\n            var that = this;\n            var scrollButtons = popup.wrapper.children(scrollButtonSelector);\n            var animation = that.options.animation;\n            var timeout = ((animation && animation.open && animation.open.duration) || 0) + DELAY;\n            setTimeout(function() {\n                if (!scrollButtons.length) {\n                    var backwardBtn = $(that.templates.scrollButton({ direction: isHorizontal ? \"left\" : \"up\" }));\n                    var forwardBtn = $(that.templates.scrollButton({ direction: isHorizontal ? \"right\" : \"down\" }));\n\n                    scrollButtons = backwardBtn.add(forwardBtn).appendTo(popup.wrapper);\n\n                    that._initScrolling(popup.element, backwardBtn, forwardBtn, isHorizontal);\n                    if (!skipMouseEvents) {\n                        scrollButtons.on(MOUSEENTER + NS, function() {\n                            var overflowWrapper = that._overflowWrapper();\n                            $(getChildPopups(popup.element, overflowWrapper)).each(function(i, p) {\n                                var popupOpener = overflowWrapper.find(popupOpenerSelector(p.data(POPUP_ID_ATTR)));\n                                that.close(popupOpener);\n                            });\n                        })\n                        .on(MOUSELEAVE + NS, function() {\n                            setTimeout(function() {\n                                if ($.isEmptyObject(that._openedPopups)) {\n                                    that._closeParentPopups(popup.element);\n                                }\n                            }, DELAY);\n                        });\n                    }\n                }\n                that._toggleScrollButtons(popup.element, scrollButtons.first(), scrollButtons.last(), isHorizontal);\n            }, timeout);\n        },\n\n        _popupOpen: function(e) {\n            if (!this._keyTriggered) {\n                e.sender.element.children(\".\" + FOCUSEDSTATE).removeClass(FOCUSEDSTATE);\n            }\n            if (this.options.scrollable) {\n                this._setPopupHeight(e.sender);\n            }\n        },\n\n        _setPopupHeight: function(popup, isFixed) {\n            var popupElement = popup.element;\n            var popups = popupElement.add(popupElement.parent(animationContainerSelector));\n\n            popups.height((popupElement.hasClass(MENU) && this._initialHeight) || \"\");\n\n            var location = popup._location(isFixed);\n            var windowHeight = $(window).height();\n            var popupOuterHeight = location.height;\n            var popupOffsetTop = isFixed ? 0 : Math.max(location.top, 0);\n            var scrollTop = isFixed ? 0 : parentsScroll(this._overflowWrapper()[0], \"scrollTop\");\n            var bottomScrollbar = window.innerHeight - windowHeight;\n            var maxHeight = windowHeight - kendo.getShadows(popupElement).bottom + bottomScrollbar;\n            var canFit = maxHeight + scrollTop > popupOuterHeight + popupOffsetTop;\n\n            if (!canFit) {\n                var height = Math.min(maxHeight, maxHeight - popupOffsetTop + scrollTop);\n                popups.css({ overflow: \"hidden\", height: height + \"px\" });\n            }\n        },\n\n        close: function(items, dontClearClose) {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            var element = (overflowWrapper || that.element);\n\n            items = element.find(items);\n\n            if (!items.length) {\n                items = element.find(\">.k-item\");\n            }\n\n            var hasChildPopupsHovered = function(currentPopup) {\n                var result = false;\n                if ($.isEmptyObject(that._openedPopups)) {\n                    return result;\n                }\n                $(getChildPopups(currentPopup, overflowWrapper)).each(function(i, popup) {\n                    result = !!that._openedPopups[popup.data(POPUP_ID_ATTR).toString()];\n                    return !result;\n                });\n                return result;\n            };\n\n            var isPopupMouseLeaved = function(opener) {\n                var groupId = opener.data(POPUP_OPENER_ATTR);\n                return (!overflowWrapper || !groupId || !that._openedPopups[groupId.toString()]);\n            };\n\n            items.each(function() {\n                var li = $(this);\n\n                li.attr(ARIA_EXPANDED, false);\n\n                if (!dontClearClose && that._isRootItem(li)) {\n                    that.clicked = false;\n                }\n\n                clearTimeout(li.data(TIMER));\n\n                li.data(TIMER, setTimeout(function() {\n                    var popup = that._getPopup(li);\n                    if (popup && (isPopupMouseLeaved(li) || that._forceClose)) {\n                        if (!that._forceClose && hasChildPopupsHovered(popup.element)) {\n                            return;\n                        }\n\n                        popup.close();\n                        popup.element.attr(\"aria-hidden\", true);\n\n                        if (overflowWrapper) {\n                            if (that._forceClose && items.last().is(li[0])) {\n                                delete that._forceClose;\n                            }\n                        }\n                    }\n                }, that.options.hoverDelay));\n            });\n\n            return that;\n        },\n\n        _getPopup: function(li) {\n            var that = this;\n            var popup = li.find(\".k-menu-group:not(.k-list-container):not(.k-calendar-container):visible\").first().data(KENDOPOPUP);\n            var overflowWrapper = that._overflowWrapper();\n\n            if (!popup && overflowWrapper) {\n                var groupId = li.data(POPUP_OPENER_ATTR);\n                if (groupId) {\n                    var popupElement = overflowWrapper.find(popupGroupSelector(groupId));\n                    popup = popupElement.data(KENDOPOPUP);\n                }\n            }\n            return popup;\n        },\n\n        _toggleDisabled: function(items, enable) {\n            this.element.find(items).each(function() {\n                $(this)\n                    .toggleClass(DISABLEDSTATE, !enable)\n                    .attr(\"aria-disabled\", !enable);\n            });\n        },\n\n        _toggleHover: function(e) {\n            var target = $(kendo.eventTarget(e) || e.target).closest(allItemsSelector),\n                isEnter = e.type == MOUSEENTER || MOUSEDOWN.indexOf(e.type) !== -1;\n\n            target.siblings().removeClass(HOVERSTATE);\n\n            if (!target.parents(\"li.\" + DISABLEDSTATE).length) {\n                target.toggleClass(HOVERSTATE, isEnter || e.type == \"mousedown\" || e.type == \"pointerover\" || e.type == TOUCHSTART);\n            }\n\n            this._removeHoverItem();\n        },\n\n        _preventClose: function() {\n            if (!this.options.closeOnClick) {\n                this._closurePrevented = true;\n            }\n        },\n\n        _checkActiveElement: function(e) {\n            var that = this,\n                hoverItem = $(e ? e.currentTarget : this._hoverItem()),\n                target = that._findRootParent(hoverItem)[0];\n\n            if (!this._closurePrevented) {\n                setTimeout(function() {\n                    if (!document.hasFocus() || (!contains(target, kendo._activeElement()) && e && !contains(target, e.currentTarget))) {\n                        that.close(target);\n                    }\n                }, 0);\n            }\n\n            this._closurePrevented = false;\n        },\n\n        _removeHoverItem: function() {\n            var oldHoverItem = this._hoverItem();\n\n            if (oldHoverItem && oldHoverItem.hasClass(FOCUSEDSTATE)) {\n                oldHoverItem.removeClass(FOCUSEDSTATE);\n                this._oldHoverItem = null;\n            }\n        },\n\n        _updateClasses: function() {\n            var element = this.element,\n                nonContentGroupsSelector = \".k-menu-init div ul\",\n                items;\n\n            element.removeClass(\"k-menu-horizontal k-menu-vertical\");\n            element.addClass(\"k-widget k-reset k-menu-init \" + MENU).addClass(MENU + \"-\" + this.options.orientation);\n\n            if (this.options.orientation === \"vertical\") {\n                element.attr(\"aria-orientation\", \"vertical\");\n            } else {\n                element.attr(\"aria-orientation\", \"horizontal\");\n            }\n\n            element.find(\"li > ul\")\n                   .filter(function() {\n                       return !kendo.support.matchesSelector.call(this, nonContentGroupsSelector);\n                   })\n                   .addClass(\"k-group k-menu-group k-menu-group-md\")\n                   .attr(ROLE, \"menu\")\n                   .hide()\n                   .attr(\"aria-hidden\", element.is(\":visible\"))\n                   .parent(\"li\")\n                   .attr(\"aria-haspopup\", \"true\")\n                   .end()\n                   .find(\"li > div\")\n                   .addClass(\"k-content\")\n                   .attr(\"tabindex\", \"-1\"); // Capture the focus before the Menu\n\n            element.find(\"li[aria-haspopup]\").attr(ARIA_EXPANDED, false);\n\n            items = element.find(\"> li,.k-menu-group > li\");\n\n            element.removeClass(\"k-menu-init\");\n\n            items.each(function() {\n                updateItemClasses(this);\n            });\n        },\n\n        _mouseenter: function(e) {\n            var that = this;\n            var element = $(e.currentTarget);\n            var hasChildren = that._itemHasChildren(element);\n            var popupId = element.data(POPUP_OPENER_ATTR) || element.parent().data(POPUP_ID_ATTR);\n            var pointerTouch = isPointerTouch(e);\n            var isParentClosing = false;\n\n            if (popupId) {\n                that._openedPopups[popupId.toString()] = true;\n            }\n\n            if (that._closing) {\n                isParentClosing = !!that._closing.find(element).length;\n            }\n\n            if (isParentClosing || (e.delegateTarget != element.parents(menuSelector)[0] && e.delegateTarget != element.parents(\".k-menu-scroll-wrapper,.k-popups-wrapper\")[0])) {\n                return;\n            }\n\n            that._keyTriggered = false;\n\n            if ((that.options.openOnClick.rootMenuItems && that._isRootItem(element.closest(allItemsSelector))) ||\n                (that.options.openOnClick.subMenuItems && !that._isRootItem(element.closest(allItemsSelector)))) {\n                return;\n            }\n\n            if ((that.options.openOnClick === false ||\n                (that.options.openOnClick.rootMenuItems === false && that._isRootItem(element.closest(allItemsSelector))) ||\n                (that.options.openOnClick.subMenuItems === false && !that._isRootItem(element.closest(allItemsSelector))) || that.clicked) && !touch &&\n                !(pointerTouch && that._isRootItem(element.closest(allItemsSelector)))) {\n\n                if (!contains(e.currentTarget, e.relatedTarget) && hasChildren) {\n                    that.open(element);\n                }\n            }\n\n            if (that.options.openOnClick === true && that.clicked || touch) {\n                element.siblings().each(function(_, sibling) {\n                    that.close(sibling, true);\n                });\n            }\n        },\n\n        _mousedown: function(e) {\n            var that = this;\n            var element = $(e.currentTarget);\n            // needs to close subMenuItems\n            if (that.options.openOnClick.subMenuItems && !that._isRootItem(element) || touch) {\n                element.siblings().each(function(_, sibling) {\n                    that.close(sibling, true);\n                });\n            }\n        },\n\n        _mouseleave: function(e) {\n            var that = this;\n            var element = $(e.currentTarget);\n            var popupOpener = element.data(POPUP_OPENER_ATTR);\n            var hasChildren = (element.children(animationContainerSelector).length || element.children(groupSelector).length) || popupOpener;\n            var $window = $(window);\n\n            if (popupOpener) {\n                delete that._openedPopups[popupOpener.toString()];\n            }\n\n            if (element.parentsUntil(animationContainerSelector, \".k-list-container,.k-calendar-container\")[0]) {\n                e.stopImmediatePropagation();\n                return;\n            }\n\n            if ((that.options.openOnClick === false || (!that.options.openOnClick.rootMenuItems && that._isRootItem(element)) ||\n                (!that.options.openOnClick.subMenuItems && !that._isRootItem(element))) && !touch && !isPointerTouch(e) &&\n                !contains(e.currentTarget, e.relatedTarget || e.target) && hasChildren &&\n                !contains(e.currentTarget, kendo._activeElement())) {\n                    that.close(element, true);\n                    that._loading = false;\n                    return;\n            }\n\n            // Detect if cursor goes outside the viewport of the browser\n            if ( (kendo.support.browser.msie && !e.toElement && !e.relatedTarget && !isPointerTouch(e)) ||\n                e.clientX < 0 || e.clientY < 0 ||\n                e.clientY > $window.height() ||\n                e.clientX > $window.width()) {\n                that.close(element);\n            }\n        },\n\n        _mouseenterPopup: function(e) {\n            var that = this;\n            var popupElement = $(e.currentTarget);\n\n            if (popupElement.parent().is(animationContainerSelector)) {\n                 return;\n            }\n\n            popupElement = popupElement.children(\"ul\");\n            var popupId = popupElement.data(POPUP_ID_ATTR);\n\n            if (popupId) {\n                that._openedPopups[popupId.toString()] = true;\n            }\n        },\n\n        _mouseleavePopup: function(e) {\n            var that = this;\n            var popupElement = $(e.currentTarget);\n\n            if (!isPointerTouch(e) && popupElement.is(animationContainerSelector)) {\n                that._closePopups(popupElement.children(\"ul\"));\n            }\n        },\n\n        _closePopups: function(rootPopup) {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            var popupId = rootPopup.data(POPUP_ID_ATTR);\n\n            if (popupId) {\n                delete that._openedPopups[popupId.toString()];\n                var groupParent = overflowWrapper.find(popupOpenerSelector(popupId));\n\n                setTimeout(function() {\n                    if (that.options.openOnClick) {\n                        that._closeChildPopups(rootPopup);\n                    } else {\n                        if ($.isEmptyObject(that._openedPopups)) {\n                            var innerPopup = that._innerPopup(rootPopup);\n                            that._closeParentPopups(innerPopup);\n                        } else {\n                            that.close(groupParent, true);\n                        }\n                    }\n                }, 0);\n            }\n        },\n\n        _closeChildPopups: function(current) {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            $(getChildPopups(current, overflowWrapper)).each(function() {\n                var popupOpener = overflowWrapper.find(popupOpenerSelector(this.data(POPUP_ID_ATTR)));\n                that.close(popupOpener, true);\n            });\n        },\n\n        _innerPopup: function(current) {\n            var overflowWrapper = this._overflowWrapper();\n            var popups = getChildPopups(current, overflowWrapper);\n            return popups[popups.length - 1] || current;\n        },\n\n        _closeParentPopups: function(current) {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            var popupId = current.data(POPUP_ID_ATTR);\n            var popupOpener = overflowWrapper.find(popupOpenerSelector(popupId));\n            popupId = popupOpener.parent().data(POPUP_ID_ATTR);\n            that.close(popupOpener, true);\n            while (popupId && !that._openedPopups[popupId]) {\n                if (popupOpener.parent().is(menuSelector)) {\n                    break;\n                }\n                popupOpener = overflowWrapper.find(popupOpenerSelector(popupId));\n                that.close(popupOpener, true);\n                popupId = popupOpener.parent().data(POPUP_ID_ATTR);\n            }\n        },\n\n        _click: function(e) {\n            var that = this, openHandle,\n                options = that.options,\n                target = $(kendo.eventTarget(e)),\n                targetElement = target[0],\n                nodeName = target[0] ? target[0].nodeName.toUpperCase() : \"\",\n                formNode = (nodeName == \"INPUT\" || nodeName == \"SELECT\" || nodeName == \"BUTTON\" || nodeName == \"LABEL\"),\n                link = target.closest(LINK_SELECTOR),\n                element = target.closest(allItemsSelector),\n                itemElement = element[0],\n                href = link.attr(\"href\"), childGroup, childGroupVisible,\n                targetHref = target.attr(\"href\"),\n                sampleHref = $(\"<a href='#' />\").attr(\"href\"),\n                isLink = (!!href && href !== sampleHref),\n                isLocalLink = isLink && !!href.match(/^#/),\n                isTargetLink = (!!targetHref && targetHref !== sampleHref),\n                overflowWrapper = that._overflowWrapper(),\n                shouldCloseTheRootItem;\n\n            if (targetElement && (!targetElement.parentNode || !itemElement)) {\n                return;\n            }\n\n            if ($(target).hasClass('k-menu-expand-arrow-icon')) {\n                this._lastClickedElement = itemElement;\n            }\n\n            while (targetElement && targetElement.parentNode != itemElement) {\n                targetElement = targetElement.parentNode;\n            }\n\n            if ($(targetElement).is(templateSelector)) {\n                return;\n            }\n\n            if (element.hasClass(DISABLEDSTATE)) {\n                e.preventDefault();\n                return;\n            }\n\n            if (!e.handled && that._triggerSelect(target, itemElement) && !formNode) { // We shouldn't stop propagation and shoudn't prevent form elements.\n                e.preventDefault();\n            }\n\n            e.handled = true;\n\n            childGroup = element.children(popupSelector);\n            if (overflowWrapper) {\n                var childPopupId = element.data(POPUP_OPENER_ATTR);\n                if (childPopupId) {\n                    childGroup = overflowWrapper.find(popupGroupSelector(childPopupId));\n                }\n            }\n            childGroupVisible = childGroup.is(\":visible\");\n            shouldCloseTheRootItem = options.openOnClick && childGroupVisible && that._isRootItem(element);\n\n            if (options.closeOnClick && (!isLink || isLocalLink) && (!childGroup.length || shouldCloseTheRootItem)) {\n                element.removeClass(HOVERSTATE).css(\"height\"); // Force refresh for Chrome\n                that._oldHoverItem = that._findRootParent(element);\n                var item = that._parentsUntil(link, that.element, allItemsSelector);\n                that._forceClose = !!overflowWrapper;\n                that.close(item);\n                that.clicked = false;\n                if (\"MSPointerUp\".indexOf(e.type) != -1) {\n                    e.preventDefault();\n                }\n                return;\n            }\n\n            if (isLink && e.enterKey) {\n                link[0].click();\n            }\n\n            if (((!that._isRootItem(element) || options.openOnClick === false) && !options.openOnClick.subMenuItems) && !kendo.support.touch && !(isPointerTouch(e) && that._isRootItem(element.closest(allItemsSelector)))) {\n                return;\n            }\n\n            if (!isLink && !formNode && !isTargetLink) {\n                e.preventDefault();\n            }\n\n            that.clicked = true;\n            openHandle = childGroup.is(\":visible\") ? CLOSE : OPEN;\n            if (!options.closeOnClick && openHandle == CLOSE) {\n                return;\n            }\n            that[openHandle](element);\n        },\n\n        _parentsUntil: function(context, top, selector) {\n            var overflowWrapper = this._overflowWrapper();\n            if (!overflowWrapper) {\n                return context.parentsUntil(top, selector);\n            } else {\n                var parents = overflowMenuParents(context, overflowWrapper);\n                var result = [];\n                $(parents).each(function() {\n                    var parent = $(this);\n                    if (parent.is(top)) {\n                        return false;\n                    }\n                    if (parent.is(selector)) {\n                        result.push(this);\n                    }\n                });\n                return $(result);\n            }\n        },\n\n        _triggerSelect: function(target, itemElement) {\n            target = target.is(\".k-link\") ? target : target.closest(\".k-link\");\n\n            var selectHandler = target.data(\"selectHandler\"),\n                itemSelectEventData;\n\n            if (selectHandler) {\n                itemSelectEventData = this._getEventData(target);\n                selectHandler.call(this, itemSelectEventData);\n            }\n\n            var isSelectItemDefaultPrevented = itemSelectEventData && itemSelectEventData.isDefaultPrevented();\n            var isSelectDefaultPrevented = this._triggerEvent({ item: itemElement, type: SELECT });\n            return isSelectItemDefaultPrevented || isSelectDefaultPrevented;\n        },\n\n        _getEventData: function(target) {\n            var eventData = {\n                sender: this,\n                target: target,\n                _defaultPrevented: false,\n                preventDefault: function() {\n                    this._defaultPrevented = true;\n                },\n                isDefaultPrevented: function() {\n                    return this._defaultPrevented;\n                }\n            };\n            return eventData;\n        },\n\n        _documentClick: function(e) {\n            var that = this;\n            var target = $(e.target).hasClass('k-menu-expand-arrow-icon') ? that._lastClickedElement : e.target;\n\n            if (contains((that._overflowWrapper() || that.element)[0], target)) {\n                that._lastClickedElement = undefined;\n                return;\n            }\n\n            that.clicked = false;\n        },\n\n        _focus: function(e) {\n            var that = this,\n                target = e.target,\n                hoverItem = that._hoverItem(),\n                active = activeElement();\n\n            if (target != that.wrapper[0] && !$(target).is(\":kendoFocusable\")) {\n                e.stopPropagation();\n                $(target).closest(\".k-content\").closest(\".k-menu-group\").closest(\".k-item\").addClass(FOCUSEDSTATE);\n                that.wrapper.trigger(\"focus\");\n                return;\n            }\n\n            if (active === e.currentTarget) {\n                if (hoverItem.length) {\n                    that._moveHover([], hoverItem);\n                } else if (!that._oldHoverItem) {\n                    that._moveHover([], that.wrapper.children().first());\n                }\n            }\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode,\n                hoverItem = that._oldHoverItem,\n                target,\n                belongsToVertical,\n                hasChildren,\n                isRtl = kendo.support.isRtl(that.wrapper);\n\n            if (e.target != e.currentTarget && key != keys.ESC) {\n                return;\n            }\n\n            if (!hoverItem) {\n                hoverItem = that._oldHoverItem = that._hoverItem();\n            }\n\n            belongsToVertical = that._itemBelongsToVertival(hoverItem);\n            hasChildren = that._itemHasChildren(hoverItem);\n            that._keyTriggered = true;\n\n            if (key == keys.RIGHT) {\n                target = that[isRtl ? \"_itemLeft\" : \"_itemRight\"](hoverItem, belongsToVertical, hasChildren);\n            } else if (key == keys.LEFT) {\n                target = that[isRtl ? \"_itemRight\" : \"_itemLeft\"](hoverItem, belongsToVertical, hasChildren);\n            } else if (key == keys.DOWN) {\n                target = that._itemDown(hoverItem, belongsToVertical, hasChildren);\n            } else if (key == keys.UP) {\n                target = that._itemUp(hoverItem, belongsToVertical, hasChildren);\n            } else if (key == keys.HOME) {\n                that._moveHover(hoverItem, hoverItem.parent().children().first());\n                e.preventDefault();\n            } else if (key == keys.END) {\n                that._moveHover(hoverItem, hoverItem.parent().children().last());\n                e.preventDefault();\n            } else if (key == keys.ESC) {\n                target = that._itemEsc(hoverItem, belongsToVertical);\n            } else if (key == keys.ENTER || key == keys.SPACEBAR) {\n                target = hoverItem.children(\".k-link\");\n                if (target.length > 0) {\n                    that._click({ target: target[0], preventDefault: function() {}, enterKey: true });\n                    if (hasChildren && !hoverItem.hasClass(DISABLEDSTATE)) {\n                        that.open(hoverItem);\n                        that._moveHover(hoverItem, that._childPopupElement(hoverItem).children().first());\n                    } else if (hoverItem.is(\"li\") && hoverItem.attr(\"role\") === \"menuitemcheckbox\") {\n                        hoverItem.find(\".k-checkbox\").attr(\"checked\", true);\n                    } else {\n                        that._moveHoverToRoot(hoverItem, that._findRootParent(hoverItem));\n                    }\n                }\n            } else if (key == keys.TAB) {\n                target = that._findRootParent(hoverItem);\n                that._moveHover(hoverItem, target);\n                that._checkActiveElement();\n                return;\n            }\n\n            if (target && target[0]) {\n                e.preventDefault();\n                e.stopPropagation(); // needed to handle ESC in column menu only when a root item is focused\n            }\n        },\n\n        _hoverItem: function() {\n            return this.wrapper.find(\".k-item.k-hover,.k-item.k-focus\").filter(\":visible\");\n        },\n\n        _itemBelongsToVertival: function(item) {\n            var menuIsVertical = this.wrapper.hasClass(\"k-menu-vertical\");\n\n            if (!item.length) {\n                return menuIsVertical;\n            }\n            return item.parent().hasClass(\"k-menu-group\") || menuIsVertical;\n        },\n\n        _itemHasChildren: function(item) {\n            if (!item || !item.length || !item[0].nodeType) {\n                return false;\n            }\n            return item.children(\".k-menu-group, div.k-animation-container\").length > 0 ||\n                (!!item.data(POPUP_OPENER_ATTR) && !!this._overflowWrapper().children(popupGroupSelector(item.data(POPUP_OPENER_ATTR))));\n        },\n\n        _moveHover: function(item, nextItem) {\n            var that = this,\n                id = that._ariaId;\n\n            if (item.length && nextItem.length) {\n                item.removeClass(FOCUSEDSTATE);\n            }\n\n            if (nextItem.length) {\n                if (nextItem[0].id) {\n                    id = nextItem[0].id;\n                }\n\n                nextItem.addClass(FOCUSEDSTATE);\n                that._oldHoverItem = nextItem;\n\n                if (id) {\n                    that.element.removeAttr(\"aria-activedescendant\");\n                    $(\"#\" + id).removeAttr(\"id\");\n                    nextItem.attr(\"id\", id);\n                    that.element.attr(\"aria-activedescendant\", id);\n                }\n                that._scrollToItem(nextItem);\n            }\n        },\n\n        _moveHoverToRoot: function(item, nextItem) {\n            this._moveHover(item, nextItem);\n        },\n\n        _findRootParent: function(item) {\n            if (this._isRootItem(item)) {\n                return item;\n            } else {\n                return this._parentsUntil(item, menuSelector, \"li.k-item\").last();\n            }\n        },\n\n        _isRootItem: function(item) {\n            return item.parent().hasClass(MENU);\n        },\n\n        _itemRight: function(item, belongsToVertical, hasChildren) {\n            var that = this,\n                nextItem,\n                parentItem,\n                overflowWrapper;\n\n            if (!belongsToVertical) {\n                nextItem = item.nextAll(itemSelector + exclusionSelector).eq(0);\n                if (!nextItem.length) {\n                    nextItem = item.prevAll(itemSelector + exclusionSelector).last();\n                }\n                that.close(item);\n            } else if (hasChildren && !item.hasClass(DISABLEDSTATE)) {\n                that.open(item);\n                nextItem = that._childPopupElement(item).children().first();\n            } else if (that.options.orientation == \"horizontal\") {\n                parentItem = that._findRootParent(item);\n                overflowWrapper = that._overflowWrapper();\n                if (overflowWrapper) {\n                    var rootPopup = itemPopup(parentItem, overflowWrapper);\n                    that._closeChildPopups(rootPopup);\n                }\n                that.close(parentItem);\n                nextItem = parentItem.nextAll(itemSelector + exclusionSelector).eq(0);\n            }\n\n            if (nextItem && !nextItem.length) {\n                nextItem = that.wrapper.children(\".k-item\").first();\n            } else if (!nextItem) {\n                nextItem = [];\n            }\n\n            that._moveHover(item, nextItem);\n            return nextItem;\n        },\n\n        _itemLeft: function(item, belongsToVertical) {\n            var that = this,\n                nextItem,\n                overflowWrapper;\n\n            if (!belongsToVertical) {\n                nextItem = item.prevAll(itemSelector + exclusionSelector).eq(0);\n                if (!nextItem.length) {\n                    nextItem = item.nextAll(itemSelector + exclusionSelector).last();\n                }\n                that.close(item);\n            } else {\n                nextItem = item.parent().closest(\".k-item\");\n                overflowWrapper = that._overflowWrapper();\n                if (!nextItem.length && overflowWrapper) {\n                    nextItem = popupParentItem(item.parent(), overflowWrapper);\n                }\n                that.close(nextItem);\n                if (that._isRootItem(nextItem) && that.options.orientation == \"horizontal\") {\n                    nextItem = nextItem.prevAll(itemSelector + exclusionSelector).eq(0);\n                }\n            }\n\n            if (!nextItem.length) {\n                nextItem = that.wrapper.children(\".k-item\").last();\n            }\n\n            that._moveHover(item, nextItem);\n            return nextItem;\n        },\n\n        _itemDown: function(item, belongsToVertical, hasChildren) {\n            var that = this,\n                nextItem;\n\n            if (!belongsToVertical) {\n                if (!hasChildren || item.hasClass(DISABLEDSTATE)) {\n                    return;\n                } else {\n                    that.open(item);\n                    nextItem = that._childPopupElement(item).children().first();\n                }\n            } else {\n                nextItem = item.nextAll(itemSelector + exclusionSelector).eq(0);\n            }\n\n            if (!nextItem.length && item.length) {\n                nextItem = item.parent().children().first();\n            } else if (!item.length) {\n                nextItem = that.wrapper.children(\".k-item\").first();\n            }\n\n            that._moveHover(item, nextItem);\n            return nextItem;\n        },\n\n        _itemUp: function(item, belongsToVertical) {\n            var that = this,\n                nextItem;\n\n            if (!belongsToVertical) {\n                return;\n            } else {\n                nextItem = item.prevAll(itemSelector + exclusionSelector).eq(0);\n            }\n\n            if (!nextItem.length && item.length) {\n                nextItem = item.parent().children().last();\n            } else if (!item.length) {\n                nextItem = that.wrapper.children(\".k-item\").last();\n            }\n\n            that._moveHover(item, nextItem);\n            return nextItem;\n        },\n\n        _scrollToItem: function(item) {\n            var that = this;\n            if (that.options.scrollable && item && item.length) {\n                var ul = item.parent();\n                var isHorizontal = ul.hasClass(MENU) ? that.options.orientation == \"horizontal\" : false;\n                var scrollDir = isHorizontal ? \"scrollLeft\" : \"scrollTop\";\n                var getSize = isHorizontal ? kendo._outerWidth : kendo._outerHeight;\n                var currentScrollOffset = ul[scrollDir]();\n                var itemSize = getSize(item);\n                var itemOffset = item[0][isHorizontal ? \"offsetLeft\" : \"offsetTop\"];\n                var ulSize = getSize(ul);\n                var scrollButtons = ul.siblings(scrollButtonSelector);\n                var scrollButtonSize = scrollButtons.length ? getSize(scrollButtons.first()) : 0;\n                var itemPosition;\n\n                if (currentScrollOffset + ulSize < itemOffset + itemSize + scrollButtonSize) {\n                    itemPosition = itemOffset + itemSize - ulSize + scrollButtonSize;\n                } else if (currentScrollOffset > itemOffset - scrollButtonSize) {\n                    itemPosition = itemOffset - scrollButtonSize;\n                }\n\n                if (!isNaN(itemPosition)) {\n                    var scrolling = {};\n                    scrolling[scrollDir] = itemPosition;\n                    ul.finish().animate(scrolling, \"fast\", \"linear\", function() {\n                        that._toggleScrollButtons(ul, scrollButtons.first(), scrollButtons.last(), isHorizontal);\n                    });\n                }\n            }\n        },\n\n        _itemEsc: function(item, belongsToVertical) {\n            var that = this,\n                nextItem, groupId;\n\n            if (!belongsToVertical) {\n                return item;\n            } else {\n                nextItem = item.parent().closest(\".k-item\");\n\n                if (nextItem.length === 0) {\n                    groupId = item.closest(\".k-group\").data(\"group\");\n                    nextItem = that.wrapper.find(\".k-item[data-groupparent='\" + groupId + \"']\");\n                }\n\n                that.close(nextItem);\n                that._moveHover(item, nextItem);\n            }\n\n            return nextItem;\n        },\n\n        _childPopupElement: function(item) {\n            var popupElement = item.find(\".k-menu-group\");\n            var wrapper = this._overflowWrapper();\n            if (!popupElement.length && wrapper) {\n                popupElement = itemPopup(item, wrapper);\n            }\n            return popupElement;\n        },\n\n        _triggerEvent: function(e) {\n            var that = this;\n\n            return that.trigger(e.type, { type: e.type, item: e.item });\n        },\n\n        _focusHandler: function(e) {\n            var that = this,\n                item = $(kendo.eventTarget(e)).closest(allItemsSelector);\n\n            if (item.hasClass(DISABLEDSTATE)) {\n                return;\n            }\n\n            setTimeout(function() {\n                that._moveHover([], item);\n                if (item.children(\".k-content\")[0]) {\n                    item.parent().closest(\".k-item\").removeClass(FOCUSEDSTATE);\n                }\n            }, 200);\n        },\n\n        _animations: function(options) {\n            if (options && (\"animation\" in options) && !options.animation) {\n                options.animation = { open: { effects: {} }, close: { hide: true, effects: {} } };\n            }\n        },\n        _dataSource: function(options) {\n            var that = this,\n                dataSource = options ? options.dataSource : that.options.dataSource;\n\n            if (!dataSource) {\n                return;\n            }\n\n            dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n\n            that._unbindDataSource();\n\n            if (!dataSource.fields) {\n                dataSource.fields = [\n                    { field: \"uid\" },\n                    { field: \"text\" },\n                    { field: \"url\" },\n                    { field: \"cssClass\" },\n                    { field: \"spriteCssClass\" },\n                    { field: \"imageUrl\" },\n                    { field: \"imageAttr\" },\n                    { field: \"attr\" },\n                    { field: \"contentAttr\" },\n                    { field: \"content\" },\n                    { field: \"encoded\" },\n                    { field: \"items\" },\n                    { field: \"select\" }\n                ];\n            }\n\n            that.dataSource = HierarchicalDataSource.create(dataSource);\n\n            that._bindDataSource();\n\n            that.dataSource.fetch();\n        },\n\n        _bindDataSource: function() {\n            this._refreshHandler = this.refresh.bind(this);\n            this._errorHandler = this._error.bind(this);\n\n            this.dataSource.bind(CHANGE, this._refreshHandler);\n            this.dataSource.bind(ERROR, this._errorHandler);\n        },\n\n        _unbindDataSource: function() {\n            var dataSource = this.dataSource;\n\n            if (dataSource) {\n                dataSource.unbind(CHANGE, this._refreshHandler);\n                dataSource.unbind(ERROR, this._errorHandler);\n            }\n        },\n\n        _error: function() {\n\n        },\n\n        findByUid: function(uid) {\n            var wrapperElement = this._overflowWrapper() || this.element;\n            return wrapperElement.find(\"[\" + kendo.attr(\"uid\") + \"=\" + uid + \"]\");\n        },\n\n        refresh: function(ev) {\n            var that = this;\n            var node = ev.node;\n            var action = ev.action;\n            var parentElement = node ? that.findByUid(node.uid) : that.element;\n            var itemsToUpdate = ev.items;\n            var index = ev.index;\n            var updateProxy = that._updateItem.bind(that);\n            var removeProxy = that._removeItem.bind(that);\n\n            if (action == \"add\") {\n                that._appendItems(itemsToUpdate, index, parentElement);\n            } else if (action == \"remove\") {\n                itemsToUpdate.forEach(removeProxy);\n            } else if (action == \"itemchange\") {\n                itemsToUpdate.forEach(updateProxy);\n            } else if (action === \"itemloaded\") {\n                that.append(ev.items, parentElement);\n            } else {\n                this._initData();\n            }\n\n            this.trigger(DATABOUND, { item: parentElement, dataItem: node });\n        },\n\n        _appendItems: function(items, index, parent) {\n            var that = this;\n            var referenceItem = parent.find(itemSelector).eq(index);\n\n            if (referenceItem.length) {\n                that.insertBefore(items, referenceItem);\n            } else {\n                that.append(items, parent);\n            }\n        },\n\n        _removeItem: function(item) {\n            var that = this;\n            var element = that.findByUid(item.uid);\n            that.remove(element);\n        },\n\n        _updateItem: function(item) {\n            var that = this;\n            var element = that.findByUid(item.uid);\n            var nextElement = element.next();\n            var parentNode = item.parentNode();\n\n            that.remove(element);\n\n            if (nextElement.length) {\n                that.insertBefore(item, nextElement);\n            } else {\n                that.append(item, parentNode && that.findByUid(parentNode.uid));\n            }\n        },\n\n        _accessors: function() {\n            var that = this,\n                options = that.options,\n                i, field, textField,\n                element = that.element;\n\n            for (i in bindings) {\n                field = options[bindings[i]];\n                textField = element.attr(kendo.attr(i + \"-field\"));\n\n                if (!field && textField) {\n                    field = textField;\n                }\n\n                if (!field) {\n                    field = i;\n                }\n\n                if (!isArray(field)) {\n                    field = [field];\n                }\n\n                options[bindings[i]] = field;\n            }\n        },\n\n        _fieldAccessor: function(fieldName) {\n            var fieldBindings = this.options[bindings[fieldName]] || [],\n                count = fieldBindings.length,\n                result = \"(function(item) {\";\n\n            if (count === 0) {\n                result += \"return item['\" + fieldName + \"'];\";\n            } else {\n                result += \"var levels = [\" +\n                            $.map(fieldBindings, function(x) {\n                                return \"function(d){ return \" + kendo.expr(x) + \"}\";\n                            }).join(\",\") + \"];\";\n                result += \"if(item.level){return levels[Math.min(item.level(), \" + count + \"-1)](item);}else\";\n                result += \"{return levels[\" + count + \"-1](item)}\";\n            }\n\n            result += \"})\";\n\n            return result;\n        },\n\n        _templates: function() {\n            var that = this,\n                options = that.options,\n                fieldAccessor = that._fieldAccessor.bind(that);\n\n            if (options.template && typeof options.template == STRING) {\n                    options.template = template(options.template);\n            } else if (!options.template) {\n                    options.template = template(\n                    \"<span class='k-menu-link-text'>\" +\n                    \"# var text = \" + fieldAccessor(\"text\") + \"(data.item); #\" +\n                    \"# if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {#\" +\n                        \"#= text #\" +\n                    \"# } else { #\" +\n                        \"#: text #\" +\n                    \"# } #</span>\"\n                );\n            }\n\n            that.templates = {\n                content: template(\n                    \"#var contentHtml = \" + fieldAccessor(\"content\") + \"(item);#\" +\n                    \"<div #= contentCssAttributes(item.toJSON ? item.toJSON() : item) # tabindex='-1'>#= contentHtml || '' #</div>\"\n                ),\n                group: template(\n                    \"<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>\" +\n                        \"#= renderItems(data) #\" +\n                    \"</ul>\"\n                ),\n                itemWrapper: template(\n                    \"# var url = \" + fieldAccessor(\"url\") + \"(item); #\" +\n                    \"# var imageUrl = \" + fieldAccessor(\"imageUrl\") + \"(item); #\" +\n                    \"# var imgAttributes = \" + fieldAccessor(\"imageAttr\") + \"(item);#\" +\n                    \"# var tag = url ? 'a' : 'span' #\" +\n                    \"<#= tag # class='#= textClass(item) #' #if(url){#href='#= url #'#}#>\" +\n\n                    \"# if (imageUrl) { #\" +\n                              \"<img #= imageCssAttributes(imgAttributes) #  alt='' src='#= imageUrl #' />\" +\n                    \"# } #\" +\n\n                    \"#= sprite(item) #\" +\n                    \"#= data.menu.options.template(data) #\" +\n                    \"#= arrow(data) #\" +\n                    \"</#= tag #>\"\n                ),\n                item: template(\n                    \"#var contentHtml = \" + fieldAccessor(\"content\") + \"(item);#\" +\n                    \"<li class='#= wrapperCssClass(group, item) #' #= itemCssAttributes(item.toJSON ? item.toJSON() : item) # role='menuitem'  #=item.items ? \\\"aria-haspopup='true'\\\": \\\"\\\"#\" +\n                        \"#=item.enabled === false ? \\\"aria-disabled='true'\\\" : ''#\" +\n                        kendo.attr(\"uid\") + \"='#= item.uid #' \" +\n                        \"# if(item.items && item.items.length > 0) { # \" +\n                            \"# if(item.expanded) { # \" +\n                                \" aria-expanded='true'\" +\n                            \"# } else { #\" +\n                                \" aria-expanded='false'\" +\n                            \"# } #\" +\n                        \"# } #\" +\n                    \">\" +\n                        \"#= itemWrapper(data) #\" +\n                        \"#if (item.hasChildren || item.items) { #\" +\n                            \"#= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) #\" +\n                        \"# } else if (item.content || item.contentUrl || contentHtml) { #\" +\n                            \"#= renderContent(data) #\" +\n                        \"# } #\" +\n                    \"</li>\"\n                ),\n                scrollButton: template(\n                    \"<span class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-menu-scroll-button k-scroll-#= direction #' unselectable='on'>\" +\n                        \"<span class='k-button-icon k-icon k-i-arrow-60-#= direction #'></span>\" +\n                    \"</span>\"\n                ),\n                arrow: template(\"<span class='k-menu-expand-arrow'><span class='#= arrowClass(item, group) #'></span></span>\"),\n                sprite: template(\"# var spriteCssClass = \" + fieldAccessor(\"spriteCssClass\") + \"(data); if(spriteCssClass) {#<span class='k-sprite #= spriteCssClass #'></span>#}#\"),\n                empty: template(\"\")\n            };\n        },\n\n        renderItem: function(options) {\n            var that = this;\n            options = extend({ menu: that, group: {} }, options);\n\n            var empty = that.templates.empty,\n                item = options.item;\n\n            return that.templates.item(extend(options, {\n                sprite: that.templates.sprite,\n                itemWrapper: that.templates.itemWrapper,\n                renderContent: that.renderContent,\n                arrow: item.items || item.content || item[that.options.dataContentField[0]] ? that.templates.arrow : empty,\n                subGroup: that.renderGroup\n            }, rendering));\n        },\n\n        renderGroup: function(options) {\n            var that = this;\n            var templates = that.templates || options.menu.templates;\n\n            return templates.group(extend({\n                renderItems: function(options) {\n                    var html = \"\",\n                        i = 0,\n                        items = options.items,\n                        len = items ? items.length : 0,\n                        group = extend({ length: len }, options.group);\n\n                    for (; i < len; i++) {\n                        html += options.menu.renderItem(extend(options, {\n                            group: group,\n                            item: extend({ index: i }, items[i])\n                        }));\n                    }\n\n                    return html;\n                }\n            }, options, rendering));\n        },\n\n        renderContent: function(options) {\n            return options.menu.templates.content(extend(options, rendering));\n        }\n    });\n\n    var ContextMenu = Menu.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Menu.fn.init.call(that, element, options);\n\n            that.element.attr(ROLE, \"menu\");\n\n            that._marker = kendo.guid().substring(0, 8);\n\n            that.target = $(that.options.target);\n\n            that._popup();\n            that._wire();\n        },\n\n        _initOverflow: function(options) {\n            var that = this;\n            if (options.scrollable && !that._overflowWrapper()) {\n                that._openedPopups = {};\n\n                that._popupsWrapper = (that.element.parent().is(animationContainerSelector) ? that.element.parent() : that.element)\n                    .wrap(\"<div class='k-popups-wrapper \" + options.orientation + \"'></div>\").parent();\n\n                if (that.options.orientation == \"horizontal\") {\n                    removeSpacesBetweenItems(that.element);\n                }\n\n                if (options.appendTo) {\n                    options.appendTo = $(options.appendTo);\n                    options.appendTo.append(that._popupsWrapper);\n                }\n\n                that._initialHeight = that.element[0].style.height;\n                that._initialWidth = that.element[0].style.width;\n            }\n        },\n\n        options: {\n            name: \"ContextMenu\",\n            filter: null,\n            showOn: \"contextmenu\",\n            orientation: \"vertical\",\n            alignToAnchor: false,\n            copyAnchorStyles: true,\n            target: \"body\"\n        },\n\n        events: [\n            OPEN,\n            CLOSE,\n            ACTIVATE,\n            DEACTIVATE,\n            SELECT\n        ],\n\n        setOptions: function(options) {\n            var that = this;\n\n            Menu.fn.setOptions.call(that, options);\n\n            that.target.off(that.showOn + NS + that._marker, that._showProxy);\n\n            if (that.userEvents) {\n                that.userEvents.destroy();\n            }\n\n            that.target = $(that.options.target);\n            if (options.orientation && that.popup.wrapper[0]) {\n                that.popup.element.unwrap();\n            }\n\n            that._wire();\n\n            Menu.fn.setOptions.call(this, options);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.target.off(that.options.showOn + NS + that._marker);\n            DOCUMENT_ELEMENT.off(kendo.support.mousedown + NS + that._marker, that._closeProxy);\n\n            if (that.userEvents) {\n                that.userEvents.destroy();\n            }\n\n            Menu.fn.destroy.call(that);\n        },\n\n        open: function(x, y) {\n            var that = this;\n\n            x = $(x)[0];\n\n            if (contains(that.element[0], $(x)[0]) || that._itemHasChildren($(x))) { // call parent open for children elements\n                Menu.fn.open.call(that, x);\n            } else {\n                if (that._triggerEvent({ item: that.element, type: OPEN }) === false) {\n                    if (that.popup.visible() && that.options.filter) {\n                        that.popup.close(true);\n                        that.popup.element.kendoStop(true);\n                    }\n\n                    if (y !== undefined) {\n                        var overflowWrapper = that._overflowWrapper();\n                        if (overflowWrapper) {\n                            var offset = overflowWrapper.offset();\n                            x -= offset.left;\n                            y -= offset.top;\n                        }\n                        that.popup.wrapper.hide();\n                        that._configurePopupScrolling(x, y);\n                        that.popup.open(x, y);\n                    } else {\n                        that.popup.options.anchor = (x ? x : that.popup.anchor) || that.target;\n                        that.popup.element.kendoStop(true);\n                        that._configurePopupScrolling();\n                        that.popup.open();\n                    }\n\n                    DOCUMENT_ELEMENT.off(that.popup.downEvent, that.popup._mousedownProxy);\n                    DOCUMENT_ELEMENT\n                        .on(kendo.support.mousedown + NS + that._marker, that._closeProxy);\n\n                    that.element.trigger(\"focus\");\n                }\n            }\n\n            return that;\n        },\n\n        _configurePopupScrolling: function(x, y) {\n            var that = this;\n            var popup = that.popup;\n            var isHorizontal = that.options.orientation == \"horizontal\";\n\n            if (that.options.scrollable) {\n                that._wrapPopupElement(popup);\n\n                popup.element.parent().css({\n                    position: \"\",\n                    height: \"\"\n                });\n\n                popup.element.css({\n                    visibility: \"hidden\",\n                    display: \"\",\n                    position: \"\"\n                });\n\n                if (isHorizontal) {\n                    that._setPopupWidth(popup, isNaN(x) ? undefined : { isFixed: true, x: x, y: y });\n                } else {\n                    that._setPopupHeight(popup, isNaN(x) ? undefined : { isFixed: true, x: x, y: y });\n                }\n\n                popup.element.css({\n                    visibility: \"\",\n                    display: \"none\",\n                    position: \"absolute\"\n                });\n\n                that._initPopupScrollButtons(popup, isHorizontal, true);\n                popup.element.siblings(scrollButtonSelector).hide();\n            }\n        },\n\n        _setPopupWidth: function(popup, isFixed) {\n            var popupElement = popup.element;\n            var popups = popupElement.add(popupElement.parent(animationContainerSelector));\n\n            popups.width(this._initialWidth || \"\");\n\n            var location = popup._location(isFixed);\n            var windowWidth = $(window).width();\n            var popupOuterWidth = location.width;\n            var popupOffsetLeft = Math.max(location.left, 0);\n            var scrollLeft = isFixed ? 0 : parentsScroll(this._overflowWrapper()[0], \"scrollLeft\");\n            var shadow = kendo.getShadows(popupElement);\n            var maxWidth = windowWidth - shadow.left - shadow.right;\n            var canFit = maxWidth + scrollLeft > popupOuterWidth + popupOffsetLeft;\n\n            if (!canFit) {\n                popups.css({ overflow: \"hidden\", width: (maxWidth - popupOffsetLeft + scrollLeft) + \"px\" });\n            }\n        },\n\n        close: function() {\n            var that = this;\n\n            if (contains(that.element[0], $(arguments[0])[0]) || that._itemHasChildren(arguments[0])) {\n                Menu.fn.close.call(that, arguments[0]);\n            } else {\n                if (that.popup.visible()) {\n                    if (that._triggerEvent({ item: that.element, type: CLOSE }) === false) {\n                        that._removeHoverItem();\n                        that.element.find(\"#\" + that._ariaId).removeAttr(\"id\");\n                        that.popup.close();\n                        DOCUMENT_ELEMENT.off(kendo.support.mousedown + NS + that._marker, that._closeProxy);\n                        that.unbind(SELECT, that._closeTimeoutProxy);\n                        that.popup.options.anchor.focus();\n                    }\n                }\n            }\n        },\n\n        _showHandler: function(e) {\n            var ev = e, offset,\n                that = this,\n                options = that.options,\n                target = kendo.support.mobileOS ? $(ev.target) : $(ev.currentTarget);\n\n            if (e.event) {\n                ev = e.event;\n                ev.pageX = e.x.location;\n                ev.pageY = e.y.location;\n            }\n\n            if (contains(that.element[0], e.relatedTarget || e.target)) {\n                return;\n            }\n\n            that._eventOrigin = ev;\n\n            ev.preventDefault();\n            ev.stopImmediatePropagation();\n\n            that.element.find(\".\" + FOCUSEDSTATE).removeClass(FOCUSEDSTATE);\n\n            if ((options.filter && target.is(options.filter)) || !options.filter) {\n                if (options.alignToAnchor) {\n                    that.popup.options.anchor = ev.currentTarget;\n                    that.open(ev.currentTarget);\n                } else {\n                    that.popup.options.anchor = ev.currentTarget;\n\n                    if (that._targetChild) {\n                        offset = that.target.offset();\n                        that.open(ev.pageX - offset.left, ev.pageY - offset.top);\n                    } else {\n                        that.open(ev.pageX, ev.pageY);\n                    }\n                }\n            }\n        },\n\n        _closeHandler: function(e) {\n            var that = this,\n                target = $(e.relatedTarget || e.target),\n                sameTarget = target.closest(that.target.selector)[0] == that.target[0],\n                item = target.closest(itemSelector),\n                children = that._itemHasChildren(item),\n                overflowWrapper = that._overflowWrapper(),\n                containment = contains(that.element[0], target[0]) || (overflowWrapper && contains(overflowWrapper[0], target[0]));\n\n            that._eventOrigin = e;\n\n            var normalClick = e.which !== 3;\n\n            if (that.popup.visible() && ((normalClick && sameTarget) || !sameTarget) && ((that.options.closeOnClick && !children && containment) || !containment)) {\n                if (containment) {\n                    this.unbind(SELECT, this._closeTimeoutProxy);\n                    that.bind(SELECT, that._closeTimeoutProxy);\n                } else {\n                    that.close();\n                }\n            }\n        },\n\n        _wire: function() {\n            var that = this,\n                options = that.options,\n                target = that.target;\n\n            that._preventProxy = null;\n            that._showProxy = that._showHandler.bind(that);\n            that._closeProxy = that._closeHandler.bind(that);\n            that._closeTimeoutProxy = that.close.bind(that);\n\n            if (target[0]) {\n                if (kendo.support.mobileOS && options.showOn == \"contextmenu\") {\n                    that.userEvents = new kendo.UserEvents(target, {\n                        filter: options.filter,\n                        allowSelection: false\n                    });\n\n                    that._preventProxy = function() { return false; };\n\n                    that.userEvents.bind(\"hold\", that._showProxy);\n                }\n\n                if (options.filter) {\n                    target.on(options.showOn + NS + that._marker, options.filter, that._preventProxy || that._showProxy);\n                } else {\n                    target.on(options.showOn + NS + that._marker, that._preventProxy || that._showProxy);\n                }\n            }\n        },\n\n        _triggerEvent: function(e) {\n            var that = this,\n                anchor = $(that.popup.options.anchor)[0],\n                origin = that._eventOrigin;\n\n            that._eventOrigin = undefined;\n\n            return that.trigger(e.type, extend({ type: e.type, item: e.item || this.element[0], target: anchor }, origin ? { event: origin } : {} ));\n        },\n\n        _popup: function() {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n\n            that._triggerProxy = that._triggerEvent.bind(that);\n\n            that.popup = that.element\n                            .addClass(\"k-context-menu\")\n                            .kendoPopup({\n                                autosize: that.options.orientation === \"horizontal\",\n                                anchor: that.target || \"body\",\n                                copyAnchorStyles: that.options.copyAnchorStyles,\n                                collision: that.options.popupCollision || \"fit\",\n                                animation: that.options.animation,\n                                activate: that._triggerProxy,\n                                deactivate: that._triggerProxy,\n                                appendTo: overflowWrapper || that.options.appendTo,\n                                close: !overflowWrapper ? $.noop : function(e) {\n                                    $(getChildPopups(e.sender.element, overflowWrapper)).each(function(i, p) {\n                                        var popup = p.data(KENDOPOPUP);\n                                        if (popup) {\n                                            popup.close(true);\n                                        }\n                                    });\n                                }\n                            }).data(KENDOPOPUP);\n\n            that._targetChild = contains(that.target[0], that.popup.element[0]);\n        },\n\n        _moveHoverToRoot: function(item, nextItem) {\n            this._moveHover(item, nextItem);\n            this.close();\n        },\n\n        _focus: function(e) {\n            var hoverItem = this._oldHoverItem = this._hoverItem() || [];\n\n            Menu.fn._focus.call(this, e);\n\n            if (activeElement() === e.currentTarget) {\n                this._moveHover(hoverItem, this.wrapper.children().first());\n            }\n        }\n    });\n\n    ui.plugin(Menu);\n    ui.plugin(ContextMenu);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.panelbar',[ \"kendo.data\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"panelbar\",\n    name: \"PanelBar\",\n    category: \"web\",\n    description: \"The PanelBar widget displays hierarchical data as a multi-level expandable panel bar.\",\n    depends: [ \"core\", \"data\", \"data.odata\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        keys = kendo.keys,\n        extend = $.extend,\n        each = $.each,\n        isArray = Array.isArray,\n        template = kendo.template,\n        Widget = ui.Widget,\n        HierarchicalDataSource = kendo.data.HierarchicalDataSource,\n        excludedNodesRegExp = /^(ul|a|div)$/i,\n        NS = \".kendoPanelBar\",\n        IMG = \"img\",\n        HREF = \"href\",\n        LAST = \"k-last\",\n        LINK = \"k-link\",\n        LINKSELECTOR = \".\" + LINK,\n        ERROR = \"error\",\n        ITEM = \".k-item\",\n        GROUP = \".k-group\",\n        VISIBLEGROUP = GROUP + \":visible\",\n        IMAGE = \"k-image\",\n        FIRST = \"k-first\",\n        CHANGE = \"change\",\n        EXPAND = \"expand\",\n        SELECT = \"select\",\n        CLICK = \"click\",\n        CONTENT = \"k-content\",\n        ACTIVATE = \"activate\",\n        COLLAPSE = \"collapse\",\n        DATABOUND = \"dataBound\",\n        MOUSEENTER = \"mouseenter\",\n        MOUSELEAVE = \"mouseleave\",\n        CONTENTLOAD = \"contentLoad\",\n        UNDEFINED = \"undefined\",\n        ACTIVECLASS = \"k-active\",\n        GROUPS = \"> .k-panel\",\n        CONTENTS = \"> .k-content\",\n        STRING = \"string\",\n        FOCUSEDCLASS = \"k-focus\",\n        DISABLEDCLASS = \"k-disabled\",\n        SELECTEDCLASS = \"k-selected\",\n        SELECTEDSELECTOR = \".\" + SELECTEDCLASS,\n        HIGHLIGHTCLASS = \"k-highlight\",\n        ACTIVEITEMSELECTOR = ITEM + \":not(.k-disabled)\",\n        clickableItems = \"> \" + ACTIVEITEMSELECTOR + \" > \" + LINKSELECTOR + \", .k-panel > \" + ACTIVEITEMSELECTOR + \" > \" + LINKSELECTOR,\n        disabledItems = ITEM + \".k-disabled > .k-link\",\n        selectableItems = \"> li > \" + SELECTEDSELECTOR + \", .k-panel > li > \" + SELECTEDSELECTOR,\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_EXPANDED = \"aria-expanded\",\n        ARIA_HIDDEN = \"aria-hidden\",\n        ARIA_SELECTED = \"aria-selected\",\n        VISIBLE = \":visible\",\n        EMPTY = \":empty\",\n        SINGLE = \"single\",\n        bindings = {\n            text: \"dataTextField\",\n            url: \"dataUrlField\",\n            spriteCssClass: \"dataSpriteCssClassField\",\n            imageUrl: \"dataImageUrlField\"\n        },\n        itemIcon,\n        rendering = {\n        aria: function(item) {\n            var attr = \"\";\n\n            if (item.items || item.content || item.contentUrl || item.expanded) {\n                attr += ARIA_EXPANDED + \"='\" + (item.expanded ? \"true\" : \"false\") + \"' \";\n            }\n\n            if (item.enabled === false) {\n                attr += ARIA_DISABLED + \"='true'\";\n            }\n\n            return attr;\n        },\n\n    wrapperCssClass: function(group, item) {\n        var result = \"k-item\",\n            index = item.index;\n\n        result += group.firstLevel ? \" k-panelbar-header\" : \" k-panelbar-item\";\n\n        if (item.enabled === false) {\n            result += \" \" + DISABLEDCLASS;\n        } else if (item.expanded === true) {\n            result += \" \" + ACTIVECLASS;\n        }\n\n        if (index === 0) {\n            result += \" k-first\";\n        }\n\n        if (index == group.length - 1) {\n            result += \" k-last\";\n        }\n\n        if (item.cssClass) {\n            result += \" \" + item.cssClass;\n        }\n\n        if (item.level) {\n            result += \" k-level-\" + item.level();\n        }\n\n        return result;\n    },\n\n    textClass: function(item) {\n        var result = LINK;\n\n        if (item.selected) {\n            result += \" \" + SELECTEDCLASS;\n        }\n\n        return result;\n    },\n    textAttributes: function(url) {\n        return url ? \" href='\" + url + \"'\" : \"\";\n    },\n    arrowClass: function(item) {\n        var result = \"k-icon\";\n\n        result += item.expanded ? \" k-panelbar-toggle k-panelbar-collapse k-i-arrow-chevron-up\" : \" k-panelbar-toggle k-panelbar-expand k-i-arrow-chevron-down\";\n\n        return result;\n    },\n    text: function(item) {\n         return item.encoded === false ? item.text : kendo.htmlEncode(item.text);\n    },\n    groupAttributes: function(group) {\n        return group.expanded !== true ? \" style='display:none'\" : \"\";\n    },\n    ariaHidden: function(group) {\n        return group.expanded !== true;\n    },\n    groupCssClass: function() {\n        return \"k-panelbar-group k-group k-panel\";\n    },\n    contentAttributes: function(content) {\n        return content.item.expanded !== true ? \" style='display:none'\" : \"\";\n    },\n    content: function(item) {\n        return item.content ? item.content : item.contentUrl ? \"\" : \"&nbsp;\";\n    },\n    contentUrl: function(item) {\n        return item.contentUrl ? 'href=\"' + item.contentUrl + '\"' : \"\";\n    }\n};\n\n    function updateFirstLast(items) {\n        items = $(items);\n\n        items.filter(\".k-first:not(:first-child)\").removeClass(FIRST);\n        items.filter(\".k-last:not(:last-child)\").removeClass(LAST);\n        items.filter(\":first-child\").addClass(FIRST);\n        items.filter(\":last-child\").addClass(LAST);\n    }\n\n    function updateLevel(item) {\n        item = $(item);\n\n        item.addClass(\"k-level-\" + item.parentsUntil(\".k-panelbar\", \"ul\").length);\n    }\n\n     function updateItemHtml(item) {\n        var wrapper = item,\n            group = item.children(\"ul\"),\n            toggleButton = wrapper.children(\".k-link\").children(\".k-icon\");\n\n        if (item.hasClass(\"k-panelbar\")) {\n            return;\n        }\n\n        if (!toggleButton.length && group.length) {\n            toggleButton = $(\"<span class='k-icon' />\").appendTo(wrapper);\n        } else if (!group.length || !group.children().length) {\n            toggleButton.remove();\n            group.remove();\n        }\n     }\n\n    itemIcon = function(item) {\n        return item.children(\"span\").children(\".k-icon\");\n    };\n\n    var PanelBar = kendo.ui.DataBoundWidget.extend({\n        init: function(element, options) {\n            var that = this,\n                content,\n                hasDataSource;\n\n           if (isArray(options)) {\n                options = { dataSource: options };\n           }\n\n            hasDataSource = options && !!options.dataSource;\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.wrapper = that.element.addClass(\"k-panelbar\");\n            options = that.options;\n\n            if (element[0].id) {\n                that._itemId = element[0].id + \"_pb_active\";\n            }\n\n            that._tabindex();\n\n            that._accessors();\n\n            that._dataSource();\n\n            that._templates();\n\n            that._initData(hasDataSource);\n\n            that._updateClasses();\n\n            that._animations(options);\n\n            element\n                .on(CLICK + NS, clickableItems, that._click.bind(that))\n                .on(MOUSEENTER + NS + \" \" + MOUSELEAVE + NS, clickableItems, that._toggleHover)\n                .on(CLICK + NS, disabledItems, false)\n                .on(CLICK + NS, \".k-request-retry\", that._retryRequest.bind(that))\n                .on(\"keydown\" + NS, that._keydown.bind(that))\n                .on(\"focus\" + NS, function() {\n                    var item = that.select();\n                    that._current(item[0] ? item : that._first());\n                })\n                .on(\"blur\" + NS, function() {\n                    that._current(null);\n                })\n                .attr(\"role\", \"tree\");\n\n            content = element.find(\"li.\" + ACTIVECLASS + \" > .\" + CONTENT);\n\n            if (content[0]) {\n                that.expand(content.parent(), false);\n            }\n\n            if (!options.dataSource) {\n                that._angularCompile();\n            }\n\n            kendo.notify(that);\n        },\n\n        events: [\n            EXPAND,\n            COLLAPSE,\n            SELECT,\n            ACTIVATE,\n            CHANGE,\n            ERROR,\n            DATABOUND,\n            CONTENTLOAD\n        ],\n        options: {\n            name: \"PanelBar\",\n            dataSource: {},\n            animation: {\n                expand: {\n                    effects: \"expand:vertical\",\n                    duration: 200\n                },\n                collapse: { // if collapse animation effects are defined, they will be used instead of expand.reverse\n                    duration: 200\n                }\n            },\n            messages: {\n                loading: \"Loading...\",\n                requestFailed: \"Request failed.\",\n                retry: \"Retry\"\n            },\n            autoBind: true,\n            loadOnDemand: true,\n            expandMode: \"multiple\",\n            template: \"\",\n            dataTextField: null\n        },\n\n        _angularCompile: function() {\n            var that = this;\n            that.angular(\"compile\", function() {\n                return {\n                    elements: that.element.children(\"li\"),\n                    data: [{ dataItem: that.options.$angular }]\n                };\n            });\n        },\n\n        _angularCompileElements: function(html, items) {\n            var that = this;\n            that.angular(\"compile\", function() {\n                return {\n                    elements: html,\n                    data: $.map(items, function(item) {\n                        return [{ dataItem: item }];\n                    })\n                };\n            });\n        },\n\n        _angularCleanup: function() {\n            var that = this;\n\n            that.angular(\"cleanup\", function() {\n                return { elements: that.element.children(\"li\") };\n            });\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            this.element.off(NS);\n\n            this._angularCleanup();\n\n            kendo.destroy(this.element);\n        },\n\n        _initData: function(hasDataSource) {\n            var that = this;\n\n            if (hasDataSource) {\n                that.element.empty();\n                 if (that.options.autoBind) {\n                    that._progress(true);\n\n                    that.dataSource.fetch();\n                 }\n            }\n        },\n\n        _templates: function() {\n            var that = this,\n                options = that.options,\n                fieldAccessor = that._fieldAccessor.bind(that);\n\n              if (options.template && typeof options.template == STRING) {\n                    options.template = template(options.template);\n              } else if (!options.template) {\n                     options.template = template(\n                        \"# var text = \" + fieldAccessor(\"text\") + \"(data.item); #\" +\n                        \"# if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {#\" +\n                            \"<span class='k-panelbar-item-text'>#= text #</span>\" +\n                        \"# } else { #\" +\n                            \"<span class='k-panelbar-item-text'>#: text #</span>\" +\n                        \"# } #\"\n                    );\n                }\n\n            that.templates = {\n                content: template(\n                    \"<div class='k-panelbar-content k-content'#= contentAttributes(data) #>#= content(item) #</div>\"\n                ),\n                group: template(\n                    \"<ul role='group' aria-hidden='#= ariaHidden(group) #' class='#= groupCssClass(group) #'#= groupAttributes(group) #>\" +\n                        \"#= renderItems(data) #\" +\n                    \"</ul>\"\n                ),\n                itemWrapper: template(\n                     \"# var url = \" + fieldAccessor(\"url\") + \"(item); #\" +\n                     \"# var imageUrl = \" + fieldAccessor(\"imageUrl\") + \"(item); #\" +\n                     \"# var spriteCssClass = \" + fieldAccessor(\"spriteCssClass\") + \"(item); #\" +\n                     \"# var contentUrl = contentUrl(item); #\" +\n                     \"# var tag = url||contentUrl ? 'a' : 'span'; #\" +\n\n                    \"<#= tag # class='#= textClass(item) #' #= contentUrl ##= textAttributes(url) #>\" +\n                        \"# if (imageUrl) { #\" +\n                              \"<img class='k-panelbar-item-icon k-image' alt='' src='#= imageUrl #' />\" +\n                        \"# } #\" +\n\n                        \"# if (spriteCssClass) { #\" +\n                            \"<span class='k-sprite #= spriteCssClass #'></span>\" +\n                        \"# } #\" +\n                      \"#= data.panelBar.options.template(data) #\" +\n                      \"#= arrow(data) #\" +\n                    \"</#= tag #>\"\n                ),\n\n                item: template(\n                    \"<li role='treeitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'\" +\n                         kendo.attr(\"uid\") + \"='#= item.uid #'>\" +\n                        \"#= itemWrapper(data) #\" +\n                        \"# if (item.items && item.items.length > 0) { #\" +\n                        \"#= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) #\" +\n                        \"# } else if (item.content || item.contentUrl) { #\" +\n                        \"#= renderContent(data) #\" +\n                        \"# } #\" +\n                    \"</li>\"\n                ),\n                loading: template(\"<li class='k-item'><span class='k-icon k-i-loading'></span> #: data.messages.loading #</li>\"),\n                retry: template(\n                    \"<li class='k-item'>\" +\n                        \"#: data.messages.requestFailed # \" +\n                        \"<button class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-request-retry'><span class='k-button-text'>#: data.messages.retry #</span></button>\" +\n                    \"</li>\"\n                ),\n                arrow: template(\"<span class='#= arrowClass(item) #'></span>\"),\n                empty: template(\"\")\n            };\n        },\n\n        setOptions: function(options) {\n            var animation = this.options.animation;\n\n            this._animations(options);\n\n            options.animation = extend(true, animation, options.animation);\n\n            if (\"dataSource\" in options) {\n                this.setDataSource(options.dataSource);\n            }\n\n            Widget.fn.setOptions.call(this, options);\n        },\n\n        expand: function(element, useAnimation) {\n            var that = this,\n                animBackup = {};\n\n            element = this.element.find(element);\n\n            if (that._animating && element.find(\"ul\").is(\":visible\")) {\n                that.one(\"complete\", function() {\n                    setTimeout(function() {\n                        that.expand(element);\n                    });\n                });\n                return;\n            }\n            that._animating = true;\n\n            useAnimation = useAnimation !== false;\n\n            element.each(function(index, item) {\n                item = $(item);\n                var wrapper = element.children(\".k-group,.k-content\");\n\n                if (!wrapper.length) {\n                    wrapper = that._addGroupElement(element);\n                }\n\n                 var groups = wrapper.add(item.find(CONTENTS));\n\n                if (!item.hasClass(DISABLEDCLASS) && groups.length > 0) {\n\n                    if (that.options.expandMode == SINGLE && that._collapseAllExpanded(item)) {\n                        return that;\n                    }\n\n                    element.find(\".\" + HIGHLIGHTCLASS).removeClass(HIGHLIGHTCLASS);\n                    item.addClass(HIGHLIGHTCLASS);\n\n                    if (!useAnimation) {\n                        animBackup = that.options.animation;\n                        that.options.animation = { expand: { effects: {} }, collapse: { hide: true, effects: {} } };\n                    }\n\n                    if (!that._triggerEvent(EXPAND, item)) {\n                        that._toggleItem(item, false, false);\n                    }\n\n                    if (!useAnimation) {\n                        that.options.animation = animBackup;\n                    }\n                }\n            });\n\n            return that;\n        },\n\n        collapse: function(element, useAnimation) {\n            var that = this,\n                animBackup = {};\n\n            that._animating = true;\n\n            useAnimation = useAnimation !== false;\n            element = that.element.find(element);\n\n            element.each(function(index, item) {\n                item = $(item);\n                var groups = item.find(GROUPS).add(item.find(CONTENTS));\n\n                if (!item.hasClass(DISABLEDCLASS) && groups.is(VISIBLE)) {\n                    item.removeClass(HIGHLIGHTCLASS);\n\n                    if (!useAnimation) {\n                        animBackup = that.options.animation;\n                        that.options.animation = { expand: { effects: {} }, collapse: { hide: true, effects: {} } };\n                    }\n\n                    if (!that._triggerEvent(COLLAPSE, item)) {\n                        that._toggleItem(item, true);\n                    }\n\n                    if (!useAnimation) {\n                        that.options.animation = animBackup;\n                    }\n                }\n\n            });\n            return that;\n        },\n\n         updateArrow: function(items) {\n                var that = this;\n\n                items = $(items);\n                items.children(LINKSELECTOR).children(\".k-panelbar-collapse, .k-panelbar-expand\").remove();\n\n                items\n                    .filter(function() {\n                        var dataItem = that.dataItem(this);\n\n                        if (!dataItem) {\n                            return $(this).find(\".k-panel\").length > 0 ||\n                                $(this).find(\".k-content\").length > 0;\n                        }\n\n                        return dataItem.hasChildren || dataItem.content || dataItem.contentUrl;\n                    })\n                    .children(\".k-link:not(:has([class*=k-i-arrow]))\")\n                    .each(function() {\n                        var item = $(this),\n                            parent = item.parent();\n\n                        item.append(\"<span class='k-icon \" + (parent.hasClass(ACTIVECLASS) ? \" k-panelbar-toggle k-panelbar-collapse k-i-arrow-chevron-up\" : \" k-panelbar-toggle k-panelbar-expand k-i-arrow-chevron-down\") + \"'/>\");\n                    });\n         },\n\n        _accessors: function() {\n            var that = this,\n                options = that.options,\n                i, field, textField,\n                element = that.element;\n\n            for (i in bindings) {\n                field = options[bindings[i]];\n                textField = element.attr(kendo.attr(i + \"-field\"));\n\n                if (!field && textField) {\n                    field = textField;\n                }\n\n                if (!field) {\n                    field = i;\n                }\n\n                if (!isArray(field)) {\n                    field = [field];\n                }\n\n                options[bindings[i]] = field;\n            }\n        },\n\n        _progress: function(item, showProgress) {\n            var element = this.element;\n            var loadingText = this.templates.loading({ messages: this.options.messages });\n\n            if (arguments.length == 1) {\n                showProgress = item;\n\n                if (showProgress) {\n                    element.html(loadingText);\n                } else {\n                    element.empty();\n                }\n            }\n            else {\n                itemIcon(item).toggleClass(\"k-i-loading\", showProgress).removeClass(\"k-i-refresh\");\n            }\n        },\n\n        _refreshRoot: function(items) {\n            var that = this;\n            var parent = that.element;\n            var groupData = {\n                firstLevel: true,\n                expanded: true,\n                length: parent.children().length\n            };\n\n            this.element.empty();\n\n            var rootItemsHtml = $.map(items, function(value, idx) {\n                    if (typeof value === \"string\") {\n                        return $(value);\n                    } else {\n                        value.items = [];\n                        return $(that.renderItem({\n                            group: groupData,\n                            item: extend(value, { index: idx })\n                        }));\n                    }\n            });\n\n            this.element.append(rootItemsHtml);\n            var elements = this.element.children(\".k-item\");\n            for (var i = 0; i < items.length; i++) {\n                this.trigger(\"itemChange\", {\n                    item: elements.eq(i).find(\".k-link\").first(),\n                    data: items[i],\n                    ns: ui\n                });\n            }\n            this._angularCompileElements(rootItemsHtml, items);\n        },\n\n        _refreshChildren: function(item, parentNode) {\n            var i, children, child;\n\n            parentNode.children(\".k-group\").empty();\n            var items = item.children.data();\n            if (!items.length) {\n                updateItemHtml(parentNode);\n                children = parentNode.children(\".k-group\").children(\"li\");\n                this._angularCompileElements(children, items);\n            } else {\n                this.append(item.children, parentNode);\n\n                if (this.options.loadOnDemand) {\n                    this._toggleGroup(parentNode.children(\".k-group\"), false);\n                }\n                children = parentNode.children(\".k-group\").children(\"li\");\n\n                for (i = 0; i < children.length; i++) {\n                    child = children.eq(i);\n                    this.trigger(\"itemChange\", {\n                        item: child.find(\".k-link\").first(),\n                        data: this.dataItem(child),\n                        ns: ui\n                    });\n                }\n            }\n        },\n\n        findByUid: function(uid) {\n            var items = this.element.find(\".k-item\");\n            var uidAttr = kendo.attr(\"uid\");\n            var result;\n\n            for (var i = 0; i < items.length; i++) {\n                if (items[i].getAttribute(uidAttr) == uid) {\n                    result = items[i];\n                    break;\n                }\n            }\n\n            return $(result);\n        },\n\n        refresh: function(e) {\n            var options = this.options;\n            var node = e.node;\n            var action = e.action;\n            var items = e.items;\n            var parentNode = this.wrapper;\n            var loadOnDemand = options.loadOnDemand;\n\n            if (e.field) {\n                if (!items[0] || !items[0].level) {\n                    return;\n                }\n\n                return this._updateItems(items, e.field);\n            }\n\n            if (node) {\n                parentNode = this.findByUid(node.uid);\n                this._progress(parentNode, false);\n            }\n            if (action == \"add\") {\n                this._appendItems(e.index, items, parentNode);\n            } else if (action == \"remove\") {\n                this.remove(this.findByUid(items[0].uid));\n            } else if (action == \"itemchange\") {\n                this._updateItems(items);\n            } else if (action == \"itemloaded\") {\n                this._refreshChildren(node, parentNode);\n            } else {\n                this._refreshRoot(items);\n            }\n\n            if (action != \"remove\") {\n                for (var k = 0; k < items.length; k++) {\n\n                    if (!loadOnDemand || items[k].expanded) {\n                        var tempItem = items[k];\n                        if (this._hasChildItems(tempItem)) {\n                                tempItem.load();\n                        }\n                    }\n                }\n            }\n\n            this.trigger(DATABOUND, { node: node ? parentNode : undefined });\n        },\n\n        _error: function(e) {\n            var node = e.node && this.findByUid(e.node.uid);\n            var retryHtml = this.templates.retry({ messages: this.options.messages });\n\n            if (node) {\n                this._progress(node, false);\n                this._expanded(node, false);\n                itemIcon(node).addClass(\"k-i-refresh\");\n                e.node.loaded(false);\n            } else {\n                this._progress(false);\n                this.element.html(retryHtml);\n            }\n        },\n\n        _retryRequest: function(e) {\n            e.preventDefault();\n\n            this.dataSource.fetch();\n        },\n\n         items: function() {\n            return this.element.find(\".k-item > span:first-child\");\n        },\n\n        setDataSource: function(dataSource) {\n            var options = this.options;\n\n            options.dataSource = dataSource;\n\n            this._dataSource();\n\n            if (this.options.autoBind) {\n                this._progress(true);\n                this.dataSource.fetch();\n            }\n        },\n\n        _bindDataSource: function() {\n            this._refreshHandler = this.refresh.bind(this);\n            this._errorHandler = this._error.bind(this);\n\n            this.dataSource.bind(CHANGE, this._refreshHandler);\n            this.dataSource.bind(ERROR, this._errorHandler);\n        },\n\n        _unbindDataSource: function() {\n            var dataSource = this.dataSource;\n\n            if (dataSource) {\n                dataSource.unbind(CHANGE, this._refreshHandler);\n                dataSource.unbind(ERROR, this._errorHandler);\n            }\n        },\n\n        // generates accessor function for a given field name, honoring the data*Field arrays\n        _fieldAccessor: function(fieldName) {\n            var fieldBindings = this.options[bindings[fieldName]] || [],\n                count = fieldBindings.length,\n                result = \"(function(item) {\";\n\n            if (count === 0) {\n                result += \"return item['\" + fieldName + \"'];\";\n            } else {\n                result += \"var levels = [\" +\n                            $.map(fieldBindings, function(x) {\n                                return \"function(d){ return \" + kendo.expr(x) + \"}\";\n                            }).join(\",\") + \"];\";\n                result += \"if(item.level){return levels[Math.min(item.level(), \" + count + \"-1)](item);}else\";\n                result += \"{return levels[\" + count + \"-1](item)}\";\n            }\n\n            result += \"})\";\n\n            return result;\n        },\n\n        _dataSource: function() {\n            var that = this,\n                options = that.options,\n                dataSource = options.dataSource;\n\n            if (!dataSource) {\n                return;\n            }\n\n            dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n\n            that._unbindDataSource();\n\n            if (!dataSource.fields) {\n                dataSource.fields = [\n                    { field: \"text\" },\n                    { field: \"url\" },\n                    { field: \"spriteCssClass\" },\n                    { field: \"imageUrl\" }\n                ];\n            }\n\n            that.dataSource = HierarchicalDataSource.create(dataSource);\n\n            that._bindDataSource();\n        },\n\n        _appendItems: function(index, items, parentNode) {\n            var that = this, children, wrapper;\n\n              if (parentNode.hasClass(\"k-panelbar\")) {\n                  children = parentNode.children(\"li\");\n                  wrapper = parentNode;\n              } else {\n                  wrapper = parentNode.children(\".k-group\");\n                  if (!wrapper.length) {\n                      wrapper = that._addGroupElement(parentNode);\n                  }\n\n                  children = wrapper.children(\"li\");\n              }\n\n             var groupData = {\n                firstLevel: parentNode.hasClass(\"k-panelbar\"),\n                expanded: true,\n                length: children.length\n             };\n\n             var itemsHtml = $.map(items, function(value, idx) {\n                    if (typeof value === \"string\") {\n                        return $(value);\n                    } else {\n                        return $(that.renderItem({\n                            group: groupData,\n                            item: extend(value, { index: idx })\n                        }));\n                    }\n            });\n\n              if (typeof index == UNDEFINED) {\n                   index = children.length;\n              }\n\n              for (var i = 0; i < itemsHtml.length; i++) {\n                  if (children.length === 0 || index === 0) {\n                      wrapper.append(itemsHtml[i]);\n                  } else {\n                       itemsHtml[i].insertAfter(children[index - 1]);\n                  }\n               }\n\n            that._angularCompileElements(itemsHtml, items);\n              if (that.dataItem(parentNode)) {\n                  that.dataItem(parentNode).hasChildren = true;\n                  that.updateArrow(parentNode);\n              }\n        },\n\n        _updateItems: function(items, field) {\n            var that = this;\n            var i, node, nodeWrapper, item;\n            var context = { panelBar: that.options, item: item, group: {} };\n            var render = field != \"expanded\";\n\n            if (field == \"selected\") {\n                if (items[0][field]) {\n                    var currentNode = that.findByUid(items[0].uid);\n\n                    if (!currentNode.hasClass(DISABLEDCLASS)) {\n                        that.select(currentNode, true);\n                    }\n                } else {\n                    that.clearSelection();\n                }\n            } else {\n                var elements = $.map(items, function(item) {\n                    return that.findByUid(item.uid);\n                });\n\n                if (render) {\n                    that.angular(\"cleanup\", function() { return { elements: elements }; });\n                }\n\n                for (i = 0; i < items.length; i++) {\n                    context.item = item = items[i];\n                    context.panelBar = that;\n                    nodeWrapper = elements[i];\n                    node = nodeWrapper.parent();\n                    if (render) {\n                        context.group = {\n                            firstLevel: node.hasClass(\"k-panelbar\"),\n                            expanded: nodeWrapper.parent().hasClass(ACTIVECLASS),\n                            length: nodeWrapper.children().length\n                        };\n\n                        nodeWrapper.children(\".k-link\").remove();\n                        nodeWrapper.prepend(that.templates.itemWrapper(extend(context,\n                            {\n                                arrow: item.hasChildren || item.content || item.contentUrl ? that.templates.arrow : that.templates.empty\n                            },\n                            rendering)));\n                    }\n\n                    if (field == \"expanded\") {\n                        that._toggleItem(nodeWrapper, !item[field], item[field] ? \"true\" : true);\n                    } else if (field == \"enabled\") {\n                        that.enable(nodeWrapper, item[field]);\n                         if (!item[field]) {\n                            if (item.selected) {\n                                item.set(\"selected\", false);\n                            }\n                         }\n                    }\n\n                    if (nodeWrapper.length) {\n                        this.trigger(\"itemChange\", { item: nodeWrapper.find(\".k-link\").first(), data: item, ns: ui });\n                    }\n                }\n\n                if (render) {\n                    that.angular(\"compile\", function() {\n                        return {\n                            elements: elements,\n                            data: $.map(items, function(item) {\n                                return [{ dataItem: item }];\n                            })\n                        };\n                    });\n                }\n            }\n        },\n\n        _toggleDisabled: function(element, enable) {\n            element = this.element.find(element);\n            element\n                .toggleClass(DISABLEDCLASS, !enable)\n                .attr(ARIA_DISABLED, !enable);\n        },\n\n       dataItem: function(item) {\n            var uid = $(item).closest(ITEM).attr(kendo.attr(\"uid\")),\n                dataSource = this.dataSource;\n\n            return dataSource && dataSource.getByUid(uid);\n       },\n\n       select: function(element, skipChange) {\n           var that = this;\n\n            if (element === undefined) {\n                return that.element.find(selectableItems).parent();\n            }\n\n            element = that.element.find(element);\n\n            if (!element.length) {\n                this._updateSelected(element);\n            } else {\n                element\n                    .each(function() {\n                        var item = $(this),\n                            link = item.children(LINKSELECTOR);\n\n                        if (item.hasClass(DISABLEDCLASS)) {\n                            return that;\n                        }\n\n                        that._updateSelected(link, skipChange);\n                    });\n            }\n\n            return that;\n        },\n\n        clearSelection: function() {\n            this.select($());\n        },\n\n        enable: function(element, state) {\n            this._toggleDisabled(element, state !== false);\n\n            return this;\n        },\n\n        disable: function(element) {\n            this._toggleDisabled(element, false);\n\n            return this;\n        },\n\n        append: function(item, referenceItem) {\n            referenceItem = this.element.find(referenceItem);\n\n            var inserted = this._insert(item, referenceItem, referenceItem.length ? referenceItem.find(GROUPS) : null);\n\n            each(inserted.items, function() {\n                inserted.group.append(this);\n                updateFirstLast(this);\n                updateLevel(this);\n            });\n\n            this.updateArrow(referenceItem);\n            updateFirstLast(inserted.group.find(\".k-first, .k-last\"));\n            inserted.group.height(\"auto\");\n\n            return this;\n        },\n\n        insertBefore: function(item, referenceItem) {\n            referenceItem = this.element.find(referenceItem);\n\n            var inserted = this._insert(item, referenceItem, referenceItem.parent());\n\n            each(inserted.items, function() {\n                referenceItem.before(this);\n                updateFirstLast(this);\n                updateLevel(this);\n            });\n\n            updateFirstLast(referenceItem);\n            inserted.group.height(\"auto\");\n\n            return this;\n        },\n\n        insertAfter: function(item, referenceItem) {\n            referenceItem = this.element.find(referenceItem);\n\n            var inserted = this._insert(item, referenceItem, referenceItem.parent());\n\n            each(inserted.items, function() {\n                referenceItem.after(this);\n                updateFirstLast(this);\n                updateLevel(this);\n            });\n\n            updateFirstLast(referenceItem);\n            inserted.group.height(\"auto\");\n\n            return this;\n        },\n\n        remove: function(element) {\n            element = this.element.find(element);\n\n            var that = this,\n                parent = element.parentsUntil(that.element, ITEM),\n                group = element.parent(\"ul\");\n\n            element.remove();\n\n            if (group && !group.hasClass(\"k-panelbar\") && !group.children(ITEM).length) {\n                group.remove();\n            }\n\n            if (parent.length) {\n                parent = parent.eq(0);\n\n                that.updateArrow(parent);\n                updateFirstLast(parent);\n            }\n\n            return that;\n        },\n\n        reload: function(element) {\n            var that = this;\n            element = that.element.find(element);\n\n            element.each(function() {\n                var item = $(this);\n\n                that._ajaxRequest(item, item.children(\".\" + CONTENT), !item.is(VISIBLE));\n            });\n        },\n\n        _first: function() {\n            return this.element.children(ACTIVEITEMSELECTOR).first();\n        },\n\n        _last: function() {\n            var item = this.element.children(ACTIVEITEMSELECTOR).last(),\n                group = item.children(VISIBLEGROUP);\n\n            if (group[0]) {\n                return group.children(ACTIVEITEMSELECTOR).last();\n            }\n            return item;\n        },\n\n        _current: function(candidate) {\n            var that = this,\n                focused = that._focused,\n                id = that._itemId;\n\n            if (candidate === undefined) {\n                return focused;\n            }\n\n            that.element.removeAttr(\"aria-activedescendant\");\n\n            if (focused && focused.length) {\n                if (focused[0].id === id) {\n                    focused.removeAttr(\"id\");\n                }\n\n                focused\n                    .children(LINKSELECTOR)\n                    .removeClass(FOCUSEDCLASS);\n            }\n\n            if ($(candidate).length) {\n                id = candidate[0].id || id;\n\n                candidate.attr(\"id\", id)\n                         .children(LINKSELECTOR)\n                         .addClass(FOCUSEDCLASS);\n\n                that.element.attr(\"aria-activedescendant\", id);\n            }\n\n            that._focused = candidate;\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode,\n                current = that._current();\n\n            if (e.target != e.currentTarget) {\n                return;\n            }\n\n            if (key == keys.DOWN || key == keys.RIGHT) {\n                that._current(that._nextItem(current));\n                e.preventDefault();\n            } else if (key == keys.UP || key == keys.LEFT) {\n                that._current(that._prevItem(current));\n                e.preventDefault();\n            } else if (key == keys.ENTER || key == keys.SPACEBAR) {\n                that._click(e);\n                e.preventDefault();\n            } else if (key == keys.HOME) {\n                that._current(that._first());\n                e.preventDefault();\n            } else if (key == keys.END) {\n                that._current(that._last());\n                e.preventDefault();\n            }\n        },\n\n        _nextItem: function(item) {\n            if (!item) {\n                return this._first();\n            }\n\n            var group = item.children(VISIBLEGROUP),\n                next = item.nextAll(\":visible\").first();\n\n            if (group[0]) {\n                next = group.children(\".\" + FIRST);\n            }\n\n            if (!next[0]) {\n                next = item.parent(VISIBLEGROUP).parent(ITEM).next();\n            }\n\n            if (!next[0]) {\n                next = this._first();\n            }\n\n            return next;\n        },\n\n        _prevItem: function(item) {\n            if (!item) {\n                return this._last();\n            }\n\n            var prev = item.prevAll(\":visible\").first(),\n                result;\n\n            if (!prev[0]) {\n                prev = item.parent(VISIBLEGROUP).parent(ITEM);\n                if (!prev[0]) {\n                    prev = this._last();\n                }\n            } else {\n                result = prev;\n                while (result[0]) {\n                    result = result.children(VISIBLEGROUP).children(\".\" + LAST);\n                    if (result[0]) {\n                        prev = result;\n                    }\n                }\n            }\n\n            return prev;\n        },\n\n        _insert: function(item, referenceItem, parent) {\n            var that = this,\n                items,\n                plain = $.isPlainObject(item),\n                isReferenceItem = referenceItem && referenceItem[0],\n                groupData;\n\n            if (!isReferenceItem) {\n                parent = that.element;\n            }\n\n            groupData = {\n                firstLevel: parent.hasClass(\"k-panelbar\"),\n                expanded: $(referenceItem).hasClass(ACTIVECLASS),\n                length: parent.children().length\n            };\n\n            if (isReferenceItem && !parent.length) {\n                parent = $(that.renderGroup({ group: groupData, options: that.options })).appendTo(referenceItem);\n            }\n\n            if (plain || Array.isArray(item) || item instanceof HierarchicalDataSource) { // is JSON or HierarchicalDataSource\n                if (item instanceof HierarchicalDataSource) {\n                   item = item.data();\n                }\n\n                items = $.map(plain ? [item] : item, function(value, idx) {\n                    if (typeof value === \"string\") {\n                        return $(value);\n                    } else {\n                        return $(that.renderItem({\n                            group: groupData,\n                            item: extend(value, { index: idx })\n                        }));\n                    }\n                });\n                if (isReferenceItem) {\n                    var dataItem = that.dataItem(referenceItem);\n\n                    if (dataItem) {\n                        dataItem.hasChildren = true;\n                        referenceItem\n                            .attr(ARIA_EXPANDED, dataItem.expanded)\n                            .not(\".\" + ACTIVECLASS)\n                            .children(\"ul\")\n                            .attr(ARIA_HIDDEN, !dataItem.expanded);\n                    } else {\n                        referenceItem.attr(ARIA_EXPANDED, false);\n                    }\n                }\n            } else {\n                if (typeof item == \"string\" && item.charAt(0) != \"<\") {\n                    items = that.element.find(item);\n                } else {\n                    items = $(item);\n                }\n                that._updateItemsClasses(items);\n            }\n\n            if (!item.length) {\n                item = [item];\n            }\n\n            that._angularCompileElements(items, item);\n            return { items: items, group: parent };\n        },\n\n        _toggleHover: function(e) {\n            var target = $(e.currentTarget);\n\n            if (!target.parents(\"li.\" + DISABLEDCLASS).length) {\n                target.toggleClass(\"k-hover\", e.type == MOUSEENTER);\n            }\n        },\n\n        _updateClasses: function() {\n            var that = this,\n                panels, items, expanded, panelsParent, dataItem;\n\n            panels = that.element\n                         .find(\"li > ul\")\n                         .not(function() { return $(this).parentsUntil(\".k-panelbar\", \"div\").length; })\n                         .addClass(\"k-panelbar-group k-group k-panel\")\n                         .attr(\"role\", \"group\");\n\n            panelsParent = panels.parent();\n            dataItem = that.dataItem(panelsParent);\n            expanded = (dataItem && dataItem.expanded) || false;\n\n            panels.parent()\n                  .not(\"[\" + ARIA_EXPANDED + \"]\")\n                  .attr(ARIA_EXPANDED, expanded)\n                  .not(\".\" + ACTIVECLASS)\n                  .children(\"ul\")\n                  .attr(ARIA_HIDDEN, !expanded)\n                  .hide();\n\n            items = that.element.add(panels).children();\n\n            that._updateItemsClasses(items);\n            that.updateArrow(items);\n            updateFirstLast(items);\n        },\n\n        _updateItemsClasses: function(items) {\n            var length = items.length,\n                idx = 0;\n\n            for (; idx < length; idx++) {\n                this._updateItemClasses(items[idx], idx);\n            }\n        },\n\n        _updateItemClasses: function(item, index) {\n            var selected = this._selected,\n                contentUrls = this.options.contentUrls,\n                url = contentUrls && contentUrls[index],\n                root = this.element[0],\n                wrapElement, link;\n\n            item = $(item).addClass(\"k-item\").attr(\"role\", \"treeitem\");\n\n            if (kendo.support.browser.msie) { // IE10 doesn't apply list-style: none on invisible items otherwise.\n                item.css(\"list-style-position\", \"inside\")\n                    .css(\"list-style-position\", \"\");\n            }\n\n            item\n                .children(IMG)\n                .addClass(IMAGE);\n\n            link = item\n                    .children(\"a\")\n                    .addClass(LINK);\n\n            if (link[0]) {\n                link.attr(\"href\", url); //url can be undefined\n\n                link.children(IMG)\n                    .addClass(IMAGE);\n            }\n\n            item\n                .filter(\"li[disabled]\")\n                .addClass(\"k-disabled\")\n                .attr(ARIA_DISABLED, true)\n                .prop(\"disabled\", false);\n\n            item\n                .children(\"div\")\n                .addClass(CONTENT + \" k-panelbar-content\")\n                .attr(ARIA_HIDDEN, true)\n                .hide()\n                .parent()\n                .attr(ARIA_EXPANDED, false);\n\n            link = item.children(SELECTEDSELECTOR);\n            if (link[0]) {\n                if (selected) {\n                    selected.removeAttr(ARIA_SELECTED)\n                            .children(SELECTEDSELECTOR)\n                            .removeClass(SELECTEDCLASS);\n                }\n\n                link.addClass(SELECTEDCLASS);\n                this._selected = item.attr(ARIA_SELECTED, true);\n            }\n\n            if (!item.children(LINKSELECTOR)[0]) {\n                wrapElement = \"<span class='\" + LINK + \"'><span class='k-panelbar-item-text'></span></span>\";\n                if (contentUrls && contentUrls[index] && item[0].parentNode == root) {\n                    wrapElement = '<a class=\"k-link\" href=\"' + contentUrls[index] + '\"></a>';\n                }\n\n                item\n                    .contents() // exclude groups, real links, templates and empty text nodes\n                    .filter(function() { return (!this.nodeName.match(excludedNodesRegExp) && !(this.nodeType == 3 && !kendo.trim(this.nodeValue.trim))); })\n                    .wrapAll(wrapElement);\n            }\n\n\n            if (item.parent(\".k-panelbar\")[0]) {\n                item.addClass(\"k-panelbar-header\");\n            } else {\n                item.addClass(\"k-panelbar-item\");\n            }\n\n            if (!/k\\-level\\-\\d+/i.test(item.attr(\"class\"))) {\n                item.addClass(\"k-level-\" + item.parentsUntil(this.element, \"ul\").length);\n            }\n        },\n\n        _click: function(e) {\n            var that = this,\n                target = e.type == CLICK ? $(e.target) : that._current().children(LINKSELECTOR),\n                element = that.element,\n                prevent, contents, href, isAnchor;\n\n            if (target.parents(\"li.\" + DISABLEDCLASS).length) {\n                return;\n            }\n\n            if (target.closest(\".k-panelbar\")[0] != element[0]) {\n                return;\n            }\n\n            if (target.is(\":kendoFocusable\") && !target.hasClass(LINK)) {\n                return;\n            }\n\n            var link = target.closest(LINKSELECTOR),\n                item = link.closest(ITEM);\n\n            that._updateSelected(link);\n\n            var wrapper = item.children(\".k-group,.k-content\");\n            var dataItem = this.dataItem(item);\n\n            if (!wrapper.length && ((that.options.loadOnDemand && dataItem && dataItem.hasChildren) ||\n             this._hasChildItems(item) || item.content || item.contentUrl)) {\n                wrapper = that._addGroupElement(item);\n            }\n\n            contents = item.find(GROUPS).add(item.find(CONTENTS));\n            href = link.attr(HREF);\n            isAnchor = href && (href.charAt(href.length - 1) == \"#\" || href.indexOf(\"#\" + that.element[0].id + \"-\") != -1);\n            prevent = !!(isAnchor || contents.length);\n\n            if (contents.data(\"animating\") && prevent) {\n                e.preventDefault();\n                return;\n            }\n\n            if (that._triggerEvent(SELECT, item)) {\n                prevent = true;\n            }\n\n            if (prevent === false) {\n                return;\n            }\n\n            if (that.options.expandMode == SINGLE) {\n                if (that._collapseAllExpanded(item) && prevent) {\n                    e.preventDefault();\n                    return;\n                }\n            }\n\n            if (contents.length) {\n                var visibility = contents.is(VISIBLE);\n\n                if (!that._triggerEvent(!visibility ? EXPAND : COLLAPSE, item)) {\n                    prevent = that._toggleItem(item, visibility);\n                }\n            }\n\n            if (prevent) {\n                e.preventDefault();\n            }\n        },\n        _hasChildItems: function(item) {\n            return (item.items && item.items.length > 0) || item.hasChildren;\n        },\n\n        _toggleItem: function(element, isVisible, expanded) {\n            var that = this,\n                childGroup = element.find(GROUPS),\n                link = element.find(LINKSELECTOR),\n                url = link.attr(HREF),\n                prevent, content,\n                dataItem = that.dataItem(element),\n                notVisible = !isVisible;\n\n            var loaded = dataItem && dataItem.loaded();\n\n            if (dataItem && !expanded && dataItem.expanded !== notVisible) {\n                dataItem.set(\"expanded\", notVisible);\n                prevent = dataItem.hasChildren || !!dataItem.content || !!dataItem.contentUrl;\n                return prevent;\n            }\n\n            if (dataItem && (!expanded || expanded === \"true\") && !loaded && !dataItem.content && !dataItem.contentUrl) {\n                 if (that.options.loadOnDemand) {\n                     this._progress(element, true);\n                 }\n\n                 element.children(\".k-group,.k-content\").remove();\n                 prevent = dataItem.hasChildren;\n\n                 dataItem.load();\n             } else {\n                   if (childGroup.length) {\n                        this._toggleGroup(childGroup, isVisible);\n                        prevent = true;\n                   } else {\n                        content = element.children(\".\" + CONTENT);\n\n                        if (content.length) {\n                            prevent = true;\n\n                            if (!content.is(EMPTY) || url === undefined) {\n                                that._toggleGroup(content, isVisible);\n                            } else {\n                                that._ajaxRequest(element, content, isVisible);\n                            }\n                        }\n                    }\n             }\n\n            return prevent;\n        },\n\n        _toggleGroup: function(element, visibility) {\n            var that = this,\n                animationSettings = that.options.animation,\n                animation = animationSettings.expand,\n                hasCollapseAnimation = animationSettings.collapse && \"effects\" in animationSettings.collapse,\n                collapse = extend({}, animationSettings.expand, animationSettings.collapse);\n\n            if (!hasCollapseAnimation) {\n                collapse = extend(collapse, { reverse: true });\n            }\n\n            if (element.is(VISIBLE) != visibility) {\n                that._animating = false;\n                return;\n            }\n\n            element.attr(ARIA_HIDDEN, !!visibility);\n\n            element.parent()\n                .attr(ARIA_EXPANDED, !visibility)\n                .toggleClass(ACTIVECLASS, !visibility)\n                .find(\"> .k-link > .k-panelbar-collapse,> .k-link > .k-panelbar-expand\")\n                    .toggleClass(\"k-i-arrow-chevron-up\", !visibility)\n                    .toggleClass(\"k-panelbar-collapse\", !visibility)\n                    .toggleClass(\"k-i-arrow-chevron-down\", visibility)\n                    .toggleClass(\"k-panelbar-expand\", visibility);\n            if (visibility) {\n                animation = extend(collapse, { hide: true });\n\n                animation.complete = function() {\n                    that._animationCallback();\n                };\n            } else {\n                animation = extend( { complete: function(element) {\n                        that._triggerEvent(ACTIVATE, element.closest(ITEM));\n                        that._animationCallback();\n                    } }, animation );\n            }\n\n            element\n                .toggle(0)\n                .kendoStop(true, true)\n                .kendoAnimate( animation );\n        },\n\n        _animationCallback: function() {\n            var that = this;\n            that.trigger(\"complete\");\n            that._animating = false;\n        },\n\n        _addGroupElement: function(element) {\n            var group = $('<ul role=\"group\" aria-hidden=\"true\" class=\"k-panelbar-group k-group k-panel\" style=\"display:none\"></ul>');\n\n            element.append(group);\n            return group;\n        },\n\n        _collapseAllExpanded: function(item) {\n            var that = this, children, stopExpand = false;\n\n            var groups = item.find(GROUPS).add(item.find(CONTENTS));\n\n            if (groups.is(VISIBLE)) {\n                stopExpand = true;\n            }\n\n            if (!(groups.is(VISIBLE) || groups.length === 0)) {\n                children = item.siblings();\n                children.find(GROUPS).add(children.find(CONTENTS))\n                        .filter(function() { return $(this).is(VISIBLE); })\n                        .each(function(index, content) {\n                            content = $(content);\n\n                            stopExpand = that._triggerEvent(COLLAPSE, content.closest(ITEM));\n                            if (!stopExpand) {\n                                that._toggleGroup(content, true);\n                            }\n                        });\n\n                 that.one(\"complete\", function() {\n                    setTimeout(function() {\n                        children.each(function(index, child) {\n                            var dataItem = that.dataItem(child);\n\n                            if (dataItem) {\n                                dataItem.set(\"expanded\", false);\n                            }\n                        });\n                    });\n                });\n            }\n\n            return stopExpand;\n        },\n\n        _ajaxRequest: function(element, contentElement, isVisible) {\n\n            var that = this,\n                statusIcon = element.find(\".k-panelbar-collapse, .k-panelbar-expand\"),\n                link = element.find(LINKSELECTOR),\n                loadingIconTimeout = setTimeout(function() {\n                    statusIcon.addClass(\"k-i-loading\");\n                }, 100),\n                data = {},\n                url = link.attr(HREF);\n\n            $.ajax({\n                type: \"GET\",\n                cache: false,\n                url: url,\n                dataType: \"html\",\n                data: data,\n\n                error: function(xhr, status) {\n                    statusIcon.removeClass(\"k-i-loading\");\n                    if (that.trigger(ERROR, { xhr: xhr, status: status })) {\n                        this.complete();\n                    }\n                },\n\n                complete: function() {\n                    clearTimeout(loadingIconTimeout);\n                    statusIcon.removeClass(\"k-i-loading\");\n                },\n\n                success: function(data) {\n                    function getElements() {\n                        return { elements: contentElement.get() };\n                    }\n                    try {\n                        that.angular(\"cleanup\", getElements);\n                        contentElement.html(data);\n                        that.angular(\"compile\", getElements);\n                    } catch (e) {\n                        var console = window.console;\n\n                        if (console && console.error) {\n                            console.error(e.name + \": \" + e.message + \" in \" + url);\n                        }\n                        this.error(this.xhr, \"error\");\n                    }\n\n                    that._toggleGroup(contentElement, isVisible);\n\n                    that.trigger(CONTENTLOAD, { item: element[0], contentElement: contentElement[0] });\n                }\n            });\n        },\n\n        _triggerEvent: function(eventName, element) {\n            var that = this;\n\n            return that.trigger(eventName, { item: element[0] });\n        },\n\n        _updateSelected: function(link, skipChange) {\n            var that = this,\n                element = that.element,\n                item = link.parent(ITEM),\n                selected = that._selected,\n                dataItem = that.dataItem(item);\n\n            if (selected) {\n                selected.removeAttr(ARIA_SELECTED);\n            }\n\n            that._selected = item.attr(ARIA_SELECTED, true);\n\n            element.find(selectableItems).removeClass(SELECTEDCLASS);\n            element.find(\"> .\" + HIGHLIGHTCLASS + \", .k-panel > .\" + HIGHLIGHTCLASS).removeClass(HIGHLIGHTCLASS);\n\n            link.addClass(SELECTEDCLASS);\n            link.parentsUntil(element, ITEM).filter(\":has(.k-link)\").addClass(HIGHLIGHTCLASS);\n            that._current(item[0] ? item : null);\n            if (dataItem) {\n                 dataItem.set(\"selected\", true);\n            }\n\n            if (!skipChange) {\n                that.trigger(CHANGE);\n            }\n        },\n\n        _animations: function(options) {\n            if (options && (\"animation\" in options) && !options.animation) {\n                options.animation = { expand: { effects: {} }, collapse: { hide: true, effects: {} } };\n            }\n        },\n\n        renderItem: function(options) {\n            var that = this;\n                options = extend({ panelBar: that, group: {} }, options);\n\n            var empty = that.templates.empty,\n                item = options.item;\n\n            return that.templates.item(extend(options, {\n                itemWrapper: that.templates.itemWrapper,\n                renderContent: that.renderContent,\n                arrow: that._hasChildItems(item) || item.content || item.contentUrl ? that.templates.arrow : empty,\n                subGroup: !options.loadOnDemand || item.expanded ? that.renderGroup : empty\n            }, rendering));\n        },\n\n        renderGroup: function(options) {\n            var that = this;\n            var templates = that.templates || options.panelBar.templates;\n\n            return templates.group(extend({\n                renderItems: function(options) {\n                    var html = \"\",\n                        i = 0,\n                        items = options.items,\n                        len = items ? items.length : 0,\n                        group = extend({ length: len }, options.group);\n\n                    for (; i < len; i++) {\n                        html += options.panelBar.renderItem(extend(options, {\n                            group: group,\n                            item: extend({ index: i }, items[i])\n                        }));\n                    }\n\n                    return html;\n                }\n            }, options, rendering));\n        },\n\n        renderContent: function(options) {\n            return options.panelBar.templates.content(extend(options, rendering));\n        }\n    });\n\nkendo.ui.plugin(PanelBar);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.progressbar',[ \"kendo.core\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"progressbar\",\n    name: \"ProgressBar\",\n    category: \"web\",\n    description: \"The ProgressBar offers rich functionality for displaying and tracking progress\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        HORIZONTAL = \"horizontal\",\n        VERTICAL = \"vertical\",\n        DEFAULTMIN = 0,\n        DEFAULTMAX = 100,\n        DEFAULTVALUE = 0,\n        DEFAULTCHUNKCOUNT = 5,\n        KPROGRESSBAR = \"k-progressbar\",\n        KPROGRESSBARREVERSE = \"k-progressbar-reverse\",\n        KPROGRESSBARINDETERMINATE = \"k-progressbar-indeterminate\",\n        KPROGRESSBARCOMPLETE = \"k-complete\",\n        KPROGRESSWRAPPER = \"k-selected\",\n        KPROGRESSSTATUS = \"k-progress-status\",\n        LABEL_POSITION_END = \"k-progress-end\",\n        KCOMPLETEDCHUNK = \"k-selected\",\n        STATEDISABLED = \"k-disabled\",\n        PROGRESSTYPE = {\n            VALUE: \"value\",\n            PERCENT: \"percent\",\n            CHUNK: \"chunk\"\n        },\n        CHANGE = \"change\",\n        COMPLETE = \"complete\",\n        BOOLEAN = \"boolean\",\n        math = Math,\n        extend = $.extend,\n        HUNDREDPERCENT = 100,\n        DEFAULTANIMATIONDURATION = 400,\n        PRECISION = 3,\n        templates = {\n            progressStatus: \"<span class='k-progress-status-wrap \" + LABEL_POSITION_END + \"'><span class='k-progress-status'></span></span>\",\n            announceElement: '<span aria-live=\"polite\" class=\"k-sr-only k-progress-announce\"></span>'\n        };\n\n    var ProgressBar = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(this, element, options);\n\n            options = that.options;\n\n            that._progressProperty = (options.orientation === HORIZONTAL) ? \"width\" : \"height\";\n\n            that._fields();\n\n            options.value = that._validateValue(options.value);\n\n            that._validateType(options.type);\n\n            that._wrapper();\n\n            if (options.ariaRole) {\n                that._aria();\n            }\n\n            that._progressAnimation();\n\n            if ((options.value !== options.min) && (options.value !== false)) {\n               that._updateProgress();\n            }\n        },\n\n        setOptions: function(options) {\n            var that = this,\n                wrapper = that.wrapper;\n\n            Widget.fn.setOptions.call(that, options);\n\n            if (options.hasOwnProperty(\"reverse\")) {\n                wrapper.toggleClass(\"k-progressbar-reverse\", options.reverse);\n            }\n\n            if (options.hasOwnProperty(\"enable\")) {\n                that.enable(options.enable);\n            }\n\n            if (options.ariaRole) {\n                that._aria();\n            }\n\n            that._progressAnimation();\n\n            that._validateValue();\n\n            that._updateProgress();\n        },\n\n        events: [\n            CHANGE,\n            COMPLETE\n        ],\n\n        options: {\n            name: \"ProgressBar\",\n            orientation: HORIZONTAL,\n            reverse: false,\n            min: DEFAULTMIN,\n            max: DEFAULTMAX,\n            value: DEFAULTVALUE,\n            enable: true,\n            type: PROGRESSTYPE.VALUE,\n            chunkCount: DEFAULTCHUNKCOUNT,\n            showStatus: true,\n            animation: { },\n            label: null,\n            labelId: null,\n            ariaRole: false\n        },\n\n        _aria: function() {\n            var that = this,\n                options = that.options,\n                wrapper = that.wrapper;\n\n            wrapper.attr({\n                \"role\": \"progressbar\",\n                \"aria-valuemin\": options.min,\n                \"aria-valuemax\": options.max\n            });\n\n            if (!!options.labelId) {\n                wrapper.attr(\"aria-labelledby\", options.labelId);\n            } else if (!!options.label) {\n                wrapper.attr(\"aria-label\", options.label);\n            }\n\n            that.announce = $(templates.announceElement);\n            that.announce.appendTo($(\"body\"));\n\n            if (options.value !== false) {\n                wrapper.attr(\"aria-valuenow\", options.value);\n\n                that.announce.text(that._calculatePercentage().toFixed() + \"%\");\n            }\n        },\n\n        _fields: function() {\n            var that = this;\n\n            that._isStarted = false;\n\n            that.progressWrapper = that.progressStatus = $();\n        },\n\n        _validateType: function(currentType) {\n            var isValid = false;\n\n            $.each(PROGRESSTYPE, function(k, type) {\n                if (type === currentType) {\n                    isValid = true;\n                    return false;\n                }\n            });\n\n            if (!isValid) {\n                throw new Error(kendo.format(\"Invalid ProgressBar type '{0}'\", currentType));\n            }\n        },\n\n        _wrapper: function() {\n            var that = this;\n            var container = that.wrapper = that.element;\n            var options = that.options;\n            var orientation = options.orientation;\n            var initialValue = (options.value !== false) ? options.value : options.min;\n\n            container.addClass(\"k-widget \" + KPROGRESSBAR);\n\n            container.addClass(KPROGRESSBAR + \"-\" + ((orientation === HORIZONTAL) ? HORIZONTAL : VERTICAL));\n\n            if (options.enable === false) {\n                container.addClass(STATEDISABLED);\n            }\n\n            if (options.reverse) {\n                container.addClass(KPROGRESSBARREVERSE);\n            }\n\n            if (options.value === false) {\n                container.addClass(KPROGRESSBARINDETERMINATE);\n            }\n\n            if (options.type === PROGRESSTYPE.CHUNK) {\n                that._addChunkProgressWrapper();\n            } else {\n                if (options.showStatus) {\n                    that.progressStatus = that.wrapper.prepend(templates.progressStatus)\n                                              .find(\".\" + KPROGRESSSTATUS);\n\n                    if (options.type === PROGRESSTYPE.VALUE) {\n                        that.progressStatus.text(initialValue);\n                    } else {\n                        that.progressStatus.text(that._calculatePercentage(initialValue).toFixed() + \"%\");\n                    }\n                }\n            }\n        },\n\n        value: function(value) {\n            return this._value(value);\n        },\n\n        _value: function(value) {\n            var that = this;\n            var options = that.options;\n            var validated;\n\n            if (value === undefined) {\n                return options.value;\n            } else {\n                if (typeof value !== BOOLEAN) {\n                    value = that._roundValue(value);\n\n                    if (!isNaN(value)) {\n                        validated = that._validateValue(value);\n\n                        if (validated !== options.value) {\n                            that.wrapper.removeClass(KPROGRESSBARINDETERMINATE);\n\n                            options.value = validated;\n\n                            that._isStarted = true;\n\n                            that._updateProgress();\n                        }\n                    }\n                } else if (!value) {\n                    that.wrapper.addClass(KPROGRESSBARINDETERMINATE);\n                    that.wrapper.removeAttr(\"aria-valuenow\");\n                    options.value = false;\n\n                    if (that.announce) {\n                        that.announce.text(\"\");\n                    }\n                }\n            }\n        },\n\n        _roundValue: function(value) {\n             value = parseFloat(value);\n\n             var power = math.pow(10, PRECISION);\n\n             return kendo._round(value * power) / power;\n        },\n\n        _validateValue: function(value) {\n            var that = this;\n            var options = that.options;\n\n            if (value !== false) {\n                if (value <= options.min || value === true) {\n                    return options.min;\n                } else if (value >= options.max) {\n                    return options.max;\n                }\n            } else if (value === false) {\n                return false;\n            }\n\n            if (isNaN(that._roundValue(value))) {\n                return options.min;\n            }\n\n            return value;\n        },\n\n        _updateProgress: function() {\n            var that = this;\n            var options = that.options;\n            var percentage = that._calculatePercentage();\n\n            if (options.type === PROGRESSTYPE.CHUNK) {\n                that._updateChunks(percentage);\n                that._onProgressUpdateAlways(options.value);\n            } else {\n                that._updateProgressWrapper(percentage);\n            }\n\n            if (options.ariaRole) {\n                that.wrapper.attr(\"aria-valuenow\", that.options.value);\n\n                if (that.announce) {\n                    that.announce.text(percentage.toFixed() + \"%\");\n                }\n            }\n        },\n\n        _updateChunks: function(percentage) {\n            var that = this;\n            var options = that.options;\n            var chunkCount = options.chunkCount;\n            var percentagesPerChunk = parseInt((HUNDREDPERCENT / chunkCount) * 100, 10) / 100;\n            var percentageParsed = parseInt(percentage * 100, 10) / 100;\n            var completedChunksCount = math.floor(percentageParsed / percentagesPerChunk);\n            var completedChunks;\n\n            if ((options.orientation === HORIZONTAL && !(options.reverse)) ||\n               (options.orientation === VERTICAL && options.reverse)) {\n                completedChunks = that.wrapper.find(\"li.k-item\").slice(0, completedChunksCount);\n            } else if (completedChunksCount === 0) {\n                completedChunks = kendo.jQuery();\n            } else {\n                completedChunks = that.wrapper.find(\"li.k-item\").slice(completedChunksCount * -1);\n            }\n\n            that.wrapper.find(\".\" + KCOMPLETEDCHUNK)\n                        .removeClass(KCOMPLETEDCHUNK);\n\n            completedChunks.addClass(KCOMPLETEDCHUNK);\n        },\n\n        _updateProgressWrapper: function(percentage) {\n            var that = this;\n            var options = that.options;\n            var progressWrapper = that.wrapper.find(\".\" + KPROGRESSWRAPPER);\n            var animationDuration = that._isStarted ? that._animation.duration : 0;\n            var animationCssOptions = { };\n\n            if (progressWrapper.length === 0) {\n                that._addRegularProgressWrapper();\n            }\n\n            animationCssOptions[that._progressProperty] = percentage + \"%\";\n            that.progressWrapper.animate(animationCssOptions, {\n                duration: animationDuration,\n                start: that._onProgressAnimateStart.bind(that),\n                progress: that._onProgressAnimate.bind(that),\n                complete: that._onProgressAnimateComplete.bind(that, options.value),\n                always: that._onProgressUpdateAlways.bind(that, options.value)\n            });\n        },\n\n        _onProgressAnimateStart: function() {\n            this.progressWrapper.show();\n        },\n\n        _onProgressAnimate: function(e) {\n            var that = this;\n            var options = that.options;\n            var progressInPercent = parseFloat(e.elem.style[that._progressProperty], 10);\n            var progressStatusWrapSize;\n\n            if (options.showStatus) {\n                progressStatusWrapSize = 10000 / parseFloat(that.progressWrapper[0].style[that._progressProperty]);\n\n                that.progressWrapper.find(\".k-progress-status-wrap\").css(that._progressProperty, progressStatusWrapSize + \"%\");\n            }\n\n            if (options.type !== PROGRESSTYPE.CHUNK && progressInPercent <= 98) {\n                that.progressWrapper.removeClass(KPROGRESSBARCOMPLETE);\n            }\n        },\n\n        _onProgressAnimateComplete: function(currentValue) {\n            var that = this;\n            var options = that.options;\n            var progressWrapperSize = parseFloat(that.progressWrapper[0].style[that._progressProperty]);\n            var progressValue;\n\n            if (options.type !== PROGRESSTYPE.CHUNK && progressWrapperSize > 98) {\n                that.progressWrapper.addClass(KPROGRESSBARCOMPLETE);\n            }\n\n            if (options.showStatus) {\n                if (options.type === PROGRESSTYPE.VALUE) {\n                    progressValue = currentValue;\n                } else if (options.type == PROGRESSTYPE.PERCENT) {\n                    progressValue = that._calculatePercentage(currentValue).toFixed() + \"%\";\n                } else {\n                    progressValue = math.floor(that._calculatePercentage(currentValue)) + \"%\";\n                }\n                that.progressStatus.text(progressValue);\n            }\n\n            if (currentValue === options.min) {\n                that.progressWrapper.hide();\n            }\n        },\n\n        _onProgressUpdateAlways: function(currentValue) {\n            var that = this;\n            var options = that.options;\n\n            if (that._isStarted) {\n                that.trigger(CHANGE, { value: currentValue });\n            }\n\n            if (currentValue === options.max && that._isStarted) {\n                that.trigger(COMPLETE, { value: options.max });\n            }\n        },\n\n        enable: function(enable) {\n            var that = this;\n            var options = that.options;\n\n            options.enable = typeof(enable) === \"undefined\" ? true : enable;\n            that.wrapper.toggleClass(STATEDISABLED, !options.enable);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that.announce) {\n                that.announce.remove();\n            }\n\n            Widget.fn.destroy.call(that);\n        },\n\n        _addChunkProgressWrapper: function() {\n            var that = this;\n            var options = that.options;\n            var container = that.wrapper;\n            var chunkSize = HUNDREDPERCENT / options.chunkCount;\n            var html = \"\";\n\n            if (options.chunkCount <= 1) {\n                options.chunkCount = 1;\n            }\n\n            html += \"<ul class='k-reset'>\";\n            for (var i = options.chunkCount - 1; i >= 0; i--) {\n                html += \"<li class='k-item'></li>\";\n            }\n            html += \"</ul>\";\n\n            container.append(html).find(\".k-item\").css(that._progressProperty, chunkSize + \"%\")\n                     .first().addClass(\"k-first\")\n                     .end()\n                     .last().addClass(\"k-last\");\n\n            that._normalizeChunkSize();\n        },\n\n        _normalizeChunkSize: function() {\n            var that = this;\n            var options = that.options;\n            var lastChunk = that.wrapper.find(\".k-item\").last();\n            var currentSize = parseFloat(lastChunk[0].style[that._progressProperty]);\n            var difference = HUNDREDPERCENT - (options.chunkCount * currentSize);\n\n            if (difference > 0) {\n                lastChunk.css(that._progressProperty, (currentSize + difference) + \"%\");\n            }\n        },\n\n        _addRegularProgressWrapper: function() {\n            var that = this;\n\n            that.progressWrapper = $(\"<div class='\" + KPROGRESSWRAPPER + \"'></div>\").appendTo(that.wrapper);\n\n            if (that.options.showStatus) {\n                that.progressWrapper.append(templates.progressStatus);\n\n                that.progressStatus = that.wrapper.find(\".\" + KPROGRESSSTATUS);\n            }\n        },\n\n        _calculateChunkSize: function() {\n            var that = this;\n            var chunkCount = that.options.chunkCount;\n            var chunkContainer = that.wrapper.find(\"ul.k-reset\");\n\n            return (parseInt(chunkContainer.css(that._progressProperty), 10) - (chunkCount - 1)) / chunkCount;\n        },\n\n        _calculatePercentage: function(currentValue) {\n            var that = this;\n            var options = that.options;\n            var value = (currentValue !== undefined) ? currentValue : options.value;\n            var min = options.min;\n            var max = options.max;\n            that._onePercent = math.abs((max - min) / 100);\n\n            return math.abs((value - min) / that._onePercent);\n        },\n\n        _progressAnimation: function() {\n            var that = this;\n            var options = that.options;\n            var animation = options.animation;\n\n            if (animation === false) {\n                that._animation = { duration: 0 };\n            } else {\n                that._animation = extend({\n                    duration: DEFAULTANIMATIONDURATION\n                }, options.animation);\n            }\n        }\n    });\n\n    kendo.ui.plugin(ProgressBar);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.responsivepanel',[ \"kendo.core\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"responsive-panel\",\n    name: \"Responsive Panel\",\n    category: \"web\",\n    description: \"The Responsive Panel widget allows a panel of content to be hidden on mobile devices, available through a toggle button.\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined) {\n    var NS = \".kendoResponsivePanel\";\n    var OPEN = \"open\";\n    var CLOSE = \"close\";\n    var ACTIVATE_EVENTS = \"click\" + NS + \" touchstart\" + NS + \" touchend\" + NS;\n    var Widget = kendo.ui.Widget;\n    var ResponsivePanel = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n\n            this._guid = \"_\" + kendo.guid();\n\n            this._toggleHandler = this._toggleButtonClick.bind(this);\n            this._closeHandler = this._close.bind(this);\n\n            $(document.documentElement).on(ACTIVATE_EVENTS, this.options.toggleButton, this._toggleHandler);\n\n            this._registerBreakpoint();\n\n            if (this.options.content) {\n                kendo.destroy(this.element.children());\n                this.element.html(this.options.content);\n            }\n\n            this.element\n                .addClass(\"k-rpanel k-rpanel-\" + this.options.orientation + \" \" + this._guid);\n\n            this._resizeHandler = this.resize.bind(this, true);\n            $(window).on(\"resize\" + NS, this._resizeHandler);\n        },\n        _mediaQuery:\n            \"@media (max-width: #= breakpoint-1 #px) {\" +\n                \".#= guid #.k-rpanel-animate.k-rpanel-left,\" +\n                \".#= guid #.k-rpanel-animate.k-rpanel-right {\" +\n                    \"-webkit-transition: -webkit-transform .2s ease-out;\" +\n                    \"-ms-transition: -ms-transform .2s ease-out;\" +\n                    \"transition: transform .2s ease-out;\" +\n                \"} \" +\n                \".#= guid #.k-rpanel-top {\" +\n                    \"overflow: hidden;\" +\n                \"}\" +\n                \".#= guid #.k-rpanel-animate.k-rpanel-top {\" +\n                    \"-webkit-transition: max-height .2s linear;\" +\n                    \"-ms-transition: max-height .2s linear;\" +\n                    \"transition: max-height .2s linear;\" +\n                \"}\" +\n            \"} \" +\n            \"@media (min-width: #= breakpoint #px) {\" +\n                \"#= toggleButton # { display: none; } \" +\n                \".#= guid #.k-rpanel-left { float: left; } \" +\n                \".#= guid #.k-rpanel-right { float: right; } \" +\n                \".#= guid #.k-rpanel-left, .#= guid #.k-rpanel-right {\" +\n                    \"position: relative;\" +\n                    \"-webkit-transform: translateX(0);\" +\n                    \"-ms-transform: translateX(0);\" +\n                    \"transform: translateX(0);\" +\n                    \"-webkit-transform: translateX(0) translateZ(0);\" +\n                    \"-ms-transform: translateX(0) translateZ(0);\" +\n                    \"transform: translateX(0) translateZ(0);\" +\n                \"} \" +\n                \".k-ie9 .#= guid #.k-rpanel-left { left: 0; } \" +\n                \".#= guid #.k-rpanel-top { max-height: none; }\" +\n            \"}\",\n        _registerBreakpoint: function() {\n            var options = this.options;\n\n            this._registerStyle(kendo.template(this._mediaQuery)({\n                breakpoint: options.breakpoint,\n                toggleButton: options.toggleButton,\n                guid: this._guid\n            }));\n        },\n        _registerStyle: function(cssText) {\n            var head = $(\"head,body\")[0];\n            var style = document.createElement('style');\n\n            head.appendChild(style);\n\n            if (style.styleSheet) {\n                style.styleSheet.cssText = cssText;\n            } else {\n                style.appendChild(document.createTextNode(cssText));\n            }\n        },\n        options: {\n            name: \"ResponsivePanel\",\n            content: \"\",\n            orientation: \"left\",\n            toggleButton: \".k-rpanel-toggle\",\n            breakpoint: 640,\n            autoClose: true\n        },\n        events: [\n            OPEN,\n            CLOSE\n        ],\n        _resize: function() {\n            this.element.removeClass(\"k-rpanel-animate k-rpanel-expanded\");\n\n            $(document.documentElement).off(ACTIVATE_EVENTS, this._closeHandler);\n        },\n        _toggleButtonClick: function(e) {\n            e.preventDefault();\n\n            if (e.type == \"touchend\") {\n                return;\n            }\n\n            if (this.element.hasClass(\"k-rpanel-expanded\")) {\n                this.close();\n            } else {\n                this.open();\n            }\n        },\n        open: function() {\n            if (!this.trigger(OPEN)) {\n                this.element.addClass(\"k-rpanel-animate k-rpanel-expanded\");\n\n                if (this.options.autoClose) {\n                    $(document.documentElement).on(ACTIVATE_EVENTS, this._closeHandler);\n                }\n            }\n        },\n        close: function() {\n            if (!this.trigger(CLOSE)) {\n                this.element.addClass(\"k-rpanel-animate\").removeClass(\"k-rpanel-expanded\");\n\n                $(document.documentElement).off(ACTIVATE_EVENTS, this._closeHandler);\n            }\n        },\n        _close: function(e) {\n            var prevented = e.isDefaultPrevented();\n            var container = $(e.target).closest(this.options.toggleButton + \",.k-rpanel\");\n\n            if (!container.length && !prevented) {\n                this.close();\n            }\n        },\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            $(window).off(\"resize\" + NS, this._resizeHandler);\n            $(document.documentElement).off(ACTIVATE_EVENTS, this._closeHandler);\n        }\n    });\n\n    kendo.ui.plugin(ResponsivePanel);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.tabstrip',[ \"kendo.data\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"tabstrip\",\n    name: \"TabStrip\",\n    category: \"web\",\n    description: \"The TabStrip widget displays a collection of tabs with associated tab content.\",\n    depends: [ \"data\" ],\n    features: [ {\n        id: \"tabstrip-fx\",\n        name: \"Animation\",\n        description: \"Support for animation\",\n        depends: [ \"fx\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        keys = kendo.keys,\n        map = $.map,\n        each = $.each,\n        trim = kendo.trim,\n        extend = $.extend,\n        isFunction = kendo.isFunction,\n        template = kendo.template,\n        outerWidth = kendo._outerWidth,\n        outerHeight = kendo._outerHeight,\n        Widget = ui.Widget,\n        excludedNodesRegExp = /^(a|div)$/i,\n        NS = \".kendoTabStrip\",\n        IMG = \"img\",\n        HREF = \"href\",\n        PREV = \"prev\",\n        NEXT = \"next\",\n        SHOW = \"show\",\n        LINK = \"k-link\",\n        LAST = \"k-last\",\n        CLICK = \"click\",\n        ERROR = \"error\",\n        EMPTY = \":empty\",\n        IMAGE = \"k-image\",\n        FIRST = \"k-first\",\n        SELECT = \"select\",\n        ACTIVATE = \"activate\",\n        CONTENT = \"k-tabstrip-content k-content\",\n        CONTENTURL = \"contentUrl\",\n        MOUSEENTER = \"mouseenter\",\n        MOUSELEAVE = \"mouseleave\",\n        CONTENTLOAD = \"contentLoad\",\n        DISABLEDSTATE = \"k-disabled\",\n        ACTIVESTATE = \"k-active\",\n        FOCUSEDSTATE = \"k-focus\",\n        HOVERSTATE = \"k-hover\",\n        TABONTOP = \"k-tab-on-top\",\n        NAVIGATABLEITEMS = \".k-item:not(.\" + DISABLEDSTATE + \")\",\n        KEYBOARDNAVIGATABLEITEMS = \".k-item\",\n        HOVERABLEITEMS = \".k-tabstrip-items > \" + NAVIGATABLEITEMS + \":not(.\" + ACTIVESTATE + \")\",\n        DEFAULTDISTANCE = 200,\n        ARIA_HIDDEN = \"aria-hidden\",\n        ARIA_CONTROLS = \"aria-controls\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_SELECTED = \"aria-selected\",\n        ARIA_ORIENTATION = \"aria-orientation\",\n        ARIA_LABELLEDBY = \"aria-labelledby\",\n\n        templates = {\n            content: template(\n                \"<div class='k-tabstrip-content k-content' #= contentAttributes(data) # tabindex='0'>#= content(item) #</div>\"\n            ),\n            itemWrapper: template(\n                \"<#= tag(item) # class='k-link' #= contentUrl(item) # #= textAttributes(item) #>\" +\n                    \"#= image(item) ##= sprite(item) ##= text(item) #\" +\n                \"</#= tag(item) #>\"\n            ),\n            item: template(\n                \"<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \\\"aria-selected='true'\\\" : ''#>\" +\n                    \"#= itemWrapper(data) #\" +\n                \"</li>\"\n            ),\n            image: template(\"<img class='k-image' alt='' src='#= imageUrl #' />\"),\n            sprite: template(\"<span class='k-sprite #= spriteCssClass #'></span>\"),\n            empty: template(\"\")\n        },\n\n        rendering = {\n            wrapperCssClass: function(group, item) {\n                var result = [\"k-tabstrip-item\", \"k-item\"],\n                    index = item.index;\n\n                if (item.enabled === false) {\n                    result.push(\"k-disabled\");\n                }\n\n                if (index === 0) {\n                    result.push(\"k-first\");\n                }\n\n                if (index == group.length - 1) {\n                    result.push(\"k-last\");\n                }\n\n                return result.join(\" \");\n            },\n            textAttributes: function(item) {\n                return item.url ? \" href='\" + item.url + \"'\" : \"\";\n            },\n            text: function(item) {\n                return item.encoded === false ? item.text : kendo.htmlEncode(item.text);\n            },\n            tag: function(item) {\n                return item.url ? \"a\" : \"span\";\n            },\n            contentAttributes: function(content) {\n                return content.active !== true ? \" style='display:none' aria-hidden='true'\" : \"\";\n            },\n            content: function(item) {\n                return item.content ? item.content : item.contentUrl ? \"\" : \"&nbsp;\";\n            },\n            contentUrl: function(item) {\n                return item.contentUrl ? kendo.attr(\"content-url\") + '=\"' + item.contentUrl + '\"' : \"\";\n            }\n        };\n\n    function updateTabClasses(tabs) {\n        tabs.children(IMG)\n            .addClass(IMAGE);\n\n        tabs.children(\"a\")\n            .addClass(LINK)\n            .children(IMG)\n            .addClass(IMAGE);\n\n        tabs.filter(\"li[disabled]\")\n            .addClass(DISABLEDSTATE)\n            .attr(ARIA_DISABLED, \"true\")\n            .prop(\"disabled\", false);\n\n        tabs.filter(\":not([class*=k-state])\")\n            .children(\"a\")\n            .filter(\":focus\")\n            .parent()\n            .addClass(ACTIVESTATE + \" \" + TABONTOP);\n\n        tabs.attr(\"role\", \"tab\");\n        tabs.filter(\".\" + ACTIVESTATE)\n            .attr(ARIA_SELECTED, true);\n\n\n        tabs.each(function() {\n            var item = $(this);\n\n            if (!item.children(\".\" + LINK).length) {\n                item\n                    .contents() // exclude groups, real links, templates and empty text nodes\n                    .filter(function() { return (!this.nodeName.match(excludedNodesRegExp) && !(this.nodeType == 3 && !trim(this.nodeValue))); })\n                    .wrapAll(\"<span UNSELECTABLE='on' class='\" + LINK + \"'/>\");\n            }\n        });\n\n    }\n\n    function updateFirstLast(tabGroup) {\n        var tabs = tabGroup.children(\".k-item\");\n\n        tabs.filter(\".k-first:not(:first-child)\").removeClass(FIRST);\n        tabs.filter(\".k-last:not(:last-child)\").removeClass(LAST);\n        tabs.filter(\":first-child\").addClass(FIRST);\n        tabs.filter(\":last-child\").addClass(LAST);\n    }\n\n    function scrollButtonHtml(buttonClass, iconClass) {\n        return \"<span class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-tabstrip-\" + buttonClass + \"' unselectable='on'><span class='k-button-icon k-icon \" + iconClass + \"'></span></span>\";\n    }\n\n    var TabStrip = Widget.extend({\n        init: function(element, options) {\n            var that = this, value;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._animations(that.options);\n\n            options = that.options;\n\n            that._contentUrls = options.contentUrls || [];\n\n            that._wrapper();\n\n            that._isRtl = kendo.support.isRtl(that.wrapper);\n\n            that._tabindex();\n            that._updateClasses();\n            that._dataSource();\n\n            that.tabGroup.attr(\"role\", \"tablist\");\n\n            if (options.dataSource) {\n                that.dataSource.fetch();\n            }\n\n            that._tabPosition();\n            that._scrollable();\n            that._processContentUrls();\n            that._attachEvents();\n\n            if (that.options.value) {\n                value = that.options.value;\n            }\n\n            that._initialActivate();\n            that.value(value);\n            kendo.notify(that);\n        },\n\n        events: [\n            SELECT,\n            ACTIVATE,\n            SHOW,\n            ERROR,\n            CONTENTLOAD,\n            \"change\",\n            \"dataBinding\",\n            \"dataBound\"\n        ],\n\n        options: {\n            name: \"TabStrip\",\n            dataEncodedField: \"\",\n            dataTextField: \"\",\n            dataContentField: \"\",\n            dataImageUrlField: \"\",\n            dataUrlField: \"\",\n            dataSpriteCssClass: \"\",\n            dataContentUrlField: \"\",\n            tabPosition: \"top\",\n            animation: {\n                open: {\n                    effects: \"expand:vertical fadeIn\",\n                    duration: 200\n                },\n                close: { // if close animation effects are defined, they will be used instead of open.reverse\n                    duration: 200\n                }\n            },\n            collapsible: false,\n            navigatable: true,\n            contentUrls: false,\n            scrollable: {\n                distance: DEFAULTDISTANCE\n            }\n        },\n\n        setDataSource: function(dataSource) {\n            var that = this;\n\n            that.options.dataSource = dataSource;\n            that._dataSource();\n            that.dataSource.fetch();\n        },\n\n        setOptions: function(options) {\n            var that = this,\n                animation = that.options.animation;\n\n            that._animations(options);\n\n            if (options.contentUrls) {\n                that._contentUrls = options.contentUrls;\n            }\n\n            options.animation = extend(true, animation, options.animation);\n\n            if (options.navigatable) {\n                that.wrapper.on(\"keydown\" + NS, that._keyDownProxy);\n            } else {\n                that.wrapper.off(\"keydown\" + NS, that._keyDownProxy);\n            }\n\n            Widget.fn.setOptions.call(that, options);\n        },\n\n        activateTab: function(item) {\n            if (this.tabGroup.children(\"[data-animating]\").length) { return; }\n\n            item = this.tabGroup.find(item);\n\n            var that = this,\n                animationSettings = that.options.animation,\n                animation = animationSettings.open,\n                close = extend({}, animationSettings.close),\n                hasCloseAnimation = close && \"effects\" in close,\n                neighbours = item.parent().children(),\n                oldTab = neighbours.filter(\".\" + ACTIVESTATE),\n                itemIndex = neighbours.index(item),\n                isAnimationEnabled = animation && \"duration\" in animation && \"effects\" in animation;\n\n            close = extend( hasCloseAnimation ? close : extend({ reverse: true }, animation), { hide: true });\n            // deactivate previously active tab\n            if (kendo.size(animation.effects)) {\n                oldTab.kendoRemoveClass(ACTIVESTATE, { duration: close.duration });\n                item.kendoRemoveClass(HOVERSTATE, { duration: close.duration });\n            } else {\n                oldTab.removeClass(ACTIVESTATE);\n                item.removeClass(HOVERSTATE);\n            }\n\n            // handle content elements\n            var contentAnimators = that.contentAnimators;\n\n            if (that.inRequest) {\n                that.xhr.abort();\n                that.inRequest = false;\n            }\n\n            if (contentAnimators.length === 0) {\n                that.tabGroup.find(\".\" + TABONTOP).removeClass(TABONTOP);\n                item.addClass(TABONTOP) // change these directly to bring the tab on top.\n                    .css(\"z-index\");\n\n                item.addClass(ACTIVESTATE);\n                that._current(item);\n\n                that.trigger(\"change\");\n\n                if (that._scrollableModeActive) {\n                    that._scrollTabsToItem(item);\n                }\n\n                return false;\n            }\n\n            var visibleContents = contentAnimators.filter(\".\" + ACTIVESTATE),\n                contentHolder = that.contentHolder(itemIndex),\n                contentElement = contentHolder.closest(\".k-content\");\n\n            that.tabsHeight = outerHeight(that.tabGroup) +\n                              parseInt(that.wrapper.css(\"border-top-width\"), 10) +\n                              parseInt(that.wrapper.css(\"border-bottom-width\"), 10);\n\n            if (contentHolder.length === 0) {\n                visibleContents\n                    .removeClass( ACTIVESTATE )\n                    .attr(ARIA_HIDDEN, true)\n                    .kendoStop(true, true)\n                    .kendoAnimate( close );\n                return false;\n            }\n\n            item.attr(\"data-animating\", true);\n\n            var isAjaxContent = (item.children(\".\" + LINK).data(CONTENTURL) || that._contentUrls[itemIndex] || false) && contentHolder.is(EMPTY),\n                showContentElement = function() {\n                    oldTab.removeAttr(ARIA_SELECTED);\n                    item.attr(ARIA_SELECTED, true);\n\n                    that._current(item);\n\n                    contentElement\n                        .addClass(ACTIVESTATE)\n                        .removeAttr(ARIA_HIDDEN)\n                        .kendoStop(true, true)\n                        .kendoAnimate( extend({ init: function() {\n                            that.trigger(SHOW, { item: item[0], contentElement: contentHolder[0] });\n                            kendo.resize(contentHolder);\n                        } }, animation, {\n                            complete: function() {\n                                item.removeAttr(\"data-animating\");\n\n                                that.trigger(ACTIVATE, { item: item[0], contentElement: contentHolder[0] });\n                                kendo.resize(contentHolder);\n\n                                // Force IE and Edge rendering to fix visual glitches telerik/kendo-ui-core#2777.\n                                if (isAnimationEnabled && (kendo.support.browser.msie || kendo.support.browser.edge)) {\n                                    contentHolder.finish().animate({\n                                        opacity: 0.9\n                                    },\"fast\", \"linear\", function() {\n                                        contentHolder.finish().animate({\n                                            opacity: 1\n                                        },\"fast\", \"linear\");\n                                    });\n                                }\n                            }\n                        } ) );\n                },\n                showContent = function() {\n                    if (!isAjaxContent) {\n                        showContentElement();\n                        that.trigger(\"change\");\n                    } else {\n                        item.removeAttr(\"data-animating\");\n                        that.ajaxRequest(item, contentHolder, function() {\n                            item.attr(\"data-animating\", true);\n                            showContentElement();\n                            that.trigger(\"change\");\n                        });\n                    }\n\n                    if (that._scrollableModeActive) {\n                        that._scrollTabsToItem(item);\n                    }\n\n                };\n\n            // See https://github.com/telerik/kendo-ui-core/issues/6660\n            var oldMinHeight = that.element.css('min-height');\n            that.element.css('min-height', that.element.outerHeight());\n\n            visibleContents\n                    .removeClass(ACTIVESTATE);\n\n            that.tabGroup.find(\".\" + TABONTOP).removeClass(TABONTOP);\n                    item.addClass(TABONTOP) // change these directly to bring the tab on top.\n                        .css(\"z-index\");\n\n            if (kendo.size(animation.effects)) {\n                item.kendoAddClass(ACTIVESTATE, { duration: animation.duration });\n            } else {\n                item.addClass(ACTIVESTATE);\n            }\n\n            visibleContents.attr(ARIA_HIDDEN, true);\n\n            if (visibleContents.length) {\n                visibleContents\n                    .kendoStop(true, true)\n                    .kendoAnimate(extend( {\n                        complete: showContent\n                   }, close ));\n            } else {\n                showContent();\n            }\n\n            that.element.css('min-height', oldMinHeight);\n\n            return true;\n        },\n\n        ajaxRequest: function(element, content, complete, url) {\n            element = this.tabGroup.find(element);\n\n            var that = this,\n                xhr = $.ajaxSettings.xhr,\n                link = element.find(\".\" + LINK),\n                data = {},\n                halfWidth = element.width() / 2,\n                fakeProgress = false,\n                statusIcon = element.find(\".k-loading\").removeClass(\"k-complete\");\n\n            if (!statusIcon[0]) {\n                statusIcon = $(\"<span class='k-loading'/>\").prependTo(element);\n            }\n\n            var endState = halfWidth * 2 - statusIcon.width();\n\n            var oldProgressAnimation = function() {\n                statusIcon.animate({ marginLeft: (parseInt(statusIcon.css(\"marginLeft\"), 10) || 0) < halfWidth ? endState : 0 }, 500, oldProgressAnimation);\n            };\n\n            if (kendo.support.browser.msie && kendo.support.browser.version < 10) {\n                setTimeout(oldProgressAnimation, 40);\n            }\n\n             url = url || link.data(CONTENTURL) || that._contentUrls[element.index()] || link.attr(HREF);\n            that.inRequest = true;\n\n            var ajaxOptions = {\n                type: \"GET\",\n                cache: false,\n                url: url,\n                dataType: \"html\",\n                data: data,\n                xhr: function() {\n                    var current = this,\n                        request = xhr(),\n                        event = current.progressUpload ? \"progressUpload\" : current.progress ? \"progress\" : false;\n\n                    if (request) {\n                        $.each([ request, request.upload ], function() {\n                            if (this.addEventListener) {\n                                this.addEventListener(\"progress\", function(evt) {\n                                    if (event) {\n                                        current[event](evt);\n                                    }\n                                }, false);\n                            }\n                        });\n                    }\n\n                    current.noProgress = !(window.XMLHttpRequest && ('upload' in new XMLHttpRequest()));\n                    return request;\n                },\n\n                progress: function(evt) {\n                    if (evt.lengthComputable) {\n                        var percent = parseInt((evt.loaded / evt.total * 100), 10) + \"%\";\n                        statusIcon\n                            .stop(true)\n                            .addClass(\"k-progress\")\n                            .css({\n                                \"width\": percent,\n                                \"marginLeft\": 0\n                            });\n                    }\n                },\n\n                error: function(xhr, status) {\n                    if (that.trigger(\"error\", { xhr: xhr, status: status })) {\n                        this.complete();\n                    }\n                },\n\n                stopProgress: function() {\n                    clearInterval(fakeProgress);\n                    statusIcon\n                        .stop(true)\n                        .addClass(\"k-progress\")\n                        [0].style.cssText = \"\";\n                },\n\n                complete: function(xhr) {\n                    that.inRequest = false;\n                    if (this.noProgress) {\n                        setTimeout(this.stopProgress, 500);\n                    } else {\n                        this.stopProgress();\n                    }\n\n                    if (xhr.statusText == \"abort\") {\n                        statusIcon.remove();\n                    }\n                },\n\n                success: function(data) {\n                    statusIcon.addClass(\"k-complete\");\n                    try {\n                        var current = this,\n                            loaded = 10;\n\n                        if (current.noProgress) {\n                            statusIcon.width(loaded + \"%\");\n                            fakeProgress = setInterval(function() {\n                                current.progress({ lengthComputable: true, loaded: Math.min(loaded, 100), total: 100 });\n                                loaded += 10;\n                            }, 40);\n                        }\n\n                        that.angular(\"cleanup\", function() { return { elements: content.get() }; });\n                        kendo.destroy(content);\n                        content.html(data);\n                    } catch (e) {\n                        var console = window.console;\n\n                        if (console && console.error) {\n                            console.error(e.name + \": \" + e.message + \" in \" + url);\n                        }\n                        this.error(this.xhr, \"error\");\n                    }\n\n                    if (complete) {\n                        complete.call(that, content);\n                    }\n\n                    that.angular(\"compile\", function() { return { elements: content.get() }; });\n\n                    that.trigger(CONTENTLOAD, { item: element[0], contentElement: content[0] });\n                }\n            };\n\n            if (typeof url === \"object\") {\n                ajaxOptions = $.extend(true, {}, ajaxOptions, url);\n\n                if (isFunction(ajaxOptions.url)) {\n                    ajaxOptions.url = ajaxOptions.url();\n                }\n            }\n\n            that.xhr = $.ajax(ajaxOptions);\n        },\n\n        append: function(tab) {\n            var that = this,\n                inserted = that._create(tab);\n\n            each(inserted.tabs, function(idx) {\n                var contents = inserted.contents[idx];\n                that.tabGroup.append(this);\n                if (that.options.tabPosition == \"bottom\") {\n                    that.tabWrapper.before(contents);\n                } else {\n                    that.wrapper.append(contents);\n                }\n                that.angular(\"compile\", function() { return { elements: [ contents ] }; });\n            });\n\n            updateFirstLast(that.tabGroup);\n            that._updateContentElements();\n            that.resize(true);\n\n            return that;\n        },\n\n        contentElement: function(itemIndex) {\n            if (isNaN(itemIndex - 0)) {\n                return undefined;\n            }\n\n            var contentElements = this.contentElements && this.contentElements[0] && !kendo.kineticScrollNeeded ? this.contentElements : this.contentAnimators;\n            var id = $(this.tabGroup.children()[itemIndex]).attr(ARIA_CONTROLS);\n\n            if (contentElements) {\n                for (var i = 0, len = contentElements.length; i < len; i++) {\n                    if (contentElements.eq(i).closest(\".k-content\")[0].id == id) {\n                        return contentElements[i];\n                    }\n                }\n            }\n\n            return undefined;\n        },\n\n        contentHolder: function(itemIndex) {\n            var contentElement = $(this.contentElement(itemIndex)),\n                scrollContainer = contentElement.children(\".km-scroll-container\");\n\n            return kendo.support.touch && scrollContainer[0] ? scrollContainer : contentElement;\n        },\n\n        deactivateTab: function(item) {\n            var that = this,\n                animationSettings = that.options.animation,\n                animation = animationSettings.open,\n                close = extend({}, animationSettings.close),\n                hasCloseAnimation = close && \"effects\" in close;\n            item = that.tabGroup.find(item);\n\n            close = extend( hasCloseAnimation ? close : extend({ reverse: true }, animation), { hide: true });\n\n            if (kendo.size(animation.effects)) {\n                item.kendoRemoveClass(ACTIVESTATE, { duration: animation.duration });\n            } else {\n                item.removeClass(ACTIVESTATE);\n            }\n\n            item.removeAttr(ARIA_SELECTED);\n\n            that.contentAnimators\n                    .filter(\".\" + ACTIVESTATE)\n                    .kendoStop(true, true)\n                    .kendoAnimate( close )\n                    .removeClass(ACTIVESTATE)\n                    .attr(ARIA_HIDDEN, true);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            if (that._refreshHandler) {\n                that.dataSource.unbind(\"change\", that._refreshHandler);\n            }\n\n            that.wrapper.off(NS);\n            that.tabGroup.off(NS);\n\n            if (that._scrollableModeActive) {\n                that._scrollPrevButton.off().remove();\n                that._scrollNextButton.off().remove();\n            }\n\n            kendo.destroy(that.wrapper);\n        },\n\n        disable: function(element) {\n            this._toggleDisabled(element, false);\n\n            return this;\n        },\n\n        enable: function(element, state) {\n            this._toggleDisabled(element, state !== false);\n\n            return this;\n        },\n\n        insertAfter: function(tab, referenceTab) {\n            if ($(tab).is($(referenceTab))) {\n                referenceTab = this.tabGroup.find(referenceTab).prev();\n            } else {\n                referenceTab = this.tabGroup.find(referenceTab);\n            }\n\n            var that = this,\n                inserted = that._create(tab),\n                referenceContent = that.element.find(\"[id='\" + referenceTab.attr(ARIA_CONTROLS) + \"']\");\n\n            each(inserted.tabs, function(idx) {\n                var contents = inserted.contents[idx];\n                var fromIndex = inserted.newTabsCreated ? that._contentUrls.length - (inserted.tabs.length - idx) : $(contents).index() - 1;\n\n                referenceTab.after(this);\n                referenceContent.after(contents);\n\n                that._moveUrlItem(fromIndex, $(this).index());\n                that.angular(\"compile\", function() { return { elements: [ contents ] }; });\n            });\n\n            updateFirstLast(that.tabGroup);\n            that._updateContentElements(inserted.newTabsCreated);\n            that.resize(true);\n\n            return that;\n        },\n\n        insertBefore: function(tab, referenceTab) {\n            if ($(tab).is($(referenceTab))) {\n                referenceTab = this.tabGroup.find(referenceTab).next();\n            } else {\n                referenceTab = this.tabGroup.find(referenceTab);\n            }\n\n            var that = this,\n                inserted = that._create(tab),\n                referenceContent = that.element.find(\"[id='\" + referenceTab.attr(ARIA_CONTROLS) + \"']\");\n\n            each(inserted.tabs, function(idx) {\n                var contents = inserted.contents[idx];\n                var fromIndex = inserted.newTabsCreated ? that._contentUrls.length - (inserted.tabs.length - idx) : $(contents).index() - 1;\n\n                referenceTab.before(this);\n                referenceContent.before(contents);\n\n                that._moveUrlItem(fromIndex, $(this).index());\n                that.angular(\"compile\", function() { return { elements: [ contents ] }; });\n            });\n\n            updateFirstLast(that.tabGroup);\n            that._updateContentElements(inserted.newTabsCreated);\n            that.resize(true);\n\n            return that;\n        },\n\n        items: function() {\n            return this.tabGroup[0].children;\n        },\n\n        refresh: function(e) {\n            var that = this,\n                options = that.options,\n                encoded = kendo.getter(options.dataEncodedField),\n                text = kendo.getter(options.dataTextField),\n                content = kendo.getter(options.dataContentField),\n                contentUrl = kendo.getter(options.dataContentUrlField),\n                image = kendo.getter(options.dataImageUrlField),\n                url = kendo.getter(options.dataUrlField),\n                sprite = kendo.getter(options.dataSpriteCssClass),\n                idx,\n                tabs = [],\n                tab,\n                action,\n                view = that.dataSource.view(),\n                length;\n\n\n            e = e || {};\n            action = e.action;\n\n            if (action) {\n               view = e.items;\n            }\n\n            for (idx = 0, length = view.length; idx < length; idx ++) {\n                tab = {\n                    text: text(view[idx])\n                };\n\n                if (options.dataEncodedField) {\n                    tab.encoded = encoded(view[idx]);\n                }\n\n                if (options.dataContentField) {\n                    tab.content = content(view[idx]);\n                }\n\n                if (options.dataContentUrlField) {\n                    tab.contentUrl = contentUrl(view[idx]);\n                }\n\n                if (options.dataUrlField) {\n                    tab.url = url(view[idx]);\n                }\n\n                if (options.dataImageUrlField) {\n                    tab.imageUrl = image(view[idx]);\n                }\n\n                if (options.dataSpriteCssClass) {\n                    tab.spriteCssClass = sprite(view[idx]);\n                }\n\n                tabs[idx] = tab;\n            }\n\n            if (e.action == \"add\") {\n                if (e.index < that.tabGroup.children().length) {\n                    that.insertBefore(tabs, that.tabGroup.children().eq(e.index));\n                } else {\n                    that.append(tabs);\n                }\n            } else if (e.action == \"remove\") {\n                for (idx = 0; idx < view.length; idx++) {\n                   that.remove(e.index);\n                }\n            } else if (e.action == \"itemchange\") {\n                idx = that.dataSource.view().indexOf(view[0]);\n                if (e.field === options.dataTextField) {\n                    that.tabGroup.children().eq(idx).find(\".k-link\").text(view[0].get(e.field));\n                }\n\n                if (e.field === options.dataUrlField) {\n                    that._contentUrls[idx] = view[0].get(e.field);\n                }\n            } else {\n                that.trigger(\"dataBinding\");\n                that.remove(\"li\");\n                that._contentUrls = [];\n                that.append(tabs);\n                that.trigger(\"dataBound\");\n            }\n        },\n\n        reload: function(element) {\n            element = this.tabGroup.find(element);\n            var that = this;\n            var contentUrls = that._contentUrls;\n\n            element.each(function() {\n                var item = $(this),\n                    contentUrl = item.find(\".\" + LINK).data(CONTENTURL) || contentUrls[item.index()],\n                    content = that.contentHolder(item.index());\n\n                if (contentUrl) {\n                    that.ajaxRequest(item, content, null, contentUrl);\n                }\n            });\n\n            return that;\n        },\n\n        remove: function(elements) {\n            var that = this;\n            var type = typeof elements;\n            var contents;\n\n            if (type === \"string\") {\n                elements = that.tabGroup.find(elements);\n            } else if (type === \"number\") {\n                elements = that.tabGroup.children().eq(elements);\n            }\n\n            contents = elements.map(function() {\n                var idx = $(this).index();\n                var content = that.contentElement(idx);\n\n                kendo.destroy(content);\n                that._removeUrlItem(idx);\n\n                return content;\n            });\n\n            elements.remove();\n            contents.empty();\n            contents.remove();\n\n            that._updateContentElements();\n            that.resize(true);\n\n            return that;\n        },\n\n        select: function(element) {\n            var that = this;\n\n            if (arguments.length === 0) {\n                return that.tabGroup.children(\"li.\" + ACTIVESTATE);\n            }\n\n            if (!isNaN(element)) {\n                element = that.tabGroup.children().get(element);\n            }\n\n            element = that.tabGroup.find(element);\n            $(element).each(function(index, item) {\n                item = $(item);\n                if (!item.hasClass(ACTIVESTATE) && !that.trigger(SELECT, { item: item[0], contentElement: that.contentHolder(item.index())[0] })) {\n                    that.activateTab(item);\n                }\n            });\n\n            return that;\n        },\n\n        value: function(value) {\n            var that = this;\n\n            if (value !== undefined) {\n                if (value != that.value()) {\n                   that.tabGroup.children().each(function() {\n                        if (kendo.trim($(this).text()) == value) {\n                            that.select(this);\n                        }\n                   });\n                }\n            } else {\n                return that.select().text();\n            }\n        },\n\n        _active: function() {\n            var item = this.tabGroup.children().filter(\".\" + ACTIVESTATE);\n\n            item = item[0] ? item : this._endItem(\"first\");\n            if (item[0]) {\n                this._current(item);\n            }\n        },\n\n        _animations: function(options) {\n            if (options && (\"animation\" in options) && !options.animation) {\n                options.animation = { open: { effects: {} }, close: { effects: {} } }; // No animation\n            }\n        },\n\n        _appendUrlItem: function(url) {\n            this._contentUrls.push(url);\n        },\n\n        _attachEvents: function() {\n            var that = this,\n                options = that.options;\n\n            that.wrapper\n                .on(MOUSEENTER + NS + \" \" + MOUSELEAVE + NS, HOVERABLEITEMS, that._toggleHover)\n                .on(\"focus\" + NS, that._active.bind(that))\n                .on(\"blur\" + NS, function() { that._current(null); });\n\n            that._keyDownProxy = that._keydown.bind(that);\n\n            if (options.navigatable) {\n                that.wrapper.on(\"keydown\" + NS, that._keyDownProxy);\n            }\n\n            that.tabGroup\n                .on(CLICK + NS, \".k-disabled .k-link\", false)\n                .on(CLICK + NS, \" > \" + NAVIGATABLEITEMS, that._itemClick.bind(that));\n        },\n\n        _click: function(item) {\n            var that = this,\n                link = item.find(\".\" + LINK),\n                href = link.attr(HREF),\n                collapse = that.options.collapsible,\n                index = item.index(),\n                contentHolder = that.contentHolder(index),\n                prevent, isAnchor,\n                neighbours = item.parent().children(),\n                oldFocusedTab = neighbours.filter(\".\" + FOCUSEDSTATE);\n\n            if (item.closest(\".k-widget\")[0] != that.wrapper[0]) {\n                return;\n            }\n\n            if (item.is(\".\" + DISABLEDSTATE + (!collapse ? \",.\" + ACTIVESTATE : \"\"))) {\n                oldFocusedTab.removeClass(FOCUSEDSTATE);\n                that._focused = item;\n\n                item.addClass(FOCUSEDSTATE);\n                that._current(item);\n\n                if (that._scrollableModeActive) {\n                    that._scrollTabsToItem(item);\n                }\n                return true;\n            }\n\n            isAnchor = link.data(CONTENTURL) || that._contentUrls[index] || (href && (href.charAt(href.length - 1) == \"#\" || href.indexOf(\"#\" + that.element[0].id + \"-\") != -1));\n            prevent = !href || isAnchor;\n\n            if (that.tabGroup.children(\"[data-animating]\").length) {\n                return prevent;\n            }\n\n            if (that.trigger(SELECT, { item: item[0], contentElement: contentHolder[0] })) {\n                return true;\n            }\n\n            if (prevent === false) {\n                return;\n            }\n\n            if (collapse && item.is(\".\" + ACTIVESTATE)) {\n                that.deactivateTab(item);\n                return true;\n            }\n\n            if (that.activateTab(item)) {\n                prevent = true;\n            }\n\n            return prevent;\n        },\n\n        _create: function(tab) {\n            var that = this,\n            tabs,\n            contents,\n            content,\n            newTabsCreated = false;\n\n            tab = tab instanceof kendo.data.ObservableArray ? tab.toJSON() : tab;\n\n            if ($.isPlainObject(tab) || Array.isArray(tab)) {\n                tab = Array.isArray(tab) ? tab : [tab];\n                newTabsCreated = true;\n\n                tabs = map(tab, function(value, idx) {\n                            that._appendUrlItem(tab[idx].contentUrl || null);\n\n                            return $(TabStrip.renderItem({\n                                group: that.tabGroup,\n                                item: extend(value, { index: idx })\n                            }));\n                        });\n\n                contents = map( tab, function(value, idx) {\n                            if (typeof value.content == \"string\" || value.contentUrl) {\n                                return $(TabStrip.renderContent({\n                                    item: extend(value, { index: idx })\n                                }));\n                            }\n                        });\n            } else {\n                if (typeof tab == \"string\" && tab[0] != \"<\") {\n                    tabs = that.element.find(tab);\n                } else {\n                    tabs = $(tab);\n                }\n                contents = $();\n                tabs.each(function() {\n                    if (/k-tabstrip-items/.test(this.parentNode.className)) {\n                        var element = that.element.find(\"[id='\" + this.getAttribute(ARIA_CONTROLS) + \"']\");\n                        content = element;\n                    } else {\n                        content = $(\"<div class='\" + CONTENT + \"'/>\");\n                    }\n\n                    contents = contents.add(content);\n                });\n\n                updateTabClasses(tabs);\n            }\n\n            return { tabs: tabs, contents: contents, newTabsCreated: newTabsCreated };\n        },\n\n        _current: function(candidate) {\n            var that = this,\n                focused = that._focused;\n\n            if (candidate === undefined) {\n                return focused;\n            }\n\n            if (focused) {\n                focused.removeClass(FOCUSEDSTATE);\n            }\n\n            if (candidate) {\n                if (!candidate.hasClass(ACTIVESTATE)) {\n                    candidate.addClass(FOCUSEDSTATE);\n                }\n            }\n\n            that._focused = candidate;\n        },\n\n        _dataSource: function() {\n            var that = this;\n\n            if (that.dataSource && that._refreshHandler) {\n                that.dataSource.unbind(\"change\", that._refreshHandler);\n            } else {\n                that._refreshHandler = that.refresh.bind(that);\n            }\n\n            that.dataSource = kendo.data.DataSource.create(that.options.dataSource)\n                                .bind(\"change\", that._refreshHandler);\n        },\n\n        _elementId: function(element, idx, tab) {\n            var elementId = element.attr(\"id\"),\n                wrapperId = this.element.attr(\"id\"),\n                guid = kendo.guid();\n\n            if (!elementId || elementId.indexOf(wrapperId + \"-\") > -1) {\n                var tabStripID = (wrapperId || guid) + \"-\";\n\n                if (tab) {\n                    tabStripID += \"tab-\";\n                }\n\n                return tabStripID + (idx + 1);\n            }\n\n            return elementId;\n        },\n\n        _endItem: function(action) {\n            return this.tabGroup.children(NAVIGATABLEITEMS)[action]();\n        },\n\n        _getItem: function(action) {\n            return this.tabGroup.children(KEYBOARDNAVIGATABLEITEMS)[action]();\n        },\n\n        _initialActivate: function() {\n            var that = this,\n                selectedItems = that.tabGroup.children(\"li.\" + ACTIVESTATE),\n                content = that.contentHolder(selectedItems.index());\n\n            if (selectedItems[0] && content.length > 0 && content[0].childNodes.length === 0) {\n                that.activateTab(selectedItems.eq(0));\n            }\n        },\n\n        _item: function(item, action) {\n            var endItem;\n            if (action === PREV) {\n                endItem = \"last\";\n            } else {\n                endItem = \"first\";\n            }\n\n            if (!item) {\n                return this._endItem(endItem);\n            }\n\n            item = item[action]();\n\n            if (!item[0]) {\n                item = this.tabGroup.children(KEYBOARDNAVIGATABLEITEMS)[endItem]();\n            }\n\n            if (item.hasClass(DISABLEDSTATE)) {\n                item.addClass(FOCUSEDSTATE);\n            }\n            if (item.hasClass(DISABLEDSTATE) || item.hasClass(ACTIVESTATE)) {\n                this._focused = item;\n            }\n\n            return item;\n        },\n\n        _itemClick: function(e) {\n            var that = this,\n                wr = that.wrapper[0];\n\n            if (wr !== document.activeElement) {\n                var msie = kendo.support.browser.msie;\n                if (msie) {\n                    try {\n                        // does not scroll to the active element\n                        wr.setActive();\n                    } catch (j) {\n                        wr.focus();\n                    }\n                } else {\n                    wr.focus();\n                }\n            }\n\n            if (that._click($(e.currentTarget))) {\n                e.preventDefault();\n            }\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode,\n                current = that._current(),\n                rtl = that._isRtl,\n                isHorizontal = /top|bottom/.test(that.options.tabPosition),\n                action;\n\n            if (e.target != e.currentTarget || !current) {\n                return;\n            }\n\n            if (key === keys.DOWN && !isHorizontal) {\n                action = NEXT;\n            } else if (key === keys.UP && !isHorizontal) {\n                action = PREV;\n            } else if (key === keys.RIGHT && isHorizontal) {\n                action = rtl ? PREV : NEXT;\n            } else if (key === keys.LEFT && isHorizontal) {\n                action = rtl ? NEXT : PREV;\n            } else if (key == keys.ENTER || key == keys.SPACEBAR) {\n                that._click(current);\n                e.preventDefault();\n            } else if (key == keys.HOME) {\n                that._click(that._getItem(\"first\"));\n                e.preventDefault();\n                return;\n            } else if (key == keys.END) {\n                that._click(that._getItem(\"last\"));\n                e.preventDefault();\n                return;\n            }\n\n            if (action) {\n                that._click(that._item(current, action));\n                e.preventDefault();\n            }\n        },\n\n        _moveUrlItem: function(from, to) {\n            this._contentUrls.splice(to, 0, this._contentUrls.splice(from, 1)[0]);\n        },\n\n        _processContentUrls: function() {\n            var that = this;\n\n            if (that._contentUrls.length) {\n                that.tabGroup.children(\".k-item\")\n                    .each(function(index, item) {\n                        var url = that._contentUrls[index];\n\n                        if (typeof url === 'string') {\n                            $(item).find(\">.\" + LINK).data(CONTENTURL, url);\n                        }\n                    });\n            } else {\n                that._contentUrls.length = that.tabGroup.find(\"li.k-item\").length;\n            }\n        },\n\n        _removeUrlItem: function(index) {\n            this._contentUrls.splice(index, 1);\n        },\n\n        _resize: function() {\n            this._scrollable();\n        },\n\n        _scrollable: function() {\n            var that = this,\n                options = that.options,\n                wrapperOffsetWidth,\n                tabGroupScrollWidth,\n                scrollPrevButton,\n                scrollNextButton;\n\n            if (that._scrollableAllowed()) {\n\n                that.wrapper.addClass(\"k-tabstrip-scrollable\");\n\n                wrapperOffsetWidth = that.wrapper[0].offsetWidth;\n                tabGroupScrollWidth = that.tabGroup[0].scrollWidth;\n\n                if (tabGroupScrollWidth > wrapperOffsetWidth && !that._scrollableModeActive) {\n                    that._nowScrollingTabs = false;\n                    that._isRtl = kendo.support.isRtl(that.element);\n                    var mouseDown = kendo.support.touch ? \"touchstart\" : \"mousedown\";\n                    var mouseUp = kendo.support.touch ? \"touchend\" : \"mouseup\";\n                    var browser = kendo.support.browser;\n                    var isRtlScrollDirection = that._isRtl && !browser.msie && !browser.edge;\n\n                    that.tabWrapper.prepend(scrollButtonHtml(\"prev\", \"k-i-arrow-60-left\"));\n                    that.tabWrapper.append(scrollButtonHtml(\"next\", \"k-i-arrow-60-right\"));\n\n                    scrollPrevButton = that._scrollPrevButton = that.tabWrapper.children(\".k-tabstrip-prev\");\n                    scrollNextButton = that._scrollNextButton = that.tabWrapper.children(\".k-tabstrip-next\");\n\n                    scrollPrevButton.on(mouseDown + NS, function() {\n                        that._nowScrollingTabs = true;\n                        that._scrollTabsByDelta(options.scrollable.distance * (isRtlScrollDirection ? 1 : -1));\n                    });\n\n                    scrollNextButton.on(mouseDown + NS, function() {\n                        that._nowScrollingTabs = true;\n                        that._scrollTabsByDelta(options.scrollable.distance * (isRtlScrollDirection ? -1 : 1));\n                    });\n\n                    scrollPrevButton.add(scrollNextButton).on(mouseUp + NS, function() {\n                        that._nowScrollingTabs = false;\n                    });\n\n                    that._scrollableModeActive = true;\n\n                    that._toggleScrollButtons();\n                } else if (that._scrollableModeActive && tabGroupScrollWidth <= wrapperOffsetWidth) {\n                    that._scrollableModeActive = false;\n\n                    that.wrapper.removeClass(\"k-tabstrip-scrollable\");\n\n                    that._scrollPrevButton.off().remove();\n                    that._scrollNextButton.off().remove();\n                } else if (!that._scrollableModeActive) {\n                    that.wrapper.removeClass(\"k-tabstrip-scrollable\");\n                } else {\n                    that._toggleScrollButtons();\n                }\n            }\n        },\n\n        _scrollableAllowed: function() {\n            var options = this.options;\n\n            if (options.scrollable && !options.scrollable.distance) {\n                options.scrollable = { distance: DEFAULTDISTANCE };\n            }\n\n            return options.scrollable && !isNaN(options.scrollable.distance) && (options.tabPosition == \"top\" || options.tabPosition == \"bottom\");\n        },\n\n        _scrollTabsToItem: function(item) {\n            var that = this,\n                tabGroup = that.tabGroup,\n                currentScrollOffset = kendo.scrollLeft(tabGroup),\n                itemWidth = outerWidth(item),\n                itemOffset = that._isRtl ? item.position().left : item.position().left - tabGroup.children().first().position().left,\n                tabGroupWidth = tabGroup[0].offsetWidth,\n                browser = kendo.support.browser,\n                itemPosition;\n\n            if (that._isRtl && (browser.mozilla || (browser.webkit && browser.version >= 85))) {\n                currentScrollOffset = currentScrollOffset * -1;\n            }\n\n            if (that._isRtl) {\n                if (itemOffset < 0) {\n                    itemPosition = currentScrollOffset + itemOffset - (tabGroupWidth - currentScrollOffset);\n                } else if (itemOffset + itemWidth > tabGroupWidth) {\n                    itemPosition = currentScrollOffset + itemOffset - itemWidth;\n                }\n            } else {\n                if (currentScrollOffset + tabGroupWidth < itemOffset + itemWidth) {\n                    itemPosition = itemOffset + itemWidth - tabGroupWidth;\n                } else if (currentScrollOffset > itemOffset) {\n                    itemPosition = itemOffset;\n                }\n            }\n\n            tabGroup.finish().animate({ \"scrollLeft\": itemPosition }, \"fast\", \"linear\", function() {\n                that._toggleScrollButtons();\n            });\n        },\n\n        _scrollTabsByDelta: function(delta) {\n            var that = this;\n            var tabGroup = that.tabGroup;\n            var scrLeft = kendo.scrollLeft(tabGroup);\n            var browser = kendo.support.browser;\n\n            if (that._isRtl && (browser.mozilla || (browser.webkit && browser.version >= 85))) {\n                scrLeft = scrLeft * -1;\n            }\n\n            tabGroup.finish().animate({ \"scrollLeft\": scrLeft + delta }, \"fast\", \"linear\", function() {\n                if (that._nowScrollingTabs && !jQuery.fx.off) {\n                    that._scrollTabsByDelta(delta);\n                } else {\n                    that._toggleScrollButtons();\n                }\n            });\n        },\n\n        _tabPosition: function() {\n            var that = this,\n                tabPosition = that.options.tabPosition;\n\n            that.wrapper.addClass(\"k-floatwrap k-tabstrip-\" + tabPosition);\n\n            if (tabPosition == \"bottom\") {\n                that.tabWrapper.appendTo(that.wrapper);\n            }\n\n            if (tabPosition === \"left\" || tabPosition === \"right\") {\n                that.tabGroup.attr(ARIA_ORIENTATION, \"vertical\");\n            }\n\n            that.resize(true);\n        },\n\n        _toggleHover: function(e) {\n            $(e.currentTarget).toggleClass(HOVERSTATE, e.type == MOUSEENTER);\n        },\n\n        _toggleDisabled: function(element, enable) {\n            element = this.tabGroup.find(element);\n            element.each(function() {\n                $(this)\n                    .toggleClass(DISABLEDSTATE, !enable)\n                    .attr(ARIA_DISABLED, !enable);\n            });\n        },\n\n        _toggleScrollButtons: function() {\n            var that = this,\n                ul = that.tabGroup,\n                scrollLeft = kendo.scrollLeft(ul);\n\n                that._scrollPrevButton.toggleClass('k-disabled', scrollLeft === 0);\n                that._scrollNextButton.toggleClass('k-disabled', scrollLeft === ul[0].scrollWidth - ul[0].offsetWidth);\n        },\n\n        _updateClasses: function() {\n            var that = this,\n                tabs, activeItem, activeTab;\n            var isHorizontal = /top|bottom/.test(that.options.tabPosition);\n\n            that.wrapper.addClass(\"k-widget k-tabstrip\");\n\n            if (!that.tabGroup) {\n                that.tabGroup = that.wrapper.children(\"ul\");\n                that.tabGroup.wrap('<div />');\n                that.tabWrapper = that.tabGroup.parent();\n            }\n\n            if (!that.tabGroup[0]) {\n                that.tabGroup = $(\"<ul />\").prependTo(that.wrapper);\n                that.tabGroup.wrap('<div />');\n                that.tabWrapper = that.tabGroup.parent();\n            }\n\n            that.tabWrapper.addClass('k-tabstrip-items-wrapper');\n            that.tabWrapper.addClass(isHorizontal ? 'k-hstack' : 'k-vstack');\n            that.tabGroup.addClass('k-tabstrip-items k-reset');\n\n            tabs = that.tabGroup.find(\"li\").addClass(\"k-tabstrip-item k-item\");\n\n            if (tabs.length) {\n                activeItem = tabs.filter(\".\" + ACTIVESTATE).index();\n                activeTab = activeItem >= 0 ? activeItem : undefined;\n\n                that.tabGroup // Remove empty text nodes\n                    .contents()\n                    .filter(function() { return (this.nodeType == 3 && !trim(this.nodeValue)); })\n                    .remove();\n            }\n\n            if (activeItem >= 0) {\n                tabs.eq(activeItem).addClass(TABONTOP);\n            }\n\n            that.contentElements = that.wrapper.children(\"div:not(.k-tabstrip-items-wrapper)\");\n\n            that.contentElements\n                .addClass(CONTENT)\n                .eq(activeTab)\n                .addClass(ACTIVESTATE)\n                .css({ display: \"block\" });\n\n            if (tabs.length) {\n                updateTabClasses(tabs);\n\n                updateFirstLast(that.tabGroup);\n                that._updateContentElements(true);\n            }\n        },\n\n        _updateContentElements: function(isInitialUpdate) {\n            var that = this,\n                contentUrls = that._contentUrls,\n                items = that.tabGroup.children(\".k-item\"),\n                contentElements = that.wrapper.children(\"div:not(.k-tabstrip-items-wrapper)\"),\n                _elementId = that._elementId.bind(that);\n\n            if (contentElements.length && (items.length > contentElements.length)) {\n                contentElements.each(function(idx) {\n                    // Generate an ID for each content element\n                    var contentId = _elementId($(this), idx),\n                        item = items.filter(\"[aria-controls=\" + (contentId || 0) + \"]\")[0],\n                        tabId;\n\n                    if (!item && isInitialUpdate) {\n                        // On initialization of the widget get the tab by its index\n                        item = items[idx];\n                    }\n\n                    if (item) {\n                        // set the tab aria-controls attribute to the content ID\n                        item.setAttribute(ARIA_CONTROLS, contentId);\n                        tabId = item.id = _elementId($(item), idx, true);\n                        this.setAttribute(ARIA_LABELLEDBY, tabId);\n                    }\n\n                    // set the get (possibly existing) ID on the content element\n                    this.setAttribute(\"id\", contentId);\n                });\n            } else {\n                items.each(function(idx) {\n                    var currentContent = contentElements.eq(idx),\n                        contentId = _elementId(currentContent, idx),\n                        tabId;\n\n                    // set the tab aria-controls attribute to the content ID\n                    this.setAttribute(ARIA_CONTROLS, contentId);\n\n                    tabId = this.id = _elementId($(this), idx, true);\n\n                    if (!currentContent.length && contentUrls[idx]) {\n                        // Append content element in case contentUrl is used\n                        $(\"<div class='\" + CONTENT + \"'/>\").appendTo(that.wrapper).attr(\"id\", contentId);\n                    } else {\n                        // set the ID on the content element\n                        currentContent.attr(\"id\", contentId);\n\n                        if (!$(this).children(\".k-loading\")[0] && !contentUrls[idx]) {\n                            $(\"<span class='k-loading k-complete'/>\").prependTo(this);\n                        }\n                    }\n\n                    currentContent.attr(\"role\", \"tabpanel\");\n                    currentContent.attr(\"tabindex\", \"0\");\n                    currentContent.attr(ARIA_LABELLEDBY, tabId);\n                    currentContent.filter(\":not(.\" + ACTIVESTATE + \")\").attr(ARIA_HIDDEN, true);\n                });\n            }\n\n            that.contentElements = that.contentAnimators = that.wrapper.children(\"div:not(.k-tabstrip-items-wrapper)\"); // refresh the contents\n\n            that.tabsHeight = outerHeight(that.tabGroup) +\n                              parseInt(that.wrapper.css(\"border-top-width\"), 10) +\n                              parseInt(that.wrapper.css(\"border-bottom-width\"), 10);\n\n            if (kendo.kineticScrollNeeded && kendo.mobile.ui.Scroller) {\n                kendo.touchScroller(that.contentElements);\n                that.contentElements = that.contentElements.children(\".km-scroll-container\");\n            }\n        },\n\n        _wrapper: function() {\n            var that = this;\n\n            if (that.element.is(\"ul\")) {\n                that.wrapper = that.element.wrapAll(\"<div />\").parent();\n            } else {\n                that.wrapper = that.element;\n            }\n        }\n    });\n\n    // client-side rendering\n    extend(TabStrip, {\n        renderItem: function(options) {\n            options = extend({ tabStrip: {}, group: {} }, options);\n\n            var empty = templates.empty,\n                item = options.item;\n\n            return templates.item(extend(options, {\n                image: item.imageUrl ? templates.image : empty,\n                sprite: item.spriteCssClass ? templates.sprite : empty,\n                itemWrapper: templates.itemWrapper\n            }, rendering));\n        },\n\n        renderContent: function(options) {\n            return templates.content(extend(options, rendering));\n        }\n    });\n\n    kendo.ui.plugin(TabStrip);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.timepicker',[ \"kendo.popup\", \"kendo.dateinput\", \"kendo.html.button\"], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"timepicker\",\n    name: \"TimePicker\",\n    category: \"web\",\n    description: \"The TimePicker widget allows the end user to select a value from a list of predefined values or to type a new value.\",\n    depends: [ \"popup\", \"html.button\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        keys = kendo.keys,\n        html = kendo.html,\n        parse = kendo.parseDate,\n        activeElement = kendo._activeElement,\n        extractFormat = kendo._extractFormat,\n        support = kendo.support,\n        browser = support.browser,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        CHANGE = \"change\",\n        ns = \".kendoTimePicker\",\n        CLICK = \"click\" + ns,\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        LI = \"li\",\n        SPAN = \"<span></span>\",\n        FOCUSED = \"k-focus\",\n        HOVER = \"k-hover\",\n        HOVEREVENTS = \"mouseenter\" + ns + \" mouseleave\" + ns,\n        MOUSEDOWN = \"mousedown\" + ns,\n        MS_PER_MINUTE = 60000,\n        MS_PER_DAY = 86400000,\n        SELECTED = \"k-selected\",\n        STATEDISABLED = \"k-disabled\",\n        ARIA_SELECTED = \"aria-selected\",\n        ARIA_EXPANDED = \"aria-expanded\",\n        ARIA_HIDDEN = \"aria-hidden\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_READONLY = \"aria-readonly\",\n        ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n        ID = \"id\",\n        isArray = Array.isArray,\n        extend = $.extend,\n        DATE = Date,\n        dateFormatRegExp = /d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|\"[^\"]*\"|'[^']*'/g,\n        LITERAL = \"literal\",\n        MONTH = \"month\",\n        HOUR = \"hour\",\n        ZONE = \"zone\",\n        WEEKDAY = \"weekday\",\n        QUARTER = \"quarter\",\n        DATE_FIELD_MAP = {\n            \"G\": \"era\",\n            \"y\": \"year\",\n            \"q\": QUARTER,\n            \"Q\": QUARTER,\n            \"M\": MONTH,\n            \"L\": MONTH,\n            \"d\": \"day\",\n            \"E\": WEEKDAY,\n            \"c\": WEEKDAY,\n            \"e\": WEEKDAY,\n            \"h\": HOUR,\n            \"H\": HOUR,\n            \"k\": HOUR,\n            \"K\": HOUR,\n            \"m\": \"minute\",\n            \"s\": \"second\",\n            \"a\": \"dayperiod\",\n            \"x\": ZONE,\n            \"X\": ZONE,\n            \"z\": ZONE,\n            \"Z\": ZONE\n        },\n        NAME_TYPES = {\n            month: {\n                type: \"months\",\n                minLength: 3,\n                standAlone: \"L\"\n            },\n\n            quarter: {\n                type: \"quarters\",\n                minLength: 3,\n                standAlone: \"q\"\n            },\n\n            weekday: {\n                type: \"days\",\n                minLength: {\n                    E: 0,\n                    c: 3,\n                    e: 3\n                },\n                standAlone: \"c\"\n            },\n\n            dayperiod: {\n                type: \"dayPeriods\",\n                minLength: 0\n            },\n\n            era: {\n                type: \"eras\",\n                minLength: 0\n            }\n        },\n        TODAY = new DATE(),\n        MODERN_RENDERING_TEMPLATE = '<div tabindex=\"0\" class=\"k-timeselector #=mainSize#\">' +\n            '<div class=\"k-time-header\">' +\n                '<span class=\"k-title\"></span>' +\n                '<button class=\"k-button #=buttonSize# k-rounded-md k-button-flat k-button-flat-base k-time-now\" title=\"Select now\" aria-label=\"Select now\"><span class=\"k-button-text\">#=messages.now#</span></button>' +\n            '</div>' +\n            '<div class=\"k-time-list-container\">' +\n                '<span class=\"k-time-highlight\"></span>' +\n            '</div>' +\n        '</div>',\n        NEW_RENDERING_FOOTER = '<div class=\"k-time-footer k-action-buttons\">' +\n            '<button class=\"k-button #=buttonSize# k-rounded-md k-button-solid k-button-solid-base k-time-cancel\" title=\"Cancel changes\" aria-label=\"Cancel changes\"><span class=\"k-button-text\">#=messages.cancel#</span></button>' +\n            '<button class=\"k-time-accept k-button #=buttonSize# k-rounded-md k-button-solid k-button-solid-primary\" title=\"Set time\" aria-label=\"Set time\"><span class=\"k-button-text\">#=messages.set#</span></button>' +\n            '</div>',\n        HIGHLIGHTCONTAINER = '<span class=\"k-time-highlight\"></span>';\n\n        TODAY = new Date(TODAY.getFullYear(), TODAY.getMonth(), TODAY.getDate(), 0, 0, 0);\n\n    var TimeView = function(options) {\n        var that = this,\n        id = options.id;\n\n        that.options = options;\n        that._dates = [];\n\n        that._createList(options.timeView && options.timeView.list === \"scroll\");\n\n        if (id) {\n            that._timeViewID = id + \"_timeview\";\n            that._optionID = id + \"_option_selected\";\n\n            that.ul.attr(ID, that._timeViewID);\n        }\n\n        that._heightHandler = that._height.bind(that);\n        that._popup();\n    };\n\n    TimeView.prototype = {\n        _createList: function(scroll) {\n            if (scroll) {\n                this._createScrollList();\n            } else {\n                this._createClassicRenderingList();\n            }\n        },\n        _createScrollList: function() {\n            var templateOptions = $.extend({}, this.options, {\n                mainSize: kendo.getValidCssClass(\"k-timeselector-\", \"size\", this.options.size || \"medium\"),\n                buttonSize: kendo.getValidCssClass(\"k-button-\", \"size\", this.options.size || \"medium\")\n            });\n            this.list = $(kendo.template(MODERN_RENDERING_TEMPLATE)(templateOptions))\n                .on(MOUSEDOWN, preventDefault);\n\n            if (!this.options.omitPopup) {\n                this.list.append(kendo.template(NEW_RENDERING_FOOTER)(templateOptions));\n            }\n\n            this.ul = this.list.find(\".k-time-list-container\");\n            this.list.on(\"click\" + ns, \".k-time-header button.k-time-now\", this._nowClickHandler.bind(this));\n            this.list.on(\"click\" + ns, \".k-time-footer button.k-time-cancel\", this._cancelClickHandler.bind(this));\n            this.list.on(\"click\" + ns, \".k-time-footer button.k-time-accept\", this._setClickHandler.bind(this));\n            this.list.on(\"mouseover\" + ns, \".k-time-list-wrapper\", this._mouseOverHandler.bind(this));\n            this.list.on(\"keydown\" + ns, this._scrollerKeyDownHandler.bind(this));\n        },\n\n        _scrollerKeyDownHandler: function(e) {\n            var that = this,\n                key = e.keyCode,\n                list = $(e.currentTarget).find(\".k-time-list-wrapper.k-focus\"),\n                lists = that.list.find(\".k-time-list-wrapper\"),\n                length = lists.length,\n                index = lists.index(list),\n                isRtl = kendo.support.isRtl(that.wrapper),\n                itemHeight = getItemHeight(list.find(\".k-item:visible\").eq(0)),\n                container = list.find(\".k-time-container.k-content.k-scrollable\");\n\n            if (!list.length) {\n                return;\n            }\n\n            if (key == keys.RIGHT && !isRtl || key == keys.LEFT && isRtl) {\n                if (index + 1 < length) {\n                    that._focusList(lists.eq(index + 1));\n                }\n\n            } else if (key == keys.LEFT && !isRtl || key == keys.RIGHT && isRtl) {\n                if (index - 1 >= 0) {\n                    that._focusList(lists.eq(index - 1));\n                }\n            } else if (key == keys.UP) {\n                container.scrollTop(container.scrollTop() - itemHeight);\n                e.preventDefault();\n            } else if (key == keys.DOWN) {\n                container.scrollTop(container.scrollTop() + itemHeight);\n                e.preventDefault();\n            } else if (key === keys.ENTER) {\n                that._setClickHandler();\n            } else if (key === keys.ESC) {\n                that._cancelClickHandler();\n            }\n        },\n\n        _mouseOverHandler: function(e) {\n            this._focusList($(e.currentTarget));\n        },\n\n        _focusList: function(list) {\n            this.list.find(\".k-time-list-wrapper\").removeClass(FOCUSED);\n            list.addClass(FOCUSED);\n            this.list.trigger(\"focus\");\n            this._scrollTop = list.find('.k-scrollable').scrollTop();\n        },\n        _createClassicRenderingList: function() {\n            var that = this;\n            var listParent = $('<div class=\"k-list ' + kendo.getValidCssClass(\"k-list-\", \"size\", that.options.size) + '\"><ul tabindex=\"-1\" role=\"listbox\" aria-hidden=\"true\" unselectable=\"on\" class=\"k-list-ul\"/></div>');\n\n            that.ul = listParent.find(\"ul\")\n                .css({\n                    overflow: support.kineticScrollNeeded ? \"\" : \"auto\"\n                })\n                .on(CLICK, LI, that._click.bind(that))\n                .on(\"mouseenter\" + ns, LI, function() {\n                    $(this).addClass(HOVER);\n                })\n                .on(\"mouseleave\" + ns, LI, function() {\n                    $(this).removeClass(HOVER);\n                });\n\n            that.list = $(\"<div class='k-list-container k-list-scroller' unselectable='on'/>\")\n                .append(listParent)\n                .on(MOUSEDOWN, preventDefault);\n\n            that.template = kendo.template('<li tabindex=\"-1\" role=\"option\" class=\"k-list-item\" unselectable=\"on\"><span class=\"k-list-item-text\">#=data#</span></li>', {\n                useWithBlock: false\n            });\n\n        },\n        current: function(candidate) {\n            var that = this,\n                active = that.options.active;\n\n            if (candidate !== undefined) {\n                if (that._current) {\n                    that._current\n                        .removeClass(SELECTED);\n                        if (that._current && that._current.length) {\n                            that._current[0].removeAttribute(ID);\n                            that._current[0].removeAttribute(ARIA_SELECTED);\n                        }\n                }\n\n                if (candidate) {\n                    candidate = $(candidate).addClass(SELECTED)\n                                            .attr(ID, that._optionID)\n                                            .attr(ARIA_SELECTED, true);\n\n                    that.scroll(candidate[0]);\n                }\n\n                that._current = candidate;\n\n                if (active) {\n                    active(candidate);\n                }\n            } else {\n                return that._current;\n            }\n        },\n\n        _updateTitle: function() {\n            this.list.find(\".k-time-header > .k-title\").html(kendo.toString(this._value, this.options.format, this.options.culture));\n        },\n\n        applyValue: function(value) {\n            if (!value) {\n                return;\n            }\n\n            var is12hourFormat = includes(this.options.format.toLowerCase(), \"t\");\n            var hours = value.getHours();\n            var minutes = value.getMinutes();\n            var seconds = value.getSeconds();\n            var designator;\n            var indexAttr = kendo.attr('index');\n            var hoursList = this.ul.find('[' + indexAttr + '=\"1\"]');\n            var minutessList = this.ul.find('[' + indexAttr + '=\"2\"]');\n            var secondsList = this.ul.find('[' + indexAttr + '=\"3\"]');\n            var designatorList = this.ul.find('[' + indexAttr + '=\"4\"]');\n\n            if (is12hourFormat) {\n                if (hours >= 12) {\n                    designator = \"PM\";\n                    if (hours > 12) {\n                        hours -= 12;\n                    }\n                } else {\n                    designator = \"AM\";\n                    if (hours === 0) {\n                        hours = 12;\n                    }\n                }\n            }\n\n            this._internalScroll = true;\n            if (hoursList.length) {\n                this._scrollListToPosition(hoursList, hours);\n            }\n\n            if (minutessList.length) {\n                this._scrollListToPosition(minutessList, minutes);\n            }\n\n            if (secondsList.length) {\n                this._scrollListToPosition(secondsList, seconds);\n            }\n\n            if (designatorList.length) {\n                this._scrollListToPosition(designatorList, designator);\n            }\n            this._internalScroll = false;\n        },\n\n        _scrollListToPosition: function(list, value) {\n            var item = list.find('.k-item[data-value=\"' + pad(value) + '\"]');\n            var itemHeight = getItemHeight(item);\n\n            list.scrollTop(list.find(\".k-item:visible\").index(item) * itemHeight);\n        },\n\n        close: function() {\n            this.popup.close();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.ul.off(ns);\n            that.list.off(ns);\n            if (this.popup) {\n                that.popup.destroy();\n            }\n        },\n\n        open: function() {\n            var that = this;\n            var popupHovered;\n\n            if (!that.ul[0].firstChild || (that.ul.find(\"li\").length < 1)) {\n                that.bind();\n            }\n\n            // In some cases when the popup is opened resize is triggered which will cause it to close\n            // Setting the below flag will prevent this from happening\n            // Reference: https://github.com/telerik/kendo/pull/7553\n            popupHovered = that.popup._hovered;\n            that.popup._hovered = true;\n\n            that.popup.open();\n\n            setTimeout(function() {\n                that.popup._hovered = popupHovered;\n            }, 1);\n\n            if (that._current) {\n                that.scroll(that._current[0]);\n            }\n        },\n\n        dataBind: function(dates) {\n            var that = this,\n                options = that.options,\n                format = options.format,\n                toString = kendo.toString,\n                template = that.template,\n                length = dates.length,\n                idx = 0,\n                date,\n                html = \"\";\n\n            for (; idx < length; idx++) {\n                date = dates[idx];\n\n                if (isInRange(date, options.min, options.max)) {\n                    html += template(toString(date, format, options.culture));\n                }\n            }\n\n            that._html(html);\n        },\n\n        refresh: function() {\n            var that = this,\n                options = that.options,\n                format = options.format,\n                offset = dst(),\n                ignoreDST = offset < 0,\n                value = kendo.parseDate(that._value),\n                parsedValue = value ? mergeDateAndTime(value, options.min) : mergeDateAndTime(new Date(), options.min),\n                min = options.min,\n                max = options.max,\n                msMin = getMilliseconds(min),\n                msMax = getMilliseconds(max),\n                msLastTime = getMilliseconds(lastTimeOption(options.interval)),\n                msInterval = options.interval * MS_PER_MINUTE,\n                toString = kendo.toString,\n                template = that.template,\n                start = options.useValueToRender ? parsedValue : new Date(+options.min),\n                startDate = new DATE(start),\n                msStart,\n                length,\n                html = \"\";\n\n            if (ignoreDST) {\n                length = (MS_PER_DAY + (offset * MS_PER_MINUTE)) / msInterval;\n            } else {\n                length = MS_PER_DAY / msInterval;\n            }\n\n            if (msMin != msMax || msLastTime === msMax) {\n                if (msMin > msMax) {\n                    msMax += MS_PER_DAY;\n                }\n\n                length = ((msMax - msMin) / msInterval) + 1;\n            }\n\n            if (options.timeView && options.timeView.list === \"scroll\") {\n                html = that._createListContent(splitDateFormat(format));\n            } else {\n                that.getDatesInRange(msStart, msMax, startDate, max, msInterval, start).forEach(function(date) {\n                    html += template(toString(date, format, options.culture));\n                });\n            }\n\n            that._html(html);\n        },\n\n        _showAllHiddenItems: function() {\n            var items = this.list.find('.k-time-container');\n            var length = items.length;\n            var item;\n\n            for (var i = 0; i < length; i++) {\n                item = $(items[i]);\n                item.find('.k-item:hidden').show();\n                this._updateListBottomOffset(item);\n            }\n        },\n\n        _updateListBottomOffset: function(list) {\n            var itemHeight = getItemHeight(list.find(\".k-item:visible\").eq(0));\n            var listHeight = list.outerHeight();\n            var bottomOffset = listHeight - itemHeight;\n            list.find(\".k-scrollable-placeholder\").css({\n                height: list.find(\"ul\").height() + bottomOffset\n            });\n        },\n\n        _updateHoursRange: function() {\n            var that = this;\n            var indexAttr = kendo.attr('index');\n            var hoursList = this.ul.find('[' + indexAttr + '=\"1\"]');\n            var minHours = this._minHours;\n            var maxHours = this._maxHours;\n            var is12hourFormat = includes(this.options.format.toLowerCase(), \"t\");\n            var useMax;\n            var useMin;\n            var selectedDesignator = this._findSelectedValue(this.ul.find('[' + indexAttr + '=\"4\"]'));\n\n            if (!hoursList.length) {\n                return;\n            }\n\n            if (is12hourFormat && selectedDesignator) {\n\n                if (selectedDesignator === \"AM\") {\n                    if (minHours < 12) {\n                        useMin = true;\n                    }\n\n                    if (maxHours < 12) {\n                        useMax = true;\n                    }\n                } else if (selectedDesignator === \"PM\") {\n\n                    if (minHours > 12) {\n                        useMin = true;\n                        minHours -= 12;\n                    }\n\n                    if (maxHours > 12) {\n                        useMax = true;\n                        maxHours -= 12;\n                    }\n                }\n\n                hoursList.find(\".k-item\").each(function(_, item) {\n                    item = $(item);\n                    var value = +item.attr(\"data-value\");\n                    if ((that._validateMin && useMin && value < minHours) || (that._validateMax && useMax && value > maxHours)) {\n                        item.hide();\n                    } else {\n                        item.show();\n                    }\n                });\n            } else {\n                hoursList.find(\".k-item\").each(function(_, item) {\n                    item = $(item);\n                    var value = +item.attr(\"data-value\");\n                    if ((that._validateMin && value < minHours) ||\n                        (that._validateMax && value > maxHours)) {\n                        item.hide();\n                    } else {\n                        item.show();\n                    }\n                });\n            }\n\n            this._updateListBottomOffset(hoursList);\n        },\n\n        _updateMinutesRange: function() {\n            var that = this;\n            var indexAttr = kendo.attr('index');\n            var minutesList = this.ul.find('[' + indexAttr + '=\"2\"]');\n            var minHours = this._minHours;\n            var maxHours = this._maxHours;\n            var minMinutes = this._minMinutes;\n            var maxMinutes = this._maxMinutes;\n            var selectedHour = +this._findSelectedValue(this.ul.find('[' + indexAttr + '=\"1\"]'));\n            var is12hourFormat = includes(this.options.format.toLowerCase(), \"t\");\n            var selectedDesignator = this._findSelectedValue(this.ul.find('[' + indexAttr + '=\"4\"]'));\n\n            if (is12hourFormat && selectedDesignator === \"PM\") {\n                selectedHour += 12;\n            }\n\n            if (!minutesList.length) {\n                return;\n            }\n\n            minutesList.find(\".k-item\").each(function(_, item) {\n                item = $(item);\n                var value = +item.attr(\"data-value\");\n                if ((that._validateMin && value < minMinutes && minHours && selectedHour === minHours) ||\n                    (that._validateMax && value > maxMinutes && maxHours && selectedHour === maxHours)) {\n                    item.hide();\n                } else {\n                    item.show();\n                }\n            });\n\n            this._updateListBottomOffset(minutesList);\n        },\n\n        _updateSecondsRange: function() {\n            var that = this;\n            var indexAttr = kendo.attr('index');\n            var secondsList = this.ul.find('[' + indexAttr + '=\"3\"]');\n            var minSeconds = this._minSeconds;\n            var maxSeconds = this._minSeconds;\n            var minMinutes = this._minMinutes;\n            var maxMinutes = this._maxMinutes;\n            var selectedMinutes = +this._findSelectedValue(this.ul.find('[' + indexAttr + '=\"2\"]'));\n\n            if (!secondsList.length) {\n                return;\n            }\n\n            secondsList.find(\".k-item\").each(function(_, item) {\n                item = $(item);\n                var value = +item.attr(\"data-value\");\n                if ((that._validateMin && value < minSeconds && minMinutes && selectedMinutes === minMinutes) ||\n                    (that._validateMax && value > maxSeconds && maxMinutes && selectedMinutes === maxMinutes)) {\n                    item.hide();\n                } else {\n                    item.show();\n                }\n            });\n\n            this._updateListBottomOffset(secondsList);\n        },\n\n        _updateDesignatorRange: function() {\n            var minHours = this._minHours;\n            var maxHours = this._maxHours;\n            var indexAttr = kendo.attr('index');\n            var designatorList = this.ul.find('[' + indexAttr + '=\"4\"]');\n\n            if (!designatorList.length) {\n               return;\n            }\n\n            if (this._validateMin && minHours >= 12) {\n                designatorList.find('.k-item[data-value=\"AM\"]').hide();\n            } else {\n                designatorList.find('.k-item[data-value=\"AM\"]').show();\n            }\n\n            if (this._validateMax && maxHours < 12) {\n                designatorList.find('.k-item[data-value=\"PM\"]').hide();\n            } else {\n                designatorList.find('.k-item[data-value=\"PM\"]').show();\n            }\n        },\n\n\n        _updateRanges: function() {\n            if (!this.options.specifiedRange) {\n                return;\n            }\n            if (!this._currentlySelected) {\n                this._currentlySelected = new Date();\n            }\n\n            var max = this.options.max;\n            var min = this.options.min;\n\n            if (this.options.validateDate) {\n                if (max.getFullYear() === this._currentlySelected.getFullYear() &&\n                    max.getMonth() === this._currentlySelected.getMonth() &&\n                    max.getDate() === this._currentlySelected.getDate()) {\n                    this._validateMax = true;\n                } else {\n                    this._validateMax = false;\n                }\n\n                if (min.getFullYear() === this._currentlySelected.getFullYear() &&\n                    min.getMonth() === this._currentlySelected.getMonth() &&\n                    min.getDate() === this._currentlySelected.getDate()) {\n                    this._validateMin = true;\n                } else {\n                    this._validateMin = false;\n                }\n\n                if (!this._validateMax && !this._validateMin) {\n                    this._showAllHiddenItems();\n                    return;\n                }\n            } else {\n                this._validateMax = true;\n                this._validateMin = true;\n            }\n\n            this._minMinutes = min.getMinutes();\n            this._maxMinutes = max.getMinutes();\n            this._minHours = min.getHours();\n            this._maxHours = max.getHours();\n            this._minSeconds = min.getSeconds();\n            this._maxSeconds = max.getSeconds();\n\n            this._updateDesignatorRange();\n            this._updateHoursRange();\n            this._updateMinutesRange();\n            this._updateSecondsRange();\n        },\n\n        addTranslate: function() {\n            var lists = this.ul.find(\".k-time-container.k-content.k-scrollable\");\n            var length = lists.length;\n            var list;\n            var itemHeight;\n            var listHeight;\n            var topOffset;\n            var translate;\n            var bottomOffset;\n\n            for (var i = 0; i < length; i++) {\n                list = lists.eq(i);\n                itemHeight = getItemHeight(list.find(\".k-item:visible\").eq(0));\n                listHeight = list.outerHeight();\n                topOffset = (listHeight - itemHeight) / 2;\n                translate = \"translateY(\" + topOffset + \"px)\";\n                bottomOffset = listHeight - itemHeight;\n                list.find(\"ul\").css({\n                    transform: translate,\n                    \"-ms-transform\": translate\n                });\n                list.find(\".k-scrollable-placeholder\").css({\n                    height: list.find(\"ul\").height() + bottomOffset\n                });\n                list.off(ns)\n                    .on(\"click\" + ns, \".k-item\", this._itemClickHandler.bind(this))\n                    .on(\"scroll\" + ns, this._listScrollHandler.bind(this));\n            }\n        },\n\n        _nowClickHandler: function(e) {\n            e.preventDefault();\n\n            var now = new Date();\n            this.value(now);\n            this.options.change(kendo.toString(now, this.options.format, this.options.culture), true);\n        },\n\n        _cancelClickHandler: function(e) {\n            e.preventDefault();\n            this.value(this._value);\n            this.popup.close();\n        },\n\n        _setClickHandler: function(e) {\n            e.preventDefault();\n            this._value = new Date(this._currentlySelected);\n\n            this.options.change(kendo.toString(this._currentlySelected, this.options.format, this.options.culture), true);\n            this.popup.close();\n        },\n\n        _listScrollHandler: function(e) {\n            var that = this;\n            var itemHeight = getItemHeight($(e.currentTarget).find(\".k-item:visible\").eq(0));\n\n            if (that._internalScroll) {\n                return;\n            }\n\n            if (that._scrollingTimeout) {\n                clearTimeout(that._scrollingTimeout);\n            }\n\n            that._scrollingTimeout = setTimeout(function() {\n                if (e.currentTarget.scrollTop % itemHeight > 1) {\n                    e.currentTarget.scrollTop += itemHeight - e.currentTarget.scrollTop % itemHeight;\n                }\n                that._scrollTop = e.currentTarget.scrollTop;\n                that._updateCurrentlySelected();\n                that._updateRanges();\n            }, 100);\n        },\n\n        _updateCurrentlySelected: function() {\n            var is12hourFormat = includes(this.options.format.toLowerCase(), \"t\");\n            var indexAttr = kendo.attr('index');\n            var hoursList = this.ul.find('[' + indexAttr + '=\"1\"]');\n            var minutesList = this.ul.find('[' + indexAttr + '=\"2\"]');\n            var secondsList = this.ul.find('[' + indexAttr + '=\"3\"]');\n            var designatorList = this.ul.find('[' + indexAttr + '=\"4\"]');\n            var selectedHour;\n            var selectedMinutes;\n            var selectedSeconds;\n            var selectedDesignator;\n\n            if (!this.ul.is(\":visible\")) {\n                return;\n            }\n\n            if (!this._currentlySelected) {\n                this._currentlySelected = this._value ? new Date(this._value) : new Date();\n            }\n\n            if (hoursList.length) {\n                selectedHour = +this._findSelectedValue(hoursList);\n            }\n\n            if (minutesList.length) {\n                selectedMinutes = +this._findSelectedValue(minutesList);\n            }\n\n            if (secondsList.length) {\n                selectedSeconds = +this._findSelectedValue(secondsList);\n            }\n\n            if (designatorList.length) {\n                selectedDesignator = this._findSelectedValue(designatorList);\n            }\n\n            if (is12hourFormat) {\n                if (selectedDesignator == \"PM\") {\n                    selectedHour += 12;\n                    if (selectedHour == 24) {\n                        selectedHour = 12;\n                    }\n                }\n\n                if (selectedDesignator === \"AM\" && selectedHour === 12) {\n                    selectedHour = 0;\n                }\n            }\n\n            if (selectedHour !== undefined) {\n                this._currentlySelected.setHours(selectedHour);\n            }\n\n            if (selectedMinutes !== undefined) {\n                this._currentlySelected.setMinutes(selectedMinutes);\n            }\n\n            if (selectedSeconds !== undefined) {\n                this._currentlySelected.setSeconds(selectedSeconds);\n            }\n        },\n\n        _findSelectedValue: function(list) {\n           var firstOccurence = firstItemIndex(list.scrollTop(), getItemHeight(list.find(\".k-item:visible\").eq(0)));\n           return list.find(\".k-item:visible\").eq(firstOccurence).attr(\"data-value\");\n        },\n\n        _itemClickHandler: function(e) {\n            var list = $(e.originalEvent.currentTarget);\n            var index = list.find(\".k-item:visible\").index($(e.currentTarget));\n            var itemHeight = getItemHeight(list.find(\".k-item:visible\").eq(0));\n\n            list.scrollTop(index * itemHeight);\n        },\n\n        getDatesInRange: function(msStart, msMax, startDate, max, msInterval, start) {\n            var result = [];\n\n            while (true) {\n                if (msMax && (getMilliseconds(start) >= msMax || startDate.getDate() != start.getDate())) {\n                    msStart = getMilliseconds(start);\n                    if (startDate < start) {\n                        msStart += MS_PER_DAY;\n                    }\n                    if (msStart > msMax) {\n                        start = new DATE(+max);\n                    }\n                    if (getMilliseconds(start) > 0) {\n                        result.push(new Date(start));\n                    }\n                    break;\n                }\n                if (startDate.getDate() != start.getDate()) {\n                    break;\n                }\n                result.push(new Date(start));\n                start.setTime(start.getTime() + msInterval);\n                if (!msMax && this.options.maxSet) {\n                    break;\n                }\n            }\n\n            return result;\n        },\n\n        _createListContent: function(parts) {\n            var length = parts.length;\n            var result = \"\";\n            var part;\n            var values;\n\n            for (var i = 0; i < length; i++) {\n                part = parts[i];\n\n                if (part.type === \"literal\") {\n                    result += this._literalTemplate(part);\n                } else {\n                    values = this._getValues(part, true);\n                    result += this._itemTemplate(values.values, part, this.options.messages[part.type], values.index);\n                }\n            }\n\n            return result;\n        },\n\n        _itemTemplate: function(values, part, title, index) {\n            var result = \"\";\n            var length = values.length;\n            var indexAttr = kendo.attr('index');\n\n            result += '<div class=\"k-time-list-wrapper\" role=\"presentation\">' +\n                        '<span class=\"k-title\">' + (title || part.type) + '</span>' +\n                        '<div class=\"k-time-list\">' +\n                            '<div class=\"k-time-container k-content k-scrollable\" role=\"presentation\" ' + indexAttr + '=\"' + index + '\">' +\n                                '<ul class=\"k-reset\">';\n\n            for ( var i = 0; i < length; i++) {\n                result += '<li class=\"k-item\" data-value=\"' + values[i] + '\">' +\n                                '<span>' + values[i] + '</span>' +\n                           '</li>';\n            }\n\n            result += '</ul>' +\n                      '<div class=\"k-scrollable-placeholder\"></div>' +\n                    '</div>' +\n                '</div>' +\n            '</div>';\n\n            return result;\n        },\n\n        _getValues: function(part, shouldPad) {\n            var result = [];\n            var index;\n            var start = 0;\n            var end;\n\n            if (part.type === \"hour\") {\n                start = part.hour12 ? 1 : 0;\n                index = 1;\n                end = part.hour12 ? 12 : 23;\n            } else if (part.type === \"minute\") {\n                index = 2;\n                end = 59;\n            } else if (part.type === \"second\") {\n                index = 3;\n                end = 59;\n            }\n\n            for (; start <= end; start++) {\n                result.push(shouldPad ? pad(start) : start);\n            }\n\n            return {\n                values: result,\n                index: index\n            };\n        },\n\n        _literalTemplate: function(part) {\n            var result = '<div class=\"k-time-separator\">' +\n                (part.pattern === \" tt\" ? ':' : part.pattern) +\n                '</div>';\n\n            if (part.pattern === \" tt\") {\n                result += this._itemTemplate([\"AM\", \"PM\"], part, \"AM/PM\", 4);\n            }\n\n            return result;\n        },\n\n        bind: function() {\n            var that = this,\n                dates = that.options.dates;\n\n            if (dates && dates[0]) {\n                that.dataBind(dates);\n            } else {\n                that.refresh();\n            }\n        },\n\n        _html: function(html) {\n            var that = this;\n\n            if (that.options.timeView && that.options.timeView.list === \"scroll\") {\n                html = HIGHLIGHTCONTAINER + html;\n                that.ul.html(html);\n            } else {\n                that.ul[0].innerHTML = html;\n                that.popup.unbind(OPEN, that._heightHandler);\n                that.popup.one(OPEN, that._heightHandler);\n\n                that.current(null);\n                that.select(that._value);\n            }\n        },\n\n        scroll: function(item) {\n            if (!item) {\n                return;\n            }\n\n            if (item.scrollIntoViewIfNeeded) {\n                item.scrollIntoViewIfNeeded();\n            } else {\n                scrollIntoViewIfNeeded(item);\n            }\n        },\n\n        select: function(li) {\n            var that = this,\n                options = that.options,\n                current = that._current,\n                selection;\n\n            if (li instanceof Date) {\n                li = kendo.toString(li, options.format, options.culture);\n            }\n\n            if (typeof li === \"string\") {\n                if (!current || current.text() !== li) {\n                    li = $.grep(that.ul[0].childNodes, function(node) {\n                        return (node.textContent || node.innerText) == li;\n                    });\n\n                    li = li[0] ? li : null;\n                } else {\n                    li = current;\n                }\n            }\n            selection = that._distinctSelection(li);\n            that.current(selection);\n        },\n\n        _distinctSelection: function(selection) {\n            var that = this,\n                currentValue,\n                selectionIndex;\n\n            if (selection && selection.length > 1) {\n                currentValue = getMilliseconds(that._value);\n                selectionIndex = $.inArray(currentValue, that._dates);\n                selection = that.ul.children()[selectionIndex];\n            }\n\n            return selection;\n        },\n\n        setOptions: function(options) {\n            var old = this.options;\n\n            options.min = parse(options.min);\n            options.max = parse(options.max);\n\n            this.options = extend(old, options, {\n                active: old.active,\n                change: old.change,\n                close: old.close,\n                open: old.open\n            });\n\n            this.bind();\n        },\n\n        toggle: function() {\n            var that = this;\n\n            if (that.popup.visible()) {\n                that.close();\n            } else {\n                that.open();\n            }\n        },\n\n        value: function(value) {\n            var that = this;\n\n            that._value = value;\n            if (that.ul[0].firstChild) {\n                if (that.options.timeView && that.options.timeView.list === \"scroll\") {\n                    that.applyValue(value);\n                } else {\n                    that.select(value);\n                }\n            }\n        },\n\n        _click: function(e) {\n            var that = this,\n                li = $(e.currentTarget),\n                date = li.text(),\n                dates = that.options.dates;\n\n            if (dates && dates.length > 0) {\n                date = dates[li.index()];\n            }\n\n            if (!e.isDefaultPrevented()) {\n                that.select(li);\n                that.options.change(date, true);\n                that.close();\n            }\n        },\n\n        _height: function() {\n            var that = this;\n            var list = that.list;\n            var parent = list.parent(\".k-animation-container\");\n            var height = that.options.height;\n\n            if (that.ul[0].children.length) {\n                list.add(parent)\n                    .show()\n                    .height(that.ul[0].scrollHeight > height ? height : \"auto\")\n                    .hide();\n            }\n        },\n\n        _parse: function(value) {\n            var that = this,\n                options = that.options,\n                min = getMilliseconds(options.min) != getMilliseconds(TODAY) ? options.min : null,\n                max = getMilliseconds(options.max) != getMilliseconds(TODAY) ? options.max : null,\n                current = that._value || min || max || TODAY;\n\n            if (value instanceof DATE) {\n                return value;\n            }\n\n            value = parse(value, options.parseFormats, options.culture);\n\n            if (value) {\n                value = new DATE(current.getFullYear(),\n                                 current.getMonth(),\n                                 current.getDate(),\n                                 value.getHours(),\n                                 value.getMinutes(),\n                                 value.getSeconds(),\n                                 value.getMilliseconds());\n            }\n\n            return value;\n        },\n\n        _adjustListWidth: function() {\n            var list = this.list,\n                width = list[0].style.width,\n                wrapper = this.options.anchor,\n                computedStyle, computedWidth,\n                outerWidth = kendo._outerWidth;\n\n            if (!list.data(\"width\") && width) {\n                return;\n            }\n\n            computedStyle = window.getComputedStyle ? window.getComputedStyle(wrapper[0], null) : 0;\n            computedWidth = computedStyle ? parseFloat(computedStyle.width) : outerWidth(wrapper);\n\n            if (computedStyle && (browser.mozilla || browser.msie)) { // getComputedStyle returns different box in FF and IE.\n                computedWidth += parseFloat(computedStyle.paddingLeft) + parseFloat(computedStyle.paddingRight) + parseFloat(computedStyle.borderLeftWidth) + parseFloat(computedStyle.borderRightWidth);\n            }\n\n            width = computedWidth - (outerWidth(list) - list.width());\n\n            list.css({\n                fontFamily: wrapper.css(\"font-family\"),\n                width: width\n            })\n            .data(\"width\", width);\n        },\n\n        _popup: function() {\n            var that = this,\n                list = that.list,\n                options = that.options,\n                anchor = options.anchor;\n\n            if (!this.options.omitPopup) {\n\n                that.popup = new ui.Popup(list, extend(options.popup, {\n                    anchor: anchor,\n                    open: options.open,\n                    close: options.close,\n                    animation: options.animation,\n                    isRtl: support.isRtl(options.anchor),\n                    activate: function() {\n                        if (that.options.timeView && that.options.timeView.list === \"scroll\") {\n                            that.addTranslate();\n                            if (that._value) {\n                                that.applyValue(that._value);\n                            } else {\n                                that._updateCurrentlySelected();\n                            }\n                            that._updateRanges();\n                            that._focusList(that.list.find(\".k-time-list-wrapper\").eq(0));\n                        }\n                    }\n                }));\n            } else {\n                list.appendTo(options.timeDiv);\n            }\n        },\n\n        move: function(e) {\n            var that = this,\n                key = e.keyCode,\n                ul = that.ul[0],\n                current = that._current,\n                down = key === keys.DOWN;\n\n            if (key === keys.UP || down) {\n                if (e.altKey) {\n                    that.toggle(down);\n                    return;\n                } else if (down) {\n                    current = current ? current[0].nextSibling : ul.firstChild;\n                } else {\n                    current = current ? current[0].previousSibling : ul.lastChild;\n                }\n\n                if (current) {\n                    that.select(current);\n                }\n\n                that.options.change(that._current.text());\n                e.preventDefault();\n\n            } else if (key === keys.ENTER || key === keys.TAB || key === keys.ESC) {\n                e.preventDefault();\n                if (current) {\n                    that.options.change(current.text(), true);\n                }\n                that.close();\n            }\n        }\n    };\n\n    function dst() {\n        var today = new DATE(),\n            midnight = new DATE(today.getFullYear(), today.getMonth(), today.getDate(), 0, 0, 0),\n            noon = new DATE(today.getFullYear(), today.getMonth(), today.getDate(), 12, 0, 0);\n\n        return -1 * (midnight.getTimezoneOffset() - noon.getTimezoneOffset());\n    }\n\n    function getMilliseconds(date) {\n        return date.getHours() * 60 * MS_PER_MINUTE + date.getMinutes() * MS_PER_MINUTE + date.getSeconds() * 1000 + date.getMilliseconds();\n    }\n\n    function lastTimeOption(interval) {\n        var date = new Date(2100, 0, 1);\n        date.setMinutes(-interval);\n        return date;\n    }\n\n    function isInRange(value, min, max) {\n        var msMin = getMilliseconds(min),\n            msMax = getMilliseconds(max),\n            msValue;\n\n        if (!value || msMin == msMax) {\n            return true;\n        }\n\n        msValue = getMilliseconds(value);\n\n        if (msMin > msValue) {\n            msValue += MS_PER_DAY;\n        }\n\n        if (msMax < msMin) {\n            msMax += MS_PER_DAY;\n        }\n\n        return msValue >= msMin && msValue <= msMax;\n    }\n\n    TimeView.getMilliseconds = getMilliseconds;\n\n    kendo.TimeView = TimeView;\n\n    var TimePicker = Widget.extend({\n        init: function(element, options) {\n            var that = this, ul, timeView, disabled;\n\n            options = options || {};\n            options.componentType = options.componentType || \"classic\";\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.element;\n            options = that.options;\n\n            options.min = parse(element.attr(\"min\")) || parse(options.min);\n            options.max = parse(element.attr(\"max\")) || parse(options.max);\n\n            if (+options.max != +TODAY || +options.min != +TODAY) {\n                this._specifiedRange = true;\n            }\n\n            normalize(options);\n\n            that._initialOptions = extend({}, options);\n\n            that._wrapper();\n\n            if (that.options.timeView && that.options.timeView.list === \"scroll\") {\n                that.options.height = null;\n            }\n\n            that.timeView = timeView = new TimeView(extend({}, options, {\n                id: element.attr(ID),\n                anchor: that.wrapper,\n                format: options.format,\n                change: function(value, trigger) {\n                    if (trigger) {\n                        that._change(value);\n                    } else {\n                        element.val(value);\n                    }\n                },\n                open: function(e) {\n                    if (that.options.timeView && that.options.timeView.list !== \"scroll\") {\n                        that.timeView._adjustListWidth();\n                    } else {\n                        that.timeView._updateTitle();\n                    }\n\n                    if (that.trigger(OPEN)) {\n                        e.preventDefault();\n                    } else {\n                        element.attr(ARIA_EXPANDED, true);\n                        ul.attr(ARIA_HIDDEN, false);\n\n                        if (timeView.current()) {\n                            element.attr(ARIA_ACTIVEDESCENDANT, timeView._optionID);\n                        }\n                    }\n                },\n                close: function(e) {\n                    if (that.trigger(CLOSE)) {\n                        e.preventDefault();\n                    } else {\n                        element.attr(ARIA_EXPANDED, false);\n                        ul.attr(ARIA_HIDDEN, true);\n                        element[0].removeAttribute(ARIA_ACTIVEDESCENDANT);\n                    }\n                },\n                active: function(current) {\n                    if (element && element.length) {\n                        element[0].removeAttribute(ARIA_ACTIVEDESCENDANT);\n                    }\n                    if (current) {\n                        element.attr(ARIA_ACTIVEDESCENDANT, timeView._optionID);\n                    }\n                },\n                specifiedRange: that._specifiedRange,\n                maxSet: +options.max != +TODAY\n            }));\n            ul = timeView.ul;\n\n            that._ariaLabel(ul);\n\n            that._icon();\n            that._reset();\n\n            try {\n                element[0].setAttribute(\"type\", \"text\");\n            } catch (e) {\n                element[0].type = \"text\";\n            }\n\n            element.addClass(\"k-input-inner\")\n                   .attr({\n                        \"role\": \"combobox\",\n                        \"aria-expanded\": false,\n                        \"aria-controls\": timeView._timeViewID,\n                        \"autocomplete\": \"off\"\n                   });\n\n            disabled = element.is(\"[disabled]\") || $(that.element).parents(\"fieldset\").is(':disabled');\n            if (disabled) {\n                that.enable(false);\n            } else {\n                that.readonly(element.is(\"[readonly]\"));\n            }\n            if (options.dateInput) {\n                var min = options.min;\n                var max = options.max;\n                var today = new DATE();\n                if (getMilliseconds(min) == getMilliseconds(max)) {\n                    min = new DATE(today.getFullYear(), today.getMonth(), today.getDate(), 0, 0, 0);\n                    max = new DATE(today.getFullYear(), today.getMonth(), today.getDate(), 24, 0, 0);\n                }\n\n                that._dateInput = new ui.DateInput(element, {\n                    culture: options.culture,\n                    format: options.format,\n                    min: min,\n                    max: max,\n                    value: options.value,\n                    interval: options.interval,\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    rounded: options.rounded\n                });\n            }\n            that._old = that._update(options.value || that.element.val());\n            that._oldText = element.val();\n            that._applyCssClasses();\n\n            kendo.notify(that);\n        },\n\n        options: {\n            name: \"TimePicker\",\n            min: TODAY,\n            max: TODAY,\n            format: \"\",\n            dates: [],\n            parseFormats: [],\n            value: null,\n            interval: 30,\n            height: 200,\n            animation: {},\n            dateInput: false,\n            messages: {\n                set: \"Set\",\n                cancel: \"Cancel\",\n                hour: \"hour\",\n                minute: \"minute\",\n                second: \"second\",\n                millisecond: \"millisecond\",\n                now: \"Now\"\n            },\n            componentType: \"classic\",\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        events: [\n         OPEN,\n         CLOSE,\n         CHANGE\n        ],\n\n        componentTypes: {\n            \"classic\": {\n                timeView: {\n                    list: \"list\"\n                }\n            },\n            \"modern\": {\n                timeView: {\n                    list: \"scroll\"\n                }\n            }\n        },\n\n        setOptions: function(options) {\n            var that = this;\n            var value = that._value;\n\n            Widget.fn.setOptions.call(that, options);\n            options = that.options;\n\n            if (+options.max != +TODAY || +options.min != +TODAY) {\n                this._specifiedRange = true;\n            }\n\n            that._arrow.off(ns);\n            that._arrow.remove();\n\n            normalize(options);\n\n            that.timeView.setOptions(options);\n\n            that._icon();\n            that._editable(options);\n\n            if (value) {\n                that.element.val(kendo.toString(value, options.format, options.culture));\n            }\n        },\n\n        dataBind: function(dates) {\n            if (isArray(dates)) {\n                this.timeView.dataBind(dates);\n            }\n        },\n\n        _editable: function(options) {\n            var that = this,\n                disable = options.disable,\n                readonly = options.readonly,\n                arrow = that._arrow.off(ns),\n                element = that.element.off(ns),\n                wrapper = that.wrapper.off(ns);\n\n            if (that._dateInput) {\n                that._dateInput._unbindInput();\n            }\n\n            if (!readonly && !disable) {\n                wrapper\n                    .removeClass(STATEDISABLED)\n                    .on(HOVEREVENTS, that._toggleHover);\n\n                if (element && element.length) {\n                    element[0].removeAttribute(DISABLED);\n                    element[0].removeAttribute(READONLY);\n                }\n                element.attr(ARIA_DISABLED, false)\n                       .attr(ARIA_READONLY, false)\n                       .on(\"keydown\" + ns, that._keydown.bind(that))\n                       .on(\"focusout\" + ns, that._blur.bind(that))\n                       .on(\"focus\" + ns, function() {\n                           that.wrapper.addClass(FOCUSED);\n                       });\n\n                if (that._dateInput) {\n                    that._dateInput._bindInput();\n                }\n               arrow.on(CLICK, that._click.bind(that))\n                   .on(MOUSEDOWN, preventDefault);\n            } else {\n                wrapper\n                    .addClass(disable ? STATEDISABLED : \"\")\n                    .removeClass(disable ? \"\" : STATEDISABLED);\n\n                element.attr(DISABLED, disable)\n                       .attr(READONLY, readonly)\n                       .attr(ARIA_DISABLED, disable)\n                       .attr(ARIA_READONLY, readonly);\n            }\n        },\n\n        readonly: function(readonly) {\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n        },\n\n        enable: function(enable) {\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that.timeView.destroy();\n\n            that.element.off(ns);\n            that._arrow.off(ns);\n            that.wrapper.off(ns);\n\n            if (that._form) {\n                that._form.off(\"reset\", that._resetHandler);\n            }\n        },\n\n        close: function() {\n            this.timeView.close();\n        },\n\n        open: function() {\n            this.timeView.open();\n        },\n\n        min: function(value) {\n            if (value) {\n                this._specifiedRange = true;\n            }\n\n            return this._option(\"min\", value);\n        },\n\n        max: function(value) {\n            if (value && this.timeView) {\n                this._specifiedRange = true;\n                this.timeView.options.maxSet = true;\n            } else if (this.timeView) {\n                this.timeView.options.maxSet = false;\n            }\n            return this._option(\"max\", value);\n        },\n\n        value: function(value) {\n            var that = this;\n\n            if (value === undefined) {\n                return that._value;\n            }\n\n            that._old = that._update(value);\n\n            if (that._old === null) {\n                that.element.val(\"\");\n            }\n\n            that._oldText = that.element.val();\n        },\n\n        _blur: function() {\n            var that = this,\n                value = that.element.val();\n\n           if (!(that.options.timeView && that.options.timeView.list === \"scroll\")) {\n               that.close();\n           }\n\n            if (value !== that._oldText) {\n                that._change(value);\n            }\n            that.wrapper.removeClass(FOCUSED);\n        },\n\n        _click: function() {\n            var that = this,\n                element = that.element;\n\n            that.timeView.toggle();\n\n            if (!support.touch && element[0] !== activeElement()) {\n                element.trigger(\"focus\");\n            }\n        },\n\n        _change: function(value) {\n            var that = this,\n            oldValue = that.element.val(),\n            dateChanged;\n\n            value = that._update(value);\n            dateChanged = !kendo.calendar.isEqualDate(that._old, value);\n\n            var valueUpdated = dateChanged && !that._typing;\n            var textFormatted = oldValue !== that.element.val();\n\n            if (valueUpdated || textFormatted) {\n                that.element.trigger(CHANGE);\n            }\n\n            if (dateChanged) {\n                that._old = value;\n                that._oldText = that.element.val();\n\n                that.trigger(CHANGE);\n            }\n\n            that._typing = false;\n        },\n\n        _icon: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                arrow;\n\n            arrow = element.next(\"button.k-input-button\");\n\n            if (!arrow[0]) {\n                arrow = $(html.renderButton('<button unselectable=\"on\" tabindex=\"-1\" class=\"k-input-button\" aria-label=\"select\"></button>', {\n                    icon: \"clock\",\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    shape: \"none\",\n                    rounded: \"none\"\n                })).insertAfter(element);\n            }\n\n            that._arrow = arrow.attr({\n                \"role\": \"button\"\n            });\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode,\n                timeView = that.timeView,\n                value = that.element.val();\n\n            if (timeView.popup.visible() || e.altKey) {\n                timeView.move(e);\n                if (that._dateInput && e.stopImmediatePropagation) {\n                    e.stopImmediatePropagation();\n                }\n            } else if (key === keys.ENTER && value !== that._oldText) {\n                that._change(value);\n            } else {\n                that._typing = true;\n            }\n        },\n\n        _option: function(option, value) {\n            var that = this,\n                options = that.options;\n\n            if (value === undefined) {\n                return options[option];\n            }\n\n            value = that.timeView._parse(value);\n\n            if (!value) {\n                return;\n            }\n\n            value = new DATE(+value);\n\n            options[option] = value;\n            that.timeView.options[option] = value;\n            that.timeView.bind();\n        },\n\n        _toggleHover: function(e) {\n            $(e.currentTarget).toggleClass(HOVER, e.type === \"mouseenter\");\n        },\n\n        _update: function(value) {\n            var that = this,\n                options = that.options,\n                timeView = that.timeView,\n                date = timeView._parse(value);\n\n            if (!isInRange(date, options.min, options.max)) {\n                date = null;\n            }\n\n            that._value = date;\n            that._currentlySelected = date;\n            if (that._dateInput && date) {\n                that._dateInput.value(date || value);\n            } else {\n                that.element.val(kendo.toString(date || value, options.format, options.culture));\n            }\n            timeView.value(date);\n\n            return date;\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                wrapper;\n\n            wrapper = element.parents(\".k-timepicker\");\n\n            if (!wrapper[0]) {\n                wrapper = element.wrap(SPAN).parent();\n            }\n\n            wrapper[0].style.cssText = element[0].style.cssText;\n            that.wrapper = wrapper.addClass(\"k-timepicker k-input\")\n                .addClass(element[0].className);\n\n            element.css({\n                height: element[0].style.height\n            });\n        },\n\n        _reset: function() {\n            var that = this,\n                element = that.element,\n                formId = element.attr(\"form\"),\n                form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    that.value(element[0].defaultValue);\n                    that.max(that._initialOptions.max);\n                    that.min(that._initialOptions.min);\n                };\n\n                that._form = form.on(\"reset\", that._resetHandler);\n            }\n        }\n    });\n\n    function normalize(options) {\n        var parseFormats = options.parseFormats;\n\n        options.format = extractFormat(options.format || kendo.getCulture(options.culture).calendars.standard.patterns.t);\n\n        parseFormats = isArray(parseFormats) ? parseFormats : [parseFormats];\n        parseFormats.splice(0, 0, options.format);\n        options.parseFormats = parseFormats;\n    }\n\n    function preventDefault(e) {\n        e.preventDefault();\n    }\n\n    function mergeDateAndTime(date, time) {\n        return new Date(date.getFullYear(),\n            date.getMonth(),\n            date.getDate(),\n            time.getHours(),\n            time.getMinutes(),\n            time.getSeconds(),\n            time.getMilliseconds());\n    }\n\n    function datePattern(format, info) {\n        var calendar = info.calendar;\n        var result;\n        if (typeof format === \"string\") {\n            if (calendar.patterns[format]) {\n                result = calendar.patterns[format];\n            } else {\n                result = format;\n            }\n        }\n\n        if (!result) {\n            result = calendar.patterns.d;\n        }\n\n        return result;\n    }\n\n    function addLiteral(parts, value) {\n        var lastPart = parts[parts.length - 1];\n        if (lastPart && lastPart.type === \"LITERAL\") {\n            lastPart.pattern += value;\n        } else {\n            parts.push({\n                type: LITERAL,\n                pattern: value\n            });\n        }\n    }\n\n    function isHour12(pattern) {\n        return pattern === \"h\" || pattern === \"K\";\n    }\n\n    function dateNameType(formatLength) {\n        var nameType;\n        if (formatLength <= 3) {\n            nameType = \"abbreviated\";\n        } else if (formatLength === 4) {\n            nameType = \"wide\";\n        } else if (formatLength === 5) {\n            nameType = \"narrow\";\n        } else if (formatLength === 6) {\n            nameType = \"short\";\n        }\n\n        return nameType;\n    }\n\n    function startsWith(text, searchString, position) {\n        position = position || 0;\n        return text.indexOf(searchString, position) === position;\n    }\n\n    function includes(text, subStr) {\n        var returnValue = false;\n\n        if (text.indexOf(subStr) !== -1) {\n            returnValue = true;\n        }\n\n        return returnValue;\n    }\n\n    function splitDateFormat(format) {\n        var info = kendo.culture();\n        var pattern = datePattern(format, info);\n        var parts = [];\n        var lastIndex = dateFormatRegExp.lastIndex = 0;\n        var match = dateFormatRegExp.exec(pattern);\n        var specifier;\n        var type;\n        var part;\n        var names;\n        var minLength;\n        var patternLength;\n\n        while (match) {\n            var value = match[0];\n\n            if (lastIndex < match.index) {\n                addLiteral(parts, pattern.substring(lastIndex, match.index));\n            }\n\n            if (startsWith(value, '\"') || startsWith(value, \"'\")) {\n                addLiteral(parts, value);\n            } else {\n                specifier = value[0];\n                type = DATE_FIELD_MAP[specifier];\n                part = {\n                    type: type,\n                    pattern: value\n                };\n\n                if (type === \"hour\") {\n                    part.hour12 = isHour12(value);\n                }\n\n                names = NAME_TYPES[type];\n\n                if (names) {\n                    minLength = typeof names.minLength === \"number\" ? names.minLength : names.minLength[specifier];\n                    patternLength = value.length;\n\n                    if (patternLength >= minLength) {\n                        part.names = {\n                            type: names.type,\n                            nameType: dateNameType(patternLength),\n                            standAlone: names.standAlone === specifier\n                        };\n                    }\n                }\n\n                parts.push(part);\n            }\n\n            lastIndex = dateFormatRegExp.lastIndex;\n            match = dateFormatRegExp.exec(pattern);\n        }\n\n        if (lastIndex < pattern.length) {\n            addLiteral(parts, pattern.substring(lastIndex));\n        }\n\n        return parts;\n    }\n\n    function pad(value, size) {\n        var s = String(value);\n        while (s.length < (size || 2)) {\n            s = \"0\" + s;\n        }\n        return s;\n    }\n\n    function firstItemIndex(scrollTop, itemHeight) {\n        return Math.max(Math.round(scrollTop / itemHeight), 0);\n    }\n\n    function getItemHeight(item) {\n        return item.length && item[0].getBoundingClientRect().height;\n    }\n\n    function scrollIntoViewIfNeeded(element, centerIfNeeded) {\n\n        function makeRange(start, length) {\n            return { start: start, length: length, end: start + length };\n        }\n\n        function coverRange(inner, outer) {\n            if (centerIfNeeded === false ||\n                (outer.start < inner.end && inner.start < outer.end))\n            {\n                return Math.min(\n                    inner.start, Math.max(outer.start, inner.end - outer.length)\n                );\n            }\n            return (inner.start + inner.end - outer.length) / 2;\n        }\n\n        function makePoint(x, y) {\n            return {\n                x: x, y: y,\n                translate: function translate(dX, dY) {\n                    return makePoint(x + dX, y + dY);\n                }\n            };\n        }\n\n        function absolute(elem, pt) {\n            while (elem) {\n                pt = pt.translate(elem.offsetLeft, elem.offsetTop);\n                elem = elem.offsetParent;\n            }\n            return pt;\n        }\n\n        var target = absolute(element, makePoint(0, 0)),\n            extent = makePoint(element.offsetWidth, element.offsetHeight),\n            elem = element.parentNode,\n            origin;\n\n        while (elem instanceof HTMLElement) {\n            origin = absolute(elem, makePoint(elem.clientLeft, elem.clientTop));\n            elem.scrollLeft = coverRange(\n                makeRange(target.x - origin.x, extent.x),\n                makeRange(elem.scrollLeft, elem.clientWidth)\n            );\n            elem.scrollTop = coverRange(\n                makeRange(target.y - origin.y, extent.y),\n                makeRange(elem.scrollTop, elem.clientHeight)\n            );\n\n            target = target.translate(-elem.scrollLeft, -elem.scrollTop);\n            elem = elem.parentNode;\n        }\n    }\n\n\n    kendo.cssProperties.registerPrefix(\"TimePicker\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"TimePicker\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    ui.plugin(TimePicker);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.datetimepicker',[ \"kendo.datepicker\", \"kendo.timepicker\", \"kendo.html.button\"], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"datetimepicker\",\n    name: \"DateTimePicker\",\n    category: \"web\",\n    description: \"The DateTimePicker allows the end user to select a value from a calendar or a time drop-down list.\",\n    depends: [ \"datepicker\", \"timepicker\" ]\n};\n\n(function($, undefined) {\n\n    var kendo = window.kendo,\n        TimeView = kendo.TimeView,\n        html = kendo.html,\n        parse = kendo.parseDate,\n        support = kendo.support,\n        activeElement = kendo._activeElement,\n        extractFormat = kendo._extractFormat,\n        calendar = kendo.calendar,\n        isInRange = calendar.isInRange,\n        restrictValue = calendar.restrictValue,\n        isEqualDatePart = calendar.isEqualDatePart,\n        getMilliseconds = TimeView.getMilliseconds,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        CHANGE = \"change\",\n        ns = \".kendoDateTimePicker\",\n        CLICK = \"click\" + ns,\n        UP = support.mouseAndTouchPresent ? kendo.applyEventMap(\"up\", ns.slice(1)) : CLICK,\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        FOCUSED = \"k-focus\",\n        HOVER = \"k-hover\",\n        STATEDISABLED = \"k-disabled\",\n        HOVEREVENTS = \"mouseenter\" + ns + \" mouseleave\" + ns,\n        MOUSEDOWN = \"mousedown\" + ns,\n        MONTH = \"month\",\n        SPAN = \"<span/>\",\n        ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n        ARIA_EXPANDED = \"aria-expanded\",\n        ARIA_HIDDEN = \"aria-hidden\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_READONLY = \"aria-readonly\",\n        DATE = Date,\n        MIN = new DATE(1800, 0, 1),\n        MAX = new DATE(2099, 11, 31),\n        dateViewParams = { view: \"date\" },\n        timeViewParams = { view: \"time\" },\n        extend = $.extend,\n        SINGLE_POPUP_TEMPLATE = '<div class=\"k-date-tab k-datetime-wrap\">' +\n                                    '<div class=\"k-datetime-buttongroup\">' +\n                                        '<div class=\"k-button-group k-button-group-stretched\">' +\n                                            '<button class=\"k-button #=buttonSize# k-rounded-md k-button-solid k-button-solid-base k-selected k-group-start\">' +\n                                                '<span class=\"k-button-text\">#=messages.date#</span>' +\n                                            '</button>' +\n                                            '<button class=\"k-button #=buttonSize# k-rounded-md k-button-solid k-button-solid-base k-group-end\">' +\n                                                '<span class=\"k-button-text\">#=messages.time#</span>' +\n                                            '</button>' +\n                                        '</div>' +\n                                    '</div>' +\n                                    '<div class=\"k-datetime-selector\">' +\n                                        '<div class=\"k-datetime-calendar-wrap\">' +\n                                        '</div>' +\n                                        '<div class=\"k-datetime-time-wrap\">' +\n                                        '</div>' +\n                                    '</div>' +\n                                    '<div class=\"k-datetime-footer k-action-buttons\">' +\n                                        '<button class=\"k-button #=buttonSize# k-rounded-md k-button-solid k-button-solid-base k-time-cancel\" title=\"Cancel\" aria-label=\"Cancel\">' +\n                                            '<span class=\"k-button-text\">#=messages.cancel#</span>' +\n                                        '</button>' +\n                                        '<button class=\"k-time-accept k-button #=buttonSize# k-rounded-md k-button-solid k-button-solid-primary\" title=\"Set\" aria-label=\"Set\">' +\n                                            '<span class=\"k-button-text\">#=messages.set#</span>' +\n                                        '</button>' +\n                                    '</div>' +\n                                '</div>',\n        STATE_SELECTED = \"k-selected\";\n\n    var DateTimePicker = Widget.extend({\n        init: function(element, options) {\n            var that = this, disabled, initialValue;\n\n            options = options || {};\n            options.componentType = options.componentType || \"classic\";\n            Widget.fn.init.call(that, element, options);\n\n            element = that.element;\n            options = that.options;\n\n            options.disableDates = kendo.calendar.disabled(options.disableDates);\n            options.min = parse(element.attr(\"min\")) || parse(options.min);\n            options.max = parse(element.attr(\"max\")) || parse(options.max);\n\n            if (+options.max != +MAX || +options.min != +MIN) {\n                this._specifiedRange = true;\n            }\n\n            normalize(options);\n\n            that._initialOptions = extend({}, options);\n\n            that._wrapper();\n\n            if (options.singlePopup) {\n                that._popup();\n            }\n\n            that._views();\n\n            that._icons();\n\n            that._reset();\n            that._template();\n\n            try {\n                element[0].setAttribute(\"type\", \"text\");\n            } catch (e) {\n                element[0].type = \"text\";\n            }\n\n            element.addClass(\"k-input-inner\")\n                   .attr({\n                       \"role\": \"combobox\",\n                       \"aria-expanded\": false,\n                       \"aria-haspopup\": \"grid\",\n                       \"aria-controls\": that.dateView._dateViewID + \" \" + that.timeView._timeViewID,\n                       \"autocomplete\": \"off\"\n                   });\n\n\n            that._midnight = that._calculateMidnight(options.min, options.max);\n\n            disabled = element.is(\"[disabled]\") || $(that.element).parents(\"fieldset\").is(':disabled');\n            if (disabled) {\n                that.enable(false);\n            } else {\n                that.readonly(element.is(\"[readonly]\"));\n            }\n\n            initialValue = parse(options.value || that.element.val(), options.parseFormats, options.culture);\n\n            that._createDateInput(options);\n\n            that._old = that._update(initialValue || that.element.val());\n            that._oldText = element.val();\n            that._applyCssClasses();\n\n            kendo.notify(that);\n        },\n\n        options: {\n            name: \"DateTimePicker\",\n            value: null,\n            format: \"\",\n            timeFormat: \"\",\n            culture: \"\",\n            parseFormats: [],\n            dates: [],\n            disableDates: null,\n            min: new DATE(MIN),\n            max: new DATE(MAX),\n            interval: 30,\n            height: 200,\n            footer: \"\",\n            start: MONTH,\n            depth: MONTH,\n            animation: {},\n            month: {},\n            ARIATemplate: 'Current focused #=data.valueType# is #=data.text#',\n            dateButtonText: \"Open the date view\",\n            timeButtonText: \"Open the time view\",\n            dateInput: false,\n            weekNumber: false,\n            messages: {\n                set: \"Set\",\n                cancel: \"Cancel\",\n                hour: \"hour\",\n                minute: \"minute\",\n                second: \"second\",\n                millisecond: \"millisecond\",\n                now: \"Now\",\n                date: \"Date\",\n                time: \"Time\",\n                today: \"Today\",\n                weekColumnHeader: \"\"\n            },\n            componentType: \"classic\",\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        events: [\n            OPEN,\n            CLOSE,\n            CHANGE\n        ],\n\n        componentTypes: {\n            \"classic\": {\n                singlePopup: false,\n                timeView: {\n                    list: \"list\"\n                }\n            },\n            \"modern\": {\n                singlePopup: true,\n                timeView: {\n                    list: \"scroll\"\n                }\n            }\n        },\n\n        setOptions: function(options) {\n            var that = this,\n                value = that._value,\n                min, max, currentValue;\n\n            Widget.fn.setOptions.call(that, options);\n\n            options = that.options;\n\n            options.min = min = parse(options.min);\n            options.max = max = parse(options.max);\n\n            normalize(options);\n\n            that._midnight = that._calculateMidnight(options.min, options.max);\n\n            currentValue = options.value || that._value || that.dateView._current;\n\n            if (min && !isEqualDatePart(min, currentValue)) {\n                min = new DATE(MIN);\n            }\n\n            if (max && !isEqualDatePart(max, currentValue)) {\n                max = new DATE(MAX);\n            }\n\n            that._dateIcon.off(ns);\n            that._dateIcon.remove();\n            that._timeIcon.off(ns);\n            that._timeIcon.remove();\n\n            that.dateView.setOptions(options);\n\n            that.timeView.setOptions(extend({}, options, {\n                format: options.timeFormat,\n                min: min,\n                max: max\n            }));\n\n            that._icons();\n            that._editable(options);\n            that._createDateInput(options);\n\n            if (!that._dateInput) {\n                that.element.val(kendo.toString(value, options.format, options.culture));\n            }\n\n            if (value) {\n                that._updateARIA(value);\n            }\n        },\n\n        _editable: function(options) {\n            var that = this,\n                element = that.element.off(ns),\n                dateIcon = that._dateIcon.off(ns),\n                timeIcon = that._timeIcon.off(ns),\n                wrapper = that.wrapper.off(ns),\n                readonly = options.readonly,\n                disable = options.disable;\n\n            if (!readonly && !disable) {\n                wrapper\n                    .removeClass(STATEDISABLED)\n                    .on(HOVEREVENTS, that._toggleHover);\n                if (element && element.length) {\n                    element[0].removeAttribute(DISABLED);\n                    element[0].removeAttribute(READONLY, false);\n                    element[0].removeAttribute(ARIA_DISABLED, false);\n                    element[0].removeAttribute(ARIA_READONLY, false);\n                }\n                element.on(\"keydown\" + ns, that._keydown.bind(that))\n                       .on(\"focus\" + ns, function() {\n                           that.wrapper.addClass(FOCUSED);\n                       })\n                       .on(\"focusout\" + ns, function() {\n                           that.wrapper.removeClass(FOCUSED);\n                           if (element.val() !== that._oldText) {\n                               that._change(element.val());\n                               if (!element.val()) {\n                                   that.dateView.current(kendo.calendar.getToday());\n                               }\n                           }\n                           if (that.options.singlePopup) {\n                               return;\n                           }\n                           that.close(\"date\");\n                           that.close(\"time\");\n                       });\n\n               dateIcon.on(MOUSEDOWN, preventDefault)\n                        .on(UP, function(e) {\n                            that.toggle(\"date\");\n                            that._focusElement(e.type);\n                        });\n\n               timeIcon.on(MOUSEDOWN, preventDefault)\n                        .on(UP, function(e) {\n                            that.toggle(\"time\");\n                            that._focusElement(e.type);\n                        });\n\n            } else {\n                wrapper\n                    .addClass(disable ? STATEDISABLED : \"\")\n                    .removeClass(disable ? \"\" : STATEDISABLED);\n\n                element.attr(DISABLED, disable)\n                       .attr(READONLY, readonly)\n                       .attr(ARIA_DISABLED, disable)\n                       .attr(ARIA_READONLY, readonly);\n            }\n        },\n\n        _focusElement: function(eventType) {\n            var element = this.element;\n\n            if ((!support.touch || (support.mouseAndTouchPresent && !(eventType || \"\").match(/touch/i))) && element[0] !== activeElement()) {\n                element.trigger(\"focus\");\n            }\n        },\n\n        readonly: function(readonly) {\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n        },\n\n        enable: function(enable) {\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n            that.dateView.destroy();\n            that.timeView.destroy();\n\n            if (that.options.singlePopup) {\n                that.popup.element.off(ns);\n                that.popup.destroy();\n            }\n\n            that.element.off(ns);\n            that._dateIcon.off(ns);\n            that._timeIcon.off(ns);\n            that.wrapper.off(ns);\n\n            if (that._form) {\n                that._form.off(\"reset\", that._resetHandler);\n            }\n        },\n\n        close: function(view) {\n            var that = this;\n\n            if (that.options.singlePopup) {\n                that.popup.close();\n            } else {\n                if (view !== \"time\") {\n                    view = \"date\";\n                }\n\n                that[view + \"View\"].close();\n            }\n\n            setTimeout(function() {\n                that.element.removeAttr(\"aria-activedescendant\");\n            });\n        },\n\n        open: function(view) {\n            var that = this;\n            var popupHovered;\n\n            if (that.options.singlePopup) {\n\n                that.dateView._calendar();\n\n                if (that.timeView.ul.find(\"li\").length < 1) {\n                    that.timeView.bind();\n                }\n\n                // In some cases when the popup is opened resize is triggered which will cause it to close\n                // Setting the below flag will prevent this from happening\n                // Reference: https://github.com/telerik/kendo/pull/7553\n                popupHovered = that.popup._hovered;\n                that.popup._hovered = true;\n\n                that.popup.open();\n\n                if (view === \"time\") {\n                    that._switchToTimeView();\n                } else {\n                    that._switchToDateView();\n                }\n\n                this._dateIcon.toggle(view !== \"time\");\n                this._timeIcon.toggle(view === \"time\");\n\n                setTimeout(function() {\n                    that.popup._hovered = popupHovered;\n                }, 1);\n\n            } else {\n                if (view !== \"time\") {\n                    view = \"date\";\n                }\n\n                this[view + \"View\"].open();\n            }\n        },\n\n        min: function(value) {\n            return this._option(\"min\", value);\n        },\n\n        max: function(value) {\n            return this._option(\"max\", value);\n        },\n\n        toggle: function(view) {\n            if (this.options.singlePopup) {\n                if (this.popup.visible()) {\n                    this.close();\n                } else {\n                    this.open(view);\n                }\n            } else {\n                var secondView = \"timeView\";\n\n                if (view !== \"time\") {\n                    view = \"date\";\n                } else {\n                    secondView = \"dateView\";\n                }\n\n                this[view + \"View\"].toggle();\n                this[secondView].close();\n            }\n\n        },\n\n        value: function(value) {\n            var that = this;\n\n            if (value === undefined) {\n                return that._value;\n            }\n\n            that._old = that._update(value);\n            if (that._old === null) {\n                if (that._dateInput) {\n                    that._dateInput.value(that._old);\n                } else {\n                    that.element.val(\"\");\n                }\n            }\n\n            that._oldText = that.element.val();\n        },\n\n        _change: function(value) {\n            var that = this,\n            oldValue = that.element.val(),\n            dateChanged;\n\n            value = that._update(value);\n            dateChanged = +that._old != +value;\n\n            var valueUpdated = dateChanged && !that._typing;\n            var textFormatted = oldValue !== that.element.val();\n\n            if (valueUpdated || textFormatted) {\n                that.element.trigger(CHANGE);\n            }\n\n            if (dateChanged) {\n                that._old = value;\n                that._oldText = that.element.val();\n\n                that.trigger(CHANGE);\n            }\n\n            that._typing = false;\n        },\n\n        _option: function(option, value) {\n            var that = this;\n            var options = that.options;\n            var timeView = that.timeView;\n            var timeViewOptions = timeView.options;\n            var current = that._value || that._old;\n            var minDateEqual;\n            var maxDateEqual;\n\n            if (value === undefined) {\n                return options[option];\n            }\n\n            value = parse(value, options.parseFormats, options.culture);\n            timeViewOptions.maxSet = false;\n\n            if (!value) {\n                return;\n            }\n\n            if (options.min.getTime() === options.max.getTime()) {\n                timeViewOptions.dates = [];\n            }\n\n            options[option] = new DATE(value.getTime());\n            that.dateView[option](value);\n\n            that._midnight = that._calculateMidnight(options.min, options.max);\n\n            if (current) {\n                minDateEqual = isEqualDatePart(options.min, current);\n                maxDateEqual = isEqualDatePart(options.max, current);\n            }\n\n            if (minDateEqual || maxDateEqual) {\n                timeViewOptions[option] = value;\n\n                if (minDateEqual && !maxDateEqual) {\n                    timeViewOptions.max = lastTimeOption(options.interval);\n                }\n\n                if (maxDateEqual) {\n                    if (that._midnight) {\n                        timeView.dataBind([MAX]);\n                        return;\n                    } else if (!minDateEqual) {\n                        timeViewOptions.min = MIN;\n                        timeViewOptions.maxSet = true;\n                    }\n                }\n            } else {\n                timeViewOptions.max = MAX;\n                timeViewOptions.min = MIN;\n            }\n\n            timeView.bind();\n        },\n\n        _toggleHover: function(e) {\n            $(e.currentTarget).toggleClass(HOVER, e.type === \"mouseenter\");\n        },\n\n        _update: function(value) {\n            var that = this,\n                options = that.options,\n                min = options.min,\n                max = options.max,\n                dates = options.dates,\n                timeView = that.timeView,\n                current = that._value,\n                date = parse(value, options.parseFormats, options.culture),\n                isSameType = (date === null && current === null) || (date instanceof Date && current instanceof Date),\n                rebind, timeViewOptions, old, skip, formattedValue;\n\n            if (options.disableDates && options.disableDates(date)) {\n                date = null;\n                if (!that._old && !that.element.val()) {\n                    value = null;\n                }\n            }\n\n            if (+date === +current && isSameType) {\n                formattedValue = kendo.toString(date, options.format, options.culture);\n\n                if (formattedValue !== value ) {\n                    that.element.val(date === null ? value : formattedValue);\n                    if (value instanceof String) {\n                        that.element.trigger(CHANGE);\n                    }\n                }\n\n                return date;\n            }\n\n            if (date !== null && isEqualDatePart(date, min)) {\n                date = restrictValue(date, min, max);\n            } else if (!isInRange(date, min, max)) {\n                date = null;\n            }\n\n            that._value = date;\n            timeView.value(date);\n            that.dateView.value(date);\n\n            if (date) {\n                old = that._old;\n                timeViewOptions = timeView.options;\n                timeViewOptions.maxSet = false;\n\n                if (dates[0]) {\n                    dates = $.grep(dates, function(d) { return isEqualDatePart(date, d); });\n\n                    if (dates[0]) {\n                        timeView.dataBind(dates);\n                        skip = true;\n                    }\n                }\n\n                if (!skip) {\n                    if (isEqualDatePart(date, min)) {\n                        timeViewOptions.min = min;\n                        timeViewOptions.max = lastTimeOption(options.interval);\n                        rebind = true;\n                    }\n\n                    if (isEqualDatePart(date, max)) {\n                        if (that._midnight) {\n                            timeView.dataBind([MAX]);\n                            skip = true;\n                        } else {\n                            timeViewOptions.max = max;\n                            timeViewOptions.maxSet = true;\n                            if (!rebind) {\n                                timeViewOptions.min = MIN;\n                            }\n                            rebind = true;\n                        }\n                    }\n                }\n\n                if (!skip && ((!old && rebind) || (old && !isEqualDatePart(old, date)))) {\n                    if (!rebind) {\n                        timeViewOptions.max = MAX;\n                        timeViewOptions.min = MIN;\n                    }\n\n                    timeView.bind();\n                }\n            }\n            if (that._dateInput) {\n                if (date) {\n                    that._dateInput.value(date);\n                }\n            } else {\n                that.element.val(kendo.toString(date || value, options.format, options.culture));\n            }\n            that._updateARIA(date);\n\n            return date;\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                dateView = that.dateView,\n                timeView = that.timeView,\n                value = that.element.val(),\n                isDateViewVisible = that.options.singlePopup ? that.popup.visible() : dateView.popup.visible();\n\n            var stopPropagation = that._dateInput && e.stopImmediatePropagation;\n\n            if (e.altKey && e.keyCode === kendo.keys.DOWN) {\n                that.toggle(isDateViewVisible ? \"time\" : \"date\");\n            } else if (isDateViewVisible) {\n                dateView.move(e);\n                that._updateARIA(dateView._current);\n\n                if (e.keyCode === kendo.keys.ENTER) {\n                    that.toggle(\"time\");\n                }\n            } else if (!that.options.singlePopup && timeView.popup.visible()) {\n                timeView.move(e);\n            } else if (e.keyCode === kendo.keys.ENTER && value !== that._oldText) {\n                that._change(value);\n            } else {\n                that._typing = true;\n                stopPropagation = false;\n            }\n            if (stopPropagation) {\n                e.stopImmediatePropagation();\n            }\n        },\n\n        _views: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                id = element.attr(\"id\"),\n                dateView, timeView,\n                div, ul, msMin,\n                date,\n                timeDiv,\n                omitPopup,\n                timeViewOptions;\n\n            if (options.singlePopup) {\n                options.dateDiv = that.popup.element.find(\".k-datetime-calendar-wrap\");\n                timeDiv = that.popup.element.find(\".k-datetime-time-wrap\");\n                options.omitPopup = omitPopup = true;\n                timeViewOptions = options.timeView;\n            }\n\n            that.dateView = dateView = new kendo.DateView(extend({}, options, {\n                id: id,\n                anchor: that.wrapper,\n                change: function() {\n                    var value = that._applyDateValue();\n\n                    if (options.singlePopup) {\n                        if (!that.timeView._currentlySelected) {\n                            that.timeView._currentlySelected = new Date();\n                        }\n                        that.timeView._currentlySelected.setFullYear(value.getFullYear());\n                        that.timeView._currentlySelected.setMonth(value.getMonth());\n                        that.timeView._currentlySelected.setDate(value.getDate());\n                        that._switchToTimeView();\n                        that._toggleIcons();\n                    } else {\n                        that._change(value);\n                        that.close(\"date\");\n                    }\n                },\n                close: function(e) {\n                    if (that.trigger(CLOSE, dateViewParams)) {\n                        e.preventDefault();\n                    } else {\n                        element.attr(ARIA_EXPANDED, false);\n                        div.attr(ARIA_HIDDEN, true);\n                    }\n                },\n                open: function(e) {\n                    if (that.trigger(OPEN, dateViewParams)) {\n                        e.preventDefault();\n                    } else {\n\n                        if (element.val() !== that._oldText) {\n                            date = parse(element.val(), options.parseFormats, options.culture);\n\n                            that.dateView[date ? \"current\" : \"value\"](date);\n                        }\n\n                        div.attr(ARIA_HIDDEN, false);\n                        element.attr(ARIA_EXPANDED, true);\n\n                        that._updateARIA(date);\n                    }\n                }\n            }));\n            div = dateView.div;\n\n            msMin = options.min.getTime();\n            that.timeView = timeView = new TimeView({\n                id: id,\n                value: options.value,\n                size: options.size,\n                anchor: that.wrapper,\n                animation: options.animation,\n                format: options.timeFormat,\n                culture: options.culture,\n                height: options.componentType === \"modern\" ? null : options.height,\n                interval: options.interval,\n                min: options.componentType === \"modern\" ? options.min : new DATE(MIN),\n                max: options.componentType === \"modern\" ? options.max : new DATE(MAX),\n                dates: msMin === options.max.getTime() ? [new Date(msMin)] : [],\n                parseFormats: options.parseFormats,\n                validateDate: true,\n                change: function(value, trigger) {\n                    value = that._applyTimeValue(value);\n\n                    if (trigger) {\n                        that._timeSelected = true;\n                        that._change(value);\n                    } else {\n                        element.val(kendo.toString(value, options.format, options.culture));\n                        dateView.value(value);\n                        that._updateARIA(value);\n                    }\n                },\n                close: function(e) {\n                    if (that.trigger(CLOSE, timeViewParams)) {\n                        e.preventDefault();\n                    } else {\n                        ul.attr(ARIA_HIDDEN, true);\n                        element.attr(ARIA_EXPANDED, false);\n                    }\n                },\n                open: function(e) {\n                    if (that.options.componentType !== \"modern\") {\n                        timeView._adjustListWidth();\n                    } else {\n                        that.timeView._updateTitle();\n                    }\n\n                    if (that.trigger(OPEN, timeViewParams)) {\n                        e.preventDefault();\n                    } else {\n                        if (element.val() !== that._oldText) {\n                            date = parse(element.val(), options.parseFormats, options.culture);\n\n                            that.timeView.value(date);\n                        }\n\n                        ul.attr(ARIA_HIDDEN, false);\n                        element.attr(ARIA_EXPANDED, true);\n\n                        timeView.options.active(timeView.current());\n                    }\n                },\n                active: function(current) {\n                    if (element && element.length) {\n                        element[0].removeAttribute(ARIA_ACTIVEDESCENDANT);\n                    }\n                    if (current) {\n                        element.attr(ARIA_ACTIVEDESCENDANT, timeView._optionID);\n                    }\n                },\n                popup: options.popup,\n                useValueToRender: true,\n                specifiedRange: that._specifiedRange,\n                omitPopup: omitPopup,\n                timeDiv: timeDiv,\n                timeView: timeViewOptions,\n                messages: that.options.messages\n            });\n            ul = timeView.ul;\n        },\n\n        _applyDateValue: function() {\n            var that = this;\n            var options = that.options;\n            var dateView = that.dateView;\n            var value = dateView.calendar.value();\n            var msValue = +value;\n            var msMin = +options.min;\n            var msMax = +options.max;\n            var current, adjustedDate;\n\n            if (msValue === msMin || msValue === msMax) {\n                current = msValue === msMin ? msMin : msMax;\n                current = new DATE(that._value || current);\n                current.setFullYear(value.getFullYear(), value.getMonth(), value.getDate());\n\n                if (isInRange(current, msMin, msMax)) {\n                    value = current;\n                }\n            }\n\n            if (that._value) {\n\n                adjustedDate = kendo.date.setHours(new Date(value), that._value);\n\n                if (isInRange(adjustedDate, msMin, msMax)) {\n                    value = adjustedDate;\n                }\n            }\n\n            return value;\n        },\n\n        _applyTimeValue: function(value) {\n            var timeView = this.timeView;\n            var options = this.options;\n\n            value = timeView._parse(value);\n\n            if (value < options.min) {\n                value = new DATE(+options.min);\n                timeView.options.min = value;\n            } else if (value > options.max) {\n                value = new DATE(+options.max);\n                timeView.options.max = value;\n            }\n\n            return value;\n        },\n\n        _icons: function() {\n            var that = this;\n            var element = that.element;\n            var options = that.options;\n            var icons;\n\n            icons = that.wrapper.find(\"button.k-input-button\");\n\n            if (!icons[0]) {\n                that._dateIcon = $(html.renderButton('<button unselectable=\"on\" tabindex=\"-1\" class=\"k-input-button\" aria-label=\"' + options.dateButtonText + '\"></button>', {\n                    icon: \"calendar\",\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    shape: \"none\",\n                    rounded: \"none\"\n                })).insertAfter(element);\n                that._timeIcon = $(html.renderButton('<button unselectable=\"on\" tabindex=\"-1\" class=\"k-input-button\" aria-label=\"' + options.timeButtonText + '\"></button>', {\n                    icon: \"clock\",\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    shape: \"none\",\n                    rounded: \"none\"\n                })).insertAfter(element);\n            }\n\n            if (options.singlePopup) {\n                that._timeIcon.hide();\n            }\n        },\n\n        _wrapper: function() {\n            var that = this,\n            element = that.element,\n            wrapper;\n\n            wrapper = element.parents(\".k-datetimepicker\");\n\n            if (!wrapper[0]) {\n                wrapper = element.wrap(SPAN).parent();\n            }\n\n            wrapper[0].style.cssText = element[0].style.cssText;\n            element.css({\n                width: \"100%\",\n                height: element[0].style.height\n            });\n\n            that.wrapper = wrapper.addClass(\"k-datetimepicker k-input\")\n                .addClass(element[0].className).removeClass('input-validation-error');\n        },\n\n        _reset: function() {\n            var that = this,\n                element = that.element,\n                formId = element.attr(\"form\"),\n                form = formId ? $(\"#\" + formId) : element.closest(\"form\"),\n                options = that.options,\n                disabledDate = options.disableDates,\n                parseFormats = options.parseFormats.length ? options.parseFormats : null,\n                optionsValue = that._initialOptions.value,\n                initialValue = element[0].defaultValue;\n\n            if (optionsValue && (disabledDate && disabledDate(optionsValue))) {\n                optionsValue = null;\n            }\n\n            if ((!initialValue || !kendo.parseDate(initialValue, parseFormats, options.culture)) && optionsValue) {\n                element.attr(\"value\", kendo.toString(optionsValue, options.format, options.culture));\n            }\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    that.value(optionsValue || element[0].defaultValue);\n                    that.max(that._initialOptions.max);\n                    that.min(that._initialOptions.min);\n                };\n\n                that._form = form.on(\"reset\", that._resetHandler);\n            }\n        },\n\n        _template: function() {\n            this._ariaTemplate = kendo.template(this.options.ARIATemplate).bind(this);\n        },\n\n        _createDateInput: function(options) {\n            if (this._dateInput) {\n                this._dateInput.destroy();\n                this._dateInput = null;\n            }\n\n            if (options.dateInput ) {\n                this._dateInput = new ui.DateInput(this.element, {\n                    culture: options.culture,\n                    format: options.format,\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    rounded: options.rounded,\n                    min: options.min,\n                    max: options.max,\n                    interval: options.interval\n                });\n            }\n        },\n\n        _calculateMidnight: function(min, max) {\n            return getMilliseconds(min) + getMilliseconds(max) === 0;\n        },\n\n        _updateARIA: function(date) {\n            var that = this;\n            var calendar = that.dateView.calendar;\n\n            if (that.element && that.element.length) {\n                that.element[0].removeAttribute(ARIA_ACTIVEDESCENDANT);\n            }\n\n            if (calendar) {\n                that.element.attr(ARIA_ACTIVEDESCENDANT, calendar._updateAria(that._ariaTemplate, date));\n            }\n        },\n        _popup: function() {\n            var that = this;\n            var options = that.options;\n            var div = $(\"<div></div>\").attr(ARIA_HIDDEN, \"true\")\n                .addClass(\"k-datetime-container k-group k-reset\")\n                .appendTo(document.body);\n\n            div.append(kendo.template(SINGLE_POPUP_TEMPLATE)(extend({}, that.options, {\n                buttonSize: kendo.getValidCssClass(\"k-button-\", \"size\", that.options.size)\n            })));\n            that.popup = new ui.Popup(div, extend(options.popup, options, {\n                name: \"Popup\",\n                isRtl: kendo.support.isRtl(that.wrapper),\n                anchor: that.wrapper,\n                activate: function() {\n                    if (that.options.timeView && that.options.timeView.list === \"scroll\") {\n                        that.timeView.addTranslate();\n                        that.timeView.applyValue(that._value);\n                        that.timeView._updateRanges();\n                    }\n                },\n                open: function(e) {\n                    if (that.trigger(OPEN, { view: this.element.find('.k-date-tab').length ? 'date' : 'time', sender: that })) {\n                        e.preventDefault();\n                    }\n                    that.timeView._updateTitle();\n                }\n            }));\n\n            div.on(CLICK + ns, \".k-datetime-buttongroup .k-button\", that._groupChangeClick.bind(that));\n            div.on(CLICK + ns, \".k-datetime-footer button.k-time-cancel\", that._cancelClickHandler.bind(that));\n            div.on(CLICK + ns, \".k-datetime-footer button.k-time-accept\", that._setClickHandler.bind(that));\n        },\n\n        _groupChangeClick: function(e) {\n            preventDefault(e);\n            var button = $(e.currentTarget);\n            var index = button.index();\n\n            if (index) {\n                this._switchToTimeView();\n            } else {\n                this._switchToDateView();\n            }\n            this._toggleIcons();\n        },\n\n        _switchToDateView: function() {\n            this.popup.element.find(\".k-group-start, .k-group-end\").removeClass(STATE_SELECTED).eq(0).addClass(STATE_SELECTED);\n            this.popup.element.find(\".k-datetime-wrap\").removeClass(\"k-time-tab\").addClass(\"k-date-tab\");\n        },\n\n        _switchToTimeView: function() {\n            this.timeView.addTranslate();\n            this.timeView.applyValue(this._value);\n            this.timeView._updateRanges();\n            this.popup.element.find(\".k-group-start, .k-group-end\").removeClass(STATE_SELECTED).eq(1).addClass(STATE_SELECTED);\n            this.popup.element.find(\".k-datetime-wrap\").removeClass(\"k-date-tab\").addClass(\"k-time-tab\");\n        },\n\n        _toggleIcons: function() {\n            this._dateIcon.toggle();\n            this._timeIcon.toggle();\n        },\n\n        _cancelClickHandler: function(e) {\n            preventDefault(e);\n            if (this._value) {\n                this.value(this._value);\n                this.dateView.value(this._value);\n            }\n            this.popup.close();\n        },\n\n        _setClickHandler: function(e) {\n            preventDefault(e);\n            var value = this._applyDateValue();\n            var time;\n\n            value = value || new Date();\n            time = this.timeView._currentlySelected || value;\n            this.timeView._updateCurrentlySelected();\n            value.setHours(time.getHours());\n            value.setMinutes(time.getMinutes());\n            value.setSeconds(time.getSeconds());\n            value = this._applyTimeValue(value);\n\n            this._change(value);\n            this.popup.close();\n        }\n    });\n\n    function lastTimeOption(interval) {\n        var date = new Date(2100, 0, 1);\n        date.setMinutes(-interval);\n        return date;\n    }\n\n    function preventDefault(e) {\n        e.preventDefault();\n    }\n\n    function normalize(options) {\n        var patterns = kendo.getCulture(options.culture).calendars.standard.patterns,\n            parseFormats = !options.parseFormats.length,\n            timeFormat;\n\n        options.format = extractFormat(options.format || patterns.g);\n        options.timeFormat = timeFormat = extractFormat(options.timeFormat || patterns.t);\n        kendo.DateView.normalize(options);\n\n        if (parseFormats) {\n           options.parseFormats.unshift(\"yyyy-MM-ddTHH:mm:ss\");\n        }\n\n        if ($.inArray(timeFormat, options.parseFormats) === -1) {\n            options.parseFormats.push(timeFormat);\n        }\n    }\n\n    kendo.cssProperties.registerPrefix(\"DateTimePicker\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"DateTimePicker\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    ui.plugin(DateTimePicker);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.splitter',[ \"kendo.resizable\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"splitter\",\n    name: \"Splitter\",\n    category: \"web\",\n    description: \"The Splitter widget provides an easy way to create a dynamic layout of resizable and collapsible panes.\",\n    depends: [ \"resizable\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        keys = kendo.keys,\n        extend = $.extend,\n        Widget = ui.Widget,\n        pxUnitsRegex = /^\\d+(\\.\\d+)?px$/i,\n        percentageUnitsRegex = /^\\d+(\\.\\d+)?%$/i,\n        NS = \".kendoSplitter\",\n        EXPAND = \"expand\",\n        COLLAPSE = \"collapse\",\n        CONTENTLOAD = \"contentLoad\",\n        ERROR = \"error\",\n        RESIZE = \"resize\",\n        LAYOUTCHANGE = \"layoutChange\",\n        HORIZONTAL = \"horizontal\",\n        VERTICAL = \"vertical\",\n        MOUSEENTER = \"mouseenter\",\n        CLICK = \"click\",\n        PANE = \"pane\",\n        MOUSELEAVE = \"mouseleave\",\n        FOCUSED = \"k-focus\",\n        KPANE = \"k-\" + PANE,\n        PANECLASS = \".\" + KPANE,\n        TABINDEX = \"tabindex\",\n        ARIA_VALUEMIN = \"aria-valuemin\",\n        ARIA_VALUEMAX = \"aria-valuemax\",\n        ARIA_VALUENOW = \"aria-valuenow\",\n        ARIA_CONTROLS = \"aria-controls\",\n        ARIA_LABEL = \"aria-label\",\n        ARIA_LABELLEDBY = \"aria-labelledby\",\n        ARIA_ORIENTATION = \"aria-orientation\";\n\n    function isPercentageSize(size) {\n        return percentageUnitsRegex.test(size);\n    }\n\n    function isPixelSize(size) {\n        return pxUnitsRegex.test(size) || /^\\d+$/.test(size);\n    }\n\n    function isFluid(size) {\n        return !isPercentageSize(size) && !isPixelSize(size);\n    }\n\n    function calculateSize(size, total) {\n        var output = parseInt(size, 10);\n\n        if (isPercentageSize(size)) {\n            output = Math.floor(output * total / 100);\n        }\n\n        return output;\n    }\n\n    function panePropertyAccessor(propertyName, triggersResize) {\n        return function(pane, value) {\n            var paneConfig = this.element.find(pane).data(PANE);\n\n            if (arguments.length == 1) {\n                return paneConfig[propertyName];\n            }\n\n            paneConfig[propertyName] = value;\n\n            if (triggersResize) {\n                var splitter = this.element.data(\"kendo\" + this.options.name);\n                splitter.resize(true);\n            }\n        };\n    }\n\n    var Splitter = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                isHorizontal;\n\n            Widget.fn.init.call(that, element, options);\n\n            that.wrapper = that.element;\n\n            if (that.options.orientation) {\n                isHorizontal = that.options.orientation.toLowerCase() != VERTICAL;\n            }\n\n            that.orientation = isHorizontal ? HORIZONTAL : VERTICAL;\n            that._dimension = isHorizontal ? \"width\" : \"height\";\n            that._keys = {\n                decrease: isHorizontal ? keys.LEFT : keys.UP,\n                increase: isHorizontal ? keys.RIGHT : keys.DOWN\n            };\n\n            that._resizeStep = 10;\n\n            that._marker = kendo.guid().substring(0, 8);\n\n            that._initPanes();\n\n            that.resizing = new PaneResizing(that);\n\n            that.element.triggerHandler(\"init\" + NS);\n        },\n        events: [\n            EXPAND,\n            COLLAPSE,\n            CONTENTLOAD,\n            ERROR,\n            RESIZE,\n            LAYOUTCHANGE\n        ],\n\n        _addOverlays: function() {\n            this._panes().append(\"<div class='k-splitter-overlay k-overlay' />\");\n        },\n\n        _removeOverlays: function() {\n            this._panes().children(\".k-splitter-overlay\").remove();\n        },\n\n        _attachEvents: function() {\n            var that = this,\n                orientation = that.options.orientation;\n\n            // do not use delegated events to increase performance of nested elements\n            that.element\n                .children(\".k-splitbar-draggable-\" + orientation)\n                    .on(\"keydown\" + NS, that._keydown.bind(that))\n                    .on(\"mousedown\" + NS, function(e) { e.currentTarget.focus(); })\n                    .on(\"focus\" + NS, function(e) { $(e.currentTarget).addClass(FOCUSED); })\n                    .on(\"blur\" + NS, function(e) { $(e.currentTarget).removeClass(FOCUSED);\n                        if (that.resizing) {\n                            that.resizing.end();\n                        }\n                    })\n                    .on(MOUSEENTER + NS, function() { $(this).addClass(\"k-splitbar-\" + that.orientation + \"-hover\"); })\n                    .on(MOUSELEAVE + NS, function() { $(this).removeClass(\"k-splitbar-\" + that.orientation + \"-hover\"); })\n                    .on(\"mousedown\" + NS, that._addOverlays.bind(that))\n                .end()\n                .children(\".k-splitbar\")\n                    .on(\"dblclick\" + NS, that._togglePane.bind(that))\n                    .children(\".k-collapse-next, .k-collapse-prev\").on(CLICK + NS, that._arrowClick(COLLAPSE)).end()\n                    .children(\".k-expand-next, .k-expand-prev\").on(CLICK + NS, that._arrowClick(EXPAND)).end()\n                .end();\n\n            $(window).on(\"resize\" + NS + that._marker, that.resize.bind(that, false));\n            $(document).on(\"mouseup\" + NS + that._marker, that._removeOverlays.bind(that));\n        },\n\n        _detachEvents: function() {\n            var that = this;\n\n            that.element\n                .children(\".k-splitbar-draggable-\" + that.orientation).off(NS).end()\n                .children(\".k-splitbar\").off(\"dblclick\" + NS)\n                    .children(\".k-collapse-next, .k-collapse-prev, .k-expand-next, .k-expand-prev\").off(NS);\n\n            $(window).off(NS + that._marker);\n            $(document).off(NS + that._marker);\n        },\n\n        options: {\n            name: \"Splitter\",\n            orientation: HORIZONTAL,\n            panes: []\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            this._detachEvents();\n\n            if (this.resizing) {\n                this.resizing.destroy();\n            }\n\n            kendo.destroy(this.element);\n\n            this.wrapper = this.element = null;\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode,\n                resizing = that.resizing,\n                target = $(e.currentTarget),\n                navigationKeys = that._keys,\n                increase = key === navigationKeys.increase,\n                decrease = key === navigationKeys.decrease,\n                pane;\n\n            if (increase || decrease) {\n                if (e.ctrlKey) {\n                    pane = target[decrease ? \"next\" : \"prev\"]();\n\n                    if (resizing && resizing.isResizing()) {\n                        resizing.end();\n                    }\n\n                    if (!pane[that._dimension]()) {\n                        that._triggerAction(EXPAND, pane);\n                    } else {\n                        that._triggerAction(COLLAPSE, target[decrease ? \"prev\" : \"next\"]());\n                    }\n                } else if (resizing) {\n                    resizing.move((decrease ? -1 : 1) * that._resizeStep, target);\n                }\n                e.preventDefault();\n            } else if (key === keys.HOME) {\n                pane = target.prev();\n                that.collapse(pane);\n                e.preventDefault();\n            } else if (key === keys.END) {\n                pane = target.prev();\n                that.expand(pane);\n                e.preventDefault();\n            } else if (key === keys.ENTER && resizing) {\n                resizing.end();\n                e.preventDefault();\n            }\n        },\n\n        _initPanes: function() {\n            var panesConfig = this.options.panes || [];\n            var that = this;\n\n            this.element\n                .addClass(\"k-widget\").addClass(\"k-splitter\")\n                .children()\n                    .each(function(i, pane) {\n                        if (pane.nodeName.toLowerCase() != \"script\") {\n                            that._initPane(pane, panesConfig[i]);\n                        }\n                    });\n\n            this.resize();\n        },\n\n        _initPane: function(pane, config) {\n            pane = $(pane)\n                .attr(\"role\", \"group\")\n                .addClass(KPANE);\n\n            pane.data(PANE, config ? config : {})\n                .toggleClass(\"k-scrollable\", config ? config.scrollable !== false : true);\n\n            this.ajaxRequest(pane);\n        },\n\n        ajaxRequest: function(pane, url, data) {\n            var that = this,\n                paneConfig;\n\n            pane = that.element.find(pane);\n            paneConfig = pane.data(PANE);\n\n            url = url || paneConfig.contentUrl;\n\n            if (url) {\n                pane.append(\"<span class='k-icon k-i-loading k-pane-loading' />\");\n\n                if (kendo.isLocalUrl(url)) {\n                    jQuery.ajax({\n                        url: url,\n                        data: data || {},\n                        type: \"GET\",\n                        dataType: \"html\",\n                        success: function(data) {\n                            that.angular(\"cleanup\", function() { return { elements: pane.get() }; });\n                            pane.html(data);\n                            that.angular(\"compile\", function() { return { elements: pane.get() }; });\n\n                            that.trigger(CONTENTLOAD, { pane: pane[0] });\n                        },\n                        error: function(xhr, status) {\n                            that.trigger(ERROR, {\n                                pane: pane[0],\n                                status: status,\n                                xhr: xhr\n                            });\n                        }\n                    });\n                } else {\n                    pane.removeClass(\"k-scrollable\")\n                        .html(\"<iframe src='\" + url + \"' frameborder='0' class='k-content-frame'>\" +\n                                \"This page requires frames in order to show content\" +\n                              \"</iframe>\");\n                }\n            }\n        },\n\n        _triggerAction: function(type, pane) {\n            var paneConfig = pane.data(PANE);\n            var shouldExecute = (paneConfig.collapsed && type == EXPAND) || (!paneConfig.collapsed && type == COLLAPSE);\n\n            if (!paneConfig.collapsible) {\n                return;\n            }\n\n            if (shouldExecute && !this.trigger(type, { pane: pane[0] })) {\n                this[type](pane[0]);\n            }\n        },\n\n        _togglePane: function(e) {\n            var that = this,\n                target = $(e.target),\n                arrow;\n\n            if (target.closest(\".k-splitter\")[0] != that.element[0]) {\n                return;\n            }\n\n            arrow = target.children(\".k-icon:not(.k-resize-handle)\");\n\n            if (arrow.length !== 1) {\n                return;\n            }\n\n            if (arrow.is(\".k-collapse-prev\")) {\n                that._triggerAction(COLLAPSE, target.prev());\n            } else if (arrow.is(\".k-collapse-next\")) {\n                that._triggerAction(COLLAPSE, target.next());\n            } else if (arrow.is(\".k-expand-prev\")) {\n                that._triggerAction(EXPAND, target.prev());\n            } else if (arrow.is(\".k-expand-next\")) {\n                that._triggerAction(EXPAND, target.next());\n            }\n        },\n        _arrowClick: function(arrowType) {\n            var that = this;\n\n            return function(e) {\n                var target = $(e.target),\n                    pane;\n\n                if (target.closest(\".k-splitter\")[0] != that.element[0]) {\n                    return;\n                }\n\n                if (target.is(\".k-\" + arrowType + \"-prev\")) {\n                    pane = target.parent().prev();\n                } else {\n                    pane = target.parent().next();\n                }\n                that._triggerAction(arrowType, pane);\n            };\n        },\n        _updateSplitBar: function(splitbar, previousPane, nextPane, previousPaneEl) {\n            var catIconIf = function(iconType, condition) {\n                   return condition ? \"<div class='k-icon \" + iconType + \"'></div>\" : \"\";\n                },\n                orientation = this.orientation,\n                draggable = (previousPane.resizable !== false) && (nextPane.resizable !== false),\n                prevCollapsible = previousPane.collapsible,\n                prevCollapsed = previousPane.collapsed,\n                nextCollapsible = nextPane.collapsible,\n                nextCollapsed = nextPane.collapsed,\n                previousPaneId = previousPaneEl.attr(\"id\");\n\n            if (!previousPaneId) {\n                previousPaneId = kendo.guid();\n                previousPaneEl.attr(\"id\", previousPaneId);\n            }\n\n            splitbar.addClass(\"k-splitbar k-splitbar-\" + orientation)\n                    .attr(\"role\", \"separator\")\n                    .attr(ARIA_VALUEMIN, \"0\")\n                    .attr(ARIA_VALUEMAX, \"100\")\n                    .attr(ARIA_CONTROLS, previousPaneId)\n                    .removeClass(\"k-splitbar-\" + orientation + \"-hover\")\n                    .toggleClass(\"k-splitbar-draggable-\" + orientation,\n                        draggable && !prevCollapsed && !nextCollapsed)\n                    .toggleClass(\"k-splitbar-static-\" + orientation,\n                        !draggable && !prevCollapsible && !nextCollapsible)\n                    .html(\n                        catIconIf(\"k-collapse-prev k-i-arrow-60-up\", prevCollapsible && !prevCollapsed && !nextCollapsed && orientation == VERTICAL) +\n                        catIconIf(\"k-collapse-prev k-i-arrow-60-left\", prevCollapsible && !prevCollapsed && !nextCollapsed && orientation == HORIZONTAL) +\n                        catIconIf(\"k-expand-prev k-i-arrow-60-down\", prevCollapsible && prevCollapsed && !nextCollapsed && orientation == VERTICAL) +\n                        catIconIf(\"k-expand-prev k-i-arrow-60-right\", prevCollapsible && prevCollapsed && !nextCollapsed && orientation == HORIZONTAL) +\n                        catIconIf(\"k-resize-handle k-i-hbar\", draggable && orientation == VERTICAL) +\n                        catIconIf(\"k-resize-handle k-i-vbar\", draggable && orientation == HORIZONTAL) +\n                        catIconIf(\"k-collapse-next k-i-arrow-60-down\", nextCollapsible && !nextCollapsed && !prevCollapsed && orientation == VERTICAL) +\n                        catIconIf(\"k-collapse-next k-i-arrow-60-right\", nextCollapsible && !nextCollapsed && !prevCollapsed && orientation == HORIZONTAL) +\n                        catIconIf(\"k-expand-next k-i-arrow-60-up\", nextCollapsible && nextCollapsed && !prevCollapsed && orientation == VERTICAL) +\n                        catIconIf(\"k-expand-next k-i-arrow-60-left\", nextCollapsible && nextCollapsed && !prevCollapsed && orientation == HORIZONTAL)\n                    );\n\n            if (previousPane.labelId) {\n                splitbar.attr(ARIA_LABELLEDBY, previousPane.labelId);\n            } else if (previousPane.label) {\n                splitbar.attr(ARIA_LABEL, previousPane.label);\n            }\n\n            if (orientation == HORIZONTAL) {\n                splitbar.attr(ARIA_ORIENTATION, VERTICAL);\n            }\n\n            if (!draggable && !prevCollapsible && !nextCollapsible) {\n                splitbar.removeAttr(TABINDEX);\n            }\n        },\n        _updateSplitBars: function() {\n            var that = this;\n\n            this.element.children(\".k-splitbar\").each(function() {\n                var splitbar = $(this),\n                    previousPaneEl = splitbar.prevAll(PANECLASS).first(),\n                    previousPane = previousPaneEl.data(PANE),\n                    nextPane = splitbar.nextAll(PANECLASS).first().data(PANE);\n\n                if (!nextPane) {\n                    return;\n                }\n\n                that._updateSplitBar(splitbar, previousPane, nextPane, previousPaneEl);\n            });\n        },\n        _removeSplitBars: function() {\n            this.element.children(\".k-splitbar\").remove();\n        },\n        _panes: function() {\n            if (!this.element) {\n                return $();\n            }\n            return this.element.children(PANECLASS);\n        },\n\n        _resetAriaValueNow: function(splitBars, panesSizes) {\n            var i, splitbar, valueNow, joinDimension;\n\n            for (i = 0; i < splitBars.length; i++) {\n                joinDimension = (panesSizes[i] + panesSizes[i + 1]) || 1;\n                valueNow = Math.round(panesSizes[i] / joinDimension * 100);\n                splitbar = splitBars[i];\n                splitbar.setAttribute(ARIA_VALUENOW, valueNow);\n            }\n        },\n\n        _resize: function() {\n            var that = this,\n                element = that.element,\n                panes = element.children(PANECLASS),\n                isHorizontal = that.orientation == HORIZONTAL,\n                splitBars = element.children(\".k-splitbar\"),\n                splitBarsCount = splitBars.length,\n                sizingProperty = isHorizontal ? \"width\" : \"height\",\n                totalSize = element[sizingProperty](),\n                panesSizes = [];\n\n            that.wrapper.addClass(\"k-splitter-resizing\");\n\n            if (splitBarsCount === 0) {\n                splitBarsCount = panes.length - 1;\n                panes.slice(0, splitBarsCount)\n                     .after(\"<div tabindex='0' class='k-splitbar' data-marker='\" + that._marker + \"' />\");\n\n                that._updateSplitBars();\n                splitBars = element.children(\".k-splitbar\");\n            } else {\n                that._updateSplitBars();\n            }\n\n            // discard splitbar sizes from total size\n            splitBars.each(function() {\n                totalSize -= this[isHorizontal ? \"offsetWidth\" : \"offsetHeight\"];\n            });\n\n            var sizedPanesWidth = 0,\n                sizedPanesCount = 0,\n                freeSizedPanes = $();\n\n            panes.css({ position: \"absolute\", top: 0 })\n                [sizingProperty](function() {\n                    var element = $(this),\n                        config = element.data(PANE) || {}, size;\n\n                    element.removeClass(\"k-collapsed\");\n                    if (config.collapsed) {\n                        size = config.collapsedSize ? calculateSize(config.collapsedSize, totalSize) : 0;\n                        element.css(\"overflow\", \"hidden\").addClass(\"k-collapsed\");\n                    } else if (isFluid(config.size)) {\n                        freeSizedPanes = freeSizedPanes.add(this);\n                        panesSizes.push(false);\n                        return;\n                    } else { // sized in px/%, not collapsed\n                        size = calculateSize(config.size, totalSize);\n                    }\n\n                    sizedPanesCount++;\n                    sizedPanesWidth += size;\n                    panesSizes.push(size);\n\n                    return size;\n                });\n\n            totalSize -= sizedPanesWidth;\n\n            var freeSizePanesCount = freeSizedPanes.length,\n                freeSizePaneWidth = Math.floor(totalSize / freeSizePanesCount);\n\n            freeSizedPanes\n                .slice(0, freeSizePanesCount - 1)\n                    .css(sizingProperty, freeSizePaneWidth)\n                .end()\n                .eq(freeSizePanesCount - 1)\n                    .css(sizingProperty, totalSize - (freeSizePanesCount - 1) * freeSizePaneWidth);\n\n            panesSizes.forEach(function(size, i) {\n                if (size === false) {\n                    panesSizes[i] = freeSizePaneWidth;\n                }\n            });\n\n            that._resetAriaValueNow(splitBars, panesSizes);\n\n            // arrange panes\n            var sum = 0,\n                alternateSizingProperty = isHorizontal ? \"height\" : \"width\",\n                positioningProperty = isHorizontal ? \"left\" : \"top\",\n                sizingDomProperty = isHorizontal ? \"offsetWidth\" : \"offsetHeight\";\n\n            if (freeSizePanesCount === 0) {\n                var lastNonCollapsedPane = panes.filter(function() {\n                    return !(($(this).data(PANE) || {}).collapsed);\n                }).last();\n\n                lastNonCollapsedPane[sizingProperty](totalSize + lastNonCollapsedPane[0][sizingDomProperty]);\n            }\n\n            element.children()\n                .css(alternateSizingProperty, element[alternateSizingProperty]())\n                .each(function(i, child) {\n                    if (child.tagName.toLowerCase() != \"script\") {\n                        child.style[positioningProperty] = Math.floor(sum) + \"px\";\n                        sum += child[sizingDomProperty];\n                    }\n                });\n\n            that._detachEvents();\n            that._attachEvents();\n\n            that.wrapper.removeClass(\"k-splitter-resizing\");\n\n            kendo.resize(panes);\n            that.trigger(LAYOUTCHANGE);\n        },\n\n        toggle: function(pane, expand) {\n            var that = this,\n                paneConfig;\n\n            pane = that.element.find(pane);\n            paneConfig = pane.data(PANE);\n\n            if (!expand && !paneConfig.collapsible) {\n                return;\n            }\n\n            if (arguments.length == 1) {\n                expand = paneConfig.collapsed === undefined ? false : paneConfig.collapsed;\n            }\n\n            paneConfig.collapsed = !expand;\n\n            if (paneConfig.collapsed) {\n                pane.css(\"overflow\", \"hidden\");\n            } else {\n                pane.css(\"overflow\", \"\");\n            }\n\n            that.resize(true);\n        },\n\n        collapse: function(pane) {\n            this.toggle(pane, false);\n        },\n\n        expand: function(pane) {\n            this.toggle(pane, true);\n        },\n\n        _addPane: function(config, idx, paneElement) {\n            var that = this;\n\n            if (paneElement.length) {\n                that.options.panes.splice(idx, 0, config);\n                that._initPane(paneElement, config);\n\n                that._removeSplitBars();\n\n                that.resize(true);\n            }\n\n            return paneElement;\n        },\n\n        append: function(config) {\n            config = config || {};\n\n            var that = this,\n                paneElement = $(\"<div />\").appendTo(that.element);\n\n            return that._addPane(config, that.options.panes.length, paneElement);\n        },\n\n        insertBefore: function(config, referencePane) {\n            referencePane = $(referencePane);\n            config = config || {};\n\n            var that = this,\n                idx = that.wrapper.children(\".k-pane\").index(referencePane),\n                paneElement = $(\"<div />\").insertBefore($(referencePane));\n\n            return that._addPane(config, idx, paneElement);\n        },\n\n        insertAfter: function(config, referencePane) {\n            referencePane = $(referencePane);\n            config = config || {};\n\n            var that = this,\n                idx = that.wrapper.children(\".k-pane\").index(referencePane),\n                paneElement = $(\"<div />\").insertAfter($(referencePane));\n\n            return that._addPane(config, idx + 1, paneElement);\n        },\n\n        remove: function(pane) {\n            var that = this;\n            pane = that.wrapper.find(pane);\n\n            if (pane.length) {\n                kendo.destroy(pane);\n                pane.each(function(idx, element) {\n                    that.options.panes.splice(that.wrapper.children(\".k-pane\").index(element), 1);\n                    $(element).remove();\n                });\n\n                that._removeSplitBars();\n\n                if (that.options.panes.length) {\n                    that.resize(true);\n                }\n            }\n\n            return that;\n        },\n\n        size: panePropertyAccessor(\"size\", true),\n\n        min: panePropertyAccessor(\"min\"),\n\n        max: panePropertyAccessor(\"max\")\n    });\n\n    ui.plugin(Splitter);\n\n    var verticalDefaults = {\n            sizingProperty: \"height\",\n            sizingDomProperty: \"offsetHeight\",\n            alternateSizingProperty: \"width\",\n            positioningProperty: \"top\",\n            mousePositioningProperty: \"pageY\"\n        };\n\n    var horizontalDefaults = {\n            sizingProperty: \"width\",\n            sizingDomProperty: \"offsetWidth\",\n            alternateSizingProperty: \"height\",\n            positioningProperty: \"left\",\n            mousePositioningProperty: \"pageX\"\n        };\n\n    function PaneResizing(splitter) {\n        var that = this,\n            orientation = splitter.orientation;\n\n        that.owner = splitter;\n        that._element = splitter.element;\n        that.orientation = orientation;\n\n        extend(that, orientation === HORIZONTAL ? horizontalDefaults : verticalDefaults);\n\n        that._resizable = new kendo.ui.Resizable(splitter.element, {\n            orientation: orientation,\n            handle: \".k-splitbar-draggable-\" + orientation + \"[data-marker=\" + splitter._marker + \"]\",\n            hint: that._createHint.bind(that),\n            start: that._start.bind(that),\n            max: that._max.bind(that),\n            min: that._min.bind(that),\n            invalidClass: \"k-restricted-size-\" + orientation,\n            resizeend: that._stop.bind(that)\n        });\n    }\n\n    PaneResizing.prototype = {\n        press: function(target) {\n            this._resizable.press(target);\n        },\n\n        move: function(delta, target) {\n            if (!this.pressed) {\n                this.press(target);\n                this.pressed = true;\n            }\n\n            if (!this._resizable.target) {\n                this._resizable.press(target);\n            }\n\n            this._resizable.move(delta);\n        },\n\n        end: function() {\n            this._resizable.end();\n            this.pressed = false;\n        },\n\n        destroy: function() {\n            this._resizable.destroy();\n            this._resizable = this._element = this.owner = null;\n        },\n\n        isResizing: function() {\n            return this._resizable.resizing;\n        },\n\n        _createHint: function(handle) {\n            var that = this;\n            return $(\"<div class='k-ghost-splitbar k-ghost-splitbar-\" + that.orientation + \"' />\")\n                        .css(that.alternateSizingProperty, handle[that.alternateSizingProperty]());\n        },\n\n        _start: function(e) {\n            var that = this,\n                splitbar = $(e.currentTarget),\n                previousPane = splitbar.prev(),\n                nextPane = splitbar.next(),\n                previousPaneConfig = previousPane.data(PANE),\n                nextPaneConfig = nextPane.data(PANE),\n                prevBoundary = parseInt(previousPane[0].style[that.positioningProperty], 10),\n                nextBoundary = parseInt(nextPane[0].style[that.positioningProperty], 10) + nextPane[0][that.sizingDomProperty] - splitbar[0][that.sizingDomProperty],\n                totalSize = parseInt(that._element.css(that.sizingProperty), 10),\n                toPx = function(value) {\n                    var val = parseInt(value, 10);\n                    return (isPixelSize(value) ? val : (totalSize * val) / 100) || 0;\n                },\n                prevMinSize = toPx(previousPaneConfig.min),\n                prevMaxSize = toPx(previousPaneConfig.max) || nextBoundary - prevBoundary,\n                nextMinSize = toPx(nextPaneConfig.min),\n                nextMaxSize = toPx(nextPaneConfig.max) || nextBoundary - prevBoundary;\n\n            that.previousPane = previousPane;\n            that.nextPane = nextPane;\n            that._maxPosition = Math.min(nextBoundary - nextMinSize, prevBoundary + prevMaxSize);\n            that._minPosition = Math.max(prevBoundary + prevMinSize, nextBoundary - nextMaxSize);\n        },\n        _max: function() {\n            return this._maxPosition;\n        },\n        _min: function() {\n            return this._minPosition;\n        },\n        _stop: function(e) {\n            var that = this,\n                splitbar = $(e.currentTarget),\n                owner = that.owner;\n\n            owner._panes().children(\".k-splitter-overlay\").remove();\n\n            if (e.keyCode !== kendo.keys.ESC) {\n                var ghostPosition = e.position,\n                    previousPane = splitbar.prev(),\n                    nextPane = splitbar.next(),\n                    previousPaneConfig = previousPane.data(PANE),\n                    nextPaneConfig = nextPane.data(PANE),\n                    previousPaneNewSize = ghostPosition - parseInt(previousPane[0].style[that.positioningProperty], 10),\n                    nextPaneNewSize = parseInt(nextPane[0].style[that.positioningProperty], 10) + nextPane[0][that.sizingDomProperty] - ghostPosition - splitbar[0][that.sizingDomProperty],\n                    fluidPanesCount = that._element.children(PANECLASS).filter(function() { return isFluid($(this).data(PANE).size); }).length;\n\n                if (!isFluid(previousPaneConfig.size) || fluidPanesCount > 1) {\n                    if (isFluid(previousPaneConfig.size)) {\n                        fluidPanesCount--;\n                    }\n\n                    previousPaneConfig.size = previousPaneNewSize + \"px\";\n                }\n\n                if (!isFluid(nextPaneConfig.size) || fluidPanesCount > 1) {\n                    nextPaneConfig.size = nextPaneNewSize + \"px\";\n                }\n\n                owner.resize(true);\n            }\n\n            return false;\n        }\n    };\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.dialog',[\"kendo.core\", \"kendo.popup\", \"kendo.textbox\"], f);\n})(function() {\n\n    var __meta__ = {\n        id: \"dialog\",\n        name: \"Dialog\",\n        category: \"web\", // suite\n        description: \"The dialog widget is a modal popup that brings information to the user.\",\n        depends: [\"core\", \"popup\", \"textbox\"] // dependencies\n    };\n\n    (function($, undefined) {\n        var kendo = window.kendo,\n            Widget = kendo.ui.Widget,\n            TabKeyTrap = kendo.ui.Popup.TabKeyTrap,\n            template = kendo.template,\n            keys = kendo.keys,\n            isFunction = kendo.isFunction,\n            NS = \"kendoWindow\",\n            KDIALOG = \".k-dialog\",\n            KWINDOW = \".k-window\",\n            KICONCLOSE = \".k-dialog-close\",\n            KCONTENTCLASS = \"k-window-content k-dialog-content\",\n            KCONTENTSELECTOR = \".k-window-content\",\n            KSCROLL = \"k-scroll\",\n            KTITLELESS = \"k-dialog-titleless\",\n            KDIALOGTITLE = \".k-dialog-title\",\n            KDIALOGTITLEBAR = \".k-dialog-titlebar\",\n            KBUTTONGROUP = \".k-dialog-buttongroup\",\n            // KACTIONS = \".k-actions\",\n            KBUTTON = \".k-button\",\n            KALERT = \"k-alert\",\n            KCONFIRM = \"k-confirm\",\n            KPROMPT = \"k-prompt\",\n            KTEXTBOX = \".k-input-inner\",\n            KOVERLAY = \".k-overlay\",\n            VISIBLE = \":visible\",\n            ZINDEX = \"zIndex\",\n            BODY = \"body\",\n            INITOPEN = \"initOpen\",\n            TOUCHSTART = \"touchstart\",\n            TOUCHMOVE = \"touchmove\",\n            OPEN = \"open\",\n            CLOSE = \"close\",\n            SHOW = \"show\",\n            HIDE = \"hide\",\n            SIZE = {\n                small: \"k-window-sm\",\n                medium: \"k-window-md\",\n                large: \"k-window-lg\"\n            },\n            HIDDEN = \"hidden\",\n            OVERFLOW = \"overflow\",\n            DATADOCOVERFLOWRULE = \"original-overflow-rule\",\n            DATAHTMLTAPYRULE = \"tap-y\",\n            messages = {\n                okText: \"OK\",\n                cancel: \"Cancel\",\n                promptInput: \"Input\"\n            },\n            ceil = Math.ceil,\n            templates,\n            overlaySelector = \":not(link,meta,script,style)\";\n\n        function defined(x) {\n            return (typeof x != \"undefined\");\n        }\n\n        function constrain(value, low, high) {\n            return Math.max(Math.min(parseInt(value, 10), high === Infinity ? high : parseInt(high, 10)), parseInt(low, 10));\n        }\n\n        function buttonKeyTrigger(e) {\n            return e.keyCode == keys.ENTER || e.keyCode == keys.SPACEBAR;\n        }\n\n        var DialogBase = Widget.extend({\n            init: function(element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, options);\n                that._init(that.element, that.options);\n                kendo.notify(that);\n            },\n\n            _init: function(element, options) {\n                var that = this,\n                    wrapper;\n\n                that._centerCallback = that._center.bind(that);\n\n                that.appendTo = $(BODY);\n                if (!defined(options.visible) || options.visible === null) {\n                    options.visible = element.is(VISIBLE);\n                }\n\n                if (that.wrapperTemplate === undefined) {\n                    that.wrapperTemplate = templates.wrapper;\n                }\n\n                that._createDialog();\n                wrapper = that.wrapper = element.closest(KDIALOG);\n\n                if (options._defaultFocus === undefined) {\n                    that._defaultFocus = element[0];\n                }\n\n                that._tabindex(element);\n                that._dimensions();\n\n                this._tabKeyTrap = new TabKeyTrap(wrapper);\n\n                if (!that.options.visible) {\n                    that.wrapper.hide();\n                } else {\n                    that._triggerOpen();\n                }\n            },\n\n            setOptions: function(options) {\n                var that = this;\n                var sizeClass = that.options.size;\n\n                options = $.extend(that.options, options);\n\n                Widget.fn.setOptions.call(that, options);\n\n                if (options.title !== undefined) {\n                    that.title(options.title);\n                }\n\n                if (options.content) {\n                    kendo.destroy(that.element.children());\n                    that.element.html(options.content);\n                }\n\n                if (options.actions) {\n                    that.wrapper.children(KBUTTONGROUP).remove();\n                    that._createActionbar(that.wrapper);\n                }\n\n                that.wrapper.show();\n                that._closable(that.wrapper);\n\n                that.wrapper.removeClass(SIZE[sizeClass]);\n                that._dimensions();\n\n                if (!options.visible) {\n                    that.wrapper.hide();\n                } else {\n                    that._triggerOpen();\n                }\n\n                if (typeof options.modal !== \"undefined\") {\n                    var visible = that.options.visible !== false;\n                    that._enableDocumentScrolling();\n                    that._overlay(options.modal && visible);\n                }\n            },\n\n            _dimensions: function() {\n                var that = this,\n                    wrapper = that.wrapper,\n                    options = that.options,\n                    width = options.width,\n                    height = options.height,\n                    sizeClass = options.size,\n                    dimensions = [\"minWidth\", \"minHeight\", \"maxWidth\", \"maxHeight\"];\n\n                for (var i = 0; i < dimensions.length; i++) {\n                    var value = options[dimensions[i]];\n                    if (value && value != Infinity) {\n                        wrapper.css(dimensions[i], value);\n                    }\n                }\n\n                this._setElementMaxHeight();\n\n                if (width) {\n                    if (width.toString().indexOf(\"%\") > 0) {\n                        wrapper.width(width);\n                    } else {\n                        wrapper.outerWidth(constrain(width, options.minWidth, options.maxWidth));\n                    }\n                }\n\n                if (height) {\n                    if (height.toString().indexOf(\"%\") > 0) {\n                        wrapper.height(height);\n                    } else {\n                        wrapper.outerHeight(constrain(height, options.minHeight, options.maxHeight));\n                    }\n\n                    this._setElementHeight();\n                }\n\n                if (sizeClass && SIZE[sizeClass]) {\n                    wrapper.addClass(SIZE[sizeClass]);\n                }\n            },\n\n            _setElementMaxHeight: function() {\n                var that = this,\n                    element = that.element,\n                    maxHeight = that.options.maxHeight,\n                    elementMaxHeight;\n\n                if (maxHeight != Infinity) {\n                    elementMaxHeight = parseFloat(maxHeight, 10) - that._uiHeight();\n                    if (elementMaxHeight > 0) {\n                        element.css({\n                            maxHeight: ceil(elementMaxHeight) + \"px\"\n                        });\n                    }\n                }\n\n            },\n\n            _setElementHeight: function() {\n                var that = this,\n                    element = that.element,\n                    height = that.wrapper.outerHeight(true),\n                    elementHeight = parseFloat(height, 10) - that._uiHeight();\n\n                if (elementHeight < 0) {\n                    elementHeight = 0;\n                }\n\n                element.css({\n                    height: ceil(elementHeight) + \"px\"\n                });\n\n                this._applyScrollClassName(element);\n\n            },\n\n            _applyScrollClassName: function(element) {\n                    var hasScroll = element.get(0).scrollHeight > element.outerHeight();\n\n                    if (hasScroll) {\n                        element.addClass(KSCROLL);\n                    } else {\n                        element.removeClass(KSCROLL);\n                    }\n            },\n\n            _uiHeight: function() {\n                var that = this,\n                    wrapper = that.wrapper,\n                    actionbar = wrapper.children(KBUTTONGROUP),\n                    actionbarHeight = actionbar[0] && actionbar[0].offsetHeight || 0,\n                    titlebar = wrapper.children(KDIALOGTITLEBAR),\n                    titlebarHeight = titlebar[0] && titlebar[0].offsetHeight || 0;\n\n                return actionbarHeight + titlebarHeight;\n            },\n\n            _overlay: function(visible) {\n                var overlay = this.appendTo.children(KOVERLAY),\n                    wrapper = this.wrapper;\n\n\n                if (!overlay.length) {\n                    overlay = $(templates.overlay);\n                }\n\n                overlay\n                    .insertBefore(wrapper[0])\n                    .toggle(visible)\n                    .css(ZINDEX, parseInt(wrapper.css(ZINDEX), 10) - 1);\n\n                if (visible) {\n                    this._waiAriaOverlay();\n                }\n                else {\n                    this._removeWaiAriaOverlay();\n                }\n\n                if (this.options.modal.preventScroll) {\n                    this._stopDocumentScrolling();\n                }\n\n                return overlay;\n            },\n\n            _waiAriaOverlay: function() {\n                var node = this.wrapper;\n\n                this._overlayedNodes = node.prevAll(overlaySelector).add(node.nextAll(overlaySelector))\n                    .each(function() {\n                        var jthis = $(this);\n                        jthis.data(\"ariaHidden\", jthis.attr(\"aria-hidden\"));\n                        jthis.attr(\"aria-hidden\", \"true\");\n                    });\n            },\n\n            _removeWaiAriaOverlay: function() {\n                return this._overlayedNodes && this._overlayedNodes.each(function() {\n                    var node = $(this);\n                    var hiddenValue = node.data(\"ariaHidden\");\n                    if (hiddenValue) {\n                        node.attr(\"aria-hidden\", hiddenValue);\n                    }\n                    else {\n                        node.removeAttr(\"aria-hidden\");\n                    }\n                });\n            },\n\n            _closeClick: function(e) {\n                e.preventDefault();\n                this.close(false);\n            },\n\n            _closeKeyHandler: function(e) {\n                if (buttonKeyTrigger(e) || e.keyCode == keys.ESC) {\n                    this.close(false);\n                }\n            },\n\n            _keydown: function(e) {\n                var that = this,\n                    options = that.options,\n                    keyCode = e.keyCode;\n\n                if (keyCode == keys.ESC && !that._closing && options.closable) {\n                    that.close(false);\n                }\n            },\n\n            _createDialog: function() {\n                var that = this,\n                    content = that.element,\n                    options = that.options,\n                    isRtl = kendo.support.isRtl(content),\n                    titlebar = $(templates.titlebar(options)),\n                    titleId = (content.id || kendo.guid()) + \"_title\",\n                    wrapper = $(that.wrapperTemplate(options));\n\n                wrapper.toggleClass(\"k-rtl\", isRtl);\n\n                content.addClass(KCONTENTCLASS);\n                that.appendTo.append(wrapper);\n\n                if (options.title !== false) {\n                    wrapper.append(titlebar);\n                    titlebar.attr(\"id\", titleId);\n                    wrapper.attr(\"aria-labelledby\", titleId);\n                } else {\n                    wrapper.addClass(KTITLELESS);\n                }\n\n                that._closable(wrapper);\n\n                wrapper.append(content);\n\n                if (options.content) {\n                    kendo.destroy(content.children());\n                    content.html(options.content);\n                }\n\n                if (options.actions.length) {\n                    that._createActionbar(wrapper);\n                }\n            },\n\n            _closable: function(wrapper) {\n                var that = this;\n                var options = that.options;\n                var titlebar = wrapper.children(KDIALOGTITLEBAR);\n                var titlebarActions = titlebar.find(\".k-window-actions\");\n                var closeAction = titlebarActions.length ? titlebarActions.find(\".k-dialog-close\") : wrapper.find(\".k-dialog-close\");\n\n                closeAction.remove();\n\n                if (options.closable !== false) {\n                    if (options.title !== false && titlebarActions.length) {\n                        titlebarActions.append(templates.close(options));\n                    }\n                    else {\n                        wrapper.prepend(templates.close(options));\n                    }\n\n                    wrapper.autoApplyNS(NS);\n                    that.element.autoApplyNS(NS);\n\n                    wrapper.find(KICONCLOSE)\n                        .on(\"click\", that._closeClick.bind(that))\n                        .on(\"keydown\", that._closeKeyHandler.bind(that));\n\n                    that.element.on(\"keydown\", that._keydown.bind(that));\n                }\n            },\n\n            _createActionbar: function(wrapper) {\n                var isStretchedLayout = (this.options.buttonLayout === \"stretched\");\n                var buttonLayout = isStretchedLayout ? \"stretch\" : \"end\";\n                var actionbar = $(templates.actionbar({ buttonLayout: buttonLayout }));\n\n                this._addButtons(actionbar);\n                wrapper.append(actionbar);\n            },\n\n            _addButtons: function(actionbar) {\n                var that = this,\n                    actionClick = that._actionClick.bind(that),\n                    actionKeyHandler = that._actionKeyHandler.bind(that),\n                    actions = that.options.actions,\n                    length = actions.length,\n                    action,\n                    text;\n\n                for (var i = 0; i < length; i++) {\n                    action = actions[i];\n                    text = that._mergeTextWithOptions(action);\n\n                    $(templates.action(action))\n                        .autoApplyNS(NS)\n                        .html(text)\n                        .appendTo(actionbar)\n                        .addClass(action.cssClass)\n                        .data(\"action\", action.action)\n                        .on(\"click\", actionClick)\n                        .on(\"keydown\", actionKeyHandler);\n                }\n            },\n\n            _mergeTextWithOptions: function(action) {\n                var text = action.text;\n                return text ? template(text)(this.options) : \"\";\n            },\n\n            _tabindex: function(target) {\n                var that = this;\n                var wrapper = that.wrapper;\n                var closeBtn = wrapper.find(KICONCLOSE);\n                var actionButtons = wrapper.find(KBUTTONGROUP + \" \" + KBUTTON);\n\n                Widget.fn._tabindex.call(this, target);\n\n                var tabIndex = target.attr(\"tabindex\");\n\n                closeBtn.attr(\"tabIndex\", tabIndex);\n                actionButtons.attr(\"tabIndex\", tabIndex);\n            },\n\n            _actionClick: function(e) {\n                if (this.wrapper.is(VISIBLE)) {\n                    this._runActionBtn(e.currentTarget);\n                }\n            },\n\n            _actionKeyHandler: function(e) {\n                if (buttonKeyTrigger(e)) {\n                    e.preventDefault();\n                    this._runActionBtn(e.currentTarget);\n                } else if (e.keyCode == keys.ESC) {\n                    this.close(false);\n                }\n            },\n\n            _runActionBtn: function(target) {\n                var that = this;\n                if (that._closing) {\n                    return;\n                }\n\n                var action = $(target).data(\"action\"),\n                    preventClose = (isFunction(action) && action({ sender: that }) === false);\n\n                if (!preventClose) {\n                    that.close(false);\n                }\n            },\n\n            _triggerOpen: function() {\n                var that = this;\n                var options = that.options;\n                var wrapper = that.wrapper;\n\n                that.toFront();\n                that._triggerInitOpen();\n                that.trigger(OPEN);\n                if (options.modal) {\n                    that._overlay(wrapper.is(VISIBLE)).css({ opacity: 0.5 });\n                    that._focusDialog();\n                }\n            },\n\n            open: function() {\n                var that = this,\n                    wrapper = that.wrapper,\n                    showOptions = this._animationOptions(OPEN),\n                    options = that.options,\n                    overlay, otherModalsVisible;\n\n                this._triggerInitOpen();\n\n                if (!that.trigger(OPEN)) {\n                    if (that._closing) {\n                        wrapper.kendoStop(true, true);\n                    }\n\n                    that._closing = false;\n\n                    that.toFront();\n                    options.visible = true;\n                    if (options.modal) {\n                        otherModalsVisible = !!that._modals().length;\n                        overlay = that._overlay(otherModalsVisible);\n\n                        overlay.kendoStop(true, true);\n\n                        if (showOptions.duration && kendo.effects.Fade && !otherModalsVisible) {\n                            var overlayFx = kendo.fx(overlay).fadeIn();\n                            overlayFx.duration(showOptions.duration || 0);\n                            overlayFx.endValue(0.5);\n                            overlayFx.play();\n                        } else {\n                            overlay.css(\"opacity\", 0.5);\n                        }\n\n                        overlay.show();\n                    }\n\n                    wrapper.show().kendoStop().kendoAnimate({\n                        effects: showOptions.effects,\n                        duration: showOptions.duration,\n                        complete: that._openAnimationEnd.bind(that)\n                    });\n                    wrapper.show();\n\n                }\n\n                return that;\n            },\n\n            _animationOptions: function(id) {\n                var animation = this.options.animation;\n                var basicAnimation = {\n                    open: { effects: {} },\n                    close: { hide: true, effects: {} }\n                };\n\n                return animation && animation[id] || basicAnimation[id];\n            },\n\n            _openAnimationEnd: function() {\n                if (this.options.modal) {\n                    this._focusDialog();\n                }\n                this.trigger(SHOW);\n            },\n\n            _triggerInitOpen: function() {\n                if (!defined(this._initOpenTriggered)) {\n                    this._initOpenTriggered = true;\n                    this.trigger(INITOPEN);\n                }\n            },\n\n            toFront: function() {\n                var that = this,\n                    wrapper = that.wrapper,\n                    zIndex = +wrapper.css(ZINDEX),\n                    originalZIndex = zIndex;\n\n                that.center();\n\n                $(KWINDOW).each(function(i, element) {\n                    var windowObject = $(element),\n                        zIndexNew = windowObject.css(ZINDEX);\n\n                    if (!isNaN(zIndexNew)) {\n                        zIndex = Math.max(+zIndexNew, zIndex);\n                    }\n                });\n\n                if (!wrapper[0].style.zIndex || originalZIndex < zIndex) {\n                    wrapper.css(ZINDEX, zIndex + 2);\n                }\n\n                that.element.find(\"> .k-overlay\").remove();\n                wrapper = null;\n\n                return that;\n            },\n\n            close: function(systemTriggered) {\n                if (!arguments.length) {\n                    systemTriggered = true;\n                }\n\n                this._close(systemTriggered);\n                this._stopCenterOnResize();\n                return this;\n            },\n\n            _close: function(systemTriggered) {\n                var that = this,\n                    wrapper = that.wrapper,\n                    options = that.options,\n                    showOptions = this._animationOptions(\"open\"),\n                    hideOptions = this._animationOptions(\"close\");\n\n                if (wrapper.is(VISIBLE) && !that.trigger(CLOSE, { userTriggered: !systemTriggered })) {\n                    if (that._closing) {\n                        return;\n                    }\n                    that._closing = true;\n\n                    options.visible = false;\n                    this._removeOverlay();\n\n                    wrapper.kendoStop().kendoAnimate({\n                        effects: hideOptions.effects || showOptions.effects,\n                        reverse: hideOptions.reverse === true,\n                        duration: hideOptions.duration,\n                        complete: this._closeAnimationEnd.bind(this)\n                    });\n                }\n\n                return that;\n            },\n\n            center: function() {\n                this._center();\n                this._centerOnResize();\n            },\n\n            _center: function() {\n                var that = this,\n                    wrapper = that.wrapper,\n                    documentWindow = $(window),\n                    scrollTop = 0,\n                    scrollLeft = 0,\n                    newLeft = scrollLeft + Math.max(0, (documentWindow.width() - wrapper.width()) / 2),\n                    newTop = scrollTop + Math.max(0, (documentWindow.height() - wrapper.height() - parseInt(wrapper.css(\"paddingTop\"), 10)) / 2);\n\n                wrapper.css({\n                    left: newLeft,\n                    top: newTop\n                });\n\n                return that;\n            },\n\n            _centerOnResize: function() {\n                if (this._trackResize) {\n                    return;\n                }\n\n                kendo.onResize(this._centerCallback);\n                this._trackResize = true;\n            },\n\n            _stopCenterOnResize: function() {\n                kendo.unbindResize(this._centerCallback);\n                this._trackResize = false;\n            },\n\n            _removeOverlay: function() {\n                var modals = this._modals();\n                var options = this.options;\n                var hideOverlay = options.modal && !modals.length;\n\n                if (hideOverlay) {\n                    this._overlay(false).remove();\n\n                    if (options.modal.preventScroll) {\n                        this._enableDocumentScrolling();\n                    }\n                } else if (modals.length) {\n                    this._object(modals.last())._overlay(true);\n\n                    if (options.modal.preventScroll) {\n                        this._stopDocumentScrolling();\n                    }\n                }\n            },\n\n            _stopDocumentScrolling: function() {\n                var that = this;\n\n                var $body = $(\"body\");\n                that._storeOverflowRule($body);\n                $body.css(OVERFLOW, HIDDEN);\n\n                var $html = $(\"html\");\n                var html = $html[0];\n                that._storeOverflowRule($html);\n                $html.css(OVERFLOW, HIDDEN);\n\n                // prevent touch due to bug in ios\n                if (kendo.support.mobileOS.ios) {\n                    html.addEventListener(TOUCHSTART, that._touchStart, { passive: false });\n                    html.addEventListener(TOUCHMOVE, that._touchMove, { passive: false });\n                }\n            },\n\n            _touchStart: function(e) {\n                $(this).data(DATAHTMLTAPYRULE, e.changedTouches[0].pageY);\n            },\n\n            _touchMove: function(e) {\n                var target = e.target;\n                var $target = $(e.target);\n                var upScroll = e.changedTouches[0].pageY - $(this).data(DATAHTMLTAPYRULE) > 0;\n                var preventYScroll = $target.is(KCONTENTSELECTOR) &&\n                    (upScroll && $target.scrollTop() === 0) ||\n                    (!upScroll && $target.scrollTop() === target.scrollHeight - target.clientHeight);\n                if (!$target.is(KCONTENTSELECTOR) || preventYScroll) {\n                    e.preventDefault();\n                }\n            },\n\n            _enableDocumentScrolling: function() {\n                var that = this;\n                var $body = $(document.body);\n                var $html = $(\"html\");\n                var html = $html[0];\n\n                that._restoreOverflowRule($body);\n                that._restoreOverflowRule($html);\n\n                if (kendo.support.mobileOS.ios) {\n                    $html.removeData(DATAHTMLTAPYRULE);\n                    html.removeEventListener(TOUCHSTART, that._touchStart, { passive: false });\n                    html.removeEventListener(TOUCHMOVE, that._touchMove, { passive: false });\n                }\n            },\n\n            _storeOverflowRule: function($element) {\n                if (this._isOverflowStored($element)) {\n                    return;\n                }\n\n                var overflowRule = $element.get(0).style.overflow;\n\n                if (typeof overflowRule === \"string\") {\n                    $element.data(DATADOCOVERFLOWRULE, overflowRule);\n                }\n            },\n\n            _isOverflowStored: function($element) {\n                return typeof $element.data(DATADOCOVERFLOWRULE) === \"string\";\n            },\n\n            _restoreOverflowRule: function($element) {\n                var overflowRule = $element.data(DATADOCOVERFLOWRULE);\n\n                if (overflowRule !== null && overflowRule !== undefined) {\n                    $element.css(OVERFLOW, overflowRule);\n                    $element.removeData(DATADOCOVERFLOWRULE);\n                } else {\n                    $element.css(OVERFLOW, \"\");\n                }\n            },\n\n            _closeAnimationEnd: function() {\n                var that = this,\n                    previousFocus = that._previousFocus;\n\n                that._closing = false;\n                that.wrapper.hide().css(\"opacity\", \"\");\n                that.trigger(HIDE);\n\n                if (that.options.modal) {\n                    var lastModal = that._object(that._modals().last());\n                    if (lastModal) {\n                        lastModal.toFront();\n                    } else if (previousFocus) {\n                        that._previousFocus = null;\n\n                        setTimeout(function() {\n                            previousFocus.focus();\n                        });\n                    }\n                }\n            },\n\n            _modals: function() {\n                var that = this;\n\n                var zStack = $(KWINDOW).filter(function() {\n                    var modal = that._object($(this));\n\n                    return modal &&\n                        modal.options &&\n                        modal.options.modal &&\n                        modal.options.visible &&\n                        modal.options.appendTo === that.options.appendTo &&\n                        !modal.containment &&\n                        $(modal.element).is(VISIBLE);\n                }).sort(function(a, b) {\n                    return +$(a).css(\"zIndex\") - +$(b).css(\"zIndex\");\n                });\n\n                that = null;\n\n                return zStack;\n            },\n\n            _object: function(element) {\n                var content = element.children(KCONTENTSELECTOR);\n                var widget = kendo.widgetInstance(content);\n\n                if (widget) {\n                    return widget;\n                }\n\n                return undefined;\n            },\n\n            destroy: function() {\n                var that = this;\n                that._destroy();\n\n                Widget.fn.destroy.call(that);\n\n                kendo.destroy(that.wrapper);\n\n                that.wrapper.remove();\n                that.wrapper = that.element = $();\n            },\n\n            _destroy: function() {\n                var that = this;\n                var ns = \".\" + NS;\n\n                that.wrapper.off(ns);\n                that.element.off(ns);\n                that.wrapper.find(KICONCLOSE + \",\" + KBUTTONGROUP + \" > \" + KBUTTON).off(ns);\n                that._stopCenterOnResize();\n            },\n\n            title: function(html) {\n                var that = this,\n                    wrapper = that.wrapper,\n                    options = that.options,\n                    titlebar = wrapper.children(KDIALOGTITLEBAR),\n                    title = titlebar.children(KDIALOGTITLE),\n                    encodedHtml = kendo.htmlEncode(html);\n\n                if (!arguments.length) {\n                    return title.html();\n                }\n\n                if (html === false) {\n                    titlebar.remove();\n                    wrapper.addClass(KTITLELESS);\n                } else {\n                    if (!titlebar.length) {\n                        titlebar = $(templates.titlebar(options)).prependTo(wrapper);\n                        title = titlebar.children(KDIALOGTITLE);\n                        wrapper.removeClass(KTITLELESS);\n                    }\n                    title.html(encodedHtml);\n                }\n\n                that.options.title = encodedHtml;\n\n                return that;\n            },\n\n            content: function(html, data) {\n                var that = this,\n                    content = that.wrapper.children(KCONTENTSELECTOR);\n\n                if (!defined(html)) {\n                    return content.html();\n                }\n\n                this.angular(\"cleanup\", function() {\n                    return { elements: content.children() };\n                });\n\n                kendo.destroy(content.children());\n                content.html(html);\n\n                this.angular(\"compile\", function() {\n                    var a = [];\n                    for (var i = content.length; --i >= 0;) {\n                        a.push({ dataItem: data });\n                    }\n                    return {\n                        elements: content.children(),\n                        data: a\n                    };\n                });\n\n                that.options.content = html;\n\n                return that;\n            },\n\n            _focusDialog: function() {\n                var firstModal = this._object(this._modals().first());\n\n                this._previousFocus = firstModal && firstModal._previousFocus ? firstModal._previousFocus : document.activeElement;\n\n                if (this._defaultFocus) {\n                    this._focus(this._defaultFocus);\n                }\n                this._tabKeyTrap.trap();\n            },\n\n            _focus: function(node) {\n                if (node) {\n                    node.focus();\n                }\n            },\n\n            events: [\n                INITOPEN,\n                OPEN,\n                CLOSE,\n                SHOW,\n                HIDE\n            ],\n\n            options: {\n                title: \"\",\n                buttonLayout: \"stretched\",\n                actions: [],\n                modal: true,\n                size: \"auto\",\n                width: null,\n                height: null,\n                minWidth: 0,\n                minHeight: 0,\n                maxWidth: Infinity,\n                maxHeight: Infinity,\n                content: null,\n                visible: null,\n                appendTo: BODY,\n                closable: true\n            }\n        });\n\n        var Dialog = DialogBase.extend({\n            options: {\n                name: \"Dialog\",\n                messages: {\n                    close: \"Close\"\n                }\n            }\n        });\n\n        kendo.ui.plugin(Dialog);\n\n        var PopupBox = DialogBase.extend({\n            _init: function(element, options) {\n                var that = this;\n\n                that.wrapperTemplate = templates.alertWrapper;\n                options._defaultFocus = null;\n                that._ensureContentId(element);\n\n                DialogBase.fn._init.call(that, element, options);\n\n                that.bind(HIDE, that.destroy.bind(that));\n\n                that._ariaDescribedBy();\n                that._initFocus();\n            },\n\n            _ensureContentId: function(element) {\n                var node = $(element);\n                if (!node.attr(\"id\")) {\n                    node.attr(\"id\", kendo.guid() + \"_k-popup\");\n                }\n            },\n\n            _ariaDescribedBy: function() {\n                this.wrapper.attr(\"aria-describedby\", this.element.attr(\"id\"));\n            },\n\n            _initFocus: function() {\n                var o = this.options;\n\n                this._defaultFocus = this._chooseEntryFocus();\n                if (this._defaultFocus && o.visible && o.modal) {\n                    this._focusDialog();\n                }\n            },\n\n            _chooseEntryFocus: function() {\n                return this.wrapper.find(KBUTTONGROUP + \" > \" + KBUTTON)[0];\n            },\n\n            options: {\n                title: window.location.host,\n                closable: false,\n                messages: messages\n            }\n        });\n\n        var Alert = PopupBox.extend({\n            _init: function(element, options) {\n                var that = this;\n                PopupBox.fn._init.call(that, element, options);\n                that.wrapper.addClass(KALERT);\n            },\n\n            options: {\n                name: \"Alert\",\n                modal: true,\n                actions: [{\n                    text: \"#: messages.okText #\"\n                }]\n            }\n        });\n\n        kendo.ui.plugin(Alert);\n\n        var kendoAlert = function(text) {\n            return $(templates.alert).kendoAlert({ content: text }).data(\"kendoAlert\").open();\n        };\n\n        var Confirm = PopupBox.extend({\n            _init: function(element, options) {\n                var that = this;\n                PopupBox.fn._init.call(that, element, options);\n                that.wrapper.addClass(KCONFIRM);\n                that.result = $.Deferred();\n            },\n\n            options: {\n                name: \"Confirm\",\n                modal: true,\n                actions: [{\n                    text: \"#: messages.okText #\",\n                    primary: true,\n                    action: function(e) {\n                        e.sender.result.resolve();\n                    }\n                }, {\n                    text: \"#: messages.cancel #\",\n                    action: function(e) {\n                        e.sender.result.reject();\n                    }\n                }]\n            }\n        });\n\n        kendo.ui.plugin(Confirm);\n\n        var kendoConfirm = function(text) {\n            var confirmDialog = $(templates.confirm).kendoConfirm({ content: text }).data(\"kendoConfirm\").open();\n            return confirmDialog.result;\n        };\n\n        var Prompt = PopupBox.extend({\n            _init: function(element, options) {\n                var that = this;\n                PopupBox.fn._init.call(that, element, options);\n                that.wrapper.addClass(KPROMPT);\n                that._createPrompt();\n                that.result = $.Deferred();\n            },\n\n            _createPrompt: function() {\n                var value = this.options.value,\n                    promptContainer = $(templates.promptInputContainer(this.options)).insertAfter(this.element);\n\n                this.input = new kendo.ui.TextBox(promptContainer.find(\"input\"));\n\n                if (value) {\n                    this.input.value(value);\n                }\n\n                this._defaultFocus = this._chooseEntryFocus();\n                this._focusDialog();\n            },\n\n            _chooseEntryFocus: function() {\n                return this.wrapper.find(KTEXTBOX)[0];\n            },\n\n            options: {\n                name: \"Prompt\",\n                modal: true,\n                value: \"\",\n                actions: [{\n                    text: \"#: messages.okText #\",\n                    primary: true,\n                    action: function(e) {\n                        var sender = e.sender,\n                            value = sender.input.value();\n\n                        sender.result.resolve(value);\n                    }\n                }, {\n                    text: \"#: messages.cancel #\",\n                    action: function(e) {\n                        var sender = e.sender,\n                            value = sender.input.value();\n\n                        e.sender.result.reject(value);\n                    }\n                }]\n            }\n        });\n\n        kendo.ui.plugin(Prompt);\n\n        var kendoPrompt = function(text, value) {\n            var promptDialog = $(templates.prompt).kendoPrompt({\n                content: text,\n                value: value\n            }).data(\"kendoPrompt\").open();\n\n            return promptDialog.result;\n        };\n\n        templates = {\n            wrapper: template(\"<div class='k-widget k-window k-dialog' role='dialog'></div>\"),\n            action: template(\"<button type='button' class='k-button k-button-md k-rounded-md k-button-solid # if (data.primary) { # k-button-solid-primary # } else { # k-button-solid-base # } #'></button>\"),\n            titlebar: template(\n                \"<div class='k-window-titlebar k-dialog-titlebar k-hstack'>\" +\n                    \"<span class='k-window-title k-dialog-title'>#: title #</span>\" +\n                    \"<div class='k-window-actions k-dialog-actions k-hstack'></div>\" +\n                \"</div>\"\n            ),\n            close: template(\"<a role='button' href='\\\\#' class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-window-action k-dialog-action k-dialog-close' title='#: messages.close #' aria-label='#: messages.close #' tabindex='-1'>\" +\n                \"<span class='k-button-icon k-icon k-i-close'></span></a>\"),\n            actionbar: template(\"<div class='k-dialog-buttongroup k-actions k-hstack k-justify-content-#: buttonLayout #'></div>\"),\n            overlay: \"<div class='k-overlay'></div>\",\n            alertWrapper: template(\"<div class='k-widget k-window k-dialog' role='alertdialog'></div>\"),\n            alert: \"<div></div>\",\n            confirm: \"<div></div>\",\n            prompt: \"<div></div>\",\n            promptInputContainer: template(\"<div class='k-prompt-container'><input type='text' title='#: messages.promptInput #' aria-label='#: messages.promptInput #' /></div>\")\n        };\n\n        kendo.alert = kendoAlert;\n        kendo.confirm = kendoConfirm;\n        kendo.prompt = kendoPrompt;\n\n    })(window.kendo.jQuery);\n\n    return window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.window',[ \"kendo.draganddrop\", \"kendo.popup\"], f);\n})(function() {\n\n    var __meta__ = {\n        id: \"window\",\n        name: \"Window\",\n        category: \"web\",\n        description: \"The Window widget displays content in a modal or non-modal HTML window.\",\n        depends: [ \"draganddrop\", \"popup\" ],\n        features: [ {\n            id: \"window-fx\",\n            name: \"Animation\",\n            description: \"Support for animation\",\n            depends: [ \"fx\" ]\n        } ]\n    };\n\n    (function($, undefined) {\n        var kendo = window.kendo,\n            Widget = kendo.ui.Widget,\n            TabKeyTrap = kendo.ui.Popup.TabKeyTrap,\n            Draggable = kendo.ui.Draggable,\n            isPlainObject = $.isPlainObject,\n            activeElement = kendo._activeElement,\n            outerWidth = kendo._outerWidth,\n            outerHeight = kendo._outerHeight,\n            extend = $.extend,\n            each = $.each,\n            template = kendo.template,\n            BODY = \"body\",\n            templates,\n            NS = \".kendoWindow\",\n            MODAL_NS = \".kendoWindowModal\",\n            // classNames\n            KWINDOW = \".k-window\",\n            KWINDOWTITLE = \".k-window-title\",\n            KWINDOWTITLEBAR = KWINDOWTITLE + \"bar\",\n            KWINDOWCONTENT = \".k-window-content\",\n            KDIALOGCONTENT = \".k-dialog-content\",\n            KWINDOWRESIZEHANDLES = \".k-resize-handle\",\n            KOVERLAY = \".k-overlay\",\n            KCONTENTFRAME = \"k-content-frame\",\n            LOADING = \"k-i-loading\",\n            KHOVERSTATE = \"k-hover\",\n            KFOCUSEDSTATE = \"k-focus\",\n            MAXIMIZEDSTATE = \"k-window-maximized\",\n            INLINE_FLEX = \"k-display-inline-flex\",\n            // constants\n            VISIBLE = \":visible\",\n            HIDDEN = \"hidden\",\n            CURSOR = \"cursor\",\n            // events\n            OPEN = \"open\",\n            ACTIVATE = \"activate\",\n            DEACTIVATE = \"deactivate\",\n            CLOSE = \"close\",\n            REFRESH = \"refresh\",\n            MINIMIZE = \"minimize\",\n            MAXIMIZE = \"maximize\",\n            RESIZESTART = \"resizeStart\",\n            RESIZE = \"resize\",\n            RESIZEEND = \"resizeEnd\",\n            DRAGSTART = \"dragstart\",\n            DRAGEND = \"dragend\",\n            RESTORE = \"restore\",\n            KENDOKEYDOWN = \"kendoKeydown\",\n            ERROR = \"error\",\n            OVERFLOW = \"overflow\",\n            DATADOCOVERFLOWRULE = \"original-overflow-rule\",\n            ZINDEX = \"zIndex\",\n            MINIMIZE_MAXIMIZE = \".k-window-actions .k-i-window-minimize,.k-window-actions .k-i-window-maximize\",\n            KPIN = \".k-i-pin\",\n            KUNPIN = \".k-i-unpin\",\n            PIN_UNPIN = KPIN + \",\" + KUNPIN,\n            TITLEBAR_BUTTONS = \".k-window-titlebar .k-window-action\",\n            REFRESHICON = \".k-window-titlebar .k-i-refresh\",\n            WINDOWEVENTSHANDLED = \"WindowEventsHandled\",\n            zero = /^0[a-z]*$/i,\n            isLocalUrl = kendo.isLocalUrl,\n            SIZE = {\n                small: \"k-window-sm\",\n                medium: \"k-window-md\",\n                large: \"k-window-lg\"\n            };\n\n        function defined(x) {\n            return (typeof x != \"undefined\");\n        }\n\n        function toInt(element, property) {\n            return parseInt(element.css(property), 10) || 0;\n        }\n\n        function constrain(value, low, high) {\n            var normalizedValue;\n\n            if (value && isNaN(value) && value.toString().indexOf(\"px\") < 0) {\n                normalizedValue = value;\n            } else {\n                normalizedValue = Math.max(\n                    Math.min(parseInt(value, 10), high === Infinity ? high : parseInt(high, 10)),\n                    low === -Infinity ? low : parseInt(low, 10)\n                );\n            }\n\n            return normalizedValue;\n        }\n\n        function executableScript() {\n            return !this.type || this.type.toLowerCase().indexOf(\"script\") >= 0;\n        }\n\n\n        function getPosition(elem) {\n            var result = { top: elem.offsetTop, left: elem.offsetLeft },\n                parent = elem.offsetParent;\n\n            while (parent) {\n                result.top += parent.offsetTop;\n                result.left += parent.offsetLeft;\n\n                var parentOverflowX = $(parent).css(\"overflowX\");\n                var parentOverflowY = $(parent).css(\"overflowY\");\n\n                if (parentOverflowY === \"auto\" || parentOverflowY === \"scroll\") {\n                    result.top -= parent.scrollTop;\n                }\n\n                if (parentOverflowX === \"auto\" || parentOverflowX === \"scroll\") {\n                    result.left -= parent.scrollLeft;\n                }\n\n                parent = parent.offsetParent;\n            }\n\n            return result;\n        }\n\n        var Window = Widget.extend({\n            init: function(element, options) {\n                var that = this,\n                    wrapper,\n                    offset = {},\n                    visibility, display, position,\n                    isVisible = false,\n                    content,\n                    windowContent,\n                    windowFrame,\n                    globalWindow,\n                    suppressActions = options && options.actions && !options.actions.length,\n                    id;\n\n                Widget.fn.init.call(that, element, options);\n                options = that.options;\n                position = options.position;\n                element = that.element;\n                content = options.content;\n                globalWindow = $(window);\n\n                if (suppressActions) {\n                    options.actions = [];\n                }\n\n                that.appendTo = $(options.appendTo);\n\n                that.containment = options.draggable.containment ? $(options.draggable.containment).first() : null;\n\n                if (content && !isPlainObject(content)) {\n                    content = options.content = { url: content };\n                }\n\n                // remove script blocks to prevent double-execution\n                element.find(\"script\").filter(executableScript).remove();\n\n                if (!element.parent().is(that.appendTo) && !that.containment && (position.top === undefined || position.left === undefined)) {\n                    if (element.is(VISIBLE)) {\n                        offset = element.offset();\n                        isVisible = true;\n                    } else {\n                        visibility = element.css(\"visibility\");\n                        display = element.css(\"display\");\n\n                        element.css({ visibility: HIDDEN, display: \"\" });\n\n                        if (document.body.contains(element[0])) {\n                            offset = element.offset();\n                        } else {\n                            offset = { top: 0, left: 0 };\n                        }\n\n                        element.css({ visibility: visibility, display: display });\n                    }\n\n                    if (position.top === undefined) {\n                        position.top = offset.top;\n                    }\n                    if (position.left === undefined) {\n                        position.left = offset.left;\n                    }\n                }\n\n                if (!defined(options.visible) || options.visible === null) {\n                    options.visible = element.is(VISIBLE);\n                }\n\n                wrapper = that.wrapper = element.closest(KWINDOW);\n\n                if (!element.is(\".k-window-content\") || !wrapper[0]) {\n                    element.addClass(\"k-window-content\");\n                    element.attr(\"tabindex\", 0);\n                    that._createWindow(element, options);\n                    wrapper = that.wrapper = element.closest(KWINDOW);\n\n                    that.title(that.options.title);\n                    that._dimensions();\n                }\n\n                that.minTop = that.minLeft = -Infinity;\n                that.maxTop = that.maxLeft = Infinity;\n                that._position();\n\n                if (content) {\n                    that.refresh(content);\n                }\n\n                if (options.visible) {\n                    that.toFront(null, !options.modal);\n                }\n\n                windowContent = wrapper.children(KWINDOWCONTENT);\n\n                if (options.visible && options.modal) {\n                    that._overlay(wrapper.is(VISIBLE)).css({ opacity: 0.5 });\n                }\n\n                wrapper\n                    .on(\"mouseenter\" + NS, TITLEBAR_BUTTONS, that._buttonEnter.bind(that))\n                    .on(\"mouseleave\" + NS, TITLEBAR_BUTTONS, that._buttonLeave.bind(that))\n                    .on(\"click\" + NS, \"> \" + TITLEBAR_BUTTONS, that._windowActionHandler.bind(that))\n                    .on(\"keydown\" + NS, that, that._keydown.bind(that))\n                    .on(\"focus\" + NS, that._focus.bind(that))\n                    .on(\"blur\" + NS, that._blur.bind(that));\n\n                windowContent\n                    .on(\"keydown\" + NS, that, that._keydownContent.bind(that));\n\n                windowFrame = windowContent.find(\".\" + KCONTENTFRAME)[0];\n\n                if (windowFrame && !globalWindow.data(WINDOWEVENTSHANDLED)) {\n\n                    globalWindow.on(\"blur\" + NS, function() {\n                        var element = $(document.activeElement).parent(KWINDOWCONTENT);\n                        if (element.length) {\n                            var windowInstance = kendo.widgetInstance(element);\n                            windowInstance._focus();\n                        }\n                    });\n\n                    globalWindow.on(\"focus\" + NS, function() {\n                        $(KWINDOWCONTENT).not(KDIALOGCONTENT).each(function(i, element) {\n                            kendo.widgetInstance($(element))._blur();\n                        });\n                    });\n\n                    globalWindow.data(WINDOWEVENTSHANDLED, true);\n                }\n\n                this._resizable();\n\n                this._draggable();\n\n                if (options.pinned && this.wrapper.is(\":visible\")) {\n                    that.pin();\n                }\n\n                id = element.attr(\"id\");\n                if (id) {\n                    id = id + \"_wnd_title\";\n                    wrapper.attr({\n                            \"role\": \"dialog\",\n                            \"aria-labelledby\": id\n                        }).children(KWINDOWTITLEBAR)\n                        .children(KWINDOWTITLE)\n                        .attr(\"id\", id);\n                }\n\n                wrapper.add(wrapper.children(\".k-resize-handle,\" + KWINDOWTITLEBAR))\n                    .on(kendo.support.mousedown + NS, that.toFront.bind(that));\n\n                that.touchScroller = kendo.touchScroller(element);\n\n                that._resizeHandler = that._onDocumentResize.bind(that);\n\n                that._marker = kendo.guid().substring(0, 8);\n\n                $(window).on(\"resize\" + NS + that._marker, that._resizeHandler);\n\n                if (options.visible) {\n                    that.trigger(OPEN);\n                    that.trigger(ACTIVATE);\n                }\n\n                kendo.notify(that);\n\n                if (this.options.modal) {\n                    this._tabKeyTrap = new TabKeyTrap(wrapper);\n                    this._tabKeyTrap.trap();\n                    this._tabKeyTrap.shouldTrap = function() {\n                        return wrapper.data(\"isFront\");\n                    };\n                }\n            },\n\n            _buttonEnter: function(e) {\n                $(e.currentTarget).addClass(KHOVERSTATE);\n            },\n\n            _buttonLeave: function(e) {\n                $(e.currentTarget).removeClass(KHOVERSTATE);\n            },\n\n            _focus: function() {\n                this.wrapper.addClass(KFOCUSEDSTATE);\n            },\n\n            _blur: function() {\n                this.wrapper.removeClass(KFOCUSEDSTATE);\n            },\n\n            _dimensions: function() {\n                var wrapper = this.wrapper;\n                var options = this.options;\n                var width = options.width;\n                var height = options.height;\n                var maxHeight = options.maxHeight;\n                var sizeClass = options.size;\n                var dimensions = [\"minWidth\",\"minHeight\",\"maxWidth\",\"maxHeight\"];\n                var contentBoxSizing = wrapper.css(\"box-sizing\") == \"content-box\";\n\n                var lrBorderWidth = contentBoxSizing ? toInt(wrapper, \"border-left-width\") + toInt(wrapper, \"border-right-width\") : 0;\n                var tbBorderWidth = contentBoxSizing ? toInt(wrapper, \"border-top-width\") + toInt(wrapper, \"border-bottom-width\") : 0;\n                var paddingTop = contentBoxSizing ? toInt(wrapper, \"padding-top\") : 0;\n\n                if (this.containment && !this._isPinned) {\n                    this._updateBoundaries();\n                    options.maxHeight = Math.min(this.containment.height - (tbBorderWidth + paddingTop), maxHeight);\n                    options.maxWidth = Math.min(this.containment.width - lrBorderWidth, options.maxWidth);\n                }\n\n                for (var i = 0; i < dimensions.length; i++) {\n                    var value = options[dimensions[i]] || \"\";\n                    if (value != Infinity) {\n                        wrapper.css(dimensions[i], value);\n                    }\n                }\n\n                if (maxHeight != Infinity) {\n                    this.element.css(\"maxHeight\", maxHeight);\n                }\n\n                if (width) {\n                    wrapper.outerWidth(constrain(width, options.minWidth, options.maxWidth));\n                }\n                else {\n                    wrapper.outerWidth(\"\");\n                }\n\n                if (height) {\n                    wrapper.outerHeight(constrain(height, options.minHeight, options.maxHeight));\n                }\n                else {\n                    wrapper.outerHeight(\"\");\n                }\n\n                if (!options.visible) {\n                    wrapper.removeClass(INLINE_FLEX).hide();\n                }\n\n                if (sizeClass && SIZE[sizeClass]) {\n                    wrapper.addClass(SIZE[sizeClass]);\n                }\n            },\n\n            _position: function() {\n                var wrapper = this.wrapper,\n                    position = this.options.position,\n                    containmentTop, containmentLeft;\n\n                this._updateBoundaries();\n\n                if (this.containment) {\n                    position.top = position.top || 0;\n                    position.left = position.left || 0;\n\n                    containmentTop = position.top.toString().indexOf(\"%\") > 0 ?\n                        parseInt(this.containment.height * (parseFloat(position.top) / 100), 10) :\n                        position.top;\n\n                    containmentLeft = position.left.toString().indexOf(\"%\") > 0 ?\n                        parseInt(this.containment.width * (parseFloat(position.left) / 100), 10) :\n                        position.left;\n\n                    position.top = constrain(containmentTop, this.minTop, this.maxTop);\n                    position.left = constrain(containmentLeft, this.minLeft, this.maxLeft);\n                }\n\n                if (position.top && position.top.toString().indexOf(\"px\") > 0) {\n                    position.top = Number(position.top.replace(\"px\", \"\"));\n                }\n\n                if (position.left && position.left.toString().indexOf(\"px\") > 0) {\n                    position.left = Number(position.left.replace(\"px\", \"\"));\n                }\n\n                if (position.top === 0) {\n                    position.top = position.top.toString();\n                }\n\n                if (position.left === 0) {\n                    position.left = position.left.toString();\n                }\n\n                wrapper.css({\n                    top: position.top || \"\",\n                    left: position.left || \"\"\n                });\n            },\n\n            _updateBoundaries: function() {\n                var containment = this.containment;\n\n                if (!containment) {\n                    return null;\n                }\n\n                containment.width = containment.innerWidth();\n                containment.height = containment.innerHeight();\n\n                if (parseInt(containment.width, 10) > containment[0].clientWidth) {\n                    containment.width -= kendo.support.scrollbar();\n                }\n\n                if (parseInt(containment.height, 10) > containment[0].clientHeight) {\n                    containment.height -= kendo.support.scrollbar();\n                }\n\n                containment.position = getPosition(containment[0]);\n\n                if (this._isPinned) {\n                    this.minTop = this.minLeft = -Infinity;\n                    this.maxTop = this.maxLeft = Infinity;\n                } else {\n                    this.minTop = containment.scrollTop();\n                    this.minLeft = containment.scrollLeft();\n                    this.maxLeft = this.minLeft + containment.width - outerWidth(this.wrapper, true);\n                    this.maxTop = this.minTop + containment.height - outerHeight(this.wrapper, true);\n                }\n            },\n\n            _animationOptions: function(id) {\n                var animation = this.options.animation;\n                var basicAnimation = {\n                    open: { effects: {} },\n                    close: { hide: true, effects: {} }\n                };\n\n                return animation && animation[id] || basicAnimation[id];\n            },\n\n            _resize: function() {\n                kendo.resize(this.element.children());\n            },\n\n            _resizable: function() {\n                var resizable = this.options.resizable;\n                var wrapper = this.wrapper;\n\n                if (this.resizing) {\n                    wrapper\n                        .off(\"dblclick\" + NS)\n                        .children(KWINDOWRESIZEHANDLES).remove();\n\n                    this.resizing.destroy();\n                    this.resizing = null;\n                }\n\n                if (resizable) {\n                    wrapper.on(\"dblclick\" + NS, KWINDOWTITLEBAR, (function(e) {\n                        if (!$(e.target).closest(\".k-window-action\").length) {\n                            this.toggleMaximization();\n                        }\n                    }).bind(this));\n\n                    each(\"n e s w se sw ne nw\".split(\" \"), function(index, handler) {\n                        wrapper.append(templates.resizeHandle(handler));\n                    });\n\n                    this.resizing = new WindowResizing(this);\n                }\n\n                wrapper = null;\n            },\n\n            _draggable: function() {\n                var draggable = this.options.draggable;\n\n                if (this.dragging) {\n                    this.dragging.destroy();\n                    this.dragging = null;\n                }\n                if (draggable) {\n                    this.dragging = new WindowDragging(this, draggable.dragHandle || KWINDOWTITLEBAR);\n                }\n            },\n\n            _actions: function() {\n                var options = this.options;\n                var actions = options.actions;\n                var pinned = options.pinned;\n                var titlebar = this.wrapper.children(KWINDOWTITLEBAR);\n                var container = titlebar.find(\".k-window-actions\");\n                var windowSpecificCommands = [ \"maximize\", \"minimize\" ];\n\n                actions = $.map(actions, function(action) {\n                    action = pinned && action.toLowerCase() === \"pin\" ? \"unpin\" : action;\n                    return { name: (windowSpecificCommands.indexOf(action.toLowerCase()) > - 1) ? \"window-\" + action : action };\n                });\n\n                container.html(kendo.render(templates.action, actions));\n            },\n\n            setOptions: function(options) {\n                var that = this;\n                var sizeClass = that.options.size;\n                var doc = this.containment && !that._isPinned ? this.containment : $(document);\n                // make a deep extend over options.position telerik/kendo-ui-core#844\n                var cachedOptions = JSON.parse(JSON.stringify(options));\n                extend(options.position, that.options.position);\n                extend(options.position, cachedOptions.position);\n\n                that._containerScrollTop = doc.scrollTop();\n                that._containerScrollLeft = doc.scrollLeft();\n\n                Widget.fn.setOptions.call(that, options);\n                var scrollable = that.options.scrollable !== false;\n\n                that.restore();\n\n                if (typeof options.title !== \"undefined\") {\n                    that.title(options.title);\n                }\n\n                that.wrapper.removeClass(SIZE[sizeClass]);\n                that._dimensions();\n\n                that._position();\n                that._resizable();\n                that._draggable();\n                that._actions();\n                if (typeof options.modal !== \"undefined\") {\n                    var visible = that.options.visible !== false;\n                    that._enableDocumentScrolling();\n                    that._overlay(options.modal && visible);\n                }\n\n                that.element.css(OVERFLOW, scrollable ? \"\" : \"hidden\");\n            },\n\n            events: [\n                OPEN,\n                ACTIVATE,\n                DEACTIVATE,\n                CLOSE,\n                MINIMIZE,\n                MAXIMIZE,\n                REFRESH,\n                RESTORE,\n                RESIZESTART,\n                RESIZE,\n                RESIZEEND,\n                DRAGSTART,\n                DRAGEND,\n                KENDOKEYDOWN,\n                ERROR\n            ],\n\n            options: {\n                name: \"Window\",\n                animation: {\n                    open: {\n                        effects: { zoom: { direction: \"in\" }, fade: { direction: \"in\" } },\n                        duration: 350\n                    },\n                    close: {\n                        effects: { zoom: { direction: \"out\", properties: { scale: 0.7 } }, fade: { direction: \"out\" } },\n                        duration: 350,\n                        hide: true\n                    }\n                },\n                title: \"\",\n                actions: [\"Close\"],\n                autoFocus: true,\n                modal: false,\n                size: \"auto\",\n                resizable: true,\n                draggable: true,\n                minWidth: 90,\n                minHeight: 50,\n                maxWidth: Infinity,\n                maxHeight: Infinity,\n                pinned: false,\n                scrollable: true,\n                position: {},\n                content: null,\n                visible: null,\n                height: null,\n                width: null,\n                appendTo: \"body\",\n                isMaximized: false,\n                isMinimized: false\n            },\n\n            _closable: function() {\n                return $.inArray(\"close\", $.map(this.options.actions, function(x) { return x.toLowerCase(); })) > -1;\n            },\n\n            _keydownContent: function(e) {\n                var that = this,\n                    keys = kendo.keys,\n                    keyCode = e.keyCode;\n\n                if (keyCode == keys.ESC && that._closable()) {\n                    e.stopPropagation();\n                    that._close(false);\n                }\n            },\n\n            _keydown: function(e) {\n                var that = this,\n                    options = that.options,\n                    keys = kendo.keys,\n                    keyCode = e.keyCode,\n                    wrapper = that.wrapper,\n                    offset, handled,\n                    distance = 10,\n                    isMaximized = options.isMaximized,\n                    isMinimized = options.isMinimized,\n                    newWidth, newHeight, w, h;\n\n                if (keyCode == keys.ESC && that._closable()) {\n                    e.stopPropagation();\n                    that._close(false);\n                }\n\n                if (e.target != e.currentTarget || that._closing) {\n                    return;\n                }\n\n                 // Refresh\n                if (e.altKey && keyCode == 82) {// Alt + R\n                    that.refresh();\n                }\n\n                // Pin/Unpin\n                if (e.altKey && keyCode == 80) {// Alt + P\n                    if (that.options.pinned) {\n                        that.unpin();\n                    } else {\n                        that.pin();\n                    }\n                }\n\n                // Maximize/Restore/Miminimize\n                if (e.altKey && keyCode == keys.UP) {\n                    if (isMinimized) {\n                        that.restore();\n                        that.wrapper.trigger(\"focus\");\n                    } else if (!isMaximized) {\n                        that.maximize();\n                        that.wrapper.trigger(\"focus\");\n                    }\n                } else if (e.altKey && keyCode == keys.DOWN) {\n                    if (!isMinimized && !isMaximized) {\n                        that.minimize();\n                        that.wrapper.trigger(\"focus\");\n                    } else if (isMaximized) {\n                        that.restore();\n                        that.wrapper.trigger(\"focus\");\n                    }\n                }\n\n                offset = kendo.getOffset(wrapper);\n\n                if (that.containment && !that._isPinned) {\n                    offset = that.options.position;\n                }\n\n                if (options.draggable && !e.ctrlKey && !e.altKey && !isMaximized) {\n                    that._updateBoundaries();\n                    if (keyCode == keys.UP) {\n                        offset.top = constrain(offset.top - distance, that.minTop, that.maxTop);\n                        handled = wrapper.css(\"top\", offset.top);\n                    } else if (keyCode == keys.DOWN) {\n                        offset.top = constrain(offset.top + distance, that.minTop, that.maxTop);\n                        handled = wrapper.css(\"top\", offset.top);\n                    } else if (keyCode == keys.LEFT) {\n                        offset.left = constrain(offset.left - distance, that.minLeft, that.maxLeft);\n                        handled = wrapper.css(\"left\", offset.left);\n                    } else if (keyCode == keys.RIGHT) {\n                        offset.left = constrain(offset.left + distance, that.minLeft, that.maxLeft);\n                        handled = wrapper.css(\"left\", offset.left);\n                    }\n                }\n\n                if (options.resizable && e.ctrlKey && !isMaximized && !isMinimized) {\n                    if (keyCode == keys.UP) {\n                        handled = true;\n                        newHeight = wrapper.outerHeight() - distance;\n                    } else if (keyCode == keys.DOWN) {\n                        handled = true;\n                        if (that.containment && !that._isPinned) {\n                            newHeight = Math.min(wrapper.outerHeight() + distance,\n                                that.containment.height - offset.top - toInt(wrapper, \"padding-top\") -\n                                toInt(wrapper, \"borderBottomWidth\") - toInt(wrapper, \"borderTopWidth\"));\n                        } else {\n                            newHeight = wrapper.outerHeight() + distance;\n                        }\n                    } if (keyCode == keys.LEFT) {\n                        handled = true;\n                        newWidth = wrapper.outerWidth() - distance;\n                    } else if (keyCode == keys.RIGHT) {\n                        handled = true;\n                        if (that.containment && !that._isPinned) {\n                            newWidth = Math.min(wrapper.outerWidth() + distance,\n                                                that.containment.width - offset.left -\n                                                toInt(wrapper, \"borderLeftWidth\") - toInt(wrapper, \"borderRightWidth\"));\n                        } else {\n                            newWidth = wrapper.outerWidth() + distance;\n                        }\n                    }\n\n                    if (handled) {\n                        w = constrain(newWidth, options.minWidth, options.maxWidth);\n                        h = constrain(newHeight, options.minHeight, options.maxHeight);\n\n                        if (!isNaN(w)) {\n                            wrapper.outerWidth(w);\n                            that.options.width = w + \"px\";\n                        }\n                        if (!isNaN(h)) {\n                            wrapper.outerHeight(h);\n                            that.options.height = h + \"px\";\n                        }\n\n                        that.resize();\n                    }\n                }\n\n                if (handled) {\n                    e.preventDefault();\n                }\n            },\n\n            _overlay: function(visible) {\n                var overlay = this.containment ? this.containment.children(KOVERLAY) : this.appendTo.children(KOVERLAY),\n                    wrapper = this.wrapper,\n                    display = visible ? \"block\" : \"none\",\n                    zIndex = parseInt(wrapper.css(ZINDEX), 10) - 1;\n\n                if (!overlay.length) {\n                    overlay = $(\"<div class='k-overlay' />\");\n                }\n\n                overlay\n                    .insertBefore(wrapper[0])\n                    .css({\n                        zIndex: zIndex,\n                        display: display\n                    });\n\n                if (this.options.modal.preventScroll && !this.containment) {\n                    this._stopDocumentScrolling();\n                }\n\n                return overlay;\n            },\n\n            _actionForIcon: function(icon) {\n                var iconClass = /\\bk-i(-\\w+)+\\b/.exec(icon[0].className)[0];\n                return {\n                    \"k-i-close\": \"_close\",\n                    \"k-i-window-maximize\": \"maximize\",\n                    \"k-i-window-minimize\": \"minimize\",\n                    \"k-i-window-restore\": \"restore\",\n                    \"k-i-refresh\": \"refresh\",\n                    \"k-i-pin\": \"pin\",\n                    \"k-i-unpin\": \"unpin\"\n                }[iconClass];\n            },\n\n            _windowActionHandler: function(e) {\n                if (this._closing) {\n                    return;\n                }\n                var icon = $(e.target).closest(\".k-window-action\").find(\".k-icon\");\n                var action = this._actionForIcon(icon);\n\n                if (action) {\n                    e.preventDefault();\n                    this[action]();\n                    return false;\n                }\n            },\n\n            _modals: function() {\n                var that = this,\n                    windowElements = $(KWINDOW + VISIBLE),\n                    windowInstance,\n                    modals = [];\n\n                for (var i = 0; i < windowElements.length; i += 1) {\n                    windowInstance = that._object($(windowElements[i]));\n\n                    if (windowInstance &&\n                        windowInstance.options &&\n                        windowInstance.options.modal &&\n                        windowInstance.options.visible &&\n                        windowInstance.options.appendTo === that.options.appendTo &&\n                        (!windowInstance.containment || (that.containment && windowInstance.containment[0] === that.containment[0]))) {\n                            modals.push(windowInstance.wrapper[0]);\n                    }\n                }\n\n                modals.sort(function(a, b) {\n                    return a.style.zIndex - b.style.zIndex;\n                });\n\n                that = null;\n\n                return $(modals);\n            },\n\n            _object: function(element) {\n                var content = element.children(KWINDOWCONTENT);\n                var widget = kendo.widgetInstance(content);\n\n                if (widget) {\n                    return widget;\n                }\n\n                return undefined;\n            },\n\n            center: function() {\n                var that = this,\n                    position = that.options.position,\n                    wrapper = that.wrapper,\n                    documentWindow = $(window),\n                    scrollTop = 0,\n                    scrollLeft = 0,\n                    newTop, newLeft;\n\n                if (that.options.isMaximized) {\n                    return that;\n                }\n\n                if (that.options.pinned && !that._isPinned) {\n                    that.pin();\n                }\n\n                if (!that.options.pinned) {\n                    scrollTop = documentWindow.scrollTop();\n                    scrollLeft = documentWindow.scrollLeft();\n                }\n\n                if (this.containment && !that.options.pinned) {\n                    newTop = this.minTop + (this.maxTop - this.minTop) / 2;\n                    newLeft = this.minLeft + (this.maxLeft - this.minLeft) / 2;\n                } else {\n                    that._scrollIsAppended = true;\n                    newLeft = scrollLeft + Math.max(0, (documentWindow.width() - wrapper.outerWidth()) / 2);\n                    newTop = scrollTop + Math.max(0, (documentWindow.height() - wrapper.outerHeight() - toInt(wrapper, \"paddingTop\")) / 2);\n                }\n\n                wrapper.css({\n                    left: newLeft,\n                    top: newTop\n                });\n\n                position.top = newTop;\n                position.left = newLeft;\n\n                return that;\n            },\n\n            title: function(title) {\n                var that = this,\n                    value,\n                    encoded = true,\n                    wrapper = that.wrapper,\n                    titleBar = wrapper.children(KWINDOWTITLEBAR),\n                    titleElement = titleBar.children(KWINDOWTITLE);\n\n                if (!arguments.length) {\n                    return titleElement.html();\n                }\n\n                if ($.isPlainObject(title)) {\n                    value = typeof title.text !== \"undefined\" ? title.text : \"\";\n                    encoded = title.encoded !== false;\n                } else {\n                    value = title;\n                }\n\n                if (value === false) {\n                    wrapper.addClass(\"k-window-titleless\");\n                    wrapper.css(\"padding-top\", 0);\n                    titleBar.remove();\n                } else {\n                    if (!titleBar.length) {\n                        wrapper.prepend(templates.titlebar({\n                            title: encoded ? kendo.htmlEncode(value) : value\n                        }));\n                        that._actions();\n                        titleBar = wrapper.children(KWINDOWTITLEBAR);\n                    } else {\n                        titleElement.html(encoded ? kendo.htmlEncode(value) : value);\n                    }\n                }\n\n                that.options.title = value;\n\n                return that;\n            },\n\n            content: function(html, data) {\n                var content = this.wrapper.children(KWINDOWCONTENT),\n                    scrollContainer = content.children(\".km-scroll-container\");\n\n                content = scrollContainer[0] ? scrollContainer : content;\n\n                if (!defined(html)) {\n                    return content.html();\n                }\n\n                this.angular(\"cleanup\", function() {\n                    return { elements: content.children() };\n                });\n\n                kendo.destroy(this.element.children());\n\n                content.empty().html(html);\n\n                this.angular(\"compile\", function() {\n                    var a = [];\n                    for (var i = content.length; --i >= 0;) {\n                        a.push({ dataItem: data });\n                    }\n                    return {\n                        elements: content.children(),\n                        data: a\n                    };\n                });\n\n                return this;\n            },\n\n            open: function() {\n                var that = this,\n                    wrapper = that.wrapper,\n                    options = that.options,\n                    showOptions = this._animationOptions(\"open\"),\n                    contentElement = wrapper.children(KWINDOWCONTENT),\n                    overlay, otherModalsVisible,\n                    containmentContext = this.containment && !that._isPinned,\n                    doc = containmentContext ? this.containment : $(document);\n\n                if (!that.trigger(OPEN)) {\n                    if (that._closing) {\n                        wrapper.kendoStop(true, true);\n                    }\n\n                    that._closing = false;\n\n                    that.toFront();\n\n                    if (options.autoFocus) {\n                        that.wrapper.trigger(\"focus\");\n                    }\n\n                    options.visible = true;\n\n                    if (options.modal) {\n                        otherModalsVisible = !!that._modals().length;\n                        overlay = that._overlay(otherModalsVisible);\n\n                        overlay.kendoStop(true, true);\n\n                        if (showOptions.duration && kendo.effects.Fade && !otherModalsVisible) {\n                            var overlayFx = kendo.fx(overlay).fadeIn();\n                            overlayFx.duration(showOptions.duration || 0);\n                            overlayFx.endValue(0.5);\n                            overlayFx.play();\n                        } else {\n                            overlay.css(\"opacity\", 0.5);\n                        }\n\n                        overlay.show();\n\n                        $(window).on(\"focus\" + MODAL_NS, function() {\n                            if (wrapper.data(\"isFront\") && !$(document.activeElement).closest(wrapper).length) {\n                               that.wrapper.trigger(\"focus\");\n                            }\n                        });\n                    }\n\n                    if (!wrapper.is(VISIBLE)) {\n                        contentElement.css(OVERFLOW, HIDDEN);\n\n                        that.wrapper.find(TITLEBAR_BUTTONS).addClass(\"k-button-flat\");\n\n                        wrapper.addClass(INLINE_FLEX).kendoStop().kendoAnimate({\n                            effects: showOptions.effects,\n                            duration: showOptions.duration,\n                            complete: this._activate.bind(this)\n                        });\n                    }\n                }\n\n                if (options.isMaximized) {\n                    that._containerScrollTop = doc.scrollTop();\n                    that._containerScrollLeft = doc.scrollLeft();\n                    that._stopDocumentScrolling();\n                }\n\n                if (this.options.pinned && !this._isPinned) {\n                    this.pin();\n                }\n\n                return that;\n            },\n\n            _activate: function() {\n                var scrollable = this.options.scrollable !== false;\n\n                if (this.options.autoFocus) {\n                    this.wrapper.trigger(\"focus\");\n                }\n\n                this.element.css(OVERFLOW, scrollable ? \"\" : \"hidden\");\n                kendo.resize(this.element.children());\n\n                this.trigger(ACTIVATE);\n            },\n\n            _removeOverlay: function(suppressAnimation) {\n                var modals = this._modals();\n                var options = this.options;\n                var hideOverlay = options.modal && !modals.length;\n                var hideOptions = this._animationOptions(\"close\");\n\n                if (hideOverlay) {\n                    if (!suppressAnimation && hideOptions.duration && kendo.effects.Fade) {\n                        var overlayFx = kendo.fx(options.modal ? this._overlay(true) : $(undefined)).fadeOut();\n                        overlayFx.duration(hideOptions.duration || 0);\n                        overlayFx.startValue(0.5);\n                        overlayFx.play();\n                    } else {\n                        this._overlay(false).remove();\n                    }\n                    if (options.modal.preventScroll) {\n                        this._enableDocumentScrolling();\n                    }\n                } else if (modals.length) {\n                    this._object(modals.last())._overlay(true);\n\n                    if (options.modal.preventScroll) {\n                        this._stopDocumentScrolling();\n                    }\n                }\n            },\n\n            _close: function(systemTriggered) {\n                var that = this,\n                    wrapper = that.wrapper,\n                    options = that.options,\n                    showOptions = this._animationOptions(\"open\"),\n                    hideOptions = this._animationOptions(\"close\"),\n                    containmentContext = this.containment && !that._isPinned,\n                    doc = containmentContext ? this.containment : $(document),\n                    defaultPrevented;\n\n                if (that._closing) {\n                    return;\n                }\n\n                defaultPrevented = that.trigger(CLOSE, { userTriggered: !systemTriggered });\n                that._closing = !defaultPrevented;\n\n                if (wrapper.is(VISIBLE) && !defaultPrevented) {\n                    options.visible = false;\n\n                    $(KWINDOW).each(function(i, element) {\n                        var contentElement = $(element).children(KWINDOWCONTENT);\n\n                        // Remove overlay set by toFront\n                        if (element != wrapper && contentElement.find(\"> .\" + KCONTENTFRAME).length > 0) {\n                            contentElement.children(KOVERLAY).remove();\n                        }\n                    });\n\n                    this._removeOverlay();\n\n                    // Prevent close animation from stopping\n                    that.wrapper.find(TITLEBAR_BUTTONS).removeClass(\"k-button-flat\");\n\n                    wrapper.kendoStop().kendoAnimate({\n                        effects: hideOptions.effects || showOptions.effects,\n                        reverse: hideOptions.reverse === true,\n                        duration: hideOptions.duration,\n                        complete: this._deactivate.bind(this)\n                    });\n                    $(window).off(MODAL_NS);\n                }\n\n                if (that.options.isMaximized) {\n                    that._enableDocumentScrolling();\n                    if (that._containerScrollTop && that._containerScrollTop > 0) {\n                        doc.scrollTop(that._containerScrollTop);\n                    }\n                    if (that._containerScrollLeft && that._containerScrollLeft > 0) {\n                        doc.scrollLeft(that._containerScrollLeft);\n                    }\n                }\n\n                if (that.options.iframe) {\n                    that.wrapper.trigger(\"blur\");\n                }\n            },\n\n            _deactivate: function() {\n                var that = this;\n\n                that.wrapper\n                    .removeClass(INLINE_FLEX)\n                    .hide()\n                    .css(\"opacity\", \"\");\n\n                that.trigger(DEACTIVATE);\n\n                if (that.options.modal) {\n                    var lastModal = that._object(that._modals().last());\n                    if (lastModal) {\n                        lastModal.toFront();\n                    }\n                }\n            },\n\n            close: function() {\n                this._close(true);\n                return this;\n            },\n\n            _actionable: function(element) {\n                return $(element).is(TITLEBAR_BUTTONS + \",\" + TITLEBAR_BUTTONS + \" .k-icon, :input, a, .k-input, .k-icon, [role='gridcell'], .k-input-value-text\");\n            },\n\n            _shouldFocus: function(target) {\n                var active = activeElement(),\n                    element = this.wrapper;\n\n                return this.options.autoFocus &&\n                    !$(active).is(element) &&\n                    !this._actionable(target) &&\n                    (!element.find(active).length || !element.find(target).length);\n            },\n\n            toFront: function(e, avoidFocus) {\n                var that = this,\n                    wrapper = that.wrapper,\n                    currentWindow = wrapper[0],\n                    containmentContext = that.containment && !that._isPinned,\n                    openAnimation = this._animationOptions(\"open\"),\n                    zIndex = +wrapper.css(ZINDEX),\n                    originalZIndex = zIndex,\n                    target = (e && e.target) || null;\n\n                $(KWINDOW).each(function(i, element) {\n                    var windowObject = $(element),\n                        zIndexNew = windowObject.css(ZINDEX),\n                        contentElement = windowObject.children(KWINDOWCONTENT);\n\n                    if (!isNaN(zIndexNew)) {\n                        zIndex = Math.max(+zIndexNew, zIndex);\n                    }\n\n                    wrapper.data(\"isFront\", element == currentWindow);\n                    // Add overlay to windows with iframes and lower z-index to prevent\n                    // trapping of events when resizing / dragging\n\n                    if (element != currentWindow &&\n                        contentElement.find(\".\" + KCONTENTFRAME).length &&\n                        !contentElement.find(KOVERLAY).length) {\n                        contentElement.append(templates.overlay);\n                    }\n                });\n\n                if (!wrapper[0].style.zIndex || originalZIndex < zIndex) {\n                    wrapper.css(ZINDEX, zIndex + 2);\n                }\n                that.element.find(\"> .k-overlay\").remove();\n\n                if (that._shouldFocus(target)) {\n                    if (!avoidFocus) {\n                        setTimeout(function() {\n                            that.wrapper.focus();\n                        }, openAnimation ? openAnimation.duration : 0);\n                    }\n\n                    var scrollTop = containmentContext ? that.containment.scrollTop() : $(window).scrollTop(),\n                        windowTop = parseInt(wrapper.position().top, 10);\n\n                    if (!that.options.pinned && windowTop > 0 && windowTop < scrollTop) {\n                        if (scrollTop > 0) {\n                            $(window).scrollTop(windowTop);\n                        } else {\n                            wrapper.css(\"top\", scrollTop);\n                        }\n                    }\n                }\n\n                wrapper = null;\n\n                return that;\n            },\n\n            toggleMaximization: function() {\n                if (this._closing) {\n                    return this;\n                }\n\n                return this[this.options.isMaximized ? \"restore\" : \"maximize\"]();\n            },\n\n            restore: function() {\n                var that = this;\n                var options = that.options;\n                var minHeight = options.minHeight;\n                var restoreOptions = that.restoreOptions;\n                var shouldRestrictTop;\n                var container = that.containment && !that._isPinned ? that.containment : $(document);\n\n                if (!options.isMaximized && !options.isMinimized) {\n                    return that;\n                }\n\n                if (minHeight && minHeight != Infinity) {\n                    that.wrapper.css(\"min-height\", minHeight);\n                }\n\n                if (restoreOptions && !options.isMaximized) {\n                    restoreOptions.height = constrain(restoreOptions.height, that.options.minHeight, that.options.maxHeight);\n\n                    shouldRestrictTop = options.position.top + parseInt(restoreOptions.height, 10) > that.maxTop;\n\n                    if (shouldRestrictTop) {\n                        options.position.top = constrain(options.position.top, that.minTop, that.maxTop - parseInt(restoreOptions.height, 10));\n\n                        extend(restoreOptions, {\n                            left: options.position.left,\n                            top: options.position.top\n                        });\n                    }\n                }\n\n                that.wrapper\n                    .css({\n                        position: options.pinned ? \"fixed\" : \"absolute\",\n                        left: restoreOptions.left,\n                        top: restoreOptions.top,\n                        width: restoreOptions.width,\n                        height: restoreOptions.height\n                    })\n                    .removeClass(MAXIMIZEDSTATE)\n                    .find(\".k-window-content,.k-resize-handle\").show().end()\n                    .find(\".k-window-titlebar .k-i-window-restore\").parent().remove().end().end()\n                    .find(MINIMIZE_MAXIMIZE).parent().show().end().end()\n                    .find(PIN_UNPIN).parent().show();\n\n                if (options.isMaximized) {\n                    that.wrapper.find(\".k-i-window-maximize\").parent().trigger(\"focus\");\n                } else if (options.isMinimized) {\n                    that.wrapper.find(\".k-i-window-minimize\").parent().trigger(\"focus\");\n                }\n\n                that.options.width = restoreOptions.width;\n                that.options.height = restoreOptions.height;\n\n                if (!that.options.modal.preventScroll) {\n                    that._enableDocumentScrolling();\n                }\n\n                if (that._containerScrollTop && that._containerScrollTop > 0) {\n                    container.scrollTop(that._containerScrollTop);\n                }\n                if (that._containerScrollLeft && that._containerScrollLeft > 0) {\n                    container.scrollLeft(that._containerScrollLeft);\n                }\n\n                options.isMaximized = options.isMinimized = false;\n\n                that.wrapper.removeAttr(\"aria-labelled-by\");\n\n                that.resize();\n\n                that.trigger(RESTORE);\n\n                return that;\n            },\n\n            _sizingAction: function(actionId, callback) {\n                var that = this,\n                    wrapper = that.wrapper,\n                    style = wrapper[0].style,\n                    options = that.options;\n\n                if (options.isMaximized || options.isMinimized) {\n                    return that;\n                }\n\n                that.restoreOptions = {\n                    width: style.width,\n                    height: style.height\n                };\n\n                wrapper\n                    .children(KWINDOWRESIZEHANDLES).hide().end()\n                    .children(KWINDOWTITLEBAR).find(MINIMIZE_MAXIMIZE).parent().hide()\n                    .eq(0).before(templates.action({ name: \"window-restore\" }));\n\n                callback.call(that);\n\n                that.wrapper.children(KWINDOWTITLEBAR).find(PIN_UNPIN).parent().toggle(actionId !== \"maximize\");\n\n                that.trigger(actionId);\n\n                wrapper.find(\".k-i-window-restore\").parent().trigger(\"focus\");\n\n                return that;\n            },\n\n            maximize: function() {\n                this._sizingAction(\"maximize\", function() {\n                    var that = this,\n                        wrapper = that.wrapper,\n                        containmentContext = this.containment && !that._isPinned,\n                        position = wrapper.position(),\n                        doc = $(document);\n\n                    extend(that.restoreOptions, {\n                        left: position.left + (containmentContext ? this.containment.scrollLeft() : 0),\n                        top: position.top + (containmentContext ? this.containment.scrollTop() : 0)\n                    });\n\n                    this._containerScrollTop = containmentContext ? this.containment.scrollTop() : doc.scrollTop();\n                    this._containerScrollLeft = containmentContext ? this.containment.scrollLeft() : doc.scrollLeft();\n\n                    that._stopDocumentScrolling();\n\n                    wrapper\n                        .css({\n                            top: containmentContext ? this.containment.scrollTop() : 0,\n                            left: containmentContext ? this.containment.scrollLeft() : 0,\n                            position: containmentContext ? \"absolute\" : \"fixed\"\n                        })\n                        .addClass(MAXIMIZEDSTATE);\n\n                    that.options.isMaximized = true;\n\n                    that._onDocumentResize();\n                });\n\n                return this;\n            },\n\n            _stopDocumentScrolling: function() {\n                var that = this;\n                var containment = that.containment;\n\n                if (containment && !that._isPinned) {\n                    that._storeOverflowRule(containment);\n                    containment.css(OVERFLOW, HIDDEN);\n                    that.wrapper.css({\n                        maxWidth: containment.innerWidth(),\n                        maxHeight: containment.innerHeight()\n                    });\n                    return;\n                }\n\n                var $body = $(\"body\");\n                that._storeOverflowRule($body);\n                $body.css(OVERFLOW, HIDDEN);\n\n                var $html = $(\"html\");\n                that._storeOverflowRule($html);\n                $html.css(OVERFLOW, HIDDEN);\n            },\n\n            _enableDocumentScrolling: function() {\n                var that = this;\n                var containment = that.containment;\n\n                if (containment && !that._isPinned) {\n                    that._restoreOverflowRule(containment);\n                    that.wrapper.css({\n                        maxWidth: containment.width,\n                        maxHeight: containment.height\n                    });\n                    return;\n                }\n\n                that._restoreOverflowRule($(document.body));\n                that._restoreOverflowRule($(\"html\"));\n            },\n\n            _storeOverflowRule: function($element) {\n                if (this._isOverflowStored($element)) {\n                    return;\n                }\n\n                var overflowRule = $element.get(0).style.overflow;\n\n                if (typeof overflowRule === \"string\") {\n                    $element.data(DATADOCOVERFLOWRULE, overflowRule);\n                }\n            },\n\n            _isOverflowStored: function($element) {\n                return typeof $element.data(DATADOCOVERFLOWRULE) === \"string\";\n            },\n\n            _restoreOverflowRule: function($element) {\n                var overflowRule = $element.data(DATADOCOVERFLOWRULE);\n\n                if (overflowRule !== null && overflowRule !== undefined) {\n                    $element.css(OVERFLOW, overflowRule);\n                    $element.removeData(DATADOCOVERFLOWRULE);\n                } else {\n                    $element.css(OVERFLOW, \"\");\n                }\n            },\n\n            isMaximized: function() {\n                return this.options.isMaximized;\n            },\n\n            minimize: function() {\n                this._sizingAction(\"minimize\", function() {\n                    var that = this;\n\n                    that.wrapper.css({\n                        height: \"\",\n                        minHeight: \"\"\n                    });\n\n                    that.element.hide();\n\n                    that.options.isMinimized = true;\n                });\n\n                this.wrapper.attr(\"aria-labelled-by\", this.element.attr(\"aria-labelled-by\"));\n\n                this._updateBoundaries();\n\n                return this;\n            },\n\n            isMinimized: function() {\n                return this.options.isMinimized;\n            },\n\n            pin: function() {\n                var that = this,\n                    win = $(window),\n                    wrapper = that.wrapper,\n                    options = that.options,\n                    position = options.position,\n                    top = this.containment ? getPosition(wrapper[0]).top + toInt(this.containment, \"borderTopWidth\") : toInt(wrapper, \"top\"),\n                    left = this.containment ? getPosition(wrapper[0]).left + toInt(this.containment, \"borderLeftWidth\") : toInt(wrapper, \"left\");\n\n                if (!that.options.isMaximized) {\n                    position.top = top;\n                    position.left = left;\n\n                    if (that._scrollIsAppended && (!this.containment || this.containment.css(\"position\") !== \"fixed\")) {\n\n                        position.top -= win.scrollTop();\n                        position.left -= win.scrollLeft();\n                        that._scrollIsAppended = false;\n                    }\n\n                    wrapper.css(extend(position, { position: \"fixed\" }));\n                    wrapper.children(KWINDOWTITLEBAR).find(KPIN).addClass(\"k-i-unpin\").removeClass(\"k-i-pin\");\n\n                    that._isPinned = true;\n                    that.options.pinned = true;\n\n                    if (this.containment) {\n                        options.maxWidth = options.maxHeight = Infinity;\n                        wrapper.css({\n                            maxWidth: \"\",\n                            maxHeight: \"\"\n                        });\n                    }\n                }\n            },\n\n            unpin: function() {\n                var that = this,\n                    win = $(window),\n                    wrapper = that.wrapper,\n                    options = that.options,\n                    position = that.options.position,\n                    containment = that.containment,\n                    top = parseInt(wrapper.css(\"top\"), 10) + win.scrollTop(),\n                    left = parseInt(wrapper.css(\"left\"), 10) + win.scrollLeft();\n\n                if (!that.options.isMaximized) {\n                    that._isPinned = false;\n                    that._scrollIsAppended = true;\n                    that.options.pinned = false;\n\n                    if (containment) {\n                        that._updateBoundaries();\n\n                        options.maxWidth = Math.min(containment.width, options.maxWidth);\n                        options.maxHeight = Math.min(containment.height - toInt(wrapper, \"padding-top\"), options.maxHeight);\n\n                        wrapper.css({\n                            maxWidth: options.maxWidth,\n                            maxHeight: options.maxHeight\n                        });\n\n                        if (top < containment.position.top) {\n                            top = that.minTop;\n                        } else if (top > containment.position.top + containment.height) {\n                            top = that.maxTop;\n                        } else {\n                            top = top + containment.scrollTop() - (containment.position.top + toInt(containment, \"border-top-width\"));\n                        }\n\n                        if (left < containment.position.left) {\n                            left = that.minLeft;\n                        } else if (left > containment.position.left + containment.width) {\n                            left = that.maxLeft;\n                        } else {\n                            left = left + containment.scrollLeft() - (containment.position.left + toInt(containment, \"border-left-width\"));\n                        }\n\n                    }\n\n                    position.top = constrain(top, that.minTop, that.maxTop);\n                    position.left = constrain(left, that.minLeft, that.maxLeft);\n\n                    wrapper.css(extend(position, { position: \"\" }));\n                    wrapper.children(KWINDOWTITLEBAR).find(KUNPIN).addClass(\"k-i-pin\").removeClass(\"k-i-unpin\");\n                }\n            },\n\n            _onDocumentResize: function() {\n                var that = this,\n                    wrapper = that.wrapper,\n                    wnd = $(window),\n                    zoomLevel = kendo.support.zoomLevel(),\n                    contentBoxSizing = wrapper.css(\"box-sizing\") == \"content-box\",\n                    w, h;\n\n                if (!that.options.isMaximized) {\n                    return;\n                }\n\n                var lrBorderWidth = contentBoxSizing ? toInt(wrapper, \"border-left-width\") + toInt(wrapper, \"border-right-width\") : 0;\n                var tbBorderWidth = contentBoxSizing ? toInt(wrapper, \"border-top-width\") + toInt(wrapper, \"border-bottom-width\") : 0;\n                var paddingTop = contentBoxSizing ? toInt(wrapper, \"padding-top\") : 0;\n\n                if (that.containment && !that._isPinned) {\n                    w = that.containment.innerWidth() - lrBorderWidth;\n                    h = that.containment.innerHeight() - (tbBorderWidth + paddingTop);\n                } else {\n                    w = wnd.width() / zoomLevel - lrBorderWidth;\n                    h = wnd.height() / zoomLevel - (tbBorderWidth + paddingTop);\n                }\n\n                wrapper.css({\n                    width: w,\n                    height: h\n                });\n                that.options.width = w;\n                that.options.height = h;\n\n                that.resize();\n            },\n\n            refresh: function(options) {\n                var that = this,\n                    initOptions = that.options,\n                    element = $(that.element),\n                    iframe,\n                    showIframe,\n                    url;\n\n                if (!isPlainObject(options)) {\n                    options = { url: options };\n                }\n\n                options = extend(initOptions.content, options);\n\n                showIframe = defined(initOptions.iframe) ? initOptions.iframe : options.iframe;\n\n                url = options.url;\n\n                if (url) {\n                    if (!defined(showIframe)) {\n                        showIframe = !isLocalUrl(url);\n                    }\n\n                    if (!showIframe) {\n                        // perform AJAX request\n                        that._ajaxRequest(options);\n                    } else {\n                        iframe = element.find(\".\" + KCONTENTFRAME)[0];\n\n                        if (iframe) {\n                            // refresh existing iframe\n                            iframe.src = url || iframe.src;\n                        } else {\n                            // render new iframe\n                            element.html(templates.contentFrame(extend({}, initOptions, { content: options })));\n                        }\n\n                        element.find(\".\" + KCONTENTFRAME)\n                            .off(\"load\" + NS)\n                            .on(\"load\" + NS, this._triggerRefresh.bind(this));\n                    }\n                } else {\n                    if (options.template) {\n                        // refresh template\n                        that.content(template(options.template)({}));\n                    }\n\n                    that.trigger(REFRESH);\n                }\n\n                element.toggleClass(\"k-window-iframecontent\", !!showIframe);\n\n                return that;\n            },\n\n            _triggerRefresh: function() {\n                this.trigger(REFRESH);\n            },\n\n            _ajaxComplete: function() {\n                clearTimeout(this._loadingIconTimeout);\n                this.wrapper.find(REFRESHICON).removeClass(LOADING);\n            },\n\n            _ajaxError: function(xhr, status) {\n                this.trigger(ERROR, { status: status, xhr: xhr });\n            },\n\n            _ajaxSuccess: function(contentTemplate) {\n                return function(data) {\n                    var html = data;\n                    if (contentTemplate) {\n                        html = template(contentTemplate)(data || {});\n                    }\n\n                    this.content(html, data);\n                    this.element.prop(\"scrollTop\", 0);\n\n                    this.trigger(REFRESH);\n                };\n            },\n\n            _showLoading: function() {\n                this.wrapper.find(REFRESHICON).addClass(LOADING);\n            },\n\n            _ajaxRequest: function(options) {\n                this._loadingIconTimeout = setTimeout(this._showLoading.bind(this), 100);\n\n                $.ajax(extend({\n                    type: \"GET\",\n                    dataType: \"html\",\n                    cache: false,\n                    error: this._ajaxError.bind(this),\n                    complete: this._ajaxComplete.bind(this),\n                    success: this._ajaxSuccess(options.template).bind(this)\n                }, options));\n            },\n\n            _destroy: function() {\n                if (this.resizing) {\n                    this.resizing.destroy();\n                }\n\n                if (this.dragging) {\n                    this.dragging.destroy();\n                }\n\n                this.wrapper.off(NS)\n                    .children(KWINDOWCONTENT).off(NS).end()\n                    .find(\".k-resize-handle,.k-window-titlebar\").off(NS);\n\n                $(window).off(\"resize\" + NS + this._marker);\n                $(window).off(MODAL_NS);\n                $(window).off(NS);\n\n                clearTimeout(this._loadingIconTimeout);\n\n                Widget.fn.destroy.call(this);\n\n                this.unbind(undefined);\n\n                kendo.destroy(this.wrapper);\n            },\n\n            destroy: function() {\n                this._destroy();\n\n                if (this.options.modal) {\n                    this._removeOverlay(true);\n                }\n\n                this.wrapper.empty().remove();\n\n                this.wrapper = this.appendTo = this.element = $();\n            },\n\n            _createWindow: function() {\n                var contentHtml = this.element,\n                    options = this.options,\n                    iframeSrcAttributes,\n                    wrapper,\n                    isRtl = kendo.support.isRtl(contentHtml);\n\n                if (options.scrollable === false) {\n                    contentHtml.css(\"overflow\", \"hidden\");\n                }\n\n                wrapper = $(templates.wrapper(options));\n\n                // Collect the src attributes of all iframes and then set them to empty string.\n                // This seems to fix this IE9 \"feature\": http://msdn.microsoft.com/en-us/library/gg622929%28v=VS.85%29.aspx?ppud=4\n                iframeSrcAttributes = contentHtml.find(\"iframe:not(.k-content-frame)\").map(function() {\n                    var src = this.getAttribute(\"src\");\n                    this.src = \"\";\n                    return src;\n                });\n\n                // Make sure the wrapper is appended to the body only once. IE9+ will throw exceptions if you move iframes in DOM\n                wrapper\n                    .toggleClass(\"k-rtl\", isRtl)\n                    .attr(\"tabindex\", 0)\n                    .append(contentHtml)\n                    .find(\"iframe:not(.k-content-frame)\").each(function(index) {\n                    // Restore the src attribute of the iframes when they are part of the live DOM tree\n                    this.src = iframeSrcAttributes[index];\n                });\n\n                if (this.containment) {\n                    this.containment.prepend(wrapper);\n                } else if (this.appendTo) {\n                    wrapper.appendTo(this.appendTo);\n                }\n\n                wrapper.find(\".k-window-title\")\n                    .css(isRtl ? \"left\" : \"right\", outerWidth(wrapper.find(\".k-window-actions\")) + 10);\n\n                contentHtml.css(\"visibility\", \"\").show();\n\n                contentHtml.find(\"[data-role=editor]\").each(function() {\n                    var editor = $(this).data(\"kendoEditor\");\n\n                    if (editor) {\n                        editor.refresh();\n                    }\n                });\n\n                wrapper = contentHtml = null;\n            }\n        });\n\n        templates = {\n            wrapper: template(\"<div class='k-widget k-window'></div>\"),\n            action: template(\n                \"<a role='button' href='\\\\#' class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-window-action' aria-label='#= name #'>\" +\n                    \"<span class='k-button-icon k-icon k-i-#= name.toLowerCase() #'></span>\" +\n                \"</a>\"\n            ),\n            titlebar: template(\n                \"<div class='k-window-titlebar k-hstack'>\" +\n                    \"<span class='k-window-title'>#= title #</span>\" +\n                    \"<div class='k-window-actions k-hstack'></div>\" +\n                \"</div>\"\n            ),\n            overlay: \"<div class='k-overlay'></div>\",\n            contentFrame: template(\n                \"<iframe frameborder='0' title='#= title #' class='\" + KCONTENTFRAME + \"' \" +\n                \"src='#= content.url #'>\" +\n                \"This page requires frames in order to show content\" +\n                \"</iframe>\"\n            ),\n            resizeHandle: template(\"<div aria-hidden='true' class='k-resize-handle k-resize-#= data #'></div>\")\n        };\n\n\n        function WindowResizing(wnd) {\n            var that = this;\n            that.owner = wnd;\n            that._preventDragging = false;\n            that._draggable = new Draggable(wnd.wrapper, {\n                filter: \">\" + KWINDOWRESIZEHANDLES,\n                group: wnd.wrapper.id + \"-resizing\",\n                dragstart: that.dragstart.bind(that),\n                drag: that.drag.bind(that),\n                dragend: that.dragend.bind(that)\n            });\n\n            that._draggable.userEvents.bind(\"press\", that.addOverlay.bind(that));\n            that._draggable.userEvents.bind(\"release\", that.removeOverlay.bind(that));\n        }\n\n        WindowResizing.prototype = {\n            addOverlay: function() {\n                this.owner.wrapper.append(templates.overlay);\n            },\n            removeOverlay: function() {\n                this.owner.wrapper.find(KOVERLAY).remove();\n            },\n            dragstart: function(e) {\n                var that = this;\n                var wnd = that.owner;\n                var wrapper = wnd.wrapper;\n\n                that._preventDragging = wnd.trigger(RESIZESTART);\n                if (that._preventDragging) {\n                    return;\n                }\n\n                that.elementPadding = parseInt(wrapper.css(\"padding-top\"), 10);\n                that.initialPosition = kendo.getOffset(wrapper, \"position\");\n\n                that.resizeDirection = e.currentTarget.prop(\"className\").replace(\"k-resize-handle k-resize-\", \"\");\n\n                that.initialSize = {\n                    width: wrapper.outerWidth(),\n                    height: wrapper.outerHeight()\n                };\n\n                wnd._updateBoundaries();\n\n                that.containerOffset = wnd.containment ? wnd.containment.position : kendo.getOffset(wnd.appendTo);\n\n                var offsetParent = wrapper.offsetParent();\n\n                if (offsetParent.is(\"html\")) {\n                    that.containerOffset.top = that.containerOffset.left = 0;\n                } else {\n                    var marginTop = offsetParent.css(\"margin-top\");\n                    var marginLeft = offsetParent.css(\"margin-left\");\n                    var hasMargin = !zero.test(marginTop) || !zero.test(marginLeft);\n                    if (hasMargin) {\n                        var wrapperPosition = getPosition(wrapper[0]);\n                        var relativeElMarginLeft = wrapperPosition.left - that.containerOffset.left - that.initialPosition.left;\n                        var relativeElMarginTop = wrapperPosition.top - that.containerOffset.top - that.initialPosition.top;\n\n                        that._relativeElMarginLeft = relativeElMarginLeft > 1 ? relativeElMarginLeft : 0;\n                        that._relativeElMarginTop = relativeElMarginTop > 1 ? relativeElMarginTop : 0;\n\n                        that.initialPosition.left += that._relativeElMarginLeft;\n                        that.initialPosition.top += that._relativeElMarginTop;\n                    }\n                }\n\n                wrapper\n                    .children(KWINDOWRESIZEHANDLES).not(e.currentTarget).hide();\n\n                $(BODY).css(CURSOR, e.currentTarget.css(CURSOR));\n            },\n            drag: function(e) {\n                if (this._preventDragging) {\n                    return;\n                }\n                var that = this,\n                    wnd = that.owner,\n                    wrapper = wnd.wrapper,\n                    options = wnd.options,\n                    position = options.position,\n                    direction = that.resizeDirection,\n                    containerOffset = that.containerOffset,\n                    initialPosition = that.initialPosition,\n                    initialSize = that.initialSize,\n                    containmentContext = wnd.containment && !wnd._isPinned,\n                    rtl = kendo.support.isRtl(wnd.containment),\n                    leftRtlOffset = containmentContext && rtl && wnd.containment.innerWidth() > wnd.containment.width ? kendo.support.scrollbar() : 0,\n                    scrollOffset = containmentContext ? { top: wnd.containment.scrollTop(), left: wnd.containment.scrollLeft() } : { top: 0, left: 0 },\n                    newWidth, newHeight,\n                    windowBottom, windowRight,\n                    x = Math.max(e.x.location, 0),\n                    y = Math.max(e.y.location, 0);\n\n                    if (direction.indexOf(\"e\") >= 0) {\n\n                        if (wnd.containment && x - initialSize.width >= wnd.maxLeft - scrollOffset.left + containerOffset.left + leftRtlOffset) {\n                            newWidth = wnd.maxLeft + leftRtlOffset - initialPosition.left + initialSize.width - scrollOffset.left;\n                        } else {\n                            newWidth = x - initialPosition.left - containerOffset.left;\n                        }\n\n                        wrapper.outerWidth(constrain(newWidth, options.minWidth, options.maxWidth));\n                    } else if (direction.indexOf(\"w\") >= 0) {\n                        windowRight = initialPosition.left + initialSize.width + containerOffset.left;\n                        newWidth = constrain(windowRight - x, options.minWidth, options.maxWidth);\n                        position.left = windowRight - newWidth - containerOffset.left - leftRtlOffset - (that._relativeElMarginLeft || 0) + scrollOffset.left;\n\n                        if (wnd.containment && position.left <= wnd.minLeft) {\n                            position.left = wnd.minLeft;\n                            newWidth = constrain(windowRight - leftRtlOffset - position.left - containerOffset.left + scrollOffset.left, options.minWidth, options.maxWidth);\n                        }\n\n                        wrapper.css({\n                            left: position.left,\n                            width: newWidth\n                        });\n                    }\n\n                    var newWindowTop = y;\n                    if (wnd.options.pinned) {\n                        newWindowTop -= $(window).scrollTop();\n                    }\n                    if (direction.indexOf(\"s\") >= 0) {\n                        newHeight = newWindowTop - initialPosition.top - that.elementPadding - containerOffset.top;\n\n                        if (newWindowTop - initialSize.height - that.elementPadding >= wnd.maxTop + containerOffset.top - scrollOffset.top) {\n                            newHeight = wnd.maxTop - initialPosition.top + initialSize.height - scrollOffset.top;\n                        }\n\n                        wrapper.outerHeight(constrain(newHeight, options.minHeight, options.maxHeight));\n                    } else if (direction.indexOf(\"n\") >= 0) {\n                        windowBottom = initialPosition.top + initialSize.height + containerOffset.top;\n                        newHeight = constrain(windowBottom - newWindowTop, options.minHeight, options.maxHeight);\n                        position.top = windowBottom - newHeight - containerOffset.top - (that._relativeElMarginTop || 0) + scrollOffset.top;\n\n                        if (position.top <= wnd.minTop && wnd.containment) {\n                            position.top = wnd.minTop;\n                            newHeight = constrain(windowBottom - position.top - containerOffset.top + scrollOffset.top, options.minHeight, options.maxHeight);\n                        }\n\n                        wrapper.css({\n                            top: position.top,\n                            height: newHeight\n                        });\n                    }\n\n                    if (newWidth) {\n                        wnd.options.width = newWidth + \"px\";\n                    }\n                    if (newHeight) {\n                        wnd.options.height = newHeight + \"px\";\n                    }\n\n                    wnd.resize();\n            },\n            dragend: function(e) {\n                if (this._preventDragging) {\n                    return;\n                }\n\n                var that = this,\n                    wnd = that.owner,\n                    wrapper = wnd.wrapper;\n\n                wrapper\n                    .children(KWINDOWRESIZEHANDLES).not(e.currentTarget).show();\n\n                $(BODY).css(CURSOR, \"\");\n\n                if (wnd.touchScroller) {\n                    wnd.touchScroller.reset();\n                }\n\n                if (e.keyCode == 27) {\n                    wrapper.css(that.initialPosition)\n                        .css(that.initialSize);\n                }\n\n                wnd.trigger(RESIZEEND);\n\n                return false;\n            },\n            destroy: function() {\n                if (this._draggable) {\n                    this._draggable.destroy();\n                }\n\n                this._draggable = this.owner = null;\n            }\n        };\n\n        function WindowDragging(wnd, dragHandle) {\n            var that = this;\n            that.owner = wnd;\n            that._preventDragging = false;\n            that._draggable = new Draggable(wnd.wrapper, {\n                filter: dragHandle,\n                group: wnd.wrapper.id + \"-moving\",\n                dragstart: that.dragstart.bind(that),\n                drag: that.drag.bind(that),\n                dragend: that.dragend.bind(that),\n                dragcancel: that.dragcancel.bind(that)\n            });\n\n            that._draggable.userEvents.stopPropagation = false;\n        }\n\n        WindowDragging.prototype = {\n            dragstart: function(e) {\n                var wnd = this.owner,\n                    draggable = wnd.options.draggable,\n                    element = wnd.element,\n                    actions = element.find(\".k-window-actions\"),\n                    containerOffset = kendo.getOffset(wnd.appendTo);\n\n                this._preventDragging = wnd.trigger(DRAGSTART) || !draggable;\n                if (this._preventDragging || wnd.isMaximized()) {\n                    return;\n                }\n\n                wnd.initialWindowPosition = kendo.getOffset(wnd.wrapper, \"position\");\n\n                wnd.initialPointerPosition = {\n                    left: wnd.options.position.left,\n                    top: wnd.options.position.top\n                };\n\n                wnd.startPosition = {\n                    left: e.x.client - wnd.initialWindowPosition.left,\n                    top: e.y.client - wnd.initialWindowPosition.top\n                };\n\n                wnd._updateBoundaries();\n                if (!wnd.containment) {\n                    if (actions.length > 0) {\n                        wnd.minLeft = outerWidth(actions) + parseInt(actions.css(\"right\"), 10) - outerWidth(element);\n                    } else {\n                        wnd.minLeft = 20 - outerWidth(element); // at least 20px remain visible\n                    }\n\n                    wnd.minLeft -= containerOffset.left;\n                    wnd.minTop = -containerOffset.top;\n                }\n\n                $(templates.overlay).appendTo(wnd.wrapper).css({ opacity: 0 });\n\n                wnd.wrapper.children(KWINDOWRESIZEHANDLES).hide();\n\n                $(BODY).css(CURSOR, e.currentTarget.css(CURSOR));\n            },\n\n            drag: function(e) {\n                var wnd = this.owner;\n                var position = wnd.options.position;\n                var axis = wnd.options.draggable.axis;\n                var left;\n                var top;\n\n                if (this._preventDragging || wnd.isMaximized()) {\n                    return;\n                }\n\n                if (!axis || axis.toLowerCase() === \"x\") {\n                    left = e.x.client - wnd.startPosition.left;\n\n                    if (wnd.containment && !wnd._isPinned) {\n                        left += wnd.containment.scrollLeft();\n                    }\n\n                    position.left = constrain(left, wnd.minLeft, wnd.maxLeft);\n                }\n\n                if (!axis || axis.toLowerCase() === \"y\") {\n                    top = e.y.client - wnd.startPosition.top;\n\n                    if (wnd.containment && !wnd._isPinned) {\n                        top += wnd.containment.scrollTop();\n                    }\n\n                    position.top = constrain(top, wnd.minTop, wnd.maxTop);\n                }\n\n                if (kendo.support.transforms) {\n                    $(wnd.wrapper).css(\n                        \"transform\", \"translate(\" +\n                        (position.left - wnd.initialPointerPosition.left) + \"px, \" +\n                        (position.top - wnd.initialPointerPosition.top) + \"px)\"\n                    );\n                } else {\n                    $(wnd.wrapper).css(position);\n                }\n\n            },\n\n            _finishDrag: function() {\n                var wnd = this.owner;\n\n                wnd.wrapper\n                    .children(KWINDOWRESIZEHANDLES).toggle(!wnd.options.isMinimized).end()\n                    .find(KOVERLAY).remove();\n\n                $(BODY).css(CURSOR, \"\");\n            },\n\n            dragcancel: function(e) {\n                if (this._preventDragging) {\n                    return;\n                }\n                this._finishDrag();\n\n                e.currentTarget.closest(KWINDOW).css(this.owner.initialWindowPosition);\n            },\n\n            dragend: function() {\n                var wnd = this.owner;\n\n                if (this._preventDragging || wnd.isMaximized()) {\n                    return;\n                }\n\n                $(wnd.wrapper)\n                    .css(wnd.options.position)\n                    .css(\"transform\", \"\");\n\n                this._finishDrag();\n\n                wnd.trigger(DRAGEND);\n\n                return false;\n            },\n            destroy: function() {\n                if (this._draggable) {\n                    this._draggable.destroy();\n                }\n\n                this._draggable = this.owner = null;\n            }\n        };\n\n        kendo.ui.plugin(Window);\n\n    })(window.kendo.jQuery);\n\n    return window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.mobile.view',[ \"kendo.core\", \"kendo.fx\", \"kendo.mobile.scroller\", \"kendo.view\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"mobile.view\",\n    name: \"View\",\n    category: \"mobile\",\n    description: \"Mobile View\",\n    depends: [ \"core\", \"fx\", \"mobile.scroller\", \"view\" ],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        attr = kendo.attr,\n        Widget = ui.Widget,\n        ViewClone = kendo.ViewClone,\n        INIT = \"init\",\n        UI_OVERLAY = '<div style=\"height: 100%; width: 100%; position: absolute; top: 0; left: 0; z-index: 20000; display: none\"></div>',\n        BEFORE_SHOW = \"beforeShow\",\n        SHOW = \"show\",\n        AFTER_SHOW = \"afterShow\",\n        BEFORE_HIDE = \"beforeHide\",\n        TRANSITION_END = \"transitionEnd\",\n        TRANSITION_START = \"transitionStart\",\n        HIDE = \"hide\",\n        DESTROY = \"destroy\",\n        attrValue = kendo.attrValue,\n        roleSelector = kendo.roleSelector,\n        directiveSelector = kendo.directiveSelector,\n        compileMobileDirective = kendo.compileMobileDirective;\n\n    function initPopOvers(element) {\n        var popovers = element.find(roleSelector(\"popover\")),\n            idx, length,\n            roles = ui.roles;\n\n        for (idx = 0, length = popovers.length; idx < length; idx ++) {\n            kendo.initWidget(popovers[idx], {}, roles);\n        }\n    }\n\n    function preventScrollIfNotInput(e) {\n        if (!kendo.triggeredByInput(e)) {\n            e.preventDefault();\n        }\n    }\n\n    var View = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n            this.params = {};\n\n            $.extend(this, options);\n\n            this.transition = this.transition || this.defaultTransition;\n\n            this._id();\n\n            if (!this.options.$angular) {\n                this._layout();\n                this._overlay();\n                this._scroller();\n                this._model();\n            } else {\n                this._overlay();\n            }\n        },\n\n        events: [\n            INIT,\n            BEFORE_SHOW,\n            SHOW,\n            AFTER_SHOW,\n            BEFORE_HIDE,\n            HIDE,\n            DESTROY,\n            TRANSITION_START,\n            TRANSITION_END\n        ],\n\n        options: {\n            name: \"View\",\n            title: \"\",\n            layout: null,\n            getLayout: $.noop,\n            reload: false,\n            transition: \"\",\n            defaultTransition: \"\",\n            useNativeScrolling: false,\n            stretch: false,\n            zoom: false,\n            model: null,\n            modelScope: window,\n            scroller: {},\n            initWidgets: true\n        },\n\n        enable: function(enable) {\n            if (typeof enable == \"undefined\") {\n                enable = true;\n            }\n\n            if (enable) {\n                this.overlay.hide();\n            } else {\n                this.overlay.show();\n            }\n        },\n\n        destroy: function() {\n            if (this.layout) {\n                this.layout.detach(this);\n            }\n\n            this.trigger(DESTROY);\n\n\n            Widget.fn.destroy.call(this);\n\n            if (this.scroller) {\n                this.scroller.destroy();\n            }\n\n            if (this.options.$angular) {\n                this.element.scope().$destroy();\n            }\n\n            kendo.destroy(this.element);\n        },\n\n        purge: function() {\n            this.destroy();\n            this.element.remove();\n        },\n\n        triggerBeforeShow: function() {\n            if (this.trigger(BEFORE_SHOW, { view: this })) {\n                return false;\n            }\n            return true;\n        },\n\n        triggerBeforeHide: function() {\n            if (this.trigger(BEFORE_HIDE, { view: this })) {\n                return false;\n            }\n            return true;\n        },\n\n        showStart: function() {\n            var element = this.element;\n\n            element.css(\"display\", \"\");\n\n            if (!this.inited) {\n                this.inited = true;\n                this.trigger(INIT, { view: this });\n            } else { // skip the initial controller update\n                this._invokeNgController();\n            }\n\n            if (this.layout) {\n                this.layout.attach(this);\n            }\n\n            this._padIfNativeScrolling();\n            this.trigger(SHOW, { view: this });\n            kendo.resize(element);\n        },\n\n        showEnd: function() {\n            this.trigger(AFTER_SHOW, { view: this });\n            this._padIfNativeScrolling();\n        },\n\n        hideEnd: function() {\n            var that = this;\n            that.element.hide();\n            that.trigger(HIDE, { view: that });\n\n            if (that.layout) {\n                that.layout.trigger(HIDE, { view: that, layout: that.layout });\n            }\n        },\n\n        beforeTransition: function(type) {\n            this.trigger(TRANSITION_START, { type: type });\n        },\n\n        afterTransition: function(type) {\n            this.trigger(TRANSITION_END, { type: type });\n        },\n\n        _padIfNativeScrolling: function() {\n            if (mobile.appLevelNativeScrolling()) {\n                var isAndroid = kendo.support.mobileOS && kendo.support.mobileOS.android,\n                    skin = mobile.application.skin() || \"\",\n                    isAndroidForced = mobile.application.os.android || (skin.indexOf(\"android\") > -1),\n                    hasPlatformIndependentSkin = skin === \"flat\" || (skin.indexOf(\"material\") > -1),\n                    topContainer = (isAndroid || isAndroidForced) && (!hasPlatformIndependentSkin) ? \"footer\" : \"header\",\n                    bottomContainer = (isAndroid || isAndroidForced) && (!hasPlatformIndependentSkin) ? \"header\" : \"footer\";\n\n                this.content.css({\n                    paddingTop: this[topContainer].height(),\n                    paddingBottom: this[bottomContainer].height()\n                });\n            }\n        },\n\n        contentElement: function() {\n            var that = this;\n\n            return that.options.stretch ? that.content : that.scrollerContent;\n        },\n\n        clone: function() {\n            return new ViewClone(this);\n        },\n\n        _scroller: function() {\n            var that = this;\n\n            if (mobile.appLevelNativeScrolling()) {\n                return;\n            }\n            if (that.options.stretch) {\n                that.content.addClass(\"km-stretched-view\");\n            } else {\n                that.content.kendoMobileScroller($.extend(that.options.scroller, { zoom: that.options.zoom, useNative: that.options.useNativeScrolling }));\n\n                that.scroller = that.content.data(\"kendoMobileScroller\");\n                that.scrollerContent = that.scroller.scrollElement;\n            }\n\n            // prevent accidental address bar display when pulling the header\n            if (kendo.support.kineticScrollNeeded) {\n                $(that.element).on(\"touchmove\", \".km-header\", preventScrollIfNotInput);\n                if (!that.options.useNativeScrolling && !that.options.stretch) {\n                    $(that.element).on(\"touchmove\", \".km-content\", preventScrollIfNotInput);\n                }\n            }\n        },\n\n        _model: function() {\n            var that = this,\n                element = that.element,\n                model = that.options.model;\n\n            if (typeof model === \"string\") {\n                model = kendo.getter(model)(that.options.modelScope);\n            }\n\n            that.model = model;\n\n            initPopOvers(element);\n\n            that.element.css(\"display\", \"\");\n            if (that.options.initWidgets) {\n                if (model) {\n                    kendo.bind(element, model, ui, kendo.ui, kendo.dataviz.ui);\n                } else {\n                    mobile.init(element.children());\n                }\n            }\n            that.element.css(\"display\", \"none\");\n        },\n\n        _id: function() {\n            var element = this.element,\n                idAttrValue = element.attr(\"id\") || \"\";\n\n            this.id = attrValue(element, \"url\") || \"#\" + idAttrValue;\n\n            if (this.id == \"#\") {\n                this.id = kendo.guid();\n                element.attr(\"id\", this.id);\n            }\n        },\n\n        _layout: function() {\n            var contentSelector = roleSelector(\"content\"),\n                element = this.element;\n\n            element.addClass(\"km-view\");\n\n            this.header = element.children(roleSelector(\"header\")).addClass(\"km-header\");\n            this.footer = element.children(roleSelector(\"footer\")).addClass(\"km-footer\");\n\n            if (!element.children(contentSelector)[0]) {\n              element.wrapInner(\"<div \" + attr(\"role\") + '=\"content\"></div>');\n            }\n\n            this.content = element.children(roleSelector(\"content\"))\n                                .addClass(\"km-content\");\n\n            this.element.prepend(this.header).append(this.footer);\n\n\n            this.layout = this.options.getLayout(this.layout);\n\n            if (this.layout) {\n                this.layout.setup(this);\n            }\n        },\n\n        _overlay: function() {\n            this.overlay = $(UI_OVERLAY).appendTo(this.element);\n        },\n\n        _invokeNgController: function() {\n            var controller,\n                scope;\n\n            if (this.options.$angular) {\n                controller = this.element.controller();\n                scope = this.options.$angular[0];\n\n                if (controller) {\n                    var callback = this._callController.bind(this, controller, scope);\n\n                    if (/^\\$(digest|apply)$/.test(scope.$$phase)) {\n                        callback();\n                    } else {\n                        scope.$apply(callback);\n                    }\n                }\n            }\n        },\n\n        _callController: function(controller, scope) {\n            this.element.injector().invoke(controller.constructor, controller, { $scope: scope });\n        }\n    });\n\n    function initWidgets(collection) {\n        collection.each(function() {\n            kendo.initWidget($(this), {}, ui.roles);\n        });\n    }\n\n    var Layout = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n\n            element = this.element;\n\n            this.header = element.children(this._locate(\"header\")).addClass(\"km-header\");\n            this.footer = element.children(this._locate(\"footer\")).addClass(\"km-footer\");\n            this.elements = this.header.add(this.footer);\n\n            initPopOvers(element);\n\n            if (!this.options.$angular) {\n                kendo.mobile.init(this.element.children());\n            }\n            this.element.detach();\n            this.trigger(INIT, { layout: this });\n        },\n\n        _locate: function(selectors) {\n            return this.options.$angular ? directiveSelector(selectors) : roleSelector(selectors);\n        },\n\n        options: {\n            name: \"Layout\",\n            id: null,\n            platform: null\n        },\n\n        events: [\n            INIT,\n            SHOW,\n            HIDE\n        ],\n\n        setup: function(view) {\n            if (!view.header[0]) { view.header = this.header; }\n            if (!view.footer[0]) { view.footer = this.footer; }\n        },\n\n        detach: function(view) {\n            var that = this;\n            if (view.header === that.header && that.header[0]) {\n                view.element.prepend(that.header.detach()[0].cloneNode(true));\n            }\n\n            if (view.footer === that.footer && that.footer.length) {\n                view.element.append(that.footer.detach()[0].cloneNode(true));\n            }\n        },\n\n        attach: function(view) {\n            var that = this,\n                previousView = that.currentView;\n\n            if (previousView) {\n                that.detach(previousView);\n            }\n\n            if (view.header === that.header) {\n                that.header.detach();\n                view.element.children(roleSelector(\"header\")).remove();\n                view.element.prepend(that.header);\n            }\n\n            if (view.footer === that.footer) {\n                that.footer.detach();\n                view.element.children(roleSelector(\"footer\")).remove();\n                view.element.append(that.footer);\n            }\n\n            that.trigger(SHOW, { layout: that, view: view });\n            that.currentView = view;\n        }\n    });\n\n    var Observable = kendo.Observable,\n        bodyRegExp = /<body[^>]*>(([\\u000a\\u000d\\u2028\\u2029]|.)*)<\\/body>/i,\n        LOAD_START = \"loadStart\",\n        LOAD_COMPLETE = \"loadComplete\",\n        SHOW_START = \"showStart\",\n        SAME_VIEW_REQUESTED = \"sameViewRequested\",\n        VIEW_SHOW = \"viewShow\",\n        VIEW_TYPE_DETERMINED = \"viewTypeDetermined\",\n        AFTER = \"after\";\n\n    var ViewEngine = Observable.extend({\n        init: function(options) {\n            var that = this,\n                views,\n                errorMessage,\n                container,\n                collection;\n\n            Observable.fn.init.call(that);\n\n            $.extend(that, options);\n            that.sandbox = $(\"<div />\");\n            container = that.container;\n\n            views = that._hideViews(container);\n            that.rootView = views.first();\n\n            if (!that.rootView[0] && options.rootNeeded) {\n                if (container[0] == kendo.mobile.application.element[0]) {\n                    errorMessage = 'Your kendo mobile application element does not contain any direct child elements with data-role=\"view\" attribute set. Make sure that you instantiate the mobile application using the correct container.';\n                } else {\n                    errorMessage = 'Your pane element does not contain any direct child elements with data-role=\"view\" attribute set.';\n                }\n                throw new Error(errorMessage);\n            }\n\n            that.layouts = {};\n\n            that.viewContainer = new kendo.ViewContainer(that.container);\n\n            that.viewContainer.bind(\"accepted\", function(e) {\n                e.view.params = that.params;\n            });\n\n            that.viewContainer.bind(\"complete\", function(e) {\n                that.trigger(VIEW_SHOW, { view: e.view });\n            });\n\n            that.viewContainer.bind(AFTER, function() {\n                that.trigger(AFTER);\n            });\n\n            this.getLayoutProxy = this._getLayout.bind(this);\n            that._setupLayouts(container);\n\n            collection = container.children(that._locate(\"modalview drawer\"));\n            if (that.$angular) {\n\n                that.$angular[0].viewOptions = {\n                    defaultTransition: that.transition,\n                    loader: that.loader,\n                    container: that.container,\n                    getLayout: that.getLayoutProxy\n                };\n\n                collection.each(function(idx, element) {\n                    compileMobileDirective($(element), options.$angular[0]);\n                });\n            } else {\n                initWidgets(collection);\n            }\n\n            this.bind(this.events, options);\n        },\n\n        events: [\n            SHOW_START,\n            AFTER,\n            VIEW_SHOW,\n            LOAD_START,\n            LOAD_COMPLETE,\n            SAME_VIEW_REQUESTED,\n            VIEW_TYPE_DETERMINED\n        ],\n\n        destroy: function() {\n            kendo.destroy(this.container);\n\n            for (var id in this.layouts) {\n                this.layouts[id].destroy();\n            }\n        },\n\n        view: function() {\n            return this.viewContainer.view;\n        },\n\n        showView: function(url, transition, params) {\n            url = url.replace(new RegExp(\"^\" + this.remoteViewURLPrefix), \"\");\n            if (url === \"\" && this.remoteViewURLPrefix) {\n                url = \"/\";\n            }\n\n            if (url.replace(/^#/, \"\") === this.url) {\n                this.trigger(SAME_VIEW_REQUESTED);\n                return false;\n            }\n\n            this.trigger(SHOW_START);\n\n            var that = this,\n                showClosure = function(view) {\n                    return that.viewContainer.show(view, transition, url);\n                },\n                element = that._findViewElement(url),\n                view = kendo.widgetInstance(element);\n\n            that.url = url.replace(/^#/, \"\");\n\n            that.params = params;\n\n            if (view && view.reload) {\n                view.purge();\n                element = [];\n            }\n\n            this.trigger(VIEW_TYPE_DETERMINED, { remote: element.length === 0, url: url });\n\n            if (element[0]) {\n                if (!view) {\n                    view = that._createView(element);\n                }\n\n                return showClosure(view);\n            } else {\n                if (this.serverNavigation) {\n                    location.href = url;\n                } else {\n                    that._loadView(url, showClosure);\n                }\n                return true;\n            }\n        },\n\n        append: function(html, url) {\n            var sandbox = this.sandbox,\n                urlPath = (url || \"\").split(\"?\")[0],\n                container = this.container,\n                views,\n                modalViews,\n                view;\n\n            if (bodyRegExp.test(html)) {\n                html = RegExp.$1;\n            }\n\n            sandbox[0].innerHTML = html;\n\n            container.append(sandbox.children(\"script, style\"));\n\n            views = this._hideViews(sandbox);\n            view = views.first();\n\n            // Generic HTML content found as remote view - no remote view markers\n            if (!view.length) {\n                views = view = sandbox.wrapInner(\"<div data-role=view />\").children(); // one element\n            }\n\n            if (urlPath) {\n                view.hide().attr(attr(\"url\"), urlPath);\n            }\n\n            this._setupLayouts(sandbox);\n\n            modalViews = sandbox.children(this._locate(\"modalview drawer\"));\n\n            container.append(sandbox.children(this._locate(\"layout modalview drawer\")).add(views));\n\n            // Initialize the modalviews after they have been appended to the final container\n            initWidgets(modalViews);\n\n            return this._createView(view);\n        },\n\n        _locate: function(selectors) {\n            return this.$angular ? directiveSelector(selectors) : roleSelector(selectors);\n        },\n\n        _findViewElement: function(url) {\n            var element,\n                urlPath = url.split(\"?\")[0];\n\n            if (!urlPath) {\n                return this.rootView;\n            }\n\n            element = this.container.children(\"[\" + attr(\"url\") + \"='\" + urlPath + \"']\");\n\n            // do not try to search for \"#/foo/bar\" id, jQuery throws error\n            if (!element[0] && urlPath.indexOf(\"/\") === -1) {\n                element = this.container.children(urlPath.charAt(0) === \"#\" ? urlPath : \"#\" + urlPath);\n            }\n\n            return element;\n        },\n\n        _createView: function(element) {\n            if (this.$angular) {\n                return compileMobileDirective(element, this.$angular[0]);\n            } else {\n                return kendo.initWidget(element, {\n                    defaultTransition: this.transition,\n                    loader: this.loader,\n                    container: this.container,\n                    getLayout: this.getLayoutProxy,\n                    modelScope: this.modelScope,\n                    reload: attrValue(element, \"reload\")\n                }, ui.roles);\n            }\n        },\n\n        _getLayout: function(name) {\n            if (name === \"\") {\n                return null;\n            }\n\n            return name ? this.layouts[name] : this.layouts[this.layout];\n        },\n\n        _loadView: function(url, callback) {\n            if (this._xhr) {\n                this._xhr.abort();\n            }\n\n            this.trigger(LOAD_START);\n\n            this._xhr = $.get(kendo.absoluteURL(url, this.remoteViewURLPrefix), \"html\")\n                .always(this._xhrComplete.bind(this, callback, url));\n        },\n\n        _xhrComplete: function(callback, url, response) {\n            var success = true;\n\n            if (typeof response === \"object\") {\n                if (response.status === 0) {\n                    if (response.responseText && response.responseText.length > 0) {\n                        success = true;\n                        response = response.responseText;\n                    } else { // request has been aborted for real\n                        return;\n                    }\n                }\n            }\n\n            this.trigger(LOAD_COMPLETE);\n\n            if (success) {\n                callback(this.append(response, url));\n            }\n        },\n\n        _hideViews: function(container) {\n            return container.children(this._locate(\"view splitview\")).hide();\n        },\n\n        _setupLayouts: function(element) {\n            var that = this,\n                layout;\n\n            element.children(that._locate(\"layout\")).each(function() {\n                if (that.$angular) {\n                    layout = compileMobileDirective($(this), that.$angular[0]);\n                } else {\n                    layout = kendo.initWidget($(this), {}, ui.roles);\n                }\n\n                var platform = layout.options.platform;\n\n                if (!platform || platform === mobile.application.os.name) {\n                    that.layouts[layout.options.id] = layout;\n                } else {\n                    layout.destroy();\n                }\n            });\n\n        }\n    });\n\n    kendo.mobile.ViewEngine = ViewEngine;\n\n    ui.plugin(View);\n    ui.plugin(Layout);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.mobile.loader',[ \"kendo.core\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"mobile.loader\",\n    name: \"Loader\",\n    category: \"mobile\",\n    description: \"Mobile Loader\",\n    depends: [ \"core\" ],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        Widget = ui.Widget,\n        CAPTURE_EVENTS = $.map(kendo.eventMap, function(value) { return value; }).join(\" \").split(\" \");\n\n    var Loader = Widget.extend({\n        init: function(container, options) {\n            var that = this,\n                element = $('<div class=\"km-loader\"><span class=\"km-loading km-spin\"></span><span class=\"km-loading-left\"></span><span class=\"km-loading-right\"></span></div>');\n\n            Widget.fn.init.call(that, element, options);\n\n            that.container = container;\n            that.captureEvents = false;\n\n            that._attachCapture();\n\n            element.append(that.options.loading).hide().appendTo(container);\n        },\n\n        options: {\n            name: \"Loader\",\n            loading: \"<h1>Loading...</h1>\",\n            timeout: 100\n        },\n\n        show: function() {\n            var that = this;\n\n            clearTimeout(that._loading);\n\n            if (that.options.loading === false) {\n                return;\n            }\n\n            that.captureEvents = true;\n            that._loading = setTimeout(function() {\n                that.element.show();\n            }, that.options.timeout);\n        },\n\n        hide: function() {\n            this.captureEvents = false;\n            clearTimeout(this._loading);\n            this.element.hide();\n        },\n\n        changeMessage: function(message) {\n            this.options.loading = message;\n            this.element.find(\">h1\").html(message);\n        },\n\n        transition: function() {\n            this.captureEvents = true;\n            this.container.css(\"pointer-events\", \"none\");\n        },\n\n        transitionDone: function() {\n            this.captureEvents = false;\n            this.container.css(\"pointer-events\", \"\");\n        },\n\n        _attachCapture: function() {\n            var that = this;\n            that.captureEvents = false;\n\n            function capture(e) {\n                if (that.captureEvents) {\n                    e.preventDefault();\n                }\n            }\n\n            for (var i = 0; i < CAPTURE_EVENTS.length; i ++) {\n                that.container[0].addEventListener(CAPTURE_EVENTS[i], capture, true);\n            }\n        }\n    });\n\n    ui.plugin(Loader);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.mobile.pane',[ \"kendo.mobile.view\", \"kendo.mobile.loader\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"mobile.pane\",\n    name: \"Pane\",\n    category: \"mobile\",\n    description: \"Mobile Pane\",\n    depends: [ \"mobile.view\", \"mobile.loader\" ],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        roleSelector = kendo.roleSelector,\n        ui = mobile.ui,\n        Widget = ui.Widget,\n        ViewEngine = mobile.ViewEngine,\n        View = ui.View,\n        Loader = mobile.ui.Loader,\n\n        EXTERNAL = \"external\",\n        HREF = \"href\",\n        DUMMY_HREF = \"#!\",\n\n        NAVIGATE = \"navigate\",\n        VIEW_SHOW = \"viewShow\",\n        SAME_VIEW_REQUESTED = \"sameViewRequested\",\n        OS = kendo.support.mobileOS,\n        SKIP_TRANSITION_ON_BACK_BUTTON = OS.ios && !OS.appMode && OS.flatVersion >= 700,\n        WIDGET_RELS = /popover|actionsheet|modalview|drawer/,\n        BACK = \"#:back\",\n\n        attrValue = kendo.attrValue;\n\n    var Pane = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n            element = that.element;\n\n            element.addClass(\"km-pane\");\n\n            if (that.options.collapsible) {\n                element.addClass(\"km-collapsible-pane\");\n            }\n\n            this.history = [];\n\n            this.historyCallback = function(url, params, backButtonPressed) {\n                var transition = that.transition;\n                that.transition = null;\n\n                // swiping back in iOS leaves the app in a very broken state if we perform a transition\n                if (SKIP_TRANSITION_ON_BACK_BUTTON && backButtonPressed) {\n                    transition = \"none\";\n                }\n\n                return that.viewEngine.showView(url, transition, params);\n            };\n\n            this._historyNavigate = function(url) {\n                if (url === BACK) {\n                    if (that.history.length === 1) {\n                        return;\n                    }\n\n                    that.history.pop();\n                    url = that.history[that.history.length - 1];\n                } else {\n                    that.history.push(url);\n                }\n\n                that.historyCallback(url, kendo.parseQueryStringParams(url));\n            };\n\n            this._historyReplace = function(url) {\n                var params = kendo.parseQueryStringParams(url);\n                that.history[that.history.length - 1] = url;\n                that.historyCallback(url, params);\n            };\n\n            that.loader = new Loader(element, {\n                loading: that.options.loading\n            });\n\n            that.viewEngine = new ViewEngine({\n                container: element,\n                transition: options.transition,\n                modelScope: options.modelScope,\n                rootNeeded: !options.initial,\n                serverNavigation: options.serverNavigation,\n                remoteViewURLPrefix: options.root || \"\",\n                layout: options.layout,\n                $angular: options.$angular,\n                loader: that.loader,\n\n                showStart: function() {\n                    that.loader.transition();\n                    that.closeActiveDialogs();\n                },\n\n                after: function() {\n                    that.loader.transitionDone();\n                },\n\n                viewShow: function(e) {\n                    that.trigger(VIEW_SHOW, e);\n                },\n\n                loadStart: function() {\n                    that.loader.show();\n                },\n\n                loadComplete: function() {\n                    that.loader.hide();\n                },\n\n                sameViewRequested: function() {\n                    that.trigger(SAME_VIEW_REQUESTED);\n                },\n\n                viewTypeDetermined: function(e) {\n                    if (!e.remote || !that.options.serverNavigation) {\n                        that.trigger(NAVIGATE, { url: e.url });\n                    }\n                }\n            });\n\n\n            this._setPortraitWidth();\n\n            kendo.onResize(function() {\n                that._setPortraitWidth();\n            });\n\n            that._setupAppLinks();\n        },\n\n        closeActiveDialogs: function() {\n            var dialogs = this.element.find(roleSelector(\"actionsheet popover modalview\")).filter(\":visible\");\n            dialogs.each(function() {\n                kendo.widgetInstance($(this), ui).close();\n            });\n        },\n\n        navigateToInitial: function() {\n            var initial = this.options.initial;\n\n            if (initial) {\n                this.navigate(initial);\n            }\n\n            return initial;\n        },\n\n        options: {\n            name: \"Pane\",\n            portraitWidth: \"\",\n            transition: \"\",\n            layout: \"\",\n            collapsible: false,\n            initial: null,\n            modelScope: window,\n            loading: \"<h1>Loading...</h1>\"\n        },\n\n        events: [\n            NAVIGATE,\n            VIEW_SHOW,\n            SAME_VIEW_REQUESTED\n        ],\n\n        append: function(html) {\n            return this.viewEngine.append(html);\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.viewEngine.destroy();\n            this.userEvents.destroy();\n        },\n\n        navigate: function(url, transition) {\n            if (url instanceof View) {\n                url = url.id;\n            }\n\n            this.transition = transition;\n\n            this._historyNavigate(url);\n        },\n\n        replace: function(url, transition) {\n            if (url instanceof View) {\n                url = url.id;\n            }\n\n            this.transition = transition;\n\n            this._historyReplace(url);\n        },\n\n        bindToRouter: function(router) {\n            var that = this,\n                history = this.history,\n                viewEngine = this.viewEngine;\n\n            router.bind(\"init\", function(e) {\n                var url = e.url,\n                    attrUrl = router.pushState ? url : \"/\";\n\n                viewEngine.rootView.attr(kendo.attr(\"url\"), attrUrl);\n\n                // if current is set, then this means that the pane has navigated to a given view - we need to update the router accordingly.\n                var length = history.length;\n\n                if (url === \"/\" && length) {\n                    router.navigate(history[length - 1], true);\n                    e.preventDefault(); // prevents from executing routeMissing, by default\n                }\n            });\n\n            router.bind(\"routeMissing\", function(e) {\n                if (!that.historyCallback(e.url, e.params, e.backButtonPressed)) {\n                    e.preventDefault();\n                }\n            });\n\n            router.bind(\"same\", function() {\n                that.trigger(SAME_VIEW_REQUESTED);\n            });\n\n            that._historyNavigate = function(url) {\n                router.navigate(url);\n            };\n\n            that._historyReplace = function(url) {\n                router.replace(url);\n            };\n        },\n\n        hideLoading: function() {\n            this.loader.hide();\n        },\n\n        showLoading: function() {\n            this.loader.show();\n        },\n\n        changeLoadingMessage: function(message) {\n            this.loader.changeMessage(message);\n        },\n\n        view: function() {\n            return this.viewEngine.view();\n        },\n\n        _setPortraitWidth: function() {\n            var width,\n                portraitWidth = this.options.portraitWidth;\n\n            if (portraitWidth) {\n                width = kendo.mobile.application.element.is(\".km-vertical\") ? portraitWidth : \"auto\";\n                this.element.css(\"width\", width);\n            }\n        },\n\n        _setupAppLinks: function() {\n            var that = this,\n                linkRoles = \"tab\",\n                pressedButtonSelector = \"[data-\" + kendo.ns + \"navigate-on-press]\",\n\n                buttonSelectors = $.map([\"button\", \"backbutton\", \"detailbutton\", \"listview-link\"] , function(role) {\n                    return roleSelector(role) + \":not(\" + pressedButtonSelector + \")\";\n                }).join(\",\");\n\n            this.element.handler(this)\n                .on(\"down\", roleSelector(linkRoles) + \",\" + pressedButtonSelector, \"_mouseup\")\n                .on(\"click\", roleSelector(linkRoles) + \",\" + buttonSelectors + \",\" + pressedButtonSelector, \"_appLinkClick\");\n\n            this.userEvents = new kendo.UserEvents(this.element, {\n                fastTap: true,\n                filter: buttonSelectors,\n                tap: function(e) {\n                    e.event.currentTarget = e.touch.currentTarget;\n                    that._mouseup(e.event);\n                }\n            });\n\n            // remove the ms-touch-action added by the user events, breaks native scrolling in WP8\n            this.element.css('-ms-touch-action', '');\n        },\n\n        _appLinkClick: function(e) {\n            var href = $(e.currentTarget).attr(\"href\");\n            var remote = href && href[0] !== \"#\" && this.options.serverNavigation;\n\n            if (!remote && attrValue($(e.currentTarget), \"rel\") != EXTERNAL) {\n                e.preventDefault();\n            }\n        },\n\n        _mouseup: function(e) {\n            if (e.which > 1 || e.isDefaultPrevented()) {\n                return;\n            }\n\n            var pane = this,\n                link = $(e.currentTarget),\n                transition = attrValue(link, \"transition\"),\n                rel = attrValue(link, \"rel\") || \"\",\n                target = attrValue(link, \"target\"),\n                href = link.attr(HREF),\n                delayedTouchEnd = SKIP_TRANSITION_ON_BACK_BUTTON && link[0].offsetHeight === 0,\n                remote = href && href[0] !== \"#\" && this.options.serverNavigation;\n\n            if (delayedTouchEnd || remote || rel === EXTERNAL || (typeof href === \"undefined\") || href === DUMMY_HREF) {\n                return;\n            }\n\n            // Prevent iOS address bar progress display for in app navigation\n            link.attr(HREF, DUMMY_HREF);\n            setTimeout(function() { link.attr(HREF, href); });\n\n            if (rel.match(WIDGET_RELS)) {\n                kendo.widgetInstance($(href), ui).openFor(link);\n                // if propagation is not stopped and actionsheet is opened from tabstrip,\n                // the actionsheet is closed immediately.\n                if (rel === \"actionsheet\" || rel === \"drawer\") {\n                    e.stopPropagation();\n                }\n            } else {\n                if (target === \"_top\") {\n                    pane = mobile.application.pane;\n                }\n                else if (target) {\n                    pane = $(\"#\" + target).data(\"kendoMobilePane\");\n                }\n\n                pane.navigate(href, transition);\n            }\n\n            e.preventDefault();\n        }\n    });\n\n    Pane.wrap = function(element) {\n        if (!element.is(roleSelector(\"view\"))) {\n            element = element.wrap('<div data-' + kendo.ns + 'role=\"view\" data-stretch=\"true\"></div>').parent();\n        }\n\n        var paneContainer = element.wrap('<div class=\"km-pane-wrapper\"><div></div></div>').parent(),\n            pane = new Pane(paneContainer);\n\n        pane.navigate(\"\");\n\n        return pane;\n    };\n    ui.plugin(Pane);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.mobile.popover',[ \"kendo.popup\", \"kendo.mobile.pane\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"mobile.popover\",\n    name: \"PopOver\",\n    category: \"mobile\",\n    description: \"The mobile PopOver widget represents a transient view which is displayed when the user taps on a navigational widget or area on the screen. \",\n    depends: [ \"popup\", \"mobile.pane\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        HIDE = \"hide\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        WRAPPER = '<div class=\"km-popup-wrapper\"></div>',\n        ARROW = '<div class=\"km-popup-arrow\"></div>',\n        OVERLAY = '<div class=\"km-popup-overlay\"></div>',\n        DIRECTION_CLASSES = \"km-up km-down km-left km-right\",\n        Widget = ui.Widget,\n        DIRECTIONS = {\n            \"down\": {\n                origin: \"bottom center\",\n                position: \"top center\"\n            },\n            \"up\": {\n                origin: \"top center\",\n                position: \"bottom center\"\n            },\n            \"left\": {\n                origin: \"center left\",\n                position: \"center right\",\n                collision: \"fit flip\"\n            },\n            \"right\": {\n                origin: \"center right\",\n                position: \"center left\",\n                collision: \"fit flip\"\n            }\n        },\n\n        ANIMATION = {\n            animation: {\n                open: {\n                    effects: \"fade:in\",\n                    duration: 0\n                },\n                close: {\n                    effects: \"fade:out\",\n                    duration: 400\n                }\n            }\n        },\n        DIMENSIONS = {\n            \"horizontal\": { offset: \"top\", size: \"height\" },\n            \"vertical\": { offset: \"left\", size: \"width\" }\n        },\n\n        REVERSE = {\n            \"up\": \"down\",\n            \"down\": \"up\",\n            \"left\": \"right\",\n            \"right\": \"left\"\n        };\n\n    var Popup = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                containerPopup = element.closest(\".km-modalview-wrapper\"),\n                viewport = element.closest(\".km-root\").children('.km-pane').first(),\n                container = containerPopup[0] ? containerPopup : viewport,\n                popupOptions,\n                axis;\n\n            if (options.viewport) {\n                viewport = options.viewport;\n            } else if (!viewport[0]) {\n                viewport = window;\n            }\n\n            if (options.container) {\n                container = options.container;\n            } else if (!container[0]) {\n                container = document.body;\n            }\n\n            popupOptions = {\n                viewport: viewport,\n                copyAnchorStyles: false,\n                autosize: true,\n                open: function() {\n                    that.overlay.show();\n                },\n\n                activate: that._activate.bind(that),\n\n                deactivate: function() {\n                    that.overlay.hide();\n                    if (!that._apiCall) {\n                        that.trigger(HIDE);\n                    }\n\n                    that._apiCall = false;\n                }\n            };\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.element;\n            options = that.options;\n\n            element.wrap(WRAPPER).addClass(\"km-popup\").show();\n\n            axis = that.options.direction.match(/left|right/) ? \"horizontal\" : \"vertical\";\n\n            that.dimensions = DIMENSIONS[axis];\n\n            that.wrapper = element.parent().css({\n                width: options.width,\n                height: options.height\n            }).addClass(\"km-popup-wrapper km-\" + options.direction).hide();\n\n            that.arrow = $(ARROW).prependTo(that.wrapper).hide();\n\n            that.overlay = $(OVERLAY).appendTo(container).hide();\n            popupOptions.appendTo = that.overlay;\n\n            if (options.className) {\n                that.overlay.addClass(options.className);\n            }\n\n            that.popup = new kendo.ui.Popup(that.wrapper, $.extend(true, popupOptions, ANIMATION, DIRECTIONS[options.direction]));\n        },\n\n        options: {\n            name: \"Popup\",\n            width: 240,\n            height: \"\",\n            direction: \"down\",\n            container: null,\n            viewport: null\n        },\n\n        events: [\n            HIDE\n        ],\n\n        show: function(target) {\n            this.popup.options.anchor = $(target);\n            this.popup.open();\n        },\n\n        hide: function() {\n            this._apiCall = true;\n            this.popup.close();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.popup.destroy();\n            this.overlay.remove();\n        },\n\n        target: function() {\n            return this.popup.options.anchor;\n        },\n\n        _activate: function() {\n            var that = this,\n                direction = that.options.direction,\n                dimensions = that.dimensions,\n                offset = dimensions.offset,\n                popup = that.popup,\n                anchor = popup.options.anchor,\n                anchorOffset = $(anchor).offset(),\n                elementOffset = $(popup.element).offset(),\n                cssClass = popup.flipped ? REVERSE[direction] : direction,\n                min = that.arrow[dimensions.size]() * 2,\n                max = that.element[dimensions.size]() - that.arrow[dimensions.size](),\n                size = $(anchor)[dimensions.size](),\n                offsetAmount = anchorOffset[offset] - elementOffset[offset] + (size / 2);\n\n            if (offsetAmount < min) {\n                offsetAmount = min;\n            }\n\n            if (offsetAmount > max) {\n                offsetAmount = max;\n            }\n\n            that.wrapper.removeClass(DIRECTION_CLASSES).addClass(\"km-\" + cssClass);\n            that.arrow.css(offset, offsetAmount).show();\n        }\n    });\n\n    var PopOver = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                popupOptions;\n\n            that.initialOpen = false;\n\n            Widget.fn.init.call(that, element, options);\n\n            popupOptions = $.extend({\n                className: \"km-popover-root\",\n                hide: function() { that.trigger(CLOSE); }\n            }, this.options.popup);\n\n            that.popup = new Popup(that.element, popupOptions);\n            that.popup.overlay.on(\"move\", function(e) {\n                if (e.target == that.popup.overlay[0]) {\n                    e.preventDefault();\n                }\n            });\n\n            that.pane = new ui.Pane(that.element, $.extend(this.options.pane, { $angular: this.options.$angular }));\n\n            kendo.notify(that, ui);\n        },\n\n        options: {\n            name: \"PopOver\",\n            popup: { },\n            pane: { }\n        },\n\n        events: [\n            OPEN,\n            CLOSE\n        ],\n\n        open: function(target) {\n            this.popup.show(target);\n\n            if (!this.initialOpen) {\n                if (!this.pane.navigateToInitial()) {\n                    this.pane.navigate(\"\");\n                }\n\n                this.popup.popup._position();\n                this.initialOpen = true;\n            } else {\n                this.pane.view()._invokeNgController();\n            }\n        },\n\n        openFor: function(target) {\n            this.open(target);\n            this.trigger(OPEN, { target: this.popup.target() });\n        },\n\n        close: function() {\n            this.popup.hide();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.pane.destroy();\n            this.popup.destroy();\n\n            kendo.destroy(this.element);\n        }\n    });\n\n    ui.plugin(Popup);\n    ui.plugin(PopOver);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.mobile.shim',[ \"kendo.popup\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"mobile.shim\",\n    name: \"Shim\",\n    category: \"mobile\",\n    description: \"Mobile Shim\",\n    depends: [ \"popup\" ],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        Popup = kendo.ui.Popup,\n        SHIM = '<div class=\"km-shim\"></div>',\n        HIDE = \"hide\",\n        Widget = ui.Widget;\n\n    var Shim = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                app = kendo.mobile.application,\n                os = kendo.support.mobileOS,\n                osname = app ? app.os.name : (os ? os.name : \"ios\"),\n                ioswp = osname === \"ios\" || osname === \"wp\" || (app ? app.os.skin : false),\n                bb = osname === \"blackberry\",\n                align = options.align || (ioswp ? \"bottom center\" : bb ? \"center right\" : \"center center\"),\n                position = options.position || (ioswp ? \"bottom center\" : bb ? \"center right\" : \"center center\"),\n                effect = options.effect || (ioswp ? \"slideIn:up\" : bb ? \"slideIn:left\" : \"fade:in\"),\n                shim = $(SHIM).handler(that).hide();\n\n            Widget.fn.init.call(that, element, options);\n\n            that.shim = shim;\n            element = that.element;\n            options = that.options;\n\n            if (options.className) {\n                that.shim.addClass(options.className);\n            }\n\n            if (!options.modal) {\n                that.shim.on(\"down\", \"_hide\");\n            }\n\n            (app ? app.element : $(document.body)).append(shim);\n\n            that.popup = new Popup(that.element, {\n                anchor: shim,\n                modal: true,\n                appendTo: shim,\n                origin: align,\n                position: position,\n                animation: {\n                    open: {\n                        effects: effect,\n                        duration: options.duration\n                    },\n                    close: {\n                        duration: options.duration\n                    }\n                },\n\n                close: function(e) {\n                    var prevented = false;\n\n                    if (!that._apiCall) {\n                        prevented = that.trigger(HIDE);\n                    }\n\n                    if (prevented) {\n                        e.preventDefault();\n                    }\n\n                    that._apiCall = false;\n                },\n\n                deactivate: function() { // Deactivate event can't be prevented.\n                    shim.hide();\n                },\n\n                open: function() {\n                    shim.show();\n                }\n            });\n\n            kendo.notify(that);\n        },\n\n        events: [ HIDE ],\n\n        options: {\n            name: \"Shim\",\n            modal: false,\n            align: undefined,\n            position: undefined,\n            effect: undefined,\n            duration: 200\n        },\n\n        show: function() {\n            this.popup.open();\n        },\n\n        hide: function() {\n            this._apiCall = true;\n            this.popup.close();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.shim.kendoDestroy();\n            this.popup.destroy();\n            this.shim.remove();\n        },\n\n        _hide: function(e) {\n            if (!e || !$.contains(this.shim.children().children(\".k-popup\")[0], e.target)) {\n                this.popup.close();\n            }\n        }\n    });\n\n    ui.plugin(Shim);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.mobile.modalview',[ \"kendo.mobile.shim\", \"kendo.mobile.view\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"mobile.modalview\",\n    name: \"ModalView\",\n    category: \"mobile\",\n    description: \"The Kendo ModalView is used to present self-contained functionality in the context of the current task.\",\n    depends: [ \"mobile.shim\", \"mobile.view\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        Shim = ui.Shim,\n        Widget = ui.Widget,\n        BEFORE_OPEN = \"beforeOpen\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        INIT = \"init\",\n        WRAP = '<div class=\"km-modalview-wrapper\"></div>';\n\n    var ModalView = ui.View.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._id();\n            that._wrap();\n            that._shim();\n\n            if (!this.options.$angular) {\n                that._layout();\n                that._scroller();\n                that._model();\n            }\n\n            that.element.css(\"display\", \"\");\n\n            that.trigger(INIT);\n        },\n\n        events: [\n            INIT,\n            BEFORE_OPEN,\n            OPEN,\n            CLOSE\n        ],\n\n        options: {\n            name: \"ModalView\",\n            modal: true,\n            width: null,\n            height: null\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.shim.destroy();\n        },\n\n        open: function(target) {\n            var that = this;\n            that.target = $(target);\n            that.shim.show();\n\n            that._invokeNgController();\n\n            // necessary for the mobile view interface\n            that.trigger(\"show\", { view: that });\n        },\n\n        // Interface implementation, called from the pane click handlers\n        openFor: function(target) {\n            if (!this.trigger(BEFORE_OPEN, { target: target })) {\n                this.open(target);\n                this.trigger(OPEN, { target: target });\n            }\n        },\n\n        close: function() {\n            if (this.element.is(\":visible\") && !this.trigger(CLOSE)) {\n                this.shim.hide();\n            }\n        },\n\n        _wrap: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                width, height;\n\n            width = element[0].style.width || \"auto\";\n            height = element[0].style.height || \"auto\";\n\n            element.addClass(\"km-modalview\").wrap(WRAP);\n\n            that.wrapper = element.parent().css({\n                width: options.width || width || 300,\n                height: options.height || height || 300\n            }).addClass(height == \"auto\" ? \" km-auto-height\" : \"\");\n\n            element.css({ width: \"\", height: \"\" });\n        },\n\n        _shim: function() {\n            var that = this;\n\n            that.shim = new Shim(that.wrapper, {\n                modal: that.options.modal,\n                position: \"center center\",\n                align: \"center center\",\n                effect: \"fade:in\",\n                className: \"km-modalview-root\",\n                hide: function(e) {\n                    if (that.trigger(CLOSE)) {\n                        e.preventDefault();\n                    }\n                }\n            });\n        }\n    });\n\n    ui.plugin(ModalView);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.mobile.drawer',[ \"kendo.mobile.view\", \"kendo.userevents\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"mobile.drawer\",\n    name: \"Drawer\",\n    category: \"mobile\",\n    description: \"The Kendo Mobile Drawer widget provides slide to reveal global application toolbox\",\n    depends: [ \"mobile.view\", \"userevents\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        os = kendo.support.mobileOS,\n        Transition = kendo.effects.Transition,\n        roleSelector = kendo.roleSelector,\n        AXIS = \"x\",\n        ui = mobile.ui,\n        SWIPE_TO_OPEN = !(os.ios && os.majorVersion == 7 && !os.appMode),\n        BEFORE_SHOW = \"beforeShow\",\n        INIT = \"init\",\n        SHOW = \"show\",\n        HIDE = \"hide\",\n        AFTER_HIDE = \"afterHide\",\n        NULL_VIEW = { enable: $.noop };\n\n    var Drawer = ui.View.extend({\n        init: function(element, options) {\n            // move the drawer to the top, in order to hide it\n            $(element).parent().prepend(element);\n\n            mobile.ui.Widget.fn.init.call(this, element, options);\n\n            if (!this.options.$angular) {\n                this._layout();\n                this._scroller();\n            }\n\n            this._model();\n\n            var pane = this.element.closest(roleSelector(\"pane\")).data(\"kendoMobilePane\"),\n                userEvents;\n\n            if (pane) {\n                this.pane = pane;\n                this.pane.bind(\"viewShow\", function(e) {\n                    drawer._viewShow(e);\n                });\n\n                this.pane.bind(\"sameViewRequested\", function() {\n                    drawer.hide();\n                });\n\n                userEvents = this.userEvents = new kendo.UserEvents(pane.element, {\n                    fastTap: true,\n                    filter: roleSelector(\"view splitview\"),\n                    allowSelection: true\n                });\n\n            } else {\n                this.currentView = NULL_VIEW;\n                var container = $(this.options.container);\n\n                if (!container) {\n                    throw new Error(\"The drawer needs a container configuration option set.\");\n                }\n\n                userEvents = this.userEvents = new kendo.UserEvents(container, { fastTap: true, allowSelection: true });\n                this._attachTransition(container);\n            }\n\n            var drawer = this;\n\n            var hide = function(e) {\n                if (drawer.visible) {\n                    drawer.hide();\n                    e.preventDefault();\n                }\n            };\n\n            if (this.options.swipeToOpen && SWIPE_TO_OPEN) {\n                userEvents.bind(\"press\", function() { drawer.transition.cancel(); });\n                userEvents.bind(\"start\", function(e) { drawer._start(e); });\n                userEvents.bind(\"move\", function(e) { drawer._update(e); });\n                userEvents.bind(\"end\", function(e) { drawer._end(e); });\n                userEvents.bind(\"tap\", hide);\n            } else {\n                userEvents.bind(\"press\", hide);\n            }\n\n            this.leftPositioned = this.options.position === \"left\";\n\n            this.visible = false;\n\n            this.element.hide().addClass(\"km-drawer\").addClass(this.leftPositioned ? \"km-left-drawer\" : \"km-right-drawer\");\n            this.trigger(INIT);\n        },\n\n        options: {\n            name: \"Drawer\",\n            position: \"left\",\n            views: [],\n            swipeToOpenViews: [],\n            swipeToOpen: true,\n            title: \"\",\n            container: null\n        },\n\n        events: [\n            BEFORE_SHOW,\n            HIDE,\n            AFTER_HIDE,\n            INIT,\n            SHOW\n        ],\n\n        show: function() {\n            if (this._activate()) {\n                this._show();\n            }\n        },\n\n        hide: function() {\n            if (!this.currentView) {\n                return;\n            }\n\n            this.currentView.enable();\n\n            Drawer.current = null;\n            this._moveViewTo(0);\n            this.trigger(HIDE, { view: this });\n        },\n\n        // Alias in order to support popover/modalview etc. interface\n        openFor: function() {\n            if (this.visible) {\n                this.hide();\n            } else {\n                this.show();\n            }\n        },\n\n        destroy: function() {\n            ui.View.fn.destroy.call(this);\n            this.userEvents.destroy();\n        },\n\n        _activate: function() {\n            if (this.visible) {\n                return true;\n            }\n\n            var visibleOnCurrentView = this._currentViewIncludedIn(this.options.views);\n\n            if (!visibleOnCurrentView || this.trigger(BEFORE_SHOW, { view: this })) {\n                return false;\n            }\n\n            this._setAsCurrent();\n            this.element.show();\n\n            this.trigger(SHOW, { view: this });\n            this._invokeNgController();\n            return true;\n        },\n\n        _currentViewIncludedIn: function(views) {\n            if (!this.pane || !views.length) {\n                return true;\n            }\n\n            var view = this.pane.view();\n            return $.inArray(view.id.replace('#', ''), views) > -1 || $.inArray(view.element.attr(\"id\"), views) > -1;\n        },\n\n        _show: function() {\n            this.currentView.enable(false);\n\n            this.visible = true;\n            var offset = this.element.width();\n\n            if (!this.leftPositioned) {\n                offset = -offset;\n            }\n\n            this._moveViewTo(offset);\n        },\n\n        _setAsCurrent: function() {\n            if (Drawer.last !== this) {\n                if (Drawer.last) {\n                    Drawer.last.element.hide();\n                }\n                this.element.show();\n            }\n\n            Drawer.last = this;\n            Drawer.current = this;\n        },\n\n        _moveViewTo: function(offset) {\n            this.userEvents.cancel();\n            this.transition.moveTo({ location: offset, duration: 400, ease: Transition.easeOutExpo });\n        },\n\n        _viewShow: function(e) {\n            if (this.currentView) {\n                this.currentView.enable();\n            }\n\n            if (this.currentView === e.view) {\n                this.hide();\n                return;\n            }\n\n            this.currentView = e.view;\n            this._attachTransition(e.view.element);\n        },\n\n        _attachTransition: function(element) {\n            var that = this,\n                movable = this.movable,\n                currentOffset = movable && movable.x;\n\n\n            if (this.transition) {\n                this.transition.cancel();\n                this.movable.moveAxis(\"x\", 0);\n            }\n\n            movable = this.movable = new kendo.ui.Movable(element);\n\n            this.transition = new Transition({\n                axis: AXIS,\n                movable: this.movable,\n                onEnd: function() {\n                    if (movable[AXIS] === 0) {\n                        element[0].style.cssText = \"\";\n                        that.element.hide();\n                        that.trigger(AFTER_HIDE);\n                        that.visible = false;\n                    }\n                }\n            });\n\n            if (currentOffset) {\n                element.addClass(\"k-fx-hidden\");\n                kendo.animationFrame(function() {\n                    element.removeClass(\"k-fx-hidden\");\n                    that.movable.moveAxis(AXIS, currentOffset);\n                    that.hide();\n                });\n            }\n        },\n\n        _start: function(e) {\n            var userEvents = e.sender;\n\n            // ignore non-horizontal swipes\n            if (Math.abs(e.x.velocity) < Math.abs(e.y.velocity) || kendo.triggeredByInput(e.event) || !this._currentViewIncludedIn(this.options.swipeToOpenViews)) {\n                userEvents.cancel();\n                return;\n            }\n\n            var leftPositioned = this.leftPositioned,\n                visible = this.visible,\n                canMoveLeft = leftPositioned && visible || !leftPositioned && !Drawer.current,\n                canMoveRight = !leftPositioned && visible || leftPositioned && !Drawer.current,\n                leftSwipe = e.x.velocity < 0;\n\n            if ((canMoveLeft && leftSwipe) || (canMoveRight && !leftSwipe)) {\n                if (this._activate()) {\n                    userEvents.capture();\n                    return;\n                }\n            }\n\n            userEvents.cancel();\n        },\n\n        _update: function(e) {\n            var movable = this.movable,\n                newPosition = movable.x + e.x.delta,\n                limitedPosition;\n\n            if (this.leftPositioned) {\n                limitedPosition = Math.min(Math.max(0, newPosition), this.element.width());\n            } else {\n                limitedPosition = Math.max(Math.min(0, newPosition), -this.element.width());\n            }\n\n            this.movable.moveAxis(AXIS, limitedPosition);\n            e.event.preventDefault();\n            e.event.stopPropagation();\n        },\n\n        _end: function(e) {\n            var velocity = e.x.velocity,\n                pastHalf = Math.abs(this.movable.x) > this.element.width() / 2,\n                velocityThreshold = 0.8,\n                shouldShow;\n\n            if (this.leftPositioned) {\n                shouldShow = velocity > -velocityThreshold && (velocity > velocityThreshold || pastHalf);\n            } else {\n                shouldShow = velocity < velocityThreshold && (velocity < -velocityThreshold || pastHalf);\n            }\n\n            if (shouldShow) {\n                this._show();\n            } else {\n                this.hide();\n            }\n        }\n    });\n\n    ui.plugin(Drawer);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.mobile.splitview',[ \"kendo.mobile.pane\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"mobile.splitview\",\n    name: \"SplitView\",\n    category: \"mobile\",\n    description: \"The mobile SplitView is a tablet-specific view that consists of two or more mobile Pane widgets.\",\n    depends: [ \"mobile.pane\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        Widget = ui.Widget,\n        EXPANED_PANE_SHIM = \"<div class='km-expanded-pane-shim'></div>\",\n        View = ui.View;\n\n    var SplitView = View.extend({\n        init: function(element, options) {\n            var that = this,\n            pane, modalViews;\n\n            Widget.fn.init.call(that, element, options);\n            element = that.element;\n\n            $.extend(that, options);\n\n            that._id();\n\n            if (!that.options.$angular) {\n                that._layout();\n                that._overlay();\n            } else {\n                that._overlay();\n            }\n\n            that._style();\n\n            modalViews = element.children(that._locate(\"modalview\"));\n\n            if (!that.options.$angular) {\n                kendo.mobile.init(modalViews);\n            } else {\n                modalViews.each(function(idx, element) {\n                    kendo.compileMobileDirective($(element), options.$angular[0]);\n                });\n            }\n\n            that.panes = [];\n            that._paramsHistory = [];\n\n            if (!that.options.$angular) {\n                that.content.children(kendo.roleSelector(\"pane\")).each(function() {\n                    pane = kendo.initWidget(this, {}, ui.roles);\n                    that.panes.push(pane);\n                });\n            } else {\n                that.element.children(kendo.directiveSelector(\"pane\")).each(function() {\n                    pane = kendo.compileMobileDirective($(this), options.$angular[0]);\n                    that.panes.push(pane);\n                });\n\n                that.element.children(kendo.directiveSelector(\"header footer\")).each(function() {\n                    kendo.compileMobileDirective($(this), options.$angular[0]);\n                });\n            }\n\n            that.expandedPaneShim = $(EXPANED_PANE_SHIM).appendTo(that.element);\n\n            that._shimUserEvents = new kendo.UserEvents(that.expandedPaneShim, {\n                fastTap: true,\n                tap: function() {\n                    that.collapsePanes();\n                }\n            });\n        },\n\n        _locate: function(selectors) {\n            return this.options.$angular ? kendo.directiveSelector(selectors) : kendo.roleSelector(selectors);\n        },\n\n        options: {\n            name: \"SplitView\",\n            style: \"horizontal\"\n        },\n\n        expandPanes: function() {\n            this.element.addClass(\"km-expanded-splitview\");\n        },\n\n        collapsePanes: function() {\n            this.element.removeClass(\"km-expanded-splitview\");\n        },\n\n        // Implement view interface\n        _layout: function() {\n            var that = this,\n                element = that.element;\n\n            that.transition = kendo.attrValue(element, \"transition\");\n            kendo.mobile.ui.View.prototype._layout.call(this);\n            kendo.mobile.init(this.header.add(this.footer));\n            that.element.addClass(\"km-splitview\");\n            that.content.addClass(\"km-split-content\");\n        },\n\n        _style: function() {\n            var style = this.options.style,\n                element = this.element,\n                styles;\n\n            if (style) {\n                styles = style.split(\" \");\n                $.each(styles, function() {\n                    element.addClass(\"km-split-\" + this);\n                });\n            }\n        },\n\n        showStart: function() {\n            var that = this;\n            that.element.css(\"display\", \"\");\n\n            if (!that.inited) {\n                that.inited = true;\n                $.each(that.panes, function() {\n                    if (this.options.initial) {\n                        this.navigateToInitial();\n                    } else {\n                        this.navigate(\"\");\n                    }\n                });\n                that.trigger(\"init\", { view: that });\n            } else {\n                this._invokeNgController();\n            }\n\n            that.trigger(\"show\", { view: that });\n        }\n    });\n\n    ui.plugin(SplitView);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.mobile.application',[ \"kendo.mobile.pane\", \"kendo.router\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"mobile.application\",\n    name: \"Application\",\n    category: \"mobile\",\n    description: \"The Mobile application provides a framework to build native looking web applications on mobile devices.\",\n    depends: [ \"mobile.pane\", \"router\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        support = kendo.support,\n        Widget = mobile.ui.Widget,\n        Pane = mobile.ui.Pane,\n\n        DEFAULT_OS = \"ios7\",\n        OS = support.mobileOS,\n        BERRYPHONEGAP = OS.device == \"blackberry\" && OS.flatVersion >= 600 && OS.flatVersion < 1000 && OS.appMode,\n        FONT_SIZE_COEF = 0.93,\n        VERTICAL = \"km-vertical\",\n        CHROME = OS.browser === \"chrome\",\n        BROKEN_WEBVIEW_RESIZE = OS.ios && OS.flatVersion >= 700 && OS.flatVersion < 800 && (OS.appMode || CHROME),\n        INITIALLY_HORIZONTAL = (Math.abs(window.orientation) / 90 == 1),\n        HORIZONTAL = \"km-horizontal\",\n\n        MOBILE_PLATFORMS = {\n            ios7: { ios: true, browser: \"default\", device: \"iphone\", flatVersion: \"700\", majorVersion: \"7\", minorVersion: \"0.0\", name: \"ios\", tablet: false },\n            ios: { ios: true, browser: \"default\", device: \"iphone\", flatVersion: \"612\", majorVersion: \"6\", minorVersion: \"1.2\", name: \"ios\", tablet: false },\n            android: { android: true, browser: \"default\", device: \"android\", flatVersion: \"442\", majorVersion: \"4\", minorVersion: \"4.2\", name: \"android\", tablet: false },\n            blackberry: { blackberry: true, browser: \"default\", device: \"blackberry\", flatVersion: \"710\", majorVersion: \"7\", minorVersion: \"1.0\", name: \"blackberry\", tablet: false },\n            meego: { meego: true, browser: \"default\", device: \"meego\", flatVersion: \"850\", majorVersion: \"8\", minorVersion: \"5.0\", name: \"meego\", tablet: false },\n            wp: { wp: true, browser: \"default\", device: \"wp\", flatVersion: \"800\", majorVersion: \"8\", minorVersion: \"0.0\", name: \"wp\", tablet: false }\n        },\n\n        viewportTemplate = kendo.template('<meta content=\"initial-scale=#: data.scale #, maximum-scale=#: data.scale #, user-scalable=no#=data.height#\" name=\"viewport\" />', { usedWithBlock: false }),\n        systemMeta = kendo.template('<meta name=\"apple-mobile-web-app-capable\" content=\"#= data.webAppCapable === false ? \\'no\\' : \\'yes\\' #\" /> ' +\n                     '<meta name=\"apple-mobile-web-app-status-bar-style\" content=\"#=data.statusBarStyle#\" /> ' +\n                     '<meta name=\"msapplication-tap-highlight\" content=\"no\" /> ', { usedWithBlock: false }),\n        clipTemplate = kendo.template('<style>.km-view { clip: rect(0 #= data.width #px #= data.height #px 0); }</style>', { usedWithBlock: false }),\n        ENABLE_CLIP = OS.android && OS.browser != \"chrome\" || OS.blackberry,\n\n        iconMeta = kendo.template('<link rel=\"apple-touch-icon' + (OS.android ? '-precomposed' : '') + '\" # if(data.size) { # sizes=\"#=data.size#\" #}# href=\"#=data.icon#\" />', { usedWithBlock: false }),\n\n        HIDEBAR = (OS.device == \"iphone\" || OS.device == \"ipod\") && OS.majorVersion < 7,\n        SUPPORT_SWIPE_TO_GO_BACK = (OS.device == \"iphone\" || OS.device == \"ipod\") && OS.majorVersion >= 7,\n        HISTORY_TRANSITION = SUPPORT_SWIPE_TO_GO_BACK ? \"none\" : null,\n        BARCOMPENSATION = OS.browser == \"mobilesafari\" ? 60 : 0,\n        STATUS_BAR_HEIGHT = 20,\n        WINDOW = $(window),\n        SCREEN = window.screen,\n        HEAD = $(\"head\"),\n\n        // mobile app events\n        INIT = \"init\";\n\n    function osCssClass(os, options) {\n        var classes = [];\n\n        if (OS) {\n            classes.push(\"km-on-\" + OS.name);\n        }\n\n        if (os.skin) {\n            classes.push(\"km-\" + os.skin);\n        } else {\n            if (os.name == \"ios\" && os.majorVersion > 6) {\n                classes.push(\"km-ios7\");\n            } else {\n                classes.push(\"km-\" + os.name);\n            }\n        }\n        if ((os.name == \"ios\" && os.majorVersion < 7) || os.name != \"ios\") {\n            classes.push(\"km-\" + os.name + os.majorVersion);\n        }\n        classes.push(\"km-\" + os.majorVersion);\n        classes.push(\"km-m\" + (os.minorVersion ? os.minorVersion[0] : 0));\n\n        if (os.variant && ((os.skin && os.skin === os.name) || !os.skin || os.setDefaultPlatform === false)) {\n            classes.push(\"km-\" + (os.skin ? os.skin : os.name) + \"-\" + os.variant);\n        }\n\n        if (os.cordova) {\n            classes.push(\"km-cordova\");\n        }\n        if (os.appMode) {\n            classes.push(\"km-app\");\n        } else {\n            classes.push(\"km-web\");\n        }\n\n        if (options && options.statusBarStyle) {\n            classes.push(\"km-\" + options.statusBarStyle + \"-status-bar\");\n        }\n\n        return classes.join(\" \");\n    }\n\n    function wp8Background(os) {\n        return 'km-wp-' + (os.noVariantSet ?\n                            (parseInt($(\"<div style='background: Background' />\").css(\"background-color\").split(\",\")[1], 10) === 0 ? 'dark' : 'light') :\n                            os.variant + \" km-wp-\" + os.variant + \"-force\");\n    }\n\n    function isOrientationHorizontal(element) {\n        return OS.wp ? element.css(\"animation-name\") == \"-kendo-landscape\" : (Math.abs(window.orientation) / 90 == 1);\n    }\n\n    function getOrientationClass(element) {\n        return isOrientationHorizontal(element) ? HORIZONTAL : VERTICAL;\n    }\n\n    function setMinimumHeight(pane) {\n        pane.parent().addBack()\n               .css(\"min-height\", window.innerHeight);\n    }\n\n    function applyViewportHeight() {\n        $(\"meta[name=viewport]\").remove();\n            HEAD.append(viewportTemplate({\n            height: \", width=device-width\" + // width=device-width was removed for iOS6, but this should stay for BB PhoneGap.\n                        (isOrientationHorizontal() ?\n                            \", height=\" + window.innerHeight + \"px\" :\n                            (support.mobileOS.flatVersion >= 600 && support.mobileOS.flatVersion < 700) ?\n                                \", height=\" + window.innerWidth + \"px\" :\n                                \", height=device-height\")\n        }));\n    }\n\n    var Application = Widget.extend({\n        init: function(element, options) {\n            // global reference to current application\n            mobile.application = this;\n            $(this.bootstrap.bind(this, element, options));\n        },\n\n        bootstrap: function(element, options) {\n            element = $(element);\n\n            if (!element[0]) {\n                element = $(document.body);\n            }\n\n            Widget.fn.init.call(this, element, options);\n            this.element.removeAttr(\"data-\" + kendo.ns + \"role\");\n\n            this._setupPlatform();\n            this._attachMeta();\n            this._setupElementClass();\n            this._attachHideBarHandlers();\n            var paneOptions = $.extend({}, this.options);\n            delete paneOptions.name;\n\n            var that = this,\n                startHistory = function() {\n                    that.pane = new Pane(that.element, paneOptions);\n                    that.pane.navigateToInitial();\n\n                    if (that.options.updateDocumentTitle) {\n                        that._setupDocumentTitle();\n                    }\n\n                    that._startHistory();\n                    that.trigger(INIT);\n                };\n\n            if (this.options.$angular) {\n                setTimeout(startHistory);\n            } else {\n                startHistory();\n            }\n        },\n\n        options: {\n            name: \"Application\",\n            hideAddressBar: true,\n            browserHistory: true,\n            historyTransition: HISTORY_TRANSITION,\n            modelScope: window,\n            statusBarStyle: \"black\",\n            transition: \"\",\n            retina: false,\n            platform: null,\n            skin: null,\n            updateDocumentTitle: true,\n            useNativeScrolling: false\n        },\n\n        events: [\n            INIT\n        ],\n\n        navigate: function(url, transition) {\n            this.pane.navigate(url, transition);\n        },\n\n        replace: function(url, transition) {\n            this.pane.replace(url, transition);\n        },\n\n        scroller: function() {\n            return this.view().scroller;\n        },\n\n        hideLoading: function() {\n            if (this.pane) {\n                this.pane.hideLoading();\n            } else {\n                throw new Error(\"The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.\");\n            }\n        },\n\n        showLoading: function() {\n            if (this.pane) {\n                this.pane.showLoading();\n            } else {\n                throw new Error(\"The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.\");\n            }\n        },\n\n        changeLoadingMessage: function(message) {\n            if (this.pane) {\n                this.pane.changeLoadingMessage(message);\n            } else {\n                throw new Error(\"The mobile application instance is not fully instantiated. Please consider changing the message in the application init event handler.\");\n            }\n        },\n\n        view: function() {\n            return this.pane.view();\n        },\n\n        skin: function(skin) {\n            var that = this;\n\n            if (!arguments.length) {\n                return that.options.skin;\n            }\n\n            that.options.skin = skin || \"\";\n            that.element[0].className = \"km-pane\";\n            that._setupPlatform();\n            that._setupElementClass();\n\n            return that.options.skin;\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.pane.destroy();\n            if (this.options.browserHistory) {\n                this.router.destroy();\n            }\n        },\n\n        _setupPlatform: function() {\n            var that = this,\n                platform = that.options.platform,\n                skin = that.options.skin,\n                split = [],\n                os = OS || MOBILE_PLATFORMS[DEFAULT_OS],\n                refreshBackgroundFn = function() {\n                    if (that.os.variant && (that.os.skin && that.os.skin === that.os.name) || !that.os.skin) {\n                        that.element.removeClass(\"km-wp-dark km-wp-light km-wp-dark-force km-wp-light-force\").addClass(wp8Background(that.os));\n                    }\n                };\n\n            if (platform) {\n                os.setDefaultPlatform = true;\n                if (typeof platform === \"string\") {\n                    split = platform.split(\"-\");\n                    os = $.extend({ variant: split[1] }, os, MOBILE_PLATFORMS[split[0]]);\n                } else {\n                    os = platform;\n                }\n            }\n\n            if (skin) {\n                split = skin.split(\"-\");\n                if (!OS) {\n                    os.setDefaultPlatform = false;\n                }\n                os = $.extend({}, os, { skin: split[0], variant: split[1] });\n            }\n\n            if (!os.variant) {\n                os.noVariantSet = true;\n                os.variant = \"dark\";\n            }\n\n            that.os = os;\n\n            that.osCssClass = osCssClass(that.os, that.options);\n\n            if (os.name == \"wp\") {\n                if (!that.refreshBackgroundColorProxy) {\n                    that.refreshBackgroundColorProxy = refreshBackgroundFn.bind(that);\n                }\n\n                $(document).off(\"visibilitychange\", that.refreshBackgroundColorProxy);\n                $(document).off(\"resume\", that.refreshBackgroundColorProxy);\n\n                if (!os.skin) {\n                    that.element.parent().css(\"overflow\", \"hidden\");\n\n                    $(document).on(\"visibilitychange\", that.refreshBackgroundColorProxy); // Restore theme on browser focus (using the Visibility API).\n                    $(document).on(\"resume\", that.refreshBackgroundColorProxy); // PhoneGap fires resume.\n\n                    that.refreshBackgroundColorProxy();\n                }\n            }\n        },\n\n        _startHistory: function() {\n            if (this.options.browserHistory) {\n                this.router = new kendo.Router({ pushState: this.options.pushState, root: this.options.root, hashBang: this.options.hashBang });\n                this.pane.bindToRouter(this.router);\n                this.router.start();\n            } else {\n                if (!this.options.initial) {\n                    this.pane.navigate(\"\");\n                }\n            }\n        },\n\n        _resizeToScreenHeight: function() {\n            var includeStatusBar = $(\"meta[name=apple-mobile-web-app-status-bar-style]\").attr(\"content\").match(/black-translucent|hidden/),\n                element = this.element,\n                height;\n\n            if (CHROME) {\n                height = window.innerHeight;\n            } else {\n                if (isOrientationHorizontal(element)) {\n                    if (includeStatusBar) {\n                        if (INITIALLY_HORIZONTAL) {\n                            height = SCREEN.availWidth + STATUS_BAR_HEIGHT;\n                        } else {\n                            height = SCREEN.availWidth;\n                        }\n                    } else {\n                        if (INITIALLY_HORIZONTAL) {\n                            height = SCREEN.availWidth;\n                        } else {\n                            height = SCREEN.availWidth - STATUS_BAR_HEIGHT;\n                        }\n                    }\n                } else {\n                    if (includeStatusBar) {\n                        if (INITIALLY_HORIZONTAL) {\n                            height = SCREEN.availHeight;\n                        } else {\n                            height = SCREEN.availHeight + STATUS_BAR_HEIGHT;\n                        }\n                    } else {\n                        if (INITIALLY_HORIZONTAL) {\n                            height = SCREEN.availHeight - STATUS_BAR_HEIGHT;\n                        } else {\n                            height = SCREEN.availHeight;\n                        }\n                    }\n                }\n            }\n\n            element.height(height);\n        },\n\n        _setupElementClass: function() {\n            var that = this, size,\n                element = that.element;\n\n            element.parent().addClass(\"km-root km-\" + (that.os.tablet ? \"tablet\" : \"phone\"));\n            element.addClass(that.osCssClass + \" \" + getOrientationClass(element));\n            if (this.options.useNativeScrolling) {\n                element.parent().addClass(\"km-native-scrolling\");\n            }\n\n            if (CHROME) {\n                element.addClass(\"km-ios-chrome\");\n            }\n\n            if (support.wpDevicePixelRatio) {\n                element.parent().css(\"font-size\", support.wpDevicePixelRatio + \"em\");\n            }\n\n            if (this.options.retina) {\n                element.parent().addClass(\"km-retina\");\n                element.parent().css(\"font-size\", (support.devicePixelRatio * FONT_SIZE_COEF) + \"em\");\n            }\n\n            if (BERRYPHONEGAP) {\n                applyViewportHeight();\n            }\n            if (that.options.useNativeScrolling) {\n                element.parent().addClass(\"km-native-scrolling\");\n            } else if (ENABLE_CLIP) {\n                size = (screen.availWidth > screen.availHeight ? screen.availWidth : screen.availHeight) + 200;\n                $(clipTemplate({ width: size, height: size })).appendTo(HEAD);\n            }\n\n            if (BROKEN_WEBVIEW_RESIZE) {\n                that._resizeToScreenHeight();\n            }\n\n            kendo.onResize(function() {\n                element\n                    .removeClass(\"km-horizontal km-vertical\")\n                    .addClass(getOrientationClass(element));\n\n                if (that.options.useNativeScrolling) {\n                    setMinimumHeight(element);\n                }\n\n                if (BROKEN_WEBVIEW_RESIZE) {\n                    that._resizeToScreenHeight();\n                }\n\n                if (BERRYPHONEGAP) {\n                    applyViewportHeight();\n                }\n\n                kendo.resize(element);\n            });\n        },\n\n        _clearExistingMeta: function() {\n            HEAD.find(\"meta\")\n                .filter(\"[name|='apple-mobile-web-app'],[name|='msapplication-tap'],[name='viewport']\")\n                .remove();\n        },\n\n        _attachMeta: function() {\n            var options = this.options,\n                icon = options.icon, size;\n\n            this._clearExistingMeta();\n\n            if (!BERRYPHONEGAP) {\n                HEAD.prepend(viewportTemplate({ height: \"\", scale: this.options.retina ? 1 / support.devicePixelRatio : \"1.0\" }));\n            }\n\n            HEAD.prepend(systemMeta(options));\n\n            if (icon) {\n                if (typeof icon === \"string\") {\n                    icon = { \"\": icon };\n                }\n\n                for (size in icon) {\n                    HEAD.prepend(iconMeta({ icon: icon[size], size: size }));\n                }\n            }\n\n            if (options.useNativeScrolling) {\n                setMinimumHeight(this.element);\n            }\n        },\n\n        _attachHideBarHandlers: function() {\n            var that = this,\n                hideBar = that._hideBar.bind(that);\n\n            if (support.mobileOS.appMode || !that.options.hideAddressBar || !HIDEBAR || that.options.useNativeScrolling) {\n                return;\n            }\n\n            that._initialHeight = {};\n\n            WINDOW.on(\"load\", hideBar);\n\n            kendo.onResize(function() {\n                setTimeout(window.scrollTo, 0, 0, 1);\n            });\n        },\n\n        _setupDocumentTitle: function() {\n            var that = this,\n                defaultTitle = document.title;\n\n            that.pane.bind(\"viewShow\", function(e) {\n                var title = e.view.title;\n                document.title = title !== undefined ? title : defaultTitle;\n            });\n        },\n\n        _hideBar: function() {\n            var that = this,\n                element = that.element;\n\n            element.height(kendo.support.transforms.css + \"calc(100% + \" + BARCOMPENSATION + \"px)\");\n            $(window).trigger(kendo.support.resize);\n        }\n    });\n\n    kendo.mobile.Application = Application;\n    kendo.ui.plugin(Application, kendo.mobile, 'Mobile');\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.mobile.actionsheet',[ \"kendo.mobile.popover\", \"kendo.mobile.shim\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"mobile.actionsheet\",\n    name: \"ActionSheet\",\n    category: \"mobile\",\n    description: \"The mobile ActionSheet widget displays a set of choices related to a task the user initiates.\",\n    depends: [ \"mobile.popover\", \"mobile.shim\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        support = kendo.support,\n        ui = kendo.mobile.ui,\n        Shim = ui.Shim,\n        Popup = ui.Popup,\n        Widget = ui.Widget,\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        COMMAND = \"command\",\n        BUTTONS = \"li>a\",\n        CONTEXT_DATA = \"actionsheetContext\",\n        WRAP = '<div class=\"km-actionsheet-wrapper\"></div>',\n        cancelTemplate = kendo.template('<li class=\"km-actionsheet-cancel\"><a href=\"\\\\#\">#:cancel#</a></li>');\n\n    var ActionSheet = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                ShimClass,\n                tablet,\n                type,\n                os = support.mobileOS;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n            type = options.type;\n            element = that.element;\n\n            if (type === \"auto\") {\n                tablet = os && os.tablet;\n            } else {\n                tablet = type === \"tablet\";\n            }\n\n            ShimClass = tablet ? Popup : Shim;\n\n            if (options.cancelTemplate) {\n                cancelTemplate = kendo.template(options.cancelTemplate);\n            }\n\n            element\n                .addClass(\"km-actionsheet\")\n                .append(cancelTemplate({ cancel: that.options.cancel }))\n                .wrap(WRAP)\n                .on(\"up\", BUTTONS, \"_click\")\n                .on(\"click\", BUTTONS, kendo.preventDefault);\n\n            that.view().bind(\"destroy\", function() {\n                that.destroy();\n            });\n\n            that.wrapper = element.parent().addClass(type ? \" km-actionsheet-\" + type : \"\");\n\n            that.shim = new ShimClass(that.wrapper, $.extend({ modal: os.ios && os.majorVersion < 7, className: \"km-actionsheet-root\" }, that.options.popup) );\n\n            that._closeProxy = that._close.bind(that);\n            that._shimHideProxy = that._shimHide.bind(that);\n            that.shim.bind(\"hide\", that._shimHideProxy);\n\n            if (tablet) {\n                kendo.onResize(that._closeProxy);\n            }\n\n            kendo.notify(that, ui);\n        },\n\n        events: [\n            OPEN,\n            CLOSE,\n            COMMAND\n        ],\n\n        options: {\n            name: \"ActionSheet\",\n            cancel: \"Cancel\",\n            type: \"auto\",\n            popup: { height: \"auto\" }\n        },\n\n        open: function(target, context) {\n            var that = this;\n            that.target = $(target);\n            that.context = context;\n            that.shim.show(target);\n        },\n\n        close: function() {\n            this.context = this.target = null;\n            this.shim.hide();\n        },\n\n        openFor: function(target) {\n            var that = this,\n                context = target.data(CONTEXT_DATA);\n\n            that.open(target, context);\n            that.trigger(OPEN, { target: target, context: context });\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            kendo.unbindResize(this._closeProxy);\n            this.shim.destroy();\n        },\n\n        _click: function(e) {\n            if (e.isDefaultPrevented()) {\n                return;\n            }\n\n            var currentTarget = $(e.currentTarget);\n            var action = currentTarget.data(\"action\");\n\n            if (action) {\n                var actionData = {\n                    target: this.target,\n                    context: this.context\n                },\n                $angular = this.options.$angular;\n\n                if ($angular) {\n                    this.element.injector().get(\"$parse\")(action)($angular[0])(actionData);\n                } else {\n                    kendo.getter(action)(window)(actionData);\n                }\n            }\n\n            this.trigger(COMMAND, { target: this.target, context: this.context, currentTarget: currentTarget });\n\n            e.preventDefault();\n            this._close();\n        },\n\n        _shimHide: function(e) {\n            if (!this.trigger(CLOSE)) {\n                this.context = this.target = null;\n            } else {\n                e.preventDefault();\n            }\n        },\n\n        _close: function(e) {\n            if (!this.trigger(CLOSE)) {\n                this.close();\n            } else {\n                e.preventDefault();\n            }\n        }\n    });\n\n    ui.plugin(ActionSheet);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.mobile.button',[ \"kendo.userevents\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"mobile.button\",\n    name: \"Button\",\n    category: \"mobile\",\n    description: \"The Button widget navigates between mobile Application views when pressed.\",\n    depends: [ \"userevents\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        Widget = ui.Widget,\n        support = kendo.support,\n        os = support.mobileOS,\n        ANDROID3UP = os.android && os.flatVersion >= 300,\n        CLICK = \"click\",\n        DISABLED = \"disabled\",\n        DISABLEDSTATE = \"km-state-disabled\";\n\n    function highlightButton(widget, event, highlight) {\n        $(event.target).closest(\".km-button,.km-detail\").toggleClass(\"km-state-active\", highlight);\n\n        if (ANDROID3UP && widget.deactivateTimeoutID) {\n            clearTimeout(widget.deactivateTimeoutID);\n            widget.deactivateTimeoutID = 0;\n        }\n    }\n\n    function createBadge(value) {\n        return $('<span class=\"km-badge\">' + value + '</span>');\n    }\n\n    var Button = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            var useTap = that.options.clickOn === \"up\";\n\n            that._wrap();\n            that._style();\n\n            if (!useTap) {\n                that.element.attr(\"data-navigate-on-press\", true);\n            }\n\n            that.options.enable = that.options.enable && !that.element.attr(DISABLED);\n            that.enable(that.options.enable);\n\n            that._userEvents = new kendo.UserEvents(that.element, {\n                allowSelection: !useTap,\n                fastTap: true,\n                press: function(e) {\n                    that._activate(e);\n                },\n                release: function(e) {\n                    highlightButton(that, e, false);\n                    if (!useTap) { e.event.stopPropagation(); }\n                }\n            });\n\n            that._userEvents.bind(useTap ? \"tap\" : \"press\", function(e) {\n                that._release(e);\n            });\n\n\n            if (ANDROID3UP) {\n                that.element.on(\"move\", function(e) { that._timeoutDeactivate(e); });\n            }\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this._userEvents.destroy();\n        },\n\n        events: [\n            CLICK\n        ],\n\n        options: {\n            name: \"Button\",\n            icon: \"\",\n            style: \"\",\n            badge: \"\",\n            clickOn: \"up\",\n            enable: true\n        },\n\n        badge: function(value) {\n            var badge = this.badgeElement = this.badgeElement || createBadge(value).appendTo(this.element);\n\n            if (value || value === 0) {\n                badge.html(value);\n                return this;\n            }\n\n            if (value === false) {\n                badge.empty().remove();\n                this.badgeElement = false;\n                return this;\n            }\n\n            return badge.html();\n        },\n\n        enable: function(enable) {\n            var element = this.element;\n\n            if (typeof enable == \"undefined\") {\n                enable = true;\n            }\n\n            this.options.enable = enable;\n\n            if (enable) {\n                element.prop(DISABLED, false);\n            } else {\n                element.attr(DISABLED, DISABLED);\n            }\n\n            element.toggleClass(DISABLEDSTATE, !enable);\n        },\n\n        _timeoutDeactivate: function(e) {\n            if (!this.deactivateTimeoutID) {\n                this.deactivateTimeoutID = setTimeout(highlightButton, 500, this, e, false);\n            }\n        },\n\n        _activate: function(e) {\n            var activeElement = document.activeElement,\n                nodeName = activeElement ? activeElement.nodeName : \"\";\n\n            if (this.options.enable) {\n                highlightButton(this, e, true);\n\n                if (nodeName == \"INPUT\" || nodeName == \"TEXTAREA\") {\n                    activeElement.blur(); // Hide device keyboard\n                }\n            }\n        },\n\n        _release: function(e) {\n            var that = this;\n\n            if (e.which > 1) {\n                return;\n            }\n\n            if (!that.options.enable) {\n                e.preventDefault();\n                return;\n            }\n\n            if (that.trigger(CLICK, { target: $(e.target), button: that.element })) {\n                e.preventDefault();\n            }\n        },\n\n        _style: function() {\n            var style = this.options.style,\n                element = this.element,\n                styles;\n\n            if (style) {\n                styles = style.split(\" \");\n                $.each(styles, function() {\n                    element.addClass(\"km-\" + this);\n                });\n            }\n        },\n\n        _wrap: function() {\n            var that = this,\n                icon = that.options.icon,\n                badge = that.options.badge,\n                iconSpan = '<span class=\"km-icon km-' + icon,\n                element = that.element.addClass(\"km-button\"),\n                span = element.children(\"span:not(.km-icon)\").addClass(\"km-text\"),\n                image = element.find(\"img\").addClass(\"km-image\");\n\n            if (!span[0] && element.html()) {\n                span = element.wrapInner('<span class=\"km-text\" />').children(\"span.km-text\");\n            }\n\n            if (!image[0] && icon) {\n                if (!span[0]) {\n                    iconSpan += \" km-notext\";\n                }\n                that.iconElement = element.prepend($(iconSpan + '\" />'));\n            }\n\n            if (badge || badge === 0) {\n                that.badgeElement = createBadge(badge).appendTo(element);\n            }\n        }\n    });\n\n    var BackButton = Button.extend({\n        options: {\n            name: \"BackButton\",\n            style: \"back\"\n        },\n\n        init: function(element, options) {\n            var that = this;\n            Button.fn.init.call(that, element, options);\n\n            if (typeof that.element.attr(\"href\") === \"undefined\") {\n                that.element.attr(\"href\", \"#:back\");\n            }\n        }\n    });\n\n    var DetailButton = Button.extend({\n        options: {\n            name: \"DetailButton\",\n            style: \"\"\n        },\n\n        init: function(element, options) {\n            Button.fn.init.call(this, element, options);\n        },\n\n        _style: function() {\n            var style = this.options.style + \" detail\",\n                element = this.element;\n\n            if (style) {\n                var styles = style.split(\" \");\n                $.each(styles, function() {\n                    element.addClass(\"km-\" + this);\n                });\n            }\n        },\n\n        _wrap: function() {\n            var that = this,\n                icon = that.options.icon,\n                iconSpan = '<span class=\"km-icon km-' + icon,\n                element = that.element,\n                span = element.children(\"span\"),\n                image = element.find(\"img\").addClass(\"km-image\");\n\n            if (!image[0] && icon) {\n                if (!span[0]) {\n                    iconSpan += \" km-notext\";\n                }\n                element.prepend($(iconSpan + '\" />'));\n            }\n        }\n\n    });\n\n    ui.plugin(Button);\n    ui.plugin(BackButton);\n    ui.plugin(DetailButton);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.mobile.buttongroup',[ \"kendo.core\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"mobile.buttongroup\",\n    name: \"ButtonGroup\",\n    category: \"mobile\",\n    description: \"The Kendo mobile ButtonGroup widget is a linear set of grouped buttons.\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        Widget = ui.Widget,\n        ACTIVE = \"state-active\",\n        DISABLE = \"state-disabled\",\n        SELECT = \"select\",\n        SELECTOR = \"li:not(.km-\" + ACTIVE + \")\";\n\n    function className(name) {\n        return \"k-\" + name + \" km-\" + name;\n    }\n\n    function createBadge(value) {\n        return $('<span class=\"' + className(\"badge\") + '\">' + value + '</span>');\n    }\n\n    var ButtonGroup = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that.element.addClass(\"km-buttongroup k-widget k-button-group\").find(\"li\").each(that._button);\n\n            that.element.on(that.options.selectOn, SELECTOR, \"_select\");\n\n            that._enable = true;\n            that.select(that.options.index);\n\n            if (!that.options.enable) {\n                that._enable = false;\n                that.wrapper.addClass(className(DISABLE));\n            }\n        },\n\n        events: [\n            SELECT\n        ],\n\n        options: {\n            name: \"ButtonGroup\",\n            selectOn: \"down\",\n            index: -1,\n            enable: true\n        },\n\n        current: function() {\n            return this.element.find(\".km-\" + ACTIVE);\n        },\n\n        select: function(li) {\n            var that = this,\n                index = -1;\n\n            if (li === undefined || li === -1 || !that._enable || $(li).is(\".km-\" + DISABLE)) {\n                return;\n            }\n\n            that.current().removeClass(className(ACTIVE));\n\n            if (typeof li === \"number\") {\n                index = li;\n                li = $(that.element[0].children[li]);\n            } else if (li.nodeType) {\n                li = $(li);\n                index = li.index();\n            }\n\n            li.addClass(className(ACTIVE));\n            that.selectedIndex = index;\n        },\n\n        badge: function(item, value) {\n            var buttongroup = this.element, badge;\n\n            if (!isNaN(item)) {\n                item = buttongroup.children().get(item);\n            }\n\n            item = buttongroup.find(item);\n            badge = $(item.children(\".km-badge\")[0] || createBadge(value).appendTo(item));\n\n            if (value || value === 0) {\n                badge.html(value);\n                return this;\n            }\n\n            if (value === false) {\n                badge.empty().remove();\n                return this;\n            }\n\n            return badge.html();\n        },\n\n        enable: function(enable) {\n            if (typeof enable == \"undefined\") {\n                enable = true;\n            }\n\n            this.wrapper.toggleClass(className(DISABLE), !enable);\n\n            this._enable = this.options.enable = enable;\n        },\n\n        _button: function() {\n            var button = $(this).addClass(className(\"button\")),\n                icon = kendo.attrValue(button, \"icon\"),\n                badge = kendo.attrValue(button, \"badge\"),\n                span = button.children(\"span\"),\n                image = button.find(\"img\").addClass(className(\"image\"));\n\n            if (!span[0]) {\n                span = button.wrapInner(\"<span/>\").children(\"span\");\n            }\n\n            span.addClass(className(\"text\"));\n\n            if (!image[0] && icon) {\n                button.prepend($('<span class=\"' + className(\"icon\") + ' ' + className(icon) + '\"/>'));\n            }\n\n            if (badge || badge === 0) {\n                createBadge(badge).appendTo(button);\n            }\n        },\n\n        _select: function(e) {\n            if (e.which > 1 || e.isDefaultPrevented() || !this._enable) {\n                return;\n            }\n\n            this.select(e.currentTarget);\n            this.trigger(SELECT, { index: this.selectedIndex });\n        }\n    });\n\n    ui.plugin(ButtonGroup);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.mobile.collapsible',[ \"kendo.core\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"mobile.collapsible\",\n    name: \"Collapsible\",\n    category: \"mobile\",\n    description: \"The Kendo mobile Collapsible widget provides ability for creating collapsible blocks of content.\",\n    depends: [ \"core\", \"userevents\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        Widget = ui.Widget,\n        COLLAPSIBLE = \"km-collapsible\",\n        HEADER = \"km-collapsible-header\",\n        CONTENT = \"km-collapsible-content\",\n        INSET = \"km-collapsibleinset\",\n        HEADER_WRAPPER = \"<div data-role='collapsible-header' class='\" + HEADER + \"'></div>\",\n        CONTENT_WRAPPER = \"<div data-role='collapsible-content' class='\" + CONTENT + \"'></div>\",\n\n        COLLAPSED = \"km-collapsed\",\n        EXPANDED = \"km-expanded\",\n        ANIMATED = \"km-animated\",\n\n        //icon position\n        LEFT = \"left\",\n\n        //events\n        EXAPND = \"expand\",\n        COLLAPSE = \"collapse\";\n\n    var Collapsible = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                container = $(element);\n\n            Widget.fn.init.call(that, container, options);\n\n            container.addClass(COLLAPSIBLE);\n\n            that._buildHeader();\n            that.content = container.children().not(that.header).wrapAll(CONTENT_WRAPPER).parent();\n\n            that._userEvents = new kendo.UserEvents(that.header, {\n                fastTap: true,\n                tap: function() { that.toggle(); }\n            });\n\n            container.addClass(that.options.collapsed ? COLLAPSED : EXPANDED);\n\n            if (that.options.inset) {\n                container.addClass(INSET);\n            }\n\n            if (that.options.animation) {\n                that.content.addClass(ANIMATED);\n                that.content.height(0);\n                if (that.options.collapsed) {\n                    that.content.hide();\n                }\n            } else if (that.options.collapsed) {\n                that.content.hide();\n            }\n        },\n\n        events: [\n            EXAPND,\n            COLLAPSE\n        ],\n\n        options: {\n            name: \"Collapsible\",\n            collapsed: true,\n            collapseIcon: \"arrow-n\",\n            expandIcon: \"arrow-s\",\n            iconPosition: LEFT,\n            animation: true,\n            inset: false\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this._userEvents.destroy();\n        },\n\n        expand: function(instant) {\n            var icon = this.options.collapseIcon,\n                content = this.content,\n                ios = kendo.support.mobileOS.ios;\n\n            if (!this.trigger(EXAPND)) {\n                if (icon) {\n                    this.header.find(\".km-icon\").removeClass().addClass(\"km-icon km-\" + icon);\n                }\n                this.element.removeClass(COLLAPSED).addClass(EXPANDED);\n\n                if (this.options.animation && !instant) {\n                    content.off(\"transitionend\");\n                    content.show();\n                    if (ios) { content.removeClass(ANIMATED); } //required to get the height of the content on iOS\n                    content.height(this._getContentHeight());\n                    if (ios) { content.addClass(ANIMATED); }\n\n                    kendo.resize(content);\n                } else {\n                    content.show();\n                }\n            }\n        },\n\n        collapse: function(instant) {\n            var icon = this.options.expandIcon,\n                content = this.content;\n\n            if (!this.trigger(COLLAPSE)) {\n                if (icon) {\n                    this.header.find(\".km-icon\").removeClass().addClass(\"km-icon km-\" + icon);\n                }\n                this.element.removeClass(EXPANDED).addClass(COLLAPSED);\n\n                if (this.options.animation && !instant) {\n                    content.one(\"transitionend\", function() { content.hide(); });\n                    content.height(0);\n                } else {\n                    content.hide();\n                }\n            }\n        },\n\n        toggle: function(instant) {\n            if (this.isCollapsed()) {\n                this.expand(instant);\n            } else {\n                this.collapse(instant);\n            }\n        },\n\n        isCollapsed: function() {\n            return this.element.hasClass(COLLAPSED);\n        },\n\n        resize: function() {\n            if (!this.isCollapsed() && this.options.animation) {\n                this.content.height(this._getContentHeight());\n            }\n        },\n\n        _buildHeader: function() {\n            var header = this.element.children(\":header\").wrapAll(HEADER_WRAPPER),\n                iconSpan = $('<span class=\"km-icon\"/>'),\n                icon = this.options.collapsed ? this.options.expandIcon : this.options.collapseIcon,\n                iconPosition = this.options.iconPosition;\n\n            if (icon) {\n                header.prepend(iconSpan);\n                iconSpan.addClass(\"km-\" + icon);\n            }\n\n            this.header = header.parent();\n            this.header.addClass(\"km-icon-\" + iconPosition);\n        },\n\n        _getContentHeight: function() {\n            var style = this.content.attr(\"style\"),\n                height;\n\n            this.content.css({\n                position: 'absolute',\n                visibility: 'hidden',\n                height: \"auto\"\n            });\n\n            height = this.content.height();\n\n            this.content.attr(\"style\", style ? style : \"\");\n\n            return height;\n        }\n    });\n\n    ui.plugin(Collapsible);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.mobile.listview',[ \"kendo.data\", \"kendo.userevents\", \"kendo.mobile.button\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"mobile.listview\",\n    name: \"ListView\",\n    category: \"mobile\",\n    description: \"The Kendo Mobile ListView widget is used to display flat or grouped list of items.\",\n    depends: [ \"data\", \"userevents\", \"mobile.button\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Node = window.Node,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        outerHeight = kendo._outerHeight,\n        DataSource = kendo.data.DataSource,\n        Widget = ui.DataBoundWidget,\n        ITEM_SELECTOR = \".km-list > li, > li:not(.km-group-container)\",\n        HIGHLIGHT_SELECTOR = \".km-listview-link, .km-listview-label\",\n        ICON_SELECTOR = \"[\" + kendo.attr(\"icon\") + \"]\",\n        attrValue = kendo.attrValue,\n        GROUP_CLASS = \"km-group-title\",\n        ACTIVE_CLASS = \"km-state-active\",\n        GROUP_WRAPPER = '<div class=\"' + GROUP_CLASS + '\"><div class=\"km-text\"></div></div>',\n        GROUP_TEMPLATE = kendo.template('<li><div class=\"' + GROUP_CLASS + '\"><div class=\"km-text\">#= this.headerTemplate(data) #</div></div><ul>#= kendo.render(this.template, data.items)#</ul></li>'),\n        WRAPPER = '<div class=\"km-listview-wrapper\"></div>',\n        SEARCH_TEMPLATE = kendo.template('<form class=\"km-filter-form\"><div class=\"km-filter-wrap\"><input type=\"search\" placeholder=\"#=placeholder#\"/><a href=\"\\\\#\" class=\"km-filter-reset\" title=\"Clear\"><span class=\"km-icon km-clear\"></span><span class=\"km-text\">Clear</span></a></div></form>'),\n        NS = \".kendoMobileListView\",\n        STYLED = \"styled\",\n        DATABOUND = \"dataBound\",\n        DATABINDING = \"dataBinding\",\n        ITEM_CHANGE = \"itemChange\",\n        CLICK = \"click\",\n        CHANGE = \"change\",\n        PROGRESS = \"progress\",\n        FUNCTION = \"function\",\n\n        whitespaceRegExp = /^\\s+$/,\n        buttonRegExp = /button/;\n\n    function whitespace() {\n        return this.nodeType === Node.TEXT_NODE && this.nodeValue.match(whitespaceRegExp);\n    }\n\n    function addIcon(item, icon) {\n        if (icon && !item[0].querySelector(\".km-icon\")) {\n            item.prepend('<span class=\"km-icon km-' + icon + '\"/>');\n        }\n    }\n\n    function enhanceItem(item) {\n        addIcon(item, attrValue(item, \"icon\"));\n        addIcon(item, attrValue(item.children(ICON_SELECTOR), \"icon\"));\n    }\n\n    function enhanceLinkItem(item) {\n        var parent = item.parent(),\n            itemAndDetailButtons = item.add(parent.children(kendo.roleSelector(\"detailbutton\"))),\n            otherNodes = parent.contents().not(itemAndDetailButtons).not(whitespace);\n\n        if (otherNodes.length) {\n            return;\n        }\n\n        item.addClass(\"km-listview-link\")\n            .attr(kendo.attr(\"role\"), \"listview-link\");\n\n        addIcon(item, attrValue(parent, \"icon\"));\n        addIcon(item, attrValue(item, \"icon\"));\n    }\n\n    function enhanceCheckBoxItem(label) {\n        if (!label[0].querySelector(\"input[type=checkbox],input[type=radio]\")) {\n            return;\n        }\n\n        var item = label.parent();\n\n        if (item.contents().not(label).not(function() { return this.nodeType == 3; })[0]) {\n            return;\n        }\n\n        label.addClass(\"km-listview-label\");\n\n        label.children(\"[type=checkbox],[type=radio]\").addClass(\"km-widget km-icon km-check\");\n    }\n\n    function putAt(element, top) {\n        $(element).css('transform', 'translate3d(0px, ' + top + 'px, 0px)');\n    }\n\n    var HeaderFixer = kendo.Class.extend({\n        init: function(listView) {\n            var scroller = listView.scroller();\n\n            if (!scroller) {\n                return;\n            }\n\n            this.options = listView.options;\n            this.element = listView.element;\n            this.scroller = listView.scroller();\n            this._shouldFixHeaders();\n\n            var headerFixer = this;\n\n            var cacheHeaders = function() {\n                headerFixer._cacheHeaders();\n            };\n\n            listView.bind(\"resize\", cacheHeaders);\n\n            listView.bind(STYLED, cacheHeaders);\n            listView.bind(DATABOUND, cacheHeaders);\n\n            this._scrollHandler = function(e) {\n                headerFixer._fixHeader(e);\n            };\n            scroller.bind(\"scroll\", this._scrollHandler);\n        },\n\n        destroy: function() {\n            var that = this;\n            if (that.scroller) {\n                that.scroller.unbind(\"scroll\", that._scrollHandler);\n            }\n        },\n\n        _fixHeader: function(e) {\n            if (!this.fixedHeaders) {\n                return;\n            }\n\n            var i = 0,\n                scroller = this.scroller,\n                headers = this.headers,\n                scrollTop = e.scrollTop,\n                headerPair,\n                offset,\n                header;\n\n            do {\n                headerPair = headers[i++];\n                if (!headerPair) {\n                    header = $(\"<div />\");\n                    break;\n                }\n                offset = headerPair.offset;\n                header = headerPair.header;\n            } while (offset + 1 > scrollTop);\n\n            if (this.currentHeader != i) {\n                scroller.fixedContainer.html(header.clone());\n                this.currentHeader = i;\n            }\n        },\n\n        _shouldFixHeaders: function() {\n            this.fixedHeaders = this.options.type === \"group\" && this.options.fixedHeaders;\n        },\n\n        _cacheHeaders: function() {\n            this._shouldFixHeaders();\n\n            if (!this.fixedHeaders) {\n                return;\n            }\n\n            var headers = [], offset = this.scroller.scrollTop;\n\n            this.element.find(\".\" + GROUP_CLASS).each(function(_, header) {\n                header = $(header);\n                headers.unshift({\n                    offset: header.position().top + offset,\n                    header: header\n                });\n            });\n\n            this.headers = headers;\n            this._fixHeader({ scrollTop: offset });\n        }\n    });\n\n    var DEFAULT_PULL_PARAMETERS = function() {\n        return { page: 1 };\n    };\n\n    var RefreshHandler = kendo.Class.extend({\n        init: function(listView) {\n            var handler = this,\n                options = listView.options,\n                scroller = listView.scroller(),\n                pullParameters = options.pullParameters || DEFAULT_PULL_PARAMETERS;\n\n            this.listView = listView;\n            this.scroller = scroller;\n\n            listView.bind(\"_dataSource\", function(e) {\n                handler.setDataSource(e.dataSource);\n            });\n\n            scroller.setOptions({\n                pullToRefresh: true,\n                pull: function() {\n                    if (!handler._pulled) {\n                        handler._pulled = true;\n                        handler.dataSource.read(pullParameters.call(listView, handler._first));\n                    }\n                },\n                messages: {\n                    pullTemplate: options.messages.pullTemplate,\n                    releaseTemplate: options.messages.releaseTemplate,\n                    refreshTemplate: options.messages.refreshTemplate\n                }\n            });\n        },\n\n        setDataSource: function(dataSource) {\n            var handler = this;\n\n            this._first = dataSource.view()[0];\n            this.dataSource = dataSource;\n\n            dataSource.bind(\"change\", function() {\n                handler._change();\n            });\n\n            dataSource.bind(\"error\", function() {\n                handler._change();\n            });\n        },\n\n        _change: function() {\n            var scroller = this.scroller,\n                dataSource = this.dataSource;\n\n            if (this._pulled) {\n                scroller.pullHandled();\n            }\n\n            if (this._pulled || !this._first) {\n                var view = dataSource.view();\n\n                if (view[0]) {\n                    this._first = view[0];\n                }\n            }\n\n            this._pulled = false;\n        }\n    });\n\n    var VirtualList = kendo.Observable.extend({\n        init: function(options) {\n            var list = this;\n\n            kendo.Observable.fn.init.call(list);\n\n            list.buffer = options.buffer;\n            list.height = options.height;\n            list.item = options.item;\n            list.items = [];\n            list.footer = options.footer;\n\n            list.buffer.bind(\"reset\", function() {\n                list.refresh();\n            });\n\n        },\n\n        refresh: function() {\n            var buffer = this.buffer,\n                items = this.items,\n                endReached = false;\n\n            while (items.length) {\n                items.pop().destroy();\n            }\n\n            this.offset = buffer.offset;\n\n            var itemConstructor = this.item,\n                prevItem,\n                item;\n\n            for (var idx = 0; idx < buffer.viewSize; idx ++) {\n                if (idx === buffer.total()) {\n                    endReached = true;\n                    break;\n                }\n                item = itemConstructor(this.content(this.offset + items.length));\n                item.below(prevItem);\n                prevItem = item;\n                items.push(item);\n            }\n\n            this.itemCount = items.length;\n\n            this.trigger(\"reset\");\n\n            this._resize();\n\n            if (endReached) {\n                this.trigger(\"endReached\");\n            }\n        },\n\n        totalHeight: function() {\n            if (!this.items[0]) {\n                return 0;\n            }\n\n            var list = this,\n                items = list.items,\n                top = items[0].top,\n                bottom = items[items.length - 1].bottom,\n                averageItemHeight = (bottom - top) / list.itemCount,\n                remainingItemsCount = list.buffer.length - list.offset - list.itemCount;\n\n            return (this.footer ? this.footer.height : 0) + bottom + remainingItemsCount * averageItemHeight;\n        },\n\n        batchUpdate: function(top) {\n            var height = this.height(),\n                items = this.items,\n                item,\n                initialOffset = this.offset;\n\n            if (!items[0]) {\n                return;\n            }\n\n            if (this.lastDirection) { // scrolling up\n                while (items[items.length - 1].bottom > top + height * 2) {\n                    if (this.offset === 0) {\n                        break;\n                    }\n\n                    this.offset --;\n                    item = items.pop();\n                    item.update(this.content(this.offset));\n                    item.above(items[0]);\n                    items.unshift(item);\n                }\n            } else { // scrolling down\n                while (items[0].top < top - height) {\n                    var nextIndex = this.offset + this.itemCount; // here, it should be offset + 1 + itemCount - 1.\n\n                    if (nextIndex === this.buffer.total()) {\n                        this.trigger(\"endReached\");\n                        break;\n                    }\n\n                    if (nextIndex === this.buffer.length) {\n                        break;\n                    }\n\n                    item = items.shift();\n                    item.update(this.content(this.offset + this.itemCount));\n                    item.below(items[items.length - 1]);\n                    items.push(item);\n                    this.offset ++;\n                }\n            }\n\n            if (initialOffset !== this.offset) {\n                this._resize();\n            }\n        },\n\n        update: function(top) {\n            var list = this,\n                items = this.items,\n                item,\n                firstItem,\n                lastItem,\n                height = this.height(),\n                itemCount = this.itemCount,\n                padding = height / 2,\n                up = (this.lastTop || 0) > top,\n                topBorder = top - padding,\n                bottomBorder = top + height + padding;\n\n            if (!items[0]) {\n                return;\n            }\n\n            this.lastTop = top;\n            this.lastDirection = up;\n\n            if (up) { // scrolling up\n               if (items[0].top > topBorder && // needs reorder\n                   items[items.length - 1].bottom > bottomBorder + padding && // enough padding below\n                   this.offset > 0 // we are not at the top\n                  )\n               {\n                    this.offset --;\n                    item = items.pop();\n                    firstItem = items[0];\n                    item.update(this.content(this.offset));\n                    items.unshift(item);\n\n                    item.above(firstItem);\n                    list._resize();\n               }\n            } else { // scrolling down\n                if (\n                    items[items.length - 1].bottom < bottomBorder && // needs reorder\n                    items[0].top < topBorder - padding // enough padding above\n                )\n                {\n                    var nextIndex = this.offset + itemCount; // here, it should be offset + 1 + itemCount - 1.\n\n                    if (nextIndex === this.buffer.total()) {\n                        this.trigger(\"endReached\");\n                    } else if (nextIndex !== this.buffer.length) {\n                        item = items.shift();\n                        lastItem = items[items.length - 1];\n                        items.push(item);\n                        item.update(this.content(this.offset + this.itemCount));\n                        list.offset ++;\n\n                        item.below(lastItem);\n                        list._resize();\n                    }\n                }\n            }\n        },\n\n        content: function(index) {\n            return this.buffer.at(index);\n        },\n\n        destroy: function() {\n            this.unbind();\n        },\n\n        _resize: function() {\n            var items = this.items,\n                top = 0,\n                bottom = 0,\n                firstItem = items[0],\n                lastItem = items[items.length - 1];\n\n            if (firstItem) {\n                top = firstItem.top;\n                bottom = lastItem.bottom;\n            }\n\n            this.trigger(\"resize\", { top: top, bottom: bottom });\n\n            if (this.footer) {\n                this.footer.below(lastItem);\n            }\n        }\n    });\n\n    // export for testing purposes\n    kendo.mobile.ui.VirtualList = VirtualList;\n\n    var VirtualListViewItem = kendo.Class.extend({\n        init: function(listView, dataItem) {\n            var element = listView.append([dataItem], true)[0],\n                height = element.offsetHeight;\n\n            $.extend(this, {\n                top: 0,\n                element: element,\n                listView: listView,\n                height: height,\n                bottom: height\n            });\n        },\n\n        update: function(dataItem) {\n            this.element = this.listView.setDataItem(this.element, dataItem);\n        },\n\n        above: function(item) {\n            if (item) {\n                this.height = this.element.offsetHeight;\n                this.top = item.top - this.height;\n                this.bottom = item.top;\n                putAt(this.element, this.top);\n            }\n        },\n\n        below: function(item) {\n            if (item) {\n                this.height = this.element.offsetHeight;\n                this.top = item.bottom;\n                this.bottom = this.top + this.height;\n                putAt(this.element, this.top);\n            }\n        },\n\n        destroy: function() {\n            kendo.destroy(this.element);\n            $(this.element).remove();\n        }\n    });\n\n    var LOAD_ICON = '<div><span class=\"km-icon\"></span><span class=\"km-loading-left\"></span><span class=\"km-loading-right\"></span></div>';\n    var VirtualListViewLoadingIndicator = kendo.Class.extend({\n        init: function(listView) {\n            this.element = $('<li class=\"km-load-more km-scroller-refresh\" style=\"display: none\"></li>').appendTo(listView.element);\n            this._loadIcon = $(LOAD_ICON).appendTo(this.element);\n        },\n\n        enable: function() {\n            this.element.show();\n            this.height = outerHeight(this.element, true);\n        },\n\n        disable: function() {\n            this.element.hide();\n            this.height = 0;\n        },\n\n        below: function(item) {\n            if (item) {\n                this.top = item.bottom;\n                this.bottom = this.height + this.top;\n                putAt(this.element, this.top);\n            }\n        }\n    });\n\n    var VirtualListViewPressToLoadMore = VirtualListViewLoadingIndicator.extend({\n        init: function(listView, buffer) {\n\n            this._loadIcon = $(LOAD_ICON).hide();\n            this._loadButton = $('<a class=\"km-load\">' + listView.options.messages.loadMoreText + '</a>').hide();\n            this.element = $('<li class=\"km-load-more\" style=\"display: none\"></li>').append(this._loadIcon).append(this._loadButton).appendTo(listView.element);\n\n            var loadMore = this;\n\n            this._loadButton.kendoMobileButton().data(\"kendoMobileButton\").bind(\"click\", function() {\n                loadMore._hideShowButton();\n                buffer.next();\n            });\n\n            buffer.bind(\"resize\", function() {\n                loadMore._showLoadButton();\n            });\n\n            this.height = outerHeight(this.element, true);\n            this.disable();\n        },\n\n        _hideShowButton: function() {\n            this._loadButton.hide();\n            this.element.addClass(\"km-scroller-refresh\");\n            this._loadIcon.css('display', 'block');\n        },\n\n        _showLoadButton: function() {\n            this._loadButton.show();\n            this.element.removeClass(\"km-scroller-refresh\");\n            this._loadIcon.hide();\n        }\n    });\n\n    var VirtualListViewItemBinder = kendo.Class.extend({\n        init: function(listView) {\n            var binder = this;\n\n            this.chromeHeight = outerHeight(listView.wrapper.children().not(listView.element));\n            this.listView = listView;\n            this.scroller = listView.scroller();\n            this.options = listView.options;\n\n            listView.bind(\"_dataSource\", function(e) {\n                binder.setDataSource(e.dataSource, e.empty);\n            });\n\n            listView.bind(\"resize\", function() {\n                if (!binder.list.items.length) {\n                    return;\n                }\n\n                binder.scroller.reset();\n                binder.buffer.range(0);\n                binder.list.refresh();\n            });\n\n            this.scroller.makeVirtual();\n\n            this._scroll = function(e) {\n                binder.list.update(e.scrollTop);\n            };\n            this.scroller.bind('scroll', this._scroll);\n            this._scrollEnd = function(e) {\n                binder.list.batchUpdate(e.scrollTop);\n            };\n            this.scroller.bind('scrollEnd', this._scrollEnd);\n        },\n\n        destroy: function() {\n            this.list.unbind();\n            this.buffer.unbind();\n            this.scroller.unbind('scroll', this._scroll);\n            this.scroller.unbind('scrollEnd', this._scrollEnd);\n        },\n\n        setDataSource: function(dataSource, empty) {\n            var binder = this,\n                options = this.options,\n                listView = this.listView,\n                scroller = listView.scroller(),\n                pressToLoadMore = options.loadMore,\n                pageSize,\n                buffer,\n                footer;\n\n            this.dataSource = dataSource;\n\n            pageSize = dataSource.pageSize() || options.virtualViewSize;\n\n            if (!pageSize && !empty) {\n                throw new Error(\"the DataSource does not have page size configured. Page Size setting is mandatory for the mobile listview virtual scrolling to work as expected.\");\n            }\n\n            if (this.buffer) {\n                this.buffer.destroy();\n            }\n\n            buffer = new kendo.data.Buffer(dataSource, Math.floor(pageSize / 2), pressToLoadMore);\n\n            if (pressToLoadMore) {\n                footer = new VirtualListViewPressToLoadMore(listView, buffer);\n            } else {\n                footer = new VirtualListViewLoadingIndicator(listView);\n            }\n\n            if (this.list) {\n                this.list.destroy();\n            }\n\n            var list = new VirtualList({\n                buffer: buffer,\n                footer: footer,\n                item: function(dataItem) { return new VirtualListViewItem(listView, dataItem); },\n                height: function() { return scroller.height(); }\n            });\n\n            list.bind(\"resize\", function() {\n                binder.updateScrollerSize();\n                listView.updateSize();\n            });\n\n            list.bind(\"reset\", function() {\n                binder.footer.enable();\n            });\n\n            list.bind(\"endReached\", function() {\n                footer.disable();\n                binder.updateScrollerSize();\n            });\n\n            buffer.bind(\"expand\", function() {\n                list.lastDirection = false; // expand down\n                list.batchUpdate(scroller.scrollTop);\n            });\n\n            $.extend(this, {\n                buffer: buffer,\n                scroller: scroller,\n                list: list,\n                footer: footer\n            });\n        },\n\n        updateScrollerSize: function() {\n            this.scroller.virtualSize(0, this.list.totalHeight() + this.chromeHeight);\n        },\n\n        refresh: function() {\n            this.list.refresh();\n        },\n\n        reset: function() {\n            this.buffer.range(0);\n            this.list.refresh();\n        }\n    });\n\n    var ListViewItemBinder = kendo.Class.extend({\n        init: function(listView) {\n            var binder = this;\n            this.listView = listView;\n            this.options = listView.options;\n\n            var itemBinder = this;\n\n            this._refreshHandler = function(e) {\n                itemBinder.refresh(e);\n            };\n\n            this._progressHandler = function() {\n                listView.showLoading();\n            };\n\n            listView.bind(\"_dataSource\", function(e) {\n                binder.setDataSource(e.dataSource);\n            });\n        },\n\n        destroy: function() {\n            this._unbindDataSource();\n        },\n\n        reset: function() { },\n\n        refresh: function(e) {\n            var action = e && e.action,\n                dataItems = e && e.items,\n                listView = this.listView,\n                dataSource = this.dataSource,\n                prependOnRefresh = this.options.appendOnRefresh,\n                view = dataSource.view(),\n                groups = dataSource.group(),\n                groupedMode = groups && groups[0],\n                item;\n\n\n            if (action === \"itemchange\") {\n                if (!listView._hasBindingTarget()) {\n                    item = listView.findByDataItem(dataItems)[0];\n                    if (item) {\n                        listView.setDataItem(item, dataItems[0]);\n                    }\n                }\n                return;\n            }\n\n            var removedItems, addedItems, addedDataItems;\n            var adding = (action === \"add\" && !groupedMode) || (prependOnRefresh && !listView._filter);\n            var removing = action === \"remove\" && !groupedMode;\n\n            if (adding) {\n                // no need to unbind anything\n                removedItems = [];\n            } else if (removing) {\n                // unbind the items about to be removed;\n                removedItems = listView.findByDataItem(dataItems);\n            }\n\n            if (listView.trigger(DATABINDING, { action: action || \"rebind\", items: dataItems, removedItems: removedItems, index: e && e.index })) {\n                if (this._shouldShowLoading()) {\n                    listView.hideLoading();\n                }\n                return;\n            }\n\n            if (action === \"add\" && !groupedMode) {\n                var index = view.indexOf(dataItems[0]);\n                if (index > -1) {\n                    addedItems = listView.insertAt(dataItems, index);\n                    addedDataItems = dataItems;\n                }\n            } else if (action === \"remove\" && !groupedMode) {\n                addedItems = [];\n                listView.remove(dataItems);\n            } else if (groupedMode) {\n                listView.replaceGrouped(view);\n            }\n            else if (prependOnRefresh && !listView._filter) {\n                addedItems = listView.prepend(view);\n                addedDataItems = view;\n            }\n            else {\n                listView.replace(view);\n            }\n\n            if (this._shouldShowLoading()) {\n                listView.hideLoading();\n            }\n\n            listView.trigger(DATABOUND, { ns: ui, addedItems: addedItems, addedDataItems: addedDataItems });\n        },\n\n        setDataSource: function(dataSource) {\n            if (this.dataSource) {\n                this._unbindDataSource();\n            }\n\n            this.dataSource = dataSource;\n            dataSource.bind(CHANGE, this._refreshHandler);\n\n            if (this._shouldShowLoading()) {\n                this.dataSource.bind(PROGRESS, this._progressHandler);\n            }\n        },\n\n        _unbindDataSource: function() {\n            this.dataSource.unbind(CHANGE, this._refreshHandler).unbind(PROGRESS, this._progressHandler);\n        },\n\n        _shouldShowLoading: function() {\n            var options = this.options;\n            return !options.pullToRefresh && !options.loadMore && !options.endlessScroll;\n        }\n    });\n\n    var ListViewFilter = kendo.Class.extend({\n        init: function(listView) {\n            var filter = this,\n                filterable = listView.options.filterable,\n                events = \"change paste\",\n                that = this;\n\n            this.listView = listView;\n            this.options = filterable;\n\n            listView.element.before(SEARCH_TEMPLATE({ placeholder: filterable.placeholder || \"Search...\" }));\n\n            if (filterable.autoFilter !== false) {\n                events += \" keyup\";\n            }\n\n            this.element = listView.wrapper.find(\".km-search-form\");\n\n            this.searchInput = listView.wrapper.find(\"input[type=search]\")\n                .closest(\"form\").on(\"submit\" + NS, function(e) {\n                    e.preventDefault();\n                })\n                .end()\n                .on(\"focus\" + NS, function() {\n                    filter._oldFilter = filter.searchInput.val();\n                })\n                .on(events.split(\" \").join(NS + \" \") + NS, this._filterChange.bind(this));\n\n            this.clearButton = listView.wrapper.find(\".km-filter-reset\")\n                .on(CLICK, this._clearFilter.bind(this))\n                .hide();\n\n             this._dataSourceChange = this._refreshInput.bind(this);\n             listView.bind(\"_dataSource\", function(e) {\n                 e.dataSource.bind(\"change\", that._dataSourceChange);\n             });\n        },\n\n        _refreshInput: function() {\n            var appliedFilters = this.listView.dataSource.filter();\n            var searchInput = this.listView._filter.searchInput;\n\n            if (!appliedFilters || appliedFilters.filters[0].field !== this.listView.options.filterable.field) {\n                searchInput.val(\"\");\n            } else {\n                searchInput.val(appliedFilters.filters[0].value);\n            }\n        },\n\n        _search: function(expr) {\n            this._filter = true;\n            this.clearButton[expr ? \"show\" : \"hide\"]();\n            this.listView.dataSource.filter(expr);\n        },\n\n        _filterChange: function(e) {\n            var filter = this;\n            if (e.type == \"paste\" && this.options.autoFilter !== false) {\n                setTimeout(function() {\n                    filter._applyFilter();\n                }, 1);\n            } else {\n                this._applyFilter();\n            }\n        },\n\n        _applyFilter: function() {\n            var options = this.options,\n                value = this.searchInput.val(),\n                expr = value.length ? {\n                    field: options.field,\n                    operator: options.operator || \"startswith\",\n                    ignoreCase: options.ignoreCase,\n                    value: value\n                } : null;\n\n            if (value === this._oldFilter) {\n                return;\n            }\n\n            this._oldFilter = value;\n            this._search(expr);\n        },\n\n        _clearFilter: function(e) {\n            this.searchInput.val(\"\");\n            this._search(null);\n\n            e.preventDefault();\n        }\n    });\n\n    var ListView = Widget.extend({\n        init: function(element, options) {\n            var listView = this;\n\n            Widget.fn.init.call(this, element, options);\n\n            element = this.element;\n\n            options = this.options;\n\n            // support for legacy typo in configuration options: scrollTreshold -> scrollThreshold.\n            if (options.scrollTreshold) {\n                options.scrollThreshold = options.scrollTreshold;\n            }\n\n            element\n                .on(\"down\", HIGHLIGHT_SELECTOR, \"_highlight\")\n                .on(\"move up cancel\", HIGHLIGHT_SELECTOR, \"_dim\");\n\n            this._userEvents = new kendo.UserEvents(element, {\n                fastTap: true,\n                filter: ITEM_SELECTOR,\n                allowSelection: true,\n                tap: function(e) {\n                    listView._click(e);\n                }\n            });\n\n            // HACK!!! to negate the ms touch action from the user events.\n            element.css(\"-ms-touch-action\", \"auto\");\n\n            element.wrap(WRAPPER);\n\n            this.wrapper = this.element.parent();\n\n            this._headerFixer = new HeaderFixer(this);\n\n            this._itemsCache = {};\n            this._templates();\n\n            this.virtual = options.endlessScroll || options.loadMore;\n\n            this._style();\n\n            if (this.options.$angular && (this.virtual || this.options.pullToRefresh)) {\n                setTimeout(this._start.bind(this));\n            } else {\n                this._start();\n            }\n\n        },\n\n        _start: function() {\n            var options = this.options;\n\n            if (this.options.filterable) {\n                this._filter = new ListViewFilter(this);\n            }\n\n            if (this.virtual) {\n                this._itemBinder = new VirtualListViewItemBinder(this);\n            } else {\n                this._itemBinder = new ListViewItemBinder(this);\n            }\n\n            if (this.options.pullToRefresh) {\n                this._pullToRefreshHandler = new RefreshHandler(this);\n            }\n\n            this.setDataSource(options.dataSource);\n\n            this._enhanceItems(this.items());\n\n            kendo.notify(this, ui);\n        },\n\n        events: [\n            CLICK,\n            DATABINDING,\n            DATABOUND,\n            ITEM_CHANGE\n        ],\n\n        options: {\n            name: \"ListView\",\n            style: \"\",\n            type: \"flat\",\n            autoBind: true,\n            fixedHeaders: false,\n            template: \"#:data#\",\n            headerTemplate: '<span class=\"km-text\">#:value#</span>',\n            appendOnRefresh: false,\n            loadMore: false,\n            endlessScroll: false,\n            scrollThreshold: 30,\n            pullToRefresh: false,\n            messages: {\n                loadMoreText: \"Press to load more\",\n                pullTemplate: \"Pull to refresh\",\n                releaseTemplate: \"Release to refresh\",\n                refreshTemplate: \"Refreshing\"\n            },\n            pullOffset: 140,\n            filterable: false,\n            virtualViewSize: null\n        },\n\n        refresh: function() {\n            this._itemBinder.refresh();\n        },\n\n        reset: function() {\n            this._itemBinder.reset();\n        },\n\n        setDataSource: function(dataSource) {\n            // the listView should have a ready datasource for MVVM to function properly. But an empty datasource should not empty the element\n            var emptyDataSource = !dataSource;\n            this.dataSource = DataSource.create(dataSource);\n\n            this.trigger(\"_dataSource\", { dataSource: this.dataSource, empty: emptyDataSource });\n\n            if (this.options.autoBind && !emptyDataSource) {\n                this.items().remove();\n                this.dataSource.fetch();\n            }\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            kendo.destroy(this.element);\n            this._userEvents.destroy();\n            if (this._itemBinder) {\n                this._itemBinder.destroy();\n            }\n\n            if (this._headerFixer) {\n                this._headerFixer.destroy();\n            }\n\n            this.element.unwrap();\n            delete this.element;\n            delete this.wrapper;\n            delete this._userEvents;\n        },\n\n        items: function() {\n            if (this.options.type === \"group\") {\n                return this.element.find(\".km-list\").children();\n            } else {\n                return this.element.children().not('.km-load-more');\n            }\n        },\n\n        scroller: function() {\n            if (!this._scrollerInstance) {\n                this._scrollerInstance = this.element.closest(\".km-scroll-wrapper\").data(\"kendoMobileScroller\");\n            }\n\n            return this._scrollerInstance;\n        },\n\n        showLoading: function() {\n            var view = this.view();\n            if (view && view.loader) {\n                view.loader.show();\n            }\n        },\n\n        hideLoading: function() {\n            var view = this.view();\n            if (view && view.loader) {\n                view.loader.hide();\n            }\n        },\n\n        insertAt: function(dataItems, index, triggerChange) {\n            var listView = this;\n            return listView._renderItems(dataItems, function(items) {\n                if (index === 0) {\n                    listView.element.prepend(items);\n                }\n                else if (index === -1) {\n                    listView.element.append(items);\n                } else {\n                    listView.items().eq(index - 1).after(items);\n                }\n\n                if (triggerChange) {\n                    for (var i = 0; i < items.length; i ++) {\n                        listView.trigger(ITEM_CHANGE, { item: items.eq(i), data: dataItems[i], ns: ui });\n                    }\n                }\n            });\n        },\n\n        append: function(dataItems, triggerChange) {\n            return this.insertAt(dataItems, -1, triggerChange);\n        },\n\n        prepend: function(dataItems, triggerChange) {\n            return this.insertAt(dataItems, 0, triggerChange);\n        },\n\n        replace: function(dataItems) {\n            this.options.type = \"flat\";\n            this._angularItems(\"cleanup\");\n            kendo.destroy(this.element.children());\n            this.element.empty();\n            this._userEvents.cancel();\n            this._style();\n            return this.insertAt(dataItems, 0);\n        },\n\n        replaceGrouped: function(groups) {\n            this.options.type = \"group\";\n            this._angularItems(\"cleanup\");\n            this.element.empty();\n            var items = $(kendo.render(this.groupTemplate, groups));\n\n            this._enhanceItems(items.children(\"ul\").children(\"li\"));\n            this.element.append(items);\n            mobile.init(items);\n            this._style();\n            this._angularItems(\"compile\");\n        },\n\n        remove: function(dataItems) {\n            var items = this.findByDataItem(dataItems);\n            this.angular(\"cleanup\", function() {\n                return { elements: items };\n            });\n            kendo.destroy(items);\n            items.remove();\n        },\n\n        findByDataItem: function(dataItems) {\n            var selectors = [];\n\n            for (var idx = 0, length = dataItems.length; idx < length; idx ++) {\n                selectors[idx] = \"[data-\" + kendo.ns + \"uid=\" + dataItems[idx].uid + \"]\";\n            }\n\n            return this.element.find(selectors.join(\",\"));\n        },\n\n        // item is a DOM element, not jQuery object.\n        setDataItem: function(item, dataItem) {\n            var listView = this,\n                replaceItem = function(items) {\n                    var newItem = $(items[0]);\n                    kendo.destroy(item);\n                    listView.angular(\"cleanup\", function() { return { elements: [ $(item) ] }; });\n                    $(item).replaceWith(newItem);\n                    listView.trigger(ITEM_CHANGE, { item: newItem, data: dataItem, ns: ui });\n                };\n\n            return this._renderItems([dataItem], replaceItem)[0];\n        },\n\n        updateSize: function() {\n            this._size = this.getSize();\n        },\n\n        _renderItems: function(dataItems, callback) {\n            var items = $(kendo.render(this.template, dataItems));\n\n            callback(items);\n\n            this.angular(\"compile\", function() {\n                return {\n                    elements: items,\n                    data: dataItems.map(function(data) {\n                        return { dataItem: data };\n                    })\n                };\n            });\n\n            mobile.init(items);\n            this._enhanceItems(items);\n\n            return items;\n        },\n\n        _dim: function(e) {\n            this._toggle(e, false);\n        },\n\n        _highlight: function(e) {\n            this._toggle(e, true);\n        },\n\n        _toggle: function(e, highlight) {\n            if (e.which > 1) {\n                return;\n            }\n\n            var clicked = $(e.currentTarget),\n                item = clicked.parent(),\n                role = attrValue(clicked, \"role\") || \"\",\n                plainItem = (!role.match(buttonRegExp)),\n                prevented = e.isDefaultPrevented();\n\n            if (plainItem) {\n                item.toggleClass(ACTIVE_CLASS, highlight && !prevented);\n            }\n        },\n\n        _templates: function() {\n            var template = this.options.template,\n                headerTemplate = this.options.headerTemplate,\n                dataIDAttribute = ' data-uid=\"#=arguments[0].uid || \"\"#\"',\n                templateProxy = {},\n                groupTemplateProxy = {};\n\n            if (typeof template === FUNCTION) {\n                templateProxy.template = template;\n                template = \"#=this.template(data)#\";\n            }\n\n            this.template = kendo.template(\"<li\" + dataIDAttribute + \">\" + template + \"</li>\").bind(templateProxy);\n\n            groupTemplateProxy.template = this.template;\n\n            if (typeof headerTemplate === FUNCTION) {\n                groupTemplateProxy._headerTemplate = headerTemplate;\n                headerTemplate = \"#=this._headerTemplate(data)#\";\n            }\n\n            groupTemplateProxy.headerTemplate = kendo.template(headerTemplate);\n\n            this.groupTemplate = GROUP_TEMPLATE.bind(groupTemplateProxy);\n        },\n\n        _click: function(e) {\n            if (e.event.which > 1 || e.event.isDefaultPrevented()) {\n                return;\n            }\n\n            var dataItem,\n                item = e.target,\n                target = $(e.event.target),\n                buttonElement = target.closest(kendo.roleSelector(\"button\", \"detailbutton\", \"backbutton\")),\n                button = kendo.widgetInstance(buttonElement, ui),\n                id = item.attr(kendo.attr(\"uid\"));\n\n            if (id) {\n                dataItem = this.dataSource.getByUid(id);\n            }\n\n            if (this.trigger(CLICK, { target: target, item: item, dataItem: dataItem, button: button })) {\n                e.preventDefault();\n            }\n        },\n\n        _styleGroups: function() {\n            var rootItems = this.element.children();\n\n            rootItems.children(\"ul\").addClass(\"km-list\");\n\n            rootItems.each(function() {\n                var li = $(this),\n                    groupHeader = li.contents().first();\n\n                li.addClass(\"km-group-container\");\n                if (!groupHeader.is(\"ul\") && !groupHeader.is(\"div.\" + GROUP_CLASS)) {\n                    groupHeader.wrap(GROUP_WRAPPER);\n                }\n            });\n        },\n\n        _style: function() {\n            var options = this.options,\n                grouped = options.type === \"group\",\n                element = this.element,\n                inset = options.style === \"inset\";\n\n            element.addClass(\"km-listview\")\n                .toggleClass(\"km-list\", !grouped)\n                .toggleClass(\"km-virtual-list\", this.virtual)\n                .toggleClass(\"km-listinset\", !grouped && inset)\n                .toggleClass(\"km-listgroup\", grouped && !inset)\n                .toggleClass(\"km-listgroupinset\", grouped && inset);\n\n            if (!element.parents(\".km-listview\")[0]) {\n                element.closest(\".km-content\").toggleClass(\"km-insetcontent\", inset); // iOS has white background when the list is not inset.\n            }\n\n            if (grouped) {\n                this._styleGroups();\n            }\n\n            this.trigger(STYLED);\n        },\n\n        _enhanceItems: function(items) {\n            items.each(function() {\n                var item = $(this),\n                    child,\n                    enhanced = false;\n\n                item.children().each(function() {\n                    child = $(this);\n                    if (child.is(\"a\")) {\n                        enhanceLinkItem(child);\n                        enhanced = true;\n                    } else if (child.is(\"label\")) {\n                        enhanceCheckBoxItem(child);\n                        enhanced = true;\n                    }\n                });\n\n                if (!enhanced) {\n                    enhanceItem(item);\n                }\n            });\n        }\n    });\n\n    ui.plugin(ListView);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.mobile.navbar',[ \"kendo.core\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"mobile.navbar\",\n    name: \"NavBar\",\n    category: \"mobile\",\n    description: \"The Kendo mobile NavBar widget is used inside a mobile View or Layout Header element to display an application navigation bar.\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        Widget = ui.Widget;\n\n    function createContainer(align, element) {\n        var items = element.find(\"[\" + kendo.attr(\"align\") + \"=\" + align + \"]\");\n\n        if (items[0]) {\n            return $('<div class=\"km-' + align + 'item\" />').append(items).prependTo(element);\n        }\n    }\n\n    function toggleTitle(centerElement) {\n        var siblings = centerElement.siblings(),\n            noTitle = !!centerElement.children(\"ul\")[0],\n            showTitle = (!!siblings[0] && kendo.trim(centerElement.text()) === \"\"),\n            android = !!(kendo.mobile.application && kendo.mobile.application.element.is(\".km-android\"));\n\n        centerElement.prevAll().toggleClass(\"km-absolute\", noTitle);\n        centerElement.toggleClass(\"km-show-title\", showTitle);\n        centerElement.toggleClass(\"km-fill-title\", showTitle && !kendo.trim(centerElement.html()));\n        centerElement.toggleClass(\"km-no-title\", noTitle);\n        centerElement.toggleClass(\"km-hide-title\", android && !siblings.children().is(\":visible\"));\n    }\n\n    var NavBar = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.element;\n\n            that.container().bind(\"show\", this.refresh.bind(this));\n\n            element.addClass(\"km-navbar\").wrapInner($('<div class=\"km-view-title km-show-title\" />'));\n            that.leftElement = createContainer(\"left\", element);\n            that.rightElement = createContainer(\"right\", element);\n            that.centerElement = element.find(\".km-view-title\");\n        },\n\n        options: {\n            name: \"NavBar\"\n        },\n\n        title: function(value) {\n            this.element.find(kendo.roleSelector(\"view-title\")).text(value);\n            toggleTitle(this.centerElement);\n        },\n\n        refresh: function(e) {\n            var view = e.view;\n            this.title(view.options.title);\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            kendo.destroy(this.element);\n        }\n    });\n\n    ui.plugin(NavBar);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.mobile.scrollview',[ \"kendo.fx\", \"kendo.data\", \"kendo.draganddrop\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"mobile.scrollview\",\n    name: \"ScrollView\",\n    category: \"mobile\",\n    description: \"The Kendo Mobile ScrollView widget is used to scroll content wider than the device screen.\",\n    depends: [ \"fx\", \"data\", \"draganddrop\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        Transition = kendo.effects.Transition,\n        Pane = kendo.ui.Pane,\n        PaneDimensions = kendo.ui.PaneDimensions,\n        Widget = ui.DataBoundWidget,\n        DataSource = kendo.data.DataSource,\n        Buffer = kendo.data.Buffer,\n        BatchBuffer = kendo.data.BatchBuffer,\n\n        // Math\n        math = Math,\n        abs = math.abs,\n        ceil = math.ceil,\n        round = math.round,\n        max = math.max,\n        min = math.min,\n        floor = math.floor,\n\n        CHANGE = \"change\",\n        CHANGING = \"changing\",\n        REFRESH = \"refresh\",\n        CURRENT_PAGE_CLASS = \"current-page\",\n        VIRTUAL_PAGE_CLASS = \"virtual-page\",\n        FUNCTION = \"function\",\n        ITEM_CHANGE = \"itemChange\",\n        CLEANUP = \"cleanup\",\n\n        VIRTUAL_PAGE_COUNT = 3,\n        LEFT_PAGE = -1,\n        CETER_PAGE = 0,\n        RIGHT_PAGE = 1,\n\n        LEFT_SWIPE = -1,\n        NUDGE = 0,\n        RIGHT_SWIPE = 1;\n\n    function className(name) {\n        return \"k-\" + name + \" km-\" + name;\n    }\n\n    var Pager = kendo.Class.extend({\n        init: function(scrollView) {\n            var that = this,\n                element = $(\"<ol class='\" + className(\"pages\") + \"'/>\");\n\n            scrollView.element.append(element);\n\n            this._changeProxy = that._change.bind(that);\n            this._refreshProxy = that._refresh.bind(that);\n            scrollView.bind(CHANGE, this._changeProxy);\n            scrollView.bind(REFRESH, this._refreshProxy);\n\n            $.extend(that, { element: element, scrollView: scrollView });\n        },\n\n        items: function() {\n            return this.element.children();\n        },\n\n        _refresh: function(e) {\n            var pageHTML = \"\";\n\n            for (var idx = 0; idx < e.pageCount; idx ++) {\n                pageHTML += \"<li></li>\";\n            }\n\n            this.element.html(pageHTML);\n            this.items().eq(e.page).addClass(className(CURRENT_PAGE_CLASS));\n        },\n\n        _change: function(e) {\n            this.items()\n                .removeClass(className(CURRENT_PAGE_CLASS))\n                .eq(e.page).addClass(className(CURRENT_PAGE_CLASS));\n        },\n\n        destroy: function() {\n            this.scrollView.unbind(CHANGE, this._changeProxy);\n            this.scrollView.unbind(REFRESH, this._refreshProxy);\n            this.element.remove();\n        }\n    });\n\n    kendo.mobile.ui.ScrollViewPager = Pager;\n\n    var TRANSITION_END = \"transitionEnd\",\n        DRAG_START = \"dragStart\",\n        DRAG_END = \"dragEnd\";\n\n    var ElasticPane = kendo.Observable.extend({\n        init: function(element, options) {\n            var that = this;\n\n            kendo.Observable.fn.init.call(this);\n\n            this.element = element;\n            this.container = element.parent();\n\n            var movable,\n                transition,\n                userEvents,\n                dimensions,\n                dimension,\n                pane;\n\n            movable = new kendo.ui.Movable(that.element);\n\n            transition = new Transition({\n                axis: \"x\",\n                movable: movable,\n                onEnd: function() {\n                    that.trigger(TRANSITION_END);\n                }\n            });\n\n            userEvents = new kendo.UserEvents(element, {\n                fastTap: true,\n                start: function(e) {\n                    if (abs(e.x.velocity) * 2 >= abs(e.y.velocity)) {\n                        userEvents.capture();\n                    } else {\n                        userEvents.cancel();\n                    }\n\n                    that.trigger(DRAG_START, e);\n                    transition.cancel();\n                },\n                allowSelection: true,\n                end: function(e) {\n                    that.trigger(DRAG_END, e);\n                }\n            });\n\n            dimensions = new PaneDimensions({\n                element: that.element,\n                container: that.container\n            });\n\n            dimension = dimensions.x;\n\n            dimension.bind(CHANGE, function() {\n                that.trigger(CHANGE);\n            });\n\n            pane = new Pane({\n                dimensions: dimensions,\n                userEvents: userEvents,\n                movable: movable,\n                elastic: true\n            });\n\n            $.extend(that, {\n                duration: options && options.duration || 1,\n                movable: movable,\n                transition: transition,\n                userEvents: userEvents,\n                dimensions: dimensions,\n                dimension: dimension,\n                pane: pane\n            });\n\n            this.bind([TRANSITION_END, DRAG_START, DRAG_END, CHANGE], options);\n        },\n\n        size: function() {\n            return { width: this.dimensions.x.getSize(), height: this.dimensions.y.getSize() };\n        },\n\n        total: function() {\n            return this.dimension.getTotal();\n        },\n\n        offset: function() {\n            return -this.movable.x;\n        },\n\n        updateDimension: function() {\n            this.dimension.update(true);\n        },\n\n        refresh: function() {\n            this.dimensions.refresh();\n        },\n\n        moveTo: function(offset) {\n            this.movable.moveAxis(\"x\", -offset);\n        },\n\n        transitionTo: function(offset, ease, instant) {\n            if (instant) {\n                this.moveTo(-offset);\n            } else {\n                this.transition.moveTo({ location: offset, duration: this.duration, ease: ease });\n            }\n        }\n    });\n\n    kendo.mobile.ui.ScrollViewElasticPane = ElasticPane;\n\n    var ScrollViewContent = kendo.Observable.extend({\n        init: function(element, pane, options) {\n            var that = this;\n\n            kendo.Observable.fn.init.call(this);\n            that.element = element;\n            that.pane = pane;\n            that._getPages();\n            this.page = 0;\n            this.pageSize = options.pageSize || 1;\n            this.contentHeight = options.contentHeight;\n            this.enablePager = options.enablePager;\n            this.pagerOverlay = options.pagerOverlay;\n        },\n\n        scrollTo: function(page, instant) {\n            this.page = page;\n            this.pane.transitionTo(- page * this.pane.size().width, Transition.easeOutExpo, instant);\n        },\n\n        paneMoved: function(swipeType, bounce, callback, /*internal*/ instant) {\n            var that = this,\n                pane = that.pane,\n                width = pane.size().width * that.pageSize,\n                approx = round,\n                ease = bounce ? Transition.easeOutBack : Transition.easeOutExpo,\n                snap,\n                nextPage;\n\n            if (swipeType === LEFT_SWIPE) {\n                approx = ceil;\n            } else if (swipeType === RIGHT_SWIPE) {\n                approx = floor;\n            }\n\n            nextPage = approx(pane.offset() / width);\n\n            snap = max(that.minSnap, min(-nextPage * width, that.maxSnap));\n\n            if (nextPage != that.page) {\n                if (callback && callback({ currentPage: that.page, nextPage: nextPage })) {\n                    snap = -that.page * pane.size().width;\n                }\n            }\n\n            pane.transitionTo(snap, ease, instant);\n        },\n\n        updatePage: function() {\n            var pane = this.pane,\n                page = round(pane.offset() / pane.size().width);\n\n            if (page != this.page) {\n                this.page = page;\n                return true;\n            }\n\n            return false;\n        },\n\n        forcePageUpdate: function() {\n            return this.updatePage();\n        },\n\n        resizeTo: function(size) {\n            var pane = this.pane,\n                width = size.width;\n\n            this.pageElements.width(width);\n\n            if (this.contentHeight === \"100%\") {\n                var containerHeight = this.element.parent().height();\n\n                if (this.enablePager === true) {\n                    var pager = this.element.parent().find(\"ol.km-pages\");\n                    if (!this.pagerOverlay && pager.length) {\n                        containerHeight -= kendo._outerHeight(pager, true);\n                    }\n                }\n\n                this.element.css(\"height\", containerHeight);\n                this.pageElements.css(\"height\", containerHeight);\n            }\n\n            // re-read pane dimension after the pageElements have been resized.\n            pane.updateDimension();\n\n            if (!this._paged) {\n                this.page = floor(pane.offset() / width);\n            }\n\n            this.scrollTo(this.page, true);\n\n            this.pageCount = ceil(pane.total() / width);\n            this.minSnap = - (this.pageCount - 1) * width;\n            this.maxSnap = 0;\n        },\n\n        _getPages: function() {\n            this.pageElements = this.element.find(kendo.roleSelector(\"page\"));\n            this._paged = this.pageElements.length > 0;\n        }\n    });\n\n    kendo.mobile.ui.ScrollViewContent = ScrollViewContent;\n\n    var VirtualScrollViewContent = kendo.Observable.extend({\n        init: function(element, pane, options) {\n            var that = this;\n\n            kendo.Observable.fn.init.call(this);\n\n            that.element = element;\n            that.pane = pane;\n            that.options = options;\n            that._templates();\n            that.page = options.page || 0;\n            that.pages = [];\n            that._initPages();\n            that.resizeTo(that.pane.size());\n\n            that.pane.dimension.forceEnabled();\n        },\n\n        setDataSource: function(dataSource) {\n            this.dataSource = DataSource.create(dataSource);\n            this._buffer();\n            this._pendingPageRefresh = false;\n            this._pendingWidgetRefresh = false;\n        },\n\n        _viewShow: function() {\n            var that = this;\n            if (that._pendingWidgetRefresh) {\n                setTimeout(function() {\n                    that._resetPages();\n                }, 0);\n                that._pendingWidgetRefresh = false;\n            }\n        },\n\n        _buffer: function() {\n            var itemsPerPage = this.options.itemsPerPage;\n\n            if (this.buffer) {\n                this.buffer.destroy();\n            }\n\n            if (itemsPerPage > 1) {\n                this.buffer = new BatchBuffer(this.dataSource, itemsPerPage);\n            } else {\n                this.buffer = new Buffer(this.dataSource, itemsPerPage * 3);\n            }\n\n            this._resizeProxy = this._onResize.bind(this);\n            this._resetProxy = this._onReset.bind(this);\n            this._endReachedProxy = this._onEndReached.bind(this);\n\n            this.buffer.bind({\n                \"resize\": this._resizeProxy,\n                \"reset\": this._resetProxy,\n                \"endreached\": this._endReachedProxy\n            });\n        },\n\n        _templates: function() {\n            var template = this.options.template,\n                emptyTemplate = this.options.emptyTemplate,\n                templateProxy = {},\n                emptyTemplateProxy = {};\n\n            if (typeof template === FUNCTION) {\n                templateProxy.template = template;\n                template = \"#=this.template(data)#\";\n            }\n\n            this.template = kendo.template(template).bind(templateProxy);\n\n            if (typeof emptyTemplate === FUNCTION) {\n                emptyTemplateProxy.emptyTemplate = emptyTemplate;\n                emptyTemplate = \"#=this.emptyTemplate(data)#\";\n            }\n\n            this.emptyTemplate = kendo.template(emptyTemplate).bind(emptyTemplateProxy);\n        },\n\n        _initPages: function() {\n            var pages = this.pages,\n                element = this.element,\n                page;\n\n            for (var i = 0; i < VIRTUAL_PAGE_COUNT; i++) {\n                page = new Page(element);\n                pages.push(page);\n            }\n\n            this.pane.updateDimension();\n        },\n\n        resizeTo: function(size) {\n            var pages = this.pages,\n                pane = this.pane;\n\n            for (var i = 0; i < pages.length; i++) {\n                pages[i].setWidth(size.width);\n            }\n\n            if (this.options.contentHeight === \"auto\") {\n                this.element.css(\"height\", this.pages[1].element.height());\n            }\n\n            else if (this.options.contentHeight === \"100%\") {\n                var containerHeight = this.element.parent().height();\n\n                if (this.options.enablePager === true) {\n                    var pager = this.element.parent().find(\"ol.km-pages\");\n                    if (!this.options.pagerOverlay && pager.length) {\n                        containerHeight -= kendo._outerHeight(pager, true);\n                    }\n                }\n\n                this.element.css(\"height\", containerHeight);\n                pages[0].element.css(\"height\", containerHeight);\n                pages[1].element.css(\"height\", containerHeight);\n                pages[2].element.css(\"height\", containerHeight);\n            }\n\n            pane.updateDimension();\n\n            this._repositionPages();\n\n            this.width = size.width;\n        },\n\n        scrollTo: function(page) {\n            var buffer = this.buffer,\n                dataItem;\n\n            buffer.syncDataSource();\n            dataItem = buffer.at(page);\n\n            if (!dataItem) {\n                return;\n            }\n\n            this._updatePagesContent(page);\n\n            this.page = page;\n        },\n\n        paneMoved: function(swipeType, bounce, callback, /*internal*/ instant) {\n            var that = this,\n                pane = that.pane,\n                width = pane.size().width,\n                offset = pane.offset(),\n                thresholdPassed = Math.abs(offset) >= width / 3,\n                ease = bounce ? kendo.effects.Transition.easeOutBack : kendo.effects.Transition. easeOutExpo,\n                isEndReached = that.page + 2 > that.buffer.total(),\n                nextPage,\n                delta = 0;\n\n            if (swipeType === RIGHT_SWIPE) {\n                if (that.page !== 0) {\n                    delta = -1; //backward\n                }\n            } else if (swipeType === LEFT_SWIPE && !isEndReached) {\n                delta = 1; //forward\n            } else if (offset > 0 && (thresholdPassed && !isEndReached)) {\n                delta = 1; //forward\n            } else if (offset < 0 && thresholdPassed) {\n                if (that.page !== 0) {\n                    delta = -1; //backward\n                }\n            }\n\n            nextPage = that.page;\n            if (delta) {\n                nextPage = (delta > 0) ? nextPage + 1 : nextPage - 1;\n            }\n\n            if (callback && callback({ currentPage: that.page, nextPage: nextPage })) {\n                delta = 0;\n            }\n\n            if (delta === 0) {\n                that._cancelMove(ease, instant);\n            } else if (delta === -1) {\n                that._moveBackward(instant);\n            } else if (delta === 1) {\n                that._moveForward(instant);\n            }\n        },\n\n        updatePage: function() {\n            var pages = this.pages;\n\n            if (this.pane.offset() === 0) {\n                return false;\n            }\n\n            if (this.pane.offset() > 0) {\n                pages.push(this.pages.shift());//forward\n                this.page++;\n                this.setPageContent(pages[2], this.page + 1);\n            } else {\n                pages.unshift(this.pages.pop()); //back\n                this.page--;\n                this.setPageContent(pages[0], this.page - 1);\n            }\n\n            this._repositionPages();\n\n            this._resetMovable();\n\n            return true;\n        },\n\n        forcePageUpdate: function() {\n            var offset = this.pane.offset(),\n                threshold = this.pane.size().width * 3 / 4;\n\n            if (abs(offset) > threshold) {\n                return this.updatePage();\n            }\n\n            return false;\n        },\n\n        _resetMovable: function() {\n            this.pane.moveTo(0);\n        },\n\n        _moveForward: function(instant) {\n            this.pane.transitionTo(-this.width, kendo.effects.Transition.easeOutExpo, instant);\n        },\n\n        _moveBackward: function(instant) {\n            this.pane.transitionTo(this.width, kendo.effects.Transition.easeOutExpo, instant);\n        },\n\n        _cancelMove: function(ease, /*internal*/ instant) {\n            this.pane.transitionTo(0, ease, instant);\n        },\n\n        _resetPages: function() {\n            this.page = this.options.page || 0;\n\n            this._updatePagesContent(this.page);\n            this._repositionPages();\n\n            this.trigger(\"reset\");\n        },\n\n        _onResize: function() {\n            this.pageCount = ceil(this.dataSource.total() / this.options.itemsPerPage);\n\n            if (this._pendingPageRefresh) {\n                this._updatePagesContent(this.page);\n                this._pendingPageRefresh = false;\n            }\n\n            this.trigger(\"resize\");\n        },\n\n        _onReset: function() {\n            this.pageCount = ceil(this.dataSource.total() / this.options.itemsPerPage);\n            this._resetPages();\n        },\n\n        _onEndReached: function() {\n            this._pendingPageRefresh = true;\n        },\n\n        _repositionPages: function() {\n            var pages = this.pages;\n\n            pages[0].position(LEFT_PAGE);\n            pages[1].position(CETER_PAGE);\n            pages[2].position(RIGHT_PAGE);\n        },\n\n        _updatePagesContent: function(offset) {\n            var pages = this.pages,\n                currentPage = offset || 0;\n\n            this.setPageContent(pages[0], currentPage - 1);\n            this.setPageContent(pages[1], currentPage);\n            this.setPageContent(pages[2], currentPage + 1);\n        },\n\n        setPageContent: function(page, index) {\n            var buffer = this.buffer,\n                template = this.template,\n                emptyTemplate = this.emptyTemplate,\n                view = null;\n\n            if (index >= 0) {\n                view = buffer.at(index);\n                if (Array.isArray(view) && !view.length) {\n                    view = null;\n                }\n            }\n\n            this.trigger(CLEANUP, { item: page.element });\n\n            if (view !== null) {\n                page.content(template(view));\n            } else {\n                page.content(emptyTemplate({}));\n            }\n\n            kendo.mobile.init(page.element);\n            this.trigger(ITEM_CHANGE, { item: page.element, data: view, ns: kendo.mobile.ui });\n\n        }\n    });\n\n    kendo.mobile.ui.VirtualScrollViewContent = VirtualScrollViewContent;\n\n    var Page = kendo.Class.extend({\n        init: function(container) {\n            this.element = $(\"<div class='\" + className(VIRTUAL_PAGE_CLASS) + \"'></div>\");\n            this.width = container.width();\n            this.element.width(this.width);\n            container.append(this.element);\n        },\n\n        content: function(theContent) {\n            this.element.html(theContent);\n        },\n\n        position: function(position) { //position can be -1, 0, 1\n            this.element.css(\"transform\", \"translate3d(\" + this.width * position + \"px, 0, 0)\");\n        },\n\n        setWidth: function(width) {\n            this.width = width;\n            this.element.width(width);\n        }\n    });\n\n    kendo.mobile.ui.VirtualPage = Page;\n\n    var ScrollView = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n            element = that.element;\n\n            kendo.stripWhitespace(element[0]);\n\n            element\n                .wrapInner(\"<div/>\")\n                .addClass(\"k-widget \" + className(\"scrollview\"));\n\n            if (this.options.enablePager) {\n                this.pager = new Pager(this);\n\n                if (this.options.pagerOverlay) {\n                    element.addClass(className(\"scrollview-overlay\"));\n                }\n            }\n\n            that.inner = element.children().first();\n            that.page = 0;\n            that.inner.css(\"height\", options.contentHeight);\n\n            that.pane = new ElasticPane(that.inner, {\n                duration: this.options.duration,\n                transitionEnd: this._transitionEnd.bind(this),\n                dragStart: this._dragStart.bind(this),\n                dragEnd: this._dragEnd.bind(this),\n                change: this[REFRESH].bind(this)\n            });\n\n            that.bind(\"resize\", function() {\n                that.pane.refresh();\n            });\n\n            that.page = options.page;\n\n            var empty = this.inner.children().length === 0;\n\n            var content = empty ? new VirtualScrollViewContent(that.inner, that.pane, options) : new ScrollViewContent(that.inner, that.pane, options);\n\n            content.page = that.page;\n\n            content.bind(\"reset\", function() {\n                this._pendingPageRefresh = false;\n                that._syncWithContent();\n                that.trigger(REFRESH, { pageCount: content.pageCount, page: content.page });\n            });\n\n            content.bind(\"resize\", function() {\n                that.trigger(REFRESH, { pageCount: content.pageCount, page: content.page });\n            });\n\n            content.bind(ITEM_CHANGE, function(e) {\n                that.trigger(ITEM_CHANGE, e);\n\n                that.angular(\"compile\", function() {\n                    return { elements: e.item, data: [ { dataItem: e.data } ] };\n                });\n            });\n\n            content.bind(CLEANUP, function(e) {\n                that.angular(\"cleanup\", function() {\n                    return { elements: e.item };\n                });\n            });\n\n            that._content = content;\n            that.setDataSource(options.dataSource);\n\n            var mobileContainer = that.container();\n\n            if (mobileContainer.nullObject) {\n                that.viewInit();\n                that.viewShow();\n            } else {\n                mobileContainer.bind(\"show\", this.viewShow.bind(this)).bind(\"init\", this.viewInit.bind(this));\n            }\n        },\n\n        options: {\n            name: \"ScrollView\",\n            page: 0,\n            duration: 400,\n            velocityThreshold: 0.8,\n            contentHeight: \"auto\",\n            pageSize: 1,\n            itemsPerPage: 1,\n            bounceVelocityThreshold: 1.6,\n            enablePager: true,\n            pagerOverlay: false,\n            autoBind: true,\n            template: \"\",\n            emptyTemplate: \"\"\n        },\n\n        events: [\n            CHANGING,\n            CHANGE,\n            REFRESH\n        ],\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            kendo.destroy(this.element);\n        },\n\n        viewInit: function() {\n            if (this.options.autoBind) {\n                this._content.scrollTo(this._content.page, true);\n            }\n        },\n\n        viewShow: function() {\n            this.pane.refresh();\n        },\n\n        refresh: function() {\n            var content = this._content;\n\n            content.resizeTo(this.pane.size());\n            this.page = content.page;\n            this.trigger(REFRESH, { pageCount: content.pageCount, page: content.page });\n        },\n\n        content: function(html) {\n           this.element.children().first().html(html);\n           this._content._getPages();\n           this.pane.refresh();\n        },\n\n        value: function(item) {\n            var dataSource = this.dataSource;\n\n            if (item) {\n                this.scrollTo(dataSource.indexOf(item), true);\n            } else {\n                return dataSource.at(this.page);\n            }\n        },\n\n        scrollTo: function(page, instant) {\n            this._content.scrollTo(page, instant);\n            this._syncWithContent();\n        },\n\n        prev: function() {\n            var that = this,\n                prevPage = that.page - 1;\n\n            if (that._content instanceof VirtualScrollViewContent) {\n                that._content.paneMoved(RIGHT_SWIPE, undefined, function(eventData) {\n                    return that.trigger(CHANGING, eventData);\n                });\n            } else if (prevPage > -1) {\n                that.scrollTo(prevPage);\n            }\n        },\n\n        next: function() {\n            var that = this,\n                nextPage = that.page + 1;\n\n            if (that._content instanceof VirtualScrollViewContent) {\n                that._content.paneMoved(LEFT_SWIPE, undefined, function(eventData) {\n                    return that.trigger(CHANGING, eventData);\n                });\n            } else if (nextPage < that._content.pageCount) {\n                that.scrollTo(nextPage);\n            }\n        },\n\n        setDataSource: function(dataSource) {\n            if (!(this._content instanceof VirtualScrollViewContent)) {\n                return;\n            }\n            // the scrollview should have a ready datasource for MVVM to function properly. But an empty datasource should not empty the element\n            var emptyDataSource = !dataSource;\n            this.dataSource = DataSource.create(dataSource);\n\n            this._content.setDataSource(this.dataSource);\n\n            if (this.options.autoBind && !emptyDataSource) {\n                // this.items().remove();\n                this.dataSource.fetch();\n            }\n        },\n\n        items: function() {\n            return this.element.find(\".km-\" + VIRTUAL_PAGE_CLASS);\n        },\n\n        _syncWithContent: function() {\n            var pages = this._content.pages,\n                buffer = this._content.buffer,\n                data,\n                element;\n\n            this.page = this._content.page;\n\n            data = buffer ? buffer.at(this.page) : undefined;\n            if (!(data instanceof Array)) {\n                data = [data];\n            }\n            element = pages ? pages[1].element : undefined;\n\n            this.trigger(CHANGE, { page: this.page, element: element, data: data });\n        },\n\n        _dragStart: function() {\n            if (this._content.forcePageUpdate()) {\n                this._syncWithContent();\n            }\n        },\n\n        _dragEnd: function(e) {\n            var that = this,\n                velocity = e.x.velocity,\n                velocityThreshold = this.options.velocityThreshold,\n                swipeType = NUDGE,\n                bounce = abs(velocity) > this.options.bounceVelocityThreshold;\n\n            if (velocity > velocityThreshold) {\n                swipeType = RIGHT_SWIPE;\n            } else if (velocity < -velocityThreshold) {\n                swipeType = LEFT_SWIPE;\n            }\n\n            this._content.paneMoved(swipeType, bounce, function(eventData) {\n                return that.trigger(CHANGING, eventData);\n            });\n        },\n\n        _transitionEnd: function() {\n            if (this._content.updatePage()) {\n                this._syncWithContent();\n            }\n        }\n    });\n\n    ui.plugin(ScrollView);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n\n(function(f, define) {\n    define('kendo.mobile.switch',[ \"kendo.fx\", \"kendo.userevents\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"mobile.switch\",\n    name: \"Switch\",\n    category: \"mobile\",\n    description: \"The mobile Switch widget is used to display two exclusive choices.\",\n    depends: [ \"fx\", \"userevents\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        outerWidth = kendo._outerWidth,\n        Widget = ui.Widget,\n        support = kendo.support,\n        CHANGE = \"change\",\n        SWITCHON = \"switch-on\",\n        SWITCHOFF = \"switch-off\",\n        MARGINLEFT = \"margin-left\",\n        ACTIVE_STATE = \"state-active\",\n        DISABLED_STATE = \"state-disabled\",\n        DISABLED = \"disabled\",\n        RESOLVEDPREFIX = support.transitions.css === undefined ? \"\" : support.transitions.css,\n        TRANSFORMSTYLE = RESOLVEDPREFIX + \"transform\";\n\n    function className(name) {\n        return \"km-\" + name;\n    }\n\n    function limitValue(value, minLimit, maxLimit) {\n        return Math.max(minLimit, Math.min(maxLimit, value));\n    }\n\n    var SWITCH_MARKUP = '<span class=\"' + className(\"switch\") + ' ' + className(\"widget\") + '\">\\\n        <span class=\"' + className(\"switch-wrapper\") + '\">\\\n            <span class=\"' + className(\"switch-background\") + '\"></span>\\\n        </span> \\\n        <span class=\"' + className(\"switch-container\") + '\">\\\n            <span class=\"' + className(\"switch-handle\") + '\"> \\\n                <span class=\"' + className(\"switch-label-on\") + '\">{0}</span> \\\n                <span class=\"' + className(\"switch-label-off\") + '\">{1}</span> \\\n            </span> \\\n        </span>\\\n    </span>';\n\n    var Switch = Widget.extend({\n        init: function(element, options) {\n            var that = this, checked;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n\n            that.wrapper = $(kendo.format(SWITCH_MARKUP, options.onLabel, options.offLabel));\n            that.handle = that.wrapper.find(\".km-switch-handle\");\n            that.background = that.wrapper.find(\".km-switch-background\");\n            that.wrapper.insertBefore(that.element).prepend(that.element);\n\n            that._drag();\n\n            that.origin = parseInt(that.background.css(MARGINLEFT), 10);\n\n            that.constrain = 0;\n            that.snapPoint = 0;\n\n            element = that.element[0];\n            element.type = \"checkbox\";\n            that._animateBackground = true;\n\n            checked = that.options.checked;\n\n            if (checked === null) {\n                checked = element.checked;\n            }\n\n            that.check(checked);\n\n            that.options.enable = that.options.enable && !that.element.attr(DISABLED);\n            that.enable(that.options.enable);\n\n            that.refresh();\n            kendo.notify(that, kendo.mobile.ui);\n        },\n\n        refresh: function() {\n            var that = this,\n                handleWidth = outerWidth(that.handle, true);\n\n            that.width = that.wrapper.width();\n\n            that.constrain = that.width - handleWidth;\n            that.snapPoint = that.constrain / 2;\n\n            if (typeof that.origin != \"number\") {\n                that.origin = parseInt(that.background.css(MARGINLEFT), 10);\n            }\n\n            that.background.data(\"origin\", that.origin);\n\n            that.check(that.element[0].checked);\n        },\n\n        events: [\n            CHANGE\n        ],\n\n        options: {\n            name: \"Switch\",\n            onLabel: \"on\",\n            offLabel: \"off\",\n            checked: null,\n            enable: true\n        },\n\n        check: function(check) {\n            var that = this,\n                element = that.element[0];\n\n            if (check === undefined) {\n                return element.checked;\n            }\n\n            that._position(check ? that.constrain : 0);\n            element.checked = check;\n            that.wrapper\n                .toggleClass(className(SWITCHON), check)\n                .toggleClass(className(SWITCHOFF), !check);\n        },\n\n        // alias for check, NG support\n        value: function() {\n            return this.check.apply(this, arguments);\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.userEvents.destroy();\n        },\n\n        toggle: function() {\n            var that = this;\n\n            that.check(!that.element[0].checked);\n        },\n\n        enable: function(enable) {\n            var element = this.element,\n                wrapper = this.wrapper;\n\n            if (typeof enable == \"undefined\") {\n                enable = true;\n            }\n\n            this.options.enable = enable;\n\n            if (enable) {\n                element.prop(DISABLED, false);\n            } else {\n                element.attr(DISABLED, DISABLED);\n            }\n\n            wrapper.toggleClass(className(DISABLED_STATE), !enable);\n        },\n\n        _resize: function() {\n            this.refresh();\n        },\n\n        _move: function(e) {\n            var that = this;\n            e.preventDefault();\n            that._position(limitValue(that.position + e.x.delta, 0, that.width - outerWidth(that.handle, true)));\n        },\n\n        _position: function(position) {\n            var that = this;\n\n            that.position = position;\n            that.handle.css(TRANSFORMSTYLE, \"translatex(\" + position + \"px)\");\n\n            if (that._animateBackground) {\n                that.background.css(MARGINLEFT, that.origin + position);\n            }\n        },\n\n        _start: function() {\n            if (!this.options.enable) {\n                this.userEvents.cancel();\n            } else {\n                this.userEvents.capture();\n                this.handle.addClass(className(ACTIVE_STATE));\n            }\n        },\n\n        _stop: function() {\n            var that = this;\n\n            that.handle.removeClass(className(ACTIVE_STATE));\n            that._toggle(that.position > that.snapPoint);\n        },\n\n        _toggle: function(checked) {\n            var that = this,\n                handle = that.handle,\n                element = that.element[0],\n                value = element.checked,\n                duration = kendo.mobile.application && kendo.mobile.application.os.wp ? 100 : 200,\n                distance;\n\n            that.wrapper\n                .toggleClass(className(SWITCHON), checked)\n                .toggleClass(className(SWITCHOFF), !checked);\n\n            that.position = distance = checked * that.constrain;\n\n            if (that._animateBackground) {\n                that.background\n                    .kendoStop(true, true)\n                    .kendoAnimate({ effects: \"slideMargin\", offset: distance, reset: true, reverse: !checked, axis: \"left\", duration: duration });\n            }\n\n            handle\n                .kendoStop(true, true)\n                .kendoAnimate({\n                    effects: \"slideTo\",\n                    duration: duration,\n                    offset: distance + \"px,0\",\n                    reset: true,\n                    complete: function() {\n                        if (value !== checked) {\n                            element.checked = checked;\n                            that.trigger(CHANGE, { checked: checked });\n                        }\n                    }\n                });\n        },\n\n        _drag: function() {\n            var that = this;\n\n            that.userEvents = new kendo.UserEvents(that.wrapper, {\n                fastTap: true,\n                tap: function() {\n                    if (that.options.enable) {\n                        that._toggle(!that.element[0].checked);\n                    }\n                },\n                start: that._start.bind(that),\n                move: that._move.bind(that),\n                end: that._stop.bind(that)\n            });\n        }\n    });\n\n    ui.plugin(Switch);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.mobile.tabstrip',[ \"kendo.core\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"mobile.tabstrip\",\n    name: \"TabStrip\",\n    category: \"mobile\",\n    description: \"The mobile TabStrip widget is used inside a mobile view or layout footer element to display an application-wide group of navigation buttons.\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        Widget = ui.Widget,\n        ACTIVE_STATE_CLASS = \"km-state-active\",\n        SELECT = \"select\";\n\n    function createBadge(value) {\n        return $('<span class=\"km-badge\">' + value + '</span>');\n    }\n\n    var TabStrip = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            that.container().bind(\"show\", this.refresh.bind(this));\n\n            that.element\n               .addClass(\"km-tabstrip\")\n               .find(\"a\").each(that._buildButton)\n               .eq(that.options.selectedIndex).addClass(ACTIVE_STATE_CLASS);\n\n            that.element.on(\"down\", \"a\", \"_release\");\n        },\n\n        events: [\n            SELECT\n        ],\n\n        switchTo: function(url) {\n            var tabs = this.element.find('a'),\n                tab,\n                path,\n                idx = 0,\n                length = tabs.length;\n\n            if (isNaN(url)) {\n                for (; idx < length; idx ++) {\n                    tab = tabs[idx];\n                    path = tab.href.replace(/(\\#.+)(\\?.+)$/, \"$1\"); // remove the fragment query string - http://www.foo.com?foo#bar**?baz=qux**\n\n                    if (path.indexOf(url, path.length - url.length) !== -1) {\n                        this._setActiveItem($(tab));\n                        return true;\n                    }\n                }\n            } else {\n                this._setActiveItem(tabs.eq(url));\n                return true;\n            }\n\n            return false;\n        },\n\n        switchByFullUrl: function(url) {\n            var tab;\n\n            tab = this.element.find(\"a[href$='\" + url + \"']\");\n            this._setActiveItem(tab);\n        },\n\n        clear: function() {\n            this.currentItem().removeClass(ACTIVE_STATE_CLASS);\n        },\n\n        currentItem: function() {\n            return this.element.children(\".\" + ACTIVE_STATE_CLASS);\n        },\n\n        badge: function(item, value) {\n            var tabstrip = this.element, badge;\n\n            if (!isNaN(item)) {\n                item = tabstrip.children().get(item);\n            }\n\n            item = tabstrip.find(item);\n            badge = $(item.find(\".km-badge\")[0] || createBadge(value).insertAfter(item.children(\".km-icon\")));\n\n            if (value || value === 0) {\n                badge.html(value);\n                return this;\n            }\n\n            if (value === false) {\n                badge.empty().remove();\n                return this;\n            }\n\n            return badge.html();\n        },\n\n        _release: function(e) {\n            if (e.which > 1) {\n                return;\n            }\n\n            var that = this,\n                item = $(e.currentTarget);\n\n            if (item[0] === that.currentItem()[0]) {\n                return;\n            }\n\n            if (that.trigger(SELECT, { item: item })) {\n                e.preventDefault();\n            } else {\n                that._setActiveItem(item);\n            }\n        },\n\n        _setActiveItem: function(item) {\n            if (!item[0]) {\n                return;\n            }\n            this.clear();\n            item.addClass(ACTIVE_STATE_CLASS);\n        },\n\n        _buildButton: function() {\n            var button = $(this),\n                icon = kendo.attrValue(button, \"icon\"),\n                badge = kendo.attrValue(button, \"badge\"),\n                image = button.find(\"img\"),\n                iconSpan = $('<span class=\"km-icon\"/>');\n\n            button\n                .addClass(\"km-button\")\n                .attr(kendo.attr(\"role\"), \"tab\")\n                    .contents().not(image)\n                    .wrapAll('<span class=\"km-text\"/>');\n\n            if (image[0]) {\n                image.addClass(\"km-image\").prependTo(button);\n            } else {\n                button.prepend(iconSpan);\n                if (icon) {\n                    iconSpan.addClass(\"km-\" + icon);\n                    if (badge || badge === 0) {\n                        createBadge(badge).insertAfter(iconSpan);\n                    }\n                }\n            }\n        },\n\n        refresh: function(e) {\n            var url = e.view.id;\n\n            if (url && !this.switchTo(e.view.id)) {\n                this.switchTo(url);\n            }\n        },\n\n        options: {\n            name: \"TabStrip\",\n            selectedIndex: 0,\n            enable: true\n        }\n    });\n\n    ui.plugin(TabStrip);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.angular',[ \"kendo.core\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"angular\",\n    name: \"AngularJS Directives\",\n    category: \"framework\",\n    description: \"Adds Kendo UI for AngularJS directives\",\n    depends: [ \"core\" ],\n    defer: true\n};\n\n(function($, angular, undefined) {\n    \"use strict\";\n\n    // Angular2 exposes a global angular object, but it does not have an injector...\n    if (!angular || !angular.injector) {\n        return;\n    }\n\n\n    var module = angular.module('kendo.directives', []),\n        $injector = angular.injector(['ng']),\n        $parse = $injector.get('$parse'),\n        $timeout = $injector.get('$timeout'),\n        $defaultCompile,\n        $log = $injector.get('$log');\n\n    function withoutTimeout(f) {\n        var save = $timeout;\n        try {\n            $timeout = function(f) { return f(); };\n            return f();\n        } finally {\n            $timeout = save;\n        }\n    }\n\n    var OPTIONS_NOW;\n\n    var createDataSource = (function() {\n        var types = {\n            TreeList: 'TreeListDataSource',\n            TreeView: 'HierarchicalDataSource',\n            Scheduler: 'SchedulerDataSource',\n            PivotGrid: 'PivotDataSource',\n            PivotConfigurator: 'PivotDataSource',\n            PanelBar: 'HierarchicalDataSource',\n            Menu: \"$PLAIN\",\n            ContextMenu: \"$PLAIN\"\n        };\n        var toDataSource = function(dataSource, type) {\n            if (type == '$PLAIN') {\n                return dataSource;\n            }\n            return kendo.data[type].create(dataSource);\n        };\n        return function(scope, element, role, source) {\n            var type = types[role] || 'DataSource';\n            var current = scope.$eval(source);\n            var ds = toDataSource(current, type);\n\n            scope.$watch(source, function(mew) {\n                var widget = kendoWidgetInstance(element);\n\n                if (widget && typeof widget.setDataSource == \"function\") {\n                    if (mew !== current && mew !== widget.dataSource) {\n                        var ds = toDataSource(mew, type);\n                        widget.setDataSource(ds);\n                        current = mew;\n                    }\n                }\n            });\n            return ds;\n        };\n    }());\n\n    var ignoredAttributes = {\n        kDataSource: true,\n        kOptions: true,\n        kRebind: true,\n        kNgModel: true,\n        kNgDelay: true\n    };\n\n    var ignoredOwnProperties = {\n        // XXX: other names to ignore here?\n        name: true,\n        title: true,\n        style: true\n    };\n\n    function createWidget(scope, element, attrs, widget, origAttr, controllers) {\n\n        if (!(element instanceof jQuery)) {\n            throw new Error(\"The Kendo UI directives require jQuery to be available before AngularJS. Please include jquery before angular in the document.\");\n        }\n\n        var kNgDelay = attrs.kNgDelay,\n            delayValue = scope.$eval(kNgDelay);\n\n        controllers = controllers || [];\n\n        var ngModel = controllers[0],\n            ngForm = controllers[1];\n\n        var ctor = $(element)[widget];\n\n        if (!ctor) {\n            window.console.error(\"Could not find: \" + widget);\n            return null;\n        }\n\n        var parsed = parseOptions(scope, element, attrs, widget, ctor);\n\n        var options = parsed.options;\n\n        if (parsed.unresolved.length) {\n            var promises = [];\n\n            for (var i = 0, len = parsed.unresolved.length; i < len; i++) {\n\n                var unresolved = parsed.unresolved[i];\n\n                var promise = $.Deferred(function(d) {\n                    var unwatch = scope.$watch(unresolved.path, function(newValue) {\n                        if (newValue !== undefined) {\n                            unwatch();\n                            d.resolve();\n                        }\n                    });\n                }).promise();\n\n                promises.push(promise);\n            }\n\n            $.when.apply(null, promises).then(createIt);\n\n            return;\n        }\n\n        if (kNgDelay && !delayValue) {\n            var root = scope.$root || scope;\n\n            var register = function() {\n                var unregister = scope.$watch(kNgDelay, function(newValue) {\n                        if (newValue !== undefined) {\n                        unregister();\n                        // remove subsequent delays, to make ng-rebind work\n                        element.removeAttr(attrs.$attr.kNgDelay);\n                        kNgDelay = null;\n                        $timeout(createIt); // XXX: won't work without `timeout` ;-\\\n                    }\n                });\n            };\n\n            // WARNING: the watchers should be registered in the digest cycle.\n            // the fork here is for the timeout/non-timeout initiated widgets.\n            if (/^\\$(digest|apply)$/.test(root.$$phase)) {\n                register();\n            } else {\n                scope.$apply(register);\n            }\n\n            return;\n        } else {\n            return createIt();\n        }\n\n        function createIt() {\n            var originalElement;\n\n            if (attrs.kRebind) {\n                originalElement = $($(element)[0].cloneNode(true));\n            }\n\n            // re-parse the options here.\n            options = parseOptions(scope, element, attrs, widget, ctor).options;\n\n            if (element.is(\"select\")) {\n                (function(options) {\n                    if (options.length > 0) {\n                        var first = $(options[0]);\n                        if (!/\\S/.test(first.text()) && /^\\?/.test(first.val())) {\n                            first.remove();\n                        }\n\n                        for (var i = 0; i < options.length; i++) {\n                            $(options[i]).off(\"$destroy\");\n                        }\n                    }\n                }(element[0].options));\n            }\n\n            var object = ctor.call(element, OPTIONS_NOW = options).data(widget);\n\n            exposeWidget(object, scope, attrs, widget, origAttr);\n\n            scope.$emit(\"kendoWidgetCreated\", object);\n\n            var destroyRegister = destroyWidgetOnScopeDestroy(scope, object);\n\n            if (attrs.kRebind) {\n                setupRebind(object, scope, element, originalElement, attrs.kRebind, destroyRegister, attrs);\n            }\n\n            if (attrs.kNgDisabled) {\n                var kNgDisabled = attrs.kNgDisabled;\n                var isDisabled = scope.$eval(kNgDisabled);\n                if (isDisabled) {\n                    object.enable(!isDisabled);\n                }\n                bindToKNgDisabled(object, scope, element, kNgDisabled);\n            }\n\n            if (attrs.kNgReadonly) {\n                var kNgReadonly = attrs.kNgReadonly;\n                var isReadonly = scope.$eval(kNgReadonly);\n                if (isReadonly) {\n                    object.readonly(isReadonly);\n                }\n                bindToKNgReadonly(object, scope, element, kNgReadonly);\n            }\n\n            // kNgModel is used for the \"logical\" value\n            if (attrs.kNgModel) {\n                bindToKNgModel(object, scope, attrs.kNgModel);\n            }\n\n            // 2 way binding: ngModel <-> widget.value()\n            if (ngModel) {\n                bindToNgModel(object, scope, element, ngModel, ngForm);\n            }\n\n            if (object) {\n                propagateClassToWidgetWrapper(object, element);\n            }\n\n            return object;\n        }\n    }\n\n\n    function parseOptions(scope, element, attrs, widget, ctor) {\n        var role = widget.replace(/^kendo/, '');\n        var unresolved = [];\n        var optionsPath = attrs.kOptions || attrs.options;\n        var optionsValue = scope.$eval(optionsPath);\n\n        if (optionsPath && optionsValue === undefined) {\n            unresolved.push({ option: \"options\", path: optionsPath });\n        }\n\n        var options = angular.extend({}, attrs.defaultOptions, optionsValue);\n\n        function addOption(name, value) {\n            var scopeValue = angular.copy(scope.$eval(value));\n            if (scopeValue === undefined) {\n                unresolved.push({ option: name, path: value });\n            } else {\n                options[name] = scopeValue;\n            }\n        }\n\n\n        var widgetOptions = ctor.widget.prototype.options;\n        var widgetEvents = ctor.widget.prototype.events;\n\n\n        $.each(attrs, function(name, value) {\n            if (name === \"source\" || name === \"kDataSource\" || name === \"kScopeField\" || name === \"scopeField\") {\n                return;\n            }\n\n            var dataName = \"data\" + name.charAt(0).toUpperCase() + name.slice(1);\n\n            if (name.indexOf(\"on\") === 0) { // let's search for such event.\n                var eventKey = name.replace(/^on./, function(prefix) {\n                    return prefix.charAt(2).toLowerCase();\n                });\n\n                if (widgetEvents.indexOf(eventKey) > -1) {\n                    options[eventKey] = value;\n                }\n            } // don't elsif here - there are on* options\n\n            if (widgetOptions.hasOwnProperty(dataName)) {\n                addOption(dataName, value);\n            } else if (widgetOptions.hasOwnProperty(name) && !ignoredOwnProperties[name]) {\n                addOption(name, value);\n            } else if (!ignoredAttributes[name]) {\n                var match = name.match(/^k(On)?([A-Z].*)/);\n                if (match) {\n                    var optionName = match[2].charAt(0).toLowerCase() + match[2].slice(1);\n                    if (match[1] && name != \"kOnLabel\" // XXX: k-on-label can be used on MobileSwitch :-\\\n                    ) {\n                        options[optionName] = value;\n                    } else {\n                        if (name == \"kOnLabel\") {\n                            optionName = \"onLabel\"; // XXX: that's awful.\n                        }\n                        addOption(optionName, value);\n                    }\n                }\n            }\n        });\n\n        // parse the datasource attribute\n        var dataSource = attrs.kDataSource || attrs.source;\n\n        if (dataSource) {\n            options.dataSource = createDataSource(scope, element, role, dataSource);\n        }\n\n        // deepExtend in kendo.core (used in Editor) will fail with stack\n        // overflow if we don't put it in an array :-\\\n        options.$angular = [ scope ];\n\n        return {\n            options: options,\n            unresolved: unresolved\n        };\n    }\n\n    function bindToKNgDisabled(widget, scope, element, kNgDisabled) {\n        if ((kendo.ui.PanelBar && widget instanceof kendo.ui.PanelBar) || (kendo.ui.Menu && widget instanceof kendo.ui.Menu)) {\n            $log.warn(\"k-ng-disabled specified on a widget that does not have the enable() method: \" + (widget.options.name));\n            return;\n        }\n        scope.$watch(kNgDisabled, function(newValue, oldValue) {\n            if (newValue != oldValue) {\n                widget.enable(!newValue);\n            }\n        });\n    }\n\n    function bindToKNgReadonly(widget, scope, element, kNgReadonly) {\n        if (typeof widget.readonly != \"function\") {\n            $log.warn(\"k-ng-readonly specified on a widget that does not have the readonly() method: \" + (widget.options.name));\n            return;\n        }\n        scope.$watch(kNgReadonly, function(newValue, oldValue) {\n            if (newValue != oldValue) {\n                widget.readonly(newValue);\n            }\n        });\n    }\n\n    function exposeWidget(widget, scope, attrs, kendoWidget, origAttr) {\n        if (attrs[origAttr]) {\n            var set = $parse(attrs[origAttr]).assign;\n            if (set) {\n                // set the value of the expression to the kendo widget object to expose its api\n                set(scope, widget);\n            } else {\n                throw new Error(origAttr + ' attribute used but expression in it is not assignable: ' + attrs[kendoWidget]);\n            }\n        }\n    }\n\n    function formValue(element) {\n        if (/checkbox|radio/i.test(element.attr(\"type\"))) {\n            return element.prop(\"checked\");\n        }\n        return element.val();\n    }\n\n    var formRegExp = /^(input|select|textarea)$/i;\n\n    function isForm(element) {\n        return formRegExp.test(element[0].tagName);\n    }\n\n    function bindToNgModel(widget, scope, element, ngModel, ngForm) {\n        if (!widget.value) {\n            return;\n        }\n\n        var value;\n        // Some widgets trigger \"change\" on the input field\n        // and this would result in two events sent (#135)\n        var haveChangeOnElement = false;\n\n        if (isForm(element)) {\n            value = function() {\n                return formValue(element);\n            };\n        } else {\n            value = function() {\n                return widget.value();\n            };\n        }\n\n        // Angular will invoke $render when the view needs to be updated with the view value.\n        var viewRender = function() {\n            // Update the widget with the view value.\n\n            // delaying with setTimout for cases where the datasource is set thereafter.\n            // https://github.com/kendo-labs/angular-kendo/issues/304\n            var val = ngModel.$viewValue;\n            if (val === undefined) {\n                val = ngModel.$modelValue;\n            }\n\n            if (val === undefined) {\n                val = null;\n            }\n\n            haveChangeOnElement = true;\n            setTimeout(function() {\n                haveChangeOnElement = false;\n                if (widget) { // might have been destroyed in between. :-(\n                    var kNgModel = scope[widget.element.attr(\"k-ng-model\")];\n\n                    if (kNgModel) {\n                        val = kNgModel;\n                    }\n\n                    if (widget.options.autoBind === false && !widget.listView.bound()) {\n                        if (val) {\n                            widget.value(val);\n                        }\n                    } else {\n                        widget.value(val);\n                    }\n                }\n            }, 0);\n        };\n\n        ngModel.$render = viewRender;\n        setTimeout(function() {\n            if (ngModel.$render !== viewRender) {\n                ngModel.$render = viewRender;\n                ngModel.$render();\n            }\n        });\n\n        if (isForm(element)) {\n            element.on(\"change\", function() {\n                haveChangeOnElement = true;\n            });\n        }\n\n        var onChange = function(pristine) {\n            return function() {\n                var formPristine;\n                if (haveChangeOnElement && !element.is(\"select\")) {\n                    return;\n                }\n                if (pristine && ngForm) {\n                    formPristine = ngForm.$pristine;\n                }\n                ngModel.$setViewValue(value());\n                if (pristine) {\n                    ngModel.$setPristine();\n                    if (formPristine) {\n                        ngForm.$setPristine();\n                    }\n                }\n                digest(scope);\n            };\n        };\n\n        widget.first(\"change\", onChange(false));\n        widget.first(\"spin\", onChange(false));\n\n        if (!(kendo.ui.AutoComplete && widget instanceof kendo.ui.AutoComplete)) {\n            widget.first(\"dataBound\", onChange(true));\n        }\n\n        var currentVal = value();\n\n        // if the model value is undefined, then we set the widget value to match ( == null/undefined )\n        // In telerik/kendo-ui-core#1027 we discovered that after the timeout the $viewValue arives as NaN in some weird, default form.\n        // Hence the check below.\n        if (!isNaN(ngModel.$viewValue) && currentVal != ngModel.$viewValue) {\n            if (!ngModel.$isEmpty(ngModel.$viewValue)) {\n                widget.value(ngModel.$viewValue);\n            } else if (currentVal != null && currentVal !== \"\" && currentVal != ngModel.$viewValue) {\n                ngModel.$setViewValue(currentVal);\n            }\n        }\n\n        ngModel.$setPristine();\n    }\n\n    function bindToKNgModel(widget, scope, kNgModel) {\n        if (kendo.ui.DateRangePicker && widget instanceof kendo.ui.DateRangePicker) {\n            var rangePickerModels = kNgModel.split(\",\");\n            var rangePickerStartModel = rangePickerModels[0].trim();\n            var rangePickerEndModel;\n\n            bindToKNgModel(widget._startDateInput, scope, rangePickerStartModel);\n            if (rangePickerModels[1]) {\n                rangePickerEndModel = rangePickerModels[1].trim();\n                bindToKNgModel(widget._endDateInput, scope, rangePickerEndModel);\n                widget.range({ start: scope[rangePickerStartModel], end: scope[rangePickerEndModel] });\n            } else {\n                widget.range({ start: scope[rangePickerStartModel], end: null });\n            }\n\n            return;\n        }\n\n        if (typeof widget.value != \"function\") {\n            $log.warn(\"k-ng-model specified on a widget that does not have the value() method: \" + (widget.options.name));\n            return;\n        }\n\n        var form = $(widget.element).parents(\"ng-form, form\").first();\n        var ngForm = kendo.getter(form.attr(\"name\"), true)(scope);\n        var getter = $parse(kNgModel);\n        var setter = getter.assign;\n        var updating = false;\n\n        var valueIsCollection = kendo.ui.MultiSelect && widget instanceof kendo.ui.MultiSelect ||\n                                kendo.ui.RangeSlider && widget instanceof kendo.ui.RangeSlider;\n\n        var length = function(value) {\n            //length is irrelevant when value is not collection\n            return value && valueIsCollection ? value.length : 0;\n        };\n\n        var currentValueLength = length(getter(scope));\n\n        widget.$angular_setLogicValue(getter(scope));\n\n        // keep in sync\n        var watchHandler = function(newValue, oldValue) {\n            if (newValue === undefined) {\n                // because widget's value() method usually checks if the new value is undefined,\n                // in which case it returns the current value rather than clearing the field.\n                // https://github.com/telerik/kendo-ui-core/issues/299\n                newValue = null;\n            }\n\n            //compare values by reference if a collection\n            if (updating || (newValue == oldValue && length(newValue) == currentValueLength)) {\n                return;\n            }\n\n            currentValueLength = length(newValue);\n            widget.$angular_setLogicValue(newValue);\n        };\n\n        if (valueIsCollection) {\n            scope.$watchCollection(kNgModel, watchHandler);\n        } else {\n            scope.$watch(kNgModel, watchHandler);\n        }\n\n        var changeHandler = function() {\n            updating = true;\n\n            if (ngForm && ngForm.$pristine) {\n                ngForm.$setDirty();\n            }\n\n            digest(scope, function() {\n                setter(scope, widget.$angular_getLogicValue());\n                currentValueLength = length(getter(scope));\n            });\n\n            updating = false;\n        };\n\n        widget.first(\"change\", changeHandler);\n        widget.first(\"spin\", changeHandler);\n    }\n\n    function destroyWidgetOnScopeDestroy(scope, widget) {\n        var deregister = scope.$on(\"$destroy\", function() {\n            deregister();\n            if (widget) {\n                kendo.destroy(widget.element);\n                widget = null;\n            }\n        });\n\n        return deregister;\n    }\n\n    // mutation observers - propagate the original\n    // element's class to the widget wrapper.\n    function propagateClassToWidgetWrapper(widget, element) {\n        if (!(window.MutationObserver && widget.wrapper)) {\n            return;\n        }\n\n        var prevClassList = [].slice.call($(element)[0].classList);\n\n        var mo = new MutationObserver(function(changes) {\n            suspend(); // make sure we don't trigger a loop\n            if (!widget) {\n                return;\n            }\n\n            changes.forEach(function(chg) {\n                var w = $(widget.wrapper)[0];\n                switch (chg.attributeName) {\n\n                    case \"class\":\n                        // sync classes to the wrapper element\n                        var currClassList = [].slice.call(chg.target.classList);\n                        currClassList.forEach(function(cls) {\n                            if (prevClassList.indexOf(cls) < 0) {\n                                w.classList.add(cls);\n                                if (kendo.ui.ComboBox && widget instanceof kendo.ui.ComboBox) { // https://github.com/kendo-labs/angular-kendo/issues/356\n                                    widget.input[0].classList.add(cls);\n                                }\n                            }\n                        });\n                        prevClassList.forEach(function(cls) {\n                            if (currClassList.indexOf(cls) < 0) {\n                                w.classList.remove(cls);\n                                if (kendo.ui.ComboBox && widget instanceof kendo.ui.ComboBox) { // https://github.com/kendo-labs/angular-kendo/issues/356\n                                    widget.input[0].classList.remove(cls);\n                                }\n                            }\n                        });\n                        prevClassList = currClassList;\n                        break;\n\n                    case \"disabled\":\n                        if (typeof widget.enable == \"function\" && !widget.element.attr(\"readonly\")) {\n                            widget.enable(!$(chg.target).attr(\"disabled\"));\n                        }\n                        break;\n\n                    case \"readonly\":\n                        if (typeof widget.readonly == \"function\" && !widget.element.attr(\"disabled\")) {\n                            widget.readonly(!!$(chg.target).attr(\"readonly\"));\n                        }\n                        break;\n                }\n            });\n\n            resume();\n        });\n\n        function suspend() {\n            mo.disconnect();\n        }\n\n        function resume() {\n            mo.observe($(element)[0], { attributes: true });\n        }\n\n        resume();\n        widget.first(\"destroy\", suspend);\n    }\n\n    function setupRebind(widget, scope, element, originalElement, rebindAttr, destroyRegister, attrs) {\n        // watch for changes on the expression passed in the k-rebind attribute\n        var unregister = scope.$watch(rebindAttr, function(newValue, oldValue) {\n            if (!widget._muteRebind && newValue !== oldValue) {\n                unregister(); // this watcher will be re-added if we compile again!\n\n                if (attrs._cleanUp) {\n                    attrs._cleanUp();\n                }\n\n                var templateOptions = WIDGET_TEMPLATE_OPTIONS[widget.options.name];\n\n                if (templateOptions) {\n                    templateOptions.forEach(function(name) {\n                        var templateContents = scope.$eval(attrs[\"k\" + name]);\n\n                        if (templateContents) {\n                            originalElement.append($(templateContents).attr(kendo.toHyphens(\"k\" + name), \"\"));\n                        }\n                    });\n                }\n\n                var _wrapper = $(widget.wrapper)[0];\n                var _element = $(widget.element)[0];\n                var isUpload = widget.options.name === \"Upload\";\n\n                if (isUpload) {\n                    element = $(_element);\n                }\n\n                var compile = element.injector().get(\"$compile\");\n                widget._destroy();\n\n                if (destroyRegister) {\n                    destroyRegister();\n                }\n\n                widget = null;\n\n                if (_element) {\n                    if (_wrapper) {\n                        _wrapper.parentNode.replaceChild(_element, _wrapper);\n                    }\n                    $(element).replaceWith(originalElement);\n                }\n\n                compile(originalElement)(scope);\n            }\n        }, true); // watch for object equality. Use native or simple values.\n        digest(scope);\n    }\n\n    function bind(f, obj) {\n        return function(a, b) {\n            return f.call(obj, a, b);\n        };\n    }\n\n    function setTemplate(key, value) {\n        this[key] = kendo.stringify(value);\n    }\n\n    module.factory('directiveFactory', [ '$compile', function(compile) {\n        var kendoRenderedTimeout;\n        var RENDERED = false;\n\n        // caching $compile for the dirty hack upstairs. This is awful, but we happen to have elements outside of the bootstrapped root :(.\n        $defaultCompile = compile;\n\n        var create = function(role, origAttr) {\n            return {\n                // Parse the directive for attributes and classes\n                restrict: \"AC\",\n                require: [ \"?ngModel\", \"^?form\" ],\n                scope: false,\n\n                controller: [ '$scope', '$attrs', '$element', function($scope, $attrs) {\n                    this.template = bind(setTemplate, $attrs);\n                    $attrs._cleanUp = bind(function() {\n                        this.template = null;\n                        $attrs._cleanUp = null;\n                    }, this);\n                }],\n\n                link: function(scope, element, attrs, controllers) {\n                    var $element = $(element);\n\n                    // we must remove data-kendo-widget-name attribute because\n                    // it breaks kendo.widgetInstance; can generate all kinds\n                    // of funny issues like\n                    //\n                    //   https://github.com/kendo-labs/angular-kendo/issues/167\n                    //\n                    // but we still keep the attribute without the\n                    // `data-` prefix, so k-rebind would work.\n                    var roleattr = role.replace(/([A-Z])/g, \"-$1\");\n\n                    $element.attr(roleattr, $element.attr(\"data-\" + roleattr));\n                    $element[0].removeAttribute(\"data-\" + roleattr);\n\n                    var widget = createWidget(scope, element, attrs, role, origAttr, controllers);\n\n                    if (!widget) {\n                        return;\n                    }\n\n                    if (kendoRenderedTimeout) {\n                        clearTimeout(kendoRenderedTimeout);\n                    }\n\n                    kendoRenderedTimeout = setTimeout(function() {\n                        scope.$emit(\"kendoRendered\");\n                        if (!RENDERED) {\n                            RENDERED = true;\n                            $(\"form\").each(function() {\n                                var form = $(this).controller(\"form\");\n                                if (form) {\n                                    form.$setPristine();\n                                }\n                            });\n                        }\n                    });\n                }\n            };\n        };\n\n        return {\n            create: create\n        };\n    }]);\n\n    var TAGNAMES = {\n        Editor: \"textarea\",\n        NumericTextBox: \"input\",\n        DatePicker: \"input\",\n        DateTimePicker: \"input\",\n        TimePicker: \"input\",\n        AutoComplete: \"input\",\n        ColorPicker: \"input\",\n        MaskedTextBox: \"input\",\n        MultiSelect: \"input\",\n        Upload: \"input\",\n        Validator: \"form\",\n        Button: \"button\",\n        MobileButton: \"a\",\n        MobileBackButton: \"a\",\n        MobileDetailButton: \"a\",\n        ListView: \"ul\",\n        MobileListView: \"ul\",\n        ScrollView: \"div\",\n        PanelBar: \"ul\",\n        TreeView: \"ul\",\n        Menu: \"ul\",\n        ContextMenu: \"ul\",\n        ActionSheet: \"ul\",\n        Switch: \"input\"\n    };\n\n    var SKIP_SHORTCUTS = [\n        'MobileView',\n        'MobileDrawer',\n        'MobileLayout',\n        'MobileSplitView',\n        'MobilePane',\n        'MobileModalView'\n    ];\n\n    var MANUAL_DIRECTIVES = [\n        'MobileApplication',\n        'MobileView',\n        'MobileModalView',\n        'MobileLayout',\n        'MobileActionSheet',\n        'MobileDrawer',\n        'MobileSplitView',\n        'MobilePane',\n        'MobileScrollView',\n        'MobilePopOver'\n    ];\n\n    angular.forEach(['MobileNavBar', 'MobileButton', 'MobileBackButton', 'MobileDetailButton', 'MobileTabStrip', 'MobileScrollView', 'MobileScroller'], function(widget) {\n        MANUAL_DIRECTIVES.push(widget);\n        widget = \"kendo\" + widget;\n        module.directive(widget, function() {\n            return {\n                restrict: \"A\",\n                link: function(scope, element, attrs) {\n                    createWidget(scope, element, attrs, widget, widget);\n                }\n            };\n        });\n    });\n\n    function createDirectives(klass, isMobile) {\n        function make(directiveName, widgetName) {\n            module.directive(directiveName, [\n                \"directiveFactory\",\n                function(directiveFactory) {\n                    return directiveFactory.create(widgetName, directiveName);\n                }\n            ]);\n        }\n\n        var name = isMobile ? \"Mobile\" : \"\";\n        name += klass.fn.options.name;\n\n        var className = name;\n        var shortcut = \"kendo\" + name.charAt(0) + name.substr(1).toLowerCase();\n        name = \"kendo\" + name;\n\n        // <kendo-numerictextbox>-type directives\n        var dashed = name.replace(/([A-Z])/g, \"-$1\");\n\n        if (SKIP_SHORTCUTS.indexOf(name.replace(\"kendo\", \"\")) == -1) {\n            var names = name === shortcut ? [ name ] : [ name, shortcut ];\n            angular.forEach(names, function(directiveName) {\n                module.directive(directiveName, function() {\n                    return {\n                        restrict: \"E\",\n                        replace: true,\n                        template: function(element, attributes) {\n                            var tag = TAGNAMES[className] || \"div\";\n                            var scopeField = attributes.kScopeField || attributes.scopeField;\n\n                            return \"<\" + tag + \" \" + dashed + (scopeField ? ('=\"' + scopeField + '\"') : \"\") + \">\" + element.html() + \"</\" + tag + \">\";\n                        }\n                    };\n                });\n            });\n        }\n\n        if (MANUAL_DIRECTIVES.indexOf(name.replace(\"kendo\", \"\")) > -1) {\n            return;\n        }\n\n        // here name should be like kendoMobileListView so kendo-mobile-list-view works,\n        // and shortcut like kendoMobilelistview, for kendo-mobilelistview\n\n        make(name, name);\n        if (shortcut != name) {\n            make(shortcut, name);\n        }\n\n    }\n\n    /* -----[ utils ]----- */\n\n    function kendoWidgetInstance(el) {\n        el = $(el);\n        return kendo.widgetInstance(el, kendo.ui) ||\n            kendo.widgetInstance(el, kendo.mobile.ui) ||\n            kendo.widgetInstance(el, kendo.dataviz.ui);\n    }\n\n    function digest(scope, func) {\n        var root = scope.$root || scope;\n        var isDigesting = /^\\$(digest|apply)$/.test(root.$$phase);\n        if (func) {\n            if (isDigesting) {\n                func();\n            } else {\n                root.$apply(func);\n            }\n        } else if (!isDigesting) {\n            root.$digest();\n        }\n    }\n\n    function destroyScope(scope, el) {\n        scope.$destroy();\n        if (el) {\n            // prevent leaks. https://github.com/kendo-labs/angular-kendo/issues/237\n            $(el)\n                .removeData(\"$scope\")\n                .removeData(\"$$kendoScope\")\n                .removeData(\"$isolateScope\")\n                .removeData(\"$isolateScopeNoTemplate\")\n                .removeClass(\"ng-scope\");\n        }\n    }\n\n    var encode = kendo.htmlEncode;\n    var open = /{{/g;\n    var close = /}}/g;\n    var encOpen = '{&#8203;{';\n    var encClose = '}&#8203;}';\n\n    kendo.htmlEncode = function(str) {\n        return encode(str)\n            .replace(open, encOpen)\n            .replace(close, encClose);\n    };\n\n    var pendingPatches = [];\n\n    // defadvice will patch a class' method with another function.  That\n    // function will be called in a context containing `next` (to call\n    // the next method) and `object` (a reference to the original\n    // object).\n    function defadvice(klass, methodName, func) {\n        if (Array.isArray(klass)) {\n            return angular.forEach(klass, function(klass) {\n                defadvice(klass, methodName, func);\n            });\n        }\n        if (typeof klass == \"string\") {\n            var a = klass.split(\".\");\n            var x = kendo;\n            while (x && a.length > 0) {\n                x = x[a.shift()];\n            }\n            if (!x) {\n                pendingPatches.push([ klass, methodName, func ]);\n                return false;\n            }\n            klass = x.prototype;\n        }\n        var origMethod = klass[methodName];\n        klass[methodName] = function() {\n            var self = this, args = arguments;\n            return func.apply({\n                self: self,\n                next: function() {\n                    return origMethod.apply(self, arguments.length > 0 ? arguments : args);\n                }\n            }, args);\n        };\n        return true;\n    }\n\n    kendo.onWidgetRegistered(function(entry) {\n        pendingPatches = $.grep(pendingPatches, function(args) {\n            return !defadvice.apply(null, args);\n        });\n        createDirectives(entry.widget, entry.prefix == \"Mobile\");\n    });\n\n    /* -----[ Customize widgets for Angular ]----- */\n\n    defadvice([ \"ui.Widget\", \"mobile.ui.Widget\" ], \"angular\", function(cmd, arg) {\n        var self = this.self;\n        if (cmd == \"init\") {\n            // `arg` here should be the widget options.\n            // the Chart doesn't send the options to Widget::init in constructor\n            // hence the OPTIONS_NOW hack (initialized in createWidget).\n            if (!arg && OPTIONS_NOW) {\n                arg = OPTIONS_NOW;\n            }\n            OPTIONS_NOW = null;\n            if (arg && arg.$angular) {\n                self.$angular_scope = arg.$angular[0];\n                self.$angular_init(self.element, arg);\n            }\n            return;\n        }\n\n        var scope = self.$angular_scope;\n\n        if (scope) {\n            withoutTimeout(function() {\n                var x = arg(), elements = x.elements, data = x.data;\n                if (elements.length > 0) {\n                    switch (cmd) {\n\n                      case \"cleanup\":\n                        angular.forEach(elements, function(el) {\n                            var itemScope = $(el).data(\"$$kendoScope\");\n\n                            if (itemScope && itemScope !== scope && itemScope.$$kendoScope) {\n                                destroyScope(itemScope, el);\n                            }\n                        });\n                        break;\n\n                      case \"compile\":\n                        var injector = self.element.injector();\n                        var compile = injector ? injector.get(\"$compile\") : $defaultCompile;\n\n                        angular.forEach(elements, function(el, i) {\n                            var itemScope;\n                            if (x.scopeFrom) {\n                                itemScope = x.scopeFrom;\n                            } else {\n                                var vars = data && data[i];\n                                if (vars !== undefined) {\n                                    itemScope = $.extend(scope.$new(), vars);\n                                    itemScope.$$kendoScope = true;\n                                } else {\n                                    itemScope = scope;\n                                }\n                            }\n\n                            $(el).data(\"$$kendoScope\", itemScope);\n                            compile(el)(itemScope);\n                        });\n                        digest(scope);\n                        break;\n                    }\n                }\n            });\n        }\n    });\n\n    defadvice(\"ui.Widget\", \"$angular_getLogicValue\", function() {\n        return this.self.value();\n    });\n\n    defadvice(\"ui.Widget\", \"$angular_setLogicValue\", function(val) {\n        this.self.value(val);\n    });\n\n    defadvice(\"ui.Select\", \"$angular_getLogicValue\", function() {\n        var item = this.self.dataItem(),\n            valueField = this.self.options.dataValueField;\n\n        if (item) {\n            if (this.self.options.valuePrimitive) {\n                if (!!valueField) {\n                    return item[valueField];\n                } else {\n                    return item;\n                }\n            } else {\n                return item.toJSON();\n            }\n        } else {\n            return null;\n        }\n    });\n\n    defadvice(\"ui.Select\", \"$angular_setLogicValue\", function(val) {\n        var self = this.self;\n        var options = self.options;\n        var valueField = options.dataValueField;\n        var text = options.text || \"\";\n\n        if (val === undefined) {\n            val = \"\";\n        }\n\n        if (valueField && !options.valuePrimitive && val) {\n            text = val[options.dataTextField] || \"\";\n            val = val[valueField || options.dataTextField];\n        }\n\n        if (self.options.autoBind === false && !self.listView.bound()) {\n            if (!text && val && options.valuePrimitive) {\n                self.value(val);\n            } else {\n                self._preselect(val, text);\n            }\n        } else {\n            self.value(val);\n        }\n    });\n\n    defadvice(\"ui.MultiSelect\", \"$angular_getLogicValue\", function() {\n        var value = this.self.dataItems().slice(0);\n        var valueField = this.self.options.dataValueField;\n\n        if (valueField && this.self.options.valuePrimitive) {\n            value = $.map(value, function(item) {\n                return item[valueField];\n            });\n        }\n\n        return value;\n    });\n\n    defadvice(\"ui.MultiSelect\", \"$angular_setLogicValue\", function(val) {\n        if (val == null) {\n            val = [];\n        }\n\n        var self = this.self;\n        var options = self.options;\n        var valueField = options.dataValueField;\n        var data = val;\n\n        if (valueField && !options.valuePrimitive) {\n            val = $.map(val, function(item) {\n                return item[valueField];\n            });\n        }\n\n        if (options.autoBind === false && !options.valuePrimitive && !self.listView.bound()) {\n            self._preselect(data, val);\n        } else {\n            self.value(val);\n        }\n    });\n\n    /* AutoComplete's getter and setter are removed!\n       By design, AutoComplete should be bound only to primitive string\n       value and data items are bound only to serve the list of suggestions.\n\n       Binding multiple data items is supported by the MultiSelect widget.\n    */\n\n    // All event handlers that are strings are compiled the Angular way.\n    defadvice(\"ui.Widget\", \"$angular_init\", function(element, options) {\n        var self = this.self;\n        if (options && !Array.isArray(options)) {\n            var scope = self.$angular_scope;\n            for (var i = self.events.length; --i >= 0;) {\n                var event = self.events[i];\n                var handler = options[event];\n                if (handler && typeof handler == \"string\") {\n                    options[event] = self.$angular_makeEventHandler(event, scope, handler);\n                }\n            }\n        }\n    });\n\n    // most handers will only contain a kendoEvent in the scope.\n    defadvice(\"ui.Widget\", \"$angular_makeEventHandler\", function(event, scope, handler) {\n        handler = $parse(handler);\n        return function(e) {\n            digest(scope, function() {\n                handler(scope, { kendoEvent: e });\n            });\n        };\n    });\n\n    // for the Grid and ListView we add `data` and `selected` too.\n    defadvice([ \"ui.Grid\", \"ui.ListView\", \"ui.TreeView\", \"ui.PanelBar\" ], \"$angular_makeEventHandler\", function(event, scope, handler) {\n        if (event != \"change\") {\n            return this.next();\n        }\n        handler = $parse(handler);\n        return function(ev) {\n            var widget = ev.sender;\n            var options = widget.options;\n            var cell, multiple, locals = { kendoEvent: ev }, elems, items, columns, colIdx;\n\n            if (angular.isString(options.selectable)) {\n                cell = options.selectable.indexOf('cell') !== -1;\n                multiple = options.selectable.indexOf('multiple') !== -1;\n            }\n            if (widget._checkBoxSelection) {\n                multiple = true;\n            }\n\n            elems = locals.selected = this.select();\n            items = locals.data = [];\n            columns = locals.columns = [];\n            for (var i = 0; i < elems.length; i++) {\n                var item = cell ? elems[i].parentNode : elems[i];\n                var dataItem = widget.dataItem(item);\n                if (cell) {\n                    if (angular.element.inArray(dataItem, items) < 0) {\n                        items.push(dataItem);\n                    }\n                    colIdx = angular.element(elems[i]).index();\n                    if (angular.element.inArray(colIdx, columns) < 0 ) {\n                        columns.push(colIdx);\n                    }\n                } else {\n                    items.push(dataItem);\n                }\n            }\n\n            if (!multiple) {\n                locals.dataItem = locals.data = items[0];\n                locals.angularDataItem = kendo.proxyModelSetters(locals.dataItem);\n                locals.selected = elems[0];\n            }\n\n            digest(scope, function() {\n                handler(scope, locals);\n            });\n        };\n    });\n\n    // If no `template` is supplied for Grid columns, provide an Angular\n    // template.  The reason is that in this way AngularJS will take\n    // care to update the view as the data in scope changes.\n    defadvice(\"ui.Grid\", \"$angular_init\", function(element, options) {\n        this.next();\n        if (options.columns) {\n            var settings = $.extend({}, kendo.Template, options.templateSettings);\n            angular.forEach(options.columns, function(col) {\n                if (col.field && !col.template && !col.format && !col.values && (col.encoded === undefined || col.encoded)) {\n                    col.template = \"<span ng-bind='\" +\n                        kendo.expr(col.field, \"dataItem\") + \"'>#: \" +\n                        kendo.expr(col.field, settings.paramName) + \"#</span>\";\n                }\n            });\n        }\n    });\n\n    {\n        // mobile/ButtonGroup does not have a \"value\" method, but looks\n        // like it would be useful.  We provide it here.\n\n        defadvice(\"mobile.ui.ButtonGroup\", \"value\", function(mew) {\n            var self = this.self;\n            if (mew != null) {\n                self.select(self.element.children(\"li.km-button\").eq(mew));\n                self.trigger(\"change\");\n                self.trigger(\"select\", { index: self.selectedIndex });\n            }\n            return self.selectedIndex;\n        });\n\n        defadvice(\"mobile.ui.ButtonGroup\", \"_select\", function() {\n            this.next();\n            this.self.trigger(\"change\");\n        });\n    }\n\n    // mobile directives\n    module\n    .directive('kendoMobileApplication', function() {\n        return {\n            terminal: true,\n            link: function(scope, element, attrs) {\n                createWidget(scope, element, attrs, 'kendoMobileApplication', 'kendoMobileApplication');\n            }\n        };\n    }).directive('kendoMobileView', function() {\n        return {\n            scope: true,\n            link: {\n                pre: function(scope, element, attrs) {\n                    attrs.defaultOptions = scope.viewOptions;\n                    attrs._instance = createWidget(scope, element, attrs, 'kendoMobileView', 'kendoMobileView');\n                },\n\n                post: function(scope, element, attrs) {\n                    attrs._instance._layout();\n                    attrs._instance._scroller();\n                }\n            }\n        };\n    }).directive('kendoMobileDrawer', function() {\n        return {\n            scope: true,\n            link: {\n                pre: function(scope, element, attrs) {\n                    attrs.defaultOptions = scope.viewOptions;\n                    attrs._instance = createWidget(scope, element, attrs, 'kendoMobileDrawer', 'kendoMobileDrawer');\n                },\n\n                post: function(scope, element, attrs) {\n                    attrs._instance._layout();\n                    attrs._instance._scroller();\n                }\n            }\n        };\n    }).directive('kendoMobileModalView', function() {\n        return {\n            scope: true,\n            link: {\n                pre: function(scope, element, attrs) {\n                    attrs.defaultOptions = scope.viewOptions;\n                    attrs._instance = createWidget(scope, element, attrs, 'kendoMobileModalView', 'kendoMobileModalView');\n                },\n\n                post: function(scope, element, attrs) {\n                    attrs._instance._layout();\n                    attrs._instance._scroller();\n                }\n            }\n        };\n    }).directive('kendoMobileSplitView', function() {\n        return {\n            terminal: true,\n            link: {\n                pre: function(scope, element, attrs) {\n                    attrs.defaultOptions = scope.viewOptions;\n                    attrs._instance = createWidget(scope, element, attrs, 'kendoMobileSplitView', 'kendoMobileSplitView');\n                },\n\n                post: function(scope, element, attrs) {\n                    attrs._instance._layout();\n                }\n            }\n        };\n    }).directive('kendoMobilePane', function() {\n        return {\n            terminal: true,\n            link: {\n                pre: function(scope, element, attrs) {\n                    attrs.defaultOptions = scope.viewOptions;\n                    createWidget(scope, element, attrs, 'kendoMobilePane', 'kendoMobilePane');\n                }\n            }\n        };\n    }).directive('kendoMobileLayout', function() {\n        return {\n            link: {\n                pre: function(scope, element, attrs) {\n                    createWidget(scope, element, attrs, 'kendoMobileLayout', 'kendoMobileLayout');\n                }\n            }\n        };\n    }).directive('kendoMobileActionSheet', function() {\n        return {\n            restrict: \"A\",\n            link: function(scope, element, attrs) {\n                element.find(\"a[k-action]\").each(function() {\n                    $(this).attr(\"data-\" + kendo.ns + \"action\", $(this).attr(\"k-action\"));\n                });\n\n                createWidget(scope, element, attrs, 'kendoMobileActionSheet', 'kendoMobileActionSheet');\n            }\n        };\n    }).directive('kendoMobilePopOver', function() {\n        return {\n            terminal: true,\n            link: {\n                pre: function(scope, element, attrs) {\n                    attrs.defaultOptions = scope.viewOptions;\n                    createWidget(scope, element, attrs, 'kendoMobilePopOver', 'kendoMobilePopOver');\n                }\n            }\n        };\n    }).directive('kendoViewTitle', function() {\n        return {\n            restrict: \"E\",\n            replace: true,\n            template: function(element) {\n                return \"<span data-\" + kendo.ns + \"role='view-title'>\" + element.html() + \"</span>\";\n            }\n        };\n    }).directive('kendoMobileHeader', function() {\n            return {\n                restrict: \"E\",\n                link: function(scope, element) {\n                    element.addClass(\"km-header\").attr(\"data-role\", \"header\");\n                }\n            };\n    }).directive('kendoMobileFooter', function() {\n            return {\n                restrict: 'E',\n                link: function(scope, element) {\n                    element.addClass(\"km-footer\").attr(\"data-role\", \"footer\");\n                }\n            };\n    }).directive('kendoMobileScrollViewPage', function() {\n        return {\n            restrict: \"E\",\n            replace: true,\n            template: function(element) {\n                return \"<div data-\" + kendo.ns + \"role='page'>\" + element.html() + \"</div>\";\n            }\n        };\n    });\n\n    angular.forEach(['align', 'icon', 'rel', 'transition', 'actionsheetContext'], function(attr) {\n          var kAttr = \"k\" + attr.slice(0, 1).toUpperCase() + attr.slice(1);\n\n          module.directive(kAttr, function() {\n              return {\n                  restrict: 'A',\n                  priority: 2,\n                  link: function(scope, element, attrs) {\n                      element.attr(kendo.attr(kendo.toHyphens(attr)), scope.$eval(attrs[kAttr]));\n                  }\n              };\n          });\n    });\n\n    var WIDGET_TEMPLATE_OPTIONS = {\n        \"TreeMap\": [ \"Template\" ],\n        \"MobileListView\": [ \"HeaderTemplate\", \"Template\" ],\n        \"MobileScrollView\": [ \"EmptyTemplate\", \"Template\" ],\n        \"Grid\": [ \"AltRowTemplate\", \"DetailTemplate\", \"RowTemplate\" ],\n        \"ListView\": [ \"EditTemplate\", \"Template\", \"AltTemplate\" ],\n        \"Pager\": [ \"SelectTemplate\", \"LinkTemplate\" ],\n        \"PivotGrid\": [ \"ColumnHeaderTemplate\", \"DataCellTemplate\", \"RowHeaderTemplate\" ],\n        \"Scheduler\": [\"AllDayEventTemplate\", \"DateHeaderTemplate\", \"EventTemplate\", \"MajorTimeHeaderTemplate\", \"MinorTimeHeaderTemplate\"],\n        \"ScrollView\": [ \"Template\" ],\n        \"PanelBar\": [ \"Template\" ],\n        \"TreeView\": [ \"Template\" ],\n        \"Validator\": [ \"ErrorTemplate\" ]\n    };\n\n    (function() {\n        var templateDirectives = {};\n        angular.forEach(WIDGET_TEMPLATE_OPTIONS, function(templates, widget) {\n            angular.forEach(templates, function(template) {\n                if (!templateDirectives[template]) {\n                    templateDirectives[template] = [ ];\n                }\n                templateDirectives[template].push(\"?^^kendo\" + widget);\n            });\n        });\n\n        angular.forEach(templateDirectives, function(parents, directive) {\n            var templateName = \"k\" + directive;\n            var attrName = kendo.toHyphens(templateName);\n\n            module.directive(templateName, function() {\n                return {\n                    restrict: \"A\",\n                    require: parents,\n                    terminal: true,\n                    compile: function($element, $attrs) {\n                        if ($attrs[templateName] !== \"\") {\n                            return;\n                        }\n\n                        $element.removeAttr(attrName);\n                        var template = $element[0].outerHTML;\n\n                        return function(scope, element, attrs, controllers) {\n                            var controller;\n\n                            while (!controller && controllers.length) {\n                                controller = controllers.shift();\n                            }\n\n                            if (!controller) {\n                                $log.warn(attrName + \" without a matching parent widget found. It can be one of the following: \" + parents.join(\", \"));\n                            } else {\n                                controller.template(templateName, template);\n                                element.remove();\n                            }\n                        };\n                    }\n                };\n            });\n        });\n\n    })();\n\n\n})(window.kendo.jQuery, window.angular);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.ui.core',[\n        \"kendo.core\",\n        \"kendo.router\",\n        \"kendo.touch\",\n        \"kendo.view\",\n        \"kendo.floatinglabel\",\n        \"kendo.fx\",\n        \"kendo.data.odata\",\n        \"kendo.data.xml\",\n        \"kendo.data\",\n        \"kendo.data.signalr\",\n        \"kendo.binder\",\n        \"kendo.validator\",\n        \"kendo.userevents\",\n        \"kendo.draganddrop\",\n        \"kendo.mobile.scroller\",\n        \"kendo.resizable\",\n        \"kendo.sortable\",\n        \"kendo.selectable\",\n        \"kendo.badge\",\n        \"kendo.button\",\n        \"kendo.bottomnavigation\",\n        \"kendo.pager\",\n        \"kendo.popup\",\n        \"kendo.notification\",\n        \"kendo.tooltip\",\n        \"kendo.splitbutton\",\n        \"kendo.dropdownbutton\",\n        \"kendo.toolbar\",\n        \"kendo.list\",\n        \"kendo.calendar\",\n        \"kendo.dateinput\",\n        \"kendo.datepicker\",\n        \"kendo.autocomplete\",\n        \"kendo.dropdownlist\",\n        \"kendo.combobox\",\n        \"kendo.multiselect\",\n        \"kendo.colorpicker\",\n        \"kendo.listview\",\n        \"kendo.listbox\",\n        \"kendo.loader\",\n        \"kendo.textbox\",\n        \"kendo.textarea\",\n        \"kendo.numerictextbox\",\n        \"kendo.maskedtextbox\",\n        \"kendo.menu\",\n        \"kendo.editable\",\n        \"kendo.panelbar\",\n        \"kendo.progressbar\",\n        \"kendo.responsivepanel\",\n        \"kendo.tabstrip\",\n        \"kendo.timepicker\",\n        \"kendo.datetimepicker\",\n        \"kendo.slider\",\n        \"kendo.splitter\",\n        \"kendo.dialog\",\n        \"kendo.window\",\n        \"kendo.virtuallist\",\n        \"kendo.mobile.popover\",\n        \"kendo.mobile.loader\",\n        \"kendo.mobile.scroller\",\n        \"kendo.mobile.shim\",\n        \"kendo.mobile.view\",\n        \"kendo.mobile.modalview\",\n        \"kendo.mobile.drawer\",\n        \"kendo.mobile.splitview\",\n        \"kendo.mobile.pane\",\n        \"kendo.mobile.application\",\n        \"kendo.mobile.actionsheet\",\n        \"kendo.mobile.button\",\n        \"kendo.mobile.buttongroup\",\n        \"kendo.mobile.collapsible\",\n        \"kendo.mobile.listview\",\n        \"kendo.mobile.navbar\",\n        \"kendo.mobile.scrollview\",\n        \"kendo.mobile.switch\",\n        \"kendo.mobile.tabstrip\",\n        \"kendo.angular\"\n    ], f);\n})(function() {\n    \"bundle all\";\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n"],"names":["define","__meta__","id","name","category","description","packageMetadata","productName","productCodes","publishDate","version","replace","licensingDocsUrl","$","jQuery","window","undefined","kendo","cultures","extend","each","isArray","Array","noop","math","Math","Template","JSON","support","percentRegExp","formatRegExp","boxShadowRegExp","numberRegExp","FUNCTION","STRING","NUMBER","OBJECT","NULL","BOOLEAN","UNDEFINED","PREFIX","ARIA_LABELLEDBY","ARIA_LABEL","LABELIDPART","getterCache","setterCache","slice","cssPropertiesNames","noDepricateExtend","src","copyIsArray","copy","options","clone","target","arguments","i","length","deep","this","isPlainObject","Class","proto","base","member","that","subclass","init","apply","fn","prototype","constructor","Object","_initOptions","deepExtend","isFunction","preventDefault","_defaultPrevented","isDefaultPrevented","Observable","_events","bind","eventName","handlers","one","idx","eventNames","original","handler","handlersIsFunction","events","unbind","push","first","unshift","trigger","e","sender","call","splice","compilePart","part","stringPart","split","join","charAt","rest","substring","argumentNameRegExp","encodeRegExp","escapedCurlyRegExp","curlyRegExp","escapedSharpRegExp","sharpRegExp","zeros","pad","number","digits","end","paramName","useWithBlock","render","template","data","html","compile","settings","argumentName","match","functionBody","parts","Function","_slotCount","floor","Error","format","escapable","gap","indent","meta","\b","\t","\n","\f","\r","\"","\\","rep","toString","Date","toJSON","isFinite","valueOf","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","String","Number","Boolean","quote","string","lastIndex","test","a","c","charCodeAt","str","key","holder","k","v","mind","partial","value","type","hasOwnProperty","stringify","replacer","space","","dateFormatRegExp","standardFormatRegExp","literalRegExp","commaRegExp","EMPTY","POINT","COMMA","SHARP","ZERO","PLACEHOLDER","EN","objectToString","findCulture","culture","numberFormat","getCulture","current","formatDate","date","calendar","calendars","standard","days","months","patterns","minutes","result","sign","getDate","namesAbbr","getDay","names","getMonth","getFullYear","getHours","getMinutes","getSeconds","getMilliseconds","AM","PM","getTimezoneOffset","abs","formatNumber","decimal","precision","decimals","pattern","literals","symbol","isCurrency","isPercent","customPrecision","formatAndPrecision","negative","integer","fraction","integerLength","fractionLength","replacement","ch","hasGroup","hasNegativeFormat","decimalIndex","sharpIndex","zeroIndex","hasZero","hasSharp","percentIndex","currencyIndex","startZeroIndex","start","toLocaleString","exec","toLowerCase","currency","percent","exp","toExponential","round","groupInteger","indexOf","quoteChar","literal","lastIndexOf","rounded","max",",",".","groupSize","abbr","namesShort","d","D","F","g","G","m","M","s","t","T","u","y","Y","/",":","firstDay","twoDigitYearMax","cultureName","groupSizes","shift","newGroupSize","reverse","toFixed","min","fmt","nonBreakingSpaceRegExp","values","index","placeholderFormat","parseInt","_extractFormat","_activeElement","document","activeElement","documentElement","_round","_outerWidth","element","includeMargin","outerWidth","_outerHeight","outerHeight","spaceRegExp","exponentRegExp","shortTimeZoneRegExp","longTimeZoneRegExp","dateRegExp","offsetRegExp","FORMATS_SEQUENCE","STANDARD_FORMATS","2","3","4","outOfRange","designatorPredicate","designator","mapDesignators","designators","map","adjustDST","hours","setHours","lowerArray","array","lowerLocalInfo","localInfo","newLocalInfo","property","parseExact","strict","lookAhead","getNumber","size","rg","RegExp","substr","valueIdx","getIndexByName","lower","nameLength","matchLength","matchIdx","subValue","checkLiteral","year","month","day","seconds","milliseconds","defaultYear","count","pmHour","UTC","matches","amDesignators","pmDesignators","hoursOffset","minutesOffset","hasTime","_lowerDays","_lowerMonths","parseFloat","isNaN","setFullYear","parseMicrosoftFormatOffset","offset","getDefaultFormats","cultureFormats","formatIdx","formats","concat","internalParseDate","tzoffset","timezone","convert","getShadows","shadow","css","transitions","radius","blur","left","right","bottom","wrap","autosize","percentage","parent","windowOuterWidth","removeClass","hasClass","width","style","height","percentWidth","percentHeight","forceWidth","is","addClass","attr","boxSizing","mozBoxSizing","webkitBoxSizing","wrapResize","wrapper","wrapperStyle","display","position","destination","deepExtendOne","source","ObservableArray","LazyObservableArray","DataSource","HierarchicalDataSource","propValue","propType","propInit","destProp","ArrayBuffer","HTMLElement","getTime","testRx","agent","rxs","dflt","rx","toHyphens","toCamelCase","strMatch","g1","toUpperCase","getComputedStyles","properties","styles","computedStyle","defaultView","getComputedStyle","getPropertyValue","currentStyle","isScrollable","dataset","ns","className","overflow","scrollLeft","webkit","browser","mozila","mozilla","browserVersion","el","isRtl","safari","scrollWidth","clientWidth","parseDate","parseExactDate","percentSymbol","_scrollbar","scrollbar","refresh","div","createElement","cssText","innerHTML","body","appendChild","offsetWidth","removeChild","closest","table","tbodyInnerHtml","touch","docStyle","transforms","elementProto","hasHW3D","WebKitCSSMatrix","cssFlexbox","prefix","hasTransitions","lowPrefix","event","devicePixelRatio","screenWidth","screen","availWidth","innerWidth","screenHeight","availHeight","innerHeight","detectOS","ua","os","minorVersion","notAndroidPhone","agentRxs","wp","fire","android","iphone","ipad","meego","webos","blackberry","playbook","windows","tizen","sailfish","ffos","osRxs","ios","flat","formFactorRxs","tablet","browserRxs","omini","omobile","firefox","mobilesafari","ie","chrome","navigator","device","majorVersion","flatVersion","cordova","PhoneGap","appMode","standalone","location","protocol","mobileOS","userAgent","wpDevicePixelRatio","hasNativeScrolling","delayedClick","mouseAndTouchPresent","detectBrowser","chromiumEdgeMatch","edge","opera","msie","documentMode","chromiumEdge","detectClipboardAccess","commands","queryCommandSupported","cut","paste","clipboard","zoomLevel","ie11WidthCorrection","docEl","scrollHeight","clientHeight","top","cssClass","docElement","eventCapture","addEventListener","input","placeholder","propertyChangeEvent","types","setAttribute","cssFloat","stableSort","threshold","sorted","field","sort","b","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","selector","nodeList","querySelectorAll","parentNode","matchMedia","pushState","history","hashChange","customElements","mobileChrome","crios","obj","getOffset","positioned","pointers","msPointers","pageYOffset","pageXOffset","MSPointerEvent","PointerEvent","kineticScrollNeeded","directions","down","up","in","out","parseEffects","effects","fx","Element","prepareAnimationOptions","duration","complete","teardown","hide","completeCallback","animate","instance","queue","promise","toggleClass","classes","add","enabled","dequeue","disable","promiseShim","enable","animatedPromise","kendoStop","clearQueue","gotoEnd","stop","kendoAnimate","kendoAddClass","kendoRemoveClass","kendoToggleClass","toggle","ampRegExp","ltRegExp","quoteRegExp","aposRegExp","gtRegExp","htmlEncode","unescape","decodeURIComponent","error","_","m1","m2","fromCharCode","eventTarget","touches","originalEvent","changedTouches","elementFromPoint","clientX","clientY","callback","on","mousedown","mouseup","mousemove","mousecancel","click","resize","wrapExpression","members","localUrlRe","Widget","widgets","_widgetRegisteredCallbacks","ui","mobile","dataviz","drawing","spreadsheet","messages","keys","INSERT","DELETE","BACKSPACE","TAB","ENTER","ESC","LEFT","UP","RIGHT","DOWN","END","HOME","SPACEBAR","PAGEUP","PAGEDOWN","F2","F10","F12","NUMPAD_PLUS","NUMPAD_MINUS","NUMPAD_DOT","isLocalUrl","url","expr","expression","safe","getter","setter","accessor","get","set","guid","random","chars","roleSelector","role","directiveSelector","directives","selectors","triggeredByInput","tagName","onWidgetRegistered","len","logToConsole","message","console","suppressLog","log","validatePackage","angular","dataSource","props","componentTypes","componentType","defaults","_hasBindingTarget","kendoBindingTarget","_tabindex","TABINDEX","tabindex","removeAttr","setOptions","_clearCssClasses","_setEvents","_applyCssClasses","force","getSize","currentSize","_size","_resize","dimensions","setSize","destroy","removeData","_destroy","_muteAngularRebind","_muteRebind","protoOptions","__proto__","prop","validFill","widgetName","cssProperties","propertyDictionary","_altname","getValidClass","widget","propName","fillMode","fill","_ariaLabel","inputElm","inputId","labelElm","ariaLabel","ariaLabelledBy","labelId","_generateLabelId","newOptions","currentOptions","themeColor","label","DataBoundWidget","dataItems","flatView","_angularItems","cmd","elements","items","dataItem","templateRegExp","domElement","offsetHeight","notify","jsonRegExp","jsonFormatRegExp","dashRegExp","parseOption","option","getAttribute","parseOptions","containmentComparer","contains","resizableWidget","inArray","initWidget","roles","fullPath","widgetKeyRegExp","nodeType","widgetKey","isEmptyObject","rolesFromNamespaces","namespaces","find","addBack","filter","widgetsArray","makeArray","widgetInstance","progress","container","mask","leftRight","webkitCorrection","containerScrollLeft","scrollTop","opacity","loading","prependTo","remove","plugin","register","widgetEntry","args","method","ContainerNullObject","nullObject","MobileWidget","autoApplyNS","kendoDestroy","view","viewElement","viewHasNativeScrolling","useNativeScrolling","eq","focusable","isTabIndexNotNaN","nodeName","disabled","href","visible","pseudos","parents","appLevelNativeScrolling","application","themes","views","touchScroller","useNative","Scroller","kendoMobileScroller","suites","elementData","editorToolbar","onResize","setTimeout","unbindResize","off","attrValue","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","kendoFocusable","MOUSE_EVENTS","EXCLUDE_BUST_CLICK_SELECTOR","MouseEventNormalizer","setupMouseMute","mouseTrap","bustClick","captureMouse","stopPropagation","muteMouse","clearTimeout","mouseTrapTimeoutID","unMuteMouse","eventMap","move","cancel","MSPointerEnter","MSPointerLeave","orig","fix","special","delegateType","bindType","handle","ret","related","relatedTarget","handleObj","origType","getEventMap","eventRegEx","applyEventMap","keyDownHandler","kendoKeydown","preventKendoKeydown","kendoJQuery","context","rootjQuery","animationFrame","pop","search","touchstart","touchend","keyDownCallBack","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","Sun","Mon","Tue","Wed","Thu","Fri","Sat","ruleToDate","rule","targetDay","ourDay","time","cache","getUTCDay","setUTCDate","findRule","utcTime","rules","zone","grep","from","to","findZone","zones","zoneRules","until","zoneAndRule","info","fromOffset","toOffset","tempToOffset","diff","fromLocalOffset","toLocalOffset","toLocalDate","MS_PER_MINUTE","MS_PER_DAY","setDayOfWeek","dir","setDate","dayOfWeek","firstDayOfMonth","lastDayOfMonth","last","timeOffset","firstDayOfYear","lastDayOfYear","moveDateToWeekStart","weekStartDay","addDays","calcWeekInYear","firstWeekInYear","newDate","diffInMS","weekInYear","prevWeekDate","nextWeekDate","weekNumber","toUtcTime","toInvariantTime","isInTimeRange","msMin","msMax","msValue","isInDateRange","setTime","ignoreDST","difference","today","isToday","staticDate","addYear","currentDate","nextDay","previousDay","MS_PER_HOUR","nextYear","previousYear","stripWhitespace","createNodeIterator","iterator","NodeFilter","SHOW_TEXT","node","FILTER_ACCEPT","FILTER_REJECT","nextNode","referenceNode","textContent","trim","childNodes","child","nodeValue","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","animationQueue","themeColorValues","queueAnimation","runNextAnimation","parseQueryStringParams","queryString","params","paramParts","elementUnderCursor","x","client","wheelDeltaY","jQueryEvent","deltaY","delta","wheelDelta","detail","axis","VERTICAL_AXIS","throttle","delay","timeout","lastExecTime","throttled","elapsed","caret","rangeElement","isPosition","selectionStart","focus","setSelectionRange","selectionEnd","selection","createTextRange","collapse","moveStart","moveEnd","select","rangeDuplicated","duplicate","moveToBookmark","createRange","getBookmark","setEndPoint","text","compileMobileDirective","scope","injector","invoke","$compile","$$phase","$digest","antiForgeryTokens","tokens","csrf_token","csrf_param","cycleForm","form","firstElement","lastElement","keyCode","shiftKey","focusElement","scrollTopPositions","scrollableParents","parentsUntil","setActive","focusNextElement","focussable","nextElement","getWidgetFocusableElement","nextFocusable","addAttribute","attribute","removeAttribute","toggleAttribute","matchesMedia","mediaQuery","media","_bootstrapToMedia","bootstrapMedia","xs","sm","md","lg","xl","fileGroupMap","audio","video","image","txt","presentation","programming","pdf","config","zip","disc-image","getFileGroup","extension","withPrefix","fileTypeMap","groups","extensions","getFileSizeMessage","sizes","pow","selectorFromClasses","fillValues","shapeValues","sizeValues","roundedValues","positionModeValues","resizeValues","overflowValues","postToProxy","dataURI","fileName","proxyURL","proxyTarget","action","contentType","base64","appendTo","submit","defaultValues","registerPrefix","dict","registerValues","j","newValues","currentValue","registerCssClass","shorthand","registerCssClasses","arr","widgetProperties","widgetValues","validValue","fillModeValues","propertyToCssClassMap","getValidCssClass","whenAll","resolveValues","remaining","deferred","Deferred","failed","rejectContexts","rejectValues","resolveContexts","updateFunc","contexts","notifyWith","done","fail","resolveWith","fileSaver","downloadAttribute","saveAsBlob","blob","atob","Uint8Array","Blob","buffer","msSaveBlob","saveAsDataURI","URL","createObjectURL","download","createEvent","initMouseEvent","dispatchEvent","revokeObjectURL","saveAs","save","forceProxy","proxyModelSetters","observable","forEach","defineProperty","dirty","getSeriesColors","seriesColorsTemplate","series","colors","item","isElement","HTMLDocument","setDefaults","path","curr","class2type","_i","KendoLicensing","setScriptKey","amd","a1","a2","a3","depends","hidden","CHANGE","BACK","SAME","CHECK_URL_INTERVAL","BROKEN_BACK_NAV","hashStrip","absoluteURL","pathPrefix","regEx","host","hashDelimiter","bang","locationHash","stripRoot","root","HistoryAdapter","back","forward","replaceLocation","PushStateAdapter","navigate","title","replaceState","normalize","pathname","change","normalizeCurrent","fixedUrl","hash","hashBang","fixHash","fixBang","HashAdapter","_id","_interval","setInterval","clearInterval","History","_started","adapter","createAdapter","historyLength","locations","_checkUrl","silent","_navigate","backCalled","decode","newLength","navigatingInExisting","prev","backButtonPressed","INIT","ROUTE_MISSING","optionalParam","namedParam","splatParam","escapeRegExp","namedParamReplace","optional","routeToRegExp","route","ignoreCase","stripUrl","Route","_callback","queryStringParams","_back","worksWith","Router","routes","_urlChangedProxy","_sameProxy","_backProxy","sameProxy","_same","backProxy","urlChangedProxy","_urlChanged","same","initEventObject","now","OS","invalidZeroEvents","DEFAULT_MIN_HOLD","CLICK_DELAY","DEFAULT_THRESHOLD","PRESS","HOLD","SELECT","START","MOVE","CANCEL","TAP","DOUBLETAP","RELEASE","GESTURESTART","GESTURECHANGE","GESTUREEND","GESTURETAP","THRESHOLD","api","mouse","pointer","ENABLE_GLOBAL_SURFACE","touchDelta","touch1","touch2","x1","y1","x2","y2","dx","dy","center","distance","sqrt","getTouches","currentTarget","identifier","pointerId","TouchAxis","_updateLocationData","startLocation","velocity","timeStamp","timeDelta","initialDelta","Touch","userEvents","touchInfo","useClickAsTap","initialTouch","pressEvent","_clicks","supportDoubleTap","_moved","_finished","press","_holdTimeout","_hold","minHold","_trigger","_tap","_clickTimeout","preventMove","_shouldNotMove","_withinIgnoreThreshold","UserEvents","_start","dispose","endTime","activeTouches","skip","isMoved","startTime","xDelta","yDelta","withEachUpEvent","downEvents","_maxTouches","multiTouch","allowSelection","captureUpIfMoved","fastTap","eventNS","surface","global","ownerDocument","pressed","defaultAction","touchAction","preventDragEvent","surfaceElement","preventIfMovingProxy","preventIfMoving","_isMoved","_destroyed","removeEventListener","_disposeAll","capture","_isMultiTouch","_apiCall","_maxTouchesReached","_select","which","_move","_eachTouch","_end","_click","pageX","pageY","methodName","matchingTouch","defaultThreshold","MAX_DOUBLE_TAP_DISTANCE","eventProxy","_triggerTouch","gestureEventProxy","hold","tap","gesturestart","gesturechange","gestureend","enableSwipe","_swipestart","_swipemove","_dragstart","minXDelta","maxYDelta","maxDuration","doubleTapTimeout","lastTap","direction","NEWLINE","DOUBLELINE","odataFilters","neq","gt","gte","lt","lte","doesnotcontain","endswith","startswith","isnull","isnotnull","isnullorempty","isnotnullorempty","isempty","isnotempty","odataFiltersVersionFour","mappers","pageSize","page","useVersionFour","toOdataFilter","$filter","orderby","order","$orderby","$skip","take","$top","defaultDataType","read","dataType","useOdataFour","logic","operator","filters","stripMetadata","hex16","createBoundary","createDelimeter","boundary","close","createCommand","transport","httpVerb","command","transportUrl","commandPrefix","getOperationHeader","changeset","changeId","header","getOperationContent","content","getOperations","collection","skipContent","requestBody","processCollection","colection","getBoundary","createBatchRequest","colections","batch","batchURL","headers","Content-Type","updated","destroyed","created","parseBatchResponse","responseText","responseMarkers","markerIndex","collections","changeBody","status","code","marker","jsonModel","models","passed","parse","schemas","odata","results","total","transports","jsonp","update","create","parameterMap","$inlinecount","$format","odata-v4","$count","ajax","success","response","responses","XmlDataReader","model","errors","serialize","modelBase","Model","fields","idField","xpathToMember","evaluate","modelInstance","record","_parse","xmlParse","xml","parseDOM","parsedNode","attributes","attributeCount","firstChild","nextSibling","intermediateResult","tree","parseXML","raw","readers","features","ASCENDING","CREATE","READ","UPDATE","DESTROY","SYNC","GET","ERROR","REQUESTSTART","PROGRESS","REQUESTEND","ITEMSLOADED","ITEMLOAD","crud","identity","o","objectKeys","ObservableObject","wrapAll","_loadPromises","_loadedNodes","at","serializeFunctions","json","object","isGroup","_loading","nodes","omitChangeEvent","howMany","children","thisArg","reduce","reduceRight","every","some","empty","Symbol","parentFn","_parent","eventHandler","_notifyChange","isPrimitiveType","getPrototypeOf","ownKeys","ignoreObjectKeys","protoKeys","filteredObjectKeys","getOwnPropertyNames","_handlers","uid","shouldSerialize","f","_set","composite","paths","isSetPrevented","isObservableArray","isDataSource","equal","xtype","ytype","parsers","boolean","default","getFieldByName","fieldName","_initializers","dirtyFields","_defaultId","editable","accept","isNew","Comparer","originalName","functionFields","nullable","defaultValue","compare","localeCompare","combine","comparers","StableComparer","asc","valueA","valueB","__position","desc","operators","textOp","impl","ignore","accentFoldingFiltering","toLocaleLowerCase","op","getMatchRegexp","esc","doesnotstartwith","n","doesnotendwith","doesnotmatch","Query","normalizeSort","descriptor","descriptors","sortFields","sorts","sortObject","filterExpr","expressions","and","or","fieldFunctions","operatorFunctions","operatorMap","==","equals","isequalto","equalto","!=","ne","notequals","isnotequalto","notequalto","notequal","<","islessthan","lessthan","less","<=","le","islessthanorequalto","lessthanequal",">","isgreaterthan","greaterthan","greater",">=","isgreaterthanorequalto","greaterthanequal","ge","notsubstringof","normalizeOperator","normalizeFilter","compareDescriptor","f1","f2","normalizeDescriptor","fieldComparer","compareFilters","expr1","expr2","filters1","filters2","normalizeAggregate","normalizeGroup","skipItemSorting","aggregates","normalizeGroupWithoutCompare","anyGroupDescriptorHasCompare","groupDescriptors","groupValueComparer","calculateAggregate","accumulator","state","aggr","functionName","aggregate","functions","toArray","range","inPlace","orderBy","orderByDescending","comparer","compiled","predicate","group","allData","groupPaging","groupAllData","hasSubgroups","itemCount","subgroupCount","groupBy","_sortForGrouping","groupValue","_sortGroups","sum","isNumber","average","isDate","val","process","customGroupSort","query","groupDescriptorsWithoutCompare","normalizedSort","groupDescriptorsWithoutSort","filterCallback","flatGroups","groupDescriptor","virtual","LocalTransport","RemoteTransport","Cache","setup","parameters","operation","_store","clear","serializeRecords","getters","originalFieldNames","fieldNames","setters","convertRecords","convertGroup","wrapDataAccess","originalFunction","converter","wrapDataAccessBase","store","inmemory","DataReader","schema","dataFunction","_dataAccessFunction","groupsFunction","serializeFunction","serializeGetters","fromName","_wrapDataAccessBase","fillLastGroup","originalGroup","newGroup","currOriginal","currentNew","mergeGroups","dest","indexFunction","groupsLength","indexFn","groupIndex","itemIndex","flattenGroups","wrapGroupItems","eachGroupItems","func","replaceInRanges","ranges","replaceInRange","replaceWithObservable","serverGrouping","viewIndex","removeModel","indexOfPristineModel","indexOfModel","fieldNameFromModel","convertFilterDescriptorsField","convertDescriptorsField","_map","_prefetch","_data","_pristineData","_ranges","_view","_pristineTotal","_pageSize","_page","_sort","_sortFields","_filter","_group","_aggregate","_total","_groupPaging","_groupsState","_shouldDetachObservableParents","Transport","pushCreate","_pushCreate","pushUpdate","_pushUpdate","pushDestroy","_pushDestroy","offlineStorage","_storage","getItem","localStorage","setItem","reader","_detachObservableParents","_observe","_online","serverSorting","serverPaging","serverFiltering","serverAggregates","inPlaceSort","online","sync","resolve","offlineData","_isServerGrouped","_isServerGroupPaged","_isGroupPaged","_push","_readData","_flatData","useRanges","getByUid","_getByUid","_storeData","_addRange","_process","_observeView","insert","_createNewModel","_wrapInEmptyGroup","_insertModelInRange","pushInsert","rangeSpan","_getCurrentRangeSpan","pushed","autoSync","pristine","pristineData","_updatePristineForModel","_removeItems","removePristine","shouldRemovePristine","found","_eachItem","_removePristineForModel","pushMove","_moveItems","moved","hasGroups","_pushInDestroyed","_removeModelFromRanges","promises","_sendSubmit","_send","when","then","_accept","_syncEnd","_change","cancelChanges","_cancelModel","_changesCanceled","_markOfflineUpdatesAsDirty","__state__","hasChanges","serverGroup","_handleCustomErrors","_executeOnPristineForModel","_eachPristineItem","_pristineForModel","_modelCanceled","_submit","reject","_promise","converted","_params","_queueRequest","isPrevented","_dequeueRequest","_readAggregates","replaceSubset","_serverGroupsTotal","_aggregateResult","itemIds","_skip","endless","_changeHandler","updatePristine","timestamp","_timeStamp","outerStart","outerEnd","_sortRanges","_groupsFlat","_appendToGroupsFlat","_updateOuterRangesLength","_getGroupByUid","xhr","errorThrown","_requestInProgress","_pending","_shouldWrap","arrayType","_updateTotalForAction","isPushed","_calculateAggregates","_take","currentRangeStart","_clearEmptyGroups","_queryProcess","resultData","modelIsInView","dataToAggregate","_setView","_setFilterTotal","_mergeState","_currentRangeStart","remote","moreItemsCount","_hasExpandedSubGroups","_findGroupedRange","itemsLength","groupCount","itemsToSkip","taken","_fetchGroupItems","_fetchingGroupItems","skipped","includeParents","excludeHeader","currentItems","_expandedSubGroupItemsCount","includeCurrentItems","subGroup","endSpecified","temp","groupItemsSkip","firstItem","lastItem","groupItemCount","expandedSubGroupItemsCount","getGroupItems","notFetched","subgroups","_composeItemsFilter","findSubgroups","_timeout","_groupItemsSuccessHandler","totalField","totalCount","_updateRangePristineData","countAdded","_currentRequestTimeStamp","_skipRequestsInProgress","indexOfCurrentGroup","rangesLength","currentGroup","dataLength","indexes","currIdx","_containsSubGroup","_cloneGroup","subgroup","currentSubGroup","filterTotal","setDefaultValue","fetch","_query","next","totalPages","_pageableQueryOptions","getGroupsFlat","groupsTotal","includeExpanded","_calculateGroupsTotal","itemsField","ignoreState","_groupsTotal","countGroupRange","_emptyAggregates","ceil","inRange","_findRange","lastRange","firstItemUid","enableRequestsInProgress","pageSkip","_processRangeData","_originalPageSkip","_originalSize","_adjustPageSkip","_groupRangeExists","_rangeExists","prefetch","skipIdx","takeIdx","startIndex","endIndex","rangeData","rangeEnd","processed","flatData","groupMapOptions","prevRangeEnd","isGroupPaged","startField","endField","currentDataLength","_mergeGroups","_getRangesMismatch","mismatch","prevGroup","eventData","_omitPrefetch","paging","sorting","filtering","_prefetchSuccessHandler","_multiplePrefetch","prevRange","_getPrevRange","_getNextRange","availableItemsCount","_removeModelFromRange","_updateRangesLength","mismatchFound","mismatchLength","lengthDifference","rangeLength","inferSelect","firstField","secondField","optgroup","specified","inferTable","tbody","tBodies","rows","fieldIndex","fieldCount","cells","cell","transportOptions","Node","hasChildren","childrenField","childrenOptions","hasChildrenObject","_childrenOptions","_initChildren","_loaded","_updateChildrenField","append","loaded","level","_childrenLoaded","load","_matchFilter","dataMethod","_attachBubbleHandlers","_hierarchicalFilter","_childrenLoading","isLoading","_markHierarchicalQuery","_updateHierarchicalFilter","_find","inferList","list","textField","urlField","spriteCssClassField","imageUrlField","textChild","_dataSource","Buffer","viewSize","disablePrefetch","_prefetching","_reset","_syncWithDataSource","setViewSize","_recalculate","itemPresent","dataOffset","prefetchThreshold","midPageThreshold","nextMidRange","nextPageThreshold","nextFullRange","pullBackThreshold","previousMidRange","previousFullRange","_goToRange","nextRange","syncDataSource","prefetchOffset","expanding","_expanding","_syncPending","_firstItemUid","BatchBuffer","batchSize","batchBuffer","endreached","prefetching","prefetched","reset","binders","VALUE","SOURCE","EVENTS","CHECKED","CSS","deleteExpando","Binding","dependencies","_access","_parents","dependency","currentSource","EventBinding","TemplateBinding","Binder","bindings","binding","TypedBinder","parsedValue","_parseValue","dataSourceBinding","bindingName","_dataBinding","dataBinding","_dataBound","dataBound","_itemChange","itemChange","bindElement","_ns","removedItems","unbindElementTree","all","addedItems","hds","addedDataItems","multiselect","dropdowntree","Select","MultiSelect","DropDownTree","treeview","retrievePrimitiveValues","dataValueField","readonly","dataFormat","invisible","valueUpdate","_initChange","autoBind","valueField","cloneNode","reference","insertBefore","unbindElementChildren","checked","selectedIndex","selected","valuePrimitive","valueIndex","sourceValue","optionIndex","optionValue","check","_range","floatingLabel","_valueIsObservableObject","_valueIsObservableArray","_source","dataTextField","isObservableObject","valueLength","sourceItem","cascadeFrom","listView","bound","_preselect","oldValues","selectedNode","nonPrimitiveValues","_isMultipleSelection","_getAllChecked","old","removeIndex","newValue","arraySplice","selectedValue","gantt","_isBound","scheduler","grid","badge","addLength","oldLength","shifted","shiftedLength","BindingTarget","toDestroy","hasValue","hasSource","hasEvents","hasChecked","hasCss","widgetBinding","WidgetBindingTarget","specificBinders","applyBinding","binder","bindingTargetForRole","keyValueRegExp","whiteSpaceRegExp","parseBindings","token","colonIndex","createBindings","childrenCopy","unbindElement","dom","destroyWidget","bindingTarget","destroyWidgets","namespace","observableHierarchy","recursiveRead","scaleProperties","scale","scalex","scaley","scale3d","translateProperties","translate","translatex","translatey","translate3d","hasZoom","zoom","matrix3dRegExp","cssParamsRegExp","translateXRegExp","oldEffectsRegExp","singleEffectRegExp","unitRegExp","transformProps","transform2d","transform2units","rotate","skew","cssPrefix","BLANK","PX","NONE","AUTO","WIDTH","HEIGHT","HIDDEN","ORIGIN","ABORT_ID","OVERFLOW","TRANSLATE","POSITION","COMPLETE_CALLBACK","TRANSITION","TRANSFORM","BACKFACE","PERSPECTIVE","DEFAULT_PERSPECTIVE","TRANSFORM_PERSPECTIVE","transition","vertical","modifier","horizontal","stopQueue","animationProperty","transformValue","step","elem","curProxy","cur","parseInteger","parseCSS","acc","propertyName","strip3DTransforms","normalizeCSS","transformation","cssValues","lowerKey","isTransformed","exclusive","ease","mirror","redirectedEffect","resolved","$1","$2","effect","effectBody","oldKeys","timeoutID","stopTransitionCalled","stopTransition","speeds","merge","uniqueSort","unique","taskKeys","retainPosition","transform","computed","atan2","EffectSet","restore","run","jdx","childrenLength","setReverse","addRestoreProperties","prepare","effectName","restoreCallback","Effect","effectClass","effectSet","parsedEffects","capitalize","useTransition","show","multiple","single","isFixed","originalPosition","dX","dY","marginLeft","marginTop","_direction","_additionalEffects","_reverse","play","additional","_duration","compositeRun","_complete","shouldHide","word","createEffect","definition","opt1","opt2","opt3","theDirection","FOUR_DIRECTIONS","IN_OUT","createToggleEffect","defaultStart","defaultEnd","startValue","_startValue","endValue","_endValue","_shouldHide","startDataValue","startDataValueIsSet","divisor","tmp","previous","previousDivisor","slideIn","origin","margin","setLength","realLength","TRANSFER_START_STATE","CLIPS","outerBox","box","innerBox","currentScale","fillScale","transformOrigin","ROTATIONS","clipInHalf","_container","rotation","zIndex","_clipInHalf","clip","face","_face","temporary","reverseDirection","faceClone","backClone","staticPage","turningPage","transformStyle","RESTORE_OVERFLOW","IGNORE_TRANSITION_EVENT_SELECTOR","Animation","_before","_after","transitionClass","_previous","_transitionClass","beforeTransition","afterTransition","_both","_element","_containerClass","containerClass","completeProxy","isAbsolute","both","originalOverflow","_tickProxy","_tick","tick","onEnd","onCancel","Transition","timePassed","startDate","moveTo","movable","initial","_easeProxy","moveAxis","easeOutExpo","easeOutBack","inner","outer","fitScale","SCRIPT","TRANSITION_START","TRANSITION_END","SHOW","HIDE","ATTACH","DETACH","sizzleErrorRegExp","bodyRegExp","LOAD_START","LOAD_COMPLETE","SHOW_START","SAME_VIEW_REQUESTED","VIEW_SHOW","VIEW_TYPE_DETERMINED","AFTER","classNames","stretchedView","footer","View","renderOnInit","_createElement","wrapInSections","_renderSections","_wrap","_evalTemplate","evalTemplate","_useWithBlock","_fragments","detachOnHide","detachOnDestroy","notInitialized","_eachFragment","ViewClone","triggerBeforeShow","triggerBeforeHide","showStart","showEnd","hideEnd","detach","purge","fragments","getElementById","contents","replaceWith","_wrapper","_createContent","_createHeader","_createFooter","contentSelector","ccontentElements","contentElement","Layout","containers","_createContainer","showIn","ViewContainer","Fragment","attach","transitionRegExp","parseTransition","running","after","locationID","previousEntry","theTransition","transitionData","ViewEngine","sandbox","_hideViews","rootView","layouts","viewContainer","showView","remoteViewURLPrefix","_findViewElement","reload","_createView","urlPath","wrapInner","_locate","$angular","_findViewElementById","_createSpaView","_createMobileView","defaultTransition","loader","getLayout","getLayoutProxy","modelScope","viewOptions","NS","FLOATINGLABELCONTAINER","FOCUSED","STATEDISABLED","NOCLICKCLASS","STATEREADONLY","FloatingLabel","_editable","useReadOnlyClass","isJQueryPromise","isNativePromise","catch","signalr","hub","callbacks","_crud","server","INVALIDMSG","invalidMsgRegExp","INVALIDINPUT","VALIDINPUT","VALIDATIONSUMMARY","INVALIDLABEL","MESSAGEBOX","INPUTINNER","INPUTWRAPPER","ARIAINVALID","ARIADESCRIBEDBY","emailRegExp","urlRegExp","INPUTSELECTOR","CHECKBOXSELECTOR","NUMBERINPUTSELECTOR","BLUR","NAME","FORM","NOVALIDATE","VALIDATE","VALIDATE_INPUT","patternMatcher","matcher","hasAttribute","validator","allowSubmit","validateOnInit","resolveRules","resolvers","ruleResolvers","numberOfDecimalDigits","parseHtml","parseHTML","searchForMessageContainer","isLabelFor","SUMMARYTEMPLATE","Validator","validateAttributeSelector","_errorTemplate","errorTemplate","_summaryTemplate","validationSummary","_inputSelector","_checkboxSelector","_errors","_attachEvents","_isValidated","_validateOnInit","validate","required","email","dateCompare","captcha","noNameCheckbox","namedCheckbox","checkbox","radio","raise","isValidated","isValid","getCaptchaId","_validating","_checkElement","warn","validateOnBlur","_allowSubmit","stopImmediatePropagation","validateInput","inputs","invalid","showValidationSummary","valid","_checkValidity","lbl","_findMessageContainer","messageText","_extractMessage","messageLabel","wasValid","isInputInner","inputWrapper","lblId","_decorateMessageContainer","parentElement","prevElement","insertAfter","_inputWrapper","inputWrap","inputLabel","_inputLabel","errorId","_associateMessageContainer","hideMessages","_disassociateMessageContainers","labels","hideValidationSummary","locators","messageLocators","getElementsByTagName","locate","decorate","ruleKey","customMessage","nonDefaultMessage","_getInputNames","_errorsByName","inputNames","_renderSummary","_summaryClick","link","summary","errorsList","$window","draggables","dropTargets","dropAreas","lastDropTarget","KEYUP","DRAGSTART","DRAG","DRAGEND","DRAGCANCEL","HINTDESTROYED","DRAGENTER","DRAGLEAVE","DROP","numericCssPropery","within","containerBoundaries","minX","minY","maxX","maxY","checkTarget","targets","areas","theTarget","theFilter","targetLen","areaLen","targetElement","TapCapture","_press","_release","attachEvent","captureNext","cancelCapture","PaneDimension","forcedEnabled","measure","scrollSize","makeVirtual","_virtualMin","_virtualMax","virtualSize","outOfBounds","forceEnabled","getTotal","rescale","scaledTotal","minScale","centerOffset","PaneDimensions","forcedMinScale","maxScale","newScale","centerCoordinates","PaneAxis","dimension","dragMove","resistance","translateAxis","Pane","elastic","gesture","previousGesture","previousCenter","scaleDelta","coordinates","offsetX","offsetY","scaleWith","TRANSFORM_STYLE","Movable","webkitTransformOrigin","_saveCoordinates","by","scaleTo","newCoordinates","destroyDroppable","groupName","droppables","DropTarget","draggable","dropTarget","_over","_out","_drop","dropped","DropTargetArea","destroyGroup","_cache","Draggable","_activated","_drag","_cancel","_afterEndHandler","_afterEnd","_captureEscape","cursorOffset","holdToDrag","autoScroll","cancelHold","_updateHint","boundaries","hintOffset","hint","_shouldIgnoreTarget","ignoreSelector","currentTargetOffset","scopeTarget","scopeFrom","cursorElement","_elementUnderCursor","_cursorElement","_scrollableParent","findScrollableParent","_lastEvent","_processMovement","autoScrollVelocity","scrollableViewPort","_scrollCompenstation","_scrollVelocity","_scrollInterval","_autoScroll","_withDropTarget","compensation","yIsScrollable","xIsScrollable","isRootNode","scrollableRoot","yInBounds","xInBounds","initialTarget","mouseX","mouseY","rect","AUTO_SCROLL_AREA","utils","SNAPBACK_DURATION","SCROLLBAR_OPACITY","FRICTION","VELOCITY_MULTIPLIER","MAX_VELOCITY","OUT_OF_BOUNDS_FRICTION","ANIMATED_SCROLLER_PRECISION","RELEASECLASS","REFRESHCLASS","PULL","RESIZE","SCROLL","MOUSE_WHEEL_ID","ZoomSnapBack","tapCapture","DragInertia","freeze","_moveTo","paneAxis","_snapBack","velocityMultiplier","friction","snapBack","AnimatedScroller","_updateCoordinates","setCoordinates","setCallback","ScrollBar","controlsId","elementSize","scrollMovable","alwaysVisible","paneSize","sizeRatio","_ariaValue","visibility","_native","prepend","scrollElement","fixedContainer","avoidScrolling","velocityX","velocityY","horizontalSwipe","originatedFromFixedContainer","verticalSwipe","pane","zoomSnapBack","animatedScroller","scrollTo","mousewheelScrolling","_wheelScroll","pulled","_initAxis","_wheelEnd","_wheel","_wheelY","pullToRefresh","_initPullToRefresh","ctrlKey","_wheelTimeout","pullOffset","visibleScrollHints","pullTemplate","releaseTemplate","refreshTemplate","contentResized","_scale","zoomOut","animatedScrollTo","pullHandled","refreshHint","hintContainer","yinertia","xinertia","_paneChange","_dragEnd","elementId","scrollBar","advanced","HORIZONTAL","VERTICAL","RESIZEEND","Resizable","orientation","_positionMouse","_position","_sizingDom","draggableElement","drag","dragcancel","dragstart","dragend","_stop","_max","hintSize","_initialElementPosition","_min","_initialMousePosition","_maxPosition","_minPosition","maxPosition","minPosition","currentPosition","invalidClass","resizing","targetPosition","BEFORE_MOVE","ACTION_SORT","ACTION_REMOVE","ACTION_RECEIVE","DEFAULT_FILTER","MISSING_INDEX","containsOrEqualTo","defaultHint","defaultPlaceholder","Sortable","_createDraggable","connectWith","cursor","moveOnDragEnter","_dragcancel","_dragend","draggedElement","_placeholder","draggableEvent","before","_setCursor","_resetCursor","_findTarget","targetCenter","offsetDelta","axisDelta","sibling","getSibling","_movementByAxis","_getElementCenter","appendToBottom","_movePlaceholder","appendAfterHidden","_isFloating","draggedIndex","placeholderIndex","connectedList","connectedListEventData","oldIndex","newIndex","getKendoSortable","_findElementUnderCursor","has","sortable","_isEmpty","_isLastHidden","_searchConnectedTargets","connected","sortableInstance","_isCursorAfterLast","lastItemOffset","cursorPosition","_originalCursorType","_cursorStylesheet","isFloating","isTable","isHorizontalFlex","_items","not","ARIASELECTED","SELECTED","ACTIVE","SELECTABLE","UNSELECT","UNSELECTING","supportEventDelegation","Selectable","dragToSelect","_marquee","_lastActive","inputSelectors","ignoreOverlapped","addIdToRanges","_isElement","metaKey","selectedClass","whichCode","buttonCode","button","_allowSelection","_unselect","_notify","_lastRange","compareElements","selectRange","_firstSelectee","_downTarget","currentElement","useAllItems","_selectElement","_invalidateSelectables","rangeSelectedAttr","_currentlyActive","toSelect","collision","_collidesWithActiveElement","marqueeRect","activeElements","elemRect","getBoundingClientRect","activeElementRect","tempRect","overlaps","selectElement","selectedRanges","rangeId","mapLocation","selectedSingleItems","preventNotify","aria","resetTouchEvents","continuousItems","toCompare","elementPosition","firstRect","secondRect","selectable","selectableMode","mode","asLowerString","iconTemplate","svgIconTemplate","Badge","_content","_appearance","cutoutBorder","icon","Infinity","align","roundings","small","medium","large","full","_classNames","_text","_template","_themeColor","_shape","shape","_sizes","_fillMode","_rounded","_roundings","_cutoutBorder","_align","_visible","_updateClassNames","keepClassNames","sizeAbbr","roundedAbbr","iconTemplateFunction","_icon","color","HTMLBase","stylingOptions","_addClasses","previouslyAddedClasses","outerHTML","KBUTTON","KBUTTONICON","KBUTTONTEXT","renderButton","HTMLButton","iconElement","_textElement","iconClass","spriteCssClass","imageUrl","span","img","isEmpty","newSpan","classList","CLICK","MOUSEDOWN","MOUSEUP","MOUSEOUT","DISABLED","DISABLEDSTATE","FOCUSEDSTATE","ACTIVESTATE","BUTTON_DEFAULTS","Button","_badge","_focus","_blur","_keydown","_removeActive","_addActive","_isNativeButton","err","badgeOptions","badgeEelement","K_POS","DOT","isString","bottomNavigationStyles","navIcon","itemFlow","border","templates","anchor","BottomNavigation","_updateCssClasses","_bindEvents","positionMode","cachedTabIndex","_itemFlow","orientationStyles","_toggleClassGroup","_renderItem","itemTemplate","isLink","elm","aria-disabled","encoded","clickProxy","keydownProxy","ev","_triggerSelect","_isItem","selectedItem","itemById","showText","textItems","FIRST","LAST","PREV","NEXT","SIZE","FOCUSABLE","KEYDOWN","MAX_VALUE","numeric","navigatable","selectOption","wrapClassName","Pager","sizeClassName","_createDataSource","linkTemplate","selectTemplate","numericSelectItemTemplate","_refreshHandler","downEvent","previousNext","_numericWrap","_numericSelect","numbersSelectLabel","navigatalbe","pageButtonLabel","of","pageSizes","pageItems","allPages","itemsPerPage","DropDownList","pageSizeDropDownLabel","kendoDropDownList","_refreshClick","_numericSelectChange","_resizeHandler","_getWidthSizeClass","_navigatable","ARIATemplate","buttonCount","responsive","morePages","setDataSource","_aria","aria-roledescription","aria-keyshortcuts","reminder","selectHtml","collapsedTotal","_collapsedTotal","hasAll","selectAll","_restoreFocus","_excludeChildrenFromTab","_updateAria","_focusSelected","_focusMore","_restoreTabIndexes","_ariaTemplate","_keyDown","allFocusable","handled","focusedIndex","OPEN","CLOSE","DEACTIVATE","ACTIVATE","CENTER","TOP","BOTTOM","ABSOLUTE","BODY","LOCATION","VISIBLE","EFFECTS","ACTIVEBORDER","ACTIVEBORDERREGEXP","ACTIVECHILDREN","DOCUMENT_ELEMENT","WINDOW","Popup","parentPopup","collisions","_hovered","scrollArea","animation","open","_animationClose","_mousedownProxy","_mousedown","_resizeProxy","toggleTarget","toggleEvent","viewport","copyAnchorStyles","modal","adjustSize","omitOriginOffsets","_hideDirClass","_closing","_toggleResize","fixed","listbox","flipped","_openAnimation","_showDirClass","_location","dirClass","skipEffects","openEffects","closeEffects","popup","_resizeTimeout","_scrollableParents","_fit","viewPortSize","output","_flip","anchorSize","boxSize","isWindow","origins","positions","siblingContainer","parentZIndex","viewportOffset","viewportWidth","viewportHeight","siblings","pos","offsetParent","anchorParent","offsets","flipPos","elementHeight","wrapperHeight","verticalOrigin","horizontalOrigin","verticalPosition","horizontalPosition","anchorOffset","appendToOffset","anchorWidth","anchorHeight","tabKeyTrapNS","focusableNodesSelector","TabKeyTrap","trap","_keepInTrap","removeTrap","shouldTrap","_focusableElements","sortedElements","_sortFocusableElements","_nextFocusable","tabIndex","attrName","contentWindow","_haveSelectionRange","elementType","KNOTIFICATION","KICLOSE","KHIDING","INFO","SUCCESS","WARNING","WRAPPER","TEMPLATE","SAFE_TEMPLATE","Notification","_compileTemplates","_guid","_isRtl","_compileStacking","stacking","pinned","hideOnClick","allowHideAfter","autoHideAfter","kendoTemplate","_compiled","templateId","_defaultCompiled","_safeCompiled","_getCompiled","defaultCompiled","paddings","paddingTop","paddingRight","paddingBottom","paddingLeft","horizontalAlignment","_popupOrigin","_popupPosition","_popupPaddings","_attachPopupEvents","attachDelay","closeIcon","attachClick","_hidePopup","_showPopup","openPopup","_triggerHide","deactivate","_togglePin","pin","win","_attachStaticEvents","_hideStatic","_showStatic","insertionMethod","initializedNotifications","getNotifications","contentId","defaultArgs","typeIcon","closeButton","data-role","warning","openedNotifications","guidElements","DOCUMENT","ARIAIDSUFFIX","DESCRIBEDBY","CONTENTLOAD","KCONTENTFRAME","IFRAMETEMPLATE","POSITIONS","REVERSE","DIRCLASSES","DIMENSIONS","DEFAULTCONTENT","restoreTitle","restoreTitleAttributeForElement","saveTitleAttributeForElement","saveTitleAttributes","TooltipBase","_isShownOnMouseEnter","_showOn","showOn","showAfter","hideAfter","callout","_saveTitle","_show","_isShownOnClick","_isShownOnFocus","_positionCallout","elementOffset","offsetAmount","_offset","arrow","arrowWidth","isTopLeft","isFlipped","marginRule","_addDescribedBy","ariaId","describedBy","_removeDescribedBy","tooltipId","currentDescribedBy","arrayAttr","finalArray","finalDescribedbyAttr","_openPopup","Tooltip","_documentKeyDownHandler","_documentKeyDown","_mouseenter","autoHide","_mouseleave","_appendContent","contentOptions","showIframe","iframe","_ajaxRequest","successFn","_initPopup","activate","_closeButtonClick","_closePopup","ID","ARIA_DISABLED","ROLE_MENU","ROLE_MENU_ITEM","MENU_CLICK","FOCUS","cssClasses","listItem","menuItem","itemText","sprite","baseItem","IMAGE_TEMPLATE","SPRITE_TEMPLATE","ICON_TEMPLATE","TEXT_TEMPLATE","ITEM_TEMPLATE","LINK_TEMPLATE","findFocusableSibling","candidate","ButtonMenu","mainButton","_clickHandlers","_renderList","_renderListItem","_renderItemButton","_hide","_popup","_popupOpenHandler","_popupCloseHandler","_popupExpandHandler","adjustPopupWidth","min-width","listItemKeydown","altKey","li","destroyPopup","ARIA_HASPOPUP","ARIA_CONTROLS","ARIA_EXPANDED","FOCUSSTATE","SplitButton","_renderButtons","_renderMenu","_enable","arrowIcon","labelSuffix","wrapperId","arrowButton","_getAppearanceClasses","roundedClass","_mainButton","_arrowButton","menu","kendoButtonMenu","menuOpen","menuOpenHandler","menuClose","menuCloseHandler","menuClick","computedWidth","soft","menuButton","DropDownButton","TOOLBAR","OVERFLOW_BUTTON","TOGGLE_BUTTON","BUTTON_GROUP","SPLIT_BUTTON","MENU_BUTTON","KSEPARATOR","SPACER_CLASS","POPUP","RESIZABLE_TOOLBAR","STATE_SELECTED","STATE_DISABLED","STATE_HIDDEN","FORCE_HIDDEN","GROUP_START","GROUP_END","MENU_LINK","MENU_ITEM","OVERFLOW_GROUP","OVERFLOW_HIDDEN","OVERFLOW_ANCHOR","OVERFLOW_CONTAINER","OVERFLOW_WRAPPER","FIRST_TOOLBAR_VISIBLE","LAST_TOOLBAR_VISIBLE","SPLIT_BUTTON_ARROW","TEMPLATE_ITEM","DROPDOWNLIST","COLORPICKER","INPUT_BUTTON","KFOCUS","ARIA_PRESSED","ARIA_LEBEL","TOGGLE","SPACER","BOTH","PRIMARY","HREF","ROLE","BUTTON","SPLITBUTTON","DROPDOWNBUTTON","SEPARATOR","INPUT","CHECKBOX","GROUP","KENDO_FOCUSABLE","OVERFLOW_OPEN","OVERFLOW_CLOSE","OVERFLOW_NEVER","OVERFLOW_AUTO","OVERFLOW_ALWAYS","OPTION_LIST_SUFFIX","KENDO_UID_ATTR","POPUP_ITEM_TEMPLATE","MENU_LINK_SPAN","MENU_LINK_A","NOTHING","TEXT_ITEM","UID","components","toolbar","overflowAnchor","overflowContainer","Item","registerComponent","addOverflowAttr","addUidAttr","addIdAttr","addOverflowIdAttr","class","overflowHidden","isEnabled","twin","splitContainerId","resizable","BareItem","useButtonTag","primary","togglable","addToGroup","clickHandler","toggleHandler","showIcon","propagate","getParentGroup","isChild","ToolBarButton","OverflowButton","ButtonGroup","createButtons","buttonConstructor","buttons","ToolBarButtonGroup","buttonGroup","OverflowButtonGroup","ToolBarMenuButton","ToolBarSplitButton","splitButton","_extend","menuButtons","_buttonClick","_close","_open","addMenuAttributes","itemInstance","elmToRemove","OverflowSplitButton","main","ToolBarDropDownButton","dropDownButton","OverflowTextItem","textItem","OverflowDropDownButton","ToolBarSeparator","separator","OverflowSeparator","ToolBarSpacer","TemplateItem","OverflowTemplateItem","toggleActive","actionSheetWrap","preventClick","Group","ToolBar","_groups","isMobile","_renderOverflow","overflowUserEvents","_toggleOverflow","_shrink","release","_focusIn","_focusOut","_toggleOverflowAnchor","_tabIndex","navigateOnTab","destroySplitButtons","destroyDropDownButtons","splitButtonWrappers","_getItem","dropDownButtons","component","tool","itemClasses","overflowTemplate","overflowTool","inputsInTemplate","rootUid","toolbarItem","overflowItem","isResizable","buttonGroupInstance","getSelectedFromGroup","horizontalDirection","isComplexTool","hasVisibleChildren","paddingEnd","urlTarget","templateFocusable","_resetTabIndex","_getItems","templateItem","innerFocusable","innerWidget","isOverflowAnchor","_getNextElement","focusableItem","_toggle","containerWidth","_stretch","_markVisibles","_childrenWidth","childrenWidth","commandElement","visibleCommands","_hideItem","hiddenCommands","_showItem","itemOuterWidth","overflowItems","toolbarItems","visibleOverflowItems","visibleToolbarItems","toFocus","focusableItems","firstFocusable","percentageUnitsRegex","HOVER","KSELECTED","LOADING","LIST","TABLE","DATA_TABLE","TABLE_MD","LIST_UL","TABLE_LIST","FIXED_GROUP_HEADER","GROUP_LABEL","ITEMSELECTOR","ITEMSELECTORTABLE","CASCADE","MOUSELEAVE","MOUSEENTER","DATA_BINDING","DATA_BOUND","SELECTED_ITEM_CHANGE","FOCUSOUT","HIDDENCLASS","TEXT","isIE","quotRegExp","alternativeNames","ComboBox","MultiColumnComboBox","UL_EL","LIST_EL","NO_DATA_EL","LIST_FOOTER_EL","TABLE_FOOTER_EL","LIST_SUFFIX","LISTBOX_SUFFIX","ARIA_ACTIVEDESCENDANT","ARIA_AUTOCOMPLETE","ARIA_LIVE","ARIA_HIDDEN","ARIA_BUSY","ARIA_MULTISELECTABLE","ARIA_SELECTED","GROUP_ROW_SEL","List","_isSelect","_listSize","ul","aria-hidden","columns","_columnsHeader","_header","_noData","_footer","_accessors","_initValue","footerTemplate","headerTemplate","noDataTemplate","noData","_renderFooter","_renderNoData","_focused","_angularElement","columnsHeader","colGroup","row","currentColumn","columnsHeaderTemplate","currentWidth","currentWidthInt","widthStyle","footerEl","_listOptions","changeEventOption","_listChange","listBoundHandler","_listBound","focusedElm","labelledBy","_activateItem","_deactivateItem","groupTemplate","fixedGroupTemplate","listSize","_initList","listOptions","selectedItemChange","StaticList","VirtualList","_setListValue","_updateSelectionState","_listMousedown","filterInput","_isFilterEnabled","_hideClear","_clear","_showClear","_clearValue","_clearText","_accessor","_customOption","enforceMinLength","highlightFirst","_clearFilter","_filterSource","isMultiColumnFiltering","filterFields","resetPageSettings","removed","removeFiltersForField","_clearFilterExpressions","newExpression","_pushFilterExpression","isValidFilterExpr","_cascading","setDSFilter","dataSourceState","filtersToRemove","_toggleNoData","_toggleHeader","groupHeader","_allowOpening","_old","_ignoreCase","widgetOptions","fromFilter","_buildExpression","_clearButton","clearTitle","clearButton","_inputValue","_typingTimeout","minLength","_state","_emptySearch","_searchByWord","_unbindDataSource","_form","_resetHandler","selectedDataItems","_value","autocomplete","suggest","aria-controls","_userTriggered","_isValueChanged","unifyType","_valueBeforeCascade","_oldIndex","isFiltered","_typing","typing","_dataValue","_offsetHeight","prevAll","_height","isMccb","offsetTop","popups","_openHandler","_adjustListWidth","borderLeftWidth","borderRightWidth","fontFamily","autoWidth","minWidth","whiteSpace","_closeHandler","_focusItem","noFocusedItem","scrollToIndex","_calculateGroupPadding","padding","_calculatePopupHeight","_calculateColumnsHeaderPadding","_refreshScroll","enableYScroll","overflowX","overflowY","_resizePopup","_toggleHover","preventFocus","touchEnabled","MSPointers","_prevent","_triggerCascade","_cascadeTriggered","_cascadedValue","userTriggered","_triggerChange","_requestStartHandler","_requestEndHandler","_errorHandler","requireValueMapper","valueMapper","_initial","_initialIndex","_current","_parentWidget","_cascadeSelect","_cascadeValue","_accessorInput","_accessorSelect","getSelectedOption","_custom","_syncValueAndText","custom","_hideBusy","_busy","_arrowIcon","_showBusy","_request","_requestEnd","_firstItem","focusFirst","_lastItem","focusLast","_nextItem","focusNext","_prevItem","focusPrev","_getNormalizedDataItem","isIndex","hasOptionLabel","optionLabel","getElementIndex","dataItemByIndex","_getNormalizedSelectCandidate","normalizedCandidate","isVirtual","moveIndex","selectCandidate","_fetch","_get","activeFilter","shouldTrigger","_focusElement","focusout","scrollWith","_fetchData","hasItems","_options","htmlElement","dataText","dataValue","formId","_cascade","cascade","_cascadeHandlerProxy","_cascadeHandler","_cascadeFilterRequests","_selectedValue","_toggleCascadeOnFocus","valueBeforeCascade","_clearSelection","_cascadeChange","filterValue","cascadeFromParentField","cascadeFromField","currentHandler","STATIC_LIST_NS","_touchHandlers","thead","_optionID","_selectedIndices","_dataItems","_values","_getter","_templates","_createOnScrollProxy","_fixedHeader","itemSelector","startY","endY","tapPosition","_touchTriggered","_triggerClick","_render","_scrollId","scroll","itemOffsetTop","itemOffsetHeight","contentScrollTop","contentOffsetHeight","bottomDistance","_getValues","_valueGetter","hasCandidate","focusIndex","skipUpdate","_skipUpdate","indices","singleSelection","selectedIndices","uiSelectedIndices","added","filtered","_deselectFiltered","_deselect","_valueComparer","removeAt","setValue","_valueDeferred","_valueIndices","onScrollProxy","_renderHeader","_onScroll","_valueExpr","normalized","_valueType","_dataItemPosition","valueExpr","removedIndices","templateText","_normalizeIndices","newIndices","_firstVisibleItem","itemHeight","lastChild","previousSibling","isGrouped","visibleItem","notFirstItem","hasColumns","altRow","isLastGroupedItem","_renderColumns","dataContext","_selected","_lastDSFilter","skipUpdateOnBind","isItemChange","mapChangedItems","changed","unchanged","_bound","itemsToMatch","selectedLength","extractFormat","transitionOrigin","cellTemplate","emptyCellTemplate","otherMonthCellTemplate","weekNumberTemplate","KEYDOWN_NS","MIN","SLIDE","MONTH","CENTURY","NAVIGATE","OTHERMONTH","OUTOFRANGE","TODAY","CELLSELECTOR","CELLSELECTORVALID","WEEKCOLUMNSELECTOR","FOCUS_WITH_NS","MOUSEENTER_WITH_NS","PREVARROW","NEXTARROW","DATE","decade","century","HEADERSELECTOR","CLASSIC_HEADER_TEMPLATE","MODERN_HEADER_TEMPLATE","Calendar","disableDates","getDisabledExpr","_selectable","_viewWrapper","hasFooter","_today","mousetoggle","toDateObject","_focusView","focusOnNav","_setCurrent","_selectDates","_index","restrictValue","_addClassProxy","_active","_cell","todayString","toDateString","getToday","_cellByDate","_removeClassProxy","selectDates","dates","depth","weekColumnHeader","navigateTo","parentViews","classic","linksSelector","contentClasses","modern","_destroySelectable","_title","_table","_bindTable","_option","navigateToPast","navigateToFuture","navigateUp","navigateDown","isEqualDate","_oldTable","future","currentView","viewWrapper","_changeView","otherMonth","isWeekColumnVisible","addClassToViewContainer","_animate","_visualizeSelectedDatesInView","_selectCell","validSelectedDates","datesUnique","_validateValue","createDate","isInRange","selectedDates","selectableOptions","_onSelect","_onRelatedTarget","eventArgs","_toggleSelection","_cellsBySelector","_addSelectedCellsToArray","_rangeSelection","currentCell","toDateCell","fromDate","toDate","daysDifference","daysBetweenTwoDates","addDaysToArray","currentDateIndex","_dateInView","firstDateInView","lastDateInView","_isNavigatable","cellIndex","isDisabled","prevent","_todayClick","_keyboardToggleSelection","focusedDate","_nextNavigatable","_keyboardRangeSelection","navigatableDate","active","_horizontal","viewWidth","margin-left","unwrap","_vertical","_selectedCell","actionAttr","firstDayCurrentMonth","isBigger","isEqualMonth","isTodayDisabled","todayClass","_todayClass","ariaTemplate","valueType","firstVisibleDay","calendarInfo","tzOffsetBefore","resultDATE","tzOffsetDiff","getCalendarInfo","navigateUrl","showHeader","hasUrl","currentCalendar","firstDayIdx","shiftArray","shortNames","perRow","build","linkClass","dateString","weekNumberBuild","date1","date2","month1","year1","month2","year2","calendarMonths","namesFull","setMonth","minYear","maxYear","modular","cellsPerRow","otherMonthTemplate","multiplier","endDate","fromDateUTC","endDateUTC","numberOfDays","dateObject","isEqualDatePart","value1","value2","createDisabledExpr","convertDatesArray","disabledDates","searchExpression","oldValue","viewsEnum","INPUT_EVENT_NAME","STATEINVALID","READONLY","knownSymbols","DateInput","wrapperClass","skipWrapping","_validationIcon","weekday","hour","minute","second","dayperiod","_unbindInput","_bindInput","_updateElementValue","_formElement","_dateTime","getDateObject","customDateTime","_oldValue","stringAndFromat","toPair","_oldText","_format","_paste","_input","_mouseUp","_scroll","blinkInvalid","approximateStringMatching","navigationOnly","parsePart","_selectSegment","difSym","newEvent","_blinkInvalidState","_addInvalidState","_invalidStateTimeout","_removeInvalidState","_selectNearestSegment","returnValue","initialValue","interval","modifyPart","keycode","begin","initDate","initFormat","initCulture","initMessages","typedMonthPart","typedDayPeriodPart","placeholders","returnsFormat","mins","formatResult","generateMatcher","retFormat","setExisting","getValue","newMonth","setMinutes","setSeconds","currentChar","lastDateOfMonth","newHours","monthNames","newYear","newMinutes","newSeconds","sampleFormat","oldText","oldFormat","newText","oldTextSeparator","deletedSymbol","DIV","SPAN","HOVEREVENTS","MAX","ARIA_READONLY","parseFormats","DateView","omitPopup","dateDiv","_dateViewID","DatePicker","_calendar","_setOptions","popupHovered","selectIsClicked","disabledDate","_initialOptions","dateView","_updateARIA","aria-expanded","aria-haspopup","_createDateInput","_update","dateInput","_dateIcon","_dateInput","_navigateCalendarHandler","_navigateCalendar","eventType","dateChanged","valueUpdated","textFormatted","_setCalendarAttribute","isSameType","formattedValue","optionsValue","LIST_CONTENT","TABLE_CONTENT","HEADER","LIST_ITEM","TABLE_ITEM","HEIGHTCONTAINER","GROUPITEM","LISTBOUND","ITEMCHANGE","VIRTUAL_LIST_NS","lastFrom","isPrimitive","getItemCount","listScreens","getDefaultItemHeight","mockList","lineHeight","bufferSizes","opposite","listValidator","downThreshold","upThreshold","lastScrollTop","scrollCallback","syncList","reorder","webkitTransform","map2","arr1","arr2","reshift","placeholderTemplate","renderColumns","isActivePromise","_fetching","_selectedDataItems","_selectedIndexes","_rangesList","_promisesList","_renderItems","_triggerListBound","oppositeBuffer","mapValueTo","itemClass","_selectProxy","_clean","_deferValueSet","mute","_selectingValue","_highlightSelectedItems","_getElementByDataItem","_mute","_createList","_removeSelectedDataItem","valueGetter","_forcePrefetch","shouldClear","_prefetchByValue","_checkValuesOrder","_removedAddedIndexes","dataView","_dataView","forSelection","mapValueToIndex","mapValueToDataItem","_getIndecies","deferredRange","defs","low","high","pages","existingRange","isEmptyList","_activeDeferred","_getSkip","_findDataItem","_getRange","triggerEvent","_getElementByIndex","_focusedIndex","_getElementLocation","_screenHeight","heightContainer","initialIndices","prefetchStarted","isAlreadySelected","_selectDeferred","_deselectCurrentValues","_listCreated","_lastScrollTop","hasData","setScreenHeight","yPosition","yDownPostion","screenEnd","_generateItems","minHeight","_saveInitialRanges","_buildValueGetter","_setHeight","getList","_listItems","_whenChanged","_reorderList","currentHeight","padHeight","lastRequestedRange","lastRangeStart","rangeStart","_getterDeferred","firstItemIndex","_indexConstraint","flatGroup","groupLength","currentVisibleGroup","firstVisibleDataItemIndex","firstVisibleDataItem","firstVisibleGroup","fixedGroupText","_itemMapper","listType","currentIndex","_currentGroup","_getDataItemsCollection","_listIndex","theValidator","theNew","currentOffset","list2","range2","_bufferSizes","buffers","_clickHandler","elementIndex","selectedIndexes","removedindexesCounter","_deselectSingleItem","oldSkip","placeholderSupported","AUTOCOMPLETEVALUE","indexOfWordAtCaret","caretIdx","wordAtCaret","replaceWordAtCaret","defaultSeparator","words","AutoComplete","_loader","_keypress","_search","_prev","_resetFocusItemHandler","_resetFocusItem","_toggleCloseVisibility","_progressHandler","_separator","_unifySeparators","_last","wordIndex","isActive","_touchScroller","_muted","_selectValue","_defaultSeparator","itemSelected","DOMelement","nsFocusEvent","CLICKEVENTS","STATE_FILTER","STATE_ACCEPT","MSG_INVALID_OPTION_LABEL","_focusHandler","_focusInputHandler","_focusInput","_optionLabel","_inputTemplate","_word","_span","_mobile","_filterHeader","_attachFocusHandlers","_attachAriaActiveDescendant","_textAccessor","_optionLabelText","valueTemplate","optionLabelTemplate","filterTitle","_arrow","_resizeFilterInput","_focusFilter","originalPrevent","isInputActive","_optionLabelDataItem","loweredText","valueFn","_valueSetter","_assignInstance","_buildOptions","optionLabelValue","initialIndex","_presetValue","_filterPaste","_focusinHandler","_focusoutHandler","isIFrame","self","_wrapperMousedown","_wrapperClick","dropDownWrapper","isPopupVisible","_getElementDataItem","_matchText","_shuffleData","splitIndex","optionDataItem","_selectNext","isInLoop","sameCharsOnly","oldFocusedItem","normalizeIndex","character","charCode","_popupOpen","compareElement","jQueryCandidate","_resetOptionLabel","focusedItem","additionalClass","keepState","filterTemplate","aria-label","aria-autocomplete","SELECTOR","arrowBtn","accesskey","unselectable","optionLabelText","getElements","assign","STATE_REBIND","newLineRegEx","NON_PRINTABLE_KEYS","_attachFocusEvents","_setText","syncValueAndText","_pasteTimeout","hasText","isCustom","_inputFocus","_inputFocusout","_arrowClick","isClearButton","_inputPaste","reinitialized","_scrollToFocusedItem","_updateSelection","hasInitialIndex","_updateItemFocus","isFirstPage","_setDomInputValue","currentCaret","caretStart","preventShow","accessKey","maxLength","isFkey","isNonPrintableKey","renderChip","HTMLChip","iconAttr","removable","removableAttr","removeIcon","renderChipList","HTMLChipList","A","CHIP","ACCEPT","FILTER","REBIND","DESELECT","FOCUSEDCLASS","SELECTEDCLASS","HOVERCLASS","_optionsMap","_customOptions","_tagList","_textContainer","_tagID","tagList","_initialOpen","_tagTemplate","tagMode","autoClose","singleTag","deleteTag","downArrow","maxSelectedItems","tagTemplate","persistTagList","currentTag","_currentTag","tagListId","aria-describedby","_selectedItemChange","_initialValues","optionsMap","tagTextTemplate","notInput","removeButton","cancelable","_removeTag","tag","customIndex","listViewChildren","listViewChild","_updateTagListHTML","_tagListClick","_clearSingleTagValue","tags","_retrieveData","_activeItem","listViewFilter","listViewFilterValue","inputValue","clearFilters","_normalizeValues","_setOption","isEmptyArray","_getActiveItem","_getSelectedIndices","activeItemIdx","_multipleSelection","_selectRange","activeIndex","_showBusyHandler","skipCaret","caretPos","selectedItems","_buildSelectedItems","_selectedItemIndex","_angularTagItems","updatePersistTagList","removedItem","addedItem","_maxTotal","maxTotal","currentTotal","isSelected","indicesToSelect","selectIndices","hasDataSource","isMultiple","defaultTemplate","arrowTitle","computedStyles","namedColors","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","matchNamedColor","colorNames","regexp","BaseColor","toHSV","toRGB","toHex","toBytes","toCss","toCssRgba","rgb","toDisplay","parseColor","other","NaN","c1","c2","r","Bytes","RGB","ref","h","HSV","toHSL","l","HSL","hex","alpha","p","q","hue2rgb","alphaFromHex","DARK_TRESHOLD","Color","this$1","resolvedColor","resolveColor","formatRegex","re","processor","channels","normalizeByte","padDigit","brightness","percBrightness","isDark","fromBytes","fromRGB","fromHSV","fromHSL","MOUSE_DOWN","TRACK_MOUSE_DOWN","MOUSE_UP","TRACK_MOUSE_UP","MOVE_SELECTION","KEY_DOWN","MOUSE_OVER","DRAG_HANDLE","TRACK_SELECTOR","TICK_SELECTOR","STATE_FOCUSED","ARIA_VALUETEXT","ARIA_VALUENOW","SliderBase","_isHorizontal","_sizeFn","_outerSize","tooltip","smallStep","_createHtml","_trackDiv","_maxSelection","_sliderItemsInit","rtlDirectionSign","_keyMap","37","40","39","38","35","36","33","largeStep","34","tickPlacement","_distance","_refresh","sizeBetweenTicks","pixelWidths","_calculateItemsWidth","removeFraction","createSliderItems","_setItemsTitle","_calculateSteps","_setItemsLargeTick","titleNumber","valueWithoutFraction","itemsCount","trackDivSize","preciseItemsCount","pixelStep","itemWidth","_roundWidths","pixelWidthsArray","balance","_addAdditionalSize","additionalSize","_pixelSteps","_getValueFromPosition","mousePosition","draggableArea","halfStep","startPoint","_getFormattedValue","tooltipTemplate","_getDraggableArea","endPoint","formatValue","createWrapper","showButtons","createButton","createTrack","_firstHandleDrag","_activeHandle","_lastHandleDrag","_activeHandleDrag","_updateTooltip","_focusWithMouse","_setTooltipTimeout","_removeTooltip","_tooltipTimeout","_clearTooltipTimeout","tooltipDiv","_formResetHandler","isHorizontal","orientationCssClass","tickPlacementCssClass","buttonCssClass","dragHandleCount","firstDragHandleTitle","leftDragHandleTitle","dragHandleTitle","elementValue","minElementValue","maxElementValue","rightDragHandleTitle","stepValue","calculatePrecision","power","parseAttr","defined","Slider","dragHandle","_selection","Selection","Drag","_refreshAriaAttr","increaseButtonTitle","decreaseButtonTitle","newVal","_nextValueByIndex","_valueIndex","_setValueInRange","mouseDownHandler","timer","_clearTimer","_tooltipDiv","RangeSlider","moveSelection","selectionValue","selectionDiv","rtlCorrection","owner","_activeDragHandle","_setZIndex","oldVal","_createTooltip","wnd","calloutCssClass","tooltipInnerDiv","_scrollOffset","moveTooltip","slideParams","constrainValue","noAnimation","fadeOut","dragHandles","sdhOffset","viewPortEnd","maxOverflow","firstInput","secondInput","selectionStartValue","selectionEndValue","dragSelectionStart","dragSelectionEnd","activeHandleDrag","selectionStartIndex","selectionEndIndex","makeSelection","selectionPosition","LABELCLASSES","TextBox","_label","_floatingLabelContainer","_focusin","_focusout","floating","labelText","DOMElement","SPIN","TOUCHEND","SYMBOL","CLASS_ICON","INTEGER_REGEXP","NumericTextBox","isStep","inputType","_arrows","_validation","selectValue","factor","restrictDecimals","spinners","selectOnFocus","upArrowText","downArrowText","_toggleText","_upArrowEventHandler","_downArrowEventHandler","_spin","_upArrow","_downArrow","_keyup","_inputHandler","aria-valuemin","aria-valuemax","_arrowsWrap","adjusted","_adjust","arrows","_spinning","buttonHtml","_focusing","groupRegExp","extractRegExp","caretPosition","_getFactorValue","_culture","_numPadDot","_step","_cachedCaret","decimalSeparator","minInvalid","_isPasted","_numericRegex","fractionRule","_floatRegExp","originalValue","rounder","truncate","isNotNull","ColorSelector","_initialValue","_preventDefaultLabelClick","_standalone","_updateInput","_updateUI","_onEnable","_navKeydown","_navFocusout","_innerTabindex","_isInputTypeColor","_releaseInnerFocus","_trapInnerFocus","_tabKeyTrap","nohooks","_navigation","_otOfPicker","valueForLabel","_selectOnHide","colorpicker","AA_CONTRAST","AAA_CONTRAST","STEP_COUNT","getContrast","luminance1","luminance2","brightest","darkest","getContrastFromTwoRGBAs","getLuminance","getRGBFromRGBA","foregroundColor","backgroundColor","r1","fitIntoBounds","b1","r2","g2","b2","contender","isPresent","renderSvgCurveLine","gradientRectMetrics","hsva","findValue","contrast","saturation","mid","currentHsva","currentContrast","getColorFromHSV","reversedComparer","getPaths","stepCount","reversed","points","bezierCommandCalc","bezierCommand","controlPoint","line","svgPath","reducer","point","controlPointCalc","cps","cpe","lineCalc","smooth","angle","PI","cos","sin","pointA","pointB","lengthX","lengthY","hue","contrastToolUtils","KEYS","BACKGROUNDCOLOR","WHITE","BLACK","ColorInput","_viewModel","switchMode","keydown","_color","_tryParseColor","_preventChangeEvent","textbox","currentFormat","ColorGradient","previewInput","_sliders","_hsvArea","_gradientInputs","hsvDragARIATemplate","contrastTool","contrastRatio","pass","toggleFormat","_hsvHandle","setBackgroundColor","_updateColorContrast","_getHSV","_hsvRect","handlePosition","_hueSlider","_opacitySlider","_colorgradientInputs","_colorInput","hsvRect","hsvHandle","_hsvKeydown","_hsvDragAriaTemplate","rw","rh","resultX","resultY","_svChange","_hsvEvents","_resetHsv","_resetColorContrast","contrastOptions","_contrastTool","_updateHsv","hueSlider","opacitySlider","hueChange","kendoSlider","slide","opacityChange","contrastRatioTemplate","labelTemplate","ratio","limit","_updateContrastSvg","svgClassName","metrics","newSvg","_hueElements","_updateHsvAria","aria-valuenow","aria-valuetext","dontChangeInput","_selectedColor","_colorAsText","ITEMSELECTEDCLASS","ITEMSFOCUSEDCLASS","TILE_CLASS","SIMPLEPALETTE","WEBPALETTE","FOCUS_NS","CLICK_NS","BLUR_NS","relative","ColorPalette","_selectedID","tileSize","palette","_colors","newCurrent","_tileSize","MESSAGES","NO_COLOR","PREVIEW_MASK","VIEWS","gradient","FlatColorPicker","autoupdate","_setViewSize","_previousColor","_viewsContainer","preview","noColor","clearColor","_clearColor","viewButton","_updatePreviousColor","selectedColor","hsvColor","_cachedHue","dontChangeView","previewWidth","previewHeight","previewColumns","setProperty","buttonOptions","ColorPicker","_buttonHtml","_selector","closeOnSelect","toolIcon","_getPopup","selOptions","_noColorIcon","dontChangeSelector","selectorType","selectorWrapper","kendoPopup","clickedOutside","MouseEvent","ToggleInputBase","_initSettings","RENDER_INPUT","inputMethod","renderCheckBox","HTMLCheckBox","renderRadioButton","HTMLRadioButton","HTMLInput","labelPosition","inputClass","labelEl","labelClass","optionalClass","optionalText","wrapperHtml","CheckBox","nameSpecialCharRegExp","ERRORTEMPLATE","EQUAL_SET","specialRules","fieldType","convertToValueBinding","bindAttr","isAntiForgeryToken","Editable","antiForgeryTokenName","createAttributes","validation","ruleName","DATATYPE","BINDING","stringRule","attributeName","addIdAttribute","convertItems","getEditorTag","checkboxes","kendoEditors","editors","mobileEditors","addValidationRules","modelField","renderHiddenForMvcCheckbox","addHidden","shouldRenderHidden","_isMobile","_validateProxy","_validate","kendoNumericTextBox","kendoDatePicker","kendoTextBox","kendoCheckBox","kendoEditor","editor","editorOptions","tagElement","clearContainer","skipFocus","isObject","isValuesEditor","isHidden","isCustomEditor","isKendoEditor","preventChangeTrigger","_validationEventInProgress","bindAttribute","bindingRegex","validatable","modelFields","KENDO_KEYDOWN","DATABOUND","DATABINDING","EMPTY_STRING","FOCUSSELECTOR","KEDITITEM","PAGER_CLASS","ITEM_CLASS","ARIA_SETSIZE","ARIA_POSINSET","ARIA_ROLE","EDIT","REMOVE","SAVE","TOUCHSTART","ListView","_itemId","_layout","_setContentHeight","_pageable","_crudHandlers","_scrollable","pageable","altTemplate","editTemplate","contentTemplate","bordered","borders","layout","flex","scrollable","_item","_bindScrollable","_progress","_error","elementClassNames","contentClassNames","contentPadding","cols","rowHeight","gutter","endlessAppend","_endlessFetchInProgress","_skipRerenderItemsCount","_destroyEditable","_ariaAttributes","_focusNext","_ariaLabelValue","pagerWrap","pager","pagerId","multi","overflow-y","-webkit-overflow-scrolling","originalPageSize","_endlessPageSize","_scrollTo","UseJQueryoffset","scrollDirectionFunc","elementDimension","containerScrollAmount","containerDimension","clickCallback","canHandle","isTextBox","editItem","focusAgain","edit","clearSelection","_modelFromElement","_closeEditable","kendoEditable","touchstartNs","clickNs","kendoAttr","DASH","SPACE","HASH","KENDO_LISTBOX","DISABLED_STATE_CLASS","SELECTED_STATE_CLASS","ENABLED_ITEM_SELECTOR","ENABLED_ITEMS_SELECTOR","TOOLBAR_CLASS","TOOL_SELECTOR","FOCUSED_CLASS","DRAG_CLUE_CLASS","DROP_HINT_CLASS","LIST_CLASS","LIST_SELECTOR","ADD","REORDER","MOVE_UP","MOVE_DOWN","TRANSFER_TO","TRANSFER_FROM","TRANSFER_ALL_TO","TRANSFER_ALL_FROM","DRAGGEDCLASS","UNIQUE_ID","COMMAND","MOVE_UP_OFFSET","MOVE_DOWN_OFFSET","TOOLBAR_POSITION_CLASS_NAMES","getSortedDomIndices","isUndefined","ListBox","_list","_getList","_createToolbar","_createNavigatable","_listTabIndex","_destroyToolbar","_target","_draggable","dropSources","tools","moveUp","moveDown","transferTo","transferFrom","transferAllTo","transferAllFrom","_unbindDataChange","_addItem","_bindDataChange","_bindDataSource","_syncElement","itemContent","_setItemId","_addItemAt","_insertElementAt","_getTabIndex","oldTarget","activeEl","isContained","isInputElement","_getNavigatableItem","nextAll","_scrollIntoView","shouldPreventDefault","_shiftSelecting","_executeCommand","elementNode","listBox","_searchConnectedListBox","connectedListBox","originalElement","closestContainer","getKendoListBox","draggableOptions","draggedItem","_updateToolbar","_updateAllToolbars","dataItemAtIndex","itemAtIndex","_removeElement","listItems","_removeItem","uniqueIdAttr","enabledItems","_enableItem","_dataChangeHandler","_innerWrapper","_setItemIds","viewLength","toolbarOptions","toolbarInsertion","toolbarElement","commandName","CommandFactory","execute","_updateToolStates","listBoxElements","elementsLength","_commands","commandType","ListBoxCommand","getItems","canExecute","RemoveItemsCommand","MoveItemsCommand","moveItems","indecesInDom","movedItems","itemComparer","moveAction","movedItem","item1","item2","indexItem1","indexItem2","MoveUpItemsCommand","domIndices","MoveDownItemsCommand","TransferItemsCommand","sourceListBox","getSourceListBox","destinationListBox","getDestinationListBox","updatedSelection","getUpdatedSelection","updateSelection","itemFilter","lastEnabledItem","containsLastItem","itemToSelect","TransferItemsToCommand","TransferItemsFromCommand","TransferAllItemsToCommand","TransferAllItemsFromCommand","_initTemplates","_createTools","_attachEventHandlers","_detachEventHandlers","toolsLength","toolsMessages","toolList","_createToolList","defaultTools","_onToolClick","_executeToolCommand","_updateToolState","toolName","toolElement","loaderClasses","canvas","segment","loaderTypes","pulsing","segments","infinite-spinner","converging-spinner","Loader","typeData","_type","TEXTAREACONTAINER","TextArea","_applyAttributes","PASTE","stringDiffStart","str1","str2","MaskedTextBox","_rules","_tokenize","_emptyMask","_togglePrompt","_timeoutId","_maskLength","clearPromptChar","unmaskOnPost","promptChar","0","9","#","L","?","&","C","_submitHandler","unmasked","_unmask","emptyMask","_mask","_unmaskedValue","_trackChange","_legacyIEInputHandler","__changing","inputChange","backward","lengthDiff","__dropping","contentStart","endContent","_trimStartPromptChars","_findCaretPosBackwards","__backward","__pasting","chrIdx","chr","tokenIdx","tokensLength","maskChars","DELAY","SCROLLSPEED","excludedNodesRegExp","IMG","MENU","LINK","LINK_SELECTOR","ICON_SELECTOR","TIMER","IMAGE","ZINDEX","POINTERDOWN","allPointers","MOUSEWHEEL","SCROLLWIDTH","SCROLLHEIGHT","OFFSETWIDTH","OFFSETHEIGHT","POPUP_ID_ATTR","POPUP_OPENER_ATTR","KENDOPOPUP","HOVERSTATE","SELECTEDSTATE","menuSelector","groupSelector","animationContainerSelector","popupSelector","allItemsSelector","disabledSelector","availableItemsSelector","linkSelector","exclusionSelector","templateSelector","scrollButtonSelector","touchPointerTypes","imageAttr","rendering","wrapperCssClass","firstLevel","itemCssAttributes","imageCssAttributes","imgAttributes","contentCssAttributes","contentAttr","defaultClasses","textClass","arrowClass","groupAttributes","expanded","groupCssClass","getEffectDirection","parseDirection","updateItemClasses","omitWrap","updateArrow","updateFirstLast","arrowCssClass","getArrowCssClass","updateHasAriaPopup","parentLi","getParentLiItems","storeItemSelectEventHandler","selectHandler","getItemSelectEventHandler","setItemData","popupOpenerSelector","popupGroupSelector","getChildPopups","currentPopup","overflowWrapper","childPopupOpener","opener","popupId","popupParentItem","popupElement","itemPopup","overflowMenuParents","getParents","mousewheelDelta","parentsScroll","scrollDirection","isPointerTouch","pointerType","isTouch","removeSpacesBetweenItems","Menu","_updateClasses","_animations","nextItemZIndex","_initOverflow","_attachMenuEventsHandlers","openOnClick","clicked","_ariaId","closeOnClick","hoverDelay","popupCollision","_initData","_overflowWrapper","_checkActiveProxy","_checkActiveElement","_preventClose","_removeHoverItem","_mouseleavePopup","_mouseenterPopup","_documentClickHandler","_documentClick","_detachMenuEventsHandlers","backwardBtn","forwardBtn","_openedPopups","_scrollWrapper","scrollButton","_initScrolling","initialWidth","initialCssWidth","_setOverflowWrapperWidth","_toggleScrollButtons","_popupsWrapper","wrapperCssWidth","wrapperWidth","menuWidth","_reinitOverflow","overflowChanged","_destroyOverflow","popupWrapper","popupParentLi","isNumeric","mouseWheelDistance","backwardDouble","forwardDouble","scrolling","touchEvents","scrollValue","finish","mouseenterHandler","mousedownHandler","scrollSpeed","_closeChildPopups","currentScroll","_toggleDisabled","attemptGetItem","referenceItem","inserted","_insert","_childPopupElement","plain","groupData","renderGroup","renderItem","parentItems","_openAfterLoad","visiblePopups","closePopup","overflowPopup","_triggerEvent","windowHeight","setScrolling","maxHeight","nextZindex","parentHorizontal","_configurePopupOverflow","_initPopupScrolling","popupOpener","_wrapPopupElement","groupId","skipMouseEvents","_initPopupScrollButtons","scrollButtons","_closeParentPopups","_keyTriggered","_setPopupHeight","_initialHeight","popupOuterHeight","popupOffsetTop","bottomScrollbar","canFit","dontClearClose","hasChildPopupsHovered","isPopupMouseLeaved","_isRootItem","_forceClose","isEnter","_closurePrevented","hoverItem","_hoverItem","_findRootParent","hasFocus","oldHoverItem","_oldHoverItem","nonContentGroupsSelector","_itemHasChildren","pointerTouch","isParentClosing","delegateTarget","rootMenuItems","subMenuItems","toElement","_closePopups","rootPopup","groupParent","innerPopup","_innerPopup","openHandle","formNode","itemElement","childGroup","childGroupVisible","targetHref","sampleHref","isLocalLink","isTargetLink","shouldCloseTheRootItem","_lastClickedElement","childPopupId","_parentsUntil","enterKey","itemSelectEventData","_getEventData","isSelectItemDefaultPrevented","isSelectDefaultPrevented","_moveHover","belongsToVertical","_itemBelongsToVertival","_itemDown","_itemUp","_itemEsc","_moveHoverToRoot","menuIsVertical","nextItem","_scrollToItem","_itemRight","parentItem","_itemLeft","scrollDir","currentScrollOffset","itemSize","itemOffset","ulSize","scrollButtonSize","itemPosition","findByUid","wrapperElement","itemsToUpdate","updateProxy","_updateItem","removeProxy","_appendItems","_fieldAccessor","fieldBindings","fieldAccessor","itemWrapper","renderContent","dataContentField","renderItems","ContextMenu","_marker","_wire","_initialWidth","alignToAnchor","_showProxy","_closeProxy","_configurePopupScrolling","_setPopupWidth","windowWidth","popupOuterWidth","popupOffsetLeft","maxWidth","_closeTimeoutProxy","_showHandler","_eventOrigin","_targetChild","sameTarget","containment","normalClick","_preventProxy","_triggerProxy","LINKSELECTOR","ITEM","VISIBLEGROUP","EXPAND","CONTENT","COLLAPSE","ACTIVECLASS","GROUPS","CONTENTS","DISABLEDCLASS","SELECTEDSELECTOR","HIGHLIGHTCLASS","ACTIVEITEMSELECTOR","clickableItems","disabledItems","selectableItems","SINGLE","itemIcon","contentUrl","textAttributes","ariaHidden","contentAttributes","updateLevel","updateItemHtml","toggleButton","PanelBar","_retryRequest","_first","expand","_angularCompile","requestFailed","retry","loadOnDemand","expandMode","_angularCompileElements","_angularCleanup","useAnimation","animBackup","_animating","_addGroupElement","_collapseAllExpanded","_toggleItem","showProgress","loadingText","_refreshRoot","rootItemsHtml","_refreshChildren","_toggleGroup","uidAttr","_updateItems","tempItem","_hasChildItems","retryHtml","_expanded","itemsHtml","nodeWrapper","panelBar","currentNode","skipChange","_updateSelected","focused","isReferenceItem","_updateItemsClasses","panels","panelsParent","_updateItemClasses","contentUrls","wrapElement","isAnchor","isVisible","notVisible","animationSettings","hasCollapseAnimation","_animationCallback","stopExpand","statusIcon","loadingIconTimeout","DEFAULTMIN","DEFAULTMAX","DEFAULTVALUE","DEFAULTCHUNKCOUNT","KPROGRESSBAR","KPROGRESSBARREVERSE","KPROGRESSBARINDETERMINATE","KPROGRESSBARCOMPLETE","KPROGRESSWRAPPER","KPROGRESSSTATUS","LABEL_POSITION_END","KCOMPLETEDCHUNK","PROGRESSTYPE","PERCENT","CHUNK","COMPLETE","HUNDREDPERCENT","DEFAULTANIMATIONDURATION","PRECISION","progressStatus","announceElement","ProgressBar","_progressProperty","_fields","_validateType","ariaRole","_progressAnimation","_updateProgress","chunkCount","showStatus","announce","_calculatePercentage","_isStarted","progressWrapper","currentType","_addChunkProgressWrapper","validated","_roundValue","_updateChunks","_onProgressUpdateAlways","_updateProgressWrapper","percentagesPerChunk","percentageParsed","completedChunksCount","completedChunks","animationDuration","_animation","animationCssOptions","_addRegularProgressWrapper","_onProgressAnimateStart","_onProgressAnimate","_onProgressAnimateComplete","always","progressInPercent","progressStatusWrapSize","progressWrapperSize","progressValue","chunkSize","_normalizeChunkSize","lastChunk","_calculateChunkSize","chunkContainer","_onePercent","ACTIVATE_EVENTS","ResponsivePanel","_toggleHandler","_toggleButtonClick","_registerBreakpoint","_mediaQuery","_registerStyle","breakpoint","head","styleSheet","createTextNode","prevented","CONTENTURL","TABONTOP","NAVIGATABLEITEMS","KEYBOARDNAVIGATABLEITEMS","HOVERABLEITEMS","DEFAULTDISTANCE","ARIA_ORIENTATION","updateTabClasses","tabs","tabGroup","scrollButtonHtml","buttonClass","TabStrip","_contentUrls","_tabPosition","_processContentUrls","_initialActivate","dataEncodedField","dataImageUrlField","dataUrlField","dataSpriteCssClass","dataContentUrlField","tabPosition","collapsible","_keyDownProxy","activateTab","hasCloseAnimation","neighbours","oldTab","isAnimationEnabled","contentAnimators","inRequest","abort","_scrollableModeActive","_scrollTabsToItem","visibleContents","contentHolder","tabsHeight","isAjaxContent","showContentElement","showContent","ajaxRequest","oldMinHeight","ajaxSettings","halfWidth","fakeProgress","endState","oldProgressAnimation","ajaxOptions","request","progressUpload","upload","evt","noProgress","XMLHttpRequest","lengthComputable","stopProgress","statusText","tab","_create","tabWrapper","_updateContentElements","contentElements","scrollContainer","deactivateTab","_scrollPrevButton","_scrollNextButton","referenceTab","referenceContent","fromIndex","newTabsCreated","_moveUrlItem","_removeUrlItem","_endItem","_appendUrlItem","_itemClick","oldFocusedTab","_elementId","tabStripID","endItem","wr","rtl","wrapperOffsetWidth","tabGroupScrollWidth","scrollPrevButton","scrollNextButton","_scrollableAllowed","_nowScrollingTabs","mouseDown","mouseUp","isRtlScrollDirection","_scrollTabsByDelta","tabGroupWidth","scrLeft","activeItem","activeTab","isInitialUpdate","tabId","currentContent","tabStrip","LI","LITERAL","HOUR","ZONE","WEEKDAY","QUARTER","DATE_FIELD_MAP","Q","E","H","K","X","z","Z","NAME_TYPES","standAlone","quarter","era","MODERN_RENDERING_TEMPLATE","NEW_RENDERING_FOOTER","HIGHLIGHTCONTAINER","TimeView","_dates","timeView","_timeViewID","_heightHandler","dst","midnight","noon","lastTimeOption","_createScrollList","_createClassicRenderingList","templateOptions","mainSize","buttonSize","_nowClickHandler","_cancelClickHandler","_setClickHandler","_mouseOverHandler","_scrollerKeyDownHandler","lists","getItemHeight","_focusList","_scrollTop","listParent","_updateTitle","applyValue","is12hourFormat","includes","indexAttr","hoursList","minutessList","secondsList","designatorList","_internalScroll","_scrollListToPosition","dataBind","_html","mergeDateAndTime","msLastTime","msInterval","useValueToRender","msStart","_createListContent","splitDateFormat","getDatesInRange","_showAllHiddenItems","_updateListBottomOffset","listHeight","bottomOffset","_updateHoursRange","minHours","_minHours","maxHours","_maxHours","useMax","useMin","selectedDesignator","_findSelectedValue","_validateMin","_validateMax","_updateMinutesRange","minutesList","minMinutes","_minMinutes","maxMinutes","_maxMinutes","selectedHour","_updateSecondsRange","minSeconds","_minSeconds","maxSeconds","selectedMinutes","_updateDesignatorRange","_updateRanges","specifiedRange","_currentlySelected","validateDate","_maxSeconds","addTranslate","topOffset","-ms-transform","_itemClickHandler","_listScrollHandler","_scrollingTimeout","_updateCurrentlySelected","selectedSeconds","firstOccurence","maxSet","_literalTemplate","_itemTemplate","shouldPad","hour12","scrollIntoViewIfNeeded","innerText","_distinctSelection","selectionIndex","timeDiv","TimePicker","_specifiedRange","millisecond","datePattern","addLiteral","lastPart","isHour12","dateNameType","formatLength","nameType","startsWith","searchString","subStr","specifier","patternLength","centerIfNeeded","makeRange","coverRange","makePoint","absolute","pt","offsetLeft","extent","clientLeft","clientTop","dateViewParams","timeViewParams","SINGLE_POPUP_TEMPLATE","DateTimePicker","singlePopup","_views","_icons","_midnight","_calculateMidnight","timeFormat","dateButtonText","timeButtonText","_timeIcon","dateIcon","timeIcon","_switchToTimeView","_switchToDateView","secondView","timeViewOptions","minDateEqual","maxDateEqual","rebind","isDateViewVisible","_applyDateValue","_toggleIcons","_applyTimeValue","_timeSelected","adjustedDate","icons","_groupChangeClick","pxUnitsRegex","LAYOUTCHANGE","PANE","KPANE","PANECLASS","ARIA_VALUEMIN","ARIA_VALUEMAX","isPercentageSize","isPixelSize","isFluid","calculateSize","panePropertyAccessor","triggersResize","paneConfig","splitter","Splitter","_dimension","_keys","decrease","increase","_resizeStep","_initPanes","PaneResizing","triggerHandler","_addOverlays","_panes","_removeOverlays","_togglePane","_detachEvents","panes","navigationKeys","isResizing","_triggerAction","panesConfig","_initPane","shouldExecute","collapsed","arrowType","_updateSplitBar","splitbar","previousPane","nextPane","previousPaneEl","catIconIf","iconType","condition","prevCollapsible","prevCollapsed","nextCollapsible","nextCollapsed","previousPaneId","_updateSplitBars","_removeSplitBars","_resetAriaValueNow","splitBars","panesSizes","valueNow","joinDimension","splitBarsCount","sizingProperty","totalSize","sizedPanesWidth","sizedPanesCount","freeSizedPanes","collapsedSize","freeSizePanesCount","freeSizePaneWidth","alternateSizingProperty","positioningProperty","sizingDomProperty","lastNonCollapsedPane","_addPane","paneElement","referencePane","verticalDefaults","mousePositioningProperty","horizontalDefaults","_resizable","_createHint","resizeend","previousPaneConfig","nextPaneConfig","prevBoundary","nextBoundary","toPx","prevMinSize","prevMaxSize","nextMinSize","nextMaxSize","ghostPosition","previousPaneNewSize","nextPaneNewSize","fluidPanesCount","KDIALOG","KWINDOW","KICONCLOSE","KCONTENTCLASS","KCONTENTSELECTOR","KSCROLL","KTITLELESS","KDIALOGTITLE","KDIALOGTITLEBAR","KBUTTONGROUP","KALERT","KCONFIRM","KPROMPT","KTEXTBOX","KOVERLAY","INITOPEN","TOUCHMOVE","DATADOCOVERFLOWRULE","DATAHTMLTAPYRULE","okText","promptInput","overlaySelector","constrain","buttonKeyTrigger","DialogBase","_init","_centerCallback","_center","wrapperTemplate","_createDialog","_defaultFocus","_dimensions","_triggerOpen","sizeClass","actions","_createActionbar","_closable","_enableDocumentScrolling","_overlay","_setElementMaxHeight","_setElementHeight","elementMaxHeight","_uiHeight","_applyScrollClassName","hasScroll","actionbar","actionbarHeight","titlebar","titlebarHeight","overlay","_waiAriaOverlay","_removeWaiAriaOverlay","preventScroll","_stopDocumentScrolling","_overlayedNodes","jthis","hiddenValue","_closeClick","_closeKeyHandler","closable","titleId","titlebarActions","closeAction","isStretchedLayout","buttonLayout","_addButtons","actionClick","_actionClick","actionKeyHandler","_actionKeyHandler","_mergeTextWithOptions","closeBtn","actionButtons","_runActionBtn","preventClose","toFront","_triggerInitOpen","_focusDialog","showOptions","_animationOptions","otherModalsVisible","_modals","Fade","overlayFx","fadeIn","_openAnimationEnd","basicAnimation","_initOpenTriggered","originalZIndex","windowObject","zIndexNew","systemTriggered","_stopCenterOnResize","hideOptions","_removeOverlay","_closeAnimationEnd","_centerOnResize","documentWindow","newLeft","newTop","_trackResize","modals","hideOverlay","_object","$body","_storeOverflowRule","$html","_touchStart","passive","_touchMove","$target","upScroll","preventYScroll","_restoreOverflowRule","$element","_isOverflowStored","overflowRule","previousFocus","_previousFocus","lastModal","zStack","encodedHtml","firstModal","Dialog","PopupBox","alertWrapper","_ensureContentId","_ariaDescribedBy","_initFocus","_chooseEntryFocus","Alert","kendoAlert","alert","Confirm","kendoConfirm","confirmDialog","confirm","Prompt","_createPrompt","promptContainer","promptInputContainer","kendoPrompt","promptDialog","prompt","MODAL_NS","KWINDOWTITLE","KWINDOWTITLEBAR","KWINDOWCONTENT","KDIALOGCONTENT","KWINDOWRESIZEHANDLES","KHOVERSTATE","KFOCUSEDSTATE","MAXIMIZEDSTATE","INLINE_FLEX","CURSOR","REFRESH","MINIMIZE","MAXIMIZE","RESIZESTART","RESTORE","KENDOKEYDOWN","MINIMIZE_MAXIMIZE","KPIN","KUNPIN","PIN_UNPIN","TITLEBAR_BUTTONS","REFRESHICON","WINDOWEVENTSHANDLED","zero","toInt","normalizedValue","executableScript","getPosition","parentOverflowX","parentOverflowY","Window","windowContent","windowFrame","globalWindow","suppressActions","_createWindow","minTop","minLeft","maxTop","maxLeft","_buttonEnter","_buttonLeave","_windowActionHandler","_keydownContent","windowInstance","aria-labelledby","_onDocumentResize","contentBoxSizing","lrBorderWidth","tbBorderWidth","_isPinned","_updateBoundaries","containmentTop","containmentLeft","toggleMaximization","resizeHandle","WindowResizing","dragging","WindowDragging","_actions","windowSpecificCommands","doc","cachedOptions","_containerScrollTop","_containerScrollLeft","fade","autoFocus","isMaximized","isMinimized","newWidth","newHeight","w","unpin","maximize","minimize","_actionForIcon","k-i-close","k-i-window-maximize","k-i-window-minimize","k-i-window-restore","k-i-refresh","k-i-pin","k-i-unpin","windowElements","_scrollIsAppended","titleBar","titleElement","containmentContext","_activate","suppressAnimation","defaultPrevented","_deactivate","_actionable","_shouldFocus","avoidFocus","currentWindow","openAnimation","windowTop","restoreOptions","shouldRestrictTop","_sizingAction","actionId","initOptions","contentFrame","_triggerRefresh","_ajaxComplete","_loadingIconTimeout","_ajaxError","_ajaxSuccess","_showLoading","contentHtml","iframeSrcAttributes","_preventDragging","addOverlay","removeOverlay","elementPadding","initialPosition","resizeDirection","initialSize","containerOffset","hasMargin","wrapperPosition","relativeElMarginLeft","relativeElMarginTop","_relativeElMarginLeft","_relativeElMarginTop","leftRtlOffset","scrollOffset","windowBottom","windowRight","newWindowTop","initialWindowPosition","initialPointerPosition","startPosition","_finishDrag","UI_OVERLAY","BEFORE_SHOW","AFTER_SHOW","BEFORE_HIDE","initPopOvers","popovers","preventScrollIfNotInput","_scroller","_model","stretch","scroller","initWidgets","$destroy","inited","_invokeNgController","_padIfNativeScrolling","isAndroid","skin","isAndroidForced","hasPlatformIndependentSkin","topContainer","bottomContainer","scrollerContent","idAttrValue","controller","_callController","$apply","$scope","platform","previousView","errorMessage","rootNeeded","_getLayout","_setupLayouts","showClosure","serverNavigation","_loadView","modalViews","_xhr","_xhrComplete","CAPTURE_EVENTS","captureEvents","_attachCapture","changeMessage","transitionDone","EXTERNAL","DUMMY_HREF","SKIP_TRANSITION_ON_BACK_BUTTON","WIDGET_RELS","historyCallback","viewEngine","_historyNavigate","_historyReplace","closeActiveDialogs","viewShow","loadStart","loadComplete","sameViewRequested","viewTypeDetermined","_setPortraitWidth","_setupAppLinks","dialogs","navigateToInitial","portraitWidth","bindToRouter","router","attrUrl","hideLoading","showLoading","changeLoadingMessage","linkRoles","pressedButtonSelector","buttonSelectors","_mouseup","_appLinkClick","rel","delayedTouchEnd","openFor","paneContainer","ARROW","OVERLAY","DIRECTION_CLASSES","DIRECTIONS","ANIMATION","containerPopup","popupOptions","PopOver","initialOpen","SHIM","Shim","app","osname","ioswp","bb","shim","BEFORE_OPEN","WRAP","ModalView","_shim","AXIS","SWIPE_TO_OPEN","AFTER_HIDE","NULL_VIEW","Drawer","drawer","_viewShow","_attachTransition","swipeToOpen","leftPositioned","swipeToOpenViews","_moveViewTo","visibleOnCurrentView","_currentViewIncludedIn","_setAsCurrent","canMoveLeft","canMoveRight","leftSwipe","newPosition","limitedPosition","pastHalf","velocityThreshold","shouldShow","EXPANED_PANE_SHIM","SplitView","_style","_paramsHistory","expandedPaneShim","_shimUserEvents","collapsePanes","expandPanes","DEFAULT_OS","BERRYPHONEGAP","FONT_SIZE_COEF","CHROME","BROKEN_WEBVIEW_RESIZE","INITIALLY_HORIZONTAL","MOBILE_PLATFORMS","ios7","viewportTemplate","usedWithBlock","systemMeta","clipTemplate","ENABLE_CLIP","iconMeta","HIDEBAR","SUPPORT_SWIPE_TO_GO_BACK","HISTORY_TRANSITION","BARCOMPENSATION","STATUS_BAR_HEIGHT","SCREEN","HEAD","osCssClass","variant","setDefaultPlatform","statusBarStyle","wp8Background","noVariantSet","isOrientationHorizontal","getOrientationClass","setMinimumHeight","applyViewportHeight","Application","bootstrap","_setupPlatform","_attachMeta","_setupElementClass","_attachHideBarHandlers","paneOptions","startHistory","updateDocumentTitle","_setupDocumentTitle","_startHistory","hideAddressBar","browserHistory","historyTransition","retina","refreshBackgroundFn","refreshBackgroundColorProxy","_resizeToScreenHeight","includeStatusBar","_clearExistingMeta","hideBar","_hideBar","defaultTitle","BUTTONS","CONTEXT_DATA","cancelTemplate","ActionSheet","ShimClass","_shimHideProxy","_shimHide","actionData","ANDROID3UP","highlightButton","highlight","deactivateTimeoutID","createBadge","useTap","clickOn","_userEvents","_timeoutDeactivate","badgeElement","iconSpan","BackButton","DetailButton","DISABLE","_button","selectOn","buttongroup","COLLAPSIBLE","INSET","HEADER_WRAPPER","CONTENT_WRAPPER","COLLAPSED","EXPANDED","ANIMATED","EXAPND","Collapsible","_buildHeader","inset","collapseIcon","expandIcon","iconPosition","instant","_getContentHeight","isCollapsed","ITEM_SELECTOR","HIGHLIGHT_SELECTOR","GROUP_CLASS","ACTIVE_CLASS","GROUP_WRAPPER","GROUP_TEMPLATE","SEARCH_TEMPLATE","STYLED","ITEM_CHANGE","whitespaceRegExp","buttonRegExp","whitespace","TEXT_NODE","addIcon","querySelector","enhanceItem","enhanceLinkItem","itemAndDetailButtons","otherNodes","enhanceCheckBoxItem","putAt","HeaderFixer","_shouldFixHeaders","headerFixer","cacheHeaders","_cacheHeaders","_scrollHandler","_fixHeader","fixedHeaders","headerPair","currentHeader","DEFAULT_PULL_PARAMETERS","RefreshHandler","pullParameters","pull","_pulled","endReached","itemConstructor","prevItem","below","totalHeight","averageItemHeight","remainingItemsCount","batchUpdate","initialOffset","lastDirection","above","nextIndex","lastTop","topBorder","bottomBorder","VirtualListViewItem","setDataItem","LOAD_ICON","VirtualListViewLoadingIndicator","_loadIcon","VirtualListViewPressToLoadMore","_loadButton","loadMoreText","loadMore","kendoMobileButton","_hideShowButton","_showLoadButton","VirtualListViewItemBinder","chromeHeight","_scrollEnd","pressToLoadMore","virtualViewSize","updateScrollerSize","updateSize","ListViewItemBinder","itemBinder","prependOnRefresh","appendOnRefresh","groupedMode","findByDataItem","adding","removing","_shouldShowLoading","insertAt","replaceGrouped","endlessScroll","ListViewFilter","filterable","autoFilter","searchInput","_oldFilter","_filterChange","_dataSourceChange","_refreshInput","appliedFilters","_applyFilter","scrollTreshold","scrollThreshold","_headerFixer","_itemsCache","_itemBinder","_pullToRefreshHandler","_enhanceItems","emptyDataSource","_scrollerInstance","triggerChange","replaceItem","newItem","_dim","_highlight","plainItem","dataIDAttribute","templateProxy","groupTemplateProxy","_headerTemplate","buttonElement","_styleGroups","rootItems","grouped","enhanced","createContainer","toggleTitle","centerElement","noTitle","showTitle","NavBar","leftElement","rightElement","CHANGING","CURRENT_PAGE_CLASS","VIRTUAL_PAGE_CLASS","CLEANUP","VIRTUAL_PAGE_COUNT","LEFT_PAGE","CETER_PAGE","RIGHT_PAGE","LEFT_SWIPE","NUDGE","RIGHT_SWIPE","scrollView","_changeProxy","_refreshProxy","pageHTML","pageCount","ScrollViewPager","DRAG_START","DRAG_END","ElasticPane","updateDimension","transitionTo","ScrollViewContent","ScrollViewElasticPane","_getPages","contentHeight","enablePager","pagerOverlay","paneMoved","swipeType","bounce","approx","snap","nextPage","minSnap","maxSnap","currentPage","updatePage","forcePageUpdate","resizeTo","pageElements","containerHeight","_paged","VirtualScrollViewContent","_initPages","_buffer","_pendingPageRefresh","_pendingWidgetRefresh","_resetPages","_onResize","_resetProxy","_onReset","_endReachedProxy","_onEndReached","emptyTemplate","emptyTemplateProxy","Page","setWidth","_repositionPages","_updatePagesContent","thresholdPassed","isEndReached","_cancelMove","_moveBackward","_moveForward","setPageContent","_resetMovable","theContent","ScrollView","VirtualPage","transitionEnd","_transitionEnd","dragStart","_dragStart","dragEnd","_syncWithContent","mobileContainer","viewInit","bounceVelocityThreshold","prevPage","SWITCHON","SWITCHOFF","MARGINLEFT","ACTIVE_STATE","DISABLED_STATE","RESOLVEDPREFIX","TRANSFORMSTYLE","limitValue","minLimit","maxLimit","SWITCH_MARKUP","Switch","onLabel","offLabel","background","snapPoint","_animateBackground","handleWidth","ACTIVE_STATE_CLASS","_buildButton","switchTo","_setActiveItem","switchByFullUrl","currentItem","tabstrip","defer","module","$injector","$parse","$timeout","$defaultCompile","$log","withoutTimeout","OPTIONS_NOW","createDataSource","TreeList","TreeView","Scheduler","PivotGrid","PivotConfigurator","toDataSource","$eval","ds","$watch","mew","kendoWidgetInstance","ignoredAttributes","kDataSource","kOptions","kRebind","kNgModel","kNgDelay","ignoredOwnProperties","createWidget","attrs","origAttr","controllers","delayValue","ngModel","ngForm","ctor","parsed","unresolved","unwatch","createIt","$root","unregister","$attr","exposeWidget","$emit","destroyRegister","destroyWidgetOnScopeDestroy","setupRebind","kNgDisabled","bindToKNgDisabled","kNgReadonly","isReadonly","bindToKNgReadonly","bindToKNgModel","bindToNgModel","propagateClassToWidgetWrapper","optionsPath","defaultOptions","addOption","scopeValue","widgetEvents","dataName","eventKey","optionName","kendoWidget","formValue","formRegExp","isForm","haveChangeOnElement","viewRender","$viewValue","$modelValue","$render","onChange","formPristine","$pristine","$setViewValue","$setPristine","digest","currentVal","$isEmpty","DateRangePicker","rangePickerModels","rangePickerStartModel","rangePickerEndModel","_startDateInput","_endDateInput","updating","valueIsCollection","currentValueLength","$angular_setLogicValue","watchHandler","$watchCollection","changeHandler","$setDirty","$angular_getLogicValue","deregister","$on","MutationObserver","prevClassList","mo","changes","suspend","chg","currClassList","cls","resume","disconnect","observe","rebindAttr","_cleanUp","WIDGET_TEMPLATE_OPTIONS","templateContents","isUpload","replaceChild","setTemplate","factory","kendoRenderedTimeout","RENDERED","restrict","require","$attrs","roleattr","TAGNAMES","Editor","Upload","MobileButton","MobileBackButton","MobileDetailButton","MobileListView","SKIP_SHORTCUTS","MANUAL_DIRECTIVES","directive","createDirectives","klass","make","directiveName","directiveFactory","shortcut","dashed","scopeField","kScopeField","isDigesting","destroyScope","encode","encOpen","encClose","pendingPatches","defadvice","origMethod","entry","arg","$angular_scope","$angular_init","itemScope","$$kendoScope","vars","$new","$angular_makeEventHandler","kendoEvent","locals","elems","colIdx","_checkBoxSelection","angularDataItem","templateSettings","col","terminal","pre","_instance","post","kAttr","priority","TreeMap","MobileScrollView","Grid","templateDirectives","templateName"],"mappings":"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"}