{"version":3,"file":"kendo.ui.core.min.js","sources":["kendo.ui.core.js"],"sourcesContent":["(function(f, define){\n    define('kendo.core',['jquery'], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"core\",\n    name: \"Core\",\n    category: \"framework\",\n    description: \"The core of the Kendo framework.\"\n};\n\nvar packageMetadata = {\n    name: '@progress/kendo-ui',\n    productName: 'Kendo UI',\n    productCodes: ['KENDOUICOMPLETE', 'KENDOUI', 'KENDOUI', 'KENDOUICOMPLETE'],\n    publishDate: 0,\n    version: '',\n    licensingDocsUrl: 'https://www.telerik.com/kendo-ui/my-license/'\n};\n\n/*jshint eqnull: true, loopfunc: true, evil: true, boss: true, freeze: false*/\n(function($, window, undefined) {\n    var kendo = window.kendo = window.kendo || { cultures: {} },\n        extend = $.extend,\n        each = $.each,\n        isArray = Array.isArray,\n        noop = $.noop,\n        math = Math,\n        Template,\n        JSON = window.JSON || {},\n        support = {},\n        percentRegExp = /%/,\n        formatRegExp = /\\{(\\d+)(:[^\\}]+)?\\}/g,\n        boxShadowRegExp = /(\\d+(?:\\.?)\\d*)px\\s*(\\d+(?:\\.?)\\d*)px\\s*(\\d+(?:\\.?)\\d*)px\\s*(\\d+)?/i,\n        numberRegExp = /^(\\+|-?)\\d+(\\.?)\\d*$/,\n        FUNCTION = \"function\",\n        STRING = \"string\",\n        NUMBER = \"number\",\n        OBJECT = \"object\",\n        NULL = \"null\",\n        BOOLEAN = \"boolean\",\n        UNDEFINED = \"undefined\",\n        PREFIX = \"prefix\",\n        ARIA_LABELLEDBY = \"aria-labelledby\",\n        ARIA_LABEL = \"aria-label\",\n        LABELIDPART = \"_label\",\n        getterCache = {},\n        setterCache = {},\n        slice = [].slice,\n        cssPropertiesNames = [ \"themeColor\", \"fillMode\", \"shape\", \"size\", \"rounded\", \"positionMode\" ],\n        // avoid extending the depricated properties in latest verions of jQuery\n        noDepricateExtend = function() {\n            var src, copyIsArray, copy, name, options, clone,\n                target = arguments[ 0 ] || {},\n                i = 1,\n                length = arguments.length,\n                deep = false;\n\n            // Handle a deep copy situation\n            if ( typeof target === \"boolean\" ) {\n                deep = target;\n\n                // skip the boolean and the target\n                target = arguments[ i ] || {};\n                i++;\n            }\n\n            // Handle case when target is a string or something (possible in deep copy)\n            if ( typeof target !== \"object\" && typeof target !== \"function\") {\n                target = {};\n            }\n\n            // extend jQuery itself if only one argument is passed\n            if ( i === length ) {\n                target = this;\n                i--;\n            }\n\n            for ( ; i < length; i++ ) {\n\n                // Only deal with non-null/undefined values\n                if ( ( options = arguments[ i ] ) != null ) {\n\n                    // Extend the base object\n                    for ( name in options ) {\n                        // filters, concat and : properties are depricated in the jQuery 3.3.0\n                        // accessing these properties throw a warning when jQuery migrate is included\n                        if (name == \"filters\" || name == \"concat\" || name == \":\") {\n                            continue;\n                        }\n                        src = target[ name ];\n                        copy = options[ name ];\n\n                        // Prevent never-ending loop\n                        if ( target === copy ) {\n                            continue;\n                        }\n\n                        // Recurse if we're merging plain objects or arrays\n                        if ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n                            ( copyIsArray = Array.isArray( copy ) ) ) ) {\n\n                            if ( copyIsArray ) {\n                                copyIsArray = false;\n                                clone = src && Array.isArray( src ) ? src : [];\n\n                            } else {\n                                clone = src && jQuery.isPlainObject( src ) ? src : {};\n                            }\n\n                            // Never move original objects, clone them\n                            target[ name ] = noDepricateExtend( deep, clone, copy );\n\n                        // Don't bring in undefined values\n                        } else if ( copy !== undefined ) {\n                            target[ name ] = copy;\n                        }\n                    }\n                }\n            }\n\n            // Return the modified object\n            return target;\n        };\n\n    kendo.version = \"2022.2.510\".replace(/^\\s+|\\s+$/g, '');\n\n    function Class() {}\n\n    Class.extend = function(proto) {\n        var base = function() {},\n            member,\n            that = this,\n            subclass = proto && proto.init ? proto.init : function () {\n                that.apply(this, arguments);\n            },\n            fn;\n\n        base.prototype = that.prototype;\n        fn = subclass.fn = subclass.prototype = new base();\n\n        for (member in proto) {\n            if (proto[member] != null && proto[member].constructor === Object) {\n                // Merge object members\n                fn[member] = extend(true, {}, base.prototype[member], proto[member]);\n            } else {\n                fn[member] = proto[member];\n            }\n        }\n\n        fn.constructor = subclass;\n        subclass.extend = that.extend;\n\n        return subclass;\n    };\n\n    Class.prototype._initOptions = function(options) {\n        this.options = deepExtend({}, this.options, options);\n    };\n\n    var isFunction = kendo.isFunction = function(fn) {\n        return typeof fn === \"function\";\n    };\n\n    var preventDefault = function() {\n        this._defaultPrevented = true;\n    };\n\n    var isDefaultPrevented = function() {\n        return this._defaultPrevented === true;\n    };\n\n    var Observable = Class.extend({\n        init: function() {\n            this._events = {};\n        },\n\n        bind: function(eventName, handlers, one) {\n            var that = this,\n                idx,\n                eventNames = typeof eventName === STRING ? [eventName] : eventName,\n                length,\n                original,\n                handler,\n                handlersIsFunction = typeof handlers === FUNCTION,\n                events;\n\n            if (handlers === undefined) {\n                for (idx in eventName) {\n                    that.bind(idx, eventName[idx]);\n                }\n                return that;\n            }\n\n            for (idx = 0, length = eventNames.length; idx < length; idx++) {\n                eventName = eventNames[idx];\n\n                handler = handlersIsFunction ? handlers : handlers[eventName];\n\n                if (handler) {\n                    if (one) {\n                        original = handler;\n                        handler = function() {\n                            that.unbind(eventName, handler);\n                            original.apply(that, arguments);\n                        };\n                        handler.original = original;\n                    }\n                    events = that._events[eventName] = that._events[eventName] || [];\n                    events.push(handler);\n                }\n            }\n\n            return that;\n        },\n\n        one: function(eventNames, handlers) {\n            return this.bind(eventNames, handlers, true);\n        },\n\n        first: function(eventName, handlers) {\n            var that = this,\n                idx,\n                eventNames = typeof eventName === STRING ? [eventName] : eventName,\n                length,\n                handler,\n                handlersIsFunction = typeof handlers === FUNCTION,\n                events;\n\n            for (idx = 0, length = eventNames.length; idx < length; idx++) {\n                eventName = eventNames[idx];\n\n                handler = handlersIsFunction ? handlers : handlers[eventName];\n\n                if (handler) {\n                    events = that._events[eventName] = that._events[eventName] || [];\n                    events.unshift(handler);\n                }\n            }\n\n            return that;\n        },\n\n        trigger: function(eventName, e) {\n            var that = this,\n                events = that._events[eventName],\n                idx,\n                length;\n\n            if (events) {\n                e = e || {};\n\n                e.sender = that;\n\n                e._defaultPrevented = false;\n\n                e.preventDefault = preventDefault;\n\n                e.isDefaultPrevented = isDefaultPrevented;\n\n                events = events.slice();\n\n                for (idx = 0, length = events.length; idx < length; idx++) {\n                    events[idx].call(that, e);\n                }\n\n                return e._defaultPrevented === true;\n            }\n\n            return false;\n        },\n\n        unbind: function(eventName, handler) {\n            var that = this,\n                events = that._events[eventName],\n                idx;\n\n            if (eventName === undefined) {\n                that._events = {};\n            } else if (events) {\n                if (handler) {\n                    for (idx = events.length - 1; idx >= 0; idx--) {\n                        if (events[idx] === handler || events[idx].original === handler) {\n                            events.splice(idx, 1);\n                        }\n                    }\n                } else {\n                    that._events[eventName] = [];\n                }\n            }\n\n            return that;\n        }\n    });\n\n\n     function compilePart(part, stringPart) {\n         if (stringPart) {\n             return \"'\" +\n                 part.split(\"'\").join(\"\\\\'\")\n                     .split('\\\\\"').join('\\\\\\\\\\\\\"')\n                     .replace(/\\n/g, \"\\\\n\")\n                     .replace(/\\r/g, \"\\\\r\")\n                     .replace(/\\t/g, \"\\\\t\") + \"'\";\n         } else {\n             var first = part.charAt(0),\n                 rest = part.substring(1);\n\n             if (first === \"=\") {\n                 return \"+(\" + rest + \")+\";\n             } else if (first === \":\") {\n                 return \"+$kendoHtmlEncode(\" + rest + \")+\";\n             } else {\n                 return \";\" + part + \";$kendoOutput+=\";\n             }\n         }\n     }\n\n    var argumentNameRegExp = /^\\w+/,\n        encodeRegExp = /\\$\\{([^}]*)\\}/g,\n        escapedCurlyRegExp = /\\\\\\}/g,\n        curlyRegExp = /__CURLY__/g,\n        escapedSharpRegExp = /\\\\#/g,\n        sharpRegExp = /__SHARP__/g,\n        zeros = [\"\", \"0\", \"00\", \"000\", \"0000\"];\n\n    Template = {\n        paramName: \"data\", // name of the parameter of the generated template\n        useWithBlock: true, // whether to wrap the template in a with() block\n        render: function(template, data) {\n            var idx,\n                length,\n                html = \"\";\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                html += template(data[idx]);\n            }\n\n            return html;\n        },\n        compile: function(template, options) {\n            var settings = extend({}, this, options),\n                paramName = settings.paramName,\n                argumentName = paramName.match(argumentNameRegExp)[0],\n                useWithBlock = settings.useWithBlock,\n                functionBody = \"var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;\",\n                fn,\n                parts,\n                idx;\n\n            if (isFunction(template)) {\n                return template;\n            }\n\n            functionBody += useWithBlock ? \"with(\" + paramName + \"){\" : \"\";\n\n            functionBody += \"$kendoOutput=\";\n\n            parts = template\n                .replace(escapedCurlyRegExp, \"__CURLY__\")\n                .replace(encodeRegExp, \"#=$kendoHtmlEncode($1)#\")\n                .replace(curlyRegExp, \"}\")\n                .replace(escapedSharpRegExp, \"__SHARP__\")\n                .split(\"#\");\n\n            for (idx = 0; idx < parts.length; idx ++) {\n                functionBody += compilePart(parts[idx], idx % 2 === 0);\n            }\n\n            functionBody += useWithBlock ? \";}\" : \";\";\n\n            functionBody += \"return $kendoOutput;\";\n\n            functionBody = functionBody.replace(sharpRegExp, \"#\");\n\n            try {\n                fn = new Function(argumentName, functionBody);\n                fn._slotCount = Math.floor(parts.length / 2);\n                return fn;\n            } catch(e) {\n                throw new Error(kendo.format(\"Invalid template:'{0}' Generated code:'{1}'\", template, functionBody));\n            }\n        }\n    };\n\nfunction pad(number, digits, end) {\n    number = number + \"\";\n    digits = digits || 2;\n    end = digits - number.length;\n\n    if (end) {\n        return zeros[digits].substring(0, end) + number;\n    }\n\n    return number;\n}\n\n    //JSON stringify\n(function() {\n    var escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        gap,\n        indent,\n        meta = {\n            \"\\b\": \"\\\\b\",\n            \"\\t\": \"\\\\t\",\n            \"\\n\": \"\\\\n\",\n            \"\\f\": \"\\\\f\",\n            \"\\r\": \"\\\\r\",\n            \"\\\"\" : '\\\\\"',\n            \"\\\\\": \"\\\\\\\\\"\n        },\n        rep,\n        toString = {}.toString;\n\n\n    if (typeof Date.prototype.toJSON !== FUNCTION) {\n\n        Date.prototype.toJSON = function () {\n            var that = this;\n\n            return isFinite(that.valueOf()) ?\n                pad(that.getUTCFullYear(), 4) + \"-\" +\n                pad(that.getUTCMonth() + 1)   + \"-\" +\n                pad(that.getUTCDate())        + \"T\" +\n                pad(that.getUTCHours())       + \":\" +\n                pad(that.getUTCMinutes())     + \":\" +\n                pad(that.getUTCSeconds())     + \"Z\" : null;\n        };\n\n        String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function () {\n            return this.valueOf();\n        };\n    }\n\n    function quote(string) {\n        escapable.lastIndex = 0;\n        return escapable.test(string) ? \"\\\"\" + string.replace(escapable, function (a) {\n            var c = meta[a];\n            return typeof c === STRING ? c :\n                \"\\\\u\" + (\"0000\" + a.charCodeAt(0).toString(16)).slice(-4);\n        }) + \"\\\"\" : \"\\\"\" + string + \"\\\"\";\n    }\n\n    function str(key, holder) {\n        var i,\n            k,\n            v,\n            length,\n            mind = gap,\n            partial,\n            value = holder[key],\n            type;\n\n        if (value && typeof value === OBJECT && typeof value.toJSON === FUNCTION) {\n            value = value.toJSON(key);\n        }\n\n        if (typeof rep === FUNCTION) {\n            value = rep.call(holder, key, value);\n        }\n\n        type = typeof value;\n        if (type === STRING) {\n            return quote(value);\n        } else if (type === NUMBER) {\n            return isFinite(value) ? String(value) : NULL;\n        } else if (type === BOOLEAN || type === NULL) {\n            return String(value);\n        } else if (type === OBJECT) {\n            if (!value) {\n                return NULL;\n            }\n            gap += indent;\n            partial = [];\n            if (toString.apply(value) === \"[object Array]\") {\n                length = value.length;\n                for (i = 0; i < length; i++) {\n                    partial[i] = str(i, value) || NULL;\n                }\n                v = partial.length === 0 ? \"[]\" : gap ?\n                    \"[\\n\" + gap + partial.join(\",\\n\" + gap) + \"\\n\" + mind + \"]\" :\n                    \"[\" + partial.join(\",\") + \"]\";\n                gap = mind;\n                return v;\n            }\n            if (rep && typeof rep === OBJECT) {\n                length = rep.length;\n                for (i = 0; i < length; i++) {\n                    if (typeof rep[i] === STRING) {\n                        k = rep[i];\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? \": \" : \":\") + v);\n                        }\n                    }\n                }\n            } else {\n                for (k in value) {\n                    if (Object.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? \": \" : \":\") + v);\n                        }\n                    }\n                }\n            }\n\n            v = partial.length === 0 ? \"{}\" : gap ?\n                \"{\\n\" + gap + partial.join(\",\\n\" + gap) + \"\\n\" + mind + \"}\" :\n                \"{\" + partial.join(\",\") + \"}\";\n            gap = mind;\n            return v;\n        }\n    }\n\n    if (typeof JSON.stringify !== FUNCTION) {\n        JSON.stringify = function (value, replacer, space) {\n            var i;\n            gap = \"\";\n            indent = \"\";\n\n            if (typeof space === NUMBER) {\n                for (i = 0; i < space; i += 1) {\n                    indent += \" \";\n                }\n\n            } else if (typeof space === STRING) {\n                indent = space;\n            }\n\n            rep = replacer;\n            if (replacer && typeof replacer !== FUNCTION && (typeof replacer !== OBJECT || typeof replacer.length !== NUMBER)) {\n                throw new Error(\"JSON.stringify\");\n            }\n\n            return str(\"\", {\"\": value});\n        };\n    }\n})();\n\n// Date and Number formatting\n(function() {\n    var dateFormatRegExp = /dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|\"[^\"]*\"|'[^']*'/g,\n        standardFormatRegExp =  /^(n|c|p|e)(\\d*)$/i,\n        literalRegExp = /(\\\\.)|(['][^']*[']?)|([\"][^\"]*[\"]?)/g,\n        commaRegExp = /\\,/g,\n        EMPTY = \"\",\n        POINT = \".\",\n        COMMA = \",\",\n        SHARP = \"#\",\n        ZERO = \"0\",\n        PLACEHOLDER = \"??\",\n        EN = \"en-US\",\n        objectToString = {}.toString;\n\n    //cultures\n    kendo.cultures[\"en-US\"] = {\n        name: EN,\n        numberFormat: {\n            pattern: [\"-n\"],\n            decimals: 2,\n            \",\": \",\",\n            \".\": \".\",\n            groupSize: [3],\n            percent: {\n                pattern: [\"-n %\", \"n %\"],\n                decimals: 2,\n                \",\": \",\",\n                \".\": \".\",\n                groupSize: [3],\n                symbol: \"%\"\n            },\n            currency: {\n                name: \"US Dollar\",\n                abbr: \"USD\",\n                pattern: [\"($n)\", \"$n\"],\n                decimals: 2,\n                \",\": \",\",\n                \".\": \".\",\n                groupSize: [3],\n                symbol: \"$\"\n            }\n        },\n        calendars: {\n            standard: {\n                days: {\n                    names: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n                    namesAbbr: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n                    namesShort: [ \"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\" ]\n                },\n                months: {\n                    names: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n                    namesAbbr: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n                },\n                AM: [ \"AM\", \"am\", \"AM\" ],\n                PM: [ \"PM\", \"pm\", \"PM\" ],\n                patterns: {\n                    d: \"M/d/yyyy\",\n                    D: \"dddd, MMMM dd, yyyy\",\n                    F: \"dddd, MMMM dd, yyyy h:mm:ss tt\",\n                    g: \"M/d/yyyy h:mm tt\",\n                    G: \"M/d/yyyy h:mm:ss tt\",\n                    m: \"MMMM dd\",\n                    M: \"MMMM dd\",\n                    s: \"yyyy'-'MM'-'ddTHH':'mm':'ss\",\n                    t: \"h:mm tt\",\n                    T: \"h:mm:ss tt\",\n                    u: \"yyyy'-'MM'-'dd HH':'mm':'ss'Z'\",\n                    y: \"MMMM, yyyy\",\n                    Y: \"MMMM, yyyy\"\n                },\n                \"/\": \"/\",\n                \":\": \":\",\n                firstDay: 0,\n                twoDigitYearMax: 2029\n            }\n        }\n    };\n\n\n     function findCulture(culture) {\n        if (culture) {\n            if (culture.numberFormat) {\n                return culture;\n            }\n\n            if (typeof culture === STRING) {\n                var cultures = kendo.cultures;\n                return cultures[culture] || cultures[culture.split(\"-\")[0]] || null;\n            }\n\n            return null;\n        }\n\n        return null;\n    }\n\n    function getCulture(culture) {\n        if (culture) {\n            culture = findCulture(culture);\n        }\n\n        return culture || kendo.cultures.current;\n    }\n\n    kendo.culture = function(cultureName) {\n        var cultures = kendo.cultures, culture;\n\n        if (cultureName !== undefined) {\n            culture = findCulture(cultureName) || cultures[EN];\n            culture.calendar = culture.calendars.standard;\n            cultures.current = culture;\n        } else {\n            return cultures.current;\n        }\n    };\n\n    kendo.findCulture = findCulture;\n    kendo.getCulture = getCulture;\n\n    //set current culture to en-US.\n    kendo.culture(EN);\n\n    function formatDate(date, format, culture) {\n        culture = getCulture(culture);\n\n        var calendar = culture.calendars.standard,\n            days = calendar.days,\n            months = calendar.months;\n\n        format = calendar.patterns[format] || format;\n\n        return format.replace(dateFormatRegExp, function (match) {\n            var minutes;\n            var result;\n            var sign;\n\n            if (match === \"d\") {\n                result = date.getDate();\n            } else if (match === \"dd\") {\n                result = pad(date.getDate());\n            } else if (match === \"ddd\") {\n                result = days.namesAbbr[date.getDay()];\n            } else if (match === \"dddd\") {\n                result = days.names[date.getDay()];\n            } else if (match === \"M\") {\n                result = date.getMonth() + 1;\n            } else if (match === \"MM\") {\n                result = pad(date.getMonth() + 1);\n            } else if (match === \"MMM\") {\n                result = months.namesAbbr[date.getMonth()];\n            } else if (match === \"MMMM\") {\n                result = months.names[date.getMonth()];\n            } else if (match === \"yy\") {\n                result = pad(date.getFullYear() % 100);\n            } else if (match === \"yyyy\") {\n                result = pad(date.getFullYear(), 4);\n            } else if (match === \"h\" ) {\n                result = date.getHours() % 12 || 12;\n            } else if (match === \"hh\") {\n                result = pad(date.getHours() % 12 || 12);\n            } else if (match === \"H\") {\n                result = date.getHours();\n            } else if (match === \"HH\") {\n                result = pad(date.getHours());\n            } else if (match === \"m\") {\n                result = date.getMinutes();\n            } else if (match === \"mm\") {\n                result = pad(date.getMinutes());\n            } else if (match === \"s\") {\n                result = date.getSeconds();\n            } else if (match === \"ss\") {\n                result = pad(date.getSeconds());\n            } else if (match === \"f\") {\n                result = math.floor(date.getMilliseconds() / 100);\n            } else if (match === \"ff\") {\n                result = date.getMilliseconds();\n                if (result > 99) {\n                    result = math.floor(result / 10);\n                }\n                result = pad(result);\n            } else if (match === \"fff\") {\n                result = pad(date.getMilliseconds(), 3);\n            } else if (match === \"tt\") {\n                result = date.getHours() < 12 ? calendar.AM[0] : calendar.PM[0];\n            } else if (match === \"zzz\") {\n                minutes = date.getTimezoneOffset();\n                sign = minutes < 0;\n\n                result = math.abs(minutes / 60).toString().split(\".\")[0];\n                minutes = math.abs(minutes) - (result * 60);\n\n                result = (sign ? \"+\" : \"-\") + pad(result);\n                result += \":\" + pad(minutes);\n            } else if (match === \"zz\" || match === \"z\") {\n                result = date.getTimezoneOffset() / 60;\n                sign = result < 0;\n\n                result = math.abs(result).toString().split(\".\")[0];\n                result = (sign ? \"+\" : \"-\") + (match === \"zz\" ? pad(result) : result);\n            }\n\n            return result !== undefined ? result : match.slice(1, match.length - 1);\n        });\n    }\n\n    //number formatting\n    function formatNumber(number, format, culture) {\n        culture = getCulture(culture);\n\n        var numberFormat = culture.numberFormat,\n            decimal = numberFormat[POINT],\n            precision = numberFormat.decimals,\n            pattern = numberFormat.pattern[0],\n            literals = [],\n            symbol,\n            isCurrency, isPercent,\n            customPrecision,\n            formatAndPrecision,\n            negative = number < 0,\n            integer,\n            fraction,\n            integerLength,\n            fractionLength,\n            replacement = EMPTY,\n            value = EMPTY,\n            idx,\n            length,\n            ch,\n            hasGroup,\n            hasNegativeFormat,\n            decimalIndex,\n            sharpIndex,\n            zeroIndex,\n            hasZero, hasSharp,\n            percentIndex,\n            currencyIndex,\n            startZeroIndex,\n            start = -1,\n            end;\n\n        //return empty string if no number\n        if (number === undefined) {\n            return EMPTY;\n        }\n\n        if (!isFinite(number)) {\n            return number;\n        }\n\n        //if no format then return number.toString() or number.toLocaleString() if culture.name is not defined\n        if (!format) {\n            return culture.name.length ? number.toLocaleString() : number.toString();\n        }\n\n        formatAndPrecision = standardFormatRegExp.exec(format);\n\n        // standard formatting\n        if (formatAndPrecision) {\n            format = formatAndPrecision[1].toLowerCase();\n\n            isCurrency = format === \"c\";\n            isPercent = format === \"p\";\n\n            if (isCurrency || isPercent) {\n                //get specific number format information if format is currency or percent\n                numberFormat = isCurrency ? numberFormat.currency : numberFormat.percent;\n                decimal = numberFormat[POINT];\n                precision = numberFormat.decimals;\n                symbol = numberFormat.symbol;\n                pattern = numberFormat.pattern[negative ? 0 : 1];\n            }\n\n            customPrecision = formatAndPrecision[2];\n\n            if (customPrecision) {\n                precision = +customPrecision;\n            }\n\n            //return number in exponential format\n            if (format === \"e\") {\n                var exp = customPrecision ? number.toExponential(precision) : number.toExponential(); // toExponential() and toExponential(undefined) differ in FF #653438.\n\n                return exp.replace(POINT, numberFormat[POINT]);\n            }\n\n            // multiply if format is percent\n            if (isPercent) {\n                number *= 100;\n            }\n\n            number = round(number, precision);\n            negative = number < 0;\n            number = number.split(POINT);\n\n            integer = number[0];\n            fraction = number[1];\n\n            //exclude \"-\" if number is negative.\n            if (negative) {\n                integer = integer.substring(1);\n            }\n\n            value = groupInteger(integer, 0, integer.length, numberFormat);\n\n            if (fraction) {\n                value += decimal + fraction;\n            }\n\n            if (format === \"n\" && !negative) {\n                return value;\n            }\n\n            number = EMPTY;\n\n            for (idx = 0, length = pattern.length; idx < length; idx++) {\n                ch = pattern.charAt(idx);\n\n                if (ch === \"n\") {\n                    number += value;\n                } else if (ch === \"$\" || ch === \"%\") {\n                    number += symbol;\n                } else {\n                    number += ch;\n                }\n            }\n\n            return number;\n        }\n\n        //custom formatting\n        //\n        //separate format by sections.\n\n        if (format.indexOf(\"'\") > -1 || format.indexOf(\"\\\"\") > -1 || format.indexOf(\"\\\\\") > -1) {\n            format = format.replace(literalRegExp, function (match) {\n                var quoteChar = match.charAt(0).replace(\"\\\\\", \"\"),\n                    literal = match.slice(1).replace(quoteChar, \"\");\n\n                literals.push(literal);\n\n                return PLACEHOLDER;\n            });\n        }\n\n        format = format.split(\";\");\n        if (negative && format[1]) {\n            //get negative format\n            format = format[1];\n            hasNegativeFormat = true;\n        } else if (number === 0 && format[2]) {\n            //format for zeros\n            format = format[2];\n            if (format.indexOf(SHARP) == -1 && format.indexOf(ZERO) == -1) {\n                //return format if it is string constant.\n                return format;\n            }\n        } else {\n            format = format[0];\n        }\n\n        percentIndex = format.indexOf(\"%\");\n        currencyIndex = format.indexOf(\"$\");\n\n        isPercent = percentIndex != -1;\n        isCurrency = currencyIndex != -1;\n\n        //multiply number if the format has percent\n        if (isPercent) {\n            number *= 100;\n        }\n\n        if (isCurrency && format[currencyIndex - 1] === \"\\\\\") {\n            format = format.split(\"\\\\\").join(\"\");\n            isCurrency = false;\n        }\n\n        if (isCurrency || isPercent) {\n            //get specific number format information if format is currency or percent\n            numberFormat = isCurrency ? numberFormat.currency : numberFormat.percent;\n            decimal = numberFormat[POINT];\n            precision = numberFormat.decimals;\n            symbol = numberFormat.symbol;\n        }\n\n        hasGroup = format.indexOf(COMMA) > -1;\n        if (hasGroup) {\n            format = format.replace(commaRegExp, EMPTY);\n        }\n\n        decimalIndex = format.indexOf(POINT);\n        length = format.length;\n\n        if (decimalIndex != -1) {\n            fraction = number.toString().split(\"e\");\n            if (fraction[1]) {\n                fraction = round(number, Math.abs(fraction[1]));\n            } else {\n                fraction = fraction[0];\n            }\n            fraction = fraction.split(POINT)[1] || EMPTY;\n            zeroIndex = format.lastIndexOf(ZERO) - decimalIndex;\n            sharpIndex = format.lastIndexOf(SHARP) - decimalIndex;\n            hasZero = zeroIndex > -1;\n            hasSharp = sharpIndex > -1;\n            idx = fraction.length;\n\n            if (!hasZero && !hasSharp) {\n                format = format.substring(0, decimalIndex) + format.substring(decimalIndex + 1);\n                length = format.length;\n                decimalIndex = -1;\n                idx = 0;\n            }\n\n            if (hasZero && zeroIndex > sharpIndex) {\n                idx = zeroIndex;\n            } else if (sharpIndex > zeroIndex) {\n                if (hasSharp && idx > sharpIndex) {\n                    var rounded = round(number, sharpIndex, negative);\n\n                    while (rounded.charAt(rounded.length - 1) === ZERO && sharpIndex > 0 && sharpIndex > zeroIndex) {\n                        sharpIndex--;\n\n                        rounded = round(number, sharpIndex, negative);\n                    }\n\n                    idx = sharpIndex;\n                } else if (hasZero && idx < zeroIndex) {\n                    idx = zeroIndex;\n                }\n            }\n        }\n\n        number = round(number, idx, negative);\n\n        sharpIndex = format.indexOf(SHARP);\n        startZeroIndex = zeroIndex = format.indexOf(ZERO);\n\n        //define the index of the first digit placeholder\n        if (sharpIndex == -1 && zeroIndex != -1) {\n            start = zeroIndex;\n        } else if (sharpIndex != -1 && zeroIndex == -1) {\n            start = sharpIndex;\n        } else {\n            start = sharpIndex > zeroIndex ? zeroIndex : sharpIndex;\n        }\n\n        sharpIndex = format.lastIndexOf(SHARP);\n        zeroIndex = format.lastIndexOf(ZERO);\n\n        //define the index of the last digit placeholder\n        if (sharpIndex == -1 && zeroIndex != -1) {\n            end = zeroIndex;\n        } else if (sharpIndex != -1 && zeroIndex == -1) {\n            end = sharpIndex;\n        } else {\n            end = sharpIndex > zeroIndex ? sharpIndex : zeroIndex;\n        }\n\n        if (start == length) {\n            end = start;\n        }\n\n        if (start != -1) {\n            value = number.toString().split(POINT);\n            integer = value[0];\n            fraction = value[1] || EMPTY;\n\n            integerLength = integer.length;\n            fractionLength = fraction.length;\n\n            if (negative && (number * -1) >= 0) {\n                negative = false;\n            }\n\n            number = format.substring(0, start);\n\n            if (negative && !hasNegativeFormat) {\n                number += \"-\";\n            }\n\n            for (idx = start; idx < length; idx++) {\n                ch = format.charAt(idx);\n\n                if (decimalIndex == -1) {\n                    if (end - idx < integerLength) {\n                        number += integer;\n                        break;\n                    }\n                } else {\n                    if (zeroIndex != -1 && zeroIndex < idx) {\n                        replacement = EMPTY;\n                    }\n\n                    if ((decimalIndex - idx) <= integerLength && decimalIndex - idx > -1) {\n                        number += integer;\n                        idx = decimalIndex;\n                    }\n\n                    if (decimalIndex === idx) {\n                        number += (fraction ? decimal : EMPTY) + fraction;\n                        idx += end - decimalIndex + 1;\n                        continue;\n                    }\n                }\n\n                if (ch === ZERO) {\n                    number += ch;\n                    replacement = ch;\n                } else if (ch === SHARP) {\n                    number += replacement;\n                }\n            }\n\n            if (hasGroup) {\n                number = groupInteger(number, start + (negative && !hasNegativeFormat ? 1 : 0), Math.max(end, (integerLength + start)), numberFormat);\n            }\n\n            if (end >= start) {\n                number += format.substring(end + 1);\n            }\n\n            //replace symbol placeholders\n            if (isCurrency || isPercent) {\n                value = EMPTY;\n                for (idx = 0, length = number.length; idx < length; idx++) {\n                    ch = number.charAt(idx);\n                    value += (ch === \"$\" || ch === \"%\") ? symbol : ch;\n                }\n                number = value;\n            }\n\n            length = literals.length;\n\n            if (length) {\n                for (idx = 0; idx < length; idx++) {\n                    number = number.replace(PLACEHOLDER, literals[idx]);\n                }\n            }\n        }\n\n        return number;\n    }\n\n    var groupInteger = function(number, start, end, numberFormat) {\n        var decimalIndex = number.indexOf(numberFormat[POINT]);\n        var groupSizes = numberFormat.groupSize.slice();\n        var groupSize = groupSizes.shift();\n        var integer, integerLength;\n        var idx, parts, value;\n        var newGroupSize;\n\n        end = decimalIndex !== -1 ? decimalIndex : end + 1;\n\n        integer = number.substring(start, end);\n        integerLength = integer.length;\n\n        if (integerLength >= groupSize) {\n            idx = integerLength;\n            parts = [];\n\n            while (idx > -1) {\n                value = integer.substring(idx - groupSize, idx);\n                if (value) {\n                    parts.push(value);\n                }\n                idx -= groupSize;\n                newGroupSize = groupSizes.shift();\n                groupSize = newGroupSize !== undefined ? newGroupSize : groupSize;\n\n                if (groupSize === 0) {\n                    if (idx > 0) {\n                        parts.push(integer.substring(0, idx));\n                    }\n                    break;\n                }\n            }\n\n            integer = parts.reverse().join(numberFormat[COMMA]);\n            number = number.substring(0, start) + integer + number.substring(end);\n        }\n\n        return number;\n    };\n\n    var round = function(value, precision, negative) {\n        precision = precision || 0;\n\n        value = value.toString().split('e');\n        value = Math.round(+(value[0] + 'e' + (value[1] ? (+value[1] + precision) : precision)));\n\n        if (negative) {\n            value = -value;\n        }\n\n        value = value.toString().split('e');\n        value = +(value[0] + 'e' + (value[1] ? (+value[1] - precision) : -precision));\n\n        return value.toFixed(Math.min(precision, 20));\n    };\n\n    var toString = function(value, fmt, culture) {\n        if (fmt) {\n            if (objectToString.call(value) === \"[object Date]\") {\n                return formatDate(value, fmt, culture);\n            } else if (typeof value === NUMBER) {\n                return formatNumber(value, fmt, culture);\n            }\n        }\n\n        return value !== undefined ? value : \"\";\n    };\n\n    kendo.format = function(fmt) {\n        var values = arguments;\n\n        return fmt.replace(formatRegExp, function(match, index, placeholderFormat) {\n            var value = values[parseInt(index, 10) + 1];\n\n            return toString(value, placeholderFormat ? placeholderFormat.substring(1) : \"\");\n        });\n    };\n\n    kendo._extractFormat = function (format) {\n        if (format.slice(0,3) === \"{0:\") {\n            format = format.slice(3, format.length - 1);\n        }\n\n        return format;\n    };\n\n    kendo._activeElement = function() {\n        try {\n            return document.activeElement;\n        } catch(e) {\n            return document.documentElement.activeElement;\n        }\n    };\n\n    kendo._round = round;\n    kendo._outerWidth = function (element, includeMargin) { return $(element).outerWidth(includeMargin || false) || 0; };\n    kendo._outerHeight = function (element, includeMargin) { return $(element).outerHeight(includeMargin || false) || 0; };\n    kendo.toString = toString;\n})();\n\n\n(function() {\n    var nonBreakingSpaceRegExp = /\\u00A0/g,\n        spaceRegExp = /\\s/g,\n        exponentRegExp = /[eE][\\-+]?[0-9]+/,\n        shortTimeZoneRegExp = /[+|\\-]\\d{1,2}/,\n        longTimeZoneRegExp = /[+|\\-]\\d{1,2}:?\\d{2}/,\n        dateRegExp = /^\\/Date\\((.*?)\\)\\/$/,\n        offsetRegExp = /[+-]\\d*/,\n        FORMATS_SEQUENCE = [ [], [ \"G\", \"g\", \"F\" ], [ \"D\", \"d\", \"y\", \"m\", \"T\", \"t\" ] ],\n        STANDARD_FORMATS = [\n            [\n            \"yyyy-MM-ddTHH:mm:ss.fffffffzzz\",\n            \"yyyy-MM-ddTHH:mm:ss.fffffff\",\n            \"yyyy-MM-ddTHH:mm:ss.fffzzz\",\n            \"yyyy-MM-ddTHH:mm:ss.fff\",\n            \"ddd MMM dd yyyy HH:mm:ss\",\n            \"yyyy-MM-ddTHH:mm:sszzz\",\n            \"yyyy-MM-ddTHH:mmzzz\",\n            \"yyyy-MM-ddTHH:mmzz\",\n            \"yyyy-MM-ddTHH:mm:ss\",\n            \"yyyy-MM-dd HH:mm:ss\",\n            \"yyyy/MM/dd HH:mm:ss\"\n            ], [\n            \"yyyy-MM-ddTHH:mm\",\n            \"yyyy-MM-dd HH:mm\",\n            \"yyyy/MM/dd HH:mm\"\n            ], [\n            \"yyyy/MM/dd\",\n            \"yyyy-MM-dd\",\n            \"HH:mm:ss\",\n            \"HH:mm\"\n            ]\n        ],\n        numberRegExp = {\n            2: /^\\d{1,2}/,\n            3: /^\\d{1,3}/,\n            4: /^\\d{4}/\n        },\n        objectToString = {}.toString;\n\n    function outOfRange(value, start, end) {\n        return !(value >= start && value <= end);\n    }\n\n    function designatorPredicate(designator) {\n        return designator.charAt(0);\n    }\n\n    function mapDesignators(designators) {\n        return $.map(designators, designatorPredicate);\n    }\n\n    //if date's day is different than the typed one - adjust\n    function adjustDST(date, hours) {\n        if (!hours && date.getHours() === 23) {\n            date.setHours(date.getHours() + 2);\n        }\n    }\n\n    function lowerArray(data) {\n        var idx = 0,\n            length = data.length,\n            array = [];\n\n        for (; idx < length; idx++) {\n            array[idx] = (data[idx] + \"\").toLowerCase();\n        }\n\n        return array;\n    }\n\n    function lowerLocalInfo(localInfo) {\n        var newLocalInfo = {}, property;\n\n        for (property in localInfo) {\n            newLocalInfo[property] = lowerArray(localInfo[property]);\n        }\n\n        return newLocalInfo;\n    }\n\n    function parseExact(value, format, culture, strict) {\n        if (!value) {\n            return null;\n        }\n\n        var lookAhead = function (match) {\n                var i = 0;\n                while (format[idx] === match) {\n                    i++;\n                    idx++;\n                }\n                if (i > 0) {\n                    idx -= 1;\n                }\n                return i;\n            },\n            getNumber = function(size) {\n                var rg = numberRegExp[size] || new RegExp('^\\\\d{1,' + size + '}'),\n                    match = value.substr(valueIdx, size).match(rg);\n\n                if (match) {\n                    match = match[0];\n                    valueIdx += match.length;\n                    return parseInt(match, 10);\n                }\n                return null;\n            },\n            getIndexByName = function (names, lower) {\n                var i = 0,\n                    length = names.length,\n                    name, nameLength,\n                    matchLength = 0,\n                    matchIdx = 0,\n                    subValue;\n\n                for (; i < length; i++) {\n                    name = names[i];\n                    nameLength = name.length;\n                    subValue = value.substr(valueIdx, nameLength);\n\n                    if (lower) {\n                        subValue = subValue.toLowerCase();\n                    }\n\n                    if (subValue == name && nameLength > matchLength) {\n                        matchLength = nameLength;\n                        matchIdx = i;\n                    }\n                }\n\n                if (matchLength) {\n                    valueIdx += matchLength;\n                    return matchIdx + 1;\n                }\n\n                return null;\n            },\n            checkLiteral = function() {\n                var result = false;\n                if (value.charAt(valueIdx) === format[idx]) {\n                    valueIdx++;\n                    result = true;\n                }\n                return result;\n            },\n            calendar = culture.calendars.standard,\n            year = null,\n            month = null,\n            day = null,\n            hours = null,\n            minutes = null,\n            seconds = null,\n            milliseconds = null,\n            idx = 0,\n            valueIdx = 0,\n            literal = false,\n            date = new Date(),\n            twoDigitYearMax = calendar.twoDigitYearMax || 2029,\n            defaultYear = date.getFullYear(),\n            ch, count, length, pattern,\n            pmHour, UTC, matches,\n            amDesignators, pmDesignators,\n            hoursOffset, minutesOffset,\n            hasTime, match;\n\n        if (!format) {\n            format = \"d\"; //shord date format\n        }\n\n        //if format is part of the patterns get real format\n        pattern = calendar.patterns[format];\n        if (pattern) {\n            format = pattern;\n        }\n\n        format = format.split(\"\");\n        length = format.length;\n\n        for (; idx < length; idx++) {\n            ch = format[idx];\n\n            if (literal) {\n                if (ch === \"'\") {\n                    literal = false;\n                } else {\n                    checkLiteral();\n                }\n            } else {\n                if (ch === \"d\") {\n                    count = lookAhead(\"d\");\n                    if (!calendar._lowerDays) {\n                        calendar._lowerDays = lowerLocalInfo(calendar.days);\n                    }\n\n                    if (day !== null && count > 2) {\n                        continue;\n                    }\n\n                    day = count < 3 ? getNumber(2) : getIndexByName(calendar._lowerDays[count == 3 ? \"namesAbbr\" : \"names\"], true);\n\n                    if (day === null || outOfRange(day, 1, 31)) {\n                        return null;\n                    }\n                } else if (ch === \"M\") {\n                    count = lookAhead(\"M\");\n                    if (!calendar._lowerMonths) {\n                        calendar._lowerMonths = lowerLocalInfo(calendar.months);\n                    }\n                    month = count < 3 ? getNumber(2) : getIndexByName(calendar._lowerMonths[count == 3 ? 'namesAbbr' : 'names'], true);\n\n                    if (month === null || outOfRange(month, 1, 12)) {\n                        return null;\n                    }\n                    month -= 1; //because month is zero based\n                } else if (ch === \"y\") {\n                    count = lookAhead(\"y\");\n                    year = getNumber(count);\n\n                    if (year === null) {\n                        return null;\n                    }\n\n                    if (count == 2) {\n                        if (typeof twoDigitYearMax === \"string\") {\n                            twoDigitYearMax = defaultYear + parseInt(twoDigitYearMax, 10);\n                        }\n\n                        year = (defaultYear - defaultYear % 100) + year;\n                        if (year > twoDigitYearMax) {\n                            year -= 100;\n                        }\n                    }\n                } else if (ch === \"h\" ) {\n                    lookAhead(\"h\");\n                    hours = getNumber(2);\n                    if (hours == 12) {\n                        hours = 0;\n                    }\n                    if (hours === null || outOfRange(hours, 0, 11)) {\n                        return null;\n                    }\n                } else if (ch === \"H\") {\n                    lookAhead(\"H\");\n                    hours = getNumber(2);\n                    if (hours === null || outOfRange(hours, 0, 23)) {\n                        return null;\n                    }\n                } else if (ch === \"m\") {\n                    lookAhead(\"m\");\n                    minutes = getNumber(2);\n                    if (minutes === null || outOfRange(minutes, 0, 59)) {\n                        return null;\n                    }\n                } else if (ch === \"s\") {\n                    lookAhead(\"s\");\n                    seconds = getNumber(2);\n                    if (seconds === null || outOfRange(seconds, 0, 59)) {\n                        return null;\n                    }\n                } else if (ch === \"f\") {\n                    count = lookAhead(\"f\");\n\n                    match = value.substr(valueIdx, count).match(numberRegExp[3]);\n                    milliseconds = getNumber(count); //move value index position\n\n                    if (milliseconds !== null) {\n                        milliseconds = parseFloat(\"0.\" + match[0], 10);\n                        milliseconds = kendo._round(milliseconds, 3);\n                        milliseconds *= 1000;\n                    }\n\n                    if (milliseconds === null || outOfRange(milliseconds, 0, 999)) {\n                        return null;\n                    }\n\n                } else if (ch === \"t\") {\n                    count = lookAhead(\"t\");\n                    amDesignators = calendar.AM;\n                    pmDesignators = calendar.PM;\n\n                    if (count === 1) {\n                        amDesignators = mapDesignators(amDesignators);\n                        pmDesignators = mapDesignators(pmDesignators);\n                    }\n\n                    pmHour = getIndexByName(pmDesignators);\n                    if (!pmHour && !getIndexByName(amDesignators)) {\n                        return null;\n                    }\n                }\n                else if (ch === \"z\") {\n                    UTC = true;\n                    count = lookAhead(\"z\");\n\n                    if (value.substr(valueIdx, 1) === \"Z\") {\n                        checkLiteral();\n                        continue;\n                    }\n\n                    matches = value.substr(valueIdx, 6)\n                                   .match(count > 2 ? longTimeZoneRegExp : shortTimeZoneRegExp);\n\n                    if (!matches) {\n                        return null;\n                    }\n\n                    matches = matches[0].split(\":\");\n\n                    hoursOffset = matches[0];\n                    minutesOffset = matches[1];\n\n                    if (!minutesOffset && hoursOffset.length > 3) { //(+|-)[hh][mm] format is used\n                        valueIdx = hoursOffset.length - 2;\n                        minutesOffset = hoursOffset.substring(valueIdx);\n                        hoursOffset = hoursOffset.substring(0, valueIdx);\n                    }\n\n                    hoursOffset = parseInt(hoursOffset, 10);\n                    if (outOfRange(hoursOffset, -12, 13)) {\n                        return null;\n                    }\n\n                    if (count > 2) {\n                        minutesOffset = matches[0][0] + minutesOffset;\n                        minutesOffset = parseInt(minutesOffset, 10);\n                        if (isNaN(minutesOffset) || outOfRange(minutesOffset, -59, 59)) {\n                            return null;\n                        }\n                    }\n                } else if (ch === \"'\") {\n                    literal = true;\n                    checkLiteral();\n                } else if (!checkLiteral()) {\n                    return null;\n                }\n            }\n        }\n\n        // if more characters follow, assume wrong format\n        // https://github.com/telerik/kendo-ui-core/issues/3476\n        if (strict && !/^\\s*$/.test(value.substr(valueIdx))) {\n            return null;\n        }\n\n        hasTime = hours !== null || minutes !== null || seconds || null;\n\n        if (year === null && month === null && day === null && hasTime) {\n            year = defaultYear;\n            month = date.getMonth();\n            day = date.getDate();\n        } else {\n            if (year === null) {\n                year = defaultYear;\n            }\n\n            if (day === null) {\n                day = 1;\n            }\n        }\n\n        if (pmHour && hours < 12) {\n            hours += 12;\n        }\n\n        if (UTC) {\n            if (hoursOffset) {\n                hours += -hoursOffset;\n            }\n\n            if (minutesOffset) {\n                minutes += -minutesOffset;\n            }\n\n            value = new Date(Date.UTC(year, month, day, hours, minutes, seconds, milliseconds));\n        } else {\n            value = new Date(year, month, day, hours, minutes, seconds, milliseconds);\n            adjustDST(value, hours);\n        }\n\n        if (year < 100) {\n            value.setFullYear(year);\n        }\n\n        if (value.getDate() !== day && UTC === undefined) {\n            return null;\n        }\n\n        return value;\n    }\n\n    function parseMicrosoftFormatOffset(offset) {\n        var sign = offset.substr(0, 1) === \"-\" ? -1 : 1;\n\n        offset = offset.substring(1);\n        offset = (parseInt(offset.substr(0, 2), 10) * 60) + parseInt(offset.substring(2), 10);\n\n        return sign * offset;\n    }\n\n    function getDefaultFormats(culture) {\n        var length = math.max(FORMATS_SEQUENCE.length, STANDARD_FORMATS.length);\n        var calendar = culture.calendar || culture.calendars.standard;\n        var patterns = calendar.patterns;\n        var cultureFormats, formatIdx, idx;\n        var formats = [];\n\n        for (idx = 0; idx < length; idx++) {\n            cultureFormats = FORMATS_SEQUENCE[idx];\n            for (formatIdx = 0; formatIdx < cultureFormats.length; formatIdx++) {\n                formats.push(patterns[cultureFormats[formatIdx]]);\n            }\n            formats = formats.concat(STANDARD_FORMATS[idx]);\n        }\n\n        return formats;\n    }\n\n    function internalParseDate(value, formats, culture, strict) {\n        if (objectToString.call(value) === \"[object Date]\") {\n            return value;\n        }\n\n        var idx = 0;\n        var date = null;\n        var length;\n        var tzoffset;\n\n        if (value && value.indexOf(\"/D\") === 0) {\n            date = dateRegExp.exec(value);\n            if (date) {\n                date = date[1];\n                tzoffset = offsetRegExp.exec(date.substring(1));\n\n                date = new Date(parseInt(date, 10));\n\n                if (tzoffset) {\n                    tzoffset = parseMicrosoftFormatOffset(tzoffset[0]);\n                    date = kendo.timezone.apply(date, 0);\n                    date = kendo.timezone.convert(date, 0, -1 * tzoffset);\n                }\n\n                return date;\n            }\n        }\n\n        culture = kendo.getCulture(culture);\n\n        if (!formats) {\n            formats = getDefaultFormats(culture);\n        }\n\n        formats = isArray(formats) ? formats: [formats];\n        length = formats.length;\n\n        for (; idx < length; idx++) {\n            date = parseExact(value, formats[idx], culture, strict);\n            if (date) {\n                return date;\n            }\n        }\n\n        return date;\n    }\n\n    kendo.parseDate = function(value, formats, culture) {\n        return internalParseDate(value, formats, culture, false);\n    };\n\n    kendo.parseExactDate = function(value, formats, culture) {\n        return internalParseDate(value, formats, culture, true);\n    };\n\n    kendo.parseInt = function(value, culture) {\n        var result = kendo.parseFloat(value, culture);\n        if (result) {\n            result = result | 0;\n        }\n        return result;\n    };\n\n    kendo.parseFloat = function(value, culture, format) {\n        if (!value && value !== 0) {\n           return null;\n        }\n\n        if (typeof value === NUMBER) {\n           return value;\n        }\n\n        value = value.toString();\n        culture = kendo.getCulture(culture);\n\n        var number = culture.numberFormat,\n            percent = number.percent,\n            currency = number.currency,\n            symbol = currency.symbol,\n            percentSymbol = percent.symbol,\n            negative = value.indexOf(\"-\"),\n            parts, isPercent;\n\n        //handle exponential number\n        if (exponentRegExp.test(value)) {\n            value = parseFloat(value.replace(number[\".\"], \".\"));\n            if (isNaN(value)) {\n                value = null;\n            }\n            return value;\n        }\n\n        if (negative > 0) {\n            return null;\n        } else {\n            negative = negative > -1;\n        }\n\n        if (value.indexOf(symbol) > -1 || (format && format.toLowerCase().indexOf(\"c\") > -1)) {\n            number = currency;\n            parts = number.pattern[0].replace(\"$\", symbol).split(\"n\");\n            if (value.indexOf(parts[0]) > -1 && value.indexOf(parts[1]) > -1) {\n                value = value.replace(parts[0], \"\").replace(parts[1], \"\");\n                negative = true;\n            }\n        } else if (value.indexOf(percentSymbol) > -1) {\n            isPercent = true;\n            number = percent;\n            symbol = percentSymbol;\n        }\n\n        value = value.replace(\"-\", \"\")\n                     .replace(symbol, \"\")\n                     .replace(nonBreakingSpaceRegExp, \" \")\n                     .split(number[\",\"].replace(nonBreakingSpaceRegExp, \" \")).join(\"\")\n                     .replace(spaceRegExp, \"\")\n                     .replace(number[\".\"], \".\");\n\n        value = parseFloat(value);\n\n        if (isNaN(value)) {\n            value = null;\n        } else if (negative) {\n            value *= -1;\n        }\n\n        if (value && isPercent) {\n            value /= 100;\n        }\n\n        return value;\n    };\n})();\n\n    function getShadows(element) {\n        var shadow = element.css(kendo.support.transitions.css + \"box-shadow\") || element.css(\"box-shadow\"),\n            radius = shadow ? shadow.match(boxShadowRegExp) || [ 0, 0, 0, 0, 0 ] : [ 0, 0, 0, 0, 0 ],\n            blur = math.max((+radius[3]), +(radius[4] || 0));\n\n        return {\n            left: (-radius[1]) + blur,\n            right: (+radius[1]) + blur,\n            bottom: (+radius[2]) + blur\n        };\n    }\n\n    function wrap(element, autosize) {\n        var percentage,\n            outerWidth = kendo._outerWidth,\n            outerHeight = kendo._outerHeight,\n            parent = element.parent(),\n            windowOuterWidth = outerWidth(window);\n\n        parent.removeClass(\"k-animation-container-sm\");\n\n        if (!parent.hasClass(\"k-animation-container\")) {\n            var width = element[0].style.width,\n                height = element[0].style.height,\n                percentWidth = percentRegExp.test(width),\n                percentHeight = percentRegExp.test(height),\n                forceWidth = element.hasClass(\"k-tooltip\") || element.is(\".k-menu-horizontal.k-context-menu\");\n\n            percentage = percentWidth || percentHeight;\n\n            if (!percentWidth && (!autosize || (autosize && width) || forceWidth)) { width = autosize ? outerWidth(element) + 1 : outerWidth(element); }\n            if (!percentHeight && (!autosize || (autosize && height)) || element.is(\".k-menu-horizontal.k-context-menu\")) { height = outerHeight(element); }\n\n            element.wrap(\n                         $(\"<div/>\")\n                         .addClass(\"k-animation-container\")\n                         .attr(\"role\", \"region\")\n                         .css({\n                             width: width,\n                             height: height\n                         }));\n            parent = element.parent();\n\n            if (percentage) {\n                element.css({\n                    width: \"100%\",\n                    height: \"100%\",\n                    boxSizing: \"border-box\",\n                    mozBoxSizing: \"border-box\",\n                    webkitBoxSizing: \"border-box\"\n                });\n            }\n        } else {\n            wrapResize(element, autosize);\n        }\n\n        if(windowOuterWidth < outerWidth(parent)){\n            parent.addClass(\"k-animation-container-sm\");\n\n            wrapResize(element, autosize);\n        }\n\n        return parent;\n    }\n\n    function wrapResize(element, autosize) {\n        var percentage,\n            outerWidth = kendo._outerWidth,\n            outerHeight = kendo._outerHeight,\n            wrapper = element.parent(\".k-animation-container\"),\n            wrapperStyle = wrapper[0].style;\n\n        if (wrapper.is(\":hidden\")) {\n            wrapper.css({\n                display: \"\",\n                position: \"\"\n            });\n        }\n\n        percentage = percentRegExp.test(wrapperStyle.width) || percentRegExp.test(wrapperStyle.height);\n\n        if (!percentage) {\n            wrapper.css({\n                width: autosize ? outerWidth(element) + 1 : outerWidth(element),\n                height: outerHeight(element),\n                boxSizing: \"content-box\",\n                mozBoxSizing: \"content-box\",\n                webkitBoxSizing: \"content-box\"\n            });\n        }\n    }\n\n    function deepExtend(destination) {\n        var i = 1,\n            length = arguments.length;\n\n        for (i = 1; i < length; i++) {\n            deepExtendOne(destination, arguments[i]);\n        }\n\n        return destination;\n    }\n\n    function deepExtendOne(destination, source) {\n        var ObservableArray = kendo.data.ObservableArray,\n            LazyObservableArray = kendo.data.LazyObservableArray,\n            DataSource = kendo.data.DataSource,\n            HierarchicalDataSource = kendo.data.HierarchicalDataSource,\n            property,\n            propValue,\n            propType,\n            propInit,\n            destProp;\n\n        for (property in source) {\n            propValue = source[property];\n            propType = typeof propValue;\n\n            if (propType === OBJECT && propValue !== null) {\n                propInit = propValue.constructor;\n            } else {\n                propInit = null;\n            }\n\n            if (propInit &&\n                propInit !== Array && propInit !== ObservableArray && propInit !== LazyObservableArray &&\n                propInit !== DataSource && propInit !== HierarchicalDataSource && propInit !== RegExp &&\n                (!kendo.isFunction(window.ArrayBuffer) || propInit !== ArrayBuffer)) {\n\n                if (propValue instanceof Date) {\n                    destination[property] = new Date(propValue.getTime());\n                } else if (isFunction(propValue.clone)) {\n                    destination[property] = propValue.clone();\n                } else {\n                    destProp = destination[property];\n                    if (typeof (destProp) === OBJECT) {\n                        destination[property] = destProp || {};\n                    } else {\n                        destination[property] = {};\n                    }\n                    deepExtendOne(destination[property], propValue);\n                }\n            } else if (propType !== UNDEFINED) {\n                destination[property] = propValue;\n            }\n        }\n\n        return destination;\n    }\n\n    function testRx(agent, rxs, dflt) {\n        for (var rx in rxs) {\n            if (rxs.hasOwnProperty(rx) && rxs[rx].test(agent)) {\n                return rx;\n            }\n        }\n        return dflt !== undefined ? dflt : agent;\n    }\n\n    function toHyphens(str) {\n        return str.replace(/([a-z][A-Z])/g, function (g) {\n            return g.charAt(0) + '-' + g.charAt(1).toLowerCase();\n        });\n    }\n\n    function toCamelCase(str) {\n        return str.replace(/\\-(\\w)/g, function (strMatch, g1) {\n            return g1.toUpperCase();\n        });\n    }\n\n    function getComputedStyles(element, properties) {\n        var styles = {}, computedStyle;\n\n        if (document.defaultView && document.defaultView.getComputedStyle) {\n            computedStyle = document.defaultView.getComputedStyle(element, \"\");\n\n            if (properties) {\n                $.each(properties, function(idx, value) {\n                    styles[value] = computedStyle.getPropertyValue(value);\n                });\n            }\n        } else {\n            computedStyle = element.currentStyle;\n\n            if (properties) {\n                $.each(properties, function(idx, value) {\n                    styles[value] = computedStyle[toCamelCase(value)];\n                });\n            }\n        }\n\n        if (!kendo.size(styles)) {\n            styles = computedStyle;\n        }\n\n        return styles;\n    }\n\n    function isScrollable(element) {\n        if (element && element.className && typeof(element.className) === \"string\" && element.className.indexOf(\"k-auto-scrollable\") > -1) {\n            return true;\n        }\n\n        var overflow = getComputedStyles(element, [\"overflow\"]).overflow;\n        return overflow.indexOf(\"auto\") > -1 || overflow.indexOf(\"scroll\") > -1;\n    }\n\n    function scrollLeft(element, value) {\n        var webkit = support.browser.webkit;\n        var mozila = support.browser.mozilla;\n        var browserVersion = support.browser.version;\n        var el, isRtl;\n\n        if(element instanceof $ && value !== undefined) {\n            element.each(function(i, e) {\n                scrollLeft(e, value);\n            });\n\n            return;\n        } else {\n            el = element instanceof $ ? element[0] : element;\n        }\n\n        if (!el) {\n            return;\n        }\n\n        isRtl = support.isRtl(element);\n\n        // After updating browser detection,\n        // Test in which if should the Safari browsers go\n        if (value !== undefined) {\n            if (isRtl && webkit && (browserVersion < 85 || support.browser.safari)) {\n                el.scrollLeft = el.scrollWidth - el.clientWidth - value;\n            } else if (isRtl && (mozila || webkit) && value > 0) {\n                el.scrollLeft = -value;\n            } else {\n                el.scrollLeft = value;\n            }\n        } else {\n            if (isRtl && webkit && (browserVersion < 85 || support.browser.safari)) {\n                return el.scrollWidth - el.clientWidth - el.scrollLeft;\n            } else {\n                return Math.abs(el.scrollLeft);\n            }\n        }\n    }\n\n    (function () {\n        support._scrollbar = undefined;\n\n        support.scrollbar = function (refresh) {\n            if (!isNaN(support._scrollbar) && !refresh) {\n                return support._scrollbar;\n            } else {\n                var div = document.createElement(\"div\"),\n                    result;\n\n                div.style.cssText = \"overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block\";\n                div.innerHTML = \"&nbsp;\";\n                document.body.appendChild(div);\n\n                support._scrollbar = result = div.offsetWidth - div.scrollWidth;\n\n                document.body.removeChild(div);\n\n                return result;\n            }\n        };\n\n        support.isRtl = function(element) {\n            return $(element).closest(\".k-rtl\").length > 0;\n        };\n\n        var table = document.createElement(\"table\");\n\n        // Internet Explorer does not support setting the innerHTML of TBODY and TABLE elements\n        try {\n            table.innerHTML = \"<tr><td></td></tr>\";\n\n            support.tbodyInnerHtml = true;\n        } catch (e) {\n            support.tbodyInnerHtml = false;\n        }\n\n        support.touch = \"ontouchstart\" in window;\n\n        var docStyle = document.documentElement.style;\n        var transitions = support.transitions = false,\n            transforms = support.transforms = false,\n            elementProto = \"HTMLElement\" in window ? HTMLElement.prototype : [];\n\n        support.hasHW3D = (\"WebKitCSSMatrix\" in window && \"m11\" in new window.WebKitCSSMatrix()) || \"MozPerspective\" in docStyle || \"msPerspective\" in docStyle;\n        support.cssFlexbox = (\"flexWrap\" in docStyle) || (\"WebkitFlexWrap\" in docStyle) || (\"msFlexWrap\" in docStyle);\n\n        each([ \"Moz\", \"webkit\", \"O\", \"ms\" ], function () {\n            var prefix = this.toString(),\n                hasTransitions = typeof table.style[prefix + \"Transition\"] === STRING;\n\n            if (hasTransitions || typeof table.style[prefix + \"Transform\"] === STRING) {\n                var lowPrefix = prefix.toLowerCase();\n\n                transforms = {\n                    css: (lowPrefix != \"ms\") ? \"-\" + lowPrefix + \"-\" : \"\",\n                    prefix: prefix,\n                    event: (lowPrefix === \"o\" || lowPrefix === \"webkit\") ? lowPrefix : \"\"\n                };\n\n                if (hasTransitions) {\n                    transitions = transforms;\n                    transitions.event = transitions.event ? transitions.event + \"TransitionEnd\" : \"transitionend\";\n                }\n\n                return false;\n            }\n        });\n\n        table = null;\n\n        support.transforms = transforms;\n        support.transitions = transitions;\n\n        support.devicePixelRatio = window.devicePixelRatio === undefined ? 1 : window.devicePixelRatio;\n\n        try {\n            support.screenWidth = window.outerWidth || window.screen ? window.screen.availWidth : window.innerWidth;\n            support.screenHeight = window.outerHeight || window.screen ? window.screen.availHeight : window.innerHeight;\n        } catch(e) {\n            //window.outerWidth throws error when in IE showModalDialog.\n            support.screenWidth = window.screen.availWidth;\n            support.screenHeight = window.screen.availHeight;\n        }\n\n        support.detectOS = function (ua) {\n            var os = false, minorVersion, match = [],\n                notAndroidPhone = !/mobile safari/i.test(ua),\n                agentRxs = {\n                    wp: /(Windows Phone(?: OS)?)\\s(\\d+)\\.(\\d+(\\.\\d+)?)/,\n                    fire: /(Silk)\\/(\\d+)\\.(\\d+(\\.\\d+)?)/,\n                    android: /(Android|Android.*(?:Opera|Firefox).*?\\/)\\s*(\\d+)\\.?(\\d+(\\.\\d+)?)?/,\n                    iphone: /(iPhone|iPod).*OS\\s+(\\d+)[\\._]([\\d\\._]+)/,\n                    ipad: /(iPad).*OS\\s+(\\d+)[\\._]([\\d_]+)/,\n                    meego: /(MeeGo).+NokiaBrowser\\/(\\d+)\\.([\\d\\._]+)/,\n                    webos: /(webOS)\\/(\\d+)\\.(\\d+(\\.\\d+)?)/,\n                    blackberry: /(BlackBerry|BB10).*?Version\\/(\\d+)\\.(\\d+(\\.\\d+)?)/,\n                    playbook: /(PlayBook).*?Tablet\\s*OS\\s*(\\d+)\\.(\\d+(\\.\\d+)?)/,\n                    windows: /(MSIE)\\s+(\\d+)\\.(\\d+(\\.\\d+)?)/,\n                    tizen: /(tizen).*?Version\\/(\\d+)\\.(\\d+(\\.\\d+)?)/i,\n                    sailfish: /(sailfish).*rv:(\\d+)\\.(\\d+(\\.\\d+)?).*firefox/i,\n                    ffos: /(Mobile).*rv:(\\d+)\\.(\\d+(\\.\\d+)?).*Firefox/\n                },\n                osRxs = {\n                    ios: /^i(phone|pad|pod)$/i,\n                    android: /^android|fire$/i,\n                    blackberry: /^blackberry|playbook/i,\n                    windows: /windows/,\n                    wp: /wp/,\n                    flat: /sailfish|ffos|tizen/i,\n                    meego: /meego/\n                },\n                formFactorRxs = {\n                    tablet: /playbook|ipad|fire/i\n                },\n                browserRxs = {\n                    omini: /Opera\\sMini/i,\n                    omobile: /Opera\\sMobi/i,\n                    firefox: /Firefox|Fennec/i,\n                    mobilesafari: /version\\/.*safari/i,\n                    ie: /MSIE|Windows\\sPhone/i,\n                    chrome: /chrome|crios/i,\n                    webkit: /webkit/i\n                };\n\n            for (var agent in agentRxs) {\n                if (agentRxs.hasOwnProperty(agent)) {\n                    match = ua.match(agentRxs[agent]);\n                    if (match) {\n                        if (agent == \"windows\" && \"plugins\" in navigator) { return false; } // Break if not Metro/Mobile Windows\n\n                        os = {};\n                        os.device = agent;\n                        os.tablet = testRx(agent, formFactorRxs, false);\n                        os.browser = testRx(ua, browserRxs, \"default\");\n                        os.name = testRx(agent, osRxs);\n                        os[os.name] = true;\n                        os.majorVersion = match[2];\n                        os.minorVersion = (match[3] || \"0\").replace(\"_\", \".\");\n                        minorVersion = os.minorVersion.replace(\".\", \"\").substr(0, 2);\n                        os.flatVersion = os.majorVersion + minorVersion + (new Array(3 - (minorVersion.length < 3 ? minorVersion.length : 2)).join(\"0\"));\n                        os.cordova = typeof window.PhoneGap !== UNDEFINED || typeof window.cordova !== UNDEFINED; // Use file protocol to detect appModes.\n                        os.appMode = window.navigator.standalone || (/file|local|wmapp/).test(window.location.protocol) || os.cordova; // Use file protocol to detect appModes.\n\n                        if (os.android && (support.devicePixelRatio < 1.5 && os.flatVersion < 400 || notAndroidPhone) && (support.screenWidth > 800 || support.screenHeight > 800)) {\n                            os.tablet = agent;\n                        }\n\n                        break;\n                    }\n                }\n            }\n            return os;\n        };\n\n        var mobileOS = support.mobileOS = support.detectOS(navigator.userAgent);\n\n        support.wpDevicePixelRatio = mobileOS.wp ? screen.width / 320 : 0;\n\n        support.hasNativeScrolling = false;\n\n        if (mobileOS.ios || (mobileOS.android && mobileOS.majorVersion > 2) || mobileOS.wp) {\n            support.hasNativeScrolling = mobileOS;\n        }\n\n        support.delayedClick = function() {\n\n            // only the mobile devices with touch events do this.\n            if (support.touch) {\n                // All iOS devices so far (by the time I am writing this, iOS 9.0.2 is the latest),\n                // delay their click events.\n                if (mobileOS.ios) {\n                    return true;\n                }\n\n                if (mobileOS.android) {\n\n                    if (!support.browser.chrome) { // older webkits and webviews delay the click\n                        return true;\n                    }\n\n                    // from here on, we deal with Chrome on Android.\n                    if (support.browser.version < 32) {\n                        return false;\n                    }\n\n                    // Chrome 32+ does conditional fast clicks if the view port is not user scalable.\n                    return !($(\"meta[name=viewport]\").attr(\"content\") || \"\").match(/user-scalable=no/i);\n                }\n            }\n\n            return false;\n        };\n\n        support.mouseAndTouchPresent = support.touch && !(support.mobileOS.ios || support.mobileOS.android);\n\n        support.detectBrowser = function(ua) {\n            var browser = false,\n                match = [],\n                chromiumEdgeMatch = [],\n                browserRxs = {\n                    edge: /(edge)[ \\/]([\\w.]+)/i,\n                    webkit: /(chrome|crios)[ \\/]([\\w.]+)/i,\n                    safari: /(webkit)[ \\/]([\\w.]+)/i,\n                    opera: /(opera)(?:.*version|)[ \\/]([\\w.]+)/i,\n                    msie: /(msie\\s|trident.*? rv:)([\\w.]+)/i,\n                    mozilla: /(mozilla)(?:.*? rv:([\\w.]+)|)/i\n                };\n\n            for (var agent in browserRxs) {\n                if (browserRxs.hasOwnProperty(agent)) {\n                    match = ua.match(browserRxs[agent]);\n                    if (match) {\n                        browser = {};\n                        browser[agent] = true;\n                        browser[match[1].toLowerCase().split(\" \")[0].split(\"/\")[0]] = true;\n                        browser.version = parseInt(document.documentMode || match[2], 10);\n\n                        if (browser.chrome) {\n                            chromiumEdgeMatch = ua.match(/(edg)[ \\/]([\\w.]+)/i);\n\n                            if(chromiumEdgeMatch) {\n                                browser.chromiumEdge = true;\n                            }\n                        }\n\n                        break;\n                    }\n                }\n            }\n\n            return browser;\n        };\n\n        support.browser = support.detectBrowser(navigator.userAgent);\n\n        if (!mobileOS && support.touch && support.browser.safari) {\n            mobileOS = support.mobileOS = {\n                ios: true,\n                tablet: \"tablet\",\n                device: \"ipad\"\n            };\n        }\n\n        support.detectClipboardAccess = function() {\n            var commands = {\n                copy: document.queryCommandSupported ? document.queryCommandSupported(\"copy\") : false,\n                cut: document.queryCommandSupported ? document.queryCommandSupported(\"cut\") : false,\n                paste : document.queryCommandSupported ? document.queryCommandSupported(\"paste\") : false\n            };\n\n            if (support.browser.chrome) {\n                //not using queryCommandSupported due to chromium issues 476508 and 542948\n                commands.paste = false;\n                if(support.browser.version >= 43) {\n                    commands.copy = true;\n                    commands.cut = true;\n                }\n            }\n\n            return commands;\n        };\n\n        support.clipboard = support.detectClipboardAccess();\n\n        support.zoomLevel = function() {\n            try {\n                var browser = support.browser;\n                var ie11WidthCorrection = 0;\n                var docEl = document.documentElement;\n\n                if (browser.msie && browser.version == 11 && docEl.scrollHeight > docEl.clientHeight && !support.touch) {\n                    ie11WidthCorrection = support.scrollbar();\n                }\n\n                return support.touch ? (docEl.clientWidth / window.innerWidth) :\n                       browser.msie && browser.version >= 10 ? (((top || window).document.documentElement.offsetWidth + ie11WidthCorrection) / (top || window).innerWidth) : 1;\n            } catch(e) {\n                return 1;\n            }\n        };\n\n        (function(browser) {\n            // add browser-specific CSS class\n            var cssClass = \"\",\n                docElement = $(document.documentElement),\n                majorVersion = parseInt(browser.version, 10);\n\n            if (browser.msie) {\n                cssClass = \"ie\";\n            } else if (browser.mozilla) {\n                cssClass = \"ff\";\n            } else if (browser.safari) {\n                cssClass = \"safari\";\n            } else if (browser.webkit) {\n                cssClass = \"webkit\";\n            } else if (browser.opera) {\n                cssClass = \"opera\";\n            } else if (browser.edge) {\n                cssClass = \"edge\";\n            }\n\n            if (cssClass) {\n                cssClass = \"k-\" + cssClass + \" k-\" + cssClass + majorVersion;\n            }\n            if (support.mobileOS) {\n                cssClass += \" k-mobile\";\n            }\n\n            if (!support.cssFlexbox) {\n                cssClass += \" k-no-flexbox\";\n            }\n\n            docElement.addClass(cssClass);\n        })(support.browser);\n\n        support.eventCapture = document.documentElement.addEventListener;\n\n        var input = document.createElement(\"input\");\n\n        support.placeholder = \"placeholder\" in input;\n        support.propertyChangeEvent = \"onpropertychange\" in input;\n\n        support.input = (function() {\n            var types = [\"number\", \"date\", \"time\", \"month\", \"week\", \"datetime\", \"datetime-local\"];\n            var length = types.length;\n            var value = \"test\";\n            var result = {};\n            var idx = 0;\n            var type;\n\n            for (;idx < length; idx++) {\n                type = types[idx];\n                input.setAttribute(\"type\", type);\n                input.value = value;\n\n                result[type.replace(\"-\", \"\")] = input.type !== \"text\" && input.value !== value;\n            }\n\n            return result;\n        })();\n\n        input.style.cssText = \"float:left;\";\n\n        support.cssFloat = !!input.style.cssFloat;\n\n        input = null;\n\n        support.stableSort = (function() {\n            // Chrome sort is not stable for more than *10* items\n            // IE9+ sort is not stable for than *512* items\n            var threshold = 513;\n\n            var sorted = [{\n                index: 0,\n                field: \"b\"\n            }];\n\n            for (var i = 1; i < threshold; i++) {\n                sorted.push({\n                    index: i,\n                    field: \"a\"\n                });\n            }\n\n            sorted.sort(function(a, b) {\n                return a.field > b.field ? 1 : (a.field < b.field ? -1 : 0);\n            });\n\n            return sorted[0].index === 1;\n        })();\n\n        support.matchesSelector = elementProto.webkitMatchesSelector || elementProto.mozMatchesSelector ||\n                                  elementProto.msMatchesSelector || elementProto.oMatchesSelector ||\n                                  elementProto.matchesSelector || elementProto.matches ||\n          function( selector ) {\n              var nodeList = document.querySelectorAll ? ( this.parentNode || document ).querySelectorAll( selector ) || [] : $(selector),\n                  i = nodeList.length;\n\n              while (i--) {\n                  if (nodeList[i] == this) {\n                      return true;\n                  }\n              }\n\n              return false;\n          };\n\n        support.matchMedia = \"matchMedia\" in window;\n\n        support.pushState = window.history && window.history.pushState;\n\n        support.hashChange = \"onhashchange\" in window;\n\n        support.customElements = \"registerElement\" in window.document;\n\n        var chrome = support.browser.chrome,\n            mobileChrome = support.browser.crios,\n            mozilla = support.browser.mozilla,\n            safari = support.browser.safari;\n        support.msPointers = !chrome && window.MSPointerEvent;\n        support.pointers = !chrome && !mobileChrome && !mozilla && !safari && window.PointerEvent;\n        support.kineticScrollNeeded = mobileOS && (support.touch || support.msPointers || support.pointers);\n    })();\n\n\n    function size(obj) {\n        var result = 0, key;\n        for (key in obj) {\n            if (obj.hasOwnProperty(key) && key != \"toJSON\") { // Ignore fake IE7 toJSON.\n                result++;\n            }\n        }\n\n        return result;\n    }\n\n    function getOffset(element, type, positioned) {\n        if (!type) {\n            type = \"offset\";\n        }\n\n        var offset = element[type]();\n        // clone ClientRect object to JS object (jQuery3)\n        var result = {\n            top: offset.top,\n            right: offset.right,\n            bottom: offset.bottom,\n            left: offset.left\n        };\n\n        // IE10 touch zoom is living in a separate viewport\n        if (support.browser.msie && (support.pointers || support.msPointers) && !positioned) {\n            var sign = support.isRtl(element) ? 1 : -1;\n\n            result.top -= (window.pageYOffset - (document.documentElement.scrollTop));\n            result.left -= (window.pageXOffset + (sign * document.documentElement.scrollLeft));\n        }\n\n        return result;\n    }\n\n    var directions = {\n        left: { reverse: \"right\" },\n        right: { reverse: \"left\" },\n        down: { reverse: \"up\" },\n        up: { reverse: \"down\" },\n        top: { reverse: \"bottom\" },\n        bottom: { reverse: \"top\" },\n        \"in\": { reverse: \"out\" },\n        out: { reverse: \"in\" }\n    };\n\n    function parseEffects(input) {\n        var effects = {};\n\n        each((typeof input === \"string\" ? input.split(\" \") : input), function(idx) {\n            effects[idx] = this;\n        });\n\n        return effects;\n    }\n\n    function fx(element) {\n        return new kendo.effects.Element(element);\n    }\n\n    var effects = {};\n\n    $.extend(effects, {\n        enabled: true,\n        Element: function(element) {\n            this.element = $(element);\n        },\n\n        promise: function(element, options) {\n            if (!element.is(\":visible\")) {\n                element.css({ display: element.data(\"olddisplay\") || \"block\" }).css(\"display\");\n            }\n\n            if (options.hide) {\n                element.data(\"olddisplay\", element.css(\"display\")).hide();\n            }\n\n            if (options.init) {\n                options.init();\n            }\n\n            if (options.completeCallback) {\n                options.completeCallback(element); // call the external complete callback with the element\n            }\n\n            element.dequeue();\n        },\n\n        disable: function() {\n            this.enabled = false;\n            this.promise = this.promiseShim;\n        },\n\n        enable: function() {\n            this.enabled = true;\n            this.promise = this.animatedPromise;\n        }\n    });\n\n    effects.promiseShim = effects.promise;\n\n    function prepareAnimationOptions(options, duration, reverse, complete) {\n        if (typeof options === STRING) {\n            // options is the list of effect names separated by space e.g. animate(element, \"fadeIn slideDown\")\n\n            // only callback is provided e.g. animate(element, options, function() {});\n            if (isFunction(duration)) {\n                complete = duration;\n                duration = 400;\n                reverse = false;\n            }\n\n            if (isFunction(reverse)) {\n                complete = reverse;\n                reverse = false;\n            }\n\n            if (typeof duration === BOOLEAN){\n                reverse = duration;\n                duration = 400;\n            }\n\n            options = {\n                effects: options,\n                duration: duration,\n                reverse: reverse,\n                complete: complete\n            };\n        }\n\n        return extend({\n            //default options\n            effects: {},\n            duration: 400, //jQuery default duration\n            reverse: false,\n            init: noop,\n            teardown: noop,\n            hide: false\n        }, options, { completeCallback: options.complete, complete: noop }); // Move external complete callback, so deferred.resolve can be always executed.\n\n    }\n\n    function animate(element, options, duration, reverse, complete) {\n        var idx = 0,\n            length = element.length,\n            instance;\n\n        for (; idx < length; idx ++) {\n            instance = $(element[idx]);\n            instance.queue(function() {\n                effects.promise(instance, prepareAnimationOptions(options, duration, reverse, complete));\n            });\n        }\n\n        return element;\n    }\n\n    function toggleClass(element, classes, options, add) {\n        if (classes) {\n            classes = classes.split(\" \");\n\n            each(classes, function(idx, value) {\n                element.toggleClass(value, add);\n            });\n        }\n\n        return element;\n    }\n\n    if (!(\"kendoAnimate\" in $.fn)) {\n        extend($.fn, {\n            kendoStop: function(clearQueue, gotoEnd) {\n                return this.stop(clearQueue, gotoEnd);\n            },\n\n            kendoAnimate: function(options, duration, reverse, complete) {\n                return animate(this, options, duration, reverse, complete);\n            },\n\n            kendoAddClass: function(classes, options){\n                return kendo.toggleClass(this, classes, options, true);\n            },\n\n            kendoRemoveClass: function(classes, options){\n                return kendo.toggleClass(this, classes, options, false);\n            },\n            kendoToggleClass: function(classes, options, toggle){\n                return kendo.toggleClass(this, classes, options, toggle);\n            }\n        });\n    }\n\n    var ampRegExp = /&/g,\n        ltRegExp = /</g,\n        quoteRegExp = /\"/g,\n        aposRegExp = /'/g,\n        gtRegExp = />/g;\n    function htmlEncode(value) {\n        return (\"\" + value).replace(ampRegExp, \"&amp;\").replace(ltRegExp, \"&lt;\").replace(gtRegExp, \"&gt;\").replace(quoteRegExp, \"&quot;\").replace(aposRegExp, \"&#39;\");\n    }\n\n    function unescape(value) {\n        var template;\n\n        try {\n            template = window.decodeURIComponent(value);\n        } catch(error) {\n            // If the string contains Unicode characters\n            // the decodeURIComponent() will throw an error.\n            // Therefore: convert to UTF-8 character\n            template = value.replace(/%u([\\dA-F]{4})|%([\\dA-F]{2})/gi, function(_, m1, m2) {\n                return String.fromCharCode(parseInt(\"0x\" + (m1 || m2), 16));\n            });\n        }\n\n        return template;\n    }\n\n    var eventTarget = function (e) {\n        return e.target;\n    };\n\n    if (support.touch) {\n\n        eventTarget = function(e) {\n            var touches = \"originalEvent\" in e ? e.originalEvent.changedTouches : \"changedTouches\" in e ? e.changedTouches : null;\n\n            return touches ? document.elementFromPoint(touches[0].clientX, touches[0].clientY) : e.target;\n        };\n\n        each([\"swipe\", \"swipeLeft\", \"swipeRight\", \"swipeUp\", \"swipeDown\", \"doubleTap\", \"tap\"], function(m, value) {\n            $.fn[value] = function(callback) {\n                return this.on(value, callback);\n            };\n        });\n    }\n\n    if (support.touch) {\n        if (!support.mobileOS) {\n            support.mousedown = \"mousedown touchstart\";\n            support.mouseup = \"mouseup touchend\";\n            support.mousemove = \"mousemove touchmove\";\n            support.mousecancel = \"mouseleave touchcancel\";\n            support.click = \"click\";\n            support.resize = \"resize\";\n        } else {\n            support.mousedown = \"touchstart\";\n            support.mouseup = \"touchend\";\n            support.mousemove = \"touchmove\";\n            support.mousecancel = \"touchcancel\";\n            support.click = \"touchend\";\n            support.resize = \"orientationchange\";\n        }\n    } else if (support.pointers) {\n        support.mousemove = \"pointermove\";\n        support.mousedown = \"pointerdown\";\n        support.mouseup = \"pointerup\";\n        support.mousecancel = \"pointercancel\";\n        support.click = \"pointerup\";\n        support.resize = \"orientationchange resize\";\n    } else if (support.msPointers) {\n        support.mousemove = \"MSPointerMove\";\n        support.mousedown = \"MSPointerDown\";\n        support.mouseup = \"MSPointerUp\";\n        support.mousecancel = \"MSPointerCancel\";\n        support.click = \"MSPointerUp\";\n        support.resize = \"orientationchange resize\";\n    } else {\n        support.mousemove = \"mousemove\";\n        support.mousedown = \"mousedown\";\n        support.mouseup = \"mouseup\";\n        support.mousecancel = \"mouseleave\";\n        support.click = \"click\";\n        support.resize = \"resize\";\n    }\n\n    var wrapExpression = function(members, paramName) {\n        var result = paramName || \"d\",\n            index,\n            idx,\n            length,\n            member,\n            count = 1;\n\n        for (idx = 0, length = members.length; idx < length; idx++) {\n            member = members[idx];\n            if (member !== \"\") {\n                index = member.indexOf(\"[\");\n\n                if (index !== 0) {\n                    if (index == -1) {\n                        member = \".\" + member;\n                    } else {\n                        count++;\n                        member = \".\" + member.substring(0, index) + \" || {})\" + member.substring(index);\n                    }\n                }\n\n                count++;\n                result += member + ((idx < length - 1) ? \" || {})\" : \")\");\n            }\n        }\n        return new Array(count).join(\"(\") + result;\n    },\n    localUrlRe = /^([a-z]+:)?\\/\\//i;\n\n    extend(kendo, {\n        widgets: [],\n        _widgetRegisteredCallbacks: [],\n        ui: kendo.ui || {},\n        fx: kendo.fx || fx,\n        effects: kendo.effects || effects,\n        mobile: kendo.mobile || { },\n        data: kendo.data || {},\n        dataviz: kendo.dataviz || {},\n        drawing: kendo.drawing || {},\n        spreadsheet: { messages: {} },\n        keys: {\n            INSERT: 45,\n            DELETE: 46,\n            BACKSPACE: 8,\n            TAB: 9,\n            ENTER: 13,\n            ESC: 27,\n            LEFT: 37,\n            UP: 38,\n            RIGHT: 39,\n            DOWN: 40,\n            END: 35,\n            HOME: 36,\n            SPACEBAR: 32,\n            PAGEUP: 33,\n            PAGEDOWN: 34,\n            F2: 113,\n            F10: 121,\n            F12: 123,\n            NUMPAD_PLUS: 107,\n            NUMPAD_MINUS: 109,\n            NUMPAD_DOT: 110\n        },\n        support: kendo.support || support,\n        animate: kendo.animate || animate,\n        ns: \"\",\n        attr: function(value) {\n            return \"data-\" + kendo.ns + value;\n        },\n        getShadows: getShadows,\n        wrap: wrap,\n        deepExtend: deepExtend,\n        getComputedStyles: getComputedStyles,\n        isScrollable: isScrollable,\n        scrollLeft: scrollLeft,\n        size: size,\n        toCamelCase: toCamelCase,\n        toHyphens: toHyphens,\n        getOffset: kendo.getOffset || getOffset,\n        parseEffects: kendo.parseEffects || parseEffects,\n        toggleClass: kendo.toggleClass || toggleClass,\n        directions: kendo.directions || directions,\n        Observable: Observable,\n        Class: Class,\n        Template: Template,\n        template: Template.compile.bind(Template),\n        render: Template.render.bind(Template),\n        stringify: JSON.stringify.bind(JSON),\n        eventTarget: eventTarget,\n        htmlEncode: htmlEncode,\n        unescape: unescape,\n        isLocalUrl: function(url) {\n            return url && !localUrlRe.test(url);\n        },\n\n        expr: function(expression, safe, paramName) {\n            expression = expression || \"\";\n\n            if (typeof safe == STRING) {\n                paramName = safe;\n                safe = false;\n            }\n\n            paramName = paramName || \"d\";\n\n            if (expression && expression.charAt(0) !== \"[\") {\n                expression = \".\" + expression;\n            }\n\n            if (safe) {\n                expression = expression.replace(/\"([^.]*)\\.([^\"]*)\"/g,'\"$1_$DOT$_$2\"');\n                expression = expression.replace(/'([^.]*)\\.([^']*)'/g,\"'$1_$DOT$_$2'\");\n                expression = wrapExpression(expression.split(\".\"), paramName);\n                expression = expression.replace(/_\\$DOT\\$_/g, \".\");\n            } else {\n                expression = paramName + expression;\n            }\n\n            return expression;\n        },\n\n        getter: function(expression, safe) {\n            var key = expression + safe;\n            return getterCache[key] = getterCache[key] || new Function(\"d\", \"return \" + kendo.expr(expression, safe));\n        },\n\n        setter: function(expression) {\n            return setterCache[expression] = setterCache[expression] || new Function(\"d,value\", kendo.expr(expression) + \"=value\");\n        },\n\n        accessor: function(expression) {\n            return {\n                get: kendo.getter(expression),\n                set: kendo.setter(expression)\n            };\n        },\n\n        guid: function() {\n            var id = \"\", i, random, chars = \"abcdef\";\n\n            id += chars[Math.floor(Math.random() * Math.floor(chars.length))];\n\n            for (i = 1; i < 32; i++) {\n                random = math.random() * 16 | 0;\n\n                if (i == 8 || i == 12 || i == 16 || i == 20) {\n                    id += \"-\";\n                }\n                id += (i == 12 ? 4 : (i == 16 ? (random & 3 | 8) : random)).toString(16);\n            }\n\n            return id;\n        },\n\n        roleSelector: function(role) {\n            return role.replace(/(\\S+)/g, \"[\" + kendo.attr(\"role\") + \"=$1],\").slice(0, -1);\n        },\n\n        directiveSelector: function(directives) {\n            var selectors = directives.split(\" \");\n\n            if (selectors) {\n                for (var i = 0; i < selectors.length; i++) {\n                    if (selectors[i] != \"view\") {\n                        selectors[i] = selectors[i].replace(/(\\w*)(view|bar|strip|over)$/, \"$1-$2\");\n                    }\n                }\n            }\n\n            return selectors.join(\" \").replace(/(\\S+)/g, \"kendo-mobile-$1,\").slice(0, -1);\n        },\n\n        triggeredByInput: function(e) {\n            return (/^(label|input|textarea|select)$/i).test(e.target.tagName);\n        },\n\n        onWidgetRegistered: function(callback) {\n            for (var i = 0, len = kendo.widgets.length; i < len; i++) {\n                callback(kendo.widgets[i]);\n            }\n\n            kendo._widgetRegisteredCallbacks.push(callback);\n        },\n\n        logToConsole: function(message, type) {\n            var console = window.console;\n\n            if (!kendo.suppressLog && typeof(console) != \"undefined\" && console.log) {\n                console[type || \"log\"](message);\n            }\n        }\n    });\n\n    var Widget = Observable.extend( {\n        init: function(element, options) {\n            var that = this;\n\n            validatePackage();\n\n            that.element = kendo.jQuery(element).handler(that);\n\n            that.angular(\"init\", options);\n\n            Observable.fn.init.call(that);\n\n            var dataSource = options ? options.dataSource : null;\n            var props;\n\n            if (options) {\n                props = (that.componentTypes || {})[(options || {}).componentType];\n            }\n\n            if (dataSource) {\n                // avoid deep cloning the data source\n                options = extend({}, options, { dataSource: {} });\n            }\n\n            options = that.options = extend(true, {}, that.options, that.defaults, props || {}, options);\n\n            if (dataSource) {\n                options.dataSource = dataSource;\n            }\n\n            if (!that.element.attr(kendo.attr(\"role\"))) {\n                that.element.attr(kendo.attr(\"role\"), (options.name || \"\").toLowerCase());\n            }\n\n            that.element.data(\"kendo\" + options.prefix + options.name, that);\n\n            that.bind(that.events, options);\n        },\n\n        events: [],\n\n        options: {\n            prefix: \"\"\n        },\n\n        _hasBindingTarget: function() {\n            return !!this.element[0].kendoBindingTarget;\n        },\n\n        _tabindex: function(target) {\n            target = target || this.wrapper;\n\n            var element = this.element,\n                TABINDEX = \"tabindex\",\n                tabindex = target.attr(TABINDEX) || element.attr(TABINDEX);\n\n            element.removeAttr(TABINDEX);\n\n            target.attr(TABINDEX, !isNaN(tabindex) ? tabindex : 0);\n        },\n\n        setOptions: function(options) {\n            this._clearCssClasses(options);\n            this._setEvents(options);\n            $.extend(this.options, options);\n            this._applyCssClasses();\n        },\n\n        _setEvents: function(options) {\n            var that = this,\n                idx = 0,\n                length = that.events.length,\n                e;\n\n            for (; idx < length; idx ++) {\n                e = that.events[idx];\n                if (that.options[e] && options[e]) {\n                    that.unbind(e, that.options[e]);\n                    if (that._events && that._events[e]) {\n                        delete that._events[e];\n                    }\n                }\n            }\n\n            that.bind(that.events, options);\n        },\n\n        resize: function(force) {\n            var size = this.getSize(),\n                currentSize = this._size;\n\n            if (force || (size.width > 0 || size.height > 0) && (!currentSize || size.width !== currentSize.width || size.height !== currentSize.height)) {\n                this._size = size;\n                this._resize(size, force);\n                this.trigger(\"resize\", size);\n            }\n        },\n\n        getSize: function() {\n            return kendo.dimensions(this.element);\n        },\n\n        size: function(size) {\n            if (!size) {\n                return this.getSize();\n            } else {\n                this.setSize(size);\n            }\n        },\n\n        setSize: $.noop,\n        _resize: $.noop,\n\n        destroy: function() {\n            var that = this;\n\n            that.element.removeData(\"kendo\" + that.options.prefix + that.options.name);\n            that.element.removeData(\"handler\");\n            that.unbind();\n        },\n        _destroy: function() {\n            this.destroy();\n        },\n        angular: function(){},\n\n        _muteAngularRebind: function(callback) {\n            this._muteRebind = true;\n\n            callback.call(this);\n\n            this._muteRebind = false;\n        },\n\n        _applyCssClasses: function(element) {\n            var protoOptions = this.__proto__.options, // jshint ignore:line\n                options = this.options,\n                el = element || this.wrapper || this.element,\n                classes = [],\n                i, prop, validFill, widgetName;\n\n            if (!kendo.cssProperties.propertyDictionary[protoOptions.name]) {\n                return;\n            }\n\n            for (i = 0; i < cssPropertiesNames.length; i++) {\n                prop = cssPropertiesNames[i];\n                widgetName = this.options._altname || protoOptions.name;\n\n                if (protoOptions.hasOwnProperty(prop)) {\n                    if (prop === \"themeColor\") {\n                        validFill = kendo.cssProperties.getValidClass({\n                            widget: widgetName,\n                            propName: \"fillMode\",\n                            value: options.fillMode\n                        });\n\n                        if (validFill && validFill.length) {\n                            classes.push(kendo.cssProperties.getValidClass({\n                                widget: widgetName,\n                                propName: prop,\n                                value: options[prop],\n                                fill: options.fillMode\n                            }));\n                        }\n                    } else {\n                        classes.push(kendo.cssProperties.getValidClass({\n                            widget: widgetName,\n                            propName: prop,\n                            value: options[prop]\n                        }));\n                    }\n                }\n            }\n\n            el.addClass(classes.join(\" \"));\n        },\n\n        _ariaLabel: function(target) {\n            var that = this,\n                inputElm = that.element,\n                inputId = inputElm.attr(\"id\"),\n                labelElm = $(\"label[for=\\\"\" + inputId + \"\\\"]\"),\n                ariaLabel = inputElm.attr(ARIA_LABEL),\n                ariaLabelledBy = inputElm.attr(ARIA_LABELLEDBY),\n                labelId;\n\n            if (target[0] === inputElm[0]) {\n                return;\n            }\n\n            if (ariaLabel) {\n                target.attr(ARIA_LABEL, ariaLabel);\n            } else if (ariaLabelledBy) {\n                target.attr(ARIA_LABELLEDBY, ariaLabelledBy);\n            } else if (labelElm.length) {\n                labelId = labelElm.attr(\"id\") || that._generateLabelId(labelElm, inputId || kendo.guid());\n                target.attr(ARIA_LABELLEDBY, labelId);\n            }\n        },\n\n        _clearCssClasses: function(newOptions, element) {\n            var protoOptions = this.__proto__.options, // jshint ignore:line\n                currentOptions = this.options,\n                el = element || this.wrapper || this.element,\n                i, prop, widgetName;\n\n            if(!kendo.cssProperties.propertyDictionary[protoOptions.name]) {\n                return;\n            }\n\n            for(i = 0; i < cssPropertiesNames.length; i++) {\n                prop = cssPropertiesNames[i];\n                widgetName = this.options._altname || protoOptions.name;\n\n                if(protoOptions.hasOwnProperty(prop) && newOptions.hasOwnProperty(prop)) {\n                    if (prop === \"themeColor\") {\n                        el.removeClass(kendo.cssProperties.getValidClass({\n                            widget: widgetName,\n                            propName: prop,\n                            value: currentOptions[prop],\n                            fill: currentOptions.fillMode\n                        }));\n                    } else {\n                        if (prop === \"fillMode\") {\n                            el.removeClass(kendo.cssProperties.getValidClass({\n                                widget: widgetName,\n                                propName: \"themeColor\",\n                                value: currentOptions.themeColor,\n                                fill: currentOptions.fillMode\n                            }));\n                        }\n\n                        el.removeClass(kendo.cssProperties.getValidClass({\n                            widget: widgetName,\n                            propName: prop,\n                            value: currentOptions[prop]\n                        }));\n                    }\n                }\n            }\n        },\n\n        _generateLabelId: function(label, inputId){\n            var labelId = inputId + LABELIDPART;\n\n            label.attr(\"id\", labelId);\n\n            return labelId;\n        },\n    });\n\n    var DataBoundWidget = Widget.extend({\n        // Angular consumes these.\n        dataItems: function() {\n            return this.dataSource.flatView();\n        },\n\n        _angularItems: function(cmd) {\n            var that = this;\n            that.angular(cmd, function(){\n                return {\n                    elements: that.items(),\n                    data: $.map(that.dataItems(), function(dataItem){\n                        return { dataItem: dataItem };\n                    })\n                };\n            });\n        }\n    });\n\n    kendo.dimensions = function(element, dimensions) {\n        var domElement = element[0];\n\n        if (dimensions) {\n            element.css(dimensions);\n        }\n\n        return { width: domElement.offsetWidth, height: domElement.offsetHeight };\n    };\n\n    kendo.notify = noop;\n\n    var templateRegExp = /template$/i,\n        jsonRegExp = /^\\s*(?:\\{(?:.|\\r\\n|\\n)*\\}|\\[(?:.|\\r\\n|\\n)*\\])\\s*$/,\n        jsonFormatRegExp = /^\\{(\\d+)(:[^\\}]+)?\\}|^\\[[A-Za-z_]+\\]$/,\n        dashRegExp = /([A-Z])/g;\n\n    function parseOption(element, option) {\n        var value;\n\n        if (option.indexOf(\"data\") === 0) {\n            option = option.substring(4);\n            option = option.charAt(0).toLowerCase() + option.substring(1);\n        }\n\n        option = option.replace(dashRegExp, \"-$1\");\n        value = element.getAttribute(\"data-\" + kendo.ns + option);\n\n        if (value === null) {\n            value = undefined;\n        } else if (value === \"null\") {\n            value = null;\n        } else if (value === \"true\") {\n            value = true;\n        } else if (value === \"false\") {\n            value = false;\n        } else if (numberRegExp.test(value) && option != \"mask\" && option != \"format\") {\n            value = parseFloat(value);\n        } else if (jsonRegExp.test(value) && !jsonFormatRegExp.test(value)) {\n            value = new Function(\"return (\" + value + \")\")();\n        }\n\n        return value;\n    }\n\n    function parseOptions(element, options, source) {\n        var result = {},\n            option,\n            value,\n            role = element.getAttribute(\"data-\" + kendo.ns + \"role\");\n\n        for (option in options) {\n            value = parseOption(element, option);\n\n            if (value !== undefined) {\n\n                if (templateRegExp.test(option) && role != \"drawer\") {\n                    if(typeof value === \"string\") {\n                        if($(\"#\" + value).length){\n                            value = kendo.template($(\"#\" + value).html());\n                        }else if (source){\n                            value = kendo.template(source[value]);\n                        }\n                    } else {\n                        value = element.getAttribute(option);\n                    }\n                }\n\n                result[option] = value;\n            }\n        }\n\n        return result;\n    }\n\n    kendo.initWidget = function(element, options, roles) {\n        var result,\n            option,\n            widget,\n            idx,\n            length,\n            role,\n            value,\n            dataSource,\n            fullPath,\n            widgetKeyRegExp;\n\n        // Preserve backwards compatibility with (element, options, namespace) signature, where namespace was kendo.ui\n        if (!roles) {\n            roles = kendo.ui.roles;\n        } else if (roles.roles) {\n            roles = roles.roles;\n        }\n\n        element = element.nodeType ? element : element[0];\n\n        role = element.getAttribute(\"data-\" + kendo.ns + \"role\");\n\n        if (!role) {\n            return;\n        }\n\n        fullPath = role.indexOf(\".\") === -1;\n\n        // look for any widget that may be already instantiated based on this role.\n        // The prefix used is unknown, hence the regexp\n        //\n\n        if (fullPath) {\n            widget = roles[role];\n        } else { // full namespace path - like kendo.ui.Widget\n            widget = kendo.getter(role)(window);\n        }\n\n        var data = $(element).data(),\n            widgetKey = widget ? \"kendo\" + widget.fn.options.prefix + widget.fn.options.name : \"\";\n\n        if (fullPath) {\n            widgetKeyRegExp = new RegExp(\"^kendo.*\" + role + \"$\", \"i\");\n        } else { // full namespace path - like kendo.ui.Widget\n            widgetKeyRegExp = new RegExp(\"^\" + widgetKey + \"$\", \"i\");\n        }\n\n        for(var key in data) {\n            if (key.match(widgetKeyRegExp)) {\n                // we have detected a widget of the same kind - save its reference, we will set its options\n                if (key === widgetKey) {\n                    result = data[key];\n                } else {\n                    return data[key];\n                }\n            }\n        }\n\n        if (!widget) {\n            return;\n        }\n\n        dataSource = parseOption(element, \"dataSource\");\n\n        options = $.extend({}, parseOptions(element, $.extend({}, widget.fn.options, widget.fn.defaults) ), options);\n\n        if (dataSource) {\n            if (typeof dataSource === STRING) {\n                options.dataSource = kendo.getter(dataSource)(window);\n            } else {\n                options.dataSource = dataSource;\n            }\n        }\n\n        for (idx = 0, length = widget.fn.events.length; idx < length; idx++) {\n            option = widget.fn.events[idx];\n\n            value = parseOption(element, option);\n\n            if (value !== undefined) {\n                options[option] = kendo.getter(value)(window);\n            }\n        }\n\n        if (!result) {\n            result = new widget(element, options);\n        } else if (!$.isEmptyObject(options)) {\n            result.setOptions(options);\n        }\n\n        return result;\n    };\n\n    kendo.rolesFromNamespaces = function(namespaces) {\n        var roles = [],\n            idx,\n            length;\n\n        if (!namespaces[0]) {\n            namespaces = [kendo.ui, kendo.dataviz.ui];\n        }\n\n        for (idx = 0, length = namespaces.length; idx < length; idx ++) {\n            roles[idx] = namespaces[idx].roles;\n        }\n\n        return extend.apply(null, [{}].concat(roles.reverse()));\n    };\n\n    kendo.init = function(element) {\n        var roles = kendo.rolesFromNamespaces(slice.call(arguments, 1));\n\n        $(element).find(\"[data-\" + kendo.ns + \"role]\").addBack().each(function(){\n            kendo.initWidget(this, {}, roles);\n        });\n    };\n\n    kendo.destroy = function(element) {\n        $(element).find(\"[data-\" + kendo.ns + \"role]\").addBack().each(function(){\n            var data = $(this).data();\n\n            for (var key in data) {\n                if (key.indexOf(\"kendo\") === 0 && typeof data[key].destroy === FUNCTION) {\n                    data[key].destroy();\n                }\n            }\n        });\n    };\n\n    function containmentComparer(a, b) {\n        return $.contains(a, b) ? -1 : 1;\n    }\n\n    function resizableWidget() {\n        var widget = $(this);\n        return ($.inArray(widget.attr(\"data-\" + kendo.ns + \"role\"), [\"slider\", \"rangeslider\", \"breadcrumb\"]) > -1) || widget.is(\":visible\");\n    }\n\n    kendo.resize = function(element, force) {\n        var widgets = $(element).find(\"[data-\" + kendo.ns + \"role]\").addBack().filter(resizableWidget);\n\n        if (!widgets.length) {\n            return;\n        }\n\n        // sort widgets based on their parent-child relation\n        var widgetsArray = $.makeArray(widgets);\n        widgetsArray.sort(containmentComparer);\n\n        // resize widgets\n        $.each(widgetsArray, function () {\n            var widget = kendo.widgetInstance($(this));\n            if (widget) {\n                widget.resize(force);\n            }\n        });\n    };\n\n    kendo.parseOptions = parseOptions;\n\n    extend(kendo.ui, {\n        Widget: Widget,\n        DataBoundWidget: DataBoundWidget,\n        roles: {},\n        progress: function(container, toggle, options) {\n            var mask = container.find(\".k-loading-mask\"),\n                support = kendo.support,\n                browser = support.browser,\n                isRtl, leftRight, webkitCorrection, containerScrollLeft, cssClass;\n\n                options = $.extend({}, {\n                    width: \"100%\",\n                    height: \"100%\",\n                    top: container.scrollTop(),\n                    opacity: false\n                }, options);\n\n                cssClass = options.opacity ? 'k-loading-mask k-opaque' : 'k-loading-mask';\n\n            if (toggle) {\n                if (!mask.length) {\n                    isRtl = support.isRtl(container);\n                    leftRight = isRtl ? \"right\" : \"left\";\n                    containerScrollLeft = kendo.scrollLeft(container);\n                    webkitCorrection = browser.webkit ? (!isRtl ? 0 : container[0].scrollWidth - container.width() - 2 * containerScrollLeft) : 0;\n\n                    mask = $(kendo.format(\"<div class='{0}'><span role='alert' aria-live='polite' class='k-loading-text'>{1}</span><div class='k-loading-image'></div><div class='k-loading-color'></div></div>\", cssClass, kendo.ui.progress.messages.loading))\n                        .width(options.width).height(options.height)\n                        .css(\"top\", options.top)\n                        .css(leftRight, Math.abs(containerScrollLeft) + webkitCorrection)\n                        .prependTo(container);\n                }\n            } else if (mask) {\n                mask.remove();\n            }\n        },\n        plugin: function(widget, register, prefix) {\n            var name = widget.fn.options.name,\n                getter;\n\n            register = register || kendo.ui;\n            prefix = prefix || \"\";\n\n            register[name] = widget;\n\n            register.roles[name.toLowerCase()] = widget;\n\n            getter = \"getKendo\" + prefix + name;\n            name = \"kendo\" + prefix + name;\n\n            var widgetEntry = { name: name, widget: widget, prefix: prefix || \"\" };\n            kendo.widgets.push(widgetEntry);\n\n            for (var i = 0, len = kendo._widgetRegisteredCallbacks.length; i < len; i++) {\n                kendo._widgetRegisteredCallbacks[i](widgetEntry);\n            }\n\n            $.fn[name] = function(options) {\n                var value = this,\n                    args;\n\n                if (typeof options === STRING) {\n                    args = slice.call(arguments, 1);\n\n                    this.each(function(){\n                        var widget = $.data(this, name),\n                            method,\n                            result;\n\n                        if (!widget) {\n                            throw new Error(kendo.format(\"Cannot call method '{0}' of {1} before it is initialized\", options, name));\n                        }\n\n                        method = widget[options];\n\n                        if (typeof method !== FUNCTION) {\n                            throw new Error(kendo.format(\"Cannot find method '{0}' of {1}\", options, name));\n                        }\n\n                        result = method.apply(widget, args);\n\n                        if (result !== undefined) {\n                            value = result;\n                            return false;\n                        }\n                    });\n                } else {\n                    this.each(function() {\n                        return new widget(this, options);\n                    });\n                }\n\n                return value;\n            };\n\n            $.fn[name].widget = widget;\n\n            $.fn[getter] = function() {\n                return this.data(name);\n            };\n        }\n    });\n\n    kendo.ui.progress.messages = {\n        loading: \"Loading...\"\n    };\n\n    var ContainerNullObject = { bind: function () { return this; }, nullObject: true, options: {} };\n\n    var MobileWidget = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n            this.element.autoApplyNS();\n            this.wrapper = this.element;\n            this.element.addClass(\"km-widget\");\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.element.kendoDestroy();\n        },\n\n        options: {\n            prefix: \"Mobile\"\n        },\n\n        events: [],\n\n        view: function() {\n            var viewElement = this.element.closest(kendo.roleSelector(\"view splitview modalview drawer\"));\n            return kendo.widgetInstance(viewElement, kendo.mobile.ui) || ContainerNullObject;\n        },\n\n        viewHasNativeScrolling: function() {\n            var view = this.view();\n            return view && view.options.useNativeScrolling;\n        },\n\n        container: function() {\n            var element = this.element.closest(kendo.roleSelector(\"view layout modalview drawer splitview\"));\n            return kendo.widgetInstance(element.eq(0), kendo.mobile.ui) || ContainerNullObject;\n        }\n    });\n\n    extend(kendo.mobile, {\n        init: function(element) {\n            kendo.init(element, kendo.mobile.ui, kendo.ui, kendo.dataviz.ui);\n        },\n\n        appLevelNativeScrolling: function() {\n            return kendo.mobile.application && kendo.mobile.application.options && kendo.mobile.application.options.useNativeScrolling;\n        },\n\n        roles: {},\n\n        ui: {\n            Widget: MobileWidget,\n            DataBoundWidget: DataBoundWidget.extend(MobileWidget.prototype),\n            roles: {},\n            plugin: function(widget) {\n                kendo.ui.plugin(widget, kendo.mobile.ui, \"Mobile\");\n            }\n        }\n    });\n\n    deepExtend(kendo.dataviz, {\n        init: function(element) {\n            kendo.init(element, kendo.dataviz.ui);\n        },\n        ui: {\n            roles: {},\n            themes: {},\n            views: [],\n            plugin: function(widget) {\n                kendo.ui.plugin(widget, kendo.dataviz.ui);\n            }\n        },\n        roles: {}\n    });\n\n    kendo.touchScroller = function(elements, options) {\n        // return the first touch scroller\n        if (!options){ options = {}; }\n\n        options.useNative = true;\n\n        return $(elements).map(function(idx, element) {\n            element = $(element);\n            if (support.kineticScrollNeeded && kendo.mobile.ui.Scroller && !element.data(\"kendoMobileScroller\")) {\n                element.kendoMobileScroller(options);\n                return element.data(\"kendoMobileScroller\");\n            } else {\n                return false;\n            }\n        })[0];\n    };\n\n    kendo.preventDefault = function(e) {\n        e.preventDefault();\n    };\n\n    kendo.widgetInstance = function(element, suites) {\n        var role = element.data(kendo.ns + \"role\"),\n            widgets = [], i, length,\n            elementData = element.data(\"kendoView\");\n\n        if (role) {\n            // HACK!!! mobile view scroller widgets are instantiated on data-role=\"content\" elements. We need to discover them when resizing.\n            if (role === \"content\") {\n                role = \"scroller\";\n            }\n\n            // kendoEditorToolbar is not a public plugin, thus it does not exist in kendo.ui.roles.\n            // Therefore, this is needed in order to be resized when placed in Kendo Window.\n            if (role === \"editortoolbar\") {\n                var editorToolbar = element.data(\"kendoEditorToolbar\");\n                if (editorToolbar) {\n                    return editorToolbar;\n                }\n            }\n\n            // kendo.View is not a ui plugin\n\n            if (role === \"view\" && elementData) {\n                return elementData;\n            }\n\n            if (suites) {\n                if (suites[0]) {\n                    for (i = 0, length = suites.length; i < length; i ++) {\n                        widgets.push(suites[i].roles[role]);\n                    }\n                } else {\n                    widgets.push(suites.roles[role]);\n                }\n            }\n            else {\n                widgets = [ kendo.ui.roles[role], kendo.dataviz.ui.roles[role],  kendo.mobile.ui.roles[role] ];\n            }\n\n            if (role.indexOf(\".\") >= 0) {\n                widgets = [ kendo.getter(role)(window) ];\n            }\n\n            for (i = 0, length = widgets.length; i < length; i ++) {\n                var widget = widgets[i];\n                if (widget) {\n                    var instance = element.data(\"kendo\" + widget.fn.options.prefix + widget.fn.options.name);\n                    if (instance) {\n                        return instance;\n                    }\n                }\n            }\n        }\n    };\n\n    kendo.onResize = function(callback) {\n        var handler = callback;\n        if (support.mobileOS.android) {\n            handler = function() { setTimeout(callback, 600); };\n        }\n\n        $(window).on(support.resize, handler);\n        return handler;\n    };\n\n    kendo.unbindResize = function(callback) {\n        $(window).off(support.resize, callback);\n    };\n\n    kendo.attrValue = function(element, key) {\n        return element.data(kendo.ns + key);\n    };\n\n    kendo.days = {\n        Sunday: 0,\n        Monday: 1,\n        Tuesday: 2,\n        Wednesday: 3,\n        Thursday: 4,\n        Friday: 5,\n        Saturday: 6\n    };\n\n    function focusable(element, isTabIndexNotNaN) {\n        var nodeName = element.nodeName.toLowerCase();\n\n        return (/input|select|textarea|button|object/.test(nodeName) ?\n                !element.disabled :\n                \"a\" === nodeName ?\n                element.href || isTabIndexNotNaN :\n                isTabIndexNotNaN\n               ) &&\n            visible(element);\n    }\n\n    function visible(element) {\n        return $.expr.pseudos.visible(element) &&\n            !$(element).parents().addBack().filter(function() {\n                return $.css(this,\"visibility\") === \"hidden\";\n            }).length;\n    }\n\n    $.extend($.expr.pseudos, {\n        kendoFocusable: function(element) {\n            var idx = $.attr(element, \"tabindex\");\n            return focusable(element, !isNaN(idx) && idx > -1);\n        }\n    });\n\n    var MOUSE_EVENTS = [\"mousedown\", \"mousemove\", \"mouseenter\", \"mouseleave\", \"mouseover\", \"mouseout\", \"mouseup\", \"click\"];\n    var EXCLUDE_BUST_CLICK_SELECTOR = \"label, input, [data-rel=external]\";\n\n    var MouseEventNormalizer = {\n        setupMouseMute: function() {\n            var idx = 0,\n                length = MOUSE_EVENTS.length,\n                element = document.documentElement;\n\n            if (MouseEventNormalizer.mouseTrap || !support.eventCapture) {\n                return;\n            }\n\n            MouseEventNormalizer.mouseTrap = true;\n\n            MouseEventNormalizer.bustClick = false;\n            MouseEventNormalizer.captureMouse = false;\n\n            var handler = function(e) {\n                if (MouseEventNormalizer.captureMouse) {\n                    if (e.type === \"click\") {\n                        if (MouseEventNormalizer.bustClick && !$(e.target).is(EXCLUDE_BUST_CLICK_SELECTOR)) {\n                            e.preventDefault();\n                            e.stopPropagation();\n                        }\n                    } else {\n                        e.stopPropagation();\n                    }\n                }\n            };\n\n            for (; idx < length; idx++) {\n                element.addEventListener(MOUSE_EVENTS[idx], handler, true);\n            }\n        },\n\n        muteMouse: function(e) {\n            MouseEventNormalizer.captureMouse = true;\n            if (e.data.bustClick) {\n                MouseEventNormalizer.bustClick = true;\n            }\n            clearTimeout(MouseEventNormalizer.mouseTrapTimeoutID);\n        },\n\n        unMuteMouse: function() {\n            clearTimeout(MouseEventNormalizer.mouseTrapTimeoutID);\n            MouseEventNormalizer.mouseTrapTimeoutID = setTimeout(function() {\n                MouseEventNormalizer.captureMouse = false;\n                MouseEventNormalizer.bustClick = false;\n            }, 400);\n        }\n    };\n\n    var eventMap = {\n        down: \"touchstart mousedown\",\n        move: \"mousemove touchmove\",\n        up: \"mouseup touchend touchcancel\",\n        cancel: \"mouseleave touchcancel\"\n    };\n\n    if (support.touch && (support.mobileOS.ios || support.mobileOS.android)) {\n        eventMap = {\n            down: \"touchstart\",\n            move: \"touchmove\",\n            up: \"touchend touchcancel\",\n            cancel: \"touchcancel\"\n        };\n    } else if (support.pointers) {\n        eventMap = {\n            down: \"pointerdown\",\n            move: \"pointermove\",\n            up: \"pointerup\",\n            cancel: \"pointercancel pointerleave\"\n        };\n    } else if (support.msPointers) {\n        eventMap = {\n            down: \"MSPointerDown\",\n            move: \"MSPointerMove\",\n            up: \"MSPointerUp\",\n            cancel: \"MSPointerCancel MSPointerLeave\"\n        };\n    }\n\n    if (support.msPointers && !(\"onmspointerenter\" in window)) { // IE10\n        // Create MSPointerEnter/MSPointerLeave events using mouseover/out and event-time checks\n        $.each({\n            MSPointerEnter: \"MSPointerOver\",\n            MSPointerLeave: \"MSPointerOut\"\n        }, function( orig, fix ) {\n            $.event.special[ orig ] = {\n                delegateType: fix,\n                bindType: fix,\n\n                handle: function( event ) {\n                    var ret,\n                        target = this,\n                        related = event.relatedTarget,\n                        handleObj = event.handleObj;\n\n                    // For mousenter/leave call the handler if related is outside the target.\n                    // NB: No relatedTarget if the mouse left/entered the browser window\n                    if ( !related || (related !== target && !$.contains( target, related )) ) {\n                        event.type = handleObj.origType;\n                        ret = handleObj.handler.apply( this, arguments );\n                        event.type = fix;\n                    }\n                    return ret;\n                }\n            };\n        });\n    }\n\n\n    var getEventMap = function(e) { return (eventMap[e] || e); },\n        eventRegEx = /([^ ]+)/g;\n\n    kendo.applyEventMap = function(events, ns) {\n        events = events.replace(eventRegEx, getEventMap);\n\n        if (ns) {\n            events = events.replace(eventRegEx, \"$1.\" + ns);\n        }\n\n        return events;\n    };\n\n    kendo.keyDownHandler = function(e, widget) {\n        var events = widget._events.kendoKeydown;\n\n        if(!events){\n            return true;\n        }\n\n        events = events.slice();\n        e.sender = widget;\n        e.preventKendoKeydown = false;\n        for (var idx = 0, length = events.length; idx < length; idx++) {\n            events[idx].call(widget, e);\n        }\n\n        return !e.preventKendoKeydown;\n    };\n\n    var on = $.fn.on;\n\n    function kendoJQuery(selector, context) {\n        return new kendoJQuery.fn.init(selector, context);\n    }\n\n    noDepricateExtend(true, kendoJQuery, $);\n\n    kendoJQuery.fn = kendoJQuery.prototype = new $();\n\n    kendoJQuery.fn.constructor = kendoJQuery;\n\n    kendoJQuery.fn.init = function(selector, context) {\n        if (context && context instanceof $ && !(context instanceof kendoJQuery)) {\n            context = kendoJQuery(context);\n        }\n\n        return $.fn.init.call(this, selector, context, rootjQuery);\n    };\n\n    kendoJQuery.fn.init.prototype = kendoJQuery.fn;\n\n    var rootjQuery = kendoJQuery(document);\n\n    extend(kendoJQuery.fn, {\n        handler: function(handler) {\n            this.data(\"handler\", handler);\n            return this;\n        },\n\n        autoApplyNS: function(ns) {\n            this.data(\"kendoNS\", ns || kendo.guid());\n            return this;\n        },\n\n        on: function() {\n            var that = this,\n                ns = that.data(\"kendoNS\");\n\n            // support for event map signature\n            if (arguments.length === 1) {\n                return on.call(that, arguments[0]);\n            }\n\n            var context = that,\n                args = slice.call(arguments);\n\n            if (typeof args[args.length -1] === UNDEFINED) {\n                args.pop();\n            }\n\n            var callback =  args[args.length - 1],\n                events = kendo.applyEventMap(args[0], ns);\n\n            // setup mouse trap\n            if (support.mouseAndTouchPresent && events.search(/mouse|click/) > -1 && this[0] !== document.documentElement) {\n                MouseEventNormalizer.setupMouseMute();\n\n                var selector = args.length === 2 ? null : args[1],\n                    bustClick = events.indexOf(\"click\") > -1 && events.indexOf(\"touchend\") > -1;\n\n                on.call(this,\n                    {\n                        touchstart: MouseEventNormalizer.muteMouse,\n                        touchend: MouseEventNormalizer.unMuteMouse\n                    },\n                    selector,\n                    {\n                        bustClick: bustClick\n                    });\n            }\n\n            if(arguments[0].indexOf(\"keydown\") !== -1 && args[1] && args[1].options){\n                args[0] = events;\n                var widget = args[1];\n                var keyDownCallBack = args[args.length - 1];\n                args[args.length - 1]= function(e){\n                    if(kendo.keyDownHandler(e, widget)){\n                       return keyDownCallBack.apply(this, [e]);\n                    }\n                };\n                on.apply(that, args);\n                return that;\n            }\n\n            if (typeof callback === STRING) {\n                context = that.data(\"handler\");\n                callback = context[callback];\n\n                args[args.length - 1] = function(e) {\n                    callback.call(context, e);\n                };\n            }\n\n            args[0] = events;\n\n            on.apply(that, args);\n\n            return that;\n        },\n\n        kendoDestroy: function(ns) {\n            ns = ns || this.data(\"kendoNS\");\n\n            if (ns) {\n                this.off(\".\" + ns);\n            }\n\n            return this;\n        }\n    });\n\n    kendo.jQuery = kendoJQuery;\n    kendo.eventMap = eventMap;\n\n    kendo.timezone = (function(){\n        var months =  { Jan: 0, Feb: 1, Mar: 2, Apr: 3, May: 4, Jun: 5, Jul: 6, Aug: 7, Sep: 8, Oct: 9, Nov: 10, Dec: 11 };\n        var days = { Sun: 0, Mon: 1, Tue: 2, Wed: 3, Thu: 4, Fri: 5, Sat: 6 };\n\n        function ruleToDate(year, rule) {\n            var date;\n            var targetDay;\n            var ourDay;\n            var month = rule[3];\n            var on = rule[4];\n            var time = rule[5];\n            var cache = rule[8];\n\n            if (!cache) {\n                rule[8] = cache = {};\n            }\n\n            if (cache[year]) {\n                return cache[year];\n            }\n\n            if (!isNaN(on)) {\n                date = new Date(Date.UTC(year, months[month], on, time[0], time[1], time[2], 0));\n            } else if (on.indexOf(\"last\") === 0) {\n                date = new Date(Date.UTC(year, months[month] + 1, 1, time[0] - 24, time[1], time[2], 0));\n\n                targetDay = days[on.substr(4, 3)];\n                ourDay = date.getUTCDay();\n\n                date.setUTCDate(date.getUTCDate() + targetDay - ourDay - (targetDay > ourDay ? 7 : 0));\n            } else if (on.indexOf(\">=\") >= 0) {\n                date = new Date(Date.UTC(year, months[month], on.substr(5), time[0], time[1], time[2], 0));\n\n                targetDay = days[on.substr(0, 3)];\n                ourDay = date.getUTCDay();\n\n                date.setUTCDate(date.getUTCDate() + targetDay - ourDay + (targetDay < ourDay ? 7 : 0));\n            } else if (on.indexOf(\"<=\") >= 0) {\n                date = new Date(Date.UTC(year, months[month], on.substr(5), time[0], time[1], time[2], 0));\n\n                targetDay = days[on.substr(0, 3)];\n                ourDay = date.getUTCDay();\n\n                date.setUTCDate(date.getUTCDate() + targetDay - ourDay - (targetDay > ourDay ? 7 : 0));\n            }\n\n            return cache[year] = date;\n        }\n\n        function findRule(utcTime, rules, zone) {\n            rules = rules[zone];\n\n            if (!rules) {\n                var time = zone.split(\":\");\n                var offset = 0;\n\n                if (time.length > 1) {\n                    offset = time[0] * 60 + Number(time[1]);\n                }\n\n                return [-1000000, 'max', '-', 'Jan', 1, [0, 0, 0], offset, '-'];\n            }\n\n            var year = new Date(utcTime).getUTCFullYear();\n\n            rules = jQuery.grep(rules, function(rule) {\n                var from = rule[0];\n                var to = rule[1];\n\n                return from <= year && (to >= year || (from == year && to == \"only\") || to == \"max\");\n            });\n\n            rules.push(utcTime);\n\n            rules.sort(function(a, b) {\n                if (typeof a != \"number\") {\n                    a = Number(ruleToDate(year, a));\n                }\n\n                if (typeof b != \"number\") {\n                    b = Number(ruleToDate(year, b));\n                }\n\n                return a - b;\n            });\n\n            var rule = rules[jQuery.inArray(utcTime, rules) - 1] || rules[rules.length - 1];\n\n            return isNaN(rule) ? rule : null;\n        }\n\n        function findZone(utcTime, zones, timezone) {\n            var zoneRules = zones[timezone];\n\n            if (typeof zoneRules === \"string\") {\n                zoneRules = zones[zoneRules];\n            }\n\n            if (!zoneRules) {\n                throw new Error('Timezone \"' + timezone + '\" is either incorrect, or kendo.timezones.min.js is not included.');\n            }\n\n            for (var idx = zoneRules.length - 1; idx >= 0; idx--) {\n                var until = zoneRules[idx][3];\n\n                if (until && utcTime > until) {\n                    break;\n                }\n            }\n\n            var zone = zoneRules[idx + 1];\n\n            if (!zone) {\n                throw new Error('Timezone \"' + timezone + '\" not found on ' + utcTime + \".\");\n            }\n\n            return zone;\n        }\n\n        function zoneAndRule(utcTime, zones, rules, timezone) {\n            if (typeof utcTime != NUMBER) {\n                utcTime = Date.UTC(utcTime.getFullYear(), utcTime.getMonth(),\n                    utcTime.getDate(), utcTime.getHours(), utcTime.getMinutes(),\n                    utcTime.getSeconds(), utcTime.getMilliseconds());\n            }\n\n            var zone = findZone(utcTime, zones, timezone);\n\n            return {\n                zone: zone,\n                rule: findRule(utcTime, rules, zone[1])\n            };\n        }\n\n        function offset(utcTime, timezone) {\n            if (timezone == \"Etc/UTC\" || timezone == \"Etc/GMT\") {\n                return 0;\n            }\n\n            var info = zoneAndRule(utcTime, this.zones, this.rules, timezone);\n            var zone = info.zone;\n            var rule = info.rule;\n\n            return kendo.parseFloat(rule? zone[0] - rule[6] : zone[0]);\n        }\n\n        function abbr(utcTime, timezone) {\n            var info = zoneAndRule(utcTime, this.zones, this.rules, timezone);\n            var zone = info.zone;\n            var rule = info.rule;\n\n            var base = zone[2];\n\n            if (base.indexOf(\"/\") >= 0) {\n                return base.split(\"/\")[rule && +rule[6] ? 1 : 0];\n            } else if (base.indexOf(\"%s\") >= 0) {\n                return base.replace(\"%s\", (!rule || rule[7] == \"-\") ? '' : rule[7]);\n            }\n\n            return base;\n        }\n\n        function convert(date, fromOffset, toOffset) {\n            var tempToOffset = toOffset;\n            var diff;\n\n            if (typeof fromOffset == STRING) {\n                fromOffset = this.offset(date, fromOffset);\n            }\n\n            if (typeof toOffset == STRING) {\n                toOffset = this.offset(date, toOffset);\n            }\n\n            var fromLocalOffset = date.getTimezoneOffset();\n\n            date = new Date(date.getTime() + (fromOffset - toOffset) * 60000);\n\n            var toLocalOffset = date.getTimezoneOffset();\n\n            if (typeof tempToOffset == STRING) {\n                tempToOffset = this.offset(date, tempToOffset);\n            }\n\n            diff = (toLocalOffset - fromLocalOffset) + (toOffset - tempToOffset);\n\n            return new Date(date.getTime() + diff * 60000);\n        }\n\n        function apply(date, timezone) {\n           return this.convert(date, date.getTimezoneOffset(), timezone);\n        }\n\n        function remove(date, timezone) {\n           return this.convert(date, timezone, date.getTimezoneOffset());\n        }\n\n        function toLocalDate(time) {\n            return this.apply(new Date(time), \"Etc/UTC\");\n        }\n\n        return {\n           zones: {},\n           rules: {},\n           offset: offset,\n           convert: convert,\n           apply: apply,\n           remove: remove,\n           abbr: abbr,\n           toLocalDate: toLocalDate\n        };\n    })();\n\n    kendo.date = (function(){\n        var MS_PER_MINUTE = 60000,\n            MS_PER_DAY = 86400000;\n\n        function adjustDST(date, hours) {\n            if (hours === 0 && date.getHours() === 23) {\n                date.setHours(date.getHours() + 2);\n                return true;\n            }\n\n            return false;\n        }\n\n        function setDayOfWeek(date, day, dir) {\n            var hours = date.getHours();\n\n            dir = dir || 1;\n            day = ((day - date.getDay()) + (7 * dir)) % 7;\n\n            date.setDate(date.getDate() + day);\n            adjustDST(date, hours);\n        }\n\n        function dayOfWeek(date, day, dir) {\n            date = new Date(date);\n            setDayOfWeek(date, day, dir);\n            return date;\n        }\n\n        function firstDayOfMonth(date) {\n            return new Date(\n                date.getFullYear(),\n                date.getMonth(),\n                1\n            );\n        }\n\n        function lastDayOfMonth(date) {\n            var last = new Date(date.getFullYear(), date.getMonth() + 1, 0),\n                first = firstDayOfMonth(date),\n                timeOffset = Math.abs(last.getTimezoneOffset() - first.getTimezoneOffset());\n\n            if (timeOffset) {\n                last.setHours(first.getHours() + (timeOffset / 60));\n            }\n\n            return last;\n        }\n\n        function firstDayOfYear(date) {\n            return new Date(date.getFullYear(), 0, 1);\n        }\n\n        function lastDayOfYear(date) {\n            return new Date(date.getFullYear(), 11, 31);\n        }\n\n        function moveDateToWeekStart(date, weekStartDay) {\n            if (weekStartDay !== 1) {\n                return addDays(dayOfWeek(date, weekStartDay, -1), 4);\n            }\n\n            return addDays(date, (4 - (date.getDay() || 7)));\n        }\n\n        function calcWeekInYear(date, weekStartDay) {\n            var firstWeekInYear = new Date(date.getFullYear(), 0, 1, -6);\n\n            var newDate = moveDateToWeekStart(date, weekStartDay);\n\n            var diffInMS = newDate.getTime() - firstWeekInYear.getTime();\n\n            var days = Math.floor(diffInMS / MS_PER_DAY);\n\n            return 1 + Math.floor(days / 7);\n        }\n\n        function weekInYear(date, weekStartDay) {\n            if(weekStartDay === undefined) {\n                weekStartDay = kendo.culture().calendar.firstDay;\n            }\n\n            var prevWeekDate = addDays(date, -7);\n            var nextWeekDate = addDays(date, 7);\n\n            var weekNumber = calcWeekInYear(date, weekStartDay);\n\n            if (weekNumber === 0) {\n                return calcWeekInYear(prevWeekDate, weekStartDay) + 1;\n            }\n\n            if (weekNumber === 53 && calcWeekInYear(nextWeekDate, weekStartDay) > 1) {\n                return 1;\n            }\n\n            return weekNumber;\n        }\n\n        function getDate(date) {\n            date = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\n            adjustDST(date, 0);\n            return date;\n        }\n\n        function toUtcTime(date) {\n            return Date.UTC(date.getFullYear(), date.getMonth(),\n                        date.getDate(), date.getHours(), date.getMinutes(),\n                        date.getSeconds(), date.getMilliseconds());\n        }\n\n        function getMilliseconds(date) {\n            return toInvariantTime(date).getTime() - getDate(toInvariantTime(date));\n        }\n\n        function isInTimeRange(value, min, max) {\n            var msMin = getMilliseconds(min),\n                msMax = getMilliseconds(max),\n                msValue;\n\n            if (!value || msMin == msMax) {\n                return true;\n            }\n\n            if (min >= max) {\n                max += MS_PER_DAY;\n            }\n\n            msValue = getMilliseconds(value);\n\n            if (msMin > msValue) {\n                msValue += MS_PER_DAY;\n            }\n\n            if (msMax < msMin) {\n                msMax += MS_PER_DAY;\n            }\n\n            return msValue >= msMin && msValue <= msMax;\n        }\n\n        function isInDateRange(value, min, max) {\n            var msMin = min.getTime(),\n                msMax = max.getTime(),\n                msValue;\n\n            if (msMin >= msMax) {\n                msMax += MS_PER_DAY;\n            }\n\n            msValue = value.getTime();\n\n            return msValue >= msMin && msValue <= msMax;\n        }\n\n        function addDays(date, offset) {\n            var hours = date.getHours();\n                date = new Date(date);\n\n            setTime(date, offset * MS_PER_DAY);\n            adjustDST(date, hours);\n            return date;\n        }\n\n        function setTime(date, milliseconds, ignoreDST) {\n            var offset = date.getTimezoneOffset();\n            var difference;\n\n            date.setTime(date.getTime() + milliseconds);\n\n            if (!ignoreDST) {\n                difference = date.getTimezoneOffset() - offset;\n                date.setTime(date.getTime() + difference * MS_PER_MINUTE);\n            }\n        }\n\n        function setHours(date, time) {\n            date = new Date(date.getFullYear(), date.getMonth(), date.getDate(), time.getHours(), time.getMinutes(), time.getSeconds(), time.getMilliseconds());\n            adjustDST(date, time.getHours());\n            return date;\n        }\n\n        function today() {\n            return getDate(new Date());\n        }\n\n        function isToday(date) {\n           return getDate(date).getTime() == today().getTime();\n        }\n\n        function toInvariantTime(date) {\n            var staticDate = new Date(1980, 1, 1, 0, 0, 0);\n\n            if (date) {\n                staticDate.setHours(date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds());\n            }\n\n            return staticDate;\n        }\n\n        function addYear(date, offset) {\n            var currentDate = new Date(date);\n\n            return new Date(currentDate.setFullYear(currentDate.getFullYear() + offset));\n        }\n\n        return {\n            adjustDST: adjustDST,\n            dayOfWeek: dayOfWeek,\n            setDayOfWeek: setDayOfWeek,\n            getDate: getDate,\n            isInDateRange: isInDateRange,\n            isInTimeRange: isInTimeRange,\n            isToday: isToday,\n            nextDay: function(date) {\n                return addDays(date, 1);\n            },\n            previousDay: function(date) {\n                return addDays(date, -1);\n            },\n            toUtcTime: toUtcTime,\n            MS_PER_DAY: MS_PER_DAY,\n            MS_PER_HOUR: 60 * MS_PER_MINUTE,\n            MS_PER_MINUTE: MS_PER_MINUTE,\n            setTime: setTime,\n            setHours: setHours,\n            addDays: addDays,\n            today: today,\n            toInvariantTime: toInvariantTime,\n            firstDayOfMonth: firstDayOfMonth,\n            lastDayOfMonth: lastDayOfMonth,\n            weekInYear: weekInYear,\n            getMilliseconds: getMilliseconds,\n            firstDayOfYear: firstDayOfYear,\n            lastDayOfYear: lastDayOfYear,\n            nextYear: function(date) {\n                return addYear(date, 1);\n            },\n            previousYear: function(date) {\n                return addYear(date, -1);\n            }\n        };\n    })();\n\n\n    kendo.stripWhitespace = function(element) {\n        if (document.createNodeIterator) {\n            var iterator = document.createNodeIterator(element, NodeFilter.SHOW_TEXT, function(node) {\n                    return node.parentNode == element ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_REJECT;\n                }, false);\n\n            while (iterator.nextNode()) {\n                if (iterator.referenceNode && !iterator.referenceNode.textContent.trim()) {\n                    iterator.referenceNode.parentNode.removeChild(iterator.referenceNode);\n                }\n            }\n        } else { // IE7/8 support\n            for (var i = 0; i < element.childNodes.length; i++) {\n                var child = element.childNodes[i];\n\n                if (child.nodeType == 3 && !/\\S/.test(child.nodeValue)) {\n                    element.removeChild(child);\n                    i--;\n                }\n\n                if (child.nodeType == 1) {\n                    kendo.stripWhitespace(child);\n                }\n            }\n        }\n    };\n\n    var animationFrame  = window.requestAnimationFrame       ||\n                          window.webkitRequestAnimationFrame ||\n                          window.mozRequestAnimationFrame    ||\n                          window.oRequestAnimationFrame      ||\n                          window.msRequestAnimationFrame     ||\n                          function(callback){ setTimeout(callback, 1000 / 60); };\n\n    kendo.animationFrame = function(callback) {\n        animationFrame.call(window, callback);\n    };\n\n    var animationQueue = [];\n\n    kendo.queueAnimation = function(callback) {\n        animationQueue[animationQueue.length] = callback;\n        if (animationQueue.length === 1) {\n            kendo.runNextAnimation();\n        }\n    };\n\n    kendo.runNextAnimation = function() {\n        kendo.animationFrame(function() {\n            if (animationQueue[0]) {\n                animationQueue.shift()();\n                if (animationQueue[0]) {\n                    kendo.runNextAnimation();\n                }\n            }\n        });\n    };\n\n    kendo.parseQueryStringParams = function(url) {\n        var queryString = url.split('?')[1] || \"\",\n            params = {},\n            paramParts = queryString.split(/&|=/),\n            length = paramParts.length,\n            idx = 0;\n\n        for (; idx < length; idx += 2) {\n            if(paramParts[idx] !== \"\") {\n                params[decodeURIComponent(paramParts[idx])] = decodeURIComponent(paramParts[idx + 1]);\n            }\n        }\n\n        return params;\n    };\n\n    kendo.elementUnderCursor = function(e) {\n        if (typeof e.x.client != \"undefined\") {\n            return document.elementFromPoint(e.x.client, e.y.client);\n        }\n    };\n\n    kendo.wheelDeltaY = function(jQueryEvent) {\n        var e = jQueryEvent.originalEvent,\n            deltaY = e.wheelDeltaY,\n            delta;\n\n            if (e.wheelDelta) { // Webkit and IE\n                if (deltaY === undefined || deltaY) { // IE does not have deltaY, thus always scroll (horizontal scrolling is treated as vertical)\n                    delta = e.wheelDelta;\n                }\n            } else if (e.detail && e.axis === e.VERTICAL_AXIS) { // Firefox and Opera\n                delta = (-e.detail) * 10;\n            }\n\n        return delta;\n    };\n\n    kendo.throttle = function(fn, delay) {\n        var timeout;\n        var lastExecTime = 0;\n\n        if (!delay || delay <= 0) {\n            return fn;\n        }\n\n        var throttled = function() {\n            var that = this;\n            var elapsed = +new Date() - lastExecTime;\n            var args = arguments;\n\n            function exec() {\n                fn.apply(that, args);\n                lastExecTime = +new Date();\n            }\n\n            // first execution\n            if (!lastExecTime) {\n                return exec();\n            }\n\n            if (timeout) {\n                clearTimeout(timeout);\n            }\n\n            if (elapsed > delay) {\n                exec();\n            } else {\n                timeout = setTimeout(exec, delay - elapsed);\n            }\n        };\n\n        throttled.cancel = function() {\n            clearTimeout(timeout);\n        };\n\n        return throttled;\n    };\n\n\n    kendo.caret = function (element, start, end) {\n        var rangeElement;\n        var isPosition = start !== undefined;\n\n        if (end === undefined) {\n            end = start;\n        }\n\n        if (element[0]) {\n            element = element[0];\n        }\n\n        if (isPosition && element.disabled) {\n            return;\n        }\n\n        try {\n            if (element.selectionStart !== undefined) {\n                if (isPosition) {\n                    element.focus();\n                    var mobile = support.mobileOS;\n                    if(mobile.wp || mobile.android) {// without the timeout the caret is at the end of the input\n                        setTimeout(function() { element.setSelectionRange(start, end); }, 0);\n                    }\n                    else {\n                        element.setSelectionRange(start, end);\n                    }\n                } else {\n                    start = [element.selectionStart, element.selectionEnd];\n                }\n            } else if (document.selection) {\n                if ($(element).is(\":visible\")) {\n                    element.focus();\n                }\n\n                rangeElement = element.createTextRange();\n\n                if (isPosition) {\n                    rangeElement.collapse(true);\n                    rangeElement.moveStart(\"character\", start);\n                    rangeElement.moveEnd(\"character\", end - start);\n                    rangeElement.select();\n                } else {\n                    var rangeDuplicated = rangeElement.duplicate(),\n                        selectionStart, selectionEnd;\n\n                        rangeElement.moveToBookmark(document.selection.createRange().getBookmark());\n                        rangeDuplicated.setEndPoint('EndToStart', rangeElement);\n                        selectionStart = rangeDuplicated.text.length;\n                        selectionEnd = selectionStart + rangeElement.text.length;\n\n                    start = [selectionStart, selectionEnd];\n                }\n            }\n        } catch(e) {\n            /* element is not focused or it is not in the DOM */\n            start = [];\n        }\n\n        return start;\n    };\n\n    kendo.compileMobileDirective = function(element, scope) {\n        var angular = window.angular;\n\n        element.attr(\"data-\" + kendo.ns + \"role\", element[0].tagName.toLowerCase().replace('kendo-mobile-', '').replace('-', ''));\n\n        angular.element(element).injector().invoke([\"$compile\", function($compile) {\n            $compile(element)(scope);\n\n            if (!/^\\$(digest|apply)$/.test(scope.$$phase)) {\n                scope.$digest();\n            }\n        }]);\n\n        return kendo.widgetInstance(element, kendo.mobile.ui);\n    };\n\n    kendo.antiForgeryTokens = function() {\n        var tokens = { },\n            csrf_token = $(\"meta[name=csrf-token],meta[name=_csrf]\").attr(\"content\"),\n            csrf_param = $(\"meta[name=csrf-param],meta[name=_csrf_header]\").attr(\"content\");\n\n        $(\"input[name^='__RequestVerificationToken']\").each(function() {\n            tokens[this.name] = this.value;\n        });\n\n        if (csrf_param !== undefined && csrf_token !== undefined) {\n          tokens[csrf_param] = csrf_token;\n        }\n\n        return tokens;\n    };\n\n    kendo.cycleForm = function(form) {\n        var firstElement = form.find(\"input, .k-widget, .k-dropdownlist, .k-combobox\").first();\n        var lastElement = form.find(\"button, .k-button\").last();\n\n        function focus(el) {\n            var widget = kendo.widgetInstance(el);\n\n            if (widget && widget.focus) {\n              widget.focus();\n            } else {\n              el.trigger(\"focus\");\n            }\n        }\n\n        lastElement.on(\"keydown\", function(e) {\n          if (e.keyCode == kendo.keys.TAB && !e.shiftKey) {\n            e.preventDefault();\n            focus(firstElement);\n          }\n        });\n\n        firstElement.on(\"keydown\", function(e) {\n          if (e.keyCode == kendo.keys.TAB && e.shiftKey) {\n            e.preventDefault();\n            focus(lastElement);\n          }\n        });\n    };\n\n    kendo.focusElement = function(element) {\n        var scrollTopPositions = [];\n        var scrollableParents = element.parentsUntil(\"body\")\n                .filter(function(index, element) {\n                    var computedStyle = kendo.getComputedStyles(element, [\"overflow\"]);\n                    return computedStyle.overflow !== \"visible\";\n                })\n                .add(window);\n\n        scrollableParents.each(function(index, parent) {\n            scrollTopPositions[index] = $(parent).scrollTop();\n        });\n\n        try {\n            //The setActive method does not cause the document to scroll to the active object in the current page\n            element[0].setActive();\n        } catch (e) {\n            element[0].focus();\n        }\n\n        scrollableParents.each(function(index, parent) {\n            $(parent).scrollTop(scrollTopPositions[index]);\n        });\n    };\n\n    kendo.focusNextElement = function () {\n        if (document.activeElement) {\n            var focussable = $(\":kendoFocusable\");\n            var index = focussable.index(document.activeElement);\n\n            if(index > -1) {\n               var nextElement = focussable[index + 1] || focussable[0];\n               nextElement.focus();\n            }\n        }\n    };\n\n    kendo.trim = function(value) {\n        if(!!value) {\n            return value.toString().trim();\n        } else {\n            return \"\";\n        }\n    };\n\n    kendo.getWidgetFocusableElement = function(element) {\n        var nextFocusable = element.closest(\":kendoFocusable\"),\n            widgetInstance = kendo.widgetInstance(element),\n            target;\n\n        if (nextFocusable.length) {\n            target = nextFocusable;\n        } else if (widgetInstance) {\n            target = widgetInstance.options.name === 'Editor' ?\n                $(widgetInstance.body) :\n                widgetInstance.wrapper.find(\":kendoFocusable\").first();\n        } else {\n            target = element;\n        }\n\n        return target;\n    };\n\n    kendo.addAttribute =  function(element, attribute, value) {\n        var current = element.attr(attribute) || \"\";\n\n        if (current.indexOf(value) < 0) {\n            element.attr(attribute, (current + \" \" + value).trim());\n        }\n    };\n\n    kendo.removeAttribute = function(element, attribute, value) {\n        var current = element.attr(attribute) || \"\";\n\n        element.attr(attribute, current.replace(value, \"\").trim());\n    };\n\n    kendo.toggleAttribute = function(element, attribute, value) {\n        var current = element.attr(attribute) || \"\";\n\n        if (current.indexOf(value) < 0) {\n            kendo.addAttribute(element, attribute, value);\n        } else {\n            kendo.removeAttribute(element, attribute, value);\n        }\n    };\n\n    kendo.matchesMedia = function(mediaQuery) {\n        var media = kendo._bootstrapToMedia(mediaQuery) || mediaQuery;\n        return support.matchMedia && window.matchMedia(media).matches;\n    };\n\n    kendo._bootstrapToMedia = function(bootstrapMedia) {\n        return {\n            \"xs\": \"(max-width: 576px)\",\n            \"sm\": \"(min-width: 576px)\",\n            \"md\": \"(min-width: 768px)\",\n            \"lg\": \"(min-width: 992px)\",\n            \"xl\": \"(min-width: 1200px)\"\n        }[bootstrapMedia];\n    };\n\n    kendo.fileGroupMap = {\n        audio: [\".aif\", \".iff\", \".m3u\", \".m4a\", \".mid\", \".mp3\", \".mpa\", \".wav\", \".wma\", \".ogg\", \".wav\", \".wma\", \".wpl\"],\n        video: [\".3g2\", \".3gp\", \".avi\", \".asf\", \".flv\", \".m4u\", \".rm\", \".h264\", \".m4v\", \".mkv\", \".mov\", \".mp4\", \".mpg\",\n                \".rm\", \".swf\", \".vob\", \".wmv\"],\n        image: [\".ai\", \".dds\", \".heic\", \".jpe\", \"jfif\", \".jif\", \".jp2\", \".jps\", \".eps\", \".bmp\", \".gif\", \".jpeg\",\n                \".jpg\", \".png\", \".ps\", \".psd\", \".svg\", \".svgz\", \".tif\", \".tiff\"],\n        txt: [\".doc\", \".docx\", \".log\", \".pages\", \".tex\", \".wpd\", \".wps\", \".odt\", \".rtf\", \".text\", \".txt\", \".wks\"],\n        presentation: [\".key\", \".odp\", \".pps\", \".ppt\", \".pptx\"],\n        data: [\".xlr\", \".xls\", \".xlsx\"],\n        programming: [\".tmp\", \".bak\", \".msi\", \".cab\", \".cpl\", \".cur\", \".dll\", \".dmp\", \".drv\", \".icns\", \".ico\", \".link\",\n                      \".sys\", \".cfg\", \".ini\", \".asp\", \".aspx\", \".cer\", \".csr\", \".css\", \".dcr\", \".htm\", \".html\", \".js\",\n                      \".php\", \".rss\", \".xhtml\"],\n        pdf: [\".pdf\"],\n        config: [\".apk\", \".app\", \".bat\", \".cgi\", \".com\", \".exe\", \".gadget\", \".jar\", \".wsf\"],\n        zip: [\".7z\", \".cbr\", \".gz\", \".sitx\", \".arj\", \".deb\", \".pkg\", \".rar\", \".rpm\", \".tar.gz\", \".z\", \".zip\", \".zipx\"],\n        \"disc-image\": [\".dmg\", \".iso\", \".toast\", \".vcd\", \".bin\", \".cue\", \".mdf\"]\n    };\n\n    kendo.getFileGroup = function(extension, withPrefix) {\n        var fileTypeMap = kendo.fileGroupMap;\n        var groups = Object.keys(fileTypeMap);\n        var type = \"file\";\n\n        if (extension === undefined || !extension.length) {\n            return type;\n        }\n\n        for (var i = 0; i < groups.length; i += 1) {\n            var extensions = fileTypeMap[groups[i]];\n\n            if (extensions.indexOf(extension.toLowerCase()) > -1) {\n               return withPrefix ? \"file-\" + groups[i] : groups[i];\n            }\n        }\n\n        return type;\n    };\n\n    kendo.getFileSizeMessage = function(size) {\n        var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n\n        if (size === 0) {\n            return '0 Byte';\n        }\n\n        var i = parseInt(Math.floor(Math.log(size) / Math.log(1024)), 10);\n        return Math.round(size / Math.pow(1024, i), 2) + ' ' + sizes[i];\n    };\n\n    kendo.selectorFromClasses = function(classes) {\n        return \".\"+classes.split(\" \").join(\".\");\n    };\n\n    // Standardized Properties and CSS classes\n\n    var themeColorValues = ['base', 'primary', 'secondary', 'tertiary', 'inherit', 'info', 'success', 'warning', 'error', 'dark', 'light', 'inverse'];\n    var fillValues = ['solid', 'outline', 'flat'];\n    //var postitionValues = ['edge', 'outside', 'inside'];\n    var shapeValues = ['rectangle', 'square'];\n    var sizeValues = [ ['small', 'sm'], ['medium', 'md'], ['large', 'lg'] ];\n    var roundedValues = [ ['small', 'sm'], ['medium', 'md'], ['large', 'lg'] ];\n    //var alignValues = [ ['top start', 'top-start'], ['top end', 'top-end'], ['bottom start', 'bottom-start'], ['bottom end', 'bottom-end'] ];\n    var positionModeValues = [ 'fixed', 'static', 'sticky', 'absolute' ];\n    var resizeValues = [ 'both', 'horizontal', 'vertical' ];\n    var overflowValues = [ 'auto', 'hidden', 'visible', 'scroll', 'clip' ];\n\n    kendo.cssProperties = (function() {\n        var defaultValues = {},\n            propertyDictionary = {};\n\n        function registerPrefix(widget, prefix) {\n            var dict = kendo.cssProperties.propertyDictionary;\n\n            if (!dict[widget]) {\n                dict[widget] = {};\n            }\n\n            dict[widget][PREFIX] = prefix;\n        }\n\n        function registerValues(widget, args) {\n            var dict = kendo.cssProperties.propertyDictionary,\n                i, j, prop, values, newValues, currentValue;\n\n            for (i = 0; i < args.length; i++) {\n                prop = args[i].prop;\n                newValues = args[i].values;\n\n                if(!dict[widget][prop]) {\n                    dict[widget][prop] = {};\n                }\n\n                values = dict[widget][prop];\n\n                for (j = 0; j < newValues.length; j++) {\n                    currentValue = newValues[j];\n\n                    if (isArray(newValues[j])) {\n                        values[currentValue[0]] = currentValue[1];\n                    } else {\n                        values[currentValue] = currentValue;\n                    }\n                }\n            }\n        }\n\n        function registerCssClass(propName, value, shorthand) {\n            if (!defaultValues[propName]) {\n                defaultValues[propName] = {};\n            }\n\n            defaultValues[propName][value] = shorthand || value;\n        }\n\n        function registerCssClasses(propName, arr) {\n            for (var i = 0; i < arr.length; i++) {\n                if (isArray(arr[i])) {\n                    registerCssClass(propName, arr[i][0], arr[i][1]);\n                } else {\n                    registerCssClass(propName, arr[i]);\n                }\n            }\n        }\n\n        function getValidClass(args) {\n            var widget = args.widget,\n                propName = args.propName,\n                value = args.value,\n                fill = args.fill,\n                cssProperties = kendo.cssProperties,\n                defaultValues = cssProperties.defaultValues[propName],\n                widgetProperties = cssProperties.propertyDictionary[widget],\n                widgetValues, validValue, prefix;\n\n            if(!widgetProperties) {\n                return \"\";\n            }\n\n            widgetValues = widgetProperties[propName];\n            validValue = widgetValues ? widgetValues[value] || defaultValues[value] : defaultValues[value];\n\n            if (validValue) {\n                if (propName === \"themeColor\") {\n                    prefix = widgetProperties[PREFIX] + fill + \"-\";\n                } else if (propName === \"positionMode\") {\n                    prefix = \"k-pos-\";\n                } else if (propName === \"rounded\") {\n                    prefix = \"k-rounded-\";\n                } else if (propName === \"resize\") {\n                    prefix = \"k-resize-\";\n                } else if (propName === \"overflow\") {\n                    prefix = \"k-overflow-\";\n                } else {\n                    prefix = widgetProperties[PREFIX];\n                }\n\n                return prefix + validValue;\n            } else {\n                return \"\";\n            }\n        }\n\n        registerCssClasses(\"themeColor\", themeColorValues);\n        registerCssClasses(\"fillMode\", fillValues);\n        registerCssClasses(\"shape\", shapeValues);\n        registerCssClasses(\"size\", sizeValues);\n        registerCssClasses(\"positionMode\", positionModeValues);\n        registerCssClasses(\"rounded\", roundedValues);\n        registerCssClasses(\"resize\", resizeValues);\n        registerCssClasses(\"overflow\", overflowValues);\n\n        return {\n            positionModeValues: positionModeValues,\n            roundedValues: roundedValues,\n            sizeValues: sizeValues,\n            shapeValues: shapeValues,\n            fillModeValues: fillValues,\n            themeColorValues: themeColorValues,\n\n            defaultValues: defaultValues,\n            propertyDictionary: propertyDictionary,\n\n            registerValues: registerValues,\n            getValidClass: getValidClass,\n            registerPrefix: registerPrefix\n        };\n    }());\n\n    //To do: delete below after implementing new styles and classes for BottomNavigation\n    kendo.registerCssClass = function (propName, value, shorthand) {\n        if (!kendo.propertyToCssClassMap[propName]) {\n            kendo.propertyToCssClassMap[propName] = {};\n        }\n\n        kendo.propertyToCssClassMap[propName][value] = shorthand || value;\n    };\n\n    kendo.registerCssClasses = function (propName, arr) {\n        for (var i = 0; i < arr.length; i++) {\n            if (isArray(arr[i])) {\n                kendo.registerCssClass(propName, arr[i][0], arr[i][1]);\n            } else {\n                kendo.registerCssClass(propName, arr[i]);\n            }\n        }\n    };\n\n    kendo.getValidCssClass = function (prefix, propName, value) {\n        var validValue = kendo.propertyToCssClassMap[propName][value];\n\n        if (validValue) {\n            return prefix + validValue;\n        }\n    };\n\n    kendo.propertyToCssClassMap = {};\n\n    kendo.registerCssClasses(\"themeColor\", themeColorValues);\n    kendo.registerCssClasses(\"fill\", fillValues);\n    //kendo.registerCssClasses(\"postition\", postitionValues);\n    kendo.registerCssClasses(\"shape\", shapeValues);\n    kendo.registerCssClasses(\"size\", sizeValues);\n    //kendo.registerCssClasses(\"align\", alignValues);\n    kendo.registerCssClasses(\"positionMode\", positionModeValues);\n\n    // jQuery deferred helpers\n\n    // influenced from: https://gist.github.com/fearphage/4341799\n    kendo.whenAll = function(array) {\n        var resolveValues = arguments.length == 1 && Array.isArray(array) ? array : Array.prototype.slice.call(arguments),\n            length = resolveValues.length,\n            remaining = length,\n            deferred = $.Deferred(),\n            i = 0,\n            failed = 0,\n            rejectContexts = Array(length),\n            rejectValues = Array(length),\n            resolveContexts = Array(length),\n            value;\n\n        function updateFunc (index, contexts, values) {\n            return function() {\n                if(values != resolveValues) {\n                    failed++;\n                }\n\n                deferred.notifyWith(\n                    contexts[index] = this,\n                    values[index] = Array.prototype.slice.call(arguments)\n                );\n\n                if (!(--remaining)) {\n                    deferred[(!failed ? 'resolve' : 'reject') + 'With'](contexts, values);\n                }\n            };\n        }\n\n        for (; i < length; i++) {\n            if ((value = resolveValues[i]) && kendo.isFunction(value.promise)) {\n                value.promise()\n                    .done(updateFunc(i, resolveContexts, resolveValues))\n                    .fail(updateFunc(i, rejectContexts, rejectValues));\n            }\n\n            else {\n                deferred.notifyWith(this, value);\n                --remaining;\n            }\n        }\n\n        if (!remaining) {\n            deferred.resolveWith(resolveContexts, resolveValues);\n        }\n\n        return deferred.promise();\n    };\n\n    // kendo.saveAs -----------------------------------------------\n    (function() {\n        function postToProxy(dataURI, fileName, proxyURL, proxyTarget) {\n            var form = $(\"<form>\").attr({\n                action: proxyURL,\n                method: \"POST\",\n                target: proxyTarget\n            });\n\n            var data = kendo.antiForgeryTokens();\n            data.fileName = fileName;\n\n            var parts = dataURI.split(\";base64,\");\n            data.contentType = parts[0].replace(\"data:\", \"\");\n            data.base64 = parts[1];\n\n            for (var name in data) {\n                if (data.hasOwnProperty(name)) {\n                    $('<input>').attr({\n                        value: data[name],\n                        name: name,\n                        type: \"hidden\"\n                    }).appendTo(form);\n                }\n            }\n\n            form.appendTo(\"body\").submit().remove();\n        }\n\n        var fileSaver = document.createElement(\"a\");\n        var downloadAttribute = \"download\" in fileSaver && !kendo.support.browser.edge;\n\n        function saveAsBlob(dataURI, fileName) {\n            var blob = dataURI; // could be a Blob object\n\n            if (typeof dataURI == \"string\") {\n                var parts = dataURI.split(\";base64,\");\n                var contentType = parts[0];\n                var base64 = atob(parts[1]);\n                var array = new Uint8Array(base64.length);\n\n                for (var idx = 0; idx < base64.length; idx++) {\n                    array[idx] = base64.charCodeAt(idx);\n                }\n                blob = new Blob([array.buffer], { type: contentType });\n            }\n\n            navigator.msSaveBlob(blob, fileName);\n        }\n\n        function saveAsDataURI(dataURI, fileName) {\n            if (window.Blob && dataURI instanceof Blob) {\n                dataURI = URL.createObjectURL(dataURI);\n            }\n\n            fileSaver.download = fileName;\n            fileSaver.href = dataURI;\n\n            var e = document.createEvent(\"MouseEvents\");\n            e.initMouseEvent(\"click\", true, false, window,\n                0, 0, 0, 0, 0, false, false, false, false, 0, null);\n\n            fileSaver.dispatchEvent(e);\n            setTimeout(function(){\n                URL.revokeObjectURL(dataURI);\n            });\n        }\n\n        kendo.saveAs = function(options) {\n            var save = postToProxy;\n\n            if (!options.forceProxy) {\n                if (downloadAttribute) {\n                    save = saveAsDataURI;\n                } else if (navigator.msSaveBlob) {\n                    save = saveAsBlob;\n                }\n            }\n\n            save(options.dataURI, options.fileName, options.proxyURL, options.proxyTarget);\n        };\n    })();\n\n    // kendo proxySetters\n    kendo.proxyModelSetters = function proxyModelSetters(data) {\n        var observable = {};\n\n        Object.keys(data || {}).forEach(function(property) {\n          Object.defineProperty(observable, property, {\n            get: function() {\n              return data[property];\n            },\n            set: function(value) {\n              data[property] = value;\n              data.dirty = true;\n            }\n          });\n        });\n\n        return observable;\n    };\n\n    kendo.getSeriesColors = function() {\n        var seriesColorsTemplate = '<div class=\"k-var--series-a\"></div>' +\n                '<div class=\"k-var--series-b\"></div>' +\n                '<div class=\"k-var--series-c\"></div>' +\n                '<div class=\"k-var--series-d\"></div>' +\n                '<div class=\"k-var--series-e\"></div>' +\n                '<div class=\"k-var--series-f\"></div>',\n            series = $(seriesColorsTemplate),\n            colors = [];\n\n        series.appendTo($('body'));\n\n        series.each(function(i, item) {\n            colors.push($(item).css(\"background-color\"));\n        });\n\n        series.remove();\n\n        return colors;\n    };\n\n    kendo.isElement = function(element) {\n        return element instanceof Element || element instanceof HTMLDocument; // jshint ignore:line\n    };\n\n    // Kendo defaults\n    (function() {\n\n        kendo.defaults = kendo.defaults || {};\n        kendo.setDefaults = function(key, value) {\n            var path = key.split(\".\");\n            var curr = kendo.defaults;\n\n            key = path.pop();\n\n            path.forEach(function(part) {\n                if (curr[part] === undefined) {\n                    curr[part] = {};\n                }\n\n                curr = curr[part];\n            });\n\n            if (value.constructor === Object) {\n                curr[key] = deepExtend({}, curr[key], value);\n            } else {\n                curr[key] = value;\n            }\n        };\n\n    })();\n\n    // Implement type() as it has been depricated in jQuery\n    (function() {\n        kendo.class2type = {};\n\n        jQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\n            function( _i, name ) {\n                kendo.class2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n            } );\n\n        kendo.type = function(obj) {\n            if ( obj == null ) {\n                return obj + \"\";\n            }\n\n            // Support: Android <=2.3 only (functionish RegExp)\n            return typeof obj === \"object\" || typeof obj === \"function\" ?\n                kendo.class2type[Object.prototype.toString.call(obj)] || \"object\" :\n                typeof obj;\n        };\n    }());\n\n    var KendoLicensing={validatePackage:function(){},setScriptKey:function(){}};\n\n    window.KendoLicensing = {\n        setScriptKey: KendoLicensing.setScriptKey\n    };\n\n    function validatePackage() {\n        KendoLicensing.validatePackage(packageMetadata);\n    }\n\n})(jQuery, window);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.router',[ \"kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"router\",\n    name: \"Router\",\n    category: \"framework\",\n    description: \"The Router class is responsible for tracking the application state and navigating between the application states.\",\n    depends: [ \"core\" ],\n    hidden: false\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        CHANGE = \"change\",\n        BACK = \"back\",\n        SAME = \"same\",\n        support = kendo.support,\n        location = window.location,\n        history = window.history,\n        CHECK_URL_INTERVAL = 50,\n        BROKEN_BACK_NAV = kendo.support.browser.msie,\n        hashStrip = /^#*/,\n        document = window.document;\n\n    function absoluteURL(path, pathPrefix) {\n        if (!pathPrefix) {\n            return path;\n        }\n\n        if (path + \"/\" === pathPrefix) {\n            path = pathPrefix;\n        }\n\n        var regEx = new RegExp(\"^\" + pathPrefix, \"i\");\n\n        if (!regEx.test(path)) {\n            path = pathPrefix + \"/\" + path;\n        }\n\n        return location.protocol + '//' + (location.host + \"/\" + path).replace(/\\/\\/+/g, '/');\n    }\n\n    function hashDelimiter(bang) {\n        return bang ? \"#!\" : \"#\";\n    }\n\n    function locationHash(hashDelimiter) {\n        var href = location.href;\n\n        // ignore normal anchors if in hashbang mode - however, still return \"\" if no hash present\n        if (hashDelimiter === \"#!\" && href.indexOf(\"#\") > -1 && href.indexOf(\"#!\") < 0) {\n            return null;\n        }\n\n        return href.split(hashDelimiter)[1] || \"\";\n    }\n\n    function stripRoot(root, url) {\n        if (url.indexOf(root) === 0) {\n            return (url.substr(root.length)).replace(/\\/\\//g, '/');\n        } else {\n            return url;\n        }\n    }\n\n    var HistoryAdapter = kendo.Class.extend({\n        back: function() {\n            if (BROKEN_BACK_NAV) {\n                setTimeout(function() { history.back(); });\n            } else {\n                history.back();\n            }\n        },\n\n        forward: function() {\n            if (BROKEN_BACK_NAV) {\n                setTimeout(function() { history.forward(); });\n            } else {\n                history.forward();\n            }\n        },\n\n        length: function() {\n            return history.length;\n        },\n\n        replaceLocation: function(url) {\n            location.replace(url);\n        }\n    });\n\n    var PushStateAdapter = HistoryAdapter.extend({\n        init: function(root) {\n            this.root = root;\n        },\n\n        navigate: function(to) {\n            history.pushState({}, document.title, absoluteURL(to, this.root));\n        },\n\n        replace: function(to) {\n            history.replaceState({}, document.title, absoluteURL(to, this.root));\n        },\n\n        normalize: function(url) {\n            return stripRoot(this.root, url);\n        },\n\n        current: function() {\n            var current = location.pathname;\n\n            if (location.search) {\n                current += location.search;\n            }\n\n            return stripRoot(this.root, current);\n        },\n\n        change: function(callback) {\n            $(window).bind(\"popstate.kendo\", callback);\n        },\n\n        stop: function() {\n            $(window).unbind(\"popstate.kendo\");\n        },\n\n        normalizeCurrent: function(options) {\n            var fixedUrl,\n                root = options.root,\n                pathname = location.pathname,\n                hash = locationHash(hashDelimiter(options.hashBang));\n\n            if (root === pathname + \"/\") {\n                fixedUrl = root;\n            }\n\n            if (root === pathname && hash) {\n                fixedUrl = absoluteURL(hash.replace(hashStrip, ''), root);\n            }\n\n            if (fixedUrl) {\n                history.pushState({}, document.title, fixedUrl);\n            }\n        }\n    });\n\n    function fixHash(url) {\n        return url.replace(/^(#)?/, \"#\");\n    }\n\n    function fixBang(url) {\n        return url.replace(/^(#(!)?)?/, \"#!\");\n    }\n\n    var HashAdapter = HistoryAdapter.extend({\n        init: function(bang) {\n            this._id = kendo.guid();\n            this.prefix = hashDelimiter(bang);\n            this.fix = bang ? fixBang : fixHash;\n        },\n\n        navigate: function(to) {\n            location.hash = this.fix(to);\n        },\n\n        replace: function(to) {\n            this.replaceLocation(this.fix(to));\n        },\n\n        normalize: function(url) {\n            if (url.indexOf(this.prefix) < 0) {\n               return url;\n            } else {\n                return url.split(this.prefix)[1];\n            }\n        },\n\n        change: function(callback) {\n            if (support.hashChange) {\n                $(window).on(\"hashchange.\" + this._id, callback);\n            } else {\n                this._interval = setInterval(callback, CHECK_URL_INTERVAL);\n            }\n        },\n\n        stop: function() {\n            $(window).off(\"hashchange.\" + this._id);\n            clearInterval(this._interval);\n        },\n\n        current: function() {\n            return locationHash(this.prefix);\n        },\n\n        normalizeCurrent: function(options) {\n            var pathname = location.pathname,\n                root = options.root;\n\n            if (options.pushState && root !== pathname) {\n                this.replaceLocation(root + this.prefix + stripRoot(root, pathname));\n                return true; // browser will reload at this point.\n            }\n\n            return false;\n        }\n    });\n\n    var History = kendo.Observable.extend({\n        start: function(options) {\n            options = options || {};\n\n            this.bind([CHANGE, BACK, SAME], options);\n\n            if (this._started) {\n                return;\n            }\n\n            this._started = true;\n\n            options.root = options.root || \"/\";\n\n            var adapter = this.createAdapter(options),\n                current;\n\n            // adapter may reload the document\n            if (adapter.normalizeCurrent(options)) {\n                return;\n            }\n\n            current = adapter.current();\n\n            $.extend(this, {\n                adapter: adapter,\n                root: options.root,\n                historyLength: adapter.length(),\n                current: current,\n                locations: [current]\n            });\n\n            adapter.change(this._checkUrl.bind(this));\n        },\n\n        createAdapter:function(options) {\n           return support.pushState && options.pushState ? new PushStateAdapter(options.root) : new HashAdapter(options.hashBang);\n        },\n\n        stop: function() {\n            if (!this._started) {\n                return;\n            }\n            this.adapter.stop();\n            this.unbind(CHANGE);\n            this._started = false;\n        },\n\n        change: function(callback) {\n            this.bind(CHANGE, callback);\n        },\n\n        replace: function(to, silent) {\n\n            this._navigate(to, silent, function(adapter) {\n                adapter.replace(to);\n                this.locations[this.locations.length - 1] = this.current;\n            });\n        },\n\n        navigate: function(to, silent) {\n            if (to === \"#:back\") {\n                this.backCalled = true;\n                this.adapter.back();\n                return;\n            }\n\n            this._navigate(to, silent, function(adapter) {\n                adapter.navigate(to);\n                this.locations.push(this.current);\n            });\n        },\n\n        _navigate: function(to, silent, callback) {\n            var adapter = this.adapter;\n\n            to = adapter.normalize(to);\n\n            if (this.current === to || this.current === decodeURIComponent(to)) {\n                this.trigger(SAME);\n                return;\n            }\n\n            if (!silent) {\n                if (this.trigger(CHANGE, { url: to, decode: false })) {\n                    return;\n                }\n            }\n\n            this.current = to;\n\n            callback.call(this, adapter);\n\n            this.historyLength = adapter.length();\n        },\n\n        _checkUrl: function() {\n            var adapter = this.adapter,\n                current = adapter.current(),\n                newLength = adapter.length(),\n                navigatingInExisting = this.historyLength === newLength,\n                back = current === this.locations[this.locations.length - 2] && navigatingInExisting,\n                backCalled = this.backCalled,\n                prev = this.current;\n\n            if (current === null || this.current === current || this.current === decodeURIComponent(current)) {\n                return true;\n            }\n\n            this.historyLength = newLength;\n            this.backCalled = false;\n\n            this.current = current;\n\n            if (back && this.trigger(\"back\", { url: prev, to: current })) {\n                adapter.forward();\n                this.current = prev;\n                return;\n            }\n\n            if (this.trigger(CHANGE, { url: current, backButtonPressed: !backCalled })) {\n                if (back) {\n                    adapter.forward();\n                } else {\n                    adapter.back();\n                    this.historyLength --;\n                }\n                this.current = prev;\n                return;\n            }\n\n            if (back) {\n                this.locations.pop();\n            } else {\n                this.locations.push(current);\n            }\n        }\n    });\n\n    kendo.History = History;\n    kendo.History.HistoryAdapter = HistoryAdapter;\n    kendo.History.HashAdapter = HashAdapter;\n    kendo.History.PushStateAdapter = PushStateAdapter;\n    kendo.absoluteURL = absoluteURL;\n    kendo.history = new History();\n})(window.kendo.jQuery);\n\n(function() {\n    var kendo = window.kendo,\n        history = kendo.history,\n        Observable = kendo.Observable,\n        INIT = \"init\",\n        ROUTE_MISSING = \"routeMissing\",\n        CHANGE = \"change\",\n        BACK = \"back\",\n        SAME = \"same\",\n        optionalParam = /\\((.*?)\\)/g,\n        namedParam = /(\\(\\?)?:\\w+/g,\n        splatParam = /\\*\\w+/g,\n        escapeRegExp = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\n\n    function namedParamReplace(match, optional) {\n        return optional ? match : '([^\\/]+)';\n    }\n\n    function routeToRegExp(route, ignoreCase) {\n        return new RegExp('^' + route\n            .replace(escapeRegExp, '\\\\$&')\n            .replace(optionalParam, '(?:$1)?')\n            .replace(namedParam, namedParamReplace)\n            .replace(splatParam, '(.*?)') + '$', ignoreCase ? \"i\" : \"\");\n    }\n\n    function stripUrl(url) {\n        return url.replace(/(\\?.*)|(#.*)/g, \"\");\n    }\n\n    var Route = kendo.Class.extend({\n        init: function(route, callback, ignoreCase) {\n            if (!(route instanceof RegExp)) {\n                route = routeToRegExp(route, ignoreCase);\n            }\n\n            this.route = route;\n            this._callback = callback;\n        },\n\n        callback: function(url, back, decode) {\n            var params,\n                idx = 0,\n                length,\n                queryStringParams = kendo.parseQueryStringParams(url);\n                queryStringParams._back = back;\n\n            url = stripUrl(url);\n            params = this.route.exec(url).slice(1);\n            length = params.length;\n\n            if (decode) {\n                for (; idx < length; idx ++) {\n                    if (typeof params[idx] !== 'undefined') {\n                        params[idx] = decodeURIComponent(params[idx]);\n                    }\n                }\n            }\n\n            params.push(queryStringParams);\n\n            this._callback.apply(null, params);\n        },\n\n        worksWith: function(url, back, decode) {\n            if (this.route.test(stripUrl(url))) {\n                this.callback(url, back, decode);\n                return true;\n            } else {\n                return false;\n            }\n        }\n    });\n\n    var Router = Observable.extend({\n        init: function(options) {\n            if (!options) {\n                options = {};\n            }\n\n            Observable.fn.init.call(this);\n\n            this.routes = [];\n            this.pushState = options.pushState;\n            this.hashBang = options.hashBang;\n            this.root = options.root;\n            this.ignoreCase = options.ignoreCase !== false;\n\n            this.bind([INIT, ROUTE_MISSING, CHANGE, SAME, BACK], options);\n        },\n\n        destroy: function() {\n            history.unbind(CHANGE, this._urlChangedProxy);\n            history.unbind(SAME, this._sameProxy);\n            history.unbind(BACK, this._backProxy);\n            this.unbind();\n        },\n\n        start: function() {\n            var that = this,\n                sameProxy = function() { that._same(); },\n                backProxy = function(e) { that._back(e); },\n                urlChangedProxy = function(e) { that._urlChanged(e); };\n\n            history.start({\n                same: sameProxy,\n                change: urlChangedProxy,\n                back: backProxy,\n                pushState: that.pushState,\n                hashBang: that.hashBang,\n                root: that.root\n            });\n\n            var initEventObject = { url: history.current || \"/\", preventDefault: $.noop };\n\n            if (!that.trigger(INIT, initEventObject)) {\n                that._urlChanged(initEventObject);\n            }\n\n            this._urlChangedProxy = urlChangedProxy;\n            this._backProxy = backProxy;\n        },\n\n        route: function(route, callback) {\n            this.routes.push(new Route(route, callback, this.ignoreCase));\n        },\n\n        navigate: function(url, silent) {\n            kendo.history.navigate(url, silent);\n        },\n\n        replace: function(url, silent) {\n            kendo.history.replace(url, silent);\n        },\n\n        _back: function(e) {\n            if (this.trigger(BACK, { url: e.url, to: e.to })) {\n                e.preventDefault();\n            }\n        },\n\n        _same: function() {\n            this.trigger(SAME);\n        },\n\n        _urlChanged: function(e) {\n            var url = e.url;\n            var decode = !!e.decode;\n            var back = e.backButtonPressed;\n\n            if (!url) {\n                url = \"/\";\n            }\n\n            if (this.trigger(CHANGE, { url: e.url, params: kendo.parseQueryStringParams(e.url), backButtonPressed: back })) {\n                e.preventDefault();\n                return;\n            }\n\n            var idx = 0,\n                routes = this.routes,\n                route,\n                length = routes.length;\n\n            for (; idx < length; idx ++) {\n                 route = routes[idx];\n\n                 if (route.worksWith(url, back, decode)) {\n                    return;\n                 }\n            }\n\n            if (this.trigger(ROUTE_MISSING, { url: url, params: kendo.parseQueryStringParams(url), backButtonPressed: back })) {\n                e.preventDefault();\n            }\n        }\n    });\n\n    kendo.Router = Router;\n})();\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.userevents',[ \"kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"userevents\",\n    name: \"User Events\",\n    category: \"framework\",\n    depends: [ \"core\" ],\n    hidden: true\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        support = kendo.support,\n        Class = kendo.Class,\n        Observable = kendo.Observable,\n        now = Date.now,\n        extend = $.extend,\n        OS = support.mobileOS,\n        invalidZeroEvents = OS && OS.android,\n        DEFAULT_MIN_HOLD = 800,\n        CLICK_DELAY = 300,\n        DEFAULT_THRESHOLD = support.browser.msie ? 5 : 0, // WP8 and W8 are very sensitive and always report move.\n\n        // UserEvents events\n        PRESS = \"press\",\n        HOLD = \"hold\",\n        SELECT = \"select\",\n        START = \"start\",\n        MOVE = \"move\",\n        END = \"end\",\n        CANCEL = \"cancel\",\n        TAP = \"tap\",\n        DOUBLETAP = \"doubleTap\",\n        RELEASE = \"release\",\n        GESTURESTART = \"gesturestart\",\n        GESTURECHANGE = \"gesturechange\",\n        GESTUREEND = \"gestureend\",\n        GESTURETAP = \"gesturetap\";\n\n    var THRESHOLD = {\n        \"api\": 0,\n        \"touch\": 0,\n        \"mouse\": 9,\n        \"pointer\": 9\n    };\n\n    var ENABLE_GLOBAL_SURFACE = (!support.touch || support.mouseAndTouchPresent);\n\n    function touchDelta(touch1, touch2) {\n        var x1 = touch1.x.location,\n            y1 = touch1.y.location,\n            x2 = touch2.x.location,\n            y2 = touch2.y.location,\n            dx = x1 - x2,\n            dy = y1 - y2;\n\n        return {\n            center: {\n               x: (x1 + x2) / 2,\n               y: (y1 + y2) / 2\n            },\n\n            distance: Math.sqrt(dx*dx + dy*dy)\n        };\n    }\n\n    function getTouches(e) {\n        var touches = [],\n            originalEvent = e.originalEvent,\n            currentTarget = e.currentTarget,\n            idx = 0, length,\n            changedTouches,\n            touch;\n\n        if (e.api) {\n            touches.push({\n                id: 2,  // hardcoded ID for API call;\n                event: e,\n                target: e.target,\n                currentTarget: e.target,\n                location: e,\n                type: \"api\"\n            });\n        }\n        else if (e.type.match(/touch/)) {\n            changedTouches = originalEvent ? originalEvent.changedTouches : [];\n            for (length = changedTouches.length; idx < length; idx ++) {\n                touch = changedTouches[idx];\n                touches.push({\n                    location: touch,\n                    event: e,\n                    target: touch.target,\n                    currentTarget: currentTarget,\n                    id: touch.identifier,\n                    type: \"touch\"\n                });\n            }\n        }\n        else if (support.pointers || support.msPointers) {\n            touches.push({\n                location: originalEvent,\n                event: e,\n                target: e.target,\n                currentTarget: currentTarget,\n                id: originalEvent.pointerId,\n                type: \"pointer\"\n            });\n        } else {\n            touches.push({\n                id: 1, // hardcoded ID for mouse event;\n                event: e,\n                target: e.target,\n                currentTarget: currentTarget,\n                location: e,\n                type: \"mouse\"\n            });\n        }\n\n        return touches;\n    }\n\n    var TouchAxis = Class.extend({\n        init: function(axis, location) {\n            var that = this;\n\n            that.axis = axis;\n\n            that._updateLocationData(location);\n\n            that.startLocation = that.location;\n            that.velocity = that.delta = 0;\n            that.timeStamp = now();\n        },\n\n        move: function(location) {\n            var that = this,\n                offset = location[\"page\" + that.axis],\n                timeStamp = now(),\n                timeDelta = (timeStamp - that.timeStamp) || 1; // Firing manually events in tests can make this 0;\n\n            if (!offset && invalidZeroEvents) {\n                return;\n            }\n\n            that.delta = offset - that.location;\n\n            that._updateLocationData(location);\n\n            that.initialDelta = offset - that.startLocation;\n            that.velocity = that.delta / timeDelta;\n            that.timeStamp = timeStamp;\n        },\n\n        _updateLocationData: function(location) {\n            var that = this, axis = that.axis;\n\n            that.location = location[\"page\" + axis];\n            that.client = location[\"client\" + axis];\n            that.screen = location[\"screen\" + axis];\n        }\n    });\n\n    var Touch = Class.extend({\n        init: function(userEvents, target, touchInfo) {\n            extend(this, {\n                x: new TouchAxis(\"X\", touchInfo.location),\n                y: new TouchAxis(\"Y\", touchInfo.location),\n                type: touchInfo.type,\n                useClickAsTap: userEvents.useClickAsTap,\n                threshold: userEvents.threshold || THRESHOLD[touchInfo.type],\n                userEvents: userEvents,\n                target: target,\n                currentTarget: touchInfo.currentTarget,\n                initialTouch: touchInfo.target,\n                id: touchInfo.id,\n                pressEvent: touchInfo,\n                _clicks: userEvents._clicks,\n                supportDoubleTap: userEvents.supportDoubleTap,\n                _moved: false,\n                _finished: false\n            });\n        },\n\n        press: function() {\n            this._holdTimeout = setTimeout(this._hold.bind(this), this.userEvents.minHold);\n            this._trigger(PRESS, this.pressEvent);\n        },\n\n        _tap: function(touchInfo) {\n            var that = this;\n            that.userEvents._clicks++;\n            if (that.userEvents._clicks == 1) {\n                that._clickTimeout = setTimeout(function() {\n                    if (that.userEvents._clicks == 1) {\n                        that._trigger(TAP, touchInfo);\n                    }\n                    else {\n                        that._trigger(DOUBLETAP, touchInfo);\n                    }\n                    that.userEvents._clicks = 0;\n                }, CLICK_DELAY);\n            }\n        },\n\n        _hold: function() {\n            this._trigger(HOLD, this.pressEvent);\n        },\n\n        move: function(touchInfo) {\n            var that = this;\n            var preventMove = touchInfo.type !== \"api\" && that.userEvents._shouldNotMove;\n\n            if (that._finished || preventMove) { return; }\n\n            that.x.move(touchInfo.location);\n            that.y.move(touchInfo.location);\n\n            if (!that._moved) {\n                if (that._withinIgnoreThreshold()) {\n                    return;\n                }\n\n                if (!UserEvents.current || UserEvents.current === that.userEvents) {\n                    that._start(touchInfo);\n                } else {\n                    return that.dispose();\n                }\n            }\n\n            // Event handlers may cancel the drag in the START event handler, hence the double check for pressed.\n            if (!that._finished) {\n                that._trigger(MOVE, touchInfo);\n            }\n        },\n\n        end: function(touchInfo) {\n            this.endTime = now();\n\n            if (this._finished) { return; }\n\n            // Mark the object as finished if there are blocking operations in the event handlers (alert/confirm)\n            this._finished = true;\n\n            this._trigger(RELEASE, touchInfo); // Release should be fired before TAP (as click is after mouseup/touchend)\n\n            if (this._moved) {\n                this._trigger(END, touchInfo);\n            } else {\n                if (!this.useClickAsTap) {\n                    if (this.supportDoubleTap) {\n                        this._tap(touchInfo);\n                    }\n                    else {\n                        this._trigger(TAP, touchInfo);\n                    }\n                }\n            }\n\n            clearTimeout(this._holdTimeout);\n\n            this.dispose();\n        },\n\n        dispose: function() {\n            var userEvents = this.userEvents,\n                activeTouches = userEvents.touches;\n\n            this._finished = true;\n            this.pressEvent = null;\n            clearTimeout(this._holdTimeout);\n\n            activeTouches.splice($.inArray(this, activeTouches), 1);\n        },\n\n        skip: function() {\n            this.dispose();\n        },\n\n        cancel: function() {\n            this.dispose();\n        },\n\n        isMoved: function() {\n            return this._moved;\n        },\n\n        _start: function(touchInfo) {\n            clearTimeout(this._holdTimeout);\n\n            this.startTime = now();\n            this._moved = true;\n            this._trigger(START, touchInfo);\n        },\n\n        _trigger: function(name, touchInfo) {\n            var that = this,\n                jQueryEvent = touchInfo.event,\n                data = {\n                    touch: that,\n                    x: that.x,\n                    y: that.y,\n                    target: that.target,\n                    event: jQueryEvent\n                };\n\n            if(that.userEvents.notify(name, data)) {\n                jQueryEvent.preventDefault();\n            }\n        },\n\n        _withinIgnoreThreshold: function() {\n            var xDelta = this.x.initialDelta,\n                yDelta = this.y.initialDelta;\n\n            return Math.sqrt(xDelta * xDelta + yDelta * yDelta) <= this.threshold;\n        }\n    });\n\n    function withEachUpEvent(callback) {\n        var downEvents = kendo.eventMap.up.split(\" \"),\n            idx = 0,\n            length = downEvents.length;\n\n        for(; idx < length; idx ++) {\n            callback(downEvents[idx]);\n        }\n    }\n\n    var UserEvents = Observable.extend({\n        init: function(element, options) {\n            var that = this,\n                filter,\n                ns = kendo.guid();\n\n            options = options || {};\n            filter = that.filter = options.filter;\n            that.threshold = options.threshold || DEFAULT_THRESHOLD;\n            that.minHold = options.minHold || DEFAULT_MIN_HOLD;\n            that.touches = [];\n            that._maxTouches = options.multiTouch ? 2 : 1;\n            that.allowSelection = options.allowSelection;\n            that.captureUpIfMoved = options.captureUpIfMoved;\n            that.useClickAsTap = !options.fastTap && !support.delayedClick();\n            that.eventNS = ns;\n            that._clicks = 0;\n            that.supportDoubleTap = options.supportDoubleTap;\n\n            element = $(element).handler(that);\n            Observable.fn.init.call(that);\n\n            extend(that, {\n                element: element,\n                // the touch events lock to the element anyway, so no need for the global setting\n                surface: options.global && ENABLE_GLOBAL_SURFACE ? $(element[0].ownerDocument.documentElement) : $(options.surface || element),\n                stopPropagation: options.stopPropagation,\n                pressed: false\n            });\n\n            that.surface.handler(that)\n                .on(kendo.applyEventMap(\"move\", ns), \"_move\")\n                .on(kendo.applyEventMap(\"up cancel\", ns), \"_end\");\n\n            element.on(kendo.applyEventMap(\"down\", ns), filter, \"_start\");\n\n            if (that.useClickAsTap) {\n                element.on(kendo.applyEventMap(\"click\", ns), filter, \"_click\");\n            }\n\n            if (support.pointers || support.msPointers) {\n                //touch-action:none will not work for IE10\n                if (support.browser.version < 11) {\n                    var defaultAction = \"pinch-zoom double-tap-zoom\";\n                    element.css(\"-ms-touch-action\", options.touchAction && options.touchAction != \"none\" ? defaultAction + \" \" + options.touchAction : defaultAction);\n                } else {\n                    element.css(\"touch-action\", options.touchAction || \"none\");\n                }\n            }\n\n            if (options.preventDragEvent) {\n                element.on(kendo.applyEventMap(\"dragstart\", ns), kendo.preventDefault);\n            }\n\n            element.on(kendo.applyEventMap(\"mousedown\", ns), filter, { root: element }, \"_select\");\n\n            if (that.captureUpIfMoved && support.eventCapture) {\n                var surfaceElement = that.surface[0],\n                    preventIfMovingProxy = that.preventIfMoving.bind(that);\n\n                withEachUpEvent(function(eventName) {\n                    surfaceElement.addEventListener(eventName, preventIfMovingProxy, true);\n                });\n            }\n\n            that.bind([\n            PRESS,\n            HOLD,\n            TAP,\n            DOUBLETAP,\n            START,\n            MOVE,\n            END,\n            RELEASE,\n            CANCEL,\n            GESTURESTART,\n            GESTURECHANGE,\n            GESTUREEND,\n            GESTURETAP,\n            SELECT\n            ], options);\n        },\n\n        preventIfMoving: function(e) {\n            if (this._isMoved()) {\n                e.preventDefault();\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that._destroyed) {\n                return;\n            }\n\n            that._destroyed = true;\n\n            if (that.captureUpIfMoved && support.eventCapture) {\n                var surfaceElement = that.surface[0];\n                withEachUpEvent(function(eventName) {\n                    surfaceElement.removeEventListener(eventName, that.preventIfMoving);\n                });\n            }\n\n            that.element.kendoDestroy(that.eventNS);\n            that.surface.kendoDestroy(that.eventNS);\n            that.element.removeData(\"handler\");\n            that.surface.removeData(\"handler\");\n            that._disposeAll();\n\n            that.unbind();\n            delete that.surface;\n            delete that.element;\n            delete that.currentTarget;\n        },\n\n        capture: function() {\n            UserEvents.current = this;\n        },\n\n        cancel: function() {\n            this._disposeAll();\n            this.trigger(CANCEL);\n        },\n\n        notify: function(eventName, data) {\n            var that = this,\n                touches = that.touches;\n\n            if (this._isMultiTouch()) {\n                switch(eventName) {\n                    case MOVE:\n                        eventName = GESTURECHANGE;\n                        break;\n                    case END:\n                        eventName = GESTUREEND;\n                        break;\n                    case TAP:\n                        eventName = GESTURETAP;\n                        break;\n                }\n\n                extend(data, {touches: touches}, touchDelta(touches[0], touches[1]));\n            }\n\n            return this.trigger(eventName, extend(data, {type: eventName}));\n        },\n\n        // API\n        press: function(x, y, target) {\n            this._apiCall(\"_start\", x, y, target);\n        },\n\n        move: function(x, y) {\n            this._apiCall(\"_move\", x, y);\n        },\n\n        end: function(x, y) {\n            this._apiCall(\"_end\", x, y);\n        },\n\n        _isMultiTouch: function() {\n            return this.touches.length > 1;\n        },\n\n        _maxTouchesReached: function() {\n            return this.touches.length >= this._maxTouches;\n        },\n\n        _disposeAll: function() {\n            var touches = this.touches;\n            while (touches.length > 0) {\n                touches.pop().dispose();\n            }\n        },\n\n        _isMoved: function() {\n            return $.grep(this.touches, function(touch) {\n                return touch.isMoved();\n            }).length;\n        },\n\n        _select: function(e) {\n           if (!this.allowSelection || this.trigger(SELECT, { event: e })) {\n               e.preventDefault();\n           }\n        },\n\n        _start: function(e) {\n            var that = this,\n                idx = 0,\n                filter = that.filter,\n                target,\n                touches = getTouches(e),\n                length = touches.length,\n                touch,\n                which = e.which;\n\n            if ((which && which > 1) || (that._maxTouchesReached())){\n                return;\n            }\n\n            UserEvents.current = null;\n\n            that.currentTarget = e.currentTarget;\n\n            if (that.stopPropagation) {\n                e.stopPropagation();\n            }\n\n            for (; idx < length; idx ++) {\n                if (that._maxTouchesReached()) {\n                    break;\n                }\n\n                touch = touches[idx];\n\n                if (filter) {\n                    target = $(touch.currentTarget); // target.is(filter) ? target : target.closest(filter, that.element);\n                } else {\n                    target = that.element;\n                }\n\n                if (!target.length) {\n                    continue;\n                }\n\n                touch = new Touch(that, target, touch);\n                that.touches.push(touch);\n                touch.press();\n\n                if (that._isMultiTouch()) {\n                    that.notify(\"gesturestart\", {});\n                }\n            }\n        },\n\n        _move: function(e) {\n            this._eachTouch(\"move\", e);\n        },\n\n        _end: function(e) {\n            this._eachTouch(\"end\", e);\n        },\n\n        _click: function(e) {\n            var data = {\n                touch: {\n                    initialTouch: e.target,\n                    target: $(e.currentTarget),\n                    endTime: now(),\n                    x: {\n                        location: e.pageX,\n                        client: e.clientX\n                    },\n                    y: {\n                        location: e.pageY,\n                        client: e.clientY\n                    }\n                },\n                x: e.pageX,\n                y: e.pageY,\n                target: $(e.currentTarget),\n                event: e,\n                type: \"tap\"\n            };\n\n            if (this.trigger(\"tap\", data)) {\n                e.preventDefault();\n            }\n        },\n\n        _eachTouch: function(methodName, e) {\n            var that = this,\n                dict = {},\n                touches = getTouches(e),\n                activeTouches = that.touches,\n                idx,\n                touch,\n                touchInfo,\n                matchingTouch;\n\n            for (idx = 0; idx < activeTouches.length; idx ++) {\n                touch = activeTouches[idx];\n                dict[touch.id] = touch;\n            }\n\n            for (idx = 0; idx < touches.length; idx ++) {\n                touchInfo = touches[idx];\n                matchingTouch = dict[touchInfo.id];\n\n                if (matchingTouch) {\n                    matchingTouch[methodName](touchInfo);\n                }\n            }\n        },\n\n        _apiCall: function(type, x, y, target) {\n            this[type]({\n                api: true,\n                pageX: x,\n                pageY: y,\n                clientX: x,\n                clientY: y,\n                target: $(target || this.element)[0],\n                stopPropagation: $.noop,\n                preventDefault: $.noop\n            });\n        }\n    });\n\n    UserEvents.defaultThreshold = function(value) {\n        DEFAULT_THRESHOLD = value;\n    };\n\n    UserEvents.minHold = function(value) {\n        DEFAULT_MIN_HOLD = value;\n    };\n\n    kendo.getTouches = getTouches;\n    kendo.touchDelta = touchDelta;\n    kendo.UserEvents = UserEvents;\n })(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.touch',[ \"kendo.core\", \"kendo.userevents\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"touch\",\n    name: \"Touch\",\n    category: \"mobile\",\n    description: \"The kendo Touch widget provides a cross-platform compatible API for handling user-initiated touch events, multi-touch gestures and event sequences (drag, swipe, etc.). \",\n    depends: [ \"core\", \"userevents\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        abs = Math.abs,\n        MAX_DOUBLE_TAP_DISTANCE = 20;\n\n    var Touch = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            options = that.options;\n\n            element = that.element;\n            that.wrapper = element;\n\n            function eventProxy(name) {\n                return function(e) {\n                    that._triggerTouch(name, e);\n                };\n            }\n\n            function gestureEventProxy(name) {\n                return function(e) {\n                    that.trigger(name, { touches: e.touches, distance: e.distance, center: e.center, event: e.event });\n                };\n            }\n\n            that.events = new kendo.UserEvents(element, {\n                filter: options.filter,\n                surface: options.surface,\n                minHold: options.minHold,\n                multiTouch: options.multiTouch,\n                allowSelection: true,\n                fastTap: options.fastTap,\n                press: eventProxy(\"touchstart\"),\n                hold: eventProxy(\"hold\"),\n                tap: that._tap.bind(that),\n                gesturestart: gestureEventProxy(\"gesturestart\"),\n                gesturechange: gestureEventProxy(\"gesturechange\"),\n                gestureend: gestureEventProxy(\"gestureend\")\n            });\n\n            if (options.enableSwipe) {\n                that.events.bind(\"start\", that._swipestart.bind(that));\n                that.events.bind(\"move\", that._swipemove.bind(that));\n            } else {\n                that.events.bind(\"start\", that._dragstart.bind(that));\n                that.events.bind(\"move\", eventProxy(\"drag\"));\n                that.events.bind(\"end\", eventProxy(\"dragend\"));\n            }\n\n            kendo.notify(that);\n        },\n\n        events: [\n            \"touchstart\",\n            \"dragstart\",\n            \"drag\",\n            \"dragend\",\n            \"tap\",\n            \"doubletap\",\n            \"hold\",\n            \"swipe\",\n            \"gesturestart\",\n            \"gesturechange\",\n            \"gestureend\"\n        ],\n\n        options: {\n            name: \"Touch\",\n            surface: null,\n            global: false,\n            fastTap: false,\n            filter: null,\n            multiTouch: false,\n            enableSwipe: false,\n            minXDelta: 30,\n            maxYDelta: 20,\n            maxDuration: 1000,\n            minHold: 800,\n            doubleTapTimeout: 800\n        },\n\n        cancel: function() {\n            this.events.cancel();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            this.events.destroy();\n        },\n\n        _triggerTouch: function(type, e) {\n            if (this.trigger(type, { touch: e.touch, event: e.event })) {\n                e.preventDefault();\n            }\n        },\n\n        _tap: function(e) {\n            var that = this,\n                lastTap = that.lastTap,\n                touch = e.touch;\n\n            if (lastTap &&\n                (touch.endTime - lastTap.endTime < that.options.doubleTapTimeout) &&\n                kendo.touchDelta(touch, lastTap).distance < MAX_DOUBLE_TAP_DISTANCE\n                ) {\n\n               that._triggerTouch(\"doubletap\", e);\n               that.lastTap = null;\n            } else {\n                that._triggerTouch(\"tap\", e);\n                that.lastTap = touch;\n            }\n        },\n\n        _dragstart: function(e) {\n            this._triggerTouch(\"dragstart\", e);\n        },\n\n        _swipestart: function(e) {\n            if (abs(e.x.velocity) * 2 >= abs(e.y.velocity)) {\n                e.sender.capture();\n            }\n        },\n\n        _swipemove: function(e) {\n            var that = this,\n                options = that.options,\n                touch = e.touch,\n                duration = e.event.timeStamp - touch.startTime,\n                direction = touch.x.initialDelta > 0 ? \"right\" : \"left\";\n\n            if (\n                abs(touch.x.initialDelta) >= options.minXDelta &&\n                abs(touch.y.initialDelta) < options.maxYDelta &&\n                duration < options.maxDuration\n                )\n            {\n                that.trigger(\"swipe\", {\n                    direction: direction,\n                    touch: e.touch\n                });\n\n                touch.cancel();\n            }\n        }\n    });\n\n    kendo.ui.plugin(Touch);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.data.odata',[ \"kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"data.odata\",\n    name: \"OData\",\n    category: \"framework\",\n    depends: [ \"core\" ],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        extend = $.extend,\n        NEWLINE = \"\\r\\n\",\n        DOUBLELINE = \"\\r\\n\\r\\n\",\n        isFunction = kendo.isFunction,\n        odataFilters = {\n            eq: \"eq\",\n            neq: \"ne\",\n            gt: \"gt\",\n            gte: \"ge\",\n            lt: \"lt\",\n            lte: \"le\",\n            contains : \"substringof\",\n            doesnotcontain: \"substringof\",\n            endswith: \"endswith\",\n            startswith: \"startswith\",\n            isnull: \"eq\",\n            isnotnull: \"ne\",\n            isnullorempty: \"eq\",\n            isnotnullorempty: \"ne\",\n            isempty: \"eq\",\n            isnotempty: \"ne\"\n        },\n        odataFiltersVersionFour = extend({}, odataFilters, {\n            contains: \"contains\"\n        }),\n        mappers = {\n            pageSize: $.noop,\n            page: $.noop,\n            filter: function(params, filter, useVersionFour) {\n                if (filter) {\n                    filter = toOdataFilter(filter, useVersionFour);\n                    if (filter) {\n                        params.$filter = filter;\n                    }\n                }\n            },\n            sort: function(params, orderby) {\n                var expr = $.map(orderby, function(value) {\n                    var order = value.field.replace(/\\./g, \"/\");\n\n                    if (value.dir === \"desc\") {\n                        order += \" desc\";\n                    }\n\n                    return order;\n                }).join(\",\");\n\n                if (expr) {\n                    params.$orderby = expr;\n                }\n            },\n            skip: function(params, skip) {\n                if (skip) {\n                    params.$skip = skip;\n                }\n            },\n            take: function(params, take) {\n                if (take) {\n                    params.$top = take;\n                }\n            }\n        },\n        defaultDataType = {\n            read: {\n                dataType: \"jsonp\"\n            }\n        };\n\n    function toOdataFilter(filter, useOdataFour) {\n        var result = [],\n            logic = filter.logic || \"and\",\n            idx,\n            length,\n            field,\n            type,\n            format,\n            operator,\n            value,\n            ignoreCase,\n            filters = filter.filters;\n\n        for (idx = 0, length = filters.length; idx < length; idx++) {\n            filter = filters[idx];\n            field = filter.field;\n            value = filter.value;\n            operator = filter.operator;\n\n            if (filter.filters) {\n                filter = toOdataFilter(filter, useOdataFour);\n            } else {\n                ignoreCase = filter.ignoreCase;\n                field = field.replace(/\\./g, \"/\");\n                filter = odataFilters[operator];\n                if (useOdataFour) {\n                    filter = odataFiltersVersionFour[operator];\n                }\n\n                if (operator === \"isnullorempty\") {\n                    filter = kendo.format(\"{0} {1} null or {0} {1} ''\", field, filter);\n                } else if(operator === \"isnotnullorempty\") {\n                    filter = kendo.format(\"{0} {1} null and {0} {1} ''\", field, filter);\n                } else if (operator === \"isnull\" || operator === \"isnotnull\") {\n                    filter = kendo.format(\"{0} {1} null\", field, filter);\n                } else if (operator === \"isempty\" || operator === \"isnotempty\") {\n                    filter = kendo.format(\"{0} {1} ''\", field, filter);\n                } else if (filter && value !== undefined) {\n                    type = kendo.type(value);\n                    if (type === \"string\") {\n                        format = \"'{1}'\";\n                        value = value.replace(/'/g, \"''\");\n\n                        if (ignoreCase === true) {\n                            field = \"tolower(\" + field + \")\";\n                        }\n\n                    } else if (type === \"date\") {\n                        if (useOdataFour) {\n                            format = \"{1:yyyy-MM-ddTHH:mm:ss+00:00}\";\n                            value = kendo.timezone.apply(value, 'Etc/UTC');\n                        } else {\n                            format = \"datetime'{1:yyyy-MM-ddTHH:mm:ss}'\";\n                        }\n                    } else {\n                        format = \"{1}\";\n                    }\n\n                    if (filter.length > 3) {\n                        if (filter !== \"substringof\") {\n                            format = \"{0}({2},\" + format + \")\";\n                        } else {\n                            format = \"{0}(\" + format + \",{2})\";\n                            if (operator === \"doesnotcontain\") {\n                                if (useOdataFour) {\n                                    format = \"{0}({2},'{1}') eq -1\";\n                                    filter = \"indexof\";\n                                } else {\n                                    format += \" eq false\";\n                                }\n                            }\n                        }\n                    } else {\n                        format = \"{2} {0} \" + format;\n                    }\n\n                    filter = kendo.format(format, filter, value, field);\n                }\n            }\n\n            result.push(filter);\n        }\n\n        filter = result.join(\" \" + logic + \" \");\n\n        if (result.length > 1) {\n            filter = \"(\" + filter + \")\";\n        }\n\n        return filter;\n    }\n\n    function stripMetadata(obj) {\n        for (var name in obj) {\n            if(name.indexOf(\"@odata\") === 0) {\n                delete obj[name];\n            }\n        }\n    }\n\n    function hex16() {\n        return Math.floor((1 + Math.random()) * 0x10000).toString(16).substr(1);\n    }\n\n    function createBoundary(prefix) {\n        return prefix + hex16() + '-' + hex16() + '-' + hex16();\n    }\n\n    function createDelimeter(boundary, close) {\n        var result = NEWLINE + \"--\" + boundary;\n\n        if (close) {\n            result += \"--\";\n        }\n\n        return result;\n    }\n\n    function createCommand(transport, item, httpVerb, command) {\n         var transportUrl = transport.options[command].url;\n         var commandPrefix = kendo.format(\"{0} \", httpVerb);\n\n         if (isFunction(transportUrl)) {\n             return commandPrefix + transportUrl(item);\n         } else {\n             return commandPrefix + transportUrl;\n         }\n    }\n\n    function getOperationHeader(changeset, changeId) {\n        var header = \"\";\n\n        header += createDelimeter(changeset, false);\n        header += NEWLINE + 'Content-Type: application/http';\n        header += NEWLINE + 'Content-Transfer-Encoding: binary';\n        header += NEWLINE + 'Content-ID: ' + changeId;\n\n        return header;\n    }\n\n    function getOperationContent(item) {\n        var content = \"\";\n\n        content += NEWLINE + \"Content-Type: application/json;odata=minimalmetadata\";\n        content += NEWLINE + \"Prefer: return=representation\";\n        content += DOUBLELINE + kendo.stringify(item);\n\n        return content;\n    }\n\n    function getOperations(collection, changeset, changeId, command, transport, skipContent) {\n        var requestBody = \"\";\n\n        for (var i = 0; i < collection.length; i++) {\n            requestBody += getOperationHeader(changeset, changeId);\n            requestBody += DOUBLELINE + createCommand(transport, collection[i], transport.options[command].type, command) + ' HTTP/1.1';\n            if (!skipContent) {\n                requestBody += getOperationContent(collection[i]);\n            }\n            requestBody += NEWLINE;\n            changeId++;\n        }\n\n        return requestBody;\n    }\n\n    function processCollection(colection, boundary, changeset, changeId, transport, command, skipContent) {\n        var requestBody = \"\";\n\n        requestBody += getBoundary(boundary, changeset);\n        requestBody += getOperations(colection, changeset, changeId, command, transport, skipContent);\n        requestBody += createDelimeter(changeset, true);\n        requestBody += NEWLINE;\n\n        return requestBody;\n    }\n\n    function getBoundary(boundary,changeset) {\n        var requestBody = \"\";\n\n        requestBody += \"--\" + boundary + NEWLINE;\n        requestBody += \"Content-Type: multipart/mixed; boundary=\" + changeset + NEWLINE;\n\n        return requestBody;\n    }\n\n    function createBatchRequest(transport, colections) {\n\t\tvar options = extend({}, transport.options.batch);\n        var boundary = createBoundary(\"sf_batch_\");\n        var requestBody = \"\";\n        var changeId = 0;\n        var batchURL = transport.options.batch.url;\n        var changeset = createBoundary(\"sf_changeset_\");\n\n        options.type = transport.options.batch.type;\n        options.url = isFunction(batchURL) ? batchURL() : batchURL;\n\t\toptions.headers = extend(options.headers || {}, {\n\t\t\t\"Content-Type\": \"multipart/mixed; boundary=\" + boundary\n\t\t});\n\n        if (colections.updated.length) {\n            requestBody += processCollection(colections.updated, boundary, changeset, changeId, transport, \"update\", false);\n            changeId += colections.updated.length;\n            changeset = createBoundary(\"sf_changeset_\");\n        }\n\n        if (colections.destroyed.length) {\n            requestBody += processCollection(colections.destroyed, boundary, changeset, changeId, transport, \"destroy\", true);\n            changeId += colections.destroyed.length;\n            changeset = createBoundary(\"sf_changeset_\");\n        }\n\n        if (colections.created.length) {\n            requestBody += processCollection(colections.created, boundary, changeset, changeId, transport, \"create\", false);\n        }\n\n        requestBody += createDelimeter(boundary, true);\n\n        options.data = requestBody;\n\n        return options;\n    }\n\n    function parseBatchResponse(responseText) {\n        var responseMarkers = responseText.match(/--changesetresponse_[a-z0-9-]+$/gm);\n        var markerIndex = 0;\n        var collections = [];\n        var changeBody;\n        var status;\n        var code;\n        var marker;\n        var jsonModel;\n\n        collections.push({ models: [], passed: true });\n\n        for (var i = 0; i < responseMarkers.length; i++) {\n            marker = responseMarkers[i];\n            if (marker.lastIndexOf('--', marker.length - 1)) {\n                if (i < responseMarkers.length - 1) {\n                    collections.push({ models: [], passed: true });\n                }\n                continue;\n            }\n\n            if (!markerIndex) {\n                markerIndex = responseText.indexOf(marker);\n            } else {\n                markerIndex = responseText.indexOf(marker, markerIndex + marker.length);\n            }\n\n            changeBody = responseText.substring(markerIndex, responseText.indexOf(\"--\", markerIndex + 1));\n            status = changeBody.match(/^HTTP\\/1\\.\\d (\\d{3}) (.*)$/gm).pop();\n            code = kendo.parseFloat(status.match(/\\d{3}/g).pop());\n\n            if (code >= 200 && code <= 299) {\n                jsonModel = changeBody.match(/\\{.*\\}/gm);\n                if (jsonModel) {\n                    collections[collections.length - 1].models.push(JSON.parse(jsonModel[0]));\n                }\n            } else {\n                collections[collections.length - 1].passed = false;\n            }\n\n        }\n\n        return collections;\n    }\n\n    extend(true, kendo.data, {\n        schemas: {\n            odata: {\n                type: \"json\",\n                data: function(data) {\n                    return data.d.results || [data.d];\n                },\n                total: \"d.__count\"\n            }\n        },\n        transports: {\n            odata: {\n                read: {\n                    cache: true, // to prevent jQuery from adding cache buster\n                    dataType: \"jsonp\",\n                    jsonp: \"$callback\"\n                },\n                update: {\n                    cache: true,\n                    dataType: \"json\",\n                    contentType: \"application/json\", // to inform the server the the request body is JSON encoded\n                    type: \"PUT\" // can be PUT or MERGE\n                },\n                create: {\n                    cache: true,\n                    dataType: \"json\",\n                    contentType: \"application/json\",\n                    type: \"POST\" // must be POST to create new entity\n                },\n                destroy: {\n                    cache: true,\n                    dataType: \"json\",\n                    type: \"DELETE\"\n                },\n                parameterMap: function(options, type, useVersionFour) {\n                    var params,\n                        value,\n                        option,\n                        dataType;\n\n                    options = options || {};\n                    type = type || \"read\";\n                    dataType = (this.options || defaultDataType)[type];\n                    dataType = dataType ? dataType.dataType : \"json\";\n\n                    if (type === \"read\") {\n                        params = {\n                            $inlinecount: \"allpages\"\n                        };\n\n                        if (dataType != \"json\") {\n                            params.$format = \"json\";\n                        }\n\n                        for (option in options) {\n                            if (mappers[option]) {\n                                mappers[option](params, options[option], useVersionFour);\n                            } else {\n                                params[option] = options[option];\n                            }\n                        }\n                    } else {\n                        if (dataType !== \"json\") {\n                            throw new Error(\"Only json dataType can be used for \" + type + \" operation.\");\n                        }\n\n                        if (type !== \"destroy\") {\n                            for (option in options) {\n                                value = options[option];\n                                if (typeof value === \"number\") {\n                                    options[option] = value + \"\";\n                                }\n                            }\n\n                            params = kendo.stringify(options);\n                        }\n                    }\n\n                    return params;\n                }\n            }\n        }\n    });\n\n    extend(true, kendo.data, {\n        schemas: {\n            \"odata-v4\": {\n                type: \"json\",\n                data: function(data) {\n                    if (Array.isArray(data)) {\n                        for (var i = 0; i < data.length; i++) {\n                            stripMetadata(data[i]);\n                        }\n                        return data;\n                    } else {\n                        data = $.extend({}, data);\n                        stripMetadata(data);\n\n                        if (data.value) {\n                            return data.value;\n                        }\n                        return [data];\n                    }\n                },\n                total: function(data) {\n                    return data[\"@odata.count\"];\n                }\n            }\n        },\n        transports: {\n            \"odata-v4\": {\n                batch: {\n                    type: \"POST\"\n                },\n                read: {\n                    cache: true, // to prevent jQuery from adding cache buster\n                    dataType: \"json\"\n                },\n                update: {\n                    cache: true,\n                    dataType: \"json\",\n                    contentType: \"application/json;IEEE754Compatible=true\", // to inform the server the the request body is JSON encoded\n                    type: \"PUT\" // can be PUT or MERGE\n                },\n                create: {\n                    cache: true,\n                    dataType: \"json\",\n                    contentType: \"application/json;IEEE754Compatible=true\",\n                    type: \"POST\" // must be POST to create new entity\n                },\n                destroy: {\n                    cache: true,\n                    dataType: \"json\",\n                    type: \"DELETE\"\n                },\n                parameterMap: function(options, type) {\n                    var result = kendo.data.transports.odata.parameterMap(options, type, true);\n                    if (type == \"read\") {\n                        result.$count = true;\n                        delete result.$inlinecount;\n                    }\n\n\t\t\t\t\tif (result && result.$filter) {\n\t\t\t\t\t\t// Remove the single quotation marks around the GUID (OData v4).\n\t\t\t\t\t\tresult.$filter = result.$filter.replace(/('[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}')/ig, function (x) {\n\t\t\t\t\t\t\treturn x.substring(1, x.length - 1);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n                    return result;\n                },\n                submit: function(e) {\n                    var that = this;\n                    var options = createBatchRequest(that, e.data);\n                    var collections = e.data;\n\n                    if (!collections.updated.length && !collections.destroyed.length && !collections.created.length) {\n                        return;\n                    }\n\n                    $.ajax(extend(true, {}, {\n                        success: function (response) {\n                            var responses = parseBatchResponse(response);\n                            var index = 0;\n                            var current;\n\n                            if (collections.updated.length) {\n                                current = responses[index];\n                                if (current.passed) {\n                                    // Pass either the obtained models or an empty array if only status codes are returned.\n                                    e.success(current.models.length ? current.models : [], \"update\");\n                                }\n                                index++;\n                            }\n                            if (collections.destroyed.length) {\n                                current = responses[index];\n                                if (current.passed) {\n                                    // For delete operations OData returns only status codes.\n                                    // Passing empty array to datasource will force it to correctly remove the deleted items from the pristine collection.\n                                    e.success([], \"destroy\");\n                                }\n                                index++;\n                            }\n                            if (collections.created.length) {\n                                current = responses[index];\n                                if (current.passed) {\n                                    e.success(current.models, \"create\");\n                                }\n                            }\n                        },\n                        error: function (response, status, error) {\n                            e.error(response, status, error);\n                        }\n                    }, options));\n                }\n            }\n        }\n    });\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.data.xml',[ \"kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"data.xml\",\n    name: \"XML\",\n    category: \"framework\",\n    depends: [ \"core\" ],\n    hidden: true\n};\n\n/*jshint  eqnull: true, boss: true */\n(function($, undefined) {\n    var kendo = window.kendo,\n        isArray = Array.isArray,\n        isPlainObject = $.isPlainObject,\n        map = $.map,\n        each = $.each,\n        extend = $.extend,\n        getter = kendo.getter,\n        Class = kendo.Class;\n\n    var XmlDataReader = Class.extend({\n        init: function(options) {\n            var that = this,\n                total = options.total,\n                model = options.model,\n                parse = options.parse,\n                errors = options.errors,\n                serialize = options.serialize,\n                data = options.data;\n\n            if (model) {\n                if (isPlainObject(model)) {\n                    var base = options.modelBase || kendo.data.Model;\n\n                    if (model.fields) {\n                        each(model.fields, function(field, value) {\n                            if (isPlainObject(value) && value.field) {\n                                if (!kendo.isFunction(value.field)) {\n                                    value = extend(value, { field: that.getter(value.field) });\n                                }\n                            } else {\n                                value = { field: that.getter(value) };\n                            }\n                            model.fields[field] = value;\n                        });\n                    }\n\n                    var id = model.id;\n                    if (id) {\n                        var idField = {};\n\n                        idField[that.xpathToMember(id, true)] = { field : that.getter(id) };\n                        model.fields = extend(idField, model.fields);\n                        model.id = that.xpathToMember(id);\n                    }\n                    model = base.define(model);\n                }\n\n                that.model = model;\n            }\n\n            if (total) {\n                if (typeof total == \"string\") {\n                    total = that.getter(total);\n                    that.total = function(data) {\n                        return parseInt(total(data), 10);\n                    };\n                } else if (typeof total == \"function\"){\n                    that.total = total;\n                }\n            }\n\n            if (errors) {\n                if (typeof errors == \"string\") {\n                    errors = that.getter(errors);\n                    that.errors = function(data) {\n                        return errors(data) || null;\n                    };\n                } else if (typeof errors == \"function\"){\n                    that.errors = errors;\n                }\n            }\n\n            if (data) {\n                if (typeof data == \"string\") {\n                    data = that.xpathToMember(data);\n                    that.data = function(value) {\n                        var result = that.evaluate(value, data),\n                            modelInstance;\n\n                        result = isArray(result) ? result : [result];\n\n                        if (that.model && model.fields) {\n                            modelInstance = new that.model();\n\n                            return map(result, function(value) {\n                                if (value) {\n                                    var record = {}, field;\n\n                                    for (field in model.fields) {\n                                        record[field] = modelInstance._parse(field, model.fields[field].field(value));\n                                    }\n\n                                    return record;\n                                }\n                            });\n                        }\n\n                        return result;\n                    };\n                } else if (typeof data == \"function\") {\n                    that.data = data;\n                }\n            }\n\n            if (typeof parse == \"function\") {\n                var xmlParse = that.parse;\n\n                that.parse = function(data) {\n                    var xml = parse.call(that, data);\n                    return xmlParse.call(that, xml);\n                };\n            }\n\n            if (typeof serialize == \"function\") {\n                that.serialize = serialize;\n            }\n        },\n        total: function(result) {\n            return this.data(result).length;\n        },\n        errors: function(data) {\n            return data ? data.errors : null;\n        },\n        serialize: function(data) {\n            return data;\n        },\n        parseDOM: function(element) {\n            var result = {},\n                parsedNode,\n                node,\n                nodeType,\n                nodeName,\n                member,\n                attribute,\n                attributes = element.attributes,\n                attributeCount = attributes.length,\n                idx;\n\n            for (idx = 0; idx < attributeCount; idx++) {\n                attribute = attributes[idx];\n                result[\"@\" + attribute.nodeName] = attribute.nodeValue;\n            }\n\n            for (node = element.firstChild; node; node = node.nextSibling) {\n                nodeType = node.nodeType;\n\n                if (nodeType === 3 || nodeType === 4) {\n                    // text nodes or CDATA are stored as #text field\n                    result[\"#text\"] = node.nodeValue;\n                } else if (nodeType === 1) {\n                    // elements are stored as fields\n                    parsedNode = this.parseDOM(node);\n\n                    nodeName = node.nodeName;\n\n                    member = result[nodeName];\n\n                    if (isArray(member)) {\n                        // elements of same nodeName are stored as array\n                        member.push(parsedNode);\n                    } else if (member !== undefined) {\n                        member = [member, parsedNode];\n                    } else {\n                        member = parsedNode;\n                    }\n\n                    result[nodeName] = member;\n                }\n            }\n            return result;\n        },\n\n        evaluate: function(value, expression) {\n            var members = expression.split(\".\"),\n                member,\n                result,\n                length,\n                intermediateResult,\n                idx;\n\n            while (member = members.shift()) {\n                value = value[member];\n\n                if (isArray(value)) {\n                    result = [];\n                    expression = members.join(\".\");\n\n                    for (idx = 0, length = value.length; idx < length; idx++) {\n                        intermediateResult = this.evaluate(value[idx], expression);\n\n                        intermediateResult = isArray(intermediateResult) ? intermediateResult : [intermediateResult];\n\n                        result.push.apply(result, intermediateResult);\n                    }\n\n                    return result;\n                }\n            }\n\n            return value;\n        },\n\n        parse: function(xml) {\n            var documentElement,\n                tree,\n                result = {};\n\n            documentElement = xml.documentElement || $.parseXML(xml).documentElement;\n\n            tree = this.parseDOM(documentElement);\n\n            result[documentElement.nodeName] = tree;\n\n            return result;\n        },\n\n        xpathToMember: function(member, raw) {\n            if (!member) {\n                return \"\";\n            }\n\n            member = member.replace(/^\\//, \"\") // remove the first \"/\"\n                           .replace(/\\//g, \".\"); // replace all \"/\" with \".\"\n\n            if (member.indexOf(\"@\") >= 0) {\n                // replace @attribute with '[\"@attribute\"]'\n                return member.replace(/\\.?(@.*)/, raw? '$1':'[\"$1\"]');\n            }\n\n            if (member.indexOf(\"text()\") >= 0) {\n                // replace \".text()\" with '[\"#text\"]'\n                return member.replace(/(\\.?text\\(\\))/, raw? '#text':'[\"#text\"]');\n            }\n\n            return member;\n        },\n        getter: function(member) {\n            return getter(this.xpathToMember(member), true);\n        }\n    });\n\n    $.extend(true, kendo.data, {\n        XmlDataReader: XmlDataReader,\n        readers: {\n            xml: XmlDataReader\n        }\n    });\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.data',[ \"kendo.core\", \"kendo.data.odata\", \"kendo.data.xml\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"data\",\n    name: \"Data source\",\n    category: \"framework\",\n    description: \"Powerful component for using local and remote data.Fully supports CRUD, Sorting, Paging, Filtering, Grouping, and Aggregates.\",\n    depends: [ \"core\" ],\n    features: [ {\n        id: \"data-odata\",\n        name: \"OData\",\n        description: \"Support for accessing Open Data Protocol (OData) services.\",\n        depends: [ \"data.odata\" ]\n    }, {\n        id: \"data-signalr\",\n        name: \"SignalR\",\n        description: \"Support for binding to SignalR hubs.\",\n        depends: [ \"data.signalr\" ]\n    }, {\n        id: \"data-XML\",\n        name: \"XML\",\n        description: \"Support for binding to XML.\",\n        depends: [ \"data.xml\" ]\n    }]\n};\n\n/*jshint eqnull: true, loopfunc: true, evil: true */\n(function($, undefined) {\n    var extend = $.extend,\n        isPlainObject = $.isPlainObject,\n        isEmptyObject = $.isEmptyObject,\n        isArray = Array.isArray,\n        grep = $.grep,\n        ajax = $.ajax,\n        map,\n        each = $.each,\n        noop = $.noop,\n        kendo = window.kendo,\n        isFunction = kendo.isFunction,\n        Observable = kendo.Observable,\n        Class = kendo.Class,\n        STRING = \"string\",\n        FUNCTION = \"function\",\n        ASCENDING = \"asc\",\n        CREATE = \"create\",\n        READ = \"read\",\n        UPDATE = \"update\",\n        DESTROY = \"destroy\",\n        CHANGE = \"change\",\n        SYNC = \"sync\",\n        GET = \"get\",\n        ERROR = \"error\",\n        REQUESTSTART = \"requestStart\",\n        PROGRESS = \"progress\",\n        REQUESTEND = \"requestEnd\",\n        ITEMSLOADED = \"itemsLoaded\",\n        ITEMLOAD = \"itemLoad\",\n        crud = [CREATE, READ, UPDATE, DESTROY],\n        identity = function(o) { return o; },\n        getter = kendo.getter,\n        stringify = kendo.stringify,\n        math = Math,\n        push = [].push,\n        join = [].join,\n        pop = [].pop,\n        splice = [].splice,\n        shift = [].shift,\n        slice = [].slice,\n        unshift = [].unshift,\n        toString = {}.toString,\n        stableSort = kendo.support.stableSort,\n        dateRegExp = /^\\/Date\\((.*?)\\)\\/$/,\n        objectKeys = [];\n\n    var ObservableArray = Observable.extend({\n        init: function(array, type) {\n            var that = this;\n\n            that.type = type || ObservableObject;\n\n            Observable.fn.init.call(that);\n\n            that.length = array.length;\n\n            that.wrapAll(array, that);\n            that._loadPromises = [];\n            that._loadedNodes = [];\n        },\n\n        at: function(index) {\n            return this[index];\n        },\n\n        toJSON: function(serializeFunctions) {\n            var idx, length = this.length, value, json = new Array(length);\n\n            for (idx = 0; idx < length; idx++){\n                value = this[idx];\n\n                if (value instanceof ObservableObject) {\n                    value = value.toJSON(serializeFunctions);\n                }\n\n                json[idx] = value;\n            }\n\n            return json;\n        },\n\n        parent: noop,\n\n        wrapAll: function(source, target) {\n            var that = this,\n                idx,\n                length,\n                parent = function() {\n                    return that;\n                };\n\n            target = target || [];\n\n            for (idx = 0, length = source.length; idx < length; idx++) {\n                target[idx] = that.wrap(source[idx], parent);\n            }\n\n            return target;\n        },\n\n        wrap: function(object, parent) {\n            var that = this,\n                observable;\n\n            if (object !== null && toString.call(object) === \"[object Object]\") {\n                observable = object instanceof that.type || object instanceof Model;\n\n                if (!observable) {\n                    object = object instanceof ObservableObject ? object.toJSON() : object;\n                    object = new that.type(object);\n                }\n\n                object.parent = parent;\n\n                object.bind(CHANGE, function(e) {\n                    var isGroup = object.hasOwnProperty(\"hasSubgroups\");\n                    that.trigger(CHANGE, {\n                        field: e.field,\n                        node: e.node,\n                        index: e.index,\n                        items: e.items || [this],\n                        action: e.node || isGroup ? (e.action || \"itemloaded\") : \"itemchange\"\n                    });\n                });\n\n                object.bind(ITEMLOAD, function (e) {\n                    that._loadPromises.push(e.promise);\n                    that._loading = true;\n\n                    e.promise.done(function(){\n                        that._loadedNodes.push(e.node);\n                        var index = that._loadPromises.indexOf(e.promise);\n                        that._loadPromises.splice(index, 1);\n\n                        if(!that._loadPromises.length){\n                            that._loading = false;\n                            that.trigger(ITEMSLOADED, {collection: that, nodes: that._loadedNodes});\n                            that._loadedNodes = [];\n                        }\n                    });\n                });\n            }\n\n            return object;\n        },\n\n        loading: function () {\n            return this._loading;\n        },\n\n        push: function() {\n            var index = this.length,\n                items = this.wrapAll(arguments),\n                result;\n\n            result = push.apply(this, items);\n\n            if (!this.omitChangeEvent) {\n                this.trigger(CHANGE, {\n                    action: \"add\",\n                    index: index,\n                    items: items\n                });\n            }\n\n            return result;\n        },\n\n        slice: slice,\n\n        sort: [].sort,\n\n        join: join,\n\n        pop: function() {\n            var length = this.length, result = pop.apply(this);\n\n            if (length) {\n                this.trigger(CHANGE, {\n                    action: \"remove\",\n                    index: length - 1,\n                    items:[result]\n                });\n            }\n\n            return result;\n        },\n\n        splice: function(index, howMany, item) {\n            var items = this.wrapAll(slice.call(arguments, 2)),\n                result, i, len;\n\n            result = splice.apply(this, [index, howMany].concat(items));\n\n            if (result.length) {\n                if (!this.omitChangeEvent) {\n                    this.trigger(CHANGE, {\n                        action: \"remove\",\n                        index: index,\n                        items: result\n                    });\n                }\n\n                for (i = 0, len = result.length; i < len; i++) {\n                    if (result[i] && result[i].children) {\n                        result[i].unbind(CHANGE);\n                    }\n                }\n            }\n\n            if (item) {\n                if (!this.omitChangeEvent) {\n                    this.trigger(CHANGE, {\n                        action: \"add\",\n                        index: index,\n                        items: items\n                    });\n                }\n            }\n            return result;\n        },\n\n        shift: function() {\n            var length = this.length, result = shift.apply(this);\n\n            if (length) {\n                this.trigger(CHANGE, {\n                    action: \"remove\",\n                    index: 0,\n                    items:[result]\n                });\n            }\n\n            return result;\n        },\n\n        unshift: function() {\n            var items = this.wrapAll(arguments),\n                result;\n\n            result = unshift.apply(this, items);\n\n            this.trigger(CHANGE, {\n                action: \"add\",\n                index: 0,\n                items: items\n            });\n\n            return result;\n        },\n\n        indexOf: function(item) {\n            var that = this,\n                idx,\n                length;\n\n            for (idx = 0, length = that.length; idx < length; idx++) {\n                if (that[idx] === item) {\n                    return idx;\n                }\n            }\n            return -1;\n        },\n\n        forEach: function(callback, thisArg) {\n            var idx = 0;\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                callback.call(context, this[idx], idx, this);\n            }\n        },\n\n        map: function(callback, thisArg) {\n            var idx = 0;\n            var result = [];\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                result[idx] = callback.call(context, this[idx], idx, this);\n            }\n\n            return result;\n        },\n\n        reduce: function(callback) {\n            var idx = 0,\n                result,\n                length = this.length;\n\n            if (arguments.length == 2) {\n                result = arguments[1];\n            } else if (idx < length) {\n                result = this[idx++];\n            }\n\n            for (; idx < length; idx++) {\n                result = callback(result, this[idx], idx, this);\n            }\n\n            return result;\n        },\n\n        reduceRight: function(callback) {\n            var idx = this.length - 1,\n                result;\n\n            if (arguments.length == 2) {\n                result = arguments[1];\n            } else if (idx > 0) {\n                result = this[idx--];\n            }\n\n            for (; idx >= 0; idx--) {\n                result = callback(result, this[idx], idx, this);\n            }\n\n            return result;\n        },\n\n        filter: function(callback, thisArg) {\n            var idx = 0;\n            var result = [];\n            var item;\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                item = this[idx];\n                if (callback.call(context, item, idx, this)) {\n                    result[result.length] = item;\n                }\n            }\n\n            return result;\n        },\n\n        find: function(callback, thisArg) {\n            var idx = 0;\n            var item;\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                item = this[idx];\n                if (callback.call(context, item, idx, this)) {\n                    return item;\n                }\n            }\n        },\n\n        every: function(callback, thisArg) {\n            var idx = 0;\n            var item;\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                item = this[idx];\n                if (!callback.call(context, item, idx, this)) {\n                    return false;\n                }\n            }\n\n            return true;\n        },\n\n        some: function(callback, thisArg) {\n            var idx = 0;\n            var item;\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                item = this[idx];\n                if (callback.call(context, item, idx, this)) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        // non-standard collection methods\n        remove: function(item) {\n            var idx = this.indexOf(item);\n\n            if (idx !== -1) {\n                this.splice(idx, 1);\n            }\n        },\n\n        empty: function() {\n            this.splice(0, this.length);\n        }\n    });\n\n    // Polyfill for Symbol.iterator\n    if (typeof Symbol !== \"undefined\" && Symbol.iterator && !ObservableArray.prototype[Symbol.iterator]) {\n        ObservableArray.prototype[Symbol.iterator] = [][Symbol.iterator];\n    }\n\n    var LazyObservableArray = ObservableArray.extend({\n        init: function (data, type, events) {\n            var parentFn = function() { return this; };\n\n            Observable.fn.init.call(this);\n\n            this.type = type || ObservableObject;\n\n            if (events) {\n                this._events = events;\n            }\n\n            for (var idx = 0; idx < data.length; idx++) {\n                this[idx] = data[idx];\n            }\n\n            this.length = idx;\n            this._parent = parentFn.bind(this);\n        },\n        at: function(index) {\n            var item = this[index];\n\n            if (!(item instanceof this.type)) {\n                item = this[index] = this.wrap(item, this._parent);\n            } else {\n                item.parent = this._parent;\n            }\n\n            return item;\n        }\n    });\n\n    function eventHandler(context, type, field, prefix) {\n        return function(e) {\n            var event = {}, key;\n\n            for (key in e) {\n                event[key] = e[key];\n            }\n\n            if (prefix) {\n                event.field = field + \".\" + e.field;\n            } else {\n                event.field = field;\n            }\n\n            if (type == CHANGE && context._notifyChange) {\n                context._notifyChange(event);\n            }\n\n            context.trigger(type, event);\n        };\n    }\n\n    function ownKeys (value, ignoreObjectKeys) {\n        var props = [];\n        var keys, filteredObjectKeys;\n\n        value = value || {};\n\n        keys = Object.getOwnPropertyNames(value);\n        filteredObjectKeys = objectKeys.filter(function(key){\n            return keys.indexOf(key) < 0;\n        });\n\n        while (value) {\n            Object.getOwnPropertyNames(value).forEach(function (prop) {\n                if (props.indexOf(prop) === -1 && (!ignoreObjectKeys || filteredObjectKeys.indexOf(prop) < 0)) {\n                    props.push(prop);\n                }\n            });\n            value = Object.getPrototypeOf(value);\n        }\n\n        return props;\n    }\n\n    objectKeys = ownKeys({}, false);\n\n    var ObservableObject = Observable.extend({\n        init: function(value) {\n            var that = this,\n                member,\n                keys = ownKeys(value, true),\n                parent = function() {\n                    return that;\n                };\n\n            Observable.fn.init.call(this);\n\n            this._handlers = {};\n\n            keys.forEach(function(field){\n                member = value[field];\n\n                if (typeof member === \"object\" && member && !member.getTime && field.charAt(0) != \"_\") {\n                    member = that.wrap(member, field, parent);\n                }\n\n                that[field] = member;\n            });\n\n            that.uid = kendo.guid();\n        },\n\n        shouldSerialize: function(field, serializeFunctions) {\n            return this.hasOwnProperty(field) && field !== \"_handlers\" && field !== \"_events\" && ((serializeFunctions && serializeFunctions[field]) || typeof this[field] !== FUNCTION) && field !== \"uid\";\n        },\n\n        forEach: function(f) {\n            for (var i in this) {\n                if (this.shouldSerialize(i)) {\n                    f(this[i], i);\n                }\n            }\n        },\n\n        toJSON: function (serializeFunctions) {\n            var result = {}, value, field;\n\n            for (field in this) {\n                if (this.shouldSerialize(field, serializeFunctions)) {\n                    value = this[field];\n\n                    if (value instanceof ObservableObject || value instanceof ObservableArray) {\n                        value = value.toJSON(serializeFunctions);\n                    }\n\n                    result[field] = value;\n                }\n            }\n\n            return result;\n        },\n\n        get: function(field) {\n            var that = this, result;\n\n            that.trigger(GET, { field: field });\n\n            if (field === \"this\") {\n                result = that;\n            } else {\n                result = kendo.getter(field, true)(that);\n            }\n\n            return result;\n        },\n\n        _set: function(field, value) {\n            var that = this;\n            var composite = field.indexOf(\".\") >= 0;\n\n            if (composite) {\n                var paths = field.split(\".\"),\n                    path = \"\";\n\n                while (paths.length > 1) {\n                    path += paths.shift();\n                    var obj = kendo.getter(path, true)(that);\n                    if (obj instanceof ObservableObject) {\n                        obj.set(paths.join(\".\"), value);\n                        return composite;\n                    }\n                    path += \".\";\n                }\n            }\n\n            kendo.setter(field)(that, value);\n\n            return composite;\n        },\n\n        set: function(field, value) {\n            var that = this,\n                isSetPrevented = false,\n                composite = field.indexOf(\".\") >= 0,\n                current = kendo.getter(field, true)(that);\n\n            if (current !== value) {\n                if (current instanceof Observable && this._handlers[field]) {\n                    if (this._handlers[field].get) {\n                       current.unbind(GET, this._handlers[field].get);\n                    }\n                    current.unbind(CHANGE, this._handlers[field].change);\n                }\n\n                isSetPrevented = that.trigger(\"set\", { field: field, value: value });\n\n                if (!isSetPrevented) {\n                    if (!composite) {\n                        value = that.wrap(value, field, function() { return that; });\n                    }\n                    if (!that._set(field, value) || field.indexOf(\"(\") >= 0 || field.indexOf(\"[\") >= 0) {\n                        that.trigger(CHANGE, { field: field });\n                    }\n                }\n            }\n\n            return isSetPrevented;\n        },\n\n        parent: noop,\n\n        wrap: function(object, field, parent) {\n            var that = this;\n            var get;\n            var change;\n            var type = toString.call(object);\n\n            if (object != null && (type === \"[object Object]\" || type === \"[object Array]\")) {\n                var isObservableArray = object instanceof ObservableArray;\n                var isDataSource = object instanceof DataSource;\n\n                if (type === \"[object Object]\" && !isDataSource && !isObservableArray) {\n                    if (!(object instanceof ObservableObject)) {\n                        object = new ObservableObject(object);\n                    }\n\n                    get = eventHandler(that, GET, field, true);\n                    object.bind(GET, get);\n                    change = eventHandler(that, CHANGE, field, true);\n                    object.bind(CHANGE, change);\n\n                    that._handlers[field] = { get: get, change: change };\n                } else if (type === \"[object Array]\" || isObservableArray || isDataSource) {\n                    if (!isObservableArray && !isDataSource) {\n                        object = new ObservableArray(object);\n                    }\n\n                    change = eventHandler(that, CHANGE, field, false);\n\n                    object.bind(CHANGE, change);\n\n                    that._handlers[field] = { change: change };\n                }\n\n                object.parent = parent;\n            }\n\n            return object;\n        }\n    });\n\n    function equal(x, y) {\n        if (x === y) {\n            return true;\n        }\n\n        var xtype = kendo.type(x), ytype = kendo.type(y), field;\n\n        if (xtype !== ytype) {\n            return false;\n        }\n\n        if (xtype === \"date\") {\n            return x.getTime() === y.getTime();\n        }\n\n        if (xtype !== \"object\" && xtype !== \"array\") {\n            return false;\n        }\n\n        for (field in x) {\n            if (!equal(x[field], y[field])) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    var parsers = {\n        \"number\": function(value) {\n            if (typeof value === STRING && value.toLowerCase() === \"null\") {\n                return null;\n            }\n            return kendo.parseFloat(value);\n        },\n\n        \"date\": function(value) {\n            if (typeof value === STRING && value.toLowerCase() === \"null\") {\n                return null;\n            }\n            return kendo.parseDate(value);\n        },\n\n        \"boolean\": function(value) {\n            if (typeof value === STRING) {\n                if (value.toLowerCase() === \"null\") {\n                    return null;\n                } else {\n                    return value.toLowerCase() === \"true\";\n                }\n            }\n            return value != null ? !!value : value;\n        },\n\n        \"string\": function(value) {\n            if (typeof value === STRING && value.toLowerCase() === \"null\") {\n                return null;\n            }\n            return value != null ? (value + \"\") : value;\n        },\n\n        \"default\": function(value) {\n            return value;\n        }\n    };\n\n    var defaultValues = {\n        \"string\": \"\",\n        \"number\": 0,\n        \"date\": new Date(),\n        \"boolean\": false,\n        \"default\": \"\"\n    };\n\n    function getFieldByName(obj, name) {\n        var field,\n            fieldName;\n\n        for (fieldName in obj) {\n            field = obj[fieldName];\n            if (isPlainObject(field) && field.field && field.field === name) {\n                return field;\n            } else if (field === name) {\n                return field;\n            }\n        }\n        return null;\n    }\n\n    var Model = ObservableObject.extend({\n        init: function(data) {\n            var that = this;\n\n            if (!data || $.isEmptyObject(data)) {\n                data = $.extend({}, that.defaults, data);\n\n                if (that._initializers) {\n                    for (var idx = 0; idx < that._initializers.length; idx++) {\n                         var name = that._initializers[idx];\n                         data[name] = that.defaults[name]();\n                    }\n                }\n            }\n\n            ObservableObject.fn.init.call(that, data);\n\n            that.dirty = false;\n            that.dirtyFields = {};\n\n            if (that.idField) {\n                that.id = that.get(that.idField);\n\n                if (that.id === undefined) {\n                    that.id = that._defaultId;\n                }\n            }\n        },\n\n        shouldSerialize: function(field) {\n            return ObservableObject.fn.shouldSerialize.call(this, field) &&\n                field !== \"uid\" && !(this.idField !== \"id\" && field === \"id\") &&\n                field !== \"dirty\" &&  field !== \"dirtyFields\" && field !== \"_accessors\";\n        },\n\n        _parse: function(field, value) {\n            var that = this,\n                fieldName = field,\n                fields = (that.fields || {}),\n                parse;\n\n            field = fields[field];\n            if (!field) {\n                field = getFieldByName(fields, fieldName);\n            }\n            if (field) {\n                parse = field.parse;\n                if (!parse && field.type) {\n                    parse = parsers[field.type.toLowerCase()];\n                }\n            }\n\n            return parse ? parse(value) : value;\n        },\n\n        _notifyChange: function(e) {\n            var action = e.action;\n\n            if (action == \"add\" || action == \"remove\") {\n                this.dirty = true;\n                this.dirtyFields[e.field] = true;\n            }\n        },\n\n        editable: function(field) {\n            field = (this.fields || {})[field];\n            return field ? field.editable !== false : true;\n        },\n\n        set: function(field, value) {\n            var that = this;\n            var dirty = that.dirty;\n\n            if (that.editable(field)) {\n                value = that._parse(field, value);\n\n                if (!equal(value, that.get(field))) {\n                    that.dirty = true;\n                    that.dirtyFields[field] = true;\n\n                    if (ObservableObject.fn.set.call(that, field, value) && !dirty) {\n                        that.dirty = dirty;\n\n                        if (!that.dirty) {\n                            that.dirtyFields[field] = false;\n                        }\n                    }\n                } else {\n                    that.trigger(\"equalSet\", { field: field, value: value });\n                }\n            }\n        },\n\n        accept: function(data) {\n            var that = this,\n                parent = function() { return that; },\n                field;\n\n            for (field in data) {\n                var value = data[field];\n\n                if (field.charAt(0) != \"_\") {\n                    value = that.wrap(data[field], field, parent);\n                }\n\n                that._set(field, value);\n            }\n\n            if (that.idField) {\n                that.id = that.get(that.idField);\n            }\n\n            that.dirty = false;\n            that.dirtyFields = {};\n        },\n\n        isNew: function() {\n            return this.id === this._defaultId;\n        }\n    });\n\n    Model.define = function(base, options) {\n        if (options === undefined) {\n            options = base;\n            base = Model;\n        }\n\n        var model,\n            proto = extend({ defaults: {} }, options),\n            name,\n            field,\n            type,\n            value,\n            idx,\n            length,\n            fields = {},\n            originalName,\n            id = proto.id,\n            functionFields = [];\n\n        if (id) {\n            proto.idField = id;\n        }\n\n        if (proto.id) {\n            delete proto.id;\n        }\n\n        if (id) {\n            proto.defaults[id] = proto._defaultId = \"\";\n        }\n\n        if (toString.call(proto.fields) === \"[object Array]\") {\n            for (idx = 0, length = proto.fields.length; idx < length; idx++) {\n                field = proto.fields[idx];\n                if (typeof field === STRING) {\n                    fields[field] = {};\n                } else if (field.field) {\n                    fields[field.field] = field;\n                }\n            }\n            proto.fields = fields;\n        }\n\n        for (name in proto.fields) {\n            field = proto.fields[name];\n            type = field.type || \"default\";\n            value = null;\n            originalName = name;\n\n            name = typeof (field.field) === STRING ? field.field : name;\n\n            if (!field.nullable) {\n                value = proto.defaults[originalName !== name ? originalName : name] = field.defaultValue !== undefined ? field.defaultValue : defaultValues[type.toLowerCase()];\n\n                if (typeof value === \"function\") {\n                    functionFields.push(name);\n                }\n            }\n\n            if (options.id === name) {\n                proto._defaultId = value;\n            }\n\n            proto.defaults[originalName !== name ? originalName : name] = value;\n\n            field.parse = field.parse || parsers[type];\n        }\n\n        if (functionFields.length > 0) {\n            proto._initializers = functionFields;\n        }\n\n        model = base.extend(proto);\n        model.define = function(options) {\n            return Model.define(model, options);\n        };\n\n        if (proto.fields) {\n            model.fields = proto.fields;\n            model.idField = proto.idField;\n        }\n\n        return model;\n    };\n\n    var Comparer = {\n        selector: function(field) {\n            return isFunction(field) ? field : getter(field);\n        },\n\n        compare: function(field) {\n            var selector = this.selector(field);\n            return function (a, b) {\n                a = selector(a);\n                b = selector(b);\n\n                if (a == null && b == null) {\n                    return 0;\n                }\n\n                if (a == null) {\n                    return -1;\n                }\n\n                if (b == null) {\n                    return 1;\n                }\n\n                if (a.localeCompare) {\n                    return a.localeCompare(b);\n                }\n\n                return a > b ? 1 : (a < b ? -1 : 0);\n            };\n        },\n\n        create: function(sort) {\n            var compare = sort.compare || this.compare(sort.field);\n\n            if (sort.dir == \"desc\") {\n                return function(a, b) {\n                    return compare(b, a, true);\n                };\n            }\n\n            return compare;\n        },\n\n        combine: function(comparers) {\n            return function(a, b) {\n                var result = comparers[0](a, b),\n                    idx,\n                    length;\n\n                for (idx = 1, length = comparers.length; idx < length; idx ++) {\n                    result = result || comparers[idx](a, b);\n                }\n\n                return result;\n            };\n        }\n    };\n\n    var StableComparer = extend({}, Comparer, {\n        asc: function(field) {\n            var selector = this.selector(field);\n            return function (a, b) {\n                var valueA = selector(a);\n                var valueB = selector(b);\n\n                if (valueA && valueA.getTime && valueB && valueB.getTime) {\n                    valueA = valueA.getTime();\n                    valueB = valueB.getTime();\n                }\n\n                if (valueA === valueB) {\n                    return a.__position - b.__position;\n                }\n\n                if (valueA == null) {\n                    return -1;\n                }\n\n                if (valueB == null) {\n                    return 1;\n                }\n\n                if (valueA.localeCompare) {\n                    return valueA.localeCompare(valueB);\n                }\n\n                return valueA > valueB ? 1 : -1;\n            };\n        },\n\n        desc: function(field) {\n            var selector = this.selector(field);\n            return function (a, b) {\n                var valueA = selector(a);\n                var valueB = selector(b);\n\n                if (valueA && valueA.getTime && valueB && valueB.getTime) {\n                    valueA = valueA.getTime();\n                    valueB = valueB.getTime();\n                }\n\n                if (valueA === valueB) {\n                    return a.__position - b.__position;\n                }\n\n                if (valueA == null) {\n                    return 1;\n                }\n\n                if (valueB == null) {\n                    return -1;\n                }\n\n                if (valueB.localeCompare) {\n                    return valueB.localeCompare(valueA);\n                }\n\n                return valueA < valueB ? 1 : -1;\n            };\n        },\n        create: function(sort) {\n           return this[sort.dir](sort.field);\n        }\n    });\n\n    map = function (array, callback) {\n        var idx, length = array.length, result = new Array(length);\n\n        for (idx = 0; idx < length; idx++) {\n            result[idx] = callback(array[idx], idx, array);\n        }\n\n        return result;\n    };\n\n    var operators = (function(){\n\n        function quote(str) {\n            if (typeof str == \"string\") {\n                str = str.replace(/[\\r\\n]+/g, \"\");\n            }\n            return JSON.stringify(str);\n        }\n\n        function textOp(impl) {\n            return function(a, b, ignore, accentFoldingFiltering) {\n                b += \"\";\n                if (ignore) {\n                    a = \"(\" + a + \" + '').toString()\" + ((accentFoldingFiltering) ? \".toLocaleLowerCase('\" + accentFoldingFiltering  +\"')\" : \".toLowerCase()\");\n                    b = ((accentFoldingFiltering) ? b.toLocaleLowerCase(accentFoldingFiltering) : b.toLowerCase());\n                }\n                return impl(a, quote(b), ignore);\n            };\n        }\n\n        function operator(op, a, b, ignore, accentFoldingFiltering) {\n            if (b != null) {\n                if (typeof b === STRING) {\n                    var date = dateRegExp.exec(b);\n                    if (date) {\n                        b = new Date(+date[1]);\n                    } else if (ignore) {\n                        b = quote(((accentFoldingFiltering) ? b.toLocaleLowerCase(accentFoldingFiltering) : b.toLowerCase()));\n                        a = \"((\" + a + \" || '')+'')\" + ((accentFoldingFiltering) ? \".toLocaleLowerCase('\" + accentFoldingFiltering  +\"')\" : \".toLowerCase()\");\n                    } else {\n                        b = quote(b);\n                    }\n                }\n\n                if (b.getTime) {\n                    //b looks like a Date\n                    a = \"(\" + a + \"&&\" + a + \".getTime?\" + a + \".getTime():\" + a + \")\";\n                    b = b.getTime();\n                }\n            }\n\n            return a + \" \" + op + \" \" + b;\n        }\n\n        function getMatchRegexp(pattern) {\n            // take a pattern, as supported by Excel match filter, and\n            // convert it to the equivalent JS regular expression.\n            // Excel patterns support:\n            //\n            //   * - match any sequence of characters\n            //   ? - match a single character\n            //\n            // to match a literal * or ?, they must be prefixed by a tilde (~)\n            for (var rx = \"/^\", esc = false, i = 0; i < pattern.length; ++i) {\n                var ch = pattern.charAt(i);\n                if (esc) {\n                    rx += \"\\\\\" + ch;\n                } else if (ch == \"~\") {\n                    esc = true;\n                    continue;\n                } else if (ch == \"*\") {\n                    rx += \".*\";\n                } else if (ch == \"?\") {\n                    rx += \".\";\n                } else if (\".+^$()[]{}|\\\\/\\n\\r\\u2028\\u2029\\xA0\".indexOf(ch) >= 0) {\n                    rx += \"\\\\\" + ch;\n                } else {\n                    rx += ch;\n                }\n                esc = false;\n            }\n            return rx + \"$/\";\n        }\n\n        return {\n            quote: function(value) {\n                if (value && value.getTime) {\n                    return \"new Date(\" + value.getTime() + \")\";\n                }\n                return quote(value);\n            },\n            eq: function(a, b, ignore, accentFoldingFiltering) {\n                return operator(\"==\", a, b, ignore, accentFoldingFiltering);\n            },\n            neq: function(a, b, ignore, accentFoldingFiltering) {\n                return operator(\"!=\", a, b, ignore, accentFoldingFiltering);\n            },\n            gt: function(a, b, ignore) {\n                return operator(\">\", a, b, ignore);\n            },\n            gte: function(a, b, ignore) {\n                return operator(\">=\", a, b, ignore);\n            },\n            lt: function(a, b, ignore) {\n                return operator(\"<\", a, b, ignore);\n            },\n            lte: function(a, b, ignore) {\n                return operator(\"<=\", a, b, ignore);\n            },\n            startswith: textOp(function(a, b) {\n                return a + \".lastIndexOf(\" + b + \", 0) == 0\";\n            }),\n            doesnotstartwith: textOp(function(a, b) {\n                return a + \".lastIndexOf(\" + b + \", 0) == -1\";\n            }),\n            endswith: textOp(function(a, b) {\n                var n = b ? b.length - 2 : 0;\n                return a + \".indexOf(\" + b + \", \" + a + \".length - \" + n + \") >= 0\";\n            }),\n            doesnotendwith: textOp(function(a, b) {\n                var n = b ? b.length - 2 : 0;\n                return a + \".indexOf(\" + b + \", \" + a + \".length - \" + n + \") < 0\";\n            }),\n            contains: textOp(function(a, b) {\n                return a + \".indexOf(\" + b + \") >= 0\";\n            }),\n            doesnotcontain: textOp(function(a, b) {\n                return a + \".indexOf(\" + b + \") == -1\";\n            }),\n            matches: textOp(function(a, b){\n                b = b.substring(1, b.length - 1);\n                return getMatchRegexp(b) + \".test(\" + a + \")\";\n            }),\n            doesnotmatch: textOp(function(a, b){\n                b = b.substring(1, b.length - 1);\n                return \"!\" + getMatchRegexp(b) + \".test(\" + a + \")\";\n            }),\n            isempty: function(a) {\n                return a + \" === ''\";\n            },\n            isnotempty: function(a) {\n                return a + \" !== ''\";\n            },\n            isnull: function(a) {\n                return \"(\" + a + \" == null)\";\n            },\n            isnotnull: function(a) {\n                return \"(\" + a + \" != null)\";\n            },\n            isnullorempty: function(a) {\n                return \"(\" + a + \" === null) || (\" + a + \" === '')\";\n            },\n            isnotnullorempty: function(a) {\n                return \"(\" + a + \" !== null) && (\" + a + \" !== '')\";\n            }\n        };\n    })();\n\n    function Query(data) {\n        this.data = data || [];\n    }\n\n    Query.filterExpr = function(expression) {\n        var expressions = [],\n            logic = { and: \" && \", or: \" || \" },\n            idx,\n            length,\n            filter,\n            expr,\n            fieldFunctions = [],\n            operatorFunctions = [],\n            field,\n            operator,\n            filters = expression.filters;\n\n        for (idx = 0, length = filters.length; idx < length; idx++) {\n            filter = filters[idx];\n            field = filter.field;\n            operator = filter.operator;\n\n            if (filter.filters) {\n                expr = Query.filterExpr(filter);\n                //Nested function fields or operators - update their index e.g. __o[0] -> __o[1]\n                filter = expr.expression\n                .replace(/__o\\[(\\d+)\\]/g, function(match, index) {\n                    index = +index;\n                    return \"__o[\" + (operatorFunctions.length + index) + \"]\";\n                })\n                .replace(/__f\\[(\\d+)\\]/g, function(match, index) {\n                    index = +index;\n                    return \"__f[\" + (fieldFunctions.length + index) + \"]\";\n                });\n\n                operatorFunctions.push.apply(operatorFunctions, expr.operators);\n                fieldFunctions.push.apply(fieldFunctions, expr.fields);\n            } else {\n                if (typeof field === FUNCTION) {\n                    expr = \"__f[\" + fieldFunctions.length +\"](d)\";\n                    fieldFunctions.push(field);\n                } else {\n                    expr = kendo.expr(field);\n                }\n\n                if (typeof operator === FUNCTION) {\n                    filter = \"__o[\" + operatorFunctions.length + \"](\" + expr + \", \" + operators.quote(filter.value) + \")\";\n                    operatorFunctions.push(operator);\n                } else {\n                    filter = operators[(operator || \"eq\").toLowerCase()](expr, filter.value, filter.ignoreCase !== undefined? filter.ignoreCase : true, expression.accentFoldingFiltering);\n                }\n            }\n\n            expressions.push(filter);\n        }\n\n        return  { expression: \"(\" + expressions.join(logic[expression.logic]) + \")\", fields: fieldFunctions, operators: operatorFunctions };\n    };\n\n    function normalizeSort(field, dir) {\n        if (field) {\n            var descriptor = typeof field === STRING ? { field: field, dir: dir } : field,\n            descriptors = isArray(descriptor) ? descriptor : (descriptor !== undefined ? [descriptor] : []);\n\n            return grep(descriptors, function(d) { return !!d.dir; });\n        }\n    }\n\n    function sortFields(sorts, dir) {\n        var sortObject = {};\n\n        if (sorts) {\n            var descriptor = typeof sorts === STRING ? { field: sorts, dir: dir } : sorts,\n            descriptors = isArray(descriptor) ? descriptor : (descriptor !== undefined ? [descriptor] : []);\n\n            for (var i = 0; i < descriptors.length; i++) {\n                sortObject[descriptors[i].field] = { dir: descriptors[i].dir, index: i + 1 };\n            }\n        }\n\n        return sortObject;\n    }\n\n    var operatorMap = {\n        \"==\": \"eq\",\n        equals: \"eq\",\n        isequalto: \"eq\",\n        equalto: \"eq\",\n        equal: \"eq\",\n        \"!=\": \"neq\",\n        ne: \"neq\",\n        notequals: \"neq\",\n        isnotequalto: \"neq\",\n        notequalto: \"neq\",\n        notequal: \"neq\",\n        \"<\": \"lt\",\n        islessthan: \"lt\",\n        lessthan: \"lt\",\n        less: \"lt\",\n        \"<=\": \"lte\",\n        le: \"lte\",\n        islessthanorequalto: \"lte\",\n        lessthanequal: \"lte\",\n        \">\": \"gt\",\n        isgreaterthan: \"gt\",\n        greaterthan: \"gt\",\n        greater: \"gt\",\n        \">=\": \"gte\",\n        isgreaterthanorequalto: \"gte\",\n        greaterthanequal: \"gte\",\n        ge: \"gte\",\n        notsubstringof: \"doesnotcontain\",\n        isnull: \"isnull\",\n        isempty: \"isempty\",\n        isnotempty: \"isnotempty\"\n    };\n\n    function normalizeOperator(expression) {\n        var idx,\n        length,\n        filter,\n        operator,\n        filters = expression.filters;\n\n        if (filters) {\n            for (idx = 0, length = filters.length; idx < length; idx++) {\n                filter = filters[idx];\n                operator = filter.operator;\n\n                if (operator && typeof operator === STRING) {\n                    filter.operator = operatorMap[operator.toLowerCase()] || operator;\n                }\n\n                normalizeOperator(filter);\n            }\n        }\n    }\n\n    function normalizeFilter(expression) {\n        if (expression && !isEmptyObject(expression)) {\n            if (isArray(expression) || !expression.filters) {\n                expression = {\n                    logic: \"and\",\n                    filters: isArray(expression) ? expression : [expression]\n                };\n            }\n\n            normalizeOperator(expression);\n\n            return expression;\n        }\n    }\n\n    Query.normalizeFilter = normalizeFilter;\n\n    function compareDescriptor(f1, f2) {\n        if (f1.logic || f2.logic) {\n            return false;\n        }\n\n        return f1.field === f2.field && f1.value === f2.value && f1.operator === f2.operator;\n    }\n\n    function normalizeDescriptor(filter) {\n        filter = filter || {};\n\n        if (isEmptyObject(filter)) {\n            return { logic: \"and\", filters: [] };\n        }\n\n        return normalizeFilter(filter);\n    }\n\n    function fieldComparer(a, b) {\n        if (b.logic || (a.field > b.field)) {\n            return 1;\n        } else if (a.field < b.field) {\n            return -1;\n        } else {\n            return 0;\n        }\n    }\n\n    function compareFilters(expr1, expr2) {\n        expr1 = normalizeDescriptor(expr1);\n        expr2 = normalizeDescriptor(expr2);\n\n        if (expr1.logic !== expr2.logic) {\n            return false;\n        }\n\n        var f1, f2;\n        var filters1 = (expr1.filters || []).slice();\n        var filters2 = (expr2.filters || []).slice();\n\n        if (filters1.length !== filters2.length) {\n            return false;\n        }\n\n        filters1 = filters1.sort(fieldComparer);\n        filters2 = filters2.sort(fieldComparer);\n\n        for (var idx = 0; idx < filters1.length; idx++) {\n            f1 = filters1[idx];\n            f2 = filters2[idx];\n\n            if (f1.logic && f2.logic) {\n                if (!compareFilters(f1, f2)) {\n                    return false;\n                }\n            } else if (!compareDescriptor(f1, f2)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    Query.compareFilters = compareFilters;\n\n    function normalizeAggregate(expressions) {\n        return isArray(expressions) ? expressions : [expressions];\n    }\n\n    function normalizeGroup(field, dir, compare, skipItemSorting) {\n        var descriptor = typeof field === STRING ? { field: field, dir: dir, compare: compare, skipItemSorting : skipItemSorting } : field,\n        descriptors = isArray(descriptor) ? descriptor : (descriptor !== undefined ? [descriptor] : []);\n\n        return map(descriptors, function(d) {\n            return {\n                field: d.field,\n                dir: d.dir || \"asc\",\n                aggregates: d.aggregates,\n                compare: d.compare,\n                skipItemSorting: d.skipItemSorting\n            };\n        });\n    }\n\n    function normalizeGroupWithoutCompare(field, dir, compare) {\n        var descriptors = normalizeGroup(field, dir, compare);\n\n        for (var i = 0; i < descriptors.length; i++) {\n            delete descriptors[i].compare;\n        }\n\n        return descriptors;\n    }\n\n    function anyGroupDescriptorHasCompare(groupDescriptors) {\n        var descriptors = isArray(groupDescriptors) ? groupDescriptors : [groupDescriptors];\n\n        for (var i = 0; i < descriptors.length; i++) {\n            if (descriptors[i] && isFunction(descriptors[i].compare)) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    Query.prototype = {\n        toArray: function () {\n            return this.data;\n        },\n        range: function(index, count) {\n            return new Query(this.data.slice(index, index + count));\n        },\n        skip: function (count) {\n            return new Query(this.data.slice(count));\n        },\n        take: function (count) {\n            return new Query(this.data.slice(0, count));\n        },\n        select: function (selector) {\n            return new Query(map(this.data, selector));\n        },\n        order: function(selector, dir, inPlace) {\n            var sort = { dir: dir };\n\n            if (selector) {\n                if (selector.compare) {\n                    sort.compare = selector.compare;\n                } else {\n                    sort.field = selector;\n                }\n            }\n\n            if (inPlace) {\n                return new Query(this.data.sort(Comparer.create(sort)));\n            }\n\n            return new Query(this.data.slice(0).sort(Comparer.create(sort)));\n        },\n        orderBy: function(selector, inPlace) {\n            return this.order(selector, \"asc\", inPlace);\n        },\n        orderByDescending: function(selector, inPlace) {\n            return this.order(selector, \"desc\", inPlace);\n        },\n        sort: function(field, dir, comparer, inPlace) {\n            var idx,\n            length,\n            descriptors = normalizeSort(field, dir),\n            comparers = [];\n\n            comparer = comparer || Comparer;\n\n            if (descriptors.length) {\n                for (idx = 0, length = descriptors.length; idx < length; idx++) {\n                    comparers.push(comparer.create(descriptors[idx]));\n                }\n\n                return this.orderBy({ compare: comparer.combine(comparers) }, inPlace);\n            }\n\n            return this;\n        },\n\n        filter: function(expressions) {\n            var idx,\n            current,\n            length,\n            compiled,\n            predicate,\n            data = this.data,\n            fields,\n            operators,\n            result = [],\n            filter;\n\n            expressions = normalizeFilter(expressions);\n\n            if (!expressions || expressions.filters.length === 0) {\n                return this;\n            }\n\n            compiled = Query.filterExpr(expressions);\n            fields = compiled.fields;\n            operators = compiled.operators;\n\n            predicate = filter = new Function(\"d, __f, __o\", \"return \" + compiled.expression);\n\n            if (fields.length || operators.length) {\n                filter = function(d) {\n                    return predicate(d, fields, operators);\n                };\n            }\n\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                current = data[idx];\n\n                if (filter(current)) {\n                    result.push(current);\n                }\n            }\n\n            return new Query(result);\n        },\n\n        group: function(descriptors, allData, options) {\n            descriptors =  normalizeGroup(descriptors || []);\n            allData = allData || this.data;\n\n            var that = this,\n            result = new Query(that.data),\n            descriptor;\n\n            if (descriptors.length > 0) {\n                descriptor = descriptors[0];\n\n                if (options && options.groupPaging) {\n                    result = new Query(allData).groupAllData(descriptor, allData).select(function (group) {\n                        var data = new Query(allData).filter([{\n                            field: group.field,\n                            operator: \"eq\",\n                            value: group.value,\n                            ignoreCase: false\n                        }]);\n                        var items = descriptors.length > 1 ? new Query(group.items).group(descriptors.slice(1), data.toArray(), options).toArray() : group.items;\n                        return {\n                            field: group.field,\n                            value: group.value,\n                            hasSubgroups: descriptors.length > 1,\n                            items: items,\n                            aggregates: data.aggregate(descriptor.aggregates),\n                            uid: kendo.guid(),\n                            itemCount: items.length,\n                            subgroupCount: items.length\n                        };\n                    });\n\n                } else {\n                    result = result.groupBy(descriptor).select(function(group) {\n                        var data = new Query(allData).filter([ { field: group.field, operator: \"eq\", value: group.value, ignoreCase: false } ]);\n                        return {\n                            field: group.field,\n                            value: group.value,\n                            items: descriptors.length > 1 ? new Query(group.items).group(descriptors.slice(1), data.toArray()).toArray() : group.items,\n                            hasSubgroups: descriptors.length > 1,\n                            aggregates: data.aggregate(descriptor.aggregates)\n                        };\n                    });\n                }\n            }\n            return result;\n        },\n\n        groupBy: function(descriptor) {\n            var that = this;\n\n            if (isEmptyObject(descriptor) || !this.data.length) {\n                return new Query([]);\n            }\n\n            var field = descriptor.field,\n                sorted = descriptor.skipItemSorting ? this.data : this._sortForGrouping(field, descriptor.dir || \"asc\"),\n                accessor = kendo.accessor(field),\n                item,\n                groupValue = accessor.get(sorted[0], field),\n                group = {\n                    field: field,\n                    value: groupValue,\n                    items: []\n                },\n                currentValue,\n                idx,\n                len,\n                result = [group];\n\n            for(idx = 0, len = sorted.length; idx < len; idx++) {\n                item = sorted[idx];\n                currentValue = accessor.get(item, field);\n                if(!groupValueComparer(groupValue, currentValue)) {\n                    groupValue = currentValue;\n                    group = {\n                        field: field,\n                        value: groupValue,\n                        items: []\n                    };\n                    result.push(group);\n                }\n                group.items.push(item);\n            }\n\n            result = that._sortGroups(result, descriptor);\n\n            return new Query(result);\n        },\n\n        groupAllData: function (descriptor, allData) {\n            if (isEmptyObject(descriptor) || this.data && !this.data.length) {\n                return new Query([]);\n            }\n\n            var field = descriptor.field,\n                sorted = descriptor.skipItemSorting ? allData : new Query(allData).sort(field, descriptor.dir || \"asc\", StableComparer).toArray(),\n                accessor = kendo.accessor(field),\n                item,\n                groupValue = accessor.get(sorted[0], field),\n                group = {\n                    field: field,\n                    value: groupValue,\n                    items: []\n                },\n                currentValue,\n                idx,\n                len,\n                result = [group];\n\n            for (idx = 0, len = sorted.length; idx < len; idx++) {\n                item = sorted[idx];\n                currentValue = accessor.get(item, field);\n                if (!groupValueComparer(groupValue, currentValue)) {\n                    groupValue = currentValue;\n                    group = {\n                        field: field,\n                        value: groupValue,\n                        items: []\n                    };\n                    result.push(group);\n                }\n                group.items.push(item);\n            }\n\n            result = this._sortGroups(result, descriptor);\n\n            return new Query(result);\n        },\n\n        _sortForGrouping: function(field, dir) {\n            var idx, length,\n                data = this.data;\n\n            if (!stableSort) {\n                for (idx = 0, length = data.length; idx < length; idx++) {\n                    data[idx].__position = idx;\n                }\n\n                data = new Query(data).sort(field, dir, StableComparer).toArray();\n\n                for (idx = 0, length = data.length; idx < length; idx++) {\n                    delete data[idx].__position;\n                }\n                return data;\n            }\n\n            return this.sort(field, dir).toArray();\n        },\n\n        _sortGroups: function(groups, descriptor) {\n            var result = groups;\n\n            if (descriptor && isFunction(descriptor.compare)) {\n                result = new Query(result).order({ compare: descriptor.compare }, descriptor.dir || ASCENDING).toArray();\n            }\n\n            return result;\n        },\n\n        aggregate: function (aggregates) {\n            var idx,\n                len,\n                result = {},\n                state = {};\n\n            if (aggregates && aggregates.length) {\n                for(idx = 0, len = this.data.length; idx < len; idx++) {\n                    calculateAggregate(result, aggregates, this.data[idx], idx, len, state);\n                }\n            }\n            return result;\n        }\n    };\n\n    function groupValueComparer(a, b) {\n        if (a && a.getTime && b && b.getTime) {\n            return a.getTime() === b.getTime();\n        }\n        return a === b;\n    }\n\n    function calculateAggregate(accumulator, aggregates, item, index, length, state) {\n        aggregates = aggregates || [];\n        var idx,\n            aggr,\n            functionName,\n            len = aggregates.length;\n\n        for (idx = 0; idx < len; idx++) {\n            aggr = aggregates[idx];\n            functionName = aggr.aggregate;\n            var field = aggr.field;\n            accumulator[field] = accumulator[field] || {};\n            state[field] = state[field] || {};\n            state[field][functionName] = state[field][functionName] || {};\n            accumulator[field][functionName] = functions[functionName.toLowerCase()](accumulator[field][functionName], item, kendo.accessor(field), index, length, state[field][functionName]);\n        }\n    }\n\n    var functions = {\n        sum: function(accumulator, item, accessor) {\n            var value = accessor.get(item);\n\n            if (!isNumber(accumulator)) {\n                accumulator = value;\n            } else if (isNumber(value)) {\n                accumulator += value;\n            }\n\n            return accumulator;\n        },\n        count: function(accumulator) {\n            return (accumulator || 0) + 1;\n        },\n        average: function(accumulator, item, accessor, index, length, state) {\n            var value = accessor.get(item);\n\n            if (state.count === undefined) {\n                state.count = 0;\n            }\n\n            if (!isNumber(accumulator)) {\n                accumulator = value;\n            } else if (isNumber(value)) {\n                accumulator += value;\n            }\n\n            if (isNumber(value)) {\n                state.count++;\n            }\n\n            if(index == length - 1 && isNumber(accumulator)) {\n                accumulator = accumulator / state.count;\n            }\n            return accumulator;\n        },\n        max: function(accumulator, item, accessor) {\n            var value = accessor.get(item);\n\n            if (!isNumber(accumulator) && !isDate(accumulator)) {\n                accumulator = value;\n            }\n\n            if(accumulator < value && (isNumber(value) || isDate(value))) {\n                accumulator = value;\n            }\n            return accumulator;\n        },\n        min: function(accumulator, item, accessor) {\n            var value = accessor.get(item);\n\n            if (!isNumber(accumulator) && !isDate(accumulator)) {\n                accumulator = value;\n            }\n\n            if(accumulator > value && (isNumber(value) || isDate(value))) {\n                accumulator = value;\n            }\n            return accumulator;\n        }\n    };\n\n    function isNumber(val) {\n        return typeof val === \"number\" && !isNaN(val);\n    }\n\n    function isDate(val) {\n        return val && val.getTime;\n    }\n\n    function toJSON(array) {\n        var idx, length = array.length, result = new Array(length);\n\n        for (idx = 0; idx < length; idx++) {\n            result[idx] = array[idx].toJSON();\n        }\n\n        return result;\n    }\n\n    Query.normalizeGroup = normalizeGroup;\n    Query.normalizeSort = normalizeSort;\n\n    Query.process = function(data, options, inPlace) {\n        options = options || {};\n\n        var group = options.group;\n        var customGroupSort = anyGroupDescriptorHasCompare(normalizeGroup(group || []));\n        var query = new Query(data),\n            groupDescriptorsWithoutCompare = normalizeGroupWithoutCompare(group || []),\n            normalizedSort = normalizeSort(options.sort || []),\n            sort = customGroupSort ? normalizedSort : groupDescriptorsWithoutCompare.concat(normalizedSort),\n            groupDescriptorsWithoutSort,\n            total,\n            filterCallback = options.filterCallback,\n            filter = options.filter,\n            skip = options.skip,\n            take = options.take;\n\n        if (sort && inPlace) {\n            query = query.sort(sort, undefined, undefined, inPlace);\n        }\n\n        if (filter) {\n            query = query.filter(filter);\n\n            if (filterCallback) {\n                query = filterCallback(query);\n            }\n\n            total = query.toArray().length;\n        }\n\n        if (sort) {\n            if (!inPlace) {\n                query = query.sort(sort);\n            }\n\n            if (group) {\n                data = query.toArray();\n            }\n        }\n\n        if (customGroupSort) {\n            query = query.group(group, data, options);\n\n            if (skip !== undefined && take !== undefined && !options.groupPaging) {\n                query = new Query(flatGroups(query.toArray())).range(skip, take);\n\n                groupDescriptorsWithoutSort = map(groupDescriptorsWithoutCompare, function(groupDescriptor) {\n                    return extend({}, groupDescriptor, {\n                        skipItemSorting: true\n                    });\n                });\n\n                query = query.group(groupDescriptorsWithoutSort, data, options);\n            }\n        } else {\n            if (skip !== undefined && take !== undefined) {\n                total = query.data.length;\n\n                if (skip + take > total && options.virtual) {\n                    skip -= skip + take - total;\n                }\n                query = query.range(skip, take);\n            }\n\n            if (group && (!isEmptyObject(group) || group.length !== 0)) {\n                query = query.group(group, data, options);\n            }\n        }\n\n        return {\n            total: total,\n            data: query.toArray()\n        };\n    };\n\n    var LocalTransport = Class.extend({\n        init: function(options) {\n            this.data = options.data;\n        },\n\n        read: function(options) {\n            options.success(this.data);\n        },\n        update: function(options) {\n            options.success(options.data);\n        },\n        create: function(options) {\n            options.success(options.data);\n        },\n        destroy: function(options) {\n            options.success(options.data);\n        }\n    });\n\n    var RemoteTransport = Class.extend( {\n        init: function(options) {\n            var that = this, parameterMap;\n\n            options = that.options = extend({}, that.options, options);\n\n            each(crud, function(index, type) {\n                if (typeof options[type] === STRING) {\n                    options[type] = {\n                        url: options[type]\n                    };\n                }\n            });\n\n            that.cache = options.cache? Cache.create(options.cache) : {\n                find: noop,\n                add: noop\n            };\n\n            parameterMap = options.parameterMap;\n\n            if (options.submit) {\n                that.submit = options.submit;\n            }\n\n            if (isFunction(options.push)) {\n                that.push = options.push;\n            }\n\n            if (!that.push) {\n                that.push = identity;\n            }\n\n            that.parameterMap = isFunction(parameterMap) ? parameterMap : function(options) {\n                var result = {};\n\n                each(options, function(option, value) {\n                    if (option in parameterMap) {\n                        option = parameterMap[option];\n                        if (isPlainObject(option)) {\n                            value = option.value(value);\n                            option = option.key;\n                        }\n                    }\n\n                    result[option] = value;\n                });\n\n                return result;\n            };\n        },\n\n        options: {\n            parameterMap: identity\n        },\n\n        create: function(options) {\n            return ajax(this.setup(options, CREATE));\n        },\n\n        read: function(options) {\n            var that = this,\n                success,\n                error,\n                result,\n                cache = that.cache;\n\n            options = that.setup(options, READ);\n\n            success = options.success || noop;\n            error = options.error || noop;\n\n            result = cache.find(options.data);\n\n            if(result !== undefined) {\n                success(result);\n            } else {\n                options.success = function(result) {\n                    cache.add(options.data, result);\n\n                    success(result);\n                };\n\n                $.ajax(options);\n            }\n        },\n\n        update: function(options) {\n            return ajax(this.setup(options, UPDATE));\n        },\n\n        destroy: function(options) {\n            return ajax(this.setup(options, DESTROY));\n        },\n\n        setup: function(options, type) {\n            options = options || {};\n\n            var that = this,\n                parameters,\n                operation = that.options[type],\n                data = isFunction(operation.data) ? operation.data(options.data) : operation.data;\n\n            options = extend(true, {}, operation, options);\n            parameters = extend(true, {}, data, options.data);\n\n            options.data = that.parameterMap(parameters, type);\n\n            if (isFunction(options.url)) {\n                options.url = options.url(parameters);\n            }\n\n            return options;\n        }\n    });\n\n    var Cache = Class.extend({\n        init: function() {\n            this._store = {};\n        },\n        add: function(key, data) {\n            if(key !== undefined) {\n                this._store[stringify(key)] = data;\n            }\n        },\n        find: function(key) {\n            return this._store[stringify(key)];\n        },\n        clear: function() {\n            this._store = {};\n        },\n        remove: function(key) {\n            delete this._store[stringify(key)];\n        }\n    });\n\n    Cache.create = function(options) {\n        var store = {\n            \"inmemory\": function() { return new Cache(); }\n        };\n\n        if (isPlainObject(options) && isFunction(options.find)) {\n            return options;\n        }\n\n        if (options === true) {\n            return new Cache();\n        }\n\n        return store[options]();\n    };\n\n    function serializeRecords(data, getters, modelInstance, originalFieldNames, fieldNames) {\n        var record,\n            getter,\n            originalName,\n            idx,\n            setters = {},\n            length;\n\n        for (idx = 0, length = data.length; idx < length; idx++) {\n            record = data[idx];\n            for (getter in getters) {\n                originalName = fieldNames[getter];\n\n                if (originalName && originalName !== getter) {\n                    if (!setters[originalName]) {\n                        setters[originalName] = kendo.setter(originalName);\n                    }\n                    setters[originalName](record, getters[getter](record));\n                    delete record[getter];\n                }\n            }\n        }\n    }\n\n    function convertRecords(data, getters, modelInstance, originalFieldNames, fieldNames) {\n        var record,\n            getter,\n            originalName,\n            idx,\n            length;\n\n        for (idx = 0, length = data.length; idx < length; idx++) {\n            record = data[idx];\n            for (getter in getters) {\n                record[getter] = modelInstance._parse(getter, getters[getter](record));\n\n                originalName = fieldNames[getter];\n                if (originalName && originalName !== getter) {\n                    delete record[originalName];\n                }\n            }\n        }\n    }\n\n    function convertGroup(data, getters, modelInstance, originalFieldNames, fieldNames) {\n        var record,\n            idx,\n            fieldName,\n            length;\n\n        for (idx = 0, length = data.length; idx < length; idx++) {\n            record = data[idx];\n\n            fieldName = originalFieldNames[record.field];\n            if (fieldName && fieldName != record.field) {\n                record.field = fieldName;\n            }\n\n            record.value = modelInstance._parse(record.field, record.value);\n\n            if (record.items) {\n                if (record.hasSubgroups) {\n                    convertGroup(record.items, getters, modelInstance, originalFieldNames, fieldNames);\n                } else {\n                    convertRecords(record.items, getters, modelInstance, originalFieldNames, fieldNames);\n                }\n            }\n        }\n    }\n\n    function wrapDataAccess(originalFunction, model, converter, getters, originalFieldNames, fieldNames) {\n        return function(data) {\n            data = originalFunction(data);\n\n            return wrapDataAccessBase(model, converter, getters, originalFieldNames, fieldNames)(data);\n        };\n    }\n\n    function wrapDataAccessBase(model, converter, getters, originalFieldNames, fieldNames) {\n        return function(data) {\n\n            if (data && !isEmptyObject(getters)) {\n                if (toString.call(data) !== \"[object Array]\" && !(data instanceof ObservableArray)) {\n                    data = [data];\n                }\n\n                converter(data, getters, new model(), originalFieldNames, fieldNames);\n            }\n\n            return data || [];\n        };\n    }\n\n    var DataReader = Class.extend({\n        init: function(schema) {\n            var that = this, member, get, model, base;\n\n            schema = schema || {};\n\n            for (member in schema) {\n                get = schema[member];\n\n                that[member] = typeof get === STRING ? getter(get) : get;\n            }\n\n            base = schema.modelBase || Model;\n\n            if (isPlainObject(that.model)) {\n                that.model = model = base.define(that.model);\n            }\n\n            var dataFunction = that.data.bind(that);\n\n            that._dataAccessFunction = dataFunction;\n\n            if (that.model) {\n                var groupsFunction = that.groups.bind(that),\n                    serializeFunction = that.serialize.bind(that),\n                    originalFieldNames = {},\n                    getters = {},\n                    serializeGetters = {},\n                    fieldNames = {},\n                    shouldSerialize = false,\n                    fieldName,\n                    name;\n\n                model = that.model;\n\n                if (model.fields) {\n                    each(model.fields, function(field, value) {\n                        var fromName;\n\n                        fieldName = field;\n\n                        if (isPlainObject(value) && value.field) {\n                            fieldName = value.field;\n                        } else if (typeof value === STRING) {\n                            fieldName = value;\n                        }\n\n                        if (isPlainObject(value) && value.from) {\n                            fromName = value.from;\n                        }\n\n                        shouldSerialize = shouldSerialize || (fromName && fromName !== field) || fieldName !== field;\n                        name = fromName || fieldName;\n                        getters[field] = name.indexOf(\".\") !== -1 ? getter(name, true) : getter(name);\n                        serializeGetters[field] = getter(field);\n                        originalFieldNames[fromName || fieldName] = field;\n                        fieldNames[field] = fromName || fieldName;\n                    });\n\n                    if (!schema.serialize && shouldSerialize) {\n                        that.serialize = wrapDataAccess(serializeFunction, model, serializeRecords, serializeGetters, originalFieldNames, fieldNames);\n                    }\n                }\n\n                that._dataAccessFunction = dataFunction;\n                that._wrapDataAccessBase = wrapDataAccessBase(model, convertRecords, getters, originalFieldNames, fieldNames);\n                that.data = wrapDataAccess(dataFunction, model, convertRecords, getters, originalFieldNames, fieldNames);\n                that.groups = wrapDataAccess(groupsFunction, model, convertGroup, getters, originalFieldNames, fieldNames);\n            }\n        },\n        errors: function(data) {\n            return data ? data.errors : null;\n        },\n        parse: identity,\n        data: identity,\n        total: function(data) {\n            return data.length;\n        },\n        groups: identity,\n        aggregates: function() {\n            return {};\n        },\n        serialize: function(data) {\n            return data;\n        }\n    });\n\n    function fillLastGroup(originalGroup, newGroup) {\n        var currOriginal;\n        var currentNew;\n\n        if (newGroup.items && newGroup.items.length) {\n            for (var i = 0; i < newGroup.items.length; i++) {\n                currOriginal = originalGroup.items[originalGroup.items.length - 1];\n                currentNew = newGroup.items[i];\n                if (currOriginal && currentNew) {\n                    if (currOriginal.hasSubgroups && currOriginal.value == currentNew.value) {\n                        fillLastGroup(currOriginal, currentNew);\n                    } else if (currOriginal.field && currOriginal.value == currentNew.value) {\n                        currOriginal.items.push.apply(currOriginal.items, currentNew.items);\n                    } else {\n                        originalGroup.items.push.apply(originalGroup.items, [currentNew]);\n                    }\n                } else if (currentNew) {\n                    originalGroup.items.push.apply(originalGroup.items, [currentNew]);\n                }\n            }\n        }\n    }\n    function mergeGroups(target, dest, skip, take) {\n        var group,\n            idx = 0,\n            items;\n\n        while (dest.length && take) {\n            group = dest[idx];\n            items = group.items;\n\n            var length = items.length;\n\n            if (target && target.field === group.field && target.value === group.value) {\n                if (target.hasSubgroups && target.items.length) {\n                    mergeGroups(target.items[target.items.length - 1], group.items, skip, take);\n                } else {\n                    items = items.slice(skip, skip + take);\n                    target.items = target.items.concat(items);\n                }\n                dest.splice(idx--, 1);\n            } else if (group.hasSubgroups && items.length) {\n                mergeGroups(group, items, skip, take);\n                if (!group.items.length) {\n                    dest.splice(idx--, 1);\n                }\n            } else {\n                items = items.slice(skip, skip + take);\n                group.items = items;\n\n                if (!group.items.length) {\n                    dest.splice(idx--, 1);\n                }\n            }\n\n            if (items.length === 0) {\n                skip -= length;\n            } else {\n                skip = 0;\n                take -= items.length;\n            }\n\n            if (++idx >= dest.length) {\n                break;\n            }\n        }\n\n        if (idx < dest.length) {\n            dest.splice(idx, dest.length - idx);\n        }\n    }\n\n    function flatGroups(groups, indexFunction) {\n        var result = [];\n        var groupsLength = (groups || []).length;\n        var group;\n        var items;\n        var indexFn = isFunction(indexFunction) ? indexFunction : function(array, index) {\n            return array[index];\n        };\n\n        for (var groupIndex = 0; groupIndex < groupsLength; groupIndex++) {\n            group = indexFn(groups, groupIndex);\n\n            if (group.hasSubgroups) {\n                result = result.concat(flatGroups(group.items));\n            } else {\n                items = group.items;\n\n                for (var itemIndex = 0; itemIndex < items.length; itemIndex++) {\n                    result.push(indexFn(items, itemIndex));\n                }\n            }\n        }\n        return result;\n    }\n\n    function flattenGroups(data) {\n        var idx,\n            result = [],\n            length,\n            items,\n            itemIndex;\n\n        for (idx = 0, length = data.length; idx < length; idx++) {\n            var group = data.at(idx);\n            if (group.items) {\n                if (group.hasSubgroups) {\n                    result = result.concat(flattenGroups(group.items));\n                } else {\n                    items = group.items;\n                    for (itemIndex = 0; itemIndex < items.length; itemIndex++) {\n                        result.push(items.at(itemIndex));\n                    }\n                }\n            }\n        }\n        return result;\n    }\n\n    function wrapGroupItems(data, model) {\n        var idx, length, group;\n        if (model) {\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                group = data.at(idx);\n                if (group.items) {\n                    if (group.hasSubgroups) {\n                        wrapGroupItems(group.items, model);\n                    } else {\n                        group.items = new LazyObservableArray(group.items, model, group.items._events);\n                    }\n                }\n            }\n        }\n    }\n\n    function eachGroupItems(data, func) {\n        for (var idx = 0; idx < data.length; idx++) {\n            if (data[idx].hasSubgroups) {\n                if (eachGroupItems(data[idx].items, func)) {\n                    return true;\n                }\n            } else if (func(data[idx].items, data[idx])) {\n                return true;\n            }\n        }\n    }\n\n    function replaceInRanges(ranges, data, item, observable) {\n        for (var idx = 0; idx < ranges.length; idx++) {\n            if (ranges[idx].data === data) {\n                break;\n            }\n            if (replaceInRange(ranges[idx].data, item, observable)) {\n                break;\n            }\n        }\n    }\n\n    function replaceInRange(items, item, observable) {\n        for (var idx = 0, length = items.length; idx < length; idx++) {\n            if (items[idx] && items[idx].hasSubgroups) {\n                return replaceInRange(items[idx].items, item, observable);\n            } else if (items[idx] === item || items[idx] === observable) {\n               items[idx] = observable;\n               return true;\n            }\n        }\n    }\n\n    function replaceWithObservable(view, data, ranges, type, serverGrouping) {\n        for (var viewIndex = 0, length = view.length; viewIndex < length; viewIndex++) {\n            var item = view[viewIndex];\n\n            if (!item || item instanceof type) {\n                continue;\n            }\n\n            if (item.hasSubgroups !== undefined && !serverGrouping) {\n                replaceWithObservable(item.items, data, ranges, type, serverGrouping);\n            } else {\n                for (var idx = 0; idx < data.length; idx++) {\n                    if (data[idx] === item) {\n                        view[viewIndex] = data.at(idx);\n                        replaceInRanges(ranges, data, item, view[viewIndex]);\n                        break;\n                    }\n                }\n            }\n        }\n    }\n\n    function removeModel(data, model) {\n        if (!data) {\n            return;\n        }\n        var length = data.length;\n        var dataItem;\n        var idx;\n\n        for (idx = 0; idx < length; idx++) {\n            dataItem = data[idx];\n\n            if (dataItem.uid && dataItem.uid == model.uid) {\n                data.splice(idx, 1);\n                return dataItem;\n            }\n        }\n    }\n\n    function indexOfPristineModel(data, model) {\n        if (model) {\n            return indexOf(data, function(item) {\n                return (item.uid && item.uid == model.uid) || (item[model.idField] === model.id && model.id !== model._defaultId);\n            });\n        }\n        return -1;\n    }\n\n    function indexOfModel(data, model) {\n        if (model) {\n            return indexOf(data, function(item) {\n                return item.uid == model.uid;\n            });\n        }\n        return -1;\n    }\n\n    function indexOf(data, comparer) {\n        var idx, length;\n        if (!data) {\n            return;\n        }\n\n        for (idx = 0, length = data.length; idx < length; idx++) {\n            if (comparer(data[idx])) {\n                return idx;\n            }\n        }\n\n        return -1;\n    }\n\n    function fieldNameFromModel(fields, name) {\n        if (fields && !isEmptyObject(fields)) {\n            var descriptor = fields[name];\n            var fieldName;\n            if (isPlainObject(descriptor)) {\n                fieldName = descriptor.from || descriptor.field || name;\n            } else {\n                fieldName = fields[name] || name;\n            }\n\n            if (isFunction(fieldName)) {\n                return name;\n            }\n\n            return fieldName;\n        }\n        return name;\n    }\n\n    function convertFilterDescriptorsField(descriptor, model) {\n        var idx,\n            length,\n            target = {};\n\n        for (var field in descriptor) {\n            if (field !== \"filters\") {\n                target[field] = descriptor[field];\n            }\n        }\n\n        if (descriptor.filters) {\n            target.filters = [];\n            for (idx = 0, length = descriptor.filters.length; idx < length; idx++) {\n                target.filters[idx] = convertFilterDescriptorsField(descriptor.filters[idx], model);\n            }\n        } else {\n            target.field = fieldNameFromModel(model.fields, target.field);\n        }\n        return target;\n    }\n\n    function convertDescriptorsField(descriptors, model) {\n        var idx,\n            length,\n            result = [],\n            target,\n            descriptor;\n\n        for (idx = 0, length = descriptors.length; idx < length; idx ++) {\n            target = {};\n\n            descriptor = descriptors[idx];\n\n            for (var field in descriptor) {\n                target[field] = descriptor[field];\n            }\n\n            target.field = fieldNameFromModel(model.fields, target.field);\n\n            if (target.aggregates && isArray(target.aggregates)) {\n                target.aggregates = convertDescriptorsField(target.aggregates, model);\n            }\n            result.push(target);\n        }\n        return result;\n    }\n\n    var DataSource = Observable.extend({\n        init: function(options) {\n            var that = this, model, data;\n\n            if (options) {\n                data = options.data;\n            }\n\n            options = that.options = extend({}, that.options, options);\n\n            that._map = {};\n            that._prefetch = {};\n            that._data = [];\n            that._pristineData = [];\n            that._ranges = [];\n            that._view = [];\n            that._pristineTotal = 0;\n            that._destroyed = [];\n            that._pageSize = options.pageSize;\n            that._page = options.page  || (options.pageSize ? 1 : undefined);\n            that._sort = normalizeSort(options.sort);\n            that._sortFields = sortFields(options.sort);\n            that._filter = normalizeFilter(options.filter);\n            that._group = normalizeGroup(options.group);\n            that._aggregate = options.aggregate;\n            that._total = options.total;\n            that._groupPaging = options.groupPaging;\n\n            if (that._groupPaging) {\n                that._groupsState = {};\n            }\n            that._shouldDetachObservableParents = true;\n\n            Observable.fn.init.call(that);\n\n            that.transport = Transport.create(options, data, that);\n\n            if (isFunction(that.transport.push)) {\n                that.transport.push({\n                    pushCreate: that._pushCreate.bind(that),\n                    pushUpdate: that._pushUpdate.bind(that),\n                    pushDestroy: that._pushDestroy.bind(that)\n                });\n            }\n\n            if (options.offlineStorage != null) {\n                if (typeof options.offlineStorage == \"string\") {\n                    var key = options.offlineStorage;\n\n                    that._storage = {\n                        getItem: function() {\n                            return JSON.parse(localStorage.getItem(key));\n                        },\n                        setItem: function(item) {\n                            localStorage.setItem(key, stringify(that.reader.serialize(item)));\n                        }\n                    };\n                } else {\n                    that._storage = options.offlineStorage;\n                }\n            }\n\n            that.reader = new kendo.data.readers[options.schema.type || \"json\" ](options.schema);\n\n            model = that.reader.model || {};\n\n            that._detachObservableParents();\n\n            that._data = that._observe(that._data);\n            that._online = true;\n\n            that.bind([\"push\", ERROR, CHANGE, REQUESTSTART, SYNC, REQUESTEND, PROGRESS], options);\n        },\n\n        options: {\n            data: null,\n            schema: {\n               modelBase: Model\n            },\n            offlineStorage: null,\n            serverSorting: false,\n            serverPaging: false,\n            serverFiltering: false,\n            serverGrouping: false,\n            serverAggregates: false,\n            batch: false,\n            inPlaceSort: false\n        },\n\n        clone: function() {\n            return this;\n        },\n\n        online: function(value) {\n            if (value !== undefined) {\n                if (this._online != value) {\n                    this._online = value;\n\n                    if (value) {\n                        return this.sync();\n                    }\n                }\n\n                return $.Deferred().resolve().promise();\n            } else {\n                return this._online;\n            }\n        },\n\n        offlineData: function(state) {\n            if (this.options.offlineStorage == null) {\n                return null;\n            }\n\n            if (state !== undefined) {\n                return this._storage.setItem(state);\n            }\n\n            return this._storage.getItem() || [];\n        },\n\n        _isServerGrouped: function() {\n            var group = this.group() || [];\n\n            return this.options.serverGrouping && group.length;\n        },\n\n        _isServerGroupPaged: function(){\n            return this._isServerGrouped() && this._groupPaging;\n        },\n\n        _isGroupPaged: function(){\n            var group = this._group || [];\n\n            return this._groupPaging && group.length;\n        },\n\n        _pushCreate: function(result) {\n            this._push(result, \"pushCreate\");\n        },\n\n        _pushUpdate: function(result) {\n            this._push(result, \"pushUpdate\");\n        },\n\n        _pushDestroy: function(result) {\n            this._push(result, \"pushDestroy\");\n        },\n\n        _push: function(result, operation) {\n            var data = this._readData(result);\n\n            if (!data) {\n                data = result;\n            }\n\n            this[operation](data);\n        },\n\n        _flatData: function(data, skip) {\n            if (data) {\n                if (this._isServerGrouped()) {\n                    return flattenGroups(data);\n                }\n\n                if (!skip) {\n                    for (var idx = 0; idx < data.length; idx++) {\n                        data.at(idx);\n                    }\n                }\n            }\n\n            return data;\n        },\n\n        parent: noop,\n\n        get: function(id) {\n            var idx, length, data = this._flatData(this._data, this.options.useRanges);\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if (data[idx].id == id) {\n                    return data[idx];\n                }\n            }\n        },\n\n        getByUid: function(id) {\n            return this._getByUid(id, this._data);\n        },\n\n        _getByUid: function(id, dataItems) {\n            var idx, length, data = this._flatData(dataItems, this.options.useRanges);\n\n            if (!data) {\n                return;\n            }\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if (data[idx].uid == id) {\n                    return data[idx];\n                }\n            }\n        },\n\n        indexOf: function(model) {\n            return indexOfModel(this._data, model);\n        },\n\n        at: function(index) {\n            return this._data.at(index);\n        },\n\n        data: function(value) {\n            var that = this;\n            if (value !== undefined) {\n                that._detachObservableParents();\n                that._data = this._observe(value);\n\n                that._pristineData = value.slice(0);\n\n                that._storeData();\n\n                that._ranges = [];\n                that.trigger(\"reset\");\n                that._addRange(that._data);\n\n                that._total = that._data.length;\n                that._pristineTotal = that._total;\n\n                that._process(that._data);\n            } else {\n                if (that._data) {\n                    for (var idx = 0; idx < that._data.length; idx++) {\n                        that._data.at(idx);\n                    }\n                }\n\n                return that._data;\n            }\n        },\n\n        view: function(value) {\n            if (value === undefined) {\n                return this._view;\n            } else {\n                this._view = this._observeView(value);\n            }\n        },\n\n        _observeView: function(data) {\n            var that = this;\n            replaceWithObservable(data, that._data, that._ranges, that.reader.model || ObservableObject, that._isServerGrouped());\n\n            var view = new LazyObservableArray(data, that.reader.model);\n            view.parent = function() { return that.parent(); };\n            return view;\n        },\n\n        flatView: function() {\n            var groups = this.group() || [];\n\n            if (groups.length) {\n                return flattenGroups(this._view);\n            } else {\n                return this._view;\n            }\n        },\n\n        add: function(model) {\n            return this.insert(this._data.length, model);\n        },\n\n        _createNewModel: function(model) {\n            if (this.reader.model) {\n                return new this.reader.model(model);\n            }\n\n            if (model instanceof ObservableObject) {\n                return model;\n            }\n\n            return new ObservableObject(model);\n        },\n\n        insert: function(index, model) {\n            if (!model) {\n                model = index;\n                index = 0;\n            }\n\n            if (!(model instanceof Model)) {\n                model = this._createNewModel(model);\n            }\n\n            if (this._isServerGrouped()) {\n                this._data.splice(index, 0, this._wrapInEmptyGroup(model));\n            } else {\n                this._data.splice(index, 0, model);\n            }\n\n            this._insertModelInRange(index, model);\n\n            return model;\n        },\n\n        pushInsert: function(index, items) {\n            var that = this;\n            var rangeSpan = that._getCurrentRangeSpan();\n\n            if (!items) {\n                items = index;\n                index = 0;\n            }\n\n            if (!isArray(items)) {\n                items = [items];\n            }\n\n            var pushed = [];\n            var autoSync = this.options.autoSync;\n            this.options.autoSync = false;\n\n            try {\n                for (var idx = 0; idx < items.length; idx ++) {\n                    var item = items[idx];\n\n                    var result = this.insert(index, item);\n\n                    pushed.push(result);\n\n                    var pristine = result.toJSON();\n\n                    if (this._isServerGrouped()) {\n                        pristine = this._wrapInEmptyGroup(pristine);\n                    }\n\n                    this._pristineData.push(pristine);\n\n                    if (rangeSpan && rangeSpan.length) {\n                        $(rangeSpan).last()[0].pristineData.push(pristine);\n                    }\n\n                    index++;\n                }\n            } finally {\n                this.options.autoSync = autoSync;\n            }\n\n            if (pushed.length) {\n                this.trigger(\"push\", {\n                    type: \"create\",\n                    items: pushed\n                });\n            }\n        },\n\n        pushCreate: function(items) {\n            this.pushInsert(this._data.length, items);\n        },\n\n        pushUpdate: function(items) {\n            if (!isArray(items)) {\n                items = [items];\n            }\n\n            var pushed = [];\n\n            for (var idx = 0; idx < items.length; idx ++) {\n                var item = items[idx];\n                var model = this._createNewModel(item);\n\n                var target = this.get(model.id);\n\n                if (target) {\n                    pushed.push(target);\n\n                    target.accept(item);\n\n                    target.trigger(CHANGE);\n\n                    this._updatePristineForModel(target, item);\n                } else {\n                    this.pushCreate(item);\n                }\n            }\n\n            if (pushed.length) {\n                this.trigger(\"push\", {\n                    type: \"update\",\n                    items: pushed\n                });\n            }\n        },\n\n        pushDestroy: function(items) {\n            var pushed = this._removeItems(items);\n\n            if (pushed.length) {\n                this.trigger(\"push\", {\n                    type: \"destroy\",\n                    items: pushed\n                });\n            }\n        },\n\n        _removeItems: function(items, removePristine) {\n            if (!isArray(items)) {\n                items = [items];\n            }\n\n            var shouldRemovePristine = typeof removePristine !== \"undefined\" ? removePristine : true;\n\n            var destroyed = [];\n            var autoSync = this.options.autoSync;\n            this.options.autoSync = false;\n            try {\n                for (var idx = 0; idx < items.length; idx ++) {\n                    var item = items[idx];\n                    var model = this._createNewModel(item);\n                    var found = false;\n\n                    this._eachItem(this._data, function(items){\n                        for (var idx = 0; idx < items.length; idx++) {\n                            var item = items.at(idx);\n                            if (item.id === model.id) {\n                                destroyed.push(item);\n                                items.splice(idx, 1);\n                                found = true;\n                                break;\n                            }\n                        }\n                    });\n\n                    if (found && shouldRemovePristine) {\n                        this._removePristineForModel(model);\n                        this._destroyed.pop();\n                    }\n                }\n            } finally {\n                this.options.autoSync = autoSync;\n            }\n\n            return destroyed;\n        },\n\n        pushMove: function(index, items) {\n            var pushed = this._moveItems(index, items);\n\n            if (pushed.length) {\n                this.trigger(\"push\", {\n                    type: \"update\",\n                    items: pushed\n                });\n            }\n        },\n\n        _moveItems: function (index, items) {\n            if (!isArray(items)) {\n                items = [items];\n            }\n\n            var moved = [];\n            var autoSync = this.options.autoSync;\n            this.options.autoSync = false;\n\n            try {\n                for (var i = 0; i < items.length; i ++) {\n                    var item = items[i];\n                    var model = this._createNewModel(item);\n\n                    this._eachItem(this._data, function(dataItems){\n                        for (var idx = 0; idx < dataItems.length; idx++) {\n                            var dataItem = dataItems.at(idx);\n                            if (dataItem.id === model.id) {\n                                moved.push(dataItem);\n                                dataItems.splice(index >= idx ? --index : index, 0, dataItems.splice(idx, 1)[0]);\n                                index++;\n                                break;\n                            }\n                        }\n                    });\n                }\n            } finally {\n                this.options.autoSync = autoSync;\n            }\n\n            return moved;\n        },\n\n        remove: function(model) {\n            var result,\n                that = this,\n                hasGroups = that._isServerGrouped();\n\n            if (hasGroups && model.uid && (!model.isNew || !model.isNew())) {\n                that._destroyed.push(model);\n            }\n\n            this._eachItem(that._data, function(items) {\n                result = removeModel(items, model);\n\n                if (result && hasGroups) {\n                    return true;\n                }\n            });\n\n            this._removeModelFromRanges(model);\n\n            return model;\n        },\n\n        destroyed: function() {\n            return this._destroyed;\n        },\n\n        created: function() {\n            var idx,\n                length,\n                result = [],\n                data = this._flatData(this._data, this.options.useRanges);\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if (data[idx].isNew && data[idx].isNew()) {\n                    result.push(data[idx]);\n                }\n            }\n            return result;\n        },\n\n        updated: function() {\n            var idx,\n                length,\n                result = [],\n                data = this._flatData(this._data, this.options.useRanges);\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if ((data[idx].isNew && !data[idx].isNew()) && data[idx].dirty) {\n                    result.push(data[idx]);\n                }\n            }\n            return result;\n        },\n\n        sync: function() {\n            var that = this,\n                created = [],\n                updated = [],\n                destroyed = that._destroyed;\n\n            var promise = $.Deferred().resolve().promise();\n\n            if (that.online()) {\n\n                if (!that.reader.model) {\n                    return promise;\n                }\n\n                created = that.created();\n                updated = that.updated();\n\n                var promises = [];\n\n                if (that.options.batch && that.transport.submit) {\n                    promises = that._sendSubmit(created, updated, destroyed);\n                } else {\n                    promises.push.apply(promises, that._send(\"create\", created));\n                    promises.push.apply(promises, that._send(\"update\", updated));\n                    promises.push.apply(promises, that._send(\"destroy\", destroyed));\n                }\n\n                promise = $.when\n                 .apply(null, promises)\n                 .then(function() {\n                    var idx, length;\n\n                    for (idx = 0, length = arguments.length; idx < length; idx++){\n                        if (arguments[idx]) {\n                            that._accept(arguments[idx]);\n                        }\n                    }\n\n                    that._storeData(true);\n\n                    that._syncEnd();\n\n                    that._change({ action: \"sync\" });\n\n                    that.trigger(SYNC);\n\n                    if (that._isServerGroupPaged()) {\n                        that.read();\n                    }\n                });\n            } else {\n                that._storeData(true);\n\n                that._syncEnd();\n\n                that._change({ action: \"sync\" });\n            }\n\n            return promise;\n        },\n\n        _syncEnd: noop,\n\n        cancelChanges: function(model) {\n            var that = this;\n\n            if (model instanceof kendo.data.Model) {\n                that._cancelModel(model);\n            } else {\n                that._destroyed = [];\n                that._detachObservableParents();\n                that._data = that._observe(that._pristineData);\n                if (that.options.serverPaging) {\n                    that._total = that._pristineTotal;\n                }\n\n                that._ranges = [];\n                that._addRange(that._data, 0);\n\n                that._changesCanceled();\n\n                that._change();\n\n                that._markOfflineUpdatesAsDirty();\n\n                if (that._isServerGrouped()) {\n                    that.read();\n                }\n            }\n        },\n\n        _changesCanceled: noop,\n\n        _markOfflineUpdatesAsDirty: function() {\n            var that = this;\n\n            if (that.options.offlineStorage != null) {\n                that._eachItem(that._data, function(items) {\n                    for (var idx = 0; idx < items.length; idx++) {\n                        var item = items.at(idx);\n                        if (item.__state__ == \"update\" || item.__state__ == \"create\") {\n                            item.dirty = true;\n                        }\n                    }\n                });\n            }\n        },\n\n        hasChanges: function() {\n            var idx,\n                length,\n                data = this._flatData(this._data, this.options.useRanges);\n\n            if (this._destroyed.length) {\n                return true;\n            }\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if ((data[idx].isNew && data[idx].isNew()) || data[idx].dirty) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        _accept: function(result) {\n            var that = this,\n                models = result.models,\n                response = result.response,\n                idx = 0,\n                serverGroup = that._isServerGrouped(),\n                pristine = that._pristineData,\n                type = result.type,\n                length;\n\n            that.trigger(REQUESTEND, { response: response, type: type });\n\n            if (response && !isEmptyObject(response)) {\n                response = that.reader.parse(response);\n\n                if (that._handleCustomErrors(response)) {\n                    return;\n                }\n\n                response = that.reader.data(response);\n\n                if (!isArray(response)) {\n                    response = [response];\n                }\n            } else {\n                response = $.map(models, function(model) { return model.toJSON(); } );\n            }\n\n            if (type === \"destroy\") {\n                that._destroyed = [];\n            }\n\n            for (idx = 0, length = models.length; idx < length; idx++) {\n                if (type !== \"destroy\") {\n                    models[idx].accept(response[idx]);\n\n                    if (type === \"create\") {\n                        pristine.push(serverGroup ? that._wrapInEmptyGroup(models[idx].toJSON()) : response[idx]);\n                    } else if (type === \"update\") {\n                        that._updatePristineForModel(models[idx], response[idx]);\n                    }\n                } else {\n                    that._removePristineForModel(models[idx]);\n                }\n            }\n        },\n\n        _updatePristineForModel: function(model, values) {\n            this._executeOnPristineForModel(model, function(index, items) {\n                kendo.deepExtend(items[index], values);\n            });\n        },\n\n        _executeOnPristineForModel: function(model, callback) {\n            this._eachPristineItem(\n                function(items) {\n                    var index = indexOfPristineModel(items, model);\n                    if (index > -1) {\n                        callback(index, items);\n                        return true;\n                    }\n                });\n        },\n\n        _removePristineForModel: function(model) {\n            this._executeOnPristineForModel(model, function(index, items) {\n                items.splice(index, 1);\n            });\n        },\n\n        _readData: function(data) {\n            var read = !this._isServerGrouped() ? this.reader.data : this.reader.groups;\n            return read.call(this.reader, data);\n        },\n\n        _eachPristineItem: function(callback) {\n            var that = this;\n            var options = that.options;\n            var rangeSpan = that._getCurrentRangeSpan();\n\n            that._eachItem(that._pristineData, callback);\n\n            if (options.serverPaging && options.useRanges) {\n                each(rangeSpan, function(i, range) {\n                    that._eachItem(range.pristineData, callback);\n                });\n            }\n        },\n\n       _eachItem: function(data, callback) {\n            if (data && data.length) {\n                if (this._isServerGrouped()) {\n                    eachGroupItems(data, callback);\n                } else {\n                    callback(data);\n                }\n            }\n        },\n\n        _pristineForModel: function(model) {\n            var pristine,\n                idx,\n                callback = function(items) {\n                    idx = indexOfPristineModel(items, model);\n                    if (idx > -1) {\n                        pristine = items[idx];\n                        return true;\n                    }\n                };\n\n            this._eachPristineItem(callback);\n\n            return pristine;\n        },\n\n        _cancelModel: function(model) {\n            var that = this;\n            var pristine = this._pristineForModel(model);\n\n            this._eachItem(this._data, function(items) {\n                var idx = indexOfModel(items, model);\n                if (idx >= 0) {\n                    if (pristine && (!model.isNew() || pristine.__state__)) {\n                        items[idx].accept(pristine);\n\n                        if (pristine.__state__ == \"update\") {\n                            items[idx].dirty = true;\n                        }\n\n                    } else {\n                        that._modelCanceled(model);\n\n                        items.splice(idx, 1);\n\n                        that._removeModelFromRanges(model);\n                    }\n                }\n            });\n        },\n\n        _modelCanceled: noop,\n\n        _submit: function(promises, data) {\n            var that = this;\n\n            that.trigger(REQUESTSTART, { type: \"submit\" });\n\n            that.trigger(PROGRESS);\n\n            that.transport.submit(extend({\n                success: function(response, type) {\n                    var promise = $.grep(promises, function(x) {\n                        return x.type == type;\n                    })[0];\n\n                    if (promise) {\n                        promise.resolve({\n                            response: response,\n                            models: promise.models,\n                            type: type\n                        });\n                    }\n                },\n                error: function(response, status, error) {\n                    for (var idx = 0; idx < promises.length; idx++) {\n                        promises[idx].reject(response);\n                    }\n\n                    that.error(response, status, error);\n                }\n            }, data));\n        },\n\n        _sendSubmit: function(created, updated, destroyed) {\n            var that = this,\n                promises = [];\n\n            if (that.options.batch) {\n                if (created.length) {\n                    promises.push($.Deferred(function(deferred) {\n                        deferred.type = \"create\";\n                        deferred.models = created;\n                    }));\n                }\n\n                if (updated.length) {\n                    promises.push($.Deferred(function(deferred) {\n                        deferred.type = \"update\";\n                        deferred.models = updated;\n                    }));\n                }\n\n                if (destroyed.length) {\n                    promises.push($.Deferred(function(deferred) {\n                        deferred.type = \"destroy\";\n                        deferred.models = destroyed;\n                    }));\n                }\n\n                that._submit(promises, {\n                    data: {\n                        created: that.reader.serialize(toJSON(created)),\n                        updated: that.reader.serialize(toJSON(updated)),\n                        destroyed: that.reader.serialize(toJSON(destroyed))\n                    }\n                });\n            }\n\n            return promises;\n        },\n\n        _promise: function(data, models, type) {\n            var that = this;\n\n            return $.Deferred(function(deferred) {\n                that.trigger(REQUESTSTART, { type: type });\n\n                that.trigger(PROGRESS);\n\n                that.transport[type].call(that.transport, extend({\n                    success: function(response) {\n                        deferred.resolve({\n                            response: response,\n                            models: models,\n                            type: type\n                        });\n                    },\n                    error: function(response, status, error) {\n                        deferred.reject(response);\n                        that.error(response, status, error);\n                    }\n                }, data));\n            }).promise();\n        },\n\n        _send: function(method, data) {\n            var that = this,\n                idx,\n                length,\n                promises = [],\n                converted = that.reader.serialize(toJSON(data));\n\n            if (that.options.batch) {\n                if (data.length) {\n                    promises.push(that._promise( { data: { models: converted } }, data , method));\n                }\n            } else {\n                for (idx = 0, length = data.length; idx < length; idx++) {\n                    promises.push(that._promise( { data: converted[idx] }, [ data[idx] ], method));\n                }\n            }\n\n            return promises;\n        },\n\n        read: function(data) {\n            var that = this, params = that._params(data);\n            var deferred = $.Deferred();\n\n            that._queueRequest(params, function() {\n                var isPrevented = that.trigger(REQUESTSTART, { type: \"read\" });\n                if (!isPrevented) {\n                    that.trigger(PROGRESS);\n\n                    that._ranges = [];\n                    that.trigger(\"reset\");\n                    if (that.online()) {\n                        that.transport.read({\n                            data: params,\n                            success: function(data) {\n                                that._ranges = [];\n                                that.success(data, params);\n\n                                deferred.resolve();\n                            },\n                            error: function() {\n                                var args = slice.call(arguments);\n\n                                that.error.apply(that, args);\n\n                                deferred.reject.apply(deferred, args);\n                            }\n                        });\n                    } else if (that.options.offlineStorage != null){\n                        that.success(that.offlineData(), params);\n\n                        deferred.resolve();\n                    }\n                } else {\n                    that._dequeueRequest();\n\n                    deferred.resolve(isPrevented);\n                }\n            });\n\n            return deferred.promise();\n        },\n\n        _readAggregates: function(data) {\n            return this.reader.aggregates(data);\n        },\n\n        success: function(data) {\n            var that = this,\n                options = that.options,\n                items,\n                replaceSubset;\n\n            that.trigger(REQUESTEND, { response: data, type: \"read\" });\n\n            if (that.online()) {\n                data = that.reader.parse(data);\n\n                if (that._handleCustomErrors(data)) {\n                    that._dequeueRequest();\n                    return;\n                }\n\n                that._total = that.reader.total(data);\n\n                if (that._isServerGroupPaged()) {\n                    that._serverGroupsTotal = that._total;\n                }\n\n                if (that._pageSize > that._total) {\n                    that._pageSize = that._total;\n                    if (that.options.pageSize && that.options.pageSize > that._pageSize) {\n                        that._pageSize = that.options.pageSize;\n                    }\n                }\n\n                if (that._aggregate && options.serverAggregates) {\n                    that._aggregateResult = that._readAggregates(data);\n                }\n\n                data = that._readData(data);\n\n                that._destroyed = [];\n            } else {\n                data = that._readData(data);\n\n                items = [];\n                var itemIds = {};\n                var model = that.reader.model;\n                var idField = model ? model.idField : \"id\";\n                var idx;\n\n                for (idx = 0; idx < this._destroyed.length; idx++) {\n                    var id = this._destroyed[idx][idField];\n                    itemIds[id] = id;\n                }\n\n                for (idx = 0; idx < data.length; idx++) {\n                    var item = data[idx];\n                    var state = item.__state__;\n                    if (state == \"destroy\") {\n                        if (!itemIds[item[idField]]) {\n                            this._destroyed.push(this._createNewModel(item));\n                        }\n                    } else {\n                        items.push(item);\n                    }\n                }\n\n                data = items;\n\n                that._total = data.length;\n            }\n\n            that._pristineTotal = that._total;\n            replaceSubset = that._skip && that._data.length && that._skip < that._data.length;\n\n            if (that.options.endless) {\n                if (replaceSubset) {\n                    that._pristineData.splice(that._skip, that._pristineData.length);\n                }\n                items = data.slice(0);\n                for (var j = 0; j < items.length; j++) {\n                    that._pristineData.push(items[j]);\n                }\n            } else {\n                that._pristineData = data.slice(0);\n            }\n\n            that._detachObservableParents();\n\n            if (that.options.endless) {\n                that._data.unbind(CHANGE, that._changeHandler);\n\n                if (that._isServerGrouped() && that._data[that._data.length - 1].value === data[0].value) {\n                    fillLastGroup(that._data[that._data.length - 1], data[0]);\n                    data.shift();\n                }\n\n                data = that._observe(data);\n                if (replaceSubset) {\n                    that._data.splice(that._skip, that._data.length);\n                }\n                for (var i = 0; i < data.length; i++) {\n                    that._data.push(data[i]);\n                }\n                that._data.bind(CHANGE, that._changeHandler);\n            } else {\n                that._data = that._observe(data);\n            }\n\n            that._markOfflineUpdatesAsDirty();\n\n            that._storeData();\n\n            that._addRange(that._data);\n\n            that._process(that._data);\n\n            that._dequeueRequest();\n        },\n\n        _detachObservableParents: function() {\n            if (this._data && this._shouldDetachObservableParents) {\n                for (var idx = 0; idx < this._data.length; idx++) {\n                    if (this._data[idx].parent) {\n                        this._data[idx].parent = noop;\n                    }\n                }\n            }\n        },\n\n        _storeData: function(updatePristine) {\n            var serverGrouping = this._isServerGrouped();\n            var model = this.reader.model;\n\n            function items(data) {\n                var state = [];\n\n                for (var idx = 0; idx < data.length; idx++) {\n                    var dataItem = data.at(idx);\n                    var item = dataItem.toJSON();\n\n                    if (serverGrouping && dataItem.items) {\n                        item.items = items(dataItem.items);\n                    } else {\n                        item.uid = dataItem.uid;\n\n                        if (model) {\n                            if (dataItem.isNew()) {\n                                item.__state__ = \"create\";\n                            } else if (dataItem.dirty) {\n                                item.__state__ = \"update\";\n                            }\n                        }\n                    }\n                    state.push(item);\n                }\n\n                return state;\n            }\n\n            if (this.options.offlineStorage != null) {\n                var state = items(this._data);\n\n                var destroyed = [];\n\n                for (var idx = 0; idx < this._destroyed.length; idx++) {\n                    var item = this._destroyed[idx].toJSON();\n                    item.__state__ = \"destroy\";\n                    destroyed.push(item);\n                }\n\n                this.offlineData(state.concat(destroyed));\n\n                if (updatePristine) {\n                    this._pristineData = this.reader.reader ? this.reader.reader._wrapDataAccessBase(state) : this.reader._wrapDataAccessBase(state);\n                }\n            }\n        },\n\n        _addRange: function (data, skip) {\n            var that = this,\n                start = typeof (skip) !== \"undefined\" ? skip : (that._skip || 0),\n                end,\n                range = {\n                    data: data,\n                    pristineData: data.toJSON(),\n                    timestamp: that._timeStamp()\n                };\n\n            if (this._isGroupPaged()) {\n                end = start + data.length;\n                range.outerStart = start;\n                range.outerEnd = end;\n            } else {\n                end = start + that._flatData(data, true).length;\n            }\n\n            range.start = start;\n            range.end = end;\n            that._ranges.push(range);\n            that._sortRanges();\n\n            if (that._isGroupPaged()) {\n                if (!that._groupsFlat) {\n                    that._groupsFlat = [];\n                }\n                that._appendToGroupsFlat(range.data);\n                that._updateOuterRangesLength();\n            }\n        },\n\n        _appendToGroupsFlat: function (data) {\n            var length = data.length;\n\n            for (var i = 0; i < length; i++) {\n                this._groupsFlat.push(data[i]);\n            }\n        },\n\n        _getGroupByUid: function(uid){\n            var length = this._groupsFlat.length;\n            var group;\n\n            for (var i = 0; i < length; i++) {\n                group = this._groupsFlat[i];\n                if (group.uid === uid) {\n                    return group;\n                }\n            }\n        },\n\n        _sortRanges: function() {\n            this._ranges.sort(function(x, y) {\n                return x.start - y.start;\n            });\n        },\n\n        error: function(xhr, status, errorThrown) {\n            this._dequeueRequest();\n            this.trigger(REQUESTEND, { });\n            this.trigger(ERROR, { xhr: xhr, status: status, errorThrown: errorThrown });\n        },\n\n        _params: function(data) {\n            var that = this,\n                options =  extend({\n                    take: that.take(),\n                    skip: that.skip(),\n                    page: that.page(),\n                    pageSize: that.pageSize(),\n                    sort: that._sort,\n                    filter: that._filter,\n                    group: that._group,\n                    aggregate: that._aggregate,\n                    groupPaging: !!that._groupPaging\n                }, data);\n\n            if (!that.options.serverPaging) {\n                delete options.take;\n                delete options.skip;\n                delete options.page;\n                delete options.pageSize;\n            }\n\n            if (!that.options.serverGrouping) {\n                delete options.group;\n            } else if (that.reader.model && options.group) {\n                options.group = convertDescriptorsField(options.group, that.reader.model);\n            }\n\n            if (!that.options.serverFiltering) {\n                delete options.filter;\n            } else if (that.reader.model && options.filter) {\n               options.filter = convertFilterDescriptorsField(options.filter, that.reader.model);\n            }\n\n            if (!that.options.serverSorting) {\n                delete options.sort;\n            } else if (that.reader.model && options.sort) {\n                options.sort = convertDescriptorsField(options.sort, that.reader.model);\n            }\n\n            if (!that.options.serverAggregates) {\n                delete options.aggregate;\n            } else if (that.reader.model && options.aggregate) {\n                options.aggregate = convertDescriptorsField(options.aggregate, that.reader.model);\n            }\n\n            if (!that.options.groupPaging) {\n                delete options.groupPaging;\n            }\n\n            return options;\n        },\n\n        _queueRequest: function(options, callback) {\n            var that = this;\n            if (!that._requestInProgress) {\n                that._requestInProgress = true;\n                that._pending = undefined;\n                callback();\n            } else {\n                that._pending = { callback: callback.bind(that), options: options };\n            }\n        },\n\n        _dequeueRequest: function() {\n            var that = this;\n            that._requestInProgress = false;\n            if (that._pending) {\n                that._queueRequest(that._pending.options, that._pending.callback);\n            }\n        },\n\n        _handleCustomErrors: function(response) {\n            if (this.reader.errors) {\n                var errors = this.reader.errors(response);\n                if (errors) {\n                    this.trigger(ERROR, { xhr: null, status: \"customerror\", errorThrown: \"custom error\", errors: errors });\n                    return true;\n                }\n            }\n            return false;\n        },\n\n        _shouldWrap: function(data) {\n            var model = this.reader.model;\n\n            if (model && data.length) {\n                return !(data[0] instanceof model);\n            }\n\n            return false;\n        },\n\n        _observe: function(data) {\n            var that = this,\n                model = that.reader.model;\n\n            that._shouldDetachObservableParents = true;\n\n            if (data instanceof ObservableArray) {\n                that._shouldDetachObservableParents = false;\n                if (that._shouldWrap(data)) {\n                    data.type = that.reader.model;\n                    data.wrapAll(data, data);\n                }\n            } else {\n                var arrayType = that.pageSize() && !that.options.serverPaging ? LazyObservableArray : ObservableArray;\n                data = new arrayType(data, that.reader.model);\n                data.parent = function() { return that.parent(); };\n            }\n\n            if (that._isServerGrouped()) {\n                wrapGroupItems(data, model);\n            }\n\n            if (that._changeHandler && that._data && that._data instanceof ObservableArray &&\n                !(that.options.useRanges && that.options.serverPaging)) {\n                that._data.unbind(CHANGE, that._changeHandler);\n            } else {\n                that._changeHandler = that._change.bind(that);\n            }\n\n            return data.bind(CHANGE, that._changeHandler);\n        },\n\n        _updateTotalForAction: function(action, items) {\n            var that = this;\n\n            var total = parseInt(that._total, 10);\n\n            if (!isNumber(that._total)) {\n                total = parseInt(that._pristineTotal, 10);\n            }\n            if (action === \"add\") {\n                total += items.length;\n            } else if (action === \"remove\") {\n                total -= items.length;\n            } else if (action !== \"itemchange\" && action !== \"sync\" && !that.options.serverPaging) {\n                total = that._pristineTotal;\n            } else if (action === \"sync\") {\n                total = that._pristineTotal = parseInt(that._total, 10);\n            }\n\n            that._total = total;\n        },\n\n        _change: function(e) {\n            var that = this, idx, length, action = e ? e.action : \"\";\n\n            if (action === \"remove\") {\n                for (idx = 0, length = e.items.length; idx < length; idx++) {\n                    if (!e.items[idx].isNew || !e.items[idx].isNew()) {\n                        that._destroyed.push(e.items[idx]);\n                    }\n                }\n            }\n\n            if (that.options.autoSync && (action === \"add\" || action === \"remove\" || action === \"itemchange\")) {\n\n                var handler = function(args) {\n                    if (args.action === \"sync\") {\n                        that.unbind(\"change\", handler);\n                        that._updateTotalForAction(action, e.items);\n                    }\n                };\n\n                that.first(\"change\", handler);\n\n                that.sync();\n\n            } else {\n                that._updateTotalForAction(action, e ? e.items : []);\n\n                that._process(that._data, e);\n            }\n        },\n\n        _calculateAggregates: function (data, options) {\n            options = options || {};\n\n            var query = new Query(data),\n                aggregates = options.aggregate,\n                filter = options.filter;\n\n            if (filter) {\n                query = query.filter(filter);\n            }\n\n            return query.aggregate(aggregates);\n        },\n\n        _process: function (data, e) {\n            var that = this,\n                options = {},\n                result;\n\n            if (that.options.serverPaging !== true) {\n                options.skip = that._skip;\n                options.take = that._take || that._pageSize;\n\n                if(options.skip === undefined && that._page !== undefined && that._pageSize !== undefined) {\n                    options.skip = (that._page - 1) * that._pageSize;\n                }\n\n                if (that.options.useRanges) {\n                    options.skip = that.currentRangeStart();\n                }\n            }\n\n            if (that.options.serverSorting !== true) {\n                options.sort = that._sort;\n            }\n\n            if (that.options.serverFiltering !== true) {\n                options.filter = that._filter;\n            }\n\n            if (that.options.serverGrouping !== true) {\n                options.group = that._group;\n            }\n\n            if (that.options.serverAggregates !== true) {\n                options.aggregate = that._aggregate;\n            }\n\n            if (that.options.serverGrouping) {\n                that._clearEmptyGroups(data);\n            }\n\n            options.groupPaging = that._groupPaging;\n\n            if (that._isGroupPaged() && e && (e.action === \"page\" || e.action === \"expandGroup\" || e.action === \"collapseGroup\")) {\n                result = that._queryProcess(data, {\n                    aggregate: that._aggregate\n                });\n            } else {\n                result = that._queryProcess(data, options);\n            }\n\n            if (that.options.serverAggregates !== true) {\n                // for performance reasons, calculate aggregates for part of the data only after query process\n                // this is necessary in the TreeList when paging\n                that._aggregateResult = that._calculateAggregates(result.dataToAggregate || data, options);\n            }\n\n            that._setView(result, options, e);\n\n            that._setFilterTotal(result.total, false);\n\n            e = e || {};\n\n            e.items = e.items || that._view;\n\n            that.trigger(CHANGE, e);\n        },\n\n        _setView: function (result, options, e) {\n            var that = this;\n\n            if (that._isGroupPaged() && !that._isServerGrouped()) {\n                if (e && (e.action === \"page\" || e.action === \"expandGroup\" || e.action === \"collapseGroup\")) {\n                    that.view(result.data);\n                    that._updateOuterRangesLength();\n                } else {\n                    that._ranges = [];\n                    var query = new Query(result.data);\n                    that._addRange(that._observe(result.data));\n\n                    if (options.skip + options.take > result.data.length) {\n                        options.skip = result.data.length - options.take;\n                    }\n\n                    that.view(query.range(options.skip, options.take).toArray());\n                }\n\n            } else {\n                that.view(result.data);\n            }\n        },\n\n        _clearEmptyGroups: function(data) {\n            for (var idx = data.length - 1; idx >=0; idx--) {\n                var group = data[idx];\n                if (group.hasSubgroups) {\n                    this._clearEmptyGroups(group.items);\n                }\n                \n                if (group.items && !group.items.length && !group.itemCount) {\n                    splice.apply(group.parent(), [idx, 1]);\n                }\n            }\n        },\n\n        _queryProcess: function(data, options) {\n            if (this.options.inPlaceSort) {\n                return Query.process(data, options, this.options.inPlaceSort);\n            }\n            else {\n                return Query.process(data, options);\n            }\n        },\n\n        _mergeState: function(options) {\n            var that = this;\n\n            if (options !== undefined) {\n                that._pageSize = options.pageSize;\n                that._page = options.page;\n                that._sort = options.sort;\n                that._filter = options.filter;\n                that._group = options.group;\n                that._aggregate = options.aggregate;\n                that._skip = that._currentRangeStart = options.skip;\n                that._take = options.take;\n\n                if(that._skip === undefined) {\n                    that._skip = that._currentRangeStart = that.skip();\n                    options.skip = that.skip();\n                }\n\n                if(that._take === undefined && that._pageSize !== undefined) {\n                    that._take = that._pageSize;\n                    options.take = that._take;\n                }\n\n                if(that.options.virtual) {\n                    options.virtual = that.options.virtual;\n                }\n\n                if (options.sort) {\n                    that._sort = options.sort = normalizeSort(options.sort);\n                    that._sortFields = sortFields(options.sort);\n                }\n\n                if (options.filter) {\n                    that._filter = options.filter = (that.options.accentFoldingFiltering && !$.isEmptyObject(options.filter)) ? $.extend({}, normalizeFilter(options.filter), { accentFoldingFiltering: that.options.accentFoldingFiltering}) : normalizeFilter(options.filter);\n                }\n\n                if (options.group) {\n                    that._group = options.group = normalizeGroup(options.group);\n                }\n                if (options.aggregate) {\n                    that._aggregate = options.aggregate = normalizeAggregate(options.aggregate);\n                }\n            }\n            return options;\n        },\n\n        query: function(options) {\n            var result;\n            var remote = this.options.serverSorting || this.options.serverPaging || this.options.serverFiltering || this.options.serverGrouping || this.options.serverAggregates;\n\n            if (remote || ((this._data === undefined || this._data.length === 0) && !this._destroyed.length)) {\n                if (this.options.endless) {\n                    var moreItemsCount = options.pageSize - this.pageSize();\n                    if (moreItemsCount > 0) {\n                        moreItemsCount = this.pageSize();\n                        options.page = options.pageSize / moreItemsCount;\n                        options.pageSize = moreItemsCount;\n                    } else {\n                        options.page = 1;\n                        this.options.endless = false;\n                    }\n                }\n                return this.read(this._mergeState(options));\n            }\n\n            var isPrevented = this.trigger(REQUESTSTART, { type: \"read\" });\n            if (!isPrevented) {\n                this.trigger(PROGRESS);\n                if (options) {\n                    options.groupPaging = this._groupPaging;\n                }\n                result = this._queryProcess(this._data, this._mergeState(options));\n\n                this._setFilterTotal(result.total, true);\n\n                this._aggregateResult = this._calculateAggregates(result.dataToAggregate || this._data, options);\n                this._setView(result, options);\n                this.trigger(REQUESTEND, { type: \"read\" });\n                this.trigger(CHANGE, { items: result.data, action: options ? options.action : \"\" });\n            }\n\n            return $.Deferred().resolve(isPrevented).promise();\n        },\n\n        _hasExpandedSubGroups: function (group) {\n            var result = false;\n            var length = group.items ? group.items.length : 0;\n\n            if (!group.hasSubgroups) {\n                return false;\n            }\n\n            for (var i = 0; i < length; i++) {\n                if (this._groupsState[group.items[i].uid]) {\n                    result = true;\n                    break;\n                }\n            }\n            return result;\n        },\n\n        _findGroupedRange: function (data, result, options, parents, callback) {\n            var that = this;\n            var length = data.length;\n            var group;\n            var current;\n            var itemsLength;\n            var groupCount;\n            var itemsToSkip;\n\n            for (var i = 0; i < length; i++) {\n                group = data[i];\n\n                if (options.taken >= options.take) {\n                    break;\n                }\n\n                if (!that._getGroupByUid(group.uid)) {\n                    that._groupsFlat.push(group);\n                }\n\n                if (that._groupsState[group.uid]) {\n                    if (that._isServerGroupPaged()) {\n                       if (that._fetchGroupItems(group, options, parents, callback)) {\n                            that._fetchingGroupItems = true;\n                            return;\n                       }\n                       groupCount = (group.subgroupCount || group.itemCount) + 1;\n                       itemsToSkip = options.skip - options.skipped;\n                       if (!that._hasExpandedSubGroups(group) && itemsToSkip > groupCount) {\n                           options.skipped += groupCount;\n                           continue;\n                       }\n                    }\n\n                    if (options.includeParents && options.skipped < options.skip) {\n                        options.skipped++;\n                        group.excludeHeader = true;\n                    } else if (options.includeParents) {\n                        options.taken++;\n                        group.excludeHeader = false;\n                    }\n\n                    if (group.hasSubgroups && group.items && group.items.length) {\n                        group.currentItems = [];\n\n                        if (!parents) {\n                            parents = [];\n                        }\n                        parents.push(group);\n\n                        that._findGroupedRange(group.items, group.currentItems, options, parents, callback);\n                        parents.pop();\n\n                        if (group.currentItems.length || options.taken > 0) {\n                            result.push(group);\n                        } else {\n                            group.excludeHeader = false;\n                        }\n                    } else {\n                        current = [];\n                        itemsLength = group.items.length;\n\n                        for (var j = 0; j < itemsLength; j++) {\n                            if (options.skipped < options.skip) {\n                                options.skipped++;\n                                continue;\n                            }\n\n                            if (options.taken >= options.take) {\n                                break;\n                            }\n                            current.push(group.items[j]);\n                            options.taken++;\n                        }\n\n                        if (current.length || options.taken > 0) {\n                            group.currentItems = current;\n                            result.push(group);\n                        } else {\n                            group.excludeHeader = false;\n                        }\n                    }\n                } else {\n                    if (options.skipped < options.skip) {\n                        options.skipped++;\n                        continue;\n                    }\n                    result.push(group);\n                    options.taken++;\n                }\n            }\n        },\n\n        _expandedSubGroupItemsCount: function (group, end, includeCurrentItems) {\n            var that = this;\n            var result = 0;\n            var subGroup;\n            var endSpecified = typeof end === \"number\";\n            var length = endSpecified ? end : group.subgroupCount;\n            var temp;\n\n            if (!group.hasSubgroups) {\n                return result;\n            }\n\n            for (var i = 0; i < length; i++) {\n                subGroup = group.items[i];\n\n                if (!subGroup) {\n                    break;\n                }\n\n                if (subGroup.hasSubgroups && that._groupsState[group.uid]) {\n                    temp = that._expandedSubGroupItemsCount(subGroup, length, true);\n                    result += temp;\n\n                    if (endSpecified) {\n                        length -= temp;\n                    }\n                } else if (!subGroup.hasSubgroups && that._groupsState[subGroup.uid]) {\n                    temp = subGroup.items ? subGroup.items.length : 0;\n                    result += temp;\n                    if (endSpecified) {\n                        length -= temp;\n                    }\n                }\n\n                if (includeCurrentItems) {\n                    result += 1;\n                    if (endSpecified) {\n                        length -= 1;\n                    }\n                }\n\n                if (endSpecified && result > length) {\n                    return result;\n                }\n            }\n\n            return result;\n        },\n\n        _fetchGroupItems: function(group, options, parents, callback) {\n            var that = this;\n            var groupItemsSkip;\n            var firstItem;\n            var lastItem;\n            var groupItemCount = group.hasSubgroups ? group.subgroupCount : group.itemCount;\n            var take = options.take;\n            var skipped = options.skipped;\n            var pageSize = that.take();\n            var expandedSubGroupItemsCount;\n\n            if (options.includeParents) {\n                if (skipped < options.skip) {\n                    skipped += 1;\n                } else {\n                    take -= 1;\n                }\n            }\n\n            if (!group.items || (group.items && !group.items.length)) {\n                that.getGroupItems(group, options, parents, callback, 0);\n                return true;\n            } else {\n                expandedSubGroupItemsCount = this._expandedSubGroupItemsCount(group, options.skip - skipped);\n                groupItemsSkip = Math.max(options.skip - (skipped + expandedSubGroupItemsCount), 0);\n\n                if (groupItemsSkip >= groupItemCount) {\n                    return false;\n                }\n\n                firstItem = group.items[groupItemsSkip];\n                lastItem = group.items[Math.min(groupItemsSkip + take, groupItemCount - 1)];\n\n                if (firstItem.notFetched) {\n                    that.getGroupItems(group, options, parents, callback, math.max(math.floor(groupItemsSkip / pageSize), 0) * pageSize, math.round((groupItemsSkip + pageSize) / pageSize));\n                    return true;\n                }\n\n                if (lastItem.notFetched) {\n                    that.getGroupItems(group, options, parents, callback, math.max(math.floor((groupItemsSkip + pageSize) / pageSize), 0) * pageSize, math.round((groupItemsSkip + pageSize) / pageSize));\n                    return true;\n                }\n            }\n        },\n\n        getGroupItems: function(group, options, parents, callback, groupItemsSkip, page) {\n            var that = this;\n            var take;\n            var filter;\n            var data;\n            var subgroups;\n\n            if (!group.items) {\n                group.items = [];\n            }\n\n            take = that.take();\n            filter = this._composeItemsFilter(group, parents);\n            data = {\n                page: page || 1,\n                pageSize: take,\n                skip: groupItemsSkip,\n                take: take,\n                filter: filter,\n                aggregate: that._aggregate,\n                sort: that._sort\n            };\n            subgroups = that.findSubgroups(group);\n\n            if (subgroups && subgroups.length) {\n                data.group = subgroups;\n                data.groupPaging = true;\n            }\n\n            clearTimeout(that._timeout);\n            that._timeout = setTimeout(function () {\n                that._queueRequest(data, function () {\n                    if (!that.trigger(REQUESTSTART, {\n                            type: \"read\"\n                        })) {\n                        that.transport.read({\n                            data: data,\n                            success: that._groupItemsSuccessHandler(group, options.skip, that.take(), callback, groupItemsSkip),\n                            error: function () {\n                                var args = slice.call(arguments);\n                                that.error.apply(that, args);\n                            }\n                        });\n                    } else {\n                        that._dequeueRequest();\n                    }\n                });\n            }, 100);\n        },\n\n        _groupItemsSuccessHandler: function(group, skip, take, callback, groupItemsSkip) {\n            var that = this;\n            var timestamp = that._timeStamp();\n            callback = isFunction(callback) ? callback : noop;\n            var totalField = that.options.schema && that.options.schema.total ? that.options.schema.total : \"Total\";\n\n            return function (data) {\n                var temp;\n                var model = Model.define(that.options.schema.model);\n                var totalCount;\n\n                that._dequeueRequest();\n\n                that.trigger(REQUESTEND, {\n                    response: data,\n                    type: \"read\"\n                });\n\n                if (isFunction(totalField)) {\n                    totalCount = totalField(data);\n                } else {\n                    totalCount = data[totalField];\n                }\n\n                data = that.reader.parse(data);\n\n                if (group.hasSubgroups) {\n                    temp = that.reader.groups(data);\n                    group.subgroupCount = totalCount;\n                } else {\n                    temp = that.reader.data(data);\n                    temp = temp.map(function (item) {\n                        return new model(item);\n                    });\n                }\n\n                group.items.omitChangeEvent = true;\n                for (var i = 0; i < totalCount; i++) {\n                    if (i >= groupItemsSkip && i < (groupItemsSkip + take) ) {\n                        group.items.splice(i, 1, temp[i - groupItemsSkip]);\n                    } else {\n                        if (!group.items[i]) {\n                            group.items.splice(i, 0, { notFetched: true });\n                        }\n                    }\n                }\n                group.items.omitChangeEvent = false;\n\n                that._updateRangePristineData(group);\n                that._fetchingGroupItems = false;\n\n                if (!group.countAdded) {\n                    that._serverGroupsTotal += totalCount;\n                    group.countAdded = true;\n                }\n\n                that.range(skip, take, callback, \"expandGroup\");\n\n                if (timestamp >= that._currentRequestTimeStamp || !that._skipRequestsInProgress) {\n                    that.trigger(CHANGE, {});\n                }\n            };\n        },\n\n        findSubgroups: function(group) {\n            var indexOfCurrentGroup = this._group.map(function (g) {\n                return g.field;\n            }).indexOf(group.field);\n\n            return this._group.slice(indexOfCurrentGroup + 1, this._group.length);\n        },\n\n        _composeItemsFilter: function(group, parents) {\n            var filter = this.filter() || {\n                logic: \"and\",\n                filters: []\n            };\n\n            filter.logic = 'and';\n            filter = extend(true, {}, filter);\n            filter.filters.push({\n                field: group.field,\n                operator: \"eq\",\n                value: group.value\n            });\n\n            if (parents) {\n                for (var i = 0; i < parents.length; i++) {\n                    filter.filters.push({\n                        field: parents[i].field,\n                        operator: \"eq\",\n                        value: parents[i].value\n                    });\n                }\n            }\n\n            return filter;\n        },\n\n        _updateRangePristineData: function(group) {\n            var that = this;\n            var ranges = that._ranges;\n            var rangesLength = ranges.length;\n            var temp;\n            var currentGroup;\n            var range;\n            var dataLength;\n            var indexes;\n            var currIdx;\n\n            for (var i = 0; i < rangesLength; i++) {\n                range = ranges[i];\n                dataLength = range.data.length;\n                indexes = [];\n                temp = null;\n\n                for (var j = 0; j < dataLength; j++) {\n                    currentGroup = range.data[j];\n                    indexes.push(j);\n\n                    if ((currentGroup.uid === group.uid) || (currentGroup.hasSubgroups && currentGroup.items.length && that._containsSubGroup(currentGroup, group, indexes))) {\n                        break;\n                    }\n                    indexes.pop();\n                }\n\n                if (indexes.length) {\n                    temp = ranges[i].pristineData;\n\n                    while (indexes.length > 1) {\n                        currIdx = indexes.splice(0, 1)[0];\n                        temp = temp[currIdx].items;\n                    }\n                    temp[indexes[0]] = that._cloneGroup(group);\n                    break;\n                }\n            }\n        },\n\n        _containsSubGroup: function(group, subgroup, indexes) {\n            var that = this;\n            var length = group.items.length;\n            var currentSubGroup;\n\n            if (group.hasSubgroups && length) {\n                for (var i = 0; i < length; i++) {\n                    currentSubGroup = group.items[i];\n                    indexes.push(i);\n                    if (currentSubGroup.uid === subgroup.uid) {\n                        return true;\n                    } else if (currentSubGroup.hasSubgroups && currentSubGroup.items.length) {\n                        return that._containsSubGroup(currentSubGroup, subgroup, indexes);\n                    }\n                    indexes.pop();\n                }\n            }\n\n        },\n\n        _cloneGroup: function(group) {\n            var that = this;\n            group = typeof group.toJSON == \"function\" ? group.toJSON() : group;\n\n            if (group.items && group.items.length) {\n                group.items = group.items.map(function (item) {\n                    return that._cloneGroup(item);\n                });\n            }\n\n            return group;\n        },\n\n        _setFilterTotal: function(filterTotal, setDefaultValue) {\n            var that = this;\n\n            if (!that.options.serverFiltering) {\n                if (filterTotal !== undefined) {\n                    that._total = filterTotal;\n                } else if (setDefaultValue) {\n                    that._total = that._data.length;\n                }\n            }\n        },\n\n        fetch: function(callback) {\n            var that = this;\n            var fn = function(isPrevented) {\n                if (isPrevented !== true && isFunction(callback)) {\n                    callback.call(that);\n                }\n            };\n\n            return this._query().done(fn);\n        },\n\n        _query: function(options) {\n            var that = this;\n\n            return that.query(extend({}, {\n                page: that.page(),\n                pageSize: that.pageSize(),\n                sort: that.sort(),\n                filter: that.filter(),\n                group: that.group(),\n                aggregate: that.aggregate()\n            }, options));\n        },\n\n        next: function(options) {\n            var that = this,\n                page = that.page(),\n                total = that.total();\n\n            options = options || {};\n\n            if (!page || (total && page + 1 > that.totalPages())) {\n                return;\n            }\n\n            that._skip = that._currentRangeStart = page * that.take();\n\n            page += 1;\n            options.page = page;\n\n            that._query(options);\n\n            return page;\n        },\n\n        prev: function(options) {\n            var that = this,\n                page = that.page();\n\n            options = options || {};\n\n            if (!page || page === 1) {\n                return;\n            }\n\n            that._skip = that._currentRangeStart = that._skip - that.take();\n\n            page -= 1;\n            options.page = page;\n\n            that._query(options);\n\n            return page;\n        },\n\n        page: function(val) {\n            var that = this,\n            skip;\n\n            if(val !== undefined) {\n                val = math.max(math.min(math.max(val, 1), that.totalPages()), 1);\n                var take = that.take();\n\n                if (that._isGroupPaged()) {\n                    val -= 1;\n                    that.range(val * take, take, null, \"page\");\n                    return;\n                }\n                that._query(that._pageableQueryOptions({ page: val }));\n                return;\n            }\n            skip = that.skip();\n\n            return skip !== undefined ? math.round((skip || 0) / (that.take() || 1)) + 1 : undefined;\n        },\n\n        pageSize: function(val) {\n            var that = this;\n\n            if (val !== undefined) {\n                that._query(that._pageableQueryOptions({ pageSize: val, page: 1 }));\n                return;\n            }\n\n            return that.take();\n        },\n\n        sort: function(val) {\n            var that = this;\n\n            if(val !== undefined) {\n                that.trigger(\"sort\");\n                that._query({ sort: val });\n                return;\n            }\n\n            return that._sort;\n        },\n\n        filter: function(val) {\n            var that = this;\n\n            if (val === undefined) {\n                return that._filter;\n            }\n\n            that.trigger(\"reset\");\n            that._query({ filter: val, page: 1 });\n        },\n\n        group: function(val) {\n            var that = this;\n            var options = { group: val };\n\n            if (that._groupPaging) {\n                // clear ranges if ungrouping is performed\n                if (val!== undefined && (!val || !val.length) ) {\n                    that._ranges = [];\n                }\n                options.page = 1;\n            }\n\n            if(val !== undefined) {\n                that._query(options);\n                return;\n            }\n\n            return that._group;\n        },\n\n        getGroupsFlat: function (data) {\n            var idx,\n                result = [],\n                length;\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                var group = data[idx];\n                if (group.hasSubgroups) {\n                    result = result.concat(this.getGroupsFlat(group.items));\n                }\n\n                result.push(group);\n            }\n\n            return result;\n        },\n\n        total: function() {\n            return parseInt(this._total || 0, 10);\n        },\n\n        groupsTotal: function (includeExpanded) {\n            var that = this;\n\n            if (!that._group.length) {\n                return that.total();\n            }\n\n            if (that._isServerGrouped()) {\n                if (that._serverGroupsTotal) {\n                    return that._serverGroupsTotal;\n                }\n                that._serverGroupsTotal = that.total();\n\n                return that._serverGroupsTotal;\n            }\n\n            return that._calculateGroupsTotal(that._ranges.length ? that._ranges[0].data : [], includeExpanded);\n        },\n\n        _calculateGroupsTotal: function (groups, includeExpanded, itemsField, ignoreState) {\n            var that = this;\n            itemsField = itemsField || \"items\";\n            var total;\n            var length;\n\n            if (that._group.length && groups) {\n                total = 0;\n                length = groups.length;\n\n                for (var i = 0; i < length; i++) {\n                    total += that.groupCount(groups[i], includeExpanded, itemsField, ignoreState);\n                }\n                that._groupsTotal = total;\n                return total;\n            }\n\n            that._groupsTotal = that._data.length;\n            return that._groupsTotal;\n        },\n\n        groupCount: function (group, includeExpanded, itemsField, ignoreState) {\n            var that = this;\n            var total = 0;\n\n            if (group.hasSubgroups && that._groupsState[group.uid]) {\n                if (includeExpanded && !group.excludeHeader || ignoreState) {\n                    total += 1;\n                }\n\n                group[itemsField].forEach(function (subgroup) {\n                    total += that.groupCount(subgroup, includeExpanded, itemsField, ignoreState);\n                });\n            } else {\n                if (that._groupsState[group.uid]) {\n                    if (includeExpanded && !group.excludeHeader || ignoreState) {\n                        total++;\n                    }\n                    total += group[itemsField] ? group[itemsField].length : 0;\n                } else {\n                    total++;\n                }\n            }\n            return total;\n        },\n\n        countGroupRange: function (range) {\n            var total = 0;\n            var length = range.length;\n\n            for (var i = 0; i < length; i++) {\n                total += this.groupCount(range[i], true);\n            }\n\n            return total;\n        },\n\n        aggregate: function(val) {\n            var that = this;\n\n            if(val !== undefined) {\n                that._query({ aggregate: val });\n                return;\n            }\n\n            return that._aggregate;\n        },\n\n        aggregates: function() {\n            var result = this._aggregateResult;\n\n            if (isEmptyObject(result)) {\n                result = this._emptyAggregates(this.aggregate());\n            }\n\n            return result;\n        },\n\n        _emptyAggregates: function(aggregates) {\n            var result = {};\n\n            if (!isEmptyObject(aggregates)) {\n                var aggregate = {};\n\n                if (!isArray(aggregates)){\n                    aggregates = [aggregates];\n                }\n\n                for (var idx = 0; idx <aggregates.length; idx++) {\n                    aggregate[aggregates[idx].aggregate] = 0;\n                    result[aggregates[idx].field] = aggregate;\n                }\n            }\n\n            return result;\n        },\n\n        _pageableQueryOptions: function(options) {\n            return options;\n        },\n\n        _wrapInEmptyGroup: function(model) {\n            var groups = this.group(),\n                parent,\n                group,\n                idx,\n                length;\n\n            for (idx = groups.length-1, length = 0; idx >= length; idx--) {\n                group = groups[idx];\n                parent = {\n                    value: model.get ? model.get(group.field) : model[group.field],\n                    field: group.field,\n                    items: parent ? [parent] : [model],\n                    hasSubgroups: !!parent,\n                    aggregates: this._emptyAggregates(group.aggregates)\n                };\n            }\n\n            return parent;\n        },\n\n        totalPages: function() {\n            var that = this,\n                pageSize = that.pageSize() || that.total(),\n                total = that._isGroupPaged() ? that.groupsTotal(true) : that.total();\n\n            return math.ceil((total || 0) / pageSize);\n        },\n\n        inRange: function(skip, take) {\n            var that = this,\n                end = math.min(skip + take, that.total());\n\n            if (!that.options.serverPaging && that._data.length > 0) {\n                return true;\n            }\n\n            return that._findRange(skip, end).length > 0;\n        },\n\n        lastRange: function() {\n            var ranges = this._ranges;\n            return ranges[ranges.length - 1] || { start: 0, end: 0, data: [] };\n        },\n\n        firstItemUid: function() {\n            var ranges = this._ranges;\n            return ranges.length && ranges[0].data.length && ranges[0].data[0].uid;\n        },\n\n        enableRequestsInProgress: function() {\n            this._skipRequestsInProgress = false;\n        },\n\n        _timeStamp: function() {\n            return new Date().getTime();\n        },\n\n        range: function(skip, take, callback, action) {\n            this._currentRequestTimeStamp = this._timeStamp();\n            this._skipRequestsInProgress = true;\n            var total = this._isGroupPaged() ? this.groupsTotal(true) : this.total();\n\n            if (action === \"expandGroup\" || action === \"collapseGroup\") {\n                this._updateOuterRangesLength();\n            }\n\n            skip = math.min(skip || 0, total);\n            callback = isFunction(callback) ? callback : noop;\n\n            var that = this,\n                pageSkip = math.max(math.floor(skip / take), 0) * take,\n                size = math.min(pageSkip + take, total),\n                data;\n\n            data = that._findRange(skip, math.min(skip + take, total), callback);\n\n            if ((data.length || total === 0) && !that._fetchingGroupItems) {\n                that._processRangeData(data, skip, take, that._originalPageSkip || pageSkip, that._originalSize || size, {\n                    action: action\n                });\n                that._originalPageSkip = null;\n                that._originalSize = null;\n                callback();\n                return;\n            }\n\n            if (that._isGroupPaged()) {\n                that._originalPageSkip = pageSkip;\n                that._originalSize = size;\n\n                pageSkip = math.max(math.floor(that._adjustPageSkip(skip, take) / take), 0) * take;\n                size = math.min(pageSkip + take, total);\n            }\n\n            if (take !== undefined && !that._fetchingGroupItems) {\n                if ((that._isGroupPaged() && !that._groupRangeExists(pageSkip, take)) || !that._rangeExists(pageSkip, size)) {\n                    that.prefetch(pageSkip, take, function() {\n                        if (skip > pageSkip && size < that.total() && !that._rangeExists(size, math.min(size + take, that.total()))) {\n                            that.prefetch(size, take, function() {\n                                that.range(skip, take, callback );\n                            });\n                        } else {\n                            that.range(skip, take, callback);\n                        }\n                    });\n                } else if (pageSkip < skip) {\n                    that.prefetch(size, take, function() {\n                        that.range(skip, take, callback );\n                    });\n                }\n            }\n        },\n\n        _findRange: function(start, end, callback) {\n            var that = this,\n                ranges = that._ranges,\n                range,\n                data = [],\n                skipIdx,\n                takeIdx,\n                startIndex,\n                endIndex,\n                rangeData,\n                rangeEnd,\n                processed,\n                options = that.options,\n                remote = options.serverSorting || options.serverPaging || options.serverFiltering || options.serverGrouping || options.serverAggregates,\n                flatData,\n                count,\n                length,\n                groupMapOptions = {\n                        take: end - start,\n                        skip: start,\n                        skipped: 0,\n                        taken: 0,\n                        includeParents: true\n                    },\n                prevRangeEnd,\n                isGroupPaged = that._isGroupPaged(),\n                startField = isGroupPaged ? \"outerStart\" : \"start\",\n                endField = isGroupPaged ? \"outerEnd\" : \"end\",\n                currentDataLength;\n\n            for (skipIdx = 0, length = ranges.length; skipIdx < length; skipIdx++) {\n                range = ranges[skipIdx];\n\n                if (isGroupPaged) {\n                    if (range.outerStart >= end) {\n                        return [];\n                    }\n\n                    if (start > range.outerEnd) {\n                        groupMapOptions.skipped += range.outerEnd - (prevRangeEnd || 0);\n                        prevRangeEnd = range.outerEnd;\n                        continue;\n                    }\n\n                    if (typeof prevRangeEnd !== \"undefined\" && prevRangeEnd != range.outerStart) {\n                        groupMapOptions.skipped += range.outerStart - prevRangeEnd;\n                    }\n\n                    if (groupMapOptions.skipped > groupMapOptions.skip) {\n                        return [];\n                    }\n\n                    if (typeof prevRangeEnd === \"undefined\" && start > 0 && range.start > 0) {\n                        groupMapOptions.skipped = range.outerStart;\n                    }\n\n                    takeIdx = skipIdx;\n                    while (true) {\n                        this._findGroupedRange(range.data, data, groupMapOptions, null, callback);\n                        currentDataLength = that._calculateGroupsTotal(data, true, \"currentItems\");\n\n                        if (currentDataLength >= groupMapOptions.take) {\n                            return data;\n                        }\n\n                        if (that._fetchingGroupItems) {\n                            return [];\n                        }\n                        takeIdx++;\n\n                        if (ranges[takeIdx] && ranges[takeIdx].outerStart === range.outerEnd) {\n                            range = ranges[takeIdx];\n                        } else {\n                            break;\n                        }\n                    }\n                } else if (start >= range[startField] && start <= range[endField]) {\n                    count = 0;\n\n                    for (takeIdx = skipIdx; takeIdx < length; takeIdx++) {\n                        range = ranges[takeIdx];\n                        flatData = that._flatData(range.data, true);\n\n                        if (flatData.length && start + count >= range.start) {\n                            rangeData = range.data;\n                            rangeEnd = range.end;\n\n                            if (!remote) {\n                                if (options.inPlaceSort) {\n                                    processed = that._queryProcess(range.data, { filter: that.filter() });\n                                } else {\n                                    var sort = normalizeGroupWithoutCompare(that.group() || []).concat(normalizeSort(that.sort() || []));\n                                    processed = that._queryProcess(range.data, { sort: sort, filter: that.filter() });\n                                }\n                                flatData = rangeData = processed.data;\n\n                                if (processed.total !== undefined) {\n                                    rangeEnd = processed.total;\n                                }\n                            }\n\n                            startIndex = 0;\n                            if (start + count > range.start) {\n                                startIndex = (start + count) - range.start;\n                            }\n                            endIndex = flatData.length;\n                            if (rangeEnd > end) {\n                                endIndex = endIndex - (rangeEnd - end);\n                            }\n                            count += endIndex - startIndex;\n                            data = that._mergeGroups(data, rangeData, startIndex, endIndex);\n\n                            if (end <= range.end && count == end - start) {\n                                return data;\n                            }\n                        }\n                    }\n                    break;\n                }\n                prevRangeEnd = range.outerEnd;\n            }\n            return [];\n        },\n\n        _getRangesMismatch: function (pageSkip) {\n            var that = this;\n            var ranges = that._ranges;\n            var mismatch = 0;\n            var i = 0;\n\n            while (true) {\n                var range = ranges[i];\n                if (!range || range.outerStart > pageSkip) {\n                    break;\n                }\n\n                if (range.outerEnd != range.end) {\n                    mismatch = range.outerEnd - range.end;\n                }\n                i++;\n            }\n\n            return mismatch;\n        },\n\n        _mergeGroups: function(data, range, skip, take) {\n            if (this._isServerGrouped()) {\n                var temp = range.toJSON(),\n                    prevGroup;\n\n                if (data.length) {\n                    prevGroup = data[data.length - 1];\n                }\n\n                mergeGroups(prevGroup, temp, skip, take);\n\n                return data.concat(temp);\n            }\n            return data.concat(range.slice(skip, take));\n        },\n\n        _processRangeData: function(data, skip, take, pageSkip, size, eventData) {\n            var that = this;\n\n            that._pending = undefined;\n\n            that._skip = skip > that.skip() && !that._omitPrefetch ? math.min(size, (that.totalPages() - 1) * that.take()) : pageSkip;\n\n            that._currentRangeStart = skip;\n\n            that._take = take;\n\n            var paging = that.options.serverPaging;\n            var sorting = that.options.serverSorting;\n            var filtering = that.options.serverFiltering;\n            var aggregates = that.options.serverAggregates;\n            try {\n                that.options.serverPaging = true;\n                if (!that._isServerGrouped() && !(that.group() && that.group().length)) {\n                    that.options.serverSorting = true;\n                }\n                that.options.serverFiltering = true;\n                that.options.serverPaging = true;\n                that.options.serverAggregates = true;\n\n                if (paging) {\n                    that._detachObservableParents();\n                    that._data = data = that._observe(data);\n                }\n                that._process(data, eventData);\n            } finally {\n                that.options.serverPaging = paging;\n                that.options.serverSorting = sorting;\n                that.options.serverFiltering = filtering;\n                that.options.serverAggregates = aggregates;\n            }\n        },\n\n        skip: function() {\n            var that = this;\n\n            if (that._skip === undefined) {\n                return (that._page !== undefined ? (that._page  - 1) * (that.take() || 1) : undefined);\n            }\n            return that._skip;\n        },\n\n        currentRangeStart: function() {\n            return this._currentRangeStart || 0;\n        },\n\n        take: function() {\n            return this._take || this._pageSize;\n        },\n\n        _prefetchSuccessHandler: function (skip, size, callback, force) {\n            var that = this;\n            var timestamp = that._timeStamp();\n\n            return function(data) {\n                var found = false,\n                    range = { start: skip, end: size, data: [], timestamp: that._timeStamp() },\n                    idx,\n                    length,\n                    temp;\n\n                that._dequeueRequest();\n\n                that.trigger(REQUESTEND, { response: data, type: \"read\" });\n\n                data = that.reader.parse(data);\n\n                temp = that._readData(data);\n\n                if (temp.length) {\n                    for (idx = 0, length = that._ranges.length; idx < length; idx++) {\n                        if (that._ranges[idx].start === skip) {\n                            found = true;\n                            range = that._ranges[idx];\n\n                            if (!that._isGroupPaged()) {\n                                range.pristineData = temp;\n                                range.data = that._observe(temp);\n                                range.end = range.start + that._flatData(range.data, true).length;\n                                that._sortRanges();\n                            }\n\n                            break;\n                        }\n                    }\n\n                    if (!found) {\n                        that._addRange(that._observe(temp), skip);\n                    }\n                }\n\n                that._total = that.reader.total(data);\n\n                if (force || (timestamp >= that._currentRequestTimeStamp || !that._skipRequestsInProgress)) {\n                    if (callback && temp.length) {\n                        callback();\n                    } else {\n                        that.trigger(CHANGE, {});\n                    }\n                }\n            };\n        },\n\n        prefetch: function(skip, take, callback) {\n            var that = this,\n                size = math.min(skip + take, that.total()),\n                options = {\n                    take: take,\n                    skip: skip,\n                    page: skip / take + 1,\n                    pageSize: take,\n                    sort: that._sort,\n                    filter: that._filter,\n                    group: that._group,\n                    aggregate: that._aggregate\n                };\n\n\n            if ((that._isGroupPaged() && !that._isServerGrouped() && that._groupRangeExists(skip, size))) {\n                if (callback) {\n                    callback();\n                }\n                return;\n            }\n\n            if ((that._isServerGroupPaged() && !that._groupRangeExists(skip, size)) || !that._rangeExists(skip, size)) {\n                clearTimeout(that._timeout);\n\n                that._timeout = setTimeout(function() {\n                    that._queueRequest(options, function() {\n                        if (!that.trigger(REQUESTSTART, { type: \"read\" })) {\n                            if (that._omitPrefetch) {\n                                that.trigger(PROGRESS);\n                            }\n                            that.transport.read({\n                                data: that._params(options),\n                                success: that._prefetchSuccessHandler(skip, size, callback),\n                                error: function() {\n                                    var args = slice.call(arguments);\n                                    that.error.apply(that, args);\n                                }\n                            });\n                        } else {\n                            that._dequeueRequest();\n                        }\n                    });\n                }, 100);\n            } else if (callback) {\n                callback();\n            }\n        },\n\n        _multiplePrefetch: function(skip, take, callback) {\n            var that = this,\n                size = math.min(skip + take, that.total()),\n                options = {\n                    take: take,\n                    skip: skip,\n                    page: skip / take + 1,\n                    pageSize: take,\n                    sort: that._sort,\n                    filter: that._filter,\n                    group: that._group,\n                    aggregate: that._aggregate\n                };\n\n            if (!that._rangeExists(skip, size)) {\n                if (!that.trigger(REQUESTSTART, { type: \"read\" })) {\n                    that.transport.read({\n                        data: that._params(options),\n                        success: that._prefetchSuccessHandler(skip, size, callback, true)\n                    });\n                }\n            } else if (callback) {\n                callback();\n            }\n        },\n\n        _adjustPageSkip: function (start, take) {\n            var that = this;\n            var prevRange = that._getPrevRange(start);\n            var result;\n            var total = that.total();\n            var mismatch;\n\n            if (prevRange) {\n                mismatch = that._getRangesMismatch(start);\n\n                if (!mismatch) {\n                    return start;\n                }\n                start -= mismatch;\n            }\n            result = math.max(math.floor(start / take), 0) * take;\n\n            if (result > total) {\n                while (true) {\n                    result -= take;\n                    if (result < total) {\n                        break;\n                    }\n                }\n            }\n            return result;\n        },\n\n        _getNextRange: function (end) {\n            var that = this,\n                ranges = that._ranges,\n                idx,\n                length;\n\n            for (idx = 0, length = ranges.length; idx < length; idx++) {\n                if (ranges[idx].start <= end && ranges[idx].end >= end) {\n                    return ranges[idx];\n                }\n            }\n        },\n\n        _getPrevRange: function (start) {\n            var that = this,\n                ranges = that._ranges,\n                idx,\n                range,\n                length = ranges.length;\n\n            for (idx = length - 1; idx >= 0; idx--) {\n                if (ranges[idx].outerStart <= start) {\n                    range = ranges[idx];\n                    break;\n                }\n\n            }\n\n            return range;\n        },\n\n        _rangeExists: function(start, end) {\n            var that = this,\n                ranges = that._ranges,\n                idx,\n                length;\n\n            for (idx = 0, length = ranges.length; idx < length; idx++) {\n                if (ranges[idx].start <= start && ranges[idx].end >= end) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        _groupRangeExists: function (start, end) {\n            var that = this,\n                ranges = that._ranges,\n                idx,\n                length,\n                availableItemsCount = 0,\n                total = that.groupsTotal(true);\n\n            if (end > total && !that._isServerGrouped()) {\n                end = total;\n            }\n\n            for (idx = 0, length = ranges.length; idx < length; idx++) {\n                var range = ranges[idx];\n                if (range.outerStart <= start && range.outerEnd >= start) {\n                    availableItemsCount += range.outerEnd - start;\n                } else if (range.outerStart <= end && range.outerEnd >= end) {\n                    availableItemsCount += end - range.outerStart;\n                }\n            }\n\n            return availableItemsCount >= end - start;\n        },\n\n        _getCurrentRangeSpan: function() {\n            var that = this;\n            var ranges = that._ranges;\n            var start = that.currentRangeStart();\n            var end = start + (that.take() || 0);\n            var rangeSpan = [];\n            var range;\n            var idx;\n            var length = ranges.length;\n\n            for (idx = 0; idx < length; idx++) {\n                range = ranges[idx];\n\n                if ((range.start <= start && range.end >= start) || (range.start >= start && range.start <= end)) {\n                    rangeSpan.push(range);\n                }\n            }\n\n            return rangeSpan;\n        },\n\n        _removeModelFromRanges: function(model) {\n            var that = this;\n            var range;\n\n            for (var idx = 0, length = this._ranges.length; idx < length; idx++) {\n                range = this._ranges[idx];\n\n                that._removeModelFromRange(range, model);\n            }\n\n            that._updateRangesLength();\n        },\n\n        _removeModelFromRange: function(range, model) {\n            this._eachItem(range.data, function(data) {\n                if (!data) {\n                    return;\n                }\n                for (var idx = 0; idx < data.length; idx++) {\n                    var dataItem = data[idx];\n\n                    if (dataItem.uid && dataItem.uid == model.uid) {\n                        [].splice.call(data, idx, 1);\n                        break;\n                    }\n                }\n            });\n        },\n\n        _insertModelInRange: function(index, model) {\n            var that = this;\n            var ranges = that._ranges || [];\n            var rangesLength = ranges.length;\n            var range;\n            var i;\n\n            for (i = 0; i < rangesLength; i++) {\n                range = ranges[i];\n\n                if (range.start <= index && range.end >= index) {\n                    if (!that._getByUid(model.uid, range.data)) {\n                        if (that._isServerGrouped()) {\n                            range.data.splice(index, 0, that._wrapInEmptyGroup(model));\n                        } else {\n                            range.data.splice(index, 0, model);\n                        }\n                    }\n\n                    break;\n                }\n            }\n\n            that._updateRangesLength();\n        },\n\n        _updateRangesLength: function() {\n            var that = this;\n            var ranges = that._ranges || [];\n            var rangesLength = ranges.length;\n            var mismatchFound = false;\n            var mismatchLength = 0;\n            var lengthDifference = 0;\n            var rangeLength;\n            var range;\n            var i;\n\n            for (i = 0; i < rangesLength; i++) {\n                range = ranges[i];\n                rangeLength = that._isGroupPaged() ? range.data.length : that._flatData(range.data, true).length;\n                lengthDifference = rangeLength - math.abs(range.end - range.start);\n\n                if (!mismatchFound && lengthDifference !== 0) {\n                    mismatchFound = true;\n                    mismatchLength = lengthDifference;\n                    range.end += mismatchLength;\n                    continue;\n                }\n\n                if (mismatchFound) {\n                    range.start += mismatchLength;\n                    range.end += mismatchLength;\n                }\n            }\n        },\n\n        _updateOuterRangesLength: function () {\n            var that = this;\n            var ranges = that._ranges || [];\n            var rangesLength = ranges.length;\n            var mismatchLength = 0;\n            var range;\n            var i;\n            var prevRange;\n            var rangeLength;\n\n            for (i = 0; i < rangesLength; i++) {\n                range = ranges[i];\n                rangeLength = that._isGroupPaged() ? that._calculateGroupsTotal(range.data, true, \"items\", true) : that._flatData(range.data, true).length;\n\n                if (prevRange) {\n                    if (prevRange.end != range.start) {\n                        mismatchLength = range.start - prevRange.end;\n                    }\n                    range.outerStart = prevRange.outerEnd + mismatchLength;\n                    mismatchLength = 0;\n                } else {\n                    range.outerStart = range.start;\n                }\n\n                range.outerEnd = range.outerStart + rangeLength;\n                prevRange = range;\n            }\n        }\n    });\n\n    var Transport = {};\n\n    Transport.create = function(options, data, dataSource) {\n        var transport,\n            transportOptions = options.transport ? $.extend({}, options.transport) : null;\n\n        if (transportOptions) {\n            transportOptions.read = typeof transportOptions.read === STRING ? { url: transportOptions.read } : transportOptions.read;\n\n            if (options.type === \"jsdo\") {\n                transportOptions.dataSource = dataSource;\n            }\n\n            if (options.type) {\n                kendo.data.transports = kendo.data.transports || {};\n                kendo.data.schemas = kendo.data.schemas || {};\n\n                if (!kendo.data.transports[options.type]) {\n                    kendo.logToConsole(\"Unknown DataSource transport type '\" + options.type + \"'.\\nVerify that registration scripts for this type are included after Kendo UI on the page.\", \"warn\");\n                } else if (!isPlainObject(kendo.data.transports[options.type])) {\n                    transport = new kendo.data.transports[options.type](extend(transportOptions, { data: data }));\n                } else {\n                    transportOptions = extend(true, {}, kendo.data.transports[options.type], transportOptions);\n                }\n\n                options.schema = extend(true, {}, kendo.data.schemas[options.type], options.schema);\n            }\n\n            if (!transport) {\n                transport = isFunction(transportOptions.read) ? transportOptions : new RemoteTransport(transportOptions);\n            }\n        } else {\n            transport = new LocalTransport({ data: options.data || [] });\n        }\n        return transport;\n    };\n\n    DataSource.create = function(options) {\n        if (isArray(options) || options instanceof ObservableArray) {\n           options = { data: options };\n        }\n\n        var dataSource = options || {},\n            data = dataSource.data,\n            fields = dataSource.fields,\n            table = dataSource.table,\n            select = dataSource.select,\n            idx,\n            length,\n            model = {},\n            field;\n\n        if (!data && fields && !dataSource.transport) {\n            if (table) {\n                data = inferTable(table, fields);\n            } else if (select) {\n                data = inferSelect(select, fields);\n\n                if (dataSource.group === undefined && data[0] && data[0].optgroup !== undefined) {\n                    dataSource.group = \"optgroup\";\n                }\n            }\n        }\n\n        if (kendo.data.Model && fields && (!dataSource.schema || !dataSource.schema.model)) {\n            for (idx = 0, length = fields.length; idx < length; idx++) {\n                field = fields[idx];\n                if (field.type) {\n                    model[field.field] = field;\n                }\n            }\n\n            if (!isEmptyObject(model)) {\n                dataSource.schema = extend(true, dataSource.schema, { model:  { fields: model } });\n            }\n        }\n\n        dataSource.data = data;\n\n        select = null;\n        dataSource.select = null;\n        table = null;\n        dataSource.table = null;\n\n        return dataSource instanceof DataSource ? dataSource : new DataSource(dataSource);\n    };\n\n    function inferSelect(select, fields) {\n        select = $(select)[0];\n        var options = select.options;\n        var firstField = fields[0];\n        var secondField = fields[1];\n\n        var data = [];\n        var idx, length;\n        var optgroup;\n        var option;\n        var record;\n        var value;\n\n        for (idx = 0, length = options.length; idx < length; idx++) {\n            record = {};\n            option = options[idx];\n            optgroup = option.parentNode;\n\n            if (optgroup === select) {\n                optgroup = null;\n            }\n\n            if (option.disabled || (optgroup && optgroup.disabled)) {\n                continue;\n            }\n\n            if (optgroup) {\n                record.optgroup = optgroup.label;\n            }\n\n            record[firstField.field] = option.text;\n\n            value = option.attributes.value;\n\n            if (value && value.specified) {\n                value = option.value;\n            } else {\n                value = option.text;\n            }\n\n            record[secondField.field] = value;\n\n            data.push(record);\n        }\n\n        return data;\n    }\n\n    function inferTable(table, fields) {\n        var tbody = $(table)[0].tBodies[0],\n        rows = tbody ? tbody.rows : [],\n        idx,\n        length,\n        fieldIndex,\n        fieldCount = fields.length,\n        data = [],\n        cells,\n        record,\n        cell,\n        empty;\n\n        for (idx = 0, length = rows.length; idx < length; idx++) {\n            record = {};\n            empty = true;\n            cells = rows[idx].cells;\n\n            for (fieldIndex = 0; fieldIndex < fieldCount; fieldIndex++) {\n                cell = cells[fieldIndex];\n                if(cell.nodeName.toLowerCase() !== \"th\") {\n                    empty = false;\n                    record[fields[fieldIndex].field] = cell.innerHTML;\n                }\n            }\n            if(!empty) {\n                data.push(record);\n            }\n        }\n\n        return data;\n    }\n\n    var Node = Model.define({\n        idField: \"id\",\n\n        init: function(value) {\n            var that = this,\n                hasChildren = that.hasChildren || value && value.hasChildren,\n                childrenField = \"items\",\n                childrenOptions = {};\n\n            kendo.data.Model.fn.init.call(that, value);\n\n            if (typeof that.children === STRING) {\n                childrenField = that.children;\n            }\n\n            childrenOptions = {\n                schema: {\n                    data: childrenField,\n                    model: {\n                        hasChildren: hasChildren,\n                        id: that.idField,\n                        fields: that.fields\n                    }\n                }\n            };\n\n            if (typeof that.children !== STRING) {\n                extend(childrenOptions, that.children);\n            }\n\n            childrenOptions.data = value;\n\n            if (!hasChildren) {\n                hasChildren = childrenOptions.schema.data;\n            }\n\n            if (typeof hasChildren === STRING) {\n                hasChildren = kendo.getter(hasChildren);\n            }\n\n            if (isFunction(hasChildren)) {\n                var hasChildrenObject = hasChildren.call(that, that);\n\n                if(hasChildrenObject && hasChildrenObject.length === 0){\n                    that.hasChildren = false;\n                } else{\n                    that.hasChildren = !!hasChildrenObject;\n                }\n            }\n\n            that._childrenOptions = childrenOptions;\n\n            if (that.hasChildren) {\n                that._initChildren();\n            }\n\n            that._loaded = !!(value && value._loaded);\n        },\n\n        _initChildren: function() {\n            var that = this;\n            var children, transport, parameterMap;\n\n            if (!(that.children instanceof HierarchicalDataSource)) {\n                children = that.children = new HierarchicalDataSource(that._childrenOptions);\n\n                transport = children.transport;\n                parameterMap = transport.parameterMap;\n\n                transport.parameterMap = function(data, type) {\n                    data[that.idField || \"id\"] = that.id;\n\n                    if (parameterMap) {\n                        data = parameterMap.call(that, data, type);\n                    }\n\n                    return data;\n                };\n\n                children.parent = function(){\n                    return that;\n                };\n\n                children.bind(CHANGE, function(e){\n                    e.node = e.node || that;\n                    that.trigger(CHANGE, e);\n                });\n\n                children.bind(ERROR, function(e){\n                    var collection = that.parent();\n\n                    if (collection) {\n                        e.node = e.node || that;\n                        collection.trigger(ERROR, e);\n                    }\n                });\n\n                children.bind(ITEMSLOADED, function (e) {\n                    var collection = that.parent();\n\n                    if (collection) {\n                        collection.trigger(ITEMSLOADED, e);\n                    }\n                });\n\n                that._updateChildrenField();\n            }\n        },\n\n        append: function(model) {\n            this._initChildren();\n            this.loaded(true);\n            this.children.add(model);\n        },\n\n        hasChildren: false,\n\n        level: function() {\n            var parentNode = this.parentNode(),\n                level = 0;\n\n            while (parentNode && parentNode.parentNode) {\n                level++;\n                parentNode = parentNode.parentNode ? parentNode.parentNode() : null;\n            }\n\n            return level;\n        },\n\n        _updateChildrenField: function() {\n            var fieldName = this._childrenOptions.schema.data;\n\n            this[fieldName || \"items\"] = this.children.data();\n        },\n\n        _childrenLoaded: function() {\n            this._loaded = true;\n\n            this._updateChildrenField();\n        },\n\n        load: function() {\n            var options = {};\n            var method = \"_query\";\n            var children, promise;\n\n            if (this.hasChildren) {\n                this._initChildren();\n\n                children = this.children;\n\n                options[this.idField || \"id\"] = this.id;\n\n                if (!this._loaded) {\n                    children._data = undefined;\n                    method = \"read\";\n                }\n\n                children.one(CHANGE, this._childrenLoaded.bind(this));\n\n                if(this._matchFilter){\n                    options.filter = { field: '_matchFilter', operator: 'eq', value: true };\n                }\n\n                promise = children[method](options);\n                if (!this._loaded) {\n                    this.trigger(ITEMLOAD, {promise: promise, node: this});\n                }\n            } else {\n                this.loaded(true);\n            }\n\n            return promise || $.Deferred().resolve().promise();\n        },\n\n        parentNode: function() {\n            var array = this.parent();\n\n            return array.parent();\n        },\n\n        loaded: function(value) {\n            if (value !== undefined) {\n                this._loaded = value;\n            } else {\n                return this._loaded;\n            }\n        },\n\n        shouldSerialize: function(field) {\n            return Model.fn.shouldSerialize.call(this, field) &&\n                    field !== \"children\" &&\n                    field !== \"_loaded\" &&\n                    field !== \"hasChildren\" &&\n                    field !== \"_childrenOptions\";\n        }\n    });\n\n    function dataMethod(name) {\n        return function() {\n            var data = this._data,\n                result = DataSource.fn[name].apply(this, slice.call(arguments));\n\n            if (this._data != data) {\n                this._attachBubbleHandlers();\n            }\n\n            return result;\n        };\n    }\n\n    var HierarchicalDataSource = DataSource.extend({\n        init: function(options) {\n            var node = Node.define({\n                children: options\n            });\n\n            if(options.filter && !options.serverFiltering){\n                this._hierarchicalFilter = options.filter;\n                options.filter = null;\n            }\n\n            DataSource.fn.init.call(this, extend(true, {}, { schema: { modelBase: node, model: node } }, options));\n\n            this._attachBubbleHandlers();\n        },\n\n        _attachBubbleHandlers: function() {\n            var that = this;\n\n            that._data.bind(ERROR, function(e) {\n                that.trigger(ERROR, e);\n            });\n\n            that._data.bind(ITEMSLOADED, function(e) {\n                that.trigger(ITEMSLOADED, e);\n            });\n        },\n\n        loading: function () {\n            if(this._data) {\n                return this._data.loading() || this._childrenLoading();\n            }\n            return false;\n        },\n\n        _childrenLoading: function () {\n            var isLoading = false;\n            this._data.forEach(function (node) {\n                if(node.hasChildren && node.children.loading()) {\n                    isLoading = true;\n                }\n            });\n            return isLoading;\n        },\n\n        read: function(data) {\n            var result = DataSource.fn.read.call(this, data);\n\n            if(this._hierarchicalFilter){\n                if(this._data && this._data.length > 0){\n                    this.filter(this._hierarchicalFilter);\n                }else{\n                    this.options.filter = this._hierarchicalFilter;\n                    this._filter = normalizeFilter(this.options.filter);\n                    this._hierarchicalFilter = null;\n                }\n            }\n\n            return result;\n        },\n\n        remove: function(node){\n            var parentNode = node.parentNode(),\n                dataSource = this,\n                result;\n\n            if (parentNode && parentNode._initChildren) {\n                dataSource = parentNode.children;\n            }\n\n            result = DataSource.fn.remove.call(dataSource, node);\n\n            if (parentNode && !dataSource.data().length) {\n                parentNode.hasChildren = false;\n            }\n\n            return result;\n        },\n\n        success: dataMethod(\"success\"),\n\n        data: dataMethod(\"data\"),\n\n        insert: function(index, model) {\n            var parentNode = this.parent();\n\n            if (parentNode && parentNode._initChildren) {\n                parentNode.hasChildren = true;\n                parentNode._initChildren();\n            }\n\n            return DataSource.fn.insert.call(this, index, model);\n        },\n\n        filter: function(val) {\n            if (val === undefined) {\n                 return this._filter;\n            }\n\n            if(!this.options.serverFiltering && this._markHierarchicalQuery(val)){\n                val = { logic: \"or\", filters: [val, {field:'_matchFilter', operator: 'equals', value: true }]};\n            }\n\n            this.trigger(\"reset\");\n            this._query({ filter: val, page: 1 });\n        },\n\n        _markHierarchicalQuery: function(expressions){\n            var compiled;\n            var predicate;\n            var fields;\n            var operators;\n            var filter;\n            var accentFoldingFiltering = this.options.accentFoldingFiltering;\n\n            expressions = accentFoldingFiltering ? $.extend({}, normalizeFilter(expressions), { accentFoldingFiltering: accentFoldingFiltering}) : normalizeFilter(expressions);\n\n            if (!expressions || expressions.filters.length === 0) {\n                this._updateHierarchicalFilter(function(){return true;});\n                return false;\n            }\n\n            compiled = Query.filterExpr(expressions);\n            fields = compiled.fields;\n            operators = compiled.operators;\n\n            predicate = filter = new Function(\"d, __f, __o\", \"return \" + compiled.expression);\n\n            if (fields.length || operators.length) {\n                filter = function(d) {\n                    return predicate(d, fields, operators);\n                };\n            }\n\n            this._updateHierarchicalFilter(filter);\n            return true;\n        },\n\n         _updateHierarchicalFilter: function(filter){\n            var current;\n            var data = this._data;\n            var result = false;\n\n            for (var idx = 0; idx < data.length; idx++) {\n                 current = data[idx];\n\n                 if(current.hasChildren){\n                     current._matchFilter = current.children._updateHierarchicalFilter(filter);\n                    if(!current._matchFilter){\n                        current._matchFilter = filter(current);\n                    }\n                }else{\n                    current._matchFilter = filter(current);\n                }\n\n                if(current._matchFilter){\n                    result = true;\n                }\n            }\n            return result;\n        },\n\n        _find: function(method, value) {\n            var idx, length, node, children;\n            var data = this._data;\n\n            if (!data) {\n                return;\n            }\n\n            node = DataSource.fn[method].call(this, value);\n\n            if (node) {\n                return node;\n            }\n\n            data = this._flatData(this._data);\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                children = data[idx].children;\n\n                if (!(children instanceof HierarchicalDataSource)) {\n                    continue;\n                }\n\n                node = children[method](value);\n\n                if (node) {\n                    return node;\n                }\n            }\n        },\n\n        get: function(id) {\n            return this._find(\"get\", id);\n        },\n\n        getByUid: function(uid) {\n            return this._find(\"getByUid\", uid);\n        }\n    });\n\n    function inferList(list, fields) {\n        var items = $(list).children(),\n            idx,\n            length,\n            data = [],\n            record,\n            textField = fields[0].field,\n            urlField = fields[1] && fields[1].field,\n            spriteCssClassField = fields[2] && fields[2].field,\n            imageUrlField = fields[3] && fields[3].field,\n            item,\n            id,\n            textChild,\n            className,\n            children;\n\n        function elements(collection, tagName) {\n            return collection.filter(tagName).add(collection.find(tagName));\n        }\n\n        for (idx = 0, length = items.length; idx < length; idx++) {\n            record = { _loaded: true };\n            item = items.eq(idx);\n\n            textChild = item[0].firstChild;\n            children = item.children();\n            list = children.filter(\"ul\");\n            children = children.filter(\":not(ul)\");\n\n            id = item.attr(\"data-id\");\n\n            if (id) {\n                record.id = id;\n            }\n\n            if (textChild) {\n                record[textField] = textChild.nodeType == 3 ? textChild.nodeValue : children.text();\n            }\n\n            if (urlField) {\n                record[urlField] = elements(children, \"a\").attr(\"href\");\n            }\n\n            if (imageUrlField) {\n                record[imageUrlField] = elements(children, \"img\").attr(\"src\");\n            }\n\n            if (spriteCssClassField) {\n                className = elements(children, \".k-sprite\").prop(\"className\");\n                record[spriteCssClassField] = className && kendo.trim(className.replace(\"k-sprite\", \"\"));\n            }\n\n            if (list.length) {\n                record.items = inferList(list.eq(0), fields);\n            }\n\n            if (item.attr(\"data-hasChildren\") == \"true\") {\n                record.hasChildren = true;\n            }\n\n            data.push(record);\n        }\n\n        return data;\n    }\n\n    HierarchicalDataSource.create = function(options) {\n        options = options && options.push ? { data: options } : options;\n\n        var dataSource = options || {},\n            data = dataSource.data,\n            fields = dataSource.fields,\n            list = dataSource.list;\n\n        if (data && data._dataSource) {\n            return data._dataSource;\n        }\n\n        if (!data && fields && !dataSource.transport) {\n            if (list) {\n                data = inferList(list, fields);\n            }\n        }\n\n        dataSource.data = data;\n\n        return dataSource instanceof HierarchicalDataSource ? dataSource : new HierarchicalDataSource(dataSource);\n    };\n\n    var Buffer = kendo.Observable.extend({\n        init: function(dataSource, viewSize, disablePrefetch) {\n            kendo.Observable.fn.init.call(this);\n\n            this._prefetching = false;\n            this.dataSource = dataSource;\n            this.prefetch = !disablePrefetch;\n\n            var buffer = this;\n\n            dataSource.bind(\"change\", function() {\n                buffer._change();\n            });\n\n            dataSource.bind(\"reset\", function() {\n                buffer._reset();\n            });\n\n            this._syncWithDataSource();\n\n            this.setViewSize(viewSize);\n        },\n\n        setViewSize: function(viewSize) {\n            this.viewSize = viewSize;\n            this._recalculate();\n        },\n\n        at: function(index)  {\n            var pageSize = this.pageSize,\n                itemPresent = true;\n\n            if (index >= this.total()) {\n                this.trigger(\"endreached\", {index: index });\n                return null;\n            }\n\n            if (!this.useRanges) {\n               return this.dataSource.view()[index];\n            }\n            if (this.useRanges) {\n                // out of range request\n                if (index < this.dataOffset || index >= this.skip + pageSize) {\n                    itemPresent = this.range(Math.floor(index / pageSize) * pageSize);\n                }\n\n                // prefetch\n                if (index === this.prefetchThreshold) {\n                    this._prefetch();\n                }\n\n                // mid-range jump - prefetchThreshold and nextPageThreshold may be equal, do not change to else if\n                if (index === this.midPageThreshold) {\n                    this.range(this.nextMidRange, true);\n                }\n                // next range jump\n                else if (index === this.nextPageThreshold) {\n                    this.range(this.nextFullRange);\n                }\n                // pull-back\n                else if (index === this.pullBackThreshold) {\n                    if (this.offset === this.skip) { // from full range to mid range\n                        this.range(this.previousMidRange);\n                    } else { // from mid range to full range\n                        this.range(this.previousFullRange);\n                    }\n                }\n\n                if (itemPresent) {\n                    return this.dataSource.at(index - this.dataOffset);\n                } else {\n                    this.trigger(\"endreached\", { index: index });\n                    return null;\n                }\n            }\n        },\n\n        indexOf: function(item) {\n            return this.dataSource.data().indexOf(item) + this.dataOffset;\n        },\n\n        total: function() {\n            return parseInt(this.dataSource.total(), 10);\n        },\n\n        next: function() {\n            var buffer = this,\n                pageSize = buffer.pageSize,\n                offset = buffer.skip - buffer.viewSize + pageSize,\n                pageSkip = math.max(math.floor(offset / pageSize), 0) * pageSize;\n\n            this.offset = offset;\n            this.dataSource.prefetch(pageSkip, pageSize, function() {\n                buffer._goToRange(offset, true);\n            });\n        },\n\n        range: function(offset, nextRange) {\n            if (this.offset === offset) {\n                return true;\n            }\n\n            var buffer = this,\n                pageSize = this.pageSize,\n                pageSkip = math.max(math.floor(offset / pageSize), 0) * pageSize,\n                dataSource = this.dataSource;\n\n            if (nextRange) {\n                pageSkip += pageSize;\n            }\n\n            if (dataSource.inRange(offset, pageSize)) {\n                this.offset = offset;\n                this._recalculate();\n                this._goToRange(offset);\n                return true;\n            } else if (this.prefetch) {\n                dataSource.prefetch(pageSkip, pageSize, function() {\n                    buffer.offset = offset;\n                    buffer._recalculate();\n                    buffer._goToRange(offset, true);\n                });\n                return false;\n            }\n\n            return true;\n        },\n\n        syncDataSource: function() {\n            var offset = this.offset;\n            this.offset = null;\n            this.range(offset);\n        },\n\n        destroy: function() {\n            this.unbind();\n        },\n\n        _prefetch: function() {\n            var buffer = this,\n                pageSize = this.pageSize,\n                prefetchOffset = this.skip + pageSize,\n                dataSource = this.dataSource;\n\n            if (!dataSource.inRange(prefetchOffset, pageSize) && !this._prefetching && this.prefetch) {\n                this._prefetching = true;\n                this.trigger(\"prefetching\", { skip: prefetchOffset, take: pageSize });\n\n                dataSource.prefetch(prefetchOffset, pageSize, function() {\n                    buffer._prefetching = false;\n                    buffer.trigger(\"prefetched\", { skip: prefetchOffset, take: pageSize });\n                });\n            }\n        },\n\n        _goToRange: function(offset, expanding) {\n            if (this.offset !== offset) {\n                return;\n            }\n\n            this.dataOffset = offset;\n            this._expanding = expanding;\n            this.dataSource.range(offset, this.pageSize);\n            this.dataSource.enableRequestsInProgress();\n        },\n\n        _reset: function() {\n            this._syncPending = true;\n        },\n\n        _change: function() {\n            var dataSource = this.dataSource;\n\n            this.length = this.useRanges ? dataSource.lastRange().end : dataSource.view().length;\n\n            if (this._syncPending) {\n                this._syncWithDataSource();\n                this._recalculate();\n                this._syncPending = false;\n                this.trigger(\"reset\", { offset: this.offset });\n            }\n\n            this.trigger(\"resize\");\n\n            if (this._expanding) {\n                this.trigger(\"expand\");\n            }\n\n            delete this._expanding;\n        },\n\n        _syncWithDataSource: function() {\n            var dataSource = this.dataSource;\n\n            this._firstItemUid = dataSource.firstItemUid();\n            this.dataOffset = this.offset = dataSource.skip() || 0;\n            this.pageSize = dataSource.pageSize();\n            this.useRanges = dataSource.options.serverPaging;\n        },\n\n        _recalculate: function() {\n            var pageSize = this.pageSize,\n                offset = this.offset,\n                viewSize = this.viewSize,\n                skip = Math.ceil(offset / pageSize) * pageSize;\n\n            this.skip = skip;\n            this.midPageThreshold = skip + pageSize - 1;\n            this.nextPageThreshold = skip + viewSize - 1;\n            this.prefetchThreshold = skip + Math.floor(pageSize / 3 * 2);\n            this.pullBackThreshold = this.offset - 1;\n\n            this.nextMidRange = skip + pageSize - viewSize;\n            this.nextFullRange = skip;\n            this.previousMidRange = offset - viewSize;\n            this.previousFullRange = skip - pageSize;\n        }\n    });\n\n    var BatchBuffer = kendo.Observable.extend({\n        init: function(dataSource, batchSize) {\n            var batchBuffer = this;\n\n            kendo.Observable.fn.init.call(batchBuffer);\n\n            this.dataSource = dataSource;\n            this.batchSize = batchSize;\n            this._total = 0;\n\n            this.buffer = new Buffer(dataSource, batchSize * 3);\n\n            this.buffer.bind({\n                \"endreached\": function (e) {\n                    batchBuffer.trigger(\"endreached\", { index: e.index });\n                },\n                \"prefetching\": function (e) {\n                    batchBuffer.trigger(\"prefetching\", { skip: e.skip, take: e.take });\n                },\n                \"prefetched\": function (e) {\n                    batchBuffer.trigger(\"prefetched\", { skip: e.skip, take: e.take });\n                },\n                \"reset\": function () {\n                    batchBuffer._total = 0;\n                    batchBuffer.trigger(\"reset\");\n                },\n                \"resize\": function () {\n                    batchBuffer._total = Math.ceil(this.length / batchBuffer.batchSize);\n                    batchBuffer.trigger(\"resize\", { total: batchBuffer.total(), offset: this.offset });\n                }\n            });\n        },\n\n        syncDataSource: function() {\n            this.buffer.syncDataSource();\n        },\n\n        at: function(index) {\n            var buffer = this.buffer,\n                skip = index * this.batchSize,\n                take = this.batchSize,\n                view = [],\n                item;\n\n            if (buffer.offset > skip) {\n                buffer.at(buffer.offset - 1);\n            }\n\n            for (var i = 0; i < take; i++) {\n                item = buffer.at(skip + i);\n\n                if (item === null) {\n                    break;\n                }\n\n                view.push(item);\n            }\n\n            return view;\n        },\n\n        total: function() {\n            return this._total;\n        },\n\n        destroy: function() {\n            this.buffer.destroy();\n            this.unbind();\n        }\n    });\n\n    extend(true, kendo.data, {\n        readers: {\n            json: DataReader\n        },\n        Query: Query,\n        DataSource: DataSource,\n        HierarchicalDataSource: HierarchicalDataSource,\n        Node: Node,\n        Comparer: Comparer,\n        ObservableObject: ObservableObject,\n        ObservableArray: ObservableArray,\n        LazyObservableArray: LazyObservableArray,\n        LocalTransport: LocalTransport,\n        RemoteTransport: RemoteTransport,\n        Cache: Cache,\n        DataReader: DataReader,\n        Model: Model,\n        Buffer: Buffer,\n        BatchBuffer: BatchBuffer\n    });\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.binder',[ \"kendo.core\", \"kendo.data\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"binder\",\n    name: \"MVVM\",\n    category: \"framework\",\n    description: \"Model View ViewModel (MVVM) is a design pattern which helps developers separate the Model (the data) from the View (the UI).\",\n    depends: [ \"core\", \"data\" ]\n};\n\n/*jshint eqnull: true */\n(function ($, undefined) {\n    var kendo = window.kendo,\n        Observable = kendo.Observable,\n        ObservableObject = kendo.data.ObservableObject,\n        ObservableArray = kendo.data.ObservableArray,\n        toString = {}.toString,\n        binders = {},\n        Class = kendo.Class,\n        VALUE = \"value\",\n        SOURCE = \"source\",\n        EVENTS = \"events\",\n        CHECKED = \"checked\",\n        CSS = \"css\",\n        deleteExpando = true,\n        FUNCTION = \"function\",\n        CHANGE = \"change\";\n\n    (function() {\n        var a = document.createElement(\"a\");\n\n        try {\n            delete a.test;\n        } catch(e) {\n            deleteExpando = false;\n        }\n    })();\n\n    var Binding = Observable.extend( {\n        init: function(parents, path) {\n            var that = this;\n\n            Observable.fn.init.call(that);\n\n            that.source = parents[0];\n            that.parents = parents;\n            that.path = path;\n            that.dependencies = {};\n            that.dependencies[path] = true;\n            that.observable = that.source instanceof Observable;\n\n            that._access = function(e) {\n                that.dependencies[e.field] = true;\n            };\n\n            if (that.observable) {\n                that._change = function(e) {\n                    that.change(e);\n                };\n\n                that.source.bind(CHANGE, that._change);\n            }\n        },\n\n        _parents: function() {\n            var parents = this.parents;\n            var value = this.get();\n\n            if (value && typeof value.parent == \"function\") {\n                var parent = value.parent();\n\n                if ($.inArray(parent, parents) < 0) {\n                    parents = [parent].concat(parents);\n                }\n            }\n\n            return parents;\n        },\n\n        change: function(e) {\n            var dependency,\n                ch,\n                field = e.field,\n                that = this;\n\n            if (that.path === \"this\") {\n                that.trigger(CHANGE, e);\n            } else {\n                for (dependency in that.dependencies) {\n                    if (dependency.indexOf(field) === 0) {\n                       ch = dependency.charAt(field.length);\n\n                       if (!ch || ch === \".\" || ch === \"[\") {\n                            that.trigger(CHANGE, e);\n                            break;\n                       }\n                    }\n                }\n            }\n        },\n\n        start: function(source) {\n            source.bind(\"get\", this._access);\n        },\n\n        stop: function(source) {\n            source.unbind(\"get\", this._access);\n        },\n\n        get: function() {\n\n            var that = this,\n                source = that.source,\n                index = 0,\n                path = that.path,\n                result = source;\n\n            if (!that.observable) {\n                return result;\n            }\n\n            that.start(that.source);\n\n            result = source.get(path);\n\n            // Traverse the observable hierarchy if the binding is not resolved at the current level.\n            while (result === undefined && source) {\n\n                source = that.parents[++index];\n\n                if (source instanceof ObservableObject) {\n                    result = source.get(path);\n                }\n            }\n\n            // second pass try to get the parent from the object hierarchy\n            if (result === undefined) {\n                source = that.source; //get the initial source\n\n                while (result === undefined && source) {\n                    source = source.parent();\n\n                    if (source instanceof ObservableObject) {\n                        result = source.get(path);\n                    }\n                }\n            }\n\n            // If the result is a function - invoke it\n            if (typeof result === \"function\") {\n                index = path.lastIndexOf(\".\");\n\n                // If the function is a member of a nested observable object make that nested observable the context (this) of the function\n                if (index > 0) {\n                    source = source.get(path.substring(0, index));\n                }\n\n                // Invoke the function\n                that.start(source);\n\n                if (source !== that.source) {\n                    result = result.call(source, that.source);\n                } else {\n                    result = result.call(source);\n                }\n\n                that.stop(source);\n            }\n\n            // If the binding is resolved by a parent object\n            if (source && source !== that.source) {\n\n                that.currentSource = source; // save parent object\n\n                // Listen for changes in the parent object\n                source.unbind(CHANGE, that._change)\n                      .bind(CHANGE, that._change);\n            }\n\n            that.stop(that.source);\n\n            return result;\n        },\n\n        set: function(value) {\n            var source = this.currentSource || this.source;\n\n            var field = kendo.getter(this.path)(source);\n\n            if (typeof field === \"function\") {\n                if (source !== this.source) {\n                    field.call(source, this.source, value);\n                } else {\n                    field.call(source, value);\n                }\n            } else {\n                source.set(this.path, value);\n            }\n        },\n\n        destroy: function() {\n            if (this.observable) {\n                this.source.unbind(CHANGE, this._change);\n                if(this.currentSource) {\n                    this.currentSource.unbind(CHANGE, this._change);\n                }\n            }\n\n            this.unbind();\n        }\n    });\n\n    var EventBinding = Binding.extend( {\n        get: function() {\n            var source = this.source,\n                path = this.path,\n                index = 0,\n                handler;\n\n            handler = source.get(path);\n\n            while (!handler && source) {\n                source = this.parents[++index];\n\n                if (source instanceof ObservableObject) {\n                    handler = source.get(path);\n                }\n            }\n\n            if (!handler) {\n                return;\n            }\n\n            return handler.bind(source);\n        }\n    });\n\n    var TemplateBinding = Binding.extend( {\n        init: function(source, path, template) {\n            var that = this;\n\n            Binding.fn.init.call(that, source, path);\n\n            that.template = template;\n        },\n\n        render: function(value) {\n            var html;\n\n            this.start(this.source);\n\n            html = kendo.render(this.template, value);\n\n            this.stop(this.source);\n\n            return html;\n        }\n    });\n\n    var Binder = Class.extend({\n        init: function(element, bindings, options) {\n            this.element = element;\n            this.bindings = bindings;\n            this.options = options;\n        },\n\n        bind: function(binding, attribute) {\n            var that = this;\n\n            binding = attribute ? binding[attribute] : binding;\n\n            binding.bind(CHANGE, function(e) {\n                that.refresh(attribute || e);\n            });\n\n            that.refresh(attribute);\n        },\n\n        destroy: function() {\n        }\n    });\n\n    var TypedBinder = Binder.extend({\n        dataType: function() {\n            var dataType = this.element.getAttribute(\"data-\" + kendo.ns + \"type\") || this.element.type || \"text\";\n            return dataType.toLowerCase();\n        },\n\n        parsedValue: function() {\n            return this._parseValue(this.element.value, this.dataType());\n        },\n\n        _parseValue: function (value, dataType){\n            if (dataType == \"date\") {\n                value = kendo.parseDate(value, \"yyyy-MM-dd\");\n            } else if (dataType == \"datetime-local\") {\n                value = kendo.parseDate(value, [\"yyyy-MM-ddTHH:mm:ss\", \"yyyy-MM-ddTHH:mm\"] );\n            } else if (dataType == \"number\") {\n                value = kendo.parseFloat(value);\n            } else if (dataType == \"boolean\"){\n                value = value.toLowerCase();\n                if(kendo.parseFloat(value) !== null){\n                    value = Boolean(kendo.parseFloat(value));\n                }else{\n                    value = (value.toLowerCase() === \"true\");\n                }\n            }\n            return value;\n        }\n    });\n\n    binders.attr = Binder.extend({\n        refresh: function(key) {\n            this.element.setAttribute(key, this.bindings.attr[key].get());\n        }\n    });\n\n    binders.css = Binder.extend({\n        init: function(element, bindings, options) {\n            Binder.fn.init.call(this, element, bindings, options);\n            this.classes = {};\n        },\n        refresh: function(className) {\n            var element = $(this.element),\n                binding = this.bindings.css[className],\n                hasClass = this.classes[className] = binding.get();\n            if(hasClass){\n                element.addClass(className);\n            }else{\n                element.removeClass(className);\n            }\n        }\n    });\n\n    binders.style = Binder.extend({\n        refresh: function(key) {\n            this.element.style[key] = this.bindings.style[key].get() || \"\";\n        }\n    });\n\n    binders.enabled = Binder.extend({\n        refresh: function() {\n            if (this.bindings.enabled.get()) {\n                this.element.removeAttribute(\"disabled\");\n            } else {\n                this.element.setAttribute(\"disabled\", \"disabled\");\n            }\n        }\n    });\n\n    binders.readonly = Binder.extend({\n       refresh: function() {\n            if (this.bindings.readonly.get()) {\n                this.element.setAttribute(\"readonly\", \"readonly\");\n            } else {\n                this.element.removeAttribute(\"readonly\");\n            }\n       }\n    });\n\n    binders.disabled = Binder.extend({\n        refresh: function() {\n            if (this.bindings.disabled.get()) {\n                this.element.setAttribute(\"disabled\", \"disabled\");\n            } else {\n                this.element.removeAttribute(\"disabled\");\n            }\n        }\n    });\n\n    binders.events = Binder.extend({\n        init: function(element, bindings, options) {\n            Binder.fn.init.call(this, element, bindings, options);\n            this.handlers = {};\n        },\n\n        refresh: function(key) {\n            var element = $(this.element),\n                binding = this.bindings.events[key],\n                handler = this.handlers[key];\n\n            if (handler) {\n                element.off(key, handler);\n            }\n\n            handler = this.handlers[key] = binding.get();\n\n            element.on(key, binding.source, handler);\n        },\n\n        destroy: function() {\n            var element = $(this.element),\n                handler;\n\n            for (handler in this.handlers) {\n                element.off(handler, this.handlers[handler]);\n            }\n        }\n    });\n\n    binders.text = Binder.extend({\n        refresh: function() {\n            var text = this.bindings.text.get();\n            var dataFormat = this.element.getAttribute(\"data-\" + kendo.ns + \"format\") || \"\";\n            if (text == null) {\n                text = \"\";\n            }\n\n            $(this.element).text(kendo.toString(text, dataFormat));\n        }\n    });\n\n    binders.visible = Binder.extend({\n        refresh: function() {\n            if (this.bindings.visible.get()) {\n                this.element.style.display = \"\";\n            } else {\n                this.element.style.display = \"none\";\n            }\n        }\n    });\n\n    binders.invisible = Binder.extend({\n        refresh: function() {\n            if (!this.bindings.invisible.get()) {\n                this.element.style.display = \"\";\n            } else {\n                this.element.style.display = \"none\";\n            }\n        }\n  });\n\n    binders.html = Binder.extend({\n        refresh: function() {\n            this.element.innerHTML = this.bindings.html.get();\n        }\n    });\n\n    binders.value = TypedBinder.extend({\n        init: function(element, bindings, options) {\n            TypedBinder.fn.init.call(this, element, bindings, options);\n\n            this._change = this.change.bind(this);\n            this.eventName = options.valueUpdate || CHANGE;\n\n            $(this.element).on(this.eventName, this._change);\n\n            this._initChange = false;\n        },\n\n        change: function() {\n            this._initChange = this.eventName != CHANGE;\n\n            this.bindings[VALUE].set(this.parsedValue());\n\n            this._initChange = false;\n        },\n\n        refresh: function() {\n            if (!this._initChange) {\n                var value = this.bindings[VALUE].get();\n\n                if (value == null) {\n                    value = \"\";\n                }\n\n                var type = this.dataType();\n\n                if (type == \"date\") {\n                    value = kendo.toString(value, \"yyyy-MM-dd\");\n                } else if (type == \"datetime-local\") {\n                    value = kendo.toString(value, \"yyyy-MM-ddTHH:mm:ss\");\n                }\n\n                this.element.value = value;\n            }\n\n            this._initChange = false;\n        },\n\n        destroy: function() {\n            $(this.element).off(this.eventName, this._change);\n        }\n    });\n\n    binders.source = Binder.extend({\n        init: function(element, bindings, options) {\n            Binder.fn.init.call(this, element, bindings, options);\n\n            var source = this.bindings.source.get();\n\n            if (source instanceof kendo.data.DataSource && options.autoBind !== false) {\n                source.fetch();\n            }\n        },\n\n        refresh: function(e) {\n            var that = this,\n                source = that.bindings.source.get();\n\n            if (source instanceof ObservableArray || source instanceof kendo.data.DataSource) {\n                e = e || {};\n\n                if (e.action == \"add\") {\n                    that.add(e.index, e.items);\n                } else if (e.action == \"remove\") {\n                    that.remove(e.index, e.items);\n                } else if (e.action != \"itemchange\") {\n                    that.render();\n                }\n            } else {\n                that.render();\n            }\n        },\n\n        container: function() {\n            var element = this.element;\n\n            if (element.nodeName.toLowerCase() == \"table\") {\n                if (!element.tBodies[0]) {\n                    element.appendChild(document.createElement(\"tbody\"));\n                }\n                element = element.tBodies[0];\n            }\n\n            return element;\n        },\n\n        template: function() {\n            var options = this.options,\n                template = options.template,\n                nodeName = this.container().nodeName.toLowerCase();\n\n            if (!template) {\n                if (nodeName == \"select\") {\n                    if (options.valueField || options.textField) {\n                        template = kendo.format('<option value=\"#:{0}#\">#:{1}#</option>',\n                            options.valueField || options.textField, options.textField || options.valueField);\n                    } else {\n                        template = \"<option>#:data#</option>\";\n                    }\n                } else if (nodeName == \"tbody\") {\n                    template = \"<tr><td>#:data#</td></tr>\";\n                } else if (nodeName == \"ul\" || nodeName == \"ol\") {\n                    template = \"<li>#:data#</li>\";\n                } else {\n                    template = \"#:data#\";\n                }\n                template = kendo.template(template);\n            }\n\n            return template;\n        },\n\n        add: function(index, items) {\n            var element = this.container(),\n                parents,\n                idx,\n                length,\n                child,\n                clone = element.cloneNode(false),\n                reference = element.children[index];\n\n            $(clone).html(kendo.render(this.template(), items));\n\n            if (clone.children.length) {\n                parents = this.bindings.source._parents();\n\n                for (idx = 0, length = items.length; idx < length; idx++) {\n                    child = clone.children[0];\n                    element.insertBefore(child, reference || null);\n                    bindElement(child, items[idx], this.options.roles, [items[idx]].concat(parents));\n                }\n            }\n        },\n\n        remove: function(index, items) {\n            var idx, element = this.container();\n\n            for (idx = 0; idx < items.length; idx++) {\n                var child = element.children[index];\n                unbindElementTree(child, true);\n                if (child.parentNode == element) {\n                    element.removeChild(child);\n                }\n            }\n        },\n\n        render: function() {\n            var source = this.bindings.source.get(),\n                parents,\n                idx,\n                length,\n                element = this.container(),\n                template = this.template();\n\n            if (source == null) {\n                return;\n            }\n\n            if (source instanceof kendo.data.DataSource) {\n                source = source.view();\n            }\n\n            if (!(source instanceof ObservableArray) && toString.call(source) !== \"[object Array]\") {\n                source = [source];\n            }\n\n            if (this.bindings.template) {\n                unbindElementChildren(element, true);\n\n                $(element).html(this.bindings.template.render(source));\n\n                if (element.children.length) {\n                    parents = this.bindings.source._parents();\n\n                    for (idx = 0, length = source.length; idx < length; idx++) {\n                        bindElement(element.children[idx], source[idx], this.options.roles, [source[idx]].concat(parents));\n                    }\n                }\n            } else {\n                $(element).html(kendo.render(template, source));\n            }\n        }\n    });\n\n    binders.input = {\n        checked: TypedBinder.extend({\n            init: function(element, bindings, options) {\n                TypedBinder.fn.init.call(this, element, bindings, options);\n                this._change = this.change.bind(this);\n\n                $(this.element).change(this._change);\n            },\n\n            change: function() {\n                var element = this.element;\n                var value = this.value();\n\n                if (element.type == \"radio\") {\n                    value = this.parsedValue();\n                    this.bindings[CHECKED].set(value);\n                } else if (element.type == \"checkbox\") {\n                    var source = this.bindings[CHECKED].get();\n                    var index;\n\n                    if (source instanceof ObservableArray) {\n                        value = this.parsedValue();\n                        if (value instanceof Date) {\n                            for(var i = 0; i < source.length; i++){\n                                if(source[i] instanceof Date && +source[i] === +value){\n                                    index = i;\n                                    break;\n                                }\n                            }\n                        }else{\n                            index = source.indexOf(value);\n                        }\n                        if (index > -1) {\n                            source.splice(index, 1);\n                        } else {\n                            source.push(value);\n                        }\n                    } else {\n                        this.bindings[CHECKED].set(value);\n                    }\n                }\n            },\n\n            refresh: function() {\n                var value = this.bindings[CHECKED].get(),\n                    source = value,\n                    type = this.dataType(),\n                    element = this.element;\n\n                if (element.type == \"checkbox\") {\n                    if (source instanceof ObservableArray) {\n                        var index = -1;\n                        value = this.parsedValue();\n                        if(value instanceof Date){\n                            for(var i = 0; i < source.length; i++){\n                                if(source[i] instanceof Date && +source[i] === +value){\n                                    index = i;\n                                    break;\n                                }\n                            }\n                        }else{\n                            index = source.indexOf(value);\n                        }\n                        element.checked = (index >= 0);\n                    }else{\n                        element.checked = source;\n                    }\n                } else if (element.type == \"radio\") {\n                    if (type == \"date\") {\n                        value = kendo.toString(value, \"yyyy-MM-dd\");\n                    } else if (type == \"datetime-local\") {\n                        value = kendo.toString(value, \"yyyy-MM-ddTHH:mm:ss\");\n                    }\n\n                    if (value !== null && typeof(value) !== \"undefined\" && element.value === value.toString()) {\n                        element.checked = true;\n                    } else {\n                        element.checked = false;\n                    }\n                }\n            },\n\n            value: function() {\n                var element = this.element,\n                    value = element.value;\n\n                if (element.type == \"checkbox\") {\n                    value = element.checked;\n                }\n\n                return value;\n            },\n            destroy: function() {\n                $(this.element).off(CHANGE, this._change);\n            }\n        })\n    };\n\n    binders.select = {\n        source: binders.source.extend({\n            refresh: function(e) {\n                var that = this,\n                    source = that.bindings.source.get();\n\n                if (source instanceof ObservableArray || source instanceof kendo.data.DataSource) {\n                    e = e || {};\n                    if (e.action == \"add\") {\n                        that.add(e.index, e.items);\n                    } else if (e.action == \"remove\") {\n                        that.remove(e.index, e.items);\n                    } else if (e.action == \"itemchange\" || e.action === undefined) {\n                        that.render();\n                        if(that.bindings.value){\n                            if (that.bindings.value) {\n                                var val = retrievePrimitiveValues(that.bindings.value.get(), $(that.element).data(\"valueField\"));\n                                if(val === null) {\n                                    that.element.selectedIndex = -1;\n                                } else {\n                                    that.element.value = val;\n                                }\n                            }\n                        }\n                    }\n                } else {\n                    that.render();\n                }\n            }\n        }),\n        value: TypedBinder.extend({\n            init: function(target, bindings, options) {\n                TypedBinder.fn.init.call(this, target, bindings, options);\n\n                this._change = this.change.bind(this);\n                $(this.element).change(this._change);\n            },\n\n            parsedValue : function() {\n                var dataType = this.dataType();\n                var values = [];\n                var value, option, idx, length;\n                for (idx = 0, length = this.element.options.length; idx < length; idx++) {\n                    option = this.element.options[idx];\n\n                    if (option.selected) {\n                        value = option.attributes.value;\n\n                        if (value && value.specified) {\n                            value = option.value;\n                        } else {\n                            value = option.text;\n                        }\n\n                        values.push(this._parseValue(value, dataType));\n                    }\n                }\n                return values;\n            },\n\n            change: function() {\n                var values = [],\n                    element = this.element,\n                    source,\n                    field = this.options.valueField || this.options.textField,\n                    valuePrimitive = this.options.valuePrimitive,\n                    option,\n                    valueIndex,\n                    value,\n                    idx,\n                    length;\n\n                for (idx = 0, length = element.options.length; idx < length; idx++) {\n                    option = element.options[idx];\n\n                    if (option.selected) {\n                        value = option.attributes.value;\n\n                        if (value && value.specified) {\n                            value = option.value;\n                        } else {\n                            value = option.text;\n                        }\n\n                        if (field) {\n                            values.push(value);\n                        } else {\n                            values.push(this._parseValue(value, this.dataType()));\n                        }\n\n                    }\n                }\n\n                if (field) {\n                    source = this.bindings.source.get();\n                    if (source instanceof kendo.data.DataSource) {\n                        source = source.view();\n                    }\n\n                    for (valueIndex = 0; valueIndex < values.length; valueIndex++) {\n                        for (idx = 0, length = source.length; idx < length; idx++) {\n                            var sourceValue = source[idx].get(field);\n                            var match = (String(sourceValue) === values[valueIndex]);\n                            if (match) {\n                                values[valueIndex] = source[idx];\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                value = this.bindings[VALUE].get();\n                if (value instanceof ObservableArray) {\n                    value.splice.apply(value, [0, value.length].concat(values));\n                } else if (!valuePrimitive && (value instanceof ObservableObject || value === null || value === undefined || !field)) {\n                    this.bindings[VALUE].set(values[0]);\n                } else {\n                    this.bindings[VALUE].set(values[0].get(field));\n                }\n            },\n            refresh: function() {\n                var optionIndex,\n                    element = this.element,\n                    options = element.options,\n                    value = this.bindings[VALUE].get(),\n                    values = value,\n                    field = this.options.valueField || this.options.textField,\n                    found = false,\n                    type = this.dataType(),\n                    optionValue;\n\n                if (!(values instanceof ObservableArray)) {\n                    values = new ObservableArray([value]);\n                }\n\n                element.selectedIndex = -1;\n\n                for (var valueIndex = 0; valueIndex < values.length; valueIndex++) {\n                    value = values[valueIndex];\n\n\n                    if (field && value instanceof ObservableObject) {\n                        value = value.get(field);\n                    }\n\n                    if (type == \"date\") {\n                        value = kendo.toString(values[valueIndex], \"yyyy-MM-dd\");\n                    } else if (type == \"datetime-local\") {\n                        value = kendo.toString(values[valueIndex], \"yyyy-MM-ddTHH:mm:ss\");\n                    }\n\n                    for (optionIndex = 0; optionIndex < options.length; optionIndex++) {\n                        optionValue = options[optionIndex].value;\n\n                        if (optionValue === \"\" && value !== \"\") {\n                            optionValue = options[optionIndex].text;\n                        }\n\n                        if (value != null && optionValue == value.toString()) {\n                            options[optionIndex].selected = true;\n                            found = true;\n                        }\n                    }\n                }\n            },\n            destroy: function() {\n                $(this.element).off(CHANGE, this._change);\n            }\n        })\n    };\n\n    function dataSourceBinding(bindingName, fieldName, setter) {\n        return Binder.extend({\n            init: function(widget, bindings, options) {\n                var that = this;\n\n                Binder.fn.init.call(that, widget.element[0], bindings, options);\n\n                that.widget = widget;\n                that._dataBinding = that.dataBinding.bind(that);\n                that._dataBound = that.dataBound.bind(that);\n                that._itemChange = that.itemChange.bind(that);\n            },\n\n            itemChange: function(e) {\n                bindElement(e.item[0], e.data, this._ns(e.ns), [e.data].concat(this.bindings[bindingName]._parents()));\n            },\n\n            dataBinding: function(e) {\n                var idx,\n                    length,\n                    widget = this.widget,\n                    items = e.removedItems || widget.items();\n\n                for (idx = 0, length = items.length; idx < length; idx++) {\n                    unbindElementTree(items[idx], false);\n                }\n            },\n\n            _ns: function(ns) {\n                ns = ns || kendo.ui;\n                var all = [ kendo.ui, kendo.dataviz.ui, kendo.mobile.ui ];\n                all.splice($.inArray(ns, all), 1);\n                all.unshift(ns);\n\n                return kendo.rolesFromNamespaces(all);\n            },\n\n            dataBound: function(e) {\n                var idx,\n                    length,\n                    widget = this.widget,\n                    items = e.addedItems || widget.items(),\n                    dataSource = widget[fieldName],\n                    view,\n                    parents,\n                    hds = kendo.data.HierarchicalDataSource;\n\n                if (hds && dataSource instanceof hds) {\n                    // suppress binding of HDS items, because calling view() on root\n                    // will return only root items, and widget.items() returns all items\n                    return;\n                }\n\n                if (items.length) {\n                    view = e.addedDataItems || dataSource.flatView();\n                    parents = this.bindings[bindingName]._parents();\n\n                    for (idx = 0, length = view.length; idx < length; idx++) {\n                        if (items[idx]) {\n                            bindElement(items[idx], view[idx], this._ns(e.ns), [view[idx]].concat(parents));\n                        }\n                    }\n                }\n            },\n\n            refresh: function(e) {\n                var that = this,\n                    source,\n                    widget = that.widget,\n                    select, multiselect, dropdowntree;\n\n                e = e || {};\n\n                if (!e.action) {\n                    that.destroy();\n\n                    widget.bind(\"dataBinding\", that._dataBinding);\n                    widget.bind(\"dataBound\", that._dataBound);\n                    widget.bind(\"itemChange\", that._itemChange);\n\n                    source = that.bindings[bindingName].get();\n\n                    if (widget[fieldName] instanceof kendo.data.DataSource && widget[fieldName] != source) {\n                        if (source instanceof kendo.data.DataSource) {\n                            widget[setter](source);\n                        } else if (source && source._dataSource) {\n                            widget[setter](source._dataSource);\n                        } else {\n                            select = kendo.ui.Select && widget instanceof kendo.ui.Select;\n                            multiselect = kendo.ui.MultiSelect && widget instanceof kendo.ui.MultiSelect;\n                            dropdowntree = kendo.ui.DropDownTree && widget instanceof kendo.ui.DropDownTree;\n\n                            if(!dropdowntree){\n                                widget[fieldName].data(source);\n                            }else{\n                                widget.treeview[fieldName].data(source);\n                            }\n\n                            if (that.bindings.value && (select || multiselect)) {\n                                widget.value(retrievePrimitiveValues(that.bindings.value.get(), widget.options.dataValueField));\n                            }\n                        }\n                    }\n                }\n            },\n\n            destroy: function() {\n                var widget = this.widget;\n\n                widget.unbind(\"dataBinding\", this._dataBinding);\n                widget.unbind(\"dataBound\", this._dataBound);\n                widget.unbind(\"itemChange\", this._itemChange);\n            }\n        });\n    }\n\n    binders.widget = {\n        events : Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n                this.widget = widget;\n                this.handlers = {};\n            },\n\n            refresh: function(key) {\n                var binding = this.bindings.events[key],\n                    handler = this.handlers[key];\n\n                if (handler) {\n                    this.widget.unbind(key, handler);\n                }\n\n                handler = binding.get();\n\n                this.handlers[key] = function(e) {\n                    e.data = binding.source;\n\n                    handler(e);\n\n                    if (e.data === binding.source) {\n                        delete e.data;\n                    }\n                };\n\n                this.widget.bind(key, this.handlers[key]);\n            },\n\n            destroy: function() {\n                var handler;\n\n                for (handler in this.handlers) {\n                    this.widget.unbind(handler, this.handlers[handler]);\n                }\n            }\n        }),\n\n        checked: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n                this._change = this.change.bind(this);\n                this.widget.bind(CHANGE, this._change);\n            },\n            change: function() {\n                this.bindings[CHECKED].set(this.value());\n            },\n\n            refresh: function() {\n                if (this.element.type === \"radio\") {\n                    this.widget.check(this.bindings[CHECKED].get().toString() === this.value());\n                } else {\n                    this.widget.check(this.bindings[CHECKED].get() === true);\n                }\n            },\n\n            value: function() {\n                var element = this.element,\n                    value = element.value;\n\n                if (value == \"on\" || value == \"off\" || this.element.type == \"checkbox\") {\n                    value = element.checked;\n                }\n\n                return value;\n            },\n\n            destroy: function() {\n                this.widget.unbind(CHANGE, this._change);\n            }\n        }),\n\n        start: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n                this._change = this.change.bind(this);\n                this.widget = widget;\n                this.widget.bind(CHANGE, this._change);\n            },\n\n            change: function() {\n                this.bindings.start.set(this.widget.range().start);\n            },\n\n            refresh: function() {\n                var that = this;\n                var start = this.bindings.start.get();\n                var end = that.widget._range ? that.widget._range.end: null;\n                this.widget.range({start: start, end: end});\n            },\n\n            destroy: function() {\n                this.widget.unbind(CHANGE, this._change);\n            }\n        }),\n\n        end: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n                this._change = this.change.bind(this);\n                this.widget = widget;\n                this.widget.bind(CHANGE, this._change);\n            },\n\n            change: function() {\n                this.bindings.end.set(this.widget.range().end);\n            },\n\n            refresh: function() {\n                var that = this;\n                var end = this.bindings.end.get();\n                var start = that.widget._range ? that.widget._range.start: null;\n                this.widget.range({start: start, end: end});\n            },\n\n            destroy: function() {\n                this.widget.unbind(CHANGE, this._change);\n            }\n        }),\n\n        visible: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n            },\n\n            refresh: function() {\n                var visible = this.bindings.visible.get();\n                this.widget.wrapper[0].style.display = visible ? \"\" : \"none\";\n            }\n        }),\n\n        invisible: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n            },\n\n            refresh: function() {\n                var invisible = this.bindings.invisible.get();\n                this.widget.wrapper[0].style.display = invisible ? \"none\" : \"\";\n            }\n        }),\n\n        floatingLabel: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                if (!widget.floatingLabel) {\n                    return;\n                }\n\n                widget.floatingLabel.refresh();\n            }\n        }),\n\n        enabled: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n            },\n\n            refresh: function() {\n                if (this.widget.enable) {\n                    this.widget.enable(this.bindings.enabled.get());\n                }\n            }\n        }),\n\n        disabled: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n            },\n\n            refresh: function() {\n                if (this.widget.enable) {\n                    this.widget.enable(!this.bindings.disabled.get());\n                }\n            }\n        }),\n\n        source: dataSourceBinding(\"source\", \"dataSource\", \"setDataSource\"),\n\n        value: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n                this._change = this.change.bind(this);\n                this.widget.first(CHANGE, this._change);\n\n                var value = this.bindings.value.get();\n\n                this._valueIsObservableObject = !options.valuePrimitive && (value == null || value instanceof ObservableObject);\n                this._valueIsObservableArray = value instanceof ObservableArray;\n                this._initChange = false;\n            },\n\n            _source: function() {\n                var source;\n\n                if (this.widget.dataItem) {\n                    source = this.widget.dataItem();\n                    if (source && source instanceof ObservableObject) {\n                        return [source];\n                    }\n                }\n\n                if (this.bindings.source) {\n                    source = this.bindings.source.get();\n                }\n\n                if (!source || source instanceof kendo.data.DataSource) {\n                    source = this.widget.dataSource.flatView();\n                }\n\n                return source;\n            },\n\n            change: function() {\n                var value = this.widget.value(),\n                    field = this.options.dataValueField || this.options.dataTextField,\n                    isArray = toString.call(value) === \"[object Array]\",\n                    isObservableObject = this._valueIsObservableObject,\n                    valueIndex, valueLength, values = [],\n                    sourceItem, sourceValue,\n                    idx, length, source;\n\n                this._initChange = true;\n\n                if (field) {\n\n                    if (value === \"\" && (isObservableObject || this.options.valuePrimitive)) {\n                        value = null;\n                    } else {\n                        source = this._source();\n\n                        if (isArray) {\n                            valueLength = value.length;\n                            values = value.slice(0);\n                        }\n\n                        for (idx = 0, length = source.length; idx < length; idx++) {\n                            sourceItem = source[idx];\n                            sourceValue = sourceItem.get(field);\n\n                            if (isArray) {\n                                for (valueIndex = 0; valueIndex < valueLength; valueIndex++) {\n                                    if (sourceValue == values[valueIndex]) {\n                                        values[valueIndex] = sourceItem;\n                                        break;\n                                    }\n                                }\n                            } else if (sourceValue == value) {\n                                value = isObservableObject ? sourceItem : sourceValue;\n                                break;\n                            }\n                        }\n\n                        if (values[0]) {\n                            if (this._valueIsObservableArray) {\n                                value = values;\n                            } else if (isObservableObject || !field) {\n                                value = values[0];\n                            } else {\n                                value = values[0].get(field);\n                            }\n                        }\n                    }\n                }\n\n                this.bindings.value.set(value);\n                this._initChange = false;\n            },\n\n            refresh: function() {\n                if (!this._initChange) {\n                    var widget = this.widget;\n                    var options = widget.options;\n                    var textField = options.dataTextField;\n                    var valueField = options.dataValueField || textField;\n                    var value = this.bindings.value.get();\n                    var text = options.text || \"\";\n                    var idx = 0, length;\n                    var values = [];\n\n                    if (value === undefined) {\n                        value = null;\n                    }\n\n                    if (valueField) {\n                        if (value instanceof ObservableArray) {\n                            for (length = value.length; idx < length; idx++) {\n                                values[idx] = value[idx].get(valueField);\n                            }\n                            value = values;\n                        } else if (value instanceof ObservableObject) {\n                            text = value.get(textField);\n                            value = value.get(valueField);\n                        }\n                    }\n\n                    if (options.autoBind === false && !options.cascadeFrom && widget.listView && !widget.listView.bound()) {\n                        if (textField === valueField && !text) {\n                            text = value;\n                        }\n\n                        if (!text && (value || value === 0) && options.valuePrimitive) {\n                            widget.value(value);\n                        } else {\n                            widget._preselect(value, text);\n                        }\n                    } else {\n                        widget.value(value);\n                    }\n                }\n\n                this._initChange = false;\n            },\n\n            destroy: function() {\n                this.widget.unbind(CHANGE, this._change);\n            }\n        }),\n        dropdowntree: {\n            value: Binder.extend({\n                init: function(widget, bindings, options) {\n                    Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                    this.widget = widget;\n                    this._change = this.change.bind(this);\n                    this.widget.first(CHANGE, this._change);\n                    this._initChange = false;\n                },\n\n                change: function() {\n                    var that = this,\n                        oldValues = that.bindings[VALUE].get(),\n                        valuePrimitive = that.options.valuePrimitive,\n                        selectedNode = that.widget.treeview.select(),\n                        nonPrimitiveValues = that.widget._isMultipleSelection() ? that.widget._getAllChecked(): (that.widget.treeview.dataItem(selectedNode) || that.widget.value()),\n                        newValues = (valuePrimitive || that.widget.options.autoBind === false) ? that.widget.value() : nonPrimitiveValues;\n\n                    var field = this.options.dataValueField || this.options.dataTextField;\n\n                    newValues = newValues.slice ? newValues.slice(0): newValues;\n\n                    that._initChange = true;\n\n                    if (oldValues instanceof ObservableArray) {\n                        var remove = [];\n                        var newLength = newValues.length;\n                        var i = 0, j = 0;\n                        var old = oldValues[i];\n                        var same = false;\n                        var removeIndex;\n                        var newValue;\n                        var found;\n\n                        while (old !== undefined) {\n                            found = false;\n                            for (j = 0; j < newLength; j++) {\n                                if (valuePrimitive) {\n                                    same = newValues[j] == old;\n                                } else {\n                                    newValue = newValues[j];\n\n                                    newValue = newValue.get ? newValue.get(field) : newValue;\n                                    same = newValue == (old.get ? old.get(field) : old);\n                                }\n\n                                if (same) {\n                                    newValues.splice(j, 1);\n                                    newLength -= 1;\n                                    found = true;\n                                    break;\n                                }\n                            }\n\n                            if (!found) {\n                                remove.push(old);\n                                arraySplice(oldValues, i, 1);\n                                removeIndex = i;\n                            } else {\n                                i += 1;\n                            }\n\n                            old = oldValues[i];\n                        }\n\n                        arraySplice(oldValues, oldValues.length, 0, newValues);\n\n                        if (remove.length) {\n                            oldValues.trigger(\"change\", {\n                                action: \"remove\",\n                                items: remove,\n                                index: removeIndex\n                            });\n                        }\n\n                        if (newValues.length) {\n                            oldValues.trigger(\"change\", {\n                                action: \"add\",\n                                items: newValues,\n                                index: oldValues.length - 1\n                            });\n                        }\n                    } else {\n                        that.bindings[VALUE].set(newValues);\n                    }\n\n                    that._initChange = false;\n                },\n\n                refresh: function() {\n                    if (!this._initChange) {\n                        var options = this.options,\n                            widget = this.widget,\n                            field = options.dataValueField || options.dataTextField,\n                            value = this.bindings.value.get(),\n                            data = value,\n                            idx = 0, length,\n                            values = [],\n                            selectedValue;\n\n                        if (field) {\n                            if (value instanceof ObservableArray) {\n                                for (length = value.length; idx < length; idx++) {\n                                    selectedValue = value[idx];\n                                    values[idx] = selectedValue.get ? selectedValue.get(field) : selectedValue;\n                                }\n                                value = values;\n                            } else if (value instanceof ObservableObject) {\n                                value = value.get(field);\n                            }\n                        }\n                        if (options.autoBind === false && options.valuePrimitive !== true) {\n                            widget._preselect(data, value);\n                        } else {\n                            widget.value(value);\n                        }\n                   }\n                },\n\n                destroy: function() {\n                    this.widget.unbind(CHANGE, this._change);\n                }\n            })\n        },\n        gantt: {\n            dependencies: dataSourceBinding(\"dependencies\", \"dependencies\", \"setDependenciesDataSource\")\n        },\n\n        multiselect: {\n            value: Binder.extend({\n                init: function(widget, bindings, options) {\n                    Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                    this.widget = widget;\n                    this._change = this.change.bind(this);\n                    this.widget.first(CHANGE, this._change);\n                    this._initChange = false;\n                },\n\n                change: function() {\n                    var that = this,\n                        oldValues = that.bindings[VALUE].get(),\n                        valuePrimitive = that.options.valuePrimitive,\n                        newValues = valuePrimitive ? that.widget.value() : that.widget.dataItems();\n\n                    var field = this.options.dataValueField || this.options.dataTextField;\n\n                    newValues = newValues.slice(0);\n\n                    that._initChange = true;\n\n                    if (oldValues instanceof ObservableArray) {\n                        var remove = [];\n\n                        var newLength = newValues.length;\n\n                        var i = 0, j = 0;\n                        var old = oldValues[i];\n                        var same = false;\n                        var removeIndex;\n                        var newValue;\n                        var found;\n\n                        while (old !== undefined) {\n                            found = false;\n                            for (j = 0; j < newLength; j++) {\n                                if (valuePrimitive) {\n                                    same = newValues[j] == old;\n                                } else {\n                                    newValue = newValues[j];\n\n                                    newValue = newValue.get ? newValue.get(field) : newValue;\n                                    same = newValue == (old.get ? old.get(field) : old);\n                                }\n\n                                if (same) {\n                                    newValues.splice(j, 1);\n                                    newLength -= 1;\n                                    found = true;\n                                    break;\n                                }\n                            }\n\n                            if (!found) {\n                                remove.push(old);\n                                arraySplice(oldValues, i, 1);\n                                removeIndex = i;\n                            } else {\n                                i += 1;\n                            }\n\n                            old = oldValues[i];\n                        }\n\n                        arraySplice(oldValues, oldValues.length, 0, newValues);\n\n                        if (remove.length) {\n                            oldValues.trigger(\"change\", {\n                                action: \"remove\",\n                                items: remove,\n                                index: removeIndex\n                            });\n                        }\n\n                        if (newValues.length) {\n                            oldValues.trigger(\"change\", {\n                                action: \"add\",\n                                items: newValues,\n                                index: oldValues.length - 1\n                            });\n                        }\n                    } else {\n                        that.bindings[VALUE].set(newValues);\n                    }\n\n                    that._initChange = false;\n                },\n\n                refresh: function() {\n                    if (!this._initChange) {\n                        var options = this.options,\n                            widget = this.widget,\n                            field = options.dataValueField || options.dataTextField,\n                            value = this.bindings.value.get(),\n                            data = value,\n                            idx = 0, length,\n                            values = [],\n                            selectedValue;\n\n                        if (value === undefined) {\n                            value = null;\n                        }\n\n                        if (field) {\n                            if (value instanceof ObservableArray) {\n                                for (length = value.length; idx < length; idx++) {\n                                    selectedValue = value[idx];\n                                    values[idx] = selectedValue.get ? selectedValue.get(field) : selectedValue;\n                                }\n                                value = values;\n                            } else if (value instanceof ObservableObject) {\n                                value = value.get(field);\n                            }\n                        }\n\n                        if (options.autoBind === false && options.valuePrimitive !== true && !widget._isBound()) {\n                            widget._preselect(data, value);\n                        } else {\n                            widget.value(value);\n                        }\n                    }\n                },\n\n                destroy: function() {\n                    this.widget.unbind(CHANGE, this._change);\n                }\n\n            })\n        },\n        scheduler: {\n            source: dataSourceBinding(\"source\", \"dataSource\", \"setDataSource\").extend({\n                dataBound: function(e) {\n                    var idx;\n                    var length;\n                    var widget = this.widget;\n                    var elements = e.addedItems || widget.items();\n                    var data, parents;\n\n                    if (elements.length) {\n                        data = e.addedDataItems || widget.dataItems();\n                        parents = this.bindings.source._parents();\n\n                        for (idx = 0, length = data.length; idx < length; idx++) {\n                            bindElement(elements[idx], data[idx], this._ns(e.ns), [data[idx]].concat(parents));\n                        }\n                    }\n                }\n            })\n        },\n\n        grid: {\n            source: dataSourceBinding(\"source\", \"dataSource\", \"setDataSource\").extend({\n                dataBound: function(e) {\n                    var idx,\n                    length,\n                    widget = this.widget,\n                    elements = e.addedItems || widget.items(),\n                    parents,\n                    data;\n\n                    if (elements.length) {\n                        data = e.addedDataItems || widget.dataItems();\n                        parents = this.bindings.source._parents();\n\n                        for (idx = 0, length = data.length; idx < length; idx++) {\n                            bindElement(elements[idx], data[idx], this._ns(e.ns), [data[idx]].concat(parents));\n                        }\n                    }\n                }\n            })\n        },\n\n        badge: {\n            text: Binder.extend({\n                init: function(widget, bindings, options) {\n                    Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                    this.widget = widget;\n                },\n                refresh: function() {\n                    var text = this.bindings.text.get();\n\n                    if (text == null) {\n                        text = \"\";\n                    }\n                    this.widget.text(text);\n                }\n            })\n        }\n    };\n\n    var arraySplice = function(arr, idx, remove, add) {\n        add = add || [];\n        remove = remove || 0;\n\n        var addLength = add.length;\n        var oldLength = arr.length;\n\n        var shifted = [].slice.call(arr, idx + remove);\n        var shiftedLength = shifted.length;\n        var index;\n\n        if (addLength) {\n            addLength = idx + addLength;\n            index = 0;\n\n            for (; idx < addLength; idx++) {\n                arr[idx] = add[index];\n                index++;\n            }\n\n            arr.length = addLength;\n        } else if (remove) {\n            arr.length = idx;\n\n            remove += idx;\n            while (idx < remove) {\n                delete arr[--remove];\n            }\n        }\n\n        if (shiftedLength) {\n            shiftedLength = idx + shiftedLength;\n            index = 0;\n\n            for (; idx < shiftedLength; idx++) {\n                arr[idx] = shifted[index];\n                index++;\n            }\n\n            arr.length = shiftedLength;\n        }\n\n        idx = arr.length;\n\n        while (idx < oldLength) {\n            delete arr[idx];\n            idx++;\n        }\n    };\n\n    var BindingTarget = Class.extend( {\n        init: function(target, options) {\n            this.target = target;\n            this.options = options;\n            this.toDestroy = [];\n        },\n\n        bind: function(bindings) {\n            var key,\n                hasValue,\n                hasSource,\n                hasEvents,\n                hasChecked,\n                hasCss,\n                widgetBinding = this instanceof WidgetBindingTarget,\n                specificBinders = this.binders();\n\n            for (key in bindings) {\n                if (key == VALUE) {\n                    hasValue = true;\n                } else if (key == SOURCE) {\n                    hasSource = true;\n                } else if (key == EVENTS && !widgetBinding) {\n                    hasEvents = true;\n                } else if (key == CHECKED) {\n                    hasChecked = true;\n                } else if (key == CSS) {\n                    hasCss = true;\n                } else {\n                    this.applyBinding(key, bindings, specificBinders);\n                }\n            }\n            if (hasSource) {\n                this.applyBinding(SOURCE, bindings, specificBinders);\n            }\n\n            if (hasValue) {\n                this.applyBinding(VALUE, bindings, specificBinders);\n            }\n\n            if (hasChecked) {\n                this.applyBinding(CHECKED, bindings, specificBinders);\n            }\n\n            if (hasEvents && !widgetBinding) {\n                this.applyBinding(EVENTS, bindings, specificBinders);\n            }\n\n            if (hasCss && !widgetBinding) {\n                this.applyBinding(CSS, bindings, specificBinders);\n            }\n\n            if (widgetBinding && this.target && this.target.floatingLabel) {\n                this.applyBinding(\"floatingLabel\", bindings, specificBinders);\n            }\n        },\n\n        binders: function() {\n            return binders[this.target.nodeName.toLowerCase()] || {};\n        },\n\n        applyBinding: function(name, bindings, specificBinders) {\n            var binder = specificBinders[name] || binders[name],\n                toDestroy = this.toDestroy,\n                attribute,\n                binding = bindings[name];\n\n            if (binder) {\n                binder = new binder(this.target, bindings, this.options);\n\n                toDestroy.push(binder);\n\n                if (binding instanceof Binding) {\n                    binder.bind(binding);\n                    toDestroy.push(binding);\n                } else {\n                    for (attribute in binding) {\n                        binder.bind(binding, attribute);\n                        toDestroy.push(binding[attribute]);\n                    }\n                }\n            } else if (name !== \"template\") {\n                throw new Error(\"The \" + name + \" binding is not supported by the \" + this.target.nodeName.toLowerCase() + \" element\");\n            }\n        },\n\n        destroy: function() {\n            var idx,\n                length,\n                toDestroy = this.toDestroy;\n\n            for (idx = 0, length = toDestroy.length; idx < length; idx++) {\n                toDestroy[idx].destroy();\n            }\n        }\n    });\n\n    var WidgetBindingTarget = BindingTarget.extend( {\n        binders: function() {\n            return binders.widget[this.target.options.name.toLowerCase()] || {};\n        },\n\n        applyBinding: function(name, bindings, specificBinders) {\n            var binder = specificBinders[name] || binders.widget[name],\n                toDestroy = this.toDestroy,\n                attribute,\n                binding = bindings[name];\n\n            if (binder) {\n                binder = new binder(this.target, bindings, this.target.options);\n\n                toDestroy.push(binder);\n\n\n                if (binding instanceof Binding) {\n                    binder.bind(binding);\n                    toDestroy.push(binding);\n                } else {\n                    for (attribute in binding) {\n                        binder.bind(binding, attribute);\n                        toDestroy.push(binding[attribute]);\n                    }\n                }\n            } else {\n                throw new Error(\"The \" + name + \" binding is not supported by the \" + this.target.options.name + \" widget\");\n            }\n        }\n    });\n\n    function bindingTargetForRole(element, roles) {\n        var widget = kendo.initWidget(element, {}, roles);\n\n        if (widget) {\n            return new WidgetBindingTarget(widget);\n        }\n    }\n\n    var keyValueRegExp = /[A-Za-z0-9_\\-]+:(\\{([^}]*)\\}|[^,}]+)/g,\n        whiteSpaceRegExp = /\\s/g;\n\n    function parseBindings(bind) {\n        var result = {},\n            idx,\n            length,\n            token,\n            colonIndex,\n            key,\n            value,\n            tokens;\n\n        tokens = bind.match(keyValueRegExp);\n\n        for (idx = 0, length = tokens.length; idx < length; idx++) {\n            token = tokens[idx];\n            colonIndex = token.indexOf(\":\");\n\n            key = token.substring(0, colonIndex);\n            value = token.substring(colonIndex + 1);\n\n            if (value.charAt(0) == \"{\") {\n                value = parseBindings(value);\n            }\n\n            result[key] = value;\n        }\n\n        return result;\n    }\n\n    function createBindings(bindings, source, type) {\n        var binding,\n            result = {};\n\n        for (binding in bindings) {\n            result[binding] = new type(source, bindings[binding]);\n        }\n\n        return result;\n    }\n\n    function bindElement(element, source, roles, parents) {\n\n        if(!element || element.getAttribute(\"data-\" + kendo.ns + \"stop\")){\n            return;\n        }\n\n        var role = element.getAttribute(\"data-\" + kendo.ns + \"role\"),\n            idx,\n            bind = element.getAttribute(\"data-\" + kendo.ns + \"bind\"),\n            childrenCopy = [],\n            deep = true,\n            bindings,\n            options = {},\n            target;\n\n        parents = parents || [source];\n\n        if (role || bind) {\n            unbindElement(element, false);\n        }\n\n        if (role) {\n            target = bindingTargetForRole(element, roles);\n        }\n\n        if (bind) {\n            bind = parseBindings(bind.replace(whiteSpaceRegExp, \"\"));\n\n            if (!target) {\n                options = kendo.parseOptions(element, {textField: \"\", valueField: \"\", template: \"\", valueUpdate: CHANGE, valuePrimitive: false, autoBind: true}, source);\n                options.roles = roles;\n                target = new BindingTarget(element, options);\n            }\n\n            target.source = source;\n\n            bindings = createBindings(bind, parents, Binding);\n\n            if (options.template) {\n                bindings.template = new TemplateBinding(parents, \"\", options.template);\n            }\n\n            if (bindings.click) {\n                bind.events = bind.events || {};\n                bind.events.click = bind.click;\n                bindings.click.destroy();\n                delete bindings.click;\n            }\n\n            if (bindings.source) {\n                deep = false;\n            }\n\n            if (bind.attr) {\n                bindings.attr = createBindings(bind.attr, parents, Binding);\n            }\n\n            if (bind.style) {\n                bindings.style = createBindings(bind.style, parents, Binding);\n            }\n\n            if (bind.events) {\n                bindings.events = createBindings(bind.events, parents, EventBinding);\n            }\n\n            if (bind.css) {\n                bindings.css = createBindings(bind.css, parents, Binding);\n            }\n\n            target.bind(bindings);\n        }\n\n        if (target) {\n            element.kendoBindingTarget = target;\n        }\n\n        var children = element.children;\n        if (deep && children && !element.getAttribute(\"data-\" + kendo.ns + \"stop\")) {\n            // https://github.com/telerik/kendo/issues/1240 for the weirdness.\n            for (idx = 0; idx < children.length; idx++) {\n                childrenCopy[idx] = children[idx];\n            }\n\n            for (idx = 0; idx < childrenCopy.length; idx++) {\n                bindElement(childrenCopy[idx], source, roles, parents);\n            }\n        }\n    }\n\n    function bind(dom, object) {\n        var idx,\n            length,\n            node,\n            roles = kendo.rolesFromNamespaces([].slice.call(arguments, 2));\n\n        object = kendo.observable(object);\n        dom = $(dom);\n\n        for (idx = 0, length = dom.length; idx < length; idx++) {\n            node = dom[idx];\n            if (node.nodeType === 1) {\n                bindElement(node, object, roles);\n            }\n        }\n    }\n\n    function unbindElement(element, destroyWidget) {\n        var bindingTarget = element.kendoBindingTarget;\n\n        if (bindingTarget) {\n            bindingTarget.destroy();\n\n            if (deleteExpando) {\n                delete element.kendoBindingTarget;\n            } else if (element.removeAttribute) {\n                element.removeAttribute(\"kendoBindingTarget\");\n            } else {\n                element.kendoBindingTarget = null;\n            }\n        }\n\n        if(destroyWidget) {\n            var widget = kendo.widgetInstance($(element));\n            if (widget && typeof widget.destroy === FUNCTION) {\n                widget.destroy();\n            }\n        }\n    }\n\n    function unbindElementTree(element, destroyWidgets) {\n        unbindElement(element, destroyWidgets);\n\n        unbindElementChildren(element, destroyWidgets);\n    }\n\n    function unbindElementChildren(element, destroyWidgets) {\n        var children = element.children;\n\n        if (children) {\n            for (var idx = 0, length = children.length; idx < length; idx++) {\n                unbindElementTree(children[idx], destroyWidgets);\n            }\n        }\n    }\n\n    function unbind(dom) {\n        var idx, length;\n\n        dom = $(dom);\n\n        for (idx = 0, length = dom.length; idx < length; idx++ ) {\n            unbindElementTree(dom[idx], false);\n        }\n    }\n\n    function notify(widget, namespace) {\n        var element = widget.element,\n            bindingTarget = element[0].kendoBindingTarget;\n\n        if (bindingTarget) {\n            bind(element, bindingTarget.source, namespace);\n        }\n    }\n\n    function retrievePrimitiveValues(value, valueField) {\n        var values = [];\n        var idx = 0;\n        var length;\n        var item;\n\n        if (!valueField) {\n            return value;\n        }\n\n        if (value instanceof ObservableArray) {\n            for (length = value.length; idx < length; idx++) {\n                item = value[idx];\n                values[idx] = item.get ? item.get(valueField) : item[valueField];\n            }\n            value = values;\n        } else if (value instanceof ObservableObject) {\n            value = value.get(valueField);\n        }\n\n        return value;\n    }\n\n    kendo.unbind = unbind;\n    kendo.bind = bind;\n    kendo.data.binders = binders;\n    kendo.data.Binder = Binder;\n    kendo.notify = notify;\n\n    kendo.observable = function(object) {\n        if (!(object instanceof ObservableObject)) {\n            object = new ObservableObject(object);\n        }\n\n        return object;\n    };\n\n    kendo.observableHierarchy = function(array) {\n        var dataSource = kendo.data.HierarchicalDataSource.create(array);\n\n        function recursiveRead(data) {\n            var i, children;\n\n            for (i = 0; i < data.length; i++) {\n                data[i]._initChildren();\n\n                children = data[i].children;\n\n                children.fetch();\n\n                data[i].items = children.data();\n\n                recursiveRead(data[i].items);\n            }\n        }\n\n        dataSource.fetch();\n\n        recursiveRead(dataSource.data());\n\n        dataSource._data._dataSource = dataSource;\n\n        return dataSource._data;\n    };\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.fx',[ \"kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"fx\",\n    name: \"Effects\",\n    category: \"framework\",\n    description: \"Required for animation effects in all Kendo UI widgets.\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        fx = kendo.effects,\n        each = $.each,\n        extend = $.extend,\n        support = kendo.support,\n        browser = support.browser,\n        transforms = support.transforms,\n        transitions = support.transitions,\n        scaleProperties = { scale: 0, scalex: 0, scaley: 0, scale3d: 0 },\n        translateProperties = { translate: 0, translatex: 0, translatey: 0, translate3d: 0 },\n        hasZoom = (typeof document.documentElement.style.zoom !== \"undefined\") && !transforms,\n        matrix3dRegExp = /matrix3?d?\\s*\\(.*,\\s*([\\d\\.\\-]+)\\w*?,\\s*([\\d\\.\\-]+)\\w*?,\\s*([\\d\\.\\-]+)\\w*?,\\s*([\\d\\.\\-]+)\\w*?/i,\n        cssParamsRegExp = /^(-?[\\d\\.\\-]+)?[\\w\\s]*,?\\s*(-?[\\d\\.\\-]+)?[\\w\\s]*/i,\n        translateXRegExp = /translatex?$/i,\n        oldEffectsRegExp = /(zoom|fade|expand)(\\w+)/,\n        singleEffectRegExp = /(zoom|fade|expand)/,\n        unitRegExp = /[xy]$/i,\n        transformProps = [\"perspective\", \"rotate\", \"rotatex\", \"rotatey\", \"rotatez\", \"rotate3d\", \"scale\", \"scalex\", \"scaley\", \"scalez\", \"scale3d\", \"skew\", \"skewx\", \"skewy\", \"translate\", \"translatex\", \"translatey\", \"translatez\", \"translate3d\", \"matrix\", \"matrix3d\"],\n        transform2d = [\"rotate\", \"scale\", \"scalex\", \"scaley\", \"skew\", \"skewx\", \"skewy\", \"translate\", \"translatex\", \"translatey\", \"matrix\"],\n        transform2units = { \"rotate\": \"deg\", scale: \"\", skew: \"px\", translate: \"px\" },\n        cssPrefix = transforms.css,\n        round = Math.round,\n        BLANK = \"\",\n        PX = \"px\",\n        NONE = \"none\",\n        AUTO = \"auto\",\n        WIDTH = \"width\",\n        HEIGHT = \"height\",\n        HIDDEN = \"hidden\",\n        ORIGIN = \"origin\",\n        ABORT_ID = \"abortId\",\n        OVERFLOW = \"overflow\",\n        TRANSLATE = \"translate\",\n        POSITION = \"position\",\n        COMPLETE_CALLBACK = \"completeCallback\",\n        TRANSITION = cssPrefix + \"transition\",\n        TRANSFORM = cssPrefix + \"transform\",\n        BACKFACE = cssPrefix + \"backface-visibility\",\n        PERSPECTIVE = cssPrefix + \"perspective\",\n        DEFAULT_PERSPECTIVE = \"1500px\",\n        TRANSFORM_PERSPECTIVE = \"perspective(\" + DEFAULT_PERSPECTIVE + \")\",\n        directions = {\n            left: {\n                reverse: \"right\",\n                property: \"left\",\n                transition: \"translatex\",\n                vertical: false,\n                modifier: -1\n            },\n            right: {\n                reverse: \"left\",\n                property: \"left\",\n                transition: \"translatex\",\n                vertical: false,\n                modifier: 1\n            },\n            down: {\n                reverse: \"up\",\n                property: \"top\",\n                transition: \"translatey\",\n                vertical: true,\n                modifier: 1\n            },\n            up: {\n                reverse: \"down\",\n                property: \"top\",\n                transition: \"translatey\",\n                vertical: true,\n                modifier: -1\n            },\n            top: {\n                reverse: \"bottom\"\n            },\n            bottom: {\n                reverse: \"top\"\n            },\n            \"in\": {\n                reverse: \"out\",\n                modifier: -1\n            },\n            out: {\n                reverse: \"in\",\n                modifier: 1\n            },\n\n            vertical: {\n                reverse: \"vertical\"\n            },\n\n            horizontal: {\n                reverse: \"horizontal\"\n            }\n        };\n\n    kendo.directions = directions;\n\n    extend($.fn, {\n        kendoStop: function(clearQueue, gotoEnd) {\n            if (transitions) {\n                return fx.stopQueue(this, clearQueue || false, gotoEnd || false);\n            } else {\n                return this.stop(clearQueue, gotoEnd);\n            }\n        }\n    });\n\n    /* jQuery support for all transform animations (FF 3.5/3.6, Opera 10.x, IE9 */\n\n    if (transforms && !transitions) {\n        each(transform2d, function(idx, value) {\n            $.fn[value] = function(val) {\n                if (typeof val == \"undefined\") {\n                    return animationProperty(this, value);\n                } else {\n                    var that = $(this)[0],\n                        transformValue = value + \"(\" + val + transform2units[value.replace(unitRegExp, \"\")] + \")\";\n\n                    if (that.style.cssText.indexOf(TRANSFORM) == -1) {\n                        $(this).css(TRANSFORM, transformValue);\n                    } else {\n                        that.style.cssText = that.style.cssText.replace(new RegExp(value + \"\\\\(.*?\\\\)\", \"i\"), transformValue);\n                    }\n                }\n                return this;\n            };\n\n            $.fx.step[value] = function (fx) {\n                $(fx.elem)[value](fx.now);\n            };\n        });\n\n        var curProxy = $.fx.prototype.cur;\n        $.fx.prototype.cur = function () {\n            if (transform2d.indexOf(this.prop) != -1) {\n                return parseFloat($(this.elem)[this.prop]());\n            }\n\n            return curProxy.apply(this, arguments);\n        };\n    }\n\n    kendo.toggleClass = function(element, classes, options, add) {\n        if (classes) {\n            classes = classes.split(\" \");\n\n            if (transitions) {\n                options = extend({\n                    exclusive: \"all\",\n                    duration: 400,\n                    ease: \"ease-out\"\n                }, options);\n\n                element.css(TRANSITION, options.exclusive + \" \" + options.duration + \"ms \" + options.ease);\n                setTimeout(function() {\n                    element.css(TRANSITION, \"\").css(HEIGHT);\n                }, options.duration); // TODO: this should fire a kendoAnimate session instead.\n            }\n\n            each(classes, function(idx, value) {\n                element.toggleClass(value, add);\n            });\n        }\n\n        return element;\n    };\n\n    kendo.parseEffects = function(input, mirror) {\n        var effects = {};\n\n        if (typeof input === \"string\") {\n            each(input.split(\" \"), function(idx, value) {\n                var redirectedEffect = !singleEffectRegExp.test(value),\n                    resolved = value.replace(oldEffectsRegExp, function(match, $1, $2) {\n                        return $1 + \":\" + $2.toLowerCase();\n                    }), // Support for old zoomIn/fadeOut style, now deprecated.\n                    effect = resolved.split(\":\"),\n                    direction = effect[1],\n                    effectBody = {};\n\n                if (effect.length > 1) {\n                    effectBody.direction = (mirror && redirectedEffect ? directions[direction].reverse : direction);\n                }\n\n                effects[effect[0]] = effectBody;\n            });\n        } else {\n            each(input, function(idx) {\n                var direction = this.direction;\n\n                if (direction && mirror && !singleEffectRegExp.test(idx)) {\n                    this.direction = directions[direction].reverse;\n                }\n\n                effects[idx] = this;\n            });\n        }\n\n        return effects;\n    };\n\n    function parseInteger(value) {\n        return parseInt(value, 10);\n    }\n\n    function parseCSS(element, property) {\n        return parseInteger(element.css(property));\n    }\n\n    function keys(obj) {\n        var acc = [];\n        for (var propertyName in obj) {\n            acc.push(propertyName);\n        }\n        return acc;\n    }\n\n    function strip3DTransforms(properties) {\n        for (var key in properties) {\n            if (transformProps.indexOf(key) != -1 && transform2d.indexOf(key) == -1) {\n                delete properties[key];\n            }\n        }\n\n        return properties;\n    }\n\n    function normalizeCSS(element, properties) {\n        var transformation = [], cssValues = {}, lowerKey, key, value, isTransformed;\n\n        for (key in properties) {\n            lowerKey = key.toLowerCase();\n            isTransformed = transforms && transformProps.indexOf(lowerKey) != -1;\n\n            if (!support.hasHW3D && isTransformed && transform2d.indexOf(lowerKey) == -1) {\n                delete properties[key];\n            } else {\n                value = properties[key];\n\n                if (isTransformed) {\n                    transformation.push(key + \"(\" + value + \")\");\n                } else {\n                    cssValues[key] = value;\n                }\n            }\n        }\n\n        if (transformation.length) {\n            cssValues[TRANSFORM] = transformation.join(\" \");\n        }\n\n        return cssValues;\n    }\n\n    if (transitions) {\n        extend(fx, {\n            transition: function(element, properties, options) {\n                var css,\n                    delay = 0,\n                    oldKeys = element.data(\"keys\") || [],\n                    timeoutID;\n\n                options = extend({\n                        duration: 200,\n                        ease: \"ease-out\",\n                        complete: null,\n                        exclusive: \"all\"\n                    },\n                    options\n                );\n\n                var stopTransitionCalled = false;\n\n                var stopTransition = function() {\n                    if (!stopTransitionCalled) {\n                        stopTransitionCalled = true;\n\n                        if (timeoutID) {\n                            clearTimeout(timeoutID);\n                            timeoutID = null;\n                        }\n\n                        element\n                        .removeData(ABORT_ID)\n                        .dequeue()\n                        .css(TRANSITION, \"\")\n                        .css(TRANSITION);\n\n                        options.complete.call(element);\n                    }\n                };\n\n                options.duration = $.fx ? $.fx.speeds[options.duration] || options.duration : options.duration;\n\n                css = normalizeCSS(element, properties);\n\n                $.merge(oldKeys, keys(css));\n\n                if ($.hasOwnProperty(\"uniqueSort\")) {\n                    element\n                        .data(\"keys\", $.uniqueSort(oldKeys))\n                        .height();\n                } else {\n                    element\n                        .data(\"keys\", $.unique(oldKeys))\n                        .height();\n                }\n\n                element.css(TRANSITION, options.exclusive + \" \" + options.duration + \"ms \" + options.ease).css(TRANSITION);\n                element.css(css).css(TRANSFORM);\n\n                /**\n                 * Use transitionEnd event for browsers who support it - but duplicate it with setTimeout, as the transitionEnd event will not be triggered if no CSS properties change.\n                 * This should be cleaned up at some point (widget by widget), and refactored to widgets not relying on the complete callback if no transition occurs.\n                 *\n                 * For IE9 and below, resort to setTimeout.\n                 */\n                if (transitions.event) {\n                    element.one(transitions.event, stopTransition);\n                    if (options.duration !== 0) {\n                        delay = 500;\n                    }\n                }\n\n                timeoutID = setTimeout(stopTransition, options.duration + delay);\n                element.data(ABORT_ID, timeoutID);\n                element.data(COMPLETE_CALLBACK, stopTransition);\n            },\n\n            stopQueue: function(element, clearQueue, gotoEnd) {\n                var cssValues,\n                    taskKeys = element.data(\"keys\"),\n                    retainPosition = (!gotoEnd && taskKeys),\n                    completeCallback = element.data(COMPLETE_CALLBACK);\n\n                if (retainPosition) {\n                    cssValues = kendo.getComputedStyles(element[0], taskKeys);\n                }\n\n                if (completeCallback) {\n                    completeCallback();\n                }\n\n                if (retainPosition) {\n                    element.css(cssValues);\n                }\n\n                return element\n                        .removeData(\"keys\")\n                        .stop(clearQueue);\n            }\n        });\n    }\n\n    function animationProperty(element, property) {\n        if (transforms) {\n            var transform = element.css(TRANSFORM);\n            if (transform == NONE) {\n                return property == \"scale\" ? 1 : 0;\n            }\n\n            var match = transform.match(new RegExp(property + \"\\\\s*\\\\(([\\\\d\\\\w\\\\.]+)\")),\n                computed = 0;\n\n            if (match) {\n                computed = parseInteger(match[1]);\n            } else {\n                match = transform.match(matrix3dRegExp) || [0, 0, 0, 0, 0];\n                property = property.toLowerCase();\n\n                if (translateXRegExp.test(property)) {\n                    computed = parseFloat(match[3] / match[2]);\n                } else if (property == \"translatey\") {\n                    computed = parseFloat(match[4] / match[2]);\n                } else if (property == \"scale\") {\n                    computed = parseFloat(match[2]);\n                } else if (property == \"rotate\") {\n                    computed = parseFloat(Math.atan2(match[2], match[1]));\n                }\n            }\n\n            return computed;\n        } else {\n            return parseFloat(element.css(property));\n        }\n    }\n\n    var EffectSet = kendo.Class.extend({\n        init: function(element, options) {\n            var that = this;\n\n            that.element = element;\n            that.effects = [];\n            that.options = options;\n            that.restore = [];\n        },\n\n        run: function(effects) {\n            var that = this,\n                effect,\n                idx, jdx,\n                length = effects.length,\n                element = that.element,\n                options = that.options,\n                deferred = $.Deferred(),\n                start = {},\n                end = {},\n                target,\n                children,\n                childrenLength;\n\n            that.effects = effects;\n\n            deferred.done(that.complete.bind(that));\n\n            element.data(\"animating\", true);\n\n            for (idx = 0; idx < length; idx ++) {\n                effect = effects[idx];\n\n                effect.setReverse(options.reverse);\n                effect.setOptions(options);\n\n                that.addRestoreProperties(effect.restore);\n\n                effect.prepare(start, end);\n\n                children = effect.children();\n\n                for (jdx = 0, childrenLength = children.length; jdx < childrenLength; jdx ++) {\n                    children[jdx].duration(options.duration).run();\n                }\n            }\n\n            // legacy support for options.properties\n            for (var effectName in options.effects) {\n                extend(end, options.effects[effectName].properties);\n            }\n\n            // Show the element initially\n            if (!element.is(\":visible\")) {\n                extend(start, { display: element.data(\"olddisplay\") || \"block\" });\n            }\n\n            if (transforms && !options.reset) {\n                target = element.data(\"targetTransform\");\n\n                if (target) {\n                    start = extend(target, start);\n                }\n            }\n\n            start = normalizeCSS(element, start);\n\n            if (transforms && !transitions) {\n                start = strip3DTransforms(start);\n            }\n\n            element.css(start)\n                   .css(TRANSFORM); // Nudge\n\n            for (idx = 0; idx < length; idx ++) {\n                effects[idx].setup();\n            }\n\n            if (options.init) {\n                options.init();\n            }\n\n            element.data(\"targetTransform\", end);\n            fx.animate(element, end, extend({}, options, { complete: deferred.resolve }));\n\n            return deferred.promise();\n        },\n\n        stop: function() {\n            $(this.element).kendoStop(true, true);\n        },\n\n        addRestoreProperties: function(restore) {\n            var element = this.element,\n                value,\n                i = 0,\n                length = restore.length;\n\n            for (; i < length; i ++) {\n                value = restore[i];\n\n                this.restore.push(value);\n\n                if (!element.data(value)) {\n                    element.data(value, element.css(value));\n                }\n            }\n        },\n\n        restoreCallback: function() {\n            var element = this.element;\n\n            for (var i = 0, length = this.restore.length; i < length; i ++) {\n                var value = this.restore[i];\n                element.css(value, element.data(value));\n            }\n        },\n\n        complete: function() {\n            var that = this,\n                idx = 0,\n                element = that.element,\n                options = that.options,\n                effects = that.effects,\n                length = effects.length;\n\n            element\n                .removeData(\"animating\")\n                .dequeue(); // call next animation from the queue\n\n            if (options.hide) {\n                element.data(\"olddisplay\", element.css(\"display\")).hide();\n            }\n\n            this.restoreCallback();\n\n            if (hasZoom && !transforms) {\n                setTimeout(this.restoreCallback.bind(this), 0); // Again jQuery callback in IE8-\n            }\n\n            for (; idx < length; idx ++) {\n                effects[idx].teardown();\n            }\n\n            if (options.completeCallback) {\n                options.completeCallback(element);\n            }\n        }\n    });\n\n    fx.promise = function(element, options) {\n        var effects = [],\n            effectClass,\n            effectSet = new EffectSet(element, options),\n            parsedEffects = kendo.parseEffects(options.effects),\n            effect;\n\n        options.effects = parsedEffects;\n\n        for (var effectName in parsedEffects) {\n            effectClass = fx[capitalize(effectName)];\n\n            if (effectClass) {\n                effect = new effectClass(element, parsedEffects[effectName].direction);\n                effects.push(effect);\n           }\n        }\n\n        if (effects[0]) {\n            effectSet.run(effects);\n        } else { // Not sure how would an fx promise reach this state - means that you call kendoAnimate with no valid effects? Why?\n            if (!element.is(\":visible\")) {\n                element.css({ display: element.data(\"olddisplay\") || \"block\" }).css(\"display\");\n            }\n\n            if (options.init) {\n                options.init();\n            }\n\n            element.dequeue();\n            effectSet.complete();\n        }\n    };\n\n    extend(fx, {\n        animate: function(elements, properties, options) {\n            var useTransition = options.transition !== false;\n            delete options.transition;\n\n            if (transitions && \"transition\" in fx && useTransition) {\n                fx.transition(elements, properties, options);\n            } else {\n                if (transforms) {\n                    elements.animate(strip3DTransforms(properties), { queue: false, show: false, hide: false, duration: options.duration, complete: options.complete }); // Stop animate from showing/hiding the element to be able to hide it later on.\n                } else {\n                    elements.each(function() {\n                        var element = $(this),\n                            multiple = {};\n\n                        each(transformProps, function(idx, value) { // remove transforms to avoid IE and older browsers confusion\n                            var params,\n                                currentValue = properties ? properties[value]+ \" \" : null; // We need to match\n\n                            if (currentValue) {\n                                var single = properties;\n\n                                if (value in scaleProperties && properties[value] !== undefined) {\n                                    params = currentValue.match(cssParamsRegExp);\n                                    if (transforms) {\n                                        extend(single, { scale: +params[0] });\n                                    }\n                                } else {\n                                    if (value in translateProperties && properties[value] !== undefined) {\n                                        var position = element.css(POSITION),\n                                            isFixed = (position == \"absolute\" || position == \"fixed\");\n\n                                        if (!element.data(TRANSLATE)) {\n                                            if (isFixed) {\n                                                element.data(TRANSLATE, {\n                                                    top: parseCSS(element, \"top\") || 0,\n                                                    left: parseCSS(element, \"left\") || 0,\n                                                    bottom: parseCSS(element, \"bottom\"),\n                                                    right: parseCSS(element, \"right\")\n                                                });\n                                            } else {\n                                                element.data(TRANSLATE, {\n                                                    top: parseCSS(element, \"marginTop\") || 0,\n                                                    left: parseCSS(element, \"marginLeft\") || 0\n                                                });\n                                            }\n                                        }\n\n                                        var originalPosition = element.data(TRANSLATE);\n\n                                        params = currentValue.match(cssParamsRegExp);\n                                        if (params) {\n\n                                            var dX = value == TRANSLATE + \"y\" ? +null : +params[1],\n                                                dY = value == TRANSLATE + \"y\" ? +params[1] : +params[2];\n\n                                            if (isFixed) {\n                                                if (!isNaN(originalPosition.right)) {\n                                                    if (!isNaN(dX)) { extend(single, { right: originalPosition.right - dX }); }\n                                                } else {\n                                                    if (!isNaN(dX)) { extend(single, { left: originalPosition.left + dX }); }\n                                                }\n\n                                                if (!isNaN(originalPosition.bottom)) {\n                                                    if (!isNaN(dY)) { extend(single, { bottom: originalPosition.bottom - dY }); }\n                                                } else {\n                                                    if (!isNaN(dY)) { extend(single, { top: originalPosition.top + dY }); }\n                                                }\n                                            } else {\n                                                if (!isNaN(dX)) { extend(single, { marginLeft: originalPosition.left + dX }); }\n                                                if (!isNaN(dY)) { extend(single, { marginTop: originalPosition.top + dY }); }\n                                            }\n                                        }\n                                    }\n                                }\n\n                                if (!transforms && value != \"scale\" && value in single) {\n                                    delete single[value];\n                                }\n\n                                if (single) {\n                                    extend(multiple, single);\n                                }\n                            }\n                        });\n\n                        if (browser.msie) {\n                            delete multiple.scale;\n                        }\n\n                        element.animate(multiple, { queue: false, show: false, hide: false, duration: options.duration, complete: options.complete }); // Stop animate from showing/hiding the element to be able to hide it later on.\n                    });\n                }\n            }\n        }\n    });\n\n    fx.animatedPromise = fx.promise;\n\n    var Effect = kendo.Class.extend({\n        init: function(element, direction) {\n            var that = this;\n            that.element = element;\n            that._direction = direction;\n            that.options = {};\n            that._additionalEffects = [];\n\n            if (!that.restore) {\n                that.restore = [];\n            }\n        },\n\n// Public API\n        reverse: function() {\n            this._reverse = true;\n            return this.run();\n        },\n\n        play: function() {\n            this._reverse = false;\n            return this.run();\n        },\n\n        add: function(additional) {\n            this._additionalEffects.push(additional);\n            return this;\n        },\n\n        direction: function(value) {\n            this._direction = value;\n            return this;\n        },\n\n        duration: function(duration) {\n            this._duration = duration;\n            return this;\n        },\n\n        compositeRun: function() {\n            var that = this,\n                effectSet = new EffectSet(that.element, { reverse: that._reverse, duration: that._duration }),\n                effects = that._additionalEffects.concat([ that ]);\n\n            return effectSet.run(effects);\n        },\n\n        run: function() {\n            if (this._additionalEffects && this._additionalEffects[0]) {\n                return this.compositeRun();\n            }\n\n            var that = this,\n                element = that.element,\n                idx = 0,\n                restore = that.restore,\n                length = restore.length,\n                value,\n                deferred = $.Deferred(),\n                start = {},\n                end = {},\n                target,\n                children = that.children(),\n                childrenLength = children.length;\n\n            deferred.done(that._complete.bind(that));\n\n            element.data(\"animating\", true);\n\n            for (idx = 0; idx < length; idx ++) {\n                value = restore[idx];\n\n                if (!element.data(value)) {\n                    element.data(value, element.css(value));\n                }\n            }\n\n            for (idx = 0; idx < childrenLength; idx ++) {\n                children[idx].duration(that._duration).run();\n            }\n\n            that.prepare(start, end);\n\n            if (!element.is(\":visible\")) {\n                extend(start, { display: element.data(\"olddisplay\") || \"block\" });\n            }\n\n            if (transforms) {\n                target = element.data(\"targetTransform\");\n\n                if (target) {\n                    start = extend(target, start);\n                }\n            }\n\n            start = normalizeCSS(element, start);\n\n            if (transforms && !transitions) {\n                start = strip3DTransforms(start);\n            }\n\n            element.css(start).css(TRANSFORM); // Trick webkit into re-rendering\n\n            that.setup();\n\n            element.data(\"targetTransform\", end);\n            fx.animate(element, end, { duration: that._duration, complete: deferred.resolve });\n\n            return deferred.promise();\n        },\n\n        stop: function() {\n            var idx = 0,\n                children = this.children(),\n                childrenLength = children.length;\n\n            for (idx = 0; idx < childrenLength; idx ++) {\n                children[idx].stop();\n            }\n\n            $(this.element).kendoStop(true, true);\n            return this;\n        },\n\n        restoreCallback: function() {\n            var element = this.element;\n\n            for (var i = 0, length = this.restore.length; i < length; i ++) {\n                var value = this.restore[i];\n                element.css(value, element.data(value));\n            }\n        },\n\n        _complete: function() {\n            var that = this,\n                element = that.element;\n\n            element\n                .removeData(\"animating\")\n                .dequeue(); // call next animation from the queue\n\n            that.restoreCallback();\n\n            if (that.shouldHide()) {\n                element.data(\"olddisplay\", element.css(\"display\")).hide();\n            }\n\n            if (hasZoom && !transforms) {\n                setTimeout(that.restoreCallback.bind(that), 0); // Again jQuery callback in IE8-\n            }\n\n            that.teardown();\n        },\n\n        /////////////////////////// Support for kendo.animate;\n        setOptions: function(options) {\n            extend(true, this.options, options);\n        },\n\n        children: function() {\n            return [];\n        },\n\n        shouldHide: $.noop,\n\n        setup: $.noop,\n        prepare: $.noop,\n        teardown: $.noop,\n        directions: [],\n\n        setReverse: function(reverse) {\n            this._reverse = reverse;\n            return this;\n        }\n    });\n\n    function capitalize(word) {\n        return word.charAt(0).toUpperCase() + word.substring(1);\n    }\n\n    function createEffect(name, definition) {\n        var effectClass = Effect.extend(definition),\n            directions = effectClass.prototype.directions;\n\n        fx[capitalize(name)] = effectClass;\n\n        fx.Element.prototype[name] = function(direction, opt1, opt2, opt3) {\n            return new effectClass(this.element, direction, opt1, opt2, opt3);\n        };\n\n        each(directions, function(idx, theDirection) {\n            fx.Element.prototype[name + capitalize(theDirection)] = function(opt1, opt2, opt3) {\n                return new effectClass(this.element, theDirection, opt1, opt2, opt3);\n            };\n        });\n    }\n\n    var FOUR_DIRECTIONS = [\"left\", \"right\", \"up\", \"down\"],\n        IN_OUT = [\"in\", \"out\"];\n\n    createEffect(\"slideIn\", {\n        directions: FOUR_DIRECTIONS,\n\n        divisor: function(value) {\n            this.options.divisor = value;\n            return this;\n        },\n\n        prepare: function(start, end) {\n            var that = this,\n                tmp,\n                element = that.element,\n                outerWidth = kendo._outerWidth,\n                outerHeight = kendo._outerHeight,\n                direction = directions[that._direction],\n                offset = -direction.modifier * (direction.vertical ? outerHeight(element) : outerWidth(element)),\n                startValue = offset / (that.options && that.options.divisor || 1) + PX,\n                endValue = \"0px\";\n\n            if (that._reverse) {\n                tmp = start;\n                start = end;\n                end = tmp;\n            }\n\n            if (transforms) {\n                start[direction.transition] = startValue;\n                end[direction.transition] = endValue;\n            } else {\n                start[direction.property] = startValue;\n                end[direction.property] = endValue;\n            }\n        }\n    });\n\n    createEffect(\"tile\", {\n        directions: FOUR_DIRECTIONS,\n\n        init: function(element, direction, previous) {\n            Effect.prototype.init.call(this, element, direction);\n            this.options = { previous: previous };\n        },\n\n        previousDivisor: function(value) {\n            this.options.previousDivisor = value;\n            return this;\n        },\n\n        children: function() {\n            var that = this,\n                reverse = that._reverse,\n                previous = that.options.previous,\n                divisor = that.options.previousDivisor || 1,\n                dir = that._direction;\n\n            var children = [ kendo.fx(that.element).slideIn(dir).setReverse(reverse) ];\n\n            if (previous) {\n                children.push( kendo.fx(previous).slideIn(directions[dir].reverse).divisor(divisor).setReverse(!reverse) );\n            }\n\n            return children;\n        }\n    });\n\n    function createToggleEffect(name, property, defaultStart, defaultEnd) {\n        createEffect(name, {\n            directions: IN_OUT,\n\n            startValue: function(value) {\n                this._startValue = value;\n                return this;\n            },\n\n            endValue: function(value) {\n                this._endValue = value;\n                return this;\n            },\n\n            shouldHide: function() {\n               return this._shouldHide;\n            },\n\n            prepare: function(start, end) {\n                var that = this,\n                    startValue,\n                    endValue,\n                    out = this._direction === \"out\",\n                    startDataValue = that.element.data(property),\n                    startDataValueIsSet = !(isNaN(startDataValue) || startDataValue == defaultStart);\n\n                if (startDataValueIsSet) {\n                    startValue = startDataValue;\n                } else if (typeof this._startValue !== \"undefined\") {\n                    startValue = this._startValue;\n                } else {\n                    startValue = out ? defaultStart : defaultEnd;\n                }\n\n                if (typeof this._endValue !== \"undefined\") {\n                    endValue = this._endValue;\n                } else {\n                    endValue = out ? defaultEnd : defaultStart;\n                }\n\n                if (this._reverse) {\n                    start[property] = endValue;\n                    end[property] = startValue;\n                } else {\n                    start[property] = startValue;\n                    end[property] = endValue;\n                }\n\n                that._shouldHide = end[property] === defaultEnd;\n            }\n        });\n    }\n\n    createToggleEffect(\"fade\", \"opacity\", 1, 0);\n    createToggleEffect(\"zoom\", \"scale\", 1, 0.01);\n\n    createEffect(\"slideMargin\", {\n        prepare: function(start, end) {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                origin = element.data(ORIGIN),\n                offset = options.offset,\n                margin,\n                reverse = that._reverse;\n\n            if (!reverse && origin === null) {\n                element.data(ORIGIN, parseFloat(element.css(\"margin-\" + options.axis)));\n            }\n\n            margin = (element.data(ORIGIN) || 0);\n            end[\"margin-\" + options.axis] = !reverse ? margin + offset : margin;\n        }\n    });\n\n    createEffect(\"slideTo\", {\n        prepare: function(start, end) {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                offset = options.offset.split(\",\"),\n                reverse = that._reverse;\n\n            if (transforms) {\n                end.translatex = !reverse ? offset[0] : 0;\n                end.translatey = !reverse ? offset[1] : 0;\n            } else {\n                end.left = !reverse ? offset[0] : 0;\n                end.top = !reverse ? offset[1] : 0;\n            }\n            element.css(\"left\");\n        }\n    });\n\n    createEffect(\"expand\", {\n        directions: [\"horizontal\", \"vertical\"],\n\n        restore: [ OVERFLOW ],\n\n        prepare: function(start, end) {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                reverse = that._reverse,\n                property = that._direction === \"vertical\" ? HEIGHT : WIDTH,\n                setLength = element[0].style[property],\n                oldLength = element.data(property),\n                length = parseFloat(oldLength || setLength),\n                realLength = round(element.css(property, AUTO)[property]());\n\n            start.overflow = HIDDEN;\n\n            length = (options && options.reset) ? realLength || length : length || realLength;\n\n            end[property] = (reverse ? 0 : length) + PX;\n            start[property] = (reverse ? length : 0) + PX;\n\n            if (oldLength === undefined) {\n                element.data(property, setLength);\n            }\n        },\n\n        shouldHide: function() {\n           return this._reverse;\n        },\n\n        teardown: function() {\n            var that = this,\n                element = that.element,\n                property = that._direction === \"vertical\" ? HEIGHT : WIDTH,\n                length = element.data(property);\n\n            if (length == AUTO || length === BLANK) {\n                setTimeout(function() { element.css(property, AUTO).css(property); }, 0); // jQuery animate complete callback in IE is called before the last animation step!\n            }\n        }\n    });\n\n    var TRANSFER_START_STATE = { position: \"absolute\", marginLeft: 0, marginTop: 0, scale: 1 };\n    /**\n     * Intersection point formulas are taken from here - http://zonalandeducation.com/mmts/intersections/intersectionOfTwoLines1/intersectionOfTwoLines1.html\n     * Formula for a linear function from two points from here - http://demo.activemath.org/ActiveMath2/search/show.cmd?id=mbase://AC_UK_calculus/functions/ex_linear_equation_two_points\n     * The transform origin point is the intersection point of the two lines from the top left corners/top right corners of the element and target.\n     * The math and variables below MAY BE SIMPLIFIED (zeroes removed), but this would make the formula too cryptic.\n     */\n    createEffect(\"transfer\", {\n        init: function(element, target) {\n            this.element = element;\n            this.options = { target: target };\n            this.restore = [];\n        },\n\n        setup: function() {\n            this.element.appendTo(document.body);\n        },\n\n        prepare: function(start, end) {\n            var that = this,\n                element = that.element,\n                outerBox = fx.box(element),\n                innerBox = fx.box(that.options.target),\n                currentScale = animationProperty(element, \"scale\"),\n                scale = fx.fillScale(innerBox, outerBox),\n                transformOrigin = fx.transformOrigin(innerBox, outerBox);\n\n            extend(start, TRANSFER_START_STATE);\n            end.scale = 1;\n\n            element.css(TRANSFORM, \"scale(1)\").css(TRANSFORM);\n            element.css(TRANSFORM, \"scale(\" + currentScale + \")\");\n\n            start.top = outerBox.top;\n            start.left = outerBox.left;\n            start.transformOrigin = transformOrigin.x + PX + \" \" + transformOrigin.y + PX;\n\n            if (that._reverse) {\n                start.scale = scale;\n            } else {\n                end.scale = scale;\n            }\n        }\n    });\n\n\n    var CLIPS = {\n        top: \"rect(auto auto $size auto)\",\n        bottom: \"rect($size auto auto auto)\",\n        left: \"rect(auto $size auto auto)\",\n        right: \"rect(auto auto auto $size)\"\n    };\n\n    var ROTATIONS = {\n        top:    { start: \"rotatex(0deg)\", end: \"rotatex(180deg)\" },\n        bottom: { start: \"rotatex(-180deg)\", end: \"rotatex(0deg)\" },\n        left:   { start: \"rotatey(0deg)\", end: \"rotatey(-180deg)\" },\n        right:  { start: \"rotatey(180deg)\", end: \"rotatey(0deg)\" }\n    };\n\n    function clipInHalf(container, direction) {\n        var vertical = kendo.directions[direction].vertical,\n            size = (container[vertical ? HEIGHT : WIDTH]() / 2) + \"px\";\n\n        return CLIPS[direction].replace(\"$size\", size);\n    }\n\n    createEffect(\"turningPage\", {\n        directions: FOUR_DIRECTIONS,\n\n        init: function(element, direction, container) {\n            Effect.prototype.init.call(this, element, direction);\n            this._container = container;\n        },\n\n        prepare: function(start, end) {\n            var that = this,\n                reverse = that._reverse,\n                direction = reverse ? directions[that._direction].reverse : that._direction,\n                rotation = ROTATIONS[direction];\n\n            start.zIndex = 1;\n\n            if (that._clipInHalf) {\n               start.clip = clipInHalf(that._container, kendo.directions[direction].reverse);\n            }\n\n            start[BACKFACE] = HIDDEN;\n\n            end[TRANSFORM] = TRANSFORM_PERSPECTIVE + (reverse ? rotation.start : rotation.end);\n            start[TRANSFORM] = TRANSFORM_PERSPECTIVE + (reverse ? rotation.end : rotation.start);\n        },\n\n        setup: function() {\n            this._container.append(this.element);\n        },\n\n        face: function(value) {\n            this._face = value;\n            return this;\n        },\n\n        shouldHide: function() {\n            var that = this,\n                reverse = that._reverse,\n                face = that._face;\n\n            return (reverse && !face) || (!reverse && face);\n        },\n\n        clipInHalf: function(value) {\n            this._clipInHalf = value;\n            return this;\n        },\n\n        temporary: function() {\n            this.element.addClass('temp-page');\n            return this;\n        }\n    });\n\n    createEffect(\"staticPage\", {\n        directions: FOUR_DIRECTIONS,\n\n        init: function(element, direction, container) {\n            Effect.prototype.init.call(this, element, direction);\n            this._container = container;\n        },\n\n        restore: [\"clip\"],\n\n        prepare: function(start, end) {\n            var that = this,\n                direction = that._reverse ? directions[that._direction].reverse : that._direction;\n\n            start.clip = clipInHalf(that._container, direction);\n            start.opacity = 0.999;\n            end.opacity = 1;\n        },\n\n        shouldHide: function() {\n            var that = this,\n                reverse = that._reverse,\n                face = that._face;\n\n            return (reverse && !face) || (!reverse && face);\n        },\n\n        face: function(value) {\n            this._face = value;\n            return this;\n        }\n    });\n\n    createEffect(\"pageturn\", {\n        directions: [\"horizontal\", \"vertical\"],\n\n        init: function(element, direction, face, back) {\n            Effect.prototype.init.call(this, element, direction);\n            this.options = {};\n            this.options.face = face;\n            this.options.back = back;\n        },\n\n        children: function() {\n            var that = this,\n                options = that.options,\n                direction = that._direction === \"horizontal\" ? \"left\" : \"top\",\n                reverseDirection = kendo.directions[direction].reverse,\n                reverse = that._reverse,\n                temp,\n                faceClone = options.face.clone(true).removeAttr(\"id\"),\n                backClone = options.back.clone(true).removeAttr(\"id\"),\n                element = that.element;\n\n            if (reverse) {\n                temp = direction;\n                direction = reverseDirection;\n                reverseDirection = temp;\n            }\n\n            return [\n                kendo.fx(options.face).staticPage(direction, element).face(true).setReverse(reverse),\n                kendo.fx(options.back).staticPage(reverseDirection, element).setReverse(reverse),\n                kendo.fx(faceClone).turningPage(direction, element).face(true).clipInHalf(true).temporary().setReverse(reverse),\n                kendo.fx(backClone).turningPage(reverseDirection, element).clipInHalf(true).temporary().setReverse(reverse)\n            ];\n        },\n\n        prepare: function(start, end) {\n            start[PERSPECTIVE] = DEFAULT_PERSPECTIVE;\n            start.transformStyle = \"preserve-3d\";\n            // hack to trigger transition end.\n            start.opacity = 0.999;\n            end.opacity = 1;\n        },\n\n        teardown: function() {\n            this.element.find(\".temp-page\").remove();\n        }\n    });\n\n    createEffect(\"flip\", {\n        directions: [\"horizontal\", \"vertical\"],\n\n        init: function(element, direction, face, back) {\n            Effect.prototype.init.call(this, element, direction);\n            this.options = {};\n            this.options.face = face;\n            this.options.back = back;\n        },\n\n        children: function() {\n            var that = this,\n                options = that.options,\n                direction = that._direction === \"horizontal\" ? \"left\" : \"top\",\n                reverseDirection = kendo.directions[direction].reverse,\n                reverse = that._reverse,\n                temp,\n                element = that.element;\n\n            if (reverse) {\n                temp = direction;\n                direction = reverseDirection;\n                reverseDirection = temp;\n            }\n\n            return [\n                kendo.fx(options.face).turningPage(direction, element).face(true).setReverse(reverse),\n                kendo.fx(options.back).turningPage(reverseDirection, element).setReverse(reverse)\n            ];\n        },\n\n        prepare: function(start) {\n            start[PERSPECTIVE] = DEFAULT_PERSPECTIVE;\n            start.transformStyle = \"preserve-3d\";\n        }\n    });\n\n    var RESTORE_OVERFLOW = !support.mobileOS.android;\n    var IGNORE_TRANSITION_EVENT_SELECTOR = \".km-touch-scrollbar, .km-actionsheet-wrapper\";\n\n    createEffect(\"replace\", {\n        _before: $.noop,\n        _after: $.noop,\n        init: function(element, previous, transitionClass) {\n            Effect.prototype.init.call(this, element);\n            this._previous = $(previous);\n            this._transitionClass = transitionClass;\n        },\n\n        duration: function() {\n            throw new Error(\"The replace effect does not support duration setting; the effect duration may be customized through the transition class rule\");\n        },\n\n        beforeTransition: function(callback) {\n            this._before = callback;\n            return this;\n        },\n\n        afterTransition: function(callback) {\n            this._after = callback;\n            return this;\n        },\n\n        _both: function() {\n            return $().add(this._element).add(this._previous);\n        },\n\n        _containerClass: function() {\n            var direction = this._direction,\n                containerClass = \"k-fx k-fx-start k-fx-\" + this._transitionClass;\n\n            if (direction) {\n                containerClass += \" k-fx-\" + direction;\n            }\n\n            if (this._reverse) {\n                containerClass += \" k-fx-reverse\";\n            }\n\n            return containerClass;\n        },\n\n        complete: function(e) {\n            if (!this.deferred || (e && $(e.target).is(IGNORE_TRANSITION_EVENT_SELECTOR))) {\n                return;\n            }\n\n            var container = this.container;\n\n            container\n                .removeClass(\"k-fx-end\")\n                .removeClass(this._containerClass())\n                .off(transitions.event, this.completeProxy);\n\n            this._previous.hide().removeClass(\"k-fx-current\");\n            this.element.removeClass(\"k-fx-next\");\n\n            if (RESTORE_OVERFLOW) {\n                container.css(OVERFLOW, \"\");\n            }\n\n            if (!this.isAbsolute) {\n                this._both().css(POSITION, \"\");\n            }\n\n            this.deferred.resolve();\n            delete this.deferred;\n        },\n\n        run: function() {\n            if (this._additionalEffects && this._additionalEffects[0]) {\n                return this.compositeRun();\n            }\n\n            var that = this,\n                element = that.element,\n                previous = that._previous,\n                container = element.parents().filter(previous.parents()).first(),\n                both = that._both(),\n                deferred = $.Deferred(),\n                originalPosition = element.css(POSITION),\n                originalOverflow;\n\n            // edge case for grid/scheduler, where the previous is already destroyed.\n            if (!container.length) {\n                container = element.parent();\n            }\n\n            this.container = container;\n            this.deferred = deferred;\n            this.isAbsolute = originalPosition  == \"absolute\";\n\n            if (!this.isAbsolute) {\n                both.css(POSITION, \"absolute\");\n            }\n\n            if (RESTORE_OVERFLOW) {\n                originalOverflow = container.css(OVERFLOW);\n                container.css(OVERFLOW, \"hidden\");\n            }\n\n            if (!transitions) {\n                this.complete();\n            } else {\n                element.addClass(\"k-fx-hidden\");\n\n                container.addClass(this._containerClass());\n\n                this.completeProxy = this.complete.bind(this);\n                container.on(transitions.event, this.completeProxy);\n\n                kendo.animationFrame(function() {\n                    element.removeClass(\"k-fx-hidden\").addClass(\"k-fx-next\");\n                    previous.css(\"display\", \"\").addClass(\"k-fx-current\");\n                    that._before(previous, element);\n                    kendo.animationFrame(function() {\n                        container.removeClass(\"k-fx-start\").addClass(\"k-fx-end\");\n                        that._after(previous, element);\n                    });\n                });\n            }\n\n            return deferred.promise();\n        },\n\n        stop: function() {\n            this.complete();\n        }\n    });\n\n    var Animation = kendo.Class.extend({\n        init: function() {\n            var that = this;\n            that._tickProxy = that._tick.bind(that);\n            that._started = false;\n        },\n\n        tick: $.noop,\n        done: $.noop,\n        onEnd: $.noop,\n        onCancel: $.noop,\n\n        start: function() {\n            if (!this.enabled()) {\n                return;\n            }\n\n            if (!this.done()) {\n                this._started = true;\n                kendo.animationFrame(this._tickProxy);\n            } else {\n                this.onEnd();\n            }\n        },\n\n        enabled: function() {\n            return true;\n        },\n\n        cancel: function() {\n            this._started = false;\n            this.onCancel();\n        },\n\n        _tick: function() {\n            var that = this;\n            if (!that._started) { return; }\n\n            that.tick();\n\n            if (!that.done()) {\n                kendo.animationFrame(that._tickProxy);\n            } else {\n                that._started = false;\n                that.onEnd();\n            }\n        }\n    });\n\n    var Transition = Animation.extend({\n        init: function(options) {\n            var that = this;\n            extend(that, options);\n            Animation.fn.init.call(that);\n        },\n\n        done: function() {\n            return this.timePassed() >= this.duration;\n        },\n\n        timePassed: function() {\n            return Math.min(this.duration, (new Date()) - this.startDate);\n        },\n\n        moveTo: function(options) {\n            var that = this,\n                movable = that.movable;\n\n            that.initial = movable[that.axis];\n            that.delta = options.location - that.initial;\n\n            that.duration = typeof options.duration == \"number\" ? options.duration : 300;\n\n            that.tick = that._easeProxy(options.ease);\n\n            that.startDate = new Date();\n            that.start();\n        },\n\n        _easeProxy: function(ease) {\n            var that = this;\n\n            return function() {\n                that.movable.moveAxis(that.axis, ease(that.timePassed(), that.initial, that.delta, that.duration));\n            };\n        }\n    });\n\n    extend(Transition, {\n        easeOutExpo: function (t, b, c, d) {\n            return (t==d) ? b+c : c * (-Math.pow(2, -10 * t/d) + 1) + b;\n        },\n\n        easeOutBack: function (t, b, c, d, s) {\n            s = 1.70158;\n            return c*((t=t/d-1)*t*((s+1)*t + s) + 1) + b;\n        }\n    });\n\n    fx.Animation = Animation;\n    fx.Transition = Transition;\n    fx.createEffect = createEffect;\n\n    fx.box = function(element) {\n        element = $(element);\n        var result = element.offset();\n        result.width = kendo._outerWidth(element);\n        result.height = kendo._outerHeight(element);\n        return result;\n    };\n\n    fx.transformOrigin = function(inner, outer) {\n        var x = (inner.left - outer.left) * outer.width / (outer.width - inner.width),\n            y = (inner.top - outer.top) * outer.height / (outer.height - inner.height);\n\n        return {\n            x: isNaN(x) ? 0 : x,\n            y: isNaN(y) ? 0 : y\n        };\n    };\n\n    fx.fillScale = function(inner, outer) {\n        return Math.min(inner.width / outer.width, inner.height / outer.height);\n    };\n\n    fx.fitScale = function(inner, outer) {\n        return Math.max(inner.width / outer.width, inner.height / outer.height);\n    };\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.view',[\n        \"kendo.core\",\n        \"kendo.binder\",\n        \"kendo.fx\"\n    ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"view\",\n    name: \"View\",\n    category: \"framework\",\n    description: \"The View class instantiates and handles the events of a certain screen from the application.\",\n    depends: [ \"core\", \"binder\", \"fx\" ],\n    hidden: false\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        attr =  kendo.attr,\n        ui = kendo.ui,\n        attrValue = kendo.attrValue,\n        directiveSelector = kendo.directiveSelector,\n        Observable = kendo.Observable,\n        Widget = kendo.ui.Widget,\n        roleSelector = kendo.roleSelector,\n\n        SCRIPT = \"SCRIPT\",\n        INIT = \"init\",\n        TRANSITION_START = \"transitionStart\",\n        TRANSITION_END = \"transitionEnd\",\n        SHOW = \"show\",\n        HIDE = \"hide\",\n        ATTACH = \"attach\",\n        DETACH = \"detach\",\n        sizzleErrorRegExp = /unrecognized expression/;\n\n    var bodyRegExp = /<body[^>]*>(([\\u000a\\u000d\\u2028\\u2029]|.)*)<\\/body>/i;\n    var LOAD_START = \"loadStart\";\n    var LOAD_COMPLETE = \"loadComplete\";\n    var SHOW_START = \"showStart\";\n    var SAME_VIEW_REQUESTED = \"sameViewRequested\";\n    var VIEW_SHOW = \"viewShow\";\n    var VIEW_TYPE_DETERMINED = \"viewTypeDetermined\";\n    var AFTER = \"after\";\n    var classNames = {\n        content: \"k-content\",\n        view: \"k-view\",\n        stretchedView: \"k-stretched-view\",\n        widget: \"k-widget\",\n        header: \"k-header\",\n        footer: \"k-footer\"\n    };\n\n    var View = kendo.ui.Widget.extend({\n        init: function(content, options) {\n            var that = this;\n            options = options || {};\n            that.id = kendo.guid();\n\n            Observable.fn.init.call(that);\n            this.options = $.extend({}, this.options, options);\n\n            that.content = content;\n\n            if (that.options.renderOnInit) {\n                Widget.fn.init.call(that, that._createElement(), options);\n            }\n\n            if (that.options.wrapInSections) {\n                that._renderSections();\n            }\n\n            that.tagName = options.tagName || \"div\";\n            that.model = options.model;\n            that._wrap = options.wrap !== false;\n            this._evalTemplate = options.evalTemplate || false;\n            this._useWithBlock = options.useWithBlock;\n            that._fragments = {};\n\n            that.bind([ INIT, SHOW, HIDE, TRANSITION_START, TRANSITION_END ], options);\n        },\n\n        options: {\n            name: \"View\",\n            renderOnInit: false,\n            wrapInSections: false,\n            detachOnHide: true,\n            detachOnDestroy: true\n        },\n\n        render: function(container) {\n            var that = this,\n                notInitialized = !that.element;\n\n            // The order below matters - kendo.bind should happen when the element is in the DOM, and show should be triggered after init.\n\n            if (notInitialized) {\n                that.element = that._createElement();\n            }\n\n            if (container) {\n                $(container).append(that.element);\n            }\n\n            if (notInitialized) {\n                kendo.bind(that.element, that.model);\n                that.trigger(INIT);\n            }\n\n            if (container) {\n                that._eachFragment(ATTACH);\n                that.trigger(SHOW);\n            }\n\n            return that.element;\n        },\n\n        clone: function() {\n            return new ViewClone(this);\n        },\n\n        triggerBeforeShow: function() {\n            return true;\n        },\n\n        triggerBeforeHide: function() {\n            return true;\n        },\n\n        showStart: function() {\n            var that = this;\n            var element = that.render();\n\n            if (element) {\n                element.css(\"display\", \"\");\n            }\n\n            this.trigger(SHOW_START, { view: this });\n        },\n\n        showEnd: function() {\n        },\n\n        hideEnd: function() {\n            this.hide();\n        },\n\n        beforeTransition: function(type){\n            this.trigger(TRANSITION_START, { type: type });\n        },\n\n        afterTransition: function(type){\n            this.trigger(TRANSITION_END, { type: type });\n        },\n\n        hide: function() {\n            if (this.options.detachOnHide) {\n                this._eachFragment(DETACH);\n                $(this.element).detach();\n            }\n\n            this.trigger(HIDE);\n        },\n\n        destroy: function() {\n            var that = this;\n            var element = that.element;\n\n            if (element) {\n                Widget.fn.destroy.call(that);\n\n                kendo.unbind(element);\n                kendo.destroy(element);\n\n                if (that.options.detachOnDestroy) {\n                    element.remove();\n                }\n            }\n        },\n\n        // ported from mobile view\n        purge: function() {\n            var that = this;\n\n            that.destroy();\n            $(that.element).add(that.content).add(that.wrapper).off().remove();\n        },\n\n        fragments: function(fragments) {\n            $.extend(this._fragments, fragments);\n        },\n\n        _eachFragment: function(methodName) {\n            for (var placeholder in this._fragments) {\n                this._fragments[placeholder][methodName](this, placeholder);\n            }\n        },\n\n        _createElement: function() {\n            var that = this,\n                wrapper = \"<\" + that.tagName + \">\",\n                element,\n                content;\n\n            try {\n                content = $(document.getElementById(that.content) || that.content); // support passing id without #\n\n                if (content[0].tagName === SCRIPT) {\n                    content = content.html();\n                }\n            } catch(e) {\n                if (sizzleErrorRegExp.test(e.message)) {\n                    content = that.content;\n                }\n            }\n            \n            if (typeof content === \"string\") {\n                content = content.replace(/^\\s+|\\s+$/g, '');\n                if (that._evalTemplate) {\n                    content = kendo.template(content, { useWithBlock: that._useWithBlock })(that.model || {});\n                }\n\n                element = $(wrapper).append(content);\n                // drop the wrapper if asked - this seems like the easiest (although not very intuitive) way to avoid messing up templates with questionable content, like this one for instance:\n                // <script id=\"my-template\">\n                // foo\n                // <span> Span </span>\n                // </script>\n                if (!that._wrap) {\n                   element = element.contents();\n                }\n            } else {\n                element = content;\n                if (that._evalTemplate) {\n                    var result = $(kendo.template($(\"<div />\").append(element.clone(true)).html(), { useWithBlock: that._useWithBlock })(that.model || {}));\n\n                    // template uses DOM\n                    if ($.contains(document, element[0])) {\n                        element.replaceWith(result);\n                    }\n\n                    element = result;\n                }\n                if (that._wrap) {\n                    element = element.wrapAll(wrapper).parent();\n                }\n            }\n\n            return element;\n        },\n\n        _renderSections: function() {\n            var that = this;\n\n            if (that.options.wrapInSections) {\n                that._wrapper();\n                that._createContent();\n                that._createHeader();\n                that._createFooter();\n            }\n        },\n\n        _wrapper: function() {\n            var that = this;\n            var content = that.content;\n\n            if (content.is(roleSelector(\"view\"))) {\n                that.wrapper = that.content;\n            } else {\n                that.wrapper = content\n                    .wrap('<div data-' + kendo.ns + 'stretch=\"true\" data-' + kendo.ns + 'role=\"view\" data-' + kendo.ns + 'init-widgets=\"false\"></div>')\n                    .parent();\n            }\n\n            var wrapper = that.wrapper;\n\n            wrapper.attr(\"id\", that.id);\n\n            wrapper.addClass(classNames.view);\n            wrapper.addClass(classNames.widget);\n            wrapper.attr(\"role\", \"view\");\n        },\n\n        _createContent: function() {\n            var that = this;\n            var wrapper = $(that.wrapper);\n            var contentSelector = roleSelector(\"content\");\n\n            if (!wrapper.children(contentSelector)[0]) {\n                var ccontentElements = wrapper.children().filter(function() {\n                    var child = $(this);\n                    if (!child.is(roleSelector(\"header\")) && !child.is(roleSelector(\"footer\"))) {\n                        return child;\n                    }\n                });\n\n                ccontentElements.wrap(\"<div \" + attr(\"role\") + '=\"content\"></div>');\n            }\n\n            // use contentElement instead of content as view.content can be a string\n            this.contentElement = wrapper.children(roleSelector(\"content\"));\n\n            this.contentElement\n                .addClass(classNames.stretchedView)\n                .addClass(classNames.content);\n        },\n\n        _createHeader: function() {\n            var that = this;\n            var wrapper = that.wrapper;\n\n            this.header = wrapper.children(roleSelector(\"header\")).addClass(classNames.header);\n        },\n\n        _createFooter: function() {\n            var that = this;\n            var wrapper = that.wrapper;\n\n            this.footer = wrapper.children(roleSelector(\"footer\")).addClass(classNames.footer);\n        }\n    });\n\n    var ViewClone = kendo.Class.extend({\n        init: function(view) {\n            $.extend(this, {\n                element: view.element.clone(true),\n                transition: view.transition,\n                id: view.id\n            });\n\n            view.element.parent().append(this.element);\n        },\n\n        hideEnd: function() {\n            this.element.remove();\n        },\n\n        beforeTransition: $.noop,\n        afterTransition: $.noop\n    });\n\n    var Layout = View.extend({\n        init: function(content, options) {\n            View.fn.init.call(this, content, options);\n            this.containers = {};\n        },\n\n        container: function(selector) {\n            var container = this.containers[selector];\n\n            if (!container) {\n                container = this._createContainer(selector);\n                this.containers[selector] = container;\n            }\n\n            return container;\n        },\n\n        showIn: function(selector, view, transition) {\n            this.container(selector).show(view, transition);\n        },\n\n        _createContainer: function(selector) {\n            var root = this.render(),\n                element = root.find(selector),\n                container;\n\n            if (!element.length && root.is(selector)) {\n                if (root.is(selector)) {\n                    element = root;\n                } else {\n\n                    throw new Error(\"can't find a container with the specified \" + selector + \" selector\");\n                }\n            }\n\n            container = new ViewContainer(element);\n\n            container.bind(\"accepted\", function(e) {\n                e.view.render(element);\n            });\n\n            return container;\n        }\n    });\n\n    var Fragment = View.extend({\n        attach: function(view, placeholder) {\n            view.element.find(placeholder).replaceWith(this.render());\n        },\n\n        detach: function() {\n        }\n    });\n\n    var transitionRegExp = /^(\\w+)(:(\\w+))?( (\\w+))?$/;\n\n    function parseTransition(transition) {\n        if (!transition){\n            return {};\n        }\n\n        var matches = transition.match(transitionRegExp) || [];\n\n        return {\n            type: matches[1],\n            direction: matches[3],\n            reverse: matches[5] === \"reverse\"\n        };\n    }\n\n    var ViewContainer = Observable.extend({\n        init: function(container) {\n            Observable.fn.init.call(this);\n            this.container = container;\n            this.history = [];\n            this.view = null;\n            this.running = false;\n        },\n\n        after: function() {\n            this.running = false;\n            this.trigger(\"complete\", {view: this.view});\n            this.trigger(\"after\");\n        },\n\n        end: function() {\n            this.view.showEnd();\n            this.previous.hideEnd();\n            this.after();\n        },\n\n        show: function(view, transition, locationID) {\n            if (!view.triggerBeforeShow() || (this.view && !this.view.triggerBeforeHide())) {\n                this.trigger(\"after\");\n                return false;\n            }\n\n            locationID = locationID || view.id;\n\n            var that = this,\n                current = (view === that.view) ? view.clone() : that.view,\n                history = that.history,\n                previousEntry = history[history.length - 2] || {},\n                back = previousEntry.id === locationID,\n                // If explicit transition is set, it will be with highest priority\n                // Next we will try using the history record transition or the view transition configuration\n                theTransition = transition || ( back ? history[history.length - 1].transition : view.transition ),\n                transitionData = parseTransition(theTransition);\n\n            if (that.running) {\n                that.effect.stop();\n            }\n\n            if (theTransition === \"none\") {\n                theTransition = null;\n            }\n\n            that.trigger(\"accepted\", { view: view });\n            that.view = view;\n            that.previous = current;\n            that.running = true;\n\n            if (!back) {\n                history.push({ id: locationID, transition: theTransition });\n            } else {\n                history.pop();\n            }\n\n            if (!current) {\n                view.showStart();\n                view.showEnd();\n                that.after();\n                return true;\n            }\n\n            if (!theTransition || !kendo.effects.enabled) {\n                view.showStart();\n                that.end();\n            } else {\n                // hide the view element before init/show - prevents blinks on iPad\n                // the replace effect will remove this class\n                view.element.addClass(\"k-fx-hidden\");\n                view.showStart();\n                // do not reverse the explicit transition\n                if (back && !transition) {\n                    transitionData.reverse = !transitionData.reverse;\n                }\n\n                that.effect = kendo.fx(view.element).replace(current.element, transitionData.type)\n                    .beforeTransition(function() {\n                        view.beforeTransition(\"show\");\n                        current.beforeTransition(\"hide\");\n                    })\n                    .afterTransition(function() {\n                        view.afterTransition(\"show\");\n                        current.afterTransition(\"hide\");\n                    })\n                    .direction(transitionData.direction)\n                    .setReverse(transitionData.reverse);\n\n                that.effect.run().then(function() { that.end(); });\n            }\n\n            return true;\n        },\n\n        destroy: function() {\n            var that = this;\n            var view = that.view;\n\n            if (view && view.destroy) {\n                view.destroy();\n            }\n        }\n    });\n\n    var ViewEngine = Observable.extend({\n        init: function(options) {\n            var that = this,\n                views,\n                container;\n\n            Observable.fn.init.call(that);\n            that.options = options;\n\n            $.extend(that, options);\n            that.sandbox = $(\"<div />\");\n            container = that.container;\n\n            views = that._hideViews(container);\n            that.rootView = views.first();\n            that.layouts = {};\n\n            that.viewContainer = new kendo.ViewContainer(that.container);\n\n            that.viewContainer.bind(\"accepted\", function(e) {\n                e.view.params = that.params;\n            });\n\n            that.viewContainer.bind(\"complete\", function(e) {\n                that.trigger(VIEW_SHOW, { view: e.view });\n            });\n\n            that.viewContainer.bind(AFTER, function() {\n                that.trigger(AFTER);\n            });\n\n            this.bind(this.events, options);\n        },\n\n        events: [\n            SHOW_START,\n            AFTER,\n            VIEW_SHOW,\n            LOAD_START,\n            LOAD_COMPLETE,\n            SAME_VIEW_REQUESTED,\n            VIEW_TYPE_DETERMINED\n        ],\n\n        destroy: function() {\n            var that = this;\n            var viewContainer = that.viewContainer;\n\n            kendo.destroy(that.container);\n\n            for (var id in that.layouts) {\n                this.layouts[id].destroy();\n            }\n\n            if (viewContainer) {\n                viewContainer.destroy();\n            }\n        },\n\n        view: function() {\n            return this.viewContainer.view;\n        },\n\n        showView: function(url, transition, params) {\n            url = url.replace(new RegExp(\"^\" + this.remoteViewURLPrefix), \"\");\n            if (url === \"\" && this.remoteViewURLPrefix) {\n                url = \"/\";\n            }\n\n            if (url.replace(/^#/, \"\") === this.url) {\n                this.trigger(SAME_VIEW_REQUESTED);\n                return false;\n            }\n\n            this.trigger(SHOW_START);\n\n            var that = this,\n                element = that._findViewElement(url),\n                view = kendo.widgetInstance(element);\n\n            that.url = url.replace(/^#/, \"\");\n\n            that.params = params;\n\n            if (view && view.reload) {\n                view.purge();\n                element = [];\n            }\n\n            this.trigger(VIEW_TYPE_DETERMINED, { remote: element.length === 0, url: url });\n\n            if (element[0]) {\n                if (!view) {\n                    view = that._createView(element);\n                }\n\n                return that.viewContainer.show(view, transition, url);\n            } else {\n                return true;\n            }\n        },\n\n        append: function(html, url) {\n            var sandbox = this.sandbox,\n                urlPath = (url || \"\").split(\"?\")[0],\n                container = this.container,\n                views,\n                view;\n\n            if (bodyRegExp.test(html)) {\n                html = RegExp.$1;\n            }\n\n            sandbox[0].innerHTML = html;\n\n            container.append(sandbox.children(\"script, style\"));\n\n            views = this._hideViews(sandbox);\n            view = views.first();\n\n            // Generic HTML content found as remote view - no remote view markers\n            if (!view.length) {\n                views = view = sandbox.wrapInner(\"<div data-role=view />\").children(); // one element\n            }\n\n            if (urlPath) {\n                view.hide().attr(attr(\"url\"), urlPath);\n            }\n\n            container.append(views);\n\n            return this._createView(view);\n        },\n\n        _locate: function(selectors) {\n            return this.$angular ? directiveSelector(selectors) : roleSelector(selectors);\n        },\n\n        _findViewElement: function(url) {\n            var element,\n                urlPath = url.split(\"?\")[0];\n\n            if (!urlPath) {\n                return this.rootView;\n            }\n\n            element = this.container.children(\"[\" + attr(\"url\") + \"='\" + urlPath + \"']\");\n\n            // do not try to search for \"#/foo/bar\" id, jQuery throws error\n            if (!element[0] && urlPath.indexOf(\"/\") === -1) {\n                element = this.container.children(urlPath.charAt(0) === \"#\" ? urlPath : \"#\" + urlPath);\n            }\n\n            if (!element[0]) {\n                element = this._findViewElementById(url);\n            }\n\n            return element;\n        },\n\n        _findViewElementById: function(id) {\n            var element = this.container.children(\"[id='\" + id + \"']\");\n            return element;\n        },\n\n        _createView: function(element) {\n            //return this._createMobileView(element);\n            return this._createSpaView(element);\n        },\n\n        _createMobileView: function(element) {\n            return kendo.initWidget(element, {\n                defaultTransition: this.transition,\n                loader: this.loader,\n                container: this.container,\n                getLayout: this.getLayoutProxy,\n                modelScope: this.modelScope,\n                reload: attrValue(element, \"reload\")\n            }, ui.roles);\n        },\n\n        _createSpaView: function(element) {\n            var viewOptions = (this.options || {}).viewOptions || {};\n            return new kendo.View(element, {\n                renderOnInit: viewOptions.renderOnInit,\n                wrap: viewOptions.wrap || false,\n                wrapInSections: viewOptions.wrapInSections,\n                detachOnHide: viewOptions.detachOnHide,\n                detachOnDestroy: viewOptions.detachOnDestroy\n            });\n        },\n\n        _hideViews: function(container) {\n            return container.children(this._locate(\"view\")).hide();\n        }\n    });\n\n    kendo.ViewEngine = ViewEngine;\n\n    kendo.ViewContainer = ViewContainer;\n    kendo.Fragment = Fragment;\n    kendo.Layout = Layout;\n    kendo.View = View;\n    kendo.ViewClone = ViewClone;\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function (f, define) {\n    define('kendo.floatinglabel',[\"kendo.core\"], f);\n})(function () {\n\nvar __meta__ = {// jshint ignore:line\n    id: \"floatinglabel\",\n    name: \"FloatingLabel\",\n    category: \"framework\",\n    depends: [\"core\"],\n    hidden: true\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        ui = kendo.ui,\n        NS = \".kendoFloatingLabel\",\n        FLOATINGLABELCONTAINER = \"k-floating-label-container\",\n        EMPTY = \"k-state-empty\",\n        FOCUSED = \"k-focus\",\n        STATEDISABLED = \"k-disabled\",\n        NOCLICKCLASS = \"k-no-click\",\n        STATEREADONLY = \"k-readonly\";\n\n    var FloatingLabel = Widget.extend({\n        init: function (element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            options = $.extend(true, {}, options);\n\n            that.refresh();\n            that._editable({\n                readonly: that.options.widget.options.readonly !== undefined ? that.options.widget.options.readonly : false,\n                disable: that.options.widget.options.enable !== undefined ? !(that.options.widget.options.enable) : false\n            });\n\n            that.element.addClass(FLOATINGLABELCONTAINER);\n\n            kendo.notify(that);\n        },\n\n        options: {\n            name: 'FloatingLabel',\n            widget: null,\n            useReadOnlyClass: false\n        },\n\n        readonly: function(readonly) {\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n        },\n\n        enable: function(enable) {\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n        },\n\n        refresh: function () {\n            var that = this;\n            var element = that.element;\n\n            element\n                .removeClass(EMPTY)\n                .removeClass(FOCUSED);\n\n\n            if (!that.options.widget.element.val()) {\n                element.addClass(EMPTY);\n            }\n\n            if (document.activeElement === that.options.widget.element[0]) {\n                element.addClass(FOCUSED);\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.element.off(NS);\n            Widget.fn.destroy.call(that);\n        },\n\n        _editable: function(options) {\n            var that = this;\n            var element = that.element;\n            var disable = options.disable;\n            var readonly = options.readonly;\n\n            element.off(NS);\n\n            if (!readonly && !disable) {\n                element\n                    .removeClass(STATEDISABLED)\n                    .removeClass(that.options.useReadOnlyClass ? STATEREADONLY : NOCLICKCLASS);\n\n                element.on(\"focusin\" + NS, that.refresh.bind(that));\n                element.on(\"focusout\" + NS, that.refresh.bind(that));\n            } else {\n                element\n                    .toggleClass(STATEDISABLED, disable)\n                    .toggleClass(that.options.useReadOnlyClass ? STATEREADONLY : NOCLICKCLASS, readonly);\n            }\n        }\n    });\n    ui.plugin(FloatingLabel);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define){\r\n    define('kendo.data.signalr',[ \"kendo.data\" ], f);\r\n})(function(){\r\n\r\nvar __meta__ = { // jshint ignore:line\r\n    id: \"data.signalr\",\r\n    name: \"SignalR\",\r\n    category: \"framework\",\r\n    depends: [ \"data\" ],\r\n    hidden: true\r\n};\r\n\r\n(function($) {\r\n    var kendo = window.kendo;\r\n    var isFunction = kendo.isFunction;\r\n\r\n    function isJQueryPromise(promise) {\r\n        return promise && isFunction(promise.done) && isFunction(promise.fail);\r\n    }\r\n\r\n    function isNativePromise(promise) {\r\n        return promise && isFunction(promise.then) && isFunction(promise.catch); // jshint ignore:line\r\n    }\r\n\r\n    var transport = kendo.data.RemoteTransport.extend({\r\n        init: function (options) {\r\n            var signalr = options && options.signalr ? options.signalr : {};\r\n\r\n            var promise = signalr.promise;\r\n\r\n            if (!promise) {\r\n                throw new Error('The \"promise\" option must be set.');\r\n            }\r\n\r\n            if (!isJQueryPromise(promise) && !isNativePromise(promise)) {\r\n                throw new Error('The \"promise\" option must be a Promise.');\r\n            }\r\n\r\n            this.promise = promise;\r\n\r\n            var hub = signalr.hub;\r\n\r\n            if (!hub) {\r\n                throw new Error('The \"hub\" option must be set.');\r\n            }\r\n\r\n            if (typeof hub.on != \"function\" || typeof hub.invoke != \"function\") {\r\n                throw new Error('The \"hub\" option is not a valid SignalR hub proxy.');\r\n            }\r\n\r\n            this.hub = hub;\r\n\r\n            kendo.data.RemoteTransport.fn.init.call(this, options);\r\n        },\r\n\r\n        push: function(callbacks) {\r\n            var client = this.options.signalr.client || {};\r\n\r\n            if (client.create) {\r\n                this.hub.on(client.create, callbacks.pushCreate);\r\n            }\r\n\r\n            if (client.update) {\r\n                this.hub.on(client.update, callbacks.pushUpdate);\r\n            }\r\n\r\n            if (client.destroy) {\r\n                this.hub.on(client.destroy, callbacks.pushDestroy);\r\n            }\r\n        },\r\n\r\n        _crud: function(options, type) {\r\n            var hub = this.hub;\r\n            var promise = this.promise;\r\n            var server = this.options.signalr.server;\r\n\r\n            if (!server || !server[type]) {\r\n                throw new Error(kendo.format('The \"server.{0}\" option must be set.', type));\r\n            }\r\n\r\n            var args = [server[type]];\r\n\r\n            var data = this.parameterMap(options.data, type);\r\n\r\n            if (!$.isEmptyObject(data)) {\r\n                args.push(data);\r\n            }\r\n\r\n            if (isJQueryPromise(promise)) {\r\n                promise.done(function() {\r\n                    hub.invoke.apply(hub, args)\r\n                              .done(options.success)\r\n                              .fail(options.error);\r\n                });\r\n            } else if (isNativePromise(promise)) {\r\n                promise.then(function() {\r\n                    hub.invoke.apply(hub, args)\r\n                              .then(options.success)\r\n                              .catch(options.error); // jshint ignore:line\r\n                });\r\n            }\r\n        },\r\n\r\n        read: function(options) {\r\n            this._crud(options, \"read\");\r\n        },\r\n\r\n        create: function(options) {\r\n            this._crud(options, \"create\");\r\n        },\r\n\r\n        update: function(options) {\r\n            this._crud(options, \"update\");\r\n        },\r\n\r\n        destroy: function(options) {\r\n            this._crud(options, \"destroy\");\r\n        }\r\n    });\r\n\r\n    $.extend(true, kendo.data, {\r\n        transports: {\r\n            signalr: transport\r\n        }\r\n    });\r\n\r\n})(window.kendo.jQuery);\r\n\r\nreturn window.kendo;\r\n\r\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\r\n\n(function(f, define){\n    define('kendo.validator',[ \"kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"validator\",\n    name: \"Validator\",\n    category: \"web\",\n    description: \"The Validator offers an easy way to do a client-side form validation.\",\n    depends: [ \"core\" ]\n};\n\n/* jshint eqnull: true */\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        NS = \".kendoValidator\",\n        INVALIDMSG = \"k-invalid-msg\",\n        invalidMsgRegExp = new RegExp(INVALIDMSG,'i'),\n        INVALIDINPUT = \"k-invalid\",\n        VALIDINPUT = \"k-valid\",\n        VALIDATIONSUMMARY = \"k-validation-summary\",\n        INVALIDLABEL = \"k-text-error\",\n        MESSAGEBOX = \"k-messagebox k-messagebox-error\",\n        INPUTINNER = \".k-input-inner\",\n        INPUTWRAPPER = \".k-input\",\n        ARIAINVALID = \"aria-invalid\",\n        ARIADESCRIBEDBY = \"aria-describedby\",\n        emailRegExp = /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/i,\n        urlRegExp = /^(https?|ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i,\n        INPUTSELECTOR = \":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])\",\n        CHECKBOXSELECTOR = \":checkbox:not([disabled],[readonly])\",\n        NUMBERINPUTSELECTOR = \"[type=number],[type=range]\",\n        BLUR = \"blur\",\n        NAME = \"name\",\n        FORM = \"form\",\n        NOVALIDATE = \"novalidate\",\n        //events\n        VALIDATE = \"validate\",\n        CHANGE = \"change\",\n        VALIDATE_INPUT = \"validateInput\",\n\n        patternMatcher = function(value, pattern) {\n            if (typeof pattern === \"string\") {\n                pattern = new RegExp('^(?:' + pattern + ')$');\n            }\n            return pattern.test(value);\n        },\n        matcher = function(input, selector, pattern) {\n            var value = input.val();\n\n            if (input.filter(selector).length && value !== \"\") {\n                return patternMatcher(value, pattern);\n            }\n            return true;\n        },\n        hasAttribute = function(input, name) {\n            if (input.length)  {\n                return input[0].attributes[name] != null;\n            }\n            return false;\n        };\n\n    if (!kendo.ui.validator) {\n        kendo.ui.validator = { rules: {}, messages: {}, allowSubmit: $.noop, validateOnInit: $.noop };\n    }\n\n    function resolveRules(element) {\n        var resolvers = kendo.ui.validator.ruleResolvers || {},\n            rules = {},\n            name;\n\n        for (name in resolvers) {\n            $.extend(true, rules, resolvers[name].resolve(element));\n        }\n        return rules;\n    }\n\n    function decode(value) {\n        return value.replace(/&amp/g, '&amp;')\n            .replace(/&quot;/g, '\"')\n            .replace(/&#39;/g, \"'\")\n            .replace(/&lt;/g, '<')\n            .replace(/&gt;/g, '>');\n    }\n\n    function numberOfDecimalDigits(value) {\n        value = (value + \"\").split('.');\n        if (value.length > 1) {\n            return value[1].length;\n        }\n        return 0;\n    }\n\n    function parseHtml(text) {\n        if ($.parseHTML) {\n            return $($.parseHTML(text));\n        }\n        return $(text);\n    }\n\n    function searchForMessageContainer(elements, fieldName) {\n        var containers = $(),\n            element,\n            attr;\n\n        for (var idx = 0, length = elements.length; idx < length; idx++) {\n            element = elements[idx];\n            if (invalidMsgRegExp.test(element.className)) {\n                attr = element.getAttribute(kendo.attr(\"for\"));\n                if (attr === fieldName) {\n                    containers = containers.add(element);\n                }\n            }\n        }\n        return containers;\n    }\n\n    function isLabelFor(label, element) {\n        if (!label) {\n            return false;\n        }\n        if (typeof label.nodeName !== 'string' || label.nodeName !== 'LABEL') {\n            return false;\n        }\n        if (typeof label.getAttribute('for') !== 'string' || typeof element.getAttribute('id') !== 'string') {\n            return false;\n        }\n        if (label.getAttribute('for') !== element.getAttribute('id')) {\n            return false;\n        }\n\n        return true;\n    }\n\n    var SUMMARYTEMPLATE = '<ul>' +\n        '#for(var i = 0; i < errors.length; i += 1){#' +\n            '<li><a data-field=\"#=errors[i].field#\" href=\"\\\\#\">#= errors[i].message #</a></li>' +\n        '# } #' +\n    '</ul>';\n\n    var Validator = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                resolved = resolveRules(element),\n                validateAttributeSelector = \"[\" + kendo.attr(\"validate\") + \"!=false]\";\n\n            options = options || {};\n\n            options.rules = $.extend({}, kendo.ui.validator.rules, resolved.rules, options.rules);\n            options.messages = $.extend({}, kendo.ui.validator.messages, resolved.messages, options.messages);\n\n            Widget.fn.init.call(that, element, options);\n\n            that._errorTemplate = kendo.template(that.options.errorTemplate);\n            that._summaryTemplate = kendo.template(that.options.validationSummary.template || SUMMARYTEMPLATE);\n\n            if (that.element.is(FORM)) {\n                that.element.attr(NOVALIDATE, NOVALIDATE);\n            }\n\n            that._inputSelector = INPUTSELECTOR + validateAttributeSelector;\n            that._checkboxSelector = CHECKBOXSELECTOR + validateAttributeSelector;\n\n            that._errors = {};\n            that._attachEvents();\n            that._isValidated = false;\n\n            if (that._validateOnInit()) {\n                that.validate();\n            }\n        },\n\n        events: [ VALIDATE, CHANGE, VALIDATE_INPUT ],\n\n        options: {\n            name: \"Validator\",\n            errorTemplate: '<span class=\"k-form-error\">#= message #</span>',\n            messages: {\n                required: \"{0} is required\",\n                pattern: \"{0} is not valid\",\n                min: \"{0} should be greater than or equal to {1}\",\n                max: \"{0} should be smaller than or equal to {1}\",\n                step: \"{0} is not valid\",\n                email: \"{0} is not valid email\",\n                url: \"{0} is not valid URL\",\n                date: \"{0} is not valid date\",\n                dateCompare: \"End date should be greater than or equal to the start date\",\n                captcha: \"The text you entered doesn't match the image.\"\n            },\n            rules: {\n                required: function(input) {\n                    var noNameCheckbox = !input.attr(\"name\") && !input.is(\":checked\"),\n                        name = input.attr(\"name\"),\n                        quote = !!name && name.indexOf(\"'\") > -1 ? '\\\"' : \"'\",\n                        namedCheckbox = input.attr(\"name\") && !this.element.find(\"input[name=\" + quote + input.attr(\"name\") + quote + \"]:checked\").length,\n                        checkbox = input.filter(\"[type=checkbox]\").length && (noNameCheckbox || namedCheckbox),\n                        radio = input.filter(\"[type=radio]\").length && !this.element.find(\"input[name=\"  + quote + input.attr(\"name\") + quote + \"]:checked\").length,\n                        value = input.val();\n\n                    return !(hasAttribute(input, \"required\") && (!value || value === \"\" || value.length === 0 || checkbox || radio));\n                },\n                pattern: function(input) {\n                    if (input.filter(\"[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]\").filter(\"[pattern]\").length && input.val() !== \"\") {\n                        return patternMatcher(input.val(), input.attr(\"pattern\"));\n                    }\n                    return true;\n                },\n                min: function(input) {\n                    if (input.filter(NUMBERINPUTSELECTOR + \",[\" + kendo.attr(\"type\") + \"=number]\").filter(\"[min]\").length && input.val() !== \"\") {\n                        var min = parseFloat(input.attr(\"min\")) || 0,\n                            val = kendo.parseFloat(input.val());\n\n                        return min <= val;\n                    }\n                    return true;\n                },\n                max: function(input) {\n                    if (input.filter(NUMBERINPUTSELECTOR + \",[\" + kendo.attr(\"type\") + \"=number]\").filter(\"[max]\").length && input.val() !== \"\") {\n                        var max = parseFloat(input.attr(\"max\")) || 0,\n                            val = kendo.parseFloat(input.val());\n\n                        return max >= val;\n                    }\n                    return true;\n                },\n                step: function(input) {\n                    if (input.filter(NUMBERINPUTSELECTOR + \",[\" + kendo.attr(\"type\") + \"=number]\").filter(\"[step]\").length && input.val() !== \"\") {\n                        var min = parseFloat(input.attr(\"min\")) || 0,\n                            step = parseFloat(input.attr(\"step\")) || 1,\n                            val = parseFloat(input.val()),\n                            decimals = numberOfDecimalDigits(step),\n                            raise;\n\n                        if (decimals) {\n                            raise = Math.pow(10, decimals);\n                            return ((Math.floor((val-min)*raise))%(step*raise)) / Math.pow(100, decimals) === 0;\n                        }\n                        return ((val-min)%step) === 0;\n                    }\n                    return true;\n                },\n                email: function(input) {\n                    return matcher(input, \"[type=email],[\" + kendo.attr(\"type\") + \"=email]\", emailRegExp);\n                },\n                url: function(input) {\n                    return matcher(input, \"[type=url],[\" + kendo.attr(\"type\") + \"=url]\", urlRegExp);\n                },\n                date: function(input) {\n                    if (input.filter(\"[type^=date],[\" + kendo.attr(\"type\") + \"=date]\").length && input.val() !== \"\") {\n                        return kendo.parseDate(input.val(), input.attr(kendo.attr(\"format\"))) !== null;\n                    }\n                    return true;\n                },\n                captcha: function (input) {\n                    if (input.filter(\"[\" + kendo.attr(\"role\") + \"=captcha]\").length) {\n                        var that = this,\n                            captcha = kendo.widgetInstance(input),\n                            isValidated = function(isValid){\n                                return typeof(isValid) !== 'undefined' && isValid !== null;\n                            };\n\n                        if (!input.data(\"captcha_validating\") && !isValidated(captcha.isValid()) && !!captcha.getCaptchaId()) {\n                            input.data(\"captcha_validating\", true);\n                            that._validating = true;\n                            captcha.validate().done(function(){\n                                that._validating = false;\n                                that._checkElement(input);\n                            }).fail(function(data){\n                                that._validating = false;\n                                if(data.error && data.error === \"handler_not_defined\") {\n                                    window.console.warn(\"Captcha's validationHandler is not defined! You should either define a proper validation endpoint or declare a callback function to ensure the required behavior.\");\n                                }\n                            });\n                        }\n\n                        if (isValidated(captcha.isValid())){\n                            input.removeData(\"captcha_validating\");\n                            return captcha.isValid();\n                        }\n                    }\n                    return true;\n                }\n            },\n            validateOnBlur: true,\n            validationSummary: false\n        },\n\n        _allowSubmit: function() {\n            return kendo.ui.validator.allowSubmit(this.element, this.errors());\n        },\n\n        _validateOnInit: function() {\n            return kendo.ui.validator.validateOnInit(this.element);\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            this.element.off(NS);\n\n            if (this.validationSummary) {\n                this.validationSummary.off(NS);\n                this.validationSummary = null;\n            }\n        },\n\n        value: function() {\n            if (!this._isValidated) {\n                return false;\n            }\n\n            return this.errors().length === 0;\n        },\n\n        _submit: function(e) {\n            if ((!this.validate() && !this._allowSubmit()) || this._validating) {\n                e.stopPropagation();\n                e.stopImmediatePropagation();\n                e.preventDefault();\n                return false;\n            }\n            return true;\n        },\n\n        _checkElement: function(element) {\n            var state = this.value();\n\n            this.validateInput(element);\n\n            if (this.value() !== state) {\n                this.trigger(CHANGE);\n            }\n        },\n\n        _attachEvents: function() {\n            var that = this;\n\n            if (that.element.is(FORM)) {\n                that.element.on(\"submit\" + NS, that._submit.bind(that));\n            }\n\n            if (that.options.validateOnBlur) {\n                if (!that.element.is(INPUTSELECTOR)) {\n                    that.element.on(BLUR + NS, that._inputSelector, function() {\n                        that._checkElement($(this));\n                    });\n\n                    that.element.on(\"click\" + NS, that._checkboxSelector, function() {\n                        that._checkElement($(this));\n                    });\n                } else {\n                    that.element.on(BLUR + NS, function() {\n                        that._checkElement(that.element);\n                    });\n\n                    if (that.element.is(CHECKBOXSELECTOR)) {\n                        that.element.on(\"click\" + NS, function() {\n                            that._checkElement(that.element);\n                        });\n                    }\n                }\n            }\n        },\n\n        validate: function() {\n            var inputs;\n            var idx;\n            var result = false;\n            var length;\n\n            var isValid = this.value();\n\n            this._errors = {};\n\n            if (!this.element.is(INPUTSELECTOR)) {\n                var invalid = false;\n\n                inputs = this.element.find(this._inputSelector);\n\n                for (idx = 0, length = inputs.length; idx < length; idx++) {\n                    if (!this.validateInput(inputs.eq(idx))) {\n                        invalid = true;\n                    }\n                }\n\n                result = !invalid;\n            } else {\n                result = this.validateInput(this.element);\n            }\n\n            if (this.options.validationSummary && !isValid) {\n                this.showValidationSummary();\n            }\n\n            this.trigger(VALIDATE, { valid: result, errors: this.errors() });\n\n            if (isValid !== result) {\n                this.trigger(CHANGE);\n            }\n\n            return result;\n        },\n\n        validateInput: function(input) {\n            input = $(input);\n\n\n            this._isValidated = true;\n\n            var that = this,\n                template = that._errorTemplate,\n                result = that._checkValidity(input),\n                valid = result.valid,\n                widgetInstance,\n                className = \".\" + INVALIDMSG,\n                fieldName = (input.attr(NAME) || \"\"),\n                lbl = that._findMessageContainer(fieldName).add(input.next(className).filter(function() {\n                    var element = $(this);\n                    if (element.filter(\"[\" + kendo.attr(\"for\") + \"]\").length) {\n                        return element.attr(kendo.attr(\"for\")) === fieldName;\n                    }\n\n                    return true;\n\n                })).addClass(\"k-hidden\"),\n                messageText = !valid ? that._extractMessage(input, result.key) : \"\",\n                messageLabel = !valid ? parseHtml(template({ message: decode(messageText), field: fieldName })) : \"\",\n                wasValid = !input.attr(ARIAINVALID),\n                isInputInner = input.is(INPUTINNER),\n                inputWrapper = input.parent(INPUTWRAPPER);\n\n            input.removeAttr(ARIAINVALID);\n\n            if (!valid && !input.data(\"captcha_validating\")) {\n                that._errors[fieldName] = messageText;\n                var lblId = lbl.attr('id');\n\n                that._decorateMessageContainer(messageLabel, fieldName);\n\n\n                if (lblId) {\n                    messageLabel.attr('id', lblId);\n                }\n\n                if (lbl.length !== 0) {\n                    lbl.replaceWith(messageLabel);\n                } else {\n                    widgetInstance = kendo.widgetInstance(input);\n                    var parentElement = input.parent().get(0);\n                    var nextElement = input.next().get(0);\n                    var prevElement = input.prev().get(0);\n\n                    // Get the instance of the RadioGroup which is not initialized on the input element\n                    if(!widgetInstance && input.is(\"[type=radio]\")) {\n                        widgetInstance = kendo.widgetInstance(input.closest(\".k-radio-list\"));\n                    }\n\n                    // Get the instance of the CheckBoxGroup which is not initialized on the input element\n                    if(!widgetInstance && input.is(\"[type=checkbox]\")) {\n                        widgetInstance = kendo.widgetInstance(input.closest(\".k-checkbox-list\"));\n                    }\n\n                    if (widgetInstance && widgetInstance.wrapper) {\n                        messageLabel.insertAfter(widgetInstance.wrapper);\n                    } else if (parentElement && parentElement.nodeName === \"LABEL\") {\n                        // Input inside label\n                        messageLabel.insertAfter(parentElement);\n                    } else if (nextElement && isLabelFor(nextElement, input[0])) {\n                        // Input before label\n                        messageLabel.insertAfter(nextElement);\n                    } else if (prevElement && isLabelFor(prevElement, input[0])) {\n                        // Input after label\n                        messageLabel.insertAfter(input);\n                    } else if (isInputInner && inputWrapper.length) {\n                        // Input after input wrapper\n                        messageLabel.insertAfter(inputWrapper);\n                    } else {\n                        messageLabel.insertAfter(input);\n                    }\n                }\n\n                messageLabel.removeClass(\"k-hidden\");\n\n                input.attr(ARIAINVALID, true);\n            } else {\n                delete that._errors[fieldName];\n            }\n\n            if (wasValid !== valid) {\n                this.trigger(VALIDATE_INPUT, { valid: valid, input: input, error: messageText, field: fieldName });\n            }\n\n            widgetInstance = kendo.widgetInstance(input);\n            if (!widgetInstance || !(widgetInstance._inputWrapper || widgetInstance.wrapper)) {\n                input.toggleClass(INVALIDINPUT, !valid);\n                input.toggleClass(VALIDINPUT, valid);\n            }\n\n            if (widgetInstance) {\n                var widget = kendo.widgetInstance(input);\n                var inputWrap = widget._inputWrapper || widget.wrapper;\n                var inputLabel = widget._inputLabel;\n\n                if (inputWrap) {\n                    inputWrap.toggleClass(INVALIDINPUT, !valid);\n                    inputWrap.toggleClass(VALIDINPUT, valid);\n                }\n                if (inputLabel) {\n                    inputLabel.toggleClass(INVALIDLABEL, !valid);\n                }\n            }\n\n            if (wasValid !== valid) {\n                var errorId = messageLabel ? messageLabel.attr(\"id\") : lbl.attr(\"id\");\n\n                that._associateMessageContainer(input, errorId);\n\n                if (this.options.validationSummary && this.options.validateOnBlur) {\n                    this.showValidationSummary();\n                }\n            }\n\n            return valid;\n        },\n\n        hideMessages: function() {\n            var that = this,\n                className = \".\" + INVALIDMSG,\n                element = that.element;\n\n            that._disassociateMessageContainers();\n\n            if (!element.is(INPUTSELECTOR)) {\n                element.find(className).addClass(\"k-hidden\");\n            } else {\n                element.next(className).addClass(\"k-hidden\");\n            }\n        },\n\n        reset: function() {\n            var that = this,\n                inputs = that.element.find(\".\" + INVALIDINPUT),\n                labels = that.element.find(\".\" + INVALIDLABEL);\n\n            that._errors = [];\n\n            that.hideMessages();\n\n            that.hideValidationSummary();\n\n            inputs.removeAttr(ARIAINVALID);\n            inputs.removeClass(INVALIDINPUT);\n            labels.removeClass(INVALIDLABEL);\n        },\n\n        _findMessageContainer: function(fieldName) {\n            var locators = kendo.ui.validator.messageLocators,\n                name,\n                containers = $();\n\n            for (var idx = 0, length = this.element.length; idx < length; idx++) {\n                containers = containers.add(searchForMessageContainer(this.element[idx].getElementsByTagName(\"*\"), fieldName));\n            }\n\n            for (name in locators) {\n                containers = containers.add(locators[name].locate(this.element, fieldName));\n            }\n\n            return containers;\n        },\n\n        _decorateMessageContainer: function(container, fieldName) {\n            var locators = kendo.ui.validator.messageLocators,\n                name;\n\n            container.addClass(INVALIDMSG)\n                .attr(kendo.attr(\"for\"), fieldName || \"\");\n\n            if (!container.attr(\"id\")) {\n                container.attr(\"id\", fieldName + \"-error\");\n            }\n\n            for (name in locators) {\n                locators[name].decorate(container, fieldName);\n            }\n        },\n\n        _extractMessage: function(input, ruleKey) {\n            var that = this,\n                customMessage = that.options.messages[ruleKey],\n                fieldName = input.attr(NAME),\n                nonDefaultMessage;\n\n            if (!kendo.ui.Validator.prototype.options.messages[ruleKey]) {\n                 nonDefaultMessage = kendo.isFunction(customMessage) ? customMessage(input) : customMessage;\n            }\n\n            customMessage = kendo.isFunction(customMessage) ? customMessage(input) : customMessage;\n\n            return kendo.format(input.attr(kendo.attr(ruleKey + \"-msg\")) || input.attr(\"validationMessage\") || nonDefaultMessage || customMessage || input.attr(\"title\") || \"\",\n                fieldName,\n                input.attr(ruleKey) || input.attr(kendo.attr(ruleKey)));\n        },\n\n        _checkValidity: function(input) {\n            var rules = this.options.rules,\n                rule;\n\n            for (rule in rules) {\n                if (!rules[rule].call(this, input)) {\n                    return { valid: false, key: rule };\n                }\n            }\n\n            return { valid: true };\n        },\n\n        errors: function() {\n            var results = [],\n                errors = this._errors,\n                error;\n\n            for (error in errors) {\n                results.push(errors[error]);\n            }\n            return results;\n        },\n\n        setOptions: function(options) {\n            if (options.validationSummary) {\n                this.hideValidationSummary();\n            }\n\n            kendo.deepExtend(this.options, options);\n\n            this.destroy();\n\n            this.init(this.element, this.options);\n\n            this._setEvents(this.options);\n        },\n\n        _getInputNames: function() {\n            var that = this,\n                inputs = that.element.find(that._inputSelector),\n                sorted = [];\n\n            for (var idx = 0, length = inputs.length; idx < length; idx++) {\n                var input = $(inputs[idx]);\n\n                if (hasAttribute(input, NAME)) {\n                    // Add current name if:\n                    // - not present so far;\n                    // - present but not part of CheckBoxGroup or RadioGroup.\n                    if(sorted.indexOf(input.attr(NAME)) === -1 ||\n                        (input.closest(\".k-checkbox-list\").length === 0 &&\n                        input.closest(\".k-radio-list\").length === 0)) {\n                            sorted.push(input.attr(NAME));\n                    }\n                }\n            }\n\n            return sorted;\n        },\n\n        _associateMessageContainer: function(input, errorId) {\n            var nextFocusable = kendo.getWidgetFocusableElement(input);\n\n            if (!nextFocusable || !errorId) {\n                return;\n            }\n\n            kendo.toggleAttribute(nextFocusable, ARIADESCRIBEDBY, errorId);\n        },\n\n        _disassociateMessageContainers: function() {\n            var that = this,\n                inputs = that.element.find(\".\" + INVALIDINPUT).addBack(),\n                input, errorId;\n\n            for (var i = 0; i < inputs.length; i += 1) {\n                input = $(inputs[i]);\n\n                if (input.is(\"input\")) {\n                    errorId = that._findMessageContainer(input.attr(NAME))\n                        .add(input.next(\".\" + INVALIDMSG))\n                        .attr(\"id\");\n\n                    that._associateMessageContainer(input, errorId);\n                }\n            }\n        },\n\n        _errorsByName: function() {\n            var that = this,\n                inputNames = that._getInputNames(),\n                sorted = [];\n\n            for (var i = 0; i < inputNames.length; i += 1) {\n                var name = inputNames[i];\n\n                if (that._errors[name]) {\n                    sorted.push({\n                        field: name,\n                        message: that._errors[name]\n                    });\n                }\n            }\n\n            return sorted;\n        },\n\n        _renderSummary: function() {\n            var that = this,\n                options = this.options.validationSummary,\n                element = this.element,\n                prevElement = element.prev(),\n                container;\n\n            if (options.container) {\n                container = $(options.container);\n            } else if (prevElement && prevElement.hasClass(VALIDATIONSUMMARY)) {\n                container = prevElement;\n            } else {\n                container = $(\"<div />\").insertBefore(that.element);\n            }\n\n            container.addClass([VALIDATIONSUMMARY, MESSAGEBOX].join(\" \"));\n            container.attr(\"role\", \"alert\");\n\n            container.on(\"click\" + NS, that._summaryClick.bind(that));\n\n            return container;\n        },\n\n        _summaryClick: function(e) {\n            e.preventDefault();\n\n            var that = this,\n                link = $(e.target),\n                target = that.element.find(\"[name='\" + link.data(\"field\") +  \"']\"),\n                nextFocusable;\n\n            if (!target.length) {\n                return;\n            }\n\n            nextFocusable = kendo.getWidgetFocusableElement(target);\n\n            if (nextFocusable) {\n                nextFocusable.trigger(\"focus\");\n            }\n        },\n\n        showValidationSummary: function() {\n            var that = this,\n                summary = that.validationSummary,\n                errors = that._errorsByName(),\n                errorsList;\n\n            if (!summary) {\n                summary = that.validationSummary = that._renderSummary();\n            }\n\n            errorsList = parseHtml(that._summaryTemplate({\n                errors: errors\n            }));\n\n            summary.html(errorsList);\n\n            summary.toggleClass(\"k-hidden\", !errors.length);\n        },\n\n        hideValidationSummary: function() {\n            var that = this,\n                summary = that.validationSummary;\n\n            if (!summary) {\n                return;\n            }\n\n            summary.addClass(\"k-hidden\");\n        }\n    });\n\n    kendo.ui.plugin(Validator);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)();  });\n\n(function(f, define){\n    define('kendo.draganddrop',[ \"kendo.core\", \"kendo.userevents\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"draganddrop\",\n    name: \"Drag & drop\",\n    category: \"framework\",\n    description: \"Drag & drop functionality for any DOM element.\",\n    depends: [ \"core\", \"userevents\" ]\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        support = kendo.support,\n        document = window.document,\n        $window = $(window),\n        Class = kendo.Class,\n        Widget = kendo.ui.Widget,\n        Observable = kendo.Observable,\n        UserEvents = kendo.UserEvents,\n        extend = $.extend,\n        getOffset = kendo.getOffset,\n        draggables = {},\n        dropTargets = {},\n        dropAreas = {},\n        lastDropTarget,\n        elementUnderCursor = kendo.elementUnderCursor,\n        KEYUP = \"keyup\",\n        CHANGE = \"change\",\n\n        // Draggable events\n        DRAGSTART = \"dragstart\",\n        HOLD = \"hold\",\n        DRAG = \"drag\",\n        DRAGEND = \"dragend\",\n        DRAGCANCEL = \"dragcancel\",\n        HINTDESTROYED = \"hintDestroyed\",\n\n        // DropTarget events\n        DRAGENTER = \"dragenter\",\n        DRAGLEAVE = \"dragleave\",\n        DROP = \"drop\";\n\n    function contains(parent, child) {\n        try {\n            return $.contains(parent, child) || parent == child;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    function numericCssPropery(element, property) {\n        return parseInt(element.css(property), 10) || 0;\n    }\n\n    function within(value, range) {\n        return Math.min(Math.max(value, range.min), range.max);\n    }\n\n    function containerBoundaries(container, element) {\n        var offset = getOffset(container),\n            outerWidth = kendo._outerWidth,\n            outerHeight = kendo._outerHeight,\n            minX = offset.left + numericCssPropery(container, \"borderLeftWidth\") + numericCssPropery(container, \"paddingLeft\"),\n            minY = offset.top + numericCssPropery(container, \"borderTopWidth\") + numericCssPropery(container, \"paddingTop\"),\n            maxX = minX + container.width() - outerWidth(element, true),\n            maxY = minY + container.height() - outerHeight(element, true);\n\n        return {\n            x: { min: minX, max: maxX },\n            y: { min: minY, max: maxY }\n        };\n    }\n\n    function checkTarget(target, targets, areas) {\n        var theTarget, theFilter, i = 0,\n            targetLen = targets && targets.length,\n            areaLen = areas && areas.length;\n\n        while (target && target.parentNode) {\n            for (i = 0; i < targetLen; i ++) {\n                theTarget = targets[i];\n                if (theTarget.element[0] === target) {\n                    return { target: theTarget, targetElement: target };\n                }\n            }\n\n            for (i = 0; i < areaLen; i ++) {\n                theFilter = areas[i];\n                if ($.contains(theFilter.element[0], target) && support.matchesSelector.call(target, theFilter.options.filter)) {\n                    return { target: theFilter, targetElement: target };\n                }\n            }\n\n            target = target.parentNode;\n        }\n\n        return undefined;\n    }\n\n    var TapCapture = Observable.extend({\n        init: function(element, options) {\n            var that = this,\n                domElement = element[0];\n\n            that.capture = false;\n\n            if (domElement.addEventListener) {\n                $.each(kendo.eventMap.down.split(\" \"), function() {\n                    domElement.addEventListener(this, that._press.bind(that), true);\n                });\n                $.each(kendo.eventMap.up.split(\" \"), function() {\n                    domElement.addEventListener(this, that._release.bind(that), true);\n                });\n            } else {\n                $.each(kendo.eventMap.down.split(\" \"), function() {\n                    domElement.attachEvent(this, that._press.bind(that));\n                });\n                $.each(kendo.eventMap.up.split(\" \"), function() {\n                    domElement.attachEvent(this, that._release.bind(that));\n                });\n            }\n\n            Observable.fn.init.call(that);\n\n            that.bind([\"press\", \"release\"], options || {});\n        },\n\n        captureNext: function() {\n            this.capture = true;\n        },\n\n        cancelCapture: function() {\n            this.capture = false;\n        },\n\n        _press: function(e) {\n            var that = this;\n            that.trigger(\"press\");\n            if (that.capture) {\n                e.preventDefault();\n            }\n        },\n\n        _release: function(e) {\n            var that = this;\n            that.trigger(\"release\");\n\n            if (that.capture) {\n                e.preventDefault();\n                that.cancelCapture();\n            }\n        }\n    });\n\n    var PaneDimension = Observable.extend({\n        init: function(options) {\n            var that = this;\n            Observable.fn.init.call(that);\n\n            that.forcedEnabled = false;\n\n            $.extend(that, options);\n\n            that.scale = 1;\n\n            if (that.horizontal) {\n                that.measure = \"offsetWidth\";\n                that.scrollSize = \"scrollWidth\";\n                that.axis = \"x\";\n            } else {\n                that.measure = \"offsetHeight\";\n                that.scrollSize = \"scrollHeight\";\n                that.axis = \"y\";\n            }\n        },\n\n        makeVirtual: function() {\n            $.extend(this, {\n                virtual: true,\n                forcedEnabled: true,\n                _virtualMin: 0,\n                _virtualMax: 0\n            });\n        },\n\n        virtualSize: function(min, max) {\n            if (this._virtualMin !== min || this._virtualMax !== max) {\n                this._virtualMin = min;\n                this._virtualMax = max;\n                this.update();\n            }\n        },\n\n        outOfBounds: function(offset) {\n            return offset > this.max || offset < this.min;\n        },\n\n        forceEnabled: function() {\n            this.forcedEnabled = true;\n        },\n\n        getSize: function() {\n            return this.container[0][this.measure];\n        },\n\n        getTotal: function() {\n            return this.element[0][this.scrollSize];\n        },\n\n        rescale: function(scale) {\n            this.scale = scale;\n        },\n\n        update: function(silent) {\n            var that = this,\n                total = that.virtual ? that._virtualMax : that.getTotal(),\n                scaledTotal = total * that.scale,\n                size = that.getSize();\n\n            if (total === 0 && !that.forcedEnabled) {\n                return; // we are not visible.\n            }\n\n            that.max = that.virtual ? -that._virtualMin : 0;\n            that.size = size;\n            that.total = scaledTotal;\n            that.min = Math.min(that.max, size - scaledTotal);\n            that.minScale = size / total;\n            that.centerOffset = (scaledTotal - size) / 2;\n\n            that.enabled = that.forcedEnabled || (scaledTotal > size);\n\n            if (!silent) {\n                that.trigger(CHANGE, that);\n            }\n        }\n    });\n\n    var PaneDimensions = Observable.extend({\n        init: function(options) {\n            var that = this;\n\n            Observable.fn.init.call(that);\n\n            that.x = new PaneDimension(extend({horizontal: true}, options));\n            that.y = new PaneDimension(extend({horizontal: false}, options));\n            that.container = options.container;\n            that.forcedMinScale = options.minScale;\n            that.maxScale = options.maxScale || 100;\n\n            that.bind(CHANGE, options);\n        },\n\n        rescale: function(newScale) {\n            this.x.rescale(newScale);\n            this.y.rescale(newScale);\n            this.refresh();\n        },\n\n        centerCoordinates: function() {\n            return { x: Math.min(0, -this.x.centerOffset), y: Math.min(0, -this.y.centerOffset) };\n        },\n\n        refresh: function() {\n            var that = this;\n            that.x.update();\n            that.y.update();\n            that.enabled = that.x.enabled || that.y.enabled;\n            that.minScale = that.forcedMinScale || Math.min(that.x.minScale, that.y.minScale);\n            that.fitScale = Math.max(that.x.minScale, that.y.minScale);\n            that.trigger(CHANGE);\n        }\n    });\n\n    var PaneAxis = Observable.extend({\n        init: function(options) {\n            var that = this;\n            extend(that, options);\n            Observable.fn.init.call(that);\n        },\n\n        outOfBounds: function() {\n            return this.dimension.outOfBounds(this.movable[this.axis]);\n        },\n\n        dragMove: function(delta) {\n            var that = this,\n                dimension = that.dimension,\n                axis = that.axis,\n                movable = that.movable,\n                position = movable[axis] + delta;\n\n            if (!dimension.enabled) {\n                return;\n            }\n\n            if ((position < dimension.min && delta < 0) || (position > dimension.max && delta > 0)) {\n                delta *= that.resistance;\n            }\n\n            movable.translateAxis(axis, delta);\n            that.trigger(CHANGE, that);\n        }\n    });\n\n    var Pane = Class.extend({\n\n        init: function(options) {\n            var that = this,\n                x,\n                y,\n                resistance,\n                movable;\n\n            extend(that, {elastic: true}, options);\n\n            resistance = that.elastic ? 0.5 : 0;\n            movable = that.movable;\n\n            that.x = x = new PaneAxis({\n                axis: \"x\",\n                dimension: that.dimensions.x,\n                resistance: resistance,\n                movable: movable\n            });\n\n            that.y = y = new PaneAxis({\n                axis: \"y\",\n                dimension: that.dimensions.y,\n                resistance: resistance,\n                movable: movable\n            });\n\n            that.userEvents.bind([\"press\", \"move\", \"end\", \"gesturestart\", \"gesturechange\"], {\n                gesturestart: function(e) {\n                    that.gesture = e;\n                    that.offset = that.dimensions.container.offset();\n                },\n\n                press: function(e) {\n                    if ($(e.event.target).closest(\"a\").is(\"[data-navigate-on-press=true]\")) {\n                        e.sender.cancel();\n                    }\n                },\n\n                gesturechange: function(e) {\n                    var previousGesture = that.gesture,\n                        previousCenter = previousGesture.center,\n\n                        center = e.center,\n\n                        scaleDelta = e.distance / previousGesture.distance,\n\n                        minScale = that.dimensions.minScale,\n                        maxScale = that.dimensions.maxScale,\n                        coordinates;\n\n                    if (movable.scale <= minScale && scaleDelta < 1) {\n                        // Resist shrinking. Instead of shrinking from 1 to 0.5, it will shrink to 0.5 + (1 /* minScale */ - 0.5) * 0.8 = 0.9;\n                        scaleDelta += (1 - scaleDelta) * 0.8;\n                    }\n\n                    if (movable.scale * scaleDelta >= maxScale) {\n                        scaleDelta = maxScale / movable.scale;\n                    }\n\n                    var offsetX = movable.x + that.offset.left,\n                        offsetY = movable.y + that.offset.top;\n\n                    coordinates = {\n                        x: (offsetX - previousCenter.x) * scaleDelta + center.x - offsetX,\n                        y: (offsetY - previousCenter.y) * scaleDelta + center.y - offsetY\n                    };\n\n                    movable.scaleWith(scaleDelta);\n\n                    x.dragMove(coordinates.x);\n                    y.dragMove(coordinates.y);\n\n                    that.dimensions.rescale(movable.scale);\n                    that.gesture = e;\n                    e.preventDefault();\n                },\n\n                move: function(e) {\n                    if (e.event.target.tagName.match(/textarea|input/i)) {\n                        return;\n                    }\n\n                    if (x.dimension.enabled || y.dimension.enabled) {\n                        x.dragMove(e.x.delta);\n                        y.dragMove(e.y.delta);\n                        e.preventDefault();\n                    } else {\n                        e.touch.skip();\n                    }\n                },\n\n                end: function(e) {\n                    e.preventDefault();\n                }\n            });\n        }\n    });\n\n    var TRANSFORM_STYLE = support.transitions.prefix + \"Transform\",\n        translate;\n\n\n    if (support.hasHW3D) {\n        translate = function(x, y, scale) {\n            return \"translate3d(\" + x + \"px,\" + y +\"px,0) scale(\" + scale + \")\";\n        };\n    } else {\n        translate = function(x, y, scale) {\n            return \"translate(\" + x + \"px,\" + y +\"px) scale(\" + scale + \")\";\n        };\n    }\n\n    var Movable = Observable.extend({\n        init: function(element) {\n            var that = this;\n\n            Observable.fn.init.call(that);\n\n            that.element = $(element);\n            that.element[0].style.webkitTransformOrigin = \"left top\";\n            that.x = 0;\n            that.y = 0;\n            that.scale = 1;\n            that._saveCoordinates(translate(that.x, that.y, that.scale));\n        },\n\n        translateAxis: function(axis, by) {\n            this[axis] += by;\n            this.refresh();\n        },\n\n        scaleTo: function(scale) {\n            this.scale = scale;\n            this.refresh();\n        },\n\n        scaleWith: function(scaleDelta) {\n            this.scale *= scaleDelta;\n            this.refresh();\n        },\n\n        translate: function(coordinates) {\n            this.x += coordinates.x;\n            this.y += coordinates.y;\n            this.refresh();\n        },\n\n        moveAxis: function(axis, value) {\n            this[axis] = value;\n            this.refresh();\n        },\n\n        moveTo: function(coordinates) {\n            extend(this, coordinates);\n            this.refresh();\n        },\n\n        refresh: function() {\n            var that = this,\n                x = that.x,\n                y = that.y,\n                newCoordinates;\n\n            if (that.round) {\n                x = Math.round(x);\n                y = Math.round(y);\n            }\n\n            newCoordinates = translate(x, y, that.scale);\n\n            if (newCoordinates != that.coordinates) {\n                if (kendo.support.browser.msie && kendo.support.browser.version < 10) {\n                    that.element[0].style.position = \"absolute\";\n                    that.element[0].style.left = that.x + \"px\";\n                    that.element[0].style.top = that.y + \"px\";\n\n                } else {\n                    that.element[0].style[TRANSFORM_STYLE] = newCoordinates;\n                }\n                that._saveCoordinates(newCoordinates);\n                that.trigger(CHANGE);\n            }\n        },\n\n        _saveCoordinates: function(coordinates) {\n            this.coordinates = coordinates;\n        }\n    });\n\n    function destroyDroppable(collection, widget) {\n        var groupName = widget.options.group,\n        droppables = collection[groupName],\n        i;\n\n        Widget.fn.destroy.call(widget);\n\n        if (droppables.length > 1) {\n            for (i = 0; i < droppables.length; i++) {\n                if (droppables[i] == widget) {\n                    droppables.splice(i, 1);\n                    break;\n                }\n            }\n        } else {\n            droppables.length = 0; // WTF, porting this from the previous destroyGroup\n            delete collection[groupName];\n        }\n    }\n\n    var DropTarget = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            var group = that.options.group;\n\n            if (!(group in dropTargets)) {\n                dropTargets[group] = [ that ];\n            } else {\n                dropTargets[group].push( that );\n            }\n        },\n\n        events: [\n            DRAGENTER,\n            DRAGLEAVE,\n            DROP\n        ],\n\n        options: {\n            name: \"DropTarget\",\n            group: \"default\"\n        },\n\n        destroy: function() {\n            destroyDroppable(dropTargets, this);\n        },\n\n        _trigger: function(eventName, e) {\n            var that = this,\n                draggable = draggables[that.options.group];\n\n            if (draggable) {\n                return that.trigger(eventName, extend({}, e.event, {\n                           draggable: draggable,\n                           dropTarget: e.dropTarget\n                       }));\n            }\n        },\n\n        _over: function(e) {\n            this._trigger(DRAGENTER, e);\n        },\n\n        _out: function(e) {\n            this._trigger(DRAGLEAVE, e);\n        },\n\n        _drop: function(e) {\n            var that = this,\n                draggable = draggables[that.options.group];\n\n            if (draggable) {\n                draggable.dropped = !that._trigger(DROP, e);\n            }\n        }\n    });\n\n    DropTarget.destroyGroup = function(groupName) {\n        var group = dropTargets[groupName] || dropAreas[groupName],\n            i;\n\n        if (group) {\n            for (i = 0; i < group.length; i++) {\n                Widget.fn.destroy.call(group[i]);\n            }\n\n            group.length = 0;\n            delete dropTargets[groupName];\n            delete dropAreas[groupName];\n        }\n    };\n\n    DropTarget._cache = dropTargets;\n\n    var DropTargetArea = DropTarget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            var group = that.options.group;\n\n            if (!(group in dropAreas)) {\n                dropAreas[group] = [ that ];\n            } else {\n                dropAreas[group].push( that );\n            }\n        },\n\n        destroy: function() {\n            destroyDroppable(dropAreas, this);\n        },\n\n        options: {\n            name: \"DropTargetArea\",\n            group: \"default\",\n            filter: null\n        }\n    });\n\n    var Draggable = Widget.extend({\n        init: function (element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._activated = false;\n\n            that.userEvents = new UserEvents(that.element, {\n                global: true,\n                allowSelection: true,\n                filter: that.options.filter,\n                threshold: that.options.distance,\n                start: that._start.bind(that),\n                hold: that._hold.bind(that),\n                move: that._drag.bind(that),\n                end: that._end.bind(that),\n                cancel: that._cancel.bind(that),\n                select: that._select.bind(that)\n            });\n\n            if (kendo.support.touch) {\n                that.element.find(that.options.filter).css('touch-action', 'none');\n            }\n\n            that._afterEndHandler = that._afterEnd.bind(that);\n            that._captureEscape = that._captureEscape.bind(that);\n        },\n\n        events: [\n            HOLD,\n            DRAGSTART,\n            DRAG,\n            DRAGEND,\n            DRAGCANCEL,\n            HINTDESTROYED\n        ],\n\n        options: {\n            name: \"Draggable\",\n            distance: ( kendo.support.touch ? 0 : 5),\n            group: \"default\",\n            cursorOffset: null,\n            axis: null,\n            container: null,\n            filter: null,\n            ignore: null,\n            holdToDrag: false,\n            autoScroll: false,\n            dropped: false\n        },\n\n        cancelHold: function() {\n            this._activated = false;\n        },\n\n        _captureEscape: function(e) {\n            var that = this;\n\n            if (e.keyCode === kendo.keys.ESC) {\n                that._trigger(DRAGCANCEL, { event: e });\n                that.userEvents.cancel();\n            }\n        },\n\n        _updateHint: function(e) {\n            var that = this,\n                coordinates,\n                options = that.options,\n                boundaries = that.boundaries,\n                axis = options.axis,\n                cursorOffset = that.options.cursorOffset;\n\n            if (cursorOffset) {\n               coordinates = { left: e.x.location + cursorOffset.left, top: e.y.location + cursorOffset.top };\n            } else {\n                that.hintOffset.left += e.x.delta;\n                that.hintOffset.top += e.y.delta;\n                coordinates = $.extend({}, that.hintOffset);\n            }\n\n            if (boundaries) {\n                coordinates.top = within(coordinates.top, boundaries.y);\n                coordinates.left = within(coordinates.left, boundaries.x);\n            }\n\n            if (axis === \"x\") {\n                delete coordinates.top;\n            } else if (axis === \"y\") {\n                delete coordinates.left;\n            }\n\n            that.hint.css(coordinates);\n        },\n\n        _shouldIgnoreTarget: function(target) {\n            var ignoreSelector = this.options.ignore;\n            return ignoreSelector && $(target).is(ignoreSelector);\n        },\n\n        _select: function(e) {\n            if (!this._shouldIgnoreTarget(e.event.target)) {\n                e.preventDefault();\n            }\n        },\n\n        _start: function(e) {\n            var that = this,\n                options = that.options,\n                container = options.container ? $(options.container): null,\n                hint = options.hint;\n\n            if (this._shouldIgnoreTarget(e.touch.initialTouch) || (options.holdToDrag && !that._activated)) {\n                that.userEvents.cancel();\n                return;\n            }\n\n            that.currentTarget = e.target;\n            that.currentTargetOffset = getOffset(that.currentTarget);\n\n            if (hint) {\n                if (that.hint) {\n                    that.hint.stop(true, true).remove();\n                }\n\n                that.hint = kendo.isFunction(hint) ? $(hint.call(that, that.currentTarget)) : hint;\n\n                var offset = getOffset(that.currentTarget);\n                that.hintOffset = offset;\n\n                that.hint.css( {\n                    position: \"absolute\",\n                    zIndex: 20000, // the Window's z-index is 10000 and can be raised because of z-stacking\n                    left: offset.left,\n                    top: offset.top\n                })\n                .appendTo(document.body);\n\n                that.angular(\"compile\", function(){\n                    that.hint.removeAttr(\"ng-repeat\");\n                    var scopeTarget = $(e.target);\n\n                    while (!scopeTarget.data(\"$$kendoScope\") && scopeTarget.length) {\n                        scopeTarget = scopeTarget.parent();\n                    }\n\n                    return {\n                        elements: that.hint.get(),\n                        scopeFrom: scopeTarget.data(\"$$kendoScope\")\n                    };\n                });\n            }\n\n            draggables[options.group] = that;\n\n            that.dropped = false;\n\n            if (container) {\n                that.boundaries = containerBoundaries(container, that.hint);\n            }\n\n            $(document).on(KEYUP, that._captureEscape);\n\n            if (that._trigger(DRAGSTART, e)) {\n                that.userEvents.cancel();\n                that._afterEnd();\n            }\n\n            that.userEvents.capture();\n        },\n\n        _hold: function(e) {\n            this.currentTarget = e.target;\n\n            if (this._trigger(HOLD, e)) {\n                this.userEvents.cancel();\n            } else {\n                this._activated = true;\n            }\n        },\n\n        _drag: function(e) {\n            e.preventDefault();\n\n            var cursorElement = this._elementUnderCursor(e);\n\n            if (this.options.autoScroll && this._cursorElement !== cursorElement) {\n                this._scrollableParent = findScrollableParent(cursorElement);\n                this._cursorElement = cursorElement;\n            }\n\n            this._lastEvent = e;\n            this._processMovement(e, cursorElement);\n\n            if (this.options.autoScroll) {\n                // chrome seems to trigger mousemove when mouse is moved outside of the window (over the Chrome), too.\n                if (this._scrollableParent[0]) {\n                    var velocity = autoScrollVelocity(e.x.location, e.y.location, scrollableViewPort(this._scrollableParent));\n\n\n                    this._scrollCompenstation = $.extend({}, this.hintOffset);\n                    this._scrollVelocity = velocity;\n\n                    if (velocity.y === 0 && velocity.x === 0) {\n                        clearInterval(this._scrollInterval);\n                        this._scrollInterval = null;\n                    } else if(!this._scrollInterval) {\n                        this._scrollInterval = setInterval(this._autoScroll.bind(this), 50);\n                    }\n                }\n            }\n\n            if (this.hint) {\n                this._updateHint(e);\n            }\n        },\n\n        _processMovement: function(e, cursorElement) {\n            this._withDropTarget(cursorElement, function(target, targetElement) {\n                if (!target) {\n                    if (lastDropTarget) {\n                        lastDropTarget._trigger(DRAGLEAVE, extend(e, { dropTarget: $(lastDropTarget.targetElement) }));\n                        lastDropTarget = null;\n                    }\n                    return;\n                }\n\n                if (lastDropTarget) {\n                    if (targetElement === lastDropTarget.targetElement) {\n                        return;\n                    }\n\n                    lastDropTarget._trigger(DRAGLEAVE, extend(e, { dropTarget: $(lastDropTarget.targetElement) }));\n                }\n\n                target._trigger(DRAGENTER, extend(e, { dropTarget: $(targetElement) }));\n                lastDropTarget = extend(target, { targetElement: targetElement });\n            });\n\n            this._trigger(DRAG, extend(e, { dropTarget: lastDropTarget, elementUnderCursor: cursorElement }));\n        },\n\n        _autoScroll: function() {\n            var parent = this._scrollableParent[0],\n                velocity = this._scrollVelocity,\n                compensation = this._scrollCompenstation;\n\n            if (!parent) {\n                return;\n            }\n\n            var cursorElement = this._elementUnderCursor(this._lastEvent);\n            this._processMovement(this._lastEvent, cursorElement);\n\n            var yIsScrollable, xIsScrollable;\n\n            var isRootNode = parent === scrollableRoot()[0];\n\n            if (isRootNode) {\n                yIsScrollable = document.body.scrollHeight > $window.height();\n                xIsScrollable = document.body.scrollWidth > $window.width();\n            } else {\n                yIsScrollable = parent.offsetHeight <= parent.scrollHeight;\n                xIsScrollable = parent.offsetWidth <= parent.scrollWidth;\n            }\n\n            var yDelta = parent.scrollTop + velocity.y;\n            var yInBounds = yIsScrollable && yDelta > 0 && yDelta < parent.scrollHeight;\n\n            var xDelta = parent.scrollLeft + velocity.x;\n            var xInBounds = xIsScrollable && xDelta > 0 && xDelta < parent.scrollWidth;\n\n            if (yInBounds) {\n                parent.scrollTop += velocity.y;\n            } else if (yIsScrollable && yDelta < 0) {\n                parent.scrollTop = 0;\n            }\n\n            if (xInBounds) {\n                parent.scrollLeft += velocity.x;\n            } else if (xIsScrollable && xDelta < 0) {\n                parent.scrollLeft = 0;\n            }\n\n            if (this.hint && isRootNode && (xInBounds || yInBounds)) {\n                if (yInBounds) {\n                    compensation.top += velocity.y;\n                }\n\n                if (xInBounds) {\n                    compensation.left += velocity.x;\n                }\n\n                this.hint.css(compensation);\n            }\n        },\n\n        _end: function(e) {\n            this._withDropTarget(this._elementUnderCursor(e), function(target, targetElement) {\n                if (target) {\n                    target._drop(extend({}, e, { dropTarget: $(targetElement) }));\n                    lastDropTarget = null;\n                }\n            });\n\n            clearInterval(this._scrollInterval);\n            this._scrollInterval = null;\n            this._cancel(this._trigger(DRAGEND, e));\n        },\n\n        _cancel: function(isDefaultPrevented) {\n            var that = this;\n\n            that._scrollableParent = null;\n            this._cursorElement = null;\n            clearInterval(this._scrollInterval);\n            that._activated = false;\n\n            if (that.hint && !that.dropped) {\n                setTimeout(function() {\n                    that.hint.stop(true, true);\n\n                    if (isDefaultPrevented) {\n                        that._afterEndHandler();\n                    } else {\n                        that.hint.animate(that.currentTargetOffset, \"fast\", that._afterEndHandler);\n                    }\n                }, 0);\n\n            } else {\n                that._afterEnd();\n            }\n        },\n\n        _trigger: function(eventName, e) {\n            var that = this;\n\n            return that.trigger(\n                eventName, extend(\n                {},\n                e.event,\n                {\n                    x: e.x,\n                    y: e.y,\n                    currentTarget: that.currentTarget,\n                    initialTarget: e.touch ? e.touch.initialTouch : null,\n                    dropTarget: e.dropTarget,\n                    elementUnderCursor: e.elementUnderCursor\n                }\n            ));\n        },\n\n        _elementUnderCursor: function(e) {\n            var target = elementUnderCursor(e),\n                hint = this.hint;\n\n            if (hint && contains(hint[0], target)) {\n                hint.hide();\n                target = elementUnderCursor(e);\n                // IE8 does not return the element in iframe from first attempt\n                if (!target) {\n                    target = elementUnderCursor(e);\n                }\n                hint.show();\n            }\n\n            return target;\n        },\n\n        _withDropTarget: function(element, callback) {\n            var result,\n                group = this.options.group,\n                targets = dropTargets[group],\n                areas = dropAreas[group];\n\n            if (targets && targets.length || areas && areas.length) {\n                result = checkTarget(element, targets, areas);\n\n                if (result) {\n                    callback(result.target, result.targetElement);\n                } else {\n                    callback();\n                }\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that._afterEnd();\n\n            that.userEvents.destroy();\n\n            this._scrollableParent = null;\n            this._cursorElement = null;\n            clearInterval(this._scrollInterval);\n\n            that.currentTarget = null;\n        },\n\n        _afterEnd: function() {\n            var that = this;\n\n            if (that.hint) {\n                that.hint.remove();\n            }\n\n            delete draggables[that.options.group];\n\n            that.trigger(\"destroy\");\n            that.trigger(HINTDESTROYED);\n            $(document).off(KEYUP, that._captureEscape);\n        }\n    });\n\n    kendo.ui.plugin(DropTarget);\n    kendo.ui.plugin(DropTargetArea);\n    kendo.ui.plugin(Draggable);\n    kendo.TapCapture = TapCapture;\n    kendo.containerBoundaries = containerBoundaries;\n\n    extend(kendo.ui, {\n        Pane: Pane,\n        PaneDimensions: PaneDimensions,\n        Movable: Movable\n    });\n\n    function scrollableViewPort(element) {\n        var root = scrollableRoot()[0],\n            offset,\n            top,\n            left;\n\n        if (element[0] === root) {\n            top = root.scrollTop;\n            left = root.scrollLeft;\n\n            return {\n                top: top,\n                left: left,\n                bottom: top + $window.height(),\n                right: left + $window.width()\n            };\n        } else {\n            offset = element.offset();\n            offset.bottom = offset.top + element.height();\n            offset.right =  offset.left + element.width();\n            return offset;\n        }\n    }\n\n    function scrollableRoot() {\n        return $(kendo.support.browser.edge || kendo.support.browser.safari ? document.body : document.documentElement);\n    }\n\n    function findScrollableParent(element) {\n        var root = scrollableRoot();\n\n        if (!element || element === document.body || element === document.documentElement) {\n            return root;\n        }\n\n        var parent = $(element)[0];\n\n        while (parent && !kendo.isScrollable(parent) && parent !== document.body) {\n            parent = parent.parentNode;\n        }\n\n        if (parent === document.body) {\n            return root;\n        }\n\n        return $(parent);\n    }\n\n    function autoScrollVelocity(mouseX, mouseY, rect) {\n        var velocity = { x: 0, y: 0 };\n\n        var AUTO_SCROLL_AREA = 50;\n\n        if (mouseX - rect.left < AUTO_SCROLL_AREA) {\n            velocity.x = -(AUTO_SCROLL_AREA - (mouseX - rect.left));\n        } else if (rect.right - mouseX < AUTO_SCROLL_AREA) {\n            velocity.x = AUTO_SCROLL_AREA - (rect.right - mouseX);\n        }\n\n        if (mouseY - rect.top < AUTO_SCROLL_AREA) {\n            velocity.y = -(AUTO_SCROLL_AREA - (mouseY - rect.top));\n        } else if (rect.bottom - mouseY < AUTO_SCROLL_AREA) {\n            velocity.y = AUTO_SCROLL_AREA - (rect.bottom - mouseY);\n        }\n\n        return velocity;\n    }\n\n    // export for testing\n    kendo.ui.Draggable.utils = {\n        autoScrollVelocity: autoScrollVelocity,\n        scrollableViewPort: scrollableViewPort,\n        findScrollableParent: findScrollableParent\n    };\n\n })(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.scroller',[ \"kendo.fx\", \"kendo.draganddrop\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.scroller\",\n    name: \"Scroller\",\n    category: \"mobile\",\n    description: \"The Kendo Mobile Scroller widget enables touch friendly kinetic scrolling for the contents of a given DOM element.\",\n    depends: [ \"fx\", \"draganddrop\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        fx = kendo.effects,\n        ui = mobile.ui,\n        extend = $.extend,\n        Widget = ui.Widget,\n        Class = kendo.Class,\n        Movable = kendo.ui.Movable,\n        Pane = kendo.ui.Pane,\n        PaneDimensions = kendo.ui.PaneDimensions,\n        Transition = fx.Transition,\n        Animation = fx.Animation,\n        abs = Math.abs,\n        SNAPBACK_DURATION = 500,\n        SCROLLBAR_OPACITY = 0.7,\n        FRICTION = 0.96,\n        VELOCITY_MULTIPLIER = 10,\n        MAX_VELOCITY = 55,\n        OUT_OF_BOUNDS_FRICTION = 0.5,\n        ANIMATED_SCROLLER_PRECISION = 5,\n        RELEASECLASS = \"km-scroller-release\",\n        REFRESHCLASS = \"km-scroller-refresh\",\n        PULL = \"pull\",\n        CHANGE = \"change\",\n        RESIZE = \"resize\",\n        SCROLL = \"scroll\",\n        MOUSE_WHEEL_ID = 2;\n\n    var ZoomSnapBack = Animation.extend({\n        init: function(options) {\n            var that = this;\n            Animation.fn.init.call(that);\n            extend(that, options);\n\n            that.userEvents.bind(\"gestureend\", that.start.bind(that));\n            that.tapCapture.bind(\"press\", that.cancel.bind(that));\n        },\n\n        enabled: function() {\n          return this.movable.scale < this.dimensions.minScale;\n        },\n\n        done: function() {\n            return this.dimensions.minScale - this.movable.scale < 0.01;\n        },\n\n        tick: function() {\n            var movable = this.movable;\n            movable.scaleWith(1.1);\n            this.dimensions.rescale(movable.scale);\n        },\n\n        onEnd: function() {\n            var movable = this.movable;\n            movable.scaleTo(this.dimensions.minScale);\n            this.dimensions.rescale(movable.scale);\n        }\n    });\n\n    var DragInertia = Animation.extend({\n        init: function(options) {\n            var that = this;\n\n            Animation.fn.init.call(that);\n\n            extend(that, options, {\n                transition: new Transition({\n                    axis: options.axis,\n                    movable: options.movable,\n                    onEnd: function() { that._end(); }\n                })\n            });\n\n            that.tapCapture.bind(\"press\", function() { that.cancel(); });\n            that.userEvents.bind(\"end\", that.start.bind(that));\n            that.userEvents.bind(\"gestureend\", that.start.bind(that));\n            that.userEvents.bind(\"tap\", that.onEnd.bind(that));\n        },\n\n        onCancel: function() {\n            this.transition.cancel();\n        },\n\n        freeze: function(location) {\n            var that = this;\n            that.cancel();\n            that._moveTo(location);\n        },\n\n        onEnd: function() {\n            var that = this;\n            if (that.paneAxis.outOfBounds()) {\n                that._snapBack();\n            } else {\n                that._end();\n            }\n        },\n\n        done: function() {\n            return abs(this.velocity) < 1;\n        },\n\n        start: function(e) {\n            var that = this,\n                velocity;\n\n            if (!that.dimension.enabled) { return; }\n\n            if (that.paneAxis.outOfBounds()) {\n                if(that.transition._started){\n                    that.transition.cancel();\n                    that.velocity = Math.min(e.touch[that.axis].velocity * that.velocityMultiplier, MAX_VELOCITY);\n\n                    Animation.fn.start.call(that);\n                }else{\n                    that._snapBack();\n                }\n            } else {\n                velocity = e.touch.id === MOUSE_WHEEL_ID ? 0 : e.touch[that.axis].velocity;\n                that.velocity = Math.max(Math.min(velocity * that.velocityMultiplier, MAX_VELOCITY), -MAX_VELOCITY);\n\n                that.tapCapture.captureNext();\n                Animation.fn.start.call(that);\n            }\n        },\n\n        tick: function() {\n            var that = this,\n                dimension = that.dimension,\n                friction = that.paneAxis.outOfBounds() ? OUT_OF_BOUNDS_FRICTION : that.friction,\n                delta = (that.velocity *= friction),\n                location = that.movable[that.axis] + delta;\n\n                if (!that.elastic && dimension.outOfBounds(location)) {\n                    location = Math.max(Math.min(location, dimension.max), dimension.min);\n                    that.velocity = 0;\n                }\n\n            that.movable.moveAxis(that.axis, location);\n        },\n\n        _end: function() {\n            this.tapCapture.cancelCapture();\n            this.end();\n        },\n\n        _snapBack: function() {\n            var that = this,\n                dimension = that.dimension,\n                snapBack = that.movable[that.axis] > dimension.max ? dimension.max : dimension.min;\n            that._moveTo(snapBack);\n        },\n\n        _moveTo: function(location) {\n            this.transition.moveTo({ location: location, duration: SNAPBACK_DURATION, ease: Transition.easeOutExpo });\n        }\n    });\n\n    var AnimatedScroller = Animation.extend({\n        init: function(options) {\n            var that = this;\n\n            kendo.effects.Animation.fn.init.call(this);\n\n            extend(that, options, {\n                origin: {},\n                destination: {},\n                offset: {}\n            });\n        },\n\n        tick: function() {\n            this._updateCoordinates();\n            this.moveTo(this.origin);\n        },\n\n        done: function() {\n            return abs(this.offset.y) < ANIMATED_SCROLLER_PRECISION && abs(this.offset.x) < ANIMATED_SCROLLER_PRECISION;\n        },\n\n        onEnd: function() {\n            this.moveTo(this.destination);\n            if (this.callback) {\n                this.callback.call();\n            }\n        },\n\n        setCoordinates: function(from, to) {\n            this.offset = {};\n            this.origin = from;\n            this.destination = to;\n        },\n\n        setCallback: function(callback) {\n            if (callback && kendo.isFunction(callback)) {\n                this.callback = callback;\n            } else {\n                callback = undefined;\n            }\n        },\n\n        _updateCoordinates: function() {\n            this.offset = {\n                x: (this.destination.x - this.origin.x) / 4,\n                y: (this.destination.y - this.origin.y) / 4\n            };\n\n            this.origin = {\n                y: this.origin.y + this.offset.y,\n                x: this.origin.x + this.offset.x\n            };\n        }\n    });\n\n    var ScrollBar = Class.extend({\n        init: function(options) {\n            var that = this,\n                horizontal = options.axis === \"x\",\n                element = $('<div role=\"scrollbar\" aria-controls=\"' + options.controlsId + '\" class=\"km-touch-scrollbar km-' + (horizontal ? \"horizontal\" : \"vertical\") + '-scrollbar\" />');\n\n            if(horizontal) {\n                element.attr(\"aria-orientation\", \"horizontal\");\n            }\n\n            extend(that, options, {\n                element: element,\n                elementSize: 0,\n                movable: new Movable(element),\n                scrollMovable: options.movable,\n                alwaysVisible: options.alwaysVisible,\n                size: horizontal ? \"width\" : \"height\"\n            });\n\n            that.scrollMovable.bind(CHANGE, that.refresh.bind(that));\n            that.container.append(element);\n            if (options.alwaysVisible) {\n                that.show();\n            }\n        },\n\n        refresh: function() {\n            var that = this,\n                axis = that.axis,\n                dimension = that.dimension,\n                paneSize = dimension.size,\n                scrollMovable = that.scrollMovable,\n                sizeRatio = paneSize / dimension.total,\n                position = Math.round(-scrollMovable[axis] * sizeRatio),\n                size = Math.round(paneSize * sizeRatio);\n\n                if (sizeRatio >= 1) {\n                    this.element.css(\"display\", \"none\");\n                } else {\n                    this.element.css(\"display\", \"\");\n                }\n\n                if (position + size > paneSize) {\n                    size = paneSize - position;\n                } else if (position < 0) {\n                    size += position;\n                    position = 0;\n                }\n\n            if (that.elementSize != size) {\n                that.element.css(that.size, size + \"px\");\n                that.elementSize = size;\n            }\n\n            that._ariaValue(position, dimension.size - that.elementSize);\n\n            that.movable.moveAxis(axis, position);\n        },\n\n        show: function() {\n            this.element.css({opacity: SCROLLBAR_OPACITY, visibility: \"visible\"});\n        },\n\n        hide: function() {\n            if (!this.alwaysVisible) {\n                this.element.css({opacity: 0});\n            }\n        },\n\n        _ariaValue: function(current, total) {\n            var element = this.element;\n\n            if(current > total) {\n                current = total;\n            }\n\n            element.attr(\"aria-valuemax\", total);\n            element.attr(\"aria-valuenow\", current);\n        }\n    });\n\n    var Scroller = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n            Widget.fn.init.call(that, element, options);\n\n            element = that.element;\n\n            that._native = that.options.useNative && kendo.support.hasNativeScrolling;\n            if (that._native) {\n                element.addClass(\"km-native-scroller\")\n                    .prepend('<div class=\"km-scroll-header\"/>');\n\n                extend(that, {\n                    scrollElement: element,\n                    fixedContainer: element.children().first()\n                });\n\n                return;\n            }\n\n            element\n                .css(\"overflow\", \"hidden\")\n                .addClass(\"km-scroll-wrapper\")\n                .wrapInner('<div class=\"km-scroll-container\"/>')\n                .prepend('<div class=\"km-scroll-header\"/>');\n\n            var inner = element.children().eq(1),\n\n                tapCapture = new kendo.TapCapture(element),\n\n                movable = new Movable(inner),\n\n                dimensions = new PaneDimensions({\n                    element: inner,\n                    container: element,\n                    forcedEnabled: that.options.zoom\n                }),\n\n                avoidScrolling = this.options.avoidScrolling,\n\n                userEvents = new kendo.UserEvents(element, {\n                    touchAction: \"pan-y\",\n                    fastTap: true,\n                    allowSelection: true,\n                    preventDragEvent: true,\n                    captureUpIfMoved: true,\n                    multiTouch: that.options.zoom,\n                    supportDoubleTap: that.options.supportDoubleTap,\n                    start: function(e) {\n                        dimensions.refresh();\n\n                        var velocityX = abs(e.x.velocity),\n                            velocityY = abs(e.y.velocity),\n                            horizontalSwipe  = velocityX * 2 >= velocityY,\n                            originatedFromFixedContainer = $.contains(that.fixedContainer[0], e.event.target),\n                            verticalSwipe = velocityY * 2 >= velocityX;\n\n\n                        if (!originatedFromFixedContainer && !avoidScrolling(e) && that.enabled && (dimensions.x.enabled && horizontalSwipe || dimensions.y.enabled && verticalSwipe)) {\n                            userEvents.capture();\n                        } else {\n                            userEvents.cancel();\n                        }\n                    }\n                }),\n\n                pane = new Pane({\n                    movable: movable,\n                    dimensions: dimensions,\n                    userEvents: userEvents,\n                    elastic: that.options.elastic\n                }),\n\n                zoomSnapBack = new ZoomSnapBack({\n                    movable: movable,\n                    dimensions: dimensions,\n                    userEvents: userEvents,\n                    tapCapture: tapCapture\n                }),\n\n                animatedScroller = new AnimatedScroller({\n                    moveTo: function(coordinates) {\n                        that.scrollTo(coordinates.x, coordinates.y);\n                    }\n                });\n\n            movable.bind(CHANGE, function() {\n                that.scrollTop = - movable.y;\n                that.scrollLeft = - movable.x;\n\n                that.trigger(SCROLL, {\n                    scrollTop: that.scrollTop,\n                    scrollLeft: that.scrollLeft\n                });\n            });\n\n            if (that.options.mousewheelScrolling) {\n                element.on(\"DOMMouseScroll mousewheel\",  this._wheelScroll.bind(this));\n            }\n\n            extend(that, {\n                movable: movable,\n                dimensions: dimensions,\n                zoomSnapBack: zoomSnapBack,\n                animatedScroller: animatedScroller,\n                userEvents: userEvents,\n                pane: pane,\n                tapCapture: tapCapture,\n                pulled: false,\n                enabled: true,\n                scrollElement: inner,\n                scrollTop: 0,\n                scrollLeft: 0,\n                fixedContainer: element.children().first()\n            });\n\n            that._initAxis(\"x\");\n            that._initAxis(\"y\");\n\n            // build closure\n            that._wheelEnd = function() {\n                that._wheel = false;\n                that.userEvents.end(0, that._wheelY);\n            };\n\n            dimensions.refresh();\n\n            if (that.options.pullToRefresh) {\n                that._initPullToRefresh();\n            }\n        },\n\n        _wheelScroll: function(e) {\n            if (e.ctrlKey) {\n                return;\n            }\n\n            if (!this._wheel) {\n                this._wheel = true;\n                this._wheelY = 0;\n                this.userEvents.press(0, this._wheelY);\n            }\n\n            clearTimeout(this._wheelTimeout);\n            this._wheelTimeout = setTimeout(this._wheelEnd, 50);\n\n            var delta = kendo.wheelDeltaY(e);\n\n            if (delta) {\n                this._wheelY += delta;\n                this.userEvents.move(0, this._wheelY);\n            }\n\n            e.preventDefault();\n        },\n\n        makeVirtual: function() {\n            this.dimensions.y.makeVirtual();\n        },\n\n        virtualSize: function(min, max) {\n            this.dimensions.y.virtualSize(min, max);\n        },\n\n        height: function() {\n            return this.dimensions.y.size;\n        },\n\n        scrollHeight: function() {\n            return this.scrollElement[0].scrollHeight;\n        },\n\n        scrollWidth: function() {\n            return this.scrollElement[0].scrollWidth;\n        },\n\n        options: {\n            name: \"Scroller\",\n            zoom: false,\n            pullOffset: 140,\n            visibleScrollHints: false,\n            elastic: true,\n            useNative: false,\n            mousewheelScrolling: true,\n            avoidScrolling: function() { return false; },\n            pullToRefresh: false,\n            messages: {\n                pullTemplate: \"Pull to refresh\",\n                releaseTemplate: \"Release to refresh\",\n                refreshTemplate: \"Refreshing\"\n            }\n        },\n\n        events: [\n            PULL,\n            SCROLL,\n            RESIZE\n        ],\n\n        _resize: function() {\n            if (!this._native) {\n                this.contentResized();\n            }\n        },\n\n        setOptions: function(options) {\n            var that = this;\n            Widget.fn.setOptions.call(that, options);\n            if (options.pullToRefresh) {\n                that._initPullToRefresh();\n            }\n        },\n\n        reset: function() {\n            if (this._native) {\n                this.scrollElement.scrollTop(0);\n            } else {\n                this.movable.moveTo({x: 0, y: 0});\n                this._scale(1);\n            }\n        },\n\n        contentResized: function() {\n            this.dimensions.refresh();\n            if (this.pane.x.outOfBounds()) {\n                this.movable.moveAxis(\"x\", this.dimensions.x.min);\n            }\n\n            if (this.pane.y.outOfBounds()) {\n                this.movable.moveAxis(\"y\", this.dimensions.y.min);\n            }\n        },\n\n        zoomOut: function() {\n            var dimensions = this.dimensions;\n            dimensions.refresh();\n            this._scale(dimensions.fitScale);\n            this.movable.moveTo(dimensions.centerCoordinates());\n        },\n\n        enable: function() {\n            this.enabled = true;\n        },\n\n        disable: function() {\n            this.enabled = false;\n        },\n\n        scrollTo: function(x, y) {\n            if (this._native) {\n                kendo.scrollLeft(this.scrollElement, abs(x));\n                this.scrollElement.scrollTop(abs(y));\n            } else {\n                this.dimensions.refresh();\n                this.movable.moveTo({x: x, y: y});\n            }\n        },\n\n        animatedScrollTo: function(x, y, callback) {\n            var from,\n                to;\n\n            if(this._native) {\n                this.scrollTo(x, y);\n            } else {\n                from = { x: this.movable.x, y: this.movable.y };\n                to = { x: x, y: y };\n\n                this.animatedScroller.setCoordinates(from, to);\n                this.animatedScroller.setCallback(callback);\n                this.animatedScroller.start();\n            }\n        },\n\n        pullHandled: function() {\n            var that = this;\n            that.refreshHint.removeClass(REFRESHCLASS);\n            that.hintContainer.html(that.pullTemplate({}));\n            that.yinertia.onEnd();\n            that.xinertia.onEnd();\n            that.userEvents.cancel();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            if (this.userEvents) {\n                this.userEvents.destroy();\n            }\n        },\n\n        _scale: function(scale) {\n            this.dimensions.rescale(scale);\n            this.movable.scaleTo(scale);\n        },\n\n        _initPullToRefresh: function() {\n            var that = this;\n\n            that.dimensions.y.forceEnabled();\n            that.pullTemplate = kendo.template(that.options.messages.pullTemplate);\n            that.releaseTemplate = kendo.template(that.options.messages.releaseTemplate);\n            that.refreshTemplate = kendo.template(that.options.messages.refreshTemplate);\n\n            that.scrollElement.prepend('<span class=\"km-scroller-pull\"><span class=\"km-icon\"></span><span class=\"km-loading-left\"></span><span class=\"km-loading-right\"></span><span class=\"km-template\">' + that.pullTemplate({}) + '</span></span>');\n            that.refreshHint = that.scrollElement.children().first();\n            that.hintContainer = that.refreshHint.children(\".km-template\");\n\n            that.pane.y.bind(\"change\", that._paneChange.bind(that));\n            that.userEvents.bind(\"end\", that._dragEnd.bind(that));\n        },\n\n        _dragEnd: function() {\n            var that = this;\n\n            if(!that.pulled) {\n                return;\n            }\n\n            that.pulled = false;\n            that.refreshHint.removeClass(RELEASECLASS).addClass(REFRESHCLASS);\n            that.hintContainer.html(that.refreshTemplate({}));\n            that.yinertia.freeze(that.options.pullOffset / 2);\n            that.trigger(\"pull\");\n        },\n\n        _paneChange: function() {\n            var that = this;\n\n            if (that.movable.y / OUT_OF_BOUNDS_FRICTION > that.options.pullOffset) {\n                if (!that.pulled) {\n                    that.pulled = true;\n                    that.refreshHint.removeClass(REFRESHCLASS).addClass(RELEASECLASS);\n                    that.hintContainer.html(that.releaseTemplate({}));\n                }\n            } else if (that.pulled) {\n                that.pulled = false;\n                that.refreshHint.removeClass(RELEASECLASS);\n                that.hintContainer.html(that.pullTemplate({}));\n            }\n        },\n\n        _initAxis: function(axis) {\n            var that = this,\n                elementId = that.element.attr(\"id\"),\n                movable = that.movable,\n                dimension = that.dimensions[axis],\n                tapCapture = that.tapCapture,\n                paneAxis = that.pane[axis],\n                scrollBar;\n\n            if(!elementId) {\n                elementId = kendo.guid();\n                that.element.attr(\"id\", elementId);\n            }\n\n            scrollBar = new ScrollBar({\n                axis: axis,\n                movable: movable,\n                dimension: dimension,\n                container: that.element,\n                alwaysVisible: that.options.visibleScrollHints,\n                controlsId: elementId\n            });\n\n            dimension.bind(CHANGE, function() {\n                scrollBar.refresh();\n            });\n\n            paneAxis.bind(CHANGE, function() {\n                scrollBar.show();\n            });\n\n            that[axis + \"inertia\"] = new DragInertia({\n                axis: axis,\n                paneAxis: paneAxis,\n                movable: movable,\n                tapCapture: tapCapture,\n                userEvents: that.userEvents,\n                dimension: dimension,\n                elastic: that.options.elastic,\n                friction: that.options.friction || FRICTION,\n                velocityMultiplier: that.options.velocityMultiplier || VELOCITY_MULTIPLIER,\n                end: function() {\n                    scrollBar.hide();\n                    that.trigger(\"scrollEnd\", {\n                        axis: axis,\n                        scrollTop: that.scrollTop,\n                        scrollLeft: that.scrollLeft\n                    });\n                }\n            });\n        }\n    });\n\n    ui.plugin(Scroller);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.resizable',[ \"kendo.core\", \"kendo.draganddrop\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"resizable\",\n    name: \"Resizable\",\n    category: \"framework\",\n    depends: [ \"core\", \"draganddrop\" ],\n    advanced: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        isFunction = kendo.isFunction,\n        extend = $.extend,\n        HORIZONTAL = \"horizontal\",\n        VERTICAL = \"vertical\",\n        START = \"start\",\n        RESIZE = \"resize\",\n        RESIZEEND = \"resizeend\";\n\n    var Resizable = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that.orientation = that.options.orientation.toLowerCase() != VERTICAL ? HORIZONTAL : VERTICAL;\n            that._positionMouse = that.orientation == HORIZONTAL ? \"x\" : \"y\";\n            that._position = that.orientation == HORIZONTAL ? \"left\" : \"top\";\n            that._sizingDom = that.orientation == HORIZONTAL ? \"outerWidth\" : \"outerHeight\";\n\n            that.draggable = new ui.Draggable(options.draggableElement || element, {\n                distance: 1,\n                filter: options.handle,\n                drag: that._resize.bind(that),\n                dragcancel: that._cancel.bind(that),\n                dragstart: that._start.bind(that),\n                dragend: that._stop.bind(that)\n            });\n\n            that.userEvents = that.draggable.userEvents;\n        },\n\n        events: [\n            RESIZE,\n            RESIZEEND,\n            START\n        ],\n\n        options: {\n            name: \"Resizable\",\n            orientation: HORIZONTAL\n        },\n\n        resize: function() {\n            // Overrides base widget resize\n        },\n\n        _max: function(e) {\n            var that = this,\n                hintSize = that.hint ? that.hint[that._sizingDom]() : 0,\n                size = that.options.max;\n\n            return isFunction(size) ? size(e) : size !== undefined ? (that._initialElementPosition + size) - hintSize : size;\n        },\n\n        _min: function(e) {\n            var that = this,\n                size = that.options.min;\n\n            return isFunction(size) ? size(e) : size !== undefined ? that._initialElementPosition + size : size;\n        },\n\n        _start: function(e) {\n            var that = this,\n                hint = that.options.hint,\n                el = $(e.currentTarget);\n\n            that._initialElementPosition = el.position()[that._position];\n            that._initialMousePosition = e[that._positionMouse].startLocation;\n\n            if (hint) {\n                that.hint = isFunction(hint) ? $(hint(el)) : hint;\n\n                that.hint.css({\n                    position: \"absolute\"\n                })\n                .css(that._position, that._initialElementPosition)\n                .appendTo(that.element);\n            }\n\n            that.trigger(START, e);\n\n            that._maxPosition = that._max(e);\n            that._minPosition = that._min(e);\n\n            $(document.body).css(\"cursor\", el.css(\"cursor\"));\n        },\n\n        _resize: function(e) {\n            var that = this,\n                maxPosition = that._maxPosition,\n                minPosition = that._minPosition,\n                currentPosition = that._initialElementPosition + (e[that._positionMouse].location - that._initialMousePosition),\n                position;\n\n            position = minPosition !== undefined ? Math.max(minPosition, currentPosition) : currentPosition;\n            that.position = position =  maxPosition !== undefined ? Math.min(maxPosition, position) : position;\n\n            if(that.hint) {\n                that.hint.toggleClass(that.options.invalidClass || \"\", position == maxPosition || position == minPosition)\n                         .css(that._position, position);\n            }\n\n            that.resizing = true;\n            that.trigger(RESIZE, extend(e, { position: position }));\n        },\n\n        _stop: function(e) {\n            var that = this;\n\n            if(that.hint) {\n                that.hint.remove();\n            }\n\n            that.resizing = false;\n            that.trigger(RESIZEEND, extend(e, { position: that.position }));\n            $(document.body).css(\"cursor\", \"\");\n        },\n\n        _cancel: function(e) {\n            var that = this;\n\n            if (that.hint) {\n                that.position = undefined;\n                that.hint.css(that._position, that._initialElementPosition);\n                that._stop(e);\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            if (that.draggable) {\n                that.draggable.destroy();\n            }\n        },\n\n        press: function(target) {\n            if (!target) {\n                return;\n            }\n\n            var position = target.position(),\n                that = this;\n\n            that.userEvents.press(position.left, position.top, target[0]);\n            that.targetPosition = position;\n            that.target = target;\n        },\n\n        move: function(delta) {\n            var that = this,\n                orientation = that._position,\n                position = that.targetPosition,\n                current = that.position;\n\n            if (current === undefined) {\n                current = position[orientation];\n            }\n\n            position[orientation] = current + delta;\n\n            that.userEvents.move(position.left, position.top);\n        },\n\n        end: function() {\n            this.userEvents.end();\n            this.target = this.position = undefined;\n        }\n    });\n\n    kendo.ui.plugin(Resizable);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n/* jshint eqnull: true */\n(function(f, define){\n    define('kendo.sortable',[ \"kendo.draganddrop\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"sortable\",\n    name: \"Sortable\",\n    category: \"framework\",\n    depends: [ \"draganddrop\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        outerWidth = kendo._outerWidth,\n        outerHeight = kendo._outerHeight,\n\n        START = \"start\",\n        BEFORE_MOVE = \"beforeMove\",\n        MOVE = \"move\",\n        END = \"end\",\n        CHANGE = \"change\",\n        CANCEL = \"cancel\",\n\n        ACTION_SORT = \"sort\",\n        ACTION_REMOVE = \"remove\",\n        ACTION_RECEIVE = \"receive\",\n\n        DEFAULT_FILTER = \">*\",\n        MISSING_INDEX = -1;\n\n    function containsOrEqualTo(parent, child) {\n        try {\n            return $.contains(parent, child) || parent == child;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    function defaultHint(element) {\n        return element.clone();\n    }\n\n    function defaultPlaceholder(element) {\n        return element.clone().removeAttr(\"id\").css(\"visibility\", \"hidden\");\n    }\n\n    var Sortable = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            if(!that.options.placeholder) {\n                that.options.placeholder = defaultPlaceholder;\n            }\n\n            if(!that.options.hint) {\n                that.options.hint = defaultHint;\n            }\n\n            that.draggable = that._createDraggable();\n        },\n\n        events: [\n            START,\n            BEFORE_MOVE,\n            MOVE,\n            END,\n            CHANGE,\n            CANCEL\n        ],\n\n        options: {\n            name: \"Sortable\",\n            hint: null,\n            placeholder: null,\n            filter: DEFAULT_FILTER,\n            holdToDrag: false,\n            disabled: null,\n            container: null,\n            connectWith: null,\n            handler: null,\n            cursorOffset: null,\n            axis: null,\n            ignore: null,\n            autoScroll: false,\n            cursor: \"auto\",\n            moveOnDragEnter: false\n        },\n\n        destroy: function() {\n            this.draggable.destroy();\n            Widget.fn.destroy.call(this);\n        },\n\n        _createDraggable: function() {\n            var that = this,\n                element = that.element,\n                options = that.options;\n\n            return new kendo.ui.Draggable(element, {\n                filter: options.filter,\n                hint: kendo.isFunction(options.hint) ? options.hint : $(options.hint),\n                holdToDrag: options.holdToDrag,\n                container: options.container ? $(options.container) : null,\n                cursorOffset: options.cursorOffset,\n                axis: options.axis,\n                ignore: options.ignore,\n                autoScroll: options.autoScroll,\n                dragstart: that._dragstart.bind(that),\n                dragcancel: that._dragcancel.bind(that),\n                drag: that._drag.bind(that),\n                dragend: that._dragend.bind(that)\n            });\n        },\n\n        _dragstart: function(e) {\n            var draggedElement = this.draggedElement = e.currentTarget,\n                disabled = this.options.disabled,\n                handler = this.options.handler,\n                _placeholder = this.options.placeholder,\n                placeholder = this.placeholder = kendo.isFunction(_placeholder) ? $(_placeholder.call(this, draggedElement)) : $(_placeholder);\n\n            if(disabled && draggedElement.is(disabled)) {\n                e.preventDefault();\n            } else if(handler && !$(e.initialTarget).is(handler)) {\n                e.preventDefault();\n            } else {\n\n                if(this.trigger(START, { item: draggedElement, draggableEvent: e })) {\n                    e.preventDefault();\n                } else {\n                    draggedElement.css(\"display\", \"none\");\n                    draggedElement.before(placeholder);\n\n                    this._setCursor();\n                }\n\n            }\n        },\n\n        _dragcancel: function() {\n            this._cancel();\n            this.trigger(CANCEL, { item: this.draggedElement });\n\n            this._resetCursor();\n        },\n\n        _drag: function(e) {\n            var draggedElement = this.draggedElement,\n                target = this._findTarget(e),\n                targetCenter,\n                cursorOffset = { left: e.x.location, top: e.y.location },\n                offsetDelta,\n                axisDelta = { x: e.x.delta, y: e.y.delta },\n                direction,\n                sibling,\n                getSibling,\n                axis = this.options.axis,\n                moveOnDragEnter= this.options.moveOnDragEnter,\n                eventData = { item: draggedElement, list: this, draggableEvent: e };\n\n            if(axis === \"x\" || axis === \"y\") {\n                this._movementByAxis(axis, cursorOffset, axisDelta[axis], eventData);\n                return;\n            }\n\n            if(target) {\n                targetCenter = this._getElementCenter(target.element);\n\n                offsetDelta = {\n                    left: Math.round(cursorOffset.left - targetCenter.left),\n                    top: Math.round(cursorOffset.top - targetCenter.top)\n                };\n\n                $.extend(eventData, { target: target.element });\n\n                if(target.appendToBottom) {\n                    this._movePlaceholder(target, null, eventData);\n                    return;\n                }\n\n                if(target.appendAfterHidden) {\n                    this._movePlaceholder(target, \"next\", eventData);\n                }\n\n                if(this._isFloating(target.element)) { //horizontal\n                    if((axisDelta.x < 0 && moveOnDragEnter) || (!moveOnDragEnter && offsetDelta.left < 0)) {\n                        direction = \"prev\";\n                    } else if((axisDelta.x > 0 && moveOnDragEnter) || (!moveOnDragEnter &&  offsetDelta.left > 0)) {\n                        direction = \"next\";\n                    }\n                } else { //vertical\n                    if((axisDelta.y < 0  && moveOnDragEnter) || (!moveOnDragEnter &&  offsetDelta.top < 0)) {\n                        direction = \"prev\";\n                    } else if((axisDelta.y > 0  && moveOnDragEnter) || (!moveOnDragEnter &&  offsetDelta.top > 0)) {\n                        direction = \"next\";\n                    }\n                }\n\n                if(direction) {\n                    getSibling = (direction === \"prev\") ? jQuery.fn.prev : jQuery.fn.next;\n\n                    sibling = getSibling.call(target.element);\n\n                    //find the prev/next visible sibling\n                    while(sibling.length && !sibling.is(\":visible\")) {\n                        sibling = getSibling.call(sibling);\n                    }\n\n                    if(sibling[0] != this.placeholder[0]) {\n                        this._movePlaceholder(target, direction, eventData);\n                    }\n                }\n            }\n        },\n\n        _dragend: function(e) {\n            var placeholder = this.placeholder,\n                draggedElement = this.draggedElement,\n                draggedIndex = this.indexOf(draggedElement),\n                placeholderIndex = this.indexOf(placeholder),\n                connectWith = this.options.connectWith,\n                connectedList,\n                isDefaultPrevented,\n                eventData,\n                connectedListEventData;\n\n            this._resetCursor();\n\n            eventData = {\n                action: ACTION_SORT,\n                item: draggedElement,\n                oldIndex: draggedIndex,\n                newIndex: placeholderIndex,\n                draggableEvent: e\n            };\n\n            if(placeholderIndex >= 0) {\n                isDefaultPrevented = this.trigger(END, eventData);\n            } else {\n                connectedList = placeholder.parents(connectWith).getKendoSortable();\n\n                eventData.action = ACTION_REMOVE;\n                connectedListEventData = $.extend({}, eventData, {\n                    action: ACTION_RECEIVE,\n                    oldIndex: MISSING_INDEX,\n                    newIndex: connectedList.indexOf(placeholder)\n                });\n\n                isDefaultPrevented = !(!this.trigger(END, eventData) && !connectedList.trigger(END, connectedListEventData));\n            }\n\n            if(isDefaultPrevented || placeholderIndex === draggedIndex) {\n                this._cancel();\n                return;\n            }\n\n            placeholder.replaceWith(draggedElement);\n\n            draggedElement.show();\n            this.draggable.dropped = true;\n\n            eventData = {\n                action: this.indexOf(draggedElement) != MISSING_INDEX ? ACTION_SORT : ACTION_REMOVE,\n                item: draggedElement,\n                oldIndex: draggedIndex,\n                newIndex: this.indexOf(draggedElement),\n                draggableEvent: e\n            };\n\n            this.trigger(CHANGE, eventData);\n\n            if(connectedList) {\n                connectedListEventData = $.extend({}, eventData, {\n                    action: ACTION_RECEIVE,\n                    oldIndex: MISSING_INDEX,\n                    newIndex: connectedList.indexOf(draggedElement)\n                });\n\n                connectedList.trigger(CHANGE, connectedListEventData);\n            }\n\n        },\n\n        _findTarget: function(e) {\n            var element = this._findElementUnderCursor(e),\n                items,\n                connectWith = this.options.connectWith,\n                node;\n\n            if($.contains(this.element[0], element)) { //the element is part of the sortable container\n                items = this.items();\n                node = items.filter(element)[0] || items.has(element)[0];\n\n                return node ? { element: $(node), sortable: this } : null;\n            } else if (this.element[0] == element && this._isEmpty()) {\n                return { element: this.element, sortable: this, appendToBottom: true };\n            } else if (this.element[0] == element && this._isLastHidden()) {\n                node = this.items().eq(0);\n                return { element: node , sortable: this, appendAfterHidden: true };\n            } else if (connectWith) { //connected lists are present\n                return this._searchConnectedTargets(element, e);\n            }\n        },\n\n        _findElementUnderCursor: function(e) {\n            var elementUnderCursor = kendo.elementUnderCursor(e),\n                draggable = e.sender;\n\n            if(containsOrEqualTo(draggable.hint[0], elementUnderCursor)) {\n                draggable.hint.hide();\n                elementUnderCursor = kendo.elementUnderCursor(e);\n                // IE8 does not return the element in iframe from first attempt\n                if (!elementUnderCursor) {\n                    elementUnderCursor = kendo.elementUnderCursor(e);\n                }\n                draggable.hint.show();\n            }\n\n            return elementUnderCursor;\n        },\n\n        _searchConnectedTargets: function(element, e) {\n            var connected = $(this.options.connectWith),\n                sortableInstance,\n                items,\n                node;\n\n            for (var i = 0; i < connected.length; i++) {\n                sortableInstance = connected.eq(i).getKendoSortable();\n\n                if($.contains(connected[i], element)) {\n                    if(sortableInstance) {\n                        items = sortableInstance.items();\n                        node = items.filter(element)[0] || items.has(element)[0];\n\n                        if(node) {\n                            sortableInstance.placeholder = this.placeholder;\n                            return { element: $(node), sortable: sortableInstance };\n                        } else {\n                            return null;\n                        }\n                    }\n                } else if(connected[i] == element) {\n                    if(sortableInstance && sortableInstance._isEmpty()) {\n                        return { element: connected.eq(i), sortable: sortableInstance, appendToBottom: true };\n                    } else if (this._isCursorAfterLast(sortableInstance, e)) {\n                        node = sortableInstance.items().last();\n                        return { element: node, sortable: sortableInstance };\n                    }\n                }\n            }\n\n        },\n\n        _isCursorAfterLast: function(sortable, e) {\n            var lastItem = sortable.items().last(),\n                cursorOffset = { left: e.x.location, top: e.y.location },\n                lastItemOffset,\n                delta;\n\n            lastItemOffset = kendo.getOffset(lastItem);\n            lastItemOffset.top += outerHeight(lastItem);\n            lastItemOffset.left += outerWidth(lastItem);\n\n            if(this._isFloating(lastItem)) { //horizontal\n                delta = lastItemOffset.left - cursorOffset.left;\n            } else { //vertical\n                delta = lastItemOffset.top - cursorOffset.top;\n            }\n\n            return delta < 0 ? true : false;\n        },\n\n        _movementByAxis: function(axis, cursorOffset, delta, eventData) {\n            var cursorPosition = (axis === \"x\") ? cursorOffset.left : cursorOffset.top,\n                target = (delta < 0) ? this.placeholder.prev() : this.placeholder.next(),\n                items = this.items(),\n                targetCenter;\n\n            if (target.length && !target.is(\":visible\")) {\n                target = (delta <0) ? target.prev() : target.next();\n            }\n\n            if (!items.filter(target).length) {\n                return;\n            }\n\n            $.extend(eventData, { target: target });\n            targetCenter = this._getElementCenter(target);\n\n            if (targetCenter) {\n                targetCenter = (axis === \"x\") ? targetCenter.left : targetCenter.top;\n            }\n\n            if (target.length && delta < 0 && cursorPosition - targetCenter < 0) { //prev\n                this._movePlaceholder({ element: target, sortable: this }, \"prev\", eventData);\n            } else if (target.length && delta > 0 && cursorPosition - targetCenter > 0) { //next\n                this._movePlaceholder({ element: target, sortable: this }, \"next\", eventData);\n            }\n        },\n\n        _movePlaceholder: function(target, direction, eventData) {\n            var placeholder = this.placeholder;\n\n            if (!target.sortable.trigger(BEFORE_MOVE, eventData)) {\n\n                if (!direction) {\n                    target.element.append(placeholder);\n                } else if (direction === \"prev\") {\n                    target.element.before(placeholder);\n                } else if (direction === \"next\") {\n                    target.element.after(placeholder);\n                }\n\n                target.sortable.trigger(MOVE, eventData);\n            }\n        },\n\n        _setCursor: function() {\n            var cursor = this.options.cursor,\n                body;\n\n            if(cursor && cursor !== \"auto\") {\n                body = $(document.body);\n\n                this._originalCursorType = body.css(\"cursor\");\n                body.css({ \"cursor\": cursor });\n\n                if(!this._cursorStylesheet) {\n                    this._cursorStylesheet = $(\"<style>* { cursor: \" + cursor + \" !important; }</style>\");\n                }\n\n                this._cursorStylesheet.appendTo(body);\n            }\n        },\n\n        _resetCursor: function() {\n            if(this._originalCursorType) {\n                $(document.body).css(\"cursor\", this._originalCursorType);\n                this._originalCursorType = null;\n\n                this._cursorStylesheet.remove();\n            }\n        },\n\n        _getElementCenter: function(element) {\n            var center = element.length ? kendo.getOffset(element) : null;\n            if(center) {\n                center.top += outerHeight(element) / 2;\n                center.left += outerWidth(element) / 2;\n            }\n\n            return center;\n        },\n\n        _isFloating: function (item) {\n            var isFloating = /left|right/.test(item.css('float'));\n            var isTable = /inline|table-cell/.test(item.css('display'));\n            var isHorizontalFlex = /flex/.test(item.parent().css('display')) && (/row|row-reverse/.test(item.parent().css('flex-direction')) || !item.parent().css('flex-direction'));\n            return isFloating || isTable || isHorizontalFlex;\n        },\n\n        _cancel: function() {\n            this.draggedElement.show();\n            this.placeholder.remove();\n            this.draggable.dropped = true;\n        },\n\n        _items: function() {\n            var filter = this.options.filter,\n                items;\n\n            if(filter) {\n                items = this.element.find(filter);\n            } else {\n                items = this.element.children();\n            }\n\n            return items;\n        },\n\n        indexOf: function(element) {\n            var items = this._items(),\n                placeholder = this.placeholder,\n                draggedElement = this.draggedElement;\n\n            if(placeholder && element[0] == placeholder[0]) {\n                return items.not(draggedElement).index(element);\n            } else {\n                return items.not(placeholder).index(element);\n            }\n        },\n\n        items: function() {\n            var placeholder = this.placeholder,\n                items = this._items();\n\n            if(placeholder) {\n                items = items.not(placeholder);\n            }\n\n            return items;\n        },\n\n        _isEmpty: function() {\n            return !this.items().length;\n        },\n\n        _isLastHidden: function() {\n            return this.items().length === 1 && this.items().is(\":hidden\");\n        }\n\n    });\n\n    kendo.ui.plugin(Sortable);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.selectable',[ \"kendo.core\", \"kendo.userevents\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"selectable\",\n    name: \"Selectable\",\n    category: \"framework\",\n    depends: [ \"core\", \"userevents\" ],\n    advanced: true\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        abs = Math.abs,\n        ARIASELECTED = \"aria-selected\",\n        SELECTED = \"k-state-selected\",\n        ACTIVE = \"k-state-selecting\",\n        SELECTABLE = \"k-selectable\",\n        CHANGE = \"change\",\n        NS = \".kendoSelectable\",\n        UNSELECT = \"unselect\",\n        UNSELECTING = \"k-state-unselecting\",\n        INPUTSELECTOR = \"input,a,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up,label.k-checkbox-label.k-no-text,.k-icon.k-i-collapse,.k-icon.k-i-expand,span.k-numeric-wrap,.k-focusable\",\n        msie = kendo.support.browser.msie,\n        supportEventDelegation = false,\n        extend = $.extend;\n\n        (function($) {\n            (function() {\n                $('<div class=\"parent\"><span></span></div>')\n                .on(\"click\", \">*\", function() {\n                    supportEventDelegation = true;\n                })\n                .find(\"span\")\n                .trigger(\"click\")\n                .end()\n                .off();\n            })();\n        })($);\n\n    var Selectable = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                multiple,\n                dragToSelect;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._marquee = $(\"<div class='k-marquee'><div class='k-marquee-color'></div></div>\");\n            that._lastActive = null;\n            that.element.addClass(SELECTABLE);\n\n            that.relatedTarget = that.options.relatedTarget;\n\n            multiple = that.options.multiple;\n            dragToSelect = that.options.dragToSelect;\n\n            that.userEvents = new kendo.UserEvents(that.element, {\n                global: true,\n                allowSelection: true,\n                filter: (!supportEventDelegation ? \".\" + SELECTABLE + \" \" : \"\") + that.options.filter,\n                tap: that._tap.bind(that),\n                touchAction: multiple ? \"none\" : \"pan-x pan-y\"\n            });\n\n            if (multiple) {\n                if(dragToSelect) {\n                    that.userEvents\n                        .bind(\"start\", that._start.bind(that))\n                        .bind(\"move\", that._move.bind(that))\n                        .bind(\"end\", that._end.bind(that));\n                }\n                that.userEvents\n                   .bind(\"select\", that._select.bind(that));\n            }\n        },\n\n        events: [CHANGE, UNSELECT],\n\n        options: {\n            name: \"Selectable\",\n            filter: \">*\",\n            inputSelectors: INPUTSELECTOR,\n            multiple: false,\n            dragToSelect: true,\n            relatedTarget: $.noop,\n            ignoreOverlapped: false,\n            addIdToRanges: false\n        },\n\n        _isElement: function(target) {\n            var elements = this.element;\n            var idx, length = elements.length, result = false;\n\n            target = target[0];\n\n            for (idx = 0; idx < length; idx ++) {\n                if (elements[idx] === target) {\n                    result = true;\n                    break;\n                }\n            }\n\n            return result;\n        },\n\n        _tap: function(e) {\n            var target = $(e.target),\n                that = this,\n                ctrlKey = e.event.ctrlKey || e.event.metaKey,\n                multiple = that.options.multiple,\n                shiftKey = multiple && e.event.shiftKey,\n                selectedClass = that.options.selectedClass || SELECTED,\n                selected,\n                whichCode = e.event.which,\n                buttonCode = e.event.button;\n\n            //in case of hierarchy or right-click\n            if (!that._isElement(target.closest(\".\" + SELECTABLE)) || whichCode && whichCode == 3 || buttonCode && buttonCode == 2) {\n                return;\n            }\n\n            if (!this._allowSelection(e.event.target)) {\n                return;\n            }\n\n            selected = target.hasClass(selectedClass);\n            if (!multiple || !ctrlKey) {\n                that.clear();\n            }\n\n            target = target.add(that.relatedTarget(target));\n\n            if (shiftKey) {\n                that.selectRange(that._firstSelectee(), target, e);\n            } else {\n                if (selected && ctrlKey) {\n                    that._unselect(target);\n                    that._notify(CHANGE, e);\n                } else {\n                    that.value(target, e);\n                }\n\n                that._lastActive = that._downTarget = target;\n            }\n        },\n\n        _start: function(e) {\n            var that = this,\n                target = $(e.target),\n                selectedClass = that.options.selectedClass || SELECTED,\n                selected = target.hasClass(selectedClass),\n                currentElement,\n                ctrlKey = e.event.ctrlKey || e.event.metaKey;\n\n            if (!this._allowSelection(e.event.target)) {\n                return;\n            }\n\n            that._downTarget = target;\n\n            //in case of hierarchy\n            if (!that._isElement(target.closest(\".\" + SELECTABLE))) {\n                that.userEvents.cancel();\n                return;\n            }\n\n            if (that.options.useAllItems) {\n                that._items = that.element.find(that.options.filter);\n            } else {\n                currentElement = target.closest(that.element);\n                that._items = currentElement.find(that.options.filter);\n            }\n\n            e.sender.capture();\n\n            that._marquee\n                .appendTo(document.body)\n                .css({\n                    left: e.x.client + 1,\n                    top: e.y.client + 1,\n                    width: 0,\n                    height: 0\n                });\n\n            if (!ctrlKey) {\n                that.clear();\n            }\n\n            target = target.add(that.relatedTarget(target));\n            if (selected) {\n                that._selectElement(target, true);\n                if (ctrlKey) {\n                    target.addClass(UNSELECTING);\n                }\n            }\n        },\n\n        _move: function(e) {\n            var that = this,\n                position = {\n                    left: e.x.startLocation > e.x.location ? e.x.location : e.x.startLocation,\n                    top: e.y.startLocation > e.y.location ? e.y.location : e.y.startLocation,\n                    width: abs(e.x.initialDelta),\n                    height: abs(e.y.initialDelta)\n                };\n\n            that._marquee.css(position);\n\n            that._invalidateSelectables(position, (e.event.ctrlKey || e.event.metaKey));\n\n            e.preventDefault();\n        },\n\n        _end: function(e) {\n            var that = this,\n            rangeSelectedAttr = kendo.attr(\"range-selected\"),\n            uid = kendo.guid();\n\n            that._marquee.remove();\n\n            that._unselect(that.element\n                .find(that.options.filter + \".\" + UNSELECTING))\n                .removeClass(UNSELECTING);\n\n\n            var target = that.element.find(that.options.filter + \".\" + ACTIVE);\n            target = target.add(that.relatedTarget(target));\n\n            if (that.options.addIdToRanges) {\n                for (var i = 0; i < that._currentlyActive.length; i++) {\n                    $(that._currentlyActive[i]).attr(rangeSelectedAttr, uid);\n                }\n            }\n\n            that.value(target, e);\n            that._lastActive = that._downTarget;\n            that._items = null;\n        },\n\n        _invalidateSelectables: function(position, ctrlKey) {\n            var idx,\n                length,\n                target = this._downTarget[0],\n                items = this._items,\n                selectedClass = this.options.selectedClass || SELECTED,\n                related,\n                toSelect;\n\n            this._currentlyActive = [];\n\n            for (idx = 0, length = items.length; idx < length; idx ++) {\n                toSelect = items.eq(idx);\n                related = toSelect.add(this.relatedTarget(toSelect));\n\n                if (collision(toSelect, position)) {\n                    if(toSelect.hasClass(selectedClass)) {\n                        if(ctrlKey && target !== toSelect[0]) {\n                            related.removeClass(selectedClass).addClass(UNSELECTING);\n                        }\n                    } else if (!toSelect.hasClass(ACTIVE) && !toSelect.hasClass(UNSELECTING) && !this._collidesWithActiveElement(related, position)) {\n                        related.addClass(ACTIVE);\n                    }\n                    this._currentlyActive.push(related[0]);\n                } else {\n                    if (toSelect.hasClass(ACTIVE)) {\n                        related.removeClass(ACTIVE);\n                    } else if(ctrlKey && toSelect.hasClass(UNSELECTING)) {\n                        related.removeClass(UNSELECTING).addClass(selectedClass);\n                    }\n                }\n            }\n        },\n\n        _collidesWithActiveElement: function (element, marqueeRect) {\n            if (!this.options.ignoreOverlapped) {\n                return false;\n            }\n\n            var activeElements = this._currentlyActive;\n            var elemRect = element[0].getBoundingClientRect();\n            var activeElementRect;\n            var collision = false;\n            var isRtl = kendo.support.isRtl(element);\n            var leftRight = isRtl ? \"right\" : \"left\";\n            var tempRect = {};\n\n            marqueeRect.right = marqueeRect.left + marqueeRect.width;\n            marqueeRect.bottom = marqueeRect.top + marqueeRect.height;\n\n            for (var i = 0; i < activeElements.length; i++) {\n                activeElementRect = activeElements[i].getBoundingClientRect();\n                if (overlaps(elemRect, activeElementRect)) {\n                    tempRect[leftRight] = leftRight === \"left\" ? activeElementRect.right : activeElementRect.left;\n                    elemRect = extend({}, elemRect, tempRect);\n                    if (elemRect.left > elemRect.right) {\n                        return true;\n                    }\n                    collision = !overlaps(elemRect, marqueeRect);\n                }\n            }\n            return collision;\n        },\n\n        value: function(val, e) {\n            var that = this,\n                selectElement = that._selectElement.bind(that);\n\n            if(val) {\n                val.each(function() {\n                    selectElement(this);\n                });\n\n                that._notify(CHANGE, e);\n                return;\n            }\n\n            return that.element.find(that.options.filter + \".\" + (that.options.selectedClass || SELECTED));\n        },\n\n        selectedRanges: function () {\n            var that = this;\n            var rangeSelectedAttr = kendo.attr(\"range-selected\");\n            var map = {};\n\n            that.element.find(\"[\" + rangeSelectedAttr + \"]\").each(function (_, elem) {\n                var rangeId = $(elem).attr(rangeSelectedAttr);\n                var mapLocation = map[rangeId];\n\n                if (!mapLocation) {\n                    mapLocation = map[rangeId] = [];\n                }\n\n                mapLocation.push($(elem));\n            });\n\n            return map;\n        },\n\n        selectedSingleItems: function () {\n            var that = this;\n            var rangeSelectedAttr = kendo.attr(\"range-selected\");\n\n            return that.element.find(that.options.filter + \".\" + (that.options.selectedClass || SELECTED) + \":not([\" + rangeSelectedAttr + \"])\").toArray().map(function (elem) {\n                return $(elem);\n            });\n        },\n\n        _firstSelectee: function() {\n            var that = this,\n                selected;\n\n            if(that._lastActive !== null) {\n                return that._lastActive;\n            }\n\n            selected = that.value();\n            return selected.length > 0 ?\n                    selected[0] :\n                    that.element.find(that.options.filter)[0];\n        },\n\n        _selectElement: function(element, preventNotify) {\n            var toSelect = $(element),\n                selectedClass = this.options.selectedClass || SELECTED,\n                isPrevented =  !preventNotify && this._notify(\"select\", { element: element });\n\n            toSelect.removeClass(ACTIVE);\n            if(!isPrevented) {\n                 toSelect.addClass(selectedClass);\n\n                if (this.options.aria) {\n                    toSelect.attr(ARIASELECTED, true);\n                }\n            }\n        },\n\n        _notify: function(name, args) {\n            args = args || { };\n            return this.trigger(name, args);\n        },\n\n        _unselect: function(element) {\n            if (this.trigger(UNSELECT, { element: element})) {\n                return;\n            }\n\n            var rangeSelectedAttr = kendo.attr(\"range-selected\");\n\n            element.removeClass(this.options.selectedClass || SELECTED).removeAttr(rangeSelectedAttr);\n\n            if (this.options.aria) {\n                element.attr(ARIASELECTED, false);\n            }\n\n            return element;\n        },\n\n        _select: function(e) {\n            if (this._allowSelection(e.event.target)) {\n                if (!msie || (msie && !$(kendo._activeElement()).is(this.options.inputSelectors))) {\n                    e.preventDefault();\n                }\n            }\n        },\n\n        _allowSelection: function(target) {\n            if ($(target).is(this.options.inputSelectors)) {\n                this.userEvents.cancel();\n                this._downTarget = null;\n                return false;\n            }\n\n            return true;\n        },\n\n        resetTouchEvents: function() {\n            this.userEvents.cancel();\n        },\n\n        clear: function() {\n            var items = this.element.find(this.options.filter + \".\" + (this.options.selectedClass || SELECTED));\n            this._unselect(items);\n        },\n\n        selectRange: function(start, end, e) {\n            var that = this,\n                idx,\n                tmp,\n                items;\n\n            that.clear();\n\n            if (that.element.length > 1) {\n                items = that.options.continuousItems();\n            }\n\n            if (!items || !items.length) {\n                items = that.element.find(that.options.filter);\n            }\n\n            start = $.inArray($(start)[0], items);\n            end = $.inArray($(end)[0], items);\n\n            if (start > end) {\n                tmp = start;\n                start = end;\n                end = tmp;\n            }\n\n            if (!that.options.useAllItems) {\n                end += that.element.length - 1;\n            }\n\n            for (idx = start; idx <= end; idx ++ ) {\n                that._selectElement(items[idx]);\n            }\n\n            that._notify(CHANGE, e);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that.element.off(NS);\n\n            that.userEvents.destroy();\n\n            that._marquee = that._lastActive = that.element = that.userEvents = null;\n        }\n    });\n\n    Selectable.parseOptions = function(selectable) {\n        var selectableMode = selectable.mode || selectable;\n        var asLowerString = typeof selectableMode === \"string\" && selectableMode.toLowerCase();\n        return {\n            multiple: asLowerString && asLowerString.indexOf(\"multiple\") > -1,\n            cell: asLowerString && asLowerString.indexOf(\"cell\") > -1\n        };\n    };\n\n    function collision(element, position) {\n        if (!element.is(\":visible\")) {\n            return false;\n        }\n\n        var elementPosition = kendo.getOffset(element),\n            right = position.left + position.width,\n            bottom = position.top + position.height;\n\n        elementPosition.right = elementPosition.left + kendo._outerWidth(element);\n        elementPosition.bottom = elementPosition.top + kendo._outerHeight(element);\n\n        return !(elementPosition.left > right||\n            elementPosition.right < position.left ||\n            elementPosition.top > bottom ||\n            elementPosition.bottom < position.top);\n    }\n\n    function overlaps(firstRect, secondRect) {\n        return !(firstRect.right <= secondRect.left ||\n            firstRect.left >= secondRect.right ||\n            firstRect.bottom <= secondRect.top ||\n            firstRect.top >= secondRect.bottom);\n    }\n\n    kendo.ui.plugin(Selectable);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function (f, define) {\n    define('kendo.badge',[\"kendo.core\"], f);\n})(function () {\n\nvar __meta__ = {// jshint ignore:line\n    id: \"badge\",\n    name: \"Badge\",\n    category: \"web\", // suite\n    description: \"The Badge decorates avatars, navigation menus, or other components in the application when visual notification is needed\",\n    depends: [\"core\"] // dependencies\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo;\n    var Widget = kendo.ui.Widget;\n    var ui = kendo.ui;\n    var HIDDEN = 'k-hidden';\n\n    var iconTemplate = '<span class=\\'k-badge-icon k-icon k-i-#= icon #\\'></span>';\n    var svgIconTemplate = '<span class=\\'k-badge-icon k-svg-icon\\'>#= icon #</span>';\n\n    var Badge = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._content();\n\n            that._appearance();\n\n            kendo.notify(that);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n        },\n\n        options: {\n            name: 'Badge',\n            cutoutBorder: false,\n            data: {},\n            fill: 'solid',\n            icon: '',\n            max: Infinity,\n            position: 'inline',\n            align: '',\n            sizes: {\n                'small': 'sm',\n                'medium': 'md',\n                'large': 'lg'\n            },\n            size: 'medium',\n            shape: 'rounded',\n            template: null,\n            text: '',\n            themeColor: 'secondary',\n            visible: true,\n            _classNames: []\n        },\n\n        _content: function() {\n            var that = this;\n            var text = that.options.text;\n            var template = that.options.template;\n            var data = that.options.data;\n            var icon = that.options.icon;\n\n            // Order of precedence\n            // 1) template\n            // 2) icon\n            // 3) text\n            // 4) content\n\n            if (template !== null) {\n                that._text = text;\n                that._template = kendo.template(template).bind(that);\n                that.element.html( that._template(data) );\n\n                return;\n            }\n\n            if (icon !== '') {\n                that.icon(icon);\n\n                return;\n            }\n\n            if (text !== '') {\n                that.text(text);\n\n                return;\n            }\n\n            that.text(that.element.html());\n        },\n\n        _appearance: function() {\n            var that = this;\n            that._themeColor = that.options.themeColor;\n            that._shape = that.options.shape;\n            that._sizes = that.options.sizes;\n            that._size = that.options.size;\n            that._fill = that.options.fill;\n            that._cutoutBorder = that.options.cutoutBorder;\n            that._align = that.options.align;\n            that._position = that.options.position;\n            that._visible = that.options.visible;\n\n            that._updateClassNames();\n        },\n\n        _updateClassNames: function() {\n            var that = this;\n            var classNames = ['k-badge'];\n            var keepClassNames = that.options._classNames;\n            var themeColor = that._themeColor;\n            var shape = that._shape;\n            var sizes = that._sizes;\n            var size = that._size;\n            var sizeAbbr = sizes[size] === undefined ? size : sizes[size];\n            var fill = that._fill;\n            var cutoutBorder = that._cutoutBorder;\n            var align = that._align;\n            var position = that._position;\n            var visible = that._visible;\n\n            // Remove all class names\n            that.element.removeClass(function(index, className) {\n                if (className.indexOf('k-') === 0 && keepClassNames.indexOf(className) === -1) {\n                    that.element.removeClass(className);\n                }\n            });\n\n            // Fill\n            if (typeof fill === 'string' && fill !== '') {\n                classNames.push('k-badge-' + fill);\n            }\n\n            // Color\n            if (typeof themeColor === 'string' && themeColor !== '') {\n                classNames.push('k-badge-' + themeColor);\n            }\n\n            // Size\n            if (typeof size === 'string' && size !== '') {\n                classNames.push('k-badge-' + sizeAbbr);\n            }\n\n            // Shape\n            if (typeof shape === 'string' && shape !== '') {\n                classNames.push('k-badge-' + shape);\n            }\n\n            // Cutout border\n            if (typeof cutoutBorder === 'boolean' && cutoutBorder === true) {\n                classNames.push('k-badge-border-cutout');\n            }\n\n            // Position\n            if (typeof position === 'string' && position !== '') {\n                classNames.push('k-badge-' + position);\n            }\n\n            // Align\n            if (typeof position === 'string' && position !== '' && position !== 'inline' && typeof align === 'string' && align.split(' ').length == 2) {\n                classNames.push('k-' + align.replace(' ', '-'));\n            }\n\n            // Visibility\n            if (visible === false) {\n                classNames.push(HIDDEN);\n            }\n\n            // Apply classnames\n            that.element.addClass(classNames.join(' '));\n        },\n\n        setOptions: function(options) {\n            var that = this;\n\n            that.element.removeClass(function(index, className) {\n                if (className.indexOf('k-') >= 0) {\n                    that.element.removeClass(className);\n                }\n            });\n\n            Widget.fn.setOptions.call(that, options);\n\n            that._content();\n\n            that._appearance();\n        },\n\n        text: function(text) {\n            var that = this;\n            var max = that.options.max;\n\n            // handle badge.text()\n            if (arguments.length === 0 || text === undefined) {\n                return that._text;\n            }\n\n            that._text = text;\n\n            // handle badge.text(true|false|null)\n            if (text === true || text === false || text === null) {\n                that.element.html('');\n\n                return;\n            }\n\n            // handle badge.text('string')\n            if (typeof text === 'string') {\n                that.element.html(text);\n\n                return;\n            }\n\n            // handle badge.text(1)\n            if (typeof text === 'number') {\n                if (text > max) {\n                    that.element.html(max + '+');\n                } else {\n                    that.element.html(text);\n                }\n\n                return;\n            }\n\n            // handle other objects\n            if (typeof text === 'object' && 'toString' in text) {\n                that.element.html(text.toString());\n\n                return;\n            }\n\n        },\n\n        icon: function(icon) {\n            var that = this;\n            var iconTemplateFunction;\n\n            // handle badge.icon()\n            if (arguments.length === 0 || icon === undefined) {\n                return that._icon;\n            }\n\n            that._icon = icon;\n\n            // Handle badge.icon(<SVG />)\n            if (icon.indexOf('<svg') === 0) {\n                iconTemplateFunction = kendo.template(svgIconTemplate);\n                that.element.html(iconTemplateFunction({ icon: icon }));\n\n                return;\n            }\n\n            // Handle badge.icon(ICON_NAME)\n            iconTemplateFunction = kendo.template(iconTemplate);\n            that.element.html(iconTemplateFunction({ icon: icon }));\n        },\n\n        themeColor: function(color) {\n            var that = this;\n\n            // handle badge.color()\n            if (arguments.length === 0 || color === undefined) {\n                return that._themeColor;\n            }\n\n            that._themeColor = color;\n            that._updateClassNames();\n        },\n\n        shape: function(shape) {\n            var that = this;\n\n            // handle badge.shape()\n            if (arguments.length === 0 || shape === undefined) {\n                return that._shape;\n            }\n\n            that._shape = shape;\n            that._updateClassNames();\n        },\n\n        hide: function() {\n            var that = this;\n            that._visible = false;\n\n            that._updateClassNames();\n        },\n\n        show: function() {\n            var that = this;\n            that._visible = true;\n\n            that._updateClassNames();\n        }\n    });\n\n    ui.plugin(Badge);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n});\n(function(f, define){\n    define('kendo.html.base',[\n        \"kendo.core\"\n    ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"html.base\",\n    name: \"Html.Base\",\n    category: \"web\",\n    description: \"\",\n    depends: [\"core\"],\n    features: []\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        Class = kendo.Class;\n\n    kendo.html = kendo.html || {};\n\n    var HTMLBase = Class.extend({\n        init: function (element, options) {\n            var that = this;\n            that.element = $(element);\n            options = options || {};\n            delete options.name;\n            that._initOptions(options);\n        },\n        options: {\n            stylingOptions: []\n        },\n        _addClasses: function () {\n            var that = this,\n                options = that.options,\n                stylingOptions = options.stylingOptions;\n\n            stylingOptions = stylingOptions.map(function(option){\n                var validFill;\n\n                if (option === \"themeColor\") {\n                    validFill = kendo.cssProperties.getValidClass({\n                        widget: options.name,\n                        propName: \"fillMode\",\n                        value: options.fillMode\n                    });\n\n                    if (!validFill || validFill.length === 0) {\n                        return \"\";\n                    }\n                }\n\n                return kendo.cssProperties.getValidClass({\n                    widget: options.name,\n                    propName: option,\n                    value: options[option],\n                    fill: options.fillMode\n                });\n            });\n\n            that.wrapper.addClass(stylingOptions.join(\" \"));\n        },\n        html: function () {\n            var that = this;\n\n            return that.wrapper[0].outerHTML;\n        }\n    });\n\n    $.extend(kendo.html, {\n        HTMLBase: HTMLBase\n    });\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.html.button',[\n        \"kendo.html.base\"\n    ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"html.button\",\n    name: \"Html.Button\",\n    category: \"web\",\n    description: \"HTML rendering utility for Kendo UI for jQuery.\",\n    depends: [ \"html.base\" ],\n    features: []\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        HTMLBase = kendo.html.HTMLBase,\n\n        KBUTTON = \"k-button\",\n        KBUTTONICON = \"k-button-icon\",\n        KBUTTONTEXT = \"k-button-text\";\n\n    var renderButton = function (element, options) {\n        if (arguments[0] === undefined || $.isPlainObject(arguments[0])) {\n            options = element;\n            element = $(\"<button></button>\");\n        }\n\n        return (new HTMLButton(element, options)).html();\n    };\n\n    var HTMLButton = HTMLBase.extend({\n        init: function (element, options) {\n            var that = this;\n            HTMLBase.fn.init.call(that, element, options);\n            that.wrapper = that.element.addClass(KBUTTON);\n\n            if (!that.element.attr(\"type\")) {\n                that.element.attr(\"type\", that.options.type);\n            }\n\n            that._addClasses();\n            that.iconElement();\n            that._textElement();\n        },\n        options: {\n            name: \"HTMLButton\",\n            type: \"button\",\n            icon: \"\",\n            iconClass: \"\",\n            spriteCssClass: \"\",\n            imageUrl: \"\",\n            size: \"medium\",\n            rounded: \"medium\",\n            fillMode: \"solid\",\n            themeColor: \"base\",\n            stylingOptions: [ \"size\", \"rounded\", \"fillMode\", \"themeColor\" ]\n        },\n        iconElement: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                icon = options.icon,\n                iconClass = options.iconClass,\n                spriteCssClass = options.spriteCssClass,\n                imageUrl = options.imageUrl,\n                span, img, isEmpty;\n\n            if (spriteCssClass || imageUrl || icon || iconClass) {\n                isEmpty = true;\n\n                element.contents().filter(function() {\n                    return (!$(this).hasClass(\"k-sprite\") && !$(this).hasClass(\"k-icon\") && !$(this).hasClass(\"k-image\"));\n                }).each(function(idx, el){\n                    if (el.nodeType == 1 || el.nodeType == 3 && kendo.trim(el.nodeValue).length > 0) {\n                        isEmpty = false;\n                    }\n                });\n            }\n\n            if (isEmpty) {\n                that.element.addClass(\"k-icon-button\");\n            }\n\n            if (imageUrl) {\n                img = element.children(\"img.k-image\").first();\n                if (!img[0]) {\n                    img = $('<img alt=\"icon\" class=\"k-image\" />').prependTo(element);\n                }\n                img.attr(\"src\", imageUrl);\n                img.addClass(KBUTTONICON);\n            } else if (icon || iconClass) {\n                span = element.children(\"span.k-icon\").first();\n                if (!span[0]) {\n                    span = $('<span></span>').prependTo(element);\n                }\n                span.attr(\"class\", icon ? \"k-icon k-i-\" + icon : iconClass);\n                span.addClass(KBUTTONICON);\n            } else if (spriteCssClass) {\n                span = element.children(\"span.k-sprite\").first();\n                if (!span[0]) {\n                    span = $('<span class=\"k-sprite\"></span>').prependTo(element);\n                }\n                span.addClass(spriteCssClass + \" \" + KBUTTONICON);\n            }\n        },\n        _textElement: function() {\n            var element = this.element;\n\n            element.contents().filter(function() {\n                return (!$(this).hasClass(KBUTTONICON) && !$(this).hasClass(\"k-sprite\") && !$(this).hasClass(\"k-icon\") && !$(this).hasClass(\"k-image\"));\n            }).each(function(idx, el){\n                if (el.nodeType == 1 || el.nodeType == 3 && kendo.trim(el.nodeValue).length > 0) {\n                    if (el.nodeType === 3) {\n                        var parent = el.parentNode;\n                        var newSpan = document.createElement('span');\n\n                        newSpan.appendChild(document.createTextNode(el.nodeValue));\n                        parent.replaceChild(newSpan, el);\n\n                        el = newSpan;\n                    }\n\n                    el.classList.add(KBUTTONTEXT);\n                }\n            });\n        }\n    });\n\n    $.extend(kendo.html, {\n        renderButton: renderButton,\n        HTMLButton: HTMLButton\n    });\n\n    kendo.cssProperties.registerPrefix(\"HTMLButton\", \"k-button-\");\n\n    kendo.cssProperties.registerValues(\"HTMLButton\", [{\n        prop: \"fillMode\",\n        values: kendo.cssProperties.fillModeValues.concat([\"link\"])\n    }, {\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function (f, define) {\n    define('kendo.button',[\"kendo.core\", \"kendo.badge\", \"kendo.html.button\"], f);\n})(function () {\n\n    var __meta__ = { // jshint ignore:line\n        id: \"button\",\n        name: \"Button\",\n        category: \"web\",\n        description: \"The Button widget displays styled buttons.\",\n        depends: [\"core\", \"badge\", \"html.button\"]\n    };\n\n    (function ($, undefined) {\n        var kendo = window.kendo,\n            Widget = kendo.ui.Widget,\n            html = kendo.html,\n            ui = kendo.ui,\n            keys = kendo.keys,\n            CLICK = \"click\",\n            MOUSEDOWN = kendo.support.mousedown,\n            MOUSEUP = kendo.support.mouseup,\n            MOUSEOUT = \"mouseout\",\n            NS = \".kendoButton\",\n            DISABLED = \"disabled\",\n            DISABLEDSTATE = \"k-disabled\",\n            FOCUSEDSTATE = \"k-focus\",\n            ACTIVESTATE = \"k-active\";\n\n        var BUTTON_DEFAULTS = {\n            icon: \"\",\n            iconClass: \"\",\n            spriteCssClass: \"\",\n            imageUrl: \"\",\n            badge: null\n        };\n        kendo.setDefaults(\"button\", BUTTON_DEFAULTS);\n\n        var Button = Widget.extend({\n            init: function (element, options) {\n                var that = this;\n\n                Widget.fn.init.call(that, element, options);\n\n                element = that.wrapper = that.element;\n                options = that.options;\n\n                html.renderButton(element, $.extend({}, options));\n\n                element.attr(\"role\", \"button\");\n\n                options.enable = options.enable && options.enabled && !element.attr(DISABLED);\n                that.enable(options.enable);\n\n                if (options.enable) {\n                    that._tabindex();\n                }\n\n                that._badge();\n\n                element\n                    .on(CLICK + NS, that._click.bind(that))\n                    .on(\"focus\" + NS, that._focus.bind(that))\n                    .on(\"blur\" + NS, that._blur.bind(that))\n                    .on(\"keydown\" + NS, that._keydown.bind(that))\n                    .on(\"keyup\" + NS, that._removeActive.bind(that))\n                    .on(MOUSEDOWN + NS, that._addActive.bind(that))\n                    .on(MOUSEUP + NS  + \" \" + MOUSEOUT + NS, that._removeActive.bind(that));\n\n                kendo.notify(that);\n            },\n\n            destroy: function() {\n                var that = this;\n\n                that.wrapper.off(NS);\n\n                if (that.badge){\n                    that.badge.destroy();\n                }\n\n                Widget.fn.destroy.call(that);\n            },\n\n            events: [\n                CLICK\n            ],\n\n            options: {\n                name: \"Button\",\n                enable: true,\n                enabled: true,\n                icon: \"\",\n                iconClass: \"\",\n                spriteCssClass: \"\",\n                imageUrl: \"\",\n                badge: null,\n                size: \"medium\",\n                shape: \"rectangle\",\n                rounded: \"medium\",\n                fillMode: \"solid\",\n                themeColor: \"base\"\n            },\n\n            _isNativeButton: function() {\n                return this.element.prop(\"tagName\").toLowerCase() == \"button\";\n            },\n\n            _click: function(e) {\n                if (this.options.enable) {\n                    if (this.trigger(CLICK, { event: e })) {\n                        e.preventDefault();\n                    }\n                }\n            },\n\n            _focus: function() {\n                if (this.options.enable) {\n                    this.element.addClass(FOCUSEDSTATE);\n                }\n            },\n\n            _blur: function() {\n                var that = this;\n                that.element.removeClass(FOCUSEDSTATE);\n                setTimeout(function() {\n                    that.element.removeClass(ACTIVESTATE);\n                });\n            },\n\n            _keydown: function(e) {\n                var that = this;\n                if (e.keyCode == keys.ENTER || e.keyCode == keys.SPACEBAR) {\n                    that._addActive();\n\n                    if (!that._isNativeButton()) {\n                        if (e.keyCode == keys.SPACEBAR) {\n                            e.preventDefault();\n                        }\n                        that._click(e);\n                    }\n                }\n            },\n\n            _removeActive: function() {\n                this.element.removeClass(ACTIVESTATE);\n            },\n\n            _addActive: function() {\n                if (this.options.enable) {\n                    this.element.addClass(ACTIVESTATE);\n                }\n            },\n\n            enable: function(enable) {\n                var that = this,\n                    element = that.element;\n\n                if (enable === undefined) {\n                    enable = true;\n                }\n\n                enable = !!enable;\n                that.options.enable = enable;\n                element.toggleClass(DISABLEDSTATE, !enable)\n                    .attr(\"aria-disabled\", !enable)\n                    .attr(DISABLED, !enable);\n\n                if (enable) {\n                    that._tabindex();\n                }\n\n                // prevent 'Unspecified error' in IE when inside iframe\n                try {\n                    element.trigger(\"blur\");\n                } catch (err) {}\n            },\n\n            _badge: function() {\n                var that = this;\n                var badgeOptions = that.options.badge;\n                var badgeEelement;\n\n                if (badgeOptions === null || badgeOptions === undefined) {\n                    return;\n                }\n\n                if (badgeOptions.constructor !== Object) {\n                    badgeOptions = { text: badgeOptions };\n                }\n\n                if (badgeOptions.position === undefined || badgeOptions.position === \"\") {\n                    badgeOptions.position = \"edge\";\n\n                    if (badgeOptions.align === undefined || badgeOptions.align === \"\") {\n                        badgeOptions.align = \"top end\";\n                    }\n                }\n\n                badgeOptions._classNames = [\"k-button-badge\"];\n\n                that.element.addClass(\"k-badge-container\");\n\n                badgeEelement = $('<span />').appendTo(that.element);\n                that.badge = new ui.Badge(badgeEelement, badgeOptions);\n            }\n        });\n\n        if (Button.fn.hasOwnProperty(\"defaults\") === false) {\n            Object.defineProperty(Button.fn, \"defaults\", {\n                get: function() {\n                    return kendo.defaults.button;\n                }\n            });\n        }\n\n        kendo.cssProperties.registerPrefix(\"Button\", \"k-button-\");\n\n        kendo.cssProperties.registerValues(\"Button\", [{\n            prop: \"fillMode\",\n            values: kendo.cssProperties.fillModeValues.concat([\"link\"])\n        }, {\n            prop: \"rounded\",\n            values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n        }]);\n\n        kendo.ui.plugin(Button);\n\n    })(window.kendo.jQuery);\n\n    return window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.bottomnavigation',[ \"kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"bottomnavigation\",\n    name: \"BottomNavigation\",\n    category: \"web\",\n    description: \"The BottomNavigation widget is a navigation element that allows movement between primary destinations in an app.\",\n    depends: [ \"core\" ]\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        extend = $.extend,\n        template = kendo.template,\n        keys = kendo.keys,\n        isPlainObject = $.isPlainObject,\n        isEmptyObject = $.isEmptyObject,\n\n        NS = \".kendoBottomNavigation\",\n        PREFIX = \"k-bottom-nav-\",\n        K_POS = \"k-pos-\",\n        DOT = \".\",\n\n        SELECT = \"select\";\n\n    var isString = function (value) {\n        return typeof value === \"string\";\n    };\n\n    var bottomNavigationStyles = {\n        widget: \"k-bottom-nav\",\n        item: \"k-bottom-nav-item\",\n        navIcon: \"k-bottom-nav-item-icon\",\n        icon: \"k-icon\",\n        text: \"k-bottom-nav-item-text\",\n        itemFlow: {\n            vertical: \"k-bottom-nav-item-flow-vertical\",\n            horizontal: \"k-bottom-nav-item-flow-horizontal\"\n        },\n        selected: \"k-state-selected\",\n        disabled: \"k-state-disabled\",\n        border: \"k-bottom-nav-border\",\n        shadow: \"k-bottom-nav-shadow\",\n        focus: \"k-state-focused\"\n    };\n\n    var templates = {\n        item: template(\"<span class='\" + bottomNavigationStyles.item + \"'></span>\"),\n        anchor: template(\"<a class='\" + bottomNavigationStyles.item + \"' href='#:url#'></a>\"),\n        text: template(\"<span class='\" + bottomNavigationStyles.text + \"'>#=text#</span>\"),\n        icon: template(\"<span class='\" + bottomNavigationStyles.navIcon + \"#if(icon){# k-icon k-i-#:icon# #}#'></span>\")\n    };\n\n    var BottomNavigation = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n            options = options || {};\n            Widget.fn.init.call(that, element, options);\n\n            that.element = $(element);\n\n            that._updateCssClasses();\n            that._items();\n            that._bindEvents();\n        },\n\n        options: {\n            name: \"BottomNavigation\",\n            positionMode: \"fixed\",\n            items: [],\n            themeColor: \"primary\",\n            itemFlow: \"vertical\",\n            fill: \"flat\",\n            shadow: false,\n            border: true,\n            template: null\n        },\n\n        events: [\n            SELECT\n        ],\n\n        destroy: function() {\n            var that = this;\n\n            that.element.off(NS);\n\n            Widget.fn.destroy.call(this);\n        },\n\n        _tabindex: function(target) {\n            var that = this,\n                element = that.element,\n                TABINDEX = \"tabindex\",\n                cachedTabIndex = element.attr(\"data-\" + kendo.ns + TABINDEX),\n                tabindex = target.attr(TABINDEX) || element.attr(TABINDEX) || cachedTabIndex;\n\n            if(!cachedTabIndex) {\n                element.removeAttr(TABINDEX);\n                element.attr(\"data-\" + kendo.ns + TABINDEX, tabindex);\n            }\n\n            target.attr(TABINDEX, !isNaN(tabindex) ? tabindex : 0);\n        },\n\n        _updateCssClasses: function () {\n            var that = this,\n                options = that.options,\n                styles = bottomNavigationStyles;\n\n            // Remove all class names\n            that.element.removeClass(function(index, className) {\n                if (className.indexOf('k-') === 0) {\n                    that.element.removeClass(className);\n                }\n            });\n\n            that.element.addClass(styles.widget);\n            that.element.addClass(kendo.getValidCssClass(PREFIX, \"themeColor\", options.themeColor));\n            that.element.addClass(kendo.getValidCssClass(PREFIX, \"fill\", options.fill));\n            that.element.addClass(kendo.getValidCssClass(K_POS, \"positionMode\", options.positionMode));\n            that.element.toggleClass(styles.border, options.border);\n            that.element.toggleClass(styles.shadow, options.shadow);\n            that._itemFlow(options.itemFlow);\n        },\n\n        _itemFlow: function (orientation) {\n            var that = this,\n                orientationStyles = bottomNavigationStyles.itemFlow;\n\n            that._toggleClassGroup(that.element, orientation, orientationStyles);\n        },\n\n        _toggleClassGroup: function (element, value, group) {\n            if(isString(group[value])) {\n                for (var key in group) {\n                    element.removeClass(group[key]);\n                }\n\n                element.addClass(group[value]);\n            }\n        },\n\n        _items: function () {\n            var that = this,\n                options = that.options,\n                items = options.items,\n                item;\n\n            for (var i = 0; i < items.length; i++) {\n                item = that._renderItem(items[i]);\n                that.element.append(item);\n            }\n        },\n\n        _renderItem: function (item) {\n            var that = this,\n                itemTemplate = item.template || that.options.template,\n                isLink = item.url && isString(item.url),\n                elm, icon;\n\n            elm = $(isLink ? template(templates.anchor)(item) : template(templates.item)(item));\n\n            elm.toggleClass(bottomNavigationStyles.selected, item.selected === true)\n                .toggleClass(bottomNavigationStyles.disabled, item.enabled === false)\n                .addClass(item.cssClass)\n                .attr(extend({}, item.attributes, {\n                    \"aria-disabled\": item.enabled === false\n                }))\n                .data(item.data);\n\n            that._tabindex(elm);\n\n            if(!elm.attr(\"role\") && !isLink) {\n                elm.attr(\"role\", \"link\");\n            }\n\n            if (itemTemplate) {\n                elm.append(template(itemTemplate)(item));\n                return elm;\n            }\n\n            item = extend({}, {\n                icon: \"\"\n            }, item);\n\n            icon = $(templates.icon(item)).addClass(item.iconClass);\n\n            elm.append(icon);\n\n            if (item.text) {\n                item.text = item.encoded === false ? item.text : kendo.htmlEncode(item.text);\n                elm.append($(templates.text(item)));\n            }\n\n            return elm;\n        },\n\n        _bindEvents: function () {\n            var that = this,\n                clickProxy = that._click.bind(that),\n                keydownProxy = that._keydown.bind(that);\n\n            that.element.on(\"click\" + NS, DOT + bottomNavigationStyles.item, clickProxy)\n                        .on(\"keydown\" + NS, DOT + bottomNavigationStyles.item, keydownProxy);\n        },\n\n        _click: function (ev) {\n            var that = this,\n                item = $(ev.target).closest(DOT + bottomNavigationStyles.item);\n\n            if (item.is(DOT + bottomNavigationStyles.disabled)) {\n                ev.preventDefault();\n                return;\n            }\n\n            that._triggerSelect(item, ev);\n        },\n\n        _triggerSelect: function (item, ev) {\n            var that = this;\n\n            if (item.is(DOT + bottomNavigationStyles.disabled)) {\n                return;\n            }\n\n            if(that.trigger(SELECT, { originalEvent: ev, item: item, data: item.data() })) {\n                return;\n            }\n\n            that.select(item);\n        },\n\n        _keydown: function (ev) {\n            var that = this,\n                target = $(ev.target),\n                key = ev.keyCode;\n\n            if (key === keys.ENTER || key === keys.SPACEBAR) {\n                if(that._isItem(target)) {\n                    that._triggerSelect(target, ev);\n\n                    if (key === keys.SPACEBAR) {\n                        ev.preventDefault();\n                    }\n                }\n            }\n        },\n\n        _isItem: function(item) {\n            var that = this;\n\n            item = $(item);\n\n            return item.is(DOT + bottomNavigationStyles.item) && !!that.element.find(item).length;\n        },\n\n        items: function () {\n            var that = this;\n\n            return that.element.children();\n        },\n\n        select: function (item, state) {\n            var that = this,\n                selectedItem = that.items().filter(DOT + bottomNavigationStyles.selected);\n\n            if (!item) {\n                return selectedItem;\n            }\n\n            state = state !== false;\n\n            if(that._isItem(item)) {\n                selectedItem.removeClass(bottomNavigationStyles.selected);\n                $(item).toggleClass(bottomNavigationStyles.selected, state);\n            }\n        },\n\n        enable: function (item, state) {\n            var that = this;\n\n            state = state === false;\n\n            if (item && that._isItem(item)) {\n                $(item).toggleClass(bottomNavigationStyles.disabled, state);\n                $(item).attr(\"aria-disabled\", state);\n            }\n        },\n\n        item: function (index) {\n            var that = this;\n\n            if (isNaN(index)) {\n                return null;\n            }\n\n            return that.items().eq(index);\n        },\n\n        itemById: function (id) {\n            var that = this;\n\n            return that.element.find(\"#\" + id);\n        },\n\n        add: function (item, before) {\n            var that = this,\n                method = \"append\",\n                targetElement = that.element;\n\n            if(before && that._isItem(before)) {\n                method = \"before\";\n                targetElement = $(before);\n            }\n\n            if(item && isPlainObject(item) && !isEmptyObject(item)) {\n                targetElement[method](that._renderItem(item));\n            }\n        },\n\n        remove: function (item) {\n            var that = this;\n\n            if(item && that._isItem(item)) {\n                item.remove();\n            }\n        },\n\n        showText: function (toggle) {\n            var that = this,\n                textItems = that.items().find(DOT + bottomNavigationStyles.text);\n\n            toggle = toggle !== false;\n\n            textItems.toggle(toggle);\n        },\n\n        setOptions: function (options) {\n            var that = this;\n\n            Widget.fn.setOptions.call(this, options);\n            that._updateCssClasses();\n\n            if (\"items\" in options || \"template\" in options) {\n                that.element.empty();\n                that._items();\n            }\n        }\n    });\n\n    ui.plugin(BottomNavigation);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n(function(f, define){\n    define('kendo.pager',[ \"kendo.data\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"pager\",\n    name: \"Pager\",\n    category: \"framework\",\n    depends: [ \"data\" ],\n    advanced: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        keys = kendo.keys,\n        template = kendo.template,\n        FIRST = \".k-i-arrow-end-left\",\n        LAST = \".k-i-arrow-end-right\",\n        PREV = \".k-i-arrow-60-left\",\n        NEXT = \".k-i-arrow-60-right\",\n        SIZE = \"k-pager-md k-pager-sm\",\n        FOCUSABLE = \":kendoFocusable:not([tabindex='-1'])\",\n        CHANGE = \"change\",\n        NS = \".kendoPager\",\n        CLICK = \"click\",\n        KEYDOWN = \"keydown\",\n        DISABLED = \"disabled\",\n        MOUSEDOWN = \"down\",\n        MAX_VALUE = Number.MAX_VALUE,\n        isRtl = false,\n        iconTemplate = kendo.template('<a href=\"\\\\#\" title=\"#=text#\" aria-label=\"#=text#\" #if (id !== \"\") {# aria-describedby=\"#=id#\" #}# class=\"k-link k-pager-nav #= wrapClassName #\"><span class=\"k-icon #= className #\"></span></a>');\n\n    function button(options) {\n        return options.template( {\n            idx: options.idx,\n            text: options.text,\n            ns: kendo.ns,\n            numeric: options.numeric,\n            title: options.title || \"\",\n            tabindex: options.navigatable ? 0 : -1,\n            navigatable: options.navigatable\n        });\n    }\n\n    function selectOption(template, idx, text, selected) {\n        return template( {\n            idx: idx,\n            text: text || idx,\n            selected: selected || false\n        });\n    }\n\n    function icon(className, text, wrapClassName, id) {\n        return iconTemplate({\n            className: className.substring(1),\n            text: text,\n            wrapClassName: wrapClassName || \"\",\n            id: id || \"\"\n        });\n    }\n\n    function update(element, selector, page, disabled) {\n       element.find(selector)\n              .parent()\n              .attr(kendo.attr(\"page\"), page)\n              .attr(\"tabindex\", disabled ? -1 : 0)\n              .toggleClass(\"k-state-disabled\", disabled);\n    }\n\n    function first(element, page) {\n        update(element, FIRST, 1, page <= 1);\n    }\n\n    function prev(element, page) {\n        update(element, PREV, Math.max(1, page - 1), page <= 1);\n    }\n\n    function next(element, page, totalPages) {\n        update(element, NEXT, Math.min(totalPages, page + 1), page >= totalPages);\n    }\n\n    function last(element, page, totalPages) {\n        update(element, LAST, totalPages, page >= totalPages);\n    }\n\n    var Pager = Widget.extend( {\n        init: function(element, options) {\n            var that = this, page, totalPages;\n            var sizeClassName = null;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n            that._createDataSource(options);\n            that.linkTemplate = kendo.template(that.options.linkTemplate);\n            that.selectTemplate = kendo.template(that.options.selectTemplate);\n            that.currentPageTemplate = kendo.template(that.options.currentPageTemplate);\n            that.numericSelectItemTemplate = kendo.template(that.options.numericSelectItemTemplate);\n\n            page = that.page();\n            totalPages = that.totalPages();\n\n            that._refreshHandler = that.refresh.bind(that);\n\n            that.dataSource.bind(CHANGE, that._refreshHandler);\n            that.downEvent = kendo.applyEventMap(MOUSEDOWN, kendo.guid());\n\n            isRtl = kendo.support.isRtl(element);\n\n            if (options.navigatable) {\n                that._id = that.element.attr(\"id\") || kendo.guid();\n            }\n            that._template();\n\n            if (options.previousNext) {\n                if (!that.element.find(FIRST).length) {\n                    that.element.append(icon(FIRST, options.messages.first, \"k-pager-first\", that._id));\n\n                    first(that.element, page, totalPages);\n                }\n\n                if (!that.element.find(PREV).length) {\n                    that.element.append(icon(PREV, options.messages.previous, null, that._id));\n\n                    prev(that.element, page, totalPages);\n                }\n            }\n\n            if (options.numeric) {\n                if (!that._numericWrap) {\n                    that._numericWrap = that.element.find(\".k-pager-numbers-wrap\");\n\n                    if (that._numericWrap.length === 0) {\n                        that._numericWrap = $(\"<div class='k-pager-numbers-wrap' />\").appendTo(that.element);\n                    }\n                }\n\n                if (!that._numericSelect) {\n                    that._numericSelect = that._numericWrap.find(\".k-dropdown\");\n\n                    if (that._numericSelect.length === 0) {\n                       that._numericSelect = $(\"<select class='k-dropdown k-picker k-dropdown-list' />\").appendTo(that._numericWrap);\n                    }\n                }\n\n                if (!that.list) {\n                    that.list = that._numericWrap.find(\".k-pager-numbers\");\n\n                    if (that.list.length === 0) {\n                       that.list = $('<ul class=\"k-pager-numbers\" />').appendTo(that._numericWrap);\n                    }\n                }\n\n                if (options.dataSource && !options.dataSource.total()) {\n                    that._numericSelect.empty().append(\"<option value='0' />\");\n                    that.list.empty().append(that.selectTemplate({ text: 0, tabindex: options.navigatalbe ? 0 : -1, navigatable: options.navigatable, title: kendo.format(options.messages.pageButtonLabel, 0) }));\n                }\n            }\n\n            if (options.input) {\n                if (!that.element.find(\".k-pager-input\").length) {\n                   that.element.append('<span class=\"k-pager-input k-label\">'+\n                       options.messages.page +\n                       '<span class=\"k-textbox k-input k-input-md k-rounded-md k-input-solid\"><input class=\"k-input-inner\" /></span>' +\n                       kendo.format(options.messages.of, totalPages) +\n                       '</span>');\n                }\n\n                that.element.on(KEYDOWN + NS, \".k-pager-input input\", that._keydown.bind(that));\n            }\n\n            if (options.previousNext) {\n                if (!that.element.find(NEXT).length) {\n                    that.element.append(icon(NEXT, options.messages.next, null, that._id));\n\n                    next(that.element, page, totalPages);\n                }\n\n                if (!that.element.find(LAST).length) {\n                    that.element.append(icon(LAST, options.messages.last, \"k-pager-last\", that._id));\n\n                    last(that.element, page, totalPages);\n                }\n            }\n\n            if (options.pageSizes){\n                if (!that.element.find(\".k-pager-sizes\").length){\n                    var pageSizes = options.pageSizes.length ? options.pageSizes : [\"all\", 5, 10, 20];\n                    var pageItems = $.map(pageSizes, function(size) {\n                        if (size.toLowerCase && size.toLowerCase() === \"all\") {\n                            return \"<option value='all'>\" + options.messages.allPages + \"</option>\";\n                        }\n\n                        return \"<option>\" + size + \"</option>\";\n                    });\n\n                    $('<span class=\"k-pager-sizes k-label\"><select></select>' + options.messages.itemsPerPage + \"</span>\")\n                        .appendTo(that.element)\n                        .find(\"select\").html(pageItems.join(\"\")).end()\n                        .appendTo(that.element);\n                }\n\n                that.element.find(\".k-pager-sizes select\").val(that.pageSize());\n\n                if (kendo.ui.DropDownList) {\n                   that.element.find(\".k-pager-sizes select\").show().attr(\"aria-label\", options.messages.pageSizeDropDownLabel).kendoDropDownList();\n                }\n\n                that.element.on(CHANGE + NS, \".k-pager-sizes select\", that._change.bind(that));\n            }\n\n            if (options.refresh) {\n                if (!that.element.find(\".k-pager-refresh\").length) {\n                    that.element.append('<a href=\"#\" class=\"k-pager-refresh k-link\" title=\"' + options.messages.refresh +\n                        '\" aria-label=\"' + options.messages.refresh + '\"><span class=\"k-icon k-i-reload\"></span></a>');\n                }\n\n                that.element.on(CLICK + NS, \".k-pager-refresh\", that._refreshClick.bind(that));\n            }\n\n            if (options.info) {\n                if (!that.element.find(\".k-pager-info\").length) {\n                    that.element.append('<span class=\"k-pager-info k-label\" />');\n                }\n            }\n\n            that.element\n                .on(CLICK + NS , \"a\", that._click.bind(that))\n                .on(CHANGE + NS , \"select.k-dropdown\", that._numericSelectChange.bind(that))\n                .addClass(\"k-pager-wrap k-widget k-floatwrap\");\n\n            if (options.autoBind) {\n                that.refresh();\n            }\n\n            that._resizeHandler = that.resize.bind(that, true);\n            $(window).on(\"resize\" + NS, that._resizeHandler);\n\n            sizeClassName = that._getWidthSizeClass(that.element.outerWidth());\n\n            if (sizeClassName) {\n                that.element.addClass(sizeClassName);\n            }\n\n            that._navigatable();\n\n            kendo.notify(that);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that.element.off(NS);\n            that.dataSource.unbind(CHANGE, that._refreshHandler);\n            that._refreshHandler = null;\n            $(window).off(\"resize\" + NS, this._resizeHandler);\n\n            kendo.destroy(that.element);\n            that.element = that.list = null;\n        },\n\n        events: [\n            CHANGE\n        ],\n\n        options: {\n            name: \"Pager\",\n            ARIATemplate: \"Page navigation, page #=page# of #=totalPages#\",\n            selectTemplate: '<li><span role=\"button\" tabindex=\"#=tabindex#\" #if (navigatable) {# aria-label=\"#=title#\" #}# class=\"k-link k-state-selected\">#=text#</span></li>',\n            currentPageTemplate: '<li class=\"k-current-page\"><span class=\"k-link k-pager-nav\">#=text#</span></li>',\n            linkTemplate: '<li><a tabindex=\"#=tabindex#\" href=\"\\\\#\" class=\"k-link\" data-#=ns#page=\"#=idx#\" #if (title !== \"\") {# title=\"#=title#\" #}#>#=text#</a></li>',\n            numericItemTemplate: '<li><a tabindex=\"-1\" href=\"\\\\#\" class=\"k-link\" data-#=ns#page=\"#=idx#\" #if (title !== \"\") {# title=\"#=title#\" #}#>#=text#</a></li>',\n            numericSelectItemTemplate: '<option value=\"#= idx #\" #if (selected) {# selected=\"selected\" #}#>#= text #</option>',\n            buttonCount: 10,\n            autoBind: true,\n            numeric: true,\n            info: true,\n            input: false,\n            previousNext: true,\n            pageSizes: false,\n            refresh: false,\n            responsive: true,\n            navigatable: false,\n            messages: {\n                allPages: \"All\",\n                display: \"{0} - {1} of {2} items\",\n                empty: \"No items to display\",\n                page: \"Page\",\n                of: \"of {0}\",\n                itemsPerPage: \"items per page\",\n                pageButtonLabel: \"Page {0}\",\n                pageSizeDropDownLabel: \"Page sizes drop down\",\n                first: \"Go to the first page\",\n                previous: \"Go to the previous page\",\n                next: \"Go to the next page\",\n                last: \"Go to the last page\",\n                refresh: \"Refresh\",\n                morePages: \"More pages\"\n            }\n        },\n\n        setDataSource: function(dataSource) {\n            var that = this;\n\n            that.dataSource.unbind(CHANGE, that._refreshHandler);\n            that.dataSource = that.options.dataSource = dataSource;\n            dataSource.bind(CHANGE, that._refreshHandler);\n\n            if (that.options.autoBind) {\n                dataSource.fetch();\n            }\n        },\n\n        _resize: function(size) {\n            if (size.width) {\n                var sizeClassName = this._getWidthSizeClass(size.width);\n                var el = this.element;\n\n                if (!sizeClassName) {\n                    el.removeClass(SIZE);\n                } else if (!el.hasClass(sizeClassName)) {\n                    el.removeClass(SIZE);\n                    el.addClass(sizeClassName);\n                }\n            }\n        },\n\n        _createDataSource: function(options) {\n            this.dataSource = kendo.data.DataSource.create(options.dataSource);\n        },\n\n        refresh: function(e) {\n            var that = this,\n                idx,\n                end,\n                start = 1,\n                reminder,\n                page = that.page(),\n                html = \"\",\n                selectHtml = \"\",\n                options = that.options,\n                pageSize = that.pageSize(),\n                collapsedTotal = that._collapsedTotal(),\n                total = that.dataSource._isGroupPaged() ? that.dataSource.groupsTotal(true) : that.dataSource.total(),\n                totalPages = that.totalPages(),\n                linkTemplate = that.linkTemplate,\n                navigatable = options.navigatable,\n                numericSelectItemTemplate = that.numericSelectItemTemplate,\n                buttonCount = options.buttonCount;\n\n            if (e && e.action == \"itemchange\") {\n                return;\n            }\n\n            if (options.numeric) {\n\n                if (page > buttonCount) {\n                    reminder = (page % buttonCount);\n                    start = (reminder === 0) ? (page - buttonCount) + 1 : (page - reminder) + 1;\n                }\n\n                end = Math.min((start + buttonCount) - 1, totalPages);\n\n                if (start > 1) {\n                    html += button({\n                        template: linkTemplate,\n                        navigatable: navigatable,\n                        idx: start - 1,\n                        text: \"...\",\n                        numeric: false,\n                        title: options.messages.morePages\n                    });\n                    selectHtml += selectOption(numericSelectItemTemplate, start - 1, options.messages.morePages);\n                }\n\n                for (idx = start; idx <= end; idx++) {\n                    html += button({\n                        template: idx == page ? that.selectTemplate : linkTemplate,\n                        navigatable: navigatable,\n                        idx: idx,\n                        text: idx,\n                        numeric: true,\n                        title: kendo.format(options.messages.pageButtonLabel, idx)\n                    });\n                    selectHtml += selectOption(numericSelectItemTemplate, idx, idx, idx == page);\n                }\n\n                if (end < totalPages) {\n                    html += button({\n                        template: linkTemplate,\n                        navigatable: navigatable,\n                        idx: idx,\n                        text: \"...\",\n                        numeric: numericSelectItemTemplate,\n                        title: options.messages.morePages\n                    });\n                    selectHtml += selectOption(numericSelectItemTemplate, idx, options.messages.morePages);\n                }\n\n                if (html === \"\") {\n                    html = that.selectTemplate({ text: 0, tabindex: navigatable ? 0 : -1, navigatable: navigatable, title: kendo.format(options.messages.pageButtonLabel, 0) });\n                    selectHtml = $(\"<option value='0' />\");\n                }\n\n                that.list.html(html);\n                that._numericSelect.html(selectHtml);\n            }\n\n            if (options.info) {\n                if (total > 0) {\n                    html = kendo.format(options.messages.display,\n                        that.dataSource.options.endless ? 1 : Math.min((page - 1) * (that.dataSource.pageSize() || 0) + 1, collapsedTotal), // first item in the page\n                        Math.min(page * pageSize, collapsedTotal), // last item in the page\n                    total);\n                } else {\n                    html = options.messages.empty;\n                }\n\n                that.element.find(\".k-pager-info\").html(html);\n            }\n\n            if (options.input) {\n                that.element\n                    .find(\".k-pager-input\")\n                    .html(that.options.messages.page +\n                        '<span class=\"k-textbox k-input k-input-md k-rounded-md k-input-solid\"><input class=\"k-input-inner\" aria-label=\"' + page + '\"></span>' +\n                        kendo.format(options.messages.of, totalPages))\n                    .find(\"input\")\n                    .val(page)\n                    .attr(DISABLED, total < 1)\n                    .toggleClass(\"k-state-disabled\", total < 1);\n            }\n\n            if (options.previousNext) {\n                first(that.element, page, totalPages);\n\n                prev(that.element, page, totalPages);\n\n                next(that.element, page, totalPages);\n\n                last(that.element, page, totalPages);\n            }\n\n            if (options.pageSizes) {\n                var hasAll = that.element.find(\".k-pager-sizes option[value='all']\").length > 0;\n                var selectAll = hasAll && (pageSize === this.dataSource.total() || pageSize == MAX_VALUE);\n                var text = pageSize;\n                if (selectAll) {\n                    pageSize = \"all\";\n                    text = options.messages.allPages;\n                }\n\n                that.element\n                    .find(\".k-pager-sizes select\")\n                    .val(pageSize)\n                    .attr(\"aria-label\", pageSize)\n                    .filter(\"[\" + kendo.attr(\"role\") + \"=dropdownlist]\")\n                    .kendoDropDownList(\"value\", pageSize)\n                    .kendoDropDownList(\"text\", text); // handles custom values\n            }\n\n            that._restoreFocus(start, end, totalPages);\n            that._excludeChildrenFromTab();\n            that._updateAria();\n        },\n\n        _excludeChildrenFromTab: function () {\n            var activeElement = kendo._activeElement();\n            if (this.options.navigatable && (activeElement === this.element[0] || !$.contains(this.element[0], activeElement))) {\n                this.element.find(FOCUSABLE).attr(\"tabindex\", -1);\n            }\n        },\n\n        _restoreFocus: function (start, end, totalPages) {\n            var that = this;\n\n            if (!that.options.navigatable) {\n                return;\n            }\n\n            if (that._focusSelected) {\n                that.element.find(\".k-state-selected\").trigger(\"focus\");\n                that._focusSelected = null;\n            }\n\n            if (that._focusMore !== null) {\n                if (end < totalPages && that._focusMore) {\n                    that.list.find(\"li\").last().find(\"a\").trigger(\"focus\");\n                }\n                if (!that._focusMore && start > 1) {\n                    that.list.find(\"li\").first().find(\"a\").trigger(\"focus\");\n                }\n                that._focusMore = null;\n            }\n        },\n\n        _restoreTabIndexes: function () {\n            this.element\n                .find(\"[tabindex='-1']:not(.k-state-disabled)\")\n                .attr(\"tabindex\", 0);\n        },\n\n        _collapsedTotal: function() {\n            return this.dataSource.total();\n        },\n\n        _keydown: function(e) {\n            if (e.keyCode === kendo.keys.ENTER) {\n                var input = this.element.find(\".k-pager-input\").find(\"input\"),\n                    page = parseInt(input.val(), 10);\n\n                if (isNaN(page) || page < 1 || page > this.totalPages()) {\n                    page = this.page();\n                }\n\n                input.val(page);\n\n                this.page(page);\n            }\n        },\n\n        _refreshClick: function(e) {\n            e.preventDefault();\n\n            this.dataSource.read();\n        },\n\n        _change: function(e) {\n            var value = e.currentTarget.value;\n            var pageSize = parseInt(value, 10);\n            var dataSource = this.dataSource;\n\n            if (!isNaN(pageSize)){\n                dataSource.pageSize(pageSize);\n            } else if ((value + \"\").toLowerCase() == \"all\") {\n                dataSource._pageSize = undefined;\n                dataSource._take = undefined;\n                dataSource._skip = 0;\n                dataSource.fetch();\n            }\n        },\n\n        _template: function() {\n            this._ariaTemplate = template(this.options.ARIATemplate).bind(this);\n        },\n\n        _updateAria: function () {\n            if (!this.options.navigatable) {\n                return;\n            }\n            this.element.attr(\"aria-label\", this._ariaTemplate({ page: this.page(), totalPages: this.totalPages() }));\n        },\n\n        _navigatable: function () {\n            var that = this;\n            var options = that.options;\n\n            if (!options.navigatable) {\n                return;\n            }\n\n            that.element.attr(\"role\", \"application\");\n            that.element.attr(\"id\", that._id);\n            that._template();\n            that._updateAria();\n\n            that._tabindex(that.element);\n\n            that.element.on(\"keydown\" + NS, that, that._keyDown.bind(that));\n            that.element.on(\"focusout\" + NS, function() { that.element.removeClass(\"k-state-focused\"); });\n            that.element.on(\"focusin\" + NS,  function(e) {\n                that.element.addClass(\"k-state-focused\");\n\n                if (e.target === that.element[0]) {\n                    that.element.find(FOCUSABLE).attr(\"tabindex\", -1);\n                } else {\n                    that.element.removeClass(\"k-state-focused\");\n                }\n            });\n        },\n\n        _keyDown: function (e) {\n            var that = this;\n            var target = $(e.target);\n            var allFocusable;\n            var handled = false;\n            var focusedIndex;\n\n            if (target[0] === that.element[0] && e.keyCode == keys.ENTER) {\n                that._restoreTabIndexes();\n                that.element.find(FOCUSABLE).first().trigger(\"focus\");\n                handled = true;\n            }\n\n            if (target[0] !== that.element[0] && e.keyCode == keys.ESC) {\n                that.element.trigger(\"focus\");\n                handled = true;\n            }\n\n            if (target[0] === that.element[0] && e.keyCode == keys.HOME) {\n                that.page(1);\n                handled = true;\n            }\n\n            if (target[0] === that.element[0] && e.keyCode == keys.END) {\n                that.page(that.totalPages());\n                handled = true;\n            }\n\n            if (target[0] === that.element[0] && (e.keyCode == (isRtl ? keys.LEFT : keys.RIGHT) || e.keyCode == keys.PAGEDOWN)) {\n                that.page(that.page() + 1);\n                handled = true;\n            }\n\n            if (target[0] === that.element[0] && (e.keyCode == (isRtl ? keys.RIGHT : keys.LEFT) || e.keyCode == keys.PAGEUP)) {\n                that.page((that.page() - 1) || 1);\n                handled = true;\n            }\n\n            if (target[0] !== that.element[0] && e.keyCode== keys.TAB) {\n                allFocusable = that.element.find(FOCUSABLE);\n                focusedIndex = allFocusable.index(target);\n\n                if (e.shiftKey) {\n                    if (focusedIndex - 1 < 0) {\n                        allFocusable.last().trigger(\"focus\");\n                    } else {\n                        allFocusable.eq(focusedIndex - 1).trigger(\"focus\");\n                    }\n                } else {\n                    if (focusedIndex + 1 < allFocusable.length) {\n                        allFocusable.eq(focusedIndex +1 ).trigger(\"focus\");\n                    } else {\n                        allFocusable.first().trigger(\"focus\");\n                    }\n                }\n\n                handled = true;\n            }\n\n            if (handled) {\n                e.preventDefault();\n                e.stopPropagation();\n            }\n        },\n\n        _numericSelectChange: function(e) {\n            var target = e.currentTarget;\n            var value = target.value;\n            var page = parseInt(value, 10);\n\n            target.blur();\n\n            this.page(page);\n        },\n\n        _click: function(e) {\n            var target = $(e.currentTarget);\n\n            e.preventDefault();\n\n            if (this.options.navigatable) {\n                if (target.attr(\"title\") == this.options.messages.morePages) {\n                    this._focusMore = target.parent().index();\n                } else if(!target.hasClass(\"k-pager-refresh\") && !target.hasClass(\"k-pager-nav\")) {\n                    this._focusSelected = true;\n                }\n            }\n\n            if (!target.is(\".k-state-disabled\")) {\n                this.page(parseInt(target.attr(kendo.attr(\"page\")), 10));\n            }\n        },\n\n        totalPages: function() {\n            return Math.ceil((this.dataSource.total() || 0) / (this.pageSize() || 1));\n        },\n\n        pageSize: function() {\n            return this.dataSource.pageSize() || this.dataSource.total();\n        },\n\n        page: function(page) {\n            if (page) {\n                if (this.trigger(\"pageChange\", { index: page })) {\n                   return;\n                }\n\n                this.dataSource.page(page);\n\n                this.trigger(CHANGE, { index: page });\n            } else {\n                if (this.dataSource.total() > 0) {\n                    return this.dataSource.page();\n                } else {\n                    return 0;\n                }\n            }\n        },\n\n        _getWidthSizeClass: function(width) {\n            var that = this,\n                sizes = SIZE.split(\" \");\n\n            if (!that.options.responsive) {\n                return null;\n            } else if (width <= 480) {\n                return sizes[1];\n            } else if (width <= 600) {\n                return sizes[0];\n            }\n            return null;\n        }\n    });\n\n    ui.plugin(Pager);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.popup',[ \"kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"popup\",\n    name: \"Pop-up\",\n    category: \"framework\",\n    depends: [ \"core\" ],\n    advanced: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        Class = kendo.Class,\n        support = kendo.support,\n        getOffset = kendo.getOffset,\n        outerWidth = kendo._outerWidth,\n        outerHeight = kendo._outerHeight,\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        DEACTIVATE = \"deactivate\",\n        ACTIVATE = \"activate\",\n        CENTER = \"center\",\n        LEFT = \"left\",\n        RIGHT = \"right\",\n        TOP = \"top\",\n        BOTTOM = \"bottom\",\n        ABSOLUTE = \"absolute\",\n        HIDDEN = \"hidden\",\n        BODY = \"body\",\n        LOCATION = \"location\",\n        POSITION = \"position\",\n        VISIBLE = \"visible\",\n        EFFECTS = \"effects\",\n        ACTIVE = \"k-state-active\",\n        ACTIVEBORDER = \"k-state-border\",\n        ACTIVEBORDERREGEXP = /k-state-border-(\\w+)/,\n        ACTIVECHILDREN = \".k-picker-wrap, .k-dropdown-wrap, .k-link\",\n        MOUSEDOWN = \"down\",\n        DOCUMENT_ELEMENT = $(document.documentElement),\n        WINDOW = $(window),\n        SCROLL = \"scroll\",\n        cssPrefix = support.transitions.css,\n        TRANSFORM = cssPrefix + \"transform\",\n        extend = $.extend,\n        NS = \".kendoPopup\",\n        styles = [\"font-size\",\n                  \"font-family\",\n                  \"font-stretch\",\n                  \"font-style\",\n                  \"font-weight\",\n                  \"line-height\"];\n\n    function contains(container, target) {\n        if (!container || !target) {\n            return false;\n        }\n        return container === target || $.contains(container, target);\n    }\n\n    var Popup = Widget.extend({\n        init: function(element, options) {\n            var that = this, parentPopup;\n\n            options = options || {};\n\n            if (options.isRtl) {\n                options.origin = options.origin || BOTTOM + \" \" + RIGHT;\n                options.position = options.position || TOP + \" \" + RIGHT;\n            }\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.element;\n            options = that.options;\n\n            that.collisions = options.collision ? options.collision.split(\" \") : [];\n            that.downEvent = kendo.applyEventMap(MOUSEDOWN, kendo.guid());\n\n            if (that.collisions.length === 1) {\n                that.collisions.push(that.collisions[0]);\n            }\n\n            parentPopup = $(that.options.anchor).closest(\".k-popup,.k-group\").filter(\":not([class^=km-])\"); // When popup is in another popup, make it relative.\n\n            options.appendTo = $($(options.appendTo)[0] || parentPopup[0] || document.body);\n\n            that.element.hide()\n                .addClass(\"k-popup k-group k-reset\")\n                .toggleClass(\"k-rtl\", !!options.isRtl)\n                .css({ position : ABSOLUTE })\n                .appendTo(options.appendTo)\n                .attr(\"aria-hidden\", true)\n                .on(\"mouseenter\" + NS, function() {\n                    that._hovered = true;\n                })\n                .on(\"wheel\" + NS, function(e) {\n                    var list = $(e.target).find(\".k-list\");\n                    var scrollArea = list.parent();\n                    if (list.length && list.is(\":visible\") && ((scrollArea.scrollTop() === 0 && e.originalEvent.deltaY < 0) ||\n                        (scrollArea.scrollTop() === scrollArea.prop('scrollHeight') - scrollArea.prop('offsetHeight') && e.originalEvent.deltaY > 0))) {\n                           e.preventDefault();\n                    }\n                })\n                .on(\"mouseleave\" + NS, function() {\n                    that._hovered = false;\n                });\n\n            that.wrapper = $();\n\n            if (options.animation === false) {\n                options.animation = { open: { effects: {} }, close: { hide: true, effects: {} } };\n            }\n\n            extend(options.animation.open, {\n                complete: function() {\n                    that.wrapper.css({ overflow: VISIBLE }); // Forcing refresh causes flickering in mobile.\n                    that._activated = true;\n                    that._trigger(ACTIVATE);\n                }\n            });\n\n            extend(options.animation.close, {\n                complete: function() {\n                    that._animationClose();\n                }\n            });\n\n            that._mousedownProxy = function(e) {\n                that._mousedown(e);\n            };\n\n            if (support.mobileOS.android) {\n                that._resizeProxy = function(e) {\n                    setTimeout(function() {\n                        that._resize(e);\n                    }, 600); //Logic from kendo.onResize\n                };\n            } else {\n                that._resizeProxy = function(e) {\n                    that._resize(e);\n                };\n            }\n\n            if (options.toggleTarget) {\n                $(options.toggleTarget).on(options.toggleEvent + NS, that.toggle.bind(that));\n            }\n        },\n\n        events: [\n            OPEN,\n            ACTIVATE,\n            CLOSE,\n            DEACTIVATE\n        ],\n\n        options: {\n            name: \"Popup\",\n            toggleEvent: \"click\",\n            origin: BOTTOM + \" \" + LEFT,\n            position: TOP + \" \" + LEFT,\n            anchor: BODY,\n            appendTo: null,\n            collision: \"flip fit\",\n            viewport: window,\n            copyAnchorStyles: true,\n            autosize: false,\n            modal: false,\n            adjustSize: {\n                width: 0,\n                height: 0\n            },\n            animation: {\n                open: {\n                    effects: \"slideIn:down\",\n                    transition: true,\n                    duration: 200\n                },\n                close: { // if close animation effects are defined, they will be used instead of open.reverse\n                    duration: 100,\n                    hide: true\n                }\n            },\n            omitOriginOffsets: false\n        },\n\n        _animationClose: function() {\n            var that = this;\n            var location = that.wrapper.data(LOCATION);\n\n            that.wrapper.hide();\n\n            if (location) {\n                that.wrapper.css(location);\n            }\n\n            if (that.options.anchor != BODY) {\n                that._hideDirClass();\n            }\n\n            that._closing = false;\n            that._trigger(DEACTIVATE);\n        },\n\n        destroy: function() {\n            var that = this,\n                options = that.options,\n                element = that.element.off(NS),\n                parent;\n\n            Widget.fn.destroy.call(that);\n\n            if (options.toggleTarget) {\n                $(options.toggleTarget).off(NS);\n            }\n\n            if (!options.modal) {\n                DOCUMENT_ELEMENT.off(that.downEvent, that._mousedownProxy);\n                that._toggleResize(false);\n            }\n\n            kendo.destroy(that.element.children());\n            element.removeData();\n\n            if (options.appendTo[0] === document.body) {\n                parent = element.parent(\".k-animation-container\");\n\n                if (parent[0]) {\n                    parent.remove();\n                } else {\n                    element.remove();\n                }\n            }\n        },\n\n        open: function(x, y) {\n            var that = this,\n                fixed = { isFixed: !isNaN(parseInt(y,10)), x: x, y: y },\n                element = that.element,\n                options = that.options,\n                animation, wrapper,\n                anchor = $(options.anchor),\n                mobile = element[0] && element.hasClass(\"km-widget\"),\n                listbox = element.find(\"[role='listbox']\");\n\n            if (!that.visible()) {\n                if (options.copyAnchorStyles) {\n                    if (mobile && styles[0] == \"font-size\") {\n                        styles.shift();\n                    }\n                    element.css(kendo.getComputedStyles(anchor[0], styles));\n                }\n\n                if (element.data(\"animating\") || that._trigger(OPEN)) {\n                    return;\n                }\n\n                that._activated = false;\n\n                if (!options.modal) {\n                    DOCUMENT_ELEMENT.off(that.downEvent, that._mousedownProxy)\n                                .on(that.downEvent, that._mousedownProxy);\n\n                    // this binding hangs iOS in editor\n                    // all elements in IE7/8 fire resize event, causing mayhem\n                    that._toggleResize(false);\n                    that._toggleResize(true);\n                }\n\n                that.wrapper = wrapper = kendo.wrap(element, options.autosize)\n                    .css({\n                        overflow: HIDDEN,\n                        display: \"block\",\n                        position: ABSOLUTE\n                    })\n                    .attr(\"aria-hidden\", false);\n\n                if (listbox.attr(\"aria-label\")) {\n                    wrapper.attr(\"aria-label\", listbox.attr(\"aria-label\"));\n                } else if (listbox.attr(\"aria-labelledby\")) {\n                    wrapper.attr(\"aria-labelledby\", listbox.attr(\"aria-labelledby\"));\n                }\n\n                if (support.mobileOS.android) {\n                    wrapper.css(TRANSFORM, \"translatez(0)\"); // Android is VERY slow otherwise. Should be tested in other droids as well since it may cause blur.\n                }\n\n                wrapper.css(POSITION);\n\n                if ($(options.appendTo)[0] == document.body) {\n                    wrapper.css(TOP, \"-10000px\");\n                }\n\n                that.flipped = that._position(fixed);\n                animation = that._openAnimation();\n\n                if (options.anchor != BODY) {\n                    that._showDirClass(animation);\n                }\n\n                if (!element.is(\":visible\") && element.data(\"olddisplay\") === undefined) {\n                    element.show();\n                    element.data(\"olddisplay\", element.css(\"display\"));\n                    element.hide();\n                }\n\n                element.data(EFFECTS, animation.effects)\n                       .kendoStop(true)\n                       .kendoAnimate(animation)\n                       .attr(\"aria-hidden\", false);\n            }\n        },\n\n        _location: function(isFixed) {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                wrapper,\n                anchor = $(options.anchor),\n                mobile = element[0] && element.hasClass(\"km-widget\");\n\n            if (options.copyAnchorStyles) {\n                if (mobile && styles[0] == \"font-size\") {\n                    styles.shift();\n                }\n                element.css(kendo.getComputedStyles(anchor[0], styles));\n            }\n\n            that.wrapper = wrapper = kendo.wrap(element, options.autosize)\n                                    .css({\n                                        overflow: HIDDEN,\n                                        display: \"block\",\n                                        position: ABSOLUTE\n                                    });\n\n            if (support.mobileOS.android) {\n                wrapper.css(TRANSFORM, \"translatez(0)\"); // Android is VERY slow otherwise. Should be tested in other droids as well since it may cause blur.\n            }\n\n            wrapper.css(POSITION);\n\n            if ($(options.appendTo)[0] == document.body) {\n                wrapper.css(TOP, \"-10000px\");\n            }\n\n            that._position(isFixed || {});\n\n            var offset = wrapper.offset();\n            return {\n                width: kendo._outerWidth(wrapper),\n                height: kendo._outerHeight(wrapper),\n                left: offset.left,\n                top: offset.top\n            };\n        },\n\n        _openAnimation: function() {\n            var animation = extend(true, {}, this.options.animation.open);\n            animation.effects = kendo.parseEffects(animation.effects, this.flipped);\n\n            return animation;\n        },\n\n        _hideDirClass: function() {\n            var anchor = $(this.options.anchor);\n            var direction = ((anchor.attr(\"class\") || \"\").match(ACTIVEBORDERREGEXP) || [\"\", \"down\"])[1];\n            var dirClass = ACTIVEBORDER + \"-\" + direction;\n\n            anchor\n                .removeClass(dirClass)\n                .children(ACTIVECHILDREN)\n                .removeClass(ACTIVE)\n                .removeClass(dirClass);\n\n            this.element.removeClass(ACTIVEBORDER + \"-\" + kendo.directions[direction].reverse);\n        },\n\n        _showDirClass: function(animation) {\n            var direction = animation.effects.slideIn ? animation.effects.slideIn.direction : \"down\";\n            var dirClass = ACTIVEBORDER + \"-\" + direction;\n\n            $(this.options.anchor)\n                .addClass(dirClass)\n                .children(ACTIVECHILDREN)\n                .addClass(ACTIVE)\n                .addClass(dirClass);\n\n            this.element.addClass(ACTIVEBORDER + \"-\" + kendo.directions[direction].reverse);\n        },\n\n        position: function() {\n            if (this.visible()) {\n                this.flipped = this._position();\n                //this._hideDirClass();\n                //this._showDirClass(this._openAnimation());\n            }\n        },\n\n        toggle: function() {\n            var that = this;\n\n            that[that.visible() ? CLOSE : OPEN]();\n        },\n\n        visible: function() {\n            return this.element.is(\":\" + VISIBLE);\n        },\n\n        close: function(skipEffects) {\n            var that = this,\n                options = that.options, wrap,\n                animation, openEffects, closeEffects;\n\n            if (that.visible()) {\n                wrap = (that.wrapper[0] ? that.wrapper : kendo.wrap(that.element).hide());\n\n                that._toggleResize(false);\n\n                if (that._closing || that._trigger(CLOSE)) {\n                    that._toggleResize(true);\n                    return;\n                }\n\n                // Close all inclusive popups.\n                that.element.find(\".k-popup\").each(function () {\n                    var that = $(this),\n                        popup = that.data(\"kendoPopup\");\n\n                    if (popup) {\n                        popup.close(skipEffects);\n                    }\n                });\n\n                DOCUMENT_ELEMENT.off(that.downEvent, that._mousedownProxy);\n\n                if (skipEffects) {\n                    animation = { hide: true, effects: {} };\n                } else {\n                    animation = extend(true, {}, options.animation.close);\n                    openEffects = that.element.data(EFFECTS);\n                    closeEffects = animation.effects;\n\n                    if (!closeEffects && !kendo.size(closeEffects) && openEffects && kendo.size(openEffects)) {\n                        animation.effects = openEffects;\n                        animation.reverse = true;\n                    }\n\n                    that._closing = true;\n                }\n\n                that.element\n                        .kendoStop(true)\n                        .attr(\"aria-hidden\", true);\n                wrap\n                    .css({ overflow: HIDDEN }) // stop callback will remove hidden overflow\n                    .attr(\"aria-hidden\", true);\n                that.element.kendoAnimate(animation);\n\n                if (skipEffects) {\n                    that._animationClose();\n                }\n            }\n        },\n\n        _trigger: function(ev) {\n            return this.trigger(ev, { type: ev });\n        },\n\n        _resize: function(e) {\n            var that = this;\n\n            if (support.resize.indexOf(e.type) !== -1) {\n                clearTimeout(that._resizeTimeout);\n                that._resizeTimeout = setTimeout(function() {\n                    that._position();\n                    that._resizeTimeout = null;\n                }, 50);\n            } else {\n                if (!that._hovered || (that._activated && that.element.find(\".k-list\").length > 0)) {\n                    that.close();\n                }\n            }\n        },\n\n        _toggleResize: function(toggle) {\n            var method = toggle ? \"on\" : \"off\";\n            var eventNames = support.resize;\n\n            if (!(support.mobileOS.ios || support.mobileOS.android || support.browser.safari)) {\n                eventNames += \" \" + SCROLL;\n            }\n\n            if (toggle && !this.scrollableParents) {\n                this.scrollableParents = this._scrollableParents();\n            }\n\n            if (this.scrollableParents && this.scrollableParents.length) {\n                this.scrollableParents[method](SCROLL, this._resizeProxy);\n            }\n\n            WINDOW[method](eventNames, this._resizeProxy);\n        },\n\n        _mousedown: function(e) {\n            var that = this,\n                container = that.element[0],\n                options = that.options,\n                anchor = $(options.anchor)[0],\n                toggleTarget = options.toggleTarget,\n                target = kendo.eventTarget(e),\n                popup = $(target).closest(\".k-popup\"),\n                mobile = popup.parent().parent(\".km-shim\").length;\n\n            popup = popup[0];\n            if (!mobile && popup && popup !== that.element[0]){\n                return;\n            }\n\n            // This MAY result in popup not closing in certain cases.\n            if ($(e.target).closest(\"a\").data(\"rel\") === \"popover\") {\n                return;\n            }\n\n            if (!contains(container, target) && !contains(anchor, target) && !(toggleTarget && contains($(toggleTarget)[0], target))) {\n                that.close();\n            }\n        },\n\n        _fit: function(position, size, viewPortSize) {\n            var output = 0;\n\n            if (position + size > viewPortSize) {\n                output = viewPortSize - (position + size);\n            }\n\n            if (position < 0) {\n                output = -position;\n            }\n\n            return output;\n        },\n\n        _flip: function(offset, size, anchorSize, viewPortSize, origin, position, boxSize) {\n            var output = 0;\n                boxSize = boxSize || size;\n\n            if (position !== origin && position !== CENTER && origin !== CENTER) {\n                if (offset + boxSize > viewPortSize) {\n                    output += -(anchorSize + size);\n                }\n\n                if (offset + output < 0) {\n                    output += anchorSize + size;\n                }\n            }\n            return output;\n        },\n\n        _scrollableParents: function() {\n            return $(this.options.anchor)\n                       .parentsUntil(\"body\")\n                       .filter(function(index, element) {\n                           return kendo.isScrollable(element);\n                       });\n        },\n\n        _position: function(fixed) {\n            var that = this,\n                //element = that.element.css(POSITION, \"\"), /* fixes telerik/kendo-ui-core#790, comes from telerik/kendo#615 */\n                element = that.element,\n                wrapper = that.wrapper,\n                options = that.options,\n                viewport = $(options.viewport),\n                zoomLevel = support.zoomLevel(),\n                isWindow = !!((viewport[0] == window) && window.innerWidth && (zoomLevel <= 1.02)),\n                anchor = $(options.anchor),\n                origins = options.origin.toLowerCase().split(\" \"),\n                positions = options.position.toLowerCase().split(\" \"),\n                collisions = that.collisions,\n                siblingContainer, parents,\n                parentZIndex, zIndex = 10002,\n                idx = 0,\n                docEl = document.documentElement,\n                length, viewportOffset, viewportWidth, viewportHeight;\n\n            if (options.viewport === window) {\n                viewportOffset = {\n                    top: (window.pageYOffset || document.documentElement.scrollTop || 0),\n                    left: (window.pageXOffset || document.documentElement.scrollLeft || 0)\n                };\n            } else {\n                viewportOffset = viewport.offset();\n            }\n\n            if (isWindow) {\n                viewportWidth = window.innerWidth;\n                viewportHeight = window.innerHeight;\n            } else {\n                viewportWidth = viewport.width();\n                viewportHeight = viewport.height();\n            }\n\n            if (isWindow && docEl.scrollHeight - docEl.clientHeight > 0) {\n                 var sign = options.isRtl ? -1 : 1;\n\n                 viewportWidth -= sign * kendo.support.scrollbar();\n            }\n\n            siblingContainer = anchor.parents().filter(wrapper.siblings());\n\n            if (siblingContainer[0]) {\n                parentZIndex = Math.max(Number(siblingContainer.css(\"zIndex\")), 0);\n\n                // set z-index to be more than that of the container/sibling\n                // compensate with more units for window z-stack\n                if (parentZIndex) {\n                    zIndex = parentZIndex + 10;\n                } else {\n                    parents = anchor.parentsUntil(siblingContainer);\n                    for (length = parents.length; idx < length; idx++) {\n                        parentZIndex = Number($(parents[idx]).css(\"zIndex\"));\n                        if (parentZIndex && zIndex < parentZIndex) {\n                            zIndex = parentZIndex + 10;\n                        }\n                    }\n                }\n            }\n\n            wrapper.css(\"zIndex\", zIndex);\n\n            if (fixed && fixed.isFixed) {\n                wrapper.css({ left: fixed.x, top: fixed.y });\n            } else {\n                wrapper.css(that._align(origins, positions));\n            }\n\n            var pos = getOffset(wrapper, POSITION, anchor[0] === wrapper.offsetParent()[0]),\n                offset = getOffset(wrapper),\n                anchorParent = anchor.offsetParent().parent(\".k-animation-container,.k-popup,.k-group\"); // If the parent is positioned, get the current positions\n\n            if (anchorParent.length) {\n                pos = getOffset(wrapper, POSITION, true);\n                offset = getOffset(wrapper);\n            }\n\n            offset.top -= viewportOffset.top;\n            offset.left -= viewportOffset.left;\n\n            if (!that.wrapper.data(LOCATION)) { // Needed to reset the popup location after every closure - fixes the resize bugs.\n                wrapper.data(LOCATION, extend({}, pos));\n            }\n\n            var offsets = extend({}, offset),\n                location = extend({}, pos),\n                adjustSize = options.adjustSize;\n\n            if (collisions[0] === \"fit\") {\n                location.top += that._fit(offsets.top, outerHeight(wrapper) + adjustSize.height, viewportHeight / zoomLevel);\n            }\n\n            if (collisions[1] === \"fit\") {\n                location.left += that._fit(offsets.left, outerWidth(wrapper) + adjustSize.width, viewportWidth / zoomLevel);\n            }\n\n            var flipPos = extend({}, location);\n            var elementHeight = outerHeight(element);\n            var wrapperHeight =  outerHeight(wrapper);\n\n            if (!wrapper.height() && elementHeight) {\n                wrapperHeight = wrapperHeight + elementHeight;\n            }\n\n            if (collisions[0] === \"flip\") {\n                location.top += that._flip(offsets.top, elementHeight, outerHeight(anchor), viewportHeight / zoomLevel, origins[0], positions[0], wrapperHeight);\n            }\n\n            if (collisions[1] === \"flip\") {\n                location.left += that._flip(offsets.left, outerWidth(element), outerWidth(anchor), viewportWidth / zoomLevel, origins[1], positions[1], outerWidth(wrapper));\n            }\n\n            element.css(POSITION, ABSOLUTE);\n            wrapper.css(location);\n\n            return (location.left != flipPos.left || location.top != flipPos.top);\n        },\n\n        _align: function(origin, position) {\n            var that = this,\n                element = that.wrapper,\n                anchor = $(that.options.anchor),\n                verticalOrigin = origin[0],\n                horizontalOrigin = origin[1],\n                verticalPosition = position[0],\n                horizontalPosition = position[1],\n                anchorOffset = getOffset(anchor),\n                appendTo = $(that.options.appendTo),\n                appendToOffset,\n                width = outerWidth(element),\n                height = outerHeight(element) || outerHeight(element.children().first()),\n                anchorWidth = outerWidth(anchor),\n                anchorHeight = outerHeight(anchor),\n                top = that.options.omitOriginOffsets ? 0 : anchorOffset.top,\n                left = that.options.omitOriginOffsets ? 0 : anchorOffset.left,\n                round = Math.round;\n\n            if (appendTo[0] != document.body) {\n                appendToOffset = getOffset(appendTo);\n                top -= appendToOffset.top;\n                left -= appendToOffset.left;\n            }\n\n\n            if (verticalOrigin === BOTTOM) {\n                top += anchorHeight;\n            }\n\n            if (verticalOrigin === CENTER) {\n                top += round(anchorHeight / 2);\n            }\n\n            if (verticalPosition === BOTTOM) {\n                top -= height;\n            }\n\n            if (verticalPosition === CENTER) {\n                top -= round(height / 2);\n            }\n\n            if (horizontalOrigin === RIGHT) {\n                left += anchorWidth;\n            }\n\n            if (horizontalOrigin === CENTER) {\n                left += round(anchorWidth / 2);\n            }\n\n            if (horizontalPosition === RIGHT) {\n                left -= width;\n            }\n\n            if (horizontalPosition === CENTER) {\n                left -= round(width / 2);\n            }\n\n            return {\n                top: top,\n                left: left\n            };\n        }\n    });\n\n    ui.plugin(Popup);\n\n    var stableSort = kendo.support.stableSort;\n    var tabKeyTrapNS = \"kendoTabKeyTrap\";\n    var focusableNodesSelector = \"a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], *[contenteditable]\";\n    var TabKeyTrap = Class.extend({\n        init: function(element) {\n            this.element = $(element);\n            this.element.autoApplyNS(tabKeyTrapNS);\n        },\n\n        trap: function() {\n            this.element.on(\"keydown\", this._keepInTrap.bind(this));\n        },\n\n        removeTrap: function() {\n            this.element.kendoDestroy(tabKeyTrapNS);\n        },\n\n        destroy: function() {\n            this.element.kendoDestroy(tabKeyTrapNS);\n            this.element = undefined;\n        },\n\n        shouldTrap: function () {\n            return true;\n        },\n\n        _keepInTrap: function(e) {\n            if (e.which !== 9 || !this.shouldTrap() || e.isDefaultPrevented()) {\n                return;\n            }\n\n            var elements = this._focusableElements();\n            var sortedElements = this._sortFocusableElements(elements);\n            var next = this._nextFocusable(e, sortedElements);\n\n            this._focus(next);\n\n            e.preventDefault();\n        },\n        _focusableElements: function(){\n            var elements = this.element.find(focusableNodesSelector).filter(function(i, item){\n                return item.tabIndex >= 0 && $(item).is(':visible') && !$(item).is('[disabled]');\n            });\n\n            if (this.element.is(\"[tabindex]\")) {\n                elements.push(this.element[0]);\n            }\n\n            return elements;\n        },\n        _sortFocusableElements: function(elements){\n            var sortedElements;\n\n            if (stableSort) {\n                sortedElements = elements.sort(function(prev, next) {\n                    return prev.tabIndex - next.tabIndex;\n                });\n            } else {\n                var attrName = \"__k_index\";\n                elements.each(function(i, item){\n                    item.setAttribute(attrName, i);\n                });\n\n                sortedElements = elements.sort(function(prev, next) {\n                    return prev.tabIndex === next.tabIndex ?\n                        parseInt(prev.getAttribute(attrName), 10) - parseInt(next.getAttribute(attrName), 10) :\n                        prev.tabIndex - next.tabIndex;\n                });\n\n                elements.removeAttr(attrName);\n            }\n\n            return sortedElements;\n        },\n        _nextFocusable: function(e, elements){\n            var count = elements.length;\n            var current = elements.index(e.target);\n\n            return elements.get((current + (e.shiftKey ? -1 : 1)) % count);\n        },\n        _focus: function(element){\n            if (element.nodeName == \"IFRAME\") {\n                element.contentWindow.document.body.focus();\n                return;\n            }\n\n            element.focus();\n\n            if (element.nodeName == \"INPUT\" && element.setSelectionRange && this._haveSelectionRange(element)) {\n                element.setSelectionRange(0, element.value.length);\n            }\n        },\n        _haveSelectionRange: function(element){\n            var elementType = element.type.toLowerCase();\n\n            return elementType === \"text\" || elementType === \"search\" ||\n            elementType === \"url\" || elementType === \"tel\" ||\n            elementType === \"password\";\n        }\n    });\n    ui.Popup.TabKeyTrap = TabKeyTrap;\n})(window.kendo.jQuery);\n\n\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.notification',[ \"kendo.core\", \"kendo.popup\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"notification\",\n    name: \"Notification\",\n    category: \"web\",\n    description: \"The Notification widget displays user alerts.\",\n    depends: [ \"core\", \"popup\" ],\n    features: [ {\n        id: \"notification-fx\",\n        name: \"Animation\",\n        description: \"Support for animation\",\n        depends: [ \"fx\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        extend = $.extend,\n        setTimeout = window.setTimeout,\n        CLICK = \"click\",\n        SHOW = \"show\",\n        HIDE = \"hide\",\n        KNOTIFICATION = \"k-notification\",\n        KICLOSE = \".k-notification-wrap .k-i-close\",\n        KHIDING = \"k-hiding\",\n        INFO = \"info\",\n        SUCCESS = \"success\",\n        WARNING = \"warning\",\n        ERROR = \"error\",\n        TOP = \"top\",\n        LEFT = \"left\",\n        BOTTOM = \"bottom\",\n        RIGHT = \"right\",\n        UP = \"up\",\n        NS = \".kendoNotification\",\n        WRAPPER = '<div role=\"alert\" aria-live=\"polite\" class=\"k-widget k-popup k-notification\"></div>',\n        TEMPLATE = '<div class=\"k-notification-wrap\">' +\n                '<span class=\"k-icon k-i-#:typeIcon#\" title=\"#:typeIcon#\"></span>' +\n                '<div class=\"k-notification-content\">#=content#</div>' +\n                '<span aria-hidden=\"true\" class=\"#: closeButton ? \"\" : \"k-hidden\"# k-icon k-i-close\" title=\"Hide\"></span>' +\n            '</div>',\n        SAFE_TEMPLATE = TEMPLATE.replace(\"#=content#\", \"#:content#\");\n\n    var Notification = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n\n            if (!options.appendTo || !$(options.appendTo).is(element)) {\n                that.element.hide();\n            }\n\n            that._compileTemplates(options.templates);\n            that._guid = \"_\" + kendo.guid();\n            that._isRtl = kendo.support.isRtl(element);\n            that._compileStacking(options.stacking, options.position.top, options.position.left);\n\n            kendo.notify(that);\n        },\n\n        events: [\n            SHOW,\n            HIDE\n        ],\n\n        options: {\n            name: \"Notification\",\n            position: {\n                pinned: true,\n                top: null,\n                left: null,\n                bottom: 20,\n                right: 20\n            },\n            stacking: \"default\",\n            hideOnClick: true,\n            button: false,\n            allowHideAfter: 0,\n            autoHideAfter: 5000,\n            appendTo: null,\n            width: null,\n            height: null,\n            templates: [],\n            title: null,\n            animation: {\n                open: {\n                    effects: \"fade:in\",\n                    duration: 300\n                },\n                close: {\n                    effects: \"fade:out\",\n                    duration: 600,\n                    hide: true\n                }\n            }\n        },\n\n        _compileTemplates: function(templates) {\n            var that = this;\n            var kendoTemplate = kendo.template;\n\n            that._compiled = {};\n\n            $.each(templates, function(key, value) {\n                that._compiled[value.type] = kendoTemplate(value.template || $(\"#\" + value.templateId).html());\n            });\n\n            that._defaultCompiled = kendoTemplate(TEMPLATE);\n            that._safeCompiled = kendoTemplate(SAFE_TEMPLATE);\n        },\n\n        _getCompiled: function(type, safe) {\n            var defaultCompiled = safe ? this._safeCompiled : this._defaultCompiled;\n\n            return type ? this._compiled[type] || defaultCompiled : defaultCompiled;\n        },\n\n        _compileStacking: function(stacking, top, left) {\n            var that = this,\n                paddings = { paddingTop: 0, paddingRight: 0, paddingBottom: 0, paddingLeft: 0 },\n                horizontalAlignment = left !== null ? LEFT : RIGHT,\n                origin, position;\n\n            switch (stacking) {\n                case \"down\":\n                    origin = BOTTOM + \" \" + horizontalAlignment;\n                    position = TOP + \" \" + horizontalAlignment;\n                    delete paddings.paddingBottom;\n                break;\n                case RIGHT:\n                    origin = TOP + \" \" + RIGHT;\n                    position = TOP + \" \" + LEFT;\n                    delete paddings.paddingRight;\n                break;\n                case LEFT:\n                    origin = TOP + \" \" + LEFT;\n                    position = TOP + \" \" + RIGHT;\n                    delete paddings.paddingLeft;\n                break;\n                case UP:\n                    origin = TOP + \" \" + horizontalAlignment;\n                    position = BOTTOM + \" \" + horizontalAlignment;\n                    delete paddings.paddingTop;\n                break;\n                default:\n                    if (top !== null) {\n                        origin = BOTTOM + \" \" + horizontalAlignment;\n                        position = TOP + \" \" + horizontalAlignment;\n                        delete paddings.paddingBottom;\n                    } else {\n                        origin = TOP + \" \" + horizontalAlignment;\n                        position = BOTTOM + \" \" + horizontalAlignment;\n                        delete paddings.paddingTop;\n                    }\n                break;\n            }\n\n            that._popupOrigin = origin;\n            that._popupPosition = position;\n            that._popupPaddings = paddings;\n        },\n\n        _attachPopupEvents: function(options, popup) {\n            var that = this,\n                allowHideAfter = options.allowHideAfter,\n                attachDelay = !isNaN(allowHideAfter) && allowHideAfter > 0,\n                closeIcon;\n\n            function attachClick(target) {\n                target.on(CLICK + NS, function () {\n                    that._hidePopup(popup);\n                });\n            }\n\n            if (options.hideOnClick) {\n                popup.bind(\"activate\", function() {\n                    if (attachDelay) {\n                        setTimeout(function(){\n                            attachClick(popup.element);\n                        }, allowHideAfter);\n                    } else {\n                        attachClick(popup.element);\n                    }\n                });\n            } else if (options.button) {\n                closeIcon = popup.element.find(KICLOSE);\n                if (attachDelay) {\n                    setTimeout(function(){\n                        attachClick(closeIcon);\n                    }, allowHideAfter);\n                } else {\n                    attachClick(closeIcon);\n                }\n            }\n        },\n\n        _showPopup: function(wrapper, options) {\n            var that = this,\n                autoHideAfter = options.autoHideAfter,\n                x = options.position.left,\n                y = options.position.top,\n                popup, openPopup;\n\n            openPopup = $(\".\" + that._guid + \":not(.\" + KHIDING + \")\").last();\n\n            popup = new kendo.ui.Popup(wrapper, {\n                anchor: openPopup[0] ? openPopup : document.body,\n                origin: that._popupOrigin,\n                position: that._popupPosition,\n                animation: options.animation,\n                copyAnchorStyles: false,\n                modal: true,\n                collision: \"\",\n                isRtl: that._isRtl,\n                close: function() {\n                    that._triggerHide(this.element);\n                },\n                deactivate: function(e) {\n                    e.sender.element.off(NS);\n                    e.sender.element.find(KICLOSE).off(NS);\n                    e.sender.destroy();\n                }\n            });\n\n            that._attachPopupEvents(options, popup);\n\n            wrapper.removeClass(\"k-group k-reset\");\n\n            if (openPopup[0]) {\n                popup.open();\n            } else {\n                if (x === null) {\n                    x = $(window).width() - wrapper.outerWidth() - options.position.right;\n                }\n\n                if (y === null) {\n                    y = $(window).height() - wrapper.outerHeight() - options.position.bottom;\n                }\n\n                popup.open(x, y);\n            }\n\n            popup.wrapper.addClass(that._guid).css(extend({margin:0,zIndex:10050}, that._popupPaddings));\n\n            if (options.position.pinned) {\n                popup.wrapper.css(\"position\", \"fixed\");\n                if (openPopup[0]) {\n                    that._togglePin(popup.wrapper, true);\n                }\n            } else if (!openPopup[0]) {\n                that._togglePin(popup.wrapper, false);\n            }\n\n            if (autoHideAfter > 0) {\n                setTimeout(function () {\n                    that._hidePopup(popup);\n                }, autoHideAfter);\n            }\n        },\n\n        _hidePopup: function (popup) {\n            popup.wrapper.addClass(KHIDING);\n            popup.close();\n        },\n\n        _togglePin: function(wrapper, pin) {\n            var win = $(window),\n                sign = pin ? -1 : 1;\n\n            wrapper.css({\n                top: parseInt(wrapper.css(TOP), 10) + sign * win.scrollTop(),\n                left: parseInt(wrapper.css(LEFT), 10) + sign * win.scrollLeft()\n            });\n        },\n\n        _attachStaticEvents: function(options, wrapper) {\n            var that = this,\n                allowHideAfter = options.allowHideAfter,\n                attachDelay = !isNaN(allowHideAfter) && allowHideAfter > 0;\n\n            function attachClick(target) {\n                target.on(CLICK + NS, that._hideStatic.bind(that, wrapper));\n            }\n\n            if (options.hideOnClick) {\n                if (attachDelay) {\n                    setTimeout(function(){\n                        attachClick(wrapper);\n                    }, allowHideAfter);\n                } else {\n                    attachClick(wrapper);\n                }\n            } else if (options.button) {\n                if (attachDelay) {\n                    setTimeout(function(){\n                        attachClick(wrapper.find(KICLOSE));\n                    }, allowHideAfter);\n                } else {\n                    attachClick(wrapper.find(KICLOSE));\n                }\n            }\n        },\n\n        _showStatic: function(wrapper, options) {\n            var that = this,\n                autoHideAfter = options.autoHideAfter,\n                animation = options.animation,\n                insertionMethod = options.stacking == UP || options.stacking == LEFT ? \"prependTo\" : \"appendTo\",\n                initializedNotifications;\n\n            wrapper\n                .removeClass(\"k-popup\")\n                .addClass(that._guid)\n                [insertionMethod](options.appendTo)\n                .hide()\n                .kendoAnimate(animation.open || false);\n\n            initializedNotifications = that.getNotifications();\n            initializedNotifications.each(function(idx, element) {\n                that._attachStaticEvents(options, $(element));\n\n                if (autoHideAfter > 0) {\n                    setTimeout(function(){\n                        that._hideStatic($(element));\n                    }, autoHideAfter);\n                }\n            });\n        },\n\n        _hideStatic: function(wrapper) {\n            wrapper.kendoAnimate(extend(this.options.animation.close || false, { complete: function() {\n                wrapper.off(NS).find(KICLOSE).off(NS);\n                wrapper.remove();\n            }}));\n            this._triggerHide(wrapper);\n        },\n\n        _triggerHide: function(element) {\n            this.trigger(HIDE, { element: element });\n            this.angular(\"cleanup\", function(){\n                return { elements: element };\n            });\n        },\n\n        show: function(content, type, safe) {\n            var that = this,\n                options = that.options,\n                wrapper = $(WRAPPER),\n                contentId = kendo.guid(),\n                args, defaultArgs;\n\n            if (!type) {\n                type = INFO;\n            }\n\n            wrapper.attr(\"aria-label\", type);\n\n            if (content !== null && content !== undefined && content !== \"\") {\n\n                if (kendo.isFunction(content)) {\n                    content = content();\n                }\n\n                defaultArgs = {typeIcon: type, content: \"\", closeButton: options.button};\n\n                if ($.isPlainObject(content)) {\n                    args = extend(defaultArgs, content);\n                } else {\n                    args = extend(defaultArgs, {content: content});\n                }\n\n                wrapper\n                    .addClass(KNOTIFICATION + \"-\" + type)\n                    .toggleClass(KNOTIFICATION + \"-button\", options.button)\n                    .toggleClass(KNOTIFICATION + \"-closable\", options.button)\n                    .attr({\n                        \"data-role\": \"alert\",\n                        title: options.title\n                    })\n                    .css({width: options.width, height: options.height})\n                    .append(that._getCompiled(type, safe)(args));\n\n                wrapper.find(\".k-notification-content\").attr(\"id\", contentId);\n                wrapper.attr(\"aria-describedby\", contentId);\n\n                that.angular(\"compile\", function(){\n                    return {\n                        elements: wrapper,\n                        data: [{ dataItem: args }]\n                    };\n                });\n\n                if ($(options.appendTo)[0]) {\n                    that._showStatic(wrapper, options);\n                } else {\n                    that._showPopup(wrapper, options);\n                }\n\n                that.trigger(SHOW, {element: wrapper});\n            }\n\n            return that;\n        },\n\n        showText: function(content, type) {\n            this.show(content, type, true);\n        },\n\n        info: function(content) {\n            return this.show(content, INFO);\n        },\n\n        success: function(content) {\n            return this.show(content, SUCCESS);\n        },\n\n        warning: function(content) {\n            return this.show(content, WARNING);\n        },\n\n        error: function(content) {\n            return this.show(content, ERROR);\n        },\n\n        hide: function() {\n            var that = this,\n                openedNotifications = that.getNotifications();\n\n            if (that.options.appendTo) {\n                openedNotifications.each(function(idx, element){\n                    that._hideStatic($(element));\n                });\n            } else {\n                openedNotifications.each(function(idx, element){\n                    var popup = $(element).data(\"kendoPopup\");\n                    if (popup) {\n                        that._hidePopup(popup);\n                    }\n                });\n            }\n\n            return that;\n        },\n\n        getNotifications: function() {\n            var that = this,\n                guidElements = $(\".\" + that._guid + \":not(.\" + KHIDING + \")\");\n\n            if (that.options.appendTo) {\n                return guidElements;\n            } else {\n                return guidElements.children(\".\" + KNOTIFICATION);\n            }\n        },\n\n        setOptions: function(newOptions) {\n            var that = this,\n                options;\n\n            Widget.fn.setOptions.call(that, newOptions);\n\n            options = that.options;\n\n            if (newOptions.templates !== undefined) {\n                that._compileTemplates(options.templates);\n            }\n\n            if (newOptions.stacking !== undefined || newOptions.position !== undefined) {\n                that._compileStacking(options.stacking, options.position.top, options.position.left);\n            }\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.getNotifications().off(NS).find(KICLOSE).off(NS);\n        }\n    });\n\n    kendo.ui.plugin(Notification);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.tooltip',[ \"kendo.core\", \"kendo.popup\", \"kendo.fx\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"tooltip\",\n    name: \"Tooltip\",\n    category: \"web\",\n    description: \"The Tooltip widget displays a popup hint for a given html element.\",\n    depends: [ \"core\", \"popup\" ],\n    features: [ {\n        id: \"tooltip-fx\",\n        name: \"Animation\",\n        description: \"Support for animation\",\n        depends: [ \"fx\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        Popup = kendo.ui.Popup,\n        isFunction = kendo.isFunction,\n        isPlainObject = $.isPlainObject,\n        extend = $.extend,\n        DOCUMENT = $(document),\n        isLocalUrl = kendo.isLocalUrl,\n        ARIAIDSUFFIX = \"_tb_active\",\n        DESCRIBEDBY = \"aria-describedby\",\n        SHOW = \"show\",\n        HIDE = \"hide\",\n        ERROR = \"error\",\n        CONTENTLOAD = \"contentLoad\",\n        REQUESTSTART = \"requestStart\",\n        KCONTENTFRAME = \"k-content-frame\",\n        TEMPLATE = '<div role=\"tooltip\" class=\"k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#\">' +\n            '<div class=\"k-tooltip-content\"></div>' +\n            '#if (!autoHide) {# <div class=\"k-tooltip-button\"><a href=\"\\\\#\" class=\"k-icon k-i-close\" title=\"Close\"></a></div> #}#' +\n            '#if (callout){ #<div class=\"k-callout k-callout-#=dir#\"></div>#}#' +\n        '</div>',\n        IFRAMETEMPLATE = kendo.template(\n            \"<iframe frameborder='0' class='\" + KCONTENTFRAME + \"' src='#= content.url #'>\" +\n                \"This page requires frames in order to show content\" +\n            \"</iframe>\"\n        ),\n        NS = \".kendoTooltip\",\n        POSITIONS = {\n            bottom: {\n                origin: \"bottom center\",\n                position: \"top center\"\n            },\n            top: {\n                origin: \"top center\",\n                position: \"bottom center\"\n            },\n            left: {\n                origin: \"center left\",\n                position: \"center right\",\n                collision: \"fit flip\"\n            },\n            right: {\n                origin: \"center right\",\n                position: \"center left\",\n                collision: \"fit flip\"\n            },\n            center: {\n                position: \"center center\",\n                origin: \"center center\"\n            }\n        },\n        REVERSE = {\n            \"top\": \"bottom\",\n            \"bottom\": \"top\",\n            \"left\": \"right\",\n            \"right\": \"left\",\n            \"center\": \"center\"\n        },\n        DIRCLASSES = {\n            bottom: \"n\",\n            top: \"s\",\n            left: \"e\",\n            right: \"w\",\n            center: \"n\"\n        },\n        DIMENSIONS = {\n            \"horizontal\": { offset: \"top\", size: \"outerHeight\" },\n            \"vertical\": { offset: \"left\", size: \"outerWidth\" }\n        },\n        DEFAULTCONTENT = function(e) {\n            return e.target.data(kendo.ns + \"title\");\n        };\n\n    function restoreTitle(element) {\n        while(element.length) {\n            if (restoreTitleAttributeForElement(element)) {\n                break;\n            }\n            element = element.parent();\n        }\n    }\n\n    function restoreTitleAttributeForElement(element) {\n        var title = element.data(kendo.ns + \"title\");\n        if (title) {\n            element.attr(\"title\", title);\n            element.removeData(kendo.ns + \"title\");\n            return true;\n        }\n    }\n\n    function saveTitleAttributeForElement(element) {\n        var title = element.attr(\"title\");\n        if (title) {\n            element.data(kendo.ns + \"title\", title);\n            element.attr(\"title\", \"\");\n            return true;\n        }\n    }\n\n    function saveTitleAttributes(element) {\n        while(element.length && !element.is(\"body\")) {\n            if (saveTitleAttributeForElement(element)) {\n                break;\n            }\n            element = element.parent();\n        }\n    }\n\n    var TooltipBase = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                axis;\n\n            Widget.fn.init.call(that, element, options);\n\n            axis = that.options.position.match(/left|right/) ? \"horizontal\" : \"vertical\";\n\n            that.dimensions = DIMENSIONS[axis];\n\n            if (kendo.support.touch && this._isShownOnMouseEnter()) {\n                that.element.on(kendo.support.mousedown + NS, that.options.filter, that._showOn.bind(that));\n            }\n\n            that.element.on(that.options.showOn + NS, that.options.filter, that._showOn.bind(that));\n        },\n\n        options: {\n            name: \"TooltipBase\",\n            filter: \"\",\n            offset: 0,\n            showAfter: 100,\n            hideAfter: 100,\n            callout: true,\n            position: \"bottom\",\n            showOn: \"mouseenter\",\n            animation: {\n                open: {\n                    effects: \"fade:in\",\n                    duration: 0\n                },\n                close: {\n                    duration: 40,\n                    hide: true\n                }\n            }\n        },\n\n        destroy: function() {\n            var popup = this.popup;\n\n            if (popup) {\n                popup.element.off(NS);\n                popup.destroy();\n            }\n\n            clearTimeout(this.timeout);\n\n            Widget.fn.destroy.call(this);\n        },\n\n        hide: function() {\n            if (this.popup) {\n                this.popup.close();\n            }\n        },\n\n        show: function(target) {\n            target = target || this.element;\n\n            this._saveTitle(target);\n            this._show(target);\n        },\n\n        target: function() {\n            if (this.popup) {\n                return this.popup.options.anchor;\n            }\n            return null;\n        },\n\n        _showOn: function(e) {\n            var that = this;\n\n            var currentTarget = $(e.currentTarget);\n            if (that._isShownOnClick() && !that._isShownOnMouseEnter()) {\n                that._show(currentTarget);\n            } else if (that._isShownOnFocus()) {\n                that._saveTitle(currentTarget);\n                that._show(currentTarget);\n            } else {\n                clearTimeout(that.timeout);\n\n                that.timeout = setTimeout(function() {\n                    that._show(currentTarget);\n                }, that.options.showAfter);\n            }\n        },\n\n        _isShownOnFocus: function(){\n            return this.options.showOn && this.options.showOn.match(/focus/);\n        },\n\n        _isShownOnMouseEnter: function(){\n            return this.options.showOn && this.options.showOn.match(/mouseenter/);\n        },\n\n        _isShownOnClick: function(){\n            return this.options.showOn && this.options.showOn.match(/click/);\n        },\n\n        _positionCallout: function() {\n            var that = this,\n                position = that.options.position,\n                dimensions = that.dimensions,\n                offset = dimensions.offset,\n                popup = that.popup,\n                anchor = popup.options.anchor,\n                anchorOffset = $(anchor).offset(),\n                elementOffset = $(popup.element).offset(),\n                cssClass = DIRCLASSES[popup.flipped ? REVERSE[position] : position],\n                offsetAmount = anchorOffset[offset] - elementOffset[offset] + ($(anchor)[dimensions.size]() / 2);\n\n            that._offset(position, that.options.offset);\n\n            that.arrow\n               .removeClass(\"k-callout-n k-callout-s k-callout-w k-callout-e\")\n               .addClass(\"k-callout-\" + cssClass)\n               .css(offset, offsetAmount);\n        },\n\n        _offset: function(position, offsetAmount, arrowWidth) {\n            var that = this,\n                isTopLeft = position == \"top\" || position == \"left\",\n                isFlipped = that.popup.flipped,\n                direction = (isTopLeft && isFlipped) || (!isTopLeft && !isFlipped) ? 1 : -1,\n                marginRule = isTopLeft ? \"margin-\" + position : \"margin-\" + REVERSE[position],\n                offset = ((arrowWidth || kendo._outerWidth(that.arrow)) / 2) + offsetAmount;\n\n            that.popup.wrapper.css(marginRule, offset * direction + \"px\");\n        },\n\n        _addDescribedBy: function () {\n            var that = this,\n                anchor = that.popup.options.anchor,\n                ariaId = anchor[0].id || that.element[0].id || kendo.guid(),\n                describedBy = [];\n\n            if(anchor.attr(DESCRIBEDBY)) {\n                describedBy.push(anchor.attr(DESCRIBEDBY));\n            }\n\n            if (ariaId) {\n                describedBy.push(ariaId + ARIAIDSUFFIX);\n                anchor.attr(DESCRIBEDBY, describedBy.join(\" \"));\n                that.popup.element.attr(\"id\", ariaId + ARIAIDSUFFIX);\n            }\n\n        },\n\n        _removeDescribedBy: function(target) {\n            var tooltipId = this.popup.element.attr(\"id\"),\n                currentDescribedBy = target.attr(DESCRIBEDBY),\n                arrayAttr, finalArray, finalDescribedbyAttr;\n\n            if(!currentDescribedBy) {\n                return;\n            }\n\n            arrayAttr = currentDescribedBy.split(\" \");\n\n            if(arrayAttr && arrayAttr.length > 0) {\n                finalArray = arrayAttr.filter(function (val) {\n                    return val !== tooltipId;\n                });\n            }\n\n            if(finalArray && finalArray.length > 0) {\n                finalDescribedbyAttr = finalArray.join(\" \");\n                target.attr(DESCRIBEDBY, finalDescribedbyAttr);\n            } else {\n                target.removeAttr(DESCRIBEDBY);\n            }\n        },\n\n        _openPopup: function() {\n            if (!this.popup) {\n                return;\n            }\n\n            this.popup._hovered = true;\n            this.popup.open();\n        }\n    });\n    kendo.ui.plugin(TooltipBase);\n\n    var Tooltip = TooltipBase.extend({\n        init: function(element, options) {\n            var that = this,\n                axis;\n\n            TooltipBase.fn.init.call(that, element, options);\n\n            axis = that.options.position.match(/left|right/) ? \"horizontal\" : \"vertical\";\n\n            that.dimensions = DIMENSIONS[axis];\n\n            that._documentKeyDownHandler = that._documentKeyDown.bind(that);\n\n            if (this._isShownOnMouseEnter() || this._isShownOnClick()) {\n                that.element.on(\"mouseenter\" + NS, that.options.filter, that._mouseenter.bind(that));\n            }\n\n            if (this.options.autoHide && this._isShownOnMouseEnter()) {\n                that.element.on(\"mouseleave\" + NS, that.options.filter, that._mouseleave.bind(that));\n            }\n\n            if (this.options.autoHide && this._isShownOnFocus()) {\n                that.element.on(\"blur\" + NS, that.options.filter, that._blur.bind(that));\n            }\n\n            if (kendo.support.touch) {\n                that.element.on(kendo.support.mousedown + NS, that.options.filter, that._mouseenter.bind(that));\n            }\n        },\n\n        options: {\n            name: \"Tooltip\",\n            filter: \"\",\n            content: DEFAULTCONTENT,\n            showAfter: 100,\n            callout: true,\n            offset: 0,\n            position: \"bottom\",\n            showOn: \"mouseenter\",\n            autoHide: true,\n            width: null,\n            height: null,\n            animation: {\n                open: {\n                    effects: \"fade:in\",\n                    duration: 0\n                },\n                close: {\n                    duration: 40,\n                    hide: true\n                }\n            }\n        },\n\n        events: [ SHOW, HIDE, CONTENTLOAD, ERROR, REQUESTSTART ],\n\n        _mouseenter: function(e) {\n            saveTitleAttributes($(e.currentTarget));\n        },\n\n        _saveTitle:function (target) {\n            saveTitleAttributes(target);\n        },\n\n        _appendContent: function(target) {\n            var that = this,\n                contentOptions = that.options.content,\n                element = that.content,\n                showIframe = that.options.iframe,\n                iframe;\n\n            if (isPlainObject(contentOptions) && contentOptions.url) {\n                if (!(\"iframe\" in that.options)) {\n                    showIframe = !isLocalUrl(contentOptions.url);\n                }\n\n                that.trigger(REQUESTSTART, { options: contentOptions, target: target });\n\n                if (!showIframe) {\n                    element.empty();\n                    kendo.ui.progress(element, true);\n\n                    // perform AJAX request\n                    that._ajaxRequest(contentOptions);\n                } else {\n                    element.hide();\n\n                    iframe = element.find(\".\" + KCONTENTFRAME)[0];\n\n                    if (iframe) {\n                        // refresh existing iframe\n                        iframe.src = contentOptions.url || iframe.src;\n                    } else {\n                        element.html(IFRAMETEMPLATE({ content: contentOptions }));\n                    }\n\n                    element.find(\".\" + KCONTENTFRAME)\n                        .off(\"load\" + NS)\n                        .on(\"load\" + NS, function(){\n                            that.trigger(CONTENTLOAD);\n                            element.show();\n                        });\n                }\n            } else if (contentOptions && isFunction(contentOptions)) {\n                contentOptions = contentOptions({ sender: this, target: target });\n                element.html(contentOptions || \"\");\n            } else {\n                element.html(contentOptions);\n            }\n\n            that.angular(\"compile\", function(){\n                return { elements: element };\n            });\n        },\n\n        _ajaxRequest: function(options) {\n            var that = this,\n                successFn = function (data) {\n                    kendo.ui.progress(that.content, false);\n\n                    that.content.html(data);\n\n                    that.contentLoading = false;\n\n                    that.trigger(CONTENTLOAD);\n\n                    that._openPopup();\n                };\n\n            that.contentLoading = true;\n\n            jQuery.ajax(extend({\n                type: \"GET\",\n                dataType: \"html\",\n                cache: false,\n                error: function (xhr, status) {\n                    kendo.ui.progress(that.content, false);\n\n                    that.trigger(ERROR, { status: status, xhr: xhr });\n                },\n                success: successFn.bind(that)\n            }, options));\n        },\n\n        _documentKeyDown: function(e) {\n            if (e.keyCode === kendo.keys.ESC) {\n                this.hide();\n            }\n        },\n\n        refresh: function() {\n            var that = this,\n                popup = that.popup;\n\n            if (popup && popup.options.anchor) {\n                that._appendContent(popup.options.anchor);\n            }\n        },\n\n        _show: function(target) {\n            var that = this,\n                current = that.target();\n\n            if (!that.popup) {\n                that._initPopup();\n            }\n\n            if (current && current[0] != target[0]) {\n                that.popup.close();\n                that.popup.element.kendoStop(true, true);// animation can be too long to hide the element before it is shown again\n            }\n\n            if (!current || current[0] != target[0]) {\n                that._appendContent(target);\n                that.popup.options.anchor = target;\n            }\n\n            that.popup.one(\"deactivate\", function() {\n                restoreTitle(target);\n\n                that._removeDescribedBy(target);\n\n                this.element\n                    .removeAttr(\"id\")\n                    .attr(\"aria-hidden\", true);\n\n                DOCUMENT.off(\"keydown\" + NS, that._documentKeyDownHandler);\n            });\n\n            if (!that.contentLoading) {\n                that._openPopup();\n            }\n        },\n\n        _initPopup: function() {\n            var that = this,\n                options = that.options,\n                wrapper = $(kendo.template(TEMPLATE)({\n                    callout: options.callout && options.position !== \"center\",\n                    dir: DIRCLASSES[options.position],\n                    autoHide: options.autoHide\n                }));\n\n            that.popup = new Popup(wrapper, extend({\n                autosize:true,\n                activate: function() {\n                    that._addDescribedBy();\n\n                    if (options.callout) {\n                        that._positionCallout();\n                    } else {\n                        that._offset(that.options.position, that.options.offset);\n                    }\n\n                    this.element.removeAttr(\"aria-hidden\");\n\n                    DOCUMENT.on(\"keydown\" + NS, that._documentKeyDownHandler);\n\n                    that.trigger(SHOW);\n                    that.popup._hovered = undefined;\n                },\n                close: function() {\n                    that.trigger(HIDE);\n                },\n                copyAnchorStyles: false,\n                animation: options.animation\n            }, POSITIONS[options.position]));\n\n            wrapper.css({\n                width: options.width,\n                height: options.height\n            });\n\n            that.content = wrapper.find(\".k-tooltip-content\");\n            that.arrow = wrapper.find(\".k-callout\");\n\n            if (options.autoHide && this._isShownOnMouseEnter()) {\n                wrapper.on(\"mouseleave\" + NS, that._mouseleave.bind(that));\n            } else {\n                wrapper.on(\"click\" + NS, \".k-tooltip-button\", that._closeButtonClick.bind(that));\n            }\n        },\n\n        _closeButtonClick: function(e) {\n            e.preventDefault();\n            this.hide();\n        },\n\n        _mouseleave: function(e) {\n            var that = this;\n\n            clearTimeout(that.timeout);\n\n            that.timeout = setTimeout(function() {\n                that._closePopup(e.currentTarget);\n            }, that.options.hideAfter);\n        },\n\n        _blur: function(e){\n            this._closePopup(e.currentTarget);\n        },\n\n        _closePopup: function(target){\n            if (this.popup && !this.popup._hovered) {\n                this.popup.close();\n            } else {\n                restoreTitle($(target));\n            }\n        },\n\n        destroy: function() {\n            this.element.off(NS);\n\n            DOCUMENT.off(\"keydown\" + NS, this._documentKeyDownHandler);\n\n            TooltipBase.fn.destroy.call(this);\n        }\n    });\n\n    kendo.ui.plugin(Tooltip);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.toolbar',[ \"kendo.core\", \"kendo.userevents\", \"kendo.popup\", \"kendo.html.button\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"toolbar\",\n    name: \"ToolBar\",\n    category: \"web\",\n    description: \"The ToolBar widget displays one or more command buttons divided into groups.\",\n    depends: [ \"core\", \"html.button\"  ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Class = kendo.Class,\n        Widget = kendo.ui.Widget,\n        isFunction = kendo.isFunction,\n        keys = kendo.keys,\n        outerWidth = kendo._outerWidth,\n        ns = \".kendoToolBar\",\n\n        TOOLBAR = \"k-toolbar\",\n        KBUTTON = \"k-button\",\n        BUTTON_DEFAULTS = \"k-button-md k-rounded-md k-button-solid k-button-solid-base\",\n        OVERFLOW_BUTTON = \"k-overflow-button\",\n        TOGGLE_BUTTON = \"k-toggle-button\",\n        BUTTON_GROUP = \"k-button-group\",\n        SPLIT_BUTTON = \"k-split-button\",\n        SPLIT_BUTTON_ARROW = \"k-split-button-arrow\",\n        LIST_CONTAINER = \"k-list-container k-split-container\",\n        ICON_BUTTON = \"k-icon-button\",\n        KSEPARATOR = \"k-separator\",\n        SPACER_CLASS = \"k-spacer\",\n        POPUP = \"k-popup\",\n        RESIZABLE_TOOLBAR = \"k-toolbar-resizable\",\n        STATE_SELECTED = \"k-selected\",\n        STATE_DISABLED = \"k-disabled\",\n        STATE_HIDDEN = \"k-state-hidden\",\n        HIDDEN = \"k-hidden\",\n        GROUP_START = \"k-group-start\",\n        GROUP_END = \"k-group-end\",\n        MENU_LINK = \"k-menu-link\",\n        OVERFLOW_GROUP = \"k-overflow-group\",\n        OVERFLOW_HIDDEN = \"k-overflow-hidden\",\n        OVERFLOW_ANCHOR = \"k-overflow-anchor\",\n        OVERFLOW_CONTAINER = \"k-overflow-container\",\n        OVERFLOW_WRAPPER = \"k-overflow-wrapper\",\n        FIRST_TOOLBAR_VISIBLE = \"k-toolbar-first-visible\",\n        LAST_TOOLBAR_VISIBLE = \"k-toolbar-last-visible\",\n        BUTTON_ROUNDED_MD = \"k-rounded-md\",\n\n        MENU_GROUP = \"k-group k-menu-group k-reset k-menu-group-md\",\n\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_PRESSED = \"aria-pressed\",\n\n        CLICK = \"click\",\n        TOGGLE = \"toggle\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        FOCUS = \"focus\",\n        FOCUSIN = \"focusin\",\n        KEYDOWN = \"keydown\",\n        TAP = \"tap\",\n\n        SPACER = \"spacer\",\n        BOTH = \"both\",\n        PRIMARY = \"primary\",\n        HREF = \"href\",\n        ROLE = \"role\",\n        BUTTON = \"button\",\n        SEPARATOR = \"separator\",\n        OVERFLOW = \"overflow\",\n        NEXT = \"next\",\n        PREV = \"prev\",\n        TABINDEX = \"tabindex\",\n        TEMPLATE = \"template\",\n\n        OVERFLOW_OPEN = \"overflowOpen\",\n        OVERFLOW_CLOSE = \"overflowClose\",\n        OVERFLOW_NEVER = \"never\",\n        OVERFLOW_AUTO = \"auto\",\n        OVERFLOW_ALWAYS = \"always\",\n\n        OPTION_LIST_SUFFIX = \"_optionlist\",\n\n        KENDO_UID_ATTR = kendo.attr(\"uid\"),\n\n        POPUP_ITEM_TEMPLATE = '<li class=\"k-menu-item k-item\">',\n\n        MENU_LINK_SPAN = '<span tabindex=\"0\" class=\"k-link k-menu-link\">' +\n                '<span class=\"k-menu-link-text\">#:text#</span>' +\n            '</span>',\n\n        MENU_LINK_A = '<a href=\"#:href#\" class=\"k-link k-menu-link\">' +\n                '<span class=\"k-menu-link-text\">#:text#</span>' +\n            '</a>',\n\n        EMPTY = \" \",\n        NOTHING = \"\",\n        DOT = \".\",\n        COMMA = \",\",\n        ID = \"id\";\n\n        kendo.toolbar = {};\n\n        var components = {\n            overflowAnchor: '<div tabindex=\"0\" class=\"k-overflow-anchor k-button k-button-md k-rounded-md k-button-flat k-button-flat-base\" title=\"More tools\" role=\"button\"></div>',\n            overflowContainer: '<ul class=\"k-overflow-container k-list-container\"></ul>'\n        };\n\n        kendo.toolbar.registerComponent = function(name, toolbar, overflow) {\n            components[name] = {\n                toolbar: toolbar,\n                overflow: overflow\n            };\n        };\n\n        var Item = kendo.Class.extend({\n            addOverflowAttr: function() {\n                this.element.attr(kendo.attr(OVERFLOW), this.options.overflow || OVERFLOW_AUTO);\n            },\n\n            addUidAttr: function() {\n                this.element.attr(KENDO_UID_ATTR, this.options.uid);\n            },\n\n            addIdAttr: function() {\n                if (this.options.id) {\n                    this.element.attr(ID, this.options.id);\n                }\n            },\n\n            addOverflowIdAttr: function() {\n                if (this.options.id) {\n                    this.element.attr(ID, this.options.id + \"_overflow\");\n                }\n            },\n\n            attributes: function() {\n                var attributes = this.options.attributes,\n                    classes;\n\n                if (attributes) {\n                    if (attributes.class) {\n                        classes = attributes.class;\n\n                        this.element.addClass(classes);\n\n                        delete attributes.class;\n                    }\n\n                    this.element.attr(attributes);\n\n                    attributes.class = classes;\n                }\n            },\n\n            show: function() {\n                this.element.removeClass(STATE_HIDDEN);\n                this.element.removeClass(HIDDEN);\n                this.options.hidden = false;\n            },\n\n            hide: function() {\n                this.element.addClass(STATE_HIDDEN);\n                this.element.addClass(HIDDEN);\n\n                if (this.overflow && this.overflowHidden){\n                    this.overflowHidden();\n                }\n                this.options.hidden = true;\n            },\n\n            remove: function() {\n                this.element.remove();\n            },\n\n            enable: function(isEnabled) {\n                if (isEnabled === undefined) {\n                    isEnabled = true;\n                }\n                this.element.toggleClass(STATE_DISABLED, !isEnabled);\n                this.element.attr(ARIA_DISABLED, !isEnabled);\n\n                this.options.enable = isEnabled;\n            },\n\n            twin: function() {\n                var uid = this.element.attr(KENDO_UID_ATTR);\n                if (this.overflow && this.options.splitContainerId) {\n                    return $(\"#\" + this.options.splitContainerId)\n                            .find(\"[\" + KENDO_UID_ATTR + \"='\" + uid + \"']\")\n                            .data(this.options.type);\n                } else if (this.overflow) {\n                    return this.toolbar\n                            .element\n                            .find(\"[\" + KENDO_UID_ATTR + \"='\" + uid + \"']\")\n                            .data(this.options.type);\n                } else if (this.toolbar.options.resizable) {\n                    return this.toolbar\n                            .popup.element\n                            .find(\"[\" + KENDO_UID_ATTR + \"='\" + uid + \"']\")\n                            .data(this.options.type);\n                }\n            }\n        });\n\n        kendo.toolbar.Item = Item;\n\n        var Button = Item.extend({\n            init: function(options, toolbar) {\n                var element = options.useButtonTag ? $('<button></button>') : $('<a role=\"button\" href></a>');\n\n                this.element = element;\n                this.options = $.extend({}, this.options, options);\n                this.toolbar = toolbar;\n\n                this.attributes();\n\n                if (options.primary) {\n                    this.options.themeColor = PRIMARY;\n                }\n\n                if (options.togglable) {\n                    element.addClass(TOGGLE_BUTTON);\n                    this.toggle(options.selected);\n                }\n\n                if (options.url !== undefined && !options.useButtonTag) {\n                    element.attr(HREF, options.url);\n                    if (options.mobile) {\n                        element.attr(kendo.attr(ROLE), BUTTON);\n                    }\n                }\n\n                if (options.group) {\n                    element.attr(kendo.attr(\"group\"), options.group);\n                    this.group = this.toolbar.addToGroup(this, options.group);\n                }\n\n                if (!options.togglable && options.click && isFunction(options.click)) {\n                    this.clickHandler = options.click;\n                }\n\n                if (options.togglable && options.toggle && isFunction(options.toggle)) {\n                    this.toggleHandler = options.toggle;\n                }\n            },\n\n            options: {\n                showIcon: BOTH,\n                showText: BOTH\n            },\n\n            toggle: function(state, propagate) {\n                state = !!state;\n\n                if (this.group && state) {\n                    this.group.select(this);\n                } else if (!this.group) {\n                    this.select(state);\n                }\n\n                if (propagate && this.twin()) {\n                    this.twin().toggle(state);\n                }\n            },\n\n            getParentGroup: function() {\n                if (this.options.isChild) {\n                    return this.element.closest(DOT + BUTTON_GROUP).data(\"buttonGroup\");\n                }\n            }\n        });\n\n        kendo.toolbar.Button = Button;\n\n        var ToolBarButton = Button.extend({\n            init: function(options, toolbar) {\n                Button.fn.init.call(this, options, toolbar);\n\n                var element = this.element;\n                options = this.options;\n\n                element.addClass(KBUTTON);\n\n                this.addIdAttr();\n\n                if (options.align) {\n                    element.addClass(\"k-align-\" + options.align);\n                }\n\n                if (!!options.text && (options.showText == \"toolbar\" ||  options.showText == BOTH)) {\n                    if (options.mobile) {\n                        element.html('<span class=\"km-text\">' + options.text + \"</span>\");\n                    } else {\n                        element.html(options.text);\n                    }\n                } else if (!!options.text) {\n                    element.attr(\"aria-label\", options.text);\n                }\n\n                if(options.icon || options.spriteCssClass || options.imageUrl) {\n                    if(options.showIcon !== \"toolbar\" && options.showIcon !== BOTH) {\n                        options.icon  = null;\n                        options.spriteCssClass = null;\n                        options.imageUrl = null;\n                    }\n                }\n\n                kendo.html.renderButton(element, options);\n\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.enable(options.enable);\n\n                if (options.hidden) {\n                    this.hide();\n                }\n\n                this.element.data({\n                    type: BUTTON,\n                    button: this\n                });\n            },\n\n            select: function(selected) {\n                if (selected === undefined) {\n                    selected = false;\n                }\n\n                if (this.options.togglable) {\n                    this.element.attr(ARIA_PRESSED, selected);\n                }\n\n                this.element.toggleClass(STATE_SELECTED, selected);\n                this.options.selected = selected;\n            }\n        });\n\n        kendo.toolbar.ToolBarButton = ToolBarButton;\n\n        var OverflowButton = Button.extend({\n            init: function(options, toolbar) {\n                this.overflow = true;\n\n                Button.fn.init.call(this, $.extend({}, options), toolbar);\n\n                var element = this.element;\n                options = this.options;\n\n                if (!!options.text && (options.showText == OVERFLOW ||  options.showText == BOTH)) {\n                    if (options.mobile) {\n                        element.html('<span class=\"km-text\">' + options.text + \"</span>\");\n                    } else {\n                        element.html(options.text);\n                    }\n                } else if (!!options.text) {\n                    element.attr(\"aria-label\", options.text);\n                }\n\n                if(options.icon || options.spriteCssClass || options.imageUrl) {\n                    if(options.showIcon !== OVERFLOW && options.showIcon !== BOTH) {\n                        options.icon  = null;\n                        options.spriteCssClass = null;\n                        options.imageUrl = null;\n                    }\n                }\n\n                kendo.html.renderButton(element, options);\n\n                if (!options.isChild) {\n                    this._wrap();\n                }\n\n                this.addOverflowIdAttr();\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.enable(options.enable);\n\n                element.addClass(OVERFLOW_BUTTON + EMPTY + KBUTTON);\n\n                if (options.hidden) {\n                    this.hide();\n                }\n\n                if (options.togglable){\n                    this.toggle(options.selected);\n                }\n\n                this.element.data({\n                    type: BUTTON,\n                    button: this\n                });\n            },\n\n            _wrap: function() {\n                this.element = this.element.wrap(POPUP_ITEM_TEMPLATE).parent();\n            },\n\n            overflowHidden: function() {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            },\n\n            select: function(selected) {\n                if (selected === undefined) {\n                    selected = false;\n                }\n\n                if (this.options.isChild) {\n                    this.element.toggleClass(STATE_SELECTED, selected);\n                } else {\n                    this.element.find(DOT + KBUTTON).toggleClass(STATE_SELECTED, selected);\n                }\n                this.options.selected = selected;\n            }\n        });\n\n        kendo.toolbar.OverflowButton = OverflowButton;\n        kendo.toolbar.registerComponent(BUTTON, ToolBarButton, OverflowButton);\n\n        var ButtonGroup = Item.extend({\n            createButtons: function(buttonConstructor) {\n                var options = this.options;\n                var items = options.buttons || [];\n                var item;\n\n                for (var i = 0; i < items.length; i++) {\n                    if (!items[i].uid) {\n                        items[i].uid = kendo.guid();\n                    }\n                    item = new buttonConstructor($.extend({ mobile: options.mobile, isChild: true, type: BUTTON }, items[i]), this.toolbar);\n                    item.element.appendTo(this.element);\n                }\n            },\n\n            refresh: function() {\n                this.element.children().filter(\":not('.\" + STATE_HIDDEN + \"')\").first().addClass(GROUP_START);\n                this.element.children().filter(\":not('.\" + STATE_HIDDEN + \"')\").last().addClass(GROUP_END);\n            }\n        });\n\n        kendo.toolbar.ButtonGroup = ButtonGroup;\n\n        var ToolBarButtonGroup = ButtonGroup.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<div></div>');\n                this.options = options;\n                this.toolbar = toolbar;\n\n                this.addIdAttr();\n\n                if (options.align) {\n                    element.addClass(\"k-align-\" + options.align);\n                }\n\n                this.createButtons(ToolBarButton);\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.refresh();\n\n                element.addClass(BUTTON_GROUP);\n\n                if (options.hidden) {\n                    this.hide();\n                }\n\n                this.element.data({\n                    type: \"buttonGroup\",\n                    buttonGroup: this\n                });\n            }\n        });\n\n        kendo.toolbar.ToolBarButtonGroup = ToolBarButtonGroup;\n\n        var OverflowButtonGroup = ButtonGroup.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<li></li>');\n                this.options = options;\n                this.toolbar = toolbar;\n                this.overflow = true;\n\n                this.addOverflowIdAttr();\n\n                this.createButtons(OverflowButton);\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.refresh();\n\n                element.addClass((options.mobile ? NOTHING : BUTTON_GROUP) + EMPTY + OVERFLOW_GROUP);\n\n                this.element.data({\n                    type: \"buttonGroup\",\n                    buttonGroup: this\n                });\n            },\n\n            overflowHidden: function() {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n\n        kendo.toolbar.OverflowButtonGroup = OverflowButtonGroup;\n        kendo.toolbar.registerComponent(\"buttonGroup\", ToolBarButtonGroup, OverflowButtonGroup);\n\n        var ToolBarMenuButton = ToolBarButton.extend({\n            init: function(options, toolbar) {\n                var element, img, span;\n\n                options = this.options = $.extend({}, this.options, options);\n\n                if (options.url !== undefined) {\n                    element = $(kendo.template(MENU_LINK_A)({\n                        href: options.url,\n                        text: options.text\n                    }));\n                } else {\n                    element = $(kendo.template(MENU_LINK_SPAN)({\n                        text: options.text\n                    }));\n                }\n\n                this.element = element;\n                this.toolbar = toolbar;\n\n                if (options.click && isFunction(options.click)) {\n                    this.clickHandler = options.click;\n                }\n\n                if (options.togglable && options.toggle && isFunction(options.toggle)) {\n                    this.toggleHandler = options.toggle;\n                }\n\n                if (options.imageUrl) {\n                    img = $('<img alt=\"icon\" class=\"k-image\" />').prependTo(element);\n                    img.attr(\"src\", options.imageUrl);\n                } else if (options.icon) {\n                    span = $('<span></span>').prependTo(element);\n                    span.attr(\"class\", \"k-icon k-i-\" + options.icon);\n                } else if (options.spriteCssClass) {\n                    span = $('<span class=\"k-sprite\"></span>').prependTo(element);\n                    span.addClass(options.spriteCssClass);\n                }\n\n                this.addIdAttr();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.attributes();\n                this.enable(options.enable);\n\n                if (options.group) {\n                    element.attr(kendo.attr(\"group\"), options.group);\n                    this.group = this.toolbar.addToGroup(this, options.group);\n                }\n\n                if (options.hidden) {\n                    this.hide();\n                }\n\n                this.element.data({\n                    type: BUTTON,\n                    button: this\n                });\n            }\n        });\n\n        kendo.toolbar.ToolBarMenuButton = ToolBarMenuButton;\n\n        var ToolBarSplitButton = Item.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<div class=\"' + SPLIT_BUTTON + EMPTY + BUTTON_GROUP + EMPTY + BUTTON_ROUNDED_MD + '\" tabindex=\"0\"></div>');\n\n                this.options = options;\n                this.toolbar = toolbar;\n\n                this.mainButton = new ToolBarButton($.extend({}, options, { hidden: false }), toolbar);\n                this.arrowButton = $('<a class=\"' + KBUTTON + EMPTY + BUTTON_DEFAULTS + EMPTY + ICON_BUTTON + EMPTY + SPLIT_BUTTON_ARROW + '\"><span class=\"' + (options.mobile ? \"km-icon km-arrowdown\" : \"k-icon k-button-icon k-i-arrow-s\") + '\"></span></a>');\n                this.popupElement = $('<ul class=\"' + LIST_CONTAINER + EMPTY + MENU_GROUP + '\"></ul>');\n\n                this.mainButton.element\n                    .removeAttr(\"href tabindex\")\n                    .appendTo(element);\n\n                this.arrowButton.appendTo(element);\n                this.popupElement.appendTo(element);\n\n                if (options.align) {\n                    element.addClass(\"k-align-\" + options.align);\n                }\n\n                if (!options.id) {\n                    options.id = options.uid;\n                }\n\n                element.attr(ID, options.id + \"_wrapper\");\n\n                this.addOverflowAttr();\n                this.addUidAttr();\n\n                this.createMenuButtons();\n                this.createPopup();\n                this._navigatable();\n\n                this.mainButton.main = true;\n\n                this.enable(options.enable);\n\n                if (options.hidden) {\n                    this.hide();\n                }\n\n                element.data({\n                    type: \"splitButton\",\n                    splitButton: this,\n                    kendoPopup: this.popup\n                });\n            },\n\n            _navigatable: function() {\n                var that = this;\n\n                that.popupElement.on(KEYDOWN + ns, DOT + MENU_LINK, function(e) {\n                    var li = $(e.target).parent();\n\n                    e.preventDefault();\n\n                    if (e.keyCode === keys.ESC || e.keyCode === keys.TAB || (e.altKey && e.keyCode === keys.UP)) {\n                        that.toggle();\n                        that.focus();\n                    } else if (e.keyCode === keys.DOWN) {\n                        findFocusableSibling(li, NEXT).trigger(FOCUS);\n                    } else if (e.keyCode === keys.UP) {\n                        findFocusableSibling(li, PREV).trigger(FOCUS);\n                    } else if (e.keyCode === keys.SPACEBAR || e.keyCode === keys.ENTER) {\n                        that.toolbar.userEvents.trigger(TAP, { target: $(e.target) });\n                    } else if (e.keyCode === keys.HOME) {\n                        li.parent().find(\":kendoFocusable\").first().trigger(FOCUS);\n                    } else if (e.keyCode === keys.END) {\n                        li.parent().find(\":kendoFocusable\").last().trigger(FOCUS);\n                    }\n                });\n            },\n\n            createMenuButtons: function() {\n                var options = this.options;\n                var items = options.menuButtons;\n                var item;\n\n                for (var i = 0; i < items.length; i++) {\n                    item = new ToolBarMenuButton($.extend({ mobile: options.mobile, type: BUTTON, click: options.click }, items[i]), this.toolbar);\n                    item.element.wrap(POPUP_ITEM_TEMPLATE).parent().appendTo(this.popupElement);\n                }\n            },\n\n            createPopup: function() {\n                var that = this;\n                var options = this.options;\n                var element = this.element;\n\n                this.popupElement\n                        .attr(ID, options.id + OPTION_LIST_SUFFIX)\n                        .attr(KENDO_UID_ATTR, options.rootUid);\n\n                if (options.mobile) {\n                    this.popupElement = actionSheetWrap(this.popupElement);\n                }\n\n                this.popup = this.popupElement.kendoPopup({\n                    appendTo: options.mobile ? $(options.mobile).children(\".km-pane\") : null,\n                    anchor: element,\n                    isRtl: this.toolbar._isRtl,\n                    copyAnchorStyles: false,\n                    animation: options.animation,\n                    open: function(e){\n                        var isDefaultPrevented = that.toolbar.trigger(OPEN, { target: element });\n\n                        if(isDefaultPrevented){\n                            e.preventDefault();\n                            return;\n                        }\n\n                        that.adjustPopupWidth(e.sender);\n                    },\n                    activate: function() {\n                        this.element.find(\":kendoFocusable\").first().trigger(FOCUS);\n                    },\n                    close: function(e) {\n                        var isDefaultPrevented = that.toolbar.trigger(CLOSE, { target: element });\n                        if(isDefaultPrevented){\n                            e.preventDefault();\n                        }\n                        element.trigger(FOCUS);\n                    }\n                }).data(\"kendoPopup\");\n\n                this.popup.element.on(CLICK + ns, \"a.k-button\", preventClick);\n            },\n\n            adjustPopupWidth: function (popup) {\n                var anchor = popup.options.anchor,\n                    computedWidth = outerWidth(anchor),\n                    width;\n\n                kendo.wrap(popup.element).addClass(\"k-split-wrapper\");\n\n                if (popup.element.css(\"box-sizing\") !== \"border-box\") {\n                    width = computedWidth - (outerWidth(popup.element) - popup.element.width());\n                } else {\n                    width = computedWidth;\n                }\n\n                popup.element.css({\n                    fontFamily: anchor.css(\"font-family\"),\n                    \"min-width\": width\n                });\n            },\n\n            remove: function() {\n                this.popup.element.off(CLICK + ns, \"a.k-button\");\n                this.popup.destroy();\n                this.element.remove();\n            },\n\n            toggle: function() {\n                if(this.options.enable || this.popup.visible()){\n                    this.popup.toggle();\n                }\n            },\n\n            enable: function(isEnabled) {\n                if (isEnabled === undefined) {\n                    isEnabled = true;\n                }\n\n                this.mainButton.enable(isEnabled);\n                this.element.toggleClass(STATE_DISABLED, !isEnabled);\n                this.element.attr(ARIA_DISABLED, !isEnabled);\n                this.options.enable = isEnabled;\n            },\n\n            focus: function() {\n                this.element.trigger(FOCUS);\n            },\n\n            hide: function() {\n                if (this.popup) {\n                    this.popup.close();\n                }\n\n                this.element.addClass(STATE_HIDDEN);\n                this.element.addClass(HIDDEN);\n                this.options.hidden = true;\n            },\n\n            show: function() {\n                this.element.removeClass(STATE_HIDDEN);\n                this.element.removeClass(HIDDEN);\n                this.options.hidden = false;\n            }\n        });\n\n        kendo.toolbar.ToolBarSplitButton = ToolBarSplitButton;\n\n        var OverflowSplitButton = Item.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<li class=\"' + SPLIT_BUTTON + '\"></li>'),\n                    items = options.menuButtons,\n                    item, splitContainerId;\n\n                this.options = options;\n                this.toolbar = toolbar;\n                this.overflow = true;\n                splitContainerId = (options.id || options.uid) + OPTION_LIST_SUFFIX;\n\n                this.mainButton = new OverflowButton($.extend({ isChild: true }, options));\n                this.mainButton.element.appendTo(element);\n\n                for (var i = 0; i < items.length; i++) {\n                    item = new OverflowButton($.extend({ mobile: options.mobile, type: BUTTON, splitContainerId: splitContainerId, isChild: true }, items[i], { click: options.click }), this.toolbar);\n                    item.element.appendTo(element);\n                }\n\n                this.addUidAttr();\n                this.addOverflowAttr();\n\n                this.mainButton.main = true;\n\n                element.data({\n                    type: \"splitButton\",\n                    splitButton: this\n                });\n            },\n\n            overflowHidden: function() {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n\n        kendo.toolbar.OverflowSplitButton = OverflowSplitButton;\n        kendo.toolbar.registerComponent(\"splitButton\", ToolBarSplitButton, OverflowSplitButton);\n\n        var ToolBarSeparator = Item.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<div>&nbsp;</div>');\n\n                this.element = element;\n                this.options = options;\n                this.toolbar = toolbar;\n\n                this.attributes();\n                this.addIdAttr();\n                this.addUidAttr();\n                this.addOverflowAttr();\n\n                element.addClass(KSEPARATOR);\n                element.attr(ROLE, SEPARATOR);\n\n                element.data({\n                    type: SEPARATOR,\n                    separator: this\n                });\n            }\n        });\n\n        var OverflowSeparator = Item.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<li>&nbsp;</li>');\n\n                this.element = element;\n                this.options = options;\n                this.toolbar = toolbar;\n                this.overflow = true;\n\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowIdAttr();\n\n                element.addClass(KSEPARATOR);\n                element.attr(ROLE, SEPARATOR);\n\n                element.data({\n                    type: SEPARATOR,\n                    separator: this\n                });\n            },\n\n            overflowHidden: function() {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n\n        kendo.toolbar.registerComponent(\"separator\", ToolBarSeparator, OverflowSeparator);\n\n        var ToolBarSpacer = Item.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<div>&nbsp;</div>');\n\n                this.element = element;\n                this.options = options;\n                this.toolbar = toolbar;\n\n                element.addClass(SPACER_CLASS);\n\n                element.data({\n                    type: SPACER\n                });\n            }\n        });\n\n        kendo.toolbar.registerComponent(SPACER, ToolBarSpacer);\n\n        var TemplateItem = Item.extend({\n            init: function(template, options, toolbar) {\n                var element = isFunction(template) ? template(options) : template;\n\n                if (!(element instanceof jQuery)) {\n                    element = $(\"<div></div>\").html(element);\n                } else {\n                    element = element.wrap(\"<div></div>\").parent();\n                }\n\n                this.element = element;\n                this.options = options;\n                this.options.type = TEMPLATE;\n                this.toolbar = toolbar;\n\n                this.attributes();\n                this.addUidAttr();\n                this.addIdAttr();\n                this.addOverflowAttr();\n\n                if (options.hidden) {\n                    this.hide();\n                }\n\n                element.data({\n                    type: TEMPLATE,\n                    template: this\n                });\n            }\n        });\n\n        kendo.toolbar.TemplateItem = TemplateItem;\n\n        var OverflowTemplateItem = Item.extend({\n            init: function(template, options, toolbar) {\n                var element = isFunction(template) ? $(template(options)) : $(template);\n\n                if (!(element instanceof jQuery)) {\n                    element = $(\"<li></li>\").html(element);\n                } else {\n                    element = element.wrap(\"<li></li>\").parent();\n                }\n\n                this.element = element;\n                this.options = options;\n                this.options.type = TEMPLATE;\n                this.toolbar = toolbar;\n                this.overflow = true;\n\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowIdAttr();\n                this.addOverflowAttr();\n\n                element.data({\n                    type: TEMPLATE,\n                    template: this\n                });\n            },\n\n            overflowHidden: function() {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n\n        kendo.toolbar.OverflowTemplateItem = OverflowTemplateItem;\n\n        function toggleActive(e) {\n            if (!e.target.is(\".k-toggle-button\")) {\n                e.target.toggleClass(STATE_SELECTED, e.type == \"press\");\n            }\n        }\n\n        function actionSheetWrap(element) {\n            element = $(element);\n\n            return element.hasClass(\"km-actionsheet\") ? element.closest(\".km-popup-wrapper\") : element.addClass(\"km-widget km-actionsheet\")\n                             .wrap('<div class=\"km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup\"></div>').parent()\n                             .wrap('<div class=\"km-popup-wrapper k-popup\"></div>').parent();\n        }\n\n        function preventClick(e) {\n            if ($(e.target).closest(\"a.k-button\").length) {\n                e.preventDefault();\n            }\n        }\n\n        function findFocusableSibling (element, dir) {\n            var getSibling = dir === NEXT ? $.fn.next : $.fn.prev;\n            var getter = dir === NEXT ? $.fn.first : $.fn.last;\n            var candidate = getSibling.call(element);\n\n            if(!candidate.length && element.is(DOT + OVERFLOW_ANCHOR)){\n                return element;\n            }\n\n            if (candidate.is(\":kendoFocusable\") || !candidate.length) {\n                return candidate;\n            }\n\n            if (candidate.find(\":kendoFocusable\").length) {\n                return getter.call(candidate.find(\":kendoFocusable\"));\n            }\n\n            return findFocusableSibling(candidate, dir);\n        }\n\n        var Group = Class.extend({\n            init: function(name) {\n                this.name = name;\n                this.buttons = [];\n            },\n\n            add: function(button) {\n                this.buttons[this.buttons.length] = button;\n            },\n\n            remove: function(button) {\n                var index = $.inArray(button, this.buttons);\n                this.buttons.splice(index, 1);\n            },\n\n            select: function(button) {\n                var tmp;\n                for (var i = 0; i < this.buttons.length; i ++) {\n                    tmp = this.buttons[i];\n\n                    tmp.select(false);\n                }\n\n                button.select(true);\n                if (button.twin()) {\n                    button.twin().select(true);\n                }\n            }\n        });\n\n        var ToolBar = Widget.extend({\n            init: function(element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, options);\n\n                options = that.options;\n                element = that.wrapper = that.element;\n\n                element.addClass(TOOLBAR + \" k-widget\");\n                element.attr(ROLE, \"toolbar\");\n\n                this.uid = kendo.guid();\n                this._isRtl = kendo.support.isRtl(element);\n                this._groups = {};\n                element.attr(KENDO_UID_ATTR, this.uid);\n\n                that.isMobile = (typeof options.mobile === \"boolean\") ? options.mobile : that.element.closest(\".km-root\")[0];\n                that.animation = that.isMobile ? { open: { effects: \"fade\" } } : {};\n\n                if (that.isMobile) {\n                    element.addClass(\"km-widget\");\n                    KBUTTON = \"km-button\";\n                    BUTTON_GROUP = \"km-buttongroup\";\n                    STATE_SELECTED = \"km-state-active\";\n                    STATE_DISABLED = \"km-state-disabled\";\n                }\n\n                if(options.resizable) {\n                    that._renderOverflow();\n                    element.addClass(RESIZABLE_TOOLBAR);\n\n                    that.overflowUserEvents = new kendo.UserEvents(that.element, {\n                        threshold: 5,\n                        allowSelection: true,\n                        filter: DOT + OVERFLOW_ANCHOR,\n                        tap: that._toggleOverflow.bind(that)\n                    });\n\n                    that._resizeHandler = kendo.onResize(function() {\n                        that.resize();\n                    });\n                } else {\n                    that.popup = { element: $([]) };\n                }\n\n                if(options.items && options.items.length) {\n                    for (var i = 0; i < options.items.length; i++) {\n                        that.add(options.items[i]);\n                    }\n\n                    if(options.resizable) {\n                        that._shrink(that.element.innerWidth());\n                    }\n                }\n\n                that.userEvents = new kendo.UserEvents(document.documentElement, {\n                    threshold: 5,\n                    allowSelection: true,\n                    filter:\n                        \"[\" + KENDO_UID_ATTR + \"=\" + this.uid + \"] a.\" + KBUTTON + COMMA + EMPTY +\n                        \"[\" + KENDO_UID_ATTR + \"=\" + this.uid + \"] .\" + MENU_LINK + COMMA + EMPTY +\n                        \"[\" + KENDO_UID_ATTR + \"=\" + this.uid + \"] .\" + OVERFLOW_BUTTON,\n                    tap: that._buttonClick.bind(that),\n                    press: toggleActive,\n                    release: toggleActive\n                });\n\n                that.element.on(CLICK + ns, \"a.k-button\", preventClick);\n                that._navigatable();\n\n                if (options.resizable) {\n                    that.popup.element.on(CLICK + ns, + \"a.k-button\", preventClick);\n                }\n\n                if (options.resizable) {\n                    this._toggleOverflowAnchor();\n                }\n\n                kendo.notify(that);\n            },\n\n            events: [\n                CLICK,\n                TOGGLE,\n                OPEN,\n                CLOSE,\n                OVERFLOW_OPEN,\n                OVERFLOW_CLOSE\n            ],\n\n            options: {\n                name: \"ToolBar\",\n                items: [],\n                resizable: true,\n                mobile: null\n            },\n\n            addToGroup: function(button, groupName) {\n                var group;\n\n                if (!this._groups[groupName]) {\n                    group = this._groups[groupName] = new Group();\n                } else {\n                    group = this._groups[groupName];\n                }\n\n                group.add(button);\n                return group;\n            },\n\n            destroy: function() {\n                var that = this;\n\n                that.element.find(DOT + SPLIT_BUTTON).each(function(idx, element) {\n                    $(element).data(\"kendoPopup\").destroy();\n                });\n\n                that.element.off(ns, \"a.k-button\");\n\n                that.userEvents.destroy();\n\n                if (that.options.resizable) {\n                    kendo.unbindResize(that._resizeHandler);\n                    that.overflowUserEvents.destroy();\n                    that.popup.element.off(ns, \"a.k-button\");\n                    that.popup.destroy();\n                }\n\n                Widget.fn.destroy.call(that);\n            },\n\n            add: function(options) {\n                var component = components[options.type],\n                    template = options.template,\n                    tool, that = this,\n                    itemClasses = that.isMobile ? NOTHING : \"k-item\",\n                    overflowTemplate = options.overflowTemplate,\n                    overflowTool;\n\n                $.extend(options, {\n                    uid: kendo.guid(),\n                    animation: that.animation,\n                    mobile: that.isMobile,\n                    rootUid: that.uid\n                });\n\n                if (options.menuButtons) {\n                    for (var i = 0; i < options.menuButtons.length; i++) {\n                        $.extend(options.menuButtons[i], {\n                            uid: kendo.guid()\n                        });\n                    }\n                }\n\n                if ((template && !overflowTemplate) || options.type === SPACER) {\n                    options.overflow = OVERFLOW_NEVER;\n                } else if (!options.overflow) {\n                    options.overflow = OVERFLOW_AUTO;\n                }\n\n                //add the command in the overflow popup\n                if (options.overflow !== OVERFLOW_NEVER && that.options.resizable) {\n                    if (overflowTemplate) { //template command\n                         overflowTool = new OverflowTemplateItem(overflowTemplate, options, that);\n                    } else if (component) { //build-in command\n                        overflowTool = new component.overflow(options, that);\n                        overflowTool.element.addClass(itemClasses);\n                    }\n\n                    if (overflowTool) {\n                        if (options.overflow === OVERFLOW_AUTO) {\n                            overflowTool.overflowHidden();\n                        }\n\n                        overflowTool.element.appendTo(that.popup.container);\n                        that.angular(\"compile\", function(){\n                            return { elements: overflowTool.element.get() };\n                        });\n                    }\n                }\n\n                //add the command in the toolbar container\n                if (options.overflow !== OVERFLOW_ALWAYS) {\n                    if (template) { //template command\n                        tool = new TemplateItem(template, options, that);\n                    } else if (component) { //build-in command\n                        tool = new component.toolbar(options, that);\n                    }\n\n                    if (tool) {\n                        tool.element.appendTo(that.element);\n\n                        that.angular(\"compile\", function(){\n                            return { elements: tool.element.get() };\n                        });\n                    }\n                }\n            },\n\n            _getItem: function(candidate) {\n                var element,\n                    toolbarItem,\n                    overflowItem,\n                    isResizable = this.options.resizable,\n                    type;\n\n                //find toolbar item\n\n                element = this.element.find(candidate);\n                if (!element.length) {\n                    element = $(\".k-split-container[data-uid=\" + this.uid + \"]\").find(candidate);\n                }\n\n                type = element.length ? element.data(\"type\") : NOTHING;\n                toolbarItem = element.data(type);\n\n                if (toolbarItem) {\n                    if (toolbarItem.main) {\n                        element = element.parent(DOT + SPLIT_BUTTON);\n                        type = \"splitButton\";\n                        toolbarItem = element.data(type);\n                    }\n\n                    if (isResizable) {\n                        overflowItem = toolbarItem.twin();\n                    }\n                } else if (isResizable) { //find overflow item\n                    element = this.popup.element.find(candidate);\n                    type = element.length ? element.data(\"type\") : NOTHING;\n                    overflowItem = element.data(type);\n\n                    if (overflowItem && overflowItem.main) {\n                        element = element.parent(DOT + SPLIT_BUTTON);\n                        type = \"splitButton\";\n                        overflowItem = element.data(type);\n                    }\n                }\n\n                return {\n                    type: type,\n                    toolbar: toolbarItem,\n                    overflow: overflowItem\n                };\n            },\n\n            remove: function(candidate) {\n                var item = this._getItem(candidate);\n\n                if (item.toolbar) { item.toolbar.remove(); }\n                if (item.overflow) { item.overflow.remove(); }\n\n                this.resize(true);\n            },\n\n            hide: function(candidate) {\n                var item = this._getItem(candidate);\n                var buttonGroupInstance;\n\n                if (item.toolbar) {\n                    if (item.toolbar.options.type === BUTTON && item.toolbar.options.isChild) {\n                        buttonGroupInstance = item.toolbar.getParentGroup();\n\n                        item.toolbar.hide();\n\n                        if (buttonGroupInstance) {\n                            buttonGroupInstance.refresh();\n                        }\n                    } else if (!item.toolbar.options.hidden) {\n                        item.toolbar.hide();\n                    }\n                }\n\n                if (item.overflow) {\n                    if (item.overflow.options.type === BUTTON && item.overflow.options.isChild) {\n                        buttonGroupInstance = item.overflow.getParentGroup();\n\n                        item.overflow.hide();\n\n                        if(buttonGroupInstance) {\n                            buttonGroupInstance.refresh();\n                        }\n                    } else if(!item.overflow.options.hidden) {\n                        item.overflow.hide();\n                    }\n                }\n\n                this.resize(true);\n            },\n\n            show: function(candidate) {\n                var item = this._getItem(candidate);\n                var buttonGroupInstance;\n\n                if (item.toolbar) {\n                    if (item.toolbar.options.type === BUTTON && item.toolbar.options.isChild) {\n                        buttonGroupInstance = item.toolbar.getParentGroup();\n                        item.toolbar.show();\n\n                        if (buttonGroupInstance) {\n                            buttonGroupInstance.refresh();\n                        }\n                    } else if(item.toolbar.options.hidden) {\n                        item.toolbar.show();\n                    }\n                }\n\n                if (item.overflow) {\n                    if (item.overflow.options.type === BUTTON && item.overflow.options.isChild) {\n                        buttonGroupInstance = item.overflow.getParentGroup();\n\n                        item.toolbar.show();\n\n                        if (buttonGroupInstance) {\n                            buttonGroupInstance.refresh();\n                        }\n                    } else if(item.overflow.options.hidden) {\n                        item.overflow.show();\n                    }\n                }\n\n                this.resize(true);\n            },\n\n            enable: function(element, enable) {\n                var item = this._getItem(element);\n\n                if (typeof enable == \"undefined\") {\n                    enable = true;\n                }\n\n                if (item.toolbar) { item.toolbar.enable(enable); }\n                if (item.overflow) { item.overflow.enable(enable); }\n            },\n\n            getSelectedFromGroup: function(groupName) {\n                return this.element.find(DOT + TOGGLE_BUTTON + \"[data-group='\" + groupName + \"']\").filter(DOT + STATE_SELECTED);\n            },\n\n            toggle: function(button, checked) {\n                var element = $(button),\n                    item = element.data(BUTTON);\n\n                if (item.options.togglable) {\n                    if (checked === undefined) {\n                        checked = true;\n                    }\n                    item.toggle(checked, true);\n                }\n            },\n\n            _renderOverflow: function() {\n                var that = this,\n                    overflowContainer = components.overflowContainer,\n                    isRtl = that._isRtl,\n                    horizontalDirection = isRtl ? \"left\" : \"right\";\n\n                that.overflowAnchor = $(components.overflowAnchor).addClass(KBUTTON);\n\n                that.element.append(that.overflowAnchor);\n\n                if (that.isMobile) {\n                    that.overflowAnchor.append('<span class=\"km-icon km-more\"></span>');\n                    overflowContainer = actionSheetWrap(overflowContainer);\n                } else {\n                    that.overflowAnchor.append('<span class=\"k-icon k-i-more-vertical\"></span>');\n                }\n\n                that.popup = new kendo.ui.Popup(overflowContainer, {\n                    origin: \"bottom \" + horizontalDirection,\n                    position: \"top \" + horizontalDirection,\n                    anchor: that.overflowAnchor,\n                    isRtl: isRtl,\n                    animation: that.animation,\n                    appendTo: that.isMobile ? $(that.isMobile).children(\".km-pane\") : null,\n                    copyAnchorStyles: false,\n                    open: function (e) {\n                        var wrapper = kendo.wrap(that.popup.element)\n                            .addClass(OVERFLOW_WRAPPER);\n\n                        if (!that.isMobile) {\n                            wrapper.css(\"margin-left\", (isRtl ? -1 : 1) * ((outerWidth(wrapper) - wrapper.width()) / 2 + 1));\n                        } else {\n                            that.popup.container.css(\"max-height\", (parseFloat($(\".km-content:visible\").innerHeight()) - 15) + \"px\");\n                        }\n\n                        if (that.trigger(OVERFLOW_OPEN)) {\n                            e.preventDefault();\n                        }\n                    },\n                    activate: function() {\n                        this.element.find(\":kendoFocusable\").first().trigger(FOCUS);\n                    },\n                    close: function (e) {\n                        if (that.trigger(OVERFLOW_CLOSE)) {\n                            e.preventDefault();\n                        }\n\n                        this.element.trigger(FOCUS);\n                    }\n                });\n\n                that.popup.element.on(KEYDOWN + ns, DOT + KBUTTON, function(e) {\n                    var target = $(e.target),\n                        li = target.parent(),\n                        isComplexTool = li.is(DOT + BUTTON_GROUP) || li.is(DOT + SPLIT_BUTTON),\n                        element;\n\n                    e.preventDefault();\n\n                    if (e.keyCode === keys.ESC || e.keyCode === keys.TAB || (e.altKey && e.keyCode === keys.UP)) {\n\n                        that._toggleOverflow();\n                        that.overflowAnchor.trigger(FOCUS);\n                    } else if (e.keyCode === keys.DOWN) {\n                        element = !isComplexTool || (isComplexTool && target.is(\":last-child\")) ? li : target;\n                        findFocusableSibling(element, NEXT).trigger(FOCUS);\n                    } else if (e.keyCode === keys.UP) {\n                        element = !isComplexTool || (isComplexTool && target.is(\":first-child\")) ? li : target;\n                        findFocusableSibling(element, PREV).trigger(FOCUS);\n                    } else if (e.keyCode === keys.SPACEBAR || e.keyCode === keys.ENTER) {\n                        that.userEvents.trigger(TAP, { target: $(e.target) });\n                        that.overflowAnchor.trigger(FOCUS);\n                    } else if (e.keyCode === keys.HOME) {\n                        li.parent().find(\":kendoFocusable\").first().trigger(FOCUS);\n                    } else if (e.keyCode === keys.END) {\n                        li.parent().find(\":kendoFocusable\").last().trigger(FOCUS);\n                    }\n                });\n\n                if (that.isMobile) {\n                    that.popup.container = that.popup.element.find(DOT + OVERFLOW_CONTAINER);\n                } else {\n                    that.popup.container = that.popup.element;\n                }\n\n                that.popup.container.attr(KENDO_UID_ATTR, this.uid);\n            },\n\n            _toggleOverflowAnchor: function() {\n                var hasVisibleChildren = false;\n                var paddingEnd = this._isRtl ? \"padding-left\" : \"padding-right\";\n\n                if (this.options.mobile) {\n                    hasVisibleChildren = this.popup.element.find(DOT + OVERFLOW_CONTAINER).children(\":not(.\" + OVERFLOW_HIDDEN + \", .\" + POPUP + \")\").length > 0;\n                } else {\n                    hasVisibleChildren = this.popup.element.children(\":not(.\" + OVERFLOW_HIDDEN + \", .\" + POPUP + \")\").length > 0;\n                }\n\n                if (hasVisibleChildren) {\n                    this.overflowAnchor.css({\n                        visibility: \"visible\",\n                        width: NOTHING\n                    });\n                    this.wrapper.css(paddingEnd, this.overflowAnchor.outerWidth(true));\n                } else {\n                    this.overflowAnchor.css({\n                        visibility: \"hidden\",\n                        width: \"1px\"\n                    });\n                    this.wrapper.css(paddingEnd, NOTHING);\n                }\n            },\n\n            _buttonClick: function(e) {\n                var that = this, popup,\n                    target, item, splitContainer,\n                    isSplitButtonArrow = e.target.closest(DOT + SPLIT_BUTTON_ARROW).length,\n                    handler, eventData, urlTarget;\n\n                e.preventDefault();\n\n                if (isSplitButtonArrow) {\n                    that._toggle(e);\n                    return;\n                }\n\n                target = $(e.target).closest(DOT + KBUTTON + COMMA + EMPTY + DOT + MENU_LINK, that.element);\n\n                if (target.hasClass(OVERFLOW_ANCHOR)) {\n                    return;\n                }\n\n                item = target.data(BUTTON);\n\n                if (!item && that.popup) {\n                    target = $(e.target).closest(DOT + OVERFLOW_BUTTON, that.popup.container);\n                    item = target.parent(\"li\").data(BUTTON);\n                }\n\n                if (!item || !item.options.enable) {\n                    return;\n                }\n\n                if (item.options.togglable) {\n                    handler = isFunction(item.toggleHandler) ? item.toggleHandler : null;\n\n                    item.toggle(!item.options.selected, true);\n                    eventData = { target: target, group: item.options.group, checked: item.options.selected, id: item.options.id, item: item };\n\n                    if (handler) { handler.call(that, eventData); }\n                    that.trigger(TOGGLE, eventData);\n                } else {\n                    handler = isFunction(item.clickHandler) ? item.clickHandler : null;\n                    eventData = { sender: that, target: target, id: item.options.id, item: item };\n\n                    if (handler) { handler.call(that, eventData); }\n                    that.trigger(CLICK, eventData);\n                }\n\n                if (item.options.url) {\n                    if (item.options.attributes && item.options.attributes.target) {\n                        urlTarget = item.options.attributes.target;\n                    }\n                    window.open(item.options.url, urlTarget || \"_self\");\n                }\n\n                if (target.hasClass(OVERFLOW_BUTTON)) {\n                    that.popup.close();\n                }\n\n                splitContainer = target.closest(\".k-split-container\");\n                if (splitContainer[0]) {\n                    popup = splitContainer.data(\"kendoPopup\");\n                    (popup ? popup : splitContainer.parents(\".km-popup-wrapper\").data(\"kendoPopup\")).close();\n                }\n            },\n\n            _navigatable: function() {\n                var that = this;\n\n                that.element\n                    .attr(TABINDEX, 0)\n                    .on(FOCUSIN + ns, function(ev) {\n                        var target = $(ev.target);\n                        var element = $(this).find(\":kendoFocusable\").first();\n\n                        if (!target.is(DOT + TOOLBAR) || element.length === 0) {\n                            return;\n                        }\n\n                        if (element.is(DOT + OVERFLOW_ANCHOR)) {\n                            element = findFocusableSibling(element, NEXT);\n                        }\n\n                        if(element.length) {\n                            element[0].focus();\n                        }\n                    })\n                    .on(KEYDOWN + ns, that._keydown.bind(that));\n            },\n\n            _keydown: function(e) {\n                var target = $(e.target),\n                    keyCode = e.keyCode,\n                    items = this.element.children(\":not(.k-separator):visible\"),\n                    direction = this._isRtl ? -1 : 1;\n\n                if (keyCode === keys.TAB) {\n                    var element = target.parentsUntil(this.element).last(),\n                        lastHasFocus = false,\n                        firstHasFocus = false,\n                        isOnlyOverflowAnchor = false;\n\n                    if(!items.not(DOT + OVERFLOW_ANCHOR).length){\n                        isOnlyOverflowAnchor = true;\n                    }\n\n                    if (!element.length) {\n                        element = target;\n                    }\n\n                    if (element.is(DOT + OVERFLOW_ANCHOR) && !isOnlyOverflowAnchor) {\n                        var lastItemNotOverflowAnchor = items.last();\n\n                        if (e.shiftKey) {\n                            e.preventDefault();\n                        }\n\n                        if (lastItemNotOverflowAnchor.is(\":kendoFocusable\")) {\n                            items.last().trigger(FOCUS);\n                        } else {\n                            items.last().find(\":kendoFocusable\").last().trigger(FOCUS);\n                        }\n                    }\n\n                    if (!e.shiftKey && items.index(element) === items.length - 1) {\n                        if (element.is(DOT + BUTTON_GROUP)) {\n                            lastHasFocus = target.is(\":last-child\");\n                        } else {\n                            lastHasFocus = true;\n                        }\n                    }\n\n                    var isFirstTool = items.index(element) === items.not(\".k-overflow-anchor\").first().index();\n                    if (e.shiftKey && isFirstTool) {\n                        if (element.is(DOT + BUTTON_GROUP)) {\n                            firstHasFocus = target.is(\":first-child\");\n                        } else {\n                            firstHasFocus = true;\n                        }\n                    }\n\n                    if (lastHasFocus && this.overflowAnchor && this.overflowAnchor.css(\"visibility\") !== \"hidden\" && !isOnlyOverflowAnchor) {\n                        e.preventDefault();\n                        this.overflowAnchor.trigger(FOCUS);\n                    }\n\n                    if (firstHasFocus || (isOnlyOverflowAnchor && e.shiftKey)) {\n                        e.preventDefault();\n                        var prevFocusable = this._getPrevFocusable(this.wrapper);\n                        if (prevFocusable) {\n                            prevFocusable.trigger(FOCUS);\n                        }\n                    }\n                    this._preventNextFocus = false;\n                }\n\n                if (e.altKey && keyCode === keys.DOWN) {\n                    var splitButton = $(document.activeElement).data(\"splitButton\");\n                    var isOverflowAnchor = $(document.activeElement).is(DOT + OVERFLOW_ANCHOR);\n\n                    if (splitButton) {\n                        splitButton.toggle();\n                    } else if (isOverflowAnchor) {\n                        this._toggleOverflow();\n                    }\n\n                    return;\n                }\n\n                if ((keyCode === keys.SPACEBAR || keyCode === keys.ENTER) && !target.is(\"input, checkbox\")) {\n\n                    if(keyCode === keys.SPACEBAR){\n                        e.preventDefault(); //prevent spacebar to scroll the page down\n                    }\n\n                    if (target.is(DOT + SPLIT_BUTTON)) {\n                        target = target.children().first();\n                        this.userEvents.trigger(TAP, { target: target });\n                    } else if (keyCode === keys.SPACEBAR) {\n                        this.userEvents.trigger(TAP, { target: target });\n                    }\n\n                    return;\n                }\n\n                if (keyCode === keys.HOME) {\n                    if (target.is(\".k-dropdownlist\") || target.is(\"input\")) {\n                        return;\n                    }\n\n                    if (this.overflowAnchor) {\n                        items.eq(1).trigger(FOCUS);\n                    } else {\n                        items.first().trigger(FOCUS);\n                    }\n                    e.preventDefault();\n                } else if (keyCode === keys.END) {\n                    if (target.is(\".k-dropdownlist\") || target.is(\"input\")) {\n                        return;\n                    }\n                    if (this.overflowAnchor && $(this.overflowAnchor).css(\"visibility\") != \"hidden\") {\n                        this.overflowAnchor.trigger(FOCUS);\n                    } else {\n                        items.last().trigger(FOCUS);\n                    }\n                    e.preventDefault();\n                } else if (keyCode === keys.RIGHT && !this._preventNextFocus && !target.is(\"input, select, .k-dropdownlist, .k-colorpicker\") && this._getNextElement(e.target, 1 * direction)) {\n                    this._getNextElement(e.target, 1 * direction).focus();\n                    e.preventDefault();\n                } else if (keyCode === keys.LEFT && !this._preventNextFocus && !target.is(\"input, select, .k-dropdownlist, .k-colorpicker\") && this._getNextElement(e.target, -1 * direction)) {\n                    this._getNextElement(e.target, -1 * direction).focus();\n                    e.preventDefault();\n                }\n            },\n\n            _getNextElement: function (item, direction) {\n                var items = this.element.children(\":not(.k-separator, .k-spacer):visible\");\n                var itemIndex = items.index(item) === -1 ? items.index(item.parentElement) : items.index(item);\n                var startIndex = this.overflowAnchor ? 1 : 0;\n                var directionNumber = direction;\n                var searchIndex = direction === 1 ? items.length - 1 : startIndex;\n                var index = direction === 1 ? startIndex : items.length - 1;\n                var focusableItem = items[itemIndex + direction];\n                this._preventNextFocus = false;\n\n                if ($(item).closest(DOT + BUTTON_GROUP).not(DOT + SPLIT_BUTTON).length && !$(item).is(direction === 1 ? \":last-child\" : \":first-child\")) {\n                    return $(item)\n                        .closest(DOT + BUTTON_GROUP)\n                        .children()[$(item)\n                        .closest(DOT + BUTTON_GROUP)\n                        .children()\n                        .index(item) + direction];\n                }\n\n                if (this.overflowAnchor && item === this.overflowAnchor[0] && direction === -1) {\n                    focusableItem = items[items.length - 1];\n                }\n\n                if (itemIndex === searchIndex) {\n                    focusableItem = !this.overflowAnchor ||\n                        (this.overflowAnchor &&\n                        $(this.overflowAnchor).css(\"visibility\") === \"hidden\") ? items[index] : this.overflowAnchor;\n                }\n\n                while (!$(focusableItem).is(\":kendoFocusable\")) {\n                    if (direction === -1 && $(focusableItem).closest(DOT + BUTTON_GROUP).length) {\n                        focusableItem = $(focusableItem).children(\":not(label, div)\").last();\n                    } else {\n                        focusableItem = $(focusableItem).children(\":not(label, div)\").first();\n                    }\n                    if (!focusableItem.length) {\n                        directionNumber = directionNumber + direction;\n                        focusableItem = items[itemIndex + directionNumber];\n                        if (!focusableItem) {\n                            return this.overflowAnchor;\n                        }\n                    }\n\n                    if ($(focusableItem).hasClass(\"k-combobox\")) {\n                        focusableItem = $(focusableItem).find(\"input\");\n                    }\n                    this._preventNextFocus = $(focusableItem).closest(DOT + BUTTON_GROUP).length ? false : true;\n                }\n\n                return focusableItem;\n            },\n\n            _getPrevFocusable: function(element) {\n                if (element.is(\"html\")) {\n                    return element;\n                }\n\n                var elementToFocus, prevElement,\n                    prevElements = element.prevAll();\n                prevElements.each(function(){\n                    prevElement = $(this);\n                    if (prevElement.is(\":kendoFocusable\")) {\n                        elementToFocus = prevElement;\n                        return false;\n                    } else if (prevElement.find(\":kendoFocusable\").length > 0) {\n                        elementToFocus = prevElement.find(\":kendoFocusable\").last();\n                        return false;\n                    }\n                });\n                if (elementToFocus) {\n                    return elementToFocus;\n                } else {\n                    return this._getPrevFocusable(element.parent());\n                }\n            },\n\n            _toggle: function(e) {\n                var splitButton = $(e.target).closest(DOT + SPLIT_BUTTON).data(\"splitButton\");\n\n                e.preventDefault();\n\n                if (!splitButton.options.enable) {\n                    return;\n                }\n\n                splitButton.toggle();\n            },\n\n            _toggleOverflow: function() {\n                this.popup.toggle();\n            },\n\n            _resize: function(e) {\n                var containerWidth = e.width;\n\n                if (!this.options.resizable) {\n                    return;\n                }\n\n                this.popup.close();\n\n                this._shrink(containerWidth);\n                this._stretch(containerWidth);\n\n                this._markVisibles();\n\n                this._toggleOverflowAnchor();\n            },\n\n            _childrenWidth: function() {\n                var childrenWidth = 0;\n\n                this.element.children(\":visible:not(.\" + STATE_HIDDEN + COMMA + EMPTY + DOT + SPACER_CLASS + \")\").each(function() {\n                    childrenWidth += outerWidth($(this), true);\n                });\n\n                return Math.ceil(childrenWidth);\n            },\n\n            _shrink: function(containerWidth) {\n                var commandElement,\n                    visibleCommands;\n\n                if (containerWidth < this._childrenWidth()) {\n                    visibleCommands = this.element.children(\":visible:not([data-overflow='never'], .\" + OVERFLOW_ANCHOR + \")\");\n\n                    for (var i = visibleCommands.length - 1; i >= 0; i--) {\n                        commandElement = visibleCommands.eq(i);\n\n                        if (containerWidth > this._childrenWidth()) {\n                            break;\n                        } else {\n                            this._hideItem(commandElement);\n                        }\n                    }\n                }\n            },\n\n            _stretch: function(containerWidth) {\n                var commandElement,\n                    hiddenCommands;\n\n                if (containerWidth > this._childrenWidth()) {\n                    hiddenCommands = this.element.children(\":hidden:not('.\" + STATE_HIDDEN + \"')\");\n\n                    for (var i = 0; i < hiddenCommands.length ; i++) {\n                        commandElement = hiddenCommands.eq(i);\n                        if (containerWidth < this._childrenWidth() || !this._showItem(commandElement, containerWidth)) {\n                            break;\n                        }\n                    }\n                }\n            },\n\n            _hideItem: function(item) {\n                item.addClass(HIDDEN);\n\n                if (this.popup) {\n                    this.popup.container\n                        .find(\">li[data-uid='\" + item.data(\"uid\") + \"']\")\n                        .removeClass(OVERFLOW_HIDDEN);\n                }\n            },\n\n            _showItem: function(item, containerWidth) {\n                // From jquery.outerWidth docs:\n                //  > jQuery will attempt to temporarily show and then re-hide an element\n                //  > in order to measure its dimensions, but this is unreliable\n                // Thus we show and hide the item\n                item.removeClass(HIDDEN);\n                var itemOuterWidth = outerWidth(item, true);\n                item.addClass(HIDDEN);\n\n                if (item.length && containerWidth > this._childrenWidth() + itemOuterWidth) {\n\n                    item.removeClass(HIDDEN);\n\n                    if (this.popup) {\n                        this.popup.container\n                            .find(\">li[data-uid='\" + item.data(\"uid\") + \"']\")\n                            .addClass(OVERFLOW_HIDDEN);\n                    }\n\n                    return true;\n                }\n\n                return false;\n            },\n\n            _markVisibles: function() {\n                var overflowItems = this.popup.container.children(),\n                    toolbarItems = this.element.children(\":not(.k-overflow-anchor)\"),\n                    visibleOverflowItems = overflowItems.filter(\":not(.k-overflow-hidden)\"),\n                    visibleToolbarItems = toolbarItems.filter(\":visible\");\n\n                overflowItems.add(toolbarItems).removeClass(FIRST_TOOLBAR_VISIBLE + EMPTY + LAST_TOOLBAR_VISIBLE);\n                visibleOverflowItems.first().add(visibleToolbarItems.first()).addClass(FIRST_TOOLBAR_VISIBLE);\n                visibleOverflowItems.last().add(visibleToolbarItems.last()).addClass(LAST_TOOLBAR_VISIBLE);\n            }\n\n        });\n\n    kendo.ui.plugin(ToolBar);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.list',[ \"kendo.data\", \"kendo.popup\" ], f);\n})(function() {\n\nvar __meta__ = { // jshint ignore:line\n    id: \"list\",\n    name: \"List\",\n    category: \"framework\",\n    depends: [ \"data\", \"popup\" ],\n    hidden: true\n};\n\n/*jshint evil: true*/\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        outerHeight = kendo._outerHeight,\n        percentageUnitsRegex = /^\\d+(\\.\\d+)?%$/i,\n        Widget = ui.Widget,\n        keys = kendo.keys,\n        support = kendo.support,\n        htmlEncode = kendo.htmlEncode,\n        activeElement = kendo._activeElement,\n        outerWidth = kendo._outerWidth,\n        ObservableArray = kendo.data.ObservableArray,\n        ID = \"id\",\n        CHANGE = \"change\",\n        FOCUSED = \"k-focus\",\n        HOVER = \"k-hover\",\n        KSELECTED = \"k-selected\",\n        LOADING = \"k-i-loading k-input-loading-icon\",\n        LIST = \"k-list\",\n        TABLE = \"k-table\",\n        DATA_TABLE = \"k-data-table\",\n        TABLE_MD = \"k-table-md\",\n        LIST_UL = \"k-list-ul\",\n        TABLE_LIST = \"k-table-list\",\n        FIXED_GROUP_HEADER = \".k-list-group-sticky-header\",\n        GROUP_LABEL = \".k-list-item-group-label\",\n        ITEMSELECTOR = \".k-list-item\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        CASCADE = \"cascade\",\n        SELECT = \"select\",\n        CLICK = \"click\",\n        MOUSELEAVE = \"mouseleave\",\n        MOUSEENTER = \"mouseenter\",\n        ACTIVATE = \"activate\",\n        DEACTIVATE = \"deactivate\",\n        DATA_BINDING = \"dataBinding\",\n        DATA_BOUND = \"dataBound\",\n        SELECTED_ITEM_CHANGE = \"selectedItemChange\",\n        SELECTED = \"selected\",\n        REQUESTSTART = \"requestStart\",\n        REQUESTEND = \"requestEnd\",\n        BLUR = \"blur\",\n        FOCUS = \"focus\",\n        FOCUSOUT = \"focusout\",\n        extend = $.extend,\n        isArray = Array.isArray,\n        browser = support.browser,\n        HIDDENCLASS = \"k-hidden\",\n        WIDTH = \"width\",\n        TEXT = \"text\",\n        VALUE = \"value\",\n        isIE = browser.msie,\n        quotRegExp = /\"/g,\n        alternativeNames = {\n            \"ComboBox\": [ \"DropDownList\", \"MultiColumnComboBox\" ],\n            \"DropDownList\": [ \"ComboBox\", \"MultiColumnComboBox\" ],\n            \"MultiColumnComboBox\": [ \"ComboBox\", \"DropDownList\" ]\n        },\n\n        UL_EL = '<ul unselectable=\"on\"/>',\n        LIST_EL = \"<div class='k-list'/>\",\n        NO_DATA_EL = '<div class=\"k-no-data\" style=\"display: none;\"></div>',\n        LIST_FOOTER_EL = '<div class=\"k-list-footer\"></div>',\n        TABLE_FOOTER_EL = '<div class=\"k-table-footer\">' +\n                '<span class=\"k-table-td\"></span>' +\n            '</div>',\n        MOUSEDOWN = \"mousedown\",\n        LIST_SUFFIX = \"-list\",\n        LISTBOX_SUFFIX = \"_listbox\",\n        ARIA_LABELLEDBY = \"aria-labelledby\",\n        ARIA_LABEL = \"aria-label\",\n        ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n        ARIA_AUTOCOMPLETE = \"aria-autocomplete\",\n        ARIA_CONTROLS = \"aria-controls\",\n        ARIA_LIVE = \"aria-live\",\n        ARIA_EXPANDED = \"aria-expanded\",\n        ARIA_HIDDEN = \"aria-hidden\",\n        ARIA_BUSY = \"aria-busy\",\n        ARIA_MULTISELECTABLE = \"aria-multiselectable\",\n        ARIA_SELECTED = \"aria-selected\",\n        GROUP_ROW_SEL = \".k-table-group-row\";\n\n    var List = kendo.ui.DataBoundWidget.extend({\n        init: function(element, options) {\n            var that = this,\n                id;\n\n            Widget.fn.init.call(that, element, options);\n            element = that.element;\n            options = that.options;\n\n            that._isSelect = element.is(SELECT);\n\n            if (that._isSelect && that.element[0].length) {\n                if (!options.dataSource) {\n                    options.dataTextField = options.dataTextField || TEXT;\n                    options.dataValueField = options.dataValueField || VALUE;\n                }\n            }\n\n            that._listSize = kendo.cssProperties.getValidClass({\n                widget: \"List\",\n                propName: \"size\",\n                value: options.size\n            });\n\n            that.ul = $(UL_EL).attr({\n                tabIndex: -1,\n                \"aria-hidden\": true\n            });\n\n            that.list = $(LIST_EL)\n                .addClass(that._listSize)\n                .append(that.ul);\n\n            id = element.attr(ID);\n\n            if (!id) {\n                id = kendo.guid();\n            }\n\n            that.list.attr(ID, id + LIST_SUFFIX);\n            that.ul.attr(ID, id + LISTBOX_SUFFIX);\n\n            if (options.columns && options.columns.length) {\n                that.list.removeClass(LIST).addClass(DATA_TABLE);\n                that.list.removeClass(that._listSize).addClass(TABLE_MD);\n\n                that.ul.removeClass(LIST_UL).addClass(TABLE);\n\n                that._columnsHeader();\n            }\n\n            that._header();\n            that._noData();\n            that._footer();\n            that._accessors();\n            that._initValue();\n        },\n\n        options: {\n            valuePrimitive: false,\n            footerTemplate: \"\",\n            headerTemplate: \"\",\n            noDataTemplate: true,\n            size: \"medium\",\n            messages: {\n                \"noData\": \"No data found.\",\n                \"clear\": \"clear\"\n            }\n        },\n\n        setOptions: function(options) {\n            Widget.fn.setOptions.call(this, options);\n\n            if (options && options.enable !== undefined) {\n                options.enabled = options.enable;\n            }\n\n            if (options.columns && options.columns.length) {\n                this._columnsHeader();\n            }\n\n            this._header();\n            this._noData();\n            this._footer();\n\n            this._renderFooter();\n            this._renderNoData();\n        },\n\n        focus: function() {\n            this._focused.trigger(FOCUS);\n        },\n\n        readonly: function(readonly) {\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n        },\n\n        enable: function(enable) {\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n        },\n\n        _header: function() {\n            var list = this;\n            var header = $(list.header);\n            var template = list.options.headerTemplate;\n\n            this._angularElement(header, \"cleanup\");\n            kendo.destroy(header);\n            header.remove();\n\n            if (!template) {\n                list.header = null;\n                return;\n            }\n\n            var headerTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n            header = $(headerTemplate({}));\n\n            list.header = header[0] ? header : null;\n\n            if (list.list.parent.length > 0) {\n                list.list.before(header);\n            }\n\n            this._angularElement(list.header, \"compile\");\n        },\n\n        _columnsHeader: function() {\n            var list = this;\n            var columnsHeader = $(list.columnsHeader);\n\n            this._angularElement(columnsHeader, \"cleanup\");\n            kendo.destroy(columnsHeader);\n            columnsHeader.remove();\n\n            var header = \"<div class='k-table-header'><div class='k-table-header-wrap'><table class='k-table' role='presentation'>\";\n            var colGroup = \"<colgroup>\";\n            var row = \"<tr class='k-table-row'>\";\n\n            for (var idx = 0; idx < this.options.columns.length; idx++) {\n                var currentColumn = this.options.columns[idx];\n                var title = currentColumn.title || currentColumn.field || \"\";\n                var template = currentColumn.headerTemplate || title;\n                var columnsHeaderTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n                var currentWidth = currentColumn.width;\n                var currentWidthInt = parseInt(currentWidth, 10);\n                var widthStyle = '';\n\n                if (currentWidth && !isNaN(currentWidthInt)) {\n                    widthStyle += \"style='width:\";\n                    widthStyle += currentWidthInt;\n                    widthStyle += percentageUnitsRegex.test(currentWidth) ? \"%\" : \"px\";\n                    widthStyle += \";'\";\n                }\n\n                colGroup += \"<col \" + widthStyle + \"/>\";\n\n                row += \"<th class='k-table-th'>\";\n                row += columnsHeaderTemplate(currentColumn);\n                row += \"</th>\";\n            }\n            colGroup += \"</colgroup>\";\n            row += \"</tr>\";\n            header += colGroup;\n            header += \"<thead class='k-table-thead'>\";\n            header += row;\n            header += \"</thead></table></div></div>\";\n\n            list.columnsHeader = columnsHeader = $(header);\n            list.list.prepend(columnsHeader);\n\n            this._angularElement(list.columnsHeader, \"compile\");\n        },\n\n        _noData: function() {\n            var list = this;\n            var noData = $(list.noData);\n            var template = list.options.noDataTemplate === true ? list.options.messages.noData : list.options.noDataTemplate;\n\n            list.angular(\"cleanup\", function() { return { elements: noData }; });\n            kendo.destroy(noData);\n            noData.remove();\n\n            if (!template) {\n                list.noData = null;\n                return;\n            }\n\n            list.noData = $(NO_DATA_EL).appendTo(list.list);\n            list.noDataTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n        },\n\n        _footer: function() {\n            var list = this;\n            var footer = $(list.footer);\n            var template = list.options.footerTemplate;\n            var footerEl = this.options.columns && this.options.columns.length ? TABLE_FOOTER_EL : LIST_FOOTER_EL;\n\n            this._angularElement(footer, \"cleanup\");\n            kendo.destroy(footer);\n            footer.remove();\n\n            if (!template) {\n                list.footer = null;\n                return;\n            }\n\n            list.footer = $(footerEl).appendTo(list.list);\n            list.footerTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n        },\n\n        _listOptions: function(options) {\n            var that = this;\n            var currentOptions = that.options;\n            var virtual = currentOptions.virtual;\n            var changeEventOption = { change: that._listChange.bind(that) };\n            var listBoundHandler = that._listBound.bind(that);\n            var focusedElm = that._focused;\n            var inputId = that.element.attr(\"id\");\n            var labelElm = $(\"label[for=\\\"\" + that.element.attr(\"id\") + \"\\\"]\");\n            var labelledBy = focusedElm.attr(ARIA_LABELLEDBY);\n\n            if (!labelledBy && labelElm.length) {\n                labelledBy = labelElm.attr(\"id\") || that._generateLabelId(labelElm, inputId || kendo.guid());\n            }\n\n            virtual = typeof virtual === \"object\" ? virtual : {};\n\n            options = $.extend({\n                autoBind: false,\n                selectable: true,\n                dataSource: that.dataSource,\n                click: that._click.bind(that),\n                activate: that._activateItem.bind(that),\n                columns: currentOptions.columns,\n                deactivate: that._deactivateItem.bind(that),\n                dataBinding: function() {\n                    that.trigger(DATA_BINDING);\n                },\n                dataBound: listBoundHandler,\n                height: currentOptions.height,\n                dataValueField: currentOptions.dataValueField,\n                dataTextField: currentOptions.dataTextField,\n                groupTemplate: currentOptions.groupTemplate,\n                fixedGroupTemplate: currentOptions.fixedGroupTemplate,\n                template: currentOptions.template,\n                ariaLabel: focusedElm.attr(ARIA_LABEL),\n                ariaLabelledBy: labelledBy,\n                listSize: that._listSize\n            }, options, virtual, changeEventOption);\n\n            if (!options.template) {\n                options.template = \"#:\" + kendo.expr(options.dataTextField, \"data\") + \"#\";\n            }\n\n            if (currentOptions.$angular) {\n                options.$angular = currentOptions.$angular;\n            }\n\n            return options;\n        },\n\n        _initList: function() {\n            var that = this;\n            var listOptions = that._listOptions({\n                selectedItemChange: that._listChange.bind(that)\n            });\n\n            if (!that.options.virtual) {\n                that.listView = new kendo.ui.StaticList(that.ul, listOptions);\n            } else {\n                that.listView = new kendo.ui.VirtualList(that.ul, listOptions);\n                that.list.addClass(\"k-virtual-list\");\n            }\n\n            that.listView.bind(\"listBound\", that._listBound.bind(that));\n            that._setListValue();\n        },\n\n        _setListValue: function(value) {\n            value = value || this.options.value;\n\n            if (value !== undefined) {\n                this.listView.value(value)\n                    .done(this._updateSelectionState.bind(this));\n            }\n        },\n\n        _updateSelectionState: $.noop,\n\n        _listMousedown: function(e) {\n            if (!this.filterInput || this.filterInput[0] !== e.target) {\n                e.preventDefault();\n            }\n        },\n\n        _isFilterEnabled: function() {\n            var filter = this.options.filter;\n            return filter && filter !== \"none\";\n        },\n\n        _hideClear: function() {\n            var list = this;\n\n            if (list._clear) {\n                list._clear.addClass(HIDDENCLASS);\n            }\n        },\n\n        _showClear: function() {\n            if (this._clear) {\n                this._clear.removeClass(HIDDENCLASS);\n            }\n        },\n\n        _clearValue: function() {\n            this._clearText();\n            this._accessor(\"\");\n            this.listView.value([]);\n\n            if (this._isSelect) {\n                this._customOption = undefined;\n            }\n\n            if (this._isFilterEnabled() && !this.options.enforceMinLength) {\n                this._filter({ word: \"\", open: false });\n\n                if (this.options.highlightFirst) {\n                    this.listView.focus(0);\n                }\n            }\n            this._change();\n        },\n\n        _clearText: function() {\n            this.text(\"\");\n        },\n\n        _clearFilter: function() {\n            if (!this.options.virtual) {\n                this.listView.bound(false);\n            }\n\n            this._filterSource();\n        },\n\n        _filterSource: function(filter, force) {\n            var that = this;\n            var options = that.options;\n            var isMultiColumnFiltering = options.filterFields && filter && filter.logic && filter.filters && filter.filters.length;\n            var dataSource = that.dataSource;\n            var expression = extend({}, dataSource.filter() || {});\n            var resetPageSettings = filter || (expression.filters && expression.filters.length && !filter);\n\n            var removed = removeFiltersForField(expression, options.dataTextField);\n\n            this._clearFilterExpressions(expression);\n\n            if ((filter || removed) && that.trigger(\"filtering\", { filter: filter })) {\n                return $.Deferred().reject().promise();\n            }\n\n            var newExpression = {\n                filters: [],\n                logic: \"and\"\n            };\n\n            if (isMultiColumnFiltering) {\n                newExpression.filters.push(filter);\n            } else {\n                this._pushFilterExpression(newExpression, filter);\n            }\n\n            if (isValidFilterExpr(expression)) {\n                if (newExpression.logic === expression.logic) {\n                    newExpression.filters = newExpression.filters.concat(expression.filters);\n                } else {\n                    newExpression.filters.push(expression);\n                }\n            }\n\n            if (that._cascading) {\n                this.listView.setDSFilter(newExpression);\n            }\n\n            var dataSourceState = extend({}, {\n                page: resetPageSettings ? 1 : dataSource.page(),\n                pageSize: resetPageSettings ? dataSource.options.pageSize : dataSource.pageSize(),\n                sort: dataSource.sort(),\n                filter: dataSource.filter(),\n                group: dataSource.group(),\n                aggregate: dataSource.aggregate()\n            }, { filter: newExpression });\n\n            return dataSource[force ? \"read\" : \"query\"](dataSource._mergeState(dataSourceState));\n        },\n\n        _pushFilterExpression: function(newExpression, filter) {\n            if (isValidFilterExpr(filter) && filter.value !== \"\") {\n                newExpression.filters.push(filter);\n            }\n        },\n\n        _clearFilterExpressions: function(expression) {\n            if (!expression.filters) {\n                return;\n            }\n\n            var filtersToRemove;\n\n            for (var i = 0; i < expression.filters.length; i++) {\n                if (\"fromFilter\" in expression.filters[i]) {\n                    filtersToRemove = i;\n                }\n            }\n\n            if (!isNaN(filtersToRemove)) {\n                expression.filters.splice(filtersToRemove, 1);\n            }\n        },\n\n        _angularElement: function(element, action) {\n            if (!element) {\n                return;\n            }\n\n            this.angular(action, function() {\n                return { elements: element };\n            });\n        },\n\n        _renderNoData: function() {\n            var list = this;\n            var noData = list.noData;\n\n            if (!noData) {\n                return;\n            }\n\n            this._angularElement(noData, \"cleanup\");\n            noData.html(list.noDataTemplate({ instance: list }));\n            this._angularElement(noData, \"compile\");\n        },\n\n        _toggleNoData: function(show) {\n            $(this.noData).toggle(show);\n        },\n\n        _toggleHeader: function(show) {\n            var groupHeader = this.listView.content.prev(FIXED_GROUP_HEADER);\n            groupHeader.toggle(show);\n        },\n\n        _renderFooter: function() {\n            var list = this,\n                footer = list.footer ? this.options.columns && this.options.columns.length ? list.footer.children().first() : list.footer : null;\n\n            if (!footer) {\n                return;\n            }\n\n            this._angularElement(footer, \"cleanup\");\n            footer.html(list.footerTemplate({ instance: list }));\n            this._angularElement(footer, \"compile\");\n        },\n\n        _allowOpening: function() {\n            return this.options.noDataTemplate || this.dataSource.flatView().length;\n        },\n\n        _initValue: function() {\n            var that = this,\n                value = that.options.value;\n\n            if (value !== null) {\n                that.element.val(value);\n            } else {\n                value = that._accessor();\n                that.options.value = value;\n            }\n\n            that._old = value;\n        },\n\n        _ignoreCase: function() {\n            var that = this,\n                model = that.dataSource.reader.model,\n                field;\n\n            if (model && model.fields) {\n                field = model.fields[that.options.dataTextField];\n\n                if (field && field.type && field.type !== \"string\") {\n                    that.options.ignoreCase = false;\n                }\n            }\n        },\n\n        _focus: function(candidate) {\n            return this.listView.focus(candidate);\n        },\n\n        _filter: function(options) {\n            var that = this;\n            var widgetOptions = that.options;\n            var word = options.word;\n            var filterFields = widgetOptions.filterFields;\n            var field = widgetOptions.dataTextField;\n            var expression;\n\n            if (filterFields && filterFields.length) {\n                expression = {\n                    logic: \"or\",\n                    filters: [],\n                    fromFilter: true\n                };\n                for (var i = 0; i < filterFields.length; i++) {\n                    this._pushFilterExpression(expression, that._buildExpression(word, filterFields[i]));\n                }\n            } else {\n                expression = that._buildExpression(word, field);\n            }\n\n            that._open = options.open;\n            that._filterSource(expression);\n        },\n\n        _buildExpression: function(value, field) {\n            var that = this;\n            var widgetOptions = that.options;\n            var ignoreCase = widgetOptions.ignoreCase;\n            var accentFoldingFiltering = that.dataSource.options.accentFoldingFiltering;\n\n            return {\n                value: ignoreCase ? (accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase()) : value,\n                field: field,\n                operator: widgetOptions.filter,\n                ignoreCase: ignoreCase\n            };\n        },\n\n        _clearButton: function() {\n            var list = this;\n            var clearTitle = list.options.messages.clear;\n\n            if (!list._clear) {\n                list._clear = $('<span unselectable=\"on\" class=\"k-clear-value\" title=\"' + clearTitle + '\"><span class=\"k-icon k-i-x\"></span></span>').attr({\n                    \"role\": \"button\",\n                    \"tabIndex\": -1\n                });\n            }\n\n            if (!list.options.clearButton) {\n                list._clear.remove();\n            }\n            this._hideClear();\n        },\n\n        search: function(word) {\n            var options = this.options;\n\n            word = typeof word === \"string\" ? word : this._inputValue();\n\n            clearTimeout(this._typingTimeout);\n\n            if ((!options.enforceMinLength && !word.length) || word.length >= options.minLength) {\n                this._state = \"filter\";\n                if (this.listView) {\n                    this.listView._emptySearch = !kendo.trim(word).length;\n                }\n\n                if (!this._isFilterEnabled()) {\n                    this._searchByWord(word);\n                } else {\n                    this._filter({ word: word, open: true });\n                }\n            }\n        },\n\n        current: function(candidate) {\n            return this._focus(candidate);\n        },\n\n        items: function() {\n            return this.ul[0].children;\n        },\n\n        destroy: function() {\n            var that = this;\n            var ns = that.ns;\n\n            Widget.fn.destroy.call(that);\n\n            that._unbindDataSource();\n\n            that.listView.destroy();\n            that.list.off(ns);\n\n            that.popup.destroy();\n\n            if (that._form) {\n                that._form.off(\"reset\", that._resetHandler);\n            }\n        },\n\n        dataItem: function(index) {\n            var that = this;\n\n            if (index === undefined) {\n                return that.listView.selectedDataItems()[0];\n            }\n\n            if (typeof index !== \"number\") {\n                if (that.options.virtual) {\n                    return that.dataSource.getByUid($(index).data(\"uid\"));\n                }\n\n                index = $(that.items()).index(index);\n            }\n\n            return that.dataSource.flatView()[index];\n        },\n\n        _activateItem: function() {\n            var current = this.listView.focus();\n            if (current && this.popup.visible()) {\n                this._focused.add(this.filterInput).attr(ARIA_ACTIVEDESCENDANT, current.attr(\"id\"));\n            }\n        },\n\n        _deactivateItem: function() {\n            this._focused.add(this.filterInput).removeAttr(ARIA_ACTIVEDESCENDANT);\n        },\n\n        _accessors: function() {\n            var that = this;\n            var element = that.element;\n            var options = that.options;\n            var getter = kendo.getter;\n            var textField = element.attr(kendo.attr(\"text-field\"));\n            var valueField = element.attr(kendo.attr(\"value-field\"));\n\n            if (!options.dataTextField && textField) {\n                options.dataTextField = textField;\n            }\n\n            if (!options.dataValueField && valueField) {\n                options.dataValueField = valueField;\n            }\n\n            that._text = getter(options.dataTextField);\n            that._value = getter(options.dataValueField);\n        },\n\n        _aria: function(id) {\n            var that = this,\n                options = that.options,\n                element = that._focused,\n                autocomplete;\n\n            if (options.suggest !== undefined) {\n                if (options.filter === \"none\") {\n                    if (options.suggest === true) {\n                        autocomplete = \"inline\";\n                    } else {\n                        autocomplete = \"none\";\n                    }\n                } else {\n                    if (options.suggest === true) {\n                        autocomplete = \"both\";\n                    } else {\n                        autocomplete = \"list\";\n                    }\n                }\n\n                element.attr(ARIA_AUTOCOMPLETE, autocomplete);\n            }\n\n            id = id ? id + \" \" + that.ul[0].id : that.ul[0].id;\n\n            element.attr({\n                \"aria-owns\": id,\n                \"aria-controls\": id\n            });\n\n            if (that.filterInput && that.filterInput.length > 0) {\n                that.filterInput.attr(ARIA_CONTROLS, id);\n            }\n\n            that.ul.attr(ARIA_LIVE, !that._isFilterEnabled() ? \"off\" : \"polite\");\n\n            that._ariaLabel(that._focused);\n        },\n\n        _blur: function() {\n            var that = this;\n\n            that._change();\n            that.close();\n            that._userTriggered = false;\n        },\n\n        _isValueChanged: function(value) {\n            return value !== unifyType(this._old, typeof value);\n        },\n\n        _change: function() {\n            var that = this;\n            var index = that.selectedIndex;\n            var optionValue = that.options.value;\n            var value = that.value();\n            var trigger;\n\n            if (that._isSelect && !that.listView.bound() && optionValue) {\n                value = optionValue;\n            }\n\n            if (that._isValueChanged(value)) {\n                trigger = true;\n            } else if (that._valueBeforeCascade !== undefined && that._valueBeforeCascade !== unifyType(that._old, typeof that._valueBeforeCascade) && that._userTriggered) {\n                trigger = true;\n            } else if (index !== undefined && index !== that._oldIndex && !that.listView.isFiltered()) {\n                trigger = true;\n            }\n\n            if (trigger) {\n\n                if (that._old === null || that._old === \"\" || value === \"\") {\n                    that._valueBeforeCascade = that._old = value;\n                } else {\n                    if (that.dataItem()) {\n                        that._valueBeforeCascade = that._old = that.options.dataValueField ? that.dataItem()[that.options.dataValueField] : that.dataItem();\n                    } else {\n                        that._valueBeforeCascade = that._old = null;\n                    }\n                }\n                that._oldIndex = index;\n\n                if (!that._typing) {\n                    // trigger the DOM change event so any subscriber gets notified\n                    that.element.trigger(CHANGE);\n                }\n\n                that.trigger(CHANGE);\n            }\n\n            that.typing = false;\n        },\n\n        _data: function() {\n            return this.dataSource.view();\n        },\n\n        _enable: function() {\n            var that = this,\n                options = that.options,\n                disabled = that.element.is(\"[disabled]\");\n\n            if (options.enable !== undefined) {\n                options.enabled = options.enable;\n            }\n\n            if (!options.enabled || disabled) {\n                that.enable(false);\n            } else {\n                that.readonly(that.element.is(\"[readonly]\"));\n            }\n        },\n\n        _dataValue: function(dataItem) {\n            var value = this._value(dataItem);\n\n            if (value === undefined) {\n                value = this._text(dataItem);\n            }\n\n            return value;\n        },\n\n        _offsetHeight: function() {\n            var offsetHeight = 0;\n            var siblings = this.listView.content.parent().prevAll(\":visible\");\n\n            siblings.each(function() {\n                var element = $(this);\n\n                offsetHeight += outerHeight(element, true);\n            });\n\n            return offsetHeight;\n        },\n\n        _height: function(length) {\n            var that = this;\n            var list = that.list;\n            var height = that.options.height;\n            var visible = that.popup.visible();\n            var isMccb = this.options.columns && this.options.columns.length;\n            var offsetTop, popups;\n\n            if (length || that.options.noDataTemplate) {\n                // Check where animation container stays\n                popups = list.parent().add(list.closest(\".k-animation-container\")).show();\n\n                if (!list.parent().is(\":visible\")) {\n                    popups.hide();\n                    return;\n                }\n\n                height = that.listView.content[0].scrollHeight > height ? height : \"auto\";\n\n                popups.height(height);\n\n                if (height !== \"auto\") {\n                    offsetTop = that._offsetHeight();\n\n                    height = height - offsetTop;\n\n                    if (isMccb) {\n                        height = height - (outerHeight($(that.footer)) || 0) - (outerHeight($(that.columnsHeader)) || 0);\n                    }\n                }\n\n                if (isMccb) {\n                    that.listView.content.outerHeight(height);\n                } else {\n                    that.listView.content.parent().outerHeight(height);\n                }\n\n                if (!visible) {\n                    popups.hide();\n                }\n            }\n\n            return height;\n        },\n\n        _openHandler: function(e) {\n            var current;\n\n            this._adjustListWidth();\n\n            if (this.trigger(OPEN)) {\n                e.preventDefault();\n            } else {\n                this._focused.attr(ARIA_EXPANDED, true);\n                this.ul.attr(ARIA_HIDDEN, false);\n\n                current = this.listView.focus();\n                if (current) {\n                    this._focused.add(this.filterInput).attr(ARIA_ACTIVEDESCENDANT, current.attr(\"id\"));\n                }\n            }\n        },\n\n        _adjustListWidth: function() {\n            var that = this,\n                list = that.list.parent(),\n                width = list[0].style.width,\n                wrapper = that.wrapper,\n                computedStyle, computedWidth;\n\n            if (!list.data(WIDTH) && width) {\n                return;\n            }\n\n            computedStyle = window.getComputedStyle ? window.getComputedStyle(wrapper[0], null) : 0;\n            computedWidth = parseFloat(computedStyle && computedStyle.width) || outerWidth(wrapper);\n\n            if (computedStyle && browser.msie) { // getComputedStyle returns different box in IE.\n                computedWidth += parseFloat(computedStyle.paddingLeft) + parseFloat(computedStyle.paddingRight) + parseFloat(computedStyle.borderLeftWidth) + parseFloat(computedStyle.borderRightWidth);\n            }\n\n            if (list.css(\"box-sizing\") !== \"border-box\") {\n                width = computedWidth - (outerWidth(list) - list.width());\n            } else {\n                width = computedWidth;\n            }\n\n            list.css({\n                fontFamily: wrapper.css(\"font-family\"),\n                width: that.options.autoWidth ? \"auto\" : width,\n                minWidth: width,\n                whiteSpace: that.options.autoWidth ? \"nowrap\" : \"normal\"\n            })\n            .data(WIDTH, width);\n\n            return true;\n        },\n\n        _closeHandler: function(e) {\n            if (this.trigger(CLOSE)) {\n                e.preventDefault();\n            } else {\n                this._focused.attr(ARIA_EXPANDED, false);\n                this.ul.attr(ARIA_HIDDEN, true);\n                this._focused.add(this.filterInput).removeAttr(ARIA_ACTIVEDESCENDANT);\n            }\n        },\n\n        _focusItem: function() {\n            var listView = this.listView;\n            var noFocusedItem = !listView.focus();\n            var index = last(listView.select());\n\n            if (index === undefined && this.options.highlightFirst && noFocusedItem) {\n                index = 0;\n            }\n\n            if (index !== undefined) {\n                listView.focus(index);\n            } else if (noFocusedItem) {\n                listView.scrollToIndex(0);\n            }\n        },\n\n        _calculateGroupPadding: function(height) {\n            var li = this.ul.children(\".k-first\").first();\n            var groupHeader = this.listView.content.prev(FIXED_GROUP_HEADER);\n            var padding = 0;\n            var direction = 'right';\n\n            if (groupHeader[0] && groupHeader[0].style.display !== \"none\") {\n                if (height !== \"auto\") {\n                    padding = kendo.support.scrollbar();\n                }\n\n                if (this.element.parents('.k-rtl').length) {\n                    direction = 'left';\n                }\n\n                padding += parseFloat(li.css(\"border-\" + direction + \"-width\"), 10) + parseFloat(li.children(GROUP_LABEL).css(\"padding-\" + direction), 10);\n                groupHeader.css(\"padding-\" + direction, padding);\n            }\n        },\n\n        _calculatePopupHeight: function(force) {\n            var height = this._height(this.dataSource.flatView().length || force);\n            this._calculateGroupPadding(height);\n            this._calculateColumnsHeaderPadding(height);\n        },\n\n        _calculateColumnsHeaderPadding: function(height) {\n            if (this.options.columns && this.options.columns.length) {\n                var list = this;\n                var isRtl = support.isRtl(list.wrapper);\n                var scrollbar = kendo.support.scrollbar();\n\n                list.columnsHeader.css((isRtl ? \"padding-left\" : \"padding-right\"), height !== \"auto\" ? scrollbar : 0);\n            }\n        },\n\n        _refreshScroll: function() {\n            var listView = this.listView;\n            var enableYScroll = listView.element.height() > listView.content.height();\n\n            if (this.options.autoWidth) {\n                listView.content.css({\n                    overflowX: \"hidden\",\n                    overflowY: enableYScroll ? \"scroll\" : \"auto\"\n                });\n            }\n        },\n\n        _resizePopup: function(force) {\n            if (this.options.virtual) {\n                return;\n            }\n\n            if (!this.popup.element.is(\":visible\")) {\n                this.popup.one(\"open\", (function(force) {\n                    return (function() {\n                        this._calculatePopupHeight(force);\n                    }).bind(this);\n                }).call(this, force));\n\n                this.popup.one(ACTIVATE, this._refreshScroll.bind(this));\n            } else {\n                this._calculatePopupHeight(force);\n            }\n        },\n\n        _popup: function() {\n            var list = this;\n\n            list.list.wrap(\"<div>\");\n\n            list.popup = new ui.Popup(list.list.parent(), extend({}, list.options.popup, {\n                anchor: list.wrapper,\n                open: list._openHandler.bind(list),\n                close: list._closeHandler.bind(list),\n                animation: list.options.animation,\n                isRtl: support.isRtl(list.wrapper),\n                autosize: list.options.autoWidth\n            }));\n\n            list.popup.element.prepend(list.header)\n                .on(MOUSEDOWN + this.ns, this._listMousedown.bind(this));\n        },\n\n        _toggleHover: function(e) {\n            $(e.currentTarget).toggleClass(HOVER, e.type === MOUSEENTER);\n        },\n\n        _toggle: function(open, preventFocus) {\n            var that = this;\n            var touchEnabled = support.mobileOS && (support.touch || support.MSPointers || support.pointers);\n\n            open = open !== undefined ? open : !that.popup.visible();\n\n            if (!preventFocus && !touchEnabled && that._focused[0] !== activeElement()) {\n                that._prevent = true;\n                that._focused.trigger(FOCUS);\n                that._prevent = false;\n            }\n\n            that[open ? OPEN : CLOSE]();\n        },\n\n        _triggerCascade: function() {\n            var that = this;\n\n            if (!that._cascadeTriggered || that.value() !== unifyType(that._cascadedValue, typeof that.value())) {\n                that._cascadedValue = that.value();\n                that._cascadeTriggered = true;\n                that.trigger(CASCADE, { userTriggered: that._userTriggered });\n            }\n        },\n\n        _triggerChange: function() {\n            if (this._valueBeforeCascade !== this.value()) {\n                this.trigger(CHANGE);\n            }\n        },\n\n        _unbindDataSource: function() {\n            var that = this;\n\n            that.dataSource.unbind(REQUESTSTART, that._requestStartHandler)\n                           .unbind(REQUESTEND, that._requestEndHandler)\n                           .unbind(\"error\", that._errorHandler);\n        },\n\n        requireValueMapper: function(options, value) {\n            var hasValue = (options.value instanceof Array ? options.value.length : options.value) || (value instanceof Array ? value.length : value);\n            if (hasValue && options.virtual && typeof options.virtual.valueMapper !== \"function\") {\n                throw new Error(\"ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function\");\n            }\n        }\n    });\n\n    function unifyType(value, type) {\n        if (value !== undefined && value !== \"\" && value !== null) {\n            if (type === \"boolean\") {\n                if (typeof value !== \"boolean\") {\n                    value = value.toString().toLowerCase() === \"true\";\n                }\n                value = Boolean(value);\n            } else if (type === \"number\") {\n                value = Number(value);\n            } else if (type === \"string\") {\n                value = value.toString();\n            }\n        }\n\n        return value;\n    }\n\n    extend(List, {\n        inArray: function(node, parentNode) {\n            var idx, length, siblings = parentNode.children;\n\n            if (!node || node.parentNode !== parentNode) {\n                return -1;\n            }\n\n            for (idx = 0, length = siblings.length; idx < length; idx++) {\n                if (node === siblings[idx]) {\n                    return idx;\n                }\n            }\n\n            return -1;\n        },\n        unifyType: unifyType\n    });\n\n    kendo.ui.List = List;\n\n    ui.Select = List.extend({\n        init: function(element, options) {\n            List.fn.init.call(this, element, options);\n            this._initial = this.element.val();\n        },\n\n        setDataSource: function(dataSource) {\n            var that = this;\n            var parent;\n\n            that.options.dataSource = dataSource;\n\n            that._dataSource();\n\n            if (that.listView.bound()) {\n                that._initialIndex = null;\n                that.listView._current = null;\n            }\n\n            that.listView.setDataSource(that.dataSource);\n\n            if (that.options.autoBind) {\n                that.dataSource.fetch();\n            }\n\n            parent = that._parentWidget();\n\n            if (parent) {\n                that._cascadeSelect(parent);\n            }\n        },\n\n        close: function() {\n            this.popup.close();\n        },\n\n        select: function(candidate) {\n            var that = this;\n\n            if (candidate === undefined) {\n                return that.selectedIndex;\n            } else {\n                return that._select(candidate).done(function() {\n                    that._cascadeValue = that._old = that._accessor();\n                    that._oldIndex = that.selectedIndex;\n                });\n            }\n        },\n\n        _accessor: function(value, idx) {\n            return this[this._isSelect ? \"_accessorSelect\" : \"_accessorInput\"](value, idx);\n        },\n\n        _accessorInput: function(value) {\n            var element = this.element[0];\n\n            if (value === undefined) {\n                return element.value;\n            } else {\n                if (value === null) {\n                    value = \"\";\n                }\n                element.value = value;\n            }\n        },\n\n        _accessorSelect: function(value, idx) {\n            var element = this.element[0];\n            var hasValue;\n\n            if (value === undefined) {\n                return getSelectedOption(element).value || \"\";\n            }\n\n            getSelectedOption(element).selected = false;\n\n            if (idx === undefined) {\n                idx = -1;\n            }\n\n            hasValue = (value !== null && value !== \"\");\n\n            if (hasValue && idx == -1) {\n                this._custom(value);\n            } else {\n                if (value) {\n                    element.value = value;\n                } else {\n                    element.selectedIndex = idx;\n                }\n            }\n        },\n\n        _syncValueAndText: function() {\n            return true;\n        },\n\n        _custom: function(value) {\n            var that = this;\n            var element = that.element;\n            var custom = that._customOption;\n\n            if (!custom) {\n                custom = $(\"<option/>\");\n                that._customOption = custom;\n\n                element.append(custom);\n            }\n\n            custom.text(value);\n            custom[0].selected = true;\n        },\n\n        _hideBusy: function() {\n            var that = this;\n            clearTimeout(that._busy);\n            that._arrowIcon.removeClass(LOADING);\n            that._focused.attr(ARIA_BUSY, false);\n            that._busy = null;\n            that._showClear();\n        },\n\n        _showBusy: function(e) {\n            var that = this;\n\n            if (e.isDefaultPrevented()) {\n                return;\n            }\n\n            that._request = true;\n\n            if (that._busy) {\n                return;\n            }\n\n            that._busy = setTimeout(function() {\n                if (that._arrowIcon) { //destroyed after request start\n                    that._focused.attr(ARIA_BUSY, true);\n                    that._arrowIcon.addClass(LOADING);\n                    that._hideClear();\n                }\n            }, 100);\n        },\n\n        _requestEnd: function() {\n            this._request = false;\n            this._hideBusy();\n        },\n\n        _dataSource: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                dataSource = options.dataSource || {},\n                idx;\n\n            dataSource = Array.isArray(dataSource) ? { data: dataSource } : dataSource;\n\n            if (that._isSelect) {\n                idx = element[0].selectedIndex;\n                if (idx > -1) {\n                    options.index = idx;\n                }\n\n                dataSource.select = element;\n                dataSource.fields = [{ field: options.dataTextField },\n                                     { field: options.dataValueField }];\n            }\n\n            if (that.dataSource) {\n                that._unbindDataSource();\n            } else {\n                that._requestStartHandler = that._showBusy.bind(that);\n                that._requestEndHandler = that._requestEnd.bind(that);\n                that._errorHandler = that._hideBusy.bind(that);\n            }\n\n            that.dataSource = kendo.data.DataSource.create(dataSource)\n                                   .bind(REQUESTSTART, that._requestStartHandler)\n                                   .bind(REQUESTEND, that._requestEndHandler)\n                                   .bind(\"error\", that._errorHandler);\n        },\n\n        _firstItem: function() {\n            this.listView.focusFirst();\n        },\n\n        _lastItem: function() {\n            this.listView.focusLast();\n        },\n\n        _nextItem: function() {\n            return this.listView.focusNext();\n        },\n\n        _prevItem: function() {\n            return this.listView.focusPrev();\n        },\n\n        _getNormalizedDataItem: function(candidate) {\n            var that = this,\n                listView = that.listView,\n                isIndex = typeof candidate === \"number\",\n                hasOptionLabel = that.optionLabel && that.optionLabel.length,\n                index;\n\n            if (isIndex) {\n                index = hasOptionLabel ? --candidate : candidate;\n            } else {\n                index = listView.getElementIndex(candidate);\n            }\n\n            return listView.dataItemByIndex(index);\n        },\n\n        _getNormalizedSelectCandidate: function(candidate) {\n            var that = this,\n                hasOptionLabel = that.optionLabel && that.optionLabel.length,\n                isIndex = typeof candidate === \"number\",\n                normalizedCandidate = candidate;\n\n            if (hasOptionLabel && isIndex) {\n                normalizedCandidate++;\n            }\n\n            return normalizedCandidate;\n        },\n\n        _move: function(e) {\n            var that = this;\n            var listView = that.listView;\n            var key = e.keyCode;\n            var down = key === keys.DOWN;\n            var isVirtual = that.options.virtual;\n            var dataItem;\n            var pressed;\n            var current;\n            var moveIndex;\n            var selectCandidate;\n\n            if (key === keys.UP || down) {\n                if (e.altKey) {\n                    that.toggle(down);\n                } else {\n                    if (!listView.bound() && !that.ul[0].firstChild) {\n                        if (!that._fetch) {\n                            that.dataSource.one(CHANGE, function() {\n                                that._fetch = false;\n                                that._move(e);\n                            });\n\n                            that._fetch = true;\n                            that._filterSource();\n                        }\n\n                        e.preventDefault();\n\n                        return true; //pressed\n                    }\n\n                    current = that._focus();\n\n                    if (!that._fetch && (!current || current.hasClass(KSELECTED))) {\n                        if (down) {\n                            moveIndex = that._nextItem();\n\n                            if ((isVirtual && moveIndex <= 0) || (!that._focus() && !moveIndex) ) {\n                                that._lastItem();\n                            }\n                        } else {\n                            moveIndex = that._prevItem();\n\n                            if ((isVirtual && moveIndex >= listView.dataSource.total() - 1) || (!that._focus() && !moveIndex)) {\n                                that._firstItem();\n                            }\n                        }\n                    }\n\n                    selectCandidate = that._getNormalizedSelectCandidate(that._get(that._focus()) || moveIndex || 0);\n\n                    that._select(selectCandidate, true).done(function() {\n                        var done = function() {\n                            if (!that.popup.visible()) {\n                                that._blur();\n                            }\n\n                            if (that._cascadedValue === null) {\n                                that._cascadedValue = that.value();\n                            } else {\n                                that._cascadedValue = that.dataItem() ? that.dataItem()[that.options.dataValueField] || that.dataItem() : null;\n                            }\n                        };\n\n                        if (that.trigger(SELECT, { dataItem: that._getNormalizedDataItem(selectCandidate), item: that._focus() })) {\n                            that._select(current).done(done);\n                        } else {\n                            done();\n                        }\n                    });\n                }\n\n                e.preventDefault();\n                pressed = true;\n            } else if (key === keys.ENTER || key === keys.TAB) {\n                if (that.popup.visible()) {\n                    e.preventDefault();\n                }\n\n                current = that._focus();\n                dataItem = that.dataItem();\n\n                if (!that.popup.visible() && (!dataItem || that.text() !== that._text(dataItem))) {\n                    current = null;\n                }\n\n                var activeFilter = that.filterInput && that.filterInput[0] === activeElement();\n                var selection;\n\n                if (current) {\n                    dataItem = listView.dataItemByIndex(listView.getElementIndex(current));\n                    var shouldTrigger = true;\n\n                    if (dataItem) {\n                        shouldTrigger = that._value(dataItem) !== List.unifyType(that.value(), typeof that._value(dataItem));\n                    }\n\n                    if (shouldTrigger && that.trigger(SELECT, { dataItem: dataItem, item: current })) {\n                        return;\n                    }\n\n                    selection = that._select(current);\n                } else if (that.input) {\n                    if (that._syncValueAndText() || that._isSelect) {\n                        that._accessor(that.input.val());\n                    }\n                    that.listView.value(that.input.val());\n                }\n\n                if (that._focusElement) {\n                    that._focusElement(that.wrapper);\n                }\n\n                if (activeFilter && key === keys.TAB) {\n                    that.wrapper.focusout();\n                } else {\n                    if (selection && typeof selection.done === \"function\") {\n                        selection.done(function() {\n                            that._blur();\n                        });\n                    } else {\n                        that._blur();\n                    }\n                }\n\n                that.close();\n                pressed = true;\n            } else if (key === keys.ESC) {\n                if (that.popup.visible()) {\n                    e.preventDefault();\n                }\n                that.close();\n                pressed = true;\n            } else if (that.popup.visible() && (key === keys.PAGEDOWN || key === keys.PAGEUP)) {\n                e.preventDefault();\n\n                var direction = key === keys.PAGEDOWN ? 1 : -1;\n                listView.scrollWith(direction * listView.screenHeight());\n\n                pressed = true;\n            }\n\n            return pressed;\n        },\n\n        _fetchData: function() {\n            var that = this;\n            var hasItems = !!that.dataSource.view().length;\n\n            if (that._request || that.options.cascadeFrom) {\n                return;\n            }\n\n            if (!that.listView.bound() && !that._fetch && !hasItems) {\n                that._fetch = true;\n                that.dataSource.fetch().done(function() {\n                    that._fetch = false;\n                });\n            }\n        },\n\n        _options: function(data, optionLabel, value) {\n            var that = this,\n                element = that.element,\n                htmlElement = element[0],\n                length = data.length,\n                options = \"\",\n                option,\n                dataItem,\n                dataText,\n                dataValue,\n                idx = 0;\n\n            if (optionLabel) {\n                options = optionLabel;\n            }\n\n            for (; idx < length; idx++) {\n                option = \"<option\";\n                dataItem = data[idx];\n                dataText = that._text(dataItem);\n                dataValue = that._value(dataItem);\n\n                if (dataValue !== undefined) {\n                    dataValue += \"\";\n\n                    if (dataValue.indexOf('\"') !== -1) {\n                        dataValue = dataValue.replace(quotRegExp, \"&quot;\");\n                    }\n\n                    option += ' value=\"' + dataValue + '\"';\n                }\n\n                option += \">\";\n\n                if (dataText !== undefined) {\n                    option += htmlEncode(dataText);\n                }\n\n                option += \"</option>\";\n                options += option;\n            }\n\n            element.html(options);\n\n            if (value !== undefined) {\n                htmlElement.value = value;\n                if (htmlElement.value && !value) {\n                    htmlElement.selectedIndex = -1;\n                }\n            }\n\n            if (htmlElement.selectedIndex !== -1) {\n                option = getSelectedOption(htmlElement);\n\n                if (option) {\n                    option.setAttribute(SELECTED, SELECTED);\n                }\n            }\n        },\n\n        _reset: function() {\n            var that = this,\n                element = that.element,\n                formId = element.attr(\"form\"),\n                form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    setTimeout(function() {\n                        that.value(that._initial);\n                    });\n                };\n\n                that._form = form.on(\"reset\", that._resetHandler);\n            }\n        },\n\n        _parentWidget: function() {\n            var name = this.options.name;\n\n            if (!this.options.cascadeFrom) {\n                return;\n            }\n\n            var parentElement = $(\"#\" + this.options.cascadeFrom);\n            var parent = parentElement.data(\"kendo\" + name);\n\n            if (!parent) {\n                for (var i = 0; i < alternativeNames[name].length; i += 1) {\n                    parent = parentElement.data(\"kendo\" + alternativeNames[name][i]);\n\n                    if (!!parent) {\n                        break;\n                    }\n                }\n            }\n\n            return parent;\n        },\n\n        _cascade: function() {\n            var that = this;\n            var options = that.options;\n            var cascade = options.cascadeFrom;\n            var parent;\n\n            if (cascade) {\n                parent = that._parentWidget();\n\n                if (!parent) {\n                    return;\n                }\n\n                that._cascadeHandlerProxy = that._cascadeHandler.bind(that);\n                that._cascadeFilterRequests = [];\n\n                options.autoBind = false;\n\n                parent.bind(\"set\", function() { //will cascade\n                    that.one(\"set\", function(e) { //get your value\n                        that._selectedValue = e.value || that._accessor();\n                    });\n                });\n\n                parent.first(CASCADE, that._cascadeHandlerProxy);\n\n                //refresh was called\n                if (parent.listView.bound()) {\n                    that._toggleCascadeOnFocus();\n                    that._cascadeSelect(parent);\n                } else {\n                    parent.one(DATA_BOUND, function() {\n                        that._toggleCascadeOnFocus();\n                        if (parent.popup.visible()) {\n                            parent._focused.trigger(FOCUS);\n                        }\n                    });\n\n                    if (!parent.value()) {\n                        that.enable(false);\n                    }\n                }\n            }\n        },\n\n        _toggleCascadeOnFocus: function() {\n            var that = this;\n            var parent = that._parentWidget();\n            var focusout = isIE && parent instanceof ui.DropDownList ? BLUR : FOCUSOUT;\n\n            parent._focused.add(parent.filterInput).on(FOCUS, function() {\n                parent.unbind(CASCADE, that._cascadeHandlerProxy);\n                parent.unbind(CHANGE, that._cascadeHandlerProxy);\n                parent.first(CHANGE, that._cascadeHandlerProxy);\n            });\n\n            parent._focused.add(parent.filterInput).on(focusout, function() {\n                parent.unbind(CHANGE, that._cascadeHandlerProxy);\n                parent.unbind(CASCADE, that._cascadeHandlerProxy);\n                parent.first(CASCADE, that._cascadeHandlerProxy);\n            });\n        },\n\n        _cascadeHandler: function(e) {\n            var parent = this._parentWidget();\n            var valueBeforeCascade = this.value();\n\n            this._userTriggered = e.userTriggered || parent._userTriggered;\n\n            if (this.listView.bound()) {\n                this._clearSelection(parent, true);\n            }\n\n            this._cascadeSelect(parent, valueBeforeCascade);\n        },\n\n        _cascadeChange: function(parent) {\n            var that = this;\n            var value = that._accessor() || that._selectedValue;\n\n            if (!that._cascadeFilterRequests.length) {\n                that._selectedValue = null;\n            }\n\n            if (that._userTriggered) {\n                that._clearSelection(parent, true);\n            } else if (value) {\n                if (value !== unifyType(that.listView.value()[0], typeof value)) {\n                    that.value(value);\n                }\n\n                if (!that.dataSource.view()[0] || that.selectedIndex === -1) {\n                    that._clearSelection(parent, true);\n                }\n            } else if (that.dataSource.flatView().length) {\n                that.select(that.options.index);\n            }\n\n            that.enable();\n            that._triggerCascade();\n            that._triggerChange();\n            that._userTriggered = false;\n        },\n\n        _cascadeSelect: function(parent, valueBeforeCascade) {\n            var that = this;\n            var dataItem = parent.dataItem();\n            var filterValue = dataItem ? dataItem[that.options.cascadeFromParentField] || parent._value(dataItem) : null;\n            var valueField = that.options.cascadeFromField || parent.options.dataValueField;\n            var expressions;\n\n            that._valueBeforeCascade = valueBeforeCascade !== undefined ? valueBeforeCascade : that.value();\n\n            if (filterValue || filterValue === 0) {\n                expressions = that.dataSource.filter() || {};\n                removeFiltersForField(expressions, valueField);\n\n                var handler = function() {\n                    var currentHandler = that._cascadeFilterRequests.shift();\n                    if (currentHandler) {\n                        that.unbind('dataBound', currentHandler);\n                    }\n\n                    currentHandler = that._cascadeFilterRequests[0];\n                    if (currentHandler) {\n                        that.first('dataBound', currentHandler);\n                    }\n\n                    that._cascadeChange(parent);\n                };\n\n                that._cascadeFilterRequests.push(handler);\n\n                if (that._cascadeFilterRequests.length === 1) {\n                    that.first('dataBound', handler);\n                }\n\n                that._cascading = true;\n                that._filterSource({\n                    field: valueField,\n                    operator: \"eq\",\n                    value: filterValue\n                });\n                that._cascading = false;\n            } else {\n                that.enable(false);\n                that._clearSelection(parent);\n                that._triggerCascade();\n                that._triggerChange();\n                that._userTriggered = false;\n            }\n        }\n    });\n\n    var STATIC_LIST_NS = \".StaticList\";\n\n    var StaticList = kendo.ui.DataBoundWidget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n\n            this.element.attr(\"role\", \"listbox\")\n                        .on(CLICK + STATIC_LIST_NS, \"li\", this._click.bind(this))\n                        .on(MOUSEENTER + STATIC_LIST_NS, \"li\", function() { $(this).addClass(HOVER); })\n                        .on(MOUSELEAVE + STATIC_LIST_NS, \"li\", function() { $(this).removeClass(HOVER); });\n\n            if (options && options.ariaLabel) {\n                this.element.attr(ARIA_LABEL, options.ariaLabel);\n            } else if (options && options.ariaLabelledBy) {\n                this.element.attr(ARIA_LABELLEDBY, options.ariaLabelledBy);\n            }\n\n            if (support.touch) {\n                this._touchHandlers();\n            }\n\n            if (this.options.selectable === \"multiple\") {\n                this.element.attr(ARIA_MULTISELECTABLE, true);\n            }\n\n            if (this.options.columns && this.options.columns.length) {\n                var thead = this.element.parent().find('.k-table-thead');\n                var row = $('<tr class=\"k-table-group-row\">' +\n                    '<th class=\"k-table-th\" colspan=\"' + this.options.columns.length + '\"></th>' +\n                '</tr>');\n\n                thead.append(row);\n\n                this.header = row.find(\".k-table-th\");\n\n                this.content = this.element.wrap(\"<div class='k-table-body k-table-scroller' unselectable='on'></div>\").parent();\n\n                this.element.addClass(TABLE_LIST);\n            } else {\n                this.content = this.element.wrap(\"<div class='k-list-content k-list-scroller' unselectable='on'></div>\").parent();\n                this.header = this.content.before('<div class=\"k-list-group-sticky-header\" style=\"display:none\"></div>').prev();\n                this.element.addClass(LIST_UL);\n            }\n\n            this.bound(false);\n\n            this._optionID = kendo.guid();\n\n            this._selectedIndices = [];\n\n            this._view = [];\n            this._dataItems = [];\n            this._values = [];\n\n            var value = this.options.value;\n\n            if (value) {\n                this._values = Array.isArray(value) ? value.slice(0) : [value];\n            }\n\n            this._getter();\n            this._templates();\n\n            this.setDataSource(this.options.dataSource);\n\n            this._createOnScrollProxy();\n        },\n\n        options: {\n            name: \"StaticList\",\n            dataValueField: null,\n            valuePrimitive: false,\n            selectable: true,\n            template: null,\n            groupTemplate: null,\n            fixedGroupTemplate: null,\n            ariaLabel: null,\n            ariaLabelledBy: null\n        },\n\n        events: [\n           CLICK,\n            CHANGE,\n           ACTIVATE,\n           DEACTIVATE,\n           DATA_BINDING,\n           DATA_BOUND,\n           SELECTED_ITEM_CHANGE\n        ],\n\n        setDataSource: function(source) {\n            var that = this;\n            var dataSource = source || {};\n            var value;\n\n            dataSource = Array.isArray(dataSource) ? { data: dataSource } : dataSource;\n            dataSource = kendo.data.DataSource.create(dataSource);\n\n            if (that.dataSource) {\n                that.dataSource.unbind(CHANGE, that._refreshHandler);\n\n                value = that.value();\n\n                that.value([]);\n                that.bound(false);\n\n                that.value(value);\n            } else {\n                that._refreshHandler = that.refresh.bind(that);\n            }\n\n            that.setDSFilter(dataSource.filter());\n\n            that.dataSource = dataSource.bind(CHANGE, that._refreshHandler);\n            that._fixedHeader();\n        },\n\n        _touchHandlers: function() {\n            var that = this;\n            var startY;\n            var endY;\n            var tapPosition = function(event) {\n                return (event.originalEvent || event).changedTouches[0].pageY;\n            };\n\n            that.element.on(\"touchstart\" + STATIC_LIST_NS, function(e) {\n                startY = tapPosition(e);\n            });\n\n            that.element.on(\"touchend\" + STATIC_LIST_NS, function(e) {\n                if (e.isDefaultPrevented()) {\n                    return;\n                }\n\n                endY = tapPosition(e);\n\n                if (Math.abs(endY - startY) < 10) {\n                    that._touchTriggered = true;\n                    that._triggerClick($(e.target).closest(ITEMSELECTOR).get(0));\n                }\n            });\n        },\n\n        skip: function() {\n            return this.dataSource.skip();\n        },\n\n        setOptions: function(options) {\n            Widget.fn.setOptions.call(this, options);\n\n            this._getter();\n            this._templates();\n            this._render();\n        },\n\n        destroy: function() {\n            this.element.off(STATIC_LIST_NS);\n\n            if (this._refreshHandler) {\n                this.dataSource.unbind(CHANGE, this._refreshHandler);\n            }\n\n            clearTimeout(this._scrollId);\n\n            Widget.fn.destroy.call(this);\n        },\n\n        dataItemByIndex: function(index) {\n            return this.dataSource.flatView()[index];\n        },\n\n        screenHeight: function() {\n            return this.content[0].clientHeight;\n        },\n\n        scrollToIndex: function(index) {\n            var item = this.element[0].children[index];\n\n            if (item) {\n                this.scroll(item);\n            }\n        },\n\n        scrollWith: function(value) {\n            this.content.scrollTop(this.content.scrollTop() + value);\n        },\n\n        scroll: function(item) {\n            if (!item) {\n                return;\n            }\n\n            if (item[0]) {\n                item = item[0];\n            }\n\n            var content = this.content[0],\n                itemOffsetTop = item.offsetTop,\n                itemOffsetHeight = item.offsetHeight,\n                contentScrollTop = content.scrollTop,\n                contentOffsetHeight = content.clientHeight,\n                bottomDistance = itemOffsetTop + itemOffsetHeight;\n\n                if (contentScrollTop > itemOffsetTop) {\n                    contentScrollTop = itemOffsetTop;\n                } else if (bottomDistance > (contentScrollTop + contentOffsetHeight)) {\n                    contentScrollTop = (bottomDistance - contentOffsetHeight);\n                }\n\n                content.scrollTop = contentScrollTop;\n        },\n\n        selectedDataItems: function(dataItems) {\n            if (dataItems === undefined) {\n                return this._dataItems.slice();\n            }\n\n            this._dataItems = dataItems;\n            this._values = this._getValues(dataItems);\n        },\n\n        _getValues: function(dataItems) {\n            var getter = this._valueGetter;\n\n            return $.map(dataItems, function(dataItem) {\n                return getter(dataItem);\n            });\n        },\n\n        focusNext: function() {\n            var current = this.focus();\n\n            if (!current) {\n                current = 0;\n            } else {\n                current = current.next();\n            }\n\n            this.focus(current);\n        },\n\n        focusPrev: function() {\n            var current = this.focus();\n\n            if (!current) {\n                current = this.element[0].children.length - 1;\n            } else {\n                current = current.prev();\n            }\n\n            this.focus(current);\n        },\n\n        focusFirst: function() {\n            this.focus(this.element[0].children[0]);\n        },\n\n        focusLast: function() {\n            this.focus(last(this.element[0].children));\n        },\n\n        focus: function(candidate) {\n            var that = this;\n            var id = that._optionID;\n            var hasCandidate;\n\n            if (candidate === undefined) {\n                return that._current;\n            }\n\n            candidate = last(that._get(candidate));\n            candidate = $(this.element[0].children[candidate]);\n\n            if (that._current) {\n                that._current\n                    .removeClass(FOCUSED)\n                    .removeAttr(ID);\n\n                that.trigger(DEACTIVATE);\n            }\n\n            hasCandidate = !!candidate[0];\n\n            if (hasCandidate) {\n                candidate.addClass(FOCUSED);\n                that.scroll(candidate);\n\n                candidate.attr(\"id\", id);\n            }\n\n            that._current = hasCandidate ? candidate : null;\n            that.trigger(ACTIVATE);\n        },\n\n        focusIndex: function() {\n            return this.focus() ? this.focus().index() : undefined;\n        },\n\n        skipUpdate: function(skipUpdate) {\n            this._skipUpdate = skipUpdate;\n        },\n\n        select: function(indices) {\n            var that = this;\n            var selectable = that.options.selectable;\n            var singleSelection = selectable !== \"multiple\" && selectable !== false;\n            var selectedIndices = that._selectedIndices;\n            var uiSelectedIndices = [this.element.find(\".k-selected\").index()];\n\n            var added = [];\n            var removed = [];\n            var result;\n\n            if (indices === undefined) {\n                return selectedIndices.slice();\n            }\n\n            indices = that._get(indices);\n\n            if (indices.length === 1 && indices[0] === -1) {\n                indices = [];\n            }\n\n            var deferred = $.Deferred().resolve();\n            var filtered = that.isFiltered();\n\n            if (filtered && !singleSelection && that._deselectFiltered(indices)) {\n                return deferred;\n            }\n\n            if (singleSelection && !filtered &&\n                $.inArray(last(indices), selectedIndices) !== -1 && $.inArray(last(indices), uiSelectedIndices) !== -1) {\n\n                if (that._dataItems.length && that._view.length) {\n                    that._dataItems = [that._view[selectedIndices[0]].item];\n                }\n\n                return deferred;\n            }\n\n            result = that._deselect(indices);\n\n            removed = result.removed;\n            indices = result.indices;\n\n            if (indices.length) {\n                if (singleSelection) {\n                    indices = [last(indices)];\n                }\n\n                added = that._select(indices);\n            }\n\n            if (added.length || removed.length) {\n                that._valueComparer = null;\n                that.trigger(CHANGE, {\n                    added: added,\n                    removed: removed\n                });\n            }\n\n            return deferred;\n        },\n\n        removeAt: function(position) {\n            this._selectedIndices.splice(position, 1);\n            this._values.splice(position, 1);\n            this._valueComparer = null;\n\n            return {\n                position: position,\n                dataItem: this._dataItems.splice(position, 1)[0]\n            };\n        },\n\n        setValue: function(value) {\n            value = Array.isArray(value) || value instanceof ObservableArray ? value.slice(0) : [value];\n\n            this._values = value;\n\n            this._valueComparer = null;\n        },\n\n        value: function(value) {\n            var that = this;\n            var deferred = that._valueDeferred;\n            var indices;\n\n            if (value === undefined) {\n                return that._values.slice();\n            }\n\n            that.setValue(value);\n\n            if (!deferred || deferred.state() === \"resolved\") {\n                that._valueDeferred = deferred = $.Deferred();\n            }\n\n            if (that.bound()) {\n                indices = that._valueIndices(that._values);\n\n                if (that.options.selectable === \"multiple\") {\n                    that.select(-1);\n                }\n\n                that.select(indices);\n\n                deferred.resolve();\n            }\n\n            that._skipUpdate = false;\n\n            return deferred;\n        },\n\n        items: function() {\n            return this.element.children(ITEMSELECTOR);\n        },\n\n        _click: function(e) {\n            if (this._touchTriggered)\n            {\n                this._touchTriggered = false;\n                return;\n            }\n\n            if (!e.isDefaultPrevented()) {\n                this._triggerClick(e.currentTarget);\n            }\n        },\n\n        _createOnScrollProxy: function() {\n            var onScrollProxy = function() {\n                var that = this;\n                clearTimeout(that._scrollId);\n\n                that._scrollId = setTimeout(function() {\n                    that._renderHeader();\n                }, 50);\n            };\n\n            this._onScroll = onScrollProxy.bind(this);\n        },\n\n        _triggerClick: function(item) {\n            if (!this.trigger(CLICK, { item: $(item) })) {\n                this.select(item);\n            }\n        },\n\n        _valueExpr: function(type, values) {\n            var that = this;\n            var idx = 0;\n\n            var body;\n            var comparer;\n            var normalized = [];\n\n            if (!that._valueComparer || that._valueType !== type) {\n                that._valueType = type;\n\n                for (; idx < values.length; idx++) {\n                    normalized.push(unifyType(values[idx], type));\n                }\n\n                body = \"for (var idx = 0; idx < \" + normalized.length + \"; idx++) {\" +\n                        \" if (current === values[idx]) {\" +\n                        \"   return idx;\" +\n                        \" }\" +\n                        \"} \" +\n                        \"return -1;\";\n\n                comparer = new Function(\"current\", \"values\", body);\n\n                that._valueComparer = function(current) {\n                    return comparer(current, normalized);\n                };\n            }\n\n            return that._valueComparer;\n        },\n\n        _dataItemPosition: function(dataItem, values) {\n            var value = this._valueGetter(dataItem);\n\n            var valueExpr = this._valueExpr(typeof value, values);\n\n            return valueExpr(value);\n        },\n\n        _getter: function() {\n            this._valueGetter = kendo.getter(this.options.dataValueField);\n        },\n\n        _deselect: function(indices) {\n            var that = this;\n            var children = that.element[0].children;\n            var selectable = that.options.selectable;\n            var selectedIndices = that._selectedIndices;\n            var dataItems = that._dataItems;\n            var values = that._values;\n            var removed = [];\n            var i = 0;\n            var j;\n\n            var index, selectedIndex;\n            var removedIndices = 0;\n\n            indices = indices.slice();\n\n            if (selectable === true || !indices.length) {\n                for (; i < selectedIndices.length; i++) {\n                    $(children[selectedIndices[i]]).removeClass(KSELECTED).attr(ARIA_SELECTED, false);\n\n                    removed.push({\n                        position: i,\n                        dataItem: dataItems[i]\n                    });\n                }\n\n                that._values = [];\n                that._dataItems = [];\n                that._selectedIndices = [];\n            } else if (selectable === \"multiple\") {\n                for (; i < indices.length; i++) {\n                    index = indices[i];\n\n                    if (!$(children[index]).hasClass(KSELECTED)) {\n                        continue;\n                    }\n\n                    for (j = 0; j < selectedIndices.length; j++) {\n                        selectedIndex = selectedIndices[j];\n\n                        if (selectedIndex === index) {\n                            $(children[selectedIndex]).removeClass(KSELECTED).attr(ARIA_SELECTED, false);\n                            var dataItem = this._view[index].item;\n                            var position = this._dataItemPosition(dataItem, this._values);\n\n                            removed.push({\n                                position: position,\n                                dataItem: dataItem\n                            });\n\n                            dataItems.splice(j, 1);\n                            selectedIndices.splice(j, 1);\n                            indices.splice(i, 1);\n                            values.splice(j, 1);\n\n                            removedIndices += 1;\n                            i -= 1;\n                            j -= 1;\n                            break;\n                        }\n                    }\n                }\n            }\n\n            return {\n                indices: indices,\n                removed: removed\n            };\n        },\n\n        _deselectFiltered: function(indices) {\n            var children = this.element[0].children;\n            var dataItem, index, position;\n            var removed = [];\n            var idx = 0;\n\n            for (; idx < indices.length; idx++) {\n                index = indices[idx];\n\n                dataItem = this._view[index].item;\n                position = this._dataItemPosition(dataItem, this._values);\n\n                if (position > -1) {\n                    removed.push(this.removeAt(position));\n                    $(children[index]).removeClass(KSELECTED);\n                }\n            }\n\n            if (removed.length) {\n                this.trigger(CHANGE, {\n                    added: [],\n                    removed: removed\n                });\n\n                return true;\n            }\n\n            return false;\n        },\n\n        _select: function(indices) {\n            var that = this;\n            var children = that.element[0].children;\n            var data = that._view;\n            var dataItem, index;\n            var added = [];\n            var idx = 0;\n\n            if (last(indices) !== -1) {\n                that.focus(indices);\n            }\n\n            for (; idx < indices.length; idx++) {\n                index = indices[idx];\n                dataItem = data[index];\n\n                if (index === -1 || !dataItem) {\n                    continue;\n                }\n\n                dataItem = dataItem.item;\n\n                that._selectedIndices.push(index);\n                that._dataItems.push(dataItem);\n                that._values.push(that._valueGetter(dataItem));\n\n                $(children[index]).addClass(KSELECTED).attr(ARIA_SELECTED, true);\n\n                added.push({\n                    dataItem: dataItem\n                });\n            }\n\n            return added;\n        },\n\n        getElementIndex: function(element) {\n            return $(element).data(\"offset-index\");\n        },\n\n        _get: function(candidate) {\n            if (typeof candidate === \"number\") {\n                candidate = [candidate];\n            } else if (!isArray(candidate)) {\n                candidate = this.getElementIndex(candidate);\n                candidate = [candidate !== undefined ? candidate : -1];\n            }\n\n            return candidate;\n        },\n\n        _template: function() {\n            var that = this;\n            var options = that.options;\n            var template = options.template;\n\n            if (!template) {\n                template = kendo.template('<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-list-item\"><span class=\"k-list-item-text\">${' + kendo.expr(options.dataTextField, \"data\") + \"}</span></li>\", { useWithBlock: false });\n            } else {\n                template = kendo.template(template);\n                template = function(data) {\n                    return '<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-list-item\">' + template(data) + \"</li>\";\n                };\n            }\n\n            return template;\n        },\n\n        _templates: function() {\n            var template;\n            var options = this.options;\n            var templates = {\n                template: options.template,\n                groupTemplate: options.groupTemplate,\n                fixedGroupTemplate: options.fixedGroupTemplate\n            };\n\n            if (options.columns) {\n                for (var i = 0; i < options.columns.length; i++) {\n                    var currentColumn = options.columns[i];\n                    var templateText = currentColumn.field ? currentColumn.field.toString() : TEXT;\n\n                    templates[\"column\" + i] = currentColumn.template || \"#: \" + templateText + \"#\";\n                }\n            }\n\n            for (var key in templates) {\n                template = templates[key];\n                if (template && typeof template !== \"function\") {\n                    templates[key] = kendo.template(template);\n                }\n            }\n\n            this.templates = templates;\n        },\n\n        _normalizeIndices: function(indices) {\n            var newIndices = [];\n            var idx = 0;\n\n            for (; idx < indices.length; idx++) {\n                if (indices[idx] !== undefined) {\n                    newIndices.push(indices[idx]);\n                }\n            }\n\n            return newIndices;\n        },\n\n        _valueIndices: function(values, indices) {\n            var data = this._view;\n            var idx = 0;\n            var index;\n\n            indices = indices ? indices.slice() : [];\n\n            if (!values.length) {\n                return [];\n            }\n\n            for (; idx < data.length; idx++) {\n                index = this._dataItemPosition(data[idx].item, values);\n\n                if (index !== -1) {\n                    indices[index] = idx;\n                }\n            }\n\n            return this._normalizeIndices(indices);\n        },\n\n        _firstVisibleItem: function() {\n            var element = this.element[0];\n            var content = this.content[0];\n            var scrollTop = content.scrollTop;\n            var itemHeight = $(element.children[0]).height();\n            var itemIndex = Math.floor(scrollTop / itemHeight) || 0;\n            var item = element.children[itemIndex] || element.lastChild;\n            var forward = item.offsetTop < scrollTop;\n\n            while (item) {\n                if (forward) {\n                    if ((item.offsetTop + itemHeight) > scrollTop || !item.nextSibling) {\n                        break;\n                    }\n\n                    item = item.nextSibling;\n                } else {\n                    if (item.offsetTop <= scrollTop || !item.previousSibling) {\n                        break;\n                    }\n\n                    item = item.previousSibling;\n                }\n            }\n\n            return this._view[$(item).data(\"offset-index\")];\n        },\n\n        _fixedHeader: function() {\n            if (this.isGrouped() && this.templates.fixedGroupTemplate) {\n                if (this.header.closest(GROUP_ROW_SEL).length) {\n                    this.header.closest(GROUP_ROW_SEL).show();\n                } else {\n                    this.header.show();\n                }\n\n                this.content.scroll(this._onScroll);\n            } else {\n                if (this.header.closest(GROUP_ROW_SEL).length) {\n                    this.header.closest(GROUP_ROW_SEL).hide();\n                } else {\n                    this.header.hide();\n                }\n\n                this.content.off(\"scroll\", this._onScroll);\n            }\n        },\n\n        _renderHeader: function() {\n            var template = this.templates.fixedGroupTemplate;\n            if (!template) {\n                return;\n            }\n\n            var visibleItem = this._firstVisibleItem();\n\n            if (visibleItem && visibleItem.group.toString().length) {\n                this.header.html(template(visibleItem.group));\n            }\n        },\n\n        _renderItem: function(context) {\n            var item = '<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" ';\n\n            var dataItem = context.item;\n            var notFirstItem = context.index !== 0;\n            var selected = context.selected;\n            var isGrouped = this.isGrouped();\n            var hasColumns = this.options.columns && this.options.columns.length;\n            var altRow = context.index % 2 === 1 ? \" k-table-alt-row\" : \"\";\n\n            if (hasColumns) {\n                item += ('class=\"k-table-row' + altRow);\n            } else {\n                item += 'class=\"k-list-item';\n            }\n\n            if (notFirstItem && context.newGroup) {\n                item += ' k-first';\n            }\n\n            if (context.isLastGroupedItem && hasColumns) {\n                item += ' k-last';\n            }\n\n            if (selected) {\n                item += ' k-selected';\n            }\n\n            item += '\" aria-selected=\"' + (selected ? \"true\" : \"false\") + '\" data-offset-index=\"' + context.index + '\">';\n            if (hasColumns) {\n                item += this._renderColumns(dataItem);\n            } else {\n                item += '<span class=\"k-list-item-text\">';\n                item += this.templates.template(dataItem);\n                item += '</span>';\n            }\n\n            if (notFirstItem && context.newGroup) {\n                if (hasColumns) {\n                    item += '<span class=\"k-table-td k-table-group-td\"><span>' + this.templates.groupTemplate(context.group) + '</span></span>';\n                } else {\n                    item += '<div class=\"k-list-item-group-label\">' + this.templates.groupTemplate(context.group) + '</div>';\n                }\n            } else if (isGrouped && hasColumns) {\n                item += '<span class=\"k-table-td k-table-spacer-td\"></span>';\n            }\n\n            return item + \"</li>\";\n        },\n\n        _renderColumns: function(dataItem) {\n            var item = \"\";\n\n            for (var i = 0; i < this.options.columns.length; i++) {\n                var currentWidth = this.options.columns[i].width;\n                var currentWidthInt = parseInt(currentWidth, 10);\n                var widthStyle = '';\n\n                if (currentWidth && !isNaN(currentWidthInt)) {\n                    widthStyle += \"style='width:\";\n                    widthStyle += currentWidthInt;\n                    widthStyle += percentageUnitsRegex.test(currentWidth) ? \"%\" : \"px\";\n                    widthStyle += \";'\";\n                }\n                item += \"<span class='k-table-td' \" + widthStyle + \">\";\n                item += this.templates[\"column\" + i](dataItem);\n                item += \"</span>\";\n            }\n\n            return item;\n        },\n\n        _render: function() {\n            var html = \"\";\n\n            var i = 0;\n            var idx = 0;\n            var context;\n            var dataContext = [];\n            var view = this.dataSource.view();\n            var values = this.value();\n\n            var group, newGroup, j;\n            var isGrouped = this.isGrouped();\n\n            if (isGrouped) {\n                for (i = 0; i < view.length; i++) {\n                    group = view[i];\n                    newGroup = true;\n\n                    for (j = 0; j < group.items.length; j++) {\n                        context = {\n                            selected: this._selected(group.items[j], values),\n                            item: group.items[j],\n                            group: group.value,\n                            newGroup: newGroup,\n                            isLastGroupedItem: j === group.items.length - 1,\n                            index: idx };\n                        dataContext[idx] = context;\n                        idx += 1;\n\n                        html += this._renderItem(context);\n                        newGroup = false;\n                    }\n                }\n            } else {\n                for (i = 0; i < view.length; i++) {\n                    context = { selected: this._selected(view[i], values), item: view[i], index: i };\n\n                    dataContext[i] = context;\n\n                    html += this._renderItem(context);\n                }\n            }\n\n            this._view = dataContext;\n\n            this.element[0].innerHTML = html;\n\n            if (isGrouped && dataContext.length) {\n                this._renderHeader();\n            }\n        },\n\n        _selected: function(dataItem, values) {\n            var select = !this.isFiltered() || this.options.selectable === \"multiple\";\n            return select && this._dataItemPosition(dataItem, values) !== -1;\n        },\n\n        setDSFilter: function(filter) {\n            this._lastDSFilter = extend({}, filter);\n        },\n\n        isFiltered: function() {\n            if (!this._lastDSFilter) {\n                this.setDSFilter(this.dataSource.filter());\n            }\n\n            return !kendo.data.Query.compareFilters(this.dataSource.filter(), this._lastDSFilter);\n        },\n\n        refresh: function(e) {\n            var that = this;\n            var action = e && e.action;\n            var skipUpdateOnBind = that.options.skipUpdateOnBind;\n            var isItemChange = action === \"itemchange\";\n            var result;\n\n            that.trigger(DATA_BINDING);\n            that._angularItems(\"cleanup\");\n\n            that._fixedHeader();\n\n            that._render();\n\n            that.bound(true);\n\n            if (isItemChange || action === \"remove\") {\n                result = mapChangedItems(that._dataItems, e.items);\n\n                if (result.changed.length) {\n                    if (isItemChange) {\n                        that.trigger(SELECTED_ITEM_CHANGE, {\n                            items: result.changed\n                        });\n                    } else {\n                        that.value(that._getValues(result.unchanged));\n                    }\n                }\n            } else if (that.isFiltered() || that._skipUpdate || that._emptySearch) {\n                that.focus(0);\n                if (that._skipUpdate) {\n                    that._skipUpdate = false;\n                    that._selectedIndices = that._valueIndices(that._values, that._selectedIndices);\n                }\n            } else if (!skipUpdateOnBind && (!action || action === \"add\")) {\n                that.value(that._values);\n            }\n\n            if (that._valueDeferred) {\n                that._valueDeferred.resolve();\n            }\n\n            that._angularItems(\"compile\");\n            that.trigger(DATA_BOUND);\n        },\n\n        bound: function(bound) {\n            if (bound === undefined) {\n                return this._bound;\n            }\n\n            this._bound = bound;\n        },\n\n        isGrouped: function() {\n            return (this.dataSource.group() || []).length;\n        }\n    });\n\n    ui.plugin(StaticList);\n\n    function last(list) {\n        return list[list.length - 1];\n    }\n\n    function getSelectedOption(select) {\n        var index = select.selectedIndex;\n        return index > -1 ? select.options[index] : {};\n    }\n\n    function mapChangedItems(selected, itemsToMatch) {\n        var itemsLength = itemsToMatch.length;\n        var selectedLength = selected.length;\n        var dataItem;\n        var found;\n        var i, j;\n\n        var changed = [];\n        var unchanged = [];\n\n        if (selectedLength) {\n            for (i = 0; i < selectedLength; i++) {\n                dataItem = selected[i];\n                found = false;\n\n                for (j = 0; j < itemsLength; j++) {\n                    if (dataItem === itemsToMatch[j]) {\n                        found = true;\n                        changed.push({ index: i, item: dataItem });\n                        break;\n                    }\n                }\n\n                if (!found) {\n                    unchanged.push(dataItem);\n                }\n            }\n        }\n\n        return {\n            changed: changed,\n            unchanged: unchanged\n        };\n    }\n\n    function isValidFilterExpr(expression) {\n        if (!expression || $.isEmptyObject(expression)) {\n            return false;\n        }\n\n        if (expression.filters && !expression.filters.length) {\n            return false;\n        }\n\n        return true;\n    }\n\n    function removeFiltersForField(expression, field) {\n        var filters;\n        var found = false;\n\n        if (expression.filters) {\n            filters = $.grep(expression.filters, function(filter) {\n                found = removeFiltersForField(filter, field);\n                if (filter.filters) {\n                    return filter.filters.length;\n                } else {\n                    return filter.field != field;\n                }\n            });\n\n            if (!found && expression.filters.length !== filters.length) {\n                found = true;\n            }\n\n            expression.filters = filters;\n        }\n\n        return found;\n    }\n\n    kendo.cssProperties.registerPrefix(\"List\", \"k-list-\");\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.calendar',[ \"kendo.core\", \"kendo.selectable\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"calendar\",\n    name: \"Calendar\",\n    category: \"web\",\n    description: \"The Calendar widget renders a graphical calendar that supports navigation and selection.\",\n    depends: [ \"core\", \"selectable\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        support = kendo.support,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        keys = kendo.keys,\n        parse = kendo.parseDate,\n        adjustDST = kendo.date.adjustDST,\n        weekInYear = kendo.date.weekInYear,\n        Selectable = kendo.ui.Selectable,\n        extractFormat = kendo._extractFormat,\n        template = kendo.template,\n        getCulture = kendo.getCulture,\n        transitions = kendo.support.transitions,\n        transitionOrigin = transitions ? transitions.css + \"transform-origin\" : \"\",\n        cellTemplate = template('<td class=\"#=data.cssClass#\" role=\"gridcell\"><a tabindex=\"-1\" class=\"k-link\" href=\"\\\\#\" data-#=data.ns#value=\"#=data.dateString#\">#=data.value#</a></td>', { useWithBlock: false }),\n        emptyCellTemplate = template('<td role=\"gridcell\" class=\"k-calendar-td k-out-of-range\"><a class=\"k-link\"></a></td>', { useWithBlock: false }),\n        otherMonthCellTemplate = template('<td role=\"gridcell\" class=\"k-calendar-td k-out-of-range\">&nbsp;</td>', { useWithBlock: false }),\n        weekNumberTemplate = template('<td class=\"k-calendar-td k-alt\">#= data.weekNumber #</td>', { useWithBlock: false }),\n        outerWidth = kendo._outerWidth,\n        ns = \".kendoCalendar\",\n        CLICK = \"click\" + ns,\n        KEYDOWN_NS = \"keydown\" + ns,\n        ID = \"id\",\n        MIN = \"min\",\n        LEFT = \"left\",\n        SLIDE = \"slideIn\",\n        MONTH = \"month\",\n        CENTURY = \"century\",\n        CHANGE = \"change\",\n        NAVIGATE = \"navigate\",\n        VALUE = \"value\",\n        HOVER = \"k-state-hover\",\n        DISABLED = \"k-state-disabled\",\n        FOCUSED = \"k-state-focused\",\n        OTHERMONTH = \"k-other-month\",\n        OUTOFRANGE = \"k-out-of-range\",\n        TODAY = \"k-nav-today\",\n        CELLSELECTOR = \"td:has(.k-link)\",\n        CELLSELECTORVALID = \"td:has(.k-link):not(.\" + DISABLED + \"):not(.\" + OUTOFRANGE + \")\",\n        WEEKCOLUMNSELECTOR = \"td:not(:has(.k-link))\",\n        SELECTED = \"k-state-selected\",\n        BLUR = \"blur\" + ns,\n        FOCUS = \"focus\",\n        FOCUS_WITH_NS = FOCUS + ns,\n        MOUSEENTER = support.touch ? \"touchstart\" : \"mouseenter\",\n        MOUSEENTER_WITH_NS = support.touch ? \"touchstart\" + ns : \"mouseenter\" + ns,\n        MOUSELEAVE = support.touch ? \"touchend\" + ns + \" touchmove\" + ns : \"mouseleave\" + ns,\n        MS_PER_MINUTE = 60000,\n        MS_PER_DAY = 86400000,\n        PREVARROW = \"_prevArrow\",\n        NEXTARROW = \"_nextArrow\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_SELECTED = \"aria-selected\",\n        ARIA_LABEL = \"aria-label\",\n        extend = $.extend,\n        DATE = Date,\n        views = {\n            month: 0,\n            year: 1,\n            decade: 2,\n            century: 3\n        },\n        HEADERSELECTOR = '.k-header, .k-calendar-header',\n        CLASSIC_HEADER_TEMPLATE = '<div class=\"k-header k-hstack\">' +\n            '<a href=\"\\\\#\" #=actionAttr#=\"prev\" role=\"button\" class=\"k-nav-prev k-button #=size# k-rounded-md k-button-flat k-button-flat-base k-icon-button\" ' + ARIA_LABEL + '=\"Previous\"><span class=\"k-button-icon k-icon k-i-arrow-60-left\"></span></a>' +\n            '<a href=\"\\\\#\" #=actionAttr#=\"nav-up\" role=\"button\" aria-live=\"assertive\" aria-atomic=\"true\" class=\"k-nav-fast k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-flex\"></a>' +\n            '<a href=\"\\\\#\" #=actionAttr#=\"next\" role=\"button\" class=\"k-nav-next k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-icon-button\" ' + ARIA_LABEL + '=\"Next\"><span class=\"k-icon k-i-arrow-60-right\"></span></a>' +\n        '</div>',\n        MODERN_HEADER_TEMPLATE = '<div class=\"k-calendar-header k-hstack\">' +\n            '<a href=\"\\\\#\" #=actionAttr#=\"nav-up\" role=\"button\" aria-live=\"assertive\" aria-atomic=\"true\" class=\"k-calendar-title k-title k-button #=size# k-rounded-md k-button-flat k-button-flat-base \"></a>' +\n            '<span class=\"k-spacer\"></span>' +\n            '<span class=\"k-calendar-nav k-hstack\">' +\n                '<a #=actionAttr#=\"prev\" class=\"k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-icon-button k-prev-view\">' +\n                    '<span class=\"k-button-icon k-icon k-i-arrow-60-left\"></span>' +\n                '</a>' +\n                '<a #=actionAttr#=\"today\" class=\"k-nav-today\">#=messages.today#</a>' +\n                '<a #=actionAttr#=\"next\" class=\"k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-icon-button k-next-view\">' +\n                    '<span class=\"k-button-icon k-icon k-i-arrow-60-right\"></span>' +\n                '</a>' +\n            '</span>' +\n        '</div>';\n\n    var Calendar = Widget.extend({\n        init: function(element, options) {\n            var that = this, value, id;\n            options = options || {};\n            options.componentType = options.componentType || \"classic\";\n            Widget.fn.init.call(that, element, options);\n\n            element = that.wrapper = that.element;\n            options = that.options;\n\n            options.url = kendo.unescape(options.url);\n\n            that.options.disableDates = getDisabledExpr(that.options.disableDates);\n\n            that._templates();\n\n            that._selectable();\n\n            that._header();\n\n            that._viewWrapper();\n\n            if (that.options.hasFooter) {\n                that._footer(that.footer);\n            } else {\n                that._today = that.element.find('a.k-nav-today');\n                that._toggle();\n            }\n\n            id = element\n                .addClass(\"k-widget k-calendar \" + (options.weekNumber ? \" k-week-number\" : \"\"))\n                .on(MOUSEENTER_WITH_NS + \" \" + MOUSELEAVE, CELLSELECTOR, mousetoggle)\n                .on(KEYDOWN_NS, \"table.k-content\", that._move.bind(that))\n                .on(CLICK + \" touchend\", CELLSELECTOR, function(e) {\n                    var link = e.currentTarget.firstChild,\n                        value = toDateObject(link);\n\n                    if (link.href.indexOf(\"#\") != -1) {\n                        e.preventDefault();\n                    }\n\n                    if (that._view.name == \"month\" && that.options.disableDates(value)) {\n                        return;\n                    }\n                    if (that._view.name != \"month\" || options.selectable == \"single\") {\n                            that._click($(link));\n                    }\n                })\n                .on(\"mouseup\" + ns, \"table.k-content, .k-footer\", function() {\n                    that._focusView(that.options.focusOnNav !== false);\n                })\n                .attr(ID);\n\n            if (that._isMultipleSelection() && that.options.weekNumber) {\n                element.on(CLICK, WEEKCOLUMNSELECTOR, function(e) {\n                        var first = $(e.currentTarget).closest(\"tr\").find(CELLSELECTORVALID).first(),\n                            last = that.selectable._lastActive = $(e.currentTarget).closest(\"tr\").find(CELLSELECTORVALID).last();\n                        that.selectable.selectRange(first, last, { event: e});\n                        that._current = that._value = toDateObject(last.find(\"a\"));\n                        that._setCurrent(that._current);\n                });\n            }\n\n            normalize(options);\n            value = parse(options.value, options.format, options.culture);\n            that._selectDates = [];\n\n            that._index = views[options.start];\n\n            that._current = new DATE(+restrictValue(value, options.min, options.max));\n\n            that._addClassProxy = function() {\n                that._active = true;\n\n                if (that._cell.hasClass(DISABLED)) {\n                    var todayString = that._view.toDateString(getToday());\n                    that._cell = that._cellByDate(todayString);\n                }\n\n                that._cell.addClass(FOCUSED);\n            };\n\n            that._removeClassProxy = function() {\n                that._active = false;\n                if (that._cell) {\n                    that._cell.removeClass(FOCUSED);\n                }\n            };\n\n            that.value(value);\n\n            if (that._isMultipleSelection() && options.selectDates.length > 0) {\n                that.selectDates(options.selectDates);\n            }\n            kendo.notify(that);\n        },\n\n        options: {\n            name: \"Calendar\",\n            value: null,\n            min: new DATE(1900, 0, 1),\n            max: new DATE(2099, 11, 31),\n            dates: [],\n            disableDates: null,\n            url: \"\",\n            culture: \"\",\n            footer : \"\",\n            format : \"\",\n            month : {},\n            weekNumber: false,\n            selectable: \"single\",\n            selectDates: [],\n            start: MONTH,\n            depth: MONTH,\n            size: \"medium\",\n            animation: {\n                horizontal: {\n                    effects: SLIDE,\n                    reverse: true,\n                    duration: 500,\n                    divisor: 2\n                },\n                vertical: {\n                    effects: \"zoomIn\",\n                    duration: 400\n                }\n            },\n            messages: {\n                weekColumnHeader: \"\",\n                today: \"Today\"\n            },\n            componentType: \"classic\"\n        },\n\n        events: [\n            CHANGE,\n            NAVIGATE\n        ],\n\n        componentTypes: {\n            \"classic\": {\n                header: {\n                    template: CLASSIC_HEADER_TEMPLATE\n                },\n                hasFooter: true,\n                linksSelector: \".k-button\",\n                contentClasses: \"k-calendar-table k-content\"\n            },\n            \"modern\": {\n                header: {\n                    template: MODERN_HEADER_TEMPLATE\n                },\n                hasFooter: false,\n                linksSelector: \".k-button\",\n                contentClasses: \"k-calendar-table k-content k-calendar-content\"\n            }\n        },\n\n        setOptions: function(options) {\n            var that = this;\n\n            normalize(options);\n\n            options.disableDates = getDisabledExpr(options.disableDates);\n            that._destroySelectable();\n\n            Widget.fn.setOptions.call(that, options);\n\n            that._templates();\n\n            that._selectable();\n\n            that._viewWrapper();\n\n            if (that.options.hasFooter) {\n                that._footer(that.footer);\n            } else {\n                that.element.find(\".k-footer\").hide();\n                that._toggle();\n            }\n            that._index = views[that.options.start];\n\n            that.navigate();\n\n            if (options.weekNumber) {\n                that.element.addClass('k-week-number');\n            }\n        },\n\n        destroy: function() {\n            var that = this,\n            today = that._today;\n\n            that.element.off(ns);\n            that._title.off(ns);\n            that[PREVARROW].off(ns);\n            that[NEXTARROW].off(ns);\n            that._destroySelectable();\n            kendo.destroy(that._table);\n\n            if (today) {\n                kendo.destroy(today.off(ns));\n            }\n\n            Widget.fn.destroy.call(that);\n        },\n\n        current: function() {\n            return this._current;\n        },\n\n        view: function() {\n            return this._view;\n        },\n\n        focus: function(table) {\n            table = table || this._table;\n            this._bindTable(table);\n            table.trigger(\"focus\");\n        },\n\n        min: function(value) {\n            return this._option(MIN, value);\n        },\n\n        max: function(value) {\n            return this._option(\"max\", value);\n        },\n\n        navigateToPast: function() {\n            this._navigate(PREVARROW, -1);\n        },\n\n        navigateToFuture: function() {\n            this._navigate(NEXTARROW, 1);\n        },\n\n        navigateUp: function() {\n            var that = this,\n            index = that._index;\n\n            if (that._title.hasClass(DISABLED)) {\n                return;\n            }\n\n            that.navigate(that._current, ++index);\n        },\n\n        navigateDown: function(value) {\n            var that = this,\n            index = that._index,\n            depth = that.options.depth;\n\n            if (!value) {\n                return;\n            }\n\n            if (index === views[depth]) {\n                if (!isEqualDate(that._value, that._current) || !isEqualDate(that._value, value)) {\n                    that.value(value);\n                    that.trigger(CHANGE);\n                }\n                return;\n            }\n\n            that.navigate(value, --index);\n        },\n\n        navigate: function(value, view) {\n            view = isNaN(view) ? views[view] : view;\n\n            var that = this,\n                options = that.options,\n                culture = options.culture,\n                min = options.min,\n                max = options.max,\n                title = that._title,\n                from = that._table,\n                old = that._oldTable,\n                currentValue = that._current,\n                future = value && +value > +currentValue,\n                vertical = view !== undefined && view !== that._index,\n                to, currentView, compare,\n                disabled,\n                viewWrapper = that.element.children(\".k-calendar-view\");\n\n            if (!value) {\n                value = currentValue;\n            }\n\n            that._current = value = new DATE(+restrictValue(value, min, max));\n\n            if (view === undefined) {\n                view = that._index;\n            } else {\n                that._index = view;\n            }\n\n            that._view = currentView = calendar.views[view];\n            compare = currentView.compare;\n\n            disabled = view === views[CENTURY];\n            title.toggleClass(DISABLED, disabled).attr(ARIA_DISABLED, disabled);\n\n            disabled = compare(value, min) < 1;\n            that[PREVARROW].toggleClass(DISABLED, disabled).attr(ARIA_DISABLED, disabled);\n\n            disabled = compare(value, max) > -1;\n            that[NEXTARROW].toggleClass(DISABLED, disabled).attr(ARIA_DISABLED, disabled);\n\n            if (from && old && old.data(\"animating\")) {\n                old.kendoStop(true, true);\n                from.kendoStop(true, true);\n            }\n\n            that._oldTable = from;\n\n            if (!from || that._changeView) {\n                title.html(currentView.title(value, min, max, culture));\n\n                that._table = to = $(currentView.content(extend({\n                    min: min,\n                    max: max,\n                    date: value,\n                    url: options.url,\n                    dates: options.dates,\n                    format: options.format,\n                    otherMonth : true,\n                    culture: culture,\n                    disableDates: options.disableDates,\n                    isWeekColumnVisible: options.weekNumber,\n                    messages: options.messages,\n                    contentClasses: that.options.contentClasses\n                }, that[currentView.name])));\n\n                addClassToViewContainer(to, currentView.name);\n                var replace = from && from.data(\"start\") === to.data(\"start\");\n                that._animate({\n                    from: from,\n                    to: to,\n                    vertical: vertical,\n                    future: future,\n                    replace: replace\n                });\n\n                viewWrapper.removeClass(\"k-calendar-monthview k-calendar-yearview k-calendar-decadeview k-calendar-centuryview\");\n                viewWrapper.addClass(\"k-calendar-\" + currentView.name + \"view\");\n\n                that.trigger(NAVIGATE);\n\n                that._focus(value);\n            }\n\n            if (view === views[options.depth] && that._selectDates.length > 0) {\n                that._visualizeSelectedDatesInView();\n            }\n\n            if (that.options.selectable === \"single\") {\n                if (view === views[options.depth] && that._value && !that.options.disableDates(that._value)) {\n                    that._selectCell(that._value);\n                }\n            }\n\n            that._setCurrent(value);\n\n            if (!from && that._cell) {\n                that._cell.removeClass(FOCUSED);\n            }\n\n            that._changeView = true;\n        },\n\n        selectDates: function(dates) {\n            var that = this,\n                validSelectedDates,\n                datesUnique;\n\n            if (dates === undefined) {\n                return that._selectDates;\n            }\n\n            datesUnique = dates\n                .map(function (date) { return date.getTime(); })\n                .filter(function (date, position, array) {\n                    return array.indexOf(date) === position;\n                })\n                .map(function (time) { return new Date(time); });\n\n            validSelectedDates = $.grep(datesUnique, function(value) {\n                if (value) {\n                    return +that._validateValue(new Date(value.setHours(0, 0, 0, 0))) === +value;\n                }\n            });\n            that._selectDates = validSelectedDates.length > 0 ? validSelectedDates : (datesUnique.length === 0 ? datesUnique : that._selectDates);\n            that._visualizeSelectedDatesInView();\n        },\n\n        value: function(value) {\n            var that = this,\n                old = that._view,\n                view = that._view;\n\n            if (value === undefined) {\n                return that._value;\n            }\n\n            value = that._validateValue(value);\n            if (value && that._isMultipleSelection()) {\n                var date = new Date(+value);\n                date.setHours(0, 0, 0, 0);\n                that._selectDates = [date];\n                that.selectable._lastActive = null;\n            }\n            if (old && value === null && that._cell) {\n                that._cell.removeClass(SELECTED);\n            } else {\n                that._changeView = !value || view && view.compare(value, that._current) !== 0;\n                that.navigate(value);\n            }\n        },\n\n        _validateValue: function(value) {\n            var that = this,\n                options = that.options,\n                min = options.min,\n                max = options.max;\n\n            if (value === null) {\n                that._current = createDate(that._current.getFullYear(), that._current.getMonth(), that._current.getDate());\n            }\n\n            value = parse(value, options.format, options.culture);\n\n            if (value !== null) {\n                value = new DATE(+value);\n\n                if (!isInRange(value, min, max)) {\n                    value = null;\n                }\n            }\n\n            if (value === null || !that.options.disableDates(new Date(+value))) {\n                that._value = value;\n            } else if (that._value === undefined) {\n                that._value = null;\n            }\n\n            return that._value;\n        },\n\n        _visualizeSelectedDatesInView: function() {\n            var that = this;\n             var selectedDates = {};\n            $.each(that._selectDates, function(index, value) {\n                selectedDates[kendo.calendar.views[0].toDateString(value)] = value;\n            });\n            that.selectable.clear();\n             var cells = that._table\n                .find(CELLSELECTOR)\n                .filter(function(index, element) {\n                    return selectedDates[$(element.firstChild).attr(kendo.attr(VALUE))];\n                });\n            if (cells.length > 0) {\n                that.selectable._selectElement(cells, true);\n            }\n        },\n\n        _isMultipleSelection: function() {\n            var that = this;\n            return that.options.selectable === \"multiple\";\n        },\n\n        _selectable: function() {\n            var that = this;\n            if (!that._isMultipleSelection()) {\n                return;\n            }\n\n            var selectable = that.options.selectable,\n            selectableOptions = Selectable.parseOptions(selectable);\n\n            if (selectableOptions.multiple) {\n                that.element.attr(\"aria-multiselectable\", \"true\");\n            }\n            that.selectable = new Selectable(that.wrapper, {\n                aria: true,\n                //excludes the anchor element\n                inputSelectors: \"input,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up\",\n                multiple: selectableOptions.multiple,\n                filter: \"table.k-month:eq(0) \" + CELLSELECTORVALID,\n                change: that._onSelect.bind(that),\n                relatedTarget: that._onRelatedTarget.bind(that)\n            });\n        },\n\n        _onRelatedTarget: function(target) {\n            var that = this;\n\n            if (that.selectable.options.multiple && target.is(CELLSELECTORVALID)) {\n                that._current = toDateObject(target.find(\"a\"));\n                that._setCurrent(that._current);\n            }\n\n        },\n\n        _onSelect: function(e) {\n            var that = this,\n                eventArgs = e,\n                selectableOptions = Selectable.parseOptions(that.options.selectable);\n\n            if (!selectableOptions.multiple) {\n                if ($(eventArgs.event.currentTarget).is(\"td\") && !$(eventArgs.event.currentTarget).hasClass(\"k-state-selected\")) {\n                    $(eventArgs.event.currentTarget).addClass(\"k-state-selected\");\n                }\n                else {\n                    that._click($(eventArgs.event.currentTarget).find(\"a\"));\n                }\n                return;\n            }\n\n            if (eventArgs.event.ctrlKey || eventArgs.event.metaKey) {\n                if ($(eventArgs.event.currentTarget).is(CELLSELECTORVALID)) {\n                    that._toggleSelection($(eventArgs.event.currentTarget));\n                }\n                else {\n                    that._cellsBySelector(CELLSELECTORVALID).each(function(index, element){\n                        var value = toDateObject($(element).find(\"a\"));\n                        that._deselect(value);\n                    });\n                    that._addSelectedCellsToArray();\n                }\n            }\n            else if (eventArgs.event.shiftKey) {\n                that._rangeSelection(that._cell);\n            }\n            else if ($(eventArgs.event.currentTarget).is(CELLSELECTOR)) {\n                that.value(toDateObject($(eventArgs.event.currentTarget).find(\"a\")));\n            }\n            else {\n                that._selectDates = [];\n                that._addSelectedCellsToArray();\n            }\n             that.trigger(CHANGE);\n        },\n\n        _destroySelectable: function() {\n            var that = this;\n\n            if (that.selectable) {\n                that.selectable.destroy();\n                that.selectable = null;\n            }\n        },\n\n        //when ctrl key is clicked\n        _toggleSelection: function(currentCell) {\n            var that = this,\n                date = toDateObject(currentCell.find(\"a\"));\n                if (currentCell.hasClass(\"k-state-selected\")) {\n                    that._selectDates.push(date);\n                }\n                else {\n                    that._deselect(date);\n                }\n        },\n\n        //shift selection\n        _rangeSelection: function(toDateCell, startDate) {\n            var that = this,\n                fromDate  = startDate || toDateObject(that.selectable.value().first().find(\"a\")),\n                toDate = toDateObject(toDateCell.find(\"a\")),\n                daysDifference;\n\n            if (that.selectable._lastActive || that._value) {\n                fromDate = that.selectable._lastActive? toDateObject(that.selectable._lastActive.find(\"a\")): new Date(+that._value);\n            } else {\n                that.selectable._lastActive = startDate? that._cellByDate(that._view.toDateString(startDate), CELLSELECTORVALID): that.selectable.value().first();\n            }\n\n            that._selectDates = [];\n            daysDifference = daysBetweenTwoDates(fromDate, toDate);\n            addDaysToArray(that._selectDates, daysDifference, fromDate, that.options.disableDates);\n\n            that._visualizeSelectedDatesInView();\n        },\n\n        _cellsBySelector: function(selector) {\n            var that = this;\n            return that._table.find(selector);\n        },\n\n        _addSelectedCellsToArray: function() {\n            var that = this;\n            that.selectable.value().each(function(index, item) {\n                var date = toDateObject($(item.firstChild));\n                if (!that.options.disableDates(date)) {\n                    that._selectDates.push(date);\n                }\n            });\n        },\n\n         _deselect: function(date) {\n            var that = this;\n             var currentDateIndex = that._selectDates.map(Number).indexOf(+date);\n            if (currentDateIndex != -1) {\n                that._selectDates.splice(currentDateIndex, 1);\n            }\n        },\n\n        _dateInView: function(date) {\n            var that = this,\n                firstDateInView = toDateObject(that._cellsBySelector(CELLSELECTORVALID).first().find(\"a\")),\n                lastDateInView = toDateObject(that._cellsBySelector(CELLSELECTORVALID).last().find(\"a\"));\n\n            return +date <= +lastDateInView && +date >= +firstDateInView;\n        },\n\n        _isNavigatable: function(currentValue, cellIndex) {\n            var that = this;\n            var isDisabled = that.options.disableDates;\n            var cell;\n            var index;\n\n            if (that._view.name == \"month\") {\n                return !isDisabled(currentValue);\n            } else {\n                index = that.wrapper.find(\".\"+FOCUSED).index();\n                cell = that.wrapper.find(\".k-content td\").eq(index + cellIndex);\n                return cell.is(CELLSELECTORVALID) || !isDisabled(currentValue);\n            }\n        },\n\n        _move: function(e) {\n            var that = this,\n                options = that.options,\n                key = e.keyCode,\n                view = that._view,\n                index = that._index,\n                min = that.options.min,\n                max = that.options.max,\n                currentValue = new DATE(+that._current),\n                isRtl = kendo.support.isRtl(that.wrapper),\n                isDisabled = that.options.disableDates,\n                value, prevent, method, temp;\n\n            if (e.target === that._table[0]) {\n                that._active = true;\n            }\n\n            if (key == keys.RIGHT && !isRtl || key == keys.LEFT && isRtl) {\n                value = 1;\n                prevent = true;\n            } else if (key == keys.LEFT && !isRtl || key == keys.RIGHT && isRtl) {\n                value = -1;\n                prevent = true;\n            } else if (key == keys.UP) {\n                value = index === 0 ? -7 : -4;\n                prevent = true;\n            } else if (key == keys.DOWN) {\n                value = index === 0 ? 7 : 4;\n                prevent = true;\n            }\n            else if (key == keys.SPACEBAR) {\n                value = 0;\n                prevent = true;\n            }\n            else if (key == keys.HOME || key == keys.END) {\n                method = key == keys.HOME ? \"first\" : \"last\";\n                temp = view[method](currentValue);\n                currentValue = new DATE(temp.getFullYear(), temp.getMonth(), temp.getDate(), currentValue.getHours(), currentValue.getMinutes(), currentValue.getSeconds(), currentValue.getMilliseconds());\n                currentValue.setFullYear(temp.getFullYear());\n                prevent = true;\n            }\n\n            if (e.ctrlKey || e.metaKey) {\n                if (key == keys.RIGHT && !isRtl || key == keys.LEFT && isRtl) {\n                    that.navigateToFuture();\n                    prevent = true;\n                } else if (key == keys.LEFT && !isRtl || key == keys.RIGHT && isRtl) {\n                    that.navigateToPast();\n                    prevent = true;\n                } else if (key == keys.UP) {\n                    that.navigateUp();\n                    prevent = true;\n                } else if (key == keys.DOWN) {\n                    that._click($(that._cell[0].firstChild));\n                    prevent = true;\n                }\n                  else if ((key == keys.ENTER || key == keys.SPACEBAR) && that._isMultipleSelection()) {\n                    that._keyboardToggleSelection(e);\n\n                    var focusedDate = toDateObject($(that._cell[0]).find(\"a\"));\n                    that._setCurrent(focusedDate);\n\n                }\n            } else if (e.shiftKey) {\n                if (value !== undefined || method) {\n                    if (!method) {\n                        view.setDate(currentValue, value);\n                    }\n\n                    if (!isInRange(currentValue, min, max)) {\n                        currentValue = restrictValue(currentValue, options.min, options.max);\n                    }\n\n                    if (isDisabled(currentValue)) {\n                        currentValue = that._nextNavigatable(currentValue, value);\n                    }\n\n                    min = createDate(min.getFullYear(), min.getMonth(), min.getDate());\n                    if (that._isMultipleSelection()) {\n                        that._keyboardRangeSelection(e, currentValue);\n                    }\n                    else {\n                        that._focus(currentValue);\n                    }\n                }\n            } else {\n                if (key == keys.ENTER || key == keys.SPACEBAR) {\n                    if (view.name == \"month\" && that._isMultipleSelection()) {\n                        that.value(toDateObject($(that._cell.find(\"a\"))));\n                        that.selectable._lastActive = $(that._cell[0]);\n                        that.trigger(CHANGE);\n                    }\n                    else {\n                        that._click($(that._cell[0].firstChild));\n                    }\n                    prevent = true;\n                } else if (key == keys.PAGEUP) {\n                    prevent = true;\n                    that.navigateToPast();\n                } else if (key == keys.PAGEDOWN) {\n                    prevent = true;\n                    that.navigateToFuture();\n                }\n\n                if (value || method) {\n                    if (!method) {\n                        view.setDate(currentValue, value);\n                    }\n\n                    min = createDate(min.getFullYear(), min.getMonth(), min.getDate());\n\n                    if (!isInRange(currentValue, min, max)) {\n                        currentValue = restrictValue(currentValue, options.min, options.max);\n                    }\n\n                    if (!that._isNavigatable(currentValue, value)) {\n                        currentValue = that._nextNavigatable(currentValue, value);\n                    }\n\n                    if (that._isMultipleSelection()) {\n                        if (!that._dateInView(currentValue)) {\n                            that.navigate(currentValue);\n                        }\n                        else {\n                            that._current = currentValue;\n                            that._setCurrent(currentValue);\n                        }\n                    }\n                    else {\n                        that._focus(currentValue);\n                    }\n                }\n            }\n\n            if (prevent) {\n                e.preventDefault();\n            }\n\n            return that._current;\n        },\n\n        _keyboardRangeSelection: function(event, currentValue) {\n            var that = this,\n                fromDate,\n                daysDifference;\n\n            if (!that._dateInView(currentValue)) {\n                that._selectDates = [];\n\n                fromDate = that.selectable._lastActive? toDateObject(that.selectable._lastActive.find(\"a\")): currentValue;\n                daysDifference = daysBetweenTwoDates(fromDate, new Date(+currentValue));\n\n                addDaysToArray(that._selectDates, daysDifference, fromDate, that.options.disableDates);\n\n                that.navigate(currentValue);\n                that._current = currentValue;\n                that.selectable._lastActive = that.selectable._lastActive || that._cellByDate(that._view.toDateString(currentValue), CELLSELECTORVALID);\n                that.trigger(CHANGE);\n                return;\n            }\n            that.selectable.options.filter = that.wrapper.find(\"table\").length > 1 && +currentValue > +that._current? \"table.k-month:eq(1) \" + CELLSELECTORVALID: \"table.k-month:eq(0) \" + CELLSELECTORVALID;\n            that._setCurrent(currentValue);\n            that._current = currentValue;\n\n            that._rangeSelection(that._cellByDate(that._view.toDateString(currentValue), CELLSELECTORVALID), currentValue);\n\n            that.trigger(CHANGE);\n\n            that.selectable.options.filter = \"table.k-month:eq(0) \" + CELLSELECTORVALID;\n        },\n\n        _keyboardToggleSelection: function(event) {\n            var that = this;\n\n            event.currentTarget = that._cell[0];\n            that.selectable._lastActive = $(that._cell[0]);\n\n            if ($(that._cell[0]).hasClass(SELECTED)) {\n                that.selectable._unselect($(that._cell[0]));\n                that.selectable.trigger(CHANGE, { event: event});\n            }\n            else {\n                that.selectable.value($(that._cell[0]), { event: event});\n            }\n        },\n\n        _nextNavigatable: function(currentValue, value) {\n            var that = this,\n            disabled = true,\n            view = that._view,\n            min = that.options.min,\n            max = that.options.max,\n            isDisabled = that.options.disableDates,\n            navigatableDate = new Date(currentValue.getTime());\n\n            view.setDate(navigatableDate, -value);\n\n            while (disabled) {\n                view.setDate(currentValue, value);\n\n                if (!isInRange(currentValue, min, max)) {\n                    currentValue = navigatableDate;\n                    break;\n                }\n                disabled = isDisabled(currentValue);\n            }\n            return currentValue;\n        },\n\n        _animate: function(options) {\n            var that = this;\n            var from = options.from;\n            var to = options.to;\n            var active = that._active;\n            var viewWrapper = that.element.children(\".k-calendar-view\");\n\n            if (!from) {\n                viewWrapper.append(to);\n                that._bindTable(to);\n            } else if (from.parent().data(\"animating\")) {\n                from.off(ns);\n                from.parent().kendoStop(true, true).remove();\n                from.remove();\n\n                viewWrapper.append(to);\n                that._focusView(active);\n            } else if (!from.is(\":visible\") || that.options.animation === false || options.replace) {\n                to.insertAfter(from);\n                from.off(ns).remove();\n\n                that._focusView(active);\n            } else {\n                that[options.vertical ? \"_vertical\" : \"_horizontal\"](from, to, options.future);\n            }\n        },\n\n        _horizontal: function(from, to, future) {\n            var that = this,\n                active = that._active,\n                horizontal = that.options.animation.horizontal,\n                effects = horizontal.effects,\n                viewWidth = outerWidth(from);\n\n            if (effects && effects.indexOf(SLIDE) != -1) {\n                from.add(to).css({ width: viewWidth });\n\n                from.wrap(\"<div/>\");\n\n                that._focusView(active, from);\n\n                from.parent()\n                .css({\n                    position: \"relative\",\n                    width: viewWidth * 2,\n                    \"float\": LEFT,\n                    \"margin-left\": future ? 0 : -viewWidth\n                });\n\n                to[future ? \"insertAfter\" : \"insertBefore\"](from);\n\n                extend(horizontal, {\n                    effects: SLIDE + \":\" + (future ? \"right\" : LEFT),\n                    complete: function() {\n                        from.off(ns).remove();\n                        that._oldTable = null;\n\n                        to.unwrap();\n\n                        that._focusView(active);\n\n                    }\n                });\n\n                from.parent().kendoStop(true, true).kendoAnimate(horizontal);\n            }\n        },\n\n        _vertical: function(from, to) {\n            var that = this,\n                vertical = that.options.animation.vertical,\n                effects = vertical.effects,\n                active = that._active, //active state before from's blur\n                cell, position;\n\n            if (effects && effects.indexOf(\"zoom\") != -1) {\n                to.insertBefore(from);\n\n                from.css({\n                    position: \"absolute\",\n                    width: to.width()\n                });\n\n                if (transitionOrigin) {\n                    cell = that._cellByDate(that._view.toDateString(that._current));\n                    position = cell.position();\n                    position = (position.left + parseInt(cell.width() / 2, 10)) + \"px\" + \" \" + (position.top + parseInt(cell.height() / 2, 10) + \"px\");\n                    to.css(transitionOrigin, position);\n                }\n\n                from.kendoStop(true, true).kendoAnimate({\n                    effects: \"fadeOut\",\n                    duration: 600,\n                    complete: function() {\n                        from.off(ns).remove();\n                        that._oldTable = null;\n\n                        that._focusView(active);\n                    }\n                });\n\n                to.kendoStop(true, true).kendoAnimate(vertical);\n            }\n        },\n\n        _cellByDate: function(value, selector) {\n            return this._table.find(selector ? selector : \"td:not(.\" + OTHERMONTH + \")\")\n            .filter(function() {\n                return $(this.firstChild).attr(kendo.attr(VALUE)) === value;\n            });\n        },\n\n        _selectCell: function (date) {\n            var that = this,\n                cell = that._selectedCell,\n                value = that._view.toDateString(date);\n\n                if (cell && cell[0]) {\n                    cell[0].removeAttribute(ARIA_SELECTED);\n                    cell.removeClass(SELECTED);\n                }\n\n                cell = that._cellByDate(value, that.options.selectable == \"multiple\" ? CELLSELECTOR: \"td:not(.\" + OTHERMONTH + \")\");\n\n                that._selectedCell = cell;\n                cell.addClass(SELECTED)\n                    .attr(ARIA_SELECTED, true);\n        },\n\n        _setCurrent: function (date) {\n            var that = this,\n                id = kendo.guid(),\n                cell = that._cell,\n                value = that._view.toDateString(date);\n\n                if (cell && cell[0]) {\n                    cell.removeClass(FOCUSED);\n                    cell[0].removeAttribute(ARIA_LABEL);\n                    cell[0].removeAttribute(ID);\n                }\n\n                cell = that._cellByDate(value, that.options.selectable == \"multiple\" ? CELLSELECTOR: \"td:not(.\" + OTHERMONTH + \")\");\n\n                that._cell = cell;\n\n                cell.attr(ID, id)\n                    .addClass(FOCUSED);\n\n                if (that._table[0]) {\n                    that._table[0].removeAttribute(\"aria-activedescendant\");\n                    that._table.attr(\"aria-activedescendant\", id);\n                }\n        },\n\n        _bindTable: function (table) {\n            table\n            .on(FOCUS_WITH_NS, this._addClassProxy)\n            .on(BLUR, this._removeClassProxy);\n        },\n\n        _click: function(link) {\n            var that = this,\n            options = that.options,\n            currentValue = new Date(+that._current),\n            value = toDateObject(link);\n\n            adjustDST(value, 0);\n\n            if (that._view.name == \"month\" && that.options.disableDates(value)) {\n                value = that._value;\n            }\n\n            that._view.setDate(currentValue, value);\n\n            that.navigateDown(restrictValue(currentValue, options.min, options.max));\n        },\n\n        _focus: function(value) {\n            var that = this,\n            view = that._view;\n\n            if (view.compare(value, that._current) !== 0) {\n                that.navigate(value);\n            } else {\n                that._current = value;\n                that._setCurrent(value);\n            }\n        },\n\n        _focusView: function(active, table) {\n            if (active) {\n                this.focus(table);\n            }\n        },\n\n        _viewWrapper: function() {\n            var that = this;\n            var element = that.element;\n            var viewWrapper = element.children(\".k-calendar-view\");\n\n            if (!viewWrapper[0]) {\n                viewWrapper = $(\"<div class='k-calendar-view' />\").insertAfter(element.find(HEADERSELECTOR));\n            }\n        },\n\n        _footer: function(template) {\n            var that = this,\n            today = getToday(),\n            element = that.element,\n            footer = element.find(\".k-footer\");\n\n            if (!template) {\n                that._toggle(false);\n                footer.hide();\n                return;\n            }\n\n            if (!footer[0]) {\n                footer = $('<div class=\"k-footer\"><a href=\"#\" class=\"k-link k-nav-today\"></a></div>').appendTo(element);\n            }\n\n            that._today = footer.show()\n                .find(\".k-link\")\n                .html(template(today))\n                .attr(\"title\", kendo.toString(today, \"D\", that.options.culture));\n\n            that._toggle();\n        },\n\n        _header: function() {\n            var that = this,\n            element = that.element,\n            linksSelector = that.options.linksSelector;\n\n            if (!element.find(HEADERSELECTOR)[0]) {\n                element.html(kendo.template(that.options.header.template)($.extend(true,{}, that.options, {actionAttr: kendo.attr(\"action\"), size: kendo.getValidCssClass(\"k-button-\", \"size\", that.options.size)})));\n            }\n\n            element.find(linksSelector)\n                .on(CLICK + \" touchend\" + ns, function() { return false; } );\n\n            that._title = element.find('[' + kendo.attr(\"action\") + '=\"nav-up\"]').on(CLICK + \" touchend\" + ns, function () {\n                that._active = that.options.focusOnNav !== false;\n                that.navigateUp();\n            });\n            that[PREVARROW] = element.find('[' + kendo.attr(\"action\") + '=\"prev\"]').on(CLICK + \" touchend\" + ns, function () {\n                that._active = that.options.focusOnNav !== false;\n                that.navigateToPast();\n            });\n            that[NEXTARROW] = element.find('[' + kendo.attr(\"action\") + '=\"next\"]').on(CLICK + \" touchend\" + ns, function () {\n                that._active = that.options.focusOnNav !== false;\n                that.navigateToFuture();\n            });\n            element.find('[' + kendo.attr(\"action\") + '=\"today\"]').on(CLICK + \" touchend\" + ns, that._todayClick.bind(that));\n\n        },\n\n        _navigate: function(arrow, modifier) {\n            var that = this,\n            index = that._index + 1,\n            currentValue = new DATE(+that._current);\n\n            if (that._isMultipleSelection()) {\n                var firstDayCurrentMonth = that._table.find(\"td:not(.k-other-month):not(.k-out-of-range)\").has(\".k-link\").first();\n                currentValue = toDateObject(firstDayCurrentMonth.find(\"a\"));\n                that._current = new Date(+currentValue);\n            }\n\n            arrow = that[arrow];\n\n            if (!arrow.hasClass(DISABLED)) {\n                if (index > 3) {\n                    currentValue.setFullYear(currentValue.getFullYear() + 100 * modifier);\n                } else {\n                    calendar.views[index].setDate(currentValue, modifier);\n                }\n\n                that.navigate(currentValue);\n            }\n        },\n\n        _option: function(option, value) {\n            var that = this,\n                options = that.options,\n                currentValue = that._value || that._current,\n                isBigger;\n\n            if (value === undefined) {\n                return options[option];\n            }\n\n            value = parse(value, options.format, options.culture);\n\n            if (!value) {\n                return;\n            }\n\n            options[option] = new DATE(+value);\n\n            if (option === MIN) {\n                isBigger = value > currentValue;\n            } else {\n                isBigger = currentValue > value;\n            }\n\n            if (isBigger || isEqualMonth(currentValue, value)) {\n                if (isBigger) {\n                    that._value = null;\n                }\n                that._changeView = true;\n            }\n\n            if (!that._changeView) {\n                that._changeView = !!(options.month.content || options.month.empty);\n            }\n\n            that.navigate(that._value);\n\n            that._toggle();\n        },\n\n        _toggle: function(toggle) {\n            var that = this,\n                options = that.options,\n                isTodayDisabled = that.options.disableDates(getToday()),\n                link = that._today,\n                todayClass = that._todayClass();\n\n            if (toggle === undefined) {\n                toggle = isInRange(getToday(), options.min, options.max);\n            }\n\n            if (link) {\n                link.off(CLICK);\n\n                if (toggle && !isTodayDisabled) {\n                    link.addClass(todayClass)\n                    .removeClass(DISABLED)\n                    .on(CLICK, that._todayClick.bind(that));\n                } else {\n                    link.removeClass(todayClass)\n                    .addClass(DISABLED)\n                    .on(CLICK, prevent);\n                }\n            }\n        },\n\n        _todayClass: function() {\n            return TODAY;\n        },\n\n        _todayClick: function(e) {\n            var that = this,\n            depth = views[that.options.depth],\n            disabled = that.options.disableDates,\n            today = getToday();\n\n            e.preventDefault();\n\n            if (disabled(today)) {\n                return;\n            }\n\n            if (that._view.compare(that._current, today) === 0 && that._index == depth) {\n                that._changeView = false;\n            }\n\n            if (that._isMultipleSelection()) {\n                that._selectDates = [today];\n                that.selectable._lastActive = null;\n            }\n\n            that._value = today;\n            that.navigate(today, depth);\n\n            that.trigger(CHANGE);\n        },\n\n        _templates: function() {\n            var that = this,\n                options = that.options,\n                footer = options.footer,\n                month = options.month,\n                content = month.content,\n                weekNumber = month.weekNumber,\n                empty = month.empty,\n                footerTemplate = '#= kendo.toString(data,\"D\",\"' + options.culture +'\") #';\n\n            that.month = {\n                content: template('<td class=\"#=data.cssClass#\" role=\"gridcell\"><a tabindex=\"-1\" class=\"k-link#=data.linkClass#\" href=\"#=data.url#\" ' + kendo.attr(VALUE) + '=\"#=data.dateString#\" title=\"#=data.title#\">' + (content || \"#=data.value#\") + '</a></td>', { useWithBlock: !!content }),\n                empty: template('<td role=\"gridcell\">' + (empty || \"&nbsp;\") + \"</td>\", { useWithBlock: !!empty }),\n                weekNumber: template('<td class=\"k-alt\">' + (weekNumber || \"#= data.weekNumber #\") + \"</td>\", { useWithBlock: !!weekNumber })\n            };\n\n            if (footer && footer !== true) {\n                footerTemplate = footer;\n            }\n\n            that.footer = footer !== false ? template(footerTemplate, { useWithBlock: false }) : null;\n        },\n\n        _updateAria: function (ariaTemplate, date) {\n            var that = this;\n            var cell = that._cell;\n            var valueType = that.view().valueType();\n            var current = date || that.current();\n            var text;\n\n            if (valueType === \"month\") {\n                text = kendo.toString(current, \"MMMM\");\n            } else if (valueType === \"date\") {\n                text = kendo.toString(current, \"D\");\n            } else {\n                text = cell.text();\n            }\n\n            cell.attr(\"aria-label\", ariaTemplate({ current: current, valueType: valueType, text: text }));\n\n            return cell.attr(\"id\");\n        }\n    });\n\n    ui.plugin(Calendar);\n\n    var calendar = {\n        firstDayOfMonth: function (date) {\n            return createDate(\n                date.getFullYear(),\n                date.getMonth(),\n                1\n            );\n        },\n\n        firstVisibleDay: function (date, calendarInfo) {\n            calendarInfo = calendarInfo || kendo.culture().calendar;\n\n            var firstDay = calendarInfo.firstDay,\n            firstVisibleDay = new DATE(date.getFullYear(), date.getMonth(), 1, date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds());\n            firstVisibleDay.setFullYear(date.getFullYear());\n\n            while (firstVisibleDay.getDay() != firstDay) {\n                calendar.setTime(firstVisibleDay, -1 * MS_PER_DAY);\n            }\n\n            return firstVisibleDay;\n        },\n\n        setTime: function (date, time) {\n            var tzOffsetBefore = date.getTimezoneOffset(),\n            resultDATE = new DATE(date.getTime() + time),\n            tzOffsetDiff = resultDATE.getTimezoneOffset() - tzOffsetBefore;\n\n            date.setTime(resultDATE.getTime() + tzOffsetDiff * MS_PER_MINUTE);\n        },\n        views: [{\n            name: MONTH,\n            title: function(date, min, max, culture) {\n                return getCalendarInfo(culture).months.names[date.getMonth()] + \" \" + date.getFullYear();\n            },\n            content: function(options) {\n                var that = this,\n                    idx = 0,\n                    min = options.min,\n                    max = options.max,\n                    date = options.date,\n                    dates = options.dates,\n                    format = options.format,\n                    culture = options.culture,\n                    navigateUrl = options.url,\n                    showHeader = options.showHeader,\n                    otherMonth = options.otherMonth,\n                    isWeekColumnVisible = options.isWeekColumnVisible,\n                    hasUrl = navigateUrl && dates[0],\n                    currentCalendar = getCalendarInfo(culture),\n                    firstDayIdx = currentCalendar.firstDay,\n                    days = currentCalendar.days,\n                    names = shiftArray(days.names, firstDayIdx),\n                    shortNames = shiftArray(days.namesShort, firstDayIdx),\n                    start = calendar.firstVisibleDay(date, currentCalendar),\n                    firstDayOfMonth = that.first(date),\n                    lastDayOfMonth = that.last(date),\n                    toDateString = that.toDateString,\n                    today = getToday(),\n                    contentClasses = options.contentClasses,\n                    html = '<table tabindex=\"0\" role=\"grid\" class=\"' + contentClasses + '\" cellspacing=\"0\" data-start=\"' + toDateString(start) + '\">';\n\n                if (showHeader) {\n                    html += '<caption class=\"k-calendar-caption k-month-header\">' + this.title(date, min, max, culture) + '</caption>';\n                }\n\n                html += '<thead class=\"k-calendar-thead\"><tr role=\"row\" class=\"k-calendar-tr\">';\n\n                if (isWeekColumnVisible) {\n                    html += '<th scope=\"col\" class=\"k-calendar-th k-alt\">' + options.messages.weekColumnHeader + '</th>';\n                }\n\n                for (; idx < 7; idx++) {\n                    html += '<th scope=\"col\" class=\"k-calendar-th\" title=\"' + names[idx] + '\">' + shortNames[idx] + '</th>';\n                }\n\n                adjustDST(today, 0);\n                today = +today;\n\n                return view({\n                    cells: 42,\n                    perRow: 7,\n                    html: html += '</tr></thead><tbody class=\"k-calendar-tbody\"><tr role=\"row\" class=\"k-calendar-tr\">',\n                    start: start,\n                    isWeekColumnVisible: isWeekColumnVisible,\n                    weekNumber: options.weekNumber,\n                    min: createDate(min.getFullYear(), min.getMonth(), min.getDate()),\n                    max: createDate(max.getFullYear(), max.getMonth(), max.getDate()),\n                    otherMonth : otherMonth,\n                    content: options.content,\n                    lastDayOfMonth : lastDayOfMonth,\n                    empty: options.empty,\n                    setter: that.setDate,\n                    disableDates: options.disableDates,\n                    build: function(date, idx, disableDates) {\n                        var cssClass = [ \"k-calendar-td\" ],\n                            day = date.getDay(),\n                            linkClass = \"\",\n                            url = \"#\";\n\n                        if (date < firstDayOfMonth || date > lastDayOfMonth) {\n                            cssClass.push(OTHERMONTH);\n                        }\n\n                        if (disableDates(date)) {\n                            cssClass.push(DISABLED);\n                        }\n\n                        if (+date === today) {\n                            cssClass.push(\"k-today\");\n                        }\n\n                        if (day === 0 || day === 6) {\n                            cssClass.push(\"k-weekend\");\n                        }\n\n                        if (hasUrl && inArray(+date, dates)) {\n                            url = navigateUrl.replace(\"{0}\", kendo.toString(date, format, culture));\n                            linkClass = \" k-action-link\";\n                        }\n\n                        return {\n                            date: date,\n                            dates: dates,\n                            ns: kendo.ns,\n                            title: kendo.toString(date, \"D\", culture),\n                            value: date.getDate(),\n                            dateString: toDateString(date),\n                            cssClass: cssClass.join(\" \"),\n                            linkClass: linkClass,\n                            url: url\n                        };\n                    },\n                    weekNumberBuild: function(date) {\n                        return {\n                            weekNumber: weekInYear(date, kendo.culture().calendar.firstDay),\n                            currentDate: date\n                        };\n                    }\n                });\n            },\n            first: function(date) {\n                return calendar.firstDayOfMonth(date);\n            },\n            last: function(date) {\n                var last = createDate(date.getFullYear(), date.getMonth() + 1, 0),\n                first = calendar.firstDayOfMonth(date),\n                timeOffset = Math.abs(last.getTimezoneOffset() - first.getTimezoneOffset());\n\n                if (timeOffset) {\n                    last.setHours(first.getHours() + (timeOffset / 60));\n                }\n\n                return last;\n            },\n            compare: function(date1, date2) {\n                var result,\n                month1 = date1.getMonth(),\n                year1 = date1.getFullYear(),\n                month2 = date2.getMonth(),\n                year2 = date2.getFullYear();\n\n                if (year1 > year2) {\n                    result = 1;\n                } else if (year1 < year2) {\n                    result = -1;\n                } else {\n                    result = month1 == month2 ? 0 : month1 > month2 ? 1 : -1;\n                }\n\n                return result;\n            },\n            setDate: function(date, value) {\n                var hours = date.getHours();\n                if (value instanceof DATE) {\n                    date.setFullYear(value.getFullYear(), value.getMonth(), value.getDate());\n                } else {\n                    calendar.setTime(date, value * MS_PER_DAY);\n                }\n                adjustDST(date, hours);\n            },\n            toDateString: function(date) {\n                return date.getFullYear() + \"/\" + date.getMonth() + \"/\" + date.getDate();\n            },\n            valueType: function () {\n                return \"date\";\n            }\n        },\n        {\n            name: \"year\",\n            title: function(date) {\n                return date.getFullYear();\n            },\n            content: function(options) {\n                var namesAbbr = getCalendarInfo(options.culture).months.namesAbbr,\n                toDateString = this.toDateString,\n                min = options.min,\n                max = options.max,\n                html = \"\";\n\n                if (options.showHeader) {\n                    html += '<table tabindex=\"0\" role=\"grid\" class=\"k-calendar-table k-content k-meta-view\" cellspacing=\"0\">';\n                        html += '<caption class=\"k-calendar-caption k-meta-header\">';\n                            html += this.title(options.date);\n                        html += '</caption>';\n                        html += '<tbody class=\"k-calendar-tbody\">';\n                            html += '<tr role=\"row\" class=\"k-calendar-tr\">';\n                }\n\n                return view({\n                    min: createDate(min.getFullYear(), min.getMonth(), 1),\n                    max: createDate(max.getFullYear(), max.getMonth(), 1),\n                    start: createDate(options.date.getFullYear(), 0, 1),\n                    html: html,\n                    setter: this.setDate,\n                    build: function(date) {\n                        var cssClass = [ \"k-calendar-td\" ];\n\n                        return {\n                            value: namesAbbr[date.getMonth()],\n                            ns: kendo.ns,\n                            dateString: toDateString(date),\n                            cssClass: cssClass.join(\" \")\n                        };\n                    }\n                });\n            },\n            first: function(date) {\n                return createDate(date.getFullYear(), 0, date.getDate());\n            },\n            last: function(date) {\n                return createDate(date.getFullYear(), 11, date.getDate());\n            },\n            compare: function(date1, date2){\n                return compare(date1, date2);\n            },\n            setDate: function(date, value) {\n                var month,\n                hours = date.getHours();\n\n                if (value instanceof DATE) {\n                    month = value.getMonth();\n\n                    date.setFullYear(value.getFullYear(), month, date.getDate());\n\n                    if (month !== date.getMonth()) {\n                        date.setDate(0);\n                    }\n                } else {\n                    month = date.getMonth() + value;\n\n                    date.setMonth(month);\n\n                    if (month > 11) {\n                        month -= 12;\n                    }\n\n                    if (month > 0 && date.getMonth() != month) {\n                        date.setDate(0);\n                    }\n                }\n\n                adjustDST(date, hours);\n            },\n            toDateString: function(date) {\n                return date.getFullYear() + \"/\" + date.getMonth() + \"/1\";\n            },\n            valueType: function () {\n                return \"month\";\n            }\n        },\n        {\n            name: \"decade\",\n            title: function(date, min, max) {\n                return title(date, min, max, 10);\n            },\n            content: function(options) {\n                var year = options.date.getFullYear(),\n                toDateString = this.toDateString,\n                html = \"\";\n\n                if (options.showHeader) {\n                    html += '<table tabindex=\"0\" role=\"grid\" class=\"k-calendar-table k-content k-meta-view\" cellspacing=\"0\">';\n                        html += '<caption class=\"k-meta-header\">';\n                            html += this.title(options.date, options.min, options.max);\n                        html += '</caption>';\n                        html += '<tbody class=\"k-calendar-thead\">';\n                            html += '<tr role=\"row\" class=\"k-calendar-tr\">';\n                }\n\n                return view({\n                    start: createDate(year - year % 10 - 1, 0, 1),\n                    min: createDate(options.min.getFullYear(), 0, 1),\n                    max: createDate(options.max.getFullYear(), 0, 1),\n                    otherMonth : options.otherMonth,\n                    html : html,\n                    setter: this.setDate,\n                    build: function(date, idx) {\n                        var cssClass = [ \"k-calendar-td\" ];\n\n                        if (idx === 0 || idx === 11) {\n                            cssClass.push(OTHERMONTH);\n                        }\n\n                        return {\n                            value: date.getFullYear(),\n                            ns: kendo.ns,\n                            dateString: toDateString(date),\n                            cssClass: cssClass.join(\" \")\n                        };\n                    }\n                });\n            },\n            first: function(date) {\n                var year = date.getFullYear();\n                return createDate(year - year % 10, date.getMonth(), date.getDate());\n            },\n            last: function(date) {\n                var year = date.getFullYear();\n                return createDate(year - year % 10 + 9, date.getMonth(), date.getDate());\n            },\n            compare: function(date1, date2) {\n                return compare(date1, date2, 10);\n            },\n            setDate: function(date, value) {\n                setDate(date, value, 1);\n            },\n            toDateString: function(date) {\n                return date.getFullYear() + \"/0/1\";\n            },\n            valueType: function () {\n                return \"year\";\n            }\n        },\n        {\n            name: CENTURY,\n            title: function(date, min, max) {\n                return title(date, min, max, 100);\n            },\n            content: function(options) {\n                var year = options.date.getFullYear(),\n                min = options.min.getFullYear(),\n                max = options.max.getFullYear(),\n                toDateString = this.toDateString,\n                minYear = min,\n                maxYear = max,\n                html = \"\";\n\n                minYear = minYear - minYear % 10;\n                maxYear = maxYear - maxYear % 10;\n\n                if (maxYear - minYear < 10) {\n                    maxYear = minYear + 9;\n                }\n\n                if (options.showHeader) {\n                    html += '<table tabindex=\"0\" role=\"grid\" class=\"k-calendar-table k-content k-meta-view\" cellspacing=\"0\">';\n                        html += '<caption class=\"k-calendar-caption k-meta-header\">';\n                            html += this.title(options.date, options.min, options.max);\n                        html += '</caption>';\n                        html += '<tbody class=\"k-calendar-tbody\">';\n                            html += '<tr role=\"row\" class=\"k-calendar-tr\">';\n                }\n\n                return view({\n                    start: createDate(year - year % 100 - 10, 0, 1),\n                    min: createDate(minYear, 0, 1),\n                    max: createDate(maxYear, 0, 1),\n                    otherMonth : options.otherMonth,\n                    html : html,\n                    setter: this.setDate,\n                    build: function(date, idx) {\n                        var cssClass = [ \"k-calendar-td\" ];\n                        var start = date.getFullYear(),\n                            end = start + 9;\n\n                        if (idx === 0 || idx === 11) {\n                            cssClass.push(OTHERMONTH);\n                        }\n\n                        if (start < min) {\n                            start = min;\n                        }\n\n                        if (end > max) {\n                            end = max;\n                        }\n\n                        return {\n                            ns: kendo.ns,\n                            value: start + \" - \" + end,\n                            dateString: toDateString(date),\n                            cssClass: cssClass.join(\" \")\n                        };\n                    }\n                });\n            },\n            first: function(date) {\n                var year = date.getFullYear();\n                return createDate(year - year % 100, date.getMonth(), date.getDate());\n            },\n            last: function(date) {\n                var year = date.getFullYear();\n                return createDate(year - year % 100 + 99, date.getMonth(), date.getDate());\n            },\n            compare: function(date1, date2) {\n                return compare(date1, date2, 100);\n            },\n            setDate: function(date, value) {\n                setDate(date, value, 10);\n            },\n            toDateString: function(date) {\n                var year = date.getFullYear();\n                return (year - year % 10) + \"/0/1\";\n            },\n            valueType: function () {\n                return \"decade\";\n            }\n        }]\n    };\n\n    function title(date, min, max, modular) {\n        var start = date.getFullYear(),\n            minYear = min.getFullYear(),\n            maxYear = max.getFullYear(),\n            end;\n\n        start = start - start % modular;\n        end = start + (modular - 1);\n\n        if (start < minYear) {\n            start = minYear;\n        }\n        if (end > maxYear) {\n            end = maxYear;\n        }\n\n        return start + \"-\" + end;\n    }\n\n    function view(options) {\n        var idx = 0,\n            data,\n            min = options.min,\n            max = options.max,\n            start = options.start,\n            setter = options.setter,\n            build = options.build,\n            weekNumberBuild = options.weekNumberBuild,\n            length = options.cells || 12,\n            isWeekColumnVisible = options.isWeekColumnVisible,\n            cellsPerRow = options.perRow || 4,\n            otherMonth = options.otherMonth,\n            lastDayOfMonth = options.lastDayOfMonth,\n            weekNumber = options.weekNumber || weekNumberTemplate,\n            content = options.content || cellTemplate,\n            empty = options.empty || emptyCellTemplate,\n            otherMonthTemplate = options.otherMonthCellTemplate || otherMonthCellTemplate,\n            html = options.html || '<table tabindex=\"0\" role=\"grid\" class=\"k-calendar-table k-content k-meta-view\" cellspacing=\"0\"><tbody class=\"k-calendar-tbody\"><tr role=\"row\" class=\"k-calendar-tr\">';\n\n        if (isWeekColumnVisible) {\n            html += weekNumber(weekNumberBuild(start));\n        }\n\n\n        for (; idx < length; idx++) {\n            if (idx > 0 && idx % cellsPerRow === 0) {\n                html += '</tr><tr role=\"row\" class=\"k-calendar-tr\">';\n                if (isWeekColumnVisible) {\n                    html += otherMonth || (+start <= +lastDayOfMonth) ? weekNumber(weekNumberBuild(start)) : weekNumber({ weekNumber : \"&nbsp;\"});\n                }\n            }\n\n            start = createDate(start.getFullYear(), start.getMonth(), start.getDate());\n            adjustDST(start, 0);\n\n            data = build(start, idx, options.disableDates);\n\n            html += (data.cssClass.indexOf(OTHERMONTH) !== -1 && !otherMonth) ? otherMonthTemplate(data) : isInRange(start, min, max) ? content(data) : empty(data);\n\n            setter(start, 1);\n        }\n\n        return html + \"</tr></tbody></table>\";\n    }\n\n    function compare(date1, date2, modifier) {\n        var year1 = date1.getFullYear(),\n            start  = date2.getFullYear(),\n            end = start,\n            result = 0;\n\n        if (modifier) {\n            start = start - start % modifier;\n            end = start - start % modifier + modifier - 1;\n        }\n\n        if (year1 > end) {\n            result = 1;\n        } else if (year1 < start) {\n            result = -1;\n        }\n\n        return result;\n    }\n\n    function getToday() {\n        var today = new DATE();\n        return new DATE(today.getFullYear(), today.getMonth(), today.getDate());\n    }\n\n    function restrictValue (value, min, max) {\n        var today = getToday();\n\n        if (value) {\n            today = new DATE(+value);\n        }\n\n        if (min > today) {\n            today = new DATE(+min);\n        } else if (max < today) {\n            today = new DATE(+max);\n        }\n        return today;\n    }\n\n    function isInRange(date, min, max) {\n        return +date >= +min && +date <= +max;\n    }\n\n    function shiftArray(array, idx) {\n        return array.slice(idx).concat(array.slice(0, idx));\n    }\n\n    function setDate(date, value, multiplier) {\n        value = value instanceof DATE ? value.getFullYear() : date.getFullYear() + multiplier * value;\n        date.setFullYear(value);\n    }\n\n    function daysBetweenTwoDates(startDate, endDate) {\n        if (+endDate < +startDate) {\n            var temp = +startDate;\n            calendar.views[0].setDate(startDate, endDate);\n            calendar.views[0].setDate(endDate, new Date(temp));\n        }\n        var fromDateUTC = Date.UTC(startDate.getFullYear(), startDate.getMonth(), startDate.getDate());\n        var endDateUTC = Date.UTC(endDate.getFullYear(), endDate.getMonth(), endDate.getDate());\n\n        return Math.ceil((+endDateUTC - +fromDateUTC) / kendo.date.MS_PER_DAY);\n    }\n\n    function addDaysToArray(array, numberOfDays, fromDate, disableDates) {\n        for (var i = 0; i <= numberOfDays; i++) {\n            var nextDay = new Date(fromDate.getTime());\n            nextDay = new Date(nextDay.setDate(nextDay.getDate() + i));\n            if (!disableDates(nextDay)) {\n                array.push(nextDay);\n            }\n        }\n    }\n\n    function mousetoggle(e) {\n        var disabled = $(this).hasClass(\"k-state-disabled\");\n\n        if (!disabled) {\n            $(this).toggleClass(HOVER, MOUSEENTER.indexOf(e.type) > -1 || e.type == FOCUS);\n        }\n    }\n\n    function prevent (e) {\n        e.preventDefault();\n    }\n\n    // creates date with full year\n    function createDate(year, month, date) {\n        var dateObject = new DATE(year, month, date);\n        dateObject.setFullYear(year, month, date);\n        return dateObject;\n    }\n\n    function getCalendarInfo(culture) {\n        return getCulture(culture).calendars.standard;\n    }\n\n    function normalize(options) {\n        var start = views[options.start],\n            depth = views[options.depth],\n            culture = getCulture(options.culture);\n\n        options.format = extractFormat(options.format || culture.calendars.standard.patterns.d);\n\n        if (isNaN(start)) {\n            start = 0;\n            options.start = MONTH;\n        }\n\n        if (depth === undefined || depth > start) {\n            options.depth = MONTH;\n        }\n\n        if (options.dates === null) {\n            options.dates = [];\n        }\n    }\n\n    function addClassToViewContainer(element, currentView) {\n        element.addClass(\"k-\" + currentView);\n    }\n\n    function inArray(date, dates) {\n        for (var i = 0, length = dates.length; i < length; i++) {\n            if (date === +dates[i]) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    function isEqualDatePart(value1, value2) {\n        if (value1) {\n            return value1.getFullYear() === value2.getFullYear() &&\n                value1.getMonth() === value2.getMonth() &&\n                value1.getDate() === value2.getDate();\n        }\n\n        return false;\n    }\n\n    function isEqualMonth(value1, value2) {\n        if (value1) {\n            return value1.getFullYear() === value2.getFullYear() &&\n                value1.getMonth() === value2.getMonth();\n        }\n\n        return false;\n    }\n\n\n    function getDisabledExpr(option) {\n        if (kendo.isFunction(option)) {\n            return option;\n        }\n\n        if (Array.isArray(option)) {\n            return createDisabledExpr(option);\n        }\n        return $.noop;\n    }\n\n    function convertDatesArray(dates) {\n        var result = [];\n        for (var i = 0; i < dates.length; i++) {\n            result.push(dates[i].setHours(0, 0, 0, 0));\n        }\n        return result;\n    }\n\n    function createDisabledExpr(dates) {\n        var body, callback,\n            disabledDates = [],\n            days = [\"su\", \"mo\", \"tu\", \"we\", \"th\", \"fr\", \"sa\"],\n            searchExpression = \"if (found) {\"+\n                    \" return true \" +\n                \"} else {\" +\n                    \"return false\" +\n                \"}\";\n\n        if (dates[0] instanceof DATE) {\n            disabledDates = convertDatesArray(dates);\n            body = \"var clonedDate = new Date(date); var found = date && window.kendo.jQuery.inArray(clonedDate.setHours(0, 0, 0, 0),[\"+ disabledDates +\"]) > -1;\" + searchExpression;\n        } else {\n            for (var i = 0; i < dates.length; i++) {\n                var day = dates[i].slice(0,2).toLowerCase();\n                var index = $.inArray(day, days);\n                if (index > -1) {\n                    disabledDates.push(index);\n                }\n            }\n            body = \"var clonedDate = new Date(date); var found = date && window.kendo.jQuery.inArray(clonedDate.getDay(),[\"+ disabledDates +\"]) > -1;\" + searchExpression;\n        }\n\n        callback = new Function(\"date\", body); //jshint ignore:line\n\n        return callback;\n    }\n\n    function isEqualDate(oldValue, newValue) {\n       if (oldValue instanceof Date && newValue instanceof Date) {\n           oldValue = oldValue.getTime();\n           newValue = newValue.getTime();\n       }\n\n       return oldValue === newValue;\n    }\n\n    function toDateObject(link) {\n        var value = $(link).attr(kendo.attr(VALUE)).split(\"/\");\n        //Safari cannot create correctly date from \"1/1/2090\"\n        value = createDate(value[0], value[1], value[2]);\n\n        return value;\n    }\n\n    calendar.isEqualDatePart = isEqualDatePart;\n    calendar.isEqualDate = isEqualDate;\n    calendar.restrictValue = restrictValue;\n    calendar.isInRange = isInRange;\n    calendar.addClassToViewContainer = addClassToViewContainer;\n    calendar.normalize = normalize;\n    calendar.viewsEnum = views;\n    calendar.disabled = getDisabledExpr;\n    calendar.toDateObject = toDateObject;\n    calendar.getToday = getToday;\n    calendar.createDate = createDate;\n\n    kendo.calendar = calendar;\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.dateinput',[ \"kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"dateinput\",\n    name: \"DateInput\",\n    category: \"web\",\n    description: \"The DateInput widget allows to edit date by typing.\",\n    depends: [ \"core\" ]\n};\n\n(function ($, undefined) {\n    var global = window;\n    var kendo = global.kendo;\n    var caret = kendo.caret;\n    var ui = kendo.ui;\n    var Widget = ui.Widget;\n    var keys = kendo.keys;\n    var ns = \".kendoDateInput\";\n    var objectToString = {}.toString;\n\n    var INPUT_EVENT_NAME = (kendo.support.propertyChangeEvent ? \"propertychange.kendoDateInput input\" : \"input\") + ns;\n\n    var FOCUSED = \"k-focus\";\n    var STATEDISABLED = \"k-disabled\";\n    var STATEINVALID = \"k-invalid\";\n\n    var DISABLED = \"disabled\";\n    var READONLY = \"readonly\";\n    var CHANGE = \"change\";\n\n    var knownSymbols = \"dMyHhmftsz\";\n\n    var DateInput = Widget.extend({\n        init: function (element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            element = that.element;\n\n            options = that.options;\n            options.format = kendo._extractFormat(options.format || kendo.getCulture(options.culture).calendars.standard.patterns.d);\n            options.min = kendo.parseDate(element.attr(\"min\")) || kendo.parseDate(options.min);\n            options.max = kendo.parseDate(element.attr(\"max\")) || kendo.parseDate(options.max);\n\n            var wrapperClass = (element.parent().attr(\"class\") || \"\");\n            var skipWrapping = wrapperClass.indexOf(\"picker\") >= 0 && wrapperClass.indexOf(\"rangepicker\") < 0;\n\n            if (skipWrapping) {\n                that.wrapper = element.parent();\n            } else {\n                that.wrapper = element.wrap(\"<span class='k-dateinput k-input'></span>\").parent();\n                that.wrapper.addClass(element[0].className).removeClass('input-validation-error');\n                that.wrapper[0].style.cssText = element[0].style.cssText;\n                element.css({\n                    height: element[0].style.height\n                });\n            }\n\n            that._validationIcon = $(\"<span class='k-input-validation-icon k-icon k-i-warning k-hidden'></span>\").insertAfter(element);\n\n            that._form();\n\n            that.element\n                .addClass(skipWrapping ? \" \" : \"k-input-inner\")\n                .attr(\"autocomplete\", \"off\")\n                .on(\"focus\" + ns, function() {\n                    that.wrapper.addClass(FOCUSED);\n                })\n                .on(\"focusout\" + ns, function () {\n                    that.wrapper.removeClass(FOCUSED);\n                    that._change();\n                });\n\n            try {\n                element[0].setAttribute(\"type\", \"text\");\n            } catch (e) {\n                element[0].type = \"text\";\n            }\n\n            var disabled = element.is(\"[disabled]\") || $(that.element).parents(\"fieldset\").is(':disabled');\n\n            if (disabled) {\n                that.enable(false);\n            } else {\n                that.readonly(element.is(\"[readonly]\"));\n            }\n\n            that.value(that.options.value || element.val());\n            that._applyCssClasses();\n\n            kendo.notify(that);\n        },\n\n        options: {\n            name: \"DateInput\",\n            culture: \"\",\n            value: \"\",\n            format: \"\",\n            min: new Date(1900, 0, 1),\n            max: new Date(2099, 11, 31),\n            messages: {\n                \"year\": \"year\",\n                \"month\": \"month\",\n                \"day\": \"day\",\n                \"weekday\": \"day of the week\",\n                \"hour\": \"hours\",\n                \"minute\": \"minutes\",\n                \"second\": \"seconds\",\n                \"dayperiod\": \"AM/PM\"\n            },\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        events: [\n            CHANGE\n        ],\n\n        min: function (value) {\n            if (value !== undefined) {\n                this.options.min = value;\n            } else {\n                return this.options.min;\n            }\n        },\n\n        max: function (value) {\n            if (value !== undefined) {\n                this.options.max = value;\n            } else {\n                return this.options.max;\n            }\n        },\n\n        setOptions: function (options) {\n            var that = this;\n            Widget.fn.setOptions.call(that, options);\n            this._unbindInput();\n            this._bindInput();\n            this._updateElementValue();\n        },\n\n        destroy: function () {\n            var that = this;\n            that.element.off(ns);\n\n            if (that._formElement) {\n                that._formElement.off(\"reset\", that._resetHandler);\n            }\n\n            Widget.fn.destroy.call(that);\n        },\n\n        value: function (value) {\n            if (value === undefined) {\n                return this._dateTime.getDateObject();\n            }\n\n            if (value === null) {\n                value = \"\";\n            }\n\n            if (objectToString.call(value) !== \"[object Date]\") {\n                value = kendo.parseDate(value, this.options.format, this.options.culture);\n            }\n\n            if (value && !value.getTime()) {\n                value = null;\n            }\n\n            this._dateTime = new customDateTime(value, this.options.format, this.options.culture, this.options.messages);\n\n            this._updateElementValue();\n            this._oldValue = value;\n        },\n\n        _updateElementValue: function () {\n            var stringAndFromat = this._dateTime.toPair(this.options.format, this.options.culture, this.options.messages);\n            this.element.val(stringAndFromat[0]);\n            this._oldText = stringAndFromat[0];\n            this._format = stringAndFromat[1];\n        },\n\n        readonly: function (readonly) {\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n        },\n\n        enable: function (enable) {\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n        },\n\n        _bindInput: function () {\n            var that = this;\n            that.element\n                .on(\"focus\" + ns, function() {\n                    that.wrapper.addClass(FOCUSED);\n                })\n                .on(\"focusout\" + ns, function () {\n                    that.wrapper.removeClass(FOCUSED);\n                    that._change();\n                })\n                .on(\"paste\" + ns, that._paste.bind(that))\n                .on(\"keydown\" + ns, that._keydown.bind(that))\n                .on(INPUT_EVENT_NAME, that._input.bind(that))\n                .on(\"mouseup\" + ns, that._mouseUp.bind(that))\n                .on(\"DOMMouseScroll\" + ns + \" mousewheel\" + ns, that._scroll.bind(that));\n        },\n\n        _unbindInput: function () {\n            this.element\n                .off(\"keydown\" + ns)\n                .off(\"paste\" + ns)\n                .off(\"focus\" + ns)\n                .off(\"focusout\" + ns)\n                .off(INPUT_EVENT_NAME)\n                .off(\"mouseup\" + ns)\n                .off(\"DOMMouseScroll\" + ns + \" mousewheel\" + ns);\n        },\n\n        _editable: function (options) {\n            var that = this;\n            var element = that.element;\n            var disable = options.disable;\n            var readonly = options.readonly;\n            var wrapper = that.wrapper;\n\n            that._unbindInput();\n\n            if (!readonly && !disable) {\n                wrapper.removeClass(STATEDISABLED);\n                if(element && element.length) {\n                    element[0].removeAttribute(DISABLED);\n                    element[0].removeAttribute(READONLY);\n                }\n\n                that._bindInput();\n            } else {\n                if (disable) {\n                    wrapper.addClass(STATEDISABLED);\n                    element.attr(DISABLED, disable);\n                    if(element && element.length) {\n                        element[0].removeAttribute(READONLY);\n                    }\n                }\n                if (readonly) {\n                    element.attr(READONLY, readonly);\n                }\n            }\n        },\n\n        _change: function () {\n            var that = this;\n            var oldValue = that._oldValue;\n            var value = that.value();\n\n            if (value && that.min() && value < that.min()) {\n                that.value(that.min());\n                value = that.value();\n            }\n            if (value && that.max() && value > that.max()) {\n                that.value(that.max());\n                value = that.value();\n            }\n\n            if (oldValue && value && value.getTime() !== oldValue.getTime() ||\n                oldValue && !value ||\n                !oldValue && value\n            ) {\n                that._oldValue = value;\n                that.trigger(CHANGE);\n                that.element.trigger(CHANGE);\n            }\n        },\n\n        _input: function () {\n            var that = this;\n            var element = that.element[0];\n            var blinkInvalid = false;\n\n            if (kendo._activeElement() !== element) {\n                return;\n            }\n\n            var diff = approximateStringMatching(\n                this._oldText,\n                this._format,\n                this.element[0].value,\n                caret(this.element[0])[0]);\n\n            var navigationOnly = (diff.length === 1 && diff[0][1] === \" \");\n            if (!navigationOnly) {\n                for (var i = 0; i < diff.length; i++) {\n                    var valid = this._dateTime.parsePart(diff[i][0], diff[i][1]);\n                    blinkInvalid = blinkInvalid || !valid;\n                }\n            }\n            this._updateElementValue();\n\n            if (diff.length && diff[0][0] !== \" \") {\n                this._selectSegment(diff[0][0]);\n\n                //android fix\n                if (!navigationOnly) {\n                    var difSym = diff[0][0];\n                    setTimeout(function () { that._selectSegment(difSym); });\n                }\n            }\n            if (navigationOnly) {\n                var newEvent = { keyCode: 39, preventDefault: function () { } };\n                this._keydown(newEvent);\n            }\n            if (blinkInvalid) {\n                that._blinkInvalidState();\n            }\n        },\n\n        _blinkInvalidState: function () {\n            var that = this;\n\n            that._addInvalidState();\n            clearTimeout(that._invalidStateTimeout);\n            that._invalidStateTimeout = setTimeout(that._removeInvalidState.bind(that), 100);\n        },\n\n        _addInvalidState: function() {\n            var that = this;\n\n            that.wrapper.addClass(STATEINVALID);\n            that._validationIcon.removeClass(\"k-hidden\");\n        },\n\n        _removeInvalidState: function () {\n            var that = this;\n\n            that.wrapper.removeClass(STATEINVALID);\n            that._validationIcon.addClass(\"k-hidden\");\n            that._invalidStateTimeout = null;\n        },\n\n        _mouseUp: function () {\n            var selection = caret(this.element[0]);\n            if (selection[0] === selection[1]) {\n                this._selectNearestSegment();\n            }\n        },\n\n        _scroll: function (e) {\n            if (kendo._activeElement() !== this.element[0] || this.element.is(\"[readonly]\")) {\n                return;\n            }\n            e = window.event || e;\n\n            var newEvent = { keyCode: 37, preventDefault: function () { } };\n\n            if (e.shiftKey) {\n                newEvent.keyCode = (e.wheelDelta || -e.detail) > 0 ? 37 : 39;\n            } else {\n                newEvent.keyCode = (e.wheelDelta || -e.detail) > 0 ? 38 : 40;\n            }\n            this._keydown(newEvent);\n            e.returnValue = false;\n            if (e.preventDefault) {\n                e.preventDefault();\n            }\n            if (e.stopPropagation) {\n                e.stopPropagation();\n            }\n        },\n\n        _form: function () {\n            var that = this;\n            var element = that.element;\n            var formId = element.attr(\"form\");\n            var form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n            var initialValue = element[0].value;\n\n            if (!initialValue && that.options.value) {\n                initialValue = that.options.value;\n            }\n\n            if (form[0]) {\n                that._resetHandler = function () {\n                    setTimeout(function () {\n                        that.value(initialValue);\n                    });\n                };\n\n                that._formElement = form.on(\"reset\", that._resetHandler);\n            }\n        },\n\n        _paste: function (e) {\n            e.preventDefault();\n        },\n\n        _keydown: function (e) {\n            var key = e.keyCode;\n            var selection;\n            if (key == 37 || key == 39) { //left/right\n                e.preventDefault();\n                selection = caret(this.element[0]);\n                if (selection[0] != selection[1]) {\n                    this._selectNearestSegment();\n                }\n                var dir = (key == 37) ? -1 : 1;\n                var index = (dir == -1) ? caret(this.element[0])[0] - 1 : caret(this.element[0])[1] + 1;\n                while (index >= 0 && index < this._format.length) {\n                    if (knownSymbols.indexOf(this._format[index]) >= 0) {\n                        this._selectSegment(this._format[index]);\n                        break;\n                    }\n                    index += dir;\n                }\n            }\n            if (key == 38 || key == 40) { //up/down\n                e.preventDefault();\n                selection = caret(this.element[0]);\n                var symbol = this._format[selection[0]];\n                if (knownSymbols.indexOf(symbol) >= 0) {\n                    var interval = 1;\n                    if (symbol == 'm') {\n                        interval = this.options.interval || 1;\n                    }\n                    this._dateTime.modifyPart(symbol, key == 38 ? interval * 1 : interval * -1);\n                    this._updateElementValue();\n                    this._selectSegment(symbol);\n                    this.element.trigger(CHANGE);\n                }\n            }\n            if (kendo.support.browser.msie && kendo.support.browser.version < 10) {\n                var keycode = e.keyCode ? e.keyCode : e.which;\n                if (keycode === 8 || keycode === 46) {\n                    var that = this;\n                    setTimeout(function () {\n                        that._input();\n                    }, 0);\n                }\n            }\n            if (key === keys.ENTER){\n                this._change();\n            }\n        },\n\n        _selectNearestSegment: function () {\n            var selection = caret(this.element[0]);\n            var start = selection[0];\n            for (var i = start, j = start - 1; i < this._format.length || j >= 0; i++ , j--) {\n                if (i < this._format.length && knownSymbols.indexOf(this._format[i]) !== -1) {\n                    this._selectSegment(this._format[i]);\n                    return;\n                }\n                if (j >= 0 && knownSymbols.indexOf(this._format[j]) !== -1) {\n                    this._selectSegment(this._format[j]);\n                    return;\n                }\n            }\n        },\n\n        _selectSegment: function (symbol) {\n            var begin = -1, end = 0;\n            for (var i = 0; i < this._format.length; i++) {\n                if (this._format[i] === symbol) {\n                    end = i + 1;\n                    if (begin === -1) {\n                        begin = i;\n                    }\n                }\n            }\n            if (begin < 0) {\n                begin = 0;\n            }\n            caret(this.element, begin, end);\n        }\n\n    });\n\n    kendo.cssProperties.registerPrefix(\"DateInput\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"DateInput\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    ui.plugin(DateInput);\n\n    var customDateTime = function (initDate, initFormat, initCulture, initMessages) {\n\n        var value = null;\n        var year = true, month = true, date = true, hours = true, minutes = true, seconds = true, milliseconds = true;\n        var typedMonthPart = \"\";\n        var typedDayPeriodPart = \"\";\n        var placeholders = {};\n\n        //TODO: rewrite pad method\n        var zeros = [\"\", \"0\", \"00\", \"000\", \"0000\"];\n        function pad(number, digits, end) {\n            number = number + \"\";\n            digits = digits || 2;\n            end = digits - number.length;\n\n            if (end) {\n                return zeros[digits].substring(0, end) + number;\n            }\n\n            return number;\n        }\n        var dateFormatRegExp = /dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|\"[^\"]*\"|'[^']*'/g;\n        var months = null, calendar = null, days = null, returnsFormat = false;\n        var matcher = function (match) {\n            var mins, sign;\n            var result;\n\n            switch (match) {\n                case (\"d\"): result = date ? value.getDate() : placeholders.day; break;\n                case (\"dd\"): result = date ? pad(value.getDate()) : placeholders.day; break;\n                case (\"ddd\"): result = date && month && year ? days.namesAbbr[value.getDay()] : placeholders.weekday; break;\n                case (\"dddd\"): result = date && month && year ? days.names[value.getDay()] : placeholders.weekday; break;\n\n                case (\"M\"): result = month ? value.getMonth() + 1 : placeholders.month; break;\n                case (\"MM\"): result = month ? pad(value.getMonth() + 1) : placeholders.month; break;\n                case (\"MMM\"): result = month ? months.namesAbbr[value.getMonth()] : placeholders.month; break;\n                case (\"MMMM\"): result = month ? months.names[value.getMonth()] : placeholders.month; break;\n\n                case (\"yy\"): result = year ? pad(value.getFullYear() % 100) : placeholders.year; break;\n                case (\"yyyy\"): result = year ? pad(value.getFullYear(), 4) : placeholders.year; break;\n\n                case (\"h\"): result = hours ? value.getHours() % 12 || 12 : placeholders.hour; break;\n                case (\"hh\"): result = hours ? pad(value.getHours() % 12 || 12) : placeholders.hour; break;\n                case (\"H\"): result = hours ? value.getHours() : placeholders.hour; break;\n                case (\"HH\"): result = hours ? pad(value.getHours()) : placeholders.hour; break;\n\n                case (\"m\"): result = minutes ? value.getMinutes() : placeholders.minute; break;\n                case (\"mm\"): result = minutes ? pad(value.getMinutes()) : placeholders.minute; break;\n                case (\"s\"): result = seconds ? value.getSeconds() : placeholders.second; break;\n                case (\"ss\"): result = seconds ? pad(value.getSeconds()) : placeholders.second; break;\n                case (\"f\"): result = milliseconds ? Math.floor(value.getMilliseconds() / 100) : milliseconds; break;\n                case (\"ff\"):\n                    result = value.getMilliseconds();\n                    if (result > 99) {\n                        result = Math.floor(result / 10);\n                    }\n                    result = milliseconds ? pad(result) : match;\n                    break;\n                case (\"fff\"): result = milliseconds ? pad(value.getMilliseconds(), 3) : match; break;\n                case (\"tt\"): result = hours ? (value.getHours() < 12 ? calendar.AM[0] : calendar.PM[0]) : placeholders.dayperiod; break;\n                case (\"zzz\"):\n                    mins = value.getTimezoneOffset();\n                    sign = mins < 0;\n                    result = Math.abs(mins / 60).toString().split(\".\")[0];\n                    mins = Math.abs(mins) - (result * 60);\n                    result = (sign ? \"+\" : \"-\") + pad(result);\n                    result += \":\" + pad(mins);\n                    break;\n                case (\"z\"):\n                case (\"zz\"):\n                    result = value.getTimezoneOffset() / 60;\n                    sign = result < 0;\n                    result = Math.abs(result).toString().split(\".\")[0];\n                    result = (sign ? \"+\" : \"-\") + (match === \"zz\" ? pad(result) : result);\n                    break;\n            }\n            result = (result !== undefined ? result : match.slice(1, match.length - 1));\n\n            if (returnsFormat) {\n                result = \"\" + result;\n                var formatResult = \"\";\n                if (match == \"ddd\") { match = \"EEE\"; }\n                if (match == \"dddd\") { match = \"EEEE\"; }\n                for (var i = 0; i < result.length; i++) {\n                    formatResult += match[0];\n                }\n                return formatResult;\n            } else {\n                return result;\n            }\n        };\n\n        function generateMatcher(retFormat) {\n            returnsFormat = retFormat;\n            return matcher;\n        }\n\n        function setExisting(symbol, val) {\n            switch (symbol) {\n                case \"y\": year = val; break;\n                case \"M\": month = val;\n                    if (!val) {\n                        value.setMonth(0);\n                        typedMonthPart = \"\";\n                    }\n                    break;\n                case \"d\": date = val; break;\n                case \"H\":\n                case \"h\": hours = val;\n                    if (!val) {\n                        typedDayPeriodPart = \"\";\n                    }\n                    break;\n                case \"m\": minutes = val; break;\n                case \"s\": seconds = val; break;\n                default: return;\n            }\n        }\n\n        this.setValue = function (val) {\n            date = val;\n        };\n\n        this.getValue = function () {\n            return date;\n        };\n\n        this.modifyPart = function (symbol, offset) {\n            var newValue = new Date((value && value.getTime) ? value.getTime() : value);\n            switch (symbol) {\n                case \"y\": newValue.setFullYear(newValue.getFullYear() + offset); break;\n                case \"M\":\n                    var newMonth = newValue.getMonth() + offset;\n                    newValue.setMonth(newMonth);\n                    if (newValue.getMonth() % 12 !== (newMonth + 12) % 12) {\n                        //handle case when new month does not have such date\n                        newValue.setDate(1);\n                        newValue.setMonth(newMonth);\n                    }\n                    break;\n                case \"d\":\n                case \"E\": newValue.setDate(newValue.getDate() + offset); break;\n                case \"H\":\n                case \"h\": newValue.setHours(newValue.getHours() + offset); break;\n                case \"m\": newValue.setMinutes(newValue.getMinutes() + offset); break;\n                case \"s\": newValue.setSeconds(newValue.getSeconds() + offset); break;\n                case \"t\": newValue.setHours((newValue.getHours() + 12) % 24); break;\n                default: break;\n            }\n            if (newValue.getFullYear() > 0) {\n                setExisting(symbol, true);\n                value = newValue;\n            }\n        };\n\n        this.parsePart = function (symbol, currentChar) {\n            if (!currentChar) {\n                setExisting(symbol, false);\n                return true;\n            }\n            var newValue = new Date((value && value.getTime) ? value.getTime() : value);\n            var lastDateOfMonth = new Date(newValue.getFullYear(), newValue.getMonth() + 1, 0).getDate();\n            var newHours;\n            switch (symbol) {\n                case \"d\":\n                    var newDate = (date ? newValue.getDate() * 10 : 0) + parseInt(currentChar, 10);\n                    if (isNaN(newDate)) { return; }\n                    while (newDate > lastDateOfMonth) {\n                        newDate = parseInt(newDate.toString().slice(1), 10);\n                    }\n                    if (newDate < 1) {\n                        date = false;\n                    } else {\n                        newValue.setDate(newDate);\n                        if (newValue.getMonth() !== value.getMonth()) {\n                            return;\n                        }\n                        date = true;\n                    }\n                    break;\n                case \"M\":\n                    var newMonth = (month ? (newValue.getMonth() + 1) * 10 : 0) + parseInt(currentChar, 10);\n                    if (!isNaN(newMonth)) {\n                        while (newMonth > 12) {\n                            newMonth = parseInt(newMonth.toString().slice(1), 10);\n                        }\n                        if (newMonth < 1) {\n                            month = false;\n                        } else {\n                            newValue.setMonth(newMonth - 1);\n                            if (newValue.getMonth() !== newMonth - 1) {\n                                newValue.setDate(1);\n                                newValue.setMonth(newMonth - 1);\n                            }\n                            month = true;\n                        }\n                    }\n                    else {\n                        var monthNames = calendar.months.names;\n                        typedMonthPart += currentChar.toLowerCase();\n\n                        while (typedMonthPart.length > 0) {\n                            for (var i = 0; i < monthNames.length; i++) {\n                                if (monthNames[i].toLowerCase().indexOf(typedMonthPart) === 0) {\n                                    newValue.setMonth(i);\n                                    month = true;\n                                    value = newValue;\n                                    return true;\n                                }\n                            }\n                            typedMonthPart = typedMonthPart.substring(1, typedMonthPart.length);\n                        }\n                        return false;\n                    }\n                    break;\n                case \"y\":\n                    var newYear = (year ? (newValue.getFullYear()) * 10 : 0) + parseInt(currentChar, 10);\n                    if (isNaN(newYear)) {return;}\n                    while (newYear > 9999) {\n                        newYear = parseInt(newYear.toString().slice(1), 10);\n                    }\n                    if (newYear < 1) {\n                        year = false;\n                    } else {\n                        newValue.setFullYear(newYear);\n                        year = true;\n                    }\n                    break;\n                case \"h\":\n                    newHours = (hours ? (newValue.getHours() % 12 || 12) * 10 : 0) + parseInt(currentChar, 10);\n                    if (isNaN(newHours)) { return; }\n                    while (newHours > 12) {\n                        newHours = parseInt(newHours.toString().slice(1), 10);\n                    }\n                    newValue.setHours(Math.floor(newValue.getHours() / 12) * 12 + newHours % 12);\n                    hours = true;\n                    break;\n                case \"H\":\n                    newHours = (hours ? (newValue.getHours()) * 10 : 0) + parseInt(currentChar, 10);\n                    if (isNaN(newHours)) { return; }\n                    while (newHours > 23) {\n                        newHours = parseInt(newHours.toString().slice(1), 10);\n                    }\n                    newValue.setHours(newHours);\n                    hours = true;\n                    break;\n                case \"m\":\n                    var newMinutes = (minutes ? (newValue.getMinutes()) * 10 : 0) + parseInt(currentChar, 10);\n                    if (isNaN(newMinutes)) { return; }\n                    while (newMinutes > 59) {\n                        newMinutes = parseInt(newMinutes.toString().slice(1), 10);\n                    }\n                    newValue.setMinutes(newMinutes);\n                    minutes = true;\n                    break;\n                case \"s\":\n                    var newSeconds = (seconds ? (newValue.getSeconds()) * 10 : 0) + parseInt(currentChar, 10);\n                    if (isNaN(newSeconds)) { return; }\n                    while (newSeconds > 59) {\n                        newSeconds = parseInt(newSeconds.toString().slice(1), 10);\n                    }\n                    newValue.setSeconds(newSeconds);\n                    seconds = true;\n                    break;\n                case \"t\":\n                    if (hours) {\n                        typedDayPeriodPart += currentChar.toLowerCase();\n                        while (typedDayPeriodPart.length > 0) {\n                            if (calendar.AM[0].toLowerCase().indexOf(typedDayPeriodPart) === 0 && newValue.getHours() >= 12 ||\n                                calendar.PM[0].toLowerCase().indexOf(typedDayPeriodPart) === 0 && newValue.getHours() < 12) {\n                                newValue.setHours((newValue.getHours() + 12) % 24);\n                                value = newValue;\n                                return true;\n                            }\n                            typedDayPeriodPart = typedDayPeriodPart.substring(1, typedDayPeriodPart.length);\n                        }\n                        return false;\n                    }\n                    break;\n                default: break;\n            }\n            value = newValue;\n            return true;\n        };\n\n        this.toPair = function (format, culture , messages) {\n            if (!format) {\n                return [\"\", \"\"];\n            }\n            culture = kendo.getCulture(culture);\n            calendar = culture.calendars.standard;\n            format = calendar.patterns[format] || format;\n            days = calendar.days;\n            months = calendar.months;\n            placeholders = messages;\n            return [\n                format.replace(dateFormatRegExp, generateMatcher(false)),\n                format.replace(dateFormatRegExp, generateMatcher(true))\n            ];\n        };\n\n        this.getDateObject = function () {\n            return (year && month && date && hours && minutes && seconds && milliseconds) ?\n                new Date(value.getTime()) : null;\n        };\n\n        if (!initDate) {\n            value = new Date();\n            var sampleFormat = this.toPair(initFormat, initCulture, initMessages)[1];\n            for (var i = 0; i < sampleFormat.length; i++) {\n                setExisting(sampleFormat[i], false);\n            }\n        } else {\n            value = new Date(initDate.getTime());\n        }\n    };\n\n    function approximateStringMatching(oldText, oldFormat, newText, caret){\n        var oldTextSeparator = oldText[caret + oldText.length - newText.length];\n        oldText = oldText.substring(0, caret + oldText.length - newText.length);\n        newText = newText.substring(0, caret);\n        var diff = [];\n        var i;\n        //handle typing single character over the same selection\n        if (oldText === newText && caret > 0) {\n            diff.push([oldFormat[caret - 1], newText[caret - 1]]);\n            return diff;\n        }\n        if (oldText.indexOf(newText) === 0 && (newText.length === 0 || oldFormat[newText.length - 1] !== oldFormat[newText.length])) {\n            //handle delete/backspace\n            var deletedSymbol = \"\";\n            for (i = newText.length; i < oldText.length; i++) {\n                if (oldFormat[i] !== deletedSymbol && knownSymbols.indexOf(oldFormat[i]) >= 0) {\n                    deletedSymbol = oldFormat[i];\n                    diff.push([deletedSymbol, \"\"]);\n                }\n            }\n            return diff;\n        }\n\n        //handle entering space or separator, for nagivation to next item\n        if (newText[newText.length - 1] === \" \" || newText[newText.length - 1] === oldTextSeparator) {\n            return [[oldFormat[caret - 1], \" \"]];\n        }\n\n        //handle inserting text (new text is longer than previous)\n        //handle typing over literal as well\n        if (newText.indexOf(oldText) === 0 || knownSymbols.indexOf(oldFormat[caret - 1]) === -1) {\n            var symbol = oldFormat[0];\n            for (i = Math.max(0, oldText.length - 1); i < oldFormat.length; i++) {\n                if (knownSymbols.indexOf(oldFormat[i]) >= 0) {\n                    symbol = oldFormat[i];\n                    break;\n                }\n            }\n            return [[symbol, newText[caret - 1]]];\n        }\n        //handle typing over correctly selected part\n        return [[oldFormat[caret - 1], newText[caret - 1]]];\n}\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.datepicker',[ \"kendo.calendar\", \"kendo.popup\",  \"kendo.dateinput\", \"kendo.html.button\"], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"datepicker\",\n    name: \"DatePicker\",\n    category: \"web\",\n    description: \"The DatePicker widget allows the user to select a date from a calendar or by direct input.\",\n    depends: [ \"calendar\", \"popup\", \"html.button\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n    ui = kendo.ui,\n    html = kendo.html,\n    Widget = ui.Widget,\n    parse = kendo.parseDate,\n    keys = kendo.keys,\n    support = kendo.support,\n    template = kendo.template,\n    activeElement = kendo._activeElement,\n    DIV = \"<div />\",\n    SPAN = \"<span />\",\n    ns = \".kendoDatePicker\",\n    CLICK = \"click\" + ns,\n    UP = support.mouseAndTouchPresent ? kendo.applyEventMap(\"up\", ns.slice(1)) : CLICK,\n    OPEN = \"open\",\n    CLOSE = \"close\",\n    CHANGE = \"change\",\n    DISABLED = \"disabled\",\n    READONLY = \"readonly\",\n    FOCUSED = \"k-focus\",\n    SELECTED = \"k-state-selected\",\n    STATEDISABLED = \"k-disabled\",\n    HOVER = \"k-hover\",\n    HOVEREVENTS = \"mouseenter\" + ns + \" mouseleave\" + ns,\n    MOUSEDOWN = \"mousedown\" + ns,\n    NAVIGATE = \"navigate\",\n    ID = \"id\",\n    MIN = \"min\",\n    MAX = \"max\",\n    MONTH = \"month\",\n    ARIA_DISABLED = \"aria-disabled\",\n    ARIA_READONLY = \"aria-readonly\",\n    ARIA_EXPANDED = \"aria-expanded\",\n    ARIA_HIDDEN = \"aria-hidden\",\n    ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n    calendar = kendo.calendar,\n    isInRange = calendar.isInRange,\n    restrictValue = calendar.restrictValue,\n    isEqualDatePart = calendar.isEqualDatePart,\n    extend = $.extend,\n    DATE = Date;\n\n    function normalize(options) {\n        var parseFormats = options.parseFormats,\n            format = options.format;\n\n        calendar.normalize(options);\n\n\n        parseFormats = Array.isArray(parseFormats) ? parseFormats : [parseFormats];\n\n        if (!parseFormats.length) {\n            parseFormats.push(\"yyyy-MM-dd\");\n        }\n\n        if ($.inArray(format, parseFormats) === -1) {\n            parseFormats.splice(0, 0, options.format);\n        }\n\n        options.parseFormats = parseFormats;\n    }\n\n    function preventDefault(e) {\n        e.preventDefault();\n    }\n\n    var DateView = function(options) {\n        var that = this, id,\n            body = document.body,\n            div = $(DIV).attr(ARIA_HIDDEN, \"true\")\n                        .addClass(\"k-calendar-container\");\n\n        that.options = options = options || {};\n        id = options.id;\n\n        if(!options.omitPopup){\n            div.appendTo(body);\n            that.popup = new ui.Popup(div, extend(options.popup, options, { name: \"Popup\", isRtl: kendo.support.isRtl(options.anchor) }));\n        } else {\n            div = options.dateDiv;\n        }\n        if (id) {\n            id += \"_dateview\";\n\n            div.attr(ID, id);\n            that._dateViewID = id;\n        }\n        that.div = div;\n\n        that.value(options.value);\n    };\n\n    DateView.prototype = {\n        _calendar: function() {\n            var that = this;\n            var calendar = that.calendar;\n            var options = that.options;\n            var div;\n\n            if (!calendar) {\n                div = $(DIV).attr(ID, kendo.guid())\n                            .appendTo(options.omitPopup ? options.dateDiv : that.popup.element)\n                            .on(MOUSEDOWN, preventDefault)\n                            .on(CLICK, \"td:has(.k-link)\", that._click.bind(that));\n\n                that.calendar = calendar = new ui.Calendar(div, {\n                    componentType: options.componentType,\n                    size: options.size,\n                    messages: options.messages\n                });\n                that._setOptions(options);\n\n                div.addClass(kendo.getValidCssClass(\"k-calendar-\", \"size\", options.size));\n\n                calendar.navigate(that._value || that._current, options.start);\n\n                that.value(that._value);\n            }\n        },\n\n        _setOptions: function(options) {\n            this.calendar.setOptions({\n                focusOnNav: false,\n                change: options.change,\n                culture: options.culture,\n                dates: options.dates,\n                depth: options.depth,\n                footer: options.footer,\n                format: options.format,\n                max: options.max,\n                min: options.min,\n                month: options.month,\n                weekNumber: options.weekNumber,\n                start: options.start,\n                messages: options.messages,\n                disableDates: options.disableDates\n            });\n        },\n\n        setOptions: function(options) {\n            var old = this.options;\n            var disableDates = options.disableDates;\n\n            if (disableDates) {\n                options.disableDates = calendar.disabled(disableDates);\n            }\n\n            this.options = extend(old, options, {\n                change: old.change,\n                close: old.close,\n                open: old.open\n            });\n\n            if (this.calendar) {\n                this._setOptions(this.options);\n            }\n        },\n\n        destroy: function() {\n            if(this.popup){\n                this.popup.destroy();\n            }\n        },\n\n        open: function() {\n            var that = this;\n            var popupHovered;\n\n            that._calendar();\n\n            // In some cases when the popup is opened resize is triggered which will cause it to close\n            // Setting the below flag will prevent this from happening\n            // Reference: https://github.com/telerik/kendo/pull/7553\n            popupHovered = that.popup._hovered;\n            that.popup._hovered = true;\n\n            that.popup.open();\n\n            setTimeout(function() {\n                that.popup._hovered = popupHovered;\n            }, 1);\n        },\n\n        close: function() {\n            if (this.popup) {\n                this.popup.close();\n            }\n        },\n\n        min: function(value) {\n            this._option(MIN, value);\n        },\n\n        max: function(value) {\n            this._option(MAX, value);\n        },\n\n        toggle: function() {\n            var that = this;\n\n            that[that.popup.visible() ? CLOSE : OPEN]();\n        },\n\n        move: function(e) {\n            var that = this,\n                key = e.keyCode,\n                calendar = that.calendar,\n                selectIsClicked = e.ctrlKey && key == keys.DOWN || key == keys.ENTER,\n                handled = false;\n\n            if (e.altKey) {\n                if (key == keys.DOWN) {\n                    that.open();\n                    e.preventDefault();\n                    handled = true;\n                } else if (key == keys.UP) {\n                    that.close();\n                    e.preventDefault();\n                    handled = true;\n                }\n\n            } else if (that.popup && that.popup.visible()) {\n\n                if (key == keys.ESC || (selectIsClicked && calendar._cell.hasClass(SELECTED))) {\n                    that.close();\n                    e.preventDefault();\n                    return true;\n                }\n                //spacebar selects a date in the calendar\n                if (key != keys.SPACEBAR) {\n                    that._current = calendar._move(e);\n                }\n\n                handled = true;\n            }\n\n            return handled;\n        },\n\n        current: function(date) {\n            this._current = date;\n            if (this.calendar) {\n                this.calendar._focus(date);\n            }\n        },\n\n        value: function(value) {\n            var that = this,\n                calendar = that.calendar,\n                options = that.options,\n                disabledDate = options.disableDates;\n\n            if (disabledDate && disabledDate(value)) {\n                value = null;\n            }\n\n            that._value = value;\n            that._current = new DATE(+restrictValue(value, options.min, options.max));\n\n            if (calendar) {\n                calendar.value(value);\n            }\n        },\n\n        _click: function(e) {\n\n            if (e.currentTarget.className.indexOf(SELECTED) !== -1) {\n                this.calendar.trigger(\"change\");\n                this.close();\n            }\n        },\n\n        _option: function(option, value) {\n            var that = this;\n            var calendar = that.calendar;\n\n            that.options[option] = value;\n\n            if (calendar) {\n                calendar[option](value);\n            }\n        }\n    };\n\n    DateView.normalize = normalize;\n\n    kendo.DateView = DateView;\n\n    var DatePicker = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                initialValue,\n                disabled,\n                div;\n\n            Widget.fn.init.call(that, element, options);\n            element = that.element;\n            options = that.options;\n\n            options.disableDates = kendo.calendar.disabled(options.disableDates);\n\n            options.min = parse(element.attr(\"min\")) || parse(options.min);\n            options.max = parse(element.attr(\"max\")) || parse(options.max);\n\n            normalize(options);\n\n            that._initialOptions = extend({}, options);\n\n            that._wrapper();\n\n            that.dateView = new DateView(extend({}, options, {\n                id: element.attr(ID),\n                anchor: that.wrapper,\n                change: function() {\n                    // calendar is the current scope\n                    that._change(this.value());\n                    that.close();\n                },\n                close: function(e) {\n                    if (that.trigger(CLOSE)) {\n                        e.preventDefault();\n                    } else {\n                        element.attr(ARIA_EXPANDED, false);\n                        div.attr(ARIA_HIDDEN, true);\n\n                        setTimeout(function() {\n                            element.removeAttr(\"aria-activedescendant\");\n                        });\n                    }\n                },\n                open: function(e) {\n                    var options = that.options,\n                        date;\n\n                    if (that.trigger(OPEN)) {\n                        e.preventDefault();\n                    } else {\n                        if (that.element.val() !== that._oldText) {\n                            date = parse(element.val(), options.parseFormats, options.culture);\n\n                            that.dateView[date ? \"current\" : \"value\"](date);\n                        }\n\n                        element.attr(ARIA_EXPANDED, true);\n                        div.attr(ARIA_HIDDEN, false);\n\n                        that._updateARIA(date);\n\n                    }\n                }\n            }));\n\n            div = that.dateView.div;\n\n            that._icon();\n\n            try {\n                element[0].setAttribute(\"type\", \"text\");\n            } catch(e) {\n                element[0].type = \"text\";\n            }\n\n            element\n                .addClass(\"k-input-inner\")\n                .attr({\n                    role: \"combobox\",\n                    \"aria-expanded\": false,\n                    \"aria-haspopup\": \"grid\",\n                    \"aria-owns\": that.dateView._dateViewID,\n                    \"autocomplete\": \"off\"\n                });\n            that._reset();\n            that._template();\n\n            disabled = element.is(\"[disabled]\") || $(that.element).parents(\"fieldset\").is(':disabled');\n            if (disabled) {\n                that.enable(false);\n            } else {\n                that.readonly(element.is(\"[readonly]\"));\n            }\n\n            initialValue = parse(options.value || that.element.val(), options.parseFormats, options.culture);\n\n            that._createDateInput(options);\n\n            that._old = that._update(initialValue || that.element.val());\n            that._oldText = element.val();\n            that._applyCssClasses();\n\n            kendo.notify(that);\n        },\n        events: [\n        OPEN,\n        CLOSE,\n        CHANGE],\n        options: {\n            name: \"DatePicker\",\n            value: null,\n            footer: \"\",\n            format: \"\",\n            culture: \"\",\n            parseFormats: [],\n            min: new Date(1900, 0, 1),\n            max: new Date(2099, 11, 31),\n            start: MONTH,\n            depth: MONTH,\n            animation: {},\n            month: {},\n            dates: [],\n            disableDates: null,\n            ARIATemplate: 'Current focused #=data.valueType# is #=data.text#',\n            dateInput: false,\n            weekNumber: false,\n            messages: {\n                weekColumnHeader: \"\"\n            },\n            componentType: \"classic\",\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        setOptions: function(options) {\n            var that = this;\n            var value = that._value;\n\n            Widget.fn.setOptions.call(that, options);\n\n            options = that.options;\n\n            options.min = parse(options.min);\n            options.max = parse(options.max);\n\n            normalize(options);\n\n            that._dateIcon.off(ns);\n            that._dateIcon.remove();\n\n            that.dateView.setOptions(options);\n            that._icon();\n            that._editable(options);\n            that._createDateInput(options);\n\n            if (!that._dateInput) {\n                that.element.val(kendo.toString(value, options.format, options.culture));\n            }\n\n            if (value) {\n                that._updateARIA(value);\n            }\n        },\n\n        _editable: function(options) {\n            var that = this,\n                icon = that._dateIcon.off(ns),\n                element = that.element.off(ns),\n                wrapper = that.wrapper.off(ns),\n                readonly = options.readonly,\n                disable = options.disable;\n\n            if (!readonly && !disable) {\n                wrapper\n                    .removeClass(STATEDISABLED)\n                    .on(HOVEREVENTS, that._toggleHover);\n                if(element && element.length) {\n                    element[0].removeAttribute(DISABLED);\n                    element[0].removeAttribute(READONLY);\n                }\n                element.attr(ARIA_DISABLED, false)\n                       .attr(ARIA_READONLY, false)\n                       .on(\"keydown\" + ns, that._keydown.bind(that))\n                       .on(\"focusout\" + ns, that._blur.bind(that))\n                       .on(\"focus\" + ns, function() {\n                           that.wrapper.addClass(FOCUSED);\n                       });\n\n               icon.on(UP, that._click.bind(that))\n                   .on(MOUSEDOWN, preventDefault);\n            } else {\n                wrapper\n                    .addClass(disable ? STATEDISABLED : \"\")\n                    .removeClass(disable ? \"\" : STATEDISABLED);\n\n                element.attr(DISABLED, disable)\n                       .attr(READONLY, readonly)\n                       .attr(ARIA_DISABLED, disable)\n                       .attr(ARIA_READONLY, readonly);\n            }\n        },\n\n        readonly: function(readonly) {\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n            if (this._dateInput) {\n                this._dateInput._editable({\n                    readonly: readonly === undefined ? true : readonly,\n                    disable: false\n                });\n            }\n        },\n\n        enable: function(enable) {\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n            if (this._dateInput) {\n                this._dateInput._editable({\n                    readonly: false,\n                    disable: !(enable = enable === undefined ? true : enable)\n                });\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that.dateView.destroy();\n\n            that.element.off(ns);\n            that._dateIcon.off(ns);\n\n            if (that._form) {\n                that._form.off(\"reset\", that._resetHandler);\n            }\n        },\n\n        open: function() {\n            this.dateView.open();\n            this._navigateCalendar();\n        },\n\n        close: function() {\n            this.dateView.close();\n        },\n\n        min: function(value) {\n            return this._option(MIN, value);\n        },\n\n        max: function(value) {\n            return this._option(MAX, value);\n        },\n\n        value: function(value) {\n            var that = this;\n\n            if (value === undefined) {\n                return that._value;\n            }\n\n            that._old = that._update(value);\n\n            if (that._old === null) {\n                if (that._dateInput) {\n                    that._dateInput.value(that._old);\n                } else {\n                    that.element.val(\"\");\n                }\n            }\n\n            that._oldText = that.element.val();\n        },\n\n        _toggleHover: function(e) {\n            $(e.currentTarget).toggleClass(HOVER, e.type === \"mouseenter\");\n        },\n\n        _blur: function() {\n            var that = this,\n                value = that.element.val();\n\n            that.close();\n            if (value !== that._oldText) {\n                that._change(value);\n                if (!value) {\n                    that.dateView.current(kendo.calendar.getToday());\n                }\n            }\n\n            that.wrapper.removeClass(FOCUSED);\n        },\n\n        _click: function(e) {\n            var that = this;\n\n            that.dateView.toggle();\n            that._navigateCalendar();\n            that._focusElement(e.type);\n        },\n\n        _focusElement: function(eventType) {\n            var element = this.element;\n\n            if ((!support.touch || (support.mouseAndTouchPresent && !(eventType || \"\").match(/touch/i))) && element[0] !== activeElement()) {\n                element.trigger(\"focus\");\n            }\n        },\n\n        _change: function(value) {\n            var that = this,\n            oldValue = that.element.val(),\n            dateChanged;\n\n            value = that._update(value);\n            dateChanged = !kendo.calendar.isEqualDate(that._old, value);\n\n            var valueUpdated = dateChanged && !that._typing;\n            var textFormatted = oldValue !== that.element.val();\n\n            if (valueUpdated || textFormatted) {\n                that.element.trigger(CHANGE);\n            }\n\n            if (dateChanged) {\n                that._old = value;\n                that._oldText = that.element.val();\n\n                that.trigger(CHANGE);\n            }\n\n            that._typing = false;\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                dateView = that.dateView,\n                value = that.element.val(),\n                handled = false;\n\n            if (!dateView.popup.visible() && e.keyCode == keys.ENTER && value !== that._oldText) {\n                that._change(value);\n            } else {\n                handled = dateView.move(e);\n                that._updateARIA(dateView._current);\n\n                if (!handled) {\n                    that._typing = true;\n                } else if (that._dateInput && e.stopImmediatePropagation) {\n                    e.stopImmediatePropagation();\n                }\n            }\n        },\n\n        _icon: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                icon;\n\n            icon = element.next(\"button.k-input-button\");\n\n            if (!icon[0]) {\n                icon = $(html.renderButton('<button aria-label=\"select\" tabindex=\"-1\" class=\"k-input-button k-button k-icon-button\"></button>', {\n                    icon: \"calendar\",\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    shape: null,\n                    rounded: null\n                })).insertAfter(element);\n            }\n\n            that._dateIcon = icon.attr({\n                \"role\": \"button\",\n                \"aria-controls\": that.dateView._dateViewID\n            });\n        },\n\n        _navigateCalendar: function() {\n            var that = this;\n\n            if (!!that.dateView.calendar) {\n                that.dateView.calendar.unbind(NAVIGATE).bind(NAVIGATE,function() {\n                    setTimeout(function() {\n                        that.element.attr(ARIA_ACTIVEDESCENDANT, that.dateView.calendar._table.attr(ARIA_ACTIVEDESCENDANT));\n                    });\n                });\n            }\n        },\n\n        _option: function(option, value) {\n            var that = this,\n                options = that.options;\n\n            if (value === undefined) {\n                return options[option];\n            }\n\n            value = parse(value, options.parseFormats, options.culture);\n\n            if (!value) {\n                return;\n            }\n\n            options[option] = new DATE(+value);\n            that.dateView[option](value);\n        },\n\n        _update: function(value) {\n            var that = this,\n                options = that.options,\n                min = options.min,\n                max = options.max,\n                current = that._value,\n                date = parse(value, options.parseFormats, options.culture),\n                isSameType = (date === null && current === null) || (date instanceof Date && current instanceof Date),\n                formattedValue;\n\n            if (options.disableDates(date)) {\n                date = null;\n                if (!that._old && !that.element.val()) {\n                    value = null;\n                }\n            }\n\n            if (+date === +current && isSameType) {\n                formattedValue = kendo.toString(date, options.format, options.culture);\n\n                if (formattedValue !== value && !(that._dateInput && !date)) {\n                    that.element.val(date === null ? value : formattedValue);\n                }\n\n                return date;\n            }\n\n            if (date !== null && isEqualDatePart(date, min)) {\n                date = restrictValue(date, min, max);\n            } else if (!isInRange(date, min, max)) {\n                date = null;\n            }\n\n            that._value = date;\n            that.dateView.value(date);\n            if (that._dateInput && date) {\n                that._dateInput.value(date || value);\n            } else {\n                that.element.val(kendo.toString(date || value, options.format, options.culture));\n            }\n            that._updateARIA(date);\n\n            return date;\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                wrapper;\n\n            wrapper = element.parents(\".k-datepicker\");\n\n            if (!wrapper[0]) {\n                wrapper = element.wrap(SPAN).parent();\n            }\n\n            wrapper[0].style.cssText = element[0].style.cssText;\n            element.css({\n                height: element[0].style.height\n            });\n\n            that.wrapper = wrapper.addClass(\"k-datepicker k-input\")\n                .addClass(element[0].className).removeClass('input-validation-error');\n        },\n\n        _reset: function() {\n            var that = this,\n                element = that.element,\n                formId = element.attr(\"form\"),\n                options = that.options,\n                disabledDate = options.disableDates,\n                parseFormats = options.parseFormats.length ? options.parseFormats : null,\n                optionsValue = that._initialOptions.value,\n                form = formId ? $(\"#\" + formId) : element.closest(\"form\"),\n                initialValue = element[0].defaultValue;\n\n            if (optionsValue && (disabledDate && disabledDate(optionsValue))) {\n                optionsValue = null;\n            }\n\n            if ((!initialValue || !kendo.parseDate(initialValue, parseFormats, options.culture)) && optionsValue) {\n                element.attr(\"value\", kendo.toString(optionsValue, options.format, options.culture));\n            }\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    that.value(optionsValue || element[0].defaultValue);\n                    that.max(that._initialOptions.max);\n                    that.min(that._initialOptions.min);\n                };\n\n                that._form = form.on(\"reset\", that._resetHandler);\n            }\n        },\n\n        _template: function() {\n            this._ariaTemplate = template(this.options.ARIATemplate).bind(this);\n        },\n\n        _createDateInput: function(options) {\n            if (this._dateInput) {\n                this._dateInput.destroy();\n                this._dateInput = null;\n            }\n\n            if (options.dateInput ) {\n                this._dateInput = new ui.DateInput(this.element, {\n                    culture: options.culture,\n                    format: options.format,\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    rounded: options.rounded,\n                    min: options.min,\n                    max: options.max\n                });\n            }\n        },\n\n        _updateARIA: function(date) {\n            var that = this;\n            var calendar = that.dateView.calendar;\n\n            if (that.element && that.element.length) {\n                that.element[0].removeAttribute(ARIA_ACTIVEDESCENDANT);\n            }\n\n            if (calendar) {\n                that.element.attr(ARIA_ACTIVEDESCENDANT, calendar._updateAria(that._ariaTemplate, date));\n            }\n        }\n    });\n\n    kendo.cssProperties.registerPrefix(\"DatePicker\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"DatePicker\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    ui.plugin(DatePicker);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.virtuallist',[ \"kendo.data\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"virtuallist\",\n    name: \"VirtualList\",\n    category: \"framework\",\n    depends: [ \"data\" ],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        DataBoundWidget = ui.DataBoundWidget,\n        percentageUnitsRegex = /^\\d+(\\.\\d+)?%$/i,\n        LIST_CONTENT = \"k-list-content k-virtual-content\",\n        TABLE_CONTENT = \"k-table-body k-table-scroller\",\n        HEADER = \"k-list-group-sticky-header\",\n        LIST_ITEM = \"k-list-item\",\n        TABLE_ITEM = \"k-table-row\",\n        HEIGHTCONTAINER = \"k-height-container\",\n        GROUPITEM = \"k-list-item-group-label\",\n        LIST_UL = \"k-list-ul\",\n        TABLE_LIST = \"k-table-list\",\n\n        SELECTED = \"k-selected\",\n        FOCUSED = \"k-focus\",\n        HOVER = \"k-hover\",\n        CHANGE = \"change\",\n        CLICK = \"click\",\n        LISTBOUND = \"listBound\",\n        ITEMCHANGE = \"itemChange\",\n\n        ACTIVATE = \"activate\",\n        DEACTIVATE = \"deactivate\",\n\n        GROUP_ROW_SEL = \".k-table-group-row\",\n\n        VIRTUAL_LIST_NS = \".VirtualList\";\n\n    function lastFrom(array) {\n        return array[array.length - 1];\n    }\n\n    function toArray(value) {\n        return value instanceof Array ? value : [value];\n    }\n\n    function isPrimitive(dataItem) {\n        return typeof dataItem === \"string\" || typeof dataItem === \"number\" || typeof dataItem === \"boolean\";\n    }\n\n    function getItemCount(screenHeight, listScreens, itemHeight) {\n        return Math.ceil(screenHeight * listScreens / itemHeight);\n    }\n\n    function appendChild(parent, className, tagName) {\n        var element = document.createElement(tagName || \"div\");\n        if (className) {\n            element.className = className;\n        }\n        parent.appendChild(element);\n\n        return element;\n    }\n\n    function getDefaultItemHeight(listSize) {\n        var mockList = $('<div class=\"k-list ' + listSize + ' k-virtual-list\">' +\n                '<div class=\"k-list-content k-virtual-content\">' +\n                    '<ul class=\"k-list-ul\">' +\n                        '<li class=\"k-list-item\">' +\n                            '<span class=\"k-list-item-text\">test</span>' +\n                        '</li>' +\n                    '</ul>' +\n                '</div>' +\n            '</div>');\n        var lineHeight;\n\n        mockList.css({\n            position: \"absolute\",\n            left: \"-200000px\",\n            visibility: \"hidden\"\n        });\n        mockList.appendTo(document.body);\n        lineHeight = parseFloat(kendo.getComputedStyles(mockList.find(\".k-list-item\")[0], [\"height\"]).height);\n        mockList.remove();\n\n        return lineHeight;\n    }\n\n    function bufferSizes(screenHeight, listScreens, opposite) { //in pixels\n        return {\n            down: screenHeight * opposite,\n            up: screenHeight * (listScreens - 1 - opposite)\n        };\n    }\n\n    function listValidator(options, screenHeight) {\n        var downThreshold = (options.listScreens - 1 - options.threshold) * screenHeight;\n        var upThreshold = options.threshold * screenHeight;\n\n        return function(list, scrollTop, lastScrollTop) {\n            if (scrollTop > lastScrollTop) {\n                return scrollTop - list.top < downThreshold;\n            } else {\n                return list.top === 0 || scrollTop - list.top > upThreshold;\n            }\n        };\n    }\n\n    function scrollCallback(element, callback) {\n        return function(force) {\n            return callback(element.scrollTop, force);\n        };\n    }\n\n    function syncList(reorder) {\n        return function(list, force) {\n            reorder(list.items, list.index, force);\n            return list;\n        };\n    }\n\n    function position(element, y) {\n        element.style.webkitTransform = 'translateY(' + y + \"px)\";\n        element.style.transform = 'translateY(' + y + \"px)\";\n    }\n\n    function map2(callback, templates) {\n        return function(arr1, arr2) {\n            for (var i = 0, len = arr1.length; i < len; i++) {\n                callback(arr1[i], arr2[i], templates);\n                if (arr2[i].item) {\n                    this.trigger(ITEMCHANGE, { item: $(arr1[i]), data: arr2[i].item, ns: kendo.ui });\n                }\n            }\n        };\n    }\n\n    function reshift(items, diff) {\n        var range;\n\n        if (diff > 0) { // down\n            range = items.splice(0, diff);\n            items.push.apply(items, range);\n        } else { // up\n            range = items.splice(diff, -diff);\n            items.unshift.apply(items, range);\n        }\n\n        return range;\n    }\n\n    function render(element, data, templates) {\n        var itemTemplate = templates.template,\n            hasColumns = this.options.columns && this.options.columns.length,\n            altRow = data.index % 2 === 1 ? \"k-table-alt-row\" : \"\";\n\n        element = $(element);\n\n        if (!data.item) {\n            itemTemplate = templates.placeholderTemplate;\n        }\n\n        if (data.index === 0 && this.header && data.group) {\n            this.header.html(templates.fixedGroupTemplate(data.group));\n        }\n\n        this.angular(\"cleanup\", function() {\n            return { elements: [ element ]};\n        });\n\n        element\n            .attr(\"data-uid\", data.item ? data.item.uid : \"\")\n            .attr(\"data-offset-index\", data.index);\n\n        if (hasColumns && data.item) {\n            if (altRow.length > 0) {\n                element.addClass(altRow);\n            } else {\n                element.removeClass(\"k-table-alt-row\");\n            }\n            element.html(renderColumns(this.options, data.item, templates));\n        } else {\n            element.find(\".\" + GROUPITEM).remove();\n            element.find(\".k-list-item-text\").html(itemTemplate(data.item || {}));\n        }\n\n        element.toggleClass(FOCUSED, data.current);\n        element.toggleClass(SELECTED, data.selected);\n        element.toggleClass(\"k-first\", data.newGroup);\n        element.toggleClass(\"k-last\", data.isLastGroupedItem);\n        element.toggleClass(\"k-loading-item\", !data.item);\n\n        if (data.index !== 0 && data.newGroup) {\n            if (hasColumns) {\n                $('<span class=\"k-table-td k-table-group-td\"><span>' + templates.groupTemplate(data.group) + '</span></span>')\n                    .appendTo(element);\n            } else {\n                $(\"<div class=\" + GROUPITEM + \"></div>\")\n                    .appendTo(element)\n                    .html(templates.groupTemplate(data.group));\n            }\n        } else if (data.group && hasColumns) {\n            element.append($('<span class=\"k-table-td k-table-spacer-td\"></span>'));\n        }\n\n        if (data.top !== undefined) {\n            position(element[0], data.top);\n        }\n\n        this.angular(\"compile\", function() {\n            return { elements: [ element ], data: [ { dataItem: data.item, group: data.group, newGroup: data.newGroup } ]};\n        });\n    }\n\n    function renderColumns(options, dataItem, templates) {\n        var item = \"\";\n\n        for (var i = 0; i < options.columns.length; i++) {\n            var currentWidth = options.columns[i].width;\n            var currentWidthInt = parseInt(currentWidth, 10);\n            var widthStyle = '';\n\n            if(currentWidth){\n                widthStyle += \"style='width:\";\n                widthStyle += currentWidthInt;\n                widthStyle += percentageUnitsRegex.test(currentWidth) ? \"%\" : \"px\";\n                widthStyle += \";'\";\n            }\n            item += \"<span class='k-table-td' \" + widthStyle + \">\";\n            item += templates[\"column\"+ i](dataItem);\n            item += \"</span>\";\n        }\n\n        return item;\n    }\n\n    function mapChangedItems(selected, itemsToMatch) {\n        var itemsLength = itemsToMatch.length;\n        var selectedLength = selected.length;\n        var dataItem;\n        var found;\n        var i, j;\n\n        var changed = [];\n        var unchanged = [];\n\n        if (selectedLength) {\n            for (i = 0; i < selectedLength; i++) {\n                dataItem = selected[i];\n                found = false;\n\n                for (j = 0; j < itemsLength; j++) {\n                    if (dataItem === itemsToMatch[j]) {\n                        found = true;\n                        changed.push({ index: i, item: dataItem });\n                        break;\n                    }\n                }\n\n                if (!found) {\n                    unchanged.push(dataItem);\n                }\n            }\n        }\n\n        return {\n            changed: changed,\n            unchanged: unchanged\n        };\n    }\n\n    function isActivePromise(promise) {\n        return promise && promise.state() !== \"resolved\";\n    }\n\n    var VirtualList = DataBoundWidget.extend({\n        init: function(element, options) {\n            var that = this,\n                contentClasses = options.columns && options.columns.length ? TABLE_CONTENT : LIST_CONTENT;\n\n            that.bound(false);\n            that._fetching = false;\n\n            Widget.fn.init.call(that, element, options);\n\n            if (!that.options.itemHeight) {\n                that.options.itemHeight = getDefaultItemHeight(options.listSize);\n            }\n\n            options = that.options;\n\n            that.element.attr(\"role\", \"listbox\");\n\n            that.content = that.wrapper = that.element.wrap(\"<div unselectable='on' class='\" + contentClasses + \"'></div>\").parent();\n\n            if(that.options.columns && that.options.columns.length) {\n                var thead = that.element.closest(\".k-data-table\").find('.k-table-thead');\n                var row = $('<tr class=\"k-table-group-row\">' +\n                    '<th class=\"k-table-th\" colspan=\"' + that.options.columns.length + '\"></th>' +\n                '</tr>');\n\n                thead.append(row);\n\n                that.header = row.find(\".k-table-th\");\n                that.element.addClass(TABLE_LIST + \" k-virtual-table\");\n            } else {\n                that.header = that.content.before(\"<div class='\" + HEADER + \"'></div>\").prev();\n                that.element.addClass(LIST_UL);\n            }\n\n            if(options.ariaLabel) {\n                this.element.attr(\"aria-label\", options.ariaLabel);\n            } else if(options.ariaLabelledBy) {\n                this.element.attr(\"aria-labelledby\", options.ariaLabelledBy);\n            }\n\n            that.element.on(\"mouseenter\" + VIRTUAL_LIST_NS, \"li:not(.k-loading-item)\", function() { $(this).addClass(HOVER); })\n                        .on(\"mouseleave\" + VIRTUAL_LIST_NS, \"li\", function() { $(this).removeClass(HOVER); });\n\n            that._values = toArray(that.options.value);\n            that._selectedDataItems = [];\n            that._selectedIndexes = [];\n            that._rangesList = {};\n            that._promisesList = [];\n            that._optionID = kendo.guid();\n\n            that._templates();\n\n            that.setDataSource(options.dataSource);\n\n            that.content.on(\"scroll\" + VIRTUAL_LIST_NS, kendo.throttle(function() {\n                that._renderItems();\n                that._triggerListBound();\n            }, options.delay));\n\n            that._selectable();\n        },\n\n        options: {\n            name: \"VirtualList\",\n            autoBind: true,\n            delay: 100,\n            height: null,\n            listScreens: 4,\n            threshold: 0.5,\n            itemHeight: null,\n            oppositeBuffer: 1,\n            type: \"flat\",\n            selectable: false,\n            value: [],\n            dataValueField: null,\n            template: \"#:data#\",\n            placeholderTemplate: \"loading...\",\n            groupTemplate: \"#:data#\",\n            fixedGroupTemplate: \"#:data#\",\n            mapValueTo: \"index\",\n            valueMapper: null,\n            ariaLabel: null,\n            ariaLabelledBy: null\n        },\n\n        events: [\n            CHANGE,\n            CLICK,\n            LISTBOUND,\n            ITEMCHANGE,\n            ACTIVATE,\n            DEACTIVATE\n        ],\n\n        setOptions: function(options) {\n            var itemClass = this.options.columns && this.options.columns.length ? TABLE_ITEM : LIST_ITEM;\n\n            Widget.fn.setOptions.call(this, options);\n\n            if (this._selectProxy && this.options.selectable === false) {\n                this.element.off(CLICK, \".\" + itemClass, this._selectProxy);\n            } else if (!this._selectProxy && this.options.selectable) {\n                this._selectable();\n            }\n\n            this._templates();\n            this.refresh();\n        },\n\n        items: function() {\n            return $(this._items);\n        },\n\n        destroy: function() {\n            this.wrapper.off(VIRTUAL_LIST_NS);\n            this.dataSource.unbind(CHANGE, this._refreshHandler);\n            Widget.fn.destroy.call(this);\n        },\n\n        setDataSource: function(source) {\n            var that = this;\n            var dataSource = source || {};\n            var value;\n\n            dataSource = Array.isArray(dataSource) ? {data: dataSource} : dataSource;\n            dataSource = kendo.data.DataSource.create(dataSource);\n\n            if (that.dataSource) {\n                that.dataSource.unbind(CHANGE, that._refreshHandler);\n\n                that._clean();\n                that.bound(false);\n\n                that._deferValueSet = true;\n                value = that.value();\n\n                that.value([]);\n                that.mute(function() {\n                    that.value(value);\n                });\n            } else {\n                that._refreshHandler = that.refresh.bind(that);\n            }\n\n            that.dataSource = dataSource.bind(CHANGE, that._refreshHandler);\n\n            that.setDSFilter(dataSource.filter());\n\n            if (dataSource.view().length !== 0) {\n                that.refresh();\n            } else if (that.options.autoBind) {\n                dataSource.fetch();\n            }\n        },\n\n        skip: function() {\n            return this.dataSource.currentRangeStart();\n        },\n\n        _triggerListBound: function () {\n            var that = this;\n            var skip = that.skip();\n\n            if (that.bound() && !that._selectingValue && that._skip !== skip) {\n                that._skip = skip;\n                that.trigger(LISTBOUND);\n            }\n        },\n\n        _getValues: function(dataItems) {\n            var getter = this._valueGetter;\n\n            return $.map(dataItems, function(dataItem) {\n                return getter(dataItem);\n            });\n        },\n\n        _highlightSelectedItems: function () {\n            for (var i = 0; i < this._selectedDataItems.length; i++) {\n                var item = this._getElementByDataItem(this._selectedDataItems[i]);\n                if(item.length){\n                    item.addClass(SELECTED);\n                }\n            }\n        },\n\n        refresh: function(e) {\n            var that = this;\n            var action = e && e.action;\n            var isItemChange = action === \"itemchange\";\n            var filtered = this.isFiltered();\n            var result;\n\n            if (that._mute) { return; }\n\n            that._deferValueSet = false;\n\n            if (!that._fetching) {\n                if (filtered) {\n                    that.focus(0);\n                }\n\n                that._createList();\n                if (!action && that._values.length && !filtered &&\n                     !that.options.skipUpdateOnBind && !that._emptySearch) {\n                    that._selectingValue = true;\n\n                    that.bound(true);\n                    that.value(that._values, true).done(function () {\n                        that._selectingValue = false;\n                        that._triggerListBound();\n                    });\n                } else {\n                    that.bound(true);\n                    that._highlightSelectedItems();\n                    that._triggerListBound();\n                }\n            } else {\n                if (that._renderItems) {\n                    that._renderItems(true);\n                }\n\n                that._triggerListBound();\n            }\n\n            if (isItemChange || action === \"remove\") {\n                result = mapChangedItems(that._selectedDataItems, e.items);\n                if (result.changed.length) {\n                    if (isItemChange) {\n                        that.trigger(\"selectedItemChange\", {\n                            items: result.changed\n                        });\n                    } else {\n                        that.value(that._getValues(result.unchanged));\n                    }\n                }\n            }\n\n            that._fetching = false;\n        },\n\n        removeAt: function(position) {\n            var value = this._values.splice(position, 1)[0];\n\n            return {\n                position: position,\n                dataItem: this._removeSelectedDataItem(value)\n            };\n        },\n\n        _removeSelectedDataItem: function (value) {\n            var that = this,\n                valueGetter = that._valueGetter;\n\n            for (var idx in that._selectedDataItems) {\n                if(valueGetter(that._selectedDataItems[idx]) === value) {\n                    that._selectedIndexes.splice(idx, 1);\n                    return that._selectedDataItems.splice(idx, 1)[0];\n                }\n            }\n        },\n\n        setValue: function(value) {\n            this._values = toArray(value);\n        },\n\n        value: function(value, _forcePrefetch) {\n            var that = this;\n\n            if (value === undefined) {\n                return that._values.slice();\n            }\n\n            if (value === null) {\n                value = [];\n            }\n\n            value = toArray(value);\n\n            if (!that._valueDeferred || that._valueDeferred.state() === \"resolved\") {\n                that._valueDeferred = $.Deferred();\n            }\n\n            var shouldClear = that.options.selectable === \"multiple\" && that.select().length && value.length;\n\n            if (shouldClear || !value.length) {\n                that.select(-1);\n            }\n\n            that._values = value;\n\n            if ((that.bound() && !that._mute && !that._deferValueSet) || _forcePrefetch) {\n                that._prefetchByValue(value);\n            }\n\n            return that._valueDeferred;\n        },\n\n        _checkValuesOrder: function (value) {\n            if (this._removedAddedIndexes &&\n                this._removedAddedIndexes.length === value.length) {\n                    var newValue = this._removedAddedIndexes.slice();\n                    this._removedAddedIndexes = null;\n                return newValue;\n            }\n\n            return value;\n        },\n\n        _prefetchByValue: function(value) {\n            var that = this,\n                dataView = that._dataView,\n                valueGetter = that._valueGetter,\n                mapValueTo = that.options.mapValueTo,\n                item, match = false,\n                forSelection = [];\n\n            //try to find the items in the loaded data\n            for (var i = 0; i < value.length; i++) {\n                for (var idx = 0; idx < dataView.length; idx++) {\n                    item = dataView[idx].item;\n                    if (item) {\n                        match = isPrimitive(item) ? value[i] === item : value[i] === valueGetter(item);\n\n                        if (match) {\n                            forSelection.push(dataView[idx].index);\n                        }\n                    }\n                }\n            }\n\n            if (forSelection.length === value.length) {\n                that._values = [];\n                that.select(forSelection);\n                return;\n            }\n\n            //prefetch the items\n            if (typeof that.options.valueMapper === \"function\") {\n                that.options.valueMapper({\n                    value: (this.options.selectable === \"multiple\") ? value : value[0],\n                    success: function(response) {\n                        if (mapValueTo === \"index\") {\n                            that.mapValueToIndex(response);\n                        } else if (mapValueTo === \"dataItem\") {\n                            that.mapValueToDataItem(response);\n                        }\n                    }\n                });\n            } else {\n                 if (!that.value()[0]) {\n                     that.select([-1]);\n                 } else {\n                    that._selectingValue = false;\n                    that._triggerListBound();\n                 }\n            }\n        },\n\n        mapValueToIndex: function(indexes) {\n            if (indexes === undefined || indexes === -1 || indexes === null) {\n                indexes = [];\n            } else {\n                indexes = toArray(indexes);\n            }\n\n            if (!indexes.length) {\n                indexes = [-1];\n            } else {\n                var removed = this._deselect([]).removed;\n                if (removed.length) {\n                    this._triggerChange(removed, []);\n                }\n            }\n\n            this.select(indexes);\n        },\n\n        mapValueToDataItem: function(dataItems) {\n            var removed, added;\n\n            if (dataItems === undefined || dataItems === null) {\n                dataItems = [];\n            } else {\n                dataItems = toArray(dataItems);\n            }\n\n            if (!dataItems.length) {\n                this.select([-1]);\n            } else {\n                removed = $.map(this._selectedDataItems, function(item, index) {\n                    return { index: index, dataItem: item };\n                });\n\n                added = $.map(dataItems, function(item, index) {\n                    return { index: index, dataItem: item };\n                });\n\n                this._selectedDataItems = dataItems;\n\n                this._selectedIndexes = [];\n\n                for (var i = 0; i < this._selectedDataItems.length; i++) {\n                    var item = this._getElementByDataItem(this._selectedDataItems[i]);\n                    this._selectedIndexes.push(this._getIndecies(item)[0]);\n                    item.addClass(SELECTED);\n                }\n\n                this._triggerChange(removed, added);\n\n                if (this._valueDeferred) {\n                    this._valueDeferred.resolve();\n                }\n            }\n        },\n\n        deferredRange: function(index) {\n            var dataSource = this.dataSource;\n            var take = this.itemCount;\n            var ranges = this._rangesList;\n            var result = $.Deferred();\n            var defs = [];\n\n            var low = Math.floor(index / take) * take;\n            var high = Math.ceil(index / take) * take;\n\n            var pages = high === low ? [ high ] : [ low, high ];\n\n            $.each(pages, function(_, skip) {\n                var end = skip + take;\n                var existingRange = ranges[skip];\n                var deferred;\n\n                if (!existingRange || (existingRange.end !== end)) {\n                    deferred = $.Deferred();\n                    ranges[skip] = { end: end, deferred: deferred };\n\n                    dataSource._multiplePrefetch(skip, take, function() {\n                        deferred.resolve();\n                    });\n                } else {\n                    deferred = existingRange.deferred;\n                }\n\n                defs.push(deferred);\n            });\n\n            $.when.apply($, defs).then(function() {\n                result.resolve();\n            });\n\n            return result;\n        },\n\n        prefetch: function(indexes) {\n            var that = this,\n                take = this.itemCount,\n                isEmptyList = !that._promisesList.length;\n\n            if (!isActivePromise(that._activeDeferred)) {\n                that._activeDeferred = $.Deferred();\n                that._promisesList = [];\n            }\n\n            $.each(indexes, function(_, index) {\n                that._promisesList.push(that.deferredRange(that._getSkip(index, take)));\n            });\n\n            if (isEmptyList) {\n                $.when.apply($, that._promisesList).done(function() {\n                    that._promisesList = [];\n                    that._activeDeferred.resolve();\n                });\n            }\n\n            return that._activeDeferred;\n        },\n\n        _findDataItem: function(view, index) {\n            var group;\n\n            //find in grouped view\n            if (this.options.type === \"group\") {\n                for (var i = 0; i < view.length; i++) {\n                    group = view[i].items;\n                    if (group.length <= index) {\n                        index = index - group.length;\n                    } else {\n                        return group[index];\n                    }\n                }\n            }\n\n            //find in flat view\n            return view[index];\n        },\n\n        _getRange: function(skip, take) {\n            return this.dataSource._findRange(skip, Math.min(skip + take, this.dataSource.total()));\n        },\n\n        dataItemByIndex: function(index) {\n            var that = this;\n            var take = that.itemCount;\n            var skip = that._getSkip(index, take);\n            var view = this._getRange(skip, take);\n\n            //should not return item if data is not loaded\n            if (!that._getRange(skip, take).length) {\n                return null;\n            }\n\n            if (that.options.type === \"group\") {\n                kendo.ui.progress($(that.wrapper), true);\n                that.mute(function() {\n                    that.dataSource.range(skip, take, function () {\n                        kendo.ui.progress($(that.wrapper), false);\n                    });\n                    view = that.dataSource.view();\n                });\n            }\n\n            return that._findDataItem(view, [index - skip]);\n        },\n\n        selectedDataItems: function() {\n            return this._selectedDataItems.slice();\n        },\n\n        scrollWith: function(value) {\n            this.content.scrollTop(this.content.scrollTop() + value);\n        },\n\n        scrollTo: function(y) {\n            this.content.scrollTop(y); //works only if the element is visible\n        },\n\n        scrollToIndex: function(index) {\n            this.scrollTo(index * this.options.itemHeight);\n        },\n\n        focus: function(candidate) {\n            var element,\n                index,\n                data,\n                current,\n                itemHeight = this.options.itemHeight,\n                id = this._optionID,\n                triggerEvent = true;\n\n            if (candidate === undefined) {\n                current = this.element.find(\".\" + FOCUSED);\n                return current.length ? current : null;\n            }\n\n            if (typeof candidate === \"function\") {\n                data = this.dataSource.flatView();\n                for (var idx = 0; idx < data.length; idx++) {\n                    if (candidate(data[idx])) {\n                        candidate = idx;\n                        break;\n                    }\n                }\n            }\n\n            if (candidate instanceof Array) {\n                candidate = lastFrom(candidate);\n            }\n\n            if (isNaN(candidate)) {\n                element = $(candidate);\n                index = parseInt($(element).attr(\"data-offset-index\"), 10);\n            } else {\n                index = candidate;\n                element = this._getElementByIndex(index);\n            }\n\n            if (index === -1) {\n                this.element.find(\".\" + FOCUSED).removeClass(FOCUSED);\n                this._focusedIndex = undefined;\n                return;\n            }\n\n            if (element.length) { /*focus rendered item*/\n                if (element.hasClass(FOCUSED)) {\n                    triggerEvent = false;\n                }\n                if (this._focusedIndex !== undefined) {\n                    current = this._getElementByIndex(this._focusedIndex);\n                    current\n                        .removeClass(FOCUSED)\n                        .removeAttr(\"id\");\n\n                    if (triggerEvent) {\n                        this.trigger(DEACTIVATE);\n                    }\n                }\n\n                this._focusedIndex = index;\n\n                element\n                    .addClass(FOCUSED)\n                    .attr(\"id\", id);\n\n                var position = this._getElementLocation(index);\n\n                if (position === \"top\") {\n                    this.scrollTo(index * itemHeight);\n                } else if (position === \"bottom\") {\n                    this.scrollTo((index * itemHeight + itemHeight) - this._screenHeight);\n                } else if (position === \"outScreen\") {\n                    this.scrollTo(index * itemHeight);\n                }\n\n                if (triggerEvent) {\n                    this.trigger(ACTIVATE);\n                }\n            } else { /*focus non rendered item*/\n                this._focusedIndex = index;\n                this.items().removeClass(FOCUSED);\n                this.scrollToIndex(index);\n            }\n        },\n\n        focusIndex: function() {\n            return this._focusedIndex;\n        },\n\n        focusFirst: function() {\n            this.scrollTo(0);\n            this.focus(0);\n        },\n\n        focusLast: function() {\n            var lastIndex = this.dataSource.total();\n            this.scrollTo(this.heightContainer.offsetHeight);\n            this.focus(lastIndex - 1);\n        },\n\n        focusPrev: function() {\n            var index = this._focusedIndex;\n            var current;\n\n            if (!isNaN(index) && index > 0) {\n                index -= 1;\n                this.focus(index);\n\n                current = this.focus();\n                if (current && current.hasClass(\"k-loading-item\")) {\n                    index += 1;\n                    this.focus(index);\n                }\n\n                return index;\n            } else {\n                index = this.dataSource.total() - 1;\n                this.focus(index);\n                return index;\n            }\n        },\n\n        focusNext: function() {\n            var index = this._focusedIndex;\n            var lastIndex = this.dataSource.total() - 1;\n            var current;\n\n            if (!isNaN(index) && index < lastIndex) {\n                index += 1;\n                this.focus(index);\n\n                current = this.focus();\n                if (current && current.hasClass(\"k-loading-item\")) {\n                    index -= 1;\n                    this.focus(index);\n                }\n\n                return index;\n            } else {\n                index = 0;\n                this.focus(index);\n                return index;\n            }\n        },\n\n        _triggerChange: function(removed, added) {\n            removed = removed || [];\n            added = added || [];\n\n            if (removed.length || added.length) {\n                this.trigger(CHANGE, {\n                    removed: removed,\n                    added: added\n                });\n            }\n        },\n\n        select: function(candidate) {\n            var that = this,\n                indices,\n                initialIndices,\n                singleSelection = that.options.selectable !== \"multiple\",\n                prefetchStarted = isActivePromise(that._activeDeferred),\n                filtered = this.isFiltered(),\n                isAlreadySelected,\n                deferred,\n                result,\n                removed = [];\n\n            if (candidate === undefined) {\n                return that._selectedIndexes.slice();\n            }\n\n            if (!that._selectDeferred || that._selectDeferred.state() === \"resolved\") {\n                that._selectDeferred = $.Deferred();\n            }\n\n            indices = that._getIndecies(candidate);\n            isAlreadySelected = singleSelection && !filtered && lastFrom(indices) === lastFrom(this._selectedIndexes);\n            removed = that._deselectCurrentValues(indices);\n\n            if (removed.length || !indices.length || isAlreadySelected) {\n                that._triggerChange(removed);\n\n                if (that._valueDeferred) {\n                    that._valueDeferred.resolve().promise();\n                }\n\n                return that._selectDeferred.resolve().promise();\n            }\n\n            if (indices.length === 1 && indices[0] === -1) {\n                indices = [];\n            }\n\n            initialIndices = indices;\n            result = that._deselect(indices);\n            removed = result.removed;\n            indices = result.indices;\n\n            if (singleSelection) {\n                prefetchStarted = false;\n                if (indices.length) {\n                    indices = [lastFrom(indices)];\n                }\n            }\n\n            var done = function() {\n                var added = that._select(indices);\n\n                if (initialIndices.length === indices.length || singleSelection) {\n                    that.focus(indices);\n                }\n\n                that._triggerChange(removed, added);\n\n                if (that._valueDeferred) {\n                    that._valueDeferred.resolve();\n                }\n\n                that._selectDeferred.resolve();\n            };\n\n            deferred = that.prefetch(indices);\n\n            if (!prefetchStarted) {\n                if (deferred) {\n                    deferred.done(done);\n                } else {\n                    done();\n                }\n            }\n\n            return that._selectDeferred.promise();\n        },\n\n        bound: function(bound) {\n            if (bound === undefined) {\n                return this._listCreated;\n            }\n\n            this._listCreated = bound;\n        },\n\n        mute: function(callback) {\n            this._mute = true;\n            callback();\n            this._mute = false;\n        },\n\n        setDSFilter: function(filter) {\n            this._lastDSFilter = $.extend({}, filter);\n        },\n\n        isFiltered: function() {\n            if (!this._lastDSFilter) {\n                this.setDSFilter(this.dataSource.filter());\n            }\n\n            return !kendo.data.Query.compareFilters(this.dataSource.filter(), this._lastDSFilter);\n        },\n\n        skipUpdate: $.noop,\n\n        _getElementByIndex: function(index) {\n            return this.items().filter(function(idx, element) {\n                return index === parseInt($(element).attr(\"data-offset-index\"), 10);\n            });\n        },\n\n        _getElementByDataItem: function(dataItem) {\n            var dataView = this._dataView,\n            valueGetter = this._valueGetter,\n                element, match;\n\n            for (var i = 0; i < dataView.length; i++) {\n                match = dataView[i].item && isPrimitive(dataView[i].item) ? dataView[i].item === dataItem : dataView[i].item && dataItem && valueGetter(dataView[i].item) == valueGetter(dataItem);\n                if (match) {\n                    element = dataView[i];\n                    break;\n                }\n            }\n\n            return element ? this._getElementByIndex(element.index) : $();\n        },\n\n        _clean: function() {\n            this.result = undefined;\n            this._lastScrollTop = undefined;\n            this._skip = undefined;\n            $(this.heightContainer).remove();\n            this.heightContainer = undefined;\n            this.element.empty();\n        },\n\n        _height: function() {\n            var hasData = !!this.dataSource.view().length,\n                height = this.options.height,\n                itemHeight = this.options.itemHeight,\n                total = this.dataSource.total();\n\n            if (!hasData) {\n                height = 0;\n            } else if (height/itemHeight > total) {\n                height = total * itemHeight;\n            }\n\n            return height;\n        },\n\n        setScreenHeight: function() {\n            var height = this._height();\n\n            this.content.height(height);\n            this._screenHeight = height;\n        },\n\n        screenHeight: function() {\n            return this._screenHeight;\n        },\n\n        _getElementLocation: function(index) {\n            var scrollTop = this.content.scrollTop(),\n                screenHeight = this._screenHeight,\n                itemHeight = this.options.itemHeight,\n                yPosition = index * itemHeight,\n                yDownPostion = yPosition + itemHeight,\n                screenEnd = scrollTop + screenHeight,\n                position;\n\n            if (yPosition === (scrollTop - itemHeight) || (yDownPostion > scrollTop && yPosition < scrollTop)) {\n                position = \"top\";\n            } else if (yPosition === screenEnd || (yPosition < screenEnd && screenEnd < yDownPostion)) {\n                position = \"bottom\";\n            } else if ((yPosition >= scrollTop) && (yPosition <= scrollTop + (screenHeight - itemHeight))) {\n                position = \"inScreen\";\n            } else {\n                position = \"outScreen\";\n            }\n\n            return position;\n        },\n\n        _templates: function() {\n            var options = this.options;\n            var templates = {\n                template: options.template,\n                placeholderTemplate: options.placeholderTemplate,\n                groupTemplate: options.groupTemplate,\n                fixedGroupTemplate: options.fixedGroupTemplate\n            };\n\n            if (options.columns) {\n                for (var i = 0; i < options.columns.length; i++) {\n                    var currentColumn = options.columns[i];\n                    var templateText = currentColumn.field ? currentColumn.field.toString(): \"text\";\n\n                    templates[\"column\"+ i] = currentColumn.template || \"#: \" + templateText + \"#\";\n                }\n            }\n\n            for (var key in templates) {\n                if (typeof templates[key] !== \"function\") {\n                    templates[key] = kendo.template(templates[key] || \"\");\n                }\n            }\n\n            this.templates = templates;\n        },\n\n        _generateItems: function(element, count) {\n            var items = [],\n                item, text,\n                itemHeight = this.options.itemHeight + \"px\",\n                itemClass = this.options.columns && this.options.columns.length ? TABLE_ITEM : LIST_ITEM;\n\n            while(count-- > 0) {\n                text = document.createElement(\"span\");\n                text.className = \"k-list-item-text\";\n\n                item = document.createElement(\"li\");\n                item.tabIndex = -1;\n                item.className = itemClass;\n                item.setAttribute(\"role\", \"option\");\n                item.style.height = itemHeight;\n                item.style.minHeight = itemHeight;\n                item.appendChild(text);\n\n                element.appendChild(item);\n\n                items.push(item);\n            }\n\n            return items;\n        },\n\n        _saveInitialRanges: function() {\n            var ranges = this.dataSource._ranges;\n            var deferred = $.Deferred();\n            deferred.resolve();\n\n            this._rangesList = {};\n            for (var i = 0; i < ranges.length; i++) {\n                this._rangesList[ranges[i].start] = { end: ranges[i].end, deferred: deferred };\n            }\n        },\n\n        _createList: function() {\n            var that = this,\n                content = that.content.get(0),\n                options = that.options,\n                dataSource = that.dataSource;\n\n            if (that.bound()) {\n                that._clean();\n            }\n\n            that._saveInitialRanges();\n            that._buildValueGetter();\n            that.setScreenHeight();\n            that.itemCount = getItemCount(that._screenHeight, options.listScreens, options.itemHeight);\n\n            if (that.itemCount > dataSource.total()) {\n                that.itemCount = dataSource.total();\n            }\n\n            that._items = that._generateItems(that.element[0], that.itemCount);\n\n            that._setHeight(options.itemHeight * dataSource.total());\n            that.options.type = (dataSource.group() || []).length ? \"group\" : \"flat\";\n\n            if (that.options.type === \"flat\") {\n                if (that.header.closest(GROUP_ROW_SEL).length) {\n                    that.header.closest(GROUP_ROW_SEL).hide();\n                } else {\n                    that.header.hide();\n                }\n            } else {\n                if (that.header.closest(GROUP_ROW_SEL).length) {\n                    that.header.closest(GROUP_ROW_SEL).show();\n                } else {\n                    that.header.show();\n                }\n            }\n\n            that.getter = that._getter(function() {\n                that._renderItems(true);\n            });\n\n            that._onScroll = function(scrollTop, force) {\n                var getList = that._listItems(that.getter);\n                return that._fixedHeader(scrollTop, getList(scrollTop, force));\n            };\n\n            that._renderItems = that._whenChanged(\n                scrollCallback(content, that._onScroll),\n                syncList(that._reorderList(that._items, render.bind(that)))\n            );\n\n            that._renderItems();\n            that._calculateGroupPadding(that._screenHeight);\n            that._calculateColumnsHeaderPadding();\n        },\n\n        _setHeight: function(height) {\n            var currentHeight,\n                heightContainer = this.heightContainer;\n\n            if (!heightContainer) {\n                heightContainer = this.heightContainer = appendChild(this.content[0], HEIGHTCONTAINER);\n            } else {\n                currentHeight = heightContainer.offsetHeight;\n            }\n\n            if (height !== currentHeight) {\n                heightContainer.innerHTML = \"\";\n\n                while (height > 0) {\n                    var padHeight = Math.min(height, 250000); //IE workaround, should not create elements with height larger than 250000px\n                    appendChild(heightContainer).style.height = padHeight + \"px\";\n                    height -= padHeight;\n                }\n            }\n        },\n\n        _getter: function() {\n            var lastRequestedRange = null,\n                dataSource = this.dataSource,\n                lastRangeStart = dataSource.skip(),\n                type = this.options.type,\n                pageSize = this.itemCount,\n                flatGroups = {};\n\n            if (dataSource.pageSize() < pageSize) {\n                this.mute(function() {\n                    dataSource.pageSize(pageSize);\n                });\n            }\n\n            return function(index, rangeStart) {\n                var that = this;\n                if (!dataSource.inRange(rangeStart, pageSize)) {\n                    if (lastRequestedRange !== rangeStart) {\n                        lastRequestedRange = rangeStart;\n                        lastRangeStart = rangeStart;\n\n                        if (that._getterDeferred) {\n                            that._getterDeferred.reject();\n                        }\n\n                        that._getterDeferred = that.deferredRange(rangeStart);\n                        that._getterDeferred.then(function() {\n                            var firstItemIndex = that._indexConstraint(that.content[0].scrollTop);\n\n                            that._getterDeferred = null;\n\n                            if (rangeStart <= firstItemIndex && firstItemIndex <= (rangeStart + pageSize)) {\n                                that._fetching = true;\n                                dataSource.range(rangeStart, pageSize);\n                            }\n                        });\n                    }\n\n                    return null;\n                } else {\n                    if (lastRangeStart !== rangeStart) {\n                        this.mute(function() {\n                            dataSource.range(rangeStart, pageSize);\n                            lastRangeStart = rangeStart;\n                        });\n                    }\n\n                    var result;\n                    if (type === \"group\") { //grouped list\n                        if (!flatGroups[rangeStart]) {\n                            var flatGroup = flatGroups[rangeStart] = [];\n                            var groups = dataSource.view();\n                            for (var i = 0, len = groups.length; i < len; i++) {\n                                var group = groups[i];\n                                for (var j = 0, groupLength = group.items.length; j < groupLength; j++) {\n                                    flatGroup.push({ item: group.items[j], group: group.value });\n                                }\n                            }\n                        }\n\n                        result = flatGroups[rangeStart][index - rangeStart];\n                    } else { //flat list\n                        result = dataSource.view()[index - rangeStart];\n                    }\n\n                    return result;\n                }\n            };\n        },\n\n        _fixedHeader: function(scrollTop, list) {\n            var group = this.currentVisibleGroup,\n                itemHeight = this.options.itemHeight,\n                firstVisibleDataItemIndex = Math.floor((scrollTop - list.top) / itemHeight),\n                firstVisibleDataItem = list.items[firstVisibleDataItemIndex];\n\n            if (firstVisibleDataItem && firstVisibleDataItem.item) {\n                var firstVisibleGroup = firstVisibleDataItem.group;\n\n                if (firstVisibleGroup !== group) {\n                    var fixedGroupText = firstVisibleGroup || \"\";\n                    this.header.html(this.templates.fixedGroupTemplate(fixedGroupText));\n                    this.currentVisibleGroup = firstVisibleGroup;\n                }\n            }\n\n            return list;\n        },\n\n        _itemMapper: function(item, index, value) {\n            var listType = this.options.type,\n                itemHeight = this.options.itemHeight,\n                currentIndex = this._focusedIndex,\n                selected = false,\n                current = false,\n                newGroup = false,\n                group = null,\n                match = false,\n                valueGetter = this._valueGetter;\n\n            if (listType === \"group\") {\n                if (item) {\n                    newGroup = index === 0 || (this._currentGroup !== false && this._currentGroup !== item.group);\n                    this._currentGroup = item.group;\n                }\n\n                group = item ? item.group : null;\n                item = item ? item.item : null;\n            }\n\n            if (this.options.mapValueTo === \"dataItem\" && this._selectedDataItems.length && item) {\n                for (var i = 0; i < this._selectedDataItems.length; i++) {\n                    match = valueGetter(this._selectedDataItems[i]) === valueGetter(item);\n                    if (match) {\n                        selected = true;\n                        break;\n                    }\n                }\n            } else if (!this.isFiltered() && value.length && item) {\n                for (var j = 0; j < value.length; j++) {\n                    match = isPrimitive(item) ? value[j] === item : value[j] === valueGetter(item);\n                    if (match) {\n                        value.splice(j , 1);\n                        selected = true;\n                        break;\n                    }\n                }\n            }\n\n            if (currentIndex === index) {\n                current = true;\n            }\n\n            return {\n                item: item ? item : null,\n                group: group,\n                newGroup: newGroup,\n                selected: selected,\n                current: current,\n                index: index,\n                top: index * itemHeight\n            };\n        },\n\n        _range: function(index) {\n            var itemCount = this.itemCount,\n                value = this._values.slice(),\n                items = [],\n                item;\n\n            this._view = {};\n            this._currentGroup = false;\n\n            for (var i = index, length = index + itemCount; i < length; i++) {\n                item = this._itemMapper(this.getter(i, index), i, value);\n                if(items[items.length - 1]){\n                    items[items.length - 1].isLastGroupedItem = item.newGroup;\n                }\n                items.push(item);\n                this._view[item.index] = item;\n            }\n\n            this._dataView = items;\n            return items;\n        },\n\n        _getDataItemsCollection: function(scrollTop, lastScrollTop) {\n            var items = this._range(this._listIndex(scrollTop, lastScrollTop));\n            return {\n                index: items.length ? items[0].index : 0,\n                top: items.length ? items[0].top : 0,\n                items: items\n            };\n        },\n\n        _listItems: function() {\n            var screenHeight = this._screenHeight,\n                options = this.options;\n\n            var theValidator = listValidator(options, screenHeight);\n\n            return (function(value, force) {\n                var result = this.result,\n                    lastScrollTop = this._lastScrollTop;\n\n                if (force || !result || !theValidator(result, value, lastScrollTop)) {\n                    result = this._getDataItemsCollection(value, lastScrollTop);\n                }\n\n                this._lastScrollTop = value;\n                this.result = result;\n\n                return result;\n            }).bind(this);\n        },\n\n        _whenChanged: function(getter, callback) {\n            var current;\n\n            return function(force) {\n                var theNew = getter(force);\n\n                if (theNew !== current) {\n                    current = theNew;\n                    callback(theNew, force);\n                }\n            };\n        },\n\n        _reorderList: function(list, reorder) {\n            var that = this;\n            var length = list.length;\n            var currentOffset = -Infinity;\n            reorder = map2(reorder, this.templates).bind(this);\n\n            return function(list2, offset, force) {\n                var diff = offset - currentOffset;\n                var range, range2;\n\n                if (force || Math.abs(diff) >= length) { // full reorder\n                    range = list;\n                    range2 = list2;\n                } else { // partial reorder\n                    range = reshift(list, diff);\n                    range2 = diff > 0 ? list2.slice(-diff) : list2.slice(0, -diff);\n                }\n\n                reorder(range, range2, that.bound());\n\n                currentOffset = offset;\n            };\n        },\n\n        _bufferSizes: function() {\n            var options = this.options;\n\n            return bufferSizes(this._screenHeight, options.listScreens, options.oppositeBuffer);\n        },\n\n        _indexConstraint: function(position) {\n            var itemCount = this.itemCount,\n                itemHeight = this.options.itemHeight,\n                total = this.dataSource.total();\n\n            return Math.min(Math.max(total - itemCount, 0), Math.max(0, Math.floor(position / itemHeight )));\n        },\n\n        _listIndex: function(scrollTop, lastScrollTop) {\n            var buffers = this._bufferSizes(),\n                position;\n\n            position = scrollTop - ((scrollTop > lastScrollTop) ? buffers.down : buffers.up);\n\n            return this._indexConstraint(position);\n        },\n\n        _selectable: function() {\n            var itemClass = this.options.columns && this.options.columns.length ? TABLE_ITEM : LIST_ITEM;\n\n            if (this.options.selectable) {\n                this._selectProxy = this._clickHandler.bind(this);\n                this.element.on(CLICK + VIRTUAL_LIST_NS, \".\" + itemClass, this._selectProxy);\n            }\n        },\n\n        getElementIndex: function(element) {\n            if (!(element instanceof jQuery)) {\n                return undefined;\n            }\n\n            return parseInt(element.attr(\"data-offset-index\"), 10);\n        },\n\n        _getIndecies: function(candidate) {\n            var result = [], data;\n\n            if (typeof candidate === \"function\") {\n                data = this.dataSource.flatView();\n                for (var idx = 0; idx < data.length; idx++) {\n                    if (candidate(data[idx])) {\n                        result.push(idx);\n                        break;\n                    }\n                }\n            }\n\n            if (typeof candidate === \"number\") {\n                result.push(candidate);\n            }\n\n            var elementIndex = this.getElementIndex(candidate);\n            if (!isNaN(elementIndex)) {\n                result.push(elementIndex);\n            }\n\n            if (candidate instanceof Array) {\n                result = candidate;\n            }\n\n            return result;\n        },\n\n        _deselect: function(indices) {\n            var removed = [],\n                selectedIndex,\n                dataItem,\n                selectedIndexes = this._selectedIndexes,\n                selectedDataItems = this._selectedDataItems,\n                position = 0,\n                selectable = this.options.selectable,\n                removedindexesCounter = 0,\n                valueGetter = this._valueGetter,\n                item, match,\n                result = null;\n\n            indices = indices.slice();\n\n            if (selectable === true || !indices.length) { //deselect everything\n                for (var idx = 0; idx < selectedIndexes.length; idx++) {\n                    if (selectedIndexes[idx] !== undefined) {\n                        this._getElementByIndex(selectedIndexes[idx]).removeClass(SELECTED);\n                    } else if (selectedDataItems[idx]) {\n                        this._getElementByDataItem(selectedDataItems[idx]).removeClass(SELECTED);\n                    }\n\n                    removed.push({\n                        index: selectedIndexes[idx],\n                        position: idx,\n                        dataItem: selectedDataItems[idx]\n                    });\n                }\n\n                this._values = [];\n                this._selectedDataItems = [];\n                this._selectedIndexes = [];\n            } else if (selectable === \"multiple\") {\n                for (var i = 0; i < indices.length; i++) {\n                    result = null;\n                    position = $.inArray(indices[i], selectedIndexes);\n                    dataItem = this.dataItemByIndex(indices[i]);\n\n                    if (position === -1 && dataItem) {\n                        for (var j = 0; j < selectedDataItems.length; j++) {\n                            match = isPrimitive(dataItem) ? selectedDataItems[j] === dataItem : valueGetter(selectedDataItems[j]) === valueGetter(dataItem);\n                            if (match) {\n                                item = this._getElementByIndex(indices[i]);\n                                result = this._deselectSingleItem(item, j, indices[i], removedindexesCounter);\n                            }\n                        }\n                    } else {\n                        selectedIndex = selectedIndexes[position];\n\n                        if (selectedIndex !== undefined) {\n                            item = this._getElementByIndex(selectedIndex);\n                            result = this._deselectSingleItem(item, position, selectedIndex, removedindexesCounter);\n                        }\n                    }\n\n                    if (result) {\n                        indices.splice(i, 1);\n                        removed.push(result);\n\n                        removedindexesCounter++;\n                        i--;\n                    }\n                }\n            }\n\n            return {\n                indices: indices,\n                removed: removed\n            };\n        },\n\n        _deselectSingleItem: function(item, position, selectedIndex, removedindexesCounter) {\n            var dataItem;\n\n            if (!item.hasClass(SELECTED)) {\n                return;\n            }\n\n            item.removeClass(SELECTED);\n            this._values.splice(position, 1);\n            this._selectedIndexes.splice(position, 1);\n            dataItem = this._selectedDataItems.splice(position, 1)[0];\n\n            return {\n                index: selectedIndex,\n                position: position + removedindexesCounter,\n                dataItem: dataItem\n            };\n        },\n\n        _deselectCurrentValues: function(indices) {\n            var children = this.element[0].children;\n            var value, index, position;\n            var values = this._values;\n            var removed = [];\n            var idx = 0;\n            var j;\n\n            if (this.options.selectable !== \"multiple\" || !this.isFiltered()) {\n                return [];\n            }\n\n            if (indices[0] === -1) {\n                $(children).removeClass(SELECTED);\n                removed = $.map(this._selectedDataItems.slice(0), function(dataItem, idx) {\n                   return {\n                      dataItem: dataItem,\n                      position: idx\n                   };\n                });\n                this._selectedIndexes = [];\n                this._selectedDataItems = [];\n                this._values = [];\n                return removed;\n            }\n\n            for (; idx < indices.length; idx++) {\n                position = -1;\n                index = indices[idx];\n                if (this.dataItemByIndex(index)) {\n                    value = this._valueGetter(this.dataItemByIndex(index));\n                }\n\n                for (j = 0; j < values.length; j++) {\n                    if (value == values[j]) {\n                        position = j;\n                        break;\n                    }\n                }\n\n                if (position > -1) {\n                    removed.push(this.removeAt(position));\n                    $(children[index]).removeClass(SELECTED);\n                }\n            }\n\n            return removed;\n        },\n\n        _getSkip: function(index, take) {\n            var page = index < take ? 1 : Math.floor(index / take) + 1;\n\n            return (page - 1) * take;\n        },\n\n        _select: function(indexes) {\n            var that = this,\n                singleSelection = this.options.selectable !== \"multiple\",\n                dataSource = this.dataSource,\n                dataItem, oldSkip,\n                take = this.itemCount,\n                valueGetter = this._valueGetter,\n                added = [];\n\n            if (singleSelection) {\n                that._selectedIndexes = [];\n                that._selectedDataItems = [];\n                that._values = [];\n            }\n\n            oldSkip = dataSource.skip();\n\n            $.each(indexes, function(_, index) {\n                var skip = that._getSkip(index, take);\n\n                that.mute(function() {\n                    dataSource.range(skip, take); //switch the range to get the dataItem\n\n                    dataItem = that._findDataItem(dataSource.view(), [index - skip]);\n                    that._selectedIndexes.push(index);\n                    that._selectedDataItems.push(dataItem);\n                    that._values.push(isPrimitive(dataItem) ? dataItem : valueGetter(dataItem));\n\n                    added.push({\n                        index: index,\n                        dataItem: dataItem\n                    });\n\n                    that._getElementByIndex(index).addClass(SELECTED);\n\n                    dataSource.range(oldSkip, take); //switch back the range\n                });\n            });\n\n            that._values = that._checkValuesOrder(that._values);\n\n            return added;\n        },\n\n        _clickHandler: function(e) {\n            var item = $(e.currentTarget);\n\n            if (!e.isDefaultPrevented() && item.attr(\"data-uid\")) {\n                this.trigger(CLICK, { item: item });\n            }\n        },\n\n        _buildValueGetter: function() {\n            this._valueGetter = kendo.getter(this.options.dataValueField);\n        },\n\n        _calculateGroupPadding: function (height) {\n            var firstItem = this.items().first(),\n                groupHeader = this.header,\n                padding = 0;\n\n            if (groupHeader[0] && groupHeader[0].style.display !== \"none\") {\n                if (height !== \"auto\") {\n                    padding = kendo.support.scrollbar();\n                }\n\n                padding += parseFloat(firstItem.css(\"border-right-width\"), 10) + parseFloat(firstItem.children(\".k-group\").css(\"right\"), 10);\n\n                groupHeader.css(\"padding-right\", padding);\n            }\n        },\n\n        _calculateColumnsHeaderPadding: function () {\n            if(this.options.columns && this.options.columns.length){\n                var isRtl = kendo.support.isRtl(this.wrapper);\n                var scrollbar = kendo.support.scrollbar();\n                var columnsHeader = this.content.parent().parent().find(\".k-table-header\");\n                var total = this.dataSource.total();\n\n                columnsHeader.css((isRtl ? \"padding-left\" : \"padding-right\"), total ? scrollbar : 0);\n            }\n        }\n\n    });\n\n    kendo.ui.VirtualList = VirtualList;\n    kendo.ui.plugin(VirtualList);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.autocomplete',[ \"kendo.list\", \"kendo.mobile.scroller\", \"kendo.virtuallist\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"autocomplete\",\n    name: \"AutoComplete\",\n    category: \"web\",\n    description: \"The AutoComplete widget provides suggestions depending on the typed text.It also allows multiple value entries.\",\n    depends: [ \"list\" ],\n    features: [ {\n        id: \"mobile-scroller\",\n        name: \"Mobile scroller\",\n        description: \"Support for kinetic scrolling in mobile device\",\n        depends: [ \"mobile.scroller\" ]\n    }, {\n        id: \"virtualization\",\n        name: \"VirtualList\",\n        description: \"Support for virtualization\",\n        depends: [ \"virtuallist\" ]\n    } ]\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        support = kendo.support,\n        caret = kendo.caret,\n        activeElement = kendo._activeElement,\n        placeholderSupported = support.placeholder,\n        ui = kendo.ui,\n        List = ui.List,\n        keys = kendo.keys,\n        DataSource = kendo.data.DataSource,\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_READONLY = \"aria-readonly\",\n        CHANGE = \"change\",\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        FOCUSED = \"k-focus\",\n        SELECTED = \"k-selected\",\n        HIDDENCLASS = \"k-hidden\",\n        STATEDISABLED = \"k-disabled\",\n        AUTOCOMPLETEVALUE = \"off\",\n        HOVER = \"k-hover\",\n        ns = \".kendoAutoComplete\",\n        HOVEREVENTS = \"mouseenter\" + ns + \" mouseleave\" + ns;\n\n    function indexOfWordAtCaret(caretIdx, text, separator) {\n        return separator ? text.substring(0, caretIdx).split(separator).length - 1 : 0;\n    }\n\n    function wordAtCaret(caretIdx, text, separator) {\n        return text.split(separator)[indexOfWordAtCaret(caretIdx, text, separator)];\n    }\n\n    function replaceWordAtCaret(caretIdx, text, word, separator, defaultSeparator) {\n        var words = text.split(separator);\n\n        words.splice(indexOfWordAtCaret(caretIdx, text, separator), 1, word);\n\n        if (separator && words[words.length - 1] !== \"\") {\n            words.push(\"\");\n        }\n\n        return words.join(defaultSeparator);\n    }\n\n    var AutoComplete = List.extend({\n        init: function (element, options) {\n            var that = this, wrapper, disabled;\n\n            that.ns = ns;\n            options = Array.isArray(options) ? { dataSource: options} : options;\n\n            List.fn.init.call(that, element, options);\n\n            element = that.element;\n            options = that.options;\n\n            options.placeholder = options.placeholder || element.attr(\"placeholder\");\n            if (placeholderSupported) {\n                element.attr(\"placeholder\", options.placeholder);\n            }\n\n            that._wrapper();\n            that._loader();\n            that._clearButton();\n\n            that._dataSource();\n            that._ignoreCase();\n\n            element[0].type = \"text\";\n            wrapper = that.wrapper;\n\n            that._popup();\n\n            element\n                .addClass(\"k-input-inner\")\n                .on(\"keydown\" + ns, that._keydown.bind(that))\n                .on(\"keypress\" + ns, that._keypress.bind(that))\n                .on(\"input\" + ns, that._search.bind(that))\n                .on(\"paste\" + ns, that._search.bind(that))\n                .on(\"focus\" + ns, function () {\n                    that._prev = that._accessor();\n                    that._oldText = that._prev;\n                    that._placeholder(false);\n                    wrapper.addClass(FOCUSED);\n                })\n                .on(\"focusout\" + ns, function () {\n                    that._change();\n                    that._placeholder();\n                    that.close();\n                    wrapper.removeClass(FOCUSED);\n                })\n                .attr({\n                    autocomplete: AUTOCOMPLETEVALUE,\n                    role: \"combobox\",\n                    \"aria-expanded\": false\n                });\n\n            that._clear.on(\"click\" + ns + \" touchend\" + ns, that._clearValue.bind(that));\n            that._enable();\n\n            that._old = that._accessor();\n\n            if (element[0].id) {\n                element.attr(\"aria-owns\", that.ul[0].id);\n            }\n\n            that._aria();\n\n            that._placeholder();\n\n            that._initList();\n\n            disabled = $(that.element).parents(\"fieldset\").is(':disabled');\n\n            if (disabled) {\n                that.enable(false);\n            }\n\n            that.listView.bind(\"click\", function(e) { e.preventDefault(); });\n\n            that._resetFocusItemHandler = that._resetFocusItem.bind(that);\n\n            kendo.notify(that);\n            that._toggleCloseVisibility();\n            that._applyCssClasses();\n        },\n\n        options: {\n            name: \"AutoComplete\",\n            enabled: true,\n            suggest: false,\n            template: \"\",\n            groupTemplate: \"#:data#\",\n            fixedGroupTemplate: \"#:data#\",\n            dataTextField: \"\",\n            minLength: 1,\n            enforceMinLength: false,\n            delay: 200,\n            height: 200,\n            filter: \"startswith\",\n            ignoreCase: true,\n            highlightFirst: false,\n            separator: null,\n            placeholder: \"\",\n            animation: {},\n            virtual: false,\n            value: null,\n            clearButton: true,\n            autoWidth: false,\n            popup: null,\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        _dataSource: function() {\n            var that = this;\n\n            if (that.dataSource && that._refreshHandler) {\n                that._unbindDataSource();\n            } else {\n                that._progressHandler = that._showBusy.bind(that);\n                that._errorHandler = that._hideBusy.bind(that);\n            }\n\n            that.dataSource = DataSource.create(that.options.dataSource)\n                .bind(\"progress\", that._progressHandler)\n                .bind(\"error\", that._errorHandler);\n        },\n\n        setDataSource: function(dataSource) {\n            this.options.dataSource = dataSource;\n            this._dataSource();\n\n            this.listView.setDataSource(this.dataSource);\n        },\n\n        events: [\n            \"open\",\n            \"close\",\n            CHANGE,\n            \"select\",\n            \"filtering\",\n            \"dataBinding\",\n            \"dataBound\"\n        ],\n\n        setOptions: function(options) {\n            var listOptions = this._listOptions(options);\n\n            List.fn.setOptions.call(this, options);\n\n            this.listView.setOptions(listOptions);\n            this._accessors();\n            this._aria();\n            this._clearButton();\n        },\n\n        _listOptions: function(options) {\n            var listOptions = List.fn._listOptions.call(this, $.extend(options, {\n                skipUpdateOnBind: true\n            }));\n\n            listOptions.dataValueField = listOptions.dataTextField;\n            listOptions.selectedItemChange = null;\n\n            return listOptions;\n        },\n\n        _editable: function(options) {\n            var that = this,\n                element = that.element,\n                wrapper = that.wrapper.off(ns),\n                readonly = options.readonly,\n                disable = options.disable;\n\n            if (!readonly && !disable) {\n                wrapper\n                    .removeClass(STATEDISABLED)\n                    .on(HOVEREVENTS, that._toggleHover);\n\n                element.prop(DISABLED, false)\n                       .prop(READONLY, false)\n                       .attr(ARIA_DISABLED, false)\n                       .attr(ARIA_READONLY, false);\n            } else {\n                wrapper\n                    .addClass(disable ? STATEDISABLED : \"\")\n                    .removeClass(disable ? \"\" : STATEDISABLED);\n\n                element.attr(DISABLED, disable)\n                       .attr(READONLY, readonly)\n                       .attr(ARIA_DISABLED, disable)\n                       .attr(ARIA_READONLY, readonly);\n            }\n        },\n\n        close: function () {\n            var that = this;\n            var current = that.listView.focus();\n\n            if (current) {\n                current.removeClass(SELECTED);\n            }\n\n            that.popup.close();\n            that._deactivateItem();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.element.off(ns);\n            that._clear.off(ns);\n            that.wrapper.off(ns);\n\n            List.fn.destroy.call(that);\n        },\n\n        refresh: function() {\n            this.listView.refresh();\n        },\n\n        select: function (li) {\n            this._select(li);\n        },\n\n        search: function (word) {\n            var that = this,\n            options = that.options,\n            ignoreCase = options.ignoreCase,\n            separator = that._separator(),\n            length,\n            accentFoldingFiltering = that.dataSource.options.accentFoldingFiltering;\n\n            word = word || that._accessor();\n\n            clearTimeout(that._typingTimeout);\n\n            if (separator) {\n                word = wordAtCaret(caret(that.element)[0], word, separator);\n            }\n\n            length = word.length;\n\n            if ((!options.enforceMinLength && !length) || length >= options.minLength) {\n                that._open = true;\n\n                that._mute(function() {\n                    this.listView.value([]);\n                });\n\n                that._filterSource({\n                    value: ignoreCase ? (accentFoldingFiltering ? word.toLocaleLowerCase(accentFoldingFiltering) : word.toLowerCase()) : word,\n                    operator: options.filter,\n                    field: options.dataTextField,\n                    ignoreCase: ignoreCase\n                });\n\n                that.one(\"close\", that._unifySeparators.bind(that));\n            }\n            that._toggleCloseVisibility();\n        },\n\n        suggest: function (word) {\n            var that = this,\n                key = that._last,\n                value = that._accessor(),\n                element = that.element[0],\n                caretIdx = caret(element)[0],\n                separator = that._separator(),\n                words = value.split(separator),\n                wordIndex = indexOfWordAtCaret(caretIdx, value, separator),\n                selectionEnd = caretIdx,\n                idx,\n                accentFoldingFiltering = that.dataSource.options.accentFoldingFiltering;\n\n            if (key == keys.BACKSPACE || key == keys.DELETE) {\n                that._last = undefined;\n                return;\n            }\n\n            word = word || \"\";\n\n            if (typeof word !== \"string\") {\n                if (word[0]) {\n                    word = that.dataSource.view()[List.inArray(word[0], that.ul[0])];\n                }\n\n                word = word ? that._text(word) : \"\";\n            }\n\n            if (caretIdx <= 0) {\n                caretIdx = (accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase()).indexOf(accentFoldingFiltering ? word.toLocaleLowerCase(accentFoldingFiltering) : word.toLowerCase()) + 1;\n            }\n\n            idx = value.substring(0, caretIdx).lastIndexOf(separator);\n            idx = idx > -1 ? caretIdx - (idx + separator.length) : caretIdx;\n            value = words[wordIndex].substring(0, idx);\n\n            if (word) {\n                word = word.toString();\n                idx = (accentFoldingFiltering ? word.toLocaleLowerCase(accentFoldingFiltering) : word.toLowerCase()).indexOf(accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase());\n                if (idx > -1) {\n                    word = word.substring(idx + value.length);\n\n                    selectionEnd = caretIdx + word.length;\n\n                    value += word;\n                }\n\n                if (separator && words[words.length - 1] !== \"\") {\n                    words.push(\"\");\n                }\n\n            }\n\n            words[wordIndex] = value;\n\n            that._accessor(words.join(separator || \"\"));\n\n            if (element === activeElement()) {\n                caret(element, caretIdx, selectionEnd);\n            }\n        },\n\n        value: function (value) {\n            if (value !== undefined) {\n                this.listView.value(value);\n\n                this._accessor(value);\n                this._old = this._accessor();\n                this._oldText = this._accessor();\n            } else {\n                return this._accessor();\n            }\n            this._toggleCloseVisibility();\n        },\n\n        _click: function(e) {\n            var item = e.item;\n            var that = this;\n            var element = that.element;\n            var dataItem = that.listView.dataItemByIndex(that.listView.getElementIndex(item));\n\n            e.preventDefault();\n\n            that._active = true;\n\n            if (that.trigger(\"select\", { dataItem: dataItem, item: item })) {\n                that.close();\n                return;\n            }\n            that._oldText = element.val();\n            that._select(item).done(function() {\n                that._blur();\n\n                caret(element, element.val().length);\n            });\n        },\n\n        _clearText: $.noop,\n\n        _resetFocusItem: function() {\n            var index = this.options.highlightFirst ? 0 : -1;\n\n            if (this.options.virtual) {\n                this.listView.scrollTo(0);\n            }\n\n            this.listView.focus(index);\n        },\n\n        _listBound: function() {\n            var that = this;\n            var popup = that.popup;\n            var options = that.options;\n            var data = that.dataSource.flatView();\n            var length = data.length;\n            var groupsLength = that.dataSource._group ? that.dataSource._group.length : 0;\n            var isActive = that.element[0] === activeElement();\n            var action;\n\n            that._renderFooter();\n            that._renderNoData();\n            that._toggleNoData(!length);\n            that._toggleHeader(!!groupsLength && !!length);\n\n            that._resizePopup();\n\n            popup.position();\n\n            if (length) {\n                if (options.suggest && isActive && that._inputValue()) {\n                    that.suggest(data[0]);\n                }\n            }\n\n            if (that._open) {\n                that._open = false;\n                action = that._allowOpening() ? \"open\" : \"close\";\n\n                if (that._typingTimeout && !isActive) {\n                    action = \"close\";\n                }\n\n                if (length) {\n                    that._resetFocusItem();\n\n                    if (options.virtual) {\n                        that.popup\n                            .unbind(\"activate\", that._resetFocusItemHandler)\n                            .one(\"activate\", that._resetFocusItemHandler);\n                    }\n                }\n\n                popup[action]();\n                that._typingTimeout = undefined;\n            }\n\n            if (that._touchScroller) {\n                that._touchScroller.reset();\n            }\n\n            that._hideBusy();\n\n            that.trigger(\"dataBound\");\n        },\n\n        _mute: function(callback) {\n            this._muted = true;\n            callback.call(this);\n            this._muted = false;\n        },\n\n        _listChange: function() {\n            var isActive = this._active || this.element[0] === activeElement();\n\n            if (isActive && !this._muted) {\n                this._selectValue(this.listView.selectedDataItems()[0]);\n            }\n        },\n\n        _selectValue: function(dataItem) {\n            var separator = this._separator();\n            var text = \"\";\n\n            if (dataItem) {\n                text = this._text(dataItem);\n            }\n\n            if (text === null) {\n                text = \"\";\n            }\n\n            if (separator) {\n                text = replaceWordAtCaret(caret(this.element)[0], this._accessor(), text, separator, this._defaultSeparator());\n            }\n\n            this._prev = text;\n            this._accessor(text);\n            this._placeholder();\n        },\n\n        _unifySeparators: function() {\n            this._accessor(this.value().split(this._separator()).join(this._defaultSeparator()));\n            return this;\n        },\n\n        _preselect: function(value, text) {\n            this._inputValue(text);\n            this._accessor(value);\n\n            this._old = this.oldText =  this._accessor();\n\n            this.listView.setValue(value);\n            this._placeholder();\n        },\n\n        _change: function() {\n            var that = this;\n            var value = that._unifySeparators().value();\n            var trigger = value !== List.unifyType(that._old, typeof value);\n\n            var valueUpdated = trigger && !that._typing;\n            var itemSelected = that._oldText !== value;\n\n            that._old = value;\n            that._oldText = value;\n\n            if (valueUpdated || itemSelected) {\n                // trigger the DOM change event so any subscriber gets notified\n                that.element.trigger(CHANGE);\n            }\n\n            if (trigger) {\n                that.trigger(CHANGE);\n            }\n\n            that.typing = false;\n            that._toggleCloseVisibility();\n        },\n\n        _accessor: function (value) {\n            var that = this,\n                element = that.element[0];\n\n            if (value !== undefined) {\n                element.value = value === null ? \"\" : value;\n                that._placeholder();\n            } else {\n                value = element.value;\n\n                if (element.className.indexOf(\"k-readonly\") > -1) {\n                    if (value === that.options.placeholder) {\n                        return \"\";\n                    } else {\n                        return value;\n                    }\n                }\n\n                return value;\n            }\n        },\n\n        _keydown: function (e) {\n            var that = this;\n            var key = e.keyCode;\n            var listView = that.listView;\n            var visible = that.popup.visible();\n            var current = listView.focus();\n\n            that._last = key;\n\n            if (key === keys.DOWN) {\n                if (visible) {\n                    this._move(current ? \"focusNext\" : \"focusFirst\");\n                } else if (that.value()) {\n                    that._filterSource({\n                        value: that.ignoreCase ? that.value().toLowerCase() : that.value(),\n                        operator: that.options.filter,\n                        field: that.options.dataTextField,\n                        ignoreCase: that.ignoreCase\n                    }).done(function () {\n                        if (that._allowOpening()) {\n                            that._resetFocusItem();\n                            that.popup.open();\n                        }\n                    });\n                }\n                e.preventDefault();\n            } else if (key === keys.UP) {\n                if (visible) {\n                    this._move(current ? \"focusPrev\" : \"focusLast\");\n                }\n                e.preventDefault();\n            } else if (key === keys.HOME) {\n                this._move(\"focusFirst\");\n            } else if (key === keys.END) {\n                this._move(\"focusLast\");\n            } else if (key === keys.ENTER || key === keys.TAB) {\n\n                if (key === keys.ENTER && visible) {\n                    e.preventDefault();\n                }\n\n                if (visible && current) {\n                    var dataItem = listView.dataItemByIndex(listView.getElementIndex(current));\n                    if (that.trigger(\"select\", { dataItem: dataItem, item: current })) {\n                        return;\n                    }\n\n                    this._select(current);\n                }\n\n                this._blur();\n            } else if (key === keys.ESC) {\n                if (visible) {\n                    e.preventDefault();\n                } else {\n                    that._clearValue();\n                }\n                that.close();\n            } else if (that.popup.visible() && (key === keys.PAGEDOWN || key === keys.PAGEUP)) {\n                e.preventDefault();\n\n                var direction = key === keys.PAGEDOWN ? 1 : -1;\n                listView.scrollWith(direction * listView.screenHeight());\n            } else {\n                // In some cases when the popup is opened resize is triggered which will cause it to close\n                // Setting the below flag will prevent this from happening\n                that.popup._hovered = true;\n                that._search();\n            }\n        },\n\n        _keypress: function() {\n            this._oldText = this.element.val();\n            this._typing = true;\n        },\n\n        _move: function (action) {\n            this.listView[action]();\n\n            if (this.options.suggest) {\n                this.suggest(this.listView.focus());\n            }\n        },\n\n        _hideBusy: function () {\n            var that = this;\n            clearTimeout(that._busy);\n            that._loading.addClass(HIDDENCLASS);\n            that.element.attr(\"aria-busy\", false);\n            that._busy = null;\n            that._showClear();\n        },\n\n        _showBusy: function () {\n            var that = this;\n\n            if (that._busy) {\n                return;\n            }\n\n            that._busy = setTimeout(function () {\n                that.element.attr(\"aria-busy\", true);\n                that._loading.removeClass(HIDDENCLASS);\n                that._hideClear();\n            }, 100);\n        },\n\n        _placeholder: function(show) {\n            if (placeholderSupported) {\n                return;\n            }\n\n            var that = this,\n                element = that.element,\n                placeholder = that.options.placeholder,\n                value;\n\n            if (placeholder) {\n                value = element.val();\n\n                if (show === undefined) {\n                    show = !value;\n                }\n\n                if (!show) {\n                    if (value !== placeholder) {\n                        placeholder = value;\n                    } else {\n                        placeholder = \"\";\n                    }\n                }\n\n                if (value === that._old && !show) {\n                    return;\n                }\n\n                element.toggleClass(\"k-readonly\", show)\n                       .val(placeholder);\n\n                if (!placeholder && element[0] === document.activeElement) {\n                    caret(element[0], 0, 0);\n                }\n            }\n        },\n\n        _separator: function() {\n            var separator = this.options.separator;\n            if (separator instanceof Array) {\n               return new RegExp(separator.join(\"|\"), 'gi');\n            }\n            return separator;\n        },\n\n        _defaultSeparator: function() {\n            var separator = this.options.separator;\n            if (separator instanceof Array) {\n                return separator[0];\n            }\n            return separator;\n        },\n\n        _inputValue: function() {\n            return this.element.val();\n        },\n\n        _search: function () {\n            var that = this;\n            clearTimeout(that._typingTimeout);\n\n            that._typingTimeout = setTimeout(function () {\n                if (that._prev !== that._accessor()) {\n                    that._prev = that._accessor();\n                    that.search();\n                }\n            }, that.options.delay);\n        },\n\n        _select: function(candidate) {\n            var that = this;\n            that._active = true;\n\n            return that.listView.select(candidate).done(function() {\n                that._active = false;\n            });\n        },\n\n        _loader: function() {\n            this._loading = $('<span class=\"k-icon k-i-loading k-input-loading-icon ' + HIDDENCLASS + '\"></span>').insertAfter(this.element);\n        },\n\n        _clearButton: function() {\n            List.fn._clearButton.call(this);\n\n            if (this.options.clearButton) {\n                this._clear.insertAfter(this.element);\n                this.wrapper.addClass(\"k-autocomplete-clearable\");\n            }\n        },\n\n        _toggleHover: function(e) {\n            $(e.currentTarget).toggleClass(HOVER, e.type === \"mouseenter\");\n        },\n\n        _toggleCloseVisibility: function() {\n            if (this.value()) {\n                this._showClear();\n            } else {\n                this._hideClear();\n            }\n        },\n\n        _wrapper: function () {\n            var that = this,\n                element = that.element,\n                DOMelement = element[0],\n                wrapper;\n\n            wrapper = element.parent();\n\n            if (!wrapper.is(\"span.k-autocomplete\")) {\n                wrapper = element.wrap(\"<span />\").parent();\n            }\n\n            wrapper.attr(\"tabindex\", -1);\n\n            wrapper[0].style.cssText = DOMelement.style.cssText;\n            element.css({\n                width: \"\",\n                height: DOMelement.style.height\n            });\n\n            that._focused = that.element;\n            that.wrapper = wrapper\n                .addClass(\"k-autocomplete k-input\")\n                .addClass(DOMelement.className)\n                .removeClass('input-validation-error');\n        },\n\n        _clearValue: function() {\n            List.fn._clearValue.call(this);\n            this.element.focus();\n        }\n    });\n\n    ui.plugin(AutoComplete);\n\n    kendo.cssProperties.registerPrefix(\"AutoComplete\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"AutoComplete\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.dropdownlist',[ \"kendo.list\", \"kendo.mobile.scroller\", \"kendo.virtuallist\", \"kendo.html.button\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"dropdownlist\",\n    name: \"DropDownList\",\n    category: \"web\",\n    description: \"The DropDownList widget displays a list of values and allows the selection of a single value from the list.\",\n    depends: [ \"list\", \"html.button\" ],\n    features: [ {\n        id: \"mobile-scroller\",\n        name: \"Mobile scroller\",\n        description: \"Support for kinetic scrolling in mobile device\",\n        depends: [ \"mobile.scroller\" ]\n    }, {\n        id: \"virtualization\",\n        name: \"VirtualList\",\n        description: \"Support for virtualization\",\n        depends: [ \"virtuallist\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        html = kendo.html,\n        List = ui.List,\n        Select = ui.Select,\n        support = kendo.support,\n        activeElement = kendo._activeElement,\n        ObservableObject = kendo.data.ObservableObject,\n        keys = kendo.keys,\n        ns = \".kendoDropDownList\",\n        nsFocusEvent = ns + \"FocusEvent\",\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        CHANGE = \"change\",\n        FOCUSED = \"k-focus\",\n        STATEDISABLED = \"k-disabled\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_READONLY = \"aria-readonly\",\n        CLICKEVENTS = \"click\" + ns + \" touchend\" + ns,\n        HOVEREVENTS = \"mouseenter\" + ns + \" mouseleave\" + ns,\n        TABINDEX = \"tabindex\",\n        STATE_FILTER = \"filter\",\n        STATE_ACCEPT = \"accept\",\n        MSG_INVALID_OPTION_LABEL = \"The `optionLabel` option is not valid due to missing fields. Define a custom optionLabel as shown here http://docs.telerik.com/kendo-ui/api/javascript/ui/dropdownlist#configuration-optionLabel\",\n        OPEN = \"open\",\n        CLOSE = \"close\";\n\n    var DropDownList = Select.extend( {\n        init: function(element, options) {\n            var that = this;\n            var index = options && options.index;\n            var optionLabel, text, disabled;\n\n            that.ns = ns;\n            options = Array.isArray(options) ? { dataSource: options } : options;\n\n            Select.fn.init.call(that, element, options);\n\n            options = that.options;\n            element = that.element.on(\"focus\" + ns, that._focusHandler.bind(that));\n\n            that._focusInputHandler = that._focusInput.bind(that);\n\n            that.optionLabel = $();\n            that._optionLabel();\n\n            that._inputTemplate();\n\n            that._reset();\n\n            that._prev = \"\";\n            that._word = \"\";\n\n            that._wrapper();\n\n            that._tabindex();\n            that.wrapper.data(TABINDEX, that.wrapper.attr(TABINDEX));\n\n            that._span();\n\n            that._popup();\n\n            that._mobile();\n\n            that._dataSource();\n\n            that._ignoreCase();\n\n            that._filterHeader();\n\n            that._aria();\n\n            that._enable();\n\n            that._attachFocusHandlers();\n\n            that._oldIndex = that.selectedIndex = -1;\n\n            if (index !== undefined) {\n                options.index = index;\n            }\n\n            that._initialIndex = options.index;\n\n            that.requireValueMapper(that.options);\n            that._initList();\n            that.listView.one(\"dataBound\", that._attachAriaActiveDescendant.bind(that));\n\n            that._cascade();\n\n            that.one(\"set\", function(e) {\n                if (!e.sender.listView.bound() && that.hasOptionLabel()) {\n                    that._textAccessor(that._optionLabelText());\n                }\n            });\n\n            if (options.autoBind) {\n                that.dataSource.fetch();\n            } else if (that.selectedIndex === -1) { //selectedIndex !== -1 when cascade functionality happens instantly\n                text = options.text || \"\";\n                if (!text) {\n                    optionLabel = options.optionLabel;\n\n                    if (optionLabel && options.index === 0) {\n                        text = optionLabel;\n                    } else if (that._isSelect) {\n                        text = element.children(\":selected\").text();\n                    }\n                }\n\n                that._textAccessor(text);\n            }\n\n            disabled = $(that.element).parents(\"fieldset\").is(':disabled');\n\n            if (disabled) {\n                that.enable(false);\n            }\n\n            that.listView.bind(\"click\", function(e) { e.preventDefault(); });\n\n            kendo.notify(that);\n            that._applyCssClasses();\n        },\n\n        options: {\n            name: \"DropDownList\",\n            enabled: true,\n            autoBind: true,\n            index: 0,\n            text: null,\n            value: null,\n            delay: 500,\n            height: 200,\n            dataTextField: \"\",\n            dataValueField: \"\",\n            optionLabel: \"\",\n            cascadeFrom: \"\",\n            cascadeFromField: \"\",\n            cascadeFromParentField: \"\",\n            ignoreCase: true,\n            animation: {},\n            filter: \"none\",\n            minLength: 1,\n            enforceMinLength: false,\n            virtual: false,\n            template: null,\n            valueTemplate: null,\n            optionLabelTemplate: null,\n            groupTemplate: \"#:data#\",\n            fixedGroupTemplate: \"#:data#\",\n            autoWidth: false,\n            popup: null,\n            filterTitle: null,\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        events: [\n            \"open\",\n            \"close\",\n            CHANGE,\n            \"select\",\n            \"filtering\",\n            \"dataBinding\",\n            \"dataBound\",\n            \"cascade\",\n            \"set\",\n            \"kendoKeydown\"\n        ],\n\n        setOptions: function(options) {\n            Select.fn.setOptions.call(this, options);\n\n            this.listView.setOptions(this._listOptions(options));\n\n            this._optionLabel();\n            this._inputTemplate();\n            this._accessors();\n            this._filterHeader();\n            this._enable();\n            this._aria();\n\n            if (!this.value() && this.hasOptionLabel()) {\n                this.select(0);\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Select.fn.destroy.call(that);\n\n            that.wrapper.off(ns);\n            that.wrapper.off(nsFocusEvent);\n            that.element.off(ns);\n\n            that._arrow.off();\n            that._arrow = null;\n            that._arrowIcon = null;\n\n            that.optionLabel.off();\n\n            if(that.filterInput){\n                that.filterInput.off(nsFocusEvent);\n            }\n        },\n\n        open: function() {\n            var that = this;\n            var isFiltered = that.dataSource.filter() ? that.dataSource.filter().filters.length > 0 : false;\n            var listView = this.listView;\n\n            if (that.popup.visible()) {\n                return;\n            }\n\n            if (!that.listView.bound() || that._state === STATE_ACCEPT) {\n                that._open = true;\n                that._state = \"rebind\";\n\n                if (that.filterInput) {\n                    that.filterInput.val(\"\");\n                    that._prev = \"\";\n                }\n\n                if (that.filterInput && that.options.minLength !== 1 && !isFiltered) {\n                    that.refresh();\n                    that.popup.one(\"activate\", that._focusInputHandler);\n                    that.wrapper.attr(\"aria-activedescendant\", listView._optionID);\n                    that.popup.open();\n                    that._resizeFilterInput();\n                } else {\n                    that._filterSource();\n                }\n            } else if (that._allowOpening()) {\n                that._focusFilter = true;\n                that.popup.one(\"activate\", that._focusInputHandler);\n                // In some cases when the popup is opened resize is triggered which will cause it to close\n                // Setting the below flag will prevent this from happening\n                that.popup._hovered = true;\n                that.wrapper.attr(\"aria-activedescendant\", listView._optionID);\n                that.popup.open();\n                that._resizeFilterInput();\n                that._focusItem();\n            }\n        },\n\n        close: function() {\n            this._attachAriaActiveDescendant();\n            this.popup.close();\n        },\n\n        _attachAriaActiveDescendant: function() {\n            var wrapper = this.wrapper,\n                inputId = wrapper.find(\".k-input-inner\").attr('id');\n\n            wrapper.attr(\"aria-describedby\", inputId);\n        },\n\n        _focusInput: function () {\n            this._focusElement(this.filterInput);\n        },\n\n        _resizeFilterInput: function () {\n            var filterInput = this.filterInput;\n            var originalPrevent = this._prevent;\n\n            if (!filterInput) {\n                return;\n            }\n\n            var isInputActive = this.filterInput[0] === activeElement();\n            var caret = kendo.caret(this.filterInput[0])[0];\n\n            this._prevent = true;\n\n            filterInput.addClass(\"k-hidden\");\n            filterInput.closest(\".k-list-filter\").css(\"width\", this.popup.element.css(\"width\"));\n            filterInput.removeClass(\"k-hidden\");\n\n            if (isInputActive) {\n                filterInput.trigger(\"focus\");\n                kendo.caret(filterInput[0], caret);\n            }\n\n            this._prevent = originalPrevent;\n        },\n\n        _allowOpening: function() {\n            return this.hasOptionLabel() || this.filterInput || Select.fn._allowOpening.call(this);\n        },\n\n        toggle: function(toggle) {\n            this._toggle(toggle, true);\n        },\n\n        current: function(candidate) {\n            var current;\n\n            if (candidate === undefined) {\n                current = this.listView.focus();\n\n                if (!current && this.selectedIndex === 0 && this.hasOptionLabel()) {\n                    return this.optionLabel;\n                }\n\n                return current;\n            }\n\n            this._focus(candidate);\n        },\n\n        dataItem: function(index) {\n            var that = this;\n            var dataItem = null;\n\n            if (index === null) { return index; }\n\n            if (index === undefined) {\n                dataItem = that.listView.selectedDataItems()[0];\n            } else {\n                if (typeof index !== \"number\") {\n                    if (that.options.virtual) {\n                        return that.dataSource.getByUid($(index).data(\"uid\"));\n                    }\n                    if (index.hasClass(\"k-list-optionlabel\")) {\n                        index = -1;\n                    } else {\n                        index = $(that.items()).index(index);\n                    }\n                } else if (that.hasOptionLabel()) {\n                    index -= 1;\n                }\n\n                dataItem = that.dataSource.flatView()[index];\n            }\n\n            if (!dataItem) {\n                dataItem = that._optionLabelDataItem();\n            }\n\n            return dataItem;\n        },\n\n        refresh: function() {\n            this.listView.refresh();\n        },\n\n        text: function (text) {\n            var that = this;\n            var loweredText;\n            var ignoreCase = that.options.ignoreCase;\n\n            text = text === null ? \"\" : text;\n\n            if (text !== undefined) {\n                if (typeof text !== \"string\") {\n                    that._textAccessor(text);\n                    return;\n                }\n\n                loweredText = ignoreCase ? text.toLowerCase() : text;\n\n                that._select(function(data) {\n                    data = that._text(data);\n\n                    if (ignoreCase) {\n                        data = (data + \"\").toLowerCase();\n                    }\n\n                    return data === loweredText;\n                }).done(function() {\n                    that._textAccessor(that.dataItem() || text);\n                });\n\n            } else {\n                return that._textAccessor();\n            }\n        },\n\n        _clearFilter: function() {\n            $(this.filterInput).val(\"\");\n            Select.fn._clearFilter.call(this);\n        },\n\n        value: function(value) {\n            var that = this;\n            var listView = that.listView;\n            var dataSource = that.dataSource;\n            var valueFn = function() { that.value(value); };\n\n            if (value === undefined) {\n                value = that._accessor() || that.listView.value()[0];\n                return value === undefined || value === null ? \"\" : value;\n            }\n\n            that.requireValueMapper(that.options, value);\n\n            if (value || !that.hasOptionLabel()) {\n                that._initialIndex = null;\n            }\n\n            this.trigger(\"set\", { value: value });\n\n            if (that._request && that.options.cascadeFrom && that.listView.bound()) {\n                if (that._valueSetter) {\n                    dataSource.unbind(CHANGE, that._valueSetter);\n                }\n\n                that._valueSetter = valueFn.bind(that);\n\n                dataSource.one(CHANGE, that._valueSetter);\n                return;\n            }\n\n            if (that._isFilterEnabled() && listView.bound() && listView.isFiltered()) {\n                that._clearFilter();\n            } else {\n                that._fetchData();\n            }\n\n            listView.value(value).done(function() {\n                that._old = that._valueBeforeCascade = that._accessor();\n                that._oldIndex = that.selectedIndex;\n            });\n        },\n\n        hasOptionLabel: function() {\n            return this.optionLabel && !!this.optionLabel[0];\n        },\n\n        _optionLabel: function() {\n            var that = this;\n            var options = that.options;\n            var optionLabel = options.optionLabel;\n            var template = options.optionLabelTemplate;\n\n            if (!optionLabel) {\n                that.optionLabel.off().remove();\n                that.optionLabel = $();\n                return;\n            }\n\n            if (!template) {\n                template = \"#:\";\n\n                if (typeof optionLabel === \"string\") {\n                    template += \"data\";\n                } else {\n                    template += kendo.expr(options.dataTextField, \"data\");\n                }\n\n                template += \"#\";\n            }\n\n            if (typeof template !== \"function\") {\n                template = kendo.template(template);\n            }\n\n            that.optionLabelTemplate = template;\n\n            if (!that.hasOptionLabel()) {\n                that.optionLabel = $('<div role=\"option\" class=\"k-list-optionlabel\"></div>').prependTo(that.list);\n            }\n\n            that.optionLabel.html(template(optionLabel))\n                            .off()\n                            .on(CLICKEVENTS, that._click.bind(that))\n                            .on(HOVEREVENTS, that._toggleHover);\n\n            that.angular(\"compile\", function() {\n                return { elements: that.optionLabel, data: [{ dataItem: that._optionLabelDataItem() }] };\n            });\n        },\n\n        _optionLabelText: function() {\n            var optionLabel = this.options.optionLabel;\n            return (typeof optionLabel === \"string\") ? optionLabel : this._text(optionLabel);\n        },\n\n        _optionLabelDataItem: function() {\n            var that = this;\n            var optionLabel = that.options.optionLabel;\n\n            if (that.hasOptionLabel()) {\n                return $.isPlainObject(optionLabel) ? new ObservableObject(optionLabel) : that._assignInstance(that._optionLabelText(), \"\");\n            }\n\n            return undefined;\n        },\n\n        _buildOptions: function(data) {\n            var that = this;\n            if (!that._isSelect) {\n                return;\n            }\n\n            var value = that.listView.value()[0];\n            var optionLabel = that._optionLabelDataItem();\n            var optionLabelValue = optionLabel && that._value(optionLabel);\n\n            if (value === undefined || value === null) {\n                value = \"\";\n            }\n\n            if (optionLabel) {\n                if (optionLabelValue === undefined || optionLabelValue === null) {\n                    optionLabelValue = \"\";\n                }\n\n                optionLabel = '<option value=\"' + optionLabelValue + '\">' + that._text(optionLabel) + \"</option>\";\n            }\n\n            that._options(data, optionLabel, value);\n\n            if (value !== List.unifyType(that._accessor(), typeof value)) {\n                that._customOption = null;\n                that._custom(value);\n            }\n        },\n\n        _listBound: function() {\n\n            var that = this;\n            var initialIndex = that._initialIndex;\n            var filtered = that._state === STATE_FILTER;\n\n            var data = that.dataSource.flatView();\n            var dataItem;\n\n            that._presetValue = false;\n\n            that._renderFooter();\n            that._renderNoData();\n            that._toggleNoData(!data.length);\n\n            that._resizePopup(true);\n\n            that.popup.position();\n\n            that._buildOptions(data);\n\n            if (!filtered) {\n                if (that._open) {\n                    that.toggle(that._allowOpening());\n                }\n\n                that._open = false;\n\n                if (!that._fetch) {\n                    if (data.length) {\n                        if (!that.listView.value().length && initialIndex > -1 && initialIndex !== null) {\n                            that.select(initialIndex);\n                        }\n\n                        that._initialIndex = null;\n                        dataItem = that.listView.selectedDataItems()[0];\n                        if (dataItem && that.text() !== that._text(dataItem)) {\n                            that._selectValue(dataItem);\n                        }\n                    } else if (that._textAccessor() !== that._optionLabelText()) {\n                        that.listView.value(\"\");\n                        that._selectValue(null);\n                        that._oldIndex = that.selectedIndex;\n                    }\n                }\n            }\n\n            that._hideBusy();\n            that.trigger(\"dataBound\");\n        },\n\n        _listChange: function() {\n            this._selectValue(this.listView.selectedDataItems()[0]);\n\n            if (this._presetValue || (this._old && this._oldIndex === -1)) {\n                this._oldIndex = this.selectedIndex;\n            }\n        },\n\n        _filterPaste: function() {\n            this._search();\n        },\n\n        _attachFocusHandlers: function() {\n            var that = this;\n            var wrapper = that.wrapper;\n\n            wrapper.on(\"focusin\" + nsFocusEvent, that._focusinHandler.bind(that))\n                   .on(\"focusout\" + nsFocusEvent, that._focusoutHandler.bind(that));\n            if(that.filterInput) {\n                that.filterInput.on(\"focusin\" + nsFocusEvent, that._focusinHandler.bind(that))\n                   .on(\"focusout\" + nsFocusEvent, that._focusoutHandler.bind(that));\n            }\n        },\n\n        _focusHandler: function() {\n            this.wrapper.trigger(\"focus\");\n        },\n\n        _focusinHandler: function() {\n            this.wrapper.addClass(FOCUSED);\n            this._prevent = false;\n        },\n\n        _focusoutHandler: function() {\n            var that = this;\n            var isIFrame = window.self !== window.top;\n\n            if (!that._prevent) {\n                clearTimeout(that._typingTimeout);\n\n                if (support.mobileOS.ios && isIFrame) {\n                    that._change();\n                } else {\n                    that._blur();\n                }\n\n                that.wrapper.removeClass(FOCUSED);\n                that._prevent = true;\n                that._open = false;\n                that.element.trigger(\"blur\");\n            }\n        },\n\n        _wrapperMousedown: function() {\n            this._prevent = !!this.filterInput;\n        },\n\n        _wrapperClick: function(e) {\n            e.preventDefault();\n            this.popup.unbind(\"activate\", this._focusInputHandler);\n            this._focused = this.wrapper;\n            this._prevent = false;\n            this._toggle();\n        },\n\n        _editable: function(options) {\n            var that = this;\n            var element = that.element;\n            var disable = options.disable;\n            var readonly = options.readonly;\n            var wrapper = that.wrapper.add(that.filterInput).off(ns);\n            var dropDownWrapper = that.wrapper.off(HOVEREVENTS);\n\n            if (!readonly && !disable) {\n                element.prop(DISABLED, false).prop(READONLY, false);\n\n                dropDownWrapper\n                    .removeClass(STATEDISABLED)\n                    .on(HOVEREVENTS, that._toggleHover);\n\n                wrapper\n                    .attr(TABINDEX, wrapper.data(TABINDEX))\n                    .attr(ARIA_DISABLED, false)\n                    .attr(ARIA_READONLY, false)\n                    .on(\"keydown\" + ns, that, that._keydown.bind(that))\n                    .on(kendo.support.mousedown + ns, that._wrapperMousedown.bind(that))\n                    .on(\"paste\" + ns, that._filterPaste.bind(that));\n\n                that.wrapper.on(\"click\" + ns, that._wrapperClick.bind(that));\n\n                if (!that.filterInput) {\n                    wrapper.on(\"keypress\" + ns, that._keypress.bind(that));\n                } else {\n                    wrapper.on(\"input\" + ns, that._search.bind(that));\n                }\n\n            } else if (disable) {\n                wrapper.removeAttr(TABINDEX);\n                dropDownWrapper.addClass(STATEDISABLED);\n            } else {\n                dropDownWrapper.removeClass(STATEDISABLED);\n            }\n\n            element.attr(DISABLED, disable)\n                   .attr(READONLY, readonly);\n\n            wrapper.attr(ARIA_DISABLED, disable)\n                    .attr(ARIA_READONLY, readonly);\n        },\n\n        _keydown: function(e) {\n            var that = this;\n            var key = e.keyCode;\n            var altKey = e.altKey;\n            var isInputActive;\n            var handled;\n\n            var isPopupVisible = that.popup.visible();\n\n            if (that.filterInput) {\n                isInputActive = that.filterInput[0] === activeElement();\n            }\n\n            if (key === keys.LEFT) {\n                key = keys.UP;\n                handled = true;\n            } else if (key === keys.RIGHT) {\n                key = keys.DOWN;\n                handled = true;\n            }\n\n            if (handled && isInputActive) {\n                return;\n            }\n\n            e.keyCode = key;\n\n            if ((altKey && key === keys.UP) || key === keys.ESC) {\n                that._focusElement(that.wrapper);\n            }\n\n            if (that._state === STATE_FILTER && key === keys.ESC) {\n                that._clearFilter();\n                that._open = false;\n                that._state = STATE_ACCEPT;\n            }\n\n            if (key === keys.ENTER && that._typingTimeout && that.filterInput && isPopupVisible) {\n                e.preventDefault();\n                return;\n            }\n\n            if (key === keys.SPACEBAR && !isInputActive) {\n                that.toggle(!isPopupVisible);\n                e.preventDefault();\n            }\n\n            handled = that._move(e);\n\n            if (handled) {\n                return;\n            }\n\n            if (!isPopupVisible || !that.filterInput) {\n                var current = that._focus();\n\n                if (key === keys.HOME) {\n                    handled = true;\n                    that._firstItem();\n                } else if (key === keys.END) {\n                    handled = true;\n                    that._lastItem();\n                }\n\n                if (handled) {\n                    if (that.trigger(\"select\", { dataItem: that._getElementDataItem(that._focus()), item: that._focus() })) {\n                        that._focus(current);\n                        return;\n                    }\n\n                    that._select(that._focus(), true).done(function() {\n                        if (!isPopupVisible) {\n                            that._blur();\n                        }\n                    });\n                    e.preventDefault();\n                }\n            }\n\n            if (!altKey && !handled && that.filterInput) {\n                that._search();\n            }\n        },\n\n        _matchText: function(text, word) {\n            var ignoreCase = this.options.ignoreCase;\n\n            if (text === undefined || text === null) {\n                return false;\n            }\n\n            text = text + \"\";\n\n            if (ignoreCase) {\n                text = text.toLowerCase();\n            }\n\n            return text.indexOf(word) === 0;\n        },\n\n        _shuffleData: function(data, splitIndex) {\n            var optionDataItem = this._optionLabelDataItem();\n\n            if (optionDataItem) {\n                data = [optionDataItem].concat(data);\n            }\n\n            return data.slice(splitIndex).concat(data.slice(0, splitIndex));\n        },\n\n        _selectNext: function() {\n            var that = this;\n            var data = that.dataSource.flatView();\n            var dataLength = data.length + (that.hasOptionLabel() ? 1 : 0);\n            var isInLoop = sameCharsOnly(that._word, that._last);\n            var startIndex = that.selectedIndex;\n            var oldFocusedItem;\n            var text;\n\n            if (startIndex === -1) {\n                startIndex = 0;\n            } else {\n                startIndex += isInLoop ? 1 : 0;\n                startIndex = normalizeIndex(startIndex, dataLength);\n            }\n\n            data = data.toJSON ? data.toJSON() : data.slice();\n            data = that._shuffleData(data, startIndex);\n\n            for (var idx = 0; idx < dataLength; idx++) {\n                text = that._text(data[idx]);\n\n                if (isInLoop && that._matchText(text, that._last)) {\n                    break;\n                } else if (that._matchText(text, that._word)) {\n                    break;\n                }\n            }\n\n            if (idx !== dataLength) {\n                oldFocusedItem = that._focus();\n\n                that._select(normalizeIndex(startIndex + idx, dataLength)).done(function() {\n                    var done = function() {\n                        if (!that.popup.visible()) {\n                            that._change();\n                        }\n                    };\n\n                    if (that.trigger(\"select\", { dataItem: that._getElementDataItem(that._focus()), item: that._focus() })) {\n                        that._select(oldFocusedItem).done(done);\n                    } else {\n                        done();\n                    }\n                });\n            }\n        },\n\n        _keypress: function(e) {\n            var that = this;\n\n            if (e.which === 0 || e.keyCode === kendo.keys.ENTER) {\n                return;\n            }\n\n            var character = String.fromCharCode(e.charCode || e.keyCode);\n\n            if (that.options.ignoreCase) {\n                character = character.toLowerCase();\n            }\n\n            if (character === \" \") {\n                e.preventDefault();\n            }\n\n            that._word += character;\n            that._last = character;\n\n            that._search();\n        },\n\n        _popupOpen: function() {\n            var popup = this.popup;\n\n            popup.wrapper = kendo.wrap(popup.element);\n\n            if (popup.element.closest(\".km-root\")[0]) {\n                popup.wrapper.addClass(\"km-popup km-widget\");\n                this.wrapper.addClass(\"km-widget\");\n            }\n        },\n\n        _popup: function() {\n            Select.fn._popup.call(this);\n            this.popup.one(\"open\", this._popupOpen.bind(this));\n        },\n\n        _getElementDataItem: function(element) {\n            if (!element || !element[0]) {\n                return null;\n            }\n\n            if (element[0] === this.optionLabel[0]) {\n                return this._optionLabelDataItem();\n            }\n\n            return this.listView.dataItemByIndex(this.listView.getElementIndex(element));\n        },\n\n        _click: function (e) {\n            var that = this;\n            var item = e.item || $(e.currentTarget);\n\n            e.preventDefault();\n\n            if (that.trigger(\"select\", { dataItem: that._getElementDataItem(item), item: item })) {\n                that.close();\n                return;\n            }\n\n            that._userTriggered = true;\n\n            that._select(item).done(function() {\n                that._blur();\n                that._focusElement(that.wrapper);\n            });\n        },\n\n        _focusElement: function(element) {\n            var active = activeElement();\n            var wrapper = this.wrapper;\n            var filterInput = this.filterInput;\n            var compareElement = element === filterInput ? wrapper : filterInput;\n            var touchEnabled = support.mobileOS && (support.touch || support.MSPointers || support.pointers);\n\n            if (filterInput && filterInput[0] === element[0] && touchEnabled) {\n                return;\n            }\n\n            if (filterInput && (compareElement[0] === active || this._focusFilter)) {\n                this._focusFilter = false;\n                this._prevent = true;\n                this._focused = element.trigger(\"focus\");\n            }\n        },\n\n        _searchByWord: function(word) {\n            if (!word) {\n                return;\n            }\n\n            var that = this;\n            var ignoreCase = that.options.ignoreCase;\n\n            if (ignoreCase) {\n                word = word.toLowerCase();\n            }\n\n            that._select(function(dataItem) {\n                return that._matchText(that._text(dataItem), word);\n            });\n        },\n\n        _inputValue: function() {\n            return this.text();\n        },\n\n        _search: function() {\n            var that = this;\n            var dataSource = that.dataSource;\n\n            clearTimeout(that._typingTimeout);\n\n            if (that._isFilterEnabled()) {\n                that._typingTimeout = setTimeout(function() {\n                    var value = that.filterInput.val();\n\n                    if (that._prev !== value) {\n                        that._prev = value;\n                        that.search(value);\n                        that._resizeFilterInput();\n                    }\n\n                    that._typingTimeout = null;\n                }, that.options.delay);\n            } else {\n                that._typingTimeout = setTimeout(function() {\n                    that._word = \"\";\n                }, that.options.delay);\n\n                if (!that.listView.bound()) {\n                    dataSource.fetch().done(function () {\n                        that._selectNext();\n                    });\n                    return;\n                }\n\n                that._selectNext();\n            }\n        },\n\n        _get: function(candidate) {\n            var data, found, idx;\n            var isFunction = typeof candidate === \"function\";\n            var jQueryCandidate = !isFunction ? $(candidate) : $();\n\n            if (this.hasOptionLabel()) {\n                if (typeof candidate === \"number\") {\n                    if (candidate > -1) {\n                        candidate -= 1;\n                    }\n                } else if (jQueryCandidate.hasClass(\"k-list-optionlabel\")) {\n                    candidate = -1;\n                }\n            }\n\n            if (isFunction) {\n                data = this.dataSource.flatView();\n\n                for (idx = 0; idx < data.length; idx++) {\n                    if (candidate(data[idx])) {\n                        candidate = idx;\n                        found = true;\n                        break;\n                    }\n                }\n\n                if (!found) {\n                    candidate = -1;\n                }\n            }\n\n            return candidate;\n        },\n\n        _firstItem: function() {\n            if (this.hasOptionLabel()) {\n                this._focus(this.optionLabel);\n            } else {\n                this.listView.focusFirst();\n            }\n        },\n\n        _lastItem: function() {\n            this._resetOptionLabel();\n            this.listView.focusLast();\n        },\n\n        _nextItem: function() {\n            var focusIndex;\n\n            if (this.optionLabel.hasClass(\"k-focus\")) {\n                this._resetOptionLabel();\n                this.listView.focusFirst();\n                focusIndex = 1;\n            } else {\n                focusIndex = this.listView.focusNext();\n            }\n\n            return focusIndex;\n        },\n\n        _prevItem: function() {\n            var focusIndex;\n\n            if (this.optionLabel.hasClass(\"k-focus\")) {\n                return;\n            }\n\n            focusIndex = this.listView.focusPrev();\n\n            if (!this.listView.focus() && !this.options.virtual) {\n                this._focus(this.optionLabel);\n            }\n\n            return focusIndex;\n        },\n\n        _focusItem: function() {\n            var options = this.options;\n            var listView = this.listView;\n            var focusedItem = listView.focus();\n            var index = listView.select();\n\n            index = index[index.length - 1];\n\n            if (index === undefined && options.highlightFirst && !focusedItem) {\n                index = 0;\n            }\n\n            if (index !== undefined) {\n                listView.focus(index);\n            } else {\n                if (options.optionLabel && (!options.virtual || options.virtual.mapValueTo !== \"dataItem\")) {\n                    this._focus(this.optionLabel);\n                    this._select(this.optionLabel);\n                    this.listView.content.scrollTop(0);\n                } else {\n                    listView.scrollToIndex(0);\n                }\n            }\n        },\n\n        _resetOptionLabel: function(additionalClass) {\n            this.optionLabel.removeClass(\"k-focus\" + (additionalClass || \"\")).removeAttr(\"id\");\n        },\n\n        _focus: function(candidate) {\n            var listView = this.listView;\n            var optionLabel = this.optionLabel;\n\n            if (candidate === undefined) {\n                candidate = listView.focus();\n\n                if (!candidate && optionLabel.hasClass(\"k-focus\")) {\n                    candidate = optionLabel;\n                }\n\n                return candidate;\n            }\n\n            this._resetOptionLabel();\n\n            candidate = this._get(candidate);\n\n            listView.focus(candidate);\n\n            if (candidate === -1) {\n                optionLabel.addClass(\"k-focus\")\n                           .attr(\"id\", listView._optionID);\n\n                if (this.filterInput) {\n                    this.filterInput\n                        .removeAttr(\"aria-activedescendant\")\n                        .attr(\"aria-activedescendant\", listView._optionID);\n                }\n            }\n        },\n\n        _select: function(candidate, keepState) {\n            var that = this;\n\n            candidate = that._get(candidate);\n\n            return that.listView.select(candidate).done(function() {\n                if (!keepState && that._state === STATE_FILTER) {\n                    that._state = STATE_ACCEPT;\n                }\n\n                if (candidate === -1) {\n                    that._selectValue(null);\n                }\n            });\n        },\n\n        _selectValue: function(dataItem) {\n            var that = this;\n            var optionLabel = that.options.optionLabel;\n            var idx = that.listView.select();\n\n            var value = \"\";\n            var text = \"\";\n\n            idx = idx[idx.length - 1];\n            if (idx === undefined) {\n                idx = -1;\n            }\n\n            this._resetOptionLabel(\" k-selected\");\n\n            if (dataItem || dataItem === 0) {\n                text = dataItem;\n                value = that._dataValue(dataItem);\n                if (optionLabel) {\n                    idx += 1;\n                }\n            } else if (optionLabel) {\n                that._focus(that.optionLabel.addClass(\"k-selected\"));\n\n                text = that._optionLabelText();\n\n                if (typeof optionLabel === \"string\") {\n                    value = \"\";\n                } else {\n                    value = that._value(optionLabel);\n                }\n\n                idx = 0;\n            }\n\n            that.selectedIndex = idx;\n\n            if (value === null) {\n                value = \"\";\n            }\n\n            that._textAccessor(text);\n            that._accessor(value, idx);\n\n            that._triggerCascade();\n        },\n\n        _mobile: function() {\n            var that = this,\n                popup = that.popup,\n                mobileOS = support.mobileOS,\n                root = popup.element.parents(\".km-root\").eq(0);\n\n            if (root.length && mobileOS) {\n                popup.options.animation.open.effects = (mobileOS.android || mobileOS.meego) ? \"fadeIn\" : (mobileOS.ios || mobileOS.wp) ? \"slideIn:up\" : popup.options.animation.open.effects;\n            }\n        },\n\n        _filterHeader: function() {\n            var filterTemplate = '<div class=\"k-list-filter\">' +\n                '<span class=\"k-searchbox k-input k-input-md k-rounded-md k-input-solid\" type=\"text\" autocomplete=\"off\">' +\n                    '<span class=\"k-input-icon k-icon k-i-search\"></span>' +\n                '</span>' +\n            '</div>';\n\n            if (this.filterInput) {\n                this.filterInput\n                    .off(ns)\n                    .closest(\".k-list-filter\")\n                    .remove();\n\n                this.filterInput = null;\n            }\n\n            if (this._isFilterEnabled()) {\n                this.filterInput = $('<input class=\"k-input-inner\" type=\"text\" />')\n                    .attr({\n                        placeholder: this.element.attr(\"placeholder\"),\n                        title: this.options.filterTitle || this.element.attr(\"title\"),\n                        role: \"searchbox\",\n                        \"aria-label\": this.options.filterTitle,\n                        \"aria-haspopup\": \"listbox\",\n                        \"aria-autocomplete\": \"list\"\n                    });\n\n                this.list\n                    .parent()\n                    .prepend($(filterTemplate))\n                    .find(\".k-searchbox\")\n                    .append(this.filterInput);\n            }\n        },\n\n        _span: function() {\n            var that = this,\n                wrapper = that.wrapper,\n                SELECTOR = \"span.k-input-value-text\",\n                id = kendo.guid(),\n                options = that.options,\n                span, arrowBtn;\n\n            span = wrapper.find(SELECTOR);\n\n            if (!span[0]) {\n                arrowBtn = html.renderButton('<button type=\"button\" tabindex=\"-1\" unselectable=\"on\" class=\"k-input-button\" aria-label=\"select\"></button>', {\n                    icon: \"arrow-s\",\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    shape: null,\n                    rounded: null\n                });\n\n                wrapper.append('<span id=\"' + id + '\" unselectable=\"on\" class=\"k-input-inner\">' +\n                            '<span class=\"k-input-value-text\"></span>' +\n                        '</span>')\n                    .append(arrowBtn)\n                    .append(that.element);\n\n                span = wrapper.find(SELECTOR);\n            }\n\n            that.span = span;\n            that._arrow = wrapper.find(\".k-input-button\");\n            that._arrowIcon = that._arrow.find(\".k-icon\");\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                DOMelement = element[0],\n                wrapper;\n\n            wrapper = element.parent();\n\n            if (!wrapper.is(\"span.k-picker\")) {\n                wrapper = element.wrap(\"<span />\").parent();\n                wrapper[0].style.cssText = DOMelement.style.cssText;\n                wrapper[0].title = DOMelement.title;\n            }\n\n            that._focused = that.wrapper = wrapper\n                .addClass(\"k-picker k-dropdownlist\")\n                .addClass(DOMelement.className)\n                .removeClass('input-validation-error')\n                .css(\"display\", \"\")\n                .attr({\n                    accesskey: element.attr(\"accesskey\"),\n                    unselectable: \"on\",\n                    role: \"combobox\",\n                    \"aria-haspopup\": \"listbox\",\n                    \"aria-expanded\": false\n                });\n\n            element.hide().removeAttr(\"accesskey\");\n        },\n\n        _clearSelection: function(parent) {\n            this.select(parent.value() ? 0 : -1);\n        },\n\n        _openHandler: function(e) {\n            this._adjustListWidth();\n\n            if (this.trigger(OPEN)) {\n                e.preventDefault();\n            } else {\n                this.wrapper.attr(\"aria-expanded\", true);\n                this.ul.attr(\"aria-hidden\", false);\n            }\n        },\n\n        _closeHandler: function(e) {\n            if (this.trigger(CLOSE)) {\n                e.preventDefault();\n            } else {\n                this.wrapper.attr(\"aria-expanded\", false);\n                this.ul.attr(\"aria-hidden\", true);\n            }\n        },\n\n        _inputTemplate: function() {\n            var that = this,\n                template = that.options.valueTemplate;\n\n\n            if (!template) {\n                template = kendo.template('#:this._text(data)#', { useWithBlock: false }).bind(that);\n            } else {\n                template = kendo.template(template);\n            }\n\n            that.valueTemplate = template;\n\n            if (that.hasOptionLabel() && !that.options.optionLabelTemplate) {\n                try {\n                    that.valueTemplate(that._optionLabelDataItem());\n                } catch(e) {\n                    throw new Error(MSG_INVALID_OPTION_LABEL);\n                }\n            }\n        },\n\n        _textAccessor: function(text) {\n            var dataItem = null;\n            var template = this.valueTemplate;\n            var optionLabelText = this._optionLabelText();\n            var span = this.span;\n\n            if (text === undefined) {\n                return span.text();\n            }\n\n            if ($.isPlainObject(text) || text instanceof ObservableObject) {\n                dataItem = text;\n            } else if (optionLabelText && optionLabelText === text) {\n                dataItem = this.options.optionLabel;\n            }\n\n            if (!dataItem) {\n                dataItem = this._assignInstance(text, this._accessor());\n            }\n\n            if (this.hasOptionLabel()) {\n                if (dataItem === optionLabelText || this._text(dataItem) === optionLabelText) {\n                    template = this.optionLabelTemplate;\n\n                    if (typeof this.options.optionLabel === \"string\" && !this.options.optionLabelTemplate) {\n                        dataItem = optionLabelText;\n                    }\n                }\n            }\n\n            var getElements = function(){\n                return {\n                    elements: span.get(),\n                    data: [ { dataItem: dataItem } ]\n                };\n            };\n\n            this.angular(\"cleanup\", getElements);\n\n            try {\n                span.html(template(dataItem));\n            } catch(e) {\n                //dataItem has missing fields required in custom template\n                span.html(\"\");\n            }\n\n            this.angular(\"compile\", getElements);\n        },\n\n        _preselect: function(value, text) {\n            if (!value && !text) {\n                text = this._optionLabelText();\n            }\n\n            this._accessor(value);\n            this._textAccessor(text);\n\n            this._old = this._accessor();\n            this._oldIndex = this.selectedIndex;\n\n            this.listView.setValue(value);\n\n            this._initialIndex = null;\n            this._presetValue = true;\n        },\n\n        _assignInstance: function(text, value) {\n            var dataTextField = this.options.dataTextField;\n            var dataItem = {};\n\n            if (dataTextField) {\n                assign(dataItem, dataTextField.split(\".\"), text);\n                assign(dataItem, this.options.dataValueField.split(\".\"), value);\n                dataItem = new ObservableObject(dataItem);\n            } else {\n                dataItem = text;\n            }\n\n            return dataItem;\n        }\n    });\n\n    function assign(instance, fields, value) {\n        var idx = 0,\n            lastIndex = fields.length - 1,\n            field;\n\n        for (; idx < lastIndex; ++idx) {\n            field = fields[idx];\n\n            if (!(field in instance)) {\n                instance[field] = {};\n            }\n\n            instance = instance[field];\n        }\n\n        instance[fields[lastIndex]] = value;\n    }\n\n    function normalizeIndex(index, length) {\n        if (index >= length) {\n            index -= length;\n        }\n        return index;\n    }\n\n    function sameCharsOnly(word, character) {\n        for (var idx = 0; idx < word.length; idx++) {\n            if (word.charAt(idx) !== character) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    ui.plugin(DropDownList);\n\n    kendo.cssProperties.registerPrefix(\"DropDownList\", \"k-picker-\");\n\n    kendo.cssProperties.registerValues(\"DropDownList\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.combobox',[ \"kendo.list\", \"kendo.mobile.scroller\", \"kendo.virtuallist\", \"kendo.html.button\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"combobox\",\n    name: \"ComboBox\",\n    category: \"web\",\n    description: \"The ComboBox widget allows the selection from pre-defined values or entering a new value.\",\n    depends: [ \"list\", \"html.button\" ],\n    features: [ {\n        id: \"mobile-scroller\",\n        name: \"Mobile scroller\",\n        description: \"Support for kinetic scrolling in mobile device\",\n        depends: [ \"mobile.scroller\" ]\n    }, {\n        id: \"virtualization\",\n        name: \"VirtualList\",\n        description: \"Support for virtualization\",\n        depends: [ \"virtuallist\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        html = kendo.html,\n        List = ui.List,\n        Select = ui.Select,\n        caret = kendo.caret,\n        support = kendo.support,\n        placeholderSupported = support.placeholder,\n        activeElement = kendo._activeElement,\n        keys = kendo.keys,\n        ns = \".kendoComboBox\",\n        nsFocusEvent = ns + \"FocusEvent\",\n        CLICK = \"click\" + ns,\n        MOUSEDOWN = \"mousedown\" + ns,\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        CHANGE = \"change\",\n        LOADING = \"k-i-loading k-input-loading-icon\",\n        FOCUSED = \"k-focus\",\n        STATEDISABLED = \"k-disabled\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_READONLY = \"aria-readonly\",\n        AUTOCOMPLETEVALUE = \"off\",\n        STATE_FILTER = \"filter\",\n        STATE_ACCEPT = \"accept\",\n        STATE_REBIND = \"rebind\",\n        HOVEREVENTS = \"mouseenter\" + ns + \" mouseleave\" + ns,\n        newLineRegEx = /(\\r\\n|\\n|\\r)/gm,\n        NON_PRINTABLE_KEYS = [16,17,18,19,20,33,34,37,39,45,91,92,144,145];\n\n    var ComboBox = Select.extend({\n        init: function(element, options) {\n            var that = this, text, disabled;\n\n            that.ns = ns;\n\n            options = Array.isArray(options) ? { dataSource: options } : options;\n\n            Select.fn.init.call(that, element, options);\n\n            options = that.options;\n            element = that.element.on(\"focus\" + ns, that._focusHandler.bind(that));\n\n            options.placeholder = options.placeholder || element.attr(\"placeholder\");\n\n            that._reset();\n\n            that._wrapper();\n\n            that._input();\n\n            that._clearButton();\n\n            that._tabindex(that.input);\n\n            that._popup();\n\n            that._dataSource();\n            that._ignoreCase();\n\n            that._enable();\n\n            that._attachFocusEvents();\n\n            that._oldIndex = that.selectedIndex = -1;\n\n            that._aria();\n\n            that._initialIndex = options.index;\n\n            that.requireValueMapper(that.options);\n            that._initList();\n\n            that._cascade();\n\n            if (options.autoBind) {\n                that._filterSource();\n            } else {\n                text = options.text;\n\n                if (!text && that._isSelect) {\n                    text = element.children(\":selected\").text();\n                }\n\n                if (text) {\n                    that._setText(text);\n                }\n            }\n\n            if (!text) {\n                that._placeholder();\n            }\n\n            disabled = $(that.element).parents(\"fieldset\").is(':disabled');\n\n            if (disabled) {\n                that.enable(false);\n            }\n\n            kendo.notify(that);\n            that._toggleCloseVisibility();\n            that._applyCssClasses();\n        },\n\n        options: {\n            name: \"ComboBox\",\n            enabled: true,\n            index: -1,\n            text: null,\n            value: null,\n            autoBind: true,\n            delay: 200,\n            dataTextField: \"\",\n            dataValueField: \"\",\n            minLength: 1,\n            enforceMinLength: false,\n            height: 200,\n            highlightFirst: true,\n            filter: \"none\",\n            placeholder: \"\",\n            suggest: false,\n            cascadeFrom: \"\",\n            cascadeFromField: \"\",\n            cascadeFromParentField: \"\",\n            ignoreCase: true,\n            animation: {},\n            virtual: false,\n            template: null,\n            groupTemplate: \"#:data#\",\n            fixedGroupTemplate: \"#:data#\",\n            clearButton: true,\n            syncValueAndText: true,\n            autoWidth: false,\n            popup: null,\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        events:[\n            \"open\",\n            \"close\",\n            CHANGE,\n            \"select\",\n            \"filtering\",\n            \"dataBinding\",\n            \"dataBound\",\n            \"cascade\",\n            \"set\"\n        ],\n\n        setOptions: function(options) {\n            var listOptions = this._listOptions(options);\n\n            Select.fn.setOptions.call(this, options);\n\n            this.listView.setOptions(listOptions);\n\n            this._accessors();\n            this._aria();\n            this._clearButton();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.input.off(ns);\n            that.input.off(nsFocusEvent);\n            that.element.off(ns);\n            that.wrapper.off(ns);\n            clearTimeout(that._pasteTimeout);\n\n            that._arrow.off(CLICK + \" \" + MOUSEDOWN);\n            that._clear.off(CLICK + \" \" + MOUSEDOWN);\n\n            Select.fn.destroy.call(that);\n        },\n\n        _isValueChanged: function(value) {\n            return value !== List.unifyType(this._old, typeof value) &&\n                value !== List.unifyType(this._oldText, typeof value);\n        },\n\n        _change: function() {\n            var that = this;\n            var text = that.text();\n            var hasText = text && text !== that._oldText && text !== that.options.placeholder;\n            var index = that.selectedIndex;\n            var isCustom = index === -1;\n\n            if (!that.options.syncValueAndText && !that.value() && isCustom && hasText) {\n                that._old = \"\";\n                that._oldIndex = index;\n                that._oldText = text;\n\n                if (!that._typing) {\n                    // trigger the DOM change event so any subscriber gets notified\n                    that.element.trigger(CHANGE);\n                }\n\n                that.trigger(CHANGE);\n                that._typing = false;\n                return;\n            }\n\n            Select.fn._change.call(that);\n\n            that._oldText = that.text && that.text();\n\n            that._toggleCloseVisibility();\n        },\n\n        _attachFocusEvents: function() {\n            var that = this;\n            that.input.on(\"focus\" + nsFocusEvent, that._inputFocus.bind(that))\n                      .on(\"focusout\" + nsFocusEvent, that._inputFocusout.bind(that));\n        },\n\n        _focusHandler: function(e) {\n            if(e.target === this.element[0]) {\n                this.input.trigger(\"focus\");\n            }\n        },\n\n        _arrowClick: function() {\n            this._toggle();\n        },\n\n        _inputFocus: function() {\n            this.wrapper.addClass(FOCUSED);\n            this._placeholder(false);\n        },\n\n        _inputFocusout: function(e) {\n            var that = this;\n            var value = that.value();\n            var isClearButton = !$(e.relatedTarget).closest('.k-clear-value').length;\n\n            that._userTriggered = true;\n            that.wrapper.removeClass(FOCUSED);\n            clearTimeout(that._typingTimeout);\n            that._typingTimeout = null;\n\n            if (isClearButton) {\n              that.text(that.text());\n            }\n\n            var item = that._focus();\n            var dataItem = this.listView.dataItemByIndex(this.listView.getElementIndex(item));\n\n            if (value !== that.value() && that.trigger(\"select\", { dataItem: dataItem, item: item })) {\n                that.value(value);\n                return;\n            }\n\n            that._placeholder();\n            that._valueBeforeCascade = that._old;\n\n            if (isClearButton) {\n                that._blur();\n\n                that.element.trigger(\"blur\");\n            }\n        },\n\n        _inputPaste: function() {\n            var that = this;\n            clearTimeout(that._pasteTimeout);\n            that._pasteTimeout = null;\n\n            that._pasteTimeout = setTimeout(function() {\n                that.search();\n            });\n        },\n\n        _editable: function(options) {\n            var that = this,\n                disable = options.disable,\n                readonly = options.readonly,\n                wrapper = that.wrapper.off(ns),\n                input = that.element.add(that.input.off(ns)),\n                arrow = that._arrow.off(CLICK + \" \" + MOUSEDOWN),\n                clear = that._clear;\n\n            if (!readonly && !disable) {\n                wrapper\n                    .removeClass(STATEDISABLED)\n                    .on(HOVEREVENTS, that._toggleHover);\n\n                input.prop(DISABLED, false)\n                     .prop(READONLY, false)\n                     .attr(ARIA_DISABLED, false)\n                     .attr(ARIA_READONLY, false);\n\n                arrow.on(CLICK, that._arrowClick.bind(that))\n                     .on(MOUSEDOWN, function(e) { e.preventDefault(); });\n\n                clear.on(CLICK + \" touchend\" + ns, that._clearValue.bind(that));\n\n                that.input\n                    .on(\"keydown\" + ns, that._keydown.bind(that))\n                    .on(\"input\" + ns, that._search.bind(that))\n                    .on(\"paste\" + ns, that._inputPaste.bind(that));\n\n                that.wrapper.on(CLICK + ns, that._focusHandler.bind(that));\n            } else {\n                wrapper\n                    .addClass(disable ? STATEDISABLED : \"\")\n                    .removeClass(disable ? \"\" : STATEDISABLED);\n\n                input.attr(DISABLED, disable)\n                     .attr(READONLY, readonly)\n                     .attr(ARIA_DISABLED, disable)\n                     .attr(ARIA_READONLY, readonly);\n            }\n\n            that._toggleCloseVisibility();\n        },\n\n        open: function() {\n            var that = this;\n            var state = that._state;\n            var isFiltered = that.dataSource.filter() ? that.dataSource.filter().filters.length > 0 : false;\n            var reinitialized = !that.ul.find(that.listView.focus()).length;\n\n            if (that.popup.visible()) {\n                return;\n            }\n\n            if ((!that.listView.bound() && state !== STATE_FILTER) || state === STATE_ACCEPT) {\n                that._open = true;\n                that._state = STATE_REBIND;\n\n                if ((that.options.minLength !== 1 && !isFiltered) || (isFiltered && that.value() && that.selectedIndex === -1 )) {\n                    that.refresh();\n                    that._openPopup();\n                    if (!this.options.virtual) {\n                        that.listView.bound(false);\n                    }\n                } else {\n                    that._filterSource();\n                }\n            } else if (that._allowOpening()) {\n                // In some cases when the popup is opened resize is triggered which will cause it to close\n                // Setting the below flag will prevent this from happening\n                that.popup._hovered = true;\n                that._openPopup();\n                if(that.options.virtual) {\n                    that._focusItem();\n                } else if (reinitialized && that.options.highlightFirst) {\n                    that.listView.focus(0);\n                }\n            }\n        },\n\n        _scrollToFocusedItem: function() {\n            var listView = this.listView;\n\n            listView.scrollToIndex(listView.getElementIndex(listView.focus()));\n        },\n\n        _openPopup: function() {\n            this.popup.one(\"activate\", this._scrollToFocusedItem.bind(this));\n            this.popup.open();\n        },\n\n        _updateSelectionState: function() {\n            var that = this;\n            var text = that.options.text;\n            var value = that.options.value;\n\n            if (that.listView.isFiltered()) {\n                return;\n            }\n\n            if (that.selectedIndex === -1) {\n                if (text === undefined || text === null) {\n                    text = value;\n                }\n\n                that._accessor(value);\n                that.input.val(text || that.input.val());\n                that._placeholder();\n            } else if (that._oldIndex === -1) {\n                that._oldIndex = that.selectedIndex;\n            }\n        },\n\n        _buildOptions: function(data) {\n            var that = this;\n            if (!that._isSelect) {\n                return;\n            }\n\n            var custom = that._customOption;\n\n            if (that._state === STATE_REBIND) {\n                that._state = \"\";\n            }\n\n            that._customOption = undefined;\n            that._options(data, \"\", that.value());\n\n            if (custom && custom[0].selected && !that.listView._emptySearch) {\n                that._custom(custom.val());\n            }\n        },\n\n        _updateSelection: function() {\n            var that = this;\n            var listView = that.listView;\n            var initialIndex = that._initialIndex;\n            var hasInitialIndex = initialIndex !== null && initialIndex > -1;\n            var filtered = that._state === STATE_FILTER;\n\n            if (filtered) {\n                $(listView.focus()).removeClass(\"k-selected\");\n                return;\n            }\n\n            if (that._fetch) {\n                return;\n            }\n\n            if (!listView.value().length) {\n                if (hasInitialIndex) {\n                    that.select(initialIndex);\n                } else if (that._accessor()) {\n                    listView.value(that._accessor());\n                }\n            }\n\n            that._initialIndex = null;\n            var dataItem = listView.selectedDataItems()[0];\n\n            if (!dataItem) {\n                return;\n            }\n\n            if (that._value(dataItem) !== that.value()) {\n                that._custom(that._value(dataItem));\n            } else if (that._value(dataItem) !== that.element[0].value){\n                that._accessor(that._value(dataItem));\n            }\n\n            if (that.text() && that.text() !== that._text(dataItem)) {\n                that._selectValue(dataItem);\n            }\n        },\n\n        _updateItemFocus: function() {\n            var listView = this.listView;\n\n            if (!this.options.highlightFirst) {\n                listView.focus(-1);\n            } else if (!listView.focus() && !listView.focusIndex()) {\n                listView.focus(0);\n            }\n        },\n\n        _listBound: function() {\n            var that = this;\n            var isActive = that.input[0] === activeElement();\n\n            var data = that.dataSource.flatView();\n            var skip = that.listView.skip();\n            var length = data.length;\n            var groupsLength = that.dataSource._group ? that.dataSource._group.length : 0;\n            var isFirstPage = skip === undefined || skip === 0;\n\n            that._presetValue = false;\n\n            that._renderFooter();\n            that._renderNoData();\n            that._toggleNoData(!length);\n            that._toggleHeader(!!groupsLength && !!length);\n\n            that._resizePopup();\n\n            that.popup.position();\n\n            that._buildOptions(data);\n\n            that._updateSelection();\n\n            if (data.length && isFirstPage) {\n                that._updateItemFocus();\n\n                if (that.options.suggest && isActive && that.input.val()) {\n                    that.suggest(data[0]);\n                }\n            }\n\n            if (that._open) {\n                that._open = false;\n\n                if (that._typingTimeout && !isActive) {\n                    that.popup.close();\n                } else {\n                    that.toggle(that._allowOpening());\n                }\n\n                that._typingTimeout = null;\n            }\n\n            that._hideBusy();\n            that.trigger(\"dataBound\");\n        },\n\n        _listChange: function() {\n            this._selectValue(this.listView.selectedDataItems()[0]);\n\n            if (this._presetValue) {\n                this._oldIndex = this.selectedIndex;\n            }\n        },\n\n        _get: function(candidate) {\n            var data, found, idx;\n\n            if (typeof candidate === \"function\") {\n                data = this.dataSource.flatView();\n\n                for (idx = 0; idx < data.length; idx++) {\n                    if (candidate(data[idx])) {\n                        candidate = idx;\n                        found = true;\n                        break;\n                    }\n                }\n\n                if (!found) {\n                    candidate = -1;\n                }\n            }\n\n            if (!this.dataSource.total() && !candidate) {\n                candidate = -1;\n            }\n\n            return candidate;\n        },\n\n        _select: function(candidate, keepState) {\n            var that = this;\n\n            candidate = that._get(candidate);\n\n            if (candidate === -1) {\n                that.input[0].value = \"\";\n                that._accessor(\"\");\n            }\n\n            return that.listView.select(candidate).done(function() {\n                if (!keepState && that._state === STATE_FILTER) {\n                    that._state = STATE_ACCEPT;\n                }\n                that._toggleCloseVisibility();\n            });\n        },\n\n        _selectValue: function(dataItem) {\n            var idx = this.listView.select();\n            var value = \"\";\n            var text = \"\";\n\n            idx = idx[idx.length - 1];\n            if (idx === undefined) {\n                idx = -1;\n            }\n\n            this.selectedIndex = idx;\n\n            if (this.listView.isFiltered() && idx !== -1) {\n                this._valueBeforeCascade = this._old;\n            }\n\n            if (idx === -1 && !dataItem) {\n                if (this.options.syncValueAndText) {\n                    if (this.options.dataTextField === this.options.dataValueField) {\n                        text = this._accessor();\n                    } else {\n                        text = this.input[0].value;\n                    }\n                    value = text;\n                }\n                else {\n                    text = this.text();\n                }\n                this.listView.focus(-1);\n            } else {\n                if (dataItem || dataItem === 0) {\n                    value = this._dataValue(dataItem);\n                    text = this._text(dataItem);\n                }\n\n                if (value === null) {\n                    value = \"\";\n                }\n            }\n\n            this._setDomInputValue(text);\n            this._accessor(value !== undefined ? value : text, idx);\n\n            this._placeholder();\n            this._triggerCascade();\n        },\n\n        _setDomInputValue: function(text){\n            var that = this;\n            var currentCaret = caret(this.input);\n            var caretStart;\n\n            if(currentCaret && currentCaret.length){\n                caretStart = currentCaret[0];\n            }\n\n            this._prev = this.input[0].value = text;\n\n            if(caretStart && this.selectedIndex === -1){\n                var mobile = support.mobileOS;\n                if(mobile.wp || mobile.android) {// without the timeout the caret is at the end of the input\n                    setTimeout(function() { that.input[0].setSelectionRange(caretStart, caretStart); }, 0);\n                }\n                else {\n                    this.input[0].setSelectionRange(caretStart, caretStart);\n                }\n            }\n        },\n\n        refresh: function() {\n            this.listView.refresh();\n        },\n\n        _toggleCloseVisibility: function() {\n            var preventShow = this.element.is(\":disabled\") || this.element.is(\"[readonly]\");\n\n            if (this.text() && !preventShow) {\n                this._showClear();\n            } else {\n                this._hideClear();\n            }\n        },\n\n        suggest: function(word) {\n            var that = this;\n            var element = that.input[0];\n            var value = that.text();\n            var caretIdx = caret(element)[0];\n            var key = that._last;\n            var idx;\n            var accentFoldingFiltering = that.dataSource.options.accentFoldingFiltering;\n\n            if (key == keys.BACKSPACE || key == keys.DELETE) {\n                that._last = undefined;\n                return;\n            }\n\n            word = word || \"\";\n\n            if (typeof word !== \"string\") {\n                if (word[0]) {\n                    word = that.dataSource.view()[List.inArray(word[0], that.ul[0])];\n                }\n\n                word = word ? that._text(word) : \"\";\n            }\n\n            if (caretIdx <= 0) {\n                caretIdx = (accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase()).indexOf(accentFoldingFiltering ? word.toLocaleLowerCase(accentFoldingFiltering) : word.toLowerCase()) + 1;\n            }\n\n            if (word) {\n                word = word.toString();\n                idx = (accentFoldingFiltering ? word.toLocaleLowerCase(accentFoldingFiltering) : word.toLowerCase()).indexOf(accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase());\n                if (idx > -1) {\n                    value += word.substring(idx + value.length);\n                }\n            } else {\n                value = value.substring(0, caretIdx);\n            }\n\n            if (value.length !== caretIdx || !word) {\n                element.value = value;\n                if (element === activeElement()) {\n                    caret(element, caretIdx, value.length);\n                }\n            }\n        },\n\n        text: function (text) {\n            text = text === null ? \"\" : text;\n\n            var that = this;\n            var input = that.input[0];\n            var ignoreCase = that.options.ignoreCase;\n            var loweredText = text;\n            var dataItem;\n            var value;\n\n            if (text === undefined) {\n                return input.value;\n            }\n\n            if (that.options.autoBind === false && !that.listView.bound()) {\n                that._setText(text);\n                return;\n            }\n\n            dataItem = that.dataItem();\n\n            if (dataItem && that._text(dataItem).replace && that._text(dataItem).replace(newLineRegEx,\"\") === text) {\n                value = that._value(dataItem);\n\n                if (value === List.unifyType(that._old, typeof value)) {\n                    that._triggerCascade();\n                    return;\n                }\n            }\n\n            if (ignoreCase) {\n                loweredText = loweredText.toLowerCase();\n            }\n\n            if(that.dataItem() && that._text(that.dataItem()) === text){\n                return;\n            }\n\n            that._select(function(data) {\n                data = that._text(data);\n                if (ignoreCase) {\n                    data = (data + \"\").toLowerCase();\n                }\n\n                return data === loweredText;\n            }).done(function() {\n                if (that.selectedIndex < 0) {\n                    input.value = text;\n\n                    if (that.options.syncValueAndText) {\n                        that._accessor(text);\n                    }\n\n                    that._cascadeTriggered = true;\n                    that._triggerCascade();\n                }\n\n                that._prev = input.value;\n            });\n\n            that._toggleCloseVisibility();\n        },\n\n        toggle: function(toggle) {\n            this._toggle(toggle, true);\n        },\n\n        value: function(value) {\n            var that = this;\n            var options = that.options;\n            var listView = that.listView;\n\n            if (value === undefined) {\n                value = that._accessor() || that.listView.value()[0];\n                return value === undefined || value === null ? \"\" : value;\n            }\n\n            that.requireValueMapper(that.options, value);\n\n            that.trigger(\"set\", { value: value });\n\n            if (value === options.value && that.input.val() === options.text &&\n            !that.options.cascadeFrom) {\n                return;\n            }\n\n            that._accessor(value);\n\n            if (that._isFilterEnabled() && listView.bound() && listView.isFiltered()) {\n                that._clearFilter();\n            } else {\n                that._fetchData();\n            }\n\n            listView\n                .value(value)\n                .done(function() {\n                    if (that.selectedIndex === -1 && (!listView._selectedDataItems || !listView._selectedDataItems.length)) {\n                        that._accessor(value);\n                        that.input.val(value);\n                        that._placeholder(true);\n                    }\n\n                    if(that._userTriggered) {\n                         that._old = that._accessor();\n                    } else {\n                         that._old = that._valueBeforeCascade = that._accessor();\n                    }\n\n                    that._oldIndex = that.selectedIndex;\n\n                    that._prev = that._oldText = that.input.val();\n\n                    if (that._state === STATE_FILTER) {\n                        that._state = STATE_ACCEPT;\n                    }\n                    that._toggleCloseVisibility();\n                });\n        },\n\n        _hideBusy: function () {\n            var that = this;\n            clearTimeout(that._busy);\n            that._arrowIcon.removeClass(LOADING);\n            that._focused.attr(\"aria-busy\", false);\n            that._busy = null;\n            that._toggleCloseVisibility();\n        },\n\n        _click: function(e) {\n            var that = this;\n            var item = e.item;\n            var dataItem = that.listView.dataItemByIndex(that.listView.getElementIndex(item));\n            var shouldTrigger = true;\n            e.preventDefault();\n\n            if(dataItem){\n                shouldTrigger = that._value(dataItem) !==  List.unifyType(that.value(), typeof that._value(dataItem));\n\n                if(!shouldTrigger){\n                   that.input.val(that._text(dataItem));\n                }\n            }\n\n            if (shouldTrigger && that.trigger(\"select\", { dataItem: dataItem, item: item })) {\n                that.close();\n                return;\n            }\n\n            that._userTriggered = true;\n\n            that._select(item).done(function() {\n                that._blur();\n            });\n        },\n\n        _syncValueAndText: function () {\n            return this.options.syncValueAndText;\n        },\n\n        _inputValue: function() {\n            return this.text();\n        },\n\n        _searchByWord: function(word) {\n            var that = this;\n            var options = that.options;\n            var dataSource = that.dataSource;\n            var ignoreCase = options.ignoreCase;\n            var predicate = function (dataItem) {\n                var text = that._text(dataItem);\n                if (text !== undefined) {\n                    text = text + \"\";\n                    if (text !== \"\" && word === \"\") {\n                        return false;\n                    }\n\n                    if (ignoreCase) {\n                        text = text.toLowerCase();\n                    }\n\n                    return text.indexOf(word) === 0;\n                }\n            };\n\n            if (ignoreCase) {\n                word = word.toLowerCase();\n            }\n\n            if (!that.ul[0].firstChild) {\n                dataSource.one(CHANGE, function () {\n                    if (dataSource.view()[0]) {\n                        that.search(word);\n                    }\n                }).fetch();\n                return;\n            }\n\n            this.listView.focus(this._get(predicate));\n\n            var current = this.listView.focus();\n\n            if (current) {\n                if (options.suggest) {\n                    that.suggest(current);\n                }\n\n                this.open();\n            }\n\n            if (this.options.highlightFirst && !word) {\n                this.listView.focusFirst();\n            }\n        },\n\n        _input: function() {\n            var that = this,\n                element = that.element.removeClass(\"k-input-inner\")[0],\n                accessKey = element.accessKey,\n                wrapper = that.wrapper,\n                SELECTOR = \"input.k-input-inner\",\n                name = element.name || \"\",\n                options = that.options,\n                input,\n                maxLength,\n                arrowBtn;\n\n            if (name) {\n                name = 'name=\"' + name + '_input\" ';\n            }\n\n            input = wrapper.find(SELECTOR);\n\n            if (!input[0]) {\n                arrowBtn = html.renderButton('<button type=\"button\" class=\"k-input-button\" aria-label=\"expand combobox\"></button>', {\n                    icon: \"arrow-s\",\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    shape: null,\n                    rounded: null,\n                });\n\n                wrapper.append('<input ' + name + 'class=\"k-input-inner\" type=\"text\" autocomplete=\"' + AUTOCOMPLETEVALUE +'\"/>')\n                    .append(arrowBtn)\n                    .append(that.element);\n\n                input = wrapper.find(SELECTOR);\n            }\n\n            input[0].style.cssText = element.style.cssText;\n            input[0].title = element.title;\n\n            maxLength = parseInt(this.element.prop(\"maxlength\") || this.element.attr(\"maxlength\"), 10);\n            if (maxLength > -1) {\n                input[0].maxLength = maxLength;\n            }\n\n            input.addClass(element.className)\n                .css({\n                    width: \"\",\n                    height: element.style.height,\n                    position: \"\"\n                })\n                .attr({\n                    \"role\": \"combobox\",\n                    \"aria-expanded\": false\n                })\n                .show();\n\n            if (placeholderSupported) {\n                input.attr(\"placeholder\", that.options.placeholder);\n            }\n\n            if (accessKey) {\n                element.accessKey = \"\";\n                input[0].accessKey = accessKey;\n            }\n\n            that._focused = that.input = input;\n            that._arrow = wrapper.find(\".k-input-button\")\n                .attr({\n                    \"role\": \"button\",\n                    \"tabIndex\": -1\n                });\n            that._arrowIcon = that._arrow.find(\".k-icon\");\n\n            if (element.id) {\n                that._arrow.attr(\"aria-controls\", that.ul[0].id);\n            }\n        },\n\n        _clearButton: function() {\n            List.fn._clearButton.call(this);\n\n            if (this.options.clearButton) {\n                this._clear.insertAfter(this.input);\n                this.wrapper.addClass(\"k-combobox-clearable\");\n            }\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode,\n                textField = that.options.dataTextField || \"text\",\n                isFkey = key >= 112 && key <= 135,\n                isNonPrintableKey = NON_PRINTABLE_KEYS.indexOf(key) > -1;\n\n            that._last = key;\n\n            clearTimeout(that._typingTimeout);\n            that._typingTimeout = null;\n\n            if (key === keys.HOME) {\n                that._firstItem();\n            } else if (key === keys.END) {\n                that._lastItem();\n            } else if (key === keys.ENTER || (key === keys.TAB && that.popup.visible())) {\n                var current = that.listView.focus();\n                var dataItem = that.dataItem();\n                var shouldTrigger = true;\n\n                if (!that.popup.visible() && (!dataItem || that.text() !== that._text(dataItem))) {\n                    current = null;\n                }\n\n                if (current) {\n                    if (that.popup.visible()) {\n                        e.preventDefault();\n                    }\n\n                    dataItem = that.listView.dataItemByIndex(that.listView.getElementIndex(current));\n\n                    if(dataItem){\n                        shouldTrigger = that._value(dataItem) !==  List.unifyType(that.value(), typeof that._value(dataItem));\n                    }\n\n                    if (shouldTrigger && that.trigger(\"select\", { dataItem: dataItem, item: current })) {\n                        return;\n                    }\n\n                    that._userTriggered = true;\n\n                    that._select(current).done(function() {\n                        that._blur();\n                        that._valueBeforeCascade = that._old = that.value();\n                    });\n                } else {\n                    if(that._syncValueAndText() || that._isSelect){\n                        if(!that.dataItem() || that.dataItem()[textField] !== that.input.val()) {\n                            that._accessor(that.input.val());\n                        }\n                    }\n\n                    if (that.options.highlightFirst) {\n                        that.listView.value(that.input.val());\n                        that._blur();\n                    } else {\n                        that._oldText = that.text();\n                    }\n                }\n            } else if (key != keys.TAB && !that._move(e) && !isNonPrintableKey && !isFkey && !e.ctrlKey) {\n               that._search();\n            } else if (key === keys.ESC && !that.popup.visible() && that.text()) {\n                that._clearValue();\n            }\n        },\n\n        _placeholder: function(show) {\n            if (placeholderSupported) {\n                return;\n            }\n\n            var that = this,\n                input = that.input,\n                placeholder = that.options.placeholder,\n                value;\n\n            if (placeholder) {\n                value = that.value();\n\n                if (show === undefined) {\n                    show = !value;\n                }\n\n                input.toggleClass(\"k-readonly\", show);\n\n                if (!show) {\n                    if (!value) {\n                        placeholder = \"\";\n                    } else {\n                        return;\n                    }\n                }\n\n                input.val(placeholder);\n\n                if (!placeholder && input[0] === activeElement()) {\n                    caret(input[0], 0, 0);\n                }\n            }\n        },\n\n        _search: function() {\n            var that = this;\n\n            clearTimeout(that._typingTimeout);\n\n            that._typingTimeout = setTimeout(function() {\n                var value = that.text();\n\n                if (value !== \"\" && that._prev !== value) {\n                    that._prev = value;\n\n                    if (that.options.filter === \"none\" && that.options.virtual) {\n                        that.listView.select(-1);\n                    }\n\n                    that.search(value);\n\n                    that._toggleCloseVisibility();\n                }\n                else if (value === \"\" && that._prev !== \"\" && that._prev !== undefined) {\n                    that._clearValue();\n                    that._open = true;\n                    that._state = STATE_REBIND;\n                }\n\n                that._typingTimeout = null;\n            }, that.options.delay);\n        },\n\n        _setText: function(text) {\n            this.input.val(text);\n            this._prev = text;\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                wrapper = element.parent();\n\n            if (!wrapper.is(\"span.k-input\")) {\n                wrapper = element.hide().wrap(\"<span />\").parent();\n                wrapper[0].style.cssText = element[0].style.cssText;\n            }\n\n            that.wrapper = wrapper.addClass(\"k-input k-combobox\")\n                .addClass(element[0].className)\n                .removeClass('input-validation-error')\n                .css(\"display\", \"\");\n        },\n\n        _clearSelection: function(parent, isFiltered) {\n            var that = this;\n            var hasValue = parent.value();\n            var custom = hasValue && parent.selectedIndex === -1;\n\n            if (this.selectedIndex == -1 && this.value()) {\n                return;\n            }\n\n            if (isFiltered || !hasValue || custom) {\n                that.options.value = \"\";\n                that.value(\"\");\n            }\n        },\n\n        _preselect: function(value, text) {\n            this.input.val(text);\n            this._accessor(value);\n\n            this._old = this._accessor();\n            this._oldIndex = this.selectedIndex;\n\n            this.listView.setValue(value);\n            this._placeholder();\n\n            this._initialIndex = null;\n            this._presetValue = true;\n            this._toggleCloseVisibility();\n        },\n\n        _clearText: function() {\n            this._old = this.value();\n            this.text(\"\");\n        },\n\n        _clearValue: function() {\n            Select.fn._clearValue.call(this);\n            this.input.trigger(\"focus\");\n        }\n    });\n\n    ui.plugin(ComboBox);\n\n    kendo.cssProperties.registerPrefix(\"ComboBox\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"ComboBox\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.html.chip',[\n        \"kendo.html.base\"\n    ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"html.chip\",\n    name: \"Html.Chip\",\n    category: \"web\",\n    description: \"HTML rendering utility for Kendo UI for jQuery.\",\n    depends: [ \"html.base\" ],\n    features: []\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        HTMLBase = kendo.html.HTMLBase;\n\n    var renderChip = function (element, options) {\n        if (!element || $.isPlainObject(element)) {\n            options = element;\n            element = $(\"<span></span>\");\n        }\n\n        return (new HTMLChip(element, options)).html();\n    };\n\n    var HTMLChip = HTMLBase.extend({\n        init: function (element, options) {\n            var that = this;\n            HTMLBase.fn.init.call(that, element, options);\n            that._wrapper();\n        },\n        options: {\n            name: \"HTMLChip\",\n            size: \"medium\",\n            rounded: \"medium\",\n            fillMode: \"solid\",\n            themeColor: \"base\",\n            attr: {},\n            icon: \"\",\n            iconAttr: {},\n            removable: false,\n            removableAttr: {},\n            removeIcon: \"x-circle\",\n            content: \"\",\n            text: \"\",\n            stylingOptions: [ \"size\", \"rounded\", \"fillMode\", \"themeColor\" ]\n        },\n        _wrapper: function () {\n            var that = this,\n                options = that.options;\n\n            that.wrapper = that.element.wrap(\"<span class='k-chip'></span>\").parent().attr(options.attr);\n            that._addClasses();\n\n            if (options.icon) {\n                that.wrapper.prepend($(\"<span class='k-chip-icon k-icon k-i-\" + options.icon + \"'></span>\").attr(options.iconAttr));\n            }\n\n            that.element.addClass(\"k-chip-content\");\n            if (options.text) {\n                that.element.html('<span class=\"k-chip-label\">' + options.text + '</span>');\n            }\n\n            if (options.removable) {\n                that.wrapper.append($(\"<span class='k-chip-action k-chip-remove-action'><span class='k-icon k-i-\" + options.removeIcon + \"'></span></span>\").attr(options.removableAttr));\n            }\n        }\n    });\n\n    $.extend(kendo.html, {\n        renderChip: renderChip,\n        HTMLChip: HTMLChip\n    });\n\n    kendo.cssProperties.registerPrefix(\"HTMLChip\", \"k-chip-\");\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.html.chiplist',[\n        \"kendo.html.base\"\n    ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"html.chiplist\",\n    name: \"Html.ChipList\",\n    category: \"web\",\n    description: \"HTML rendering utility for Kendo UI for jQuery.\",\n    depends: [ \"html.base\" ],\n    features: []\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        HTMLBase = kendo.html.HTMLBase;\n\n    var renderChipList = function (element, options) {\n        if (arguments[0] === undefined || $.isPlainObject(arguments[0])) {\n            options = element;\n            element = $(\"<div></div>\");\n        }\n\n        return (new HTMLChipList(element, options)).html();\n    };\n\n    var HTMLChipList = HTMLBase.extend({\n        init: function (element, options) {\n            var that = this;\n            HTMLBase.fn.init.call(that, element, options);\n            that.wrapper = that.element.addClass(\"k-chip-list\");\n            that._addClasses();\n        },\n        options: {\n            name: \"HTMLChipList\",\n            size: \"medium\",\n            stylingOptions: [ \"size\" ]\n        }\n    });\n\n    $.extend(kendo.html, {\n        renderChipList: renderChipList,\n        HTMLChipList: HTMLChipList\n    });\n\n    kendo.cssProperties.registerPrefix(\"HTMLChipList\", \"k-chip-list-\");\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.multiselect',[ \"kendo.list\", \"kendo.mobile.scroller\", \"kendo.virtuallist\", \"kendo.html.chip\", \"kendo.html.chiplist\", \"kendo.html.button\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"multiselect\",\n    name: \"MultiSelect\",\n    category: \"web\",\n    description: \"The MultiSelect widget allows the selection from pre-defined values.\",\n    depends: [ \"list\", \"html.chip\", \"html.chiplist\", \"html.button\" ],\n    features: [ {\n        id: \"mobile-scroller\",\n        name: \"Mobile scroller\",\n        description: \"Support for kinetic scrolling in mobile device\",\n        depends: [ \"mobile.scroller\" ]\n    }, {\n        id: \"virtualization\",\n        name: \"VirtualList\",\n        description: \"Support for virtualization\",\n        depends: [ \"virtuallist\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        List = ui.List,\n        html = kendo.html,\n        keys = $.extend({ A: 65 }, kendo.keys),\n        activeElement = kendo._activeElement,\n        ObservableArray = kendo.data.ObservableArray,\n        ID = \"id\",\n        CHIP = \".k-chip\",\n        ACCEPT = \"accept\",\n        FILTER = \"filter\",\n        REBIND = \"rebind\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        CHANGE = \"change\",\n        PROGRESS = \"progress\",\n        SELECT = \"select\",\n        DESELECT = \"deselect\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_READONLY = \"aria-readonly\",\n        FOCUSEDCLASS = \"k-focus\",\n        SELECTEDCLASS = \"k-selected\",\n        HIDDENCLASS = \"k-hidden\",\n        HOVERCLASS = \"k-hover\",\n        STATEDISABLED = \"k-disabled\",\n        NOCLICKCLASS = \"k-no-click\",\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        AUTOCOMPLETEVALUE = \"off\",\n        ns = \".kendoMultiSelect\",\n        CLICK = \"click\" + ns,\n        KEYDOWN = \"keydown\" + ns,\n        MOUSEENTER = \"mouseenter\" + ns,\n        MOUSELEAVE = \"mouseleave\" + ns,\n        HOVEREVENTS = MOUSEENTER + \" \" + MOUSELEAVE,\n        quotRegExp = /\"/g,\n        isArray = Array.isArray,\n        styles = [\"font-family\",\n                  \"font-size\",\n                  \"font-stretch\",\n                  \"font-style\",\n                  \"font-weight\",\n                  \"letter-spacing\",\n                  \"text-transform\",\n                  \"line-height\"];\n\n    var MultiSelect = List.extend({\n        init: function(element, options) {\n            var that = this, id, disabled;\n\n            that.ns = ns;\n            List.fn.init.call(that, element, options);\n\n            that._optionsMap = {};\n            that._customOptions = {};\n\n            that._wrapper();\n            that._tagList();\n            that._input();\n            that._textContainer();\n            that._loader();\n            that._clearButton();\n            that._arrowButton();\n\n            that._tabindex(that.input);\n\n            element = that.element.attr(\"multiple\", \"multiple\").hide();\n            options = that.options;\n\n            if (!options.placeholder) {\n                options.placeholder = element.data(\"placeholder\");\n            }\n\n            id = element.attr(ID);\n\n            if (id) {\n                that._tagID = id + \"_tag_active\";\n\n                id = id + \"_taglist\";\n                that.tagList.attr(ID, id);\n\n                that.input.attr(\"aria-describedby\", id);\n            }\n\n            that._initialOpen = true;\n            that._aria();\n            that._ariaSetLive();\n            that._dataSource();\n            that._ignoreCase();\n            that._popup();\n\n            that._tagTemplate();\n            that.requireValueMapper(that.options);\n            that._initList();\n\n            that._reset();\n            that._enable();\n            that._placeholder();\n\n            if (options.autoBind) {\n                that.dataSource.fetch();\n            } else if (options.value) {\n                that._preselect(options.value);\n            }\n\n            disabled = $(that.element).parents(\"fieldset\").is(':disabled');\n\n            if (disabled) {\n                that.enable(false);\n            }\n\n            kendo.notify(that);\n            that._toggleCloseVisibility();\n            that._applyCssClasses();\n        },\n\n        options: {\n            name: \"MultiSelect\",\n            tagMode: \"multiple\",\n            enabled: true,\n            autoBind: true,\n            autoClose: true,\n            highlightFirst: true,\n            dataTextField: \"\",\n            dataValueField: \"\",\n            filter: \"startswith\",\n            ignoreCase: true,\n            minLength: 1,\n            messages: {\n                \"singleTag\": \"item(s) selected\",\n                \"clear\": \"clear\",\n                \"deleteTag\": \"delete\",\n                \"noData\": \"No data found.\",\n                \"downArrow\": \"select\"\n            },\n            enforceMinLength: false,\n            delay: 100,\n            value: null,\n            maxSelectedItems: null,\n            placeholder: \"\",\n            height: 200,\n            animation: {},\n            virtual: false,\n            itemTemplate: \"\",\n            tagTemplate: \"\",\n            groupTemplate: \"#:data#\",\n            fixedGroupTemplate: \"#:data#\",\n            clearButton: true,\n            autoWidth: false,\n            popup: null,\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        events: [\n            OPEN,\n            CLOSE,\n            CHANGE,\n            SELECT,\n            DESELECT,\n            \"filtering\",\n            \"dataBinding\",\n            \"dataBound\"\n        ],\n\n        setDataSource: function(dataSource) {\n            this.options.dataSource = dataSource;\n\n            this._state = \"\";\n            this._dataSource();\n\n            this.persistTagList = false;\n            this.listView.setDataSource(this.dataSource);\n\n            if (this.options.autoBind) {\n                this.dataSource.fetch();\n            }\n        },\n\n        setOptions: function(options) {\n            var listOptions = this._listOptions(options);\n\n            List.fn.setOptions.call(this, options);\n\n            this.listView.setOptions(listOptions);\n\n\n\n            this._accessors();\n            this._aria();\n            this._tagTemplate();\n            this._placeholder();\n            this._clearButton();\n            this._arrowButton();\n        },\n\n        currentTag: function(candidate) {\n            var that = this;\n\n            if (candidate !== undefined) {\n                if (that._currentTag) {\n                    that._currentTag\n                        .removeClass(FOCUSEDCLASS)\n                        .removeAttr(ID);\n\n                    that._currentTag.find(\".k-chip-action\").attr(\"aria-hidden\", true);\n\n                    that.input.removeAttr(\"aria-activedescendant\");\n                }\n\n                if (candidate) {\n                    candidate.addClass(FOCUSEDCLASS).attr(ID, that._tagID);\n\n                    candidate.find(\".k-chip-action\").removeAttr(\"aria-hidden\");\n\n                    that.input.attr(\"aria-activedescendant\", that._tagID);\n                }\n\n                that._currentTag = candidate;\n            } else {\n                return that._currentTag;\n            }\n        },\n\n        dataItems: function() {\n            return this.listView.selectedDataItems();\n        },\n\n        destroy: function() {\n            var that = this,\n                ns = that.ns;\n\n            clearTimeout(that._busy);\n            clearTimeout(that._typingTimeout);\n\n            that.wrapper.off(ns);\n            that.tagList.off(ns);\n            that.input.off(ns);\n            that._clear.off(ns);\n\n            List.fn.destroy.call(that);\n        },\n\n        _aria: function() {\n            var that = this,\n                id = that.ul[0].id;\n\n            that.wrapper.attr({\n                \"aria-owns\": id,\n                \"aria-controls\": id\n            });\n            that.ul.attr({\n                \"aria-live\": !that._isFilterEnabled() ? \"off\" : \"polite\",\n                \"aria-multiselectable\": true\n            });\n            that.input.attr(\"aria-controls\", id);\n            that._ariaLabel(that._focused);\n        },\n\n        _activateItem: function() {\n            if (this.popup.visible()) {\n                List.fn._activateItem.call(this);\n            }\n            this.currentTag(null);\n        },\n\n        _listOptions: function(options) {\n            var that = this;\n            var listOptions = List.fn._listOptions.call(that, $.extend(options, {\n                selectedItemChange: that._selectedItemChange.bind(that),\n                selectable: \"multiple\"\n            }));\n\n            var itemTemplate = this.options.itemTemplate || this.options.template;\n            var template = listOptions.itemTemplate || itemTemplate || listOptions.template;\n\n            if (!template) {\n                template = \"#:\" + kendo.expr(listOptions.dataTextField, \"data\") + \"#\";\n            }\n\n            listOptions.template = template;\n\n            return listOptions;\n        },\n\n        _setListValue: function() {\n            List.fn._setListValue.call(this, this._initialValues.slice(0));\n        },\n\n        _listChange: function(e) {\n            var data = this.dataSource.flatView();\n            var optionsMap = this._optionsMap;\n            var valueGetter = this._value;\n\n            if (this._state === REBIND) {\n                this._state = \"\";\n            }\n\n            for (var i = 0; i < e.added.length; i++) {\n                if (optionsMap[valueGetter(e.added[i].dataItem)] === undefined) {\n                    this._render(data); //render select element <option> tags if the item does not persist in the current data view\n                    break;\n                }\n            }\n\n            this._selectValue(e.added, e.removed);\n        },\n\n        _selectedItemChange: function(e) {\n            var items = e.items;\n            var context;\n            var idx;\n\n            for (idx = 0; idx < items.length; idx++) {\n                context = items[idx];\n                this.tagList.children(CHIP).eq(context.index).children(\"span\").first().html(this.tagTextTemplate(context.item));\n            }\n        },\n\n        _wrapperMousedown: function(e) {\n            var that = this;\n            var notInput = e.target.nodeName.toLowerCase() !== \"input\";\n            var target = $(e.target);\n            var closeButton = target.closest(\".k-multiselect-toggle-button, .k-chip\").children(\".k-i-arrow-s\")[0];\n            var removeButton = target.closest(\".k-i-x-circle\")[0];\n\n            if (notInput && !(removeButton && kendo.support.mobileOS) && e.cancelable) {\n                e.preventDefault();\n            }\n\n            if (!removeButton) {\n                if(closeButton && that.popup.visible()) {\n                    that.toggle(false);\n                } else {\n                    if (that.input[0] !== activeElement() && notInput) {\n                        that.input.trigger(\"focus\");\n                    }\n\n                    if (that.options.minLength === 1 && !that.popup.visible()) {\n                        that.open();\n                    }\n                }\n            }\n\n        },\n\n        _inputFocus: function() {\n            this._placeholder(false, true);\n            this.wrapper.addClass(FOCUSEDCLASS);\n        },\n\n        _inputFocusout: function() {\n            var that = this;\n\n            clearTimeout(that._typingTimeout);\n\n            that.wrapper.removeClass(FOCUSEDCLASS);\n\n            that._placeholder(!that.listView.selectedDataItems()[0], true);\n            that.close();\n\n            if (that._state === FILTER) {\n                that._state = ACCEPT;\n                that.listView.skipUpdate(true);\n            }\n\n            if(that.listView.bound() && that.listView.isFiltered()) {\n                that.persistTagList = true;\n                that._clearFilter();\n            }\n\n            that.element.trigger(\"blur\");\n        },\n\n        _removeTag: function(tag, shouldTrigger) {\n            var that = this;\n            var state = that._state;\n            var position = tag.index();\n            var listView = that.listView;\n            var value = listView.value()[position];\n            var dataItem = that.listView.selectedDataItems()[position];\n            var customIndex = that._customOptions[value];\n            var listViewChildren = listView.element[0].children;\n            var option;\n            var listViewChild;\n\n            if (that.trigger(DESELECT, { dataItem: dataItem, item: tag })) {\n                that._close();\n                return;\n            }\n\n            if (customIndex === undefined && (state === ACCEPT || state === FILTER)) {\n                customIndex = that._optionsMap[value];\n            }\n\n            var done = function() {\n                that.currentTag(null);\n                if (shouldTrigger) {\n                    that._change();\n                }\n                that._close();\n            };\n\n            if (customIndex === undefined && listView.select().length) {\n                that.persistTagList = false;\n                listView.select(listView.select()[position]).done(done);\n            } else {\n                option = that.element[0].children[customIndex];\n                if (option) {\n                    option.selected = false;\n                }\n\n                listView.removeAt(position);\n\n                if(listView._removedAddedIndexes) {\n                    listView._removedAddedIndexes.splice(position, 1);\n                }\n\n                listViewChild = listViewChildren[customIndex];\n                if (listViewChild) {\n                    listViewChildren[customIndex].classList.remove(\"k-selected\");\n                }\n                if (that.options.tagMode !== \"single\"){\n                    tag.remove();\n                } else {\n                    that._updateTagListHTML();\n                }\n                done();\n            }\n        },\n\n        _tagListClick: function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            var target = $(e.currentTarget);\n\n            if (target.is(\".k-i-x-circle\")) {\n                this._removeTag(target.closest(CHIP), true);\n            }\n        },\n\n        _clearValue: function() {\n            var that = this;\n\n            if (that.options.tagMode === \"single\"){\n                that._clearSingleTagValue();\n            } else{\n                that.tagList.children(CHIP).each(function(index, tag) {\n                    that._removeTag($(tag), false);\n                });\n            }\n\n            that.input.val(\"\");\n            that._search();\n            that._change();\n            that.focus();\n            that._hideClear();\n\n            if (that._state === FILTER) {\n                that._state = ACCEPT;\n            }\n        },\n\n        _clearSingleTagValue: function() {\n            var that = this;\n            var items = that.dataItems();\n            var tags = that.tagList.children(CHIP);\n            var persistTagList = that.persistTagList;\n\n            for (var i = 0; i < items.length; i += 1) {\n                if (that.trigger(DESELECT, { dataItem: items[i], item: tags.first() })) {\n                    that._close();\n                    return;\n                }\n            }\n\n            if (persistTagList) {\n                that.persistTagList = false;\n            }\n\n            that.listView.value([]);\n            that.persistTagList = persistTagList;\n        },\n\n        _focusHandler: function() {\n            var input = this.input;\n            var active = activeElement();\n            var isActive = input[0] === active;\n\n            if(!isActive) {\n                this.input.trigger(\"focus\");\n            }\n        },\n\n        _editable: function(options) {\n            var that = this,\n                disable = options.disable,\n                readonly = options.readonly,\n                wrapper = that.wrapper.off(ns),\n                tagList = that.tagList.off(ns),\n                input = that.input.off(ns);\n\n            if (!readonly && !disable) {\n                wrapper\n                    .removeClass(STATEDISABLED)\n                    .removeClass(NOCLICKCLASS)\n                    .on(HOVEREVENTS, that._toggleHover)\n                    .on(\"mousedown\" + ns + \" touchend\" + ns, that._wrapperMousedown.bind(that))\n                    .on(CLICK, that._focusHandler.bind(that));\n\n                that.input.on(KEYDOWN, that._keydown.bind(that))\n                    .on(\"paste\" + ns, that._search.bind(that))\n                    .on(\"input\" + ns, that._search.bind(that))\n                    .on(\"focus\" + ns, that._inputFocus.bind(that))\n                    .on(\"focusout\" + ns, that._inputFocusout.bind(that));\n\n                that._clear.on(CLICK + \" touchend\" + ns, that._clearValue.bind(that));\n\n                input.prop(DISABLED, false)\n                     .prop(READONLY, false)\n                     .attr(ARIA_DISABLED, false)\n                     .attr(ARIA_READONLY, false);\n\n                that.element.prop(DISABLED, false);\n\n                tagList\n                    .on(MOUSEENTER, CHIP, function() { $(this).addClass(HOVERCLASS); })\n                    .on(MOUSELEAVE, CHIP, function() { $(this).removeClass(HOVERCLASS); })\n                    .on(CLICK + \" touchend\" + ns, \".k-chip .k-icon\", that._tagListClick.bind(that));\n            } else {\n\n                wrapper.toggleClass(STATEDISABLED, disable)\n                       .toggleClass(NOCLICKCLASS, readonly);\n\n                input.attr(DISABLED, disable)\n                     .attr(READONLY, readonly)\n                     .attr(ARIA_DISABLED, disable)\n                     .attr(ARIA_READONLY, readonly);\n\n                that.element.prop(DISABLED, disable);\n            }\n        },\n\n        _close: function() {\n            var that = this;\n            if (that.options.autoClose) {\n                that.close();\n            } else {\n                that.popup.position();\n            }\n        },\n\n        _filterSource: function(filter, force) {\n            if(!force) {\n                force = this._retrieveData;\n            }\n            this._retrieveData = false;\n            List.fn._filterSource.call(this, filter, force);\n        },\n\n        close: function() {\n            this._activeItem = null;\n            this.input.removeAttr(\"aria-activedescendant\");\n\n            this.popup.close();\n        },\n\n        open: function() {\n            var that = this,\n                filterValue = that.input.val().toLowerCase(),\n                listViewFilter = that.listView.dataSource.filter(),\n                listViewFilterValue;\n\n            if(listViewFilter && listViewFilter.filters.length > 0) {\n                listViewFilterValue = (listViewFilter.filters[0].value || \"\").toString().toLowerCase();\n            }\n\n            if (that._request) {\n                that._retrieveData = false;\n            }\n\n            if (that._retrieveData || !that.listView.bound() || (that._state === ACCEPT && filterValue !== listViewFilterValue)) {\n                that._open = true;\n                that._state = REBIND;\n\n                that.listView.skipUpdate(true);\n\n                that.persistTagList = that._initialOpen && !that.listView.bound() ? false : true;\n                that._filterSource();\n                that._focusItem();\n            } else if (that._allowOpening()) {\n\n                //selects values in autoBind false and non virtual scenario on initial load\n                if (that._initialOpen && !that.options.autoBind && !that.options.virtual && that.options.value && !$.isPlainObject(that.options.value[0])){\n                    that.value(that.value() || that._initialValues);\n                }\n\n                // In some cases when the popup is opened resize is triggered which will cause it to close\n                // Setting the below flag will prevent this from happening\n                that.popup._hovered = true;\n                that._initialOpen = false;\n                that.popup.open();\n                that._focusItem();\n            }\n        },\n\n        toggle: function(toggle) {\n            toggle = toggle !== undefined ? toggle : !this.popup.visible();\n\n            this[toggle ? OPEN : CLOSE]();\n        },\n\n        refresh: function() {\n            this.listView.refresh();\n        },\n\n        _listBound: function() {\n            var that = this;\n            var data = that.dataSource.flatView();\n\n            that._render(data);\n            that._renderFooter();\n            that._renderNoData();\n            that._toggleNoData(!data.length);\n            that._resizePopup();\n\n            if (that._open) {\n                that._open = false;\n                that.toggle(that._allowOpening());\n            }\n\n            that.popup.position();\n            that._updateItemFocus();\n\n            if (that._touchScroller) {\n                that._touchScroller.reset();\n            }\n\n            that._hideBusy();\n\n            that.trigger(\"dataBound\");\n        },\n\n        _updateItemFocus: function() {\n            var that = this,\n                data = that.dataSource.flatView(),\n                skip = that.listView.skip(),\n                isFirstPage = skip === undefined || skip === 0;\n\n            if (data.length && isFirstPage) {\n                if (!that.options.highlightFirst) {\n                    that.listView.focus(-1);\n                } else {\n                    that.listView.focusFirst();\n                }\n            }\n        },\n\n        _inputValue: function() {\n            var that = this;\n            var inputValue = that.input.val();\n\n            if (that.options.placeholder === inputValue) {\n                inputValue = \"\";\n            }\n            return inputValue;\n        },\n\n        value: function(value) {\n            var that = this;\n            var listView = that.listView;\n            var oldValue = listView.value().slice();\n            var maxSelectedItems = that.options.maxSelectedItems;\n            var clearFilters = listView.bound() && listView.isFiltered();\n\n            if (value === undefined) {\n                return oldValue;\n            }\n\n            that.persistTagList = false;\n            that.requireValueMapper(that.options, value);\n\n            value = that._normalizeValues(value);\n\n            if (maxSelectedItems !== null && value.length > maxSelectedItems) {\n                value = value.slice(0, maxSelectedItems);\n            }\n\n            if (clearFilters) {\n                that._clearFilter();\n            }\n\n            listView.value(value);\n            that._old = that._valueBeforeCascade = value.slice(); //get a new array reference\n\n            if (!clearFilters) {\n                that._fetchData();\n            }\n\n            that._toggleCloseVisibility();\n        },\n\n        _preselect: function(data, value) {\n            var that = this;\n\n            if (!isArray(data) && !(data instanceof kendo.data.ObservableArray)) {\n                data = [data];\n            }\n\n            if ($.isPlainObject(data[0]) || data[0] instanceof kendo.data.ObservableObject || !that.options.dataValueField) {\n                that.dataSource.data(data);\n                that.value(value || that._initialValues);\n                that._retrieveData = true;\n            }\n        },\n\n        _setOption: function(value, selected) {\n            var option = this.element[0].children[this._optionsMap[value]];\n\n            if (option) {\n                option.selected = selected;\n            }\n        },\n\n        _fetchData: function() {\n            var that = this;\n            var hasItems = !!that.dataSource.view().length;\n            var isEmptyArray = that.listView.value().length === 0;\n\n            if (isEmptyArray || that._request) {\n                return;\n            }\n\n            if (that._retrieveData || (!that._fetch && !hasItems)) {\n                that._fetch = true;\n                that._retrieveData = false;\n                that.dataSource.read().done(function() {\n                    that._fetch = false;\n                });\n            }\n        },\n\n        _isBound: function() {\n            return this.listView.bound() && !this._retrieveData;\n        },\n\n        _dataSource: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                dataSource = options.dataSource || {};\n\n            dataSource = isArray(dataSource) ? {data: dataSource} : dataSource;\n\n            dataSource.select = element;\n            dataSource.fields = [{ field: options.dataTextField },\n                                 { field: options.dataValueField }];\n\n            if (that.dataSource && that._refreshHandler) {\n                that._unbindDataSource();\n            } else {\n                that._progressHandler = that._showBusy.bind(that);\n                that._errorHandler = that._hideBusy.bind(that);\n            }\n\n            that.dataSource = kendo.data.DataSource.create(dataSource)\n                                   .bind(PROGRESS, that._progressHandler)\n                                   .bind(\"error\", that._errorHandler);\n        },\n\n        _reset: function() {\n            var that = this,\n                element = that.element,\n                formId = element.attr(\"form\"),\n                form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    setTimeout(function() {\n                        that.value(that._initialValues);\n                        that._placeholder();\n                    });\n                };\n\n                that._form = form.on(\"reset\", that._resetHandler);\n            }\n        },\n\n        _initValue: function() {\n            var value = this.options.value || this.element.val();\n\n            this._old = this._initialValues = this._normalizeValues(value);\n        },\n\n        _normalizeValues: function(value) {\n            var that = this;\n\n            if (value === null) {\n                value = [];\n            } else if (value && $.isPlainObject(value)) {\n                value = [that._value(value)];\n            } else if (value && $.isPlainObject(value[0])) {\n                value = $.map(value, function(dataItem) { return that._value(dataItem); });\n            } else if (!isArray(value) && !(value instanceof ObservableArray)) {\n                value = [value];\n            } else if (isArray(value)) {\n                value = value.slice();\n            }\n\n            return value;\n        },\n\n        _change: function() {\n            var that = this,\n                value = that.value();\n\n            if (!compare(value, that._old)) {\n                that._old = value.slice();\n\n                that.trigger(CHANGE);\n\n                // trigger the DOM change event so any subscriber gets notified\n                that.element.trigger(CHANGE);\n            }\n            that.popup.position();\n\n            that._toggleCloseVisibility();\n        },\n\n        _click: function(e) {\n            var that = this;\n            var item = e.item;\n\n            e.preventDefault();\n\n            that._select(item).done(function() {\n                that._activeItem = item;\n                that._change();\n                that._close();\n            });\n        },\n\n        _getActiveItem: function() {\n            return this._activeItem || $(this.listView.items()[this._getSelectedIndices().length - 1]) || this.listView.focus();\n        },\n\n        _getSelectedIndices: function() {\n            return this.listView._selectedIndices || this.listView._selectedIndexes;\n        },\n\n        _keydown: function(e) {\n            var that = this;\n            var key = e.keyCode;\n            var tag = that._currentTag;\n            var listView = that.listView;\n            var hasValue = that.input.val();\n            var isRtl = kendo.support.isRtl(that.wrapper);\n            var visible = that.popup.visible();\n            var dir = 0;\n            var activeItemIdx;\n\n            if(key !== keys.ENTER) {\n                this._multipleSelection = false;\n            }\n\n             if (key === keys.DOWN) {\n                e.preventDefault();\n\n                if (!visible) {\n                    that.open();\n\n                    if (!listView.focus()) {\n                        listView.focusFirst();\n                    }\n                    return;\n                }\n\n                if (listView.focus()) {\n                    if (!that._activeItem && e.shiftKey) {\n                        that._activeItem = listView.focus();\n                        dir = -1;\n                    }\n                    activeItemIdx = listView.getElementIndex(that._getActiveItem().first());\n\n                    listView.focusNext();\n                    if (!listView.focus()) {\n                        listView.focusLast();\n                    } else {\n                        if (e.shiftKey && !that.options.virtual) {\n                            this._multipleSelection = true;\n                            that._selectRange(activeItemIdx, listView.getElementIndex(listView.focus().first()) + dir);\n                        }\n                    }\n                } else {\n                    listView.focusFirst();\n                }\n\n            } else if (key === keys.UP) {\n                if (visible) {\n                    if (!that._activeItem && e.shiftKey) {\n                        that._activeItem = listView.focus();\n                        dir = 1;\n                    }\n                    activeItemIdx = listView.getElementIndex(that._getActiveItem().first());\n                    listView.focusPrev();\n                    if (!listView.focus()) {\n                        that.close();\n                    } else {\n                        if (e.shiftKey && !that.options.virtual) {\n                            this._multipleSelection = true;\n                            that._selectRange(activeItemIdx, listView.getElementIndex(listView.focus().first()) + dir);\n                        }\n                    }\n                }\n                e.preventDefault();\n            } else if ((key === keys.LEFT && !isRtl) || (key === keys.RIGHT && isRtl)) {\n                if (!hasValue) {\n                    tag = tag ? tag.prev(CHIP) : that.tagList.children(CHIP).last();\n                    if (tag[0]) {\n                        that.currentTag(tag);\n                    }\n                }\n            } else if ((key === keys.RIGHT && !isRtl) || (key === keys.LEFT && isRtl)) {\n                if (!hasValue && tag) {\n                    tag = tag.next(CHIP);\n                    that.currentTag(tag[0] ? tag : null);\n                }\n            } else if (e.ctrlKey && !e.altKey && key === keys.A && visible && !that.options.virtual) {\n                this._multipleSelection = true;\n                if (this._getSelectedIndices().length === listView.items().length) {\n                    that._activeItem = null;\n                }\n\n                if (listView.items().length) {\n                    that._selectRange(0, listView.items().length -1);\n                }\n            } else if (key === keys.ENTER && visible) {\n                if (!listView.focus()) {\n                    return;\n                }\n\n                e.preventDefault();\n\n                if (this._multipleSelection) {\n                    this._multipleSelection = false;\n                     if (listView.focus().hasClass(SELECTEDCLASS)) {\n                        that._close();\n                        return;\n                    }\n                }\n\n                that._select(listView.focus()).done(function() {\n                    that._change();\n                    that._close();\n                });\n            } else if (key === keys.SPACEBAR && e.ctrlKey && visible) {\n                if (that._activeItem && listView.focus() && listView.focus()[0] === that._activeItem[0]) {\n                    that._activeItem = null;\n                }\n                if (!$(listView.focus()).hasClass(SELECTEDCLASS)) {\n                    that._activeItem = listView.focus();\n                }\n                that._select(listView.focus()).done(function () {\n                    that._change();\n                });\n                e.preventDefault();\n            } else if (key === keys.SPACEBAR && e.shiftKey && visible && !that.options.virtual) {\n                var activeIndex = listView.getElementIndex(that._getActiveItem());\n                var currentIndex = listView.getElementIndex(listView.focus());\n\n                if (activeIndex !== undefined && currentIndex !== undefined) {\n                    that._selectRange(activeIndex, currentIndex);\n                }\n\n                e.preventDefault();\n            } else if (key === keys.ESC) {\n                if (visible) {\n                    e.preventDefault();\n                } else {\n                    that.tagList.children(CHIP).each(function(index, tag) {\n                        that._removeTag($(tag), false);\n                    });\n                    that._change();\n                }\n\n                that.close();\n            } else if (key === keys.HOME) {\n                if (visible) {\n                    if (!listView.focus()) {\n                        that.close();\n                    } else {\n                        if (e.ctrlKey && e.shiftKey && !that.options.virtual) {\n                            that._selectRange(listView.getElementIndex(listView.focus()[0]), 0);\n                        }\n                        listView.focusFirst();\n                    }\n                } else if (!hasValue) {\n                    tag = that.tagList.children(CHIP).first()[0];\n\n                    if (tag) {\n                        that.currentTag($(tag));\n                    }\n                }\n            } else if (key === keys.END) {\n                if (visible) {\n                    if (!listView.focus()) {\n                        that.close();\n                    } else {\n                        if (e.ctrlKey && e.shiftKey && !that.options.virtual) {\n                            that._selectRange(\n                                listView.getElementIndex(listView.focus()[0]),\n                                listView.element.children().length - 1\n                            );\n                        }\n                        listView.focusLast();\n                    }\n                } else if (!hasValue) {\n                    tag = that.tagList.children(CHIP).last()[0];\n\n                    if (tag) {\n                        that.currentTag($(tag));\n                    }\n                }\n            } else if ((key === keys.DELETE || key === keys.BACKSPACE) && !hasValue) {\n                that._state = ACCEPT;\n\n                if (that.options.tagMode === \"single\") {\n                    that._clearSingleTagValue();\n\n                    that._change();\n                    that._close();\n                    return;\n                }\n\n                if (key === keys.BACKSPACE && !tag) {\n                    tag = that.tagList.children(CHIP).last();\n                }\n\n                if (tag && tag[0]) {\n                    that._removeTag(tag, true);\n                }\n            } else if (that.popup.visible() && (key === keys.PAGEDOWN || key === keys.PAGEUP)) {\n                e.preventDefault();\n\n                var direction = key === keys.PAGEDOWN ? 1: -1;\n                listView.scrollWith(direction * listView.screenHeight());\n            } else {\n                clearTimeout(that._typingTimeout);\n                that._search();\n            }\n        },\n\n        _hideBusy: function () {\n            var that = this;\n            clearTimeout(that._busy);\n            that.input.attr(\"aria-busy\", false);\n            that._loading.addClass(HIDDENCLASS);\n            that._request = false;\n            that._busy = null;\n\n            that._toggleCloseVisibility();\n        },\n\n        _showBusyHandler: function() {\n            this.input.attr(\"aria-busy\", true);\n            this._loading.removeClass(HIDDENCLASS);\n            this._hideClear();\n        },\n\n        _showBusy: function () {\n            var that = this;\n\n            that._request = true;\n\n            if (that._busy) {\n                return;\n            }\n\n            that._busy = setTimeout(that._showBusyHandler.bind(that), 100);\n        },\n\n        _placeholder: function(show, skipCaret) {\n            var that = this;\n            var input = that.input;\n            var active = activeElement();\n            var placeholder = that.options.placeholder;\n            var inputValue = input.val();\n            var isActive = input[0] === active;\n            var caretPos = inputValue.length;\n\n            if (!isActive || that.options.autoClose || inputValue === placeholder) {\n                caretPos = 0;\n                inputValue = \"\";\n            }\n\n            if (show === undefined) {\n                show = false;\n                if (input[0] !== active) {\n                    show = !that.listView.selectedDataItems()[0];\n                }\n            }\n\n            that._prev = inputValue;\n            input.toggleClass(\"k-readonly\", show).val(show ? placeholder : inputValue);\n\n            if (isActive && !skipCaret) {\n                kendo.caret(input[0], caretPos, caretPos);\n            }\n        },\n\n        _option: function(dataValue, dataText, selected) {\n            var option = \"<option\";\n\n            if (dataValue !== undefined) {\n                dataValue += \"\";\n\n                if (dataValue.indexOf('\"') !== -1) {\n                    dataValue = dataValue.replace(quotRegExp, \"&quot;\");\n                }\n\n                option += ' value=\"' + dataValue + '\"';\n            }\n\n            if (selected) {\n                option += ' selected';\n            }\n\n            option += \">\";\n\n            if (dataText !== undefined) {\n                option += kendo.htmlEncode(dataText);\n            }\n\n            return option += \"</option>\";\n        },\n\n        _render: function(data) {\n            var selectedItems = this.listView.selectedDataItems();\n            var values = this.listView.value();\n            var length = data.length;\n            var selectedIndex;\n            var options = \"\";\n            var dataItem;\n            var value;\n            var idx;\n\n            if (values.length !== selectedItems.length) {\n                selectedItems = this._buildSelectedItems(values);\n            }\n\n            var custom = {};\n            var optionsMap = {};\n\n            for (idx = 0; idx < length; idx++) {\n                dataItem = data[idx];\n                value = this._value(dataItem);\n\n                selectedIndex = this._selectedItemIndex(value, selectedItems);\n                if (selectedIndex !== -1) {\n                    selectedItems.splice(selectedIndex, 1);\n                }\n\n                optionsMap[value] = idx;\n                options += this._option(value, this._text(dataItem), selectedIndex !== -1);\n            }\n\n            if (selectedItems.length) {\n                for (idx = 0; idx < selectedItems.length; idx++) {\n                    dataItem = selectedItems[idx];\n\n                    value = this._value(dataItem);\n                    custom[value] = length;\n                    optionsMap[value] = length;\n\n                    length += 1;\n                    options += this._option(value, this._text(dataItem), true);\n                }\n            }\n\n            this._customOptions = custom;\n            this._optionsMap = optionsMap;\n\n            this.element.html(options);\n        },\n\n        _buildSelectedItems: function(values) {\n            var valueField = this.options.dataValueField;\n            var textField = this.options.dataTextField;\n            var result = [];\n            var item;\n\n            for (var idx = 0; idx < values.length; idx++) {\n                item = {};\n                item[valueField] = values[idx];\n                item[textField] = values[idx];\n\n                result.push(item);\n            }\n\n            return result;\n        },\n\n        _selectedItemIndex: function(value, selectedItems) {\n            var valueGetter = this._value;\n            var idx = 0;\n\n            for (; idx < selectedItems.length; idx++) {\n                if (value === valueGetter(selectedItems[idx])) {\n                    return idx;\n                }\n            }\n\n            return -1;\n        },\n\n        _search: function() {\n            var that = this;\n\n            clearTimeout(that._typingTimeout);\n\n            that._typingTimeout = setTimeout(function() {\n                var value = that._inputValue();\n                if (that._prev !== value) {\n                    that._prev = value;\n                    that.search(value);\n                    that._toggleCloseVisibility();\n                }\n            }, that.options.delay);\n        },\n\n        _toggleCloseVisibility: function() {\n            if (this.value().length || (this.input.val() && this.input.val() !== this.options.placeholder)) {\n                this._showClear();\n            } else {\n                this._hideClear();\n            }\n        },\n\n        _allowOpening: function() {\n            return this._allowSelection() && List.fn._allowOpening.call(this);\n        },\n\n        _allowSelection: function() {\n            var max = this.options.maxSelectedItems;\n            return max === null || max > this.listView.value().length;\n        },\n\n        _angularTagItems: function(cmd) {\n            var that = this;\n\n            that.angular(cmd, function() {\n                return {\n                    elements: that.tagList[0].children,\n                    data: $.map(that.dataItems(), function(dataItem) {\n                        return { dataItem: dataItem };\n                    })\n                };\n            });\n        },\n\n        updatePersistTagList: function(added, removed){\n            if(this.persistTagList.added &&\n                this.persistTagList.added.length === removed.length &&\n                this.persistTagList.removed &&\n                this.persistTagList.removed.length === added.length){\n                    this.persistTagList = false;\n             }else{\n                 this.listView._removedAddedIndexes = this._old.slice();\n                 this.persistTagList = {\n                     added: added,\n                     removed: removed\n                 };\n             }\n        },\n\n        _selectValue: function (added, removed) {\n            var that = this;\n            var total = that.dataSource.total();\n            var tagList = that.tagList;\n            var getter = that._value;\n            var removedItem;\n            var addedItem;\n            var idx;\n\n            if(this.persistTagList){\n                this.updatePersistTagList(added, removed);\n\n                return;\n            }\n\n            that._angularTagItems(\"cleanup\");\n\n            if (that.options.tagMode === \"multiple\") {\n                for (idx = removed.length - 1; idx > -1; idx--) {\n                    removedItem = removed[idx];\n\n                    if (tagList.children(CHIP).length) {\n                        tagList[0].removeChild(tagList[0].children[removedItem.position]);\n                        that._setOption(getter(removedItem.dataItem), false);\n                    }\n                }\n\n                for (idx = 0; idx < added.length; idx++) {\n                    addedItem = added[idx];\n\n                    that.input.before(that.tagTemplate(addedItem.dataItem));\n\n                    that._setOption(getter(addedItem.dataItem), true);\n                }\n            } else {\n                if (!that._maxTotal || that._maxTotal < total) {\n                    that._maxTotal = total;\n                }\n\n                this._updateTagListHTML();\n\n                for (idx = removed.length - 1; idx > -1; idx--) {\n                    that._setOption(getter(removed[idx].dataItem), false);\n                }\n\n                for (idx = 0; idx < added.length; idx++) {\n                    that._setOption(getter(added[idx].dataItem), true);\n                }\n            }\n\n            that._angularTagItems(\"compile\");\n            that._placeholder();\n        },\n\n        _updateTagListHTML: function(){\n            var that = this;\n            var values = that.value();\n            var total = that.dataSource.total();\n            var tagList = that.tagList;\n\n            tagList.children(CHIP).each(function(index, tag) {\n                $(tag).remove();\n            });\n\n            if (values.length) {\n                that.input.before(that.tagTemplate({\n                    values: values,\n                    dataItems: that.dataItems(),\n                    maxTotal: that._maxTotal,\n                    currentTotal: total\n                }));\n            }\n        },\n\n        _select: function(candidate) {\n            var resolved = $.Deferred().resolve();\n\n            if (!candidate) {\n                return resolved;\n            }\n\n            var that = this;\n            var listView = that.listView;\n            var dataItem = listView.dataItemByIndex(listView.getElementIndex(candidate));\n            var isSelected = candidate.hasClass(\"k-selected\");\n\n            if (that._state === REBIND) {\n                that._state = \"\";\n            }\n\n            if (!that._allowSelection() && !isSelected) {\n                return resolved;\n            }\n\n            if (that.trigger(isSelected ? DESELECT : SELECT, { dataItem: dataItem, item: candidate })) {\n                that._close();\n                return resolved;\n            }\n\n            that.persistTagList = false;\n            return listView.select(candidate).done(function() {\n                that._placeholder();\n\n                if (that._state === FILTER) {\n                    that._state = ACCEPT;\n                    listView.skipUpdate(true);\n                }\n            });\n        },\n\n        _selectRange: function (startIndex, endIndex) {\n            var that = this;\n            var listView = this.listView;\n            var maxSelectedItems = this.options.maxSelectedItems;\n            var indices = this._getSelectedIndices().slice();\n            var indicesToSelect = [];\n            var i;\n\n            var selectIndices = function(indices) {\n                listView.select(indices).done(function() {\n                    indices.forEach(function(index) {\n                        var dataItem  = listView.dataItemByIndex(index);\n                        var candidate = listView.element.children()[index];\n                        var isSelected = $(candidate).hasClass(\"k-selected\");\n\n                        that.trigger(isSelected ? SELECT : DESELECT, {dataItem: dataItem, item: $(candidate)});\n                    });\n                    that._change();\n                });\n            };\n\n            if (indices.length - 1 === endIndex - startIndex) {\n                return selectIndices(indices);\n            }\n\n            if (startIndex < endIndex) {\n                for (i = startIndex; i <= endIndex; i++) {\n                    indicesToSelect.push(i);\n                }\n            } else {\n                for (i = startIndex; i >= endIndex; i--) {\n                    indicesToSelect.push(i);\n                }\n            }\n\n            if (maxSelectedItems !== null && indicesToSelect.length > maxSelectedItems) {\n                indicesToSelect = indicesToSelect.slice(0, maxSelectedItems);\n            }\n\n            for (i = 0; i < indicesToSelect.length; i++) {\n                var index = indicesToSelect[i];\n\n                if (this._getSelectedIndices().indexOf(index) == -1) {\n                    indices.push(index);\n                } else {\n                    indices.splice(indices.indexOf(index), 1);\n                }\n            }\n\n            if (!indices.length) {\n                return;\n            }\n\n            that.persistTagList = false;\n            return selectIndices(indices);\n        },\n\n        _input: function() {\n            var that = this;\n            var element = that.element;\n            var accessKey = element[0].accessKey;\n            var input = that.tagList.children(\"input.k-input-inner\");\n            var autocomplete = this.options.filter === \"none\" ? \"none\" : \"list\";\n\n            if (!input[0]) {\n                input = $('<input class=\"k-input-inner\" />').appendTo(that.tagList);\n            }\n\n            element.removeAttr(\"accesskey\");\n\n            that._focused = that.input = input.attr({\n                \"autocomplete\": AUTOCOMPLETEVALUE,\n                \"role\": \"textbox\",\n                \"title\": element[0].title,\n                \"aria-autocomplete\": autocomplete\n            });\n\n            if(accessKey) {\n                that._focused.attr(\"accesskey\", accessKey);\n            }\n        },\n\n        _tagList: function() {\n            var that = this,\n                options = that.options,\n                tagList = that.wrapper.children(\".k-input-values\");\n\n            if (!tagList[0]) {\n                tagList = $(html.renderChipList('<div unselectable=\"on\" class=\"k-input-values k-selection-multiple\" />', $.extend({}, options))).appendTo(that.wrapper);\n            }\n\n            that.tagList = tagList;\n        },\n\n        _tagTemplate: function() {\n            var that = this;\n            var options = that.options;\n            var tagTemplate = options.tagTemplate;\n            var hasDataSource = options.dataSource;\n            var isMultiple = options.tagMode === \"multiple\";\n            var singleTag = options.messages.singleTag;\n            var defaultTemplate;\n\n            if (that.element[0].length && !hasDataSource) {\n                options.dataTextField = options.dataTextField || \"text\";\n                options.dataValueField = options.dataValueField || \"value\";\n            }\n\n            defaultTemplate = isMultiple ? kendo.template(\"#:\" + kendo.expr(options.dataTextField, \"data\") + \"#\", { useWithBlock: false }) : kendo.template(\"#:values.length# \" + singleTag);\n\n            that.tagTextTemplate = tagTemplate = tagTemplate ? kendo.template(tagTemplate) : defaultTemplate;\n\n            that.tagTemplate = function(data) {\n                return html.renderChip('<span unselectable=\"on\">' +\n                '</span>', $.extend({}, options, {\n                        fillMode: \"solid\",\n                        rounded: \"medium\",\n                        themeColor: \"base\",\n                        text: tagTemplate(data),\n                        attr: {\n                            unselectable: \"on\"\n                        },\n                        removable: isMultiple,\n                        removableAttr: {\n                            unselectable: \"on\",\n                            \"aria-hidden\": true,\n                            \"aria-label\": that.options.messages.deleteTag,\n                            title: that.options.messages.deleteTag\n                        },\n                        icon: !isMultiple ? \"arrow-s\" : \"\",\n                        iconAttr: {\n                            unselectable: \"on\",\n                            \"aria-hidden\": true,\n                            \"aria-label\": 'open'\n                        }\n                    })\n                );\n            };\n        },\n\n        _loader: function() {\n            this._loading = $('<span class=\"k-icon k-i-loading k-input-loading-icon ' + HIDDENCLASS + '\"></span>').insertAfter(this.tagList);\n        },\n\n        _clearButton: function() {\n            List.fn._clearButton.call(this);\n\n            if (this.options.clearButton) {\n                this._clear.insertAfter(this.tagList);\n                this.wrapper.addClass(\"k-multiselect-clearable\");\n            }\n        },\n\n        _arrowButton: function() {\n            var element = this.element,\n                arrowTitle = this.options.messages.downArrow,\n                arrow = $(html.renderButton('<button type=\"button\" title=\"' + arrowTitle + '\" class=\"k-input-button k-multiselect-toggle-button\"></button>', $.extend({}, this.options, {\n                    icon: \"arrow-s\"\n                })));\n\n            if(this._arrow) {\n                this._arrow.remove();\n                this._arrow = null;\n            }\n\n            if (this.options.downArrow) {\n                this._arrow = arrow.attr({\n                    \"tabIndex\": -1\n                });\n\n                if (element.id) {\n                    this._arrow.attr(\"aria-controls\", this.ul[0].id);\n                }\n\n                this._arrow.appendTo(this.wrapper);\n            }\n        },\n\n        _textContainer: function() {\n            var computedStyles = kendo.getComputedStyles(this.input[0], styles);\n\n            computedStyles.position = \"absolute\";\n            computedStyles.visibility = \"hidden\";\n            computedStyles.top = -3333;\n            computedStyles.left = -3333;\n\n            this._span = $(\"<span/>\").css(computedStyles).appendTo(this.wrapper);\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                wrapper = element.parent(\"span.k-multiselect\");\n\n            if (!wrapper[0]) {\n                wrapper = element.wrap('<span class=\"k-multiselect k-input\" unselectable=\"on\" role=\"combobox\" />').parent();\n                wrapper[0].style.cssText = element[0].style.cssText;\n                wrapper[0].title = element[0].title;\n            }\n\n            that.wrapper = wrapper\n                            .addClass(element[0].className)\n                            .removeClass('input-validation-error').css(\"display\", \"\")\n                            .attr({\n                                \"aria-expanded\": false\n                            });\n        },\n\n        _ariaSetLive: function() {\n            var that = this;\n\n            that.ul.attr(\"aria-live\", !that._isFilterEnabled() ? \"off\" : \"polite\");\n        },\n\n        _closeHandler: function(e) {\n            if (this.trigger(CLOSE)) {\n                e.preventDefault();\n            } else {\n                this.wrapper.attr(\"aria-expanded\", false);\n                this.ul.attr(\"aria-hidden\", true);\n            }\n        },\n\n        _openHandler: function(e) {\n            this._adjustListWidth();\n\n            if (this.trigger(OPEN)) {\n                e.preventDefault();\n            } else {\n                this.wrapper.attr(\"aria-expanded\", true);\n                this.ul.attr(\"aria-hidden\", false);\n            }\n        }\n    });\n\n    function compare(a, b) {\n        var length;\n\n        if ((a === null && b !== null) || (a !== null && b === null)) {\n            return false;\n        }\n\n        length = a.length;\n        if (length !== b.length) {\n            return false;\n        }\n\n        while (length--) {\n            if (a[length] !== b[length]) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    ui.plugin(MultiSelect);\n\n    kendo.cssProperties.registerPrefix(\"MultiSelect\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"MultiSelect\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n/***********************************************************************\n * WARNING: this file is auto-generated.  If you change it directly,\n * your modifications will eventually be lost.  The source code is in\n * `kendo-drawing` repository, you should make your changes there and\n * run `src-modules/sync.sh` in this repository.\n */\n(function(f, define){\n    define('kendo.color',[ \"kendo.core\" ], f);\n})(function(){\n\n    var __meta__ = { // jshint ignore:line\n        id: \"color\",\n        name: \"Color utils\",\n        category: \"framework\",\n        advanced: true,\n        description: \"Color utilities used across components\",\n        depends: [ \"core\" ]\n    };\n\n/*jshint eqnull:true  */\n\nwindow.kendo = window.kendo || {};\n\nvar Class = kendo.Class;\nvar support = kendo.support;\n\nvar namedColors = {\n    aliceblue: \"f0f8ff\", antiquewhite: \"faebd7\", aqua: \"00ffff\",\n    aquamarine: \"7fffd4\", azure: \"f0ffff\", beige: \"f5f5dc\",\n    bisque: \"ffe4c4\", black: \"000000\", blanchedalmond: \"ffebcd\",\n    blue: \"0000ff\", blueviolet: \"8a2be2\", brown: \"a52a2a\",\n    burlywood: \"deb887\", cadetblue: \"5f9ea0\", chartreuse: \"7fff00\",\n    chocolate: \"d2691e\", coral: \"ff7f50\", cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\", crimson: \"dc143c\", cyan: \"00ffff\",\n    darkblue: \"00008b\", darkcyan: \"008b8b\", darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\", darkgrey: \"a9a9a9\", darkgreen: \"006400\",\n    darkkhaki: \"bdb76b\", darkmagenta: \"8b008b\", darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\", darkorchid: \"9932cc\", darkred: \"8b0000\",\n    darksalmon: \"e9967a\", darkseagreen: \"8fbc8f\", darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\", darkslategrey: \"2f4f4f\", darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\", deeppink: \"ff1493\", deepskyblue: \"00bfff\",\n    dimgray: \"696969\", dimgrey: \"696969\", dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\", floralwhite: \"fffaf0\", forestgreen: \"228b22\",\n    fuchsia: \"ff00ff\", gainsboro: \"dcdcdc\", ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\", goldenrod: \"daa520\", gray: \"808080\",\n    grey: \"808080\", green: \"008000\", greenyellow: \"adff2f\",\n    honeydew: \"f0fff0\", hotpink: \"ff69b4\", indianred: \"cd5c5c\",\n    indigo: \"4b0082\", ivory: \"fffff0\", khaki: \"f0e68c\",\n    lavender: \"e6e6fa\", lavenderblush: \"fff0f5\", lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\", lightblue: \"add8e6\", lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\", lightgoldenrodyellow: \"fafad2\", lightgray: \"d3d3d3\",\n    lightgrey: \"d3d3d3\", lightgreen: \"90ee90\", lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\", lightseagreen: \"20b2aa\", lightskyblue: \"87cefa\",\n    lightslategray: \"778899\", lightslategrey: \"778899\", lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\", lime: \"00ff00\", limegreen: \"32cd32\",\n    linen: \"faf0e6\", magenta: \"ff00ff\", maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\", mediumblue: \"0000cd\", mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370d8\", mediumseagreen: \"3cb371\", mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\", mediumturquoise: \"48d1cc\", mediumvioletred: \"c71585\",\n    midnightblue: \"191970\", mintcream: \"f5fffa\", mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\", navajowhite: \"ffdead\", navy: \"000080\",\n    oldlace: \"fdf5e6\", olive: \"808000\", olivedrab: \"6b8e23\",\n    orange: \"ffa500\", orangered: \"ff4500\", orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\", palegreen: \"98fb98\", paleturquoise: \"afeeee\",\n    palevioletred: \"d87093\", papayawhip: \"ffefd5\", peachpuff: \"ffdab9\",\n    peru: \"cd853f\", pink: \"ffc0cb\", plum: \"dda0dd\",\n    powderblue: \"b0e0e6\", purple: \"800080\", red: \"ff0000\",\n    rosybrown: \"bc8f8f\", royalblue: \"4169e1\", saddlebrown: \"8b4513\",\n    salmon: \"fa8072\", sandybrown: \"f4a460\", seagreen: \"2e8b57\",\n    seashell: \"fff5ee\", sienna: \"a0522d\", silver: \"c0c0c0\",\n    skyblue: \"87ceeb\", slateblue: \"6a5acd\", slategray: \"708090\",\n    slategrey: \"708090\", snow: \"fffafa\", springgreen: \"00ff7f\",\n    steelblue: \"4682b4\", tan: \"d2b48c\", teal: \"008080\",\n    thistle: \"d8bfd8\", tomato: \"ff6347\", turquoise: \"40e0d0\",\n    violet: \"ee82ee\", wheat: \"f5deb3\", white: \"ffffff\",\n    whitesmoke: \"f5f5f5\", yellow: \"ffff00\", yellowgreen: \"9acd32\"\n};\n\nvar browser = support.browser;\n\nvar matchNamedColor = function (color) {\n    var colorNames = Object.keys(namedColors);\n    colorNames.push(\"transparent\");\n\n    var regexp = new RegExp(\"^(\" + colorNames.join(\"|\") + \")(\\\\W|$)\", \"i\");\n    matchNamedColor = function (color) { return regexp.exec(color); };\n\n    return regexp.exec(color);\n};\n\nvar BaseColor = Class.extend({\n    init: function() {  },\n\n    toHSV: function() { return this; },\n\n    toRGB: function() { return this; },\n\n    toHex: function(options) { return this.toBytes().toHex(options); },\n\n    toBytes: function() { return this; },\n\n    toCss: function(options) { return \"#\" + this.toHex(options); },\n\n    toCssRgba: function() {\n        var rgb = this.toBytes();\n        return (\"rgba(\" + (rgb.r) + \", \" + (rgb.g) + \", \" + (rgb.b) + \", \" + (parseFloat((Number(this.a)).toFixed(3))) + \")\");\n    },\n\n    toDisplay: function() {\n        if (browser.msie && browser.version < 9) {\n            return this.toCss(); // no RGBA support; does it support any opacity in colors?\n        }\n        return this.toCssRgba();\n    },\n\n    equals: function(c) {\n        return c === this || c !== null && this.toCssRgba() === parseColor(c).toCssRgba();\n    },\n\n    diff: function(other) {\n        if (other === null) {\n            return NaN;\n        }\n\n        var c1 = this.toBytes();\n        var c2 = other.toBytes();\n\n        return Math.sqrt(Math.pow((c1.r - c2.r) * 0.30, 2) +\n                         Math.pow((c1.g - c2.g) * 0.59, 2) +\n                         Math.pow((c1.b - c2.b) * 0.11, 2));\n    },\n\n    clone: function() {\n        var c = this.toBytes();\n        if (c === this) {\n            c = new Bytes(c.r, c.g, c.b, c.a);\n        }\n\n        return c;\n    }\n});\n\nvar RGB = BaseColor.extend({\n    init: function(r, g, b, a) {\n        BaseColor.fn.init.call(this);\n\n        this.r = r;\n        this.g = g;\n        this.b = b;\n        this.a = a;\n    },\n\n    toHSV: function() {\n        var ref = this;\n        var r = ref.r;\n        var g = ref.g;\n        var b = ref.b;\n        var min = Math.min(r, g, b);\n        var max = Math.max(r, g, b);\n        var delta = max - min;\n        var v = max;\n        var h, s;\n\n        if (delta === 0) {\n            return new HSV(0, 0, v, this.a);\n        }\n\n        if (max !== 0) {\n            s = delta / max;\n            if (r === max) {\n                h = (g - b) / delta;\n            } else if (g === max) {\n                h = 2 + (b - r) / delta;\n            } else {\n                h = 4 + (r - g) / delta;\n            }\n\n            h *= 60;\n            if (h < 0) {\n                h += 360;\n            }\n        } else {\n            s = 0;\n            h = -1;\n        }\n\n        return new HSV(h, s, v, this.a);\n    },\n\n    toHSL: function() {\n        var ref = this;\n        var r = ref.r;\n        var g = ref.g;\n        var b = ref.b;\n        var max = Math.max(r, g, b);\n        var min = Math.min(r, g, b);\n        var h, s, l = (max + min) / 2;\n\n        if (max === min) {\n            h = s = 0;\n        } else {\n            var d = max - min;\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n            switch (max) {\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n                default: break;\n            }\n        }\n\n        return new HSL(h * 60, s * 100, l * 100, this.a);\n    },\n\n    toBytes: function() {\n        return new Bytes(this.r * 255, this.g * 255, this.b * 255, this.a);\n    }\n});\n\nvar Bytes = RGB.extend({\n    init: function(r, g, b, a) {\n        RGB.fn.init.call(this, Math.round(r), Math.round(g), Math.round(b), a);\n    },\n\n    toRGB: function() {\n        return new RGB(this.r / 255, this.g / 255, this.b / 255, this.a);\n    },\n\n    toHSV: function() {\n        return this.toRGB().toHSV();\n    },\n\n    toHSL: function() {\n        return this.toRGB().toHSL();\n    },\n\n    toHex: function(options) {\n        var value = hex(this.r, 2) + hex(this.g, 2) + hex(this.b, 2);\n\n        if (options && options.alpha) {\n            value += hex(Math.round(this.a * 255), 2);\n        }\n\n        return value;\n    },\n\n    toBytes: function() {\n        return this;\n    }\n});\n\nfunction hex(n, width, pad) {\n    if (pad === void 0) { pad = \"0\"; }\n\n    var result = n.toString(16);\n    while (width > result.length) {\n        result = pad + result;\n    }\n\n    return result;\n}\n\nvar HSV = BaseColor.extend({\n    init: function(h, s, v, a) {\n        BaseColor.fn.init.call(this);\n\n        this.h = h;\n        this.s = s;\n        this.v = v;\n        this.a = a;\n    },\n\n    toRGB: function() {\n        var ref = this;\n        var h = ref.h;\n        var s = ref.s;\n        var v = ref.v;\n        var r, g, b;\n\n        if (s === 0) {\n            r = g = b = v;\n        } else {\n            h /= 60;\n\n            var i = Math.floor(h);\n            var f = h - i;\n            var p = v * (1 - s);\n            var q = v * (1 - s * f);\n            var t = v * (1 - s * (1 - f));\n\n            switch (i) {\n                case 0: r = v; g = t; b = p; break;\n                case 1: r = q; g = v; b = p; break;\n                case 2: r = p; g = v; b = t; break;\n                case 3: r = p; g = q; b = v; break;\n                case 4: r = t; g = p; b = v; break;\n                default: r = v; g = p; b = q; break;\n            }\n        }\n\n        return new RGB(r, g, b, this.a);\n    },\n\n    toHSL: function() {\n        return this.toRGB().toHSL();\n    },\n\n    toBytes: function() {\n        return this.toRGB().toBytes();\n    }\n});\n\nvar HSL = BaseColor.extend({\n    init: function(h, s, l, a) {\n        BaseColor.fn.init.call(this);\n\n        this.h = h;\n        this.s = s;\n        this.l = l;\n        this.a = a;\n    },\n\n    toRGB: function() {\n        var h = this.h / 360;\n        var s = this.s / 100;\n        var l = this.l / 100;\n        var r, g, b;\n\n        if (s === 0) {\n            r = g = b = l; // achromatic\n        } else {\n            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n            var p = 2 * l - q;\n            r = hue2rgb(p, q, h + 1 / 3);\n            g = hue2rgb(p, q, h);\n            b = hue2rgb(p, q, h - 1 / 3);\n        }\n\n        return new RGB(r, g, b, this.a);\n    },\n\n    toHSV: function() {\n        return this.toRGB().toHSV();\n    },\n\n    toBytes: function() {\n        return this.toRGB().toBytes();\n    }\n});\n\nfunction hue2rgb(p, q, s) {\n    var t = s;\n\n    if (t < 0) {\n        t += 1;\n    }\n\n    if (t > 1) {\n        t -= 1;\n    }\n\n    if (t < 1 / 6) {\n        return p + (q - p) * 6 * t;\n    }\n\n    if (t < 1 / 2) {\n        return q;\n    }\n\n    if (t < 2 / 3) {\n        return p + (q - p) * (2 / 3 - t) * 6;\n    }\n\n    return p;\n}\n\nfunction alphaFromHex(a) {\n    return parseFloat(parseFloat(parseInt(a, 16) / 255 ).toFixed(3));\n}\n\nfunction parseColor(value, safe) {\n    var m, ret;\n\n    if (value == null || value === \"none\") {\n        return null;\n    }\n\n    if (value instanceof BaseColor) {\n        return value;\n    }\n\n    var color = value.toLowerCase();\n    if ((m = matchNamedColor(color))) {\n        if (m[1] === \"transparent\") {\n            color = new RGB(1, 1, 1, 0);\n        } else {\n            color = parseColor(namedColors[m[1]], safe);\n        }\n        color.match = [ m[1] ];\n        return color;\n    }\n    if ((m = /^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\\b/i.exec(color))) {\n        ret = new Bytes(parseInt(m[1], 16),\n                        parseInt(m[2], 16),\n                        parseInt(m[3], 16), 1);\n    } else if ((m = /^#?([0-9a-f])([0-9a-f])([0-9a-f])\\b/i.exec(color))) {\n        ret = new Bytes(parseInt(m[1] + m[1], 16),\n                        parseInt(m[2] + m[2], 16),\n                        parseInt(m[3] + m[3], 16), 1);\n    } else if ((m = /^#?([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])\\b/i.exec(color))) { // Parse 4 digit hex color\n        ret = new Bytes(parseInt(m[1] + m[1], 16),\n                        parseInt(m[2] + m[2], 16),\n                        parseInt(m[3] + m[3], 16),\n                        alphaFromHex(m[4] + m[4]));\n    } else if ((m = /^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\\b/i.exec(color))) { // Parse 8 digit hex color\n        ret = new Bytes(parseInt(m[1], 16),\n                        parseInt(m[2], 16),\n                        parseInt(m[3], 16),\n                        alphaFromHex(m[4]));\n    } else if ((m = /^rgb\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/.exec(color))) {\n        ret = new Bytes(parseInt(m[1], 10),\n                        parseInt(m[2], 10),\n                        parseInt(m[3], 10), 1);\n    } else if ((m = /^rgba\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9.]+)\\s*\\)/.exec(color))) {\n        ret = new Bytes(parseInt(m[1], 10),\n                        parseInt(m[2], 10),\n                        parseInt(m[3], 10), parseFloat(m[4]));\n    } else if ((m = /^rgb\\(\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*\\)/.exec(color))) {\n        ret = new RGB(parseFloat(m[1]) / 100,\n                      parseFloat(m[2]) / 100,\n                      parseFloat(m[3]) / 100, 1);\n    } else if ((m = /^rgba\\(\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9.]+)\\s*\\)/.exec(color))) {\n        ret = new RGB(parseFloat(m[1]) / 100,\n                      parseFloat(m[2]) / 100,\n                      parseFloat(m[3]) / 100, parseFloat(m[4]));\n    }\n\n    if (ret) {\n        ret.match = m;\n    } else if (!safe) {\n        throw new Error(\"Cannot parse color: \" + color);\n    }\n\n    return ret;\n}\n\nvar DARK_TRESHOLD = 180;\n\nvar Color = Class.extend({\n    init: function(value) {\n        var this$1 = this;\n\n        if (arguments.length === 1) {\n            var formats = Color.formats;\n            var resolvedColor = this.resolveColor(value);\n\n            for (var idx = 0; idx < formats.length; idx++) {\n                var formatRegex = formats[idx].re;\n                var processor = formats[idx].process;\n                var parts = formatRegex.exec(resolvedColor);\n\n                if (parts) {\n                    var channels = processor(parts);\n                    this$1.r = channels[0];\n                    this$1.g = channels[1];\n                    this$1.b = channels[2];\n                }\n            }\n        } else {\n            this.r = arguments[0];\n            this.g = arguments[1];\n            this.b = arguments[2];\n        }\n\n        this.r = this.normalizeByte(this.r);\n        this.g = this.normalizeByte(this.g);\n        this.b = this.normalizeByte(this.b);\n    },\n\n    toHex: function() {\n        var pad = this.padDigit;\n        var r = this.r.toString(16);\n        var g = this.g.toString(16);\n        var b = this.b.toString(16);\n\n        return \"#\" + pad(r) + pad(g) + pad(b);\n    },\n\n    resolveColor: function(value) {\n        var color = value || \"black\";\n\n        if (color.charAt(0) === \"#\") {\n            color = color.substr(1, 6);\n        }\n\n        color = color.replace(/ /g, \"\");\n        color = color.toLowerCase();\n        color = Color.namedColors[color] || color;\n\n        return color;\n    },\n\n    normalizeByte: function(value) {\n        if (value < 0 || isNaN(value)) {\n            return 0;\n        }\n\n        return value > 255 ? 255 : value;\n    },\n\n    padDigit: function(value) {\n        return (value.length === 1) ? \"0\" + value : value;\n    },\n\n    brightness: function(value) {\n        var round = Math.round;\n\n        this.r = round(this.normalizeByte(this.r * value));\n        this.g = round(this.normalizeByte(this.g * value));\n        this.b = round(this.normalizeByte(this.b * value));\n\n        return this;\n    },\n\n    percBrightness: function() {\n        return Math.sqrt(0.241 * this.r * this.r + 0.691 * this.g * this.g + 0.068 * this.b * this.b);\n    },\n\n    isDark: function() {\n        return this.percBrightness() < DARK_TRESHOLD;\n    }\n});\n\nColor.fromBytes = function(r, g, b, a) {\n    return new Bytes(r, g, b, a != null ? a : 1);\n};\n\nColor.fromRGB = function(r, g, b, a) {\n    return new RGB(r, g, b, a != null ? a : 1);\n};\n\nColor.fromHSV = function(h, s, v, a) {\n    return new HSV(h, s, v, a != null ? a : 1);\n};\n\nColor.fromHSL = function(h, s, l, a) {\n    return new HSL(h, s, l, a != null ? a : 1);\n};\n\nColor.formats = [ {\n    re: /^rgb\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,\n    process: function(parts) {\n        return [\n            parseInt(parts[1], 10), parseInt(parts[2], 10), parseInt(parts[3], 10)\n        ];\n    }\n}, {\n    re: /^(\\w{2})(\\w{2})(\\w{2})$/,\n    process: function(parts) {\n        return [\n            parseInt(parts[1], 16), parseInt(parts[2], 16), parseInt(parts[3], 16)\n        ];\n    }\n}, {\n    re: /^(\\w{1})(\\w{1})(\\w{1})$/,\n    process: function(parts) {\n        return [\n            parseInt(parts[1] + parts[1], 16),\n            parseInt(parts[2] + parts[2], 16),\n            parseInt(parts[3] + parts[3], 16)\n        ];\n    }\n} ];\n\nColor.namedColors = namedColors;\n\nkendo.deepExtend(kendo, {\n    parseColor: parseColor,\n    namedColors: namedColors,\n    Color: Color\n});\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n(function(f, define) {\n    define('kendo.slider',[ \"kendo.draganddrop\" ], f);\n})(function() {\n\nvar __meta__ = { // jshint ignore:line\n    id: \"slider\",\n    name: \"Slider\",\n    category: \"web\",\n    description: \"The Slider widget provides a rich input for selecting values or ranges of values.\",\n    depends: [ \"draganddrop\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        Draggable = kendo.ui.Draggable,\n        outerWidth = kendo._outerWidth,\n        outerHeight = kendo._outerHeight,\n        extend = $.extend,\n        format = kendo.format,\n        parse = kendo.parseFloat,\n        isArray = Array.isArray,\n        math = Math,\n        support = kendo.support,\n        pointers = support.pointers,\n        msPointers = support.msPointers,\n        CHANGE = \"change\",\n        SLIDE = \"slide\",\n        NS = \".slider\",\n        MOUSE_DOWN = \"touchstart\" + NS + \" mousedown\" + NS,\n        TRACK_MOUSE_DOWN = pointers ? \"pointerdown\" + NS : (msPointers ? \"MSPointerDown\" + NS : MOUSE_DOWN),\n        MOUSE_UP = \"touchend\" + NS + \" mouseup\" + NS,\n        TRACK_MOUSE_UP = pointers ? \"pointerup\" : (msPointers ? \"MSPointerUp\" + NS : MOUSE_UP),\n        MOVE_SELECTION = \"moveSelection\",\n        KEY_DOWN = \"keydown\" + NS,\n        CLICK = \"click\" + NS,\n        MOUSE_OVER = \"mouseover\" + NS,\n        FOCUS = \"focus\" + NS,\n        BLUR = \"blur\" + NS,\n        DRAG_HANDLE = \".k-draghandle\",\n        TRACK_SELECTOR = \".k-slider-track\",\n        TICK_SELECTOR = \".k-tick\",\n        STATE_SELECTED = \"k-state-selected\",\n        STATE_FOCUSED = \"k-state-focused\",\n        STATE_DISABLED = \"k-state-disabled\",\n        DISABLED = \"disabled\",\n        UNDEFINED = \"undefined\",\n        TABINDEX = \"tabindex\",\n        getTouches = kendo.getTouches,\n\n        ARIA_VALUETEXT = \"aria-valuetext\",\n        ARIA_VALUENOW = \"aria-valuenow\";\n\n    var SliderBase = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n            that._isHorizontal = options.orientation == \"horizontal\";\n            that._isRtl = that._isHorizontal && kendo.support.isRtl(element);\n            that._position = that._isHorizontal ? \"left\" : \"bottom\";\n            that._sizeFn = that._isHorizontal ? \"width\" : \"height\";\n            that._outerSize = that._isHorizontal ? outerWidth : outerHeight;\n\n            options.tooltip.format = options.tooltip.enabled ? options.tooltip.format || \"{0}\" : \"{0}\";\n\n            if (options.smallStep <= 0) {\n                throw new Error('Kendo UI Slider smallStep must be a positive number.');\n            }\n\n            that._createHtml();\n            that._trackDiv = that.wrapper.find(TRACK_SELECTOR);\n\n            that._maxSelection = that._trackDiv[that._sizeFn]();\n\n            that._sliderItemsInit();\n\n            that._reset();\n\n            that._tabindex(that.wrapper.find(DRAG_HANDLE));\n            that[options.enabled ? \"enable\" : \"disable\"]();\n\n            var rtlDirectionSign = kendo.support.isRtl(that.wrapper) ? -1 : 1;\n\n            that._keyMap = {\n                37: step(-1 * rtlDirectionSign * options.smallStep), // left arrow\n                40: step(-options.smallStep), // down arrow\n                39: step(+1 * rtlDirectionSign * options.smallStep), // right arrow\n                38: step(+options.smallStep), // up arrow\n                35: setValue(options.max), // end\n                36: setValue(options.min), // home\n                33: step(+options.largeStep), // page up\n                34: step(-options.largeStep) // page down\n            };\n\n            kendo.notify(that);\n        },\n\n        events: [\n            CHANGE,\n            SLIDE\n        ],\n\n        options: {\n            enabled: true,\n            min: 0,\n            max: 10,\n            smallStep: 1,\n            largeStep: 5,\n            orientation: \"horizontal\",\n            tickPlacement: \"both\",\n            tooltip: { enabled: true, format: \"{0}\" }\n        },\n\n        _distance: function() {\n            return round(this.options.max - this.options.min);\n        },\n\n        _resize: function() {\n            this.wrapper.find(\".k-slider-items\").remove();\n\n            this._maxSelection = this._trackDiv[this._sizeFn]();\n            this._sliderItemsInit();\n            this._refresh();\n\n            if (this.options.enabled) {\n                this.enable(true);\n            }\n        },\n\n        _sliderItemsInit: function() {\n            var that = this,\n                options = that.options;\n\n            // [Backwards compatibilty]: maxSelection is reduced with 2 to compensate new styling and preserve automatic calculation to not show ticks.\n            var sizeBetweenTicks = (that._maxSelection - 2)/ ((options.max - options.min) / options.smallStep);\n\n            var pixelWidths = that._calculateItemsWidth(math.floor(removeFraction(that._distance()) / removeFraction(options.smallStep)));\n\n            if (options.tickPlacement != \"none\" && sizeBetweenTicks >= 2) {\n                $(this.element).parent().find(\".k-slider-items\").remove();\n                that._trackDiv.before(createSliderItems(options, that._distance()));\n                that._setItemsTitle();\n            }\n\n            that._calculateSteps(pixelWidths);\n\n            if (options.tickPlacement != \"none\" && sizeBetweenTicks >= 2 &&\n                options.largeStep >= options.smallStep) {\n                that._setItemsLargeTick();\n                that.wrapper.find(TICK_SELECTOR).first().addClass(\"k-first\");\n                that.wrapper.find(TICK_SELECTOR).last().addClass(\"k-last\");\n            }\n        },\n\n        getSize: function() {\n            return kendo.dimensions(this.wrapper);\n        },\n\n        _setItemsTitle: function() {\n            var that = this,\n                options = that.options,\n                items = that.wrapper.find(TICK_SELECTOR),\n                titleNumber = options.min,\n                count = items.length;\n\n            for (var i = 0; i <= count; i += 1) {\n                $(items[i]).attr(\"title\", format(options.tooltip.format, round(titleNumber)));\n                titleNumber += options.smallStep;\n            }\n        },\n\n        _setItemsLargeTick: function() {\n            var that = this,\n                options = that.options,\n                items = that.wrapper.find(TICK_SELECTOR),\n                i = 0, item, value;\n\n            if (removeFraction(options.largeStep) % removeFraction(options.smallStep) === 0 || that._distance() / options.largeStep >= 3) {\n                if (!that._isHorizontal && !that._isRtl) {\n                    items = $.makeArray(items).reverse();\n                }\n\n                for (i = 0; i < items.length; i++) {\n                    item = $(items[i]);\n                    value = that._values[i];\n                    var valueWithoutFraction = round(removeFraction(value - this.options.min));\n                    if (valueWithoutFraction % removeFraction(options.smallStep) === 0 && valueWithoutFraction % removeFraction(options.largeStep) === 0) {\n                        item.addClass(\"k-tick-large\")\n                            .html(\"<span class='k-label'>\" + item.attr(\"title\") + \"</span>\");\n\n                        if (i !== 0 && i !== items.length - 1) {\n                            item.css(\"line-height\", item[that._sizeFn]() + \"px\");\n                        }\n                    }\n                }\n            }\n        },\n\n        _calculateItemsWidth: function(itemsCount) {\n            var that = this,\n                options = that.options,\n                trackDivSize = parseFloat(that._trackDiv.css(that._sizeFn)) + 1,\n                distance = that._distance(),\n                preciseItemsCount = removeFraction(distance) / removeFraction(options.smallStep),\n                pixelStep = trackDivSize / removeFraction(distance),\n                itemWidth,\n                pixelWidths,\n                i;\n\n            if (preciseItemsCount - itemsCount > 0) {\n                trackDivSize -= ((removeFraction(distance) % removeFraction(options.smallStep)) * pixelStep);\n            }\n\n            itemWidth = trackDivSize / itemsCount;\n            pixelWidths = [];\n\n            for (i = 0; i < itemsCount - 1; i++) {\n                pixelWidths[i] = itemWidth;\n            }\n\n            pixelWidths[itemsCount - 1] = pixelWidths[itemsCount] = itemWidth / 2;\n            return that._roundWidths(pixelWidths);\n        },\n\n        _roundWidths: function(pixelWidthsArray) {\n            var balance = 0,\n                count = pixelWidthsArray.length,\n                i;\n\n            for (i = 0; i < count; i++) {\n                balance += (pixelWidthsArray[i] - math.floor(pixelWidthsArray[i]));\n                pixelWidthsArray[i] = math.floor(pixelWidthsArray[i]);\n            }\n\n            balance = math.round(balance);\n\n            return this._addAdditionalSize(balance, pixelWidthsArray);\n        },\n\n        _addAdditionalSize: function(additionalSize, pixelWidthsArray) {\n            if (additionalSize === 0) {\n                return pixelWidthsArray;\n            }\n\n            //set step size\n            var step = parseFloat(pixelWidthsArray.length - 1) / parseFloat(additionalSize == 1 ? additionalSize : additionalSize - 1),\n                i;\n\n            for (i = 0; i < additionalSize; i++) {\n                pixelWidthsArray[parseInt(math.round(step * i), 10)] += 1;\n            }\n\n            return pixelWidthsArray;\n        },\n\n        _calculateSteps: function(pixelWidths) {\n            var that = this,\n                options = that.options,\n                val = options.min,\n                selection = 0,\n                distance = that._distance(),\n                itemsCount = math.ceil(removeFraction(distance) / removeFraction(options.smallStep)),\n                i = 1,\n                lastItem;\n\n            itemsCount += (removeFraction(distance) / removeFraction(options.smallStep)) % 1 === 0 ? 1 : 0;\n            pixelWidths.splice(0, 0, pixelWidths[itemsCount - 2] * 2);\n            pixelWidths.splice(itemsCount - 1, 1, pixelWidths.pop() * 2);\n\n            that._pixelSteps = [selection];\n            that._values = [val];\n\n            if (itemsCount === 0) {\n                return;\n            }\n\n            while (i < itemsCount) {\n                selection += (pixelWidths[i - 1] + pixelWidths[i]) / 2;\n                that._pixelSteps[i] = selection;\n                val += options.smallStep;\n                that._values[i] = round(val);\n\n                i++;\n            }\n\n            lastItem = (removeFraction(distance) % removeFraction(options.smallStep)) === 0 ? itemsCount - 1 : itemsCount;\n\n            that._pixelSteps[lastItem] = that._maxSelection;\n            that._values[lastItem] = options.max;\n\n            if (that._isRtl) {\n                that._pixelSteps.reverse();\n                that._values.reverse();\n            }\n        },\n\n        _getValueFromPosition: function(mousePosition, draggableArea) {\n            var that = this,\n                options = that.options,\n                step = math.max(options.smallStep * (that._maxSelection / that._distance()), 0),\n                position = 0,\n                halfStep = (step / 2),\n                i;\n\n            if (that._isHorizontal) {\n                position = mousePosition - draggableArea.startPoint;\n                if (that._isRtl) {\n                    position = that._maxSelection - position;\n                }\n            } else {\n                position = draggableArea.startPoint - mousePosition;\n            }\n\n            if (that._maxSelection - ((parseInt(that._maxSelection % step, 10) - 3) / 2) < position) {\n                return options.max;\n            }\n\n            for (i = 0; i < that._pixelSteps.length; i++) {\n                if (math.abs(that._pixelSteps[i] - position) - 1 <= halfStep) {\n                    return round(that._values[i]);\n                }\n            }\n        },\n\n        _getFormattedValue: function(val, drag) {\n            var that = this,\n                html = \"\",\n                tooltip = that.options.tooltip,\n                tooltipTemplate,\n                selectionStart,\n                selectionEnd;\n\n            if (isArray(val)) {\n                selectionStart = val[0];\n                selectionEnd = val[1];\n            } else if (drag && drag.type) {\n                selectionStart = drag.selectionStart;\n                selectionEnd = drag.selectionEnd;\n            }\n\n            if (drag) {\n                tooltipTemplate = drag.tooltipTemplate;\n            }\n\n            if (!tooltipTemplate && tooltip.template) {\n                tooltipTemplate = kendo.template(tooltip.template);\n            }\n\n            if (isArray(val) || (drag && drag.type)) {\n\n                if (tooltipTemplate) {\n                    html = tooltipTemplate({\n                        selectionStart: selectionStart,\n                        selectionEnd: selectionEnd\n                    });\n                } else {\n                    selectionStart = format(tooltip.format, selectionStart);\n                    selectionEnd = format(tooltip.format, selectionEnd);\n                    html = selectionStart + \" - \" + selectionEnd;\n                }\n            } else {\n                if (drag) {\n                    drag.val = val;\n                }\n\n                if (tooltipTemplate) {\n                    html = tooltipTemplate({\n                        value: val\n                    });\n                } else {\n                    html = format(tooltip.format, val);\n                }\n            }\n            return html;\n        },\n\n        _getDraggableArea: function() {\n            var that = this,\n                offset = kendo.getOffset(that._trackDiv);\n\n            return {\n                startPoint: that._isHorizontal ? offset.left : offset.top + that._maxSelection,\n                endPoint: that._isHorizontal ? offset.left + that._maxSelection : offset.top\n            };\n        },\n\n        _createHtml: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                inputs = element.find(\"input\");\n\n            if (inputs.length == 2) {\n                inputs.eq(0).prop(\"value\", formatValue(options.selectionStart));\n                inputs.eq(1).prop(\"value\", formatValue(options.selectionEnd));\n            } else {\n                element.prop(\"value\", formatValue(options.value));\n            }\n\n            that.wrapper = element.wrap(createWrapper(options, element, that._isHorizontal)).hide().parents(\".k-slider\");\n\n            if (options.showButtons) {\n                that.wrapper.find(\".k-slider-track-wrap\")\n                       .after(createButton(options, \"increase\", that._isHorizontal, that._isRtl))\n                       .before(createButton(options, \"decrease\", that._isHorizontal, that._isRtl));\n            }\n\n            element.before(createTrack(options, element, that._isHorizontal));\n        },\n\n        _focus: function(e) {\n            var that = this,\n                target = e.target,\n                val = that.value(),\n                drag = that._drag;\n\n            if (!drag) {\n                if (target == that.wrapper.find(DRAG_HANDLE).eq(0)[0]) {\n                    drag = that._firstHandleDrag;\n                    that._activeHandle = 0;\n                } else {\n                    drag = that._lastHandleDrag;\n                    that._activeHandle = 1;\n                }\n                val = val[that._activeHandle];\n            }\n\n            $(target).addClass(STATE_FOCUSED + \" \" + STATE_SELECTED);\n\n            if (drag) {\n                that._activeHandleDrag = drag;\n\n                drag.selectionStart = that.options.selectionStart;\n                drag.selectionEnd = that.options.selectionEnd;\n\n                drag._updateTooltip(val);\n            }\n        },\n\n        _focusWithMouse: function(target) {\n            target = $(target);\n\n            var that = this,\n                idx = target.is(DRAG_HANDLE) ? target.index() : 0;\n\n            window.setTimeout(function() {\n                that.wrapper.find(DRAG_HANDLE)[idx == 2 ? 1 : 0].focus();\n            }, 1);\n\n            that._setTooltipTimeout();\n        },\n\n        _blur: function(e) {\n            var that = this,\n                drag = that._activeHandleDrag;\n\n            $(e.target).removeClass(STATE_FOCUSED + \" \" + STATE_SELECTED);\n\n            if (drag) {\n                drag._removeTooltip();\n                delete that._activeHandleDrag;\n                delete that._activeHandle;\n            }\n        },\n\n        _setTooltipTimeout: function() {\n            var that = this;\n            that._tooltipTimeout = window.setTimeout(function() {\n                var drag = that._drag || that._activeHandleDrag;\n                if (drag) {\n                    drag._removeTooltip();\n                }\n            }, 300);\n        },\n\n        _clearTooltipTimeout: function() {\n            var that = this;\n            window.clearTimeout(this._tooltipTimeout);\n            var drag = that._drag || that._activeHandleDrag;\n            if (drag && drag.tooltipDiv) {\n                drag.tooltipDiv.stop(true, false).css(\"opacity\", 1);\n            }\n        },\n\n        _reset: function() {\n            var that = this,\n                element = that.element,\n                formId = element.attr(\"form\"),\n                form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n\n            if (form[0]) {\n                that._form = form.on(\"reset\", that._formResetHandler.bind(that));\n            }\n        },\n\n        min: function(value) {\n            if (!value) {\n                return this.options.min;\n            }\n            this.setOptions({ \"min\": value });\n        },\n\n        max: function(value) {\n            if (!value) {\n                return this.options.max;\n            }\n            this.setOptions({ \"max\": value });\n        },\n\n        setOptions: function(options) {\n            Widget.fn.setOptions.call(this, options);\n            this._sliderItemsInit();\n            this._refresh();\n        },\n\n        destroy: function() {\n            if (this._form) {\n                this._form.off(\"reset\", this._formResetHandler);\n            }\n            Widget.fn.destroy.call(this);\n        }\n    });\n\n    function createWrapper(options, element, isHorizontal) {\n        var orientationCssClass = isHorizontal ? \" k-slider-horizontal\" : \" k-slider-vertical\",\n            style = options.style ? options.style : element.attr(\"style\"),\n            cssClasses = element.attr(\"class\") ? (\" \" + element.attr(\"class\")) : \"\",\n            tickPlacementCssClass = \"\";\n\n        if (options.tickPlacement == \"bottomRight\") {\n            tickPlacementCssClass = \" k-slider-bottomright\";\n        } else if (options.tickPlacement == \"topLeft\") {\n            tickPlacementCssClass = \" k-slider-topleft\";\n        }\n\n        style = style ? \" style='\" + style + \"'\" : \"\";\n\n        return \"<div class='k-widget k-slider\" + orientationCssClass + cssClasses + \"'\" + style + \">\" +\n               \"<div class='k-slider-track-wrap\" + tickPlacementCssClass +\n               \"'></div></div>\";\n    }\n\n    function createButton(options, type, isHorizontal) {\n        var buttonCssClass = \"\";\n\n        if (isHorizontal) {\n            if (type === \"increase\") {\n                buttonCssClass = \"k-i-arrow-e\";\n            } else {\n                buttonCssClass = \"k-i-arrow-w\";\n            }\n        } else {\n            if (type == \"increase\") {\n                buttonCssClass = \"k-i-arrow-n\";\n            } else {\n                buttonCssClass = \"k-i-arrow-s\";\n            }\n        }\n\n        return \"<a role='button' class='k-button k-button-md k-rounded-full k-button-solid k-button-solid-base k-icon-button k-button-\" + type + \"' \" +\n                \"title='\" + options[type + \"ButtonTitle\"] + \"' \" +\n                \"aria-label='\" + options[type + \"ButtonTitle\"] + \"'>\" +\n                \"<span class='k-button-icon k-icon \" + buttonCssClass + \"'></span></a>\";\n    }\n\n    function createSliderItems(options, distance) {\n        var result = \"<ul class='k-reset k-slider-items' role='presentation'>\",\n            count = math.floor(round(distance / options.smallStep)) + 1,\n            i;\n\n        for (i = 0; i < count; i++) {\n            result += \"<li class='k-tick'></li>\";\n        }\n\n        result += \"</ul>\";\n\n        return result;\n    }\n\n    function createTrack(options, element, isHorizontal) {\n        var dragHandleCount = element.is(\"input\") ? 1 : 2,\n            firstDragHandleTitle = dragHandleCount == 2 ? options.leftDragHandleTitle : options.dragHandleTitle,\n            value = options.value,\n            min = options.selectionStart,\n            max = options.selectionEnd,\n            elementValue, minElementValue, maxElementValue;\n\n        if (dragHandleCount === 1) {\n            elementValue = element.val();\n\n            if (elementValue !== null && elementValue !== undefined && elementValue !== 'null') {\n                if (value === null || value === undefined) {\n                    value = elementValue;\n                }\n            }\n        } else {\n            minElementValue = element.find(\"input\").eq(0).val();\n            maxElementValue = element.find(\"input\").eq(1).val();\n\n            if (minElementValue !== null && minElementValue !== undefined && minElementValue !== 'null') {\n                if (min === null || min === undefined) {\n                    min = minElementValue;\n                }\n            }\n\n            if (maxElementValue !== null && maxElementValue !== undefined && maxElementValue !== 'null') {\n                if (max === null || max === undefined) {\n                    max = maxElementValue;\n                }\n            }\n        }\n\n        var result = \"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div>\" +\n               \"<span tabindex='0' class='k-draghandle' title='\" + firstDragHandleTitle + \"' role='slider' \" +\n               (isHorizontal === false ? \"aria-orientation='vertical' \" : \"\") +\n               \"aria-valuemin='\" + options.min + \"' aria-valuemax='\" + options.max + \"' aria-valuenow='\" + (dragHandleCount > 1 ? (min || options.min) : value || options.min) + \"'></span>\" +\n               (dragHandleCount > 1 ? \"<span tabindex='0' class='k-draghandle' title='\" + options.rightDragHandleTitle + \"'role='slider' \" +\n               (isHorizontal === false ? \"aria-orientation='vertical' \" : \"\") +\n               \"aria-valuemin='\" + options.min + \"' aria-valuemax='\" + options.max + \"' aria-valuenow='\" + (max || options.max) + \"'></span>\" : \"\") +\n               \"</div>\";\n\n        return result;\n    }\n\n    function step(stepValue) {\n        return function(value) {\n            return value + stepValue;\n        };\n    }\n\n    function setValue(value) {\n        return function() {\n            return value;\n        };\n    }\n\n    function formatValue(value) {\n        return (value + \"\").replace(\".\", kendo.cultures.current.numberFormat[\".\"]);\n    }\n\n    function calculatePrecision(value) {\n        var number = value.toString();\n        var precision = 0;\n\n        number = number.split(\".\");\n\n        if (number[1]) {\n            precision = number[1].length;\n        }\n\n        precision = precision > 10 ? 10 : precision;\n        return precision;\n    }\n\n    function round(value) {\n        var precision, power;\n\n        value = parseFloat(value, 10);\n        precision = calculatePrecision(value);\n        power = math.pow(10, precision || 0);\n\n        return math.round(value * power) / power;\n    }\n\n    function parseAttr(element, name) {\n        var value = parse(element.getAttribute(name));\n        if (value === null) {\n            value = undefined;\n        }\n        return value;\n    }\n\n    function defined(value) {\n        return typeof value !== UNDEFINED;\n    }\n\n    function removeFraction(value) {\n        return value * 10000;\n    }\n\n    var Slider = SliderBase.extend({\n        init: function(element, options) {\n            var that = this,\n                dragHandle;\n\n            element.type = \"text\";\n            options = extend({}, {\n                value: parseAttr(element, \"value\"),\n                min: parseAttr(element, \"min\"),\n                max: parseAttr(element, \"max\"),\n                smallStep: parseAttr(element, \"step\")\n            }, options);\n\n            element = $(element);\n\n            if (options && options.enabled === undefined) {\n                options.enabled = !element.is(\"[disabled]\");\n            }\n\n            SliderBase.fn.init.call(that, element, options);\n            options = that.options;\n            if (!defined(options.value) || options.value === null) {\n                options.value = options.min;\n                element.prop(\"value\", formatValue(options.min));\n            }\n            options.value = math.max(math.min(options.value, options.max), options.min);\n\n            dragHandle = that.wrapper.find(DRAG_HANDLE);\n\n            that._selection = new Slider.Selection(dragHandle, that, options);\n            that._drag = new Slider.Drag(dragHandle, \"\", that, options);\n\n            that._refreshAriaAttr(options.value);\n        },\n\n        options: {\n            name: \"Slider\",\n            showButtons: true,\n            increaseButtonTitle: \"Increase\",\n            decreaseButtonTitle: \"Decrease\",\n            dragHandleTitle: \"drag\",\n            tooltip: { format: \"{0:#,#.##}\" },\n            value: null\n        },\n\n        enable: function(enable) {\n            var that = this,\n                options = that.options,\n                clickHandler,\n                move;\n\n            that.disable();\n            if (enable === false) {\n                return;\n            }\n\n            that.wrapper\n                .removeClass(STATE_DISABLED);\n\n            that.wrapper.find(\"input\").prop(DISABLED, false);\n\n            clickHandler = function(e) {\n                var touch = getTouches(e)[0];\n\n                if (!touch) {\n                    return;\n                }\n\n                var mousePosition = that._isHorizontal ? touch.location.pageX : touch.location.pageY,\n                    draggableArea = that._getDraggableArea(),\n                    target = $(e.target);\n\n                if (target.hasClass(\"k-draghandle\")) {\n                    target.addClass(STATE_FOCUSED + \" \" + STATE_SELECTED);\n                    return;\n                }\n\n                that._update(that._getValueFromPosition(mousePosition, draggableArea));\n\n                that._focusWithMouse(e.target);\n\n                that._drag.dragstart(e);\n                e.preventDefault();\n            };\n\n            that.wrapper\n                .find(TICK_SELECTOR + \", \" + TRACK_SELECTOR)\n                    .on(TRACK_MOUSE_DOWN, clickHandler)\n                    .end()\n                    .on(TRACK_MOUSE_DOWN, function() {\n                        $(document.documentElement).one(\"selectstart\", kendo.preventDefault);\n                    })\n                    .on(TRACK_MOUSE_UP, function() {\n                        that._drag._end();\n                    });\n\n            that.wrapper\n                .find(DRAG_HANDLE)\n                .attr(TABINDEX, 0)\n                .on(MOUSE_UP, function() {\n                    that._setTooltipTimeout();\n                })\n                .on(CLICK, function(e) {\n                    that._focusWithMouse(e.target);\n                    e.preventDefault();\n                })\n                .on(FOCUS, that._focus.bind(that))\n                .on(BLUR, that._blur.bind(that));\n\n            move = (function(sign) {\n                var newVal = that._nextValueByIndex(that._valueIndex + (sign * 1));\n                that._setValueInRange(newVal);\n                that._drag._updateTooltip(newVal);\n            }).bind(that);\n\n            if (options.showButtons) {\n                var mouseDownHandler = (function(e, sign) {\n                    this._clearTooltipTimeout();\n                    if (e.which === 1 || (support.touch && e.which === 0)) {\n                        move(sign);\n\n                        this.timeout = setTimeout((function() {\n                            this.timer = setInterval(function() {\n                                move(sign);\n                            }, 60);\n                        }).bind(this), 200);\n                    }\n                }).bind(that);\n\n                that.wrapper.find(\".k-button\")\n                    .on(MOUSE_UP, (function(e) {\n                        this._clearTimer();\n                        that._focusWithMouse(e.target);\n                    }).bind(that))\n                    .on(MOUSE_OVER, function(e) {\n                        $(e.currentTarget).addClass(\"k-state-hover\");\n                    })\n                    .on(\"mouseout\" + NS, (function(e) {\n                        $(e.currentTarget).removeClass(\"k-state-hover\");\n                        this._clearTimer();\n                    }).bind(that))\n                    .on(MOUSE_DOWN, (function(e) {\n                        var sign = $(e.target).closest(\".k-button\").is(\".k-button-increase\") ? 1 : -1;\n                        mouseDownHandler(e, sign);\n                    }).bind(that))\n                    .on(\"click\", kendo.preventDefault);\n            }\n\n            that.wrapper\n                .find(DRAG_HANDLE)\n                .off(KEY_DOWN, false)\n                .on(KEY_DOWN, this._keydown.bind(that));\n\n            options.enabled = true;\n        },\n\n        disable: function() {\n            var that = this;\n\n            that.wrapper\n                .addClass(STATE_DISABLED);\n\n            $(that.element).prop(DISABLED, DISABLED);\n\n            that.wrapper\n                .find(\".k-button\")\n                .off(MOUSE_DOWN)\n                .on(MOUSE_DOWN, function(e) {\n                    e.preventDefault();\n                    $(this).addClass(\"k-state-active\");\n                })\n                .off(MOUSE_UP)\n                .on(MOUSE_UP, function(e) {\n                    e.preventDefault();\n                    $(this).removeClass(\"k-state-active\");\n                })\n                .off(\"mouseleave\" + NS)\n                .on(\"mouseleave\" + NS, kendo.preventDefault)\n                .off(MOUSE_OVER)\n                .on(MOUSE_OVER, kendo.preventDefault);\n\n            that.wrapper\n                .find(TICK_SELECTOR + \", \" + TRACK_SELECTOR).off(TRACK_MOUSE_DOWN).off(TRACK_MOUSE_UP);\n\n            that.wrapper\n                .find(DRAG_HANDLE)\n                .attr(TABINDEX, -1)\n                .off(MOUSE_UP)\n                .off(KEY_DOWN)\n                .off(CLICK)\n                .off(FOCUS)\n                .off(BLUR);\n\n            that.options.enabled = false;\n        },\n\n        _update: function(val) {\n            var that = this,\n                change = that.value() != val;\n\n            that.value(val);\n\n            if (change) {\n                that.trigger(CHANGE, { value: that.options.value });\n            }\n        },\n\n        value: function(value) {\n            var that = this,\n                options = that.options;\n\n            value = round(value);\n            if (isNaN(value)) {\n                return options.value;\n            }\n\n            if (value >= options.min && value <= options.max) {\n                if (options.value != value) {\n                    that.element.prop(\"value\", formatValue(value));\n                    options.value = value;\n                    that._refreshAriaAttr(value);\n                    that._refresh();\n                }\n            }\n        },\n\n        _refresh: function() {\n            this.trigger(MOVE_SELECTION, { value: this.options.value });\n        },\n\n        _refreshAriaAttr: function(value) {\n            var that = this,\n                drag = that._drag,\n                formattedValue;\n\n            if (drag && drag._tooltipDiv) {\n                formattedValue = drag._tooltipDiv.text();\n            } else {\n                formattedValue = that._getFormattedValue(value, null);\n            }\n            this.wrapper.find(DRAG_HANDLE).attr(ARIA_VALUENOW, value).attr(ARIA_VALUETEXT, formattedValue);\n        },\n\n        _clearTimer: function() {\n            clearTimeout(this.timeout);\n            clearInterval(this.timer);\n        },\n\n        _keydown: function(e) {\n            var that = this;\n\n            if (e.keyCode in that._keyMap) {\n                that._clearTooltipTimeout();\n                that._setValueInRange(that._keyMap[e.keyCode](that.options.value));\n                that._drag._updateTooltip(that.value());\n                e.preventDefault();\n            }\n        },\n\n        _setValueInRange: function(val) {\n            var that = this,\n                options = that.options;\n\n            val = round(val);\n            if (isNaN(val)) {\n                that._update(options.min);\n                return;\n            }\n\n            val = math.max(math.min(val, options.max), options.min);\n            that._update(val);\n        },\n\n        _nextValueByIndex: function(index) {\n            var count = this._values.length;\n            if (this._isRtl) {\n                index = count - 1 - index;\n            }\n            return this._values[math.max(0, math.min(index, count - 1))];\n        },\n\n        _formResetHandler: function() {\n            var that = this,\n                min = that.options.min;\n\n            setTimeout(function() {\n                var value = that.element[0].value;\n                that.value(value === \"\" || isNaN(value) ? min : value);\n            });\n        },\n\n        destroy: function() {\n            var that = this;\n\n            SliderBase.fn.destroy.call(that);\n\n            that.wrapper.off(NS)\n                .find(\".k-button\").off(NS)\n                .end()\n                .find(DRAG_HANDLE).off(NS)\n                .end()\n                .find(TICK_SELECTOR + \", \" + TRACK_SELECTOR).off(NS)\n                .end();\n\n            that._drag.draggable.destroy();\n            that._drag._removeTooltip(true);\n        }\n    });\n\n    Slider.Selection = function(dragHandle, that, options) {\n        function moveSelection(val) {\n            var selectionValue = val - options.min,\n                index = that._valueIndex = math.ceil(round(selectionValue / options.smallStep)),\n                selection = parseInt(that._pixelSteps[index], 10),\n                selectionDiv = that._trackDiv.find(\".k-slider-selection\"),\n                rtlCorrection = that._isRtl ? 2 : 0;\n\n            selectionDiv[that._sizeFn](that._isRtl ? that._maxSelection - selection : selection);\n            dragHandle.css(that._position, selection - rtlCorrection);\n        }\n\n        moveSelection(options.value);\n\n        that.bind([SLIDE, MOVE_SELECTION], function(e) {\n            moveSelection(parseFloat(e.value, 10));\n        });\n\n        that.bind(CHANGE, function(e) {\n            moveSelection(parseFloat(e.sender.value(), 10));\n        });\n    };\n\n    Slider.Drag = function(element, type, owner, options) {\n        var that = this;\n        that.owner = owner;\n        that.options = options;\n        that.element = element;\n        that.type = type;\n\n        that.draggable = new Draggable(element, {\n            distance: 0,\n            dragstart: that._dragstart.bind(that),\n            drag: that.drag.bind(that),\n            dragend: that.dragend.bind(that),\n            dragcancel: that.dragcancel.bind(that)\n        });\n\n        element.click(false);\n\n        // Disable link dragging\n        element.on(\"dragstart\", function(e) {\n            e.preventDefault();\n        });\n    };\n\n    Slider.Drag.prototype = {\n        dragstart: function(e) {\n            // add reference to the last active drag handle.\n            this.owner._activeDragHandle = this;\n            // HACK to initiate click on the line\n            this.draggable.userEvents.cancel();\n            this._dragstart(e);\n            this.dragend();\n        },\n\n        _dragstart: function(e) {\n            var that = this,\n                owner = that.owner,\n                options = that.options;\n\n            if (!options.enabled) {\n                e.preventDefault();\n                return;\n            }\n\n            // add reference to the last active drag handle.\n            this.owner._activeDragHandle = this;\n\n            owner.element.off(MOUSE_OVER);\n            owner.wrapper.find(\".\" + STATE_FOCUSED).removeClass(STATE_FOCUSED + \" \" + STATE_SELECTED);\n            that.element.addClass(STATE_FOCUSED + \" \" + STATE_SELECTED);\n            $(document.documentElement).css(\"cursor\", \"pointer\");\n\n            that.draggableArea = owner._getDraggableArea();\n            that.step = math.max(options.smallStep * (owner._maxSelection / owner._distance()), 0);\n\n            if (that.type) {\n                that.selectionStart = options.selectionStart;\n                that.selectionEnd = options.selectionEnd;\n                owner._setZIndex(that.type);\n            } else {\n                that.oldVal = that.val = options.value;\n            }\n\n            that._removeTooltip(true);\n            that._createTooltip();\n        },\n\n        _createTooltip: function() {\n            var that = this,\n                owner = that.owner,\n                tooltip = that.options.tooltip,\n                html = '',\n                wnd = $(window),\n                tooltipTemplate, calloutCssClass;\n\n            if (!tooltip.enabled) {\n                return;\n            }\n\n            if (tooltip.template) {\n                tooltipTemplate = that.tooltipTemplate = kendo.template(tooltip.template);\n            }\n\n            $(\".k-slider-tooltip\").remove(); // if user changes window while tooltip is visible, a second one will be created\n            that.tooltipDiv = $(\"<div class='k-tooltip k-slider-tooltip'><!-- --></div>\").appendTo(document.body);\n\n            html = owner._getFormattedValue(that.val || owner.value(), that);\n\n            if (!that.type) {\n                calloutCssClass = \"k-callout-\" + (owner._isHorizontal ? 's' : 'e');\n                that.tooltipInnerDiv = \"<div class='k-callout \" + calloutCssClass + \"'><!-- --></div>\";\n                html += that.tooltipInnerDiv;\n            }\n\n            that.tooltipDiv.html(html);\n\n            that._scrollOffset = {\n                top: wnd.scrollTop(),\n                left: kendo.scrollLeft(wnd)\n            };\n\n            that.moveTooltip();\n        },\n\n        drag: function(e) {\n            var that = this,\n                owner = that.owner,\n                x = e.x.location,\n                y = e.y.location,\n                startPoint = that.draggableArea.startPoint,\n                endPoint = that.draggableArea.endPoint,\n                slideParams;\n\n            e.preventDefault();\n\n            if (owner._isHorizontal) {\n                if (owner._isRtl) {\n                    that.val = that.constrainValue(x, startPoint, endPoint, x < endPoint);\n                } else {\n                    that.val = that.constrainValue(x, startPoint, endPoint, x >= endPoint);\n                }\n            } else {\n                that.val = that.constrainValue(y, endPoint, startPoint, y <= endPoint);\n            }\n\n            if (that.oldVal != that.val) {\n                that.oldVal = that.val;\n\n                if (that.type) {\n                    if (that.type == \"firstHandle\") {\n                        if (that.val < that.selectionEnd) {\n                            that.selectionStart = that.val;\n                        } else {\n                            that.selectionStart = that.selectionEnd = that.val;\n                        }\n                    } else {\n                        if (that.val > that.selectionStart) {\n                            that.selectionEnd = that.val;\n                        } else {\n                            that.selectionStart = that.selectionEnd = that.val;\n                        }\n                    }\n                    slideParams = {\n                        values: [that.selectionStart, that.selectionEnd],\n                        value: [that.selectionStart, that.selectionEnd]\n                    };\n                } else {\n                    slideParams = { value: that.val };\n                }\n\n                owner.trigger(SLIDE, slideParams);\n            }\n            that._updateTooltip(that.val);\n        },\n\n        _updateTooltip: function(val) {\n            var that = this,\n                options = that.options,\n                tooltip = options.tooltip,\n                html = \"\";\n\n            if (!tooltip.enabled) {\n                return;\n            }\n\n            if (!that.tooltipDiv) {\n                that._createTooltip();\n            }\n\n            html = that.owner._getFormattedValue(round(val), that);\n\n            if (!that.type) {\n                html += that.tooltipInnerDiv;\n            }\n\n            that.tooltipDiv.html(html);\n            that.moveTooltip();\n        },\n\n        dragcancel: function() {\n            this.owner._refresh();\n            $(document.documentElement).css(\"cursor\", \"\");\n            return this._end();\n        },\n\n        dragend: function() {\n            var that = this,\n                owner = that.owner;\n\n            $(document.documentElement).css(\"cursor\", \"\");\n\n            if (that.type) {\n                owner._update(that.selectionStart, that.selectionEnd);\n            } else {\n                owner._update(that.val);\n                that.draggable.userEvents._disposeAll();\n            }\n\n            that.draggable.userEvents.cancel();\n            return that._end();\n        },\n\n        _end: function() {\n            var that = this,\n                owner = that.owner;\n\n            owner._focusWithMouse(that.element);\n\n            owner.element.on(MOUSE_OVER);\n\n            return false;\n        },\n\n        _removeTooltip: function(noAnimation) {\n            var that = this,\n                owner = that.owner;\n\n            if (that.tooltipDiv && owner.options.tooltip.enabled && owner.options.enabled) {\n                if (noAnimation) {\n                    that.tooltipDiv.remove();\n                    that.tooltipDiv = null;\n                } else {\n                    that.tooltipDiv.fadeOut(\"slow\", function() {\n                        $(this).remove();\n                        that.tooltipDiv = null;\n                    });\n                }\n            }\n        },\n\n        moveTooltip: function() {\n            var that = this,\n                owner = that.owner,\n                top = 0,\n                left = 0,\n                element = that.element,\n                offset = kendo.getOffset(element),\n                margin = 8,\n                viewport = $(window),\n                callout = that.tooltipDiv.find(\".k-callout\"),\n                width = outerWidth(that.tooltipDiv),\n                height = outerHeight(that.tooltipDiv),\n                dragHandles, sdhOffset, diff, anchorSize;\n\n            if (that.type) {\n                dragHandles = owner.wrapper.find(DRAG_HANDLE);\n                offset = kendo.getOffset(dragHandles.eq(0));\n                sdhOffset = kendo.getOffset(dragHandles.eq(1));\n\n                if (owner._isHorizontal) {\n                    top = sdhOffset.top;\n                    left = offset.left + ((sdhOffset.left - offset.left) / 2);\n                } else {\n                    top = offset.top + ((sdhOffset.top - offset.top) / 2);\n                    left = sdhOffset.left;\n                }\n\n                anchorSize = outerWidth(dragHandles.eq(0)) + 2 * margin;\n            } else {\n                top = offset.top;\n                left = offset.left;\n                anchorSize = outerWidth(element) + 2 * margin;\n            }\n\n            if (owner._isHorizontal) {\n                left -= parseInt((width - owner._outerSize(element)) / 2, 10);\n                top -= height + margin + (callout.length ? callout.height() : 0);\n            } else {\n                top -= parseInt((height - owner._outerSize(element)) / 2, 10);\n                left -= width + margin + (callout.length ? callout.width() : 0);\n            }\n\n            if (owner._isHorizontal) {\n                diff = that._flip(top, height, anchorSize, outerHeight(viewport) + that._scrollOffset.top);\n                top += diff;\n                left += that._fit(left, width, outerWidth(viewport) + that._scrollOffset.left);\n            } else {\n                diff = that._flip(left, width, anchorSize, outerWidth(viewport) + that._scrollOffset.left);\n                top += that._fit(top, height, outerHeight(viewport) + that._scrollOffset.top);\n                left += diff;\n            }\n\n            if (diff > 0 && callout) {\n                callout.removeClass();\n                callout.addClass(\"k-callout k-callout-\" + (owner._isHorizontal ? \"n\" : \"w\"));\n            }\n\n            that.tooltipDiv.css({ top: top, left: left });\n        },\n\n        _fit: function(position, size, viewPortEnd) {\n            var output = 0;\n\n            if (position + size > viewPortEnd) {\n                output = viewPortEnd - (position + size);\n            }\n\n            if (position < 0) {\n                output = -position;\n            }\n\n            return output;\n        },\n\n        _flip: function(offset, size, anchorSize, viewPortEnd) {\n            var output = 0;\n\n            if (offset + size > viewPortEnd) {\n                output += -(anchorSize + size);\n            }\n\n            if (offset + output < 0) {\n                output += anchorSize + size;\n            }\n\n            return output;\n        },\n\n        constrainValue: function(position, min, max, maxOverflow) {\n            var that = this,\n                val = 0;\n\n            if (min < position && position < max) {\n                val = that.owner._getValueFromPosition(position, that.draggableArea);\n            } else {\n                if (maxOverflow ) {\n                    val = that.options.max;\n                } else {\n                    val = that.options.min;\n                }\n            }\n\n            return val;\n        }\n\n    };\n\n    kendo.ui.plugin(Slider);\n\n    var RangeSlider = SliderBase.extend({\n        init: function(element, options) {\n            var that = this,\n                inputs = $(element).find(\"input\"),\n                firstInput = inputs.eq(0)[0],\n                secondInput = inputs.eq(1)[0];\n\n            firstInput.type = \"text\";\n            secondInput.type = \"text\";\n\n            if (options && options.showButtons) {\n                if (window.console) {\n                    window.console.warn(\"showbuttons option is not supported for the range slider, ignoring\");\n                }\n\n                options.showButtons = false;\n            }\n\n            options = extend({}, {\n                selectionStart: parseAttr(firstInput, \"value\"),\n                min: parseAttr(firstInput, \"min\"),\n                max: parseAttr(firstInput, \"max\"),\n                smallStep: parseAttr(firstInput, \"step\")\n            }, {\n                selectionEnd: parseAttr(secondInput, \"value\"),\n                min: parseAttr(secondInput, \"min\"),\n                max: parseAttr(secondInput, \"max\"),\n                smallStep: parseAttr(secondInput, \"step\")\n            }, options);\n\n            if (options && options.enabled === undefined) {\n                options.enabled = !inputs.is(\"[disabled]\");\n            }\n\n            SliderBase.fn.init.call(that, element, options);\n            options = that.options;\n            if (!defined(options.selectionStart) || options.selectionStart === null) {\n                options.selectionStart = options.min;\n                inputs.eq(0).prop(\"value\", formatValue(options.min));\n            }\n\n            if (!defined(options.selectionEnd) || options.selectionEnd === null) {\n                options.selectionEnd = options.max;\n                inputs.eq(1).prop(\"value\", formatValue(options.max));\n            }\n\n            var dragHandles = that.wrapper.find(DRAG_HANDLE);\n\n            this._selection = new RangeSlider.Selection(dragHandles, that, options);\n            that._firstHandleDrag = new Slider.Drag(dragHandles.eq(0), \"firstHandle\", that, options);\n            that._lastHandleDrag = new Slider.Drag(dragHandles.eq(1), \"lastHandle\" , that, options);\n\n            that._refreshAriaAttr(options.selectionStart , options.selectionEnd);\n        },\n\n        options: {\n            name: \"RangeSlider\",\n            leftDragHandleTitle: \"drag\",\n            rightDragHandleTitle: \"drag\",\n            tooltip: { format: \"{0:#,#.##}\" },\n            selectionStart: null,\n            selectionEnd: null\n        },\n\n        enable: function(enable) {\n            var that = this,\n                options = that.options,\n                clickHandler;\n\n            that.disable();\n            if (enable === false) {\n                return;\n            }\n\n            that.wrapper\n                .removeClass(STATE_DISABLED);\n\n            that.wrapper.find(\"input\").prop(DISABLED, false);\n\n            clickHandler = function(e) {\n                var touch = getTouches(e)[0];\n\n                if (!touch) {\n                    return;\n                }\n\n                var mousePosition = that._isHorizontal ? touch.location.pageX : touch.location.pageY,\n                    draggableArea = that._getDraggableArea(),\n                    val = that._getValueFromPosition(mousePosition, draggableArea),\n                    target = $(e.target),\n                    from, to, drag;\n\n                if (target.hasClass(\"k-draghandle\")) {\n                    that.wrapper.find(\".\" + STATE_FOCUSED).removeClass(STATE_FOCUSED + \" \" + STATE_SELECTED);\n                    target.addClass(STATE_FOCUSED + \" \" + STATE_SELECTED);\n                    return;\n                }\n\n                if (val < options.selectionStart) {\n                    from = val;\n                    to = options.selectionEnd;\n                    drag = that._firstHandleDrag;\n                } else if (val > that.selectionEnd) {\n                    from = options.selectionStart;\n                    to = val;\n                    drag = that._lastHandleDrag;\n                } else {\n                    if (val - options.selectionStart <= options.selectionEnd - val) {\n                        from = val;\n                        to = options.selectionEnd;\n                        drag = that._firstHandleDrag;\n                    } else {\n                        from = options.selectionStart;\n                        to = val;\n                        drag = that._lastHandleDrag;\n                    }\n                }\n\n                drag.dragstart(e);\n                that._setValueInRange(from, to);\n                that._focusWithMouse(drag.element);\n            };\n\n            that.wrapper\n                .find(TICK_SELECTOR + \", \" + TRACK_SELECTOR)\n                    .on(TRACK_MOUSE_DOWN, clickHandler)\n                    .end()\n                    .on(TRACK_MOUSE_DOWN, function() {\n                        $(document.documentElement).one(\"selectstart\", kendo.preventDefault);\n                    })\n                    .on(TRACK_MOUSE_UP, function() {\n                        if (that._activeDragHandle) {\n                            that._activeDragHandle._end();\n                        }\n                    });\n\n            that.wrapper\n                .find(DRAG_HANDLE)\n                .attr(TABINDEX, 0)\n                .on(MOUSE_UP, function() {\n                    that._setTooltipTimeout();\n                })\n                .on(CLICK, function(e) {\n                    that._focusWithMouse(e.target);\n                    e.preventDefault();\n                })\n                .on(FOCUS, that._focus.bind(that))\n                .on(BLUR, that._blur.bind(that));\n\n            that.wrapper.find(DRAG_HANDLE)\n                .off(KEY_DOWN, kendo.preventDefault)\n                .eq(0).on(KEY_DOWN,\n                    (function(e) {\n                        this._keydown(e, \"firstHandle\");\n                    }).bind(that)\n                )\n                .end()\n                .eq(1).on(KEY_DOWN,\n                    (function(e) {\n                        this._keydown(e, \"lastHandle\");\n                    }).bind(that)\n                );\n\n            that.options.enabled = true;\n        },\n\n        disable: function() {\n            var that = this;\n\n            that.wrapper\n                .addClass(STATE_DISABLED);\n\n            that.wrapper.find(\"input\").prop(DISABLED, DISABLED);\n\n            that.wrapper\n                .find(TICK_SELECTOR + \", \" + TRACK_SELECTOR).off(TRACK_MOUSE_DOWN).off(TRACK_MOUSE_UP);\n\n            that.wrapper\n                .find(DRAG_HANDLE)\n                .attr(TABINDEX, -1)\n                .off(MOUSE_UP)\n                .off(KEY_DOWN)\n                .off(CLICK)\n                .off(FOCUS)\n                .off(BLUR);\n\n            that.options.enabled = false;\n        },\n\n        _keydown: function(e, handle) {\n            var that = this,\n                selectionStartValue = that.options.selectionStart,\n                selectionEndValue = that.options.selectionEnd,\n                dragSelectionStart,\n                dragSelectionEnd,\n                activeHandleDrag;\n\n            if (e.keyCode in that._keyMap) {\n\n                that._clearTooltipTimeout();\n\n                if (handle == \"firstHandle\") {\n                    activeHandleDrag = that._activeHandleDrag = that._firstHandleDrag;\n                    selectionStartValue = that._keyMap[e.keyCode](selectionStartValue);\n\n                    if (selectionStartValue > selectionEndValue) {\n                        selectionEndValue = selectionStartValue;\n                    }\n                } else {\n                    activeHandleDrag = that._activeHandleDrag = that._lastHandleDrag;\n                    selectionEndValue = that._keyMap[e.keyCode](selectionEndValue);\n\n                    if (selectionStartValue > selectionEndValue) {\n                        selectionStartValue = selectionEndValue;\n                    }\n                }\n\n                that._setValueInRange(round(selectionStartValue), round(selectionEndValue));\n\n                dragSelectionStart = Math.max(selectionStartValue, that.options.selectionStart);\n                dragSelectionEnd = Math.min(selectionEndValue, that.options.selectionEnd);\n\n                activeHandleDrag.selectionEnd = Math.max(dragSelectionEnd, that.options.selectionStart);\n                activeHandleDrag.selectionStart = Math.min(dragSelectionStart, that.options.selectionEnd);\n\n                activeHandleDrag._updateTooltip(that.value()[that._activeHandle]);\n\n                e.preventDefault();\n            }\n        },\n\n        _update: function(selectionStart, selectionEnd) {\n            var that = this,\n                values = that.value();\n\n            var change = values[0] != selectionStart || values[1] != selectionEnd;\n\n            that.value([selectionStart, selectionEnd]);\n\n            if (change) {\n                that.trigger(CHANGE, {\n                    values: [selectionStart, selectionEnd],\n                    value: [selectionStart, selectionEnd]\n                });\n            }\n        },\n\n        value: function(value) {\n            if (value && value.length) {\n                return this._value(value[0], value[1]);\n            } else {\n                return this._value();\n            }\n        },\n\n        _value: function(start, end) {\n            var that = this,\n                options = that.options,\n                selectionStart = options.selectionStart,\n                selectionEnd = options.selectionEnd;\n\n            if (isNaN(start) && isNaN(end)) {\n                return [selectionStart, selectionEnd];\n            } else {\n                start = round(start);\n                end = round(end);\n            }\n\n            if (start >= options.min && start <= options.max &&\n                end >= options.min && end <= options.max && start <= end) {\n                if (selectionStart != start || selectionEnd != end) {\n                    that.element.find(\"input\")\n                        .eq(0).prop(\"value\", formatValue(start))\n                        .end()\n                        .eq(1).prop(\"value\", formatValue(end));\n\n                    options.selectionStart = start;\n                    options.selectionEnd = end;\n                    that._refresh();\n                    that._refreshAriaAttr(start, end);\n                }\n            }\n        },\n\n        values: function(start, end) {\n            if (isArray(start)) {\n                return this._value(start[0], start[1]);\n            } else {\n                return this._value(start, end);\n            }\n        },\n\n        _refresh: function() {\n            var that = this,\n                options = that.options;\n\n            that.trigger(MOVE_SELECTION, {\n                values: [options.selectionStart, options.selectionEnd],\n                value: [options.selectionStart, options.selectionEnd]\n            });\n\n            if (options.selectionStart == options.max && options.selectionEnd == options.max) {\n                that._setZIndex(\"firstHandle\");\n            }\n        },\n\n        _refreshAriaAttr: function(start, end) {\n            var that = this,\n                dragHandles = that.wrapper.find(DRAG_HANDLE),\n                drag = that._activeHandleDrag,\n                formattedValue;\n\n            formattedValue = that._getFormattedValue([start, end], drag);\n\n            dragHandles.eq(0).attr(ARIA_VALUENOW, start);\n            dragHandles.eq(1).attr(ARIA_VALUENOW, end);\n            dragHandles.attr(ARIA_VALUETEXT, formattedValue);\n        },\n\n        _setValueInRange: function(selectionStart, selectionEnd) {\n            var options = this.options;\n\n            selectionStart = math.max(math.min(selectionStart, options.max), options.min);\n\n            selectionEnd = math.max(math.min(selectionEnd, options.max), options.min);\n\n            if (selectionStart == options.max && selectionEnd == options.max) {\n                this._setZIndex(\"firstHandle\");\n            }\n\n            this._update(math.min(selectionStart, selectionEnd), math.max(selectionStart, selectionEnd));\n        },\n\n        _setZIndex: function(type) {\n            this.wrapper.find(DRAG_HANDLE).each(function(index) {\n                $(this).css(\"z-index\", type == \"firstHandle\" ? 1 - index : index);\n            });\n        },\n\n        _formResetHandler: function() {\n            var that = this,\n                options = that.options;\n\n            setTimeout(function() {\n                var inputs = that.element.find(\"input\");\n                var start = inputs[0].value;\n                var end = inputs[1].value;\n                that.values(start === \"\" || isNaN(start) ? options.min : start, end === \"\" || isNaN(end) ? options.max : end);\n            });\n        },\n\n        destroy: function() {\n            var that = this;\n\n            SliderBase.fn.destroy.call(that);\n\n            that.wrapper.off(NS)\n                .find(TICK_SELECTOR + \", \" + TRACK_SELECTOR).off(NS)\n                .end()\n                .find(DRAG_HANDLE).off(NS);\n\n            that._firstHandleDrag.draggable.destroy();\n            that._lastHandleDrag.draggable.destroy();\n        }\n    });\n\n    RangeSlider.Selection = function(dragHandles, that, options) {\n        function moveSelection(value) {\n            value = value || [];\n            var selectionStartValue = value[0] - options.min,\n                selectionEndValue = value[1] - options.min,\n                selectionStartIndex = math.ceil(round(selectionStartValue / options.smallStep)),\n                selectionEndIndex = math.ceil(round(selectionEndValue / options.smallStep)),\n                selectionStart = that._pixelSteps[selectionStartIndex],\n                selectionEnd = that._pixelSteps[selectionEndIndex],\n                rtlCorrection = that._isRtl ? 2 : 0;\n\n            dragHandles.eq(0).css(that._position, selectionStart - rtlCorrection)\n                       .end()\n                       .eq(1).css(that._position, selectionEnd - rtlCorrection);\n\n            makeSelection(selectionStart, selectionEnd);\n        }\n\n        function makeSelection(selectionStart, selectionEnd) {\n            var selection,\n                selectionPosition,\n                selectionDiv = that._trackDiv.find(\".k-slider-selection\");\n\n            selection = math.abs(selectionStart - selectionEnd);\n\n            selectionDiv[that._sizeFn](selection);\n            if (that._isRtl) {\n                selectionPosition = math.max(selectionStart, selectionEnd);\n                selectionDiv.css(\"right\", that._maxSelection - selectionPosition - 1);\n            } else {\n                selectionPosition = math.min(selectionStart, selectionEnd);\n                selectionDiv.css(that._position, selectionPosition - 1);\n            }\n        }\n\n        moveSelection(that.value());\n\n        that.bind([ CHANGE, SLIDE, MOVE_SELECTION ], function(e) {\n            moveSelection(e.values);\n        });\n    };\n\n    kendo.ui.plugin(RangeSlider);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function (f, define) {\n    define('kendo.textbox',[\"kendo.core\", \"kendo.floatinglabel\"], f);\n})(function () {\n\nvar __meta__ = {// jshint ignore:line\n    id: \"textbox\",\n    name: \"TextBox\",\n    category: \"web\",\n    description: \"The TextBox widget enables you to style and provide a floating label functionality to input elements\",\n    depends: [\"core\", \"floatinglabel\"]\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        ui = kendo.ui,\n        isPlainObject = $.isPlainObject,\n        NS = \".kendoTextBox\",\n        CHANGE = \"change\",\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        INPUT = \"k-input-inner\",\n        FOCUSED = \"k-focus\",\n        LABELCLASSES = \"k-label k-input-label\",\n        STATEDISABLED = \"k-disabled\",\n        NOCLICKCLASS = \"k-no-click\",\n        ARIA_DISABLED = \"aria-disabled\";\n\n    var TextBox = Widget.extend({\n        init: function (element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            options = $.extend(true, {}, options);\n\n            that.options.value = options.value || that.element.val();\n            that.options.readonly = options.readonly !== undefined ? options.readonly : Boolean(that.element.attr(\"readonly\"));\n            that.options.enable = options.enable !== undefined ? options.enable : !(Boolean(that.element.attr(\"disabled\")));\n            that.options.placeholder = options.placeholder || that.element.attr(\"placeholder\");\n\n            that.value(that.options.value);\n            that._wrapper();\n            that._label();\n            that._editable({\n                readonly: that.options.readonly,\n                disable: !(that.options.enable)\n            });\n\n            that.element\n                .addClass(INPUT)\n                .attr(\"placeholder\", that.options.placeholder)\n                .attr(\"autocomplete\", \"off\");\n\n            kendo.notify(that);\n            that._applyCssClasses();\n        },\n\n        events: [\n            CHANGE\n        ],\n\n        options: {\n            name: 'TextBox',\n            value: '',\n            readonly: false,\n            enable: true,\n            placeholder: '',\n            label: null,\n            rounded: \"medium\",\n            size: \"medium\",\n            fillMode: \"solid\"\n        },\n\n        value: function(value) {\n            var that = this;\n\n            if (value === undefined) {\n                return that._value;\n            }\n\n            that._value = value;\n            that.element.val(value);\n        },\n\n        readonly: function(readonly) {\n            var that = this;\n\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n\n            if (that.floatingLabel) {\n                that.floatingLabel.readonly(readonly === undefined ? true : readonly);\n            }\n        },\n\n        enable: function(enable) {\n            var that = this;\n\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n\n            if (that.floatingLabel) {\n                that.floatingLabel.enable(enable = enable === undefined ? true : enable);\n            }\n        },\n\n        focus: function() {\n            var that = this;\n\n            that.element[0].focus();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that.floatingLabel) {\n                that.floatingLabel.destroy();\n            }\n\n            that.element.off(NS);\n            that.element[0].style.width = \"\";\n            that.element.removeClass(INPUT);\n            Widget.fn.destroy.call(that);\n        },\n\n        setOptions: function(options) {\n            this.destroy();\n\n            this.element.unwrap();\n            if (this._floatingLabelContainer) {\n                this._inputLabel.remove();\n                this._inputLabel = null;\n                this.element.unwrap();\n                this._floatingLabelContainer = null;\n            }\n\n            kendo.deepExtend(this.options, options);\n            this.init(this.element, this.options);\n        },\n\n        _editable: function(options) {\n            var that = this;\n            var element = that.element;\n            var wrapper = that.wrapper;\n            var disable = options.disable;\n            var readonly = options.readonly;\n\n            element.off(NS);\n\n            if (!readonly && !disable) {\n                element.prop(DISABLED, false)\n                       .prop(READONLY, false)\n                       .attr(ARIA_DISABLED, false);\n\n                wrapper.removeClass(STATEDISABLED)\n                        .removeClass(NOCLICKCLASS);\n\n                element.on(\"focusin\" + NS, that._focusin.bind(that));\n                element.on(\"focusout\" + NS, that._focusout.bind(that));\n                element.on(\"change\" + NS, that._change.bind(that));\n            } else {\n                element.attr(DISABLED, disable)\n                       .attr(READONLY, readonly)\n                       .attr(ARIA_DISABLED, disable);\n\n                wrapper.toggleClass(STATEDISABLED, disable)\n                        .toggleClass(NOCLICKCLASS, readonly);\n            }\n        },\n\n        _label: function() {\n            var that = this;\n            var element = that.element;\n            var options = that.options;\n            var id = element.attr(\"id\");\n            var floating;\n            var labelText;\n\n            if (options.label !== null) {\n                floating = isPlainObject(options.label) ? options.label.floating : false;\n                labelText = isPlainObject(options.label) ? options.label.content : options.label;\n\n                if (floating) {\n                    that._floatingLabelContainer = that.wrapper.wrap(\"<span></span>\").parent();\n                    that.floatingLabel = new kendo.ui.FloatingLabel(that._floatingLabelContainer, { widget: that });\n                }\n\n                if (kendo.isFunction(labelText)) {\n                    labelText = labelText.call(that);\n                }\n\n                if (!labelText) {\n                    labelText = \"\";\n                }\n\n                if (!id) {\n                    id = options.name + \"_\" + kendo.guid();\n                    element.attr(\"id\", id);\n                }\n\n                that._inputLabel = $(\"<label class='\" + LABELCLASSES + \"' for='\" + id + \"'>\" + labelText + \"</label>'\").insertBefore(that.wrapper);\n            }\n        },\n\n        _focusin: function() {\n            var that = this;\n\n            that.wrapper.addClass(FOCUSED);\n        },\n\n        _focusout: function() {\n            var that = this;\n\n            that.wrapper.removeClass(FOCUSED);\n        },\n\n        _change: function(e) {\n            var that = this;\n            var newValue = that.element.val();\n\n            that._value = newValue;\n\n            that.trigger(CHANGE, {value: newValue, originalEvent: e});\n        },\n\n        _wrapper: function () {\n            var that = this;\n            var element = that.element;\n            var DOMElement = element[0];\n            var wrapper;\n\n            wrapper = element.wrap(\"<span class='k-input k-textbox'></span>\").parent();\n            wrapper[0].style.cssText = DOMElement.style.cssText;\n            DOMElement.style.width = \"100%\";\n            that.wrapper = wrapper.addClass(DOMElement.className).removeClass('input-validation-error');\n        }\n    });\n\n    kendo.cssProperties.registerPrefix(\"TextBox\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"TextBox\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    ui.plugin(TextBox);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.numerictextbox',[ \"kendo.core\", \"kendo.userevents\", \"kendo.floatinglabel\", \"kendo.html.button\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"numerictextbox\",\n    name: \"NumericTextBox\",\n    category: \"web\",\n    description: \"The NumericTextBox widget can format and display numeric, percentage or currency textbox.\",\n    depends: [ \"core\", \"userevents\", \"floatinglabel\", \"html.button\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        caret = kendo.caret,\n        keys = kendo.keys,\n        html = kendo.html,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        activeElement = kendo._activeElement,\n        extractFormat = kendo._extractFormat,\n        parse = kendo.parseFloat,\n        placeholderSupported = kendo.support.placeholder,\n        getCulture = kendo.getCulture,\n        CHANGE = \"change\",\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        INPUT = \"k-input-inner\",\n        SPIN = \"spin\",\n        ns = \".kendoNumericTextBox\",\n        TOUCHEND = \"touchend\",\n        MOUSELEAVE = \"mouseleave\" + ns,\n        HOVEREVENTS = \"mouseenter\" + ns + \" \" + MOUSELEAVE,\n        FOCUSED = \"k-focus\",\n        HOVER = \"k-hover\",\n        FOCUS = \"focus\",\n        POINT = \".\",\n        SYMBOL = \"symbol\",\n        CLASS_ICON = \"k-icon\",\n        LABELCLASSES = \"k-label k-input-label\",\n        SELECTED = \"k-selected\",\n        STATEDISABLED = \"k-disabled\",\n        STATEINVALID = \"k-invalid\",\n        ARIA_DISABLED = \"aria-disabled\",\n        INTEGER_REGEXP = /^(-)?(\\d*)$/,\n        NULL = null,\n        isPlainObject = $.isPlainObject,\n        extend = $.extend;\n\n    var NumericTextBox = Widget.extend({\n         init: function(element, options) {\n             var that = this,\n             isStep = options && options.step !== undefined,\n             min, max, step, value, disabled;\n             var inputType;\n\n             Widget.fn.init.call(that, element, options);\n\n             options = that.options;\n             element = that.element\n                           .on(\"focusout\" + ns, that._focusout.bind(that))\n                           .attr(\"role\", \"spinbutton\");\n\n             options.placeholder = options.placeholder || element.attr(\"placeholder\");\n\n             min = that.min(element.attr(\"min\"));\n             max = that.max(element.attr(\"max\"));\n             step = that._parse(element.attr(\"step\"));\n\n             if (options.min === NULL && min !== NULL) {\n                 options.min = min;\n             }\n\n             if (options.max === NULL && max !== NULL) {\n                 options.max = max;\n             }\n\n             if (!isStep && step !== NULL) {\n                 options.step = step;\n             }\n\n             that._initialOptions = extend({}, options);\n\n             inputType = element.attr(\"type\");\n\n             that._reset();\n             that._wrapper();\n             that._arrows();\n             that._validation();\n             that._input();\n\n             if (!kendo.support.mobileOS) {\n                 that._text.on(FOCUS + ns, that._click.bind(that));\n             } else {\n                 that._text.on(TOUCHEND + ns + \" \" + FOCUS + ns, function() {\n                     if (kendo.support.browser.edge) {\n                         that._text.one(FOCUS + ns, function() {\n                            that._focusin();\n                         });\n                     } else {\n                        that._focusin();\n                     }\n                     that.selectValue();\n                 });\n             }\n\n             element.attr(\"aria-valuemin\", options.min !== NULL ? options.min*options.factor : options.min)\n                    .attr(\"aria-valuemax\", options.max !== NULL ? options.max*options.factor : options.max);\n\n             options.format = extractFormat(options.format);\n\n             value = options.value;\n\n             if (value == NULL) {\n                 if (inputType == \"number\") {\n                    value = parseFloat(element.val());\n                 } else {\n                     value = element.val();\n                 }\n             }\n\n             that.value(value);\n\n             disabled = !options.enable || element.is(\"[disabled]\") || $(that.element).parents(\"fieldset\").is(':disabled');\n\n             if (disabled) {\n                 that.enable(false);\n             } else {\n                 that.readonly(element.is(\"[readonly]\"));\n             }\n\n             that.angular(\"compile\", function(){\n                 return {\n                     elements: that._text.get()\n                 };\n             });\n\n             that._label();\n             that._ariaLabel(that._text);\n             that._applyCssClasses();\n\n             kendo.notify(that);\n         },\n\n        options: {\n            name: \"NumericTextBox\",\n            decimals: NULL,\n            enable: true,\n            restrictDecimals: false,\n            min: NULL,\n            max: NULL,\n            value: NULL,\n            step: 1,\n            round: true,\n            culture: \"\",\n            format: \"n\",\n            spinners: true,\n            placeholder: \"\",\n            selectOnFocus: false,\n            factor: 1,\n            upArrowText: \"Increase value\",\n            downArrowText: \"Decrease value\",\n            label: null,\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n        events: [\n            CHANGE,\n            SPIN\n        ],\n\n        _editable: function(options) {\n            var that = this,\n                element = that.element,\n                disable = options.disable,\n                readonly = options.readonly,\n                text = that._text.add(element),\n                wrapper = that.wrapper.off(HOVEREVENTS);\n\n            that._toggleText(true);\n\n            that._upArrowEventHandler.unbind(\"press\");\n            that._downArrowEventHandler.unbind(\"press\");\n            element\n                .off(\"keydown\" + ns)\n                .off(\"keyup\" + ns)\n                .off(\"input\" + ns)\n                .off(\"paste\" + ns);\n\n            if (that._inputLabel) {\n                that._inputLabel.off(ns);\n            }\n\n            if (!readonly && !disable) {\n                wrapper\n                    .removeClass(STATEDISABLED)\n                    .on(HOVEREVENTS, that._toggleHover);\n\n                text.prop(DISABLED, false)\n                    .prop(READONLY, false)\n                    .attr(ARIA_DISABLED, false);\n\n                that._upArrowEventHandler.bind(\"press\", function(e) {\n                    e.preventDefault();\n                    that._spin(1);\n                    that._upArrow.addClass(SELECTED);\n                });\n\n                that._downArrowEventHandler.bind(\"press\", function(e) {\n                    e.preventDefault();\n                    that._spin(-1);\n                    that._downArrow.addClass(SELECTED);\n                });\n\n                that.element\n                    .on(\"keydown\" + ns, that._keydown.bind(that))\n                    .on(\"keyup\" + ns, that._keyup.bind(that))\n                    .on(\"paste\" + ns, that._paste.bind(that))\n                    .on(\"input\" + ns, that._inputHandler.bind(that));\n\n                if (that._inputLabel) {\n                    that._inputLabel.on(\"click\" + ns, that.focus.bind(that));\n                }\n\n            } else {\n                wrapper\n                    .addClass(disable ? STATEDISABLED : \"\")\n                    .removeClass(disable ?\"\" : STATEDISABLED);\n\n                text.attr(DISABLED, disable)\n                    .attr(READONLY, readonly)\n                    .attr(ARIA_DISABLED, disable);\n            }\n        },\n\n        readonly: function(readonly) {\n            var that = this;\n\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n\n            if (that.floatingLabel) {\n                that.floatingLabel.readonly(readonly === undefined ? true : readonly);\n            }\n        },\n\n        enable: function(enable) {\n            var that = this;\n\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n\n            if (that.floatingLabel) {\n                that.floatingLabel.enable(enable = enable === undefined ? true : enable);\n            }\n        },\n\n        setOptions: function (options) {\n            var that = this;\n            Widget.fn.setOptions.call(that, options);\n\n            that.wrapper.toggleClass(\"k-expand-padding\", !that.options.spinners);\n            that._text.prop(\"placeholder\", that.options.placeholder);\n            that._placeholder(that.options.placeholder);\n            that.element.attr({\n                \"aria-valuemin\": that.options.min !== NULL ? that.options.min*that.options.factor : that.options.min,\n                \"aria-valuemax\": that.options.max !== NULL ? that.options.max*that.options.factor : that.options.max\n            });\n\n            that.options.format = extractFormat(that.options.format);\n            that._upArrowEventHandler.destroy();\n            that._downArrowEventHandler.destroy();\n            that._arrowsWrap.remove();\n            that._arrows();\n\n            that._applyCssClasses();\n\n            if (options.value !== undefined) {\n                that.value(options.value);\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that._inputLabel) {\n                that._inputLabel.off(ns);\n\n                if (that.floatingLabel) {\n                    that.floatingLabel.destroy();\n                }\n            }\n\n            that.element\n                .add(that._text)\n                .add(that._upArrow)\n                .add(that._downArrow)\n                .off(ns);\n\n            that._upArrowEventHandler.destroy();\n            that._downArrowEventHandler.destroy();\n\n            if (that._form) {\n                that._form.off(\"reset\", that._resetHandler);\n            }\n\n            Widget.fn.destroy.call(that);\n        },\n\n        min: function(value) {\n            return this._option(\"min\", value);\n        },\n\n        max: function(value) {\n            return this._option(\"max\", value);\n        },\n\n        step: function(value) {\n            return this._option(\"step\", value);\n        },\n\n        value: function(value) {\n            var that = this, adjusted;\n\n            if (value === undefined) {\n                return that._value;\n            }\n\n            value = that._parse(value);\n            adjusted = that._adjust(value);\n\n            if (value !== adjusted) {\n                return;\n            }\n\n            that._update(value);\n            that._old = that._value;\n        },\n\n        focus: function() {\n            this._focusin();\n        },\n\n        _adjust: function(value) {\n            var that = this,\n            options = that.options,\n            min = options.min,\n            max = options.max;\n\n            if (value === NULL) {\n                return value;\n            }\n\n            if (min !== NULL && value < min) {\n                value = min;\n            } else if (max !== NULL && value > max) {\n                value = max;\n            }\n\n            return value;\n        },\n\n        _arrows: function() {\n            var that = this,\n            arrows,\n            _release = function() {\n                clearTimeout( that._spinning );\n                arrows.removeClass(SELECTED);\n            },\n            options = that.options,\n            spinners = options.spinners,\n            element = that.element;\n\n            arrows = element.siblings(\".k-icon-button\");\n\n            if (!arrows[0]) {\n                arrows = $(buttonHtml(\"increase\", options.upArrowText, options) + buttonHtml(\"decrease\", options.downArrowText, options))\n                        .appendTo(that.wrapper);\n\n                that._arrowsWrap = arrows.wrapAll('<span class=\"k-input-spinner k-spin-button\"/>').parent();\n            }\n\n            if (!spinners) {\n                arrows.parent().toggle(spinners);\n                that.wrapper.addClass(\"k-expand-padding\");\n            }\n\n            that._upArrow = arrows.eq(0);\n            that._upArrowEventHandler = new kendo.UserEvents(that._upArrow, { release: _release });\n            that._downArrow = arrows.eq(1);\n            that._downArrowEventHandler = new kendo.UserEvents(that._downArrow, { release: _release });\n        },\n\n        _validation: function () {\n            var that = this;\n            var element = that.element;\n\n            that._validationIcon = $(\"<span class='k-input-validation-icon \" + CLASS_ICON + \" k-i-warning k-hidden'></span>\").insertAfter(element);\n        },\n\n        _blur: function() {\n            var that = this;\n\n            that._toggleText(true);\n\n            that._change(that.element.val());\n        },\n\n        _click: function(e) {\n            var that = this;\n\n            clearTimeout(that._focusing);\n            that._focusing = setTimeout(function() {\n                var input = e.target,\n                    idx = caret(input)[0],\n                    value = input.value.substring(0, idx),\n                    format = that._format(that.options.format),\n                    group = format[\",\"],\n                    result, groupRegExp, extractRegExp,\n                    caretPosition = 0;\n\n                if (group) {\n                    groupRegExp = new RegExp(\"\\\\\" + group, \"g\");\n                    extractRegExp = new RegExp(\"(-)?(\" + format[SYMBOL] + \")?([\\\\d\\\\\" + group + \"]+)(\\\\\" + format[POINT] + \")?(\\\\d+)?\");\n                }\n\n                if (extractRegExp) {\n                    result = extractRegExp.exec(value);\n                }\n\n                if (result) {\n                    caretPosition = result[0].replace(groupRegExp, \"\").length;\n\n                    if (value.indexOf(\"(\") != -1 && that._value < 0) {\n                        caretPosition++;\n                    }\n                }\n\n                that._focusin();\n\n                caret(that.element[0], caretPosition);\n                that.selectValue();\n            });\n        },\n\n        selectValue: function(){\n            if (this.options.selectOnFocus) {\n                this.element[0].select();\n            }\n        },\n\n        _getFactorValue: function (value) {\n            var that = this,\n                factor = that.options.factor;\n\n            if (factor && factor !== 1) {\n                value = kendo.parseFloat(value);\n                if (value !== null) {\n                    value = value/factor;\n                }\n            }\n\n            return value;\n        },\n\n        _change: function(value) {\n            var that = this;\n\n            value = that._getFactorValue(value);\n            that._update(value);\n            value = that._value;\n\n            if (that._old != value) {\n                that._old = value;\n\n                if (!that._typing) {\n                    // trigger the DOM change event so any subscriber gets notified\n                    that.element.trigger(CHANGE);\n                }\n\n                that.trigger(CHANGE);\n            }\n\n            that._typing = false;\n        },\n\n        _culture: function(culture) {\n            return culture || getCulture(this.options.culture);\n        },\n\n        _focusin: function() {\n            var that = this;\n            that.wrapper.addClass(FOCUSED);\n            that._toggleText(false);\n            that.element[0].focus();\n        },\n\n        _focusout: function() {\n            var that = this;\n\n            clearTimeout(that._focusing);\n            that.wrapper.removeClass(FOCUSED).removeClass(HOVER);\n            that._blur();\n            that._removeInvalidState();\n        },\n\n        _format: function(format, culture) {\n            var numberFormat = this._culture(culture).numberFormat;\n\n            format = format.toLowerCase();\n\n            if (format.indexOf(\"c\") > -1) {\n                numberFormat = numberFormat.currency;\n            } else if (format.indexOf(\"p\") > -1) {\n                numberFormat = numberFormat.percent;\n            }\n\n            return numberFormat;\n        },\n\n        _input: function() {\n            var that = this,\n                options = that.options,\n                element = that.element.addClass(INPUT).show()[0],\n                accessKey = element.accessKey,\n                wrapper = that.wrapper,\n                inputs = wrapper.find(POINT + INPUT),\n                text;\n\n            text = inputs.first();\n\n            if (text.length < 2) {\n                text = $('<input type=\"text\"/>')\n                        .attr(kendo.attr(\"validate\"), false)\n                        .insertBefore(element);\n            }\n\n            try {\n                element.setAttribute(\"type\", \"text\");\n            } catch(e) {\n                element.type = \"text\";\n            }\n\n            text[0].title = element.title;\n            text[0].tabIndex = element.tabIndex;\n            text[0].style.cssText = element.style.cssText;\n            text.prop(\"placeholder\", options.placeholder);\n\n            if (accessKey) {\n                text.attr(\"accesskey\", accessKey);\n                element.accessKey = \"\";\n            }\n\n\n            that._text = text.addClass(element.className)\n                             .attr({\n                                 \"role\": \"spinbutton\",\n                                 \"aria-valuemin\": options.min !== NULL ? options.min*options.factor : options.min,\n                                 \"aria-valuemax\": options.max !== NULL ? options.max*options.factor : options.max,\n                                 \"autocomplete\": \"off\"\n                             });\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode;\n\n            if (key === keys.NUMPAD_DOT) {\n                that._numPadDot = true;\n            }\n\n            if (key == keys.DOWN) {\n                that._step(-1);\n                return;\n            } else if (key == keys.UP) {\n                that._step(1);\n                return;\n            } else if (key == keys.ENTER) {\n                that._change(that.element.val());\n                return;\n            }\n\n            if (key != keys.TAB) {\n                that._typing = true;\n            }\n            that._cachedCaret = caret(that.element);\n        },\n\n        _keyup: function () {\n            this._removeInvalidState();\n        },\n\n        _inputHandler: function () {\n            var element = this.element;\n            var value = element.val();\n            var min = this.options.min;\n            var numberFormat = this._format(this.options.format);\n            var decimalSeparator = numberFormat[POINT];\n            var minInvalid = (min !== null && min >= 0 && value.charAt(0) === \"-\");\n\n            if (this._numPadDot && decimalSeparator !== POINT) {\n                value = value.replace(POINT, decimalSeparator);\n                this.element.val(value);\n                this._numPadDot = false;\n            }\n\n            if (this._isPasted && this._parse(value)) {\n                value = this._parse(value)\n                    .toString()\n                    .replace(POINT, numberFormat[POINT]);\n            }\n\n            if (this._numericRegex(numberFormat).test(value) && !minInvalid) {\n                this._oldText = value;\n            } else {\n                this._blinkInvalidState();\n                this.element.val(this._oldText);\n                if (this._cachedCaret) {\n                    caret(element, this._cachedCaret[0]);\n                    this._cachedCaret = null;\n                }\n            }\n\n            this._isPasted = false;\n        },\n\n        _blinkInvalidState: function () {\n            var that = this;\n\n            that._addInvalidState();\n            clearTimeout(that._invalidStateTimeout);\n            that._invalidStateTimeout = setTimeout(that._removeInvalidState.bind(that), 100);\n        },\n\n        _addInvalidState: function () {\n            var that = this;\n\n            that.wrapper.addClass(STATEINVALID);\n            that._validationIcon.removeClass('k-hidden');\n        },\n\n        _removeInvalidState: function () {\n            var that = this;\n\n            that.wrapper.removeClass(STATEINVALID);\n            that._validationIcon.addClass('k-hidden');\n            that._invalidStateTimeout = null;\n        },\n\n        _numericRegex: function(numberFormat) {\n            var that = this;\n            var separator = numberFormat[POINT];\n            var precision = that.options.decimals;\n            var fractionRule = \"*\";\n\n            if (separator === POINT) {\n                separator = \"\\\\\" + separator;\n            }\n\n            if (precision === NULL) {\n                precision = numberFormat.decimals;\n            }\n\n            if (precision === 0 && that.options.restrictDecimals) {\n                return INTEGER_REGEXP;\n            }\n\n            if (that.options.restrictDecimals) {\n                fractionRule = \"{0,\" + precision + \"}\";\n            }\n\n            if (that._separator !== separator) {\n                that._separator = separator;\n                that._floatRegExp = new RegExp(\"^(-)?(((\\\\d+(\" + separator + \"\\\\d\" + fractionRule + \")?)|(\" + separator + \"\\\\d\" + fractionRule + \")))?$\");\n            }\n\n            return that._floatRegExp;\n        },\n\n        _paste: function(e) {\n            var that = this;\n            var element = e.target;\n            var value = element.value;\n            var numberFormat = that._format(that.options.format);\n\n            that._isPasted = true;\n\n           setTimeout(function() {\n                var result = that._parse(element.value);\n\n                if (result === NULL) {\n                    that._update(value);\n                } else {\n                    element.value = result.toString().replace(POINT, numberFormat[POINT]);\n                    if (that._adjust(result) !== result || !that._numericRegex(numberFormat).test(element.value)) {\n                        value = that._getFactorValue(element.value);\n                        that._update(value);\n                    }\n                }\n            });\n        },\n\n        _option: function(option, value) {\n            var that = this,\n                element = that.element,\n                options = that.options;\n\n            if (value === undefined) {\n                return options[option];\n            }\n\n            value = that._parse(value);\n\n            if (!value && option === \"step\") {\n                return;\n            }\n\n            options[option] = value;\n            element\n                .add(that._text)\n                .attr(\"aria-value\" + option, value);\n\n            element.attr(option, value);\n        },\n\n        _spin: function(step, timeout) {\n            var that = this;\n\n            timeout = timeout || 500;\n\n            clearTimeout( that._spinning );\n            that._spinning = setTimeout(function() {\n                that._spin(step, 50);\n            }, timeout );\n\n            that._step(step);\n        },\n\n        _step: function(step) {\n            var that = this,\n                element = that.element,\n                originalValue = that._value,\n                value = that._parse(element.val()) || 0,\n                precision = that.options.decimals || 2;\n\n            if (activeElement() != element[0]) {\n                that._focusin();\n            }\n\n            if(that.options.factor && value) {\n                value = value/that.options.factor;\n            }\n\n            value =  +(value + that.options.step * step).toFixed(precision);\n            value = that._adjust(value);\n            that._update(value);\n            that._typing = false;\n\n            if (originalValue !== value) {\n                that.trigger(SPIN);\n            }\n        },\n\n        _toggleHover: function(e) {\n            $(e.currentTarget).toggleClass(HOVER, e.type === \"mouseenter\");\n        },\n\n        _toggleText: function(toggle) {\n            var that = this;\n\n            that._text.toggle(toggle);\n            if (toggle) {\n                that._text.removeAttr(\"aria-hidden\");\n            } else {\n                that._text.attr(\"aria-hidden\", \"true\");\n            }\n            that.element.toggle(!toggle);\n        },\n\n        _parse: function(value, culture) {\n            return parse(value, this._culture(culture), this.options.format);\n        },\n\n        _round: function(value, precision) {\n            var rounder = this.options.round ? kendo._round : truncate;\n\n            return rounder(value, precision);\n        },\n\n        _update: function(value) {\n            var that = this,\n                options = that.options,\n                factor = options.factor,\n                format = options.format,\n                decimals = options.decimals,\n                culture = that._culture(),\n                numberFormat = that._format(format, culture),\n                originalValue,\n                isNotNull;\n\n            if (decimals === NULL) {\n                decimals = numberFormat.decimals;\n            }\n\n            value = that._parse(value, culture);\n\n            isNotNull = value !== NULL;\n\n            if (isNotNull) {\n                value = parseFloat(that._round(value, decimals), 10);\n            }\n\n            that._value = value = that._adjust(value);\n            that._placeholder(kendo.toString(value, format, culture));\n\n            if (isNotNull) {\n                if(factor) {\n                    value =  parseFloat(that._round(value*factor, decimals), 10);\n                }\n                value = value.toString();\n                if (value.indexOf(\"e\") !== -1) {\n                    value = that._round(+value, decimals);\n                }\n                originalValue = value;\n                value = value.replace(POINT, numberFormat[POINT]);\n            } else {\n                value = null;\n                originalValue = null;\n            }\n\n            that.element.val(value);\n            that._oldText = value;\n            that.element.add(that._text).attr(\"aria-valuenow\", originalValue);\n        },\n\n        _placeholder: function(value) {\n            var input = this._text;\n\n            input.val(value);\n            if (!placeholderSupported && !value) {\n                input.val(this.options.placeholder);\n            }\n\n            input.attr(\"title\", this.element.attr(\"title\") || input.val());\n        },\n\n        _label: function() {\n            var that = this;\n            var element = that.element;\n            var options = that.options;\n            var id = element.attr(\"id\");\n            var floating;\n            var labelText;\n\n            if (options.label !== null) {\n                floating = isPlainObject(options.label) ? options.label.floating : false;\n                labelText = isPlainObject(options.label) ? options.label.content : options.label;\n\n                if (floating) {\n                    that._floatingLabelContainer = that.wrapper.wrap(\"<span></span>\").parent();\n                    that.floatingLabel = new kendo.ui.FloatingLabel(that._floatingLabelContainer, { widget: that });\n                }\n\n                if (kendo.isFunction(labelText)) {\n                    labelText = labelText.call(that);\n                }\n\n                if (!labelText) {\n                    labelText = \"\";\n                }\n\n                if (!id) {\n                    id = options.name + \"_\" + kendo.guid();\n                    element.attr(\"id\", id);\n                }\n\n                that._inputLabel = $(\"<label class='\" + LABELCLASSES + \"' for='\" + id + \"'>\" + labelText + \"</label>'\").insertBefore(that.wrapper);\n\n                if ((that.element.attr(\"disabled\") === undefined) && (that.element.attr(\"readonly\") === undefined)) {\n                    that._inputLabel.on(\"click\" + ns, that.focus.bind(that));\n                }\n            }\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                DOMElement = element[0],\n                wrapper;\n\n            wrapper = element.parents(\".k-numerictextbox\");\n\n            if (!wrapper.is(\"span.k-numerictextbox\")) {\n                wrapper = element.hide().wrap(\"<span/>\").parent();\n            }\n\n            wrapper[0].style.cssText = DOMElement.style.cssText;\n            DOMElement.style.width = \"\";\n            that.wrapper = wrapper.addClass(\"k-numerictextbox k-input\")\n                                  .addClass(DOMElement.className)\n                                  .removeClass('input-validation-error')\n                                  .css(\"display\", \"\");\n        },\n\n        _reset: function() {\n            var that = this,\n                element = that.element,\n                formId = element.attr(\"form\"),\n                form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    setTimeout(function() {\n                        that.value(element[0].value);\n                        that.max(that._initialOptions.max);\n                        that.min(that._initialOptions.min);\n                    });\n                };\n\n                that._form = form.on(\"reset\", that._resetHandler);\n            }\n        }\n    });\n\n    kendo.cssProperties.registerPrefix(\"NumericTextBox\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"NumericTextBox\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    function buttonHtml(direction, text, options) {\n        var className = direction === \"increase\" ? \"arrow-n\" : \"arrow-s\";\n        var dir = direction === \"increase\" ? \"increase\" : \"decrease\";\n\n        return html.renderButton('<button role=\"button\" tabindex=\"-1\" unselectable=\"on\" class=\"k-spinner-' + dir + '\" aria-label=\"' + text + '\" title=\"' + text + '\"></button>', extend({}, options, {\n            icon: className,\n            shape: null,\n            rounded: null\n        }));\n    }\n\n    function truncate(value, precision) {\n        var parts = parseFloat(value, 10).toString().split(POINT);\n\n        if (parts[1]) {\n            parts[1] = parts[1].substring(0, precision);\n        }\n\n        return parts.join(POINT);\n\n    }\n\n    ui.plugin(NumericTextBox);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('colorpicker/colorselector',[ \"kendo.core\" ], f);\n})(function(){\n\n(function($, undefined) {\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n    /*jshint eqnull:true  */\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        parseColor = kendo.parseColor,\n\n        extend = $.extend,\n\n        NS = \".kendoColorTools\",\n        DISABLED = \"k-disabled\";\n\n    var ColorSelector = Widget.extend({\n        init: function(element, options) {\n            var that = this, ariaId;\n\n            Widget.fn.init.call(that, element, options);\n            element = that.element;\n            options = that.options;\n            that._value = options.value = parseColor(options.value);\n            that._tabIndex = element.attr(\"tabIndex\") || 0;\n\n            ariaId = that._ariaId = options.ariaId;\n            if (ariaId) {\n                element.attr(\"aria-labelledby\", ariaId);\n            }\n\n            if (options._standalone) {\n                that._triggerSelect = that._triggerChange;\n            }\n        },\n        options: {\n            name: \"ColorSelector\",\n            value: null,\n            _standalone: true\n        },\n        events: [\n            \"change\",\n            \"select\",\n            \"forceSelect\",\n            \"cancel\"\n        ],\n        color: function(value) {\n            if (value !== undefined) {\n                // this.options.value = value;\n                this._value = parseColor(value);\n                this._updateUI(this._value);\n            }\n\n            return this._value;\n        },\n        value: function(color) {\n            color = this.color(color);\n\n            if (color) {\n                if (this.options.opacity) {\n                    color = color.toCssRgba();\n                } else {\n                    color = color.toCss();\n                }\n            }\n\n            return color || null;\n        },\n        enable: function(enable) {\n            if (arguments.length === 0) {\n                enable = true;\n            }\n\n            this.wrapper.toggleClass(DISABLED, !enable);\n\n            this._onEnable(enable);\n        },\n        _select: function(color, nohooks) {\n            var prev = this._value;\n\n            color = this.color(color);\n\n            if (!nohooks) {\n                if ((color && !color.equals(prev)) || (color === null && color !== prev)) {\n                    this.element.trigger(\"change\");\n                    this.trigger(\"change\", { value: this.value() });\n                } else if (!this._standalone) {\n                    this.trigger(\"cancel\");\n                }\n            }\n        },\n        _triggerSelect: function(color) {\n            triggerEvent(this, \"select\", color);\n        },\n        _triggerChange: function(color) {\n            triggerEvent(this, \"change\", color);\n        },\n        destroy: function() {\n            if (this.element) {\n                this.element.off(NS);\n            }\n            if (this.wrapper) {\n                this.wrapper.off(NS).find(\"*\").off(NS);\n            }\n            this.wrapper = null;\n            Widget.fn.destroy.call(this);\n        },\n        _updateUI: $.noop,\n        _selectOnHide: function() {\n            return null;\n        },\n        _cancel: function() {\n            this.trigger(\"cancel\");\n        }\n    });\n\n    function triggerEvent(self, type, color) {\n        color = parseColor(color);\n\n        if ((color && !color.equals(self.color())) || color !== self.color()) {\n            if (type == \"change\") {\n                // UI is already updated.  setting _value directly\n                // rather than calling self.color(color) to avoid an\n                // endless loop.\n                self._value = color;\n            }\n            if (color && color.a != 1) {\n                color = color.toCssRgba();\n            } else if (color) {\n                color = color.toCss();\n            }\n\n            self.trigger(type, { value: color });\n        }\n    }\n\n    extend(ui, {\n        colorpicker: {\n            ColorSelector: ColorSelector\n        }\n    });\n\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n(function(f, define){\n    define('colorpicker/contrastToolUtils',[\n        \"kendo.core\"\n    ], f);\n})(function(){\n\n(function($, undefined){\n    var colorpicker = kendo.ui.colorpicker,\n        extend = $.extend,\n        Color = kendo.Color,\n        parseColor = kendo.parseColor,\n\n        AA_CONTRAST = 4.5,\n        AAA_CONTRAST = 7,\n        STEP_COUNT = 16;\n\n    // Color utils - calc contrast\n\n    function getContrast(luminance1, luminance2) {\n        var brightest = Math.max(luminance1, luminance2);\n        var darkest = Math.min(luminance1, luminance2);\n        return (brightest + 0.05) / (darkest + 0.05);\n    }\n\n    function getContrastFromTwoRGBAs(a, b) {\n        return getContrast(\n            getLuminance(getRGBFromRGBA(a, b)),\n            getLuminance(getRGBFromRGBA(b, { r: 0, g: 0, b: 0, a: 1 })));\n    }\n\n    function getLuminance (rgb) {\n        var a = [rgb.r, rgb.g, rgb.b].map(function (v) {\n            v /= 255;\n            return v <= 0.03928 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\n        });\n        return a[0] * 0.2126 + a[1] * 0.7152 + a[2] * 0.0722;\n    }\n\n    function getRGBFromRGBA(foregroundColor, backgroundColor) {\n        var r1 = fitIntoBounds(foregroundColor.r, 0, 255);\n        var g1 = fitIntoBounds(foregroundColor.g, 0, 255);\n        var b1 = fitIntoBounds(foregroundColor.b, 0, 255);\n        var a1 = fitIntoBounds(foregroundColor.a, 0, 1);\n\n        var r2 = fitIntoBounds(backgroundColor.r, 0, 255);\n        var g2 = fitIntoBounds(backgroundColor.g, 0, 255);\n        var b2 = fitIntoBounds(backgroundColor.b, 0, 255);\n\n        return {\n            r: Math.round(((1 - a1) * r2) + (a1 * r1)),\n            g: Math.round(((1 - a1) * g2) + (a1 * g1)),\n            b: Math.round(((1 - a1) * b2) + (a1 * b1))\n        };\n    }\n\n    function fitIntoBounds(contender, min, max) {\n        if (!isPresent(contender) || isNaN(contender)) {\n            return min;\n        }\n\n        return contender <= min ? min : contender >= max ? max : contender;\n    }\n\n    function isPresent(value) { return value !== null && value !== undefined; }\n\n\n    // Color utils - Contrast tool SVG path\n\n    function renderSvgCurveLine(gradientRectMetrics, hsva, backgroundColor) {\n        var findValue = function (contrast, saturation, low, high, comparer) {\n            var mid = (low + high) / 2;\n            var currentHsva = extend({}, hsva, { s: saturation / gradientRectMetrics.width, v: 1 - mid / gradientRectMetrics.height });\n            var currentContrast = getContrastFromTwoRGBAs(parseColor(getColorFromHSV(currentHsva)).toBytes(), parseColor(backgroundColor).toBytes());\n\n            if (low + 0.5 > high) {\n                if (currentContrast < contrast + 1 && currentContrast > contrast - 1) {\n                    return mid;\n                } else {\n                    return null;\n                }\n            }\n\n            if (comparer(currentContrast, contrast)) {\n                return findValue(contrast, saturation, low, high - (high - low) / 2, comparer);\n            }\n            return findValue(contrast, saturation, low + (high - low) / 2, high, comparer);\n        };\n\n        var comparer = function (a, b) {\n            return a > b;\n        };\n\n        var reversedComparer = function (a, b) {\n            return a < b;\n        };\n\n        var getPaths = function (contrast, stepCount, reversed) {\n            var points = [];\n            for (var i = 0; i <= gradientRectMetrics.width; i += gradientRectMetrics.width/stepCount) {\n               var value = findValue(contrast, i, 0, gradientRectMetrics.height, reversed ? reversedComparer : comparer);\n                if (value !== null){\n                    points.push([i, value]);\n                }\n            }\n            return points;\n        };\n\n        var bezierCommandCalc = bezierCommand(controlPoint(line));\n        var paths = svgPath(getPaths(AA_CONTRAST, STEP_COUNT, false), bezierCommandCalc) +\n                svgPath(getPaths(AA_CONTRAST, STEP_COUNT, true), bezierCommandCalc) +\n                svgPath(getPaths(AAA_CONTRAST, STEP_COUNT, false), bezierCommandCalc) +\n                svgPath(getPaths(AAA_CONTRAST, STEP_COUNT, true), bezierCommandCalc);\n\n        return '<svg xmlns=\"http://www.w3.org/2000/svg\" style=\"position: absolute; overflow: visible; pointer-events: none; left: 0px; top: 0px; z-index: 3;\" >' +\n                    paths  + '</svg>';\n    }\n\n    function svgPath(points, command) {\n        if (points.length === 0){\n            return '';\n        }\n\n        var reducer = function (acc, point, i, a) {\n            return i === 0 ?\n                // if first point\n                kendo.format(\"M {0},{1}\", point[0], point[1]) :\n                // else\n                kendo.format(\"{0} {1}\", acc, command(point, i, a));\n        };\n\n        // build the d attributes by looping over the points\n        var d = points.reduce(reducer, \"\");\n\n        return kendo.format('<path d=\"{0}\" fill=\"none\" stroke=\"white\" stroke-width=\"1\"/>', d);\n    }\n\n    function bezierCommand(controlPointCalc) {\n        return function(point, i, a) {\n            // start control point\n            var cps = controlPointCalc(a[i - 1], a[i - 2], point); // [cpsX, cpsY]\n\n            // end control point\n            var cpe = controlPointCalc(point, a[i - 1], a[i + 1], true); //  [cpeX, cpeY]\n\n            return kendo.format(\"C {0},{1} {2},{3} {4},{5}\", cps[0], cps[1], cpe[0], cpe[1], point[0], point[1]);\n        };\n    }\n\n    function controlPoint(lineCalc) {\n        return function (current, previous, next, reverse) {\n            // when 'current' is the first or last point of the array\n            // 'previous' and 'next' are undefined\n            // replace with 'current'\n                var p = previous || current;\n                var n = next || current;\n                var smooth = 0.1;\n\n                // properties of the line between previous and next\n                var l = lineCalc(p, n);\n\n                // If is end-control-point, add PI to the angle to go backward\n                var angle = l.angle + (reverse ? Math.PI : 0);\n                var length = l.length * smooth;\n\n                // The control point position is relative to the current point\n                var x = current[0] + Math.cos(angle) * length;\n                var y = current[1] + Math.sin(angle) * length;\n\n                return [x, y];\n        };\n    }\n\n    function line (pointA, pointB) {\n        var lengthX = pointB[0] - pointA[0];\n        var lengthY = pointB[1] - pointA[1];\n\n        return {\n            length: Math.sqrt(Math.pow(lengthX, 2) + Math.pow(lengthY, 2)),\n            angle: Math.atan2(lengthY, lengthX)\n        };\n    }\n\n    function getColorFromHSV (hsva) {\n        var hue = fitIntoBounds(hsva.h, 0, 359.9);\n        var saturation = fitIntoBounds(hsva.s, 0, 1);\n        var value = fitIntoBounds(hsva.v, 0, 1);\n        var alpha = fitIntoBounds(hsva.a, 0, 1);\n\n        return Color.fromHSV(hue, saturation, value, alpha).toCssRgba();\n    }\n\n    extend(colorpicker, {\n        contrastToolUtils: {\n            getContrastFromTwoRGBAs: getContrastFromTwoRGBAs,\n            renderSvgCurveLine: renderSvgCurveLine\n        }\n    });\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n(function(f, define){\n    define('colorpicker/colorgradient',[ \"kendo.core\", \"./contrastToolUtils\" ], f);\n})(function(){\n\n(function($, undefined) {\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n    /*jshint eqnull:true  */\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Observable = kendo.Observable,\n        parseColor = kendo.parseColor,\n        extend = $.extend,\n        Color = kendo.Color,\n        KEYS = kendo.keys,\n        BACKGROUNDCOLOR = \"background-color\",\n        WHITE = \"#ffffff\",\n        BLACK = \"#000000\",\n        NS = \".kendoColorTools\",\n        KEYDOWN_NS = \"keydown\" + NS,\n        ColorSelector = ui.colorpicker.ColorSelector,\n\n        contrastToolUtils = ui.colorpicker.contrastToolUtils;\n\n    function preventDefault(ev) { ev.preventDefault(); }\n\n    function bind(callback, obj) {\n        return function() {\n            return callback.apply(obj, arguments);\n        };\n    }\n\n    var ColorInput = Observable.extend({\n        init: function(element, options) {\n            var that = this;\n\n            that.element = element;\n            that.options = options;\n\n            that._viewModel = kendo.observable({\n                switchMode: that.switchMode.bind(that),\n                keydown: that.keydown.bind(that),\n                mode: function (mode) {\n                    return mode === this.get(\"format\");\n                },\n                format: options.format,\n                formats: options.formats,\n                rgb: null,\n                hex: function () {\n                    return this.get(\"rgb\") !== null && this.get(\"rgb\").toCss({alpha: options.opacity});\n                }\n            });\n\n            that._changeHandler = that.change.bind(that);\n\n            that._viewModel.bind(\"change\", that._changeHandler);\n\n            that._render();\n\n            that.element.on(KEYDOWN_NS, that.keydown.bind(that));\n\n            Observable.fn.init.call(that);\n        },\n\n        _template: kendo.template(\n            '# if (options.formats && options.formats.length > 1) { #' +\n            '<div class=\"k-vstack\">' +\n                '<button class=\"k-colorgradient-toggle-mode\" data-#:ns#role=\"button\" data-#:ns#icon=\"arrows-kpi\" data data-#:ns#bind=\"click: switchMode\" data-#:ns#fill-mode=\"flat\" data-#:ns#size=\"#: options.size #\" title=\"#: options.messages.toggleFormat #\">' +\n               '</button>' +\n            '</div>' +\n            '# } #' +\n\n\n            // HEX input\n            '# if (options.formats && options.formats.indexOf(\"hex\") >= 0) { #' +\n            '<div class=\"k-vstack k-flex-1\" data-#:ns#bind=\"visible: mode(\\'hex\\')\">' +\n                '<input type=\"text\" data-#:ns#bind=\"value: hex\" data-#:ns#role=\"textbox\" data-#:ns#size=\"#: options.size #\" tabindex=\"#:options.tabindex#\"  aria-label=\"#: options.messages.hex #\"/>' +\n                '<label class=\"k-colorgradient-input-label\">HEX</label>' +\n            '</div>' +\n            '# } #' +\n\n            // RGBA input\n            '# if (options.formats && options.formats.indexOf(\"rgb\") >= 0) { #' +\n            '<div  class=\"k-vstack\" data-#:ns#bind=\"visible: mode(\\'rgb\\')\">' +\n                '<input tabindex=\"#:options.tabindex#\" data-#:ns#bind=\"value: rgb.r\" data-#:ns#role=\"numerictextbox\" data-#:ns#size=\"#: options.size #\" data-#:ns#max=\"255\" data-#:ns#min=\"0\" data-#:ns#decimals=\"0\" data-#:ns#spinners=\"false\" data-#:ns#format=\"n0\"  aria-label=\"#: options.messages.red #\" />' +\n                '<label class=\"k-colorgradient-input-label\">R</label>' +\n            '</div>' +\n            '<div  class=\"k-vstack\" data-#:ns#bind=\"visible: mode(\\'rgb\\')\">' +\n                '<input tabindex=\"#:options.tabindex#\" data-#:ns#bind=\"value: rgb.g\" data-#:ns#role=\"numerictextbox\" data-#:ns#size=\"#: options.size #\" data-#:ns#max=\"255\" data-#:ns#min=\"0\" data-#:ns#decimals=\"0\" data-#:ns#spinners=\"false\" data-#:ns#format=\"n0\"  aria-label=\"#: options.messages.green #\" />' +\n                '<label class=\"k-colorgradient-input-label\">G</label>' +\n            '</div>' +\n            '<div  class=\"k-vstack\" data-#:ns#bind=\"visible: mode(\\'rgb\\')\">' +\n                '<input tabindex=\"#:options.tabindex#\" data-#:ns#bind=\"value: rgb.b\" data-#:ns#role=\"numerictextbox\" data-#:ns#size=\"#: options.size #\" data-#:ns#max=\"255\" data-#:ns#min=\"0\" data-#:ns#decimals=\"0\" data-#:ns#spinners=\"false\" data-#:ns#format=\"n0\"  aria-label=\"#: options.messages.blue #\"/>' +\n                '<label class=\"k-colorgradient-input-label\">B</label>' +\n            '</div>' +\n            '#if(options.opacity){#' +\n            '<div  class=\"k-vstack\" data-#:ns#bind=\"visible: mode(\\'rgb\\')\">' +\n                '<input tabindex=\"#:options.tabindex#\" data-#:ns#bind=\"value: rgb.a\" data-#:ns#role=\"numerictextbox\" data-#:ns#size=\"#: options.size #\" data-#:ns#step=\"0.1\" data-#:ns#max=\"1\" data-#:ns#min=\"0\" data-#:ns#decimals=\"1\" data-#:ns#spinners=\"false\" data-#:ns#format=\"n1\"  aria-label=\"#: options.messages.alpha #\" />' +\n                '<label class=\"k-colorgradient-input-label\">A</label>' +\n            '</div>' +\n            '# } #' +\n            '# } #'),\n        destroy: function(){\n            var that = this;\n\n\n            that._viewModel.unbind(\"change\", that._changeHandler);\n            kendo.unbind(that.element);\n            kendo.destroy(that.element);\n            that.element.off(KEYDOWN_NS);\n            delete that._viewModel;\n            delete that._changeHandler;\n        },\n        _render: function() {\n            var that = this;\n\n            that.element\n                .append(that._template({ ns: kendo.ns, guid: kendo.guid(), options: that.options }))\n                .parent();\n\n            kendo.bind(that.element, that._viewModel);\n            that.element.attr(\"data-\" + kendo.ns + \"stop\", \"stop\");\n        },\n        value: function (color) {\n            var that = this;\n\n            that._color = (color && color.toBytes()) || parseColor(BLACK);\n            that._preventChangeEvent = true;\n            that._viewModel.set(\"rgb\", that._color);\n            delete that._preventChangeEvent;\n        },\n        reset: function () {\n            var that = this;\n\n            that._preventChangeEvent = true;\n            that._viewModel.set(\"rgb\", parseColor(BLACK));\n            delete that._preventChangeEvent;\n        },\n        switchMode: function() {\n            var that = this,\n                model = that._viewModel,\n                currentFormat = model.format,\n                index = model.formats.indexOf(currentFormat) + 1;\n\n            index = index >= model.formats.length ? 0 : index;\n\n            that._preventChangeEvent = true;\n            that._viewModel.set(\"format\", model.formats[index]);\n            delete that._preventChangeEvent;\n        },\n        change: function (ev) {\n            var that = this;\n\n            if (ev.field.indexOf(\"rgb\") >= 0) {\n                that._color = that._tryParseColor(that._viewModel.rgb.toCssRgba());\n                that._viewModel.set(\"hex\", that._color.toCss({ alpha: that.options.opacity }));\n            } else if (ev.field === \"hex\") {\n                that._color = that._tryParseColor(ev.sender[ev.field]);\n                that._viewModel.set(\"rgb\", that._color);\n            }\n\n            if (!that._preventChangeEvent) {\n                that.trigger(\"change\", {value: that._color});\n            }\n        },\n        _tryParseColor: function (color) {\n            var that = this;\n\n            try {\n                color = parseColor(color) || that._color;\n            } catch (error) {\n                color = that._color;\n            }\n\n            return color;\n        },\n        keydown: function (ev) {\n            var that = this,\n                textbox = $(ev.target).data(\"kendoTextBox\");\n\n            if (ev.keyCode === KEYS.ENTER && $(ev.target).is(\"input\")) {\n                if(textbox && textbox._change) {\n                    textbox._change();\n                }\n\n                that.trigger(\"change\", {value: that._color});\n                that.trigger(\"select\", {value: that._color});\n            }\n        }\n    });\n\n    var ColorGradient = ColorSelector.extend({\n        init: function (element, options) {\n            var that = this,\n                value;\n\n            ColorSelector.fn.init.call(that, element, options);\n\n            options = that.options = kendo.deepExtend({}, that.options, options);\n\n            if(options.messages.previewInput) {\n                options.messages.hex = options.messages.previewInput;\n            }\n\n            options.messages = options.messages ? $.extend(that.options.messages, options.messages) : that.options.messages;\n            element = that.element;\n\n            that.wrapper = element.addClass(\"k-colorgradient\")\n                .append(that._template(options));\n\n            that._hueElements = $(\".k-hsv-rectangle, .k-alpha-slider .k-slider-track\", element);\n            that._colorgradientInputs = $(\".k-colorgradient-inputs\", element);\n            that._contrastTool = $(\".k-colorgradient-color-contrast\", element);\n\n            that._sliders();\n\n            that._hsvArea();\n\n            value = that._value;\n\n            if(that._colorgradientInputs.length) {\n                that._colorInput = new ColorInput(that._colorgradientInputs, extend({}, options, {\n                    tabindex: this._tabIndex\n                }));\n\n                that._colorInput.bind(\"change\", function(ev){\n                    that._updateUI(ev.value, true);\n                });\n\n                that._colorInput.bind(\"select\", function(ev){\n                    var color = parseColor(ev.value);\n                    that._select(color);\n                    that.trigger(\"forceSelect\", { value: that.value() });\n                });\n            }\n\n            that._updateUI(value);\n        },\n        options: {\n            name : \"ColorGradient\",\n            opacity : false,\n            input : true,\n            format: \"hex\",\n            formats: [\"rgb\", \"hex\"],\n            contrastTool: false,\n            size: \"medium\",\n            messages: {\n                contrastRatio: \"Contrast ratio:\",\n                fail: \"Fail\",\n                pass: \"Pass\",\n                hex: \"HEX\",\n                toggleFormat: \"Toggle format\",\n                red: \"Red\",\n                green: \"Green\",\n                blue: \"Blue\",\n                alpha: \"Alpha\"\n            }\n        },\n        _template: kendo.template(\n            '<div class=\"k-colorgradient-canvas k-hstack\">' +\n                '<div class=\"k-hsv-rectangle\"><div class=\"k-hsv-gradient\"></div><div class=\"k-hsv-draghandle k-draghandle\"></div></div>' +\n\n                '<div class=\"k-hsv-controls k-hstack\">' +\n                    '<input class=\"k-hue-slider k-colorgradient-slider\" />' +\n                    '# if (opacity) { #' +\n                        '<input class=\"k-alpha-slider k-colorgradient-slider\" />' +\n                    '# } #' +\n                '</div>' +\n            '</div>' +\n\n            '# if (input) { #' +\n            '<div class=\"k-colorgradient-inputs k-hstack\">' +\n            '</div>' +\n            '# } #' +\n\n            '# if (contrastTool) { #' +\n                '<div class=\"k-colorgradient-color-contrast k-vbox\">' +\n                '</div>' +\n            '# } #'\n        ),\n        _onEnable: function(enable) {\n            this._hueSlider.enable(enable);\n\n            if (this._opacitySlider) {\n                this._opacitySlider.enable(enable);\n            }\n\n            this.wrapper.find(\"input\").attr(\"disabled\", !enable);\n\n            var handle = this._hsvRect.find(\".k-draghandle\");\n\n            if (enable) {\n                handle.attr(\"tabIndex\", this._tabIndex);\n            } else {\n                handle.removeAttr(\"tabIndex\");\n            }\n        },\n        _sliders: function() {\n            var that = this,\n                element = that.element,\n                hueSlider = element.find(\".k-hue-slider\"),\n                opacitySlider = element.find(\".k-alpha-slider\");\n\n            function hueChange(e) {\n                that._updateUI(that._getHSV(e.value, null, null, null));\n            }\n\n            hueSlider.attr(\"aria-label\", \"hue saturation\");\n            that._hueSlider = hueSlider.kendoSlider({\n                min: 0,\n                max: 360,\n                tickPlacement: \"none\",\n                showButtons: false,\n                orientation: \"vertical\",\n                slide: hueChange,\n                change: hueChange\n            }).data(\"kendoSlider\");\n\n            function opacityChange(e) {\n                that._updateUI(that._getHSV(null, null, null, e.value / 100));\n            }\n\n            opacitySlider.attr(\"aria-label\", \"opacity\");\n            that._opacitySlider = opacitySlider.kendoSlider({\n                min: 0,\n                max: 100,\n                tickPlacement: \"none\",\n                showButtons: false,\n                orientation: \"vertical\",\n                slide: opacityChange,\n                change: opacityChange\n            }).data(\"kendoSlider\");\n        },\n        _hsvArea: function() {\n            var that = this,\n                element = that.element,\n                hsvRect = element.find(\".k-hsv-rectangle\"),\n                hsvHandle = hsvRect.find(\".k-draghandle\").attr(\"tabIndex\", 0).on(KEYDOWN_NS, bind(that._keydown, that));\n\n            function update(x, y) {\n                var offset = this.offset,\n                    dx = x - offset.left, dy = y - offset.top,\n                    rw = this.width, rh = this.height;\n\n                dx = dx < 0 ? 0 : dx > rw ? rw : dx;\n                dy = dy < 0 ? 0 : dy > rh ? rh : dy;\n                that._svChange(dx / rw, 1 - dy / rh);\n            }\n\n            that._hsvEvents = new kendo.UserEvents(hsvRect, {\n                global: true,\n                press: function(e) {\n                    this.offset = kendo.getOffset(hsvRect);\n                    this.width = hsvRect.width();\n                    this.height = hsvRect.height();\n                    hsvHandle.focus();\n                    update.call(this, e.x.location, e.y.location);\n                },\n                start: function() {\n                    hsvRect.addClass(\"k-dragging\");\n                    hsvHandle.focus();\n                },\n                move: function(e) {\n                    e.preventDefault();\n                    update.call(this, e.x.location, e.y.location);\n                },\n                end: function() {\n                    hsvRect.removeClass(\"k-dragging\");\n                }\n            });\n\n            that._hsvRect = hsvRect;\n            that._hsvHandle = hsvHandle;\n        },\n        setBackgroundColor: function (color) {\n            var that = this;\n\n            if (that.options.contrastTool) {\n                that.options.contrastTool = $.isPlainObject(that.options.contrastTool) ? extend({}, that.options.contrastTool, {\n                    backgroundColor: color\n                }) : {\n                    backgroundColor: color\n                };\n\n                that._updateColorContrast(that.color() || parseColor(WHITE));\n            }\n        },\n        _updateUI: function(color, dontChangeInput) {\n            var that = this;\n\n            if (!color) {\n                that._reset();\n                return;\n            }\n\n            if (!dontChangeInput && that._colorInput) {\n                that._colorInput.value(color);\n            }\n\n            that._triggerSelect(color);\n            that._updateHsv(color);\n\n            if(that._contrastTool.length) {\n                that._updateColorContrast(color);\n            }\n        },\n        _reset: function () {\n            var that = this;\n\n            if (that._colorInput) {\n                that._colorInput.reset();\n            }\n\n            that._resetHsv();\n            that._resetColorContrast();\n        },\n        _resetHsv: function () {\n            var that = this,\n                color = parseColor(BLACK);\n\n            that._updateHsv(color);\n        },\n        _updateHsv: function (color) {\n            var that = this,\n                rect = that._hsvRect;\n\n            color = color.toHSV();\n\n            that._hsvHandle.css({\n                // saturation is 0 on the left side, full (1) on the right\n                left: color.s * rect.width() + \"px\",\n                // value is 0 on the bottom, full on the top.\n                top: (1 - color.v) * rect.height() + \"px\"\n            });\n\n            that._hueElements.css(BACKGROUNDCOLOR, Color.fromHSV(color.h, 1, 1, 1).toCss());\n            that._hueSlider.value(color.h);\n\n            if (that._opacitySlider) {\n                that._opacitySlider.wrapper.find(\".k-slider-track\").css(\"background\", \"linear-gradient(to top, transparent, \" + Color.fromHSV(color.h, 1, 1, 1).toCss());\n                that._opacitySlider.value(100 * color.a);\n            }\n        },\n        _resetColorContrast: function () {\n            var that = this,\n                contrastOptions = that.options.contrastTool;\n\n            if(that._contrastTool.length) {\n                that._updateColorContrast(contrastOptions.backgroundColor ? parseColor(contrastOptions.backgroundColor) : parseColor(WHITE));\n            }\n        },\n        _updateColorContrast: function (color) {\n            var that = this,\n                contrastOptions = that.options.contrastTool,\n                backgroundColor = contrastOptions.backgroundColor ? parseColor(contrastOptions.backgroundColor) : parseColor(WHITE),\n                contrastRatio = contrastToolUtils.getContrastFromTwoRGBAs(parseColor(color.toCssRgba()), backgroundColor),\n                contrastRatioTemplate = kendo.template('<div class=\"k-contrast-ratio\">' +\n                                            '<span class=\"k-contrast-ratio-text\">#:messages.contrastRatio# #:kendo.toString(ratio, \"n2\")#</span>' +\n                                            '<span class=\"k-contrast-validation k-text-success\">' +\n                                                '#if (ratio > 4.5) {#' +\n                                                    '<span class=\"k-icon k-i-check\"></span>' +\n                                                '#}#' +\n                                                '#if (ratio > 7) {#' +\n                                                    '<span class=\"k-icon k-i-check\"></span>' +\n                                                '#}#' +\n                                            '</span></div>'),\n                labelTemplate = kendo.template('<div>' +\n                                            '<span>#:level#: #:limit# </span>' +\n                                            '#if (ratio > limit) {#' +\n                                            '<span class=\"k-contrast-validation k-text-success\">#:messages.pass# <span class=\"k-icon k-i-check\"></span></span>' +\n                                            '#} else {#' +\n                                            '<span class=\"k-contrast-validation k-text-error\">#:messages.fail# <span class=\"k-icon k-i-close\"></span></span>' +\n                                            '#}#' +\n                                            '</div>'),\n                output = \"\";\n\n            output += contrastRatioTemplate({\n                messages: that.options.messages,\n                ratio: contrastRatio,\n            });\n\n            output += labelTemplate({\n                messages: that.options.messages,\n                ratio: contrastRatio,\n                limit: 4.5,\n                level: \"AA\"\n            });\n\n            output += labelTemplate({\n                messages: that.options.messages,\n                ratio: contrastRatio,\n                limit: 7,\n                level: \"AAA\"\n            });\n\n            that._contrastTool.find(\".k-contrast-ratio, div\").remove();\n            that._contrastTool.append(output);\n\n            that._updateContrastSvg(backgroundColor);\n        },\n        _updateContrastSvg: function (backgroundColor) {\n            var that = this,\n                hsvRect = that._hsvRect,\n                svgClassName = \"k-color-contrast-svg\",\n                metrics = { width: hsvRect.width(), height: hsvRect.height() },\n                newSvg;\n\n            if(!metrics.width || !metrics.height) {\n                return;\n            }\n\n            newSvg = $(contrastToolUtils.renderSvgCurveLine(metrics, that._getHSV(), backgroundColor)).addClass(svgClassName);\n\n            hsvRect.find(\".\" + svgClassName).remove();\n            hsvRect.append(newSvg);\n        },\n        _keydown: function(ev) {\n            var that = this;\n            function move(prop, d) {\n                var c = that._getHSV();\n                c[prop] += d * (ev.shiftKey ? 0.01 : 0.05);\n                if (c[prop] < 0) { c[prop] = 0; }\n                if (c[prop] > 1) { c[prop] = 1; }\n                that._updateUI(c);\n                preventDefault(ev);\n            }\n            function hue(d) {\n                var c = that._getHSV();\n                c.h += d * (ev.shiftKey ? 1 : 5);\n                if (c.h < 0) { c.h = 0; }\n                if (c.h > 359) { c.h = 359; }\n                that._updateUI(c);\n                preventDefault(ev);\n            }\n            switch (ev.keyCode) {\n            case KEYS.LEFT:\n                if (ev.ctrlKey) {\n                    hue(-1);\n                } else {\n                    move(\"s\", -1);\n                }\n                break;\n            case KEYS.RIGHT:\n                if (ev.ctrlKey) {\n                    hue(1);\n                } else {\n                    move(\"s\", 1);\n                }\n                break;\n            case KEYS.UP:\n                move(ev.ctrlKey && that._opacitySlider ? \"a\" : \"v\", 1);\n                break;\n            case KEYS.DOWN:\n                move(ev.ctrlKey && that._opacitySlider ? \"a\" : \"v\", -1);\n                break;\n            case KEYS.ENTER:\n                that._select(that._getHSV());\n                break;\n            case KEYS.F2:\n                that._colorInput.element.find(\"input\").trigger(\"focus\").select();\n                break;\n            case KEYS.ESC:\n                that._cancel();\n                break;\n            }\n        },\n        focus: function() {\n            this._hsvHandle.focus();\n        },\n        _getHSV: function(h, s, v, a) {\n            var that = this,\n                rect = that._hsvRect,\n                width = rect.width(),\n                height = rect.height(),\n                handlePosition = this._hsvHandle.position();\n\n            if(!width || !height) {\n                return that.color() ? that.color().toHSV() : parseColor(BLACK);\n            }\n\n            if (h == null) {\n                h = that._hueSlider.value();\n            }\n            if (s == null) {\n                s = handlePosition.left / width;\n            }\n            if (v == null) {\n                v = 1 - handlePosition.top / height;\n            }\n            if (a == null) {\n                a = that._opacitySlider ? that._opacitySlider.value() / 100 : 1;\n            }\n            return Color.fromHSV(h, s, v, a);\n        },\n        _svChange: function(s, v) {\n            var color = this._getHSV(null, s, v, null);\n            this._updateUI(color);\n        },\n        destroy: function (){\n            this._hsvEvents.destroy();\n\n            this._hueSlider.destroy();\n            if (this._opacitySlider) {\n                this._opacitySlider.destroy();\n            }\n\n            if(this._colorInput) {\n                this._colorInput.destroy();\n            }\n\n            this._hueSlider = this._opacitySlider = this._hsvRect = this._hsvHandle =\n                this._hueElements = this._selectedColor = this._colorAsText =\n                this._contrastTool = null;\n\n            ColorSelector.fn.destroy.call(this);\n        }\n    });\n\n    ui.plugin(ColorGradient);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n(function(f, define){\n    define('colorpicker/colorpalette',[\n        \"kendo.core\"\n    ], f);\n})(function(){\n\n(function($, undefined){\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n    /*jshint eqnull:true  */\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        parseColor = kendo.parseColor,\n        KEYS = kendo.keys,\n        BACKGROUNDCOLOR = \"background-color\",\n        ITEMSELECTEDCLASS = \"k-state-selected\",\n        ITEMSFOCUSEDCLASS = \"k-state-focus\",\n        SIMPLEPALETTE = \"000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7\",\n        WEBPALETTE = \"FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000\",\n        NS = \".kendoColorTools\",\n        CLICK_NS = \"click\" + NS,\n        KEYDOWN_NS = \"keydown\" + NS,\n        BLUR_NS = \"blur\" + NS,\n        ColorSelector = ui.colorpicker.ColorSelector;\n\n    function preventDefault(ev) { ev.preventDefault(); }\n\n    function bind(callback, obj) {\n        return function() {\n            return callback.apply(obj, arguments);\n        };\n    }\n\n    function relative(array, element, delta) {\n        array = Array.prototype.slice.call(array);\n        var n = array.length;\n        var pos = array.indexOf(element);\n        if (pos < 0) {\n            return delta < 0 ? array[n - 1] : array[0];\n        }\n        pos += delta;\n        if (pos < 0) {\n            pos += n;\n        } else {\n            pos %= n;\n        }\n        return array[pos];\n    }\n\n    var ColorPalette = ColorSelector.extend({\n        init: function(element, options) {\n            var that = this;\n            ColorSelector.fn.init.call(that, element, options);\n            element = that.wrapper = that.element;\n            options = that.options;\n\n            var colors = options.palette || \"basic\";\n\n            if (colors == \"websafe\") {\n                colors = WEBPALETTE;\n                options.columns = 18;\n            } else if (colors == \"basic\") {\n                colors = SIMPLEPALETTE;\n            }\n\n            if (typeof colors == \"string\") {\n                colors = colors.split(\",\");\n            }\n\n            if (Array.isArray(colors)) {\n                colors = $.map(colors, function(x) { return parseColor(x); });\n            }\n\n            that._selectedID = (options.ariaId || kendo.guid()) + \"_selected\";\n\n            element.addClass(\"k-colorpalette\")\n                .attr(\"role\", \"grid\")\n                .attr(\"aria-readonly\", \"true\")\n                .append($(that._template({\n                    colors   : colors,\n                    columns  : options.columns,\n                    tileSize : options.tileSize,\n                    value    : that._value,\n                    id       : options.ariaId\n                })))\n                .on(CLICK_NS, \".k-colorpalette-tile\", function(ev){\n                    that._select(ev.currentTarget);\n                })\n                .attr(\"tabIndex\", that._tabIndex)\n                .on(KEYDOWN_NS, bind(that._keydown, that))\n                .on(BLUR_NS, function(){\n                    that.wrapper.find(\".k-colorpalette-tile\").removeClass(ITEMSFOCUSEDCLASS);\n                });\n\n            var tileSize = options.tileSize, width, height;\n            if (tileSize) {\n                if (/number|string/.test(typeof tileSize)) {\n                    width = height = parseFloat(tileSize);\n                } else if (typeof tileSize == \"object\") {\n                    width = parseFloat(tileSize.width);\n                    height = parseFloat(tileSize.height);\n                } else {\n                    throw new Error(\"Unsupported value for the 'tileSize' argument\");\n                }\n                element.find(\".k-colorpalette-tile\").css({ width: width, height: height });\n            }\n        },\n        focus: function(){\n            if (this.wrapper && !this.wrapper.is(\"[unselectable='on']\")) {\n                this.wrapper.trigger(\"focus\");\n            }\n        },\n        options: {\n            name: \"ColorPalette\",\n            columns: 10,\n            tileSize: null,\n            palette: \"basic\"\n        },\n        _onEnable: function(enable) {\n            if (enable) {\n                this.wrapper.attr(\"tabIndex\", this._tabIndex);\n            } else {\n                this.wrapper.removeAttr(\"tabIndex\");\n            }\n        },\n        _keydown: function(e) {\n            var selected,\n                wrapper = this.wrapper,\n                items = wrapper.find(\".k-colorpalette-tile\"),\n                current = items.filter(\".\" + ITEMSFOCUSEDCLASS).get(0) || items.filter(\".\" + ITEMSELECTEDCLASS).get(0),\n                keyCode = e.keyCode;\n\n            if (keyCode == KEYS.LEFT) {\n                selected = relative(items, current, -1);\n            } else if (keyCode == KEYS.RIGHT) {\n                selected = relative(items, current, 1);\n            } else if (keyCode == KEYS.DOWN) {\n                selected = relative(items, current, this.options.columns);\n            } else if (keyCode == KEYS.UP) {\n                selected = relative(items, current, -this.options.columns);\n            } else if (keyCode == KEYS.ENTER) {\n                preventDefault(e);\n                if (current) {\n                    this._select(current);\n                    this.trigger(\"forceSelect\", { value: this.value() });\n                    return;\n                }\n            } else if (keyCode == KEYS.ESC) {\n                this._cancel();\n            }\n\n            if (selected) {\n                preventDefault(e);\n\n                this._current(selected);\n\n                try {\n                    var color = parseColor(selected.css(BACKGROUNDCOLOR));\n                    this._triggerSelect(color);\n                } catch(ex) {}\n            }\n        },\n        _select: function(item) {\n            var that = this,\n                items = that.wrapper.find(\".k-colorpalette-tile\");\n\n            item = $(item);\n\n            ColorSelector.fn._select.call(that, item.css(BACKGROUNDCOLOR));\n\n            items.removeClass(ITEMSELECTEDCLASS);\n            item.addClass(ITEMSELECTEDCLASS);\n        },\n        _current: function(item) {\n            this.wrapper.find(\".\" + ITEMSFOCUSEDCLASS)\n                .removeClass(ITEMSFOCUSEDCLASS)\n                .attr(\"aria-selected\", false)\n                .removeAttr(\"id\");\n\n            $(item)\n                .addClass(ITEMSFOCUSEDCLASS)\n                .attr(\"aria-selected\", true)\n                .attr(\"id\", this._selectedID);\n\n            this.element\n                .removeAttr(\"aria-activedescendant\")\n                .attr(\"aria-activedescendant\", this._selectedID);\n        },\n        _updateUI: function(color) {\n            var item = null,\n                items = this.wrapper.find(\".k-colorpalette-tile\");\n\n            this.wrapper.find(\".k-colorpalette-tile\").each(function(){\n                var c = parseColor($(this).css(BACKGROUNDCOLOR));\n\n                if (c && c.equals(color)) {\n                    item = this;\n\n                    return false;\n                }\n            });\n\n            this._current(item);\n\n            items.removeClass(ITEMSELECTEDCLASS);\n\n            if(item) {\n                $(item).addClass(ITEMSELECTEDCLASS);\n            }\n        },\n        _template: kendo.template(\n            '<div class=\"k-colorpalette-table-wrap\">' +\n            '<table class=\"k-colorpalette-table k-palette\" role=\"presentation\"><tr role=\"row\">' +\n              '# for (var i = 0; i < colors.length; ++i) { #' +\n                '# var selected = colors[i].equals(value); #' +\n                '# if (i && i % columns == 0) { # </tr><tr role=\"row\"> # } #' +\n                '<td role=\"gridcell\" unselectable=\"on\" style=\"background-color:#= colors[i].toCss() #\"' +\n                    '#= selected ? \" aria-selected=true\" : \"\" # ' +\n                    '#=(id && i === 0) ? \"id=\\\\\"\"+id+\"\\\\\" \" : \"\" # ' +\n                    'class=\"k-colorpalette-tile#= selected ? \" ' + ITEMSELECTEDCLASS + '\" : \"\" #\" ' +\n                    'aria-label=\"#= colors[i].toCss() #\"></td>' +\n              '# } #' +\n            '</tr></table></div>'\n        )\n    });\n\n\n    ui.plugin(ColorPalette);\n\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('colorpicker/flatcolorpicker',[\n        \"./colorgradient\",\n        \"./colorpalette\",\n        \"kendo.html.button\"\n    ], f);\n})(function(){\n\n(function($, undefined){\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n    /*jshint eqnull:true  */\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        html = kendo.html,\n        Color = kendo.Color,\n        extend = $.extend,\n        BACKGROUNDCOLOR = \"background-color\",\n        MESSAGES = {\n            apply  : \"Apply\",\n            cancel : \"Cancel\",\n            noColor: \"no color\",\n            clearColor: \"Clear color\",\n            previewInput: null,\n            contrastRatio: \"Contrast ratio:\",\n            fail: \"Fail\",\n            pass: \"Pass\",\n            hex: \"HEX\",\n            toggleFormat: \"Toggle format\",\n            red: \"Red\",\n            green: \"Green\",\n            blue: \"Blue\",\n            alpha: \"Alpha\",\n            gradient: \"Gradient view\",\n            palette: \"Palette view\"\n        },\n        NS = \".kendoColorTools\",\n        CLICK_NS = \"click\" + NS,\n        KEYDOWN_NS = \"keydown\" + NS,\n        ColorSelector = ui.colorpicker.ColorSelector,\n        KEYS = kendo.keys,\n\n        NO_COLOR = \"k-no-color\",\n        SELECTED = \"k-selected\",\n        PREVIEW_MASK = \".k-color-preview-mask\",\n\n        VIEWS = {\n            \"gradient\": ui.ColorGradient,\n            \"palette\": ui.ColorPalette\n        };\n\n    function bind(callback, obj) {\n        return function() {\n            return callback.apply(obj, arguments);\n        };\n    }\n\n    var FlatColorPicker = ColorSelector.extend({\n        init: function(element, options) {\n            var that = this;\n\n            if (options && options.autoupdate === false) {\n                options._standalone = false;\n            }\n\n            ColorSelector.fn.init.call(that, element, options);\n            options = that.options = kendo.deepExtend({}, that.options, options);\n            element = that.element;\n\n            that.wrapper = element.addClass(\"k-flatcolorpicker k-coloreditor\")\n                .append(that._template());\n\n            that._selectedColor = $(\".k-coloreditor-preview-color\", element);\n            that._previousColor = $(\".k-coloreditor-current-color\", element);\n            that._viewsContainer = $(\".k-coloreditor-views\", element);\n\n            element.find(\".k-button[data-view=\" + that.options.view + \"]\").addClass(SELECTED);\n\n            var value = that.color();\n\n            that._changeView(options.view);\n\n            that._setViewSize();\n\n            if (value) {\n                that._updateUI(value);\n                that._previousColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, value.toDisplay());\n                that._selectedColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, value.toDisplay());\n            } else {\n                that._selectedColor.addClass(NO_COLOR);\n                that._previousColor.addClass(NO_COLOR);\n            }\n\n            element\n                .on(KEYDOWN_NS, bind(that._keydown, that))\n                .on(CLICK_NS, \".k-coloreditor-reset\", function () {\n                    that._clearColor = true;\n                    that._updateUI(null);\n                    that._view.value(null);\n                })\n                .on(CLICK_NS, \".k-coloreditor-apply\", function(){\n                    if(that._clearColor) {\n                        that._select(null);\n                    } else {\n                        that._select(that._view.color());\n                    }\n                })\n                .on(CLICK_NS, \".k-coloreditor-cancel\", function(){\n                    delete that._clearColor;\n                    that._updateUI(that.color());\n                    that._cancel();\n                })\n                .on(CLICK_NS, \".k-button[data-view]\", function(ev){\n                    var viewButton =  $(ev.target).closest(\"[data-view]\");\n\n                    if(viewButton.is(\".\" + SELECTED)) {\n                        return;\n                    }\n\n                    element.find(\".k-button[data-view]\").removeClass(SELECTED);\n                    viewButton.addClass(SELECTED);\n                    that._changeView(viewButton.data(\"view\"));\n                });\n        },\n        destroy: function() {\n            var that = this;\n\n            ColorSelector.fn.destroy.call(this);\n\n            if (that._view) {\n                that._view.destroy();\n                that._viewsContainer.empty();\n            }\n\n            that.element.off(NS);\n\n            that._selectedColor = that._previousColor = that._viewsContainer = that._view = null;\n        },\n        options: {\n            name: \"FlatColorPicker\",\n            opacity: false,\n            buttons: false,\n            input: true,\n            preview: true,\n            clearButton: false,\n            format: \"hex\",\n            formats: [\"rgb\", \"hex\"],\n            view: \"gradient\",\n            views: [\"gradient\", \"palette\"],\n            palette: null,\n            autoupdate : true,\n            backgroundColor: null,\n            columns: 10,\n            tileSize: 24,\n            messages   : MESSAGES,\n            size: \"medium\" // Fake styling option to accomplish colorpicker's size for textbox and button\n        },\n        setBackgroundColor: function (color) {\n            var that = this;\n\n            if(that._view && that._view.setBackgroundColor) {\n                that._view.setBackgroundColor(color);\n            }\n        },\n        _select: function(value) {\n            var that = this;\n\n            ColorSelector.fn._select.call(that, value);\n\n            that._updatePreviousColor(value);\n        },\n        _updatePreviousColor: function (value) {\n            var that = this;\n\n            if (value) {\n                that._previousColor.removeClass(NO_COLOR);\n                that._previousColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, value.toDisplay());\n            } else {\n                that._previousColor.addClass(NO_COLOR);\n                that._previousColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, \"\");\n            }\n        },\n        _changeView: function (mode) {\n            var that = this,\n                options = $.extend({}, that.options),\n                selector =  VIEWS[mode],\n                selectedColor, hsvColor;\n\n            if(that._view && that._view._colorInput) {\n                that.options.format = that._view._colorInput._viewModel.format;\n            }\n\n            that.options.view = mode;\n\n            delete options.name;\n            delete options.change;\n            delete options.select;\n            delete options.cancel;\n            delete options._standalone;\n\n            if (that._view) {\n                selectedColor = that._view.color();\n                that._view.destroy();\n                that._viewsContainer.empty();\n            }\n\n            if (selectedColor) {\n                selectedColor = selectedColor.toHSV();\n                hsvColor = Color.fromHSV(that._cachedHue || 0, selectedColor.s, selectedColor.v, selectedColor.a);\n                that._cachedHue = selectedColor.toHSV().h;\n                selectedColor = selectedColor.equals(hsvColor) ? hsvColor : selectedColor;\n            }\n\n            if (selector) {\n                that._view = new VIEWS[mode]($(\"<div></div>\").appendTo(that._viewsContainer), options);\n                that._view.value(selectedColor);\n\n                that._view.bind(\"change\", function (ev) {\n                    delete that._clearColor;\n                    that._updateUI(ev.sender.color(), true);\n                });\n\n                that._view.bind(\"forceSelect\", function (ev) {\n                    delete that._clearColor;\n                    that._select(ev.sender.color());\n                });\n            }\n        },\n        _onEnable: function(enable) {\n            var that = this;\n\n            if (that._view) {\n                that._view._onEnable(enable);\n            }\n        },\n        focus: function() {\n            var that = this;\n\n            if (that._view) {\n                that._view.focus();\n            }\n        },\n        _updateUI: function(color, dontChangeView) {\n            var that = this;\n\n            if (color && color.toDisplay) {\n                that._selectedColor.removeClass(NO_COLOR);\n                that._selectedColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, color.toDisplay());\n            } else {\n                that._selectedColor.addClass(NO_COLOR);\n                that._selectedColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, \"\");\n            }\n\n            that._triggerSelect(color);\n\n            if (that.options.autoupdate) {\n                that._updatePreviousColor(color);\n            }\n\n            if(!dontChangeView) {\n                that._view.value(color);\n            }\n        },\n        _setViewSize: function() {\n            var that = this,\n                wrapper = that.wrapper[0],\n                previewWidth = parseInt((that.options.tileSize.width || that.options.tileSize), 10),\n                previewHeight = parseInt((that.options.tileSize.width || that.options.tileSize), 10),\n                previewColumns = that.options.columns;\n\n            wrapper.style.setProperty(\"--kendo-color-preview-columns\", previewColumns);\n            wrapper.style.setProperty(\"--kendo-color-preview-width\", previewWidth + \"px\");\n            wrapper.style.setProperty(\"--kendo-color-preview-height\", previewHeight + \"px\");\n        },\n        _keydown: function(e) {\n\n            if (e.keyCode == KEYS.ESC) {\n                this._cancel();\n            }\n        },\n        _template: function () {\n            var that = this,\n                options = that.options,\n                buttonOptions = extend({}, options, {\n                    fillMode: \"flat\",\n                    themeColor: \"base\",\n                    rounded: \"medium\"\n                });\n\n            return kendo.template(\n                    '<div class=\"k-coloreditor-header k-hstack\">' +\n                        '# if (views && views.length > 1) { #' +\n                        '<div class=\"k-coloreditor-header-actions k-hstack\">' +\n                            '<div class=\"k-button-group k-button-group-flat\">' +\n                                html.renderButton('<button  data-view=\"gradient\" title=\"#:messages.gradient#\"></button>', extend({ icon: \"color-canvas\" }, buttonOptions)) +\n                                html.renderButton('<button  data-view=\"palette\" title=\"#:messages.palette#\"></button>', extend({ icon: \"palette\" }, buttonOptions)) +\n                            '</div>' +\n                        '</div>' +\n                        '# } #' +\n                        '<div class=\"k-spacer\"></div>' +\n                        '<div class=\"k-coloreditor-header-actions k-hstack\">' +\n                            '# if (clearButton) { #' +\n                            html.renderButton('<button class=\"k-coloreditor-reset\" title=\"#:messages.clearColor#\"></button>', extend({ icon: \"reset-color\" }, buttonOptions)) +\n                            '# } #' +\n                            '# if (preview) { #' +\n                            '<div class=\"k-coloreditor-preview k-vstack\">' +\n                                '<span class=\"k-coloreditor-preview-color k-color-preview\">' +\n                                    '<span class=\"k-color-preview-mask\"></span>' +\n                                '</span>' +\n                                '<span class=\"k-coloreditor-current-color k-color-preview\">' +\n                                    '<span class=\"k-color-preview-mask\"></span>' +\n                                '</span>' +\n                            '</div>' +\n                            '# } #' +\n                        '</div>' +\n                    '</div>' +\n                    '<div class=\"k-coloreditor-views k-vstack\"></div>' +\n                    '# if (buttons) { #' +\n                    '<div class=\"k-coloreditor-footer k-actions k-hstack k-justify-content-end\">' +\n                        html.renderButton('<button class=\"k-coloreditor-cancel\" title=\"#:messages.cancel#\">#: messages.cancel #</button>', extend({}, buttonOptions, { fillMode: \"solid\" })) +\n                        html.renderButton('<button class=\"k-coloreditor-apply\" title=\"#:messages.apply#\">#: messages.apply #</button>', extend({}, buttonOptions, { fillMode: \"solid\", themeColor: \"primary\" })) +\n                    '</div>' +\n                    '# } #'\n                )(options);\n            }\n    });\n\n    ui.plugin(FlatColorPicker);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.colorpicker',[\n        \"kendo.core\",\n        \"kendo.color\",\n        \"kendo.popup\",\n        \"kendo.slider\",\n        \"kendo.userevents\",\n        \"kendo.button\",\n        \"kendo.binder\",\n        \"kendo.textbox\",\n        \"kendo.numerictextbox\",\n        \"kendo.html.button\",\n\n        \"./colorpicker/colorselector\",\n        \"./colorpicker/flatcolorpicker\"\n    ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"colorpicker\",\n    name: \"Color tools\",\n    category: \"web\",\n    description: \"Color selection widgets\",\n    depends: [ \"core\", \"color\", \"popup\", \"slider\", \"userevents\", \"button\", \"binder\", \"textbox\", \"numerictextbox\", \"html.button\" ]\n};\n\n(function($, undefined){\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n    /*jshint eqnull:true  */\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        Color = kendo.Color,\n        parseColor = kendo.parseColor,\n        KEYS = kendo.keys,\n        BACKGROUNDCOLOR = \"background-color\",\n        MESSAGES = {\n            apply  : \"Apply\",\n            cancel : \"Cancel\",\n            noColor: \"no color\",\n            clearColor: \"Clear color\",\n            previewInput: null,\n            contrastRatio: \"Contrast ratio:\",\n            fail: \"Fail\",\n            pass: \"Pass\",\n            hex: \"HEX\",\n            toggleFormat: \"Toggle format\",\n            red: \"Red\",\n            green: \"Green\",\n            blue: \"Blue\",\n            alpha: \"Alpha\",\n            gradient: \"Gradient view\",\n            palette: \"Palette view\"\n        },\n        NS = \".kendoColorTools\",\n        CLICK_NS = \"click\" + NS,\n        KEYDOWN_NS = \"keydown\" + NS,\n        ColorSelector = ui.colorpicker.ColorSelector,\n        FlatColorPicker = ui.FlatColorPicker;\n\n    /* -----[ The ColorPicker widget ]----- */\n\n    var ColorPicker = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            // Legacy support for the cases where only palette is defined\n            if(options && options.palette && !options.view){\n                options.view =\"palette\";\n            }\n\n            Widget.fn.init.call(that, element, options);\n            options = that.options = kendo.deepExtend({}, that.options, options);\n            element = that.element;\n\n            var value = element.attr(\"value\") || element.val();\n            if (value) {\n                value = parseColor(value, true);\n            } else {\n                value = parseColor(options.value, true);\n            }\n            that._value = options.value = value;\n\n            var _buttonHtml = kendo.html.renderButton('<button class=\"k-input-button\" unselectable=\"on\" aria-label=\"select\" tabindex=\"-1\"></button>', $.extend({}, that.options, {\n                icon: \"arrow-s\"\n            }));\n\n            var content = that._inputWrapper = that.wrapper = $(that._template($.extend({}, that.options, {\n                _buttonHtml: _buttonHtml\n            })));\n\n            that._applyCssClasses();\n            element.hide().after(content);\n\n            if (element.is(\"input\")) {\n                element.appendTo(content);\n\n                // if there exists a <label> associated with this\n                // input field, we must catch clicks on it to prevent\n                // the built-in color picker from showing up.\n                // https://github.com/telerik/kendo-ui-core/issues/292\n\n                var label = element.closest(\"label\");\n                var id = element.attr(\"id\");\n                if (id) {\n                    label = label.add('label[for=\"' + id + '\"]');\n                }\n                label.on(\"click\", function(ev){\n                    that.open();\n                    ev.preventDefault();\n                });\n            }\n\n            that._tabIndex = element.attr(\"tabIndex\") || 0;\n\n            that.enable(!element.attr(\"disabled\"));\n\n            var accesskey = element.attr(\"accesskey\");\n            if (accesskey) {\n                element.attr(\"accesskey\", null);\n                content.attr(\"accesskey\", accesskey);\n            }\n\n            that.bind(\"activate\", function(ev){\n                if (!ev.isDefaultPrevented()) {\n                    that.toggle();\n                }\n            });\n\n            that._updateUI(value);\n        },\n        destroy: function() {\n            this.wrapper.off(NS).find(\"*\").off(NS);\n            if (this._popup) {\n                this._selector.destroy();\n                this._popup.destroy();\n            }\n            this._selector = this._popup = this.wrapper = null;\n            Widget.fn.destroy.call(this);\n        },\n        enable: function(enable) {\n            var that = this,\n                wrapper = that.wrapper,\n                arrow = wrapper.find(\".k-input-button\");\n\n            if (arguments.length === 0) {\n                enable = true;\n            }\n\n            that.element.attr(\"disabled\", !enable);\n            wrapper.attr(\"aria-disabled\", !enable);\n\n            arrow.off(NS).on(\"mousedown\" + NS, preventDefault);\n\n            wrapper.addClass(\"k-disabled\")\n                .removeAttr(\"tabIndex\")\n                .add(\"*\", wrapper).off(NS);\n\n            if (enable) {\n                wrapper.removeClass(\"k-disabled\")\n                    .attr(\"tabIndex\", that._tabIndex)\n                    .on(\"mouseenter\" + NS, function () { wrapper.addClass(\"k-hover\"); })\n                    .on(\"mouseleave\" + NS, function () { wrapper.removeClass(\"k-hover\"); })\n                    .on(\"focus\" + NS, function () { wrapper.addClass(\"k-focus\"); })\n                    .on(\"blur\" + NS, function () { wrapper.removeClass(\"k-focus\"); })\n                    .on(KEYDOWN_NS, bind(that._keydown, that))\n                    .on(CLICK_NS, \".k-input-button\", bind(that.toggle, that))\n                    .on(CLICK_NS, \".k-input-inner\", function () {\n                        that.trigger(\"activate\");\n                    });\n            } else {\n                that.close();\n            }\n        },\n\n        _template: kendo.template(\n            '<span role=\"textbox\" aria-haspopup=\"true\" class=\"k-colorpicker k-picker k-icon-picker\">' +\n                '<span  class=\"k-input-inner\">' +\n                    '<span class=\"k-value-icon k-color-preview #: toolIcon ? \"k-icon-color-preview\" : \"\" #\">' +\n                        '# if (toolIcon) { #' +\n                        '<span class=\"k-color-preview-icon k-icon #= toolIcon #\"></span>' +\n                        '# } #' +\n                        '<span class=\"k-color-preview-mask\"></span>' +\n                    '</span>' +\n                '</span >' +\n                '#= _buttonHtml #' +\n            '</span>'\n        ),\n\n        options: {\n            name: \"ColorPicker\",\n            closeOnSelect: false,\n            contrastTool: false,\n            palette: null,\n            columns: 10,\n            toolIcon: null,\n            value: null,\n            messages: MESSAGES,\n            opacity: false,\n            buttons: true,\n            preview: true,\n            clearButton: false,\n            input      : true,\n            format: \"hex\",\n            formats: [\"rgb\", \"hex\"],\n            view: \"gradient\",\n            views: [\"gradient\", \"palette\"],\n            backgroundColor: null,\n            ARIATemplate: 'Current selected color is #=data || \"\"#',\n            size: \"medium\",\n            rounded: \"medium\",\n            fillMode: \"solid\"\n        },\n\n        events: [ \"activate\", \"change\", \"select\", \"open\", \"close\" ],\n\n        open: function () {\n            if (!this.element.prop(\"disabled\")) {\n                this._getPopup().open();\n            }\n        },\n        close: function () {\n            var selOptions = (this._selector && this._selector.options) || {};\n            selOptions._closing = true;\n            this._getPopup().close();\n\n            delete selOptions._closing;\n        },\n        toggle: function () {\n            if (!this.element.prop(\"disabled\")) {\n                this._getPopup().toggle();\n            }\n        },\n        setBackgroundColor: function (color) {\n            var that = this,\n                handler = function () { that._selector.setBackgroundColor(color); };\n\n            that.options.contrastTool.backgroundColor = color;\n\n            if(that._selector && (that._popup && that._popup.visible())) {\n                that._selector.setBackgroundColor(color);\n            } else if (that._popup) {\n                that._popup.unbind(\"activate\", handler);\n                that._popup.bind(\"activate\", handler);\n            }\n        },\n        _noColorIcon: function(){\n            return this.wrapper.find(\".k-color-preview\");\n        },\n        color: ColorSelector.fn.color,\n        value: ColorSelector.fn.value,\n        _select: ColorSelector.fn._select,\n        _triggerSelect: ColorSelector.fn._triggerSelect,\n        _isInputTypeColor: function() {\n            var el = this.element[0];\n            return (/^input$/i).test(el.tagName) && (/^color$/i).test(el.type);\n        },\n\n        _updateUI: function(value, dontChangeSelector) {\n            var formattedValue = \"\";\n\n            if (value) {\n                if (this._isInputTypeColor() || value.a == 1) {\n                    // seems that input type=\"color\" doesn't support opacity\n                    // in colors; the only accepted format is hex #RRGGBB\n                    formattedValue = value.toCss();\n                } else {\n                    formattedValue = value.toCssRgba();\n                }\n\n                this.element.val(formattedValue);\n            }\n\n            if (!this._ariaTemplate) {\n                this._ariaTemplate = kendo.template(this.options.ARIATemplate);\n            }\n\n            this.wrapper.attr(\"aria-label\", this._ariaTemplate(formattedValue));\n\n            this._triggerSelect(value);\n            this.wrapper.find(\".k-color-preview-mask\").css(\n                BACKGROUNDCOLOR,\n                value ? value.toDisplay() : \"\"\n            );\n\n            this._noColorIcon().toggleClass(\"k-no-color\", !formattedValue);\n\n            if (this._selector && !dontChangeSelector) {\n                this._selector.value(value);\n            }\n        },\n        _keydown: function(ev) {\n            var key = ev.keyCode;\n            if (this._getPopup().visible()) {\n                if (key == KEYS.ESC) {\n                    this._selector._cancel();\n                } else {\n                    this._selector._keydown(ev);\n                }\n                preventDefault(ev);\n            }\n            else if (key == KEYS.ENTER || key == KEYS.DOWN) {\n                this.open();\n                preventDefault(ev);\n            }\n        },\n        _getPopup: function() {\n            var that = this, popup = that._popup;\n\n            if (!popup) {\n                var options = that.options;\n                var selectorType;\n\n                selectorType = FlatColorPicker;\n\n                options.autoupdate = options.buttons !== true;\n                delete options.select;\n                delete options.change;\n                delete options.cancel;\n\n                var id = kendo.guid();\n\n                var selectorWrapper = $('<div id=\"' + id +'\" class=\"k-colorpicker-popup\"></div>').appendTo(document.body);\n                var selector = that._selector = new selectorType($('<div></div>').appendTo(selectorWrapper), options);\n\n                that.wrapper.attr(\"aria-owns\", id);\n\n                that._popup = popup = selectorWrapper.kendoPopup({\n                    anchor: that.wrapper,\n                    adjustSize: { width: 5, height: 0 }\n                }).data(\"kendoPopup\");\n\n                selector.bind({\n                    select: function(ev){\n                        that._updateUI(parseColor(ev.value), true);\n                    },\n                    change: function(ev){\n                        if (that.options.buttons) {\n                            that._select(selector.color());\n                        } else {\n                            that._updateUI(parseColor(ev.value), true);\n                        }\n\n                        if (that.options.buttons || (that._selector.options.view === \"palette\" && that.options.closeOnSelect)) {\n                            that.close();\n                        }\n                    },\n                    cancel: function() {\n                        that.close();\n                    }\n                });\n                popup.bind({\n                    close: function(ev){\n                        if (that.trigger(\"close\")) {\n                            ev.preventDefault();\n                            return;\n                        }\n                        that.wrapper.removeClass(\"k-focus\");\n\n                        var color = selector.color();\n\n                        if (!that.options.buttons) {\n                            that._select(color);\n                        } else {\n                            that._select(that.color());\n                        }\n\n                        color = that.color();\n\n                        if (color && color.h) {\n                            that._cachedHue = color.h;\n                        }\n\n                        var clickedOutside = event &&\n                            event instanceof MouseEvent &&\n                            $(event.target).parents(\".k-colorpicker-popup\").length === 0;\n\n                        if (!clickedOutside) {\n                            setTimeout(function () {\n                                if (that.wrapper && !that.wrapper.is(\"[unselectable='on']\")) {\n                                    that.wrapper.trigger(\"focus\");\n                                }\n                            }, 0);\n                        }\n                    },\n                    open: function(ev) {\n                        if (that.trigger(\"open\")) {\n                            ev.preventDefault();\n                        } else {\n                            that.wrapper.addClass(\"k-focus\");\n                        }\n                    },\n                    activate: function(){\n                        var hsvColor,\n                            selectedColor = that.color();\n\n                        if (selectedColor) {\n                            selectedColor = selectedColor.toHSV();\n                            hsvColor = Color.fromHSV(that._cachedHue || 0, selectedColor.s, selectedColor.v, selectedColor.a);\n                            selectedColor = selectedColor.equals(hsvColor) ? hsvColor : selectedColor;\n                        }\n\n                        selector.value(selectedColor);\n                        selector.focus();\n                        that.wrapper.addClass(\"k-focus\");\n                    }\n                });\n            }\n            return popup;\n        }\n    });\n\n    function preventDefault(ev) { ev.preventDefault(); }\n\n    function bind(callback, obj) {\n        return function() {\n            return callback.apply(obj, arguments);\n        };\n    }\n\n    ui.plugin(ColorPicker);\n\n    kendo.cssProperties.registerPrefix(\"ColorPicker\", \"k-picker-\");\n\n    kendo.cssProperties.registerValues(\"ColorPicker\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.toggleinputbase',[ \"kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"toggleinputbase\",\n    name: \"ToggleInputBase\",\n    category: \"web\",\n    description: \"The ToggleInputBase component.\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        CHANGE = \"change\",\n        DISABLED = \"disabled\",\n        CHECKED = \"checked\";\n\n    var ToggleInputBase = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._wrapper();\n\n            that._initSettings();\n\n            that._attachEvents();\n\n            kendo.notify(that, kendo.ui);\n        },\n\n        events: [\n            CHANGE\n        ],\n\n        options: {\n            name: \"ToggleInputBase\"\n        },\n\n        NS: \".kendoToggleInputBase\",\n        RENDER_INPUT: $.noop,\n\n        check: function(checked) {\n            var that = this,\n                element = that.element[0];\n\n            if (checked === undefined) {\n                return element.checked;\n            }\n\n            if (element.checked !== checked) {\n                that.options.checked = element.checked = checked;\n            }\n\n            if (checked) {\n                that.element.attr(CHECKED, CHECKED);\n            } else {\n                that.element.prop(CHECKED, false);\n            }\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.wrapper.off(this.NS);\n        },\n\n        enable: function(enable) {\n            var element = this.element;\n\n            if(typeof enable == \"undefined\") {\n                enable = true;\n            }\n\n            this.options.enabled = enable;\n\n            if(enable) {\n                element.prop(DISABLED, false);\n            } else {\n                element.attr(DISABLED, DISABLED);\n            }\n        },\n\n        toggle: function() {\n            var that = this;\n\n            that.check(!that.element[0].checked);\n        },\n\n        _attachEvents: function() {\n            this.element.on(CHANGE + this.NS, this._change.bind(this));\n        },\n\n        _change: function () {\n            var checked = this.element[0].checked;\n\n            this.trigger(CHANGE, { checked: checked });\n        },\n\n        _initSettings: function () {\n            var that = this,\n                element = that.element[0],\n                options = that.options;\n\n            if (options.checked === null) {\n                options.checked = element.checked;\n            }\n\n            that.check(options.checked);\n\n            options.enabled = options.enabled && !that.element.attr(DISABLED);\n            that.enable(options.enabled);\n        },\n\n        _wrapper: function() {\n            var that = this,\n                options = that.options,\n                inputMethod = that.RENDER_INPUT;\n\n\n            inputMethod(that.element, $.extend({}, options));\n            that.element.removeClass('input-validation-error');\n\n            that.wrapper = that.element;\n        }\n    });\n\n    ui.plugin(ToggleInputBase);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.html.input',[\n        \"kendo.html.base\"\n    ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"html.input\",\n    name: \"Html.Input\",\n    category: \"web\",\n    description: \"HTML rendering utility for Kendo UI for jQuery.\",\n    depends: [ \"html.base\" ],\n    features: []\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        HTMLBase = kendo.html.HTMLBase;\n\n    var renderCheckBox = function (element, options) {\n        if (arguments[0] === undefined || $.isPlainObject(arguments[0])) {\n            options = element;\n            element = $(\"<input />\");\n        }\n\n        return (new HTMLCheckBox(element, options)).html();\n    };\n\n    var renderRadioButton = function (element, options) {\n        if (arguments[0] === undefined || $.isPlainObject(arguments[0])) {\n            options = element;\n            element = $(\"<input />\");\n        }\n\n        return (new HTMLRadioButton(element, options)).html();\n    };\n\n    var HTMLInput = HTMLBase.extend({\n        init: function (element, options) {\n            var that = this;\n            HTMLBase.fn.init.call(that, element, options);\n            that._wrapper();\n            that._addClasses();\n        },\n        options: {\n            label: null,\n            labelPosition: \"after\",\n            encoded: true\n        },\n        _wrapper: function () {\n            var that = this,\n                element = that.element[0],\n                options = that.options,\n                elementId = element.id;\n\n            that.wrapper = that.element\n                .addClass(options.inputClass)\n                .prop(\"type\", options.type);\n\n            if(!elementId && !!options.label) {\n                element.id = elementId = kendo.guid();\n            }\n\n            if(!!options.label) {\n                that.labelEl = $(\"<label for='\" + elementId + \"' class='\" + options.labelClass + \"'>\");\n\n                if(options.encoded) {\n                    that.labelEl.text(options.label);\n                } else {\n                    that.labelEl.html(options.label);\n                }\n\n                that.element[options.labelPosition](that.labelEl);\n            }\n        },\n        html: function () {\n            var that = this,\n                after = that.options.labelPosition === \"after\",\n                wrapperHtml = HTMLBase.fn.html.call(that);\n\n            if(!that.labelEl) {\n                return wrapperHtml;\n            }\n\n            if(after) {\n                return wrapperHtml + that.labelEl[0].outerHTML;\n            }\n\n            return that.labelEl[0].outerHTML + wrapperHtml;\n        }\n    });\n\n    var HTMLCheckBox = HTMLInput.extend({\n        init: function (element, options) {\n            var that = this;\n            HTMLInput.fn.init.call(that, element, options);\n            that._addClasses();\n        },\n        options: {\n            name: \"HTMLCheckBox\",\n            inputClass: \"k-checkbox\",\n            labelClass: \"k-checkbox-label\",\n            type: \"checkbox\",\n            rounded: \"medium\",\n            size: \"medium\",\n            stylingOptions: [ \"size\", \"rounded\" ]\n        }\n    });\n\n    var HTMLRadioButton = HTMLInput.extend({\n        init: function (element, options) {\n            var that = this;\n            HTMLInput.fn.init.call(that, element, options);\n            that._addClasses();\n        },\n        options: {\n            name: \"HTMLRadioButton\",\n            inputClass: \"k-radio\",\n            labelClass: \"k-radio-label\",\n            type: \"radio\",\n            size: \"medium\",\n            stylingOptions: [ \"size\"]\n        }\n    });\n\n    $.extend(kendo.html, {\n        renderCheckBox: renderCheckBox,\n        renderRadioButton: renderRadioButton,\n        HTMLInput: HTMLInput,\n        HTMLCheckBox: HTMLCheckBox,\n        HTMLRadioButton: HTMLRadioButton\n    });\n\n    kendo.cssProperties.registerPrefix(\"HTMLCheckBox\", \"k-checkbox-\");\n\n    kendo.cssProperties.registerValues(\"HTMLCheckBox\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    kendo.cssProperties.registerPrefix(\"HTMLRadioButton\", \"k-radio-\");\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.checkbox',[ \"kendo.toggleinputbase\", \"kendo.html.input\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"checkbox\",\n    name: \"CheckBox\",\n    category: \"web\",\n    description: \"The CheckBox widget is used to display boolean value input.\",\n    depends: [ \"toggleinputbase\", \"html.input\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        ToggleInputBase = ui.ToggleInputBase;\n\n    var CheckBox = ToggleInputBase.extend({\n        options: {\n            name: \"CheckBox\",\n            checked: null,\n            enabled: true,\n            encoded: true,\n            label: null,\n            rounded: \"medium\",\n            size: \"medium\"\n        },\n\n        RENDER_INPUT: kendo.html.renderCheckBox,\n        NS: \".kendoCheckBox\",\n\n        // alias for check, NG support\n        value: function(value) {\n            if (typeof value === \"string\") {\n                value = (value === \"true\");\n            }\n\n            return this.check.apply(this, [value]);\n        }\n    });\n\n    kendo.cssProperties.registerPrefix(\"CheckBox\", \"k-checkbox-\");\n\n    kendo.cssProperties.registerValues(\"CheckBox\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    ui.plugin(CheckBox);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.editable',[ \"kendo.checkbox\", \"kendo.dropdownlist\", \"kendo.datepicker\", \"kendo.numerictextbox\", \"kendo.validator\", \"kendo.binder\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"editable\",\n    name: \"Editable\",\n    category: \"framework\",\n    depends: [ \"checkbox\", \"dropdownlist\", \"datepicker\", \"numerictextbox\", \"validator\", \"binder\" ],\n    hidden: true\n};\n\n/* jshint eqnull: true */\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        extend = $.extend,\n        isFunction = kendo.isFunction,\n        isPlainObject = $.isPlainObject,\n        inArray = $.inArray,\n        POINT = \".\",\n        AUTOCOMPLETEVALUE = \"off\",\n        nameSpecialCharRegExp = /(\"|\\%|'|\\[|\\]|\\$|\\.|\\,|\\:|\\;|\\+|\\*|\\&|\\!|\\#|\\(|\\)|<|>|\\=|\\?|\\@|\\^|\\{|\\}|\\~|\\/|\\||`)/g,\n        ERRORTEMPLATE = '<div class=\"k-tooltip k-tooltip-error k-validator-tooltip\">' +\n            '<span class=\"k-tooltip-icon k-icon k-i-warning\"></span>' +\n            '<span class=\"k-tooltip-content\">#= message #</span>' +\n            '<span class=\"k-callout k-callout-n\"></span>' +\n        '</div>',\n        CHANGE = \"change\";\n    var EQUAL_SET = \"equalSet\";\n    var specialRules = [\"url\", \"email\", \"number\", \"date\", \"boolean\"];\n\n    function fieldType(field) {\n        field = field != null ? field : \"\";\n        return field.type || kendo.type(field) || \"string\";\n    }\n\n    function convertToValueBinding(container) {\n        container.find(\":input:not(:button, .k-combobox .k-input, .k-checkbox-list .k-checkbox, .k-radio-list .k-radio, [\" + kendo.attr(\"role\") + \"=listbox], [\" + kendo.attr(\"role\") + \"=upload], [\" + kendo.attr(\"skip\") + \"], [type=file])\").each(function() {\n            var bindAttr = kendo.attr(\"bind\"),\n                binding = this.getAttribute(bindAttr) || \"\",\n                bindingName = this.type === \"checkbox\" || this.type === \"radio\" ? \"checked:\" : \"value:\",\n                isAntiForgeryToken = this.getAttribute(\"name\") === Editable.antiForgeryTokenName,\n                fieldName = this.name;\n\n            if (binding.indexOf(bindingName) === -1 && fieldName && !isAntiForgeryToken) {\n                binding += (binding.length ? \",\" : \"\") + bindingName + fieldName;\n\n                $(this).attr(bindAttr, binding);\n            }\n        });\n    }\n\n    function createAttributes(options) {\n        var field = (options.model.fields || options.model)[options.field],\n            type = fieldType(field),\n            validation = field ? field.validation : {},\n            attributes = field ? field.attributes : {},\n            ruleName,\n            DATATYPE = kendo.attr(\"type\"),\n            BINDING = kendo.attr(\"bind\"),\n            rule,\n            attr = {\n                id: options.id || options.field,\n                name: options.field,\n                title: options.title ? options.title : options.field\n            };\n\n        for (ruleName in validation) {\n            rule = validation[ruleName];\n\n            if (inArray(ruleName, specialRules) >= 0) {\n                attr[DATATYPE] = ruleName;\n            } else if (!isFunction(rule)) {\n                var culture = kendo.getCulture();\n\n                if (typeof rule === \"number\" && culture.name.length) {\n                    var numberFormat = culture.numberFormat;\n                    var stringRule = rule.toString()\n                        .replace(POINT, numberFormat[POINT]);\n\n                    attr[ruleName] = stringRule;\n                } else {\n                    attr[ruleName] = isPlainObject(rule) ? rule.value || ruleName : rule;\n                }\n            }\n\n            attr[kendo.attr(ruleName + \"-msg\")] = rule.message;\n\n            attr.autocomplete = AUTOCOMPLETEVALUE;\n        }\n\n        for (var attributeName in attributes) {\n            attr[attributeName] = attributes[attributeName];\n        }\n\n        if (inArray(type, specialRules) >= 0) {\n            attr[DATATYPE] = type;\n        }\n\n        attr[BINDING] = (type === \"boolean\" ? \"checked:\" : \"value:\") + options.field;\n\n        return attr;\n    }\n\n    function addIdAttribute(container, attr) {\n        var id = container.attr(\"id\");\n\n        if (id) {\n            attr.id = id;\n            container.removeAttr(\"id\");\n        }\n\n        return attr;\n    }\n\n    function convertItems(items) {\n        var idx,\n            length,\n            item,\n            value,\n            text,\n            result;\n\n        if (items && items.length) {\n            result = [];\n            for (idx = 0, length = items.length; idx < length; idx++) {\n                item = items[idx];\n                text = item.text || item.value || item;\n                value = item.value == null ? (item.text || item) : item.value;\n\n                result[idx] = { text: text, value: value };\n            }\n        }\n        return result;\n    }\n\n    function getEditorTag(type, options) {\n        var tag;\n\n        if (!type.length) { return; }\n\n        if ((type === \"DropDownTree\" && options && options.checkboxes) || type === \"MultiSelect\") {\n            tag = \"<select />\";\n        } else if (type === \"RadioGroup\" || type === \"CheckBoxGroup\") {\n            tag = \"<ul />\";\n        } else {\n            tag = type === \"Editor\" || type === \"TextArea\" ? \"<textarea />\" : \"<input />\";\n        }\n\n        return tag;\n    }\n\n    var kendoEditors = [\n        \"AutoComplete\", \"CheckBox\", \"CheckBoxGroup\", \"ColorPicker\", \"ComboBox\", \"DateInput\",\n        \"DatePicker\", \"DateTimePicker\", \"DropDownTree\",\n        \"Editor\", \"MaskedTextBox\", \"MultiColumnComboBox\",\"MultiSelect\",\n        \"NumericTextBox\", \"RadioGroup\", \"Rating\", \"Slider\", \"Switch\", \"TimePicker\", \"DropDownList\",\n        \"TextBox\", \"TextArea\", \"Captcha\"\n    ];\n\n    var editors = {\n        \"hidden\": function (container, options) {\n            var attr = createAttributes(options);\n            $('<input type=\"hidden\"/>').attr(attr).appendTo(container);\n        },\n        \"number\": function(container, options) {\n            var attr = createAttributes(options);\n            $('<input type=\"text\"/>').attr(attr).appendTo(container).kendoNumericTextBox({ format: options.format });\n            $('<span ' + kendo.attr(\"for\") + '=\"' + options.field + '\" class=\"k-invalid-msg k-hidden\"/>').appendTo(container);\n        },\n        \"date\": function(container, options) {\n            var attr = createAttributes(options),\n                format = options.format;\n\n            if (format) {\n                format = kendo._extractFormat(format);\n            }\n\n            attr[kendo.attr(\"format\")] = format;\n\n            $('<input type=\"text\"/>').attr(attr).appendTo(container).kendoDatePicker({ format: options.format });\n            $('<span ' + kendo.attr(\"for\") + '=\"' + options.field + '\" class=\"k-invalid-msg k-hidden\"/>').appendTo(container);\n        },\n        \"string\": function(container, options) {\n            var attr = createAttributes(options);\n\n            $('<input type=\"text\"/>').attr(attr).appendTo(container).kendoTextBox();\n        },\n        \"boolean\": function(container, options) {\n            var attr = createAttributes(options);\n            var element = $('<input type=\"checkbox\" />').attr(attr).kendoCheckBox().appendTo(container);\n\n            renderHiddenForMvcCheckbox(element, container, options);\n        },\n        \"values\": function(container, options) {\n            var attr = createAttributes(options);\n            var items = kendo.stringify(convertItems(options.values));\n            $('<select ' + kendo.attr(\"text-field\") + '=\"text\"' + kendo.attr(\"value-field\") + '=\"value\"' +\n                kendo.attr(\"source\") + \"=\\'\" + (items ? items.replace(/\\'/g,\"&apos;\") : items) +\n                \"\\'\" + kendo.attr(\"role\") + '=\"dropdownlist\"/>') .attr(attr).appendTo(container);\n            $('<span ' + kendo.attr(\"for\") + '=\"' + options.field + '\" class=\"k-invalid-msg  k-hidden\"/>').appendTo(container);\n        },\n        \"kendoEditor\": function (container, options) {\n            var attr = createAttributes(options);\n            var type = options.editor;\n            var editor = \"kendo\" + type;\n            var editorOptions = options.editorOptions;\n            var tagElement = getEditorTag(type, editorOptions);\n\n            var element = $(tagElement)\n                .attr(attr)\n                .appendTo(container)\n                [editor](editorOptions);\n\n            renderHiddenForMvcCheckbox(element, container, options);\n        }\n    };\n\n    var mobileEditors = {\n        \"number\": function (container, options) {\n            var attr = createAttributes(options);\n            attr = addIdAttribute(container, attr);\n\n            $('<input type=\"number\"/>').attr(attr).appendTo(container);\n        },\n        \"date\": function (container, options) {\n            var attr = createAttributes(options);\n            attr = addIdAttribute(container, attr);\n\n            $('<input type=\"date\"/>').attr(attr).appendTo(container);\n        },\n        \"string\": function (container, options) {\n            var attr = createAttributes(options);\n            attr = addIdAttribute(container, attr);\n\n            $('<input type=\"text\" />').attr(attr).appendTo(container);\n        },\n        \"boolean\": function (container, options) {\n            var attr = createAttributes(options);\n            attr = addIdAttribute(container, attr);\n\n            $('<input type=\"checkbox\" />').attr(attr).appendTo(container);\n        },\n        \"values\": function (container, options) {\n            var attr = createAttributes(options);\n            var items = options.values;\n            var select = $('<select />');\n\n            attr = addIdAttribute(container, attr);\n\n            for (var index in items) {\n                $('<option value=\"' + items[index].value + '\">' + items[index].text + '</option>').appendTo(select);\n            }\n\n            select.attr(attr).appendTo(container);\n        }\n    };\n\n    function addValidationRules(modelField, rules) {\n        var validation = modelField ? (modelField.validation || {}) : {},\n            rule,\n            descriptor;\n\n        for (rule in validation) {\n            descriptor = validation[rule];\n\n            if (isPlainObject(descriptor) && descriptor.value) {\n                descriptor = descriptor.value;\n            }\n\n            if (isFunction(descriptor)) {\n                rules[rule] = descriptor;\n            }\n        }\n    }\n\n    function renderHiddenForMvcCheckbox(tag, container, field) {\n        var addHidden = field ? (field.shouldRenderHidden || false) : false;\n\n        if (addHidden) {\n            tag.val(true);\n            container.append($(\"<input type='hidden' name='\" + field.field +\"' value='false' data-skip='true' data-validate='false'/>\"));\n        }\n    }\n\n    var Editable = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            if (options.target) {\n                options.$angular = options.target.options.$angular;\n\n                if (options.target.pane) {\n                    that._isMobile = true;\n                }\n            }\n            Widget.fn.init.call(that, element, options);\n            that._validateProxy = that._validate.bind(that);\n            that.refresh();\n        },\n\n        events: [CHANGE],\n\n        options: {\n            name: \"Editable\",\n            editors: editors,\n            mobileEditors: mobileEditors,\n            clearContainer: true,\n            validateOnBlur: true,\n            validationSummary: false,\n            errorTemplate: ERRORTEMPLATE,\n            skipFocus: false\n        },\n\n        editor: function(field, modelField) {\n            var that = this,\n                editors = that._isMobile ? mobileEditors : that.options.editors,\n                isObject = isPlainObject(field),\n                fieldName = isObject ? field.field : field,\n                model = that.options.model || {},\n                isValuesEditor = isObject && field.values,\n                type = isValuesEditor ? \"values\" : fieldType(modelField),\n                isHidden = isObject && typeof field.editor === \"string\" && field.editor === \"hidden\",\n                isCustomEditor = isObject && !isHidden && field.editor,\n                isKendoEditor = isObject && $.inArray(field.editor, kendoEditors) !== -1,\n                editor = isCustomEditor ? field.editor : editors[isHidden ? \"hidden\" : type],\n                container = that.element.find(\"[\" + kendo.attr(\"container-for\") + \"=\" + fieldName.replace(nameSpecialCharRegExp, \"\\\\$1\")+ \"]\");\n\n            editor = editor ? editor : editors.string;\n\n            if (isKendoEditor) {\n                editor = editors.kendoEditor;\n            } else if (isCustomEditor && typeof field.editor === \"string\") {\n                editor = function(container) {\n                    container.append(field.editor);\n                };\n            }\n\n            container = container.length ? container : that.element;\n            editor(container, extend(true, {}, isObject ? field : { field: fieldName }, { model: model }));\n        },\n\n        _validate: function(e) {\n            var that = this,\n                input,\n                value = e.value,\n                preventChangeTrigger = that._validationEventInProgress,\n                values = {},\n                bindAttribute = kendo.attr(\"bind\"),\n                fieldName = e.field.replace(nameSpecialCharRegExp, \"\\\\$1\"),\n                bindingRegex = new RegExp(\"(value|checked)\\\\s*:\\\\s*\" + fieldName + \"\\\\s*(,|$)\");\n\n            values[e.field] = e.value;\n\n            input = $(':input[' + bindAttribute + '*=\"' + fieldName + '\"]', that.element)\n                .filter(\"[\" + kendo.attr(\"validate\") + \"!='false']\").filter(function() {\n                   return bindingRegex.test($(this).attr(bindAttribute));\n                });\n            if (input.length > 1) {\n                input = input.filter(function () {\n                    var element = $(this);\n                    return !element.is(\":radio\") || element.val() == value;\n                });\n            }\n\n            try {\n                that._validationEventInProgress = true;\n\n                if (!that.validatable.validateInput(input) || (!preventChangeTrigger && that.trigger(CHANGE, { values: values }))) {\n                    e.preventDefault();\n                }\n\n            } finally {\n                that._validationEventInProgress = false;\n            }\n        },\n\n        end: function() {\n            return this.validatable.validate();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.angular(\"cleanup\", function(){\n                return { elements: that.element };\n            });\n\n            Widget.fn.destroy.call(that);\n\n            that.options.model.unbind(\"set\", that._validateProxy);\n            that.options.model.unbind(EQUAL_SET, that._validateProxy);\n\n            kendo.unbind(that.element);\n\n            if (that.validatable) {\n                that.validatable.destroy();\n            }\n            kendo.destroy(that.element);\n\n            that.element.removeData(\"kendoValidator\");\n\n            if (that.element.is(\"[\" + kendo.attr(\"role\") + \"=editable]\")) {\n                that.element.removeAttr(kendo.attr(\"role\"));\n            }\n        },\n\n        refresh: function() {\n            var that = this,\n                idx,\n                length,\n                fields = that.options.fields || [],\n                container = that.options.clearContainer ? that.element.empty() : that.element,\n                model = that.options.model || {},\n                rules = {},\n                field,\n                isObject,\n                fieldName,\n                modelField,\n                modelFields;\n\n            if (!Array.isArray(fields)) {\n                fields = [fields];\n            }\n\n            for (idx = 0, length = fields.length; idx < length; idx++) {\n                 field = fields[idx];\n                 isObject = isPlainObject(field);\n                 fieldName = isObject ? field.field : field;\n                 modelField = (model.fields || model)[fieldName];\n\n                 addValidationRules(modelField, rules);\n\n                 that.editor(field, modelField);\n            }\n\n            if (that.options.target) {\n                that.angular(\"compile\", function(){\n                    return {\n                        elements: container,\n                        data: container.map(function() { return { dataItem: model }; })\n                    };\n                });\n            }\n\n            if (!length) {\n                modelFields = model.fields || model;\n                for (fieldName in modelFields) {\n                    addValidationRules(modelFields[fieldName], rules);\n               }\n            }\n\n            convertToValueBinding(container);\n\n            if (that.validatable) {\n                that.validatable.destroy();\n            }\n\n            kendo.bind(container, that.options.model);\n\n            if (that.options.validateOnBlur) {\n                that.options.model\n                    .unbind(\"set\", that._validateProxy)\n                    .bind(\"set\", that._validateProxy);\n\n                that.options.model\n                    .unbind(EQUAL_SET, that._validateProxy)\n                    .bind(EQUAL_SET, that._validateProxy);\n            }\n\n            that.validatable = new kendo.ui.Validator(container, {\n                validateOnBlur: that.options.validateOnBlur,\n                validationSummary: that.options.validationSummary,\n                errorTemplate: that.options.errorTemplate || undefined,\n                rules: rules });\n\n            if (!that.options.skipFocus) {\n                container.find(\":kendoFocusable\").eq(0).trigger(\"focus\");\n            }\n        }\n   });\n\n   Editable.antiForgeryTokenName = \"__RequestVerificationToken\";\n\n   ui.plugin(Editable);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.listview',[ \"kendo.data\", \"kendo.editable\", \"kendo.selectable\", \"kendo.pager\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"listview\",\n    name: \"ListView\",\n    category: \"web\",\n    description: \"The ListView widget offers rich support for interacting with data.\",\n    depends: [ \"data\" ],\n    features: [ {\n        id: \"listview-editing\",\n        name: \"Editing\",\n        description: \"Support for record editing\",\n        depends: [ \"editable\" ]\n    }, {\n        id: \"listview-selection\",\n        name: \"Selection\",\n        description: \"Support for selection\",\n        depends: [ \"selectable\" ]\n    }, {\n        id: \"listview-paging\",\n        name: \"Paging\",\n        description: \"Support for paging\",\n        depends: [ \"pager\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        CHANGE = \"change\",\n        KENDO_KEYDOWN = \"kendoKeydown\",\n        CANCEL = \"cancel\",\n        DATABOUND = \"dataBound\",\n        DATABINDING = \"dataBinding\",\n        Widget = kendo.ui.Widget,\n        keys = kendo.keys,\n        EMPTY_STRING = \"\",\n        DOT = \".\",\n        FOCUSSELECTOR = \"> *:not(.k-loading-mask)\",\n        PROGRESS = \"progress\",\n        ERROR = \"error\",\n        FOCUSED = \"k-state-focused\",\n        SELECTED = \"k-state-selected\",\n        KEDITITEM = \"k-edit-item\",\n        PAGER_CLASS = \"k-listview-pager\",\n        ITEM_CLASS = \"k-listview-item\",\n        ARIA_SETSIZE = \"aria-setsize\",\n        ARIA_POSINSET = \"aria-posinset\",\n        ARIA_ROLE = \"role\",\n        ARIA_LABEL = \"aria-label\",\n        ARIA_MULTISELECTABLE = \"aria-multiselectable\",\n        ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n        EDIT = \"edit\",\n        REMOVE = \"remove\",\n        SAVE = \"save\",\n        MOUSEDOWN = \"mousedown\",\n        CLICK = \"click\",\n        TOUCHSTART = \"touchstart\",\n        NS = \".kendoListView\",\n        activeElement = kendo._activeElement,\n        progress = kendo.ui.progress,\n        DataSource = kendo.data.DataSource;\n\n    var ListView = kendo.ui.DataBoundWidget.extend( {\n        init: function(element, options) {\n            var that = this;\n\n            options = Array.isArray(options) ? { dataSource: options } : options;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n\n            that.wrapper = element = that.element;\n\n            if (element[0].id) {\n                that._itemId = element[0].id + \"_lv_active\";\n            } else {\n                that._itemId = kendo.guid() + \"_lv_active\";\n            }\n\n            that._element();\n\n            that._layout();\n\n            that._dataSource();\n\n            that._setContentHeight();\n\n            that._templates();\n\n            that._navigatable();\n\n            that._selectable();\n\n            that._pageable();\n\n            that._crudHandlers();\n\n            that._scrollable();\n\n            if (that.options.autoBind){\n                that.dataSource.fetch();\n            }\n\n            kendo.notify(that);\n        },\n\n        events: [\n            CHANGE,\n            CANCEL,\n            DATABINDING,\n            DATABOUND,\n            EDIT,\n            REMOVE,\n            SAVE,\n            KENDO_KEYDOWN\n        ],\n\n        options: {\n            name: \"ListView\",\n            autoBind: true,\n            selectable: false,\n            navigatable: false,\n            pageable: false,\n            height: null,\n            template: EMPTY_STRING,\n            altTemplate: EMPTY_STRING,\n            editTemplate: EMPTY_STRING,\n            contentTemplate: \"<div data-content='true' />\",\n            contentElement: \"div\",\n            bordered: true,\n            borders: \"\",\n            layout: \"\",\n            flex: {\n                direction: \"row\",\n                wrap: \"nowrap\"\n            },\n            grid: {},\n            scrollable: false\n        },\n\n        setOptions: function(options) {\n            Widget.fn.setOptions.call(this, options);\n\n            this._layout();\n\n            this._templates();\n\n            if (this.selectable) {\n                this.selectable.destroy();\n                this.selectable = null;\n            }\n\n            this._selectable();\n        },\n\n        _templates: function() {\n            var options = this.options;\n\n            this.template = kendo.template(options.template || EMPTY_STRING);\n            this.altTemplate = kendo.template(options.altTemplate || options.template);\n            this.editTemplate = kendo.template(options.editTemplate || EMPTY_STRING);\n        },\n\n        _item: function(action) {\n            return this.content.children()[action]();\n        },\n\n        items: function() {\n            return this.content.children(\":not(.k-loading-mask)\");\n        },\n\n        dataItem: function(element) {\n            var attr = kendo.attr(\"uid\");\n            var uid = $(element).closest(\"[\" + attr + \"]\").attr(attr);\n\n            return this.dataSource.getByUid(uid);\n        },\n\n        setDataSource: function(dataSource) {\n            this.options.dataSource = dataSource;\n            this._dataSource();\n\n            if (this.options.autoBind) {\n                dataSource.fetch();\n            }\n\n            if (this.options.scrollable === \"endless\") {\n                this._bindScrollable();\n            }\n        },\n\n        _unbindDataSource: function() {\n            var that = this;\n\n            that.dataSource.unbind(CHANGE, that._refreshHandler)\n                            .unbind(PROGRESS, that._progressHandler)\n                            .unbind(ERROR, that._errorHandler);\n        },\n\n        _dataSource: function() {\n            var that = this,\n                pageable = that.options.pageable,\n                dataSource = that.options.dataSource;\n\n            if ($.isPlainObject(pageable) && pageable.pageSize !== undefined) {\n                dataSource.pageSize = pageable.pageSize;\n            }\n\n            if (that.dataSource && that._refreshHandler) {\n                that._unbindDataSource();\n            } else {\n                that._refreshHandler = that.refresh.bind(that);\n                that._progressHandler = that._progress.bind(that);\n                that._errorHandler = that._error.bind(that);\n            }\n\n            that.dataSource = DataSource.create(dataSource)\n                                .bind(CHANGE, that._refreshHandler)\n                                .bind(PROGRESS, that._progressHandler)\n                                .bind(ERROR, that._errorHandler);\n        },\n\n        _progress: function(toggle) {\n            var element = this.content;\n            progress(element, toggle, { opacity: true});\n        },\n\n        _error: function() {\n            progress(this.content, false);\n        },\n\n        _element: function() {\n            var options = this.options;\n            var height = options.height;\n\n            this.element.addClass(\"k-widget k-listview\");\n\n\n            if (options.contentElement) {\n                this.content = $(document.createElement(options.contentElement)).appendTo(this.element);\n            } else {\n                this.content = this.element;\n            }\n\n            if (height) {\n                this.element.css(\"height\", height);\n            }\n        },\n\n        _layout: function() {\n            var that = this;\n            var options = that.options;\n            var flex = options.flex;\n            var grid = options.grid;\n            var element = that.element;\n            var elementClassNames = [\"k-widget\", \"k-listview\"];\n            var content = that.content;\n            var contentClassNames = [\"k-listview-content\"];\n\n            element.add(content).removeClass(function (index, className) {\n                if (className.indexOf(\"k-\") >= 0) {\n                    return true;\n                }\n            });\n\n            // Element class names\n            if (options.bordered === true) {\n                elementClassNames.push(\"k-listview-bordered\");\n            }\n\n            if (typeof options.borders === \"string\" && options.borders !== EMPTY_STRING) {\n                elementClassNames.push(\"k-listview-borders-\" + options.borders);\n            }\n\n\n            // Content class names\n            if (typeof options.contentPadding === \"string\" && options.contentPadding !== EMPTY_STRING) {\n                contentClassNames.push(\"k-listview-content-padding-\" + options.contentPadding);\n            }\n\n            if (typeof options.layout === \"string\" && options.layout !== EMPTY_STRING) {\n                contentClassNames.push(\"k-d-\" + options.layout);\n            }\n\n            if (options.layout === \"flex\" && typeof flex === \"object\") {\n                if (typeof flex.direction === \"string\" && flex.direction !== \"\") {\n                    contentClassNames.push(\"k-flex-\" + flex.direction);\n                }\n\n                if (typeof flex.wrap === \"string\" && flex.wrap !== \"\") {\n                    contentClassNames.push(\"k-flex-\" + flex.wrap);\n                }\n            }\n\n            if (options.layout === \"grid\" && typeof grid === \"object\") {\n                if (typeof grid.cols === \"number\") {\n                    content.css(\"grid-template-columns\", \"repeat(\" + grid.cols + \", 1fr)\");\n                } else if (typeof grid.cols === \"string\") {\n                    content.css(\"grid-template-columns\", grid.cols);\n                }\n\n                if (typeof grid.rows === \"number\") {\n                    content.css(\"grid-template-rows\", \"repeat(\" + grid.rows + \", \" + (grid.rowHeight !== undefined ? grid.rowHeight : \"1fr\") + \")\");\n                } else if (typeof grid.rows === \"string\") {\n                    content.css(\"grid-template-rows\", grid.rows);\n                }\n\n                if (typeof grid.gutter === \"number\") {\n                    content.css(\"grid-gap\", grid.gutter);\n                } else if (typeof grid.gutter === \"string\") {\n                    content.css(\"grid-gap\", grid.gutter);\n                }\n            }\n\n            that.element.addClass(elementClassNames.join(\" \"));\n            that.content.addClass(contentClassNames.join(\" \"));\n\n        },\n\n        _setContentHeight: function() {\n            var that = this,\n                options = that.options,\n                height;\n\n            if (options.scrollable && that.wrapper.is(\":visible\")) {\n\n                height = that.wrapper.innerHeight();\n                that.content.height(height);\n            }\n        },\n\n        refresh: function(e) {\n            var that = this,\n                view = that.dataSource.view(),\n                data,\n                items,\n                item,\n                html = \"\",\n                idx,\n                length,\n                template = that.template,\n                altTemplate = that.altTemplate,\n                options = that.options,\n                role = (options.selectable || options.navigatable) ? \"option\" : \"listitem\",\n                active = activeElement(),\n                endlessAppend =  that._endlessFetchInProgress,\n                index = endlessAppend ? that._skipRerenderItemsCount : 0,\n                scrollable = that.options.scrollable;\n\n            e = e || {};\n\n            if (e.action === \"itemchange\") {\n                if (!that._hasBindingTarget() && !that.editable) {\n                    data = e.items[0];\n                    item = that.items().filter(\"[\" + kendo.attr(\"uid\") + \"=\" + data.uid + \"]\");\n\n                    if (item.length > 0) {\n                        idx = item.index();\n\n                        that.angular(\"cleanup\", function() {\n                            return { elements: [ item ]};\n                        });\n\n                        item.replaceWith(template(data));\n                        item = that.items().eq(idx);\n                        item.attr(kendo.attr(\"uid\"), data.uid);\n\n                        that.angular(\"compile\", function() {\n                            return { elements: [ item ], data: [ { dataItem: data } ]};\n                        });\n\n                        that.trigger(\"itemChange\", {\n                            item: item,\n                            data: data\n                        });\n                    }\n                }\n\n                return;\n            }\n\n            if (that.trigger(DATABINDING, { action: e.action || \"rebind\", items: e.items, index: e.index })) {\n                return;\n            }\n\n            that._angularItems(\"cleanup\");\n\n            if (!endlessAppend) {\n                that._destroyEditable();\n            }\n\n            for (idx = index, length = view.length; idx < length; idx++) {\n                if (idx % 2) {\n                    html += altTemplate(view[idx]);\n                } else {\n                    html += template(view[idx]);\n                }\n            }\n\n            if (endlessAppend) {\n                that.content.append(html);\n            } else {\n                that.content.html(html);\n            }\n\n            items = that.items().not(\".k-loading-mask\");\n\n            that._ariaAttributes(view.length);\n\n            for (idx = index, length = view.length; idx < length; idx++) {\n                item = items.eq(idx);\n\n                item.addClass(ITEM_CLASS);\n\n                item.attr(kendo.attr(\"uid\"), view[idx].uid)\n                    .attr(ARIA_ROLE, role);\n\n                if (that.options.selectable) {\n                    item.attr(\"aria-selected\", \"false\");\n                }\n\n                if (that.options.pageable) {\n                    item.attr(ARIA_SETSIZE, that.dataSource.total());\n                    item.attr(ARIA_POSINSET, that.dataSource.indexOf(that.dataItem(item)) + 1);\n                }\n            }\n\n            if (that.content[0] === active && that.options.navigatable) {\n                if (that._focusNext) {\n                    that.current(that.current().next());\n                } else {\n                    if (!scrollable) {\n                        that.current(items.eq(0));\n                    }\n                }\n            }\n\n            if (that.element.attr(ARIA_ACTIVEDESCENDANT) &&\n                that.element.find(\"#\" + that.element.attr(ARIA_ACTIVEDESCENDANT)).length === 0) {\n                    that.element.removeAttr(ARIA_ACTIVEDESCENDANT);\n            }\n\n            that._setContentHeight();\n            that._angularItems(\"compile\");\n\n            that._progress(false);\n            that._endlessFetchInProgress = null;\n\n            that.trigger(DATABOUND, { action: e.action || \"rebind\", items: e.items, index: e.index });\n        },\n\n        _ariaAttributes: function(length) {\n            var el = this.element,\n                options = this.options,\n                selectable = options.selectable;\n\n            if (length === 0) {\n                el.removeAttr(ARIA_ROLE);\n                el.removeAttr(ARIA_MULTISELECTABLE);\n\n                if (el.attr(ARIA_LABEL)) {\n                    this._ariaLabelValue = el.attr(ARIA_LABEL);\n                    el.removeAttr(ARIA_LABEL);\n                }\n            } else {\n                el.attr(ARIA_ROLE, (selectable || options.navigatable) ? \"listbox\" : \"list\");\n\n                if (selectable && kendo.ui.Selectable.parseOptions(selectable).multiple) {\n                    el.attr(ARIA_MULTISELECTABLE, true);\n                }\n\n                if (this._ariaLabelValue) {\n                    el.attr(ARIA_LABEL, this._ariaLabelValue);\n                }\n            }\n        },\n\n        _pageable: function() {\n            var that = this,\n                pageable = that.options.pageable,\n                navigatable = that.options.navigatable,\n                pagerWrap,\n                settings;\n\n            if (!pageable) {\n                return;\n            }\n\n            pagerWrap = that.wrapper.find(DOT + PAGER_CLASS);\n\n            if (!pagerWrap.length) {\n                pagerWrap = $('<div />').addClass(PAGER_CLASS);\n            }\n\n            if (pageable.position === \"top\") {\n                pagerWrap\n                    .addClass(kendo.format(\"{0}-{1}\", PAGER_CLASS, pageable.position))\n                    .prependTo(that.wrapper);\n            } else {\n                pagerWrap.appendTo(that.wrapper);\n            }\n\n            if (that.pager) {\n                that.pager.destroy();\n            }\n\n            if (typeof pageable === \"object\" && pageable instanceof kendo.ui.Pager) {\n                that.pager = pageable;\n            } else {\n                pagerWrap = pageable.pagerId ? $(\"#\" + pageable.pagerId) : pagerWrap;\n\n                settings = $.extend({}, pageable, {\n                    dataSource: that.dataSource,\n                    navigatable: navigatable,\n                    pagerId: null\n                });\n\n                that.pager = new kendo.ui.Pager(pagerWrap, settings);\n            }\n        },\n\n        _selectable: function() {\n            var that = this,\n                multi,\n                current,\n                selectable = that.options.selectable,\n                navigatable = that.options.navigatable;\n\n            if (selectable) {\n                multi = kendo.ui.Selectable.parseOptions(selectable).multiple;\n\n                that.selectable = new kendo.ui.Selectable(that.element, {\n                    aria: true,\n                    multiple: multi,\n                    filter: that.options.contentElement ? \".k-listview-content \" + FOCUSSELECTOR : FOCUSSELECTOR,\n                    change: function() {\n                        that.trigger(CHANGE);\n                    }\n                });\n\n                if (navigatable) {\n                    that.element.on(\"keydown\" + NS, function(e) {\n\n                        if (!$(e.target).is(that.element)) { return; }\n\n                        if (e.keyCode === keys.SPACEBAR) {\n                            current = that.current();\n\n                            if (e.target == e.currentTarget) {\n                                e.preventDefault();\n                            }\n\n                            if (multi) {\n                                if (!e.ctrlKey) {\n                                    that.selectable.clear();\n                                } else {\n                                    if (current && current.hasClass(SELECTED)) {\n                                        current.removeClass(SELECTED);\n                                        that.trigger(CHANGE);\n                                        return;\n                                    }\n                                }\n                            } else {\n                                that.selectable.clear();\n                            }\n\n                            that.selectable.value(current);\n                        }\n                    });\n                }\n            }\n        },\n\n        _scrollable: function() {\n            var that = this;\n            var scrollable = that.options.scrollable;\n\n            if (scrollable) {\n\n                that.content.css({\n                    \"overflow-y\": \"scroll\",\n                    \"position\": \"relative\",\n                    \"-webkit-overflow-scrolling\": \"touch\"\n                });\n\n                if (scrollable === \"endless\") {\n                    that._bindScrollable();\n                }\n            }\n        },\n\n        _bindScrollable: function (){\n            var that = this;\n            var originalPageSize = that._endlessPageSize = that.dataSource.options.pageSize;\n\n            that.content\n                .off(\"scroll\" + NS)\n                .on(\"scroll\" + NS, function () {\n                    if (this.scrollTop + this.clientHeight - this.scrollHeight >= -15 &&\n                    !that._endlessFetchInProgress &&\n                    that._endlessPageSize < that.dataSource.total()) {\n                        that._skipRerenderItemsCount =  that._endlessPageSize;\n                        that._endlessPageSize = that._skipRerenderItemsCount  + originalPageSize;\n                        that.dataSource.options.endless = true;\n                        that._endlessFetchInProgress = true;\n                        that.dataSource.pageSize(that._endlessPageSize);\n                    }\n                });\n        },\n\n        current: function(candidate) {\n            var that = this,\n                element = that.element,\n                current = that._current,\n                id = that._itemId;\n\n            if (candidate === undefined) {\n                return current;\n            }\n\n            if (current && current[0]) {\n                if (current[0].id === id) {\n                    current.removeAttr(\"id\");\n                }\n\n                current.removeClass(FOCUSED);\n                element.removeAttr(ARIA_ACTIVEDESCENDANT);\n            }\n\n            if (candidate && candidate[0]) {\n                id = candidate[0].id || id;\n\n                that._scrollTo(candidate[0]);\n\n                element.attr(ARIA_ACTIVEDESCENDANT, id);\n                candidate.addClass(FOCUSED).attr(\"id\", id);\n            }\n\n            that._current = candidate;\n        },\n\n        _scrollTo: function(element) {\n            var that = this,\n                content = that.content,\n                container,\n                UseJQueryoffset = false,\n                SCROLL = \"scroll\";\n\n            if (content.css(\"overflow\") === \"auto\" || content.css(\"overflow\") === SCROLL || content.css(\"overflow-y\") === SCROLL) {\n                container = content[0];\n            } else {\n                container = window;\n                UseJQueryoffset = true;\n            }\n\n            var scrollDirectionFunc = function(direction, dimension) {\n\n                var elementOffset = UseJQueryoffset ? $(element).offset()[direction.toLowerCase()] : element[\"offset\" + direction],\n                    elementDimension = element[\"client\" + dimension],\n                    containerScrollAmount = $(container)[SCROLL + direction](),\n                    containerDimension = $(container)[dimension.toLowerCase()]();\n\n                if (elementOffset + elementDimension > containerScrollAmount + containerDimension) {\n                    $(container)[SCROLL + direction](elementOffset + elementDimension - containerDimension);\n                } else if (elementOffset < containerScrollAmount) {\n                    $(container)[SCROLL + direction](elementOffset);\n                }\n            };\n\n            scrollDirectionFunc(\"Top\", \"Height\");\n            scrollDirectionFunc(\"Left\", \"Width\");\n        },\n\n        _navigatable: function() {\n            var that = this,\n                navigatable = that.options.navigatable,\n                element = that.element,\n                content = that.content,\n                clickCallback = function(e) {\n                    that.current($(e.currentTarget));\n                    if (!$(e.target).is(\":button, a, :input, a > .k-icon, textarea\")) {\n                        kendo.focusElement(element);\n                    }\n                };\n\n            if (navigatable) {\n                that._tabindex();\n\n                element\n                    .on(\"focus\" + NS, function() {\n                        var current = that._current;\n\n                        if (!current || !current.is(\":visible\")) {\n                            current = that._item(\"first\");\n                        }\n\n                        that.current(current);\n                    })\n                    .on(\"focusout\" + NS, function() {\n                        if (that._current) {\n                            that._current.removeClass(FOCUSED);\n                        }\n                    })\n                    .on(\"keydown\" + NS, that, function(e) {\n                        var key = e.keyCode,\n                            current = that.current(),\n                            target = $(e.target),\n                            canHandle = !target.is(\":button, textarea, a, a > .t-icon, input\"),\n                            isTextBox = target.is(\":text, :password\"),\n                            preventDefault = kendo.preventDefault,\n                            editItem = content.find(\".\" + KEDITITEM),\n                            active = activeElement(), idx,\n                            scrollable = that.options.scrollable;\n\n                        if (target.hasClass(PAGER_CLASS) || (!canHandle && !isTextBox && key !== keys.ESC) || (isTextBox && key !== keys.ESC && key !== keys.ENTER)) {\n                            return;\n                        }\n\n                        if (key === keys.UP || key === keys.LEFT) {\n                            if (current && current[0]) {\n                                current = current.prev();\n                            }\n\n                            if (current && current[0]) {\n                                that.current(current);\n                            }\n                            else if (!scrollable) {\n                                that.current(that._item(\"last\"));\n                            }\n                            preventDefault(e);\n                        }\n\n                        if (key === keys.DOWN || key === keys.RIGHT) {\n                            if (scrollable) {\n                                if (that.options.scrollable === \"endless\" && !current.next().length) {\n                                    that.content[0].scrollTop = that.content[0].scrollHeight;\n                                    that._focusNext = true;\n                                } else {\n                                    current = current.next();\n\n                                    if (current && current[0]) {\n                                        that.current(current);\n                                    }\n                                }\n                            }\n                            else {\n                                current = current.next();\n                                that.current(!current || !current[0] ? that._item(\"first\") : current);\n                            }\n                            preventDefault(e);\n                        }\n\n                        if (key === keys.PAGEUP) {\n                            that.current(null);\n                            that.dataSource.page(that.dataSource.page() - 1);\n                            preventDefault(e);\n                        }\n\n                        if (key === keys.PAGEDOWN) {\n                            that.current(null);\n                            that.dataSource.page(that.dataSource.page() + 1);\n                            preventDefault(e);\n                        }\n\n                        if (key === keys.HOME) {\n                            that.current(that._item(\"first\"));\n                            preventDefault(e);\n                        }\n\n                        if (key === keys.END) {\n                            that.current(that._item(\"last\"));\n                            preventDefault(e);\n                        }\n\n                        if (key === keys.ENTER) {\n                            if (editItem.length !== 0 && (canHandle || isTextBox)) {\n                                idx = that.items().index(editItem);\n\n                                if (active) {\n                                    active.blur();\n                                }\n\n                                that.save();\n\n                                var focusAgain = function(){\n                                    that.element.trigger(\"focus\");\n                                    that.current(that.items().eq(idx));\n                                };\n\n                                that.one(\"dataBound\", focusAgain);\n                            } else if (that.options.editTemplate !== \"\") {\n                                that.edit(current);\n                            }\n                        }\n\n                        if (key === keys.ESC) {\n                            editItem = content.find(\".\" + KEDITITEM);\n\n                            if (editItem.length === 0) {\n                                return;\n                            }\n\n                            idx = that.items().index(editItem);\n                            that.cancel();\n                            that.element.trigger(\"focus\");\n                            that.current(that.items().eq(idx));\n                        }\n                    });\n\n                element.on(MOUSEDOWN + NS + \" \" + TOUCHSTART + NS, that.options.contentElement ? \".k-listview-content \" + FOCUSSELECTOR : FOCUSSELECTOR, clickCallback.bind(that));\n            }\n        },\n\n        clearSelection: function() {\n            var that = this;\n            that.selectable.clear();\n            that.trigger(CHANGE);\n        },\n\n        select: function(items) {\n            var that = this,\n                selectable = that.selectable;\n\n            items = $(items);\n\n            if (items.length) {\n                if (!selectable.options.multiple) {\n                    selectable.clear();\n                    items = items.first();\n                }\n                selectable.value(items);\n                return;\n            }\n\n            return selectable.value();\n        },\n\n        _destroyEditable: function() {\n            var that = this;\n            if (that.editable) {\n                that.editable.destroy();\n                delete that.editable;\n            }\n        },\n\n        _modelFromElement: function(element) {\n            var uid = element.attr(kendo.attr(\"uid\"));\n\n            return this.dataSource.getByUid(uid);\n        },\n\n        _closeEditable: function() {\n            var that = this,\n                editable = that.editable,\n                options = that.options,\n                role = (options.selectable || options.navigatable) ? \"option\" : \"listitem\",\n                data,\n                item,\n                index,\n                template = that.template;\n\n            if (editable) {\n                if (editable.element.index() % 2) {\n                    template = that.altTemplate;\n                }\n\n                that.angular(\"cleanup\", function() {\n                    return { elements: [ editable.element ]};\n                });\n\n                data = that._modelFromElement(editable.element);\n                that._destroyEditable();\n\n                index = editable.element.index();\n                editable.element.replaceWith(template(data));\n                item = that.items().eq(index);\n                item.addClass(ITEM_CLASS);\n                item.attr(kendo.attr(\"uid\"), data.uid);\n                item.attr(ARIA_ROLE, role);\n\n                if (that._hasBindingTarget()) {\n                    kendo.bind(item, data);\n                }\n\n                that.angular(\"compile\", function() {\n                    return { elements: [ item ], data: [ { dataItem: data } ]};\n                });\n            }\n            return true;\n        },\n\n        edit: function(item) {\n            var that = this,\n                data = that._modelFromElement(item),\n                container,\n                uid = data.uid,\n                index;\n\n            that.cancel();\n\n            item = that.items().filter(\"[\" + kendo.attr(\"uid\") + \"=\" + uid + \"]\");\n            index = item.index();\n            item.replaceWith(that.editTemplate(data));\n            container = that.items().eq(index).addClass(KEDITITEM).attr(kendo.attr(\"uid\"), data.uid);\n            that.editable = container.kendoEditable({\n                model: data,\n                clearContainer: false,\n                errorTemplate: false,\n                target: that\n            }).data(\"kendoEditable\");\n\n            that.trigger(EDIT, { model: data, item: container });\n        },\n\n        save: function() {\n            var that = this,\n                editable = that.editable,\n                model;\n\n            if (!editable) {\n                return;\n            }\n\n            var container = editable.element;\n            model = that._modelFromElement(container);\n\n            if (editable.end() && !that.trigger(SAVE, { model: model, item: container }))  {\n                that._closeEditable();\n                that.dataSource.sync();\n            }\n        },\n\n        remove: function(item) {\n            var that = this,\n                dataSource = that.dataSource,\n                data = that._modelFromElement(item);\n\n            if (that.editable) {\n                dataSource.cancelChanges(that._modelFromElement(that.editable.element));\n                that._closeEditable();\n            }\n\n            if (!that.trigger(REMOVE, { model: data, item: item })) {\n                if (item.attr(\"id\") === that.element.attr(ARIA_ACTIVEDESCENDANT)) {\n                    that.element.removeAttr(ARIA_ACTIVEDESCENDANT);\n                }\n\n                item.hide();\n                dataSource.remove(data);\n                dataSource.sync();\n            }\n        },\n\n        add: function() {\n            var that = this,\n                dataItem,\n                dataSource = that.dataSource,\n                index = dataSource.indexOf((dataSource.view() || [])[0]);\n\n            if (index < 0) {\n                index = 0;\n            }\n\n            that.cancel();\n            dataItem = dataSource.insert(index, {});\n            that.edit(that.element.find(\"[data-uid='\" + dataItem.uid + \"']\"));\n        },\n\n        cancel: function() {\n            var that = this,\n                dataSource = that.dataSource;\n\n            if (that.editable) {\n                var container = that.editable.element;\n                var model = that._modelFromElement(container);\n\n                if (!that.trigger(CANCEL, { model: model, container: container})) {\n                    dataSource.cancelChanges(model);\n                    that._closeEditable();\n                }\n            }\n        },\n\n        _crudHandlers: function() {\n            var that = this,\n                touchstartNs = TOUCHSTART + NS,\n                clickNs = CLICK + NS;\n\n            that.content.on(touchstartNs + \" \" + clickNs, \".k-edit-button\", function(e) {\n                e.preventDefault();\n                var item = $(this).closest(\"[\" + kendo.attr(\"uid\") + \"]\");\n                setTimeout(function() {\n                    that.edit(item);\n                });\n            });\n\n\n            that.content.on(touchstartNs + \" \" + clickNs, \".k-delete-button\", function(e) {\n                e.preventDefault();\n                var item = $(this).closest(\"[\" + kendo.attr(\"uid\") + \"]\");\n                 setTimeout(function() {\n                    that.remove(item);\n                 });\n            });\n\n            that.content.on(clickNs, \".k-update-button\", function(e) {\n                that.save();\n                e.preventDefault();\n            });\n\n            that.content.on(clickNs, \".k-cancel-button\", function(e) {\n                that.cancel();\n                e.preventDefault();\n            });\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that._unbindDataSource();\n\n            that._destroyEditable();\n\n            that.element.off(NS);\n            that.content.off(NS);\n\n            that._endlessFetchInProgress = that._endlessPageSize = that._skipRerenderItemsCount = that._focusNext = null;\n\n            if (that.pager) {\n                that.pager.destroy();\n            }\n\n            kendo.destroy(that.element);\n        }\n    });\n\n    kendo.ui.plugin(ListView);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n/* jshint eqnull: true */\n(function(f, define) {\n    define('kendo.listbox',[ \"kendo.draganddrop\", \"kendo.data\", \"kendo.selectable\" ], f);\n})(function() {\n\nvar __meta__ = { // jshint ignore:line\n    id: \"listbox\",\n    name: \"ListBox\",\n    category: \"web\",\n    depends: [\"draganddrop\", \"data\", \"selectable\"]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo;\n    var kendoAttr = kendo.attr;\n    var data = kendo.data;\n    var keys = kendo.keys;\n    var kendoTemplate = kendo.template;\n    var Widget = kendo.ui.Widget;\n    var DataSource = data.DataSource;\n    var Selectable = kendo.ui.Selectable;\n    var DataBoundWidget = kendo.ui.DataBoundWidget;\n    var Class = kendo.Class;\n\n    var extend = $.extend;\n    var noop = $.noop;\n\n    var DASH = \"-\";\n    var DOT = \".\";\n    var SPACE = \" \";\n    var HASH = \"#\";\n\n    var KENDO_LISTBOX = \"kendoListBox\";\n    var NS = DOT + KENDO_LISTBOX;\n    var DISABLED_STATE_CLASS = \"k-disabled\";\n    var SELECTED_STATE_CLASS = \"k-selected\";\n    var ENABLED_ITEM_SELECTOR = \".k-list-item:not(.k-disabled)\";\n    var ENABLED_ITEMS_SELECTOR = \".k-list-ul:not(.k-disabled) >\" + ENABLED_ITEM_SELECTOR;\n    var TOOLBAR_CLASS = \"k-listbox-toolbar\";\n    var TOOL_SELECTOR = \"li > a.k-button:not(.k-disabled)\";\n    var FOCUSED_CLASS = \"k-focus\";\n    var DRAG_CLUE_CLASS = \"k-drag-clue\";\n    var DROP_HINT_CLASS = \"k-drop-hint\";\n    var LIST_CLASS = \"k-list-ul\";\n    var LIST_SELECTOR = \".k-list-ul\";\n\n    var CLICK = \"click\" + NS;\n    var KEYDOWN = \"keydown\" + NS;\n    var BLUR = \"blur\" + NS;\n    var outerWidth = kendo._outerWidth;\n    var outerHeight = kendo._outerHeight;\n    var CHANGE = \"change\";\n    var DATABOUND = \"dataBound\";\n    var ADD = \"add\";\n    var REMOVE = \"remove\";\n    var REORDER = \"reorder\";\n    var MOVE_UP = \"moveUp\";\n    var MOVE_DOWN = \"moveDown\";\n    var TRANSFER_TO = \"transferTo\";\n    var TRANSFER_FROM = \"transferFrom\";\n    var TRANSFER_ALL_TO = \"transferAllTo\";\n    var TRANSFER_ALL_FROM = \"transferAllFrom\";\n    var DRAGGEDCLASS = \"k-ghost\";\n    var UNIQUE_ID = \"uid\";\n    var ID = \"id\";\n    var TABINDEX = \"tabindex\";\n    var COMMAND = \"command\";\n\n    var MOVE_UP_OFFSET = -1;\n    var MOVE_DOWN_OFFSET = 1;\n    var DRAGSTART = \"dragstart\";\n    var DRAG = \"drag\";\n    var DROP = \"drop\";\n    var DRAGEND = \"dragend\";\n    var DEFAULT_FILTER = \"ul.k-list-ul>li.k-list-item\";\n\n    var RIGHT = \"right\";\n    var BOTTOM = \"bottom\";\n\n    var TOOLBAR_POSITION_CLASS_NAMES = [\n        TOOLBAR_CLASS + DASH + \"left\",\n        TOOLBAR_CLASS + DASH + RIGHT,\n        TOOLBAR_CLASS + DASH + \"top\",\n        TOOLBAR_CLASS + DASH + BOTTOM\n    ];\n\n    function getSortedDomIndices(items) {\n        var indices = $.map(items, function(item) {\n            return $(item).index();\n        });\n\n        return indices;\n    }\n\n    function isUndefined(value) {\n        return (typeof value === \"undefined\");\n    }\n\n    function defaultHint(element) {\n        return element.clone()\n            .attr('class', '')\n            .addClass(DRAG_CLUE_CLASS);\n    }\n\n    function defaultPlaceholder() {\n        return $('<li>').addClass(DROP_HINT_CLASS);\n    }\n\n    var ListBox = DataBoundWidget.extend({\n        init: function(element, options) {\n            var that = this;\n            Widget.fn.init.call(that, element, options);\n\n            that._wrapper();\n            that._list();\n            that._ariaLabel(that._getList());\n            element = that.element.attr(\"multiple\", \"multiple\").hide();\n\n            if (element[0] && !that.options.dataSource) {\n                that.options.dataTextField = that.options.dataTextField || \"text\";\n                that.options.dataValueField = that.options.dataValueField || \"value\";\n            }\n            that._templates();\n            that._selectable();\n            that._dataSource();\n            that._createToolbar();\n            that._createDraggable();\n            that._createNavigatable();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            DataBoundWidget.fn.destroy.call(that);\n            if (!isNaN(that._listTabIndex)) {\n                that._getList().off();\n                that._listTabIndex = null;\n            }\n            that._unbindDataSource();\n            that._destroySelectable();\n            that._destroyToolbar();\n            that.wrapper.off(NS);\n            if (that._target) {\n                that._target = null;\n            }\n            if (that._draggable) {\n                that._draggable.destroy();\n                that.placeholder = null;\n            }\n\n            kendo.destroy(that.element);\n        },\n\n        setOptions: function(options) {\n            Widget.fn.setOptions.call(this, options);\n            this._templates();\n            this._dataSource();\n        },\n\n        events: [\n            CHANGE,\n            DATABOUND,\n            ADD,\n            REMOVE,\n            REORDER,\n            DRAGSTART,\n            DRAG,\n            DROP,\n            DRAGEND\n        ],\n\n        options: {\n            name: \"ListBox\",\n            autoBind: true,\n            template: \"\",\n            dataTextField: \"\",\n            dataValueField: \"\",\n            selectable: \"single\",\n            draggable: null,\n            dropSources: [],\n            connectWith: \"\",\n            navigatable: true,\n            toolbar: {\n                position: RIGHT,\n                tools: []\n            },\n            messages: {\n                tools: {\n                    remove: \"Delete\",\n                    moveUp: \"Move Up\",\n                    moveDown: \"Move Down\",\n                    transferTo: \"Transfer To\",\n                    transferFrom: \"Transfer From\",\n                    transferAllTo: \"Transfer All To\",\n                    transferAllFrom: \"Transfer All From\"\n                }\n            }\n        },\n\n        add: function(dataItems) {\n            var that = this;\n            var items = dataItems && dataItems.length ? dataItems : [dataItems];\n            var itemsLength = items.length;\n            var list = that._getList();\n            var i;\n\n            that._unbindDataSource();\n            that._unbindDataChange();\n            for (i = 0; i < itemsLength; i++) {\n                that._addItem(items[i], list);\n            }\n            that._bindDataChange();\n            that._bindDataSource();\n            that._syncElement();\n        },\n\n        _addItem: function(dataItem, list) {\n            var that = this;\n            var item = $(that.templates.itemTemplate({ item: dataItem, r: that.templates.itemContent }));\n\n            that._setItemId(item, dataItem.uid);\n\n            item.appendTo(list);\n\n            if (typeof dataItem === typeof \"\") {\n                that.dataSource._data.push(dataItem);\n            } else {\n                that.dataSource.add(dataItem);\n            }\n        },\n\n        _addItemAt: function(dataItem, index) {\n            var that = this;\n            var item = $(that.templates.itemTemplate({ item: dataItem, r: that.templates.itemContent }));\n            that._unbindDataSource();\n            if (typeof dataItem === typeof \"\") {\n                that._insertElementAt(item, index);\n                that.dataSource._data.push(dataItem);\n            } else {\n                that._setItemId(item, dataItem.uid);\n                that._insertElementAt(item, index);\n                that.dataSource.add(dataItem);\n            }\n            that._bindDataSource();\n            that._syncElement();\n        },\n\n        _insertElementAt: function(item, index) {\n            var that = this;\n            var list = that._getList();\n\n            if (index > 0) {\n                $(item).insertAfter(list.children().eq(index - 1));\n            } else {\n                $(list).prepend(item);\n            }\n        },\n\n        _createNavigatable: function() {\n            var that = this;\n            var options = that.options;\n\n            if (options.navigatable) {\n                that._getList().on(CLICK, ENABLED_ITEM_SELECTOR, that._click.bind(that))\n                            .on(KEYDOWN, that._keyDown.bind(that))\n                            .on(BLUR, that._blur.bind(that));\n            }\n        },\n\n        _getTabIndex: function() {\n            var that = this;\n            var tabindex;\n\n            if (!isNaN(that._listTabIndex))\n            {\n                return that._listTabIndex;\n            }\n\n            tabindex = that.element.attr(TABINDEX);\n            that._listTabIndex = !isNaN(tabindex) ? tabindex : 0;\n\n            that.element.removeAttr(TABINDEX);\n\n            return that._listTabIndex;\n        },\n\n        _blur: function() {\n            if (this._target) {\n                this._target.removeClass(FOCUSED_CLASS);\n                this._getList().removeAttr(\"aria-activedescendant\");\n            }\n            this._target = null;\n        },\n\n        _click: function(e) {\n            var that = this;\n            var target = $(e.currentTarget);\n            var oldTarget = that._target;\n            var activeEl = kendo._activeElement();\n            var isContained = $.contains(that.wrapper[0], activeEl);\n\n            if (oldTarget) {\n                oldTarget.removeClass(FOCUSED_CLASS);\n            }\n\n            that._target = target;\n            target.addClass(FOCUSED_CLASS);\n            that._getList().attr(\"aria-activedescendant\", target.attr(ID));\n\n            if (that._getList()[0] !== kendo._activeElement() && (!isContained || !isInputElement(activeEl))) {\n                that.focus();\n            }\n        },\n\n        _getNavigatableItem: function(key) {\n            var that = this;\n            var current;\n\n            if (!that._target) {\n                current = that.items().filter(ENABLED_ITEM_SELECTOR).first();\n            } else {\n                current = that._target;\n            }\n\n            if (key === keys.UP && that._target) {\n                current = that._target.prevAll(ENABLED_ITEM_SELECTOR).first();\n            }\n\n            if (key === keys.DOWN && that._target) {\n                current = that._target.nextAll(ENABLED_ITEM_SELECTOR).first();\n            }\n\n            return current.length ? current : null;\n        },\n\n        _scrollIntoView: function(item) {\n            if (!item) {\n                return;\n            }\n\n            if (item[0]) {\n                item = item[0];\n            }\n\n            var list = this._getList().parent()[0];\n            var itemOffsetTop = item.offsetTop;\n            var contentScrollTop = list.scrollTop;\n            var contentOffsetHeight = list.clientHeight;\n            var bottomDistance = itemOffsetTop + item.offsetHeight;\n\n            if (contentScrollTop > itemOffsetTop) {\n                contentScrollTop = itemOffsetTop;\n            } else if (bottomDistance > (contentScrollTop + contentOffsetHeight)) {\n                contentScrollTop = (bottomDistance - contentOffsetHeight);\n            }\n\n            list.scrollTop = contentScrollTop;\n        },\n\n        _keyDown: function(e) {\n            var that = this;\n            var key = e.keyCode;\n            var current = that._getNavigatableItem(key);\n            var shouldPreventDefault;\n\n            if (that._target) {\n                that._target.removeClass(FOCUSED_CLASS);\n            }\n\n            if (!(e.shiftKey && !e.ctrlKey && (key === keys.DOWN || key === keys.UP))) {\n                that._shiftSelecting = false;\n            }\n\n            if (key == keys.DELETE) {\n                that._executeCommand(REMOVE);\n                if (that._target) {\n                    that._target.removeClass(FOCUSED_CLASS);\n                    that._getList().removeAttr(\"aria-activedescendant\");\n                    that._target = null;\n                }\n                shouldPreventDefault = true;\n            } else if (key === keys.DOWN || key === keys.UP) {\n                if (!current) {\n                    e.preventDefault();\n                    return;\n                }\n                if (e.shiftKey && !e.ctrlKey) {\n                    if (!that._shiftSelecting) {\n                        that.clearSelection();\n                        that._shiftSelecting = true;\n                    }\n                    if (that._target && current.hasClass(\"k-selected\")) {\n                        that._target.removeClass(SELECTED_STATE_CLASS);\n                        that.trigger(CHANGE);\n                    } else if (that.options.selectable == \"single\") {\n                       that.select(current);\n                    } else {\n                       that.select(current.add(that._target));\n                    }\n                } else if (e.shiftKey && e.ctrlKey) {\n                    that._executeCommand(key === keys.DOWN ? MOVE_DOWN : MOVE_UP);\n                    that._scrollIntoView(that._target);\n                    e.preventDefault();\n                    return;\n                } else if (!e.shiftKey && !e.ctrlKey) {\n                    if (that.options.selectable === \"multiple\") {\n                        that.clearSelection();\n                    }\n                    that.select(current);\n                }\n\n                that._target = current;\n                if (that._target) {\n                    that._target.addClass(FOCUSED_CLASS);\n                    that._scrollIntoView(that._target);\n                    that._getList().attr(\"aria-activedescendant\", that._target.attr(ID));\n                } else {\n                    that._getList().removeAttr(\"aria-activedescendant\");\n                }\n                shouldPreventDefault = true;\n            } else if (key == keys.SPACEBAR) {\n                if (e.ctrlKey && that._target) {\n                   if (that._target.hasClass(SELECTED_STATE_CLASS)) {\n                       that._target.removeClass(SELECTED_STATE_CLASS);\n                       that.trigger(CHANGE);\n                   } else {\n                       that.select(that._target);\n                   }\n                } else {\n                   that.clearSelection();\n                   that.select(that._target);\n                }\n                shouldPreventDefault = true;\n            } else if (e.ctrlKey && key == keys.RIGHT) {\n                if (e.shiftKey) {\n                   that._executeCommand(TRANSFER_ALL_TO);\n                } else {\n                   that._executeCommand(TRANSFER_TO);\n                }\n                that._target = that.select().length ? that.select() : null;\n                shouldPreventDefault = true;\n            } else if (e.ctrlKey && key == keys.LEFT) {\n                if (e.shiftKey) {\n                   that._executeCommand(TRANSFER_ALL_FROM);\n                } else {\n                   that._executeCommand(TRANSFER_FROM);\n                }\n                shouldPreventDefault = true;\n            }\n\n            if (shouldPreventDefault) {\n                e.preventDefault();\n            }\n        },\n\n        focus: function() {\n            kendo.focusElement(this._getList());\n        },\n\n        _createDraggable: function() {\n            var that = this;\n            var draggable = that.options.draggable;\n            var hint;\n\n            if (draggable) {\n                hint = draggable.hint;\n                if (!that.options.selectable) {\n                    throw new Error(\"Dragging requires selection to be enabled\");\n                }\n\n                if (!hint) {\n                    hint = defaultHint;\n                }\n\n                that._draggable = new kendo.ui.Draggable(that.wrapper, {\n                    filter: draggable.filter ? draggable.filter : DEFAULT_FILTER,\n                    hint: kendo.isFunction(hint) ? hint : $(hint),\n                    dragstart: that._dragstart.bind(that),\n                    dragcancel: that._clear.bind(that),\n                    drag: that._drag.bind(that),\n                    dragend: that._dragend.bind(that)\n                });\n            }\n        },\n\n        _dragstart: function(e) {\n            var that = this;\n            var draggedElement = that.draggedElement = e.currentTarget;\n            var placeholder = that.options.draggable.placeholder;\n            var dataItem = that.dataItem(draggedElement);\n            var eventData = { dataItems: dataItem, items: $(draggedElement), draggableEvent: e };\n\n            if (that.options.draggable.enabled === false) {\n                e.preventDefault();\n                return;\n            }\n\n            if (!placeholder) {\n                placeholder = defaultPlaceholder;\n            }\n\n            that.placeholder = kendo.isFunction(placeholder) ? $(placeholder.call(that, draggedElement)) : $(placeholder);\n\n            if (draggedElement.is(DOT + DISABLED_STATE_CLASS)) {\n                e.preventDefault();\n            } else {\n                if (that.trigger(DRAGSTART, eventData)) {\n                    e.preventDefault();\n                } else {\n                    that.clearSelection();\n                    that.select(draggedElement);\n                    draggedElement.addClass(DRAGGEDCLASS);\n                }\n            }\n        },\n\n        _clear: function() {\n            this.draggedElement.removeClass(DRAGGEDCLASS);\n            this.placeholder.remove();\n        },\n\n        _findElementUnderCursor: function(e) {\n            var elementUnderCursor = kendo.elementUnderCursor(e);\n            var draggable = e.sender;\n\n            if ($.contains(draggable.hint[0], elementUnderCursor) || draggable.hint[0] === elementUnderCursor) {\n                draggable.hint.hide();\n                elementUnderCursor = kendo.elementUnderCursor(e);\n                draggable.hint.show();\n            }\n\n            return elementUnderCursor;\n        },\n\n        _findTarget: function(e) {\n            var that = this;\n            var element = that._findElementUnderCursor(e);\n            var elementNode = $(element);\n            var list = that._getList();\n            var items;\n            var node;\n\n            if ($.contains(list[0], element)) {\n                items = that.items();\n                element = elementNode.is(\"li\") ? element : elementNode.closest(\"li\")[0];\n                node = items.filter(element)[0] || items.has(element)[0];\n                if (node) {\n                    node = $(node);\n                    return !node.hasClass(DISABLED_STATE_CLASS) ? { element: node, listBox: that } : null;\n                } else {\n                    return null;\n                }\n            } else if (list[0] == element || list.parent()[0] == element) {\n                return { element: $(list), appendToBottom: true, listBox: that };\n            } else {\n                return that._searchConnectedListBox(elementNode);\n            }\n        },\n\n        _getElementCenter: function(element) {\n            var center = element.length ? kendo.getOffset(element) : null;\n            if (center) {\n                center.top += outerHeight(element) / 2;\n                center.left += outerWidth(element) / 2;\n            }\n\n            return center;\n        },\n\n        _searchConnectedListBox: function(element) {\n            var connectedListBox;\n            var items;\n            var node;\n            var originalElement = element;\n            var closestContainer;\n\n            if (element.hasClass(\"k-list-scroller k-selectable\")) {\n                closestContainer = element;\n            } else {\n                closestContainer = element.closest(\".k-list-scroller.k-selectable\");\n            }\n\n            if (closestContainer.length) {\n                connectedListBox = closestContainer.parent().find(\"[data-role='listbox']\").getKendoListBox();\n            } else {\n                return null;\n            }\n\n            if (connectedListBox && $.inArray(this.element[0].id, connectedListBox.options.dropSources) !== -1) {\n                items = connectedListBox.items();\n                element = element.is(\"li\") ? element[0] : element.closest(\"li\")[0];\n                node = items.filter(element)[0] || items.has(element)[0];\n                if (node) {\n                    node = $(node);\n                    return !node.hasClass(DISABLED_STATE_CLASS) ? { element: node, listBox: connectedListBox } : null;\n                } else if (!items.length ||\n                            originalElement.hasClass(\"k-list-scroller k-selectable\") ||\n                            originalElement.hasClass(\"k-list-content\")) {\n                    return { element: connectedListBox._getList(), listBox: connectedListBox, appendToBottom: true };\n                } else {\n                    return null;\n                }\n            }\n            return null;\n        },\n\n        _drag: function(e) {\n            var that = this;\n            var draggedElement = that.draggedElement;\n            var target = that._findTarget(e);\n            var cursorOffset = { left: e.x.location, top: e.y.location };\n            var dataItem = that.dataItem(draggedElement);\n            var eventData = { dataItems: [dataItem], items: $(draggedElement), draggableEvent: e };\n            var targetCenter;\n            var offsetDelta;\n            var direction;\n\n            if (that.trigger(DRAG, eventData)) {\n                e.preventDefault();\n                return;\n            }\n\n            if (target) {\n                targetCenter = this._getElementCenter(target.element);\n\n                offsetDelta = {\n                    left: Math.round(cursorOffset.left - targetCenter.left),\n                    top: Math.round(cursorOffset.top - targetCenter.top)\n                };\n\n                if (target.appendToBottom) {\n                    that._movePlaceholder(target, null , draggedElement);\n                    return;\n                }\n\n                if (offsetDelta.top < 0) {\n                    direction = \"prev\";\n                } else if (offsetDelta.top > 0) {\n                    direction = \"next\";\n                }\n\n                if (direction) {\n                    if (target.element[0] != that.placeholder[0]) {\n                        that._movePlaceholder(target, direction, draggedElement);\n                    }\n                }\n             }\n             else if (that.placeholder.parent().length) {\n                that.placeholder.remove();\n             }\n        },\n\n        _movePlaceholder: function(target, direction, draggedElement) {\n            var that = this;\n            var placeholder = that.placeholder;\n            var draggableOptions = target.listBox.options.draggable;\n\n            if (placeholder.parent().length) {\n                that.placeholder.remove();\n                if (draggableOptions && draggableOptions.placeholder) {\n                    that.placeholder = kendo.isFunction(draggableOptions.placeholder) ? $(draggableOptions.placeholder.call(that, draggedElement)) : $(draggableOptions.placeholder);\n                } else {\n                    that.placeholder = $(defaultPlaceholder.call(that, draggedElement));\n                }\n            }\n\n            if (!direction) {\n                target.element.append(that.placeholder);\n            } else if (direction === \"prev\") {\n                target.element.before(that.placeholder);\n            } else if (direction === \"next\") {\n                target.element.after(that.placeholder);\n            }\n        },\n\n        _dragend: function(e) {\n            var that = this;\n            var draggedItem = that.draggedElement;\n            var items = that.items();\n            var placeholderIndex = items.not(that.draggedElement).index(that.placeholder);\n            var draggedIndex = items.not(that.placeholder).index(that.draggedElement);\n            var dataItem = that.dataItem(draggedItem);\n            var eventData = { dataItems: [dataItem], items: $(draggedItem) };\n            var connectedListBox = that.placeholder.closest(\".k-widget.k-listbox\").find(\"[data-role='listbox']\").getKendoListBox();\n\n            if (that.trigger(DROP, extend({}, eventData, { draggableEvent: e }))) {\n                e.preventDefault();\n                this._clear();\n                return;\n            }\n\n            if (placeholderIndex >= 0) {\n                if (placeholderIndex !== draggedIndex && !that.trigger(REORDER, extend({}, eventData, { offset: placeholderIndex - draggedIndex }))) {\n                    draggedItem.removeClass(DRAGGEDCLASS);\n                    that.reorder(draggedItem, placeholderIndex);\n                }\n            } else if (connectedListBox) {\n                if (!that.trigger(REMOVE, eventData)) {\n                    that.remove($(draggedItem));\n                }\n\n                if (!connectedListBox.trigger(ADD, eventData)) {\n                    connectedListBox._addItemAt(dataItem, connectedListBox.items().index(that.placeholder));\n                }\n            }\n\n            that._clear();\n            that._draggable.dropped = true;\n\n            that.trigger(DRAGEND, extend({}, eventData, { draggableEvent: e }));\n\n            that._updateToolbar();\n            that._updateAllToolbars();\n        },\n\n        reorder: function(item, index) {\n            var that = this;\n            var dataSource = that.dataSource;\n            var dataItem = that.dataItem(item);\n            var dataItemAtIndex = dataSource.at(index);\n            var itemAtIndex = that.items()[index];\n            var listItem = $(item);\n\n            if (dataItem && itemAtIndex && dataItemAtIndex) {\n                that._removeElement(listItem);\n                that._insertElementAt(listItem, index);\n                that._updateToolbar();\n            }\n        },\n\n        remove: function(items) {\n            var that = this;\n            var listItems = that._getItems(items);\n            var itemsLength = listItems.length;\n            var i;\n\n            that._unbindDataSource();\n            that._unbindDataChange();\n            for (i = 0; i < itemsLength; i++) {\n                that._removeItem($(listItems[i]));\n            }\n            that._bindDataChange();\n            that._bindDataSource();\n            that._syncElement();\n            that._updateToolbar();\n            that._updateAllToolbars();\n        },\n\n        _removeItem: function(item) {\n            var that = this;\n            var dataSource = that.dataSource;\n            var dataItem = that.dataItem(item);\n            var transport = dataSource.transport;\n\n            if (!dataItem || !dataSource) {\n                return;\n            }\n            if (typeof dataItem === typeof \"\") {\n                var data = dataSource._data;\n                for (var i = 0; i < data.length; i++) {\n                    if (dataItem === data[i]) {\n                        data[i] = data[data.length - 1];\n                        data.pop();\n                        break;\n                    }\n                }\n            } else {\n                dataSource.remove(dataItem);\n                if (transport && (transport.destroy || (transport.options || {}).destroy) &&\n                    (!dataItem.isNew || !dataItem.isNew())) {\n                    dataSource._destroyed.push(dataItem);\n                }\n            }\n            that._removeElement(item);\n        },\n\n        _removeElement: function(item) {\n            kendo.destroy(item);\n            $(item).off().remove();\n        },\n\n        dataItem: function(element) {\n            var uniqueIdAttr = kendoAttr(UNIQUE_ID);\n            var uid = $(element).attr(uniqueIdAttr) || $(element).closest(\"[\" + uniqueIdAttr + \"]\").attr(uniqueIdAttr);\n            if (uid) {\n                return this.dataSource.getByUid(uid);\n            }\n            else {\n                return $(element).html();\n            }\n        },\n\n        _dataItems: function(items) {\n            var dataItems = [];\n            var listItems = $(items);\n            var itemsLength = listItems.length;\n            var i;\n\n            for (i = 0; i < itemsLength; i++) {\n                dataItems.push(this.dataItem(listItems.eq(i)));\n            }\n\n            return dataItems;\n        },\n\n        items: function() {\n            var list = this._getList();\n            return list.children();\n        },\n\n        select: function(items) {\n            var that = this;\n            var selectable = that.selectable;\n            var enabledItems;\n\n            if (isUndefined(items)) {\n                return selectable.value();\n            }\n\n            enabledItems = that.items().filter(items).filter(ENABLED_ITEMS_SELECTOR);\n\n            if (!selectable.options.multiple) {\n                selectable.clear();\n                enabledItems = enabledItems.first();\n            }\n\n            return selectable.value(enabledItems);\n        },\n\n        clearSelection: function() {\n            var that = this;\n            var selectable = that.selectable;\n\n            if (selectable) {\n                selectable.clear();\n            }\n        },\n\n        enable: function(items, enable) {\n            var that = this;\n            var enabled = isUndefined(enable) ? true : !!enable;\n            var listItems = that._getItems(items);\n            var itemsLength = listItems.length;\n            var i;\n\n            for (i = 0; i < itemsLength; i++) {\n                that._enableItem($(listItems[i]), enabled);\n            }\n\n            that._updateAllToolbars();\n        },\n\n        _enableItem: function(item, enable) {\n            var that = this;\n            var dataItem = that.dataItem(item);\n\n            if (dataItem) {\n                if (enable) {\n                    $(item).removeClass(DISABLED_STATE_CLASS);\n                } else {\n                    $(item)\n                        .addClass(DISABLED_STATE_CLASS)\n                        .removeClass(SELECTED_STATE_CLASS);\n                }\n            }\n        },\n\n        setDataSource: function(dataSource) {\n            var that = this;\n\n            that.options.dataSource = dataSource;\n\n            that._dataSource();\n        },\n\n        _dataSource: function() {\n            var that = this;\n            var options = that.options;\n            var dataSource = options.dataSource || {};\n\n            dataSource = Array.isArray(dataSource) ? { data: dataSource } : dataSource;\n            dataSource.select = that.element;\n            dataSource.fields = [\n                { field: options.dataTextField },\n                { field: options.dataValueField }];\n\n            that._unbindDataSource();\n            that.dataSource = DataSource.create(dataSource);\n            that._bindDataSource();\n\n            if (that.options.autoBind) {\n                that.wrapper.attr(\"aria-busy\", true);\n                that.dataSource.fetch();\n            }\n        },\n\n        _bindDataChange: function() {\n            var dataSource = this.dataSource;\n            if (dataSource._data && dataSource._changeHandler) {\n                dataSource._data.bind(CHANGE, dataSource._changeHandler);\n                dataSource._data.trigger(CHANGE);\n            }\n        },\n\n        _unbindDataChange: function() {\n            var dataSource = this.dataSource;\n            if (dataSource._data && dataSource._changeHandler) {\n                dataSource._data.unbind(CHANGE, dataSource._changeHandler);\n            }\n        },\n\n        _bindDataSource: function() {\n            var that = this;\n            var dataSource = that.dataSource;\n\n            that._dataChangeHandler = that.refresh.bind(that);\n\n            if (dataSource) {\n                dataSource.bind(CHANGE, that._dataChangeHandler);\n            }\n        },\n\n        _unbindDataSource: function() {\n            var that = this;\n            var dataSource = that.dataSource;\n\n            if (dataSource) {\n                dataSource.unbind(CHANGE, that._dataChangeHandler);\n            }\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                wrapper = element.parent(\"div.k-listbox\");\n\n            if (!wrapper[0]) {\n                wrapper = element.wrap('<div class=\"k-widget k-listbox\" unselectable=\"on\" />').parent();\n                wrapper[0].style.cssText = element[0].style.cssText;\n                wrapper[0].title = element[0].title;\n                $('<div class=\"k-list-scroller\"><div class=\"k-list k-list-md\"><div class=\"k-list-content\"></div></div></div>').insertBefore(element);\n            }\n\n            that.wrapper = wrapper.addClass(element[0].className).css(\"display\", \"\");\n            that._innerWrapper = $(wrapper[0].firstChild);\n        },\n\n        _list: function() {\n            var that = this,\n                list = $(\"<ul class='\" + LIST_CLASS + \"' role='listbox'></ul>\"),\n                selectable = that.options.selectable,\n                selectableOptions = Selectable.parseOptions(selectable);\n\n            if (selectableOptions.multiple) {\n                list.attr(\"aria-multiselectable\", \"true\");\n            }\n\n            list.appendTo(that.wrapper.find(\".k-list-content\"));\n\n            if (that.options.navigatable) {\n                that._getList().attr(TABINDEX, that._getTabIndex());\n            }\n        },\n\n        _templates: function() {\n            var that = this;\n            var options = this.options;\n            var template;\n\n            if (options.template && typeof options.template == \"string\") {\n                template = kendo.template(options.template);\n            } else if (!options.template) {\n                template = kendo.template('${' + kendo.expr(options.dataTextField, \"data\") + \"}\", { useWithBlock: false });\n            } else {\n                template = options.template;\n            }\n\n            that.templates = {\n                itemTemplate: kendo.template(\"# var item = data.item, r = data.r; # <li class='k-list-item' role='option' aria-selected='false'><span class='k-list-item-text'>#=r(item)#</span></li>\", { useWithBlock: false }),\n                itemContent: template,\n                toolbar: \"<div class='\" + TOOLBAR_CLASS + \"'></div>\"\n            };\n        },\n\n        refresh: function() {\n            var that = this;\n            var view = that.dataSource.view();\n            var template = that.templates.itemTemplate;\n            var html = \"\";\n\n            for (var idx = 0; idx < view.length; idx++) {\n                html += template({ item: view[idx], r: that.templates.itemContent });\n            }\n            that._getList().html(html);\n            that._setItemIds();\n            that._createToolbar();\n            that._syncElement();\n            that._updateToolbar();\n            that._updateAllToolbars();\n            that.trigger(DATABOUND);\n\n            that.wrapper.attr(\"aria-busy\", false);\n        },\n\n        _syncElement: function() {\n            var options = \"\";\n            var view = this.dataSource.view();\n            for (var idx = 0; idx < view.length; idx++) {\n                options += this._option(view[idx][this.options.dataValueField] || view[idx], view[idx][this.options.dataTextField] || view[idx], true);\n            }\n            this.element.html(options);\n        },\n\n        _option: function(dataValue, dataText) {\n            var option = \"<option\";\n\n            if (dataValue !== undefined) {\n                dataValue += \"\";\n\n                if (dataValue.indexOf('\"') !== -1) {\n                    dataValue = dataValue.replace(/\"/g, \"&quot;\");\n                }\n\n                option += ' value=\"' + dataValue + '\"';\n            }\n            option += \" selected>\";\n\n            if (dataText !== undefined) {\n                option += kendo.htmlEncode(dataText);\n            }\n\n            return option += \"</option>\";\n        },\n\n        _setItemId: function(item, id) {\n            if (!item.length) {\n                return;\n            }\n\n            item.attr(kendoAttr(UNIQUE_ID), id).attr(ID, id);\n        },\n\n        _setItemIds: function() {\n            var that = this;\n            var items = that.items();\n            var view = that.dataSource.view();\n            var viewLength = view.length;\n            var i;\n\n            for (i = 0; i < viewLength; i++) {\n                that._setItemId(items.eq(i), view[i].uid);\n            }\n        },\n\n        _selectable: function() {\n            var that = this;\n            var selectable = that.options.selectable;\n            var selectableOptions = Selectable.parseOptions(selectable);\n\n            that.selectable = new Selectable(that._innerWrapper, {\n                aria: true,\n                selectedClass: \"k-selected\",\n                multiple: selectableOptions.multiple,\n                filter: ENABLED_ITEM_SELECTOR,\n                change: that._onSelect.bind(that)\n            });\n        },\n\n        _onSelect: function() {\n            var that = this;\n\n            that._updateToolbar();\n            that._updateAllToolbars();\n            that.trigger(CHANGE);\n        },\n\n        _destroySelectable: function() {\n            var that = this;\n\n            if (that.selectable && that.selectable.element) {\n                that.selectable.destroy();\n                that.selectable = null;\n            }\n        },\n\n        _getList: function() {\n            return this.wrapper.find(LIST_SELECTOR);\n        },\n\n        _getItems: function(items) {\n            return this.items().filter(items);\n        },\n\n        _createToolbar: function() {\n            var that = this;\n            var toolbarOptions = that.options.toolbar;\n            var position = toolbarOptions.position || RIGHT;\n            var toolbarInsertion = position === BOTTOM ? \"insertAfter\" : \"insertBefore\";\n            var tools = toolbarOptions.tools || [];\n            var messages = that.options.messages;\n\n            that._destroyToolbar();\n            that.wrapper.removeClass(TOOLBAR_POSITION_CLASS_NAMES.join(SPACE));\n\n            if (tools.length && tools.length > 0) {\n                var toolbarElement = $(that.templates.toolbar)[toolbarInsertion](that._innerWrapper);\n                that.toolbar = new ToolBar(toolbarElement, extend({}, toolbarOptions, { listBox: that, messages: messages }));\n                that.wrapper.addClass(TOOLBAR_CLASS + DASH + position);\n            }\n        },\n\n        _destroyToolbar: function() {\n            var that = this;\n\n            if (that.toolbar) {\n                that.toolbar.destroy();\n                that.toolbar = null;\n            }\n        },\n\n        _executeCommand: function(commandName) {\n            var that = this;\n            var command = CommandFactory.current.create(commandName, { listBox: that });\n\n            if (command) {\n                command.execute();\n                that._updateToolbar();\n                that._updateAllToolbars();\n            }\n        },\n\n        _updateToolbar: function() {\n            var toolbar = this.toolbar;\n\n            if (toolbar) {\n                toolbar._updateToolStates();\n            }\n        },\n\n        _updateAllToolbars: function() {\n            var listBoxElements = $(\"select[data-role='listbox']\");\n            var elementsLength = listBoxElements.length;\n            var listBox;\n            var i;\n\n            for (i = 0; i < elementsLength; i++) {\n                listBox = $(listBoxElements[i]).data(KENDO_LISTBOX);\n\n                if (listBox) {\n                    listBox._updateToolbar();\n                }\n            }\n        }\n    });\n\n    kendo.ui.plugin(ListBox);\n\n    var CommandFactory = Class.extend({\n        init: function() {\n            this._commands = [];\n        },\n\n        register: function(commandName, commandType) {\n            this._commands.push({\n                commandName: commandName,\n                commandType: commandType\n            });\n        },\n\n        create: function(commandName, options) {\n            var commands = this._commands;\n            var itemsLength = commands.length;\n            var name = commandName ? commandName.toLowerCase() : \"\";\n            var match;\n            var command;\n            var i;\n\n            for (i = 0; i < itemsLength; i++) {\n                command = commands[i];\n\n                if (command.commandName.toLowerCase() === name) {\n                    match = command;\n                    break;\n                }\n            }\n\n            if (match) {\n                return new match.commandType(options);\n            }\n        }\n    });\n    CommandFactory.current = new CommandFactory();\n\n    var ListBoxCommand = Class.extend({\n        init: function(options) {\n            var that = this;\n\n            that.options = extend({}, that.options, options);\n            that.listBox = that.options.listBox;\n        },\n\n        options: {\n            listBox: null\n        },\n\n        getItems: function() {\n            return $(this.listBox.select());\n        },\n\n        execute: noop,\n        canExecute: noop\n    });\n\n    var RemoveItemsCommand = ListBoxCommand.extend({\n        execute: function() {\n            var that = this;\n            var listBox = that.listBox;\n            var items = that.getItems();\n\n            if (!listBox.trigger(REMOVE, { dataItems: listBox._dataItems(items), items: items })) {\n                listBox.remove(items);\n            }\n        },\n\n        canExecute: function() {\n            return this.listBox.select().length > 0;\n        }\n    });\n    CommandFactory.current.register(REMOVE, RemoveItemsCommand);\n\n    var MoveItemsCommand = ListBoxCommand.extend({\n        execute: function() {\n            var that = this;\n\n            if (that.canExecute()) {\n                that.moveItems();\n            }\n        },\n\n        canExecute: noop,\n\n        moveItems: function() {\n            var that = this;\n            var listBox = that.listBox;\n            var options = that.options;\n            var items = that.getItems();\n            var offset = options.offset;\n            var indecesInDom = getSortedDomIndices(items);\n            var movedItems = $.makeArray(items.sort(that.itemComparer));\n            var moveAction = options.moveAction;\n            var movedItem;\n\n            if (!listBox.trigger(REORDER, { dataItems: listBox._dataItems(movedItems), items: $(movedItems), offset: offset })) {\n                while (movedItems.length > 0 && indecesInDom.length > 0) {\n                    movedItem = movedItems[moveAction]();\n\n                    listBox.reorder(movedItem, indecesInDom[moveAction]() + offset);\n                }\n            }\n        },\n\n        options: {\n            offset: 0,\n            moveAction: \"pop\"\n        },\n\n        itemComparer: function(item1, item2) {\n            var indexItem1 = $(item1).index();\n            var indexItem2 = $(item2).index();\n\n            if (indexItem1 === indexItem2) {\n                return 0;\n            } else {\n                return (indexItem1 > indexItem2 ? 1 : (-1));\n            }\n        }\n    });\n\n    var MoveUpItemsCommand = MoveItemsCommand.extend({\n        options: {\n            offset: MOVE_UP_OFFSET,\n            moveAction: \"shift\"\n        },\n\n        canExecute: function() {\n            var items = this.getItems();\n            var domIndices = getSortedDomIndices(items);\n\n            return (domIndices.length > 0 && domIndices[0] > 0);\n        }\n    });\n    CommandFactory.current.register(MOVE_UP, MoveUpItemsCommand);\n\n    var MoveDownItemsCommand = MoveItemsCommand.extend({\n        options: {\n            offset: MOVE_DOWN_OFFSET,\n            moveAction: \"pop\"\n        },\n\n        canExecute: function() {\n            var that = this;\n            var items = that.getItems();\n            var domIndices = getSortedDomIndices(items);\n\n            return (domIndices.length > 0 && $(domIndices).last()[0] < (that.listBox.items().length - 1));\n        }\n    });\n    CommandFactory.current.register(MOVE_DOWN, MoveDownItemsCommand);\n\n    var TransferItemsCommand = ListBoxCommand.extend({\n        options: {\n            filter: ENABLED_ITEM_SELECTOR\n        },\n\n        execute: function() {\n            var that = this;\n            var sourceListBox = that.getSourceListBox();\n            var items = that.getItems().filter(that.options.filter);\n            var dataItems = sourceListBox ? sourceListBox._dataItems(items) : [];\n            var destinationListBox = that.getDestinationListBox();\n            var updatedSelection = that.getUpdatedSelection(items);\n\n            if (destinationListBox && items.length > 0) {\n                if (!destinationListBox.trigger(ADD, { dataItems: dataItems, items: items })) {\n                    destinationListBox.add(dataItems);\n                }\n\n                if (!sourceListBox.trigger(REMOVE, { dataItems: dataItems, items: items })) {\n                    sourceListBox.remove(items);\n                    that.updateSelection(updatedSelection);\n                }\n            }\n        },\n\n        getUpdatedSelection: function(items) {\n\n            if (items.length !== 1) {\n                return null;\n            }\n            var that = this;\n            var itemFilter = that.options.filter;\n            var sourceListBox = that.getSourceListBox();\n            var lastEnabledItem = sourceListBox ? sourceListBox.items().filter(itemFilter).last() : null;\n            var containsLastItem = $(items).filter(lastEnabledItem).length > 0;\n            var itemToSelect = containsLastItem ? $(items).prevAll(itemFilter)[0] : $(items).nextAll(itemFilter)[0];\n\n            if (itemToSelect) {\n                return itemToSelect;\n            } else {\n                return null;\n            }\n        },\n\n        updateSelection: function(item) {\n            var sourceListBox = this.getSourceListBox();\n\n            if (sourceListBox && item) {\n                $(sourceListBox.select($(item)));\n                sourceListBox._scrollIntoView(item);\n            }\n        },\n\n        getSourceListBox: noop,\n        getDestinationListBox: noop\n    });\n\n    var TransferItemsToCommand = TransferItemsCommand.extend({\n        canExecute: function() {\n            var sourceListBox = this.getSourceListBox();\n\n            return (sourceListBox ? sourceListBox.select().length > 0 : false);\n        },\n\n        getSourceListBox: function() {\n            return this.listBox;\n        },\n\n        getDestinationListBox: function() {\n            var sourceListBox = this.getSourceListBox();\n            return sourceListBox && sourceListBox.options.connectWith ? $(HASH + sourceListBox.options.connectWith).data(KENDO_LISTBOX) : null;\n        },\n\n        getItems: function() {\n            var sourceListBox = this.getSourceListBox();\n            return sourceListBox ? $(sourceListBox.select()) : $();\n        }\n    });\n    CommandFactory.current.register(TRANSFER_TO, TransferItemsToCommand);\n\n    var TransferItemsFromCommand = TransferItemsCommand.extend({\n        canExecute: function() {\n            var sourceListBox = this.getSourceListBox();\n\n            return (sourceListBox ? sourceListBox.select().length > 0 : false);\n        },\n\n        getSourceListBox: function() {\n            var destinationListBox = this.getDestinationListBox();\n            return (destinationListBox && destinationListBox.options.connectWith) ? $(HASH + destinationListBox.options.connectWith).data(KENDO_LISTBOX) : null;\n        },\n\n        getDestinationListBox: function() {\n            return this.listBox;\n        },\n\n        getItems: function() {\n            var sourceListBox = this.getSourceListBox();\n            return sourceListBox ? $(sourceListBox.select()) : $();\n        }\n    });\n    CommandFactory.current.register(TRANSFER_FROM, TransferItemsFromCommand);\n\n    var TransferAllItemsToCommand = TransferItemsToCommand.extend({\n        canExecute: function() {\n            var sourceListBox = this.getSourceListBox();\n\n            return (sourceListBox ? sourceListBox.wrapper.find(ENABLED_ITEMS_SELECTOR).length > 0 : false);\n        },\n\n        getItems: function() {\n            var sourceListBox = this.getSourceListBox();\n            return sourceListBox ? sourceListBox.items() : $();\n        },\n\n        getUpdatedSelection: noop,\n        updateSelection: noop\n    });\n    CommandFactory.current.register(TRANSFER_ALL_TO, TransferAllItemsToCommand);\n\n    var TransferAllItemsFromCommand = TransferItemsFromCommand.extend({\n        canExecute: function() {\n            var sourceListBox = this.getSourceListBox();\n\n            return (sourceListBox ? sourceListBox.wrapper.find(ENABLED_ITEMS_SELECTOR).length > 0 : false);\n        },\n\n        getItems: function() {\n            var sourceListBox = this.getSourceListBox();\n            return sourceListBox ? sourceListBox.items() : $();\n        },\n\n        getUpdatedSelection: noop,\n        updateSelection: noop\n    });\n    CommandFactory.current.register(TRANSFER_ALL_FROM, TransferAllItemsFromCommand);\n\n    var ToolBar = Class.extend({\n        init: function(element, options) {\n            var that = this;\n\n            that.element = $(element).addClass(TOOLBAR_CLASS);\n            that.options = extend({}, that.options, options);\n            that.listBox = that.options.listBox;\n\n            that._initTemplates();\n            that._createTools();\n            that._updateToolStates();\n            that._attachEventHandlers();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that._detachEventHandlers();\n            kendo.destroy(that.element);\n            that.element.remove();\n            that.element = null;\n        },\n\n        options: {\n            position: RIGHT,\n            tools: []\n        },\n\n        _initTemplates: function() {\n            this.templates = {\n                tool: kendoTemplate(\n                    \"<li>\" +\n                        \"<a href='\\\\\\\\#' class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button' data-command='#= command #' title='#= text #' aria-label='#= text #' role='button'>\" +\n                            \"<span class='k-button-icon k-icon #= iconClass #'></span>\" +\n                        \"</a>\" +\n                    \"</li>\")\n            };\n        },\n\n        _createTools: function() {\n            var that = this;\n            var tools = that.options.tools;\n            var toolsLength = tools.length;\n            var toolsMessages = that.options.messages.tools;\n            var toolList = that._createToolList();\n            var tool;\n            var i;\n\n            for (i = 0; i < toolsLength; i++) {\n                tool = extend({}, ToolBar.defaultTools[tools[i]], { text: toolsMessages[tools[i]] });\n\n                if (tool) {\n                    toolList.append($(that.templates.tool(tool)));\n                }\n            }\n\n            that.element.append(toolList);\n        },\n\n        _createToolList: function() {\n            return $(\"<ul class='k-reset' />\");\n        },\n\n        _attachEventHandlers: function() {\n            var that = this;\n\n            that.element.on(CLICK, TOOL_SELECTOR, that._onToolClick.bind(that));\n        },\n\n        _detachEventHandlers: function() {\n            this.element.off(NS).find(\"*\").off(NS);\n        },\n\n        _onToolClick: function(e) {\n            e.preventDefault();\n\n            this._executeToolCommand($(e.currentTarget).data(COMMAND));\n        },\n\n        _executeToolCommand: function(command) {\n            var that = this;\n            var listBox = that.listBox;\n\n            if (listBox) {\n                listBox._executeCommand(command);\n            }\n        },\n\n        _updateToolStates: function() {\n            var that = this;\n            var tools = that.options.tools;\n            var toolsLength = tools.length;\n            var i;\n\n            for (i = 0; i < toolsLength; i++) {\n                that._updateToolState(tools[i]);\n            }\n        },\n\n        _updateToolState: function(toolName) {\n            var that = this;\n            var command = CommandFactory.current.create(toolName, { listBox: that.listBox });\n            var tool = that.element.find(\"[data-command='\" + toolName + \"']\");\n            var toolElement = tool[0];\n\n            if (toolElement && command && command.canExecute) {\n                if (command.canExecute()) {\n                    tool.removeClass(DISABLED_STATE_CLASS).removeAttr(TABINDEX);\n                } else {\n                    tool.addClass(DISABLED_STATE_CLASS).attr(TABINDEX, \"-1\");\n                }\n            }\n        }\n    });\n\n    ToolBar.defaultTools = {\n        remove: {\n            command: REMOVE,\n            iconClass: \"k-i-x\"\n        },\n        moveUp: {\n            command: MOVE_UP,\n            iconClass: \"k-i-arrow-60-up\"\n        },\n        moveDown: {\n            command: MOVE_DOWN,\n            iconClass: \"k-i-arrow-60-down\"\n        },\n        transferTo: {\n            command: TRANSFER_TO,\n            iconClass: \"k-i-arrow-60-right\"\n        },\n        transferFrom: {\n            command: TRANSFER_FROM,\n            iconClass: \"k-i-arrow-60-left\"\n        },\n        transferAllTo: {\n            command: TRANSFER_ALL_TO,\n            iconClass: \"k-i-arrow-double-60-right\"\n        },\n        transferAllFrom: {\n            command: TRANSFER_ALL_FROM,\n            iconClass: \"k-i-arrow-double-60-left\"\n        }\n    };\n\n    extend(ListBox, {\n        ToolBar: ToolBar\n    });\n\n    function isInputElement(element) {\n        return $(element).is(\":button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,label.k-checkbox-label,.k-input,.k-multiselect-wrap,.k-picker-wrap,.k-picker-wrap>.k-selected-color,.k-tool-icon,.k-dropdownlist\");\n    }\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function (f, define) {\n    define('kendo.loader',[\"kendo.core\"], f);\n})(function () {\n\nvar __meta__ = {// jshint ignore:line\n    id: \"loader\",\n    name: \"Loader\",\n    category: \"web\",\n    description: \"The Loader is a visual indicator of loading data across different parts of the page.\",\n    depends: [\"core\"]\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        ui = kendo.ui,\n\n        HIDDEN = 'k-hidden',\n        ROLE = 'role',\n        ARIA_LABEL = 'aria-label',\n        ARIA_HIDDEN = 'aria-hidden',\n        ARIA_LIVE = 'aria-live';\n\n    var loaderClasses = {\n        loader: \"k-widget k-loader\",\n        canvas: \"k-loader-canvas\",\n        segment: \"k-loader-segment\"\n    };\n\n    var loaderTypes = {\n        'pulsing': { className: 'pulsing-2', segments: 2 },\n        'infinite-spinner': { className: 'spinner-3', segments: 3 },\n        'converging-spinner': { className: 'spinner-4', segments: 4 }\n    };\n\n    var Loader = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._render();\n\n            that._appearance();\n\n            kendo.notify(that);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n        },\n\n        options: {\n            name: 'Loader',\n            themeColor: \"primary\",\n            sizes: {\n                'small': 'sm',\n                'medium': 'md',\n                'large': 'lg'\n            },\n            size: 'medium',\n            type: \"pulsing\",\n            visible: true,\n            messages: {\n                \"loading\": \"Loading\"\n            },\n            _classNames: []\n        },\n\n        _render: function() {\n            var that = this,\n                wrapper = that.element,\n                type = that.options.type,\n                typeData = loaderTypes[type] === undefined ? type : loaderTypes[type],\n                segments = [];\n\n            wrapper\n                .empty()\n                .attr(ARIA_LABEL, that.options.messages.loading)\n                .attr(ROLE, \"alert\")\n                .attr(ARIA_LIVE, \"polite\");\n\n            if (typeData.segments) {\n                for (var i = 0; i < typeData.segments; i += 1) {\n                    segments.push($('<span/>').addClass(loaderClasses.segment));\n                }\n            }\n\n            $(\"<div>\").addClass(loaderClasses.canvas)\n                .append(segments)\n                .appendTo(wrapper);\n        },\n\n        _appearance: function() {\n            var that = this;\n\n            that._themeColor = that.options.themeColor;\n            that._sizes = that.options.sizes;\n            that._size = that.options.size;\n            that._type = that.options.type;\n            that._visible = that.options.visible;\n\n            that._updateClassNames();\n        },\n\n        _updateClassNames: function() {\n            var that = this,\n                classNames = [loaderClasses.loader],\n                keepClassNames = that.options._classNames,\n                themeColor = that._themeColor,\n                sizes = that._sizes,\n                size = that._size,\n                type = that._type,\n                typeData = loaderTypes[type] === undefined ? type : loaderTypes[type],\n                sizeAbbr = sizes[size] === undefined ? size : sizes[size],\n                visible = that._visible;\n\n            // Remove all class names\n            that.element.removeClass(function(index, className) {\n                if (className.indexOf('k-') === 0 && keepClassNames.indexOf(className) === -1) {\n                    that.element.removeClass(className);\n                }\n            });\n\n            // Color\n            if (typeof themeColor === 'string' && themeColor !== '' && themeColor !== 'inherit') {\n                classNames.push('k-loader-' + themeColor);\n            }\n\n            // Size\n            if (typeof size === 'string' && size !== '' && sizeAbbr !== '') {\n                classNames.push('k-loader-' + sizeAbbr);\n            }\n\n            // Type\n            if (typeof type === 'string' && type !== '') {\n                classNames.push('k-loader-' + ($.isPlainObject(typeData) ? typeData.className : type));\n            }\n\n            // Visibility\n            if (visible === false) {\n                classNames.push(HIDDEN);\n            }\n\n            that.element.attr(ARIA_HIDDEN, !visible);\n\n            // Apply classnames\n            that.element.addClass(classNames.join(' '));\n        },\n\n        setOptions: function(options) {\n            var that = this;\n\n            Widget.fn.setOptions.call(that, options);\n\n            that._render();\n\n            that._appearance();\n        },\n\n        themeColor: function(color) {\n            var that = this;\n\n            if (arguments.length === 0 || color === undefined) {\n                return that._themeColor;\n            }\n\n            that._themeColor = color;\n\n            that._updateClassNames();\n        },\n\n        hide: function() {\n            var that = this;\n\n            that._visible = false;\n\n            that._updateClassNames();\n        },\n\n        show: function() {\n            var that = this;\n\n            that._visible = true;\n\n            that._updateClassNames();\n        }\n    });\n\n    ui.plugin(Loader);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n});\n(function (f, define) {\n    define('kendo.textarea',[\"kendo.core\", \"kendo.floatinglabel\"], f);\n})(function () {\n\nvar __meta__ = {// jshint ignore:line\n    id: \"textarea\",\n    name: \"TextArea\",\n    category: \"web\",\n    description: \"The TextArea widget represents a multi-line plain-text editing control which enables you to style and provide a floating label functionality to textarea elements\",\n    depends: [\"core\", \"floatinglabel\"]\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        ui = kendo.ui,\n        isPlainObject = $.isPlainObject,\n        NS = \".kendoTextArea\",\n        CHANGE = \"change\",\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        INPUT = \"k-input-inner\",\n        FOCUSED = \"k-focus\",\n        LABELCLASSES = \"k-label k-input-label\",\n        STATEDISABLED = \"k-disabled\",\n        STATEREADONLY = \"k-readonly\",\n        ARIA_DISABLED = \"aria-disabled\",\n        TEXTAREACONTAINER = \"k-textarea-container\";\n\n    var TextArea = Widget.extend({\n        init: function (element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            options = $.extend(true, {}, options);\n\n            that.options.value = options.value || that.element.val();\n            that.options.readonly = options.readonly !== undefined ? options.readonly : Boolean(that.element.attr(\"readonly\"));\n            that.options.enable = options.enable !== undefined ? options.enable : !(Boolean(that.element.attr(\"disabled\")));\n            that.options.placeholder = options.placeholder || that.element.attr(\"placeholder\");\n\n            if(!that.options.value.replace(/\\s/g, '').length){\n                that.options.value = '';\n                that.element.val('');\n            }\n\n            that.value(that.options.value);\n            that._wrapper();\n            that._label();\n            that._editable({\n                readonly: that.options.readonly,\n                disable: !(that.options.enable)\n            });\n            that._applyAttributes();\n            that._applyCssClasses();\n            that.element\n                .addClass(INPUT)\n                .css(\"resize\", that.options.resizable)\n                .attr(\"autocomplete\", \"off\");\n\n            kendo.notify(that);\n        },\n\n        events: [\n            CHANGE\n        ],\n\n        attributes: [\n            \"maxLength\",\n            \"rows\",\n            \"placeholder\"\n        ],\n\n        options: {\n            name: 'TextArea',\n            value: '',\n            readonly: false,\n            enable: true,\n            placeholder: '',\n            label: null,\n            resizable: \"none\",\n            maxLength: null,\n            cols: 20,\n            rows: 1,\n            rounded: \"medium\",\n            size: \"medium\",\n            fillMode: \"solid\",\n            resize: \"none\",\n            overflow: \"auto\"\n        },\n\n        _applyCssClasses: function (action) {\n            var that = this,\n                options = that.options,\n                resize = kendo.cssProperties.getValidClass({\n                    widget: options.name,\n                    propName: \"resize\",\n                    value: options.resize\n                }),\n                overflow = kendo.cssProperties.getValidClass({\n                    widget: options.name,\n                    propName: \"overflow\",\n                    value: options.overflow\n                });\n\n            Widget.fn._applyCssClasses.call(that);\n\n            action = action || \"addClass\";\n\n            if (options.overflow === \"auto\") {\n                overflow = \"!k-overflow-y-auto\";\n            }\n\n            that.wrapper[action](resize);\n            that.element[action](overflow);\n        },\n\n        _applyAttributes: function(){\n            var that = this;\n            var property;\n            var attributes = {};\n\n            for (property in that.attributes) {\n                attributes[that.attributes[property]] = that.options[that.attributes[property]];\n            }\n\n            that.element.attr(attributes);\n        },\n\n        value: function(value) {\n            var that = this;\n\n            if (value === undefined) {\n                return that._value;\n            }\n\n            that._value = value;\n            that.element.val(value);\n        },\n\n        readonly: function(readonly) {\n            var that = this;\n\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n\n            if (that.floatingLabel) {\n                that.floatingLabel.readonly(readonly === undefined ? true : readonly);\n            }\n        },\n\n        enable: function(enable) {\n            var that = this;\n\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n\n            if (that.floatingLabel) {\n                that.floatingLabel.enable(enable = enable === undefined ? true : enable);\n            }\n        },\n\n        focus: function() {\n            var that = this;\n\n            that.element[0].focus();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that.floatingLabel) {\n                that.floatingLabel.destroy();\n            }\n\n            that.element.off(NS);\n            Widget.fn.destroy.call(that);\n        },\n\n        setOptions: function(options) {\n            var that = this;\n            that._applyCssClasses(\"removeClass\");\n            Widget.fn.setOptions.call(that, options);\n        },\n\n        _editable: function(options) {\n            var that = this;\n            var element = that.element;\n            var wrapper = that.wrapper;\n            var disable = options.disable;\n            var readonly = options.readonly;\n\n            element.off(NS);\n\n            if (!readonly && !disable) {\n                element.prop(DISABLED, false)\n                       .prop(READONLY, false)\n                       .attr(ARIA_DISABLED, false);\n\n                wrapper.removeClass(STATEDISABLED)\n                        .removeClass(STATEREADONLY);\n\n                element.on(\"focusin\" + NS, that._focusin.bind(that));\n                element.on(\"focusout\" + NS, that._focusout.bind(that));\n            } else {\n                element.attr(DISABLED, disable)\n                       .attr(READONLY, readonly)\n                       .attr(ARIA_DISABLED, disable);\n\n                wrapper.toggleClass(STATEDISABLED, disable)\n                        .toggleClass(STATEREADONLY, readonly);\n            }\n        },\n\n        _label: function() {\n            var that = this;\n            var element = that.element;\n            var options = that.options;\n            var id = element.attr(\"id\");\n            var floating;\n            var labelText;\n\n            if (options.label !== null) {\n                floating = isPlainObject(options.label) ? options.label.floating : false;\n                labelText = isPlainObject(options.label) ? options.label.content : options.label;\n\n                if (floating) {\n                    that._floatingLabelContainer = that.wrapper.wrap(\"<span></span>\").parent();\n                    that.floatingLabel = new kendo.ui.FloatingLabel(that._floatingLabelContainer, { widget: that, useReadOnlyClass: true });\n                    that._floatingLabelContainer.addClass(TEXTAREACONTAINER);\n                }\n\n                if (kendo.isFunction(labelText)) {\n                    labelText = labelText.call(that);\n                }\n\n                if (!labelText) {\n                    labelText = \"\";\n                }\n\n                if (!id) {\n                    id = options.name + \"_\" + kendo.guid();\n                    element.attr(\"id\", id);\n                }\n\n                that._inputLabel = $(\"<label class='\" + LABELCLASSES + \"' for='\" + id + \"'>\" + labelText + \"</label>'\").insertBefore(that.wrapper);\n            }\n        },\n\n        _focusin: function() {\n            var that = this;\n\n            that.wrapper.addClass(FOCUSED);\n        },\n\n        _focusout: function() {\n            var that = this;\n            var value = that._value;\n            var newValue = that.element.val();\n\n            that.wrapper.removeClass(FOCUSED);\n\n            if(value === null) {\n                value = \"\";\n            }\n\n            if (value !== newValue) {\n                that._value = newValue;\n\n                that.trigger(CHANGE);\n            }\n        },\n\n        _wrapper: function () {\n            var that = this;\n            var element = that.element;\n            var DOMElement = element[0];\n            var wrapper;\n\n            wrapper = element.wrap(\"<span class='k-input k-textarea'></span>\").parent();\n            wrapper[0].style.cssText = DOMElement.style.cssText;\n            DOMElement.style.width = \"100%\";\n\n            that.wrapper = wrapper.addClass(DOMElement.className).removeClass('input-validation-error');\n        }\n    });\n\n    kendo.cssProperties.registerPrefix(\"TextArea\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"TextArea\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    ui.plugin(TextArea);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.maskedtextbox',[ \"kendo.core\", \"kendo.floatinglabel\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"maskedtextbox\",\n    name: \"MaskedTextBox\",\n    category: \"web\",\n    description: \"The MaskedTextBox widget allows to specify a mask type on an input field.\",\n    depends: [\"core\", \"floatinglabel\"]\n};\n\n(function($, undefined) {\n    var global = window;\n    var min = global.Math.min;\n    var kendo = global.kendo;\n    var caret = kendo.caret;\n    var keys = kendo.keys;\n    var ui = kendo.ui;\n    var Widget = ui.Widget;\n    var NS = \".kendoMaskedTextBox\";\n    var isPlainObject = $.isPlainObject;\n    var setTimeout = window.setTimeout;\n\n    var LABELCLASSES = \"k-label k-input-label\";\n    var STATEDISABLED = \"k-disabled\";\n    var STATEINVALID = \"k-invalid\";\n    var FOCUSED = \"k-focus\";\n    var DISABLED = \"disabled\";\n    var READONLY = \"readonly\";\n    var CHANGE = \"change\";\n    var MOUSEUP = \"mouseup\";\n    var DROP = \"drop\";\n    var KEYDOWN = \"keydown\";\n    var PASTE = \"paste\";\n    var INPUT = \"input\";\n\n    function ns(name) { return name + NS; }\n\n    var INPUT_EVENT_NAME = ns(kendo.support.propertyChangeEvent ? \"propertychange\" : INPUT);\n\n    function stringDiffStart(str1, str2) {\n        var i = 0;\n        while (i < str2.length) {\n            if (str1[i] !== str2[i]) {\n                break;\n            }\n            i++;\n        }\n\n        return i;\n    }\n    var MaskedTextBox = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n            var DOMElement;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._rules = $.extend({}, that.rules, that.options.rules);\n\n            element = that.element;\n            DOMElement = element[0];\n\n            that._wrapper();\n            that._tokenize();\n            that._form();\n\n            that.element\n                .addClass(\"k-input-inner\")\n                .attr(\"autocomplete\", \"off\")\n                .on(\"focus\" + NS, function() {\n                    var value = DOMElement.value;\n\n                    if (!value) {\n                        DOMElement.value = that._old = that._emptyMask;\n                    } else {\n                        that._togglePrompt(true);\n                    }\n\n                    that._oldValue = value;\n                    that.wrapper.addClass(FOCUSED);\n\n                    that._timeoutId = setTimeout(function() {\n                        caret(element, 0, value ? that._maskLength : 0);\n                    });\n                })\n                .on(\"focusout\" + NS, function() {\n                    var value = element.val();\n\n                    clearTimeout(that._timeoutId);\n                    DOMElement.value = that._old = \"\";\n\n                    if (value !== that._emptyMask) {\n                        DOMElement.value = that._old = value;\n                    }\n\n                    that.wrapper.removeClass(FOCUSED);\n                    that._change();\n                    that._togglePrompt();\n                });\n\n            var disabled = element.is(\"[disabled]\") || $(that.element).parents(\"fieldset\").is(':disabled');\n\n            if (disabled) {\n                that.enable(false);\n            } else {\n                that.readonly(element.is(\"[readonly]\"));\n            }\n\n            that.value(that.options.value || element.val());\n\n            that._validationIcon = $(\"<span class='k-input-validation-icon k-icon k-i-warning k-hidden'></span>\").insertAfter(element);\n\n            that._label();\n            that._applyCssClasses();\n            kendo.notify(that);\n        },\n\n        options: {\n            name: \"MaskedTextBox\",\n            clearPromptChar: false,\n            unmaskOnPost: false,\n            promptChar: \"_\",\n            culture: \"\",\n            rules: {},\n            value: \"\",\n            mask: \"\",\n            label: null,\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        events: [\n            CHANGE\n        ],\n\n        rules: {\n            \"0\": /\\d/,\n            \"9\": /\\d|\\s/,\n            \"#\": /\\d|\\s|\\+|\\-/,\n            \"L\": /[a-zA-Z]/,\n            \"?\": /[a-zA-Z]|\\s/,\n            \"&\": /\\S/,\n            \"C\": /./,\n            \"A\": /[a-zA-Z0-9]/,\n            \"a\": /[a-zA-Z0-9]|\\s/\n        },\n\n        setOptions: function(options) {\n            var that = this;\n\n            Widget.fn.setOptions.call(that, options);\n\n            that._rules = $.extend({}, that.rules, that.options.rules);\n\n            that._tokenize();\n\n            this._unbindInput();\n            this._bindInput();\n\n            that.value(that.element.val());\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that.floatingLabel) {\n                that.floatingLabel.destroy();\n            }\n\n            that.element.off(NS);\n\n            if (that._formElement) {\n                that._formElement.off(\"reset\", that._resetHandler);\n                that._formElement.off(\"submit\", that._submitHandler);\n            }\n\n            Widget.fn.destroy.call(that);\n        },\n\n        raw: function() {\n            var unmasked = this._unmask(this.element.val(), 0);\n            return unmasked.replace(new RegExp(escapeRegExp(this.options.promptChar), \"g\"), \"\");\n        },\n\n        value: function(value) {\n            var element = this.element;\n            var emptyMask = this._emptyMask;\n\n            if (value === undefined) {\n                return this.element.val();\n            }\n\n            if (value === null) {\n                value = \"\";\n            }\n\n            if (!emptyMask) {\n                this._oldValue = value;\n                element.val(value);\n                return;\n            }\n\n            value = this._unmask(value + \"\");\n\n            element.val(value ? emptyMask : \"\");\n\n            this._mask(0, this._maskLength, value);\n            this._unmaskedValue = null;\n\n            value = element.val();\n            this._oldValue = value;\n\n            if (kendo._activeElement() !== element) {\n                if (value === emptyMask) {\n                    element.val(\"\");\n                } else {\n                    this._togglePrompt();\n                }\n            }\n        },\n\n        _togglePrompt: function(show) {\n            var DOMElement = this.element[0];\n            var value = DOMElement.value;\n\n            if (this.options.clearPromptChar) {\n                if (!show) {\n                    value = value.replace(new RegExp(escapeRegExp(this.options.promptChar), \"g\"), \" \");\n                } else {\n                    value = this._oldValue;\n                }\n\n                DOMElement.value = this._old = value;\n            }\n        },\n\n        readonly: function(readonly) {\n            var that = this;\n\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n\n            if (that.floatingLabel) {\n                that.floatingLabel.readonly(readonly === undefined ? true : readonly);\n            }\n        },\n\n        enable: function(enable) {\n            var that = this;\n\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n\n            if (that.floatingLabel) {\n                that.floatingLabel.enable(enable = enable === undefined ? true : enable);\n            }\n        },\n\n        _bindInput: function() {\n            var that = this;\n\n            if (that._maskLength) {\n                if(that.options.$angular) {//detach \"input\" event in angular scenario to keep the ng-model consistent and updated only when the change event of the textbox is raised.\n                    that.element.off(INPUT);\n                }\n                that.element\n                    .on(ns(KEYDOWN), that._keydown.bind(that))\n                    .on(ns(DROP), that._drop.bind(that))\n                    .on(ns(CHANGE), that._trackChange.bind(that))\n                    .on(INPUT_EVENT_NAME, that._inputHandler.bind(that));\n\n\n                if (kendo.support.browser.msie) {\n                    var version = kendo.support.browser.version;\n                    if (version > 8 && version < 11) {\n                        var events = [ns(MOUSEUP), ns(DROP), ns(KEYDOWN), ns(PASTE)].join(\" \");\n                        that.element.on(events, that._legacyIEInputHandler.bind(that));\n                    }\n                }\n            }\n        },\n\n        _unbindInput: function() {\n            var events = [INPUT_EVENT_NAME, ns(KEYDOWN), ns(MOUSEUP), ns(DROP), ns(PASTE)].join(\" \");\n\n            this.element.off(events);\n        },\n\n        _editable: function(options) {\n            var that = this;\n            var element = that.element;\n            var wrapper = that.wrapper;\n            var disable = options.disable;\n            var readonly = options.readonly;\n\n            that._unbindInput();\n\n            if (!readonly && !disable) {\n                element.prop(DISABLED, false)\n                       .prop(READONLY, false);\n\n                wrapper.removeClass(STATEDISABLED);\n\n                that._bindInput();\n            } else {\n                element.attr(DISABLED, disable)\n                       .attr(READONLY, readonly);\n\n                wrapper.toggleClass(STATEDISABLED, disable);\n            }\n        },\n\n        _change: function() {\n            var that = this;\n            var value = that.value();\n\n            if (value !== that._oldValue) {\n                that._oldValue = value;\n\n                that.trigger(CHANGE);\n                that.element.trigger(CHANGE);\n            }\n            else if (value === \"\" && that.__changing) {//ensure change is raised when empty value (mask is stripped from input content) for consistent ngjs model update\n                that.element.trigger(CHANGE);\n            }\n        },\n\n        inputChange: function(backward) {\n            var that = this;\n            var old = that._old;\n            var element = that.element[0];\n            var value = element.value;\n            var selection = caret(element);\n            var cursor = selection[1];\n            var lengthDiff = value.length - old.length;\n            var mobile = kendo.support.mobileOS;\n\n            if (that.__dropping && lengthDiff < 0) {//dropping in same input on WebKit is raised once for the removal phase and once for the adding phase\n                return;\n            }\n\n            if (lengthDiff === -1 && mobile.android && mobile.browser === \"chrome\") {\n                backward = true;\n            }\n\n            var contentStart = min(cursor, stringDiffStart(value, old));\n            var content = value.substring(contentStart, cursor);\n\n            element.value = value.substring(0, contentStart) + that._emptyMask.substring(contentStart);\n\n            var caretPos = that._mask(contentStart, cursor, content);\n            var endContent = that._trimStartPromptChars(value.substring(cursor), min(lengthDiff, caretPos - contentStart));\n\n            var unmasked = that._unmask(endContent, old.length - endContent.length);\n            that._mask(caretPos, caretPos, unmasked);\n\n            if (backward) {\n                caretPos = that._findCaretPosBackwards(contentStart);\n            }\n\n            caret(element, caretPos);\n\n            //clean-up flags\n            that.__dropping = false;\n        },\n\n        _trimStartPromptChars: function(content, count) {\n            var promptChar = this.options.promptChar;\n\n            while (count-- > 0 && content.indexOf(promptChar) === 0) {\n                content = content.substring(1);\n            }\n\n            return content;\n        },\n\n        _findCaretPosBackwards: function(pos) {\n            var caretStart = this._find(pos, true);\n            if (caretStart < pos) {\n                caretStart += 1;\n            }\n\n            return caretStart;\n        },\n\n        _inputHandler: function() {\n            if (kendo._activeElement() !== this.element[0]) {\n                return;\n            }\n\n            this.inputChange(this.__backward);\n        },\n\n        _legacyIEInputHandler: function(e) {\n            var that = this;\n            var input = that.element[0];\n            var value = input.value;\n            var type = e.type;\n\n            that.__pasting = (type === \"paste\");\n\n            setTimeout(function() {\n                if(type === \"mouseup\" && that.__pasting) {\n                    return;\n                }\n                if (input.value && input.value !== value) {\n                    that.inputChange(that.__backward);\n                }\n            });\n        },\n\n        _trackChange: function() {\n            var that = this;\n\n            that.__changing = true;\n            setTimeout(function() { that.__changing = false; });\n        },\n\n        _form: function() {\n            var that = this;\n            var element = that.element;\n            var formId = element.attr(\"form\");\n            var form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    setTimeout(function() {\n                        that.value(element[0].value);\n                    });\n                };\n\n                that._submitHandler = function() {\n                    that.element[0].value = that._old = that.raw();\n                };\n\n                if (that.options.unmaskOnPost) {\n                    form.on(\"submit\", that._submitHandler);\n                }\n\n                that._formElement = form.on(\"reset\", that._resetHandler);\n            }\n        },\n\n        _keydown: function(e) {\n            var key = e.keyCode;\n\n            this.__backward = key === keys.BACKSPACE;\n\n            if (key === keys.ENTER) {\n                this._change();\n            }\n        },\n\n        _drop: function() {\n            this.__dropping = true;\n        },\n\n        _find: function(idx, backward) {\n            var value = this.element.val() || this._emptyMask;\n            var step = 1;\n\n            if (backward === true) {\n                step = -1;\n            }\n\n            while (idx > -1 || idx <= this._maskLength) {\n                if (value.charAt(idx) !== this.tokens[idx]) {\n                    return idx;\n                }\n\n                idx += step;\n            }\n\n            return -1;\n        },\n\n        _mask: function(start, end, value, backward) {\n            var element = this.element[0];\n            var current = element.value || this._emptyMask;\n            var empty = this.options.promptChar;\n            var valueLength;\n            var chrIdx = 0;\n            var unmasked;\n            var chr;\n            var idx;\n\n            start = this._find(start, backward);\n\n            if (start > end) {\n                end = start;\n            }\n\n            unmasked = this._unmask(current.substring(end), end);\n            value = this._unmask(value, start);\n            valueLength = value.length;\n\n            if (value) {\n                unmasked = unmasked.replace(new RegExp(\"^_{0,\" + valueLength + \"}\"), \"\");\n            }\n\n            value += unmasked;\n            current = current.split(\"\");\n            chr = value.charAt(chrIdx);\n\n            while (start < this._maskLength) {\n                current[start] = chr || empty;\n                chr = value.charAt(++chrIdx);\n\n                if (idx === undefined && chrIdx > valueLength) {\n                    idx = start;\n                }\n\n                start = this._find(start + 1);\n            }\n\n            element.value = this._old = current.join(\"\");\n\n            if (kendo._activeElement() === element) {\n                if (idx === undefined) {\n                    idx = this._maskLength;\n                }\n\n                caret(element, idx);\n            }\n\n            return idx;\n        },\n\n        _unmask: function(value, idx) {\n            if (!value) {\n                return \"\";\n            }\n\n            if (this._unmaskedValue === value) {\n                return this._unmaskedValue;\n            }\n            value = (value + \"\").split(\"\");\n\n            var chr;\n            var token;\n            var chrIdx = 0;\n            var tokenIdx = idx || 0;\n\n            var empty = this.options.promptChar;\n\n            var valueLength = value.length;\n            var tokensLength = this.tokens.length;\n\n            var result = \"\";\n\n            while (tokenIdx < tokensLength) {\n                chr = value[chrIdx];\n                token = this.tokens[tokenIdx];\n\n                if (chr === token || chr === empty) {\n                    result += chr === empty ? empty : \"\";\n\n                    chrIdx += 1;\n                    tokenIdx += 1;\n                } else if (typeof token !== \"string\") {\n                    if ((token && token.test && token.test(chr)) || (kendo.isFunction(token) && token(chr))) {\n                        result += chr;\n                        tokenIdx += 1;\n                    } else {\n                        if (valueLength === 1) {\n                            this._blinkInvalidState();\n                        }\n                    }\n\n                    chrIdx += 1;\n                } else {\n                    tokenIdx += 1;\n                }\n\n                if (chrIdx >= valueLength) {\n                    break;\n                }\n            }\n            this._unmaskedValue = result;\n            return result;\n        },\n\n        _label: function() {\n            var that = this;\n            var element = that.element;\n            var options = that.options;\n            var id = element.attr(\"id\");\n            var floating;\n            var labelText;\n\n            if (options.label !== null) {\n                floating = isPlainObject(options.label) ? options.label.floating : false;\n                labelText = isPlainObject(options.label) ? options.label.content : options.label;\n\n                if (floating) {\n                    that._floatingLabelContainer = that.wrapper.wrap(\"<span></span>\").parent();\n                    that.floatingLabel = new kendo.ui.FloatingLabel(that._floatingLabelContainer, { widget: that });\n                }\n\n                if (kendo.isFunction(labelText)) {\n                    labelText = labelText.call(that);\n                }\n\n                if (!labelText) {\n                    labelText = \"\";\n                }\n\n                if (!id) {\n                    id = options.name + \"_\" + kendo.guid();\n                    element.attr(\"id\", id);\n                }\n\n                that._inputLabel = $(\"<label class='\" + LABELCLASSES + \"' for='\" + id + \"'>\" + labelText + \"</label>'\").insertBefore(that.wrapper);\n            }\n        },\n\n        _wrapper: function () {\n            var that = this;\n            var element = that.element;\n            var DOMElement = element[0];\n\n            var wrapper = element.wrap(\"<span class='k-input k-maskedtextbox'></span>\").parent();\n            wrapper[0].style.cssText = DOMElement.style.cssText;\n            DOMElement.style.width = \"100%\";\n            that.wrapper = wrapper.addClass(DOMElement.className).removeClass('input-validation-error');\n        },\n\n        _blinkInvalidState: function () {\n            var that = this;\n\n            that._addInvalidState();\n            clearTimeout(that._invalidStateTimeout);\n            that._invalidStateTimeout = setTimeout(that._removeInvalidState.bind(that), 100);\n        },\n\n        _addInvalidState: function() {\n            var that = this;\n\n            that.wrapper.addClass(STATEINVALID);\n            that._validationIcon.removeClass(\"k-hidden\");\n        },\n\n        _removeInvalidState: function () {\n            var that = this;\n\n            that.wrapper.removeClass(STATEINVALID);\n            that._validationIcon.addClass(\"k-hidden\");\n            that._invalidStateTimeout = null;\n        },\n\n        _tokenize: function() {\n            var tokens = [];\n            var tokenIdx = 0;\n\n            var mask = this.options.mask || \"\";\n            var maskChars = mask.split(\"\");\n            var length = maskChars.length;\n            var idx = 0;\n            var chr;\n            var rule;\n\n            var emptyMask = \"\";\n            var promptChar = this.options.promptChar;\n            var numberFormat = kendo.getCulture(this.options.culture).numberFormat;\n            var rules = this._rules;\n\n            for (; idx < length; idx++) {\n                chr = maskChars[idx];\n                rule = rules[chr];\n\n                if (rule) {\n                    tokens[tokenIdx] = rule;\n                    emptyMask += promptChar;\n                    tokenIdx += 1;\n                } else {\n                    if (chr === \".\" || chr === \",\") {\n                        chr = numberFormat[chr];\n                    } else if (chr === \"$\") {\n                        chr = numberFormat.currency.symbol;\n                    } else if (chr === \"\\\\\") {\n                        idx += 1;\n                        chr = maskChars[idx];\n                    }\n\n                    chr = chr.split(\"\");\n\n                    for (var i = 0, l = chr.length; i < l; i++) {\n                        tokens[tokenIdx] = chr[i];\n                        emptyMask += chr[i];\n                        tokenIdx += 1;\n                    }\n                }\n            }\n\n            this.tokens = tokens;\n\n            this._emptyMask = emptyMask;\n            this._maskLength = emptyMask.length;\n        }\n    });\n\n    function escapeRegExp(text) {\n        return text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n    }\n\n    kendo.cssProperties.registerPrefix(\"MaskedTextBox\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"MaskedTextBox\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    ui.plugin(MaskedTextBox);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.menu',[ \"kendo.popup\", \"kendo.data\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"menu\",\n    name: \"Menu\",\n    category: \"web\",\n    description: \"The Menu widget displays hierarchical data as a multi-level menu.\",\n    depends: [ \"popup\", \"data\", \"data.odata\" ]\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        activeElement = kendo._activeElement,\n        touch = (kendo.support.touch && kendo.support.mobileOS),\n        isArray = Array.isArray,\n        HierarchicalDataSource = kendo.data.HierarchicalDataSource,\n        MOUSEDOWN = \"mousedown\",\n        CLICK = \"click\",\n        DELAY = 30,\n        SCROLLSPEED = 50,\n        extend = $.extend,\n        each = $.each,\n        template = kendo.template,\n        keys = kendo.keys,\n        Widget = ui.Widget,\n        excludedNodesRegExp = /^(ul|a|div)$/i,\n        NS = \".kendoMenu\",\n        IMG = \"img\",\n        OPEN = \"open\",\n        MENU = \"k-menu\",\n        LINK = \"k-link k-menu-link\",\n        LINK_SELECTOR = \".k-link\",\n        ICON_SELECTOR = \".k-menu-expand-arrow-icon\",\n        LAST = \"k-last\",\n        CLOSE = \"close\",\n        TIMER = \"timer\",\n        FIRST = \"k-first\",\n        IMAGE = \"k-image\",\n        SELECT = \"select\",\n        ZINDEX = \"zIndex\",\n        ACTIVATE = \"activate\",\n        DEACTIVATE = \"deactivate\",\n        POINTERDOWN = \"touchstart\" + NS + \" MSPointerDown\" + NS + \" pointerdown\" + NS,\n        pointers = kendo.support.pointers,\n        msPointers = kendo.support.msPointers,\n        allPointers = msPointers || pointers,\n        CHANGE = \"change\",\n        ERROR = \"error\",\n        TOUCHSTART = kendo.support.touch ? \"touchstart\" : \"\",\n        MOUSEENTER = pointers ? \"pointerover\" : (msPointers ? \"MSPointerOver\" : \"mouseenter\"),\n        MOUSELEAVE = pointers ? \"pointerout\" : (msPointers ? \"MSPointerOut\" : \"mouseleave\"),\n        MOUSEWHEEL = \"DOMMouseScroll\" + NS + \" mousewheel\" + NS,\n        RESIZE = kendo.support.resize + NS,\n        SCROLLWIDTH = \"scrollWidth\",\n        SCROLLHEIGHT = \"scrollHeight\",\n        OFFSETWIDTH = \"offsetWidth\",\n        OFFSETHEIGHT = \"offsetHeight\",\n        POPUP_ID_ATTR = \"group\",\n        POPUP_OPENER_ATTR = \"groupparent\",\n        DOCUMENT_ELEMENT = $(document.documentElement),\n        KENDOPOPUP = \"kendoPopup\",\n        HOVERSTATE = \"k-hover\",\n        FOCUSEDSTATE = \"k-focus\",\n        DISABLEDSTATE = \"k-disabled\",\n        SELECTEDSTATE = \"k-selected\",\n        menuSelector = \".k-menu\",\n        groupSelector = \".k-menu-group\",\n        animationContainerSelector = \".k-animation-container\",\n        popupSelector = groupSelector + \",\" + animationContainerSelector,\n        allItemsSelector = \":not(.k-list) > .k-item:not([role='treeitem'])\",\n        disabledSelector = \".k-item.k-disabled\",\n        itemSelector = \".k-item\",\n        availableItemsSelector = \".k-item:not(.k-disabled)\",\n        linkSelector = \".k-item:not(.k-disabled) > .k-link\",\n        exclusionSelector = \":not(.k-item.k-separator)\",\n        templateSelector = \"div:not(.k-animation-container,.k-list-container)\",\n        scrollButtonSelector = \".k-menu-scroll-button\",\n        touchPointerTypes = { \"2\": 1, \"touch\": 1 },\n        STRING = \"string\",\n        DATABOUND = \"dataBound\",\n        ARIA_EXPANDED = \"aria-expanded\",\n        ROLE = \"role\",\n\n        bindings = {\n            text: \"dataTextField\",\n            url: \"dataUrlField\",\n            spriteCssClass: \"dataSpriteCssClassField\",\n            imageUrl: \"dataImageUrlField\",\n            imageAttr: \"dataImageAttrField\",\n            content: \"dataContentField\"\n        },\n\n        rendering = {\n            wrapperCssClass: function(group, item) {\n                var result = \"k-item k-menu-item\",\n                    index = item.index;\n\n                if (item.enabled === false) {\n                    result += \" k-disabled\";\n                }\n\n                if (group.firstLevel && index === 0) {\n                    result += \" k-first\";\n                }\n\n                if (index == group.length - 1) {\n                    result += \" k-last\";\n                }\n\n                if (item.cssClass) {\n                    result += \" \" + item.cssClass;\n                }\n\n                if (item.attr && item.attr.hasOwnProperty(\"class\")) {\n                    result += \" \" + item.attr[\"class\"];\n                }\n\n                if (item.selected) {\n                    result += \" \" + SELECTEDSTATE;\n                }\n\n                return result;\n            },\n\n            itemCssAttributes: function (item) {\n                var result = \"\";\n                var attributes = item.attr || {};\n\n                for (var attr in attributes) {\n                    if(attributes.hasOwnProperty(attr) && attr !== \"class\") {\n                        result += attr + \"=\\\"\" + attributes[attr] + \"\\\" \";\n                    }\n                }\n\n                return result;\n            },\n\n            imageCssAttributes: function (imgAttributes) {\n                var result = \"\";\n                var attributes = imgAttributes && imgAttributes.toJSON ? imgAttributes.toJSON() : {};\n\n                if (!attributes['class']) {\n                    attributes['class'] = IMAGE;\n                } else {\n                    attributes['class'] += \" \" + IMAGE;\n                }\n\n                for (var attr in attributes) {\n                    if(attributes.hasOwnProperty(attr)) {\n                        result += attr + \"=\\\"\" + attributes[attr] + \"\\\" \";\n                    }\n                }\n\n                return result;\n            },\n\n            contentCssAttributes: function (item) {\n                var result = \"\";\n                var attributes = item.contentAttr || {};\n                var defaultClasses = \"k-content k-group k-menu-group k-menu-group-md\";\n\n                if (!attributes['class']) {\n                    attributes['class'] = defaultClasses;\n                } else {\n                    attributes['class'] += \" \" + defaultClasses;\n                }\n\n                for (var attr in attributes) {\n                    if(attributes.hasOwnProperty(attr)) {\n                        result += attr + \"=\\\"\" + attributes[attr] + \"\\\" \";\n                    }\n                }\n\n                return result;\n            },\n\n            textClass: function() {\n                return LINK;\n            },\n\n            arrowClass: function(item, group) {\n                var result = \"k-menu-expand-arrow-icon k-icon\";\n\n                if (group.horizontal) {\n                    result += \" k-i-arrow-s\";\n                } else {\n                    result += \" k-i-arrow-e\";\n                }\n\n                return result;\n            },\n\n            groupAttributes: function(group) {\n                return group.expanded !== true ? \" style='display:none'\" : \"\";\n            },\n\n            groupCssClass: function() {\n                return \"k-group k-menu-group k-menu-group-md\";\n            },\n\n            content: function(item) {\n                return item.content ? item.content : \"&nbsp;\";\n            }\n    };\n\n    function getEffectDirection(direction, root) {\n        direction = direction.split(\" \")[!root+0] || direction;\n        return direction.replace(\"top\", \"up\").replace(\"bottom\", \"down\");\n    }\n\n    function parseDirection(direction, root, isRtl) {\n        direction = direction.split(\" \")[!root+0] || direction;\n        var output = { origin: [\"bottom\", (isRtl ? \"right\" : \"left\")], position: [\"top\", (isRtl ? \"right\" : \"left\")] },\n            horizontal = /left|right/.test(direction);\n\n        if (horizontal) {\n            output.origin = [ \"top\", direction ];\n            output.position[1] = kendo.directions[direction].reverse;\n        } else {\n            output.origin[0] = direction;\n            output.position[0] = kendo.directions[direction].reverse;\n        }\n\n        output.origin = output.origin.join(\" \");\n        output.position = output.position.join(\" \");\n\n        return output;\n    }\n\n    function contains(parent, child) {\n        try {\n            return $.contains(parent, child);\n        } catch (e) {\n            return false;\n        }\n    }\n\n    function updateItemClasses(item) {\n        item = $(item);\n        var omitWrap = item.attr(kendo.attr(\"omit-wrap\"));\n\n        if (omitWrap) {\n            return;\n        }\n\n        item.addClass(\"k-item k-menu-item\")\n            .children(IMG)\n            .addClass(IMAGE);\n\n        item\n            .children(\"a\")\n            .addClass(LINK)\n            .children(IMG)\n            .addClass(IMAGE);\n\n        item\n            .filter(\":not([disabled])\");\n\n        item\n            .filter(\".k-separator\")\n            .removeClass(\"k-menu-item\")\n            .addClass(\"k-menu-separator\")\n            .empty()\n            .append(\"&nbsp;\");\n\n        item\n            .filter(\"li[disabled]\")\n            .addClass(DISABLEDSTATE)\n            .prop(\"disabled\", false)\n            .attr(\"aria-disabled\", true);\n\n        if (!item.filter(\"[role]\").length) {\n            item.attr(ROLE, \"menuitem\");\n        }\n\n        if (!item.children(LINK_SELECTOR).length) {\n            item.contents()      // exclude groups, real links, templates and empty text nodes\n                .filter(function() { return (!this.nodeName.match(excludedNodesRegExp) && !(this.nodeType === 3 && !kendo.trim(this.nodeValue))); })\n                .wrapAll(\"<span class='\" + LINK + \"'></span>\")\n                .filter(function(idx, elm) { return elm.nodeType === 3; })\n                .wrap(\"<span class='k-menu-link-text'></span>\");\n        }\n\n        updateArrow(item);\n        updateFirstLast(item);\n    }\n\n    function updateArrow(item) {\n        item = $(item);\n\n        item.find(\"> .k-link > .k-menu-expand-arrow > [class*=k-i-arrow]:not(.k-sprite)\").parent().remove();\n\n        item.filter(\":has(.k-menu-group)\")\n            .children(\".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))\")\n            .each(function () {\n                var item = $(this),\n                    arrowCssClass = getArrowCssClass(item);\n\n                item.append(\"<span class='k-menu-expand-arrow'><span class='k-menu-expand-arrow-icon k-icon \" + arrowCssClass + \"'></span></span>\");\n            });\n    }\n\n    function getArrowCssClass(item) {\n        var arrowCssClass,\n            parent = item.parent().parent(),\n            isRtl = kendo.support.isRtl(parent);\n\n        if (parent.hasClass(MENU + \"-horizontal\")) {\n            arrowCssClass = \"k-i-arrow-s\";\n        } else {\n            if (isRtl) {\n                arrowCssClass = \"k-i-arrow-w\";\n            }\n            else {\n                arrowCssClass = \"k-i-arrow-e\";\n            }\n        }\n        return arrowCssClass;\n    }\n\n    function updateFirstLast (item) {\n        item = $(item);\n\n        item.filter(\".k-first:not(:first-child)\").removeClass(FIRST);\n        item.filter(\".k-last:not(:last-child)\").removeClass(LAST);\n        item.filter(\":first-child\").addClass(FIRST);\n        item.filter(\":last-child\").addClass(LAST);\n    }\n\n    function updateHasAriaPopup (parents) {\n        if (parents && parents.length) {\n            for (var index in parents) {\n                var parentLi = parents.eq(index);\n                if (parentLi.find(\"ul\").length) {\n                    parentLi.attr(\"aria-haspopup\", true);\n                } else {\n                    parentLi.removeAttr(\"aria-haspopup\");\n                }\n            }\n        }\n    }\n\n    function getParentLiItems(group) {\n        if (!group.hasClass(MENU)) {\n            return group.parentsUntil(\".\" + MENU, \"li\");\n        }\n    }\n\n    function storeItemSelectEventHandler (element, options) {\n        var selectHandler = getItemSelectEventHandler(options);\n        if(selectHandler) {\n            setItemData(element, selectHandler);\n        }\n\n        if (options.items) {\n            $(element).children(\"ul\").children(\"li\").each(function(i){\n                storeItemSelectEventHandler(this, options.items[i]);\n            });\n        }\n    }\n\n    function setItemData (element, selectHandler) {\n        $(element).children(\".k-link\").data({\n            selectHandler : selectHandler\n        });\n    }\n\n    function getItemSelectEventHandler (options) {\n        var selectHandler = options.select,\n            isFunction = kendo.isFunction;\n\n        if (selectHandler && isFunction(selectHandler)) {\n            return selectHandler;\n        }\n        return null;\n    }\n\n    function popupOpenerSelector(id){\n        return id ? \"li[data-groupparent='\" + id + \"']\" : \"li[data-groupparent]\";\n    }\n    function popupGroupSelector(id) {\n        var selector = id ? \"[data-group='\" + id + \"']\" : \"[data-group]\";\n        return \"ul\" + selector + \",div\" + selector;\n    }\n    function getChildPopups (currentPopup, overflowWrapper) {\n        var childPopupOpener = currentPopup.find(popupOpenerSelector());\n        var result = [];\n        childPopupOpener.each(function(i, opener){\n            opener = $(opener);\n            var popupId = opener.data(POPUP_OPENER_ATTR);\n            var popup = currentPopup;\n            while(popupId) {\n                popup = overflowWrapper.find(popupGroupSelector(popupId) + \":visible\");\n                if (popup.length) {\n                    result.push(popup);\n                }\n                opener = popup.find(popupOpenerSelector());\n                popupId = opener.data(POPUP_OPENER_ATTR);\n            }\n        });\n\n        return result;\n    }\n\n    function popupParentItem(popupElement, overflowWrapper) {\n        var popupId = popupElement.data(POPUP_ID_ATTR);\n        return popupId ? overflowWrapper.find(popupOpenerSelector(popupId)) : $([]);\n    }\n\n    function itemPopup(item, overflowWrapper) {\n        var popupId = item.data(POPUP_OPENER_ATTR);\n        return popupId ? overflowWrapper.children(animationContainerSelector).children(popupGroupSelector(popupId)) : $([]);\n    }\n\n    function overflowMenuParents(current, overflowWrapper) {\n        var parents = [];\n        var getParents = function(item){\n            while (item.parentNode && !overflowWrapper.is(item.parentNode)) {\n                parents.push(item.parentNode);\n                item = item.parentNode;\n            }\n        };\n        var elem = current[0] || current;\n        getParents(elem);\n        var last = parents[parents.length - 1];\n        while($(last).is(animationContainerSelector)){\n            var popupElement = $(last).children(\"ul\");\n            elem = popupParentItem(popupElement, overflowWrapper)[0];\n            if (!elem) {\n                break;\n            }\n            parents.push(elem);\n            getParents(elem);\n            last = parents[parents.length - 1];\n        }\n        return parents;\n    }\n\n    function mousewheelDelta(e) {\n        var delta = 0;\n\n        if (e.wheelDelta) {\n            delta = -e.wheelDelta / 120;\n            delta = delta > 0 ? Math.ceil(delta) : Math.floor(delta);\n        }\n\n        if (e.detail) {\n            delta = Math.round(e.detail / 3);\n        }\n\n        return delta;\n    }\n\n    function parentsScroll(current, scrollDirection) {\n        var scroll = 0;\n        var parent = current.parentNode;\n        while(parent && !isNaN(parent[scrollDirection])) {\n            scroll += parent[scrollDirection];\n            parent = parent.parentNode;\n        }\n        return scroll;\n    }\n\n    function isPointerTouch(e){\n        return allPointers && e.originalEvent && e.originalEvent.pointerType in touchPointerTypes;\n    }\n\n    function isTouch(e){\n        var ev = e.originalEvent;\n        return touch && /touch/i.test(ev.type || \"\");\n    }\n\n    function removeSpacesBetweenItems(ul){\n        ul.contents().filter(function(){ return this.nodeName != \"LI\"; }).remove();\n    }\n\n    var Menu = kendo.ui.DataBoundWidget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.wrapper = that.element;\n            options = that.options;\n            that._accessors();\n            that._templates();\n            that._dataSource();\n\n            that._updateClasses();\n\n            that._animations(options);\n\n            that.nextItemZIndex = 100;\n\n            that._tabindex();\n\n            that._initOverflow(options);\n\n            that._attachMenuEventsHandlers();\n\n            if (options.openOnClick) {\n                that.clicked = false;\n            }\n\n            element.attr(ROLE, \"menubar\");\n\n            if (element[0].id) {\n                that._ariaId = kendo.format(\"{0}_mn_active\", element[0].id);\n            }\n\n            kendo.notify(that);\n        },\n\n        events: [\n            OPEN,\n            CLOSE,\n            ACTIVATE,\n            DEACTIVATE,\n            SELECT,\n            DATABOUND\n        ],\n\n        options: {\n            name: \"Menu\",\n            animation: {\n                open: {\n                    duration: 200\n                },\n                close: { // if close animation effects are defined, they will be used instead of open.reverse\n                    duration: 100\n                }\n            },\n            orientation: \"horizontal\",\n            direction: \"default\",\n            openOnClick: false,\n            closeOnClick: true,\n            hoverDelay: 100,\n            scrollable: false,\n            popupCollision: undefined\n        },\n\n        _initData: function() {\n            var that = this;\n\n            if (that.dataSource) {\n                that.angular(\"cleanup\", function(){\n                    return {\n                        elements: that.element.children()\n                    };\n                });\n                that.element.empty();\n\n                that.append(that.dataSource.view(), that.element);\n                that.angular(\"compile\", function(){\n                    return {\n                        elements: that.element.children()\n                    };\n                });\n            }\n        },\n\n        _attachMenuEventsHandlers: function() {\n            var that = this;\n            var element = that.element;\n            var options = that.options;\n            var overflowWrapper = that._overflowWrapper();\n\n            that._checkActiveProxy = that._checkActiveElement.bind(that);\n\n            (overflowWrapper || element).on(POINTERDOWN, itemSelector, that._focusHandler.bind(that))\n                   .on(CLICK + NS, disabledSelector, false)\n                   .on(CLICK + NS, itemSelector, that._click.bind(that))\n                   .on(POINTERDOWN + \" \" + MOUSEDOWN + NS, \".k-content\", that._preventClose.bind(that))\n                   .on(MOUSEENTER + NS, availableItemsSelector, that._mouseenter.bind(that))\n                   .on(MOUSELEAVE + NS, availableItemsSelector, that._mouseleave.bind(that))\n                   .on(MOUSEDOWN + NS, availableItemsSelector, that._mousedown.bind(that))\n                   .on(TOUCHSTART + NS + \" \" + MOUSEENTER + NS + \" \" + MOUSELEAVE + NS + \" \" +\n                       MOUSEDOWN + NS + \" \" + CLICK + NS, linkSelector, that._toggleHover.bind(that));\n\n            element.on(\"keydown\" + NS, that._keydown.bind(that))\n                   .on(\"focus\" + NS, that._focus.bind(that))\n                   .on(\"focus\" + NS, \".k-content\", that._focus.bind(that))\n                   .on(\"blur\" + NS, that._removeHoverItem.bind(that))\n                   .on(\"blur\" + NS, \"[tabindex]\", that._checkActiveProxy);\n\n            if (overflowWrapper) {\n                overflowWrapper\n                    .on(MOUSELEAVE + NS, popupSelector, that._mouseleavePopup.bind(that))\n                    .on(MOUSEENTER + NS, popupSelector, that._mouseenterPopup.bind(that));\n            }\n\n            if (options.openOnClick) {\n                that._documentClickHandler = that._documentClick.bind(that);\n                $(document).on(\"click\", that._documentClickHandler);\n            }\n        },\n\n        _detachMenuEventsHandlers: function() {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n\n            if (overflowWrapper) {\n                overflowWrapper.off(NS);\n            }\n\n            that.element.off(NS);\n\n            if (that._documentClickHandler) {\n                $(document).off(\"click\", that._documentClickHandler);\n            }\n        },\n\n        _initOverflow: function(options) {\n            var that = this;\n            var isHorizontal = options.orientation == \"horizontal\";\n            var backwardBtn, forwardBtn;\n\n            if (options.scrollable) {\n                that._openedPopups = {};\n                that._scrollWrapper = that.element.wrap(\"<div class='k-menu-scroll-wrapper k-\" + options.orientation + \"'></div>\").parent();\n                if (isHorizontal) {\n                    removeSpacesBetweenItems(that.element);\n                }\n\n                backwardBtn = $(that.templates.scrollButton({direction: isHorizontal ? \"left\" : \"up\"}));\n                forwardBtn = $(that.templates.scrollButton({direction: isHorizontal ? \"right\": \"down\"}));\n                backwardBtn.add(forwardBtn).appendTo(that._scrollWrapper);\n\n                that._initScrolling(that.element, backwardBtn, forwardBtn, isHorizontal);\n\n                var initialWidth = that.element.outerWidth();\n                var initialCssWidth = that.element[0].style.width;\n                initialCssWidth = initialCssWidth === \"auto\" ? \"\" : initialCssWidth;\n\n                if (isHorizontal) {\n                    $(window).on(RESIZE, function() {\n                        setTimeout(function(){\n                            that._setOverflowWrapperWidth(initialWidth, initialCssWidth);\n                            that._toggleScrollButtons(that.element, backwardBtn, forwardBtn, isHorizontal);\n                        }, 300);\n                    });\n                }\n\n                that._setOverflowWrapperWidth(initialWidth, initialCssWidth);\n                that._toggleScrollButtons(that.element, backwardBtn, forwardBtn, isHorizontal);\n            }\n        },\n\n        _overflowWrapper: function(){\n            return this._scrollWrapper || this._popupsWrapper;\n        },\n\n        _setOverflowWrapperWidth: function(initialWidth, initialCssWidth) {\n            var that = this;\n            var wrapperCssWidth = that._scrollWrapper.css(\"width\");\n\n            that._scrollWrapper.css({width: \"\"});\n            var wrapperWidth = that._scrollWrapper.outerWidth();\n            that._scrollWrapper.css({ width: wrapperCssWidth });\n\n            var menuWidth = that.element.outerWidth();\n            var borders = that.element[0].offsetWidth - that.element[0].clientWidth;\n\n            if (menuWidth != wrapperWidth && wrapperWidth > 0) {\n                var width = initialCssWidth ? Math.min(initialWidth, wrapperWidth) : wrapperWidth;\n                that.element.width(width - borders);\n                that._scrollWrapper.width(width);\n            }\n        },\n\n        _reinitOverflow: function(options) {\n            var that = this;\n            var overflowChanged = ((options.scrollable && !that.options.scrollable) || (!options.scrollable && that.options.scrollable)) ||\n                (options.scrollable && that.options.scrollable && options.scrollable.distance != that.options.scrollable.distance) ||\n                options.orientation != that.options.orientation;\n\n            if (overflowChanged) {\n                that._detachMenuEventsHandlers();\n                that._destroyOverflow();\n                that._initOverflow(options);\n                that._attachMenuEventsHandlers();\n            }\n        },\n\n        _destroyOverflow: function() {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            if(overflowWrapper) {\n                overflowWrapper.off(NS);\n                overflowWrapper.find(scrollButtonSelector).off(NS).remove();\n                overflowWrapper.children(animationContainerSelector).each(function(i, popupWrapper){\n                    var ul = $(popupWrapper).children(groupSelector);\n                    ul.off(MOUSEWHEEL);\n                    var popupParentLi = popupParentItem(ul, overflowWrapper);\n                    if (popupParentLi.length) {\n                        popupParentLi.append(popupWrapper);\n                    }\n                });\n\n                overflowWrapper.find(popupOpenerSelector()).removeAttr(\"data-groupparent\");\n                overflowWrapper.find(popupGroupSelector()).removeAttr(\"data-group\");\n                that.element.off(MOUSEWHEEL);\n                $(window).off(RESIZE);\n                overflowWrapper.contents().unwrap();\n\n                that._scrollWrapper = that._popupsWrapper = that._openedPopups = undefined;\n            }\n        },\n\n        _initScrolling: function(scrollElement, backwardBtn, forwardBtn, isHorizontal) {\n            var that = this;\n            var scrollable = that.options.scrollable;\n            var distance =  that.isNumeric(scrollable.distance) ? scrollable.distance : SCROLLSPEED;\n            var mouseWheelDistance = distance / 2;\n            var backward = \"-=\" + distance;\n            var forward = \"+=\" + distance;\n            var backwardDouble = \"-=\" + distance * 2;\n            var forwardDouble = \"+=\" + distance * 2;\n            var scrolling = false;\n            var touchEvents = false;\n\n            var scroll = function(value) {\n                var scrollValue = isHorizontal ? {\"scrollLeft\": value} : { \"scrollTop\": value };\n                scrollElement.finish().animate(scrollValue, \"fast\", \"linear\", function () {\n                    if (scrolling) {\n                        scroll(value);\n                    }\n                });\n                that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n            };\n\n            var mouseenterHandler = function(e) {\n                if (!scrolling && !touchEvents) {\n                    scroll(e.data.direction);\n                    scrolling = true;\n                }\n            };\n\n            var mousedownHandler = function(e) {\n                var scrollValue = isHorizontal ? {\"scrollLeft\": e.data.direction} : { \"scrollTop\": e.data.direction };\n                touchEvents = isTouch(e) || isPointerTouch(e);\n                scrollElement.stop().animate(scrollValue, \"fast\", \"linear\", function(){\n                    if (!touchEvents) {\n                        $(e.currentTarget).trigger(MOUSEENTER);\n                    } else {\n                         that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n                         scrolling = true;\n                    }\n                });\n                scrolling = false;\n\n                e.stopPropagation();\n                e.preventDefault();\n            };\n\n            backwardBtn.on(MOUSEENTER + NS, {direction: backward}, mouseenterHandler)\n                .on(kendo.eventMap.down + NS, {direction: backwardDouble}, mousedownHandler);\n\n            forwardBtn.on(MOUSEENTER + NS, {direction: forward}, mouseenterHandler)\n                .on(kendo.eventMap.down + NS, {direction: forwardDouble}, mousedownHandler);\n\n            backwardBtn.add(forwardBtn)\n                .on(MOUSELEAVE + NS, function() {\n                    scrollElement.stop();\n                    scrolling = false;\n                    that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n                });\n\n            scrollElement.on(MOUSEWHEEL, function(e){\n                if (!e.ctrlKey && !e.shiftKey && !e.altKey) {\n                    var wheelDelta = mousewheelDelta(e.originalEvent);\n                    var scrollSpeed = Math.abs(wheelDelta) * mouseWheelDistance;\n                    var value = (wheelDelta > 0 ? \"+=\" : \"-=\") + scrollSpeed;\n                    var scrollValue = isHorizontal ? {\"scrollLeft\": value} : {\"scrollTop\": value };\n\n                    that._closeChildPopups(scrollElement);\n\n                    scrollElement.finish().animate(scrollValue, \"fast\", \"linear\", function(){\n                        that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n                    });\n                    e.preventDefault();\n                }\n            });\n        },\n\n        isNumeric: function(n) {\n            return !isNaN(parseFloat(n)) && isFinite(n);\n        },\n\n        _toggleScrollButtons: function(scrollElement, backwardBtn, forwardBtn, horizontal) {\n            var currentScroll = horizontal ? kendo.scrollLeft(scrollElement) : scrollElement.scrollTop();\n            var scrollSize = horizontal ? SCROLLWIDTH : SCROLLHEIGHT;\n            var offset = horizontal ? OFFSETWIDTH : OFFSETHEIGHT;\n\n            backwardBtn.toggle(currentScroll !== 0);\n            forwardBtn.toggle(currentScroll < scrollElement[0][scrollSize] - scrollElement[0][offset] - 1);\n        },\n\n        setOptions: function(options) {\n            var animation = this.options.animation;\n\n            this._animations(options);\n\n            options.animation = extend(true, animation, options.animation);\n\n            if (\"dataSource\" in options) {\n                this._dataSource(options);\n            }\n\n            this._updateClasses();\n            this._reinitOverflow(options);\n\n            Widget.fn.setOptions.call(this, options);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that._detachMenuEventsHandlers();\n\n            that._destroyOverflow();\n\n            kendo.destroy(that.element);\n        },\n\n        enable: function (element, enable) {\n            this._toggleDisabled(element, enable !== false);\n\n            return this;\n        },\n\n        disable: function (element) {\n            this._toggleDisabled(element, false);\n\n            return this;\n        },\n\n        attemptGetItem: function (candidate) {\n            candidate = candidate || this.element;\n            var item = this.element.find(candidate);\n            var overflowWrapper = this._overflowWrapper();\n\n            if (item.length || candidate === this.element){\n                return item;\n            } else if (overflowWrapper) {\n                return overflowWrapper.find(candidate);\n            } else {\n                return $();\n            }\n        },\n\n        append: function (item, referenceItem) {\n            referenceItem = this.attemptGetItem(referenceItem);\n\n            var inserted = this._insert(item, referenceItem, referenceItem.length ? this._childPopupElement(referenceItem) : null);\n\n            each(inserted.items, function (i) {\n                inserted.group.append(this);\n                updateArrow(this);\n                storeItemSelectEventHandler(this, item[i] || item);\n            });\n\n            updateArrow(referenceItem);\n            updateFirstLast(inserted.group.find(\".k-first, .k-last\").add(inserted.items));\n            updateHasAriaPopup(getParentLiItems(inserted.group));\n\n            return this;\n        },\n\n        insertBefore: function (item, referenceItem) {\n            referenceItem = this.attemptGetItem(referenceItem);\n\n            var inserted = this._insert(item, referenceItem, referenceItem.parent());\n\n            each(inserted.items, function (i) {\n                referenceItem.before(this);\n                updateArrow(this);\n                updateFirstLast(this);\n                storeItemSelectEventHandler(this, item[i] || item);\n            });\n\n            updateFirstLast(referenceItem);\n\n            return this;\n        },\n\n        insertAfter: function (item, referenceItem) {\n            referenceItem = this.attemptGetItem(referenceItem);\n\n            var inserted = this._insert(item, referenceItem, referenceItem.parent());\n\n            each(inserted.items, function (i) {\n                referenceItem.after(this);\n                updateArrow(this);\n                updateFirstLast(this);\n                storeItemSelectEventHandler(this, item[i] || item);\n            });\n\n            updateFirstLast(referenceItem);\n\n            return this;\n        },\n\n        _insert: function (item, referenceItem, parent) {\n            var that = this,\n                items, groups;\n\n            if (!referenceItem || !referenceItem.length) {\n                parent = that.element;\n            }\n\n            var plain = $.isPlainObject(item) || item instanceof kendo.data.ObservableObject,\n                groupData = {\n                    firstLevel: parent.hasClass(MENU),\n                    horizontal: parent.hasClass(MENU + \"-horizontal\"),\n                    expanded: true,\n                    length: parent.children().length\n                };\n\n            if (referenceItem && !parent.length) {\n                parent = $(that.renderGroup({ group: groupData, options: that.options })).appendTo(referenceItem);\n            }\n\n            if (plain || isArray(item) || item instanceof kendo.data.ObservableArray) { // is JSON\n                items = $($.map(plain ? [ item ] : item, function (value, idx) {\n                            if (typeof value === \"string\") {\n                                return $(value).get();\n                            } else {\n                                return $(that.renderItem({\n                                    group: groupData,\n                                    item: extend(value, { index: idx })\n                                })).get();\n                            }\n                        }));\n            } else {\n                if (typeof item == \"string\" && item.charAt(0) != \"<\") {\n                    items = that.element.find(item);\n                } else {\n                    items = $(item);\n                }\n\n                groups = items.find(\"> ul\")\n                                .addClass(\"k-menu-group k-menu-group-md\")\n                                .attr(ROLE, \"menu\");\n\n                items = items.filter(\"li\");\n\n                items.add(groups.find(\"> li\")).each(function () {\n                    updateItemClasses(this);\n                });\n            }\n\n            return { items: items, group: parent };\n        },\n\n        remove: function (element) {\n            element = this.attemptGetItem(element);\n\n            var that = this,\n                parent = element.parentsUntil(that.element, allItemsSelector),\n                group = element.parent(\"ul:not(.k-menu)\");\n\n            element.remove();\n\n            if (group && !group.children(allItemsSelector).length) {\n                var parentItems = getParentLiItems(group);\n\n                var container = group.parent(animationContainerSelector);\n\n                if (container.length) {\n                    container.remove();\n                } else {\n                    group.remove();\n                }\n\n                updateHasAriaPopup(parentItems);\n            }\n\n            if (parent.length) {\n                parent = parent.eq(0);\n\n                updateArrow(parent);\n                updateFirstLast(parent);\n            }\n\n            return that;\n        },\n\n        _openAfterLoad: function (element, dataItem) {\n            var that = this;\n            if(dataItem.loaded()) {\n                that.open(element);\n                that._loading = false;\n            } else {\n                dataItem.one(CHANGE, function(){\n                    element.find(ICON_SELECTOR).removeClass(\"k-i-loading\");\n                    if(that._loading) {\n                        that.open(element);\n                        that._loading = false;\n                    }\n                });\n            }\n        },\n\n        open: function (element) {\n            var that = this;\n            var options = that.options;\n            var horizontal = options.orientation == \"horizontal\";\n            var direction = options.direction;\n            var isRtl = kendo.support.isRtl(that.wrapper);\n            var overflowWrapper = that._overflowWrapper();\n            element = (overflowWrapper || that.element).find(element);\n\n            var dataItem = that.dataSource && that.dataSource.getByUid(element.data(kendo.ns + \"uid\"));\n\n            if(dataItem && dataItem.hasChildren && !dataItem.loaded() && !that._loading){\n                that._loading = true;\n                element.find(ICON_SELECTOR).addClass(\"k-i-loading\");\n                dataItem.load();\n                that._openAfterLoad(element, dataItem);\n                return;\n            }\n\n            if (/^(top|bottom|default)$/.test(direction)) {\n                if (isRtl) {\n                    direction = horizontal ? (direction + \" left\").replace(\"default\", \"bottom\") : \"left\";\n                } else {\n                    direction = horizontal ? (direction + \" right\").replace(\"default\", \"bottom\") : \"right\";\n                }\n            }\n\n            var visiblePopups = \">.k-popup:visible,>.k-animation-container>.k-popup:visible\";\n            var closePopup = function () {\n                var popup = $(this).data(KENDOPOPUP);\n                if (popup) {\n                    // Use the built-in close method to play the hoverDelay from the options\n                    that.close($(this).closest(\"li.k-item\"), true);\n                }\n            };\n\n            element.siblings()\n                   .find(visiblePopups)\n                   .each(closePopup);\n\n            if (overflowWrapper) {\n                element.find(visiblePopups).each(closePopup);\n            }\n\n            if (that.options.openOnClick) {\n                that.clicked = true;\n            }\n\n            element.each(function () {\n                var li = $(this);\n\n                clearTimeout(li.data(TIMER));\n\n                li.data(TIMER, setTimeout(function () {\n                    var ul = li.find(\"> .k-menu-group, > .k-animation-container > .k-menu-group\").filter(\":hidden\").first();\n                    var popup;\n                    var overflowPopup;\n\n                    if  (!ul[0] && overflowWrapper) {\n                        overflowPopup = that._getPopup(li);\n                        ul = overflowPopup && overflowPopup.element;\n                    }\n                    if (ul.is(\":visible\")) {\n                        return;\n                    }\n\n                    if (ul[0] && that._triggerEvent({ item: li[0], type: OPEN }) === false) {\n\n                        if (!ul.find(\".k-menu-group\")[0] && ul.children(\".k-item\").length > 1) {\n                            var windowHeight = $(window).height(),\n                                setScrolling = function(){\n                                    ul.css({maxHeight: windowHeight - (kendo._outerHeight(ul) - ul.height()) - kendo.getShadows(ul).bottom, overflow: \"auto\"});\n                                };\n\n                            setScrolling();\n                        } else {\n                            ul.css({maxHeight: \"\", overflow: \"\"});\n                        }\n\n                        li.data(ZINDEX, li.css(ZINDEX));\n                        var nextZindex = that.nextItemZIndex++;\n                        li.css(ZINDEX, nextZindex);\n\n                        if (that.options.scrollable) {\n                            li.parent().siblings(scrollButtonSelector).css({zIndex: ++nextZindex});\n                        }\n\n                        popup = ul.data(KENDOPOPUP);\n                        var root = li.parent().hasClass(MENU),\n                            parentHorizontal = root && horizontal,\n                            directions = parseDirection(direction, root, isRtl),\n                            effects = options.animation.open.effects,\n                            openEffects = effects !== undefined ? effects : \"slideIn:\" + getEffectDirection(direction, root);\n\n                        if (!popup) {\n                            popup = ul.kendoPopup({\n                                activate: function() { that._triggerEvent({ item: this.wrapper.parent(), type: ACTIVATE }); },\n                                deactivate: function(e) {\n                                    that._closing = false;\n                                    e.sender.element // Restore opacity after fade.\n                                        .removeData(\"targetTransform\")\n                                        .css({ opacity: \"\" });\n                                    that._triggerEvent({ item: this.wrapper.parent(), type: DEACTIVATE });\n                                },\n                                origin: directions.origin,\n                                position: directions.position,\n                                collision: options.popupCollision !== undefined ? options.popupCollision : (parentHorizontal ? \"fit\" : \"fit flip\"),\n                                anchor: li,\n                                appendTo: overflowWrapper || li,\n                                animation: {\n                                    open: extend(true, { effects: openEffects }, options.animation.open),\n                                    close: options.animation.close\n                                },\n                                open: that._popupOpen.bind(that),\n                                close: function (e) {\n                                    that._closing = e.sender.element;\n                                    var li = e.sender.wrapper.parent();\n\n                                    if (overflowWrapper) {\n                                        var popupId = e.sender.element.data(POPUP_ID_ATTR);\n                                        if (popupId) {\n                                            li = (overflowWrapper || that.element).find(popupOpenerSelector(popupId));\n                                        }\n                                        e.sender.wrapper.children(scrollButtonSelector).hide();\n                                    }\n\n                                    if (!that._triggerEvent({ item: li[0], type: CLOSE })) {\n                                        li.css(ZINDEX, li.data(ZINDEX));\n                                        li.removeData(ZINDEX);\n\n                                        if (that.options.scrollable) {\n                                            li.parent().siblings(scrollButtonSelector).css({zIndex: \"\"});\n                                        }\n\n                                        if (touch || allPointers || kendo.support.mouseAndTouchPresent) {\n                                            li.removeClass(HOVERSTATE);\n                                            that._removeHoverItem();\n                                        }\n                                    } else {\n                                        e.preventDefault();\n                                    }\n                                }\n                            }).data(KENDOPOPUP);\n\n                            ul.closest(animationContainerSelector).removeAttr(ROLE);\n                        } else {\n                            popup = ul.data(KENDOPOPUP);\n                            popup.options.origin = directions.origin;\n                            popup.options.position = directions.position;\n                            popup.options.animation.open.effects = openEffects;\n                        }\n                        ul.removeAttr(\"aria-hidden\");\n                        li.attr(ARIA_EXPANDED, true);\n\n                        that._configurePopupOverflow(popup, li);\n\n                        popup._hovered = true;\n                        popup.open();\n\n                        that._initPopupScrolling(popup);\n                    }\n\n                }, that.options.hoverDelay));\n            });\n\n            return that;\n        },\n\n        _configurePopupOverflow: function(popup, popupOpener) {\n            var that = this;\n           if (that.options.scrollable) {\n                that._wrapPopupElement(popup);\n                if (!popupOpener.attr(\"data-groupparent\")) {\n                    var groupId = new Date().getTime();\n                    popupOpener.attr(\"data-groupparent\", groupId);\n                    popup.element.attr(\"data-group\", groupId);\n                }\n           }\n        },\n\n        _wrapPopupElement: function(popup){\n            if (!popup.element.parent().is(animationContainerSelector)) {\n                popup.wrapper = kendo.wrap(popup.element, popup.options.autosize)\n                    .css({\n                        overflow: \"hidden\",\n                        display: \"block\",\n                        position: \"absolute\"\n                    });\n            }\n        },\n\n        _initPopupScrolling: function(popup, isHorizontal, skipMouseEvents) {\n            var that = this;\n\n            if (that.options.scrollable && popup.element[0].scrollHeight > popup.element[0].offsetHeight) {\n                that._initPopupScrollButtons(popup, isHorizontal, skipMouseEvents);\n            }\n        },\n\n        _initPopupScrollButtons: function(popup, isHorizontal, skipMouseEvents) {\n            var that = this;\n            var scrollButtons = popup.wrapper.children(scrollButtonSelector);\n            var animation = that.options.animation;\n            var timeout = ((animation && animation.open && animation.open.duration) || 0) + DELAY;\n            setTimeout(function() {\n                if (!scrollButtons.length) {\n                    var backwardBtn = $(that.templates.scrollButton({direction: isHorizontal ? \"left\" : \"up\"}));\n                    var forwardBtn = $(that.templates.scrollButton({direction: isHorizontal ? \"right\": \"down\"}));\n\n                    scrollButtons = backwardBtn.add(forwardBtn).appendTo(popup.wrapper);\n\n                    that._initScrolling(popup.element, backwardBtn, forwardBtn, isHorizontal);\n                    if (!skipMouseEvents) {\n                        scrollButtons.on(MOUSEENTER + NS, function() {\n                            var overflowWrapper = that._overflowWrapper();\n                            $(getChildPopups(popup.element, overflowWrapper)).each(function(i, p){\n                                var popupOpener = overflowWrapper.find(popupOpenerSelector(p.data(POPUP_ID_ATTR)));\n                                that.close(popupOpener);\n                            });\n                        })\n                        .on(MOUSELEAVE + NS, function(){\n                            setTimeout(function(){\n                                if ($.isEmptyObject(that._openedPopups)) {\n                                    that._closeParentPopups(popup.element);\n                                }\n                            }, DELAY);\n                        });\n                    }\n                }\n                that._toggleScrollButtons(popup.element, scrollButtons.first(), scrollButtons.last(), isHorizontal);\n            }, timeout);\n        },\n\n        _popupOpen: function(e) {\n            if (!this._keyTriggered) {\n                e.sender.element.children(\".\" + FOCUSEDSTATE).removeClass(FOCUSEDSTATE);\n            }\n            if (this.options.scrollable) {\n                this._setPopupHeight(e.sender);\n            }\n        },\n\n        _setPopupHeight: function(popup, isFixed){\n            var popupElement = popup.element;\n            var popups = popupElement.add(popupElement.parent(animationContainerSelector));\n\n            popups.height((popupElement.hasClass(MENU) && this._initialHeight) || \"\");\n\n            var location = popup._location(isFixed);\n            var windowHeight = $(window).height();\n            var popupOuterHeight = location.height;\n            var popupOffsetTop = isFixed ? 0 : Math.max(location.top, 0);\n            var scrollTop = isFixed ? 0 : parentsScroll(this._overflowWrapper()[0], \"scrollTop\");\n            var bottomScrollbar = window.innerHeight - windowHeight;\n            var maxHeight = windowHeight - kendo.getShadows(popupElement).bottom + bottomScrollbar;\n            var canFit = maxHeight + scrollTop > popupOuterHeight + popupOffsetTop;\n\n            if (!canFit) {\n                var height = Math.min(maxHeight, maxHeight - popupOffsetTop + scrollTop);\n                popups.css({overflow: \"hidden\", height: height + \"px\"});\n            }\n        },\n\n        close: function (items, dontClearClose) {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            var element = (overflowWrapper || that.element);\n\n            items = element.find(items);\n\n            if (!items.length) {\n                items = element.find(\">.k-item\");\n            }\n\n            var hasChildPopupsHovered = function(currentPopup){\n                var result = false;\n                if ($.isEmptyObject(that._openedPopups)) {\n                    return result;\n                }\n                $(getChildPopups(currentPopup, overflowWrapper)).each(function(i, popup){\n                    result = !!that._openedPopups[popup.data(POPUP_ID_ATTR).toString()];\n                    return !result;\n                });\n                return result;\n            };\n\n            var isPopupMouseLeaved = function(opener) {\n                var groupId = opener.data(POPUP_OPENER_ATTR);\n                return (!overflowWrapper || !groupId || !that._openedPopups[groupId.toString()]);\n            };\n\n            items.each(function () {\n                var li = $(this);\n\n                li.attr(ARIA_EXPANDED, false);\n\n                if (!dontClearClose && that._isRootItem(li)) {\n                    that.clicked = false;\n                }\n\n                clearTimeout(li.data(TIMER));\n\n                li.data(TIMER, setTimeout(function () {\n                    var popup = that._getPopup(li);\n                    if (popup && (isPopupMouseLeaved(li) || that._forceClose)) {\n                        if (!that._forceClose && hasChildPopupsHovered(popup.element)) {\n                            return;\n                        }\n\n                        popup.close();\n                        popup.element.attr(\"aria-hidden\", true);\n\n                        if (overflowWrapper) {\n                            if (that._forceClose && items.last().is(li[0])) {\n                                delete that._forceClose;\n                            }\n                        }\n                    }\n                }, that.options.hoverDelay));\n            });\n\n            return that;\n        },\n\n        _getPopup: function(li) {\n            var that = this;\n            var popup = li.find(\".k-menu-group:not(.k-list-container):not(.k-calendar-container):visible\").first().data(KENDOPOPUP);\n            var overflowWrapper = that._overflowWrapper();\n\n            if (!popup && overflowWrapper) {\n                var groupId = li.data(POPUP_OPENER_ATTR);\n                if (groupId) {\n                    var popupElement = overflowWrapper.find(popupGroupSelector(groupId));\n                    popup = popupElement.data(KENDOPOPUP);\n                }\n            }\n            return popup;\n        },\n\n        _toggleDisabled: function (items, enable) {\n            this.element.find(items).each(function () {\n                $(this)\n                    .toggleClass(DISABLEDSTATE, !enable)\n                    .attr(\"aria-disabled\", !enable);\n            });\n        },\n\n        _toggleHover: function(e) {\n            var target = $(kendo.eventTarget(e) || e.target).closest(allItemsSelector),\n                isEnter = e.type == MOUSEENTER || MOUSEDOWN.indexOf(e.type) !== -1;\n\n            target.siblings().removeClass(HOVERSTATE);\n\n            if (!target.parents(\"li.\" + DISABLEDSTATE).length) {\n                target.toggleClass(HOVERSTATE, isEnter || e.type == \"mousedown\" || e.type == \"pointerover\" || e.type == TOUCHSTART);\n            }\n\n            this._removeHoverItem();\n        },\n\n        _preventClose: function() {\n            if (!this.options.closeOnClick) {\n                this._closurePrevented = true;\n            }\n        },\n\n        _checkActiveElement: function(e) {\n            var that = this,\n                hoverItem = $(e ? e.currentTarget : this._hoverItem()),\n                target = that._findRootParent(hoverItem)[0];\n\n            if (!this._closurePrevented) {\n                setTimeout(function() {\n                    if (!document.hasFocus() || (!contains(target, kendo._activeElement()) && e && !contains(target, e.currentTarget))) {\n                        that.close(target);\n                    }\n                }, 0);\n            }\n\n            this._closurePrevented = false;\n        },\n\n        _removeHoverItem: function() {\n            var oldHoverItem = this._hoverItem();\n\n            if (oldHoverItem && oldHoverItem.hasClass(FOCUSEDSTATE)) {\n                oldHoverItem.removeClass(FOCUSEDSTATE);\n                this._oldHoverItem = null;\n            }\n        },\n\n        _updateClasses: function() {\n            var element = this.element,\n                nonContentGroupsSelector = \".k-menu-init div ul\",\n                items;\n\n            element.removeClass(\"k-menu-horizontal k-menu-vertical\");\n            element.addClass(\"k-widget k-reset k-menu-init \" + MENU).addClass(MENU + \"-\" + this.options.orientation);\n\n            if(this.options.orientation === \"vertical\") {\n                element.attr(\"aria-orientation\", \"vertical\");\n            } else {\n                element.attr(\"aria-orientation\", \"horizontal\");\n            }\n\n            element.find(\"li > ul\")\n                   .filter(function() {\n                       return !kendo.support.matchesSelector.call(this, nonContentGroupsSelector);\n                   })\n                   .addClass(\"k-group k-menu-group k-menu-group-md\")\n                   .attr(ROLE, \"menu\")\n                   .hide()\n                   .attr(\"aria-hidden\", element.is(\":visible\"))\n                   .parent(\"li\")\n                   .attr(\"aria-haspopup\", \"true\")\n                   .end()\n                   .find(\"li > div\")\n                   .addClass(\"k-content\")\n                   .attr(\"tabindex\", \"-1\"); // Capture the focus before the Menu\n\n            element.find(\"li[aria-haspopup]\").attr(ARIA_EXPANDED, false);\n\n            items = element.find(\"> li,.k-menu-group > li\");\n\n            element.removeClass(\"k-menu-init\");\n\n            items.each(function () {\n                updateItemClasses(this);\n            });\n        },\n\n        _mouseenter: function (e) {\n            var that = this;\n            var element = $(e.currentTarget);\n            var hasChildren = that._itemHasChildren(element);\n            var popupId = element.data(POPUP_OPENER_ATTR) || element.parent().data(POPUP_ID_ATTR);\n            var pointerTouch = isPointerTouch(e);\n            var isParentClosing = false;\n\n            if (popupId) {\n                that._openedPopups[popupId.toString()] = true;\n            }\n\n            if(that._closing) {\n                isParentClosing = !!that._closing.find(element).length;\n            }\n\n            if (isParentClosing || (e.delegateTarget != element.parents(menuSelector)[0] && e.delegateTarget != element.parents(\".k-menu-scroll-wrapper,.k-popups-wrapper\")[0])) {\n                return;\n            }\n\n            that._keyTriggered = false;\n\n            if ((that.options.openOnClick.rootMenuItems && that._isRootItem(element.closest(allItemsSelector))) ||\n                (that.options.openOnClick.subMenuItems && !that._isRootItem(element.closest(allItemsSelector)))) {\n                return;\n            }\n\n            if ((that.options.openOnClick === false ||\n                (that.options.openOnClick.rootMenuItems === false && that._isRootItem(element.closest(allItemsSelector))) ||\n                (that.options.openOnClick.subMenuItems === false && !that._isRootItem(element.closest(allItemsSelector))) || that.clicked) && !touch &&\n                !(pointerTouch && that._isRootItem(element.closest(allItemsSelector)))) {\n\n                if (!contains(e.currentTarget, e.relatedTarget) && hasChildren) {\n                    that.open(element);\n                }\n            }\n\n            if (that.options.openOnClick === true && that.clicked || touch) {\n                element.siblings().each(function (_, sibling) {\n                    that.close(sibling, true);\n                });\n            }\n        },\n\n        _mousedown: function (e) {\n            var that = this;\n            var element = $(e.currentTarget);\n            // needs to close subMenuItems\n            if (that.options.openOnClick.subMenuItems && !that._isRootItem(element) || touch) {\n                element.siblings().each(function (_, sibling) {\n                    that.close(sibling, true);\n                });\n            }\n        },\n\n        _mouseleave: function (e) {\n            var that = this;\n            var element = $(e.currentTarget);\n            var popupOpener = element.data(POPUP_OPENER_ATTR);\n            var hasChildren = (element.children(animationContainerSelector).length || element.children(groupSelector).length) || popupOpener;\n            var $window = $(window);\n\n            if (popupOpener) {\n                delete that._openedPopups[popupOpener.toString()];\n            }\n\n            if (element.parentsUntil(animationContainerSelector, \".k-list-container,.k-calendar-container\")[0]) {\n                e.stopImmediatePropagation();\n                return;\n            }\n\n            if ((that.options.openOnClick === false || (!that.options.openOnClick.rootMenuItems && that._isRootItem(element)) ||\n                (!that.options.openOnClick.subMenuItems && !that._isRootItem(element))) && !touch && !isPointerTouch(e) &&\n                !contains(e.currentTarget, e.relatedTarget || e.target) && hasChildren &&\n                !contains(e.currentTarget, kendo._activeElement())) {\n                    that.close(element, true);\n                    that._loading = false;\n                    return;\n            }\n\n            // Detect if cursor goes outside the viewport of the browser\n            if( (kendo.support.browser.msie && !e.toElement && !e.relatedTarget && !isPointerTouch(e)) ||\n                e.clientX < 0 || e.clientY < 0 ||\n                e.clientY > $window.height() ||\n                e.clientX > $window.width()){\n                that.close(element);\n            }\n        },\n\n        _mouseenterPopup: function(e){\n            var that = this;\n            var popupElement = $(e.currentTarget);\n\n            if (popupElement.parent().is(animationContainerSelector)) {\n                 return;\n            }\n\n            popupElement = popupElement.children(\"ul\");\n            var popupId = popupElement.data(POPUP_ID_ATTR);\n\n            if (popupId) {\n                that._openedPopups[popupId.toString()] = true;\n            }\n        },\n\n        _mouseleavePopup: function (e) {\n            var that = this;\n            var popupElement = $(e.currentTarget);\n\n            if (!isPointerTouch(e) && popupElement.is(animationContainerSelector)) {\n                that._closePopups(popupElement.children(\"ul\"));\n            }\n        },\n\n        _closePopups: function(rootPopup) {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            var popupId = rootPopup.data(POPUP_ID_ATTR);\n\n            if (popupId) {\n                delete that._openedPopups[popupId.toString()];\n                var groupParent = overflowWrapper.find(popupOpenerSelector(popupId));\n\n                setTimeout(function() {\n                    if (that.options.openOnClick) {\n                        that._closeChildPopups(rootPopup);\n                    } else {\n                        if ($.isEmptyObject(that._openedPopups)) {\n                            var innerPopup = that._innerPopup(rootPopup);\n                            that._closeParentPopups(innerPopup);\n                        } else {\n                            that.close(groupParent, true);\n                        }\n                    }\n                }, 0);\n            }\n        },\n\n        _closeChildPopups: function(current){\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            $(getChildPopups(current, overflowWrapper)).each(function(){\n                var popupOpener = overflowWrapper.find(popupOpenerSelector(this.data(POPUP_ID_ATTR)));\n                that.close(popupOpener, true);\n            });\n        },\n\n        _innerPopup: function(current) {\n            var overflowWrapper = this._overflowWrapper();\n            var popups = getChildPopups(current, overflowWrapper);\n            return popups[popups.length - 1] || current;\n        },\n\n        _closeParentPopups: function (current) {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            var popupId = current.data(POPUP_ID_ATTR);\n            var popupOpener = overflowWrapper.find(popupOpenerSelector(popupId));\n            popupId = popupOpener.parent().data(POPUP_ID_ATTR);\n            that.close(popupOpener, true);\n            while (popupId && !that._openedPopups[popupId]) {\n                if (popupOpener.parent().is(menuSelector)) {\n                    break;\n                }\n                popupOpener = overflowWrapper.find(popupOpenerSelector(popupId));\n                that.close(popupOpener, true);\n                popupId = popupOpener.parent().data(POPUP_ID_ATTR);\n            }\n        },\n\n        _click: function (e) {\n            var that = this, openHandle,\n                options = that.options,\n                target = $(kendo.eventTarget(e)),\n                targetElement = target[0],\n                nodeName = target[0] ? target[0].nodeName.toUpperCase() : \"\",\n                formNode = (nodeName == \"INPUT\" || nodeName == \"SELECT\" || nodeName == \"BUTTON\" || nodeName == \"LABEL\"),\n                link = target.closest(LINK_SELECTOR),\n                element = target.closest(allItemsSelector),\n                itemElement = element[0],\n                href = link.attr(\"href\"), childGroup, childGroupVisible,\n                targetHref = target.attr(\"href\"),\n                sampleHref = $(\"<a href='#' />\").attr(\"href\"),\n                isLink = (!!href && href !== sampleHref),\n                isLocalLink = isLink && !!href.match(/^#/),\n                isTargetLink = (!!targetHref && targetHref !== sampleHref),\n                overflowWrapper = that._overflowWrapper(),\n                shouldCloseTheRootItem;\n\n            if(targetElement && (!targetElement.parentNode || !itemElement)){\n                return;\n            }\n\n            if($(target).hasClass('k-menu-expand-arrow-icon')){\n                this._lastClickedElement = itemElement;\n            }\n\n            while (targetElement && targetElement.parentNode != itemElement) {\n                targetElement = targetElement.parentNode;\n            }\n\n            if ($(targetElement).is(templateSelector)) {\n                return;\n            }\n\n            if (element.hasClass(DISABLEDSTATE)) {\n                e.preventDefault();\n                return;\n            }\n\n            if (!e.handled && that._triggerSelect(target, itemElement) && !formNode) { // We shouldn't stop propagation and shoudn't prevent form elements.\n                e.preventDefault();\n            }\n\n            e.handled = true;\n\n            childGroup = element.children(popupSelector);\n            if (overflowWrapper) {\n                var childPopupId = element.data(POPUP_OPENER_ATTR);\n                if (childPopupId) {\n                    childGroup = overflowWrapper.find(popupGroupSelector(childPopupId));\n                }\n            }\n            childGroupVisible = childGroup.is(\":visible\");\n            shouldCloseTheRootItem = options.openOnClick && childGroupVisible && that._isRootItem(element);\n\n            if (options.closeOnClick && (!isLink || isLocalLink) && (!childGroup.length || shouldCloseTheRootItem)) {\n                element.removeClass(HOVERSTATE).css(\"height\"); // Force refresh for Chrome\n                that._oldHoverItem = that._findRootParent(element);\n                var item = that._parentsUntil(link, that.element, allItemsSelector);\n                that._forceClose = !!overflowWrapper;\n                that.close(item);\n                that.clicked = false;\n                if (\"MSPointerUp\".indexOf(e.type) != -1) {\n                    e.preventDefault();\n                }\n                return;\n            }\n\n            if (isLink && e.enterKey) {\n                link[0].click();\n            }\n\n            if (((!that._isRootItem(element) || options.openOnClick === false) && !options.openOnClick.subMenuItems) && !kendo.support.touch && !(isPointerTouch(e) && that._isRootItem(element.closest(allItemsSelector)))) {\n                return;\n            }\n\n            if (!isLink && !formNode && !isTargetLink) {\n                e.preventDefault();\n            }\n\n            that.clicked = true;\n            openHandle = childGroup.is(\":visible\") ? CLOSE : OPEN;\n            if (!options.closeOnClick && openHandle == CLOSE) {\n                return;\n            }\n            that[openHandle](element);\n        },\n\n        _parentsUntil: function(context, top, selector) {\n            var overflowWrapper = this._overflowWrapper();\n            if (!overflowWrapper) {\n                return context.parentsUntil(top, selector);\n            } else {\n                var parents = overflowMenuParents(context, overflowWrapper);\n                var result = [];\n                $(parents).each(function(){\n                    var parent = $(this);\n                    if (parent.is(top)) {\n                        return false;\n                    }\n                    if (parent.is(selector)) {\n                        result.push(this);\n                    }\n                });\n                return $(result);\n            }\n        },\n\n        _triggerSelect: function (target, itemElement) {\n            target = target.is(\".k-link\") ? target : target.closest(\".k-link\");\n\n            var selectHandler = target.data(\"selectHandler\"),\n                itemSelectEventData;\n\n            if (selectHandler) {\n                itemSelectEventData = this._getEventData(target);\n                selectHandler.call(this, itemSelectEventData);\n            }\n\n            var isSelectItemDefaultPrevented = itemSelectEventData && itemSelectEventData.isDefaultPrevented();\n            var isSelectDefaultPrevented = this._triggerEvent({ item: itemElement, type: SELECT });\n            return isSelectItemDefaultPrevented || isSelectDefaultPrevented;\n        },\n\n        _getEventData: function (target) {\n            var eventData = {\n                sender: this,\n                target: target,\n                _defaultPrevented: false,\n                preventDefault: function () {\n                    this._defaultPrevented = true;\n                },\n                isDefaultPrevented: function () {\n                    return this._defaultPrevented;\n                }\n            };\n            return eventData;\n        },\n\n        _documentClick: function (e) {\n            var that = this;\n            var target = $(e.target).hasClass('k-menu-expand-arrow-icon') ? that._lastClickedElement : e.target;\n\n            if (contains((that._overflowWrapper() || that.element)[0], target)) {\n                that._lastClickedElement = undefined;\n                return;\n            }\n\n            that.clicked = false;\n        },\n\n        _focus: function (e) {\n            var that = this,\n                target = e.target,\n                hoverItem = that._hoverItem(),\n                active = activeElement();\n\n            if (target != that.wrapper[0] && !$(target).is(\":kendoFocusable\")) {\n                e.stopPropagation();\n                $(target).closest(\".k-content\").closest(\".k-menu-group\").closest(\".k-item\").addClass(FOCUSEDSTATE);\n                that.wrapper.trigger(\"focus\");\n                return;\n            }\n\n            if (active === e.currentTarget) {\n                if (hoverItem.length) {\n                    that._moveHover([], hoverItem);\n                } else if (!that._oldHoverItem) {\n                    that._moveHover([], that.wrapper.children().first());\n                }\n            }\n        },\n\n        _keydown: function (e) {\n            var that = this,\n                key = e.keyCode,\n                hoverItem = that._oldHoverItem,\n                target,\n                belongsToVertical,\n                hasChildren,\n                isRtl = kendo.support.isRtl(that.wrapper);\n\n            if (e.target != e.currentTarget && key != keys.ESC) {\n                return;\n            }\n\n            if (!hoverItem) {\n                hoverItem  = that._oldHoverItem = that._hoverItem();\n            }\n\n            belongsToVertical = that._itemBelongsToVertival(hoverItem);\n            hasChildren = that._itemHasChildren(hoverItem);\n            that._keyTriggered = true;\n\n            if (key == keys.RIGHT) {\n                target = that[isRtl ? \"_itemLeft\" : \"_itemRight\"](hoverItem, belongsToVertical, hasChildren);\n            } else if (key == keys.LEFT) {\n                target = that[isRtl ? \"_itemRight\" : \"_itemLeft\"](hoverItem, belongsToVertical, hasChildren);\n            } else if (key == keys.DOWN) {\n                target = that._itemDown(hoverItem, belongsToVertical, hasChildren);\n            } else if (key == keys.UP) {\n                target = that._itemUp(hoverItem, belongsToVertical, hasChildren);\n            } else if (key == keys.HOME) {\n                that._moveHover(hoverItem, hoverItem.parent().children().first());\n                e.preventDefault();\n            } else if (key == keys.END) {\n                that._moveHover(hoverItem, hoverItem.parent().children().last());\n                e.preventDefault();\n            } else if (key == keys.ESC) {\n                target = that._itemEsc(hoverItem, belongsToVertical);\n            } else if (key == keys.ENTER || key == keys.SPACEBAR) {\n                target = hoverItem.children(\".k-link\");\n                if (target.length > 0) {\n                    that._click({ target: target[0], preventDefault: function () {}, enterKey: true });\n                    if (hasChildren && !hoverItem.hasClass(DISABLEDSTATE)) {\n                        that.open(hoverItem);\n                        that._moveHover(hoverItem, that._childPopupElement(hoverItem).children().first());\n                    } else if (hoverItem.is(\"li\") && hoverItem.attr(\"role\") === \"menuitemcheckbox\") {\n                        hoverItem.find(\".k-checkbox\").attr(\"checked\", true);\n                    } else {\n                        that._moveHoverToRoot(hoverItem, that._findRootParent(hoverItem));\n                    }\n                }\n            } else if (key == keys.TAB) {\n                target = that._findRootParent(hoverItem);\n                that._moveHover(hoverItem, target);\n                that._checkActiveElement();\n                return;\n            }\n\n            if (target && target[0]) {\n                e.preventDefault();\n                e.stopPropagation(); // needed to handle ESC in column menu only when a root item is focused\n            }\n        },\n\n        _hoverItem: function() {\n            return this.wrapper.find(\".k-item.k-hover,.k-item.k-focus\").filter(\":visible\");\n        },\n\n        _itemBelongsToVertival: function (item) {\n            var menuIsVertical = this.wrapper.hasClass(\"k-menu-vertical\");\n\n            if (!item.length) {\n                return menuIsVertical;\n            }\n            return item.parent().hasClass(\"k-menu-group\") || menuIsVertical;\n        },\n\n        _itemHasChildren: function (item) {\n            if (!item || !item.length || !item[0].nodeType) {\n                return false;\n            }\n            return item.children(\".k-menu-group, div.k-animation-container\").length > 0 ||\n                (!!item.data(POPUP_OPENER_ATTR) && !!this._overflowWrapper().children(popupGroupSelector(item.data(POPUP_OPENER_ATTR))));\n        },\n\n        _moveHover: function (item, nextItem) {\n            var that = this,\n                id = that._ariaId;\n\n            if (item.length && nextItem.length) {\n                item.removeClass(FOCUSEDSTATE);\n            }\n\n            if (nextItem.length) {\n                if (nextItem[0].id) {\n                    id = nextItem[0].id;\n                }\n\n                nextItem.addClass(FOCUSEDSTATE);\n                that._oldHoverItem = nextItem;\n\n                if (id) {\n                    that.element.removeAttr(\"aria-activedescendant\");\n                    $(\"#\" + id).removeAttr(\"id\");\n                    nextItem.attr(\"id\", id);\n                    that.element.attr(\"aria-activedescendant\", id);\n                }\n                that._scrollToItem(nextItem);\n            }\n        },\n\n        _moveHoverToRoot: function (item, nextItem) {\n            this._moveHover(item, nextItem);\n        },\n\n        _findRootParent: function (item) {\n            if (this._isRootItem(item)) {\n                return item;\n            } else {\n                return this._parentsUntil(item, menuSelector, \"li.k-item\").last();\n            }\n        },\n\n        _isRootItem: function (item) {\n            return item.parent().hasClass(MENU);\n        },\n\n        _itemRight: function (item, belongsToVertical, hasChildren) {\n            var that = this,\n                nextItem,\n                parentItem,\n                overflowWrapper;\n\n            if (!belongsToVertical) {\n                nextItem = item.nextAll(itemSelector + exclusionSelector).eq(0);\n                if (!nextItem.length) {\n                    nextItem = item.prevAll(itemSelector + exclusionSelector).last();\n                }\n                that.close(item);\n            } else if (hasChildren && !item.hasClass(DISABLEDSTATE)) {\n                that.open(item);\n                nextItem = that._childPopupElement(item).children().first();\n            } else if (that.options.orientation == \"horizontal\") {\n                parentItem = that._findRootParent(item);\n                overflowWrapper = that._overflowWrapper();\n                if (overflowWrapper) {\n                    var rootPopup = itemPopup(parentItem, overflowWrapper);\n                    that._closeChildPopups(rootPopup);\n                }\n                that.close(parentItem);\n                nextItem = parentItem.nextAll(itemSelector + exclusionSelector).eq(0);\n            }\n\n            if (nextItem && !nextItem.length) {\n                nextItem = that.wrapper.children(\".k-item\").first();\n            } else if (!nextItem) {\n                nextItem = [];\n            }\n\n            that._moveHover(item, nextItem);\n            return nextItem;\n        },\n\n        _itemLeft: function (item, belongsToVertical) {\n            var that = this,\n                nextItem,\n                overflowWrapper;\n\n            if (!belongsToVertical) {\n                nextItem = item.prevAll(itemSelector + exclusionSelector).eq(0);\n                if (!nextItem.length) {\n                    nextItem = item.nextAll(itemSelector + exclusionSelector).last();\n                }\n                that.close(item);\n            } else {\n                nextItem = item.parent().closest(\".k-item\");\n                overflowWrapper = that._overflowWrapper();\n                if (!nextItem.length && overflowWrapper) {\n                    nextItem = popupParentItem(item.parent(), overflowWrapper);\n                }\n                that.close(nextItem);\n                if (that._isRootItem(nextItem) && that.options.orientation == \"horizontal\") {\n                    nextItem = nextItem.prevAll(itemSelector + exclusionSelector).eq(0);\n                }\n            }\n\n            if (!nextItem.length) {\n                nextItem = that.wrapper.children(\".k-item\").last();\n            }\n\n            that._moveHover(item, nextItem);\n            return nextItem;\n        },\n\n        _itemDown: function (item, belongsToVertical, hasChildren) {\n            var that = this,\n                nextItem;\n\n            if (!belongsToVertical) {\n                if (!hasChildren || item.hasClass(DISABLEDSTATE)) {\n                    return;\n                } else {\n                    that.open(item);\n                    nextItem = that._childPopupElement(item).children().first();\n                }\n            } else {\n                nextItem = item.nextAll(itemSelector + exclusionSelector).eq(0);\n            }\n\n            if (!nextItem.length && item.length) {\n                nextItem = item.parent().children().first();\n            } else if (!item.length) {\n                nextItem = that.wrapper.children(\".k-item\").first();\n            }\n\n            that._moveHover(item, nextItem);\n            return nextItem;\n        },\n\n        _itemUp: function (item, belongsToVertical) {\n            var that = this,\n                nextItem;\n\n            if (!belongsToVertical) {\n                return;\n            } else {\n                nextItem = item.prevAll(itemSelector + exclusionSelector).eq(0);\n            }\n\n            if (!nextItem.length && item.length) {\n                nextItem = item.parent().children().last();\n            } else if (!item.length) {\n                nextItem = that.wrapper.children(\".k-item\").last();\n            }\n\n            that._moveHover(item, nextItem);\n            return nextItem;\n        },\n\n        _scrollToItem: function(item){\n            var that = this;\n            if (that.options.scrollable && item && item.length) {\n                var ul = item.parent();\n                var isHorizontal = ul.hasClass(MENU) ? that.options.orientation == \"horizontal\" : false;\n                var scrollDir = isHorizontal ? \"scrollLeft\" : \"scrollTop\";\n                var getSize = isHorizontal ? kendo._outerWidth : kendo._outerHeight;\n                var currentScrollOffset = ul[scrollDir]();\n                var itemSize = getSize(item);\n                var itemOffset = item[0][isHorizontal ? \"offsetLeft\" : \"offsetTop\"];\n                var ulSize = getSize(ul);\n                var scrollButtons = ul.siblings(scrollButtonSelector);\n                var scrollButtonSize = scrollButtons.length ? getSize(scrollButtons.first()) : 0;\n                var itemPosition;\n\n                if (currentScrollOffset + ulSize < itemOffset + itemSize + scrollButtonSize) {\n                    itemPosition = itemOffset + itemSize - ulSize + scrollButtonSize;\n                } else if (currentScrollOffset > itemOffset - scrollButtonSize) {\n                    itemPosition = itemOffset - scrollButtonSize;\n                }\n\n                if (!isNaN(itemPosition)) {\n                    var scrolling = {};\n                    scrolling[scrollDir] = itemPosition;\n                    ul.finish().animate(scrolling, \"fast\", \"linear\", function () {\n                        that._toggleScrollButtons(ul, scrollButtons.first(), scrollButtons.last(), isHorizontal);\n                    });\n                }\n            }\n        },\n\n        _itemEsc: function (item, belongsToVertical) {\n            var that = this,\n                nextItem;\n\n            if (!belongsToVertical) {\n                return item;\n            } else {\n                nextItem = item.parent().closest(\".k-item\");\n                that.close(nextItem);\n                that._moveHover(item, nextItem);\n            }\n\n            return nextItem;\n        },\n\n        _childPopupElement: function(item) {\n            var popupElement = item.find(\".k-menu-group\");\n            var wrapper = this._overflowWrapper();\n            if (!popupElement.length && wrapper) {\n                popupElement = itemPopup(item, wrapper);\n            }\n            return popupElement;\n        },\n\n        _triggerEvent: function(e) {\n            var that = this;\n\n            return that.trigger(e.type, { type: e.type, item: e.item });\n        },\n\n        _focusHandler: function (e) {\n            var that = this,\n                item = $(kendo.eventTarget(e)).closest(allItemsSelector);\n\n            if (item.hasClass(DISABLEDSTATE)) {\n                return;\n            }\n\n            setTimeout(function () {\n                that._moveHover([], item);\n                if (item.children(\".k-content\")[0]) {\n                    item.parent().closest(\".k-item\").removeClass(FOCUSEDSTATE);\n                }\n            }, 200);\n        },\n\n        _animations: function(options) {\n            if (options && (\"animation\" in options) && !options.animation) {\n                options.animation = { open: { effects: {} }, close: { hide: true, effects: {} } };\n            }\n        },\n        _dataSource: function(options) {\n            var that = this,\n                dataSource = options ? options.dataSource : that.options.dataSource;\n\n            if (!dataSource) {\n                return;\n            }\n\n            dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n\n            that._unbindDataSource();\n\n            if (!dataSource.fields) {\n                dataSource.fields = [\n                    { field: \"uid\" },\n                    { field: \"text\" },\n                    { field: \"url\" },\n                    { field: \"cssClass\" },\n                    { field: \"spriteCssClass\" },\n                    { field: \"imageUrl\" },\n                    { field: \"imageAttr\" },\n                    { field: \"attr\" },\n                    { field: \"contentAttr\" },\n                    { field: \"content\" },\n                    { field: \"encoded\" },\n                    { field: \"items\" },\n                    { field: \"select\" }\n                ];\n            }\n\n            that.dataSource = HierarchicalDataSource.create(dataSource);\n\n            that._bindDataSource();\n\n            that.dataSource.fetch();\n        },\n\n        _bindDataSource: function() {\n            this._refreshHandler = this.refresh.bind(this);\n            this._errorHandler = this._error.bind(this);\n\n            this.dataSource.bind(CHANGE, this._refreshHandler);\n            this.dataSource.bind(ERROR, this._errorHandler);\n        },\n\n        _unbindDataSource: function() {\n            var dataSource = this.dataSource;\n\n            if (dataSource) {\n                dataSource.unbind(CHANGE, this._refreshHandler);\n                dataSource.unbind(ERROR, this._errorHandler);\n            }\n        },\n\n        _error: function () {\n\n        },\n\n        findByUid: function (uid) {\n            var wrapperElement = this._overflowWrapper() || this.element;\n            return wrapperElement.find(\"[\" + kendo.attr(\"uid\") + \"=\" + uid + \"]\");\n        },\n\n        refresh: function (ev) {\n            var that = this;\n            var node = ev.node;\n            var action = ev.action;\n            var parentElement = node ? that.findByUid(node.uid) : that.element;\n            var itemsToUpdate = ev.items;\n            var index = ev.index;\n            var updateProxy = that._updateItem.bind(that);\n            var removeProxy = that._removeItem.bind(that);\n\n            if (action == \"add\") {\n                that._appendItems(itemsToUpdate, index, parentElement);\n            } else if (action == \"remove\") {\n                itemsToUpdate.forEach(removeProxy);\n            } else if (action == \"itemchange\") {\n                itemsToUpdate.forEach(updateProxy);\n            } else if (action === \"itemloaded\") {\n                that.append(ev.items, parentElement);\n            } else {\n                this._initData();\n            }\n\n            this.trigger(DATABOUND, { item: parentElement, dataItem: node });\n        },\n\n        _appendItems: function(items, index, parent) {\n            var that = this;\n            var referenceItem = parent.find(itemSelector).eq(index);\n\n            if(referenceItem.length){\n                that.insertBefore(items, referenceItem);\n            } else {\n                that.append(items, parent);\n            }\n        },\n\n        _removeItem: function(item) {\n            var that = this;\n            var element = that.findByUid(item.uid);\n            that.remove(element);\n        },\n\n        _updateItem: function(item) {\n            var that = this;\n            var element = that.findByUid(item.uid);\n            var nextElement = element.next();\n            var parentNode = item.parentNode();\n\n            that.remove(element);\n\n            if(nextElement.length) {\n                that.insertBefore(item, nextElement);\n            } else {\n                that.append(item, parentNode && that.findByUid(parentNode.uid));\n            }\n        },\n\n        _accessors: function() {\n            var that = this,\n                options = that.options,\n                i, field, textField,\n                element = that.element;\n\n            for (i in bindings) {\n                field = options[bindings[i]];\n                textField = element.attr(kendo.attr(i + \"-field\"));\n\n                if (!field && textField) {\n                    field = textField;\n                }\n\n                if (!field) {\n                    field = i;\n                }\n\n                if (!isArray(field)) {\n                    field = [field];\n                }\n\n                options[bindings[i]] = field;\n            }\n        },\n\n        _fieldAccessor: function(fieldName) {\n            var fieldBindings = this.options[bindings[fieldName]] || [],\n                count = fieldBindings.length,\n                result = \"(function(item) {\";\n\n            if (count === 0) {\n                result += \"return item['\" + fieldName + \"'];\";\n            } else {\n                result += \"var levels = [\" +\n                            $.map(fieldBindings, function(x) {\n                                return \"function(d){ return \" + kendo.expr(x) + \"}\";\n                            }).join(\",\") + \"];\";\n                result += \"if(item.level){return levels[Math.min(item.level(), \" + count + \"-1)](item);}else\";\n                result += \"{return levels[\"+ count + \"-1](item)}\";\n            }\n\n            result += \"})\";\n\n            return result;\n        },\n\n        _templates: function () {\n            var that = this,\n                options = that.options,\n                fieldAccessor = that._fieldAccessor.bind(that);\n\n            if (options.template && typeof options.template == STRING) {\n                    options.template = template(options.template);\n            } else if (!options.template) {\n                    options.template = template(\n                    \"<span class='k-menu-link-text'>\" +\n                    \"# var text = \" + fieldAccessor(\"text\") + \"(data.item); #\" +\n                    \"# if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {#\" +\n                        \"#= text #\" +\n                    \"# } else { #\" +\n                        \"#: text #\" +\n                    \"# } #</span>\"\n                );\n            }\n\n            that.templates = {\n                content: template(\n                    \"#var contentHtml = \" + fieldAccessor(\"content\") + \"(item);#\" +\n                    \"<div #= contentCssAttributes(item.toJSON ? item.toJSON() : item) # tabindex='-1'>#= contentHtml || '' #</div>\"\n                ),\n                group: template(\n                    \"<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>\" +\n                        \"#= renderItems(data) #\" +\n                    \"</ul>\"\n                ),\n                itemWrapper: template(\n                    \"# var url = \" + fieldAccessor(\"url\") + \"(item); #\" +\n                    \"# var imageUrl = \" + fieldAccessor(\"imageUrl\") + \"(item); #\" +\n                    \"# var imgAttributes = \" + fieldAccessor(\"imageAttr\") + \"(item);#\" +\n                    \"# var tag = url ? 'a' : 'span' #\" +\n                    \"<#= tag # class='#= textClass(item) #' #if(url){#href='#= url #'#}#>\" +\n\n                    \"# if (imageUrl) { #\" +\n                              \"<img #= imageCssAttributes(imgAttributes) #  alt='' src='#= imageUrl #' />\" +\n                    \"# } #\" +\n\n                    \"#= sprite(item) #\" +\n                    \"#= data.menu.options.template(data) #\" +\n                    \"#= arrow(data) #\" +\n                    \"</#= tag #>\"\n                ),\n                item: template(\n                    \"#var contentHtml = \" + fieldAccessor(\"content\") + \"(item);#\" +\n                    \"<li class='#= wrapperCssClass(group, item) #' #= itemCssAttributes(item.toJSON ? item.toJSON() : item) # role='menuitem'  #=item.items ? \\\"aria-haspopup='true'\\\": \\\"\\\"#\" +\n                        \"#=item.enabled === false ? \\\"aria-disabled='true'\\\" : ''#\" +\n                        kendo.attr(\"uid\") + \"='#= item.uid #' \" +\n                        \"# if(item.items && item.items.length > 0) { # \" +\n                            \"# if(item.expanded) { # \" +\n                                \" aria-expanded='true'\" +\n                            \"# } else { #\" +\n                                \" aria-expanded='false'\" +\n                            \"# } #\" +\n                        \"# } #\" +\n                    \">\" +\n                        \"#= itemWrapper(data) #\" +\n                        \"#if (item.hasChildren || item.items) { #\" +\n                            \"#= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) #\" +\n                        \"# } else if (item.content || item.contentUrl || contentHtml) { #\" +\n                            \"#= renderContent(data) #\" +\n                        \"# } #\" +\n                    \"</li>\"\n                ),\n                scrollButton: template(\n                    \"<span class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-menu-scroll-button k-scroll-#= direction #' unselectable='on'>\" +\n                        \"<span class='k-button-icon k-icon k-i-arrow-60-#= direction #'></span>\" +\n                    \"</span>\"\n                ),\n                arrow: template(\"<span class='k-menu-expand-arrow'><span class='#= arrowClass(item, group) #'></span></span>\"),\n                sprite: template(\"# var spriteCssClass = \" + fieldAccessor(\"spriteCssClass\") + \"(data); if(spriteCssClass) {#<span class='k-sprite #= spriteCssClass #'></span>#}#\"),\n                empty: template(\"\")\n            };\n        },\n\n        renderItem: function (options) {\n            var that = this;\n            options = extend({ menu: that, group: {} }, options);\n\n            var empty = that.templates.empty,\n                item = options.item;\n\n            return that.templates.item(extend(options, {\n                sprite: that.templates.sprite,\n                itemWrapper: that.templates.itemWrapper,\n                renderContent: that.renderContent,\n                arrow: item.items || item.content || item[that.options.dataContentField[0]] ? that.templates.arrow : empty,\n                subGroup: that.renderGroup\n            }, rendering));\n        },\n\n        renderGroup: function (options) {\n            var that = this;\n            var templates = that.templates || options.menu.templates;\n\n            return templates.group(extend({\n                renderItems: function(options) {\n                    var html = \"\",\n                        i = 0,\n                        items = options.items,\n                        len = items ? items.length : 0,\n                        group = extend({ length: len }, options.group);\n\n                    for (; i < len; i++) {\n                        html += options.menu.renderItem(extend(options, {\n                            group: group,\n                            item: extend({ index: i }, items[i])\n                        }));\n                    }\n\n                    return html;\n                }\n            }, options, rendering));\n        },\n\n        renderContent: function (options) {\n            return options.menu.templates.content(extend(options, rendering));\n        }\n    });\n\n    var ContextMenu = Menu.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Menu.fn.init.call(that, element, options);\n\n            that.element.attr(ROLE, \"menu\");\n\n            that._marker = kendo.guid().substring(0, 8);\n\n            that.target = $(that.options.target);\n\n            that._popup();\n            that._wire();\n        },\n\n        _initOverflow: function(options){\n            var that = this;\n            if (options.scrollable && !that._overflowWrapper()) {\n                that._openedPopups = {};\n\n                that._popupsWrapper = (that.element.parent().is(animationContainerSelector) ? that.element.parent() : that.element)\n                    .wrap(\"<div class='k-popups-wrapper \" + options.orientation + \"'></div>\").parent();\n\n                if (that.options.orientation == \"horizontal\") {\n                    removeSpacesBetweenItems(that.element);\n                }\n\n                if (options.appendTo) {\n                    options.appendTo = $(options.appendTo);\n                    options.appendTo.append(that._popupsWrapper);\n                }\n\n                that._initialHeight = that.element[0].style.height;\n                that._initialWidth = that.element[0].style.width;\n            }\n        },\n\n        options: {\n            name: \"ContextMenu\",\n            filter: null,\n            showOn: \"contextmenu\",\n            orientation: \"vertical\",\n            alignToAnchor: false,\n            copyAnchorStyles : true,\n            target: \"body\"\n        },\n\n        events: [\n            OPEN,\n            CLOSE,\n            ACTIVATE,\n            DEACTIVATE,\n            SELECT\n        ],\n\n        setOptions: function(options) {\n            var that = this;\n\n            Menu.fn.setOptions.call(that, options);\n\n            that.target.off(that.showOn + NS + that._marker, that._showProxy);\n\n            if (that.userEvents) {\n                that.userEvents.destroy();\n            }\n\n            that.target = $(that.options.target);\n            if (options.orientation && that.popup.wrapper[0]) {\n                that.popup.element.unwrap();\n            }\n\n            that._wire();\n\n            Menu.fn.setOptions.call(this, options);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.target.off(that.options.showOn + NS + that._marker);\n            DOCUMENT_ELEMENT.off(kendo.support.mousedown + NS + that._marker, that._closeProxy);\n\n            if (that.userEvents) {\n                that.userEvents.destroy();\n            }\n\n            Menu.fn.destroy.call(that);\n        },\n\n        open: function(x, y) {\n            var that = this;\n\n            x = $(x)[0];\n\n            if (contains(that.element[0], $(x)[0]) || that._itemHasChildren($(x))) { // call parent open for children elements\n                Menu.fn.open.call(that, x);\n            } else {\n                if (that._triggerEvent({ item: that.element, type: OPEN }) === false) {\n                    if (that.popup.visible() && that.options.filter) {\n                        that.popup.close(true);\n                        that.popup.element.kendoStop(true);\n                    }\n\n                    if (y !== undefined) {\n                        var overflowWrapper = that._overflowWrapper();\n                        if (overflowWrapper) {\n                            var offset = overflowWrapper.offset();\n                            x -= offset.left;\n                            y -= offset.top;\n                        }\n                        that.popup.wrapper.hide();\n                        that._configurePopupScrolling(x, y);\n                        that.popup.open(x, y);\n                    } else {\n                        that.popup.options.anchor = (x ? x : that.popup.anchor) || that.target;\n                        that.popup.element.kendoStop(true);\n                        that._configurePopupScrolling();\n                        that.popup.open();\n                    }\n\n                    DOCUMENT_ELEMENT.off(that.popup.downEvent, that.popup._mousedownProxy);\n                    DOCUMENT_ELEMENT\n                        .on(kendo.support.mousedown + NS + that._marker, that._closeProxy);\n\n                    that.element.trigger(\"focus\");\n                }\n            }\n\n            return that;\n        },\n\n        _configurePopupScrolling: function(x, y){\n            var that = this;\n            var popup = that.popup;\n            var isHorizontal = that.options.orientation == \"horizontal\";\n\n            if (that.options.scrollable) {\n                that._wrapPopupElement(popup);\n\n                popup.element.parent().css({\n                    position: \"\",\n                    height: \"\"\n                });\n\n                popup.element.css({\n                    visibility: \"hidden\",\n                    display: \"\",\n                    position: \"\"\n                });\n\n                if (isHorizontal) {\n                    that._setPopupWidth(popup, isNaN(x) ? undefined : {isFixed: true, x: x, y: y});\n                } else {\n                    that._setPopupHeight(popup, isNaN(x) ? undefined : {isFixed: true, x: x, y: y});\n                }\n\n                popup.element.css({\n                    visibility: \"\",\n                    display: \"none\",\n                    position: \"absolute\"\n                });\n\n                that._initPopupScrollButtons(popup, isHorizontal, true);\n                popup.element.siblings(scrollButtonSelector).hide();\n            }\n        },\n\n        _setPopupWidth: function(popup, isFixed){\n            var popupElement = popup.element;\n            var popups = popupElement.add(popupElement.parent(animationContainerSelector));\n\n            popups.width(this._initialWidth || \"\");\n\n            var location = popup._location(isFixed);\n            var windowWidth = $(window).width();\n            var popupOuterWidth = location.width;\n            var popupOffsetLeft = Math.max(location.left, 0);\n            var scrollLeft = isFixed ? 0 : parentsScroll(this._overflowWrapper()[0], \"scrollLeft\");\n            var shadow = kendo.getShadows(popupElement);\n            var maxWidth = windowWidth - shadow.left - shadow.right;\n            var canFit = maxWidth + scrollLeft > popupOuterWidth + popupOffsetLeft;\n\n            if (!canFit) {\n                popups.css({overflow: \"hidden\", width: (maxWidth - popupOffsetLeft + scrollLeft) + \"px\"});\n            }\n        },\n\n        close: function() {\n            var that = this;\n\n            if (contains(that.element[0], $(arguments[0])[0]) || that._itemHasChildren(arguments[0])) {\n                Menu.fn.close.call(that, arguments[0]);\n            } else {\n                if (that.popup.visible()) {\n                    if (that._triggerEvent({ item: that.element, type: CLOSE }) === false) {\n                        that._removeHoverItem();\n                        that.element.find(\"#\" + that._ariaId).removeAttr(\"id\");\n                        that.popup.close();\n                        DOCUMENT_ELEMENT.off(kendo.support.mousedown + NS + that._marker, that._closeProxy);\n                        that.unbind(SELECT, that._closeTimeoutProxy);\n                        that.popup.options.anchor.focus();\n                    }\n                }\n            }\n        },\n\n        _showHandler: function (e) {\n            var ev = e, offset,\n                that = this,\n                options = that.options,\n                target = kendo.support.mobileOS ? $(ev.target) : $(ev.currentTarget);\n\n            if (e.event) {\n                ev = e.event;\n                ev.pageX = e.x.location;\n                ev.pageY = e.y.location;\n            }\n\n            if (contains(that.element[0], e.relatedTarget || e.target)) {\n                return;\n            }\n\n            that._eventOrigin = ev;\n\n            ev.preventDefault();\n            ev.stopImmediatePropagation();\n\n            that.element.find(\".\" + FOCUSEDSTATE).removeClass(FOCUSEDSTATE);\n\n            if ((options.filter && target.is(options.filter)) || !options.filter) {\n                if (options.alignToAnchor) {\n                    that.popup.options.anchor = ev.currentTarget;\n                    that.open(ev.currentTarget);\n                } else {\n                    that.popup.options.anchor = ev.currentTarget;\n\n                    if (that._targetChild) {\n                        offset = that.target.offset();\n                        that.open(ev.pageX - offset.left, ev.pageY - offset.top);\n                    } else {\n                        that.open(ev.pageX, ev.pageY);\n                    }\n                }\n            }\n        },\n\n        _closeHandler: function (e) {\n            var that = this,\n                target = $(e.relatedTarget || e.target),\n                sameTarget = target.closest(that.target.selector)[0] == that.target[0],\n                item = target.closest(itemSelector),\n                children = that._itemHasChildren(item),\n                overflowWrapper = that._overflowWrapper(),\n                containment = contains(that.element[0], target[0]) || (overflowWrapper && contains(overflowWrapper[0], target[0]));\n\n            that._eventOrigin = e;\n\n            var normalClick = e.which !== 3;\n\n            if (that.popup.visible() && ((normalClick && sameTarget) || !sameTarget) && ((that.options.closeOnClick && !children && containment) || !containment)) {\n                if (containment) {\n                    this.unbind(SELECT, this._closeTimeoutProxy);\n                    that.bind(SELECT, that._closeTimeoutProxy);\n                } else {\n                    that.close();\n                }\n            }\n        },\n\n        _wire: function() {\n            var that = this,\n                options = that.options,\n                target = that.target;\n\n            that._preventProxy = null;\n            that._showProxy = that._showHandler.bind(that);\n            that._closeProxy = that._closeHandler.bind(that);\n            that._closeTimeoutProxy = that.close.bind(that);\n\n            if (target[0]) {\n                if (kendo.support.mobileOS && options.showOn == \"contextmenu\") {\n                    that.userEvents = new kendo.UserEvents(target, {\n                        filter: options.filter,\n                        allowSelection: false\n                    });\n\n                    that._preventProxy = function() { return false; };\n\n                    that.userEvents.bind(\"hold\", that._showProxy);\n                }\n\n                if (options.filter) {\n                    target.on(options.showOn + NS + that._marker, options.filter, that._preventProxy || that._showProxy);\n                } else {\n                    target.on(options.showOn + NS + that._marker, that._preventProxy || that._showProxy);\n                }\n            }\n        },\n\n        _triggerEvent: function(e) {\n            var that = this,\n                anchor = $(that.popup.options.anchor)[0],\n                origin = that._eventOrigin;\n\n            that._eventOrigin = undefined;\n\n            return that.trigger(e.type, extend({ type: e.type, item: e.item || this.element[0], target: anchor }, origin ? { event: origin } : {} ));\n        },\n\n        _popup: function() {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n\n            that._triggerProxy = that._triggerEvent.bind(that);\n\n            that.popup = that.element\n                            .addClass(\"k-context-menu\")\n                            .kendoPopup({\n                                autosize: that.options.orientation === \"horizontal\",\n                                anchor: that.target || \"body\",\n                                copyAnchorStyles: that.options.copyAnchorStyles,\n                                collision: that.options.popupCollision || \"fit\",\n                                animation: that.options.animation,\n                                activate: that._triggerProxy,\n                                deactivate: that._triggerProxy,\n                                appendTo: overflowWrapper || that.options.appendTo,\n                                close: !overflowWrapper ? $.noop : function(e) {\n                                    $(getChildPopups(e.sender.element, overflowWrapper)).each(function(i, p) {\n                                        var popup = p.data(KENDOPOPUP);\n                                        if (popup) {\n                                            popup.close(true);\n                                        }\n                                    });\n                                }\n                            }).data(KENDOPOPUP);\n\n            that._targetChild = contains(that.target[0], that.popup.element[0]);\n        },\n\n        _moveHoverToRoot: function (item, nextItem) {\n            this._moveHover(item, nextItem);\n            this.close();\n        },\n\n        _focus: function (e) {\n            var hoverItem  = this._oldHoverItem = this._hoverItem() || [];\n\n            Menu.fn._focus.call(this, e);\n\n            if (activeElement() === e.currentTarget) {\n                this._moveHover(hoverItem, this.wrapper.children().first());\n            }\n        }\n    });\n\n    ui.plugin(Menu);\n    ui.plugin(ContextMenu);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.panelbar',[ \"kendo.data\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"panelbar\",\n    name: \"PanelBar\",\n    category: \"web\",\n    description: \"The PanelBar widget displays hierarchical data as a multi-level expandable panel bar.\",\n    depends: [ \"core\", \"data\", \"data.odata\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        keys = kendo.keys,\n        extend = $.extend,\n        each = $.each,\n        isArray = Array.isArray,\n        template = kendo.template,\n        Widget = ui.Widget,\n        HierarchicalDataSource = kendo.data.HierarchicalDataSource,\n        excludedNodesRegExp = /^(ul|a|div)$/i,\n        NS = \".kendoPanelBar\",\n        IMG = \"img\",\n        HREF = \"href\",\n        LAST = \"k-last\",\n        LINK = \"k-link\",\n        LINKSELECTOR = \".\" + LINK,\n        ERROR = \"error\",\n        ITEM = \".k-item\",\n        GROUP = \".k-group\",\n        VISIBLEGROUP = GROUP + \":visible\",\n        IMAGE = \"k-image\",\n        FIRST = \"k-first\",\n        CHANGE = \"change\",\n        EXPAND = \"expand\",\n        SELECT = \"select\",\n        CLICK = \"click\",\n        CONTENT = \"k-content\",\n        ACTIVATE = \"activate\",\n        COLLAPSE = \"collapse\",\n        DATABOUND = \"dataBound\",\n        MOUSEENTER = \"mouseenter\",\n        MOUSELEAVE = \"mouseleave\",\n        CONTENTLOAD = \"contentLoad\",\n        UNDEFINED = \"undefined\",\n        ACTIVECLASS = \"k-state-active\",\n        GROUPS = \"> .k-panel\",\n        CONTENTS = \"> .k-content\",\n        STRING = \"string\",\n        FOCUSEDCLASS = \"k-state-focused\",\n        DISABLEDCLASS = \"k-state-disabled\",\n        SELECTEDCLASS = \"k-state-selected\",\n        SELECTEDSELECTOR = \".\" + SELECTEDCLASS,\n        HIGHLIGHTCLASS = \"k-state-highlight\",\n        ACTIVEITEMSELECTOR = ITEM + \":not(.k-state-disabled)\",\n        clickableItems = \"> \" + ACTIVEITEMSELECTOR + \" > \" + LINKSELECTOR + \", .k-panel > \" + ACTIVEITEMSELECTOR + \" > \" + LINKSELECTOR,\n        disabledItems = ITEM + \".k-state-disabled > .k-link\",\n        selectableItems = \"> li > \" + SELECTEDSELECTOR + \", .k-panel > li > \" + SELECTEDSELECTOR,\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_EXPANDED = \"aria-expanded\",\n        ARIA_HIDDEN = \"aria-hidden\",\n        ARIA_SELECTED = \"aria-selected\",\n        VISIBLE = \":visible\",\n        EMPTY = \":empty\",\n        SINGLE = \"single\",\n        bindings = {\n            text: \"dataTextField\",\n            url: \"dataUrlField\",\n            spriteCssClass: \"dataSpriteCssClassField\",\n            imageUrl: \"dataImageUrlField\"\n        },\n        itemIcon,\n        rendering = {\n        aria: function(item) {\n            var attr = \"\";\n\n            if (item.items || item.content || item.contentUrl || item.expanded) {\n                attr += ARIA_EXPANDED + \"='\" + (item.expanded ? \"true\" : \"false\") + \"' \";\n            }\n\n            if (item.enabled === false) {\n                attr += ARIA_DISABLED + \"='true'\";\n            }\n\n            return attr;\n        },\n\n    wrapperCssClass: function (group, item) {\n        var result = \"k-item\",\n            index = item.index;\n\n        result += group.firstLevel ? \" k-panelbar-header\" : \" k-panelbar-item\";\n\n        if (item.enabled === false) {\n            result += \" \" + DISABLEDCLASS;\n        } else if (item.expanded === true) {\n            result += \" \" + ACTIVECLASS;\n        }\n\n        if (index === 0) {\n            result += \" k-first\";\n        }\n\n        if (index == group.length - 1) {\n            result += \" k-last\";\n        }\n\n        if (item.cssClass) {\n            result += \" \" + item.cssClass;\n        }\n\n        if (item.level) {\n            result += \" k-level-\" + item.level();\n        }\n\n        return result;\n    },\n\n    textClass: function(item) {\n        var result = LINK;\n\n        if (item.selected) {\n            result += \" \" + SELECTEDCLASS;\n        }\n\n        return result;\n    },\n    textAttributes: function(url) {\n        return url ? \" href='\" + url + \"'\" : \"\";\n    },\n    arrowClass: function(item) {\n        var result = \"k-icon\";\n\n        result += item.expanded ? \" k-panelbar-toggle k-panelbar-collapse k-i-arrow-chevron-up\" : \" k-panelbar-toggle k-panelbar-expand k-i-arrow-chevron-down\";\n\n        return result;\n    },\n    text: function(item) {\n         return item.encoded === false ? item.text : kendo.htmlEncode(item.text);\n    },\n    groupAttributes: function(group) {\n        return group.expanded !== true ? \" style='display:none'\" : \"\";\n    },\n    ariaHidden: function(group){\n        return group.expanded !== true;\n    },\n    groupCssClass: function() {\n        return \"k-panelbar-group k-group k-panel\";\n    },\n    contentAttributes: function(content) {\n        return content.item.expanded !== true ? \" style='display:none'\" : \"\";\n    },\n    content: function(item) {\n        return item.content ? item.content : item.contentUrl ? \"\" : \"&nbsp;\";\n    },\n    contentUrl: function(item) {\n        return item.contentUrl ? 'href=\"' + item.contentUrl + '\"' : \"\";\n    }\n};\n\n    function updateFirstLast (items) {\n        items = $(items);\n\n        items.filter(\".k-first:not(:first-child)\").removeClass(FIRST);\n        items.filter(\".k-last:not(:last-child)\").removeClass(LAST);\n        items.filter(\":first-child\").addClass(FIRST);\n        items.filter(\":last-child\").addClass(LAST);\n    }\n\n    function updateLevel (item) {\n        item = $(item);\n\n        item.addClass(\"k-level-\" + item.parentsUntil(\".k-panelbar\", \"ul\").length);\n    }\n\n     function updateItemHtml(item) {\n        var wrapper = item,\n            group = item.children(\"ul\"),\n            toggleButton = wrapper.children(\".k-link\").children(\".k-icon\");\n\n        if (item.hasClass(\"k-panelbar\")) {\n            return;\n        }\n\n        if (!toggleButton.length && group.length) {\n            toggleButton = $(\"<span class='k-icon' />\").appendTo(wrapper);\n        } else if (!group.length || !group.children().length) {\n            toggleButton.remove();\n            group.remove();\n        }\n     }\n\n    itemIcon = function(item) {\n        return item.children(\"span\").children(\".k-icon\");\n    };\n\n    var PanelBar = kendo.ui.DataBoundWidget.extend({\n        init: function(element, options) {\n            var that = this,\n                content,\n                hasDataSource;\n\n           if (isArray(options)) {\n                options = { dataSource: options };\n           }\n\n            hasDataSource = options && !!options.dataSource;\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.wrapper = that.element.addClass(\"k-panelbar\");\n            options = that.options;\n\n            if (element[0].id) {\n                that._itemId = element[0].id + \"_pb_active\";\n            }\n\n            that._tabindex();\n\n            that._accessors();\n\n            that._dataSource();\n\n            that._templates();\n\n            that._initData(hasDataSource);\n\n            that._updateClasses();\n\n            that._animations(options);\n\n            element\n                .on(CLICK + NS, clickableItems, that._click.bind(that))\n                .on(MOUSEENTER  + NS + \" \" + MOUSELEAVE + NS, clickableItems, that._toggleHover)\n                .on(CLICK + NS, disabledItems, false)\n                .on(CLICK + NS, \".k-request-retry\", that._retryRequest.bind(that))\n                .on(\"keydown\" + NS, that._keydown.bind(that))\n                .on(\"focus\" + NS, function() {\n                    var item = that.select();\n                    that._current(item[0] ? item : that._first());\n                })\n                .on(\"blur\" + NS, function() {\n                    that._current(null);\n                })\n                .attr(\"role\", \"tree\");\n\n            content = element.find(\"li.\" + ACTIVECLASS + \" > .\" + CONTENT);\n\n            if (content[0]) {\n                that.expand(content.parent(), false);\n            }\n\n            if (!options.dataSource) {\n                that._angularCompile();\n            }\n\n            kendo.notify(that);\n        },\n\n        events: [\n            EXPAND,\n            COLLAPSE,\n            SELECT,\n            ACTIVATE,\n            CHANGE,\n            ERROR,\n            DATABOUND,\n            CONTENTLOAD\n        ],\n        options: {\n            name: \"PanelBar\",\n            dataSource: {},\n            animation: {\n                expand: {\n                    effects: \"expand:vertical\",\n                    duration: 200\n                },\n                collapse: { // if collapse animation effects are defined, they will be used instead of expand.reverse\n                    duration: 200\n                }\n            },\n            messages: {\n                loading: \"Loading...\",\n                requestFailed: \"Request failed.\",\n                retry: \"Retry\"\n            },\n            autoBind: true,\n            loadOnDemand: true,\n            expandMode: \"multiple\",\n            template: \"\",\n            dataTextField: null\n        },\n\n        _angularCompile: function() {\n            var that = this;\n            that.angular(\"compile\", function(){\n                return {\n                    elements: that.element.children(\"li\"),\n                    data: [{ dataItem: that.options.$angular}]\n                };\n            });\n        },\n\n        _angularCompileElements: function(html, items) {\n            var that = this;\n            that.angular(\"compile\", function(){\n                return {\n                    elements: html,\n                    data: $.map(items, function(item) {\n                        return [{ dataItem: item }];\n                    })\n                };\n            });\n        },\n\n        _angularCleanup: function() {\n            var that = this;\n\n            that.angular(\"cleanup\", function(){\n                return { elements: that.element.children(\"li\") };\n            });\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            this.element.off(NS);\n\n            this._angularCleanup();\n\n            kendo.destroy(this.element);\n        },\n\n        _initData: function(hasDataSource) {\n            var that = this;\n\n            if (hasDataSource) {\n                that.element.empty();\n                 if (that.options.autoBind) {\n                    that._progress(true);\n\n                    that.dataSource.fetch();\n                 }\n            }\n        },\n\n        _templates: function() {\n            var that = this,\n                options = that.options,\n                fieldAccessor = that._fieldAccessor.bind(that);\n\n              if (options.template && typeof options.template == STRING) {\n                    options.template = template(options.template);\n              } else if (!options.template) {\n                     options.template = template(\n                        \"# var text = \" + fieldAccessor(\"text\") + \"(data.item); #\" +\n                        \"# if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {#\" +\n                            \"<span class='k-panelbar-item-text'>#= text #</span>\" +\n                        \"# } else { #\" +\n                            \"<span class='k-panelbar-item-text'>#: text #</span>\" +\n                        \"# } #\"\n                    );\n                }\n\n            that.templates = {\n                content: template(\n                    \"<div class='k-panelbar-content k-content'#= contentAttributes(data) #>#= content(item) #</div>\"\n                ),\n                group: template(\n                    \"<ul role='group' aria-hidden='#= ariaHidden(group) #' class='#= groupCssClass(group) #'#= groupAttributes(group) #>\" +\n                        \"#= renderItems(data) #\" +\n                    \"</ul>\"\n                ),\n                itemWrapper: template(\n                     \"# var url = \" + fieldAccessor(\"url\") + \"(item); #\" +\n                     \"# var imageUrl = \" + fieldAccessor(\"imageUrl\") + \"(item); #\" +\n                     \"# var spriteCssClass = \" + fieldAccessor(\"spriteCssClass\") + \"(item); #\" +\n                     \"# var contentUrl = contentUrl(item); #\" +\n                     \"# var tag = url||contentUrl ? 'a' : 'span'; #\" +\n\n                    \"<#= tag # class='#= textClass(item) #' #= contentUrl ##= textAttributes(url) #>\" +\n                        \"# if (imageUrl) { #\" +\n                              \"<img class='k-panelbar-item-icon k-image' alt='' src='#= imageUrl #' />\" +\n                        \"# } #\" +\n\n                        \"# if (spriteCssClass) { #\" +\n                            \"<span class='k-sprite #= spriteCssClass #'></span>\" +\n                        \"# } #\" +\n                      \"#= data.panelBar.options.template(data) #\" +\n                      \"#= arrow(data) #\" +\n                    \"</#= tag #>\"\n                ),\n\n                item: template(\n                    \"<li role='treeitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'\" +\n                         kendo.attr(\"uid\") + \"='#= item.uid #'>\" +\n                        \"#= itemWrapper(data) #\" +\n                        \"# if (item.items && item.items.length > 0) { #\" +\n                        \"#= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) #\" +\n                        \"# } else if (item.content || item.contentUrl) { #\" +\n                        \"#= renderContent(data) #\" +\n                        \"# } #\" +\n                    \"</li>\"\n                ),\n                loading: template(\"<li class='k-item'><span class='k-icon k-i-loading'></span> #: data.messages.loading #</li>\"),\n                retry: template(\n                    \"<li class='k-item'>\" +\n                        \"#: data.messages.requestFailed # \" +\n                        \"<button class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-request-retry'><span class='k-button-text'>#: data.messages.retry #</span></button>\" +\n                    \"</li>\"\n                ),\n                arrow: template(\"<span class='#= arrowClass(item) #'></span>\"),\n                empty: template(\"\")\n            };\n        },\n\n        setOptions: function(options) {\n            var animation = this.options.animation;\n\n            this._animations(options);\n\n            options.animation = extend(true, animation, options.animation);\n\n            if (\"dataSource\" in options) {\n                this.setDataSource(options.dataSource);\n            }\n\n            Widget.fn.setOptions.call(this, options);\n        },\n\n        expand: function (element, useAnimation) {\n            var that = this,\n                animBackup = {};\n\n            element = this.element.find(element);\n\n            if (that._animating && element.find(\"ul\").is(\":visible\")) {\n                that.one(\"complete\", function() {\n                    setTimeout(function() {\n                        that.expand(element);\n                    });\n                });\n                return;\n            }\n            that._animating = true;\n\n            useAnimation = useAnimation !== false;\n\n            element.each(function (index, item) {\n                item = $(item);\n                var wrapper = element.children(\".k-group,.k-content\");\n\n                if (!wrapper.length) {\n                    wrapper =  that._addGroupElement(element);\n                }\n\n                 var groups = wrapper.add(item.find(CONTENTS));\n\n                if (!item.hasClass(DISABLEDCLASS) && groups.length > 0) {\n\n                    if (that.options.expandMode == SINGLE && that._collapseAllExpanded(item)) {\n                        return that;\n                    }\n\n                    element.find(\".\" + HIGHLIGHTCLASS).removeClass(HIGHLIGHTCLASS);\n                    item.addClass(HIGHLIGHTCLASS);\n\n                    if (!useAnimation) {\n                        animBackup = that.options.animation;\n                        that.options.animation = { expand: { effects: {} }, collapse: { hide: true, effects: {} } };\n                    }\n\n                    if (!that._triggerEvent(EXPAND, item)) {\n                        that._toggleItem(item, false, false);\n                    }\n\n                    if (!useAnimation) {\n                        that.options.animation = animBackup;\n                    }\n                }\n            });\n\n            return that;\n        },\n\n        collapse: function (element, useAnimation) {\n            var that = this,\n                animBackup = {};\n\n            that._animating = true;\n\n            useAnimation = useAnimation !== false;\n            element = that.element.find(element);\n\n            element.each(function (index, item) {\n                item = $(item);\n                var groups = item.find(GROUPS).add(item.find(CONTENTS));\n\n                if (!item.hasClass(DISABLEDCLASS) && groups.is(VISIBLE)) {\n                    item.removeClass(HIGHLIGHTCLASS);\n\n                    if (!useAnimation) {\n                        animBackup = that.options.animation;\n                        that.options.animation = { expand: { effects: {} }, collapse: { hide: true, effects: {} } };\n                    }\n\n                    if (!that._triggerEvent(COLLAPSE, item)) {\n                        that._toggleItem(item, true);\n                    }\n\n                    if (!useAnimation) {\n                        that.options.animation = animBackup;\n                    }\n                }\n\n            });\n            return that;\n        },\n\n         updateArrow: function(items) {\n                var that = this;\n\n                items = $(items);\n                items.children(LINKSELECTOR).children(\".k-panelbar-collapse, .k-panelbar-expand\").remove();\n\n                items\n                    .filter(function() {\n                        var dataItem = that.dataItem(this);\n\n                        if (!dataItem) {\n                            return $(this).find(\".k-panel\").length > 0 ||\n                                $(this).find(\".k-content\").length > 0;\n                        }\n\n                        return dataItem.hasChildren || dataItem.content || dataItem.contentUrl;\n                    })\n                    .children(\".k-link:not(:has([class*=k-i-arrow]))\")\n                    .each(function () {\n                        var item = $(this),\n                            parent = item.parent();\n\n                        item.append(\"<span class='k-icon \" + (parent.hasClass(ACTIVECLASS) ? \" k-panelbar-toggle k-panelbar-collapse k-i-arrow-chevron-up\" : \" k-panelbar-toggle k-panelbar-expand k-i-arrow-chevron-down\") + \"'/>\");\n                    });\n         },\n\n        _accessors: function() {\n            var that = this,\n                options = that.options,\n                i, field, textField,\n                element = that.element;\n\n            for (i in bindings) {\n                field = options[bindings[i]];\n                textField = element.attr(kendo.attr(i + \"-field\"));\n\n                if (!field && textField) {\n                    field = textField;\n                }\n\n                if (!field) {\n                    field = i;\n                }\n\n                if (!isArray(field)) {\n                    field = [field];\n                }\n\n                options[bindings[i]] = field;\n            }\n        },\n\n        _progress: function(item, showProgress) {\n            var element = this.element;\n            var loadingText = this.templates.loading({ messages: this.options.messages });\n\n            if (arguments.length == 1) {\n                showProgress = item;\n\n                if (showProgress) {\n                    element.html(loadingText);\n                } else {\n                    element.empty();\n                }\n            }\n            else {\n                itemIcon(item).toggleClass(\"k-i-loading\", showProgress).removeClass(\"k-i-refresh\");\n            }\n        },\n\n        _refreshRoot: function(items) {\n            var that = this;\n            var parent = that.element;\n            var  groupData = {\n                firstLevel: true,\n                expanded: true,\n                length: parent.children().length\n            };\n\n            this.element.empty();\n\n            var rootItemsHtml = $.map(items, function(value, idx) {\n                    if (typeof value === \"string\") {\n                        return $(value);\n                    } else {\n                        value.items = [];\n                        return $(that.renderItem({\n                            group: groupData,\n                            item: extend(value, { index: idx })\n                        }));\n                    }\n            });\n\n            this.element.append(rootItemsHtml);\n            var elements = this.element.children(\".k-item\");\n            for (var i = 0; i < items.length; i++) {\n                this.trigger(\"itemChange\", {\n                    item: elements.eq(i).find(\".k-link\").first(),\n                    data: items[i],\n                    ns: ui\n                });\n            }\n            this._angularCompileElements(rootItemsHtml, items);\n        },\n\n        _refreshChildren: function(item, parentNode) {\n            var i, children, child;\n\n            parentNode.children(\".k-group\").empty();\n            var items = item.children.data();\n            if (!items.length) {\n                updateItemHtml(parentNode);\n                children = parentNode.children(\".k-group\").children(\"li\");\n                this._angularCompileElements(children, items);\n            } else {\n                this.append(item.children, parentNode);\n\n                if(this.options.loadOnDemand){\n                    this._toggleGroup(parentNode.children(\".k-group\"), false);\n                }\n                children = parentNode.children(\".k-group\").children(\"li\");\n\n                for (i = 0; i < children.length; i++) {\n                    child = children.eq(i);\n                    this.trigger(\"itemChange\", {\n                        item: child.find(\".k-link\").first(),\n                        data: this.dataItem(child),\n                        ns: ui\n                    });\n                }\n            }\n        },\n\n        findByUid: function(uid) {\n            var items = this.element.find(\".k-item\");\n            var uidAttr = kendo.attr(\"uid\");\n            var result;\n\n            for (var i = 0; i < items.length; i++) {\n                if (items[i].getAttribute(uidAttr) == uid) {\n                    result = items[i];\n                    break;\n                }\n            }\n\n            return $(result);\n        },\n\n        refresh: function(e) {\n            var options = this.options;\n            var node = e.node;\n            var action = e.action;\n            var items = e.items;\n            var parentNode = this.wrapper;\n            var loadOnDemand = options.loadOnDemand;\n\n            if (e.field) {\n                if (!items[0] || !items[0].level) {\n                    return;\n                }\n\n                return this._updateItems(items, e.field);\n            }\n\n            if (node) {\n                parentNode = this.findByUid(node.uid);\n                this._progress(parentNode, false);\n            }\n            if (action == \"add\") {\n                this._appendItems(e.index, items, parentNode);\n            } else if (action == \"remove\") {\n                this.remove(this.findByUid(items[0].uid));\n            } else if (action == \"itemchange\") {\n                this._updateItems(items);\n            } else if (action == \"itemloaded\") {\n                this._refreshChildren(node, parentNode);\n            } else {\n                this._refreshRoot(items);\n            }\n\n            if (action != \"remove\") {\n                for (var k = 0; k < items.length; k++) {\n\n                    if (!loadOnDemand || items[k].expanded) {\n                        var tempItem = items[k];\n                        if (this._hasChildItems(tempItem)) {\n                                tempItem.load();\n                        }\n                    }\n                }\n            }\n\n            this.trigger(DATABOUND, { node: node ? parentNode : undefined });\n        },\n\n        _error: function(e) {\n            var node = e.node && this.findByUid(e.node.uid);\n            var retryHtml = this.templates.retry({ messages: this.options.messages });\n\n            if (node) {\n                this._progress(node, false);\n                this._expanded(node, false);\n                itemIcon(node).addClass(\"k-i-refresh\");\n                e.node.loaded(false);\n            } else {\n                this._progress(false);\n                this.element.html(retryHtml);\n            }\n        },\n\n        _retryRequest: function(e) {\n            e.preventDefault();\n\n            this.dataSource.fetch();\n        },\n\n         items: function() {\n            return this.element.find(\".k-item > span:first-child\");\n        },\n\n        setDataSource: function(dataSource) {\n            var options = this.options;\n\n            options.dataSource = dataSource;\n\n            this._dataSource();\n\n            if (this.options.autoBind) {\n                this._progress(true);\n                this.dataSource.fetch();\n            }\n        },\n\n        _bindDataSource: function() {\n            this._refreshHandler = this.refresh.bind(this);\n            this._errorHandler = this._error.bind(this);\n\n            this.dataSource.bind(CHANGE, this._refreshHandler);\n            this.dataSource.bind(ERROR, this._errorHandler);\n        },\n\n        _unbindDataSource: function() {\n            var dataSource = this.dataSource;\n\n            if (dataSource) {\n                dataSource.unbind(CHANGE, this._refreshHandler);\n                dataSource.unbind(ERROR, this._errorHandler);\n            }\n        },\n\n        // generates accessor function for a given field name, honoring the data*Field arrays\n        _fieldAccessor: function(fieldName) {\n            var fieldBindings = this.options[bindings[fieldName]] || [],\n                count = fieldBindings.length,\n                result = \"(function(item) {\";\n\n            if (count === 0) {\n                result += \"return item['\" + fieldName + \"'];\";\n            } else {\n                result += \"var levels = [\" +\n                            $.map(fieldBindings, function(x) {\n                                return \"function(d){ return \" + kendo.expr(x) + \"}\";\n                            }).join(\",\") + \"];\";\n                result += \"if(item.level){return levels[Math.min(item.level(), \" + count + \"-1)](item);}else\";\n                result += \"{return levels[\"+ count + \"-1](item)}\";\n            }\n\n            result += \"})\";\n\n            return result;\n        },\n\n        _dataSource: function() {\n            var that = this,\n                options = that.options,\n                dataSource = options.dataSource;\n\n            if (!dataSource) {\n                return;\n            }\n\n            dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n\n            that._unbindDataSource();\n\n            if (!dataSource.fields) {\n                dataSource.fields = [\n                    { field: \"text\" },\n                    { field: \"url\" },\n                    { field: \"spriteCssClass\" },\n                    { field: \"imageUrl\" }\n                ];\n            }\n\n            that.dataSource = HierarchicalDataSource.create(dataSource);\n\n            that._bindDataSource();\n        },\n\n        _appendItems: function(index, items, parentNode) {\n            var that = this, children, wrapper;\n\n              if (parentNode.hasClass(\"k-panelbar\")) {\n                  children = parentNode.children(\"li\");\n                  wrapper = parentNode;\n              } else {\n                  wrapper = parentNode.children(\".k-group\");\n                  if (!wrapper.length) {\n                      wrapper =  that._addGroupElement(parentNode);\n                  }\n\n                  children = wrapper.children(\"li\");\n              }\n\n             var  groupData = {\n                firstLevel: parentNode.hasClass(\"k-panelbar\"),\n                expanded: true,\n                length: children.length\n             };\n\n             var itemsHtml = $.map(items, function(value, idx) {\n                    if (typeof value === \"string\") {\n                        return $(value);\n                    } else {\n                        return $(that.renderItem({\n                            group: groupData,\n                            item: extend(value, { index: idx })\n                        }));\n                    }\n            });\n\n              if (typeof index == UNDEFINED) {\n                   index = children.length;\n              }\n\n              for (var i = 0; i < itemsHtml.length; i++) {\n                  if (children.length === 0 || index === 0) {\n                      wrapper.append(itemsHtml[i]);\n                  } else {\n                       itemsHtml[i].insertAfter(children[index - 1]);\n                  }\n               }\n\n            that._angularCompileElements(itemsHtml, items);\n              if (that.dataItem(parentNode)) {\n                  that.dataItem(parentNode).hasChildren = true;\n                  that.updateArrow(parentNode);\n              }\n        },\n\n        _updateItems: function (items, field) {\n            var that = this;\n            var i, node, nodeWrapper, item;\n            var context = { panelBar: that.options, item: item, group: {} };\n            var render = field != \"expanded\";\n\n            if (field == \"selected\") {\n                if(items[0][field]){\n                    var currentNode = that.findByUid(items[0].uid);\n\n                    if (!currentNode.hasClass(DISABLEDCLASS)) {\n                        that.select(currentNode, true);\n                    }\n                }else{\n                    that.clearSelection();\n                }\n            } else {\n                var elements = $.map(items, function(item) {\n                    return that.findByUid(item.uid);\n                });\n\n                if (render) {\n                    that.angular(\"cleanup\", function() { return { elements: elements }; });\n                }\n\n                for (i = 0; i < items.length; i++) {\n                    context.item = item = items[i];\n                    context.panelBar = that;\n                    nodeWrapper = elements[i];\n                    node = nodeWrapper.parent();\n                    if (render) {\n                        context.group = {\n                            firstLevel: node.hasClass(\"k-panelbar\"),\n                            expanded: nodeWrapper.parent().hasClass(ACTIVECLASS),\n                            length: nodeWrapper.children().length\n                        };\n\n                        nodeWrapper.children(\".k-link\").remove();\n                        nodeWrapper.prepend(that.templates.itemWrapper(extend(context,\n                            {\n                                arrow: item.hasChildren || item.content || item.contentUrl ? that.templates.arrow : that.templates.empty\n                            },\n                            rendering)));\n                    }\n\n                    if (field == \"expanded\") {\n                        that._toggleItem(nodeWrapper, !item[field], item[field] ? \"true\": true);\n                    } else if (field == \"enabled\") {\n                        that.enable(nodeWrapper, item[field]);\n                         if (!item[field]) {\n                            if (item.selected) {\n                                item.set(\"selected\", false);\n                            }\n                         }\n                    }\n\n                    if (nodeWrapper.length) {\n                        this.trigger(\"itemChange\", { item: nodeWrapper.find(\".k-link\").first(), data: item, ns: ui });\n                    }\n                }\n\n                if (render) {\n                    that.angular(\"compile\", function(){\n                        return {\n                            elements: elements,\n                            data: $.map(items, function(item) {\n                                return [{ dataItem: item }];\n                            })\n                        };\n                    });\n                }\n            }\n        },\n\n        _toggleDisabled: function(element, enable) {\n            element = this.element.find(element);\n            element\n                .toggleClass(DISABLEDCLASS, !enable)\n                .attr(ARIA_DISABLED, !enable);\n        },\n\n       dataItem: function(item) {\n            var uid = $(item).closest(ITEM).attr(kendo.attr(\"uid\")),\n                dataSource = this.dataSource;\n\n            return dataSource && dataSource.getByUid(uid);\n       },\n\n       select: function (element, skipChange) {\n           var that = this;\n\n            if (element === undefined) {\n                return that.element.find(selectableItems).parent();\n            }\n\n            element = that.element.find(element);\n\n            if (!element.length) {\n                this._updateSelected(element);\n            } else {\n                element\n                    .each(function () {\n                        var item = $(this),\n                            link = item.children(LINKSELECTOR);\n\n                        if (item.hasClass(DISABLEDCLASS)) {\n                            return that;\n                        }\n\n                        that._updateSelected(link, skipChange);\n                    });\n            }\n\n            return that;\n        },\n\n        clearSelection: function() {\n            this.select($());\n        },\n\n        enable: function (element, state) {\n            this._toggleDisabled(element, state !== false);\n\n            return this;\n        },\n\n        disable: function (element) {\n            this._toggleDisabled(element, false);\n\n            return this;\n        },\n\n        append: function (item, referenceItem) {\n            referenceItem = this.element.find(referenceItem);\n\n            var inserted = this._insert(item, referenceItem, referenceItem.length ? referenceItem.find(GROUPS) : null);\n\n            each(inserted.items, function () {\n                inserted.group.append(this);\n                updateFirstLast(this);\n                updateLevel(this);\n            });\n\n            this.updateArrow(referenceItem);\n            updateFirstLast(inserted.group.find(\".k-first, .k-last\"));\n            inserted.group.height(\"auto\");\n\n            return this;\n        },\n\n        insertBefore: function (item, referenceItem) {\n            referenceItem = this.element.find(referenceItem);\n\n            var inserted = this._insert(item, referenceItem, referenceItem.parent());\n\n            each(inserted.items, function () {\n                referenceItem.before(this);\n                updateFirstLast(this);\n                updateLevel(this);\n            });\n\n            updateFirstLast(referenceItem);\n            inserted.group.height(\"auto\");\n\n            return this;\n        },\n\n        insertAfter: function (item, referenceItem) {\n            referenceItem = this.element.find(referenceItem);\n\n            var inserted = this._insert(item, referenceItem, referenceItem.parent());\n\n            each(inserted.items, function () {\n                referenceItem.after(this);\n                updateFirstLast(this);\n                updateLevel(this);\n            });\n\n            updateFirstLast(referenceItem);\n            inserted.group.height(\"auto\");\n\n            return this;\n        },\n\n        remove: function (element) {\n            element = this.element.find(element);\n\n            var that = this,\n                parent = element.parentsUntil(that.element, ITEM),\n                group = element.parent(\"ul\");\n\n            element.remove();\n\n            if (group && !group.hasClass(\"k-panelbar\") && !group.children(ITEM).length) {\n                group.remove();\n            }\n\n            if (parent.length) {\n                parent = parent.eq(0);\n\n                that.updateArrow(parent);\n                updateFirstLast(parent);\n            }\n\n            return that;\n        },\n\n        reload: function (element) {\n            var that = this;\n            element = that.element.find(element);\n\n            element.each(function () {\n                var item = $(this);\n\n                that._ajaxRequest(item, item.children(\".\" + CONTENT), !item.is(VISIBLE));\n            });\n        },\n\n        _first: function() {\n            return this.element.children(ACTIVEITEMSELECTOR).first();\n        },\n\n        _last: function() {\n            var item = this.element.children(ACTIVEITEMSELECTOR).last(),\n                group = item.children(VISIBLEGROUP);\n\n            if (group[0]) {\n                return group.children(ACTIVEITEMSELECTOR).last();\n            }\n            return item;\n        },\n\n        _current: function(candidate) {\n            var that = this,\n                focused = that._focused,\n                id = that._itemId;\n\n            if (candidate === undefined) {\n                return focused;\n            }\n\n            that.element.removeAttr(\"aria-activedescendant\");\n\n            if (focused && focused.length) {\n                if (focused[0].id === id) {\n                    focused.removeAttr(\"id\");\n                }\n\n                focused\n                    .children(LINKSELECTOR)\n                    .removeClass(FOCUSEDCLASS);\n            }\n\n            if ($(candidate).length) {\n                id = candidate[0].id || id;\n\n                candidate.attr(\"id\", id)\n                         .children(LINKSELECTOR)\n                         .addClass(FOCUSEDCLASS);\n\n                that.element.attr(\"aria-activedescendant\", id);\n            }\n\n            that._focused = candidate;\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode,\n                current = that._current();\n\n            if (e.target != e.currentTarget) {\n                return;\n            }\n\n            if (key == keys.DOWN || key == keys.RIGHT) {\n                that._current(that._nextItem(current));\n                e.preventDefault();\n            } else if (key == keys.UP || key == keys.LEFT) {\n                that._current(that._prevItem(current));\n                e.preventDefault();\n            } else if (key == keys.ENTER || key == keys.SPACEBAR) {\n                that._click(e);\n                e.preventDefault();\n            } else if (key == keys.HOME) {\n                that._current(that._first());\n                e.preventDefault();\n            } else if (key == keys.END) {\n                that._current(that._last());\n                e.preventDefault();\n            }\n        },\n\n        _nextItem: function(item) {\n            if (!item) {\n                return this._first();\n            }\n\n            var group = item.children(VISIBLEGROUP),\n                next = item.nextAll(\":visible\").first();\n\n            if (group[0]) {\n                next = group.children(\".\" + FIRST);\n            }\n\n            if (!next[0]) {\n                next = item.parent(VISIBLEGROUP).parent(ITEM).next();\n            }\n\n            if (!next[0]) {\n                next = this._first();\n            }\n\n            if (next.hasClass(DISABLEDCLASS)) {\n                next = this._nextItem(next);\n            }\n\n            return next;\n        },\n\n        _prevItem: function(item) {\n            if (!item) {\n                return this._last();\n            }\n\n            var prev = item.prevAll(\":visible\").first(),\n                result;\n\n            if (!prev[0]) {\n                prev = item.parent(VISIBLEGROUP).parent(ITEM);\n                if (!prev[0]) {\n                    prev = this._last();\n                }\n            } else {\n                result = prev;\n                while (result[0]) {\n                    result = result.children(VISIBLEGROUP).children(\".\" + LAST);\n                    if (result[0]) {\n                        prev = result;\n                    }\n                }\n            }\n\n            if (prev.hasClass(DISABLEDCLASS)) {\n                prev = this._prevItem(prev);\n            }\n\n            return prev;\n        },\n\n        _insert: function (item, referenceItem, parent) {\n            var that = this,\n                items,\n                plain = $.isPlainObject(item),\n                isReferenceItem = referenceItem && referenceItem[0],\n                groupData;\n\n            if (!isReferenceItem) {\n                parent = that.element;\n            }\n\n            groupData = {\n                firstLevel: parent.hasClass(\"k-panelbar\"),\n                expanded: $(referenceItem).hasClass(ACTIVECLASS),\n                length: parent.children().length\n            };\n\n            if (isReferenceItem && !parent.length) {\n                parent = $(that.renderGroup({ group: groupData, options: that.options })).appendTo(referenceItem);\n            }\n\n            if (plain || Array.isArray(item) || item instanceof HierarchicalDataSource) { // is JSON or HierarchicalDataSource\n                if (item instanceof HierarchicalDataSource) {\n                   item = item.data();\n                }\n\n                items = $.map(plain ? [item] : item, function(value, idx) {\n                    if (typeof value === \"string\") {\n                        return $(value);\n                    } else {\n                        return $(that.renderItem({\n                            group: groupData,\n                            item: extend(value, { index: idx })\n                        }));\n                    }\n                });\n                if (isReferenceItem) {\n                    var dataItem = that.dataItem(referenceItem);\n\n                    if (dataItem) {\n                        dataItem.hasChildren = true;\n                        referenceItem\n                            .attr(ARIA_EXPANDED, dataItem.expanded)\n                            .not(\".\" + ACTIVECLASS)\n                            .children(\"ul\")\n                            .attr(ARIA_HIDDEN, !dataItem.expanded);\n                    }else{\n                        referenceItem.attr(ARIA_EXPANDED, false);\n                    }\n                }\n            } else {\n                if (typeof item == \"string\" && item.charAt(0) != \"<\") {\n                    items = that.element.find(item);\n                } else {\n                    items = $(item);\n                }\n                that._updateItemsClasses(items);\n            }\n\n            if (!item.length){\n                item = [item];\n            }\n\n            that._angularCompileElements(items, item);\n            return { items: items, group: parent };\n        },\n\n        _toggleHover: function(e) {\n            var target = $(e.currentTarget);\n\n            if (!target.parents(\"li.\" + DISABLEDCLASS).length) {\n                target.toggleClass(\"k-state-hover\", e.type == MOUSEENTER);\n            }\n        },\n\n        _updateClasses: function() {\n            var that = this,\n                panels, items, expanded, panelsParent, dataItem;\n\n            panels = that.element\n                         .find(\"li > ul\")\n                         .not(function () { return $(this).parentsUntil(\".k-panelbar\", \"div\").length; })\n                         .addClass(\"k-panelbar-group k-group k-panel\")\n                         .attr(\"role\", \"group\");\n\n            panelsParent = panels.parent();\n            dataItem = that.dataItem(panelsParent);\n            expanded = (dataItem && dataItem.expanded) || false;\n\n            panels.parent()\n                  .not(\"[\" + ARIA_EXPANDED + \"]\")\n                  .attr(ARIA_EXPANDED, expanded)\n                  .not(\".\" + ACTIVECLASS)\n                  .children(\"ul\")\n                  .attr(ARIA_HIDDEN, !expanded)\n                  .hide();\n\n            items = that.element.add(panels).children();\n\n            that._updateItemsClasses(items);\n            that.updateArrow(items);\n            updateFirstLast(items);\n        },\n\n        _updateItemsClasses: function(items) {\n            var length = items.length,\n                idx = 0;\n\n            for(; idx < length; idx++) {\n                this._updateItemClasses(items[idx], idx);\n            }\n        },\n\n        _updateItemClasses: function(item, index) {\n            var selected = this._selected,\n                contentUrls = this.options.contentUrls,\n                url = contentUrls && contentUrls[index],\n                root = this.element[0],\n                wrapElement, link;\n\n            item = $(item).addClass(\"k-item\").attr(\"role\", \"treeitem\");\n\n            if (kendo.support.browser.msie) {  // IE10 doesn't apply list-style: none on invisible items otherwise.\n                item.css(\"list-style-position\", \"inside\")\n                    .css(\"list-style-position\", \"\");\n            }\n\n            item\n                .children(IMG)\n                .addClass(IMAGE);\n\n            link = item\n                    .children(\"a\")\n                    .addClass(LINK);\n\n            if (link[0]) {\n                link.attr(\"href\", url); //url can be undefined\n\n                link.children(IMG)\n                    .addClass(IMAGE);\n            }\n\n            item\n                .filter(\"li[disabled]\")\n                .addClass(\"k-state-disabled\")\n                .attr(ARIA_DISABLED, true)\n                .prop(\"disabled\", false);\n\n            item\n                .children(\"div\")\n                .addClass(CONTENT + \" k-panelbar-content\")\n                .attr(ARIA_HIDDEN, true)\n                .hide()\n                .parent()\n                .attr(ARIA_EXPANDED, false);\n\n            link = item.children(SELECTEDSELECTOR);\n            if (link[0]) {\n                if (selected) {\n                    selected.removeAttr(ARIA_SELECTED)\n                            .children(SELECTEDSELECTOR)\n                            .removeClass(SELECTEDCLASS);\n                }\n\n                link.addClass(SELECTEDCLASS);\n                this._selected = item.attr(ARIA_SELECTED, true);\n            }\n\n            if (!item.children(LINKSELECTOR)[0]) {\n                wrapElement = \"<span class='\" + LINK + \"'><span class='k-panelbar-item-text'></span></span>\";\n                if (contentUrls && contentUrls[index] && item[0].parentNode == root) {\n                    wrapElement = '<a class=\"k-link\" href=\"' + contentUrls[index] + '\"></a>';\n                }\n\n                item\n                    .contents()      // exclude groups, real links, templates and empty text nodes\n                    .filter(function() { return (!this.nodeName.match(excludedNodesRegExp) && !(this.nodeType == 3 && !kendo.trim(this.nodeValue.trim))); })\n                    .wrapAll(wrapElement);\n            }\n\n\n            if (item.parent(\".k-panelbar\")[0]) {\n                item.addClass(\"k-panelbar-header\");\n            } else {\n                item.addClass(\"k-panelbar-item\");\n            }\n\n            if (!/k\\-level\\-\\d+/i.test(item.attr(\"class\"))) {\n                item.addClass(\"k-level-\" + item.parentsUntil(this.element, \"ul\").length);\n            }\n        },\n\n        _click: function (e) {\n            var that = this,\n                target = e.type == CLICK ? $(e.target) : that._current().children(LINKSELECTOR),\n                element = that.element,\n                prevent, contents, href, isAnchor;\n\n            if (target.parents(\"li.\" + DISABLEDCLASS).length) {\n                return;\n            }\n\n            if (target.closest(\".k-panelbar\")[0] != element[0]) {\n                return;\n            }\n\n            if (target.is(\":kendoFocusable\") && !target.hasClass(LINK)) {\n                return;\n            }\n\n            var link = target.closest(LINKSELECTOR),\n                item = link.closest(ITEM);\n\n            that._updateSelected(link);\n\n            var wrapper = item.children(\".k-group,.k-content\");\n            var dataItem = this.dataItem(item);\n\n            if (!wrapper.length && ((that.options.loadOnDemand && dataItem && dataItem.hasChildren) ||\n             this._hasChildItems(item) || item.content || item.contentUrl)) {\n                wrapper =  that._addGroupElement(item);\n            }\n\n            contents = item.find(GROUPS).add(item.find(CONTENTS));\n            href = link.attr(HREF);\n            isAnchor = href && (href.charAt(href.length - 1) == \"#\" || href.indexOf(\"#\" + that.element[0].id + \"-\") != -1);\n            prevent = !!(isAnchor || contents.length);\n\n            if (contents.data(\"animating\") && prevent) {\n                e.preventDefault();\n                return;\n            }\n\n            if (that._triggerEvent(SELECT, item)) {\n                prevent = true;\n            }\n\n            if (prevent === false) {\n                return;\n            }\n\n            if (that.options.expandMode == SINGLE) {\n                if (that._collapseAllExpanded(item) && prevent) {\n                    e.preventDefault();\n                    return;\n                }\n            }\n\n            if (contents.length) {\n                var visibility = contents.is(VISIBLE);\n\n                if (!that._triggerEvent(!visibility ? EXPAND : COLLAPSE, item)) {\n                    prevent = that._toggleItem(item, visibility);\n                }\n            }\n\n            if (prevent) {\n                e.preventDefault();\n            }\n        },\n        _hasChildItems: function (item) {\n            return (item.items && item.items.length > 0) || item.hasChildren;\n        },\n\n        _toggleItem: function (element, isVisible, expanded) {\n            var that = this,\n                childGroup = element.find(GROUPS),\n                link = element.find(LINKSELECTOR),\n                url = link.attr(HREF),\n                prevent, content,\n                dataItem = that.dataItem(element),\n                notVisible = !isVisible;\n\n            var loaded = dataItem && dataItem.loaded();\n\n            if (dataItem && !expanded && dataItem.expanded !== notVisible) {\n                dataItem.set(\"expanded\", notVisible);\n                prevent = dataItem.hasChildren || !!dataItem.content || !!dataItem.contentUrl;\n                return prevent;\n            }\n\n            if (dataItem && (!expanded || expanded === \"true\") &&  !loaded && !dataItem.content && !dataItem.contentUrl) {\n                 if (that.options.loadOnDemand) {\n                     this._progress(element, true);\n                 }\n\n                 element.children(\".k-group,.k-content\").remove();\n                 prevent = dataItem.hasChildren;\n\n                 dataItem.load();\n             } else {\n                   if (childGroup.length) {\n                        this._toggleGroup(childGroup, isVisible);\n                        prevent = true;\n                   } else {\n                        content = element.children(\".\"  + CONTENT);\n\n                        if (content.length) {\n                            prevent = true;\n\n                            if (!content.is(EMPTY) || url === undefined) {\n                                that._toggleGroup(content, isVisible);\n                            } else {\n                                that._ajaxRequest(element, content, isVisible);\n                            }\n                        }\n                    }\n             }\n\n            return prevent;\n        },\n\n        _toggleGroup: function (element, visibility) {\n            var that = this,\n                animationSettings = that.options.animation,\n                animation = animationSettings.expand,\n                hasCollapseAnimation = animationSettings.collapse && \"effects\" in animationSettings.collapse,\n                collapse = extend({}, animationSettings.expand, animationSettings.collapse);\n\n            if (!hasCollapseAnimation) {\n                collapse = extend(collapse, {reverse: true});\n            }\n\n            if (element.is(VISIBLE) != visibility) {\n                that._animating = false;\n                return;\n            }\n\n            element.attr(ARIA_HIDDEN, !!visibility);\n\n            element.parent()\n                .attr(ARIA_EXPANDED, !visibility)\n                .toggleClass(ACTIVECLASS, !visibility)\n                .find(\"> .k-link > .k-panelbar-collapse,> .k-link > .k-panelbar-expand\")\n                    .toggleClass(\"k-i-arrow-chevron-up\", !visibility)\n                    .toggleClass(\"k-panelbar-collapse\", !visibility)\n                    .toggleClass(\"k-i-arrow-chevron-down\", visibility)\n                    .toggleClass(\"k-panelbar-expand\", visibility);\n            if (visibility) {\n                animation = extend(collapse, { hide: true });\n\n                animation.complete = function() {\n                    that._animationCallback();\n                };\n            } else {\n                animation = extend( { complete: function (element) {\n                        that._triggerEvent(ACTIVATE, element.closest(ITEM));\n                        that._animationCallback();\n                    } }, animation );\n            }\n\n            element\n                .toggle(0)\n                .kendoStop(true, true)\n                .kendoAnimate( animation );\n        },\n\n        _animationCallback: function() {\n            var that = this;\n            that.trigger(\"complete\");\n            that._animating = false;\n        },\n\n        _addGroupElement: function(element) {\n            var group = $('<ul role=\"group\" aria-hidden=\"true\" class=\"k-panelbar-group k-group k-panel\" style=\"display:none\"></ul>');\n\n            element.append(group);\n            return group;\n        },\n\n        _collapseAllExpanded: function (item) {\n            var that = this, children, stopExpand = false;\n\n            var groups = item.find(GROUPS).add(item.find(CONTENTS));\n\n            if (groups.is(VISIBLE)) {\n                stopExpand = true;\n            }\n\n            if (!(groups.is(VISIBLE) || groups.length === 0)) {\n                children = item.siblings();\n                children.find(GROUPS).add(children.find(CONTENTS))\n                        .filter(function () { return $(this).is(VISIBLE); })\n                        .each(function (index, content) {\n                            content = $(content);\n\n                            stopExpand = that._triggerEvent(COLLAPSE, content.closest(ITEM));\n                            if (!stopExpand) {\n                                that._toggleGroup(content, true);\n                            }\n                        });\n\n                 that.one(\"complete\", function() {\n                    setTimeout(function() {\n                        children.each(function (index, child) {\n                            var dataItem = that.dataItem(child);\n\n                            if(dataItem){\n                                dataItem.set(\"expanded\", false);\n                            }\n                        });\n                    });\n                });\n            }\n\n            return stopExpand;\n        },\n\n        _ajaxRequest: function (element, contentElement, isVisible) {\n\n            var that = this,\n                statusIcon = element.find(\".k-panelbar-collapse, .k-panelbar-expand\"),\n                link = element.find(LINKSELECTOR),\n                loadingIconTimeout = setTimeout(function () {\n                    statusIcon.addClass(\"k-i-loading\");\n                }, 100),\n                data = {},\n                url = link.attr(HREF);\n\n            $.ajax({\n                type: \"GET\",\n                cache: false,\n                url: url,\n                dataType: \"html\",\n                data: data,\n\n                error: function (xhr, status) {\n                    statusIcon.removeClass(\"k-i-loading\");\n                    if (that.trigger(ERROR, { xhr: xhr, status: status })) {\n                        this.complete();\n                    }\n                },\n\n                complete: function () {\n                    clearTimeout(loadingIconTimeout);\n                    statusIcon.removeClass(\"k-i-loading\");\n                },\n\n                success: function (data) {\n                    function getElements(){\n                        return { elements: contentElement.get() };\n                    }\n                    try {\n                        that.angular(\"cleanup\", getElements);\n                        contentElement.html(data);\n                        that.angular(\"compile\", getElements);\n                    } catch (e) {\n                        var console = window.console;\n\n                        if (console && console.error) {\n                            console.error(e.name + \": \" + e.message + \" in \" + url);\n                        }\n                        this.error(this.xhr, \"error\");\n                    }\n\n                    that._toggleGroup(contentElement, isVisible);\n\n                    that.trigger(CONTENTLOAD, { item: element[0], contentElement: contentElement[0] });\n                }\n            });\n        },\n\n        _triggerEvent: function (eventName, element) {\n            var that = this;\n\n            return that.trigger(eventName, { item: element[0] });\n        },\n\n        _updateSelected: function(link, skipChange) {\n            var that = this,\n                element = that.element,\n                item = link.parent(ITEM),\n                selected = that._selected,\n                dataItem = that.dataItem(item);\n\n            if (selected) {\n                selected.removeAttr(ARIA_SELECTED);\n            }\n\n            that._selected = item.attr(ARIA_SELECTED, true);\n\n            element.find(selectableItems).removeClass(SELECTEDCLASS);\n            element.find(\"> .\" + HIGHLIGHTCLASS + \", .k-panel > .\" + HIGHLIGHTCLASS).removeClass(HIGHLIGHTCLASS);\n\n            link.addClass(SELECTEDCLASS);\n            link.parentsUntil(element, ITEM).filter(\":has(.k-link)\").addClass(HIGHLIGHTCLASS);\n            that._current(item[0] ? item : null);\n            if(dataItem){\n                 dataItem.set(\"selected\", true);\n            }\n\n            if(!skipChange){\n                that.trigger(CHANGE);\n            }\n        },\n\n        _animations: function(options) {\n            if (options && (\"animation\" in options) && !options.animation) {\n                options.animation = { expand: { effects: {} }, collapse: { hide: true, effects: {} } };\n            }\n        },\n\n        renderItem: function (options) {\n            var that = this;\n                options = extend({ panelBar: that, group: {} }, options);\n\n            var empty = that.templates.empty,\n                item = options.item;\n\n            return that.templates.item(extend(options, {\n                itemWrapper: that.templates.itemWrapper,\n                renderContent: that.renderContent,\n                arrow: that._hasChildItems(item) || item.content || item.contentUrl ? that.templates.arrow : empty,\n                subGroup: !options.loadOnDemand || item.expanded ? that.renderGroup : empty\n            }, rendering));\n        },\n\n        renderGroup: function(options) {\n            var that = this;\n            var templates = that.templates || options.panelBar.templates;\n\n            return templates.group(extend({\n                renderItems: function(options) {\n                    var html = \"\",\n                        i = 0,\n                        items = options.items,\n                        len = items ? items.length : 0,\n                        group = extend({ length: len }, options.group);\n\n                    for (; i < len; i++) {\n                        html += options.panelBar.renderItem(extend(options, {\n                            group: group,\n                            item: extend({ index: i }, items[i])\n                        }));\n                    }\n\n                    return html;\n                }\n            }, options, rendering));\n        },\n\n        renderContent: function(options) {\n            return options.panelBar.templates.content(extend(options, rendering));\n        }\n    });\n\nkendo.ui.plugin(PanelBar);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.progressbar',[ \"kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"progressbar\",\n    name: \"ProgressBar\",\n    category: \"web\",\n    description: \"The ProgressBar offers rich functionality for displaying and tracking progress\",\n    depends: [ \"core\" ]\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        HORIZONTAL = \"horizontal\",\n        VERTICAL = \"vertical\",\n        DEFAULTMIN = 0,\n        DEFAULTMAX = 100,\n        DEFAULTVALUE = 0,\n        DEFAULTCHUNKCOUNT = 5,\n        KPROGRESSBAR = \"k-progressbar\",\n        KPROGRESSBARREVERSE = \"k-progressbar-reverse\",\n        KPROGRESSBARINDETERMINATE = \"k-progressbar-indeterminate\",\n        KPROGRESSBARCOMPLETE = \"k-complete\",\n        KPROGRESSWRAPPER = \"k-state-selected\",\n        KPROGRESSSTATUS = \"k-progress-status\",\n        LABEL_POSITION_END = \"k-progress-end\",\n        KCOMPLETEDCHUNK = \"k-state-selected\",\n        STATEDISABLED = \"k-state-disabled\",\n        PROGRESSTYPE = {\n            VALUE: \"value\",\n            PERCENT: \"percent\",\n            CHUNK: \"chunk\"\n        },\n        CHANGE = \"change\",\n        COMPLETE = \"complete\",\n        BOOLEAN = \"boolean\",\n        math = Math,\n        extend = $.extend,\n        HUNDREDPERCENT = 100,\n        DEFAULTANIMATIONDURATION = 400,\n        PRECISION = 3,\n        templates = {\n            progressStatus: \"<span class='k-progress-status-wrap \" + LABEL_POSITION_END + \"'><span class='k-progress-status'></span></span>\",\n            announceElement: '<span aria-live=\"polite\" class=\"k-sr-only k-progress-announce\"></span>'\n        };\n\n    var ProgressBar = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(this, element, options);\n\n            options = that.options;\n\n            that._progressProperty = (options.orientation === HORIZONTAL) ? \"width\" : \"height\";\n\n            that._fields();\n\n            options.value = that._validateValue(options.value);\n\n            that._validateType(options.type);\n\n            that._wrapper();\n\n            if(options.ariaRole) {\n                that._aria();\n            }\n\n            that._progressAnimation();\n\n            if ((options.value !== options.min) && (options.value !== false)) {\n               that._updateProgress();\n            }\n        },\n\n        setOptions: function(options) {\n            var that = this,\n                wrapper = that.wrapper;\n\n            Widget.fn.setOptions.call(that, options);\n\n            if (options.hasOwnProperty(\"reverse\")) {\n                wrapper.toggleClass(\"k-progressbar-reverse\", options.reverse);\n            }\n\n            if (options.hasOwnProperty(\"enable\")) {\n                that.enable(options.enable);\n            }\n\n            if(options.ariaRole) {\n                that._aria();\n            }\n\n            that._progressAnimation();\n\n            that._validateValue();\n\n            that._updateProgress();\n        },\n\n        events: [\n            CHANGE,\n            COMPLETE\n        ],\n\n        options: {\n            name: \"ProgressBar\",\n            orientation: HORIZONTAL,\n            reverse: false,\n            min: DEFAULTMIN,\n            max: DEFAULTMAX,\n            value: DEFAULTVALUE,\n            enable: true,\n            type: PROGRESSTYPE.VALUE,\n            chunkCount: DEFAULTCHUNKCOUNT,\n            showStatus: true,\n            animation: { },\n            label: null,\n            labelId: null,\n            ariaRole: false\n        },\n\n        _aria: function() {\n            var that = this,\n                options = that.options,\n                wrapper = that.wrapper;\n\n            wrapper.attr({\n                \"role\": \"progressbar\",\n                \"aria-valuemin\": options.min,\n                \"aria-valuemax\": options.max\n            });\n\n            if(!!options.labelId) {\n                wrapper.attr(\"aria-labelledby\", options.labelId);\n            } else if(!!options.label) {\n                wrapper.attr(\"aria-label\", options.label);\n            }\n\n            that.announce = $(templates.announceElement);\n            that.announce.appendTo($(\"body\"));\n\n            if(options.value !== false) {\n                wrapper.attr(\"aria-valuenow\", options.value);\n\n                that.announce.text(that._calculatePercentage().toFixed() + \"%\");\n            }\n        },\n\n        _fields: function() {\n            var that = this;\n\n            that._isStarted = false;\n\n            that.progressWrapper = that.progressStatus = $();\n        },\n\n        _validateType: function(currentType) {\n            var isValid = false;\n\n            $.each(PROGRESSTYPE, function(k, type) {\n                if (type === currentType) {\n                    isValid = true;\n                    return false;\n                }\n            });\n\n            if (!isValid) {\n                throw new Error(kendo.format(\"Invalid ProgressBar type '{0}'\", currentType));\n            }\n        },\n\n        _wrapper: function() {\n            var that = this;\n            var container = that.wrapper = that.element;\n            var options = that.options;\n            var orientation = options.orientation;\n            var initialValue = (options.value !== false) ? options.value : options.min;\n\n            container.addClass(\"k-widget \" + KPROGRESSBAR);\n\n            container.addClass(KPROGRESSBAR + \"-\" + ((orientation === HORIZONTAL) ? HORIZONTAL : VERTICAL));\n\n            if(options.enable === false) {\n                container.addClass(STATEDISABLED);\n            }\n\n            if (options.reverse) {\n                container.addClass(KPROGRESSBARREVERSE);\n            }\n\n            if (options.value === false) {\n                container.addClass(KPROGRESSBARINDETERMINATE);\n            }\n\n            if (options.type === PROGRESSTYPE.CHUNK) {\n                that._addChunkProgressWrapper();\n            } else {\n                if (options.showStatus){\n                    that.progressStatus = that.wrapper.prepend(templates.progressStatus)\n                                              .find(\".\" + KPROGRESSSTATUS);\n\n                    if (options.type === PROGRESSTYPE.VALUE) {\n                        that.progressStatus.text(initialValue);\n                    } else {\n                        that.progressStatus.text(that._calculatePercentage(initialValue).toFixed() + \"%\");\n                    }\n                }\n            }\n        },\n\n        value: function(value) {\n            return this._value(value);\n        },\n\n        _value: function(value){\n            var that = this;\n            var options = that.options;\n            var validated;\n\n            if (value === undefined) {\n                return options.value;\n            } else {\n                if (typeof value !== BOOLEAN) {\n                    value = that._roundValue(value);\n\n                    if(!isNaN(value)) {\n                        validated = that._validateValue(value);\n\n                        if (validated !== options.value) {\n                            that.wrapper.removeClass(KPROGRESSBARINDETERMINATE);\n\n                            options.value = validated;\n\n                            that._isStarted = true;\n\n                            that._updateProgress();\n                        }\n                    }\n                } else if (!value) {\n                    that.wrapper.addClass(KPROGRESSBARINDETERMINATE);\n                    that.wrapper.removeAttr(\"aria-valuenow\");\n                    options.value = false;\n\n                    if(that.announce) {\n                        that.announce.text(\"\");\n                    }\n                }\n            }\n        },\n\n        _roundValue: function(value) {\n             value = parseFloat(value);\n\n             var power = math.pow(10, PRECISION);\n\n             return kendo._round(value * power) / power;\n        },\n\n        _validateValue: function(value) {\n            var that = this;\n            var options = that.options;\n\n            if (value !== false) {\n                if (value <= options.min || value === true) {\n                    return options.min;\n                } else if (value >= options.max) {\n                    return options.max;\n                }\n            } else if (value === false) {\n                return false;\n            }\n\n            if(isNaN(that._roundValue(value))) {\n                return options.min;\n            }\n\n            return value;\n        },\n\n        _updateProgress: function() {\n            var that = this;\n            var options = that.options;\n            var percentage = that._calculatePercentage();\n\n            if (options.type === PROGRESSTYPE.CHUNK) {\n                that._updateChunks(percentage);\n                that._onProgressUpdateAlways(options.value);\n            } else {\n                that._updateProgressWrapper(percentage);\n            }\n\n            if(options.ariaRole) {\n                that.wrapper.attr(\"aria-valuenow\", that.options.value);\n\n                if(that.announce) {\n                    that.announce.text(percentage.toFixed() + \"%\");\n                }\n            }\n        },\n\n        _updateChunks: function(percentage) {\n            var that = this;\n            var options = that.options;\n            var chunkCount = options.chunkCount;\n            var percentagesPerChunk =  parseInt((HUNDREDPERCENT / chunkCount) * 100, 10) / 100;\n            var percentageParsed = parseInt(percentage * 100, 10) / 100;\n            var completedChunksCount = math.floor(percentageParsed / percentagesPerChunk);\n            var completedChunks;\n\n            if((options.orientation === HORIZONTAL && !(options.reverse)) ||\n               (options.orientation === VERTICAL && options.reverse)) {\n                completedChunks = that.wrapper.find(\"li.k-item\").slice(0, completedChunksCount);\n            } else if(completedChunksCount === 0) {\n                completedChunks = kendo.jQuery();\n            } else {\n                completedChunks = that.wrapper.find(\"li.k-item\").slice(completedChunksCount * -1);\n            }\n\n            that.wrapper.find(\".\" + KCOMPLETEDCHUNK)\n                        .removeClass(KCOMPLETEDCHUNK);\n\n            completedChunks.addClass(KCOMPLETEDCHUNK);\n        },\n\n        _updateProgressWrapper: function(percentage) {\n            var that = this;\n            var options = that.options;\n            var progressWrapper = that.wrapper.find(\".\" + KPROGRESSWRAPPER);\n            var animationDuration = that._isStarted ? that._animation.duration : 0;\n            var animationCssOptions = { };\n\n            if (progressWrapper.length === 0) {\n                that._addRegularProgressWrapper();\n            }\n\n            animationCssOptions[that._progressProperty] = percentage + \"%\";\n            that.progressWrapper.animate(animationCssOptions, {\n                duration: animationDuration,\n                start: that._onProgressAnimateStart.bind(that),\n                progress: that._onProgressAnimate.bind(that),\n                complete: that._onProgressAnimateComplete.bind(that, options.value),\n                always: that._onProgressUpdateAlways.bind(that, options.value)\n            });\n        },\n\n        _onProgressAnimateStart: function() {\n            this.progressWrapper.show();\n        },\n\n        _onProgressAnimate: function(e) {\n            var that = this;\n            var options = that.options;\n            var progressInPercent = parseFloat(e.elem.style[that._progressProperty], 10);\n            var progressStatusWrapSize;\n\n            if (options.showStatus) {\n                progressStatusWrapSize = 10000 / parseFloat(that.progressWrapper[0].style[that._progressProperty]);\n\n                that.progressWrapper.find(\".k-progress-status-wrap\").css(that._progressProperty, progressStatusWrapSize + \"%\");\n            }\n\n            if (options.type !== PROGRESSTYPE.CHUNK && progressInPercent <= 98) {\n                that.progressWrapper.removeClass(KPROGRESSBARCOMPLETE);\n            }\n        },\n\n        _onProgressAnimateComplete: function(currentValue) {\n            var that = this;\n            var options = that.options;\n            var progressWrapperSize = parseFloat(that.progressWrapper[0].style[that._progressProperty]);\n            var progressValue;\n\n            if (options.type !== PROGRESSTYPE.CHUNK && progressWrapperSize > 98) {\n                that.progressWrapper.addClass(KPROGRESSBARCOMPLETE);\n            }\n\n            if (options.showStatus) {\n                if (options.type === PROGRESSTYPE.VALUE) {\n                    progressValue = currentValue;\n                } else if (options.type == PROGRESSTYPE.PERCENT) {\n                    progressValue = that._calculatePercentage(currentValue).toFixed() + \"%\";\n                } else {\n                    progressValue = math.floor(that._calculatePercentage(currentValue)) + \"%\";\n                }\n                that.progressStatus.text(progressValue);\n            }\n\n            if (currentValue === options.min) {\n                that.progressWrapper.hide();\n            }\n        },\n\n        _onProgressUpdateAlways: function(currentValue) {\n            var that = this;\n            var options = that.options;\n\n            if (that._isStarted) {\n                that.trigger(CHANGE, { value: currentValue });\n            }\n\n            if (currentValue === options.max && that._isStarted) {\n                that.trigger(COMPLETE, { value: options.max });\n            }\n        },\n\n        enable: function(enable) {\n            var that = this;\n            var options = that.options;\n\n            options.enable = typeof(enable) === \"undefined\" ? true : enable;\n            that.wrapper.toggleClass(STATEDISABLED, !options.enable);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if(that.announce) {\n                that.announce.remove();\n            }\n\n            Widget.fn.destroy.call(that);\n        },\n\n        _addChunkProgressWrapper: function () {\n            var that = this;\n            var options = that.options;\n            var container = that.wrapper;\n            var chunkSize = HUNDREDPERCENT / options.chunkCount;\n            var html = \"\";\n\n            if (options.chunkCount <= 1) {\n                options.chunkCount = 1;\n            }\n\n            html += \"<ul class='k-reset'>\";\n            for (var i = options.chunkCount - 1; i >= 0; i--) {\n                html += \"<li class='k-item'></li>\";\n            }\n            html += \"</ul>\";\n\n            container.append(html).find(\".k-item\").css(that._progressProperty, chunkSize + \"%\")\n                     .first().addClass(\"k-first\")\n                     .end()\n                     .last().addClass(\"k-last\");\n\n            that._normalizeChunkSize();\n        },\n\n        _normalizeChunkSize: function() {\n            var that = this;\n            var options = that.options;\n            var lastChunk = that.wrapper.find(\".k-item\").last();\n            var currentSize = parseFloat(lastChunk[0].style[that._progressProperty]);\n            var difference = HUNDREDPERCENT - (options.chunkCount * currentSize);\n\n            if (difference > 0) {\n                lastChunk.css(that._progressProperty, (currentSize + difference) + \"%\");\n            }\n        },\n\n        _addRegularProgressWrapper: function() {\n            var that = this;\n\n            that.progressWrapper = $(\"<div class='\" + KPROGRESSWRAPPER + \"'></div>\").appendTo(that.wrapper);\n\n            if (that.options.showStatus) {\n                that.progressWrapper.append(templates.progressStatus);\n\n                that.progressStatus = that.wrapper.find(\".\" + KPROGRESSSTATUS);\n            }\n        },\n\n        _calculateChunkSize: function() {\n            var that = this;\n            var chunkCount = that.options.chunkCount;\n            var chunkContainer = that.wrapper.find(\"ul.k-reset\");\n\n            return (parseInt(chunkContainer.css(that._progressProperty), 10) - (chunkCount - 1)) / chunkCount;\n        },\n\n        _calculatePercentage: function(currentValue) {\n            var that = this;\n            var options = that.options;\n            var value = (currentValue !== undefined) ? currentValue : options.value;\n            var min = options.min;\n            var max = options.max;\n            that._onePercent = math.abs((max - min) / 100);\n\n            return math.abs((value - min) / that._onePercent);\n        },\n\n        _progressAnimation: function() {\n            var that = this;\n            var options = that.options;\n            var animation = options.animation;\n\n            if (animation === false) {\n                that._animation = { duration: 0 };\n            } else {\n                that._animation = extend({\n                    duration: DEFAULTANIMATIONDURATION\n                }, options.animation);\n            }\n        }\n    });\n\n    kendo.ui.plugin(ProgressBar);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.responsivepanel',[ \"kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"responsive-panel\",\n    name: \"Responsive Panel\",\n    category: \"web\",\n    description: \"The Responsive Panel widget allows a panel of content to be hidden on mobile devices, available through a toggle button.\",\n    depends: [ \"core\" ]\n};\n\n(function ($, undefined) {\n    var NS = \".kendoResponsivePanel\";\n    var OPEN = \"open\";\n    var CLOSE = \"close\";\n    var ACTIVATE_EVENTS = \"click\" + NS +\" touchstart\" + NS + \" touchend\" + NS;\n    var Widget = kendo.ui.Widget;\n    var ResponsivePanel = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n\n            this._guid = \"_\" + kendo.guid();\n\n            this._toggleHandler = this._toggleButtonClick.bind(this);\n            this._closeHandler = this._close.bind(this);\n\n            $(document.documentElement).on(ACTIVATE_EVENTS, this.options.toggleButton, this._toggleHandler);\n\n            this._registerBreakpoint();\n\n            if (this.options.content) {\n                kendo.destroy(this.element.children());\n                this.element.html(this.options.content);\n            }\n\n            this.element\n                .addClass(\"k-rpanel k-rpanel-\" + this.options.orientation + \" \" + this._guid);\n\n            this._resizeHandler = this.resize.bind(this, true);\n            $(window).on(\"resize\" + NS, this._resizeHandler);\n        },\n        _mediaQuery:\n            \"@media (max-width: #= breakpoint-1 #px) {\" +\n                \".#= guid #.k-rpanel-animate.k-rpanel-left,\" +\n                \".#= guid #.k-rpanel-animate.k-rpanel-right {\" +\n                    \"-webkit-transition: -webkit-transform .2s ease-out;\" +\n                    \"-ms-transition: -ms-transform .2s ease-out;\" +\n                    \"transition: transform .2s ease-out;\" +\n                \"} \" +\n                \".#= guid #.k-rpanel-top {\" +\n                    \"overflow: hidden;\" +\n                \"}\" +\n                \".#= guid #.k-rpanel-animate.k-rpanel-top {\" +\n                    \"-webkit-transition: max-height .2s linear;\" +\n                    \"-ms-transition: max-height .2s linear;\" +\n                    \"transition: max-height .2s linear;\" +\n                \"}\" +\n            \"} \" +\n            \"@media (min-width: #= breakpoint #px) {\" +\n                \"#= toggleButton # { display: none; } \" +\n                \".#= guid #.k-rpanel-left { float: left; } \" +\n                \".#= guid #.k-rpanel-right { float: right; } \" +\n                \".#= guid #.k-rpanel-left, .#= guid #.k-rpanel-right {\" +\n                    \"position: relative;\" +\n                    \"-webkit-transform: translateX(0);\" +\n                    \"-ms-transform: translateX(0);\" +\n                    \"transform: translateX(0);\" +\n                    \"-webkit-transform: translateX(0) translateZ(0);\" +\n                    \"-ms-transform: translateX(0) translateZ(0);\" +\n                    \"transform: translateX(0) translateZ(0);\" +\n                \"} \" +\n                \".k-ie9 .#= guid #.k-rpanel-left { left: 0; } \" +\n                \".#= guid #.k-rpanel-top { max-height: none; }\" +\n            \"}\",\n        _registerBreakpoint: function() {\n            var options = this.options;\n\n            this._registerStyle(kendo.template(this._mediaQuery)({\n                breakpoint: options.breakpoint,\n                toggleButton: options.toggleButton,\n                guid: this._guid\n            }));\n        },\n        _registerStyle: function(cssText) {\n            var head = $(\"head,body\")[0];\n            var style = document.createElement('style');\n\n            head.appendChild(style);\n\n            if (style.styleSheet){\n                style.styleSheet.cssText = cssText;\n            } else {\n                style.appendChild(document.createTextNode(cssText));\n            }\n        },\n        options: {\n            name: \"ResponsivePanel\",\n            content:\"\",\n            orientation: \"left\",\n            toggleButton: \".k-rpanel-toggle\",\n            breakpoint: 640,\n            autoClose: true\n        },\n        events: [\n            OPEN,\n            CLOSE\n        ],\n        _resize: function() {\n            this.element.removeClass(\"k-rpanel-animate k-rpanel-expanded\");\n\n            $(document.documentElement).off(ACTIVATE_EVENTS, this._closeHandler);\n        },\n        _toggleButtonClick: function(e) {\n            e.preventDefault();\n\n            if(e.type == \"touchend\") {\n                return;\n            }\n\n            if (this.element.hasClass(\"k-rpanel-expanded\")) {\n                this.close();\n            } else {\n                this.open();\n            }\n        },\n        open: function() {\n            if (!this.trigger(OPEN)) {\n                this.element.addClass(\"k-rpanel-animate k-rpanel-expanded\");\n\n                if (this.options.autoClose) {\n                    $(document.documentElement).on(ACTIVATE_EVENTS, this._closeHandler);\n                }\n            }\n        },\n        close: function() {\n            if (!this.trigger(CLOSE)) {\n                this.element.addClass(\"k-rpanel-animate\").removeClass(\"k-rpanel-expanded\");\n\n                $(document.documentElement).off(ACTIVATE_EVENTS, this._closeHandler);\n            }\n        },\n        _close: function(e) {\n            var prevented = e.isDefaultPrevented();\n            var container = $(e.target).closest(this.options.toggleButton + \",.k-rpanel\");\n\n            if (!container.length && !prevented) {\n                this.close();\n            }\n        },\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            $(window).off(\"resize\" + NS, this._resizeHandler);\n            $(document.documentElement).off(ACTIVATE_EVENTS, this._closeHandler);\n        }\n    });\n\n    kendo.ui.plugin(ResponsivePanel);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.tabstrip',[ \"kendo.data\" ], f);\n})(function() {\n\nvar __meta__ = { // jshint ignore:line\n    id: \"tabstrip\",\n    name: \"TabStrip\",\n    category: \"web\",\n    description: \"The TabStrip widget displays a collection of tabs with associated tab content.\",\n    depends: [ \"data\" ],\n    features: [ {\n        id: \"tabstrip-fx\",\n        name: \"Animation\",\n        description: \"Support for animation\",\n        depends: [ \"fx\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        keys = kendo.keys,\n        map = $.map,\n        each = $.each,\n        trim = kendo.trim,\n        extend = $.extend,\n        isFunction = kendo.isFunction,\n        template = kendo.template,\n        outerWidth = kendo._outerWidth,\n        outerHeight = kendo._outerHeight,\n        Widget = ui.Widget,\n        excludedNodesRegExp = /^(a|div)$/i,\n        NS = \".kendoTabStrip\",\n        IMG = \"img\",\n        HREF = \"href\",\n        PREV = \"prev\",\n        NEXT = \"next\",\n        SHOW = \"show\",\n        LINK = \"k-link\",\n        LAST = \"k-last\",\n        CLICK = \"click\",\n        ERROR = \"error\",\n        EMPTY = \":empty\",\n        IMAGE = \"k-image\",\n        FIRST = \"k-first\",\n        SELECT = \"select\",\n        ACTIVATE = \"activate\",\n        CONTENT = \"k-tabstrip-content k-content\",\n        CONTENTURL = \"contentUrl\",\n        MOUSEENTER = \"mouseenter\",\n        MOUSELEAVE = \"mouseleave\",\n        CONTENTLOAD = \"contentLoad\",\n        DISABLEDSTATE = \"k-state-disabled\",\n        ACTIVESTATE = \"k-state-active\",\n        FOCUSEDSTATE = \"k-state-focused\",\n        HOVERSTATE = \"k-state-hover\",\n        TABONTOP = \"k-tab-on-top\",\n        NAVIGATABLEITEMS = \".k-item:not(.\" + DISABLEDSTATE + \")\",\n        KEYBOARDNAVIGATABLEITEMS = \".k-item\",\n        HOVERABLEITEMS = \".k-tabstrip-items > \" + NAVIGATABLEITEMS + \":not(.\" + ACTIVESTATE + \")\",\n        DEFAULTDISTANCE = 200,\n\n        templates = {\n            content: template(\n                \"<div class='k-tabstrip-content k-content' #= contentAttributes(data) # tabindex='0'>#= content(item) #</div>\"\n            ),\n            itemWrapper: template(\n                \"<#= tag(item) # class='k-link' #= contentUrl(item) # #= textAttributes(item) #>\" +\n                    \"#= image(item) ##= sprite(item) ##= text(item) #\" +\n                \"</#= tag(item) #>\"\n            ),\n            item: template(\n                \"<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \\\"aria-selected='true'\\\" : ''#>\" +\n                    \"#= itemWrapper(data) #\" +\n                \"</li>\"\n            ),\n            image: template(\"<img class='k-image' alt='' src='#= imageUrl #' />\"),\n            sprite: template(\"<span class='k-sprite #= spriteCssClass #'></span>\"),\n            empty: template(\"\")\n        },\n\n        rendering = {\n            wrapperCssClass: function(group, item) {\n                var result = [\"k-tabstrip-item\", \"k-item\"],\n                    index = item.index;\n\n                if (item.enabled === false) {\n                    result.push(\"k-state-disabled\");\n                }\n\n                if (index === 0) {\n                    result.push(\"k-first\");\n                }\n\n                if (index == group.length - 1) {\n                    result.push(\"k-last\");\n                }\n\n                return result.join(\" \");\n            },\n            textAttributes: function(item) {\n                return item.url ? \" href='\" + item.url + \"'\" : \"\";\n            },\n            text: function(item) {\n                return item.encoded === false ? item.text : kendo.htmlEncode(item.text);\n            },\n            tag: function(item) {\n                return item.url ? \"a\" : \"span\";\n            },\n            contentAttributes: function(content) {\n                return content.active !== true ? \" style='display:none' aria-hidden='true' aria-expanded='false'\" : \"\";\n            },\n            content: function(item) {\n                return item.content ? item.content : item.contentUrl ? \"\" : \"&nbsp;\";\n            },\n            contentUrl: function(item) {\n                return item.contentUrl ? kendo.attr(\"content-url\") + '=\"' + item.contentUrl + '\"' : \"\";\n            }\n        };\n\n    function updateTabClasses(tabs) {\n        tabs.children(IMG)\n            .addClass(IMAGE);\n\n        tabs.children(\"a\")\n            .addClass(LINK)\n            .children(IMG)\n            .addClass(IMAGE);\n\n        tabs.filter(\"li[disabled]\")\n            .addClass(DISABLEDSTATE)\n            .attr(\"aria-disabled\", \"true\")\n            .prop(\"disabled\", false);\n\n        tabs.filter(\":not([class*=k-state])\")\n            .children(\"a\")\n            .filter(\":focus\")\n            .parent()\n            .addClass(ACTIVESTATE + \" \" + TABONTOP);\n\n        tabs.attr(\"role\", \"tab\");\n        tabs.filter(\".\" + ACTIVESTATE)\n            .attr(\"aria-selected\", true);\n\n\n        tabs.each(function() {\n            var item = $(this);\n\n            if (!item.children(\".\" + LINK).length) {\n                item\n                    .contents() // exclude groups, real links, templates and empty text nodes\n                    .filter(function() { return (!this.nodeName.match(excludedNodesRegExp) && !(this.nodeType == 3 && !trim(this.nodeValue))); })\n                    .wrapAll(\"<span UNSELECTABLE='on' class='\" + LINK + \"'/>\");\n            }\n        });\n\n    }\n\n    function updateFirstLast(tabGroup) {\n        var tabs = tabGroup.children(\".k-item\");\n\n        tabs.filter(\".k-first:not(:first-child)\").removeClass(FIRST);\n        tabs.filter(\".k-last:not(:last-child)\").removeClass(LAST);\n        tabs.filter(\":first-child\").addClass(FIRST);\n        tabs.filter(\":last-child\").addClass(LAST);\n    }\n\n    function scrollButtonHtml(buttonClass, iconClass) {\n        return \"<span class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-tabstrip-\" + buttonClass + \"' unselectable='on'><span class='k-button-icon k-icon \" + iconClass + \"'></span></span>\";\n    }\n\n    var TabStrip = Widget.extend({\n        init: function(element, options) {\n            var that = this, value;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._animations(that.options);\n\n            options = that.options;\n\n            that._contentUrls = options.contentUrls || [];\n\n            that._wrapper();\n\n            that._isRtl = kendo.support.isRtl(that.wrapper);\n\n            that._tabindex();\n            that._updateClasses();\n            that._dataSource();\n\n            that.tabGroup.attr(\"role\", \"none\");\n            that.wrapper.attr(\"role\", \"tablist\");\n\n            if (options.dataSource) {\n                that.dataSource.fetch();\n            }\n\n            that._tabPosition();\n            that._scrollable();\n            that._processContentUrls();\n            that._attachEvents();\n\n            if (that.options.value) {\n                value = that.options.value;\n            }\n\n            that._initialActivate();\n            that.value(value);\n            kendo.notify(that);\n        },\n\n        events: [\n            SELECT,\n            ACTIVATE,\n            SHOW,\n            ERROR,\n            CONTENTLOAD,\n            \"change\",\n            \"dataBinding\",\n            \"dataBound\"\n        ],\n\n        options: {\n            name: \"TabStrip\",\n            dataEncodedField: \"\",\n            dataTextField: \"\",\n            dataContentField: \"\",\n            dataImageUrlField: \"\",\n            dataUrlField: \"\",\n            dataSpriteCssClass: \"\",\n            dataContentUrlField: \"\",\n            tabPosition: \"top\",\n            animation: {\n                open: {\n                    effects: \"expand:vertical fadeIn\",\n                    duration: 200\n                },\n                close: { // if close animation effects are defined, they will be used instead of open.reverse\n                    duration: 200\n                }\n            },\n            collapsible: false,\n            navigatable: true,\n            contentUrls: false,\n            scrollable: {\n                distance: DEFAULTDISTANCE\n            }\n        },\n\n        setDataSource: function(dataSource) {\n            var that = this;\n\n            that.options.dataSource = dataSource;\n            that._dataSource();\n            that.dataSource.fetch();\n        },\n\n        setOptions: function(options) {\n            var that = this,\n                animation = that.options.animation;\n\n            that._animations(options);\n\n            if (options.contentUrls) {\n                that._contentUrls = options.contentUrls;\n            }\n\n            options.animation = extend(true, animation, options.animation);\n\n            if (options.navigatable) {\n                that.wrapper.on(\"keydown\" + NS, that._keyDownProxy);\n            } else {\n                that.wrapper.off(\"keydown\" + NS, that._keyDownProxy);\n            }\n\n            Widget.fn.setOptions.call(that, options);\n        },\n\n        activateTab: function(item) {\n            if (this.tabGroup.children(\"[data-animating]\").length) { return; }\n\n            item = this.tabGroup.find(item);\n\n            var that = this,\n                animationSettings = that.options.animation,\n                animation = animationSettings.open,\n                close = extend({}, animationSettings.close),\n                hasCloseAnimation = close && \"effects\" in close,\n                neighbours = item.parent().children(),\n                oldTab = neighbours.filter(\".\" + ACTIVESTATE),\n                itemIndex = neighbours.index(item),\n                isAnimationEnabled = animation && \"duration\" in animation && \"effects\" in animation;\n\n            close = extend( hasCloseAnimation ? close : extend({ reverse: true }, animation), { hide: true });\n            // deactivate previously active tab\n            if (kendo.size(animation.effects)) {\n                oldTab.kendoRemoveClass(ACTIVESTATE, { duration: close.duration });\n                item.kendoRemoveClass(HOVERSTATE, { duration: close.duration });\n            } else {\n                oldTab.removeClass(ACTIVESTATE);\n                item.removeClass(HOVERSTATE);\n            }\n\n            // handle content elements\n            var contentAnimators = that.contentAnimators;\n\n            if (that.inRequest) {\n                that.xhr.abort();\n                that.inRequest = false;\n            }\n\n            if (contentAnimators.length === 0) {\n                that.tabGroup.find(\".\" + TABONTOP).removeClass(TABONTOP);\n                item.addClass(TABONTOP) // change these directly to bring the tab on top.\n                    .css(\"z-index\");\n\n                item.addClass(ACTIVESTATE);\n                that._current(item);\n\n                that.trigger(\"change\");\n\n                if (that._scrollableModeActive) {\n                    that._scrollTabsToItem(item);\n                }\n\n                return false;\n            }\n\n            var visibleContents = contentAnimators.filter(\".\" + ACTIVESTATE),\n                contentHolder = that.contentHolder(itemIndex),\n                contentElement = contentHolder.closest(\".k-content\");\n\n            that.tabsHeight = outerHeight(that.tabGroup) +\n                              parseInt(that.wrapper.css(\"border-top-width\"), 10) +\n                              parseInt(that.wrapper.css(\"border-bottom-width\"), 10);\n\n            if (contentHolder.length === 0) {\n                visibleContents\n                    .removeClass( ACTIVESTATE )\n                    .attr(\"aria-hidden\", true)\n                    .kendoStop(true, true)\n                    .kendoAnimate( close );\n                return false;\n            }\n\n            item.attr(\"data-animating\", true);\n\n            var isAjaxContent = (item.children(\".\" + LINK).data(CONTENTURL) || that._contentUrls[itemIndex] || false) && contentHolder.is(EMPTY),\n                showContentElement = function() {\n                    oldTab.removeAttr(\"aria-selected\");\n                    item.attr(\"aria-selected\", true);\n\n                    that._current(item);\n\n                    contentElement\n                        .addClass(ACTIVESTATE)\n                        .removeAttr(\"aria-hidden\")\n                        .kendoStop(true, true)\n                        .attr(\"aria-expanded\", true)\n                        .kendoAnimate( extend({ init: function() {\n                            that.trigger(SHOW, { item: item[0], contentElement: contentHolder[0] });\n                            kendo.resize(contentHolder);\n                        } }, animation, {\n                            complete: function() {\n                                item.removeAttr(\"data-animating\");\n\n                                that.trigger(ACTIVATE, { item: item[0], contentElement: contentHolder[0] });\n                                kendo.resize(contentHolder);\n\n                                // Force IE and Edge rendering to fix visual glitches telerik/kendo-ui-core#2777.\n                                if (isAnimationEnabled && (kendo.support.browser.msie || kendo.support.browser.edge)) {\n                                    contentHolder.finish().animate({\n                                        opacity: 0.9\n                                    },\"fast\", \"linear\", function() {\n                                        contentHolder.finish().animate({\n                                            opacity: 1\n                                        },\"fast\", \"linear\");\n                                    });\n                                }\n                            }\n                        } ) );\n                },\n                showContent = function() {\n                    if (!isAjaxContent) {\n                        showContentElement();\n                        that.trigger(\"change\");\n                    } else {\n                        item.removeAttr(\"data-animating\");\n                        that.ajaxRequest(item, contentHolder, function() {\n                            item.attr(\"data-animating\", true);\n                            showContentElement();\n                            that.trigger(\"change\");\n                        });\n                    }\n\n                    if (that._scrollableModeActive) {\n                        that._scrollTabsToItem(item);\n                    }\n\n                };\n\n            // See https://github.com/telerik/kendo-ui-core/issues/6660\n            var oldMinHeight = that.element.css('min-height');\n            that.element.css('min-height', that.element.outerHeight());\n\n            visibleContents\n                    .removeClass(ACTIVESTATE);\n\n            that.tabGroup.find(\".\" + TABONTOP).removeClass(TABONTOP);\n                    item.addClass(TABONTOP) // change these directly to bring the tab on top.\n                        .css(\"z-index\");\n\n            if (kendo.size(animation.effects)) {\n                item.kendoAddClass(ACTIVESTATE, { duration: animation.duration });\n            } else {\n                item.addClass(ACTIVESTATE);\n            }\n\n            visibleContents.attr(\"aria-hidden\", true);\n            visibleContents.attr(\"aria-expanded\", false);\n\n            if (visibleContents.length) {\n                visibleContents\n                    .kendoStop(true, true)\n                    .kendoAnimate(extend( {\n                        complete: showContent\n                   }, close ));\n            } else {\n                showContent();\n            }\n\n            that.element.css('min-height', oldMinHeight);\n\n            return true;\n        },\n\n        ajaxRequest: function(element, content, complete, url) {\n            element = this.tabGroup.find(element);\n\n            var that = this,\n                xhr = $.ajaxSettings.xhr,\n                link = element.find(\".\" + LINK),\n                data = {},\n                halfWidth = element.width() / 2,\n                fakeProgress = false,\n                statusIcon = element.find(\".k-loading\").removeClass(\"k-complete\");\n\n            if (!statusIcon[0]) {\n                statusIcon = $(\"<span class='k-loading'/>\").prependTo(element);\n            }\n\n            var endState = halfWidth * 2 - statusIcon.width();\n\n            var oldProgressAnimation = function() {\n                statusIcon.animate({ marginLeft: (parseInt(statusIcon.css(\"marginLeft\"), 10) || 0) < halfWidth ? endState : 0 }, 500, oldProgressAnimation);\n            };\n\n            if (kendo.support.browser.msie && kendo.support.browser.version < 10) {\n                setTimeout(oldProgressAnimation, 40);\n            }\n\n             url = url || link.data(CONTENTURL) || that._contentUrls[element.index()] || link.attr(HREF);\n            that.inRequest = true;\n\n            var ajaxOptions = {\n                type: \"GET\",\n                cache: false,\n                url: url,\n                dataType: \"html\",\n                data: data,\n                xhr: function() {\n                    var current = this,\n                        request = xhr(),\n                        event = current.progressUpload ? \"progressUpload\" : current.progress ? \"progress\" : false;\n\n                    if (request) {\n                        $.each([ request, request.upload ], function() {\n                            if (this.addEventListener) {\n                                this.addEventListener(\"progress\", function(evt) {\n                                    if (event) {\n                                        current[event](evt);\n                                    }\n                                }, false);\n                            }\n                        });\n                    }\n\n                    current.noProgress = !(window.XMLHttpRequest && ('upload' in new XMLHttpRequest()));\n                    return request;\n                },\n\n                progress: function(evt) {\n                    if (evt.lengthComputable) {\n                        var percent = parseInt((evt.loaded / evt.total * 100), 10) + \"%\";\n                        statusIcon\n                            .stop(true)\n                            .addClass(\"k-progress\")\n                            .css({\n                                \"width\": percent,\n                                \"marginLeft\": 0\n                            });\n                    }\n                },\n\n                error: function(xhr, status) {\n                    if (that.trigger(\"error\", { xhr: xhr, status: status })) {\n                        this.complete();\n                    }\n                },\n\n                stopProgress: function() {\n                    clearInterval(fakeProgress);\n                    statusIcon\n                        .stop(true)\n                        .addClass(\"k-progress\")\n                        [0].style.cssText = \"\";\n                },\n\n                complete: function(xhr) {\n                    that.inRequest = false;\n                    if (this.noProgress) {\n                        setTimeout(this.stopProgress, 500);\n                    } else {\n                        this.stopProgress();\n                    }\n\n                    if (xhr.statusText == \"abort\") {\n                        statusIcon.remove();\n                    }\n                },\n\n                success: function(data) {\n                    statusIcon.addClass(\"k-complete\");\n                    try {\n                        var current = this,\n                            loaded = 10;\n\n                        if (current.noProgress) {\n                            statusIcon.width(loaded + \"%\");\n                            fakeProgress = setInterval(function() {\n                                current.progress({ lengthComputable: true, loaded: Math.min(loaded, 100), total: 100 });\n                                loaded += 10;\n                            }, 40);\n                        }\n\n                        that.angular(\"cleanup\", function() { return { elements: content.get() }; });\n                        kendo.destroy(content);\n                        content.html(data);\n                    } catch (e) {\n                        var console = window.console;\n\n                        if (console && console.error) {\n                            console.error(e.name + \": \" + e.message + \" in \" + url);\n                        }\n                        this.error(this.xhr, \"error\");\n                    }\n\n                    if (complete) {\n                        complete.call(that, content);\n                    }\n\n                    that.angular(\"compile\", function() { return { elements: content.get() }; });\n\n                    that.trigger(CONTENTLOAD, { item: element[0], contentElement: content[0] });\n                }\n            };\n\n            if (typeof url === \"object\") {\n                ajaxOptions = $.extend(true, {}, ajaxOptions, url);\n\n                if (isFunction(ajaxOptions.url)) {\n                    ajaxOptions.url = ajaxOptions.url();\n                }\n            }\n\n            that.xhr = $.ajax(ajaxOptions);\n        },\n\n        append: function(tab) {\n            var that = this,\n                inserted = that._create(tab);\n\n            each(inserted.tabs, function(idx) {\n                var contents = inserted.contents[idx];\n                that.tabGroup.append(this);\n                if (that.options.tabPosition == \"bottom\") {\n                    that.tabWrapper.before(contents);\n                } else {\n                    that.wrapper.append(contents);\n                }\n                that.angular(\"compile\", function() { return { elements: [ contents ] }; });\n            });\n\n            updateFirstLast(that.tabGroup);\n            that._updateContentElements();\n            that.resize(true);\n\n            return that;\n        },\n\n        contentElement: function(itemIndex) {\n            if (isNaN(itemIndex - 0)) {\n                return undefined;\n            }\n\n            var contentElements = this.contentElements && this.contentElements[0] && !kendo.kineticScrollNeeded ? this.contentElements : this.contentAnimators;\n            var id = $(this.tabGroup.children()[itemIndex]).attr(\"aria-controls\");\n\n            if (contentElements) {\n                for (var i = 0, len = contentElements.length; i < len; i++) {\n                    if (contentElements.eq(i).closest(\".k-content\")[0].id == id) {\n                        return contentElements[i];\n                    }\n                }\n            }\n\n            return undefined;\n        },\n\n        contentHolder: function(itemIndex) {\n            var contentElement = $(this.contentElement(itemIndex)),\n                scrollContainer = contentElement.children(\".km-scroll-container\");\n\n            return kendo.support.touch && scrollContainer[0] ? scrollContainer : contentElement;\n        },\n\n        deactivateTab: function(item) {\n            var that = this,\n                animationSettings = that.options.animation,\n                animation = animationSettings.open,\n                close = extend({}, animationSettings.close),\n                hasCloseAnimation = close && \"effects\" in close;\n            item = that.tabGroup.find(item);\n\n            close = extend( hasCloseAnimation ? close : extend({ reverse: true }, animation), { hide: true });\n\n            if (kendo.size(animation.effects)) {\n                item.kendoRemoveClass(ACTIVESTATE, { duration: animation.duration });\n            } else {\n                item.removeClass(ACTIVESTATE);\n            }\n\n            item.removeAttr(\"aria-selected\");\n\n            that.contentAnimators\n                    .filter(\".\" + ACTIVESTATE)\n                    .kendoStop(true, true)\n                    .kendoAnimate( close )\n                    .removeClass(ACTIVESTATE)\n                    .attr(\"aria-hidden\", true);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            if (that._refreshHandler) {\n                that.dataSource.unbind(\"change\", that._refreshHandler);\n            }\n\n            that.wrapper.off(NS);\n            that.tabGroup.off(NS);\n\n            if (that._scrollableModeActive) {\n                that._scrollPrevButton.off().remove();\n                that._scrollNextButton.off().remove();\n            }\n\n            kendo.destroy(that.wrapper);\n        },\n\n        disable: function(element) {\n            this._toggleDisabled(element, false);\n\n            return this;\n        },\n\n        enable: function(element, state) {\n            this._toggleDisabled(element, state !== false);\n\n            return this;\n        },\n\n        insertAfter: function(tab, referenceTab) {\n            if ($(tab).is($(referenceTab))) {\n                referenceTab = this.tabGroup.find(referenceTab).prev();\n            } else {\n                referenceTab = this.tabGroup.find(referenceTab);\n            }\n\n            var that = this,\n                inserted = that._create(tab),\n                referenceContent = that.element.find(\"[id='\" + referenceTab.attr(\"aria-controls\") + \"']\");\n\n            each(inserted.tabs, function(idx) {\n                var contents = inserted.contents[idx];\n                var fromIndex = inserted.newTabsCreated ? that._contentUrls.length - (inserted.tabs.length - idx) : $(contents).index() - 1;\n\n                referenceTab.after(this);\n                referenceContent.after(contents);\n\n                that._moveUrlItem(fromIndex, $(this).index());\n                that.angular(\"compile\", function() { return { elements: [ contents ] }; });\n            });\n\n            updateFirstLast(that.tabGroup);\n            that._updateContentElements(inserted.newTabsCreated);\n            that.resize(true);\n\n            return that;\n        },\n\n        insertBefore: function(tab, referenceTab) {\n            if ($(tab).is($(referenceTab))) {\n                referenceTab = this.tabGroup.find(referenceTab).next();\n            } else {\n                referenceTab = this.tabGroup.find(referenceTab);\n            }\n\n            var that = this,\n                inserted = that._create(tab),\n                referenceContent = that.element.find(\"[id='\" + referenceTab.attr(\"aria-controls\") + \"']\");\n\n            each(inserted.tabs, function(idx) {\n                var contents = inserted.contents[idx];\n                var fromIndex = inserted.newTabsCreated ? that._contentUrls.length - (inserted.tabs.length - idx) : $(contents).index() - 1;\n\n                referenceTab.before(this);\n                referenceContent.before(contents);\n\n                that._moveUrlItem(fromIndex, $(this).index());\n                that.angular(\"compile\", function() { return { elements: [ contents ] }; });\n            });\n\n            updateFirstLast(that.tabGroup);\n            that._updateContentElements(inserted.newTabsCreated);\n            that.resize(true);\n\n            return that;\n        },\n\n        items: function() {\n            return this.tabGroup[0].children;\n        },\n\n        refresh: function(e) {\n            var that = this,\n                options = that.options,\n                encoded = kendo.getter(options.dataEncodedField),\n                text = kendo.getter(options.dataTextField),\n                content = kendo.getter(options.dataContentField),\n                contentUrl = kendo.getter(options.dataContentUrlField),\n                image = kendo.getter(options.dataImageUrlField),\n                url = kendo.getter(options.dataUrlField),\n                sprite = kendo.getter(options.dataSpriteCssClass),\n                idx,\n                tabs = [],\n                tab,\n                action,\n                view = that.dataSource.view(),\n                length;\n\n\n            e = e || {};\n            action = e.action;\n\n            if (action) {\n               view = e.items;\n            }\n\n            for (idx = 0, length = view.length; idx < length; idx ++) {\n                tab = {\n                    text: text(view[idx])\n                };\n\n                if (options.dataEncodedField) {\n                    tab.encoded = encoded(view[idx]);\n                }\n\n                if (options.dataContentField) {\n                    tab.content = content(view[idx]);\n                }\n\n                if (options.dataContentUrlField) {\n                    tab.contentUrl = contentUrl(view[idx]);\n                }\n\n                if (options.dataUrlField) {\n                    tab.url = url(view[idx]);\n                }\n\n                if (options.dataImageUrlField) {\n                    tab.imageUrl = image(view[idx]);\n                }\n\n                if (options.dataSpriteCssClass) {\n                    tab.spriteCssClass = sprite(view[idx]);\n                }\n\n                tabs[idx] = tab;\n            }\n\n            if (e.action == \"add\") {\n                if (e.index < that.tabGroup.children().length) {\n                    that.insertBefore(tabs, that.tabGroup.children().eq(e.index));\n                } else {\n                    that.append(tabs);\n                }\n            } else if (e.action == \"remove\") {\n                for (idx = 0; idx < view.length; idx++) {\n                   that.remove(e.index);\n                }\n            } else if (e.action == \"itemchange\") {\n                idx = that.dataSource.view().indexOf(view[0]);\n                if (e.field === options.dataTextField) {\n                    that.tabGroup.children().eq(idx).find(\".k-link\").text(view[0].get(e.field));\n                }\n\n                if (e.field === options.dataUrlField) {\n                    that._contentUrls[idx] = view[0].get(e.field);\n                }\n            } else {\n                that.trigger(\"dataBinding\");\n                that.remove(\"li\");\n                that._contentUrls = [];\n                that.append(tabs);\n                that.trigger(\"dataBound\");\n            }\n        },\n\n        reload: function(element) {\n            element = this.tabGroup.find(element);\n            var that = this;\n            var contentUrls = that._contentUrls;\n\n            element.each(function() {\n                var item = $(this),\n                    contentUrl = item.find(\".\" + LINK).data(CONTENTURL) || contentUrls[item.index()],\n                    content = that.contentHolder(item.index());\n\n                if (contentUrl) {\n                    that.ajaxRequest(item, content, null, contentUrl);\n                }\n            });\n\n            return that;\n        },\n\n        remove: function(elements) {\n            var that = this;\n            var type = typeof elements;\n            var contents;\n\n            if (type === \"string\") {\n                elements = that.tabGroup.find(elements);\n            } else if (type === \"number\") {\n                elements = that.tabGroup.children().eq(elements);\n            }\n\n            contents = elements.map(function() {\n                var idx = $(this).index();\n                var content = that.contentElement(idx);\n\n                kendo.destroy(content);\n                that._removeUrlItem(idx);\n\n                return content;\n            });\n\n            elements.remove();\n            contents.empty();\n            contents.remove();\n\n            that._updateContentElements();\n            that.resize(true);\n\n            return that;\n        },\n\n        select: function(element) {\n            var that = this;\n\n            if (arguments.length === 0) {\n                return that.tabGroup.children(\"li.\" + ACTIVESTATE);\n            }\n\n            if (!isNaN(element)) {\n                element = that.tabGroup.children().get(element);\n            }\n\n            element = that.tabGroup.find(element);\n            $(element).each(function(index, item) {\n                item = $(item);\n                if (!item.hasClass(ACTIVESTATE) && !that.trigger(SELECT, { item: item[0], contentElement: that.contentHolder(item.index())[0] })) {\n                    that.activateTab(item);\n                }\n            });\n\n            return that;\n        },\n\n        value: function(value) {\n            var that = this;\n\n            if (value !== undefined) {\n                if (value != that.value()) {\n                   that.tabGroup.children().each(function() {\n                        if (kendo.trim($(this).text()) == value) {\n                            that.select(this);\n                        }\n                   });\n                }\n            } else {\n                return that.select().text();\n            }\n        },\n\n        _active: function() {\n            var item = this.tabGroup.children().filter(\".\" + ACTIVESTATE);\n\n            item = item[0] ? item : this._endItem(\"first\");\n            if (item[0]) {\n                this._current(item);\n            }\n        },\n\n        _animations: function(options) {\n            if (options && (\"animation\" in options) && !options.animation) {\n                options.animation = { open: { effects: {} }, close: { effects: {} } }; // No animation\n            }\n        },\n\n        _appendUrlItem: function(url) {\n            this._contentUrls.push(url);\n        },\n\n        _attachEvents: function() {\n            var that = this,\n                options = that.options;\n\n            that.wrapper\n                .on(MOUSEENTER + NS + \" \" + MOUSELEAVE + NS, HOVERABLEITEMS, that._toggleHover)\n                .on(\"focus\" + NS, that._active.bind(that))\n                .on(\"blur\" + NS, function() { that._current(null); });\n\n            that._keyDownProxy = that._keydown.bind(that);\n\n            if (options.navigatable) {\n                that.wrapper.on(\"keydown\" + NS, that._keyDownProxy);\n            }\n\n            that.tabGroup\n                .on(CLICK + NS, \".k-state-disabled .k-link\", false)\n                .on(CLICK + NS, \" > \" + NAVIGATABLEITEMS, that._itemClick.bind(that));\n        },\n\n        _click: function(item) {\n            var that = this,\n                link = item.find(\".\" + LINK),\n                href = link.attr(HREF),\n                collapse = that.options.collapsible,\n                index = item.index(),\n                contentHolder = that.contentHolder(index),\n                prevent, isAnchor,\n                neighbours = item.parent().children(),\n                oldFocusedTab = neighbours.filter(\".\" + FOCUSEDSTATE);\n\n            if (item.closest(\".k-widget\")[0] != that.wrapper[0]) {\n                return;\n            }\n\n            if (item.is(\".\" + DISABLEDSTATE + (!collapse ? \",.\" + ACTIVESTATE : \"\"))) {\n                oldFocusedTab.removeClass(FOCUSEDSTATE);\n                that._focused = item;\n\n                item.addClass(FOCUSEDSTATE);\n                that._current(item);\n\n                if (that._scrollableModeActive) {\n                    that._scrollTabsToItem(item);\n                }\n                return true;\n            }\n\n            isAnchor = link.data(CONTENTURL) || that._contentUrls[index] || (href && (href.charAt(href.length - 1) == \"#\" || href.indexOf(\"#\" + that.element[0].id + \"-\") != -1));\n            prevent = !href || isAnchor;\n\n            if (that.tabGroup.children(\"[data-animating]\").length) {\n                return prevent;\n            }\n\n            if (that.trigger(SELECT, { item: item[0], contentElement: contentHolder[0] })) {\n                return true;\n            }\n\n            if (prevent === false) {\n                return;\n            }\n\n            if (collapse && item.is(\".\" + ACTIVESTATE)) {\n                that.deactivateTab(item);\n                return true;\n            }\n\n            if (that.activateTab(item)) {\n                prevent = true;\n            }\n\n            return prevent;\n        },\n\n        _create: function(tab) {\n            var that = this,\n            tabs,\n            contents,\n            content,\n            newTabsCreated = false;\n\n            tab = tab instanceof kendo.data.ObservableArray ? tab.toJSON() : tab;\n\n            if ($.isPlainObject(tab) || Array.isArray(tab)) {\n                tab = Array.isArray(tab) ? tab : [tab];\n                newTabsCreated = true;\n\n                tabs = map(tab, function(value, idx) {\n                            that._appendUrlItem(tab[idx].contentUrl || null);\n\n                            return $(TabStrip.renderItem({\n                                group: that.tabGroup,\n                                item: extend(value, { index: idx })\n                            }));\n                        });\n\n                contents = map( tab, function(value, idx) {\n                            if (typeof value.content == \"string\" || value.contentUrl) {\n                                return $(TabStrip.renderContent({\n                                    item: extend(value, { index: idx })\n                                }));\n                            }\n                        });\n            } else {\n                if (typeof tab == \"string\" && tab[0] != \"<\") {\n                    tabs = that.element.find(tab);\n                } else {\n                    tabs = $(tab);\n                }\n                contents = $();\n                tabs.each(function() {\n                    if (/k-tabstrip-items/.test(this.parentNode.className)) {\n                        var element = that.element.find(\"[id='\" + this.getAttribute(\"aria-controls\") + \"']\");\n                        content = element;\n                    } else {\n                        content = $(\"<div class='\" + CONTENT + \"'/>\");\n                    }\n\n                    contents = contents.add(content);\n                });\n\n                updateTabClasses(tabs);\n            }\n\n            return { tabs: tabs, contents: contents, newTabsCreated: newTabsCreated };\n        },\n\n        _current: function(candidate) {\n            var that = this,\n                focused = that._focused;\n\n            if (candidate === undefined) {\n                return focused;\n            }\n\n            if (focused) {\n                focused.removeClass(FOCUSEDSTATE);\n            }\n\n            if (candidate) {\n                if (!candidate.hasClass(ACTIVESTATE)) {\n                    candidate.addClass(FOCUSEDSTATE);\n                }\n\n                if (candidate[0].id) {\n                    that.element.attr(\"aria-activedescendant\", candidate[0].id);\n                }\n            }\n\n            that._focused = candidate;\n        },\n\n        _dataSource: function() {\n            var that = this;\n\n            if (that.dataSource && that._refreshHandler) {\n                that.dataSource.unbind(\"change\", that._refreshHandler);\n            } else {\n                that._refreshHandler = that.refresh.bind(that);\n            }\n\n            that.dataSource = kendo.data.DataSource.create(that.options.dataSource)\n                                .bind(\"change\", that._refreshHandler);\n        },\n\n        _elementId: function(element, idx, tab) {\n            var elementId = element.attr(\"id\"),\n                wrapperId = this.element.attr(\"id\"),\n                guid = kendo.guid();\n\n            if (!elementId || elementId.indexOf(wrapperId + \"-\") > -1) {\n                var tabStripID = (wrapperId || guid) + \"-\";\n\n                if (tab) {\n                    tabStripID += \"tab-\";\n                }\n\n                return tabStripID + (idx + 1);\n            }\n\n            return elementId;\n        },\n\n        _endItem: function(action) {\n            return this.tabGroup.children(NAVIGATABLEITEMS)[action]();\n        },\n\n        _getItem: function(action) {\n            return this.tabGroup.children(KEYBOARDNAVIGATABLEITEMS)[action]();\n        },\n\n        _initialActivate: function() {\n            var that = this,\n                selectedItems = that.tabGroup.children(\"li.\" + ACTIVESTATE),\n                content = that.contentHolder(selectedItems.index());\n\n            if (selectedItems[0] && content.length > 0 && content[0].childNodes.length === 0) {\n                that.activateTab(selectedItems.eq(0));\n            }\n        },\n\n        _item: function(item, action) {\n            var endItem;\n            if (action === PREV) {\n                endItem = \"last\";\n            } else {\n                endItem = \"first\";\n            }\n\n            if (!item) {\n                return this._endItem(endItem);\n            }\n\n            item = item[action]();\n\n            if (!item[0]) {\n                item = this.tabGroup.children(KEYBOARDNAVIGATABLEITEMS)[endItem]();\n            }\n\n            if (item.hasClass(DISABLEDSTATE)) {\n                item.addClass(FOCUSEDSTATE);\n            }\n            if (item.hasClass(DISABLEDSTATE) || item.hasClass(ACTIVESTATE)) {\n                this._focused = item;\n            }\n\n            return item;\n        },\n\n        _itemClick: function(e) {\n            var that = this,\n                wr = that.wrapper[0];\n\n            if (wr !== document.activeElement) {\n                var msie = kendo.support.browser.msie;\n                if (msie) {\n                    try {\n                        // does not scroll to the active element\n                        wr.setActive();\n                    } catch (j) {\n                        wr.focus();\n                    }\n                } else {\n                    wr.focus();\n                }\n            }\n\n            if (that._click($(e.currentTarget))) {\n                e.preventDefault();\n            }\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode,\n                current = that._current(),\n                rtl = that._isRtl,\n                isHorizontal = /top|bottom/.test(that.options.tabPosition),\n                action;\n\n            if (e.target != e.currentTarget || !current) {\n                return;\n            }\n\n            if (key === keys.DOWN && !isHorizontal) {\n                action = NEXT;\n            } else if (key === keys.UP && !isHorizontal) {\n                action = PREV;\n            } else if (key === keys.RIGHT && isHorizontal) {\n                action = rtl ? PREV : NEXT;\n            } else if (key === keys.LEFT && isHorizontal) {\n                action = rtl ? NEXT : PREV;\n            } else if (key == keys.ENTER || key == keys.SPACEBAR) {\n                that._click(current);\n                e.preventDefault();\n            } else if (key == keys.HOME) {\n                that._click(that._getItem(\"first\"));\n                e.preventDefault();\n                return;\n            } else if (key == keys.END) {\n                that._click(that._getItem(\"last\"));\n                e.preventDefault();\n                return;\n            }\n\n            if (action) {\n                that._click(that._item(current, action));\n                e.preventDefault();\n            }\n        },\n\n        _moveUrlItem: function(from, to) {\n            this._contentUrls.splice(to, 0, this._contentUrls.splice(from, 1)[0]);\n        },\n\n        _processContentUrls: function() {\n            var that = this;\n\n            if (that._contentUrls.length) {\n                that.tabGroup.children(\".k-item\")\n                    .each(function(index, item) {\n                        var url = that._contentUrls[index];\n\n                        if (typeof url === 'string') {\n                            $(item).find(\">.\" + LINK).data(CONTENTURL, url);\n                        }\n                    });\n            } else {\n                that._contentUrls.length = that.tabGroup.find(\"li.k-item\").length;\n            }\n        },\n\n        _removeUrlItem: function(index) {\n            this._contentUrls.splice(index, 1);\n        },\n\n        _resize: function() {\n            this._scrollable();\n        },\n\n        _scrollable: function() {\n            var that = this,\n                options = that.options,\n                wrapperOffsetWidth,\n                tabGroupScrollWidth,\n                scrollPrevButton,\n                scrollNextButton;\n\n            if (that._scrollableAllowed()) {\n\n                that.wrapper.addClass(\"k-tabstrip-scrollable\");\n\n                wrapperOffsetWidth = that.wrapper[0].offsetWidth;\n                tabGroupScrollWidth = that.tabGroup[0].scrollWidth;\n\n                if (tabGroupScrollWidth > wrapperOffsetWidth && !that._scrollableModeActive) {\n                    that._nowScrollingTabs = false;\n                    that._isRtl = kendo.support.isRtl(that.element);\n                    var mouseDown = kendo.support.touch ? \"touchstart\" : \"mousedown\";\n                    var mouseUp = kendo.support.touch ? \"touchend\" : \"mouseup\";\n                    var browser = kendo.support.browser;\n                    var isRtlScrollDirection = that._isRtl && !browser.msie && !browser.edge;\n\n                    that.tabWrapper.prepend(scrollButtonHtml(\"prev\", \"k-i-arrow-60-left\"));\n                    that.tabWrapper.append(scrollButtonHtml(\"next\", \"k-i-arrow-60-right\"));\n\n                    scrollPrevButton = that._scrollPrevButton = that.tabWrapper.children(\".k-tabstrip-prev\");\n                    scrollNextButton = that._scrollNextButton = that.tabWrapper.children(\".k-tabstrip-next\");\n\n                    scrollPrevButton.on(mouseDown + NS, function() {\n                        that._nowScrollingTabs = true;\n                        that._scrollTabsByDelta(options.scrollable.distance * (isRtlScrollDirection ? 1 : -1));\n                    });\n\n                    scrollNextButton.on(mouseDown + NS, function() {\n                        that._nowScrollingTabs = true;\n                        that._scrollTabsByDelta(options.scrollable.distance * (isRtlScrollDirection ? -1 : 1));\n                    });\n\n                    scrollPrevButton.add(scrollNextButton).on(mouseUp + NS, function() {\n                        that._nowScrollingTabs = false;\n                    });\n\n                    that._scrollableModeActive = true;\n\n                    that._toggleScrollButtons();\n                } else if (that._scrollableModeActive && tabGroupScrollWidth <= wrapperOffsetWidth) {\n                    that._scrollableModeActive = false;\n\n                    that.wrapper.removeClass(\"k-tabstrip-scrollable\");\n\n                    that._scrollPrevButton.off().remove();\n                    that._scrollNextButton.off().remove();\n                } else if (!that._scrollableModeActive) {\n                    that.wrapper.removeClass(\"k-tabstrip-scrollable\");\n                } else {\n                    that._toggleScrollButtons();\n                }\n            }\n        },\n\n        _scrollableAllowed: function() {\n            var options = this.options;\n\n            if (options.scrollable && !options.scrollable.distance) {\n                options.scrollable = { distance: DEFAULTDISTANCE };\n            }\n\n            return options.scrollable && !isNaN(options.scrollable.distance) && (options.tabPosition == \"top\" || options.tabPosition == \"bottom\");\n        },\n\n        _scrollTabsToItem: function(item) {\n            var that = this,\n                tabGroup = that.tabGroup,\n                currentScrollOffset = kendo.scrollLeft(tabGroup),\n                itemWidth = outerWidth(item),\n                itemOffset = that._isRtl ? item.position().left : item.position().left - tabGroup.children().first().position().left,\n                tabGroupWidth = tabGroup[0].offsetWidth,\n                browser = kendo.support.browser,\n                itemPosition;\n\n            if (that._isRtl && (browser.mozilla || (browser.webkit && browser.version >= 85))) {\n                currentScrollOffset = currentScrollOffset * -1;\n            }\n\n            if (that._isRtl) {\n                if (itemOffset < 0) {\n                    itemPosition = currentScrollOffset + itemOffset - (tabGroupWidth - currentScrollOffset);\n                } else if (itemOffset + itemWidth > tabGroupWidth) {\n                    itemPosition = currentScrollOffset + itemOffset - itemWidth;\n                }\n            } else {\n                if (currentScrollOffset + tabGroupWidth < itemOffset + itemWidth) {\n                    itemPosition = itemOffset + itemWidth - tabGroupWidth;\n                } else if (currentScrollOffset > itemOffset) {\n                    itemPosition = itemOffset;\n                }\n            }\n\n            tabGroup.finish().animate({ \"scrollLeft\": itemPosition }, \"fast\", \"linear\", function() {\n                that._toggleScrollButtons();\n            });\n        },\n\n        _scrollTabsByDelta: function(delta) {\n            var that = this;\n            var tabGroup = that.tabGroup;\n            var scrLeft = kendo.scrollLeft(tabGroup);\n            var browser = kendo.support.browser;\n\n            if (that._isRtl && (browser.mozilla || (browser.webkit && browser.version >= 85))) {\n                scrLeft = scrLeft * -1;\n            }\n\n            tabGroup.finish().animate({ \"scrollLeft\": scrLeft + delta }, \"fast\", \"linear\", function() {\n                if (that._nowScrollingTabs && !jQuery.fx.off) {\n                    that._scrollTabsByDelta(delta);\n                } else {\n                    that._toggleScrollButtons();\n                }\n            });\n        },\n\n        _tabPosition: function() {\n            var that = this,\n                tabPosition = that.options.tabPosition;\n\n            that.wrapper.addClass(\"k-floatwrap k-tabstrip-\" + tabPosition);\n\n            if (tabPosition == \"bottom\") {\n                that.tabWrapper.appendTo(that.wrapper);\n            }\n\n            if (tabPosition === \"left\" || tabPosition === \"right\") {\n                that.wrapper.attr(\"aria-orientation\", \"vertical\");\n            }\n\n            that.resize(true);\n        },\n\n        _toggleHover: function(e) {\n            $(e.currentTarget).toggleClass(HOVERSTATE, e.type == MOUSEENTER);\n        },\n\n        _toggleDisabled: function(element, enable) {\n            element = this.tabGroup.find(element);\n            element.each(function() {\n                $(this)\n                    .toggleClass(DISABLEDSTATE, !enable)\n                    .attr(\"aria-disabled\", !enable);\n            });\n        },\n\n        _toggleScrollButtons: function() {\n            var that = this,\n                ul = that.tabGroup,\n                scrollLeft = kendo.scrollLeft(ul);\n\n                that._scrollPrevButton.toggleClass('k-disabled', scrollLeft === 0);\n                that._scrollNextButton.toggleClass('k-disabled', scrollLeft === ul[0].scrollWidth - ul[0].offsetWidth);\n        },\n\n        _updateClasses: function() {\n            var that = this,\n                tabs, activeItem, activeTab;\n            var isHorizontal = /top|bottom/.test(that.options.tabPosition);\n\n            that.wrapper.addClass(\"k-widget k-tabstrip\");\n\n            if (!that.tabGroup) {\n                that.tabGroup = that.wrapper.children(\"ul\");\n                that.tabGroup.wrap('<div />');\n                that.tabWrapper = that.tabGroup.parent();\n            }\n\n            if (!that.tabGroup[0]) {\n                that.tabGroup = $(\"<ul />\").prependTo(that.wrapper);\n                that.tabGroup.wrap('<div />');\n                that.tabWrapper = that.tabGroup.parent();\n            }\n\n            that.tabWrapper.addClass('k-tabstrip-items-wrapper');\n            that.tabWrapper.addClass(isHorizontal ? 'k-hstack' : 'k-vstack');\n            that.tabGroup.addClass('k-tabstrip-items k-reset');\n\n            tabs = that.tabGroup.find(\"li\").addClass(\"k-tabstrip-item k-item\");\n\n            if (tabs.length) {\n                activeItem = tabs.filter(\".\" + ACTIVESTATE).index();\n                activeTab = activeItem >= 0 ? activeItem : undefined;\n\n                that.tabGroup // Remove empty text nodes\n                    .contents()\n                    .filter(function() { return (this.nodeType == 3 && !trim(this.nodeValue)); })\n                    .remove();\n            }\n\n            if (activeItem >= 0) {\n                tabs.eq(activeItem).addClass(TABONTOP);\n            }\n\n            that.contentElements = that.wrapper.children(\"div:not(.k-tabstrip-items-wrapper)\");\n\n            that.contentElements\n                .addClass(CONTENT)\n                .eq(activeTab)\n                .addClass(ACTIVESTATE)\n                .css({ display: \"block\" });\n\n            if (tabs.length) {\n                updateTabClasses(tabs);\n\n                updateFirstLast(that.tabGroup);\n                that._updateContentElements(true);\n            }\n        },\n\n        _updateContentElements: function(isInitialUpdate) {\n            var that = this,\n                contentUrls = that._contentUrls,\n                items = that.tabGroup.children(\".k-item\"),\n                contentElements = that.wrapper.children(\"div:not(.k-tabstrip-items-wrapper)\"),\n                _elementId = that._elementId.bind(that);\n\n            if (contentElements.length && (items.length > contentElements.length)) {\n                contentElements.each(function(idx) {\n                    // Generate an ID for each content element\n                    var contentId = _elementId($(this), idx),\n                        item = items.filter(\"[aria-controls=\" + (contentId || 0) + \"]\")[0],\n                        tabId;\n\n                    if (!item && isInitialUpdate) {\n                        // On initialization of the widget get the tab by its index\n                        item = items[idx];\n                    }\n\n                    if (item) {\n                        // set the tab aria-controls attribute to the content ID\n                        item.setAttribute(\"aria-controls\", contentId);\n                        tabId = item.id = _elementId($(item), idx, true);\n                        this.setAttribute(\"aria-labelledby\", tabId);\n                    }\n\n                    // set the get (possibly existing) ID on the content element\n                    this.setAttribute(\"id\", contentId);\n                });\n            } else {\n                items.each(function(idx) {\n                    var currentContent = contentElements.eq(idx),\n                        contentId = _elementId(currentContent, idx),\n                        tabId;\n\n                    // set the tab aria-controls attribute to the content ID\n                    this.setAttribute(\"aria-controls\", contentId);\n\n                    tabId = this.id = _elementId($(this), idx, true);\n\n                    if (!currentContent.length && contentUrls[idx]) {\n                        // Append content element in case contentUrl is used\n                        $(\"<div class='\" + CONTENT + \"'/>\").appendTo(that.wrapper).attr(\"id\", contentId);\n                    } else {\n                        // set the ID on the content element\n                        currentContent.attr(\"id\", contentId);\n\n                        if (!$(this).children(\".k-loading\")[0] && !contentUrls[idx]) {\n                            $(\"<span class='k-loading k-complete'/>\").prependTo(this);\n                        }\n                    }\n\n                    currentContent.attr(\"role\", \"tabpanel\");\n                    currentContent.attr(\"tabindex\", \"0\");\n                    currentContent.attr(\"aria-labelledby\", tabId);\n                    currentContent.filter(\":not(.\" + ACTIVESTATE + \")\").attr(\"aria-hidden\", true).attr(\"aria-expanded\", false);\n                    currentContent.filter(\".\" + ACTIVESTATE).attr(\"aria-expanded\", true);\n                });\n            }\n\n            that.contentElements = that.contentAnimators = that.wrapper.children(\"div:not(.k-tabstrip-items-wrapper)\"); // refresh the contents\n\n            that.tabsHeight = outerHeight(that.tabGroup) +\n                              parseInt(that.wrapper.css(\"border-top-width\"), 10) +\n                              parseInt(that.wrapper.css(\"border-bottom-width\"), 10);\n\n            if (kendo.kineticScrollNeeded && kendo.mobile.ui.Scroller) {\n                kendo.touchScroller(that.contentElements);\n                that.contentElements = that.contentElements.children(\".km-scroll-container\");\n            }\n        },\n\n        _wrapper: function() {\n            var that = this;\n\n            if (that.element.is(\"ul\")) {\n                that.wrapper = that.element.wrapAll(\"<div />\").parent();\n            } else {\n                that.wrapper = that.element;\n            }\n        }\n    });\n\n    // client-side rendering\n    extend(TabStrip, {\n        renderItem: function(options) {\n            options = extend({ tabStrip: {}, group: {} }, options);\n\n            var empty = templates.empty,\n                item = options.item;\n\n            return templates.item(extend(options, {\n                image: item.imageUrl ? templates.image : empty,\n                sprite: item.spriteCssClass ? templates.sprite : empty,\n                itemWrapper: templates.itemWrapper\n            }, rendering));\n        },\n\n        renderContent: function(options) {\n            return templates.content(extend(options, rendering));\n        }\n    });\n\n    kendo.ui.plugin(TabStrip);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.timepicker',[ \"kendo.popup\", \"kendo.dateinput\", \"kendo.html.button\"], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"timepicker\",\n    name: \"TimePicker\",\n    category: \"web\",\n    description: \"The TimePicker widget allows the end user to select a value from a list of predefined values or to type a new value.\",\n    depends: [ \"popup\", \"html.button\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        keys = kendo.keys,\n        html = kendo.html,\n        parse = kendo.parseDate,\n        activeElement = kendo._activeElement,\n        extractFormat = kendo._extractFormat,\n        support = kendo.support,\n        browser = support.browser,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        CHANGE = \"change\",\n        ns = \".kendoTimePicker\",\n        CLICK = \"click\" + ns,\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        LI = \"li\",\n        SPAN = \"<span></span>\",\n        FOCUSED = \"k-focus\",\n        HOVER = \"k-hover\",\n        HOVEREVENTS = \"mouseenter\" + ns + \" mouseleave\" + ns,\n        MOUSEDOWN = \"mousedown\" + ns,\n        MS_PER_MINUTE = 60000,\n        MS_PER_DAY = 86400000,\n        SELECTED = \"k-selected\",\n        STATEDISABLED = \"k-disabled\",\n        ARIA_SELECTED = \"aria-selected\",\n        ARIA_EXPANDED = \"aria-expanded\",\n        ARIA_HIDDEN = \"aria-hidden\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_READONLY = \"aria-readonly\",\n        ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n        ID = \"id\",\n        isArray = Array.isArray,\n        extend = $.extend,\n        DATE = Date,\n        dateFormatRegExp = /d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|\"[^\"]*\"|'[^']*'/g,\n        LITERAL = \"literal\",\n        MONTH = \"month\",\n        HOUR = \"hour\",\n        ZONE = \"zone\",\n        WEEKDAY = \"weekday\",\n        QUARTER = \"quarter\",\n        DATE_FIELD_MAP = {\n            \"G\": \"era\",\n            \"y\": \"year\",\n            \"q\": QUARTER,\n            \"Q\": QUARTER,\n            \"M\": MONTH,\n            \"L\": MONTH,\n            \"d\": \"day\",\n            \"E\": WEEKDAY,\n            \"c\": WEEKDAY,\n            \"e\": WEEKDAY,\n            \"h\": HOUR,\n            \"H\": HOUR,\n            \"k\": HOUR,\n            \"K\": HOUR,\n            \"m\": \"minute\",\n            \"s\": \"second\",\n            \"a\": \"dayperiod\",\n            \"x\": ZONE,\n            \"X\": ZONE,\n            \"z\": ZONE,\n            \"Z\": ZONE\n        },\n        NAME_TYPES = {\n            month: {\n                type: \"months\",\n                minLength: 3,\n                standAlone: \"L\"\n            },\n\n            quarter: {\n                type: \"quarters\",\n                minLength: 3,\n                standAlone: \"q\"\n            },\n\n            weekday: {\n                type: \"days\",\n                minLength: {\n                    E: 0,\n                    c: 3,\n                    e: 3\n                },\n                standAlone: \"c\"\n            },\n\n            dayperiod: {\n                type: \"dayPeriods\",\n                minLength: 0\n            },\n\n            era: {\n                type: \"eras\",\n                minLength: 0\n            }\n        },\n        TODAY = new DATE(),\n        MODERN_RENDERING_TEMPLATE = '<div tabindex=\"0\" class=\"k-timeselector #=mainSize#\">' +\n            '<div class=\"k-time-header\">' +\n                '<span class=\"k-title\"></span>' +\n                '<button class=\"k-button #=buttonSize# k-rounded-md k-button-flat k-button-flat-base k-time-now\" title=\"Select now\" aria-label=\"Select now\"><span class=\"k-button-text\">#=messages.now#</span></button>' +\n            '</div>' +\n            '<div class=\"k-time-list-container\">' +\n                '<span class=\"k-time-highlight\"></span>' +\n            '</div>' +\n        '</div>',\n        NEW_RENDERING_FOOTER = '<div class=\"k-time-footer k-action-buttons\">' +\n            '<button class=\"k-button #=buttonSize# k-rounded-md k-button-solid k-button-solid-base k-time-cancel\" title=\"Cancel changes\" aria-label=\"Cancel changes\"><span class=\"k-button-text\">#=messages.cancel#</span></button>' +\n            '<button class=\"k-time-accept k-button #=buttonSize# k-rounded-md k-button-solid k-button-solid-primary\" title=\"Set time\" aria-label=\"Set time\"><span class=\"k-button-text\">#=messages.set#</span></button>' +\n            '</div>',\n        HIGHLIGHTCONTAINER = '<span class=\"k-time-highlight\"></span>';\n\n        TODAY = new Date(TODAY.getFullYear(), TODAY.getMonth(), TODAY.getDate(), 0, 0, 0);\n\n    var TimeView = function(options) {\n        var that = this,\n        id = options.id;\n\n        that.options = options;\n        that._dates = [];\n\n        that._createList(options.timeView && options.timeView.list === \"scroll\");\n\n        if (id) {\n            that._timeViewID = id + \"_timeview\";\n            that._optionID = id + \"_option_selected\";\n\n            that.ul.attr(ID, that._timeViewID);\n        }\n\n        that._heightHandler = that._height.bind(that);\n        that._popup();\n    };\n\n    TimeView.prototype = {\n        _createList: function (scroll) {\n            if (scroll) {\n                this._createScrollList();\n            } else {\n                this._createClassicRenderingList();\n            }\n        },\n        _createScrollList: function () {\n            var templateOptions = $.extend({}, this.options, {\n                mainSize: kendo.getValidCssClass(\"k-timeselector-\", \"size\", this.options.size || \"medium\"),\n                buttonSize: kendo.getValidCssClass(\"k-button-\", \"size\", this.options.size || \"medium\")\n            });\n            this.list = $(kendo.template(MODERN_RENDERING_TEMPLATE)(templateOptions))\n                .on(MOUSEDOWN, preventDefault);\n\n            if (!this.options.omitPopup) {\n                this.list.append(kendo.template(NEW_RENDERING_FOOTER)(templateOptions));\n            }\n\n            this.ul = this.list.find(\".k-time-list-container\");\n            this.list.on(\"click\"+ns, \".k-time-header button.k-time-now\", this._nowClickHandler.bind(this));\n            this.list.on(\"click\"+ns, \".k-time-footer button.k-time-cancel\", this._cancelClickHandler.bind(this));\n            this.list.on(\"click\"+ns, \".k-time-footer button.k-time-accept\", this._setClickHandler.bind(this));\n            this.list.on(\"mouseover\"+ns, \".k-time-list-wrapper\", this._mouseOverHandler.bind(this));\n            this.list.on(\"keydown\"+ns, this._scrollerKeyDownHandler.bind(this));\n        },\n\n        _scrollerKeyDownHandler: function (e) {\n            var that = this,\n                key = e.keyCode,\n                list = $(e.currentTarget).find(\".k-time-list-wrapper.k-focus\"),\n                lists = that.list.find(\".k-time-list-wrapper\"),\n                length = lists.length,\n                index = lists.index(list),\n                isRtl = kendo.support.isRtl(that.wrapper),\n                itemHeight = getItemHeight(list.find(\".k-item:visible\").eq(0)),\n                container = list.find(\".k-time-container.k-content.k-scrollable\");\n\n            if (!list.length) {\n                return;\n            }\n\n            if (key == keys.RIGHT && !isRtl || key == keys.LEFT && isRtl) {\n                if (index + 1 < length) {\n                    that._focusList(lists.eq(index + 1));\n                }\n\n            } else if (key == keys.LEFT && !isRtl || key == keys.RIGHT && isRtl) {\n                if (index - 1 >= 0) {\n                    that._focusList(lists.eq(index - 1));\n                }\n            } else if (key == keys.UP) {\n                container.scrollTop(container.scrollTop() - itemHeight);\n                e.preventDefault();\n            } else if (key == keys.DOWN) {\n                container.scrollTop(container.scrollTop() + itemHeight);\n                e.preventDefault();\n            } else if (key === keys.ENTER) {\n                that._setClickHandler();\n            } else if (key === keys.ESC) {\n                that._cancelClickHandler();\n            }\n        },\n\n        _mouseOverHandler: function (e) {\n            this._focusList($(e.currentTarget));\n        },\n\n        _focusList: function(list){\n            this.list.find(\".k-time-list-wrapper\").removeClass(FOCUSED);\n            list.addClass(FOCUSED);\n            this.list.trigger(\"focus\");\n            this._scrollTop = list.find('.k-scrollable').scrollTop();\n        },\n        _createClassicRenderingList: function () {\n            var that = this;\n            var listParent = $('<div class=\"k-list ' + kendo.getValidCssClass(\"k-list-\", \"size\", that.options.size) + '\"><ul tabindex=\"-1\" role=\"listbox\" aria-hidden=\"true\" unselectable=\"on\" class=\"k-list-ul\"/></div>');\n\n            that.ul = listParent.find(\"ul\")\n                .css({\n                    overflow: support.kineticScrollNeeded ? \"\" : \"auto\"\n                })\n                .on(CLICK, LI, that._click.bind(that))\n                .on(\"mouseenter\" + ns, LI, function () {\n                    $(this).addClass(HOVER);\n                })\n                .on(\"mouseleave\" + ns, LI, function () {\n                    $(this).removeClass(HOVER);\n                });\n\n            that.list = $(\"<div class='k-list-container k-list-scroller' unselectable='on'/>\")\n                .append(listParent)\n                .on(MOUSEDOWN, preventDefault);\n\n            that.template = kendo.template('<li tabindex=\"-1\" role=\"option\" class=\"k-list-item\" unselectable=\"on\"><span class=\"k-list-item-text\">#=data#</span></li>', {\n                useWithBlock: false\n            });\n\n        },\n        current: function(candidate) {\n            var that = this,\n                active = that.options.active;\n\n            if (candidate !== undefined) {\n                if (that._current) {\n                    that._current\n                        .removeClass(SELECTED);\n                        if(that._current && that._current.length) {\n                            that._current[0].removeAttribute(ID);\n                            that._current[0].removeAttribute(ARIA_SELECTED);\n                        }\n                }\n\n                if (candidate) {\n                    candidate = $(candidate).addClass(SELECTED)\n                                            .attr(ID, that._optionID)\n                                            .attr(ARIA_SELECTED, true);\n\n                    that.scroll(candidate[0]);\n                }\n\n                that._current = candidate;\n\n                if (active) {\n                    active(candidate);\n                }\n            } else {\n                return that._current;\n            }\n        },\n\n        _updateTitle: function () {\n            this.list.find(\".k-time-header > .k-title\").html(kendo.toString(this._value, this.options.format, this.options.culture));\n        },\n\n        applyValue: function (value) {\n            if (!value) {\n                return;\n            }\n\n            var is12hourFormat = includes(this.options.format.toLowerCase(), \"t\");\n            var hours = value.getHours();\n            var minutes = value.getMinutes();\n            var seconds = value.getSeconds();\n            var designator;\n            var indexAttr = kendo.attr('index');\n            var hoursList = this.ul.find('[' + indexAttr + '=\"1\"]');\n            var minutessList = this.ul.find('[' + indexAttr + '=\"2\"]');\n            var secondsList = this.ul.find('[' + indexAttr + '=\"3\"]');\n            var designatorList = this.ul.find('[' + indexAttr + '=\"4\"]');\n\n            if (is12hourFormat) {\n                if (hours >= 12) {\n                    designator = \"PM\";\n                    if (hours > 12) {\n                        hours -= 12;\n                    }\n                } else {\n                    designator = \"AM\";\n                    if (hours === 0) {\n                        hours = 12;\n                    }\n                }\n            }\n\n            this._internalScroll = true;\n            if (hoursList.length) {\n                this._scrollListToPosition(hoursList, hours);\n            }\n\n            if (minutessList.length) {\n                this._scrollListToPosition(minutessList, minutes);\n            }\n\n            if (secondsList.length) {\n                this._scrollListToPosition(secondsList, seconds);\n            }\n\n            if (designatorList.length) {\n                this._scrollListToPosition(designatorList, designator);\n            }\n            this._internalScroll = false;\n        },\n\n        _scrollListToPosition: function(list, value) {\n            var item = list.find('.k-item[data-value=\"' + pad(value) + '\"]');\n            var itemHeight = getItemHeight(item);\n\n            list.scrollTop(list.find(\".k-item:visible\").index(item) * itemHeight);\n        },\n\n        close: function() {\n            this.popup.close();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.ul.off(ns);\n            that.list.off(ns);\n            if (this.popup) {\n                that.popup.destroy();\n            }\n        },\n\n        open: function() {\n            var that = this;\n            var popupHovered;\n\n            if (!that.ul[0].firstChild || (that.ul.find(\"li\").length < 1)) {\n                that.bind();\n            }\n\n            // In some cases when the popup is opened resize is triggered which will cause it to close\n            // Setting the below flag will prevent this from happening\n            // Reference: https://github.com/telerik/kendo/pull/7553\n            popupHovered = that.popup._hovered;\n            that.popup._hovered = true;\n\n            that.popup.open();\n\n            setTimeout(function() {\n                that.popup._hovered = popupHovered;\n            }, 1);\n\n            if (that._current) {\n                that.scroll(that._current[0]);\n            }\n        },\n\n        dataBind: function(dates) {\n            var that = this,\n                options = that.options,\n                format = options.format,\n                toString = kendo.toString,\n                template = that.template,\n                length = dates.length,\n                idx = 0,\n                date,\n                html = \"\";\n\n            for (; idx < length; idx++) {\n                date = dates[idx];\n\n                if (isInRange(date, options.min, options.max)) {\n                    html += template(toString(date, format, options.culture));\n                }\n            }\n\n            that._html(html);\n        },\n\n        refresh: function() {\n            var that = this,\n                options = that.options,\n                format = options.format,\n                offset = dst(),\n                ignoreDST = offset < 0,\n                value = kendo.parseDate(that._value),\n                parsedValue = value ? mergeDateAndTime(value, options.min) : mergeDateAndTime(new Date(), options.min),\n                min = options.min,\n                max = options.max,\n                msMin = getMilliseconds(min),\n                msMax = getMilliseconds(max),\n                msLastTime = getMilliseconds(lastTimeOption(options.interval)),\n                msInterval = options.interval * MS_PER_MINUTE,\n                toString = kendo.toString,\n                template = that.template,\n                start = options.useValueToRender ? parsedValue : new Date(+options.min),\n                startDate = new DATE(start),\n                msStart,\n                length,\n                html = \"\";\n\n            if (ignoreDST) {\n                length = (MS_PER_DAY + (offset * MS_PER_MINUTE)) / msInterval;\n            } else {\n                length = MS_PER_DAY / msInterval;\n            }\n\n            if (msMin != msMax || msLastTime === msMax) {\n                if (msMin > msMax) {\n                    msMax += MS_PER_DAY;\n                }\n\n                length = ((msMax - msMin) / msInterval) + 1;\n            }\n\n            if (options.timeView && options.timeView.list === \"scroll\") {\n                html = that._createListContent(splitDateFormat(format));\n            } else {\n                that.getDatesInRange(msStart, msMax, startDate, max, msInterval, start).forEach(function (date) {\n                    html += template(toString(date, format, options.culture));\n                });\n            }\n\n            that._html(html);\n        },\n\n        _showAllHiddenItems: function() {\n            var items = this.list.find('.k-time-container');\n            var length = items.length;\n            var item;\n\n            for (var i = 0; i < length; i++) {\n                item = $(items[i]);\n                item.find('.k-item:hidden').show();\n                this._updateListBottomOffset(item);\n            }\n        },\n\n        _updateListBottomOffset: function (list) {\n            var itemHeight = getItemHeight(list.find(\".k-item:visible\").eq(0));\n            var listHeight = list.outerHeight();\n            var bottomOffset = listHeight - itemHeight;\n            list.find(\".k-scrollable-placeholder\").css({\n                height: list.find(\"ul\").height() + bottomOffset\n            });\n        },\n\n        _updateHoursRange: function () {\n            var that = this;\n            var indexAttr = kendo.attr('index');\n            var hoursList = this.ul.find('[' + indexAttr + '=\"1\"]');\n            var minHours = this._minHours;\n            var maxHours = this._maxHours;\n            var is12hourFormat = includes(this.options.format.toLowerCase(), \"t\");\n            var useMax;\n            var useMin;\n            var selectedDesignator = this._findSelectedValue(this.ul.find('[' + indexAttr + '=\"4\"]'));\n\n            if (!hoursList.length) {\n                return;\n            }\n\n            if (is12hourFormat && selectedDesignator) {\n\n                if (selectedDesignator === \"AM\") {\n                    if (minHours < 12) {\n                        useMin = true;\n                    }\n\n                    if (maxHours < 12) {\n                        useMax = true;\n                    }\n                } else if (selectedDesignator === \"PM\") {\n\n                    if (minHours > 12) {\n                        useMin = true;\n                        minHours -= 12;\n                    }\n\n                    if (maxHours > 12) {\n                        useMax = true;\n                        maxHours -= 12;\n                    }\n                }\n\n                hoursList.find(\".k-item\").each(function (_, item) {\n                    item = $(item);\n                    var value = +item.attr(\"data-value\");\n                    if ((that._validateMin && useMin && value < minHours) || (that._validateMax && useMax && value > maxHours)) {\n                        item.hide();\n                    } else {\n                        item.show();\n                    }\n                });\n            } else {\n                hoursList.find(\".k-item\").each(function (_, item) {\n                    item = $(item);\n                    var value = +item.attr(\"data-value\");\n                    if ((that._validateMin && value < minHours) ||\n                        (that._validateMax && value > maxHours)) {\n                        item.hide();\n                    } else {\n                        item.show();\n                    }\n                });\n            }\n\n            this._updateListBottomOffset(hoursList);\n        },\n\n        _updateMinutesRange: function () {\n            var that = this;\n            var indexAttr = kendo.attr('index');\n            var minutesList = this.ul.find('[' + indexAttr + '=\"2\"]');\n            var minHours = this._minHours;\n            var maxHours = this._maxHours;\n            var minMinutes = this._minMinutes;\n            var maxMinutes = this._maxMinutes;\n            var selectedHour = +this._findSelectedValue(this.ul.find('[' + indexAttr + '=\"1\"]'));\n            var is12hourFormat = includes(this.options.format.toLowerCase(), \"t\");\n            var selectedDesignator = this._findSelectedValue(this.ul.find('[' + indexAttr + '=\"4\"]'));\n\n            if (is12hourFormat && selectedDesignator === \"PM\") {\n                selectedHour += 12;\n            }\n\n            if (!minutesList.length) {\n                return;\n            }\n\n            minutesList.find(\".k-item\").each(function (_, item) {\n                item = $(item);\n                var value = +item.attr(\"data-value\");\n                if ((that._validateMin && value < minMinutes && minHours && selectedHour === minHours) ||\n                    (that._validateMax && value > maxMinutes && maxHours && selectedHour === maxHours)) {\n                    item.hide();\n                } else {\n                    item.show();\n                }\n            });\n\n            this._updateListBottomOffset(minutesList);\n        },\n\n        _updateSecondsRange: function () {\n            var that = this;\n            var indexAttr = kendo.attr('index');\n            var secondsList = this.ul.find('[' + indexAttr + '=\"3\"]');\n            var minSeconds = this._minSeconds;\n            var maxSeconds = this._minSeconds;\n            var minMinutes = this._minMinutes;\n            var maxMinutes = this._maxMinutes;\n            var selectedMinutes = +this._findSelectedValue(this.ul.find('[' + indexAttr + '=\"2\"]'));\n\n            if (!secondsList.length) {\n                return;\n            }\n\n            secondsList.find(\".k-item\").each(function (_, item) {\n                item = $(item);\n                var value = +item.attr(\"data-value\");\n                if ((that._validateMin && value < minSeconds && minMinutes && selectedMinutes === minMinutes) ||\n                    (that._validateMax && value > maxSeconds && maxMinutes && selectedMinutes === maxMinutes)) {\n                    item.hide();\n                } else {\n                    item.show();\n                }\n            });\n\n            this._updateListBottomOffset(secondsList);\n        },\n\n        _updateDesignatorRange: function () {\n            var minHours = this._minHours;\n            var maxHours = this._maxHours;\n            var indexAttr = kendo.attr('index');\n            var designatorList = this.ul.find('[' + indexAttr + '=\"4\"]');\n\n            if (!designatorList.length) {\n               return;\n            }\n\n            if (this._validateMin && minHours >= 12) {\n                designatorList.find('.k-item[data-value=\"AM\"]').hide();\n            } else {\n                designatorList.find('.k-item[data-value=\"AM\"]').show();\n            }\n\n            if (this._validateMax && maxHours < 12) {\n                designatorList.find('.k-item[data-value=\"PM\"]').hide();\n            } else {\n                designatorList.find('.k-item[data-value=\"PM\"]').show();\n            }\n        },\n\n\n        _updateRanges: function () {\n            if (!this.options.specifiedRange) {\n                return;\n            }\n            if (!this._currentlySelected) {\n                this._currentlySelected = new Date();\n            }\n\n            var max = this.options.max;\n            var min = this.options.min;\n\n            if (this.options.validateDate) {\n                if (max.getFullYear() === this._currentlySelected.getFullYear() &&\n                    max.getMonth() === this._currentlySelected.getMonth() &&\n                    max.getDate() === this._currentlySelected.getDate()) {\n                    this._validateMax = true;\n                } else {\n                    this._validateMax = false;\n                }\n\n                if (min.getFullYear() === this._currentlySelected.getFullYear() &&\n                    min.getMonth() === this._currentlySelected.getMonth() &&\n                    min.getDate() === this._currentlySelected.getDate()) {\n                    this._validateMin = true;\n                } else {\n                    this._validateMin = false;\n                }\n\n                if (!this._validateMax && !this._validateMin) {\n                    this._showAllHiddenItems();\n                    return;\n                }\n            } else {\n                this._validateMax = true;\n                this._validateMin = true;\n            }\n\n            this._minMinutes = min.getMinutes();\n            this._maxMinutes = max.getMinutes();\n            this._minHours = min.getHours();\n            this._maxHours = max.getHours();\n            this._minSeconds = min.getSeconds();\n            this._maxSeconds = max.getSeconds();\n\n            this._updateDesignatorRange();\n            this._updateHoursRange();\n            this._updateMinutesRange();\n            this._updateSecondsRange();\n        },\n\n        addTranslate: function () {\n            var lists = this.ul.find(\".k-time-container.k-content.k-scrollable\");\n            var length = lists.length;\n            var list;\n            var itemHeight;\n            var listHeight;\n            var topOffset;\n            var translate;\n            var bottomOffset;\n\n            for (var i = 0; i < length; i++) {\n                list = lists.eq(i);\n                itemHeight = getItemHeight(list.find(\".k-item:visible\").eq(0));\n                listHeight = list.outerHeight();\n                topOffset = (listHeight - itemHeight) / 2;\n                translate = \"translateY(\" + topOffset + \"px)\";\n                bottomOffset = listHeight - itemHeight;\n                list.find(\"ul\").css({\n                    transform: translate,\n                    \"-ms-transform\": translate\n                });\n                list.find(\".k-scrollable-placeholder\").css({\n                    height: list.find(\"ul\").height() + bottomOffset\n                });\n                list.off(ns)\n                    .on(\"click\" + ns, \".k-item\", this._itemClickHandler.bind(this))\n                    .on(\"scroll\" + ns, this._listScrollHandler.bind(this));\n            }\n        },\n\n        _nowClickHandler: function (e) {\n            e.preventDefault();\n\n            var now = new Date();\n            this.value(now);\n            this.options.change(kendo.toString(now, this.options.format, this.options.culture), true);\n        },\n\n        _cancelClickHandler: function (e) {\n            e.preventDefault();\n            this.value(this._value);\n            this.popup.close();\n        },\n\n        _setClickHandler: function (e) {\n            e.preventDefault();\n            this._value = new Date(this._currentlySelected);\n\n            this.options.change(kendo.toString(this._currentlySelected, this.options.format, this.options.culture), true);\n            this.popup.close();\n        },\n\n        _listScrollHandler: function (e) {\n            var that = this;\n            var itemHeight = getItemHeight($(e.currentTarget).find(\".k-item:visible\").eq(0));\n\n            if (that._internalScroll) {\n                return;\n            }\n\n            if (that._scrollingTimeout) {\n                clearTimeout(that._scrollingTimeout);\n            }\n\n            that._scrollingTimeout = setTimeout(function () {\n                if (e.currentTarget.scrollTop % itemHeight > 1) {\n                    e.currentTarget.scrollTop += itemHeight - e.currentTarget.scrollTop % itemHeight;\n                }\n                that._scrollTop = e.currentTarget.scrollTop;\n                that._updateCurrentlySelected();\n                that._updateRanges();\n            }, 100);\n        },\n\n        _updateCurrentlySelected: function () {\n            var is12hourFormat = includes(this.options.format.toLowerCase(), \"t\");\n            var indexAttr = kendo.attr('index');\n            var hoursList = this.ul.find('[' + indexAttr + '=\"1\"]');\n            var minutesList = this.ul.find('[' + indexAttr + '=\"2\"]');\n            var secondsList = this.ul.find('[' + indexAttr + '=\"3\"]');\n            var designatorList = this.ul.find('[' + indexAttr + '=\"4\"]');\n            var selectedHour;\n            var selectedMinutes;\n            var selectedSeconds;\n            var selectedDesignator;\n\n            if (!this.ul.is(\":visible\")) {\n                return;\n            }\n\n            if (!this._currentlySelected) {\n                this._currentlySelected = this._value ? new Date(this._value) : new Date();\n            }\n\n            if (hoursList.length) {\n                selectedHour = +this._findSelectedValue(hoursList);\n            }\n\n            if (minutesList.length) {\n                selectedMinutes = +this._findSelectedValue(minutesList);\n            }\n\n            if (secondsList.length) {\n                selectedSeconds = +this._findSelectedValue(secondsList);\n            }\n\n            if (designatorList.length) {\n                selectedDesignator = this._findSelectedValue(designatorList);\n            }\n\n            if (is12hourFormat) {\n                if (selectedDesignator == \"PM\") {\n                    selectedHour += 12;\n                    if (selectedHour == 24) {\n                        selectedHour = 12;\n                    }\n                }\n\n                if (selectedDesignator === \"AM\" && selectedHour === 12) {\n                    selectedHour = 0;\n                }\n            }\n\n            if (selectedHour !== undefined) {\n                this._currentlySelected.setHours(selectedHour);\n            }\n\n            if (selectedMinutes !== undefined) {\n                this._currentlySelected.setMinutes(selectedMinutes);\n            }\n\n            if (selectedSeconds !== undefined) {\n                this._currentlySelected.setSeconds(selectedSeconds);\n            }\n        },\n\n        _findSelectedValue: function(list) {\n           var firstOccurence = firstItemIndex(list.scrollTop(), getItemHeight(list.find(\".k-item:visible\").eq(0)));\n           return list.find(\".k-item:visible\").eq(firstOccurence).attr(\"data-value\");\n        },\n\n        _itemClickHandler: function (e) {\n            var list = $(e.originalEvent.currentTarget);\n            var index = list.find(\".k-item:visible\").index($(e.currentTarget));\n            var itemHeight = getItemHeight(list.find(\".k-item:visible\").eq(0));\n\n            list.scrollTop(index * itemHeight);\n        },\n\n        getDatesInRange: function (msStart, msMax, startDate, max, msInterval, start) {\n            var result = [];\n\n            while (true) {\n                if (msMax && (getMilliseconds(start) >= msMax || startDate.getDate() != start.getDate())) {\n                    msStart = getMilliseconds(start);\n                    if (startDate < start) {\n                        msStart += MS_PER_DAY;\n                    }\n                    if (msStart > msMax) {\n                        start = new DATE(+max);\n                    }\n                    if (getMilliseconds(start) > 0) {\n                        result.push(new Date(start));\n                    }\n                    break;\n                }\n                if (startDate.getDate() != start.getDate()) {\n                    break;\n                }\n                result.push(new Date(start));\n                start.setTime(start.getTime() + msInterval);\n                if (!msMax && this.options.maxSet){\n                    break;\n                }\n            }\n\n            return result;\n        },\n\n        _createListContent: function (parts) {\n            var length = parts.length;\n            var result = \"\";\n            var part;\n            var values;\n\n            for (var i = 0; i < length; i++) {\n                part = parts[i];\n\n                if (part.type === \"literal\") {\n                    result += this._literalTemplate(part);\n                } else {\n                    values = this._getValues(part, true);\n                    result += this._itemTemplate(values.values, part, this.options.messages[part.type], values.index);\n                }\n            }\n\n            return result;\n        },\n\n        _itemTemplate: function (values, part, title, index) {\n            var result =\"\";\n            var length = values.length;\n            var indexAttr = kendo.attr('index');\n\n            result += '<div class=\"k-time-list-wrapper\" role=\"presentation\">' +\n                        '<span class=\"k-title\">' + (title || part.type) + '</span>' +\n                        '<div class=\"k-time-list\">' +\n                            '<div class=\"k-time-container k-content k-scrollable\" role=\"presentation\" ' + indexAttr + '=\"' + index + '\">' +\n                                '<ul class=\"k-reset\">';\n\n            for( var i = 0;i < length; i++){\n                result += '<li class=\"k-item\" data-value=\"' + values[i] + '\">' +\n                                '<span>' + values[i] + '</span>' +\n                           '</li>';\n            }\n\n            result += '</ul>' +\n                      '<div class=\"k-scrollable-placeholder\"></div>' +\n                    '</div>' +\n                '</div>' +\n            '</div>';\n\n            return result;\n        },\n\n        _getValues: function (part, shouldPad) {\n            var result = [];\n            var index;\n            var start = 0;\n            var end;\n\n            if (part.type === \"hour\") {\n                start = part.hour12 ? 1 : 0;\n                index = 1;\n                end = part.hour12 ? 12 : 23;\n            } else if (part.type === \"minute\") {\n                index = 2;\n                end = 59;\n            } else if (part.type === \"second\") {\n                index = 3;\n                end = 59;\n            }\n\n            for (; start <= end; start++) {\n                result.push(shouldPad ? pad(start) : start);\n            }\n\n            return {\n                values: result,\n                index: index\n            };\n        },\n\n        _literalTemplate: function (part) {\n            var result = '<div class=\"k-time-separator\">' +\n                (part.pattern === \" tt\" ? ':' : part.pattern) +\n                '</div>';\n\n            if (part.pattern === \" tt\") {\n                result += this._itemTemplate([\"AM\", \"PM\"], part, \"AM/PM\", 4);\n            }\n\n            return result;\n        },\n\n        bind: function() {\n            var that = this,\n                dates = that.options.dates;\n\n            if (dates && dates[0]) {\n                that.dataBind(dates);\n            } else {\n                that.refresh();\n            }\n        },\n\n        _html: function(html) {\n            var that = this;\n\n            if (that.options.timeView && that.options.timeView.list === \"scroll\") {\n                html = HIGHLIGHTCONTAINER + html;\n                that.ul.html(html);\n            } else {\n                that.ul[0].innerHTML = html;\n                that.popup.unbind(OPEN, that._heightHandler);\n                that.popup.one(OPEN, that._heightHandler);\n\n                that.current(null);\n                that.select(that._value);\n            }\n        },\n\n        scroll: function(item) {\n            if (!item) {\n                return;\n            }\n\n            if (item.scrollIntoViewIfNeeded) {\n                item.scrollIntoViewIfNeeded();\n            } else {\n                scrollIntoViewIfNeeded(item);\n            }\n        },\n\n        select: function(li) {\n            var that = this,\n                options = that.options,\n                current = that._current,\n                selection;\n\n            if (li instanceof Date) {\n                li = kendo.toString(li, options.format, options.culture);\n            }\n\n            if (typeof li === \"string\") {\n                if (!current || current.text() !== li) {\n                    li = $.grep(that.ul[0].childNodes, function(node) {\n                        return (node.textContent || node.innerText) == li;\n                    });\n\n                    li = li[0] ? li : null;\n                } else {\n                    li = current;\n                }\n            }\n            selection = that._distinctSelection(li);\n            that.current(selection);\n        },\n\n        _distinctSelection: function(selection) {\n            var that = this,\n                currentValue,\n                selectionIndex;\n\n            if (selection && selection.length > 1) {\n                currentValue = getMilliseconds(that._value);\n                selectionIndex = $.inArray(currentValue, that._dates);\n                selection = that.ul.children()[selectionIndex];\n            }\n\n            return selection;\n        },\n\n        setOptions: function(options) {\n            var old = this.options;\n\n            options.min = parse(options.min);\n            options.max = parse(options.max);\n\n            this.options = extend(old, options, {\n                active: old.active,\n                change: old.change,\n                close: old.close,\n                open: old.open\n            });\n\n            this.bind();\n        },\n\n        toggle: function() {\n            var that = this;\n\n            if (that.popup.visible()) {\n                that.close();\n            } else {\n                that.open();\n            }\n        },\n\n        value: function(value) {\n            var that = this;\n\n            that._value = value;\n            if (that.ul[0].firstChild) {\n                if (that.options.timeView && that.options.timeView.list === \"scroll\") {\n                    that.applyValue(value);\n                } else {\n                    that.select(value);\n                }\n            }\n        },\n\n        _click: function(e) {\n            var that = this,\n                li = $(e.currentTarget),\n                date = li.text(),\n                dates = that.options.dates;\n\n            if (dates && dates.length > 0) {\n                date = dates[li.index()];\n            }\n\n            if (!e.isDefaultPrevented()) {\n                that.select(li);\n                that.options.change(date, true);\n                that.close();\n            }\n        },\n\n        _height: function() {\n            var that = this;\n            var list = that.list;\n            var parent = list.parent(\".k-animation-container\");\n            var height = that.options.height;\n\n            if (that.ul[0].children.length) {\n                list.add(parent)\n                    .show()\n                    .height(that.ul[0].scrollHeight > height ? height : \"auto\")\n                    .hide();\n            }\n        },\n\n        _parse: function(value) {\n            var that = this,\n                options = that.options,\n                min = getMilliseconds(options.min) != getMilliseconds(TODAY) ? options.min : null,\n                max = getMilliseconds(options.max) != getMilliseconds(TODAY) ? options.max : null,\n                current = that._value || min || max || TODAY;\n\n            if (value instanceof DATE) {\n                return value;\n            }\n\n            value = parse(value, options.parseFormats, options.culture);\n\n            if (value) {\n                value = new DATE(current.getFullYear(),\n                                 current.getMonth(),\n                                 current.getDate(),\n                                 value.getHours(),\n                                 value.getMinutes(),\n                                 value.getSeconds(),\n                                 value.getMilliseconds());\n            }\n\n            return value;\n        },\n\n        _adjustListWidth: function() {\n            var list = this.list,\n                width = list[0].style.width,\n                wrapper = this.options.anchor,\n                computedStyle, computedWidth,\n                outerWidth = kendo._outerWidth;\n\n            if (!list.data(\"width\") && width) {\n                return;\n            }\n\n            computedStyle = window.getComputedStyle ? window.getComputedStyle(wrapper[0], null) : 0;\n            computedWidth = computedStyle ? parseFloat(computedStyle.width) : outerWidth(wrapper);\n\n            if (computedStyle && (browser.mozilla || browser.msie)) { // getComputedStyle returns different box in FF and IE.\n                computedWidth += parseFloat(computedStyle.paddingLeft) + parseFloat(computedStyle.paddingRight) + parseFloat(computedStyle.borderLeftWidth) + parseFloat(computedStyle.borderRightWidth);\n            }\n\n            width = computedWidth - (outerWidth(list) - list.width());\n\n            list.css({\n                fontFamily: wrapper.css(\"font-family\"),\n                width: width\n            })\n            .data(\"width\", width);\n        },\n\n        _popup: function() {\n            var that = this,\n                list = that.list,\n                options = that.options,\n                anchor = options.anchor;\n\n            if(!this.options.omitPopup){\n\n                that.popup = new ui.Popup(list, extend(options.popup, {\n                    anchor: anchor,\n                    open: options.open,\n                    close: options.close,\n                    animation: options.animation,\n                    isRtl: support.isRtl(options.anchor),\n                    activate: function () {\n                        if (that.options.timeView && that.options.timeView.list === \"scroll\") {\n                            that.addTranslate();\n                            if (that._value) {\n                                that.applyValue(that._value);\n                            } else {\n                                that._updateCurrentlySelected();\n                            }\n                            that._updateRanges();\n                            that._focusList(that.list.find(\".k-time-list-wrapper\").eq(0));\n                        }\n                    }\n                }));\n            } else {\n                list.appendTo(options.timeDiv);\n            }\n        },\n\n        move: function(e) {\n            var that = this,\n                key = e.keyCode,\n                ul = that.ul[0],\n                current = that._current,\n                down = key === keys.DOWN;\n\n            if (key === keys.UP || down) {\n                if (e.altKey) {\n                    that.toggle(down);\n                    return;\n                } else if (down) {\n                    current = current ? current[0].nextSibling : ul.firstChild;\n                } else {\n                    current = current ? current[0].previousSibling : ul.lastChild;\n                }\n\n                if (current) {\n                    that.select(current);\n                }\n\n                that.options.change(that._current.text());\n                e.preventDefault();\n\n            } else if (key === keys.ENTER || key === keys.TAB || key === keys.ESC) {\n                e.preventDefault();\n                if (current) {\n                    that.options.change(current.text(), true);\n                }\n                that.close();\n            }\n        }\n    };\n\n    function dst() {\n        var today = new DATE(),\n            midnight = new DATE(today.getFullYear(), today.getMonth(), today.getDate(), 0, 0, 0),\n            noon = new DATE(today.getFullYear(), today.getMonth(), today.getDate(), 12, 0, 0);\n\n        return -1 * (midnight.getTimezoneOffset() - noon.getTimezoneOffset());\n    }\n\n    function getMilliseconds(date) {\n        return date.getHours() * 60 * MS_PER_MINUTE + date.getMinutes() * MS_PER_MINUTE + date.getSeconds() * 1000 + date.getMilliseconds();\n    }\n\n    function lastTimeOption(interval) {\n        var date = new Date(2100, 0, 1);\n        date.setMinutes(-interval);\n        return date;\n    }\n\n    function isInRange(value, min, max) {\n        var msMin = getMilliseconds(min),\n            msMax = getMilliseconds(max),\n            msValue;\n\n        if (!value || msMin == msMax) {\n            return true;\n        }\n\n        msValue = getMilliseconds(value);\n\n        if (msMin > msValue) {\n            msValue += MS_PER_DAY;\n        }\n\n        if (msMax < msMin) {\n            msMax += MS_PER_DAY;\n        }\n\n        return msValue >= msMin && msValue <= msMax;\n    }\n\n    TimeView.getMilliseconds = getMilliseconds;\n\n    kendo.TimeView = TimeView;\n\n    var TimePicker = Widget.extend({\n        init: function(element, options) {\n            var that = this, ul, timeView, disabled;\n\n            options = options || {};\n            options.componentType = options.componentType || \"classic\";\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.element;\n            options = that.options;\n\n            options.min = parse(element.attr(\"min\")) || parse(options.min);\n            options.max = parse(element.attr(\"max\")) || parse(options.max);\n\n            if (+options.max != +TODAY || +options.min != +TODAY) {\n                this._specifiedRange = true;\n            }\n\n            normalize(options);\n\n            that._initialOptions = extend({}, options);\n\n            that._wrapper();\n\n            if (that.options.timeView && that.options.timeView.list === \"scroll\") {\n                that.options.height = null;\n            }\n\n            that.timeView = timeView = new TimeView(extend({}, options, {\n                id: element.attr(ID),\n                anchor: that.wrapper,\n                format: options.format,\n                change: function(value, trigger) {\n                    if (trigger) {\n                        that._change(value);\n                    } else {\n                        element.val(value);\n                    }\n                },\n                open: function(e) {\n                    if (that.options.timeView && that.options.timeView.list !== \"scroll\") {\n                        that.timeView._adjustListWidth();\n                    } else {\n                        that.timeView._updateTitle();\n                    }\n\n                    if (that.trigger(OPEN)) {\n                        e.preventDefault();\n                    } else {\n                        element.attr(ARIA_EXPANDED, true);\n                        ul.attr(ARIA_HIDDEN, false);\n\n                        if (timeView.current()) {\n                            element.attr(ARIA_ACTIVEDESCENDANT, timeView._optionID);\n                        }\n                    }\n                },\n                close: function(e) {\n                    if (that.trigger(CLOSE)) {\n                        e.preventDefault();\n                    } else {\n                        element.attr(ARIA_EXPANDED, false);\n                        ul.attr(ARIA_HIDDEN, true);\n                        element[0].removeAttribute(ARIA_ACTIVEDESCENDANT);\n                    }\n                },\n                active: function(current) {\n                    if(element && element.length) {\n                        element[0].removeAttribute(ARIA_ACTIVEDESCENDANT);\n                    }\n                    if (current) {\n                        element.attr(ARIA_ACTIVEDESCENDANT, timeView._optionID);\n                    }\n                },\n                specifiedRange: that._specifiedRange,\n                maxSet: +options.max != +TODAY\n            }));\n            ul = timeView.ul;\n\n            that._ariaLabel(ul);\n\n            that._icon();\n            that._reset();\n\n            try {\n                element[0].setAttribute(\"type\", \"text\");\n            } catch(e) {\n                element[0].type = \"text\";\n            }\n\n            element.addClass(\"k-input-inner\")\n                   .attr({\n                        \"role\": \"combobox\",\n                        \"aria-expanded\": false,\n                        \"aria-owns\": timeView._timeViewID,\n                        \"autocomplete\": \"off\"\n                   });\n\n            disabled = element.is(\"[disabled]\") || $(that.element).parents(\"fieldset\").is(':disabled');\n            if (disabled) {\n                that.enable(false);\n            } else {\n                that.readonly(element.is(\"[readonly]\"));\n            }\n            if (options.dateInput) {\n                var min = options.min;\n                var max = options.max;\n                var today = new DATE();\n                if (getMilliseconds(min) == getMilliseconds(max)) {\n                    min = new DATE(today.getFullYear(), today.getMonth(), today.getDate(), 0, 0, 0);\n                    max = new DATE(today.getFullYear(), today.getMonth(), today.getDate(), 24, 0, 0);\n                }\n\n                that._dateInput = new ui.DateInput(element, {\n                    culture: options.culture,\n                    format: options.format,\n                    min: min,\n                    max: max,\n                    value: options.value,\n                    interval: options.interval,\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    rounded: options.rounded\n                });\n            }\n            that._old = that._update(options.value || that.element.val());\n            that._oldText = element.val();\n            that._applyCssClasses();\n\n            kendo.notify(that);\n        },\n\n        options: {\n            name: \"TimePicker\",\n            min: TODAY,\n            max: TODAY,\n            format: \"\",\n            dates: [],\n            parseFormats: [],\n            value: null,\n            interval: 30,\n            height: 200,\n            animation: {},\n            dateInput: false,\n            messages: {\n                set: \"Set\",\n                cancel: \"Cancel\",\n                hour: \"hour\",\n                minute: \"minute\",\n                second: \"second\",\n                millisecond: \"millisecond\",\n                now: \"Now\"\n            },\n            componentType: \"classic\",\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        events: [\n         OPEN,\n         CLOSE,\n         CHANGE\n        ],\n\n        componentTypes: {\n            \"classic\": {\n                timeView: {\n                    list: \"list\"\n                }\n            },\n            \"modern\": {\n                timeView: {\n                    list: \"scroll\"\n                }\n            }\n        },\n\n        setOptions: function(options) {\n            var that = this;\n            var value = that._value;\n\n            Widget.fn.setOptions.call(that, options);\n            options = that.options;\n\n            if (+options.max != +TODAY || +options.min != +TODAY) {\n                this._specifiedRange = true;\n            }\n\n            that._arrow.off(ns);\n            that._arrow.remove();\n\n            normalize(options);\n\n            that.timeView.setOptions(options);\n\n            that._icon();\n            that._editable(options);\n\n            if (value) {\n                that.element.val(kendo.toString(value, options.format, options.culture));\n            }\n        },\n\n        dataBind: function(dates) {\n            if (isArray(dates)) {\n                this.timeView.dataBind(dates);\n            }\n        },\n\n        _editable: function(options) {\n            var that = this,\n                disable = options.disable,\n                readonly = options.readonly,\n                arrow = that._arrow.off(ns),\n                element = that.element.off(ns),\n                wrapper = that.wrapper.off(ns);\n\n            if (that._dateInput) {\n                that._dateInput._unbindInput();\n            }\n\n            if (!readonly && !disable) {\n                wrapper\n                    .removeClass(STATEDISABLED)\n                    .on(HOVEREVENTS, that._toggleHover);\n\n                if(element && element.length) {\n                    element[0].removeAttribute(DISABLED);\n                    element[0].removeAttribute(READONLY);\n                }\n                element.attr(ARIA_DISABLED, false)\n                       .attr(ARIA_READONLY, false)\n                       .on(\"keydown\" + ns, that._keydown.bind(that))\n                       .on(\"focusout\" + ns, that._blur.bind(that))\n                       .on(\"focus\" + ns, function() {\n                           that.wrapper.addClass(FOCUSED);\n                       });\n\n                if (that._dateInput) {\n                    that._dateInput._bindInput();\n                }\n               arrow.on(CLICK, that._click.bind(that))\n                   .on(MOUSEDOWN, preventDefault);\n            } else {\n                wrapper\n                    .addClass(disable ? STATEDISABLED : \"\")\n                    .removeClass(disable ? \"\" : STATEDISABLED);\n\n                element.attr(DISABLED, disable)\n                       .attr(READONLY, readonly)\n                       .attr(ARIA_DISABLED, disable)\n                       .attr(ARIA_READONLY, readonly);\n            }\n        },\n\n        readonly: function(readonly) {\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n        },\n\n        enable: function(enable) {\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that.timeView.destroy();\n\n            that.element.off(ns);\n            that._arrow.off(ns);\n            that.wrapper.off(ns);\n\n            if (that._form) {\n                that._form.off(\"reset\", that._resetHandler);\n            }\n        },\n\n        close: function() {\n            this.timeView.close();\n        },\n\n        open: function() {\n            this.timeView.open();\n        },\n\n        min: function (value) {\n            if (value) {\n                this._specifiedRange = true;\n            }\n\n            return this._option(\"min\", value);\n        },\n\n        max: function (value) {\n            if (value && this.timeView) {\n                this._specifiedRange = true;\n                this.timeView.options.maxSet = true;\n            } else if (this.timeView) {\n                this.timeView.options.maxSet = false;\n            }\n            return this._option(\"max\", value);\n        },\n\n        value: function(value) {\n            var that = this;\n\n            if (value === undefined) {\n                return that._value;\n            }\n\n            that._old = that._update(value);\n\n            if (that._old === null) {\n                that.element.val(\"\");\n            }\n\n            that._oldText = that.element.val();\n        },\n\n        _blur: function() {\n            var that = this,\n                value = that.element.val();\n\n           if (!(that.options.timeView && that.options.timeView.list === \"scroll\")) {\n               that.close();\n           }\n\n            if (value !== that._oldText) {\n                that._change(value);\n            }\n            that.wrapper.removeClass(FOCUSED);\n        },\n\n        _click: function() {\n            var that = this,\n                element = that.element;\n\n            that.timeView.toggle();\n\n            if (!support.touch && element[0] !== activeElement()) {\n                element.trigger(\"focus\");\n            }\n        },\n\n        _change: function(value) {\n            var that = this,\n            oldValue = that.element.val(),\n            dateChanged;\n\n            value = that._update(value);\n            dateChanged = !kendo.calendar.isEqualDate(that._old, value);\n\n            var valueUpdated = dateChanged && !that._typing;\n            var textFormatted = oldValue !== that.element.val();\n\n            if (valueUpdated || textFormatted) {\n                that.element.trigger(CHANGE);\n            }\n\n            if (dateChanged) {\n                that._old = value;\n                that._oldText = that.element.val();\n\n                that.trigger(CHANGE);\n            }\n\n            that._typing = false;\n        },\n\n        _icon: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                arrow;\n\n            arrow = element.next(\"button.k-input-button\");\n\n            if (!arrow[0]) {\n                arrow = $(html.renderButton('<button unselectable=\"on\" tabindex=\"-1\" class=\"k-input-button\" aria-label=\"select\"></button>', {\n                    icon: \"clock\",\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    shape: null,\n                    rounded: null\n                })).insertAfter(element);\n            }\n\n            that._arrow = arrow.attr({\n                \"role\": \"button\",\n                \"aria-controls\": that.timeView._timeViewID\n            });\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode,\n                timeView = that.timeView,\n                value = that.element.val();\n\n            if (timeView.popup.visible() || e.altKey) {\n                timeView.move(e);\n                if (that._dateInput && e.stopImmediatePropagation) {\n                    e.stopImmediatePropagation();\n                }\n            } else if (key === keys.ENTER && value !== that._oldText) {\n                that._change(value);\n            } else {\n                that._typing = true;\n            }\n        },\n\n        _option: function(option, value) {\n            var that = this,\n                options = that.options;\n\n            if (value === undefined) {\n                return options[option];\n            }\n\n            value = that.timeView._parse(value);\n\n            if (!value) {\n                return;\n            }\n\n            value = new DATE(+value);\n\n            options[option] = value;\n            that.timeView.options[option] = value;\n            that.timeView.bind();\n        },\n\n        _toggleHover: function(e) {\n            $(e.currentTarget).toggleClass(HOVER, e.type === \"mouseenter\");\n        },\n\n        _update: function(value) {\n            var that = this,\n                options = that.options,\n                timeView = that.timeView,\n                date = timeView._parse(value);\n\n            if (!isInRange(date, options.min, options.max)) {\n                date = null;\n            }\n\n            that._value = date;\n            that._currentlySelected = date;\n            if (that._dateInput && date) {\n                that._dateInput.value(date || value);\n            } else {\n                that.element.val(kendo.toString(date || value, options.format, options.culture));\n            }\n            timeView.value(date);\n\n            return date;\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                wrapper;\n\n            wrapper = element.parents(\".k-timepicker\");\n\n            if (!wrapper[0]) {\n                wrapper = element.wrap(SPAN).parent();\n            }\n\n            wrapper[0].style.cssText = element[0].style.cssText;\n            that.wrapper = wrapper.addClass(\"k-timepicker k-input\")\n                .addClass(element[0].className);\n\n            element.css({\n                height: element[0].style.height\n            });\n        },\n\n        _reset: function() {\n            var that = this,\n                element = that.element,\n                formId = element.attr(\"form\"),\n                form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    that.value(element[0].defaultValue);\n                    that.max(that._initialOptions.max);\n                    that.min(that._initialOptions.min);\n                };\n\n                that._form = form.on(\"reset\", that._resetHandler);\n            }\n        }\n    });\n\n    function normalize(options) {\n        var parseFormats = options.parseFormats;\n\n        options.format = extractFormat(options.format || kendo.getCulture(options.culture).calendars.standard.patterns.t);\n\n        parseFormats = isArray(parseFormats) ? parseFormats : [parseFormats];\n        parseFormats.splice(0, 0, options.format);\n        options.parseFormats = parseFormats;\n    }\n\n    function preventDefault(e) {\n        e.preventDefault();\n    }\n\n    function mergeDateAndTime(date, time) {\n        return new Date(date.getFullYear(),\n            date.getMonth(),\n            date.getDate(),\n            time.getHours(),\n            time.getMinutes(),\n            time.getSeconds(),\n            time.getMilliseconds());\n    }\n\n    function datePattern(format, info) {\n        var calendar = info.calendar;\n        var result;\n        if (typeof format === \"string\") {\n            if (calendar.patterns[format]) {\n                result = calendar.patterns[format];\n            } else {\n                result = format;\n            }\n        }\n\n        if (!result) {\n            result = calendar.patterns.d;\n        }\n\n        return result;\n    }\n\n    function addLiteral(parts, value) {\n        var lastPart = parts[parts.length - 1];\n        if (lastPart && lastPart.type === \"LITERAL\") {\n            lastPart.pattern += value;\n        } else {\n            parts.push({\n                type: LITERAL,\n                pattern: value\n            });\n        }\n    }\n\n    function isHour12(pattern) {\n        return pattern === \"h\" || pattern === \"K\";\n    }\n\n    function dateNameType(formatLength) {\n        var nameType;\n        if (formatLength <= 3) {\n            nameType = \"abbreviated\";\n        } else if (formatLength === 4) {\n            nameType = \"wide\";\n        } else if (formatLength === 5) {\n            nameType = \"narrow\";\n        } else if (formatLength === 6) {\n            nameType = \"short\";\n        }\n\n        return nameType;\n    }\n\n    function startsWith(text, searchString, position) {\n        position = position || 0;\n        return text.indexOf(searchString, position) === position;\n    }\n\n    function includes(text, subStr) {\n        var returnValue = false;\n\n        if (text.indexOf(subStr) !== -1) {\n            returnValue = true;\n        }\n\n        return returnValue;\n    }\n\n    function splitDateFormat(format) {\n        var info = kendo.culture();\n        var pattern = datePattern(format, info);\n        var parts = [];\n        var lastIndex = dateFormatRegExp.lastIndex = 0;\n        var match = dateFormatRegExp.exec(pattern);\n        var specifier;\n        var type;\n        var part;\n        var names;\n        var minLength;\n        var patternLength;\n\n        while (match) {\n            var value = match[0];\n\n            if (lastIndex < match.index) {\n                addLiteral(parts, pattern.substring(lastIndex, match.index));\n            }\n\n            if (startsWith(value, '\"') || startsWith(value, \"'\")) {\n                addLiteral(parts, value);\n            } else {\n                specifier = value[0];\n                type = DATE_FIELD_MAP[specifier];\n                part = {\n                    type: type,\n                    pattern: value\n                };\n\n                if (type === \"hour\") {\n                    part.hour12 = isHour12(value);\n                }\n\n                names = NAME_TYPES[type];\n\n                if (names) {\n                    minLength = typeof names.minLength === \"number\" ? names.minLength : names.minLength[specifier];\n                    patternLength = value.length;\n\n                    if (patternLength >= minLength) {\n                        part.names = {\n                            type: names.type,\n                            nameType: dateNameType(patternLength),\n                            standAlone: names.standAlone === specifier\n                        };\n                    }\n                }\n\n                parts.push(part);\n            }\n\n            lastIndex = dateFormatRegExp.lastIndex;\n            match = dateFormatRegExp.exec(pattern);\n        }\n\n        if (lastIndex < pattern.length) {\n            addLiteral(parts, pattern.substring(lastIndex));\n        }\n\n        return parts;\n    }\n\n    function pad(value, size) {\n        var s = String(value);\n        while (s.length < (size || 2)) {\n            s = \"0\" + s;\n        }\n        return s;\n    }\n\n    function firstItemIndex(scrollTop, itemHeight) {\n        return Math.max(Math.round(scrollTop / itemHeight), 0);\n    }\n\n    function getItemHeight (item){\n        return item.length && item[0].getBoundingClientRect().height;\n    }\n\n    function scrollIntoViewIfNeeded(element, centerIfNeeded) {\n\n        function makeRange(start, length) {\n            return {start: start, length: length, end: start + length};\n        }\n\n        function coverRange(inner, outer) {\n            if (false === centerIfNeeded ||\n                (outer.start < inner.end && inner.start < outer.end))\n            {\n                return Math.min(\n                    inner.start, Math.max(outer.start, inner.end - outer.length)\n                );\n            }\n            return (inner.start + inner.end - outer.length) / 2;\n        }\n\n        function makePoint(x, y) {\n            return {\n                x: x, y: y,\n                translate: function translate(dX, dY) {\n                    return makePoint(x + dX, y + dY);\n                }\n            };\n        }\n\n        function absolute(elem, pt) {\n            while (elem) {\n                pt = pt.translate(elem.offsetLeft, elem.offsetTop);\n                elem = elem.offsetParent;\n            }\n            return pt;\n        }\n\n        var target = absolute(element, makePoint(0, 0)),\n            extent = makePoint(element.offsetWidth, element.offsetHeight),\n            elem = element.parentNode,\n            origin;\n\n        while (elem instanceof HTMLElement) {\n            origin = absolute(elem, makePoint(elem.clientLeft, elem.clientTop));\n            elem.scrollLeft = coverRange(\n                makeRange(target.x - origin.x, extent.x),\n                makeRange(elem.scrollLeft, elem.clientWidth)\n            );\n            elem.scrollTop = coverRange(\n                makeRange(target.y - origin.y, extent.y),\n                makeRange(elem.scrollTop, elem.clientHeight)\n            );\n\n            target = target.translate(-elem.scrollLeft, -elem.scrollTop);\n            elem = elem.parentNode;\n        }\n    }\n\n\n    kendo.cssProperties.registerPrefix(\"TimePicker\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"TimePicker\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    ui.plugin(TimePicker);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.datetimepicker',[ \"kendo.datepicker\", \"kendo.timepicker\", \"kendo.html.button\"], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"datetimepicker\",\n    name: \"DateTimePicker\",\n    category: \"web\",\n    description: \"The DateTimePicker allows the end user to select a value from a calendar or a time drop-down list.\",\n    depends: [ \"datepicker\", \"timepicker\" ]\n};\n\n(function($, undefined) {\n\n    var kendo = window.kendo,\n        TimeView = kendo.TimeView,\n        html = kendo.html,\n        parse = kendo.parseDate,\n        support = kendo.support,\n        activeElement = kendo._activeElement,\n        extractFormat = kendo._extractFormat,\n        calendar = kendo.calendar,\n        isInRange = calendar.isInRange,\n        restrictValue = calendar.restrictValue,\n        isEqualDatePart = calendar.isEqualDatePart,\n        getMilliseconds = TimeView.getMilliseconds,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        CHANGE = \"change\",\n        ns = \".kendoDateTimePicker\",\n        CLICK = \"click\" + ns,\n        UP = support.mouseAndTouchPresent ? kendo.applyEventMap(\"up\", ns.slice(1)) : CLICK,\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        FOCUSED = \"k-focus\",\n        HOVER = \"k-hover\",\n        STATEDISABLED = \"k-disabled\",\n        HOVEREVENTS = \"mouseenter\" + ns + \" mouseleave\" + ns,\n        MOUSEDOWN = \"mousedown\" + ns,\n        MONTH = \"month\",\n        SPAN = \"<span/>\",\n        ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n        ARIA_EXPANDED = \"aria-expanded\",\n        ARIA_HIDDEN = \"aria-hidden\",\n        ARIA_OWNS = \"aria-owns\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_READONLY = \"aria-readonly\",\n        DATE = Date,\n        MIN = new DATE(1800, 0, 1),\n        MAX = new DATE(2099, 11, 31),\n        dateViewParams = { view: \"date\" },\n        timeViewParams = { view: \"time\" },\n        extend = $.extend,\n        SINGLE_POPUP_TEMPLATE = '<div class=\"k-date-tab k-datetime-wrap\">' +\n                                    '<div class=\"k-datetime-buttongroup\">'+\n                                        '<div class=\"k-button-group k-button-group-stretched\">'+\n                                            '<button class=\"k-button #=buttonSize# k-rounded-md k-button-solid k-button-solid-base k-selected k-group-start\">' +\n                                                '<span class=\"k-button-text\">#=messages.date#</span>' +\n                                            '</button>'+\n                                            '<button class=\"k-button #=buttonSize# k-rounded-md k-button-solid k-button-solid-base k-group-end\">' +\n                                                '<span class=\"k-button-text\">#=messages.time#</span>' +\n                                            '</button>'+\n                                        '</div>'+\n                                    '</div>'+\n                                    '<div class=\"k-datetime-selector\">'+\n                                        '<div class=\"k-datetime-calendar-wrap\">'+\n                                        '</div>'+\n                                        '<div class=\"k-datetime-time-wrap\">'+\n                                        '</div>'+\n                                    '</div>'+\n                                    '<div class=\"k-datetime-footer k-action-buttons\">'+\n                                        '<button class=\"k-button #=buttonSize# k-rounded-md k-button-solid k-button-solid-base k-time-cancel\" title=\"Cancel\" aria-label=\"Cancel\">' +\n                                            '<span class=\"k-button-text\">#=messages.cancel#</span>' +\n                                        '</button>'+\n                                        '<button class=\"k-time-accept k-button #=buttonSize# k-rounded-md k-button-solid k-button-solid-primary\" title=\"Set\" aria-label=\"Set\">' +\n                                            '<span class=\"k-button-text\">#=messages.set#</span>' +\n                                        '</button>'+\n                                    '</div>'+\n                                '</div>',\n        STATE_SELECTED = \"k-selected\";\n\n    var DateTimePicker = Widget.extend({\n        init: function(element, options) {\n            var that = this, disabled, initialValue;\n\n            options = options || {};\n            options.componentType = options.componentType || \"classic\";\n            Widget.fn.init.call(that, element, options);\n\n            element = that.element;\n            options = that.options;\n\n            options.disableDates = kendo.calendar.disabled(options.disableDates);\n            options.min = parse(element.attr(\"min\")) || parse(options.min);\n            options.max = parse(element.attr(\"max\")) || parse(options.max);\n\n            if (+options.max != +MAX || +options.min != +MIN) {\n                this._specifiedRange = true;\n            }\n\n            normalize(options);\n\n            that._initialOptions = extend({}, options);\n\n            that._wrapper();\n\n            if(options.singlePopup){\n                that._popup();\n            }\n\n            that._views();\n\n            that._icons();\n\n            that._reset();\n            that._template();\n\n            try {\n                element[0].setAttribute(\"type\", \"text\");\n            } catch(e) {\n                element[0].type = \"text\";\n            }\n\n            element.addClass(\"k-input-inner\")\n                   .attr({\n                       \"role\": \"combobox\",\n                       \"aria-expanded\": false,\n                       \"autocomplete\": \"off\"\n                   });\n\n\n            that._midnight = that._calculateMidnight(options.min, options.max);\n\n            disabled = element.is(\"[disabled]\") || $(that.element).parents(\"fieldset\").is(':disabled');\n            if (disabled) {\n                that.enable(false);\n            } else {\n                that.readonly(element.is(\"[readonly]\"));\n            }\n\n            initialValue = parse(options.value || that.element.val(), options.parseFormats, options.culture);\n\n            that._createDateInput(options);\n\n            that._old = that._update(initialValue || that.element.val());\n            that._oldText = element.val();\n            that._applyCssClasses();\n\n            kendo.notify(that);\n        },\n\n        options: {\n            name: \"DateTimePicker\",\n            value: null,\n            format: \"\",\n            timeFormat: \"\",\n            culture: \"\",\n            parseFormats: [],\n            dates: [],\n            disableDates: null,\n            min: new DATE(MIN),\n            max: new DATE(MAX),\n            interval: 30,\n            height: 200,\n            footer: \"\",\n            start: MONTH,\n            depth: MONTH,\n            animation: {},\n            month : {},\n            ARIATemplate: 'Current focused #=data.valueType# is #=data.text#',\n            dateButtonText: \"Open the date view\",\n            timeButtonText: \"Open the time view\",\n            dateInput: false,\n            weekNumber: false,\n            messages: {\n                set: \"Set\",\n                cancel: \"Cancel\",\n                hour: \"hour\",\n                minute: \"minute\",\n                second: \"second\",\n                millisecond: \"millisecond\",\n                now: \"Now\",\n                date: \"Date\",\n                time: \"Time\",\n                today: \"Today\",\n                weekColumnHeader: \"\"\n            },\n            componentType: \"classic\",\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        events: [\n            OPEN,\n            CLOSE,\n            CHANGE\n        ],\n\n        componentTypes: {\n            \"classic\": {\n                singlePopup: false,\n                timeView: {\n                    list: \"list\"\n                }\n            },\n            \"modern\": {\n                singlePopup: true,\n                timeView: {\n                    list: \"scroll\"\n                }\n            }\n        },\n\n        setOptions: function(options) {\n            var that = this,\n                value = that._value,\n                min, max, currentValue;\n\n            Widget.fn.setOptions.call(that, options);\n\n            options = that.options;\n\n            options.min = min = parse(options.min);\n            options.max = max = parse(options.max);\n\n            normalize(options);\n\n            that._midnight = that._calculateMidnight(options.min, options.max);\n\n            currentValue = options.value || that._value || that.dateView._current;\n\n            if (min && !isEqualDatePart(min, currentValue)) {\n                min = new DATE(MIN);\n            }\n\n            if (max && !isEqualDatePart(max, currentValue)) {\n                max = new DATE(MAX);\n            }\n\n            that._dateIcon.off(ns);\n            that._dateIcon.remove();\n            that._timeIcon.off(ns);\n            that._timeIcon.remove();\n\n            that.dateView.setOptions(options);\n\n            that.timeView.setOptions(extend({}, options, {\n                format: options.timeFormat,\n                min: min,\n                max: max\n            }));\n\n            that._icons();\n            that._editable(options);\n            that._createDateInput(options);\n\n            if (!that._dateInput) {\n                that.element.val(kendo.toString(value, options.format, options.culture));\n            }\n\n            if (value) {\n                that._updateARIA(value);\n            }\n        },\n\n        _editable: function(options) {\n            var that = this,\n                element = that.element.off(ns),\n                dateIcon = that._dateIcon.off(ns),\n                timeIcon = that._timeIcon.off(ns),\n                wrapper = that.wrapper.off(ns),\n                readonly = options.readonly,\n                disable = options.disable;\n\n            if (!readonly && !disable) {\n                wrapper\n                    .removeClass(STATEDISABLED)\n                    .on(HOVEREVENTS, that._toggleHover);\n                if(element && element.length) {\n                    element[0].removeAttribute(DISABLED);\n                    element[0].removeAttribute(READONLY, false);\n                    element[0].removeAttribute(ARIA_DISABLED, false);\n                    element[0].removeAttribute(ARIA_READONLY, false);\n                }\n                element.on(\"keydown\" + ns, that._keydown.bind(that))\n                       .on(\"focus\" + ns, function() {\n                           that.wrapper.addClass(FOCUSED);\n                       })\n                       .on(\"focusout\" + ns, function() {\n                           that.wrapper.removeClass(FOCUSED);\n                           if (element.val() !== that._oldText) {\n                               that._change(element.val());\n                               if (!element.val()) {\n                                   that.dateView.current(kendo.calendar.getToday());\n                               }\n                           }\n                           if (that.options.singlePopup) {\n                               return;\n                           }\n                           that.close(\"date\");\n                           that.close(\"time\");\n                       });\n\n               dateIcon.on(MOUSEDOWN, preventDefault)\n                        .on(UP, function(e) {\n                            that.toggle(\"date\");\n                            that._focusElement(e.type);\n                        });\n\n               timeIcon.on(MOUSEDOWN, preventDefault)\n                        .on(UP, function(e) {\n                            that.toggle(\"time\");\n                            that._focusElement(e.type);\n                        });\n\n            } else {\n                wrapper\n                    .addClass(disable ? STATEDISABLED : \"\")\n                    .removeClass(disable ? \"\" : STATEDISABLED);\n\n                element.attr(DISABLED, disable)\n                       .attr(READONLY, readonly)\n                       .attr(ARIA_DISABLED, disable)\n                       .attr(ARIA_READONLY, readonly);\n            }\n        },\n\n        _focusElement: function(eventType) {\n            var element = this.element;\n\n            if ((!support.touch || (support.mouseAndTouchPresent && !(eventType || \"\").match(/touch/i))) && element[0] !== activeElement()) {\n                element.trigger(\"focus\");\n            }\n        },\n\n        readonly: function(readonly) {\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n        },\n\n        enable: function(enable) {\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n            that.dateView.destroy();\n            that.timeView.destroy();\n\n            if (that.options.singlePopup) {\n                that.popup.element.off(ns);\n                that.popup.destroy();\n            }\n\n            that.element.off(ns);\n            that._dateIcon.off(ns);\n            that._timeIcon.off(ns);\n            that.wrapper.off(ns);\n\n            if (that._form) {\n                that._form.off(\"reset\", that._resetHandler);\n            }\n        },\n\n        close: function(view) {\n            var that = this;\n\n            if (that.options.singlePopup) {\n                that.popup.close();\n            } else {\n                if (view !== \"time\") {\n                    view = \"date\";\n                }\n\n                that[view + \"View\"].close();\n            }\n\n            setTimeout(function() {\n                that.element.removeAttr(\"aria-activedescendant\");\n            });\n        },\n\n        open: function(view) {\n            var that = this;\n            var popupHovered;\n\n            if (that.options.singlePopup) {\n\n                that.dateView._calendar();\n\n                if (that.timeView.ul.find(\"li\").length < 1) {\n                    that.timeView.bind();\n                }\n\n                // In some cases when the popup is opened resize is triggered which will cause it to close\n                // Setting the below flag will prevent this from happening\n                // Reference: https://github.com/telerik/kendo/pull/7553\n                popupHovered = that.popup._hovered;\n                that.popup._hovered = true;\n\n                that.popup.open();\n\n                if (view === \"time\") {\n                    that._switchToTimeView();\n                } else {\n                    that._switchToDateView();\n                }\n\n                this._dateIcon.toggle(view !== \"time\");\n                this._timeIcon.toggle(view === \"time\");\n\n                setTimeout(function() {\n                    that.popup._hovered = popupHovered;\n                }, 1);\n\n            } else {\n                if (view !== \"time\") {\n                    view = \"date\";\n                }\n\n                this[view + \"View\"].open();\n            }\n        },\n\n        min: function(value) {\n            return this._option(\"min\", value);\n        },\n\n        max: function(value) {\n            return this._option(\"max\", value);\n        },\n\n        toggle: function(view) {\n            if (this.options.singlePopup) {\n                if (this.popup.visible()) {\n                    this.close();\n                } else {\n                    this.open(view);\n                }\n            } else {\n                var secondView = \"timeView\";\n\n                if (view !== \"time\") {\n                    view = \"date\";\n                } else {\n                    secondView = \"dateView\";\n                }\n\n                this[view + \"View\"].toggle();\n                this[secondView].close();\n            }\n\n        },\n\n        value: function(value) {\n            var that = this;\n\n            if (value === undefined) {\n                return that._value;\n            }\n\n            that._old = that._update(value);\n            if (that._old === null) {\n                if (that._dateInput) {\n                    that._dateInput.value(that._old);\n                } else {\n                    that.element.val(\"\");\n                }\n            }\n\n            that._oldText = that.element.val();\n        },\n\n        _change: function(value) {\n            var that = this,\n            oldValue = that.element.val(),\n            dateChanged;\n\n            value = that._update(value);\n            dateChanged = +that._old != +value;\n\n            var valueUpdated = dateChanged && !that._typing;\n            var textFormatted = oldValue !== that.element.val();\n\n            if (valueUpdated || textFormatted) {\n                that.element.trigger(CHANGE);\n            }\n\n            if (dateChanged) {\n                that._old = value;\n                that._oldText = that.element.val();\n\n                that.trigger(CHANGE);\n            }\n\n            that._typing = false;\n        },\n\n        _option: function(option, value) {\n            var that = this;\n            var options = that.options;\n            var timeView = that.timeView;\n            var timeViewOptions = timeView.options;\n            var current = that._value || that._old;\n            var minDateEqual;\n            var maxDateEqual;\n\n            if (value === undefined) {\n                return options[option];\n            }\n\n            value = parse(value, options.parseFormats, options.culture);\n            timeViewOptions.maxSet = false;\n\n            if (!value) {\n                return;\n            }\n\n            if (options.min.getTime() === options.max.getTime()) {\n                timeViewOptions.dates = [];\n            }\n\n            options[option] = new DATE(value.getTime());\n            that.dateView[option](value);\n\n            that._midnight = that._calculateMidnight(options.min, options.max);\n\n            if (current) {\n                minDateEqual = isEqualDatePart(options.min, current);\n                maxDateEqual = isEqualDatePart(options.max, current);\n            }\n\n            if (minDateEqual || maxDateEqual) {\n                timeViewOptions[option] = value;\n\n                if (minDateEqual && !maxDateEqual) {\n                    timeViewOptions.max = lastTimeOption(options.interval);\n                }\n\n                if (maxDateEqual) {\n                    if (that._midnight) {\n                        timeView.dataBind([MAX]);\n                        return;\n                    } else if (!minDateEqual) {\n                        timeViewOptions.min = MIN;\n                        timeViewOptions.maxSet = true;\n                    }\n                }\n            } else {\n                timeViewOptions.max = MAX;\n                timeViewOptions.min = MIN;\n            }\n\n            timeView.bind();\n        },\n\n        _toggleHover: function(e) {\n            $(e.currentTarget).toggleClass(HOVER, e.type === \"mouseenter\");\n        },\n\n        _update: function(value) {\n            var that = this,\n                options = that.options,\n                min = options.min,\n                max = options.max,\n                dates = options.dates,\n                timeView = that.timeView,\n                current = that._value,\n                date = parse(value, options.parseFormats, options.culture),\n                isSameType = (date === null && current === null) || (date instanceof Date && current instanceof Date),\n                rebind, timeViewOptions, old, skip, formattedValue;\n\n            if (options.disableDates && options.disableDates(date)) {\n                date = null;\n                if (!that._old && !that.element.val()) {\n                    value = null;\n                }\n            }\n\n            if (+date === +current && isSameType) {\n                formattedValue = kendo.toString(date, options.format, options.culture);\n\n                if (formattedValue !== value ) {\n                    that.element.val(date === null ? value : formattedValue);\n                    if (value instanceof String) {\n                        that.element.trigger(CHANGE);\n                    }\n                }\n\n                return date;\n            }\n\n            if (date !== null && isEqualDatePart(date, min)) {\n                date = restrictValue(date, min, max);\n            } else if (!isInRange(date, min, max)) {\n                date = null;\n            }\n\n            that._value = date;\n            timeView.value(date);\n            that.dateView.value(date);\n\n            if (date) {\n                old = that._old;\n                timeViewOptions = timeView.options;\n                timeViewOptions.maxSet = false;\n\n                if (dates[0]) {\n                    dates = $.grep(dates, function(d) { return isEqualDatePart(date, d); });\n\n                    if (dates[0]) {\n                        timeView.dataBind(dates);\n                        skip = true;\n                    }\n                }\n\n                if (!skip) {\n                    if (isEqualDatePart(date, min)) {\n                        timeViewOptions.min = min;\n                        timeViewOptions.max = lastTimeOption(options.interval);\n                        rebind = true;\n                    }\n\n                    if (isEqualDatePart(date, max)) {\n                        if (that._midnight) {\n                            timeView.dataBind([MAX]);\n                            skip = true;\n                        } else {\n                            timeViewOptions.max = max;\n                            timeViewOptions.maxSet = true;\n                            if (!rebind) {\n                                timeViewOptions.min = MIN;\n                            }\n                            rebind = true;\n                        }\n                    }\n                }\n\n                if (!skip && ((!old && rebind) || (old && !isEqualDatePart(old, date)))) {\n                    if (!rebind) {\n                        timeViewOptions.max = MAX;\n                        timeViewOptions.min = MIN;\n                    }\n\n                    timeView.bind();\n                }\n            }\n            if (that._dateInput) {\n                if (date) {\n                    that._dateInput.value(date);\n                }\n            } else {\n                that.element.val(kendo.toString(date || value, options.format, options.culture));\n            }\n            that._updateARIA(date);\n\n            return date;\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                dateView = that.dateView,\n                timeView = that.timeView,\n                value = that.element.val(),\n                isDateViewVisible = that.options.singlePopup ? that.popup.visible() : dateView.popup.visible();\n            var stopPropagation = that._dateInput && e.stopImmediatePropagation;\n            if (e.altKey && e.keyCode === kendo.keys.DOWN) {\n                that.toggle(isDateViewVisible ? \"time\" : \"date\");\n            } else if (isDateViewVisible) {\n                dateView.move(e);\n                that._updateARIA(dateView._current);\n            } else if (!that.options.singlePopup && timeView.popup.visible()) {\n                timeView.move(e);\n            } else if (e.keyCode === kendo.keys.ENTER && value !== that._oldText) {\n                that._change(value);\n            } else {\n                that._typing = true;\n                stopPropagation = false;\n            }\n            if (stopPropagation) {\n                e.stopImmediatePropagation();\n            }\n        },\n\n        _views: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                id = element.attr(\"id\"),\n                dateView, timeView,\n                div, ul, msMin,\n                date,\n                timeDiv,\n                omitPopup,\n                timeViewOptions;\n\n            if (options.singlePopup) {\n                options.dateDiv = that.popup.element.find(\".k-datetime-calendar-wrap\");\n                timeDiv = that.popup.element.find(\".k-datetime-time-wrap\");\n                options.omitPopup = omitPopup = true;\n                timeViewOptions = options.timeView;\n            }\n\n            that.dateView = dateView = new kendo.DateView(extend({}, options, {\n                id: id,\n                anchor: that.wrapper,\n                change: function() {\n                    var value = that._applyDateValue();\n\n                    if(options.singlePopup){\n                        if (!that.timeView._currentlySelected) {\n                            that.timeView._currentlySelected = new Date();\n                        }\n                        that.timeView._currentlySelected.setFullYear(value.getFullYear());\n                        that.timeView._currentlySelected.setMonth(value.getMonth());\n                        that.timeView._currentlySelected.setDate(value.getDate());\n                        that._switchToTimeView();\n                        that._toggleIcons();\n                    } else {\n                        that._change(value);\n                        that.close(\"date\");\n                    }\n                },\n                close: function(e) {\n                    if (that.trigger(CLOSE, dateViewParams)) {\n                        e.preventDefault();\n                    } else {\n                        element.attr(ARIA_EXPANDED, false);\n                        div.attr(ARIA_HIDDEN, true);\n\n                        if (!that.options.singlePopup && !timeView.popup.visible()) {\n                            if(element && element.length) {\n                                element[0].removeAttribute(ARIA_OWNS);\n                            }\n                        }\n                    }\n                },\n                open:  function(e) {\n                    if (that.trigger(OPEN, dateViewParams)) {\n                        e.preventDefault();\n                    } else {\n\n                        if (element.val() !== that._oldText) {\n                            date = parse(element.val(), options.parseFormats, options.culture);\n\n                            that.dateView[date ? \"current\" : \"value\"](date);\n                        }\n\n                        div.attr(ARIA_HIDDEN, false);\n                        element.attr(ARIA_EXPANDED, true)\n                               .attr(ARIA_OWNS, dateView._dateViewID);\n\n                        that._updateARIA(date);\n                    }\n                }\n            }));\n            div = dateView.div;\n\n            msMin = options.min.getTime();\n            that.timeView = timeView = new TimeView({\n                id: id,\n                value: options.value,\n                size: options.size,\n                anchor: that.wrapper,\n                animation: options.animation,\n                format: options.timeFormat,\n                culture: options.culture,\n                height: options.componentType === \"modern\" ? null : options.height,\n                interval: options.interval,\n                min: options.componentType === \"modern\" ? options.min : new DATE(MIN),\n                max: options.componentType === \"modern\" ? options.max : new DATE(MAX),\n                dates: msMin === options.max.getTime() ? [new Date(msMin)] : [],\n                parseFormats: options.parseFormats,\n                validateDate: true,\n                change: function(value, trigger) {\n                    value = that._applyTimeValue(value);\n\n                    if (trigger) {\n                        that._timeSelected = true;\n                        that._change(value);\n                    } else {\n                        element.val(kendo.toString(value, options.format, options.culture));\n                        dateView.value(value);\n                        that._updateARIA(value);\n                    }\n                },\n                close: function(e) {\n                    if (that.trigger(CLOSE, timeViewParams)) {\n                        e.preventDefault();\n                    } else {\n                        ul.attr(ARIA_HIDDEN, true);\n                        element.attr(ARIA_EXPANDED, false);\n\n                        if (!dateView.popup.visible()) {\n                            if(element && element.length) {\n                                element[0].removeAttribute(ARIA_OWNS);\n                            }\n                        }\n                    }\n                },\n                open:  function(e) {\n                    if (that.options.componentType !==\"modern\") {\n                        timeView._adjustListWidth();\n                    } else {\n                        that.timeView._updateTitle();\n                    }\n\n                    if (that.trigger(OPEN, timeViewParams)) {\n                        e.preventDefault();\n                    } else {\n                        if (element.val() !== that._oldText) {\n                            date = parse(element.val(), options.parseFormats, options.culture);\n\n                            that.timeView.value(date);\n                        }\n\n                        ul.attr(ARIA_HIDDEN, false);\n                        element.attr(ARIA_EXPANDED, true)\n                               .attr(ARIA_OWNS, timeView._timeViewID);\n\n                        timeView.options.active(timeView.current());\n                    }\n                },\n                active: function(current) {\n                    if(element && element.length) {\n                        element[0].removeAttribute(ARIA_ACTIVEDESCENDANT);\n                    }\n                    if (current) {\n                        element.attr(ARIA_ACTIVEDESCENDANT, timeView._optionID);\n                    }\n                },\n                popup: options.popup,\n                useValueToRender: true,\n                specifiedRange: that._specifiedRange,\n                omitPopup: omitPopup,\n                timeDiv: timeDiv,\n                timeView: timeViewOptions,\n                messages: that.options.messages\n            });\n            ul = timeView.ul;\n        },\n\n        _applyDateValue: function () {\n            var that = this;\n            var options = that.options;\n            var dateView = that.dateView;\n            var value = dateView.calendar.value();\n            var msValue = +value;\n            var msMin = +options.min;\n            var msMax = +options.max;\n            var current, adjustedDate;\n\n            if (msValue === msMin || msValue === msMax) {\n                current = msValue === msMin ? msMin : msMax;\n                current = new DATE(that._value || current);\n                current.setFullYear(value.getFullYear(), value.getMonth(), value.getDate());\n\n                if (isInRange(current, msMin, msMax)) {\n                    value = current;\n                }\n            }\n\n            if (that._value) {\n\n                adjustedDate = kendo.date.setHours(new Date(value), that._value);\n\n                if (isInRange(adjustedDate, msMin, msMax)) {\n                    value = adjustedDate;\n                }\n            }\n\n            return value;\n        },\n\n        _applyTimeValue: function(value){\n            var timeView = this.timeView;\n            var options = this.options;\n\n            value = timeView._parse(value);\n\n            if (value < options.min) {\n                value = new DATE(+options.min);\n                timeView.options.min = value;\n            } else if (value > options.max) {\n                value = new DATE(+options.max);\n                timeView.options.max = value;\n            }\n\n            return value;\n        },\n\n        _icons: function() {\n            var that = this;\n            var element = that.element;\n            var options = that.options;\n            var icons;\n\n            icons = that.wrapper.find(\"button.k-input-button\");\n\n            if (!icons[0]) {\n                that._dateIcon = $(html.renderButton('<button unselectable=\"on\" tabindex=\"-1\" class=\"k-input-button\" aria-label=\"' + options.dateButtonText + '\"></button>', {\n                    icon: \"calendar\",\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    shape: null,\n                    rounded: null\n                })).insertAfter(element);\n                that._timeIcon = $(html.renderButton('<button unselectable=\"on\" tabindex=\"-1\" class=\"k-input-button\" aria-label=\"' + options.timeButtonText + '\"></button>', {\n                    icon: \"clock\",\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    shape: null,\n                    rounded: null\n                })).insertAfter(element);\n            }\n\n            that._dateIcon.attr(\"aria-controls\", that.dateView._dateViewID);\n            that._timeIcon.attr(\"aria-controls\", that.timeView._timeViewID);\n\n            if (options.singlePopup) {\n                that._timeIcon.hide();\n            }\n        },\n\n        _wrapper: function() {\n            var that = this,\n            element = that.element,\n            wrapper;\n\n            wrapper = element.parents(\".k-datetimepicker\");\n\n            if (!wrapper[0]) {\n                wrapper = element.wrap(SPAN).parent();\n            }\n\n            wrapper[0].style.cssText = element[0].style.cssText;\n            element.css({\n                width: \"100%\",\n                height: element[0].style.height\n            });\n\n            that.wrapper = wrapper.addClass(\"k-datetimepicker k-input\")\n                .addClass(element[0].className).removeClass('input-validation-error');\n        },\n\n        _reset: function() {\n            var that = this,\n                element = that.element,\n                formId = element.attr(\"form\"),\n                form = formId ? $(\"#\" + formId) : element.closest(\"form\"),\n                options = that.options,\n                disabledDate = options.disableDates,\n                parseFormats = options.parseFormats.length ? options.parseFormats : null,\n                optionsValue = that._initialOptions.value,\n                initialValue = element[0].defaultValue;\n\n            if (optionsValue && (disabledDate && disabledDate(optionsValue))) {\n                optionsValue = null;\n            }\n\n            if ((!initialValue || !kendo.parseDate(initialValue, parseFormats, options.culture)) && optionsValue) {\n                element.attr(\"value\", kendo.toString(optionsValue, options.format, options.culture));\n            }\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    that.value(optionsValue || element[0].defaultValue);\n                    that.max(that._initialOptions.max);\n                    that.min(that._initialOptions.min);\n                };\n\n                that._form = form.on(\"reset\", that._resetHandler);\n            }\n        },\n\n        _template: function() {\n            this._ariaTemplate = kendo.template(this.options.ARIATemplate).bind(this);\n        },\n\n        _createDateInput: function(options) {\n            if (this._dateInput) {\n                this._dateInput.destroy();\n                this._dateInput = null;\n            }\n\n            if (options.dateInput ) {\n                this._dateInput = new ui.DateInput(this.element, {\n                    culture: options.culture,\n                    format: options.format,\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    rounded: options.rounded,\n                    min: options.min,\n                    max: options.max,\n                    interval: options.interval\n                });\n            }\n        },\n\n        _calculateMidnight: function(min, max) {\n            return getMilliseconds(min) + getMilliseconds(max) === 0;\n        },\n\n        _updateARIA: function(date) {\n            var that = this;\n            var calendar = that.dateView.calendar;\n\n            if (that.element && that.element.length) {\n                that.element[0].removeAttribute(ARIA_ACTIVEDESCENDANT);\n            }\n\n            if (calendar) {\n                that.element.attr(ARIA_ACTIVEDESCENDANT, calendar._updateAria(that._ariaTemplate, date));\n            }\n        },\n        _popup: function(){\n            var that = this;\n            var options = that.options;\n            var div = $(\"<div></div>\").attr(ARIA_HIDDEN, \"true\")\n                .addClass(\"k-datetime-container k-group k-reset\")\n                .appendTo(document.body);\n\n            div.append(kendo.template(SINGLE_POPUP_TEMPLATE)(extend({}, that.options, {\n                buttonSize: kendo.getValidCssClass(\"k-button-\", \"size\", that.options.size)\n            })));\n            that.popup = new ui.Popup(div, extend(options.popup, options, {\n                name: \"Popup\",\n                isRtl: kendo.support.isRtl(that.wrapper),\n                anchor: that.wrapper,\n                activate: function () {\n                    if (that.options.timeView && that.options.timeView.list === \"scroll\") {\n                        that.timeView.addTranslate();\n                        that.timeView.applyValue(that._value);\n                        that.timeView._updateRanges();\n                    }\n                },\n                open: function(e){\n                    if (that.trigger(OPEN, {view: this.element.find('.k-date-tab').length ? 'date' : 'time', sender: that})) {\n                        e.preventDefault();\n                    }\n                    that.timeView._updateTitle();\n                }\n            }));\n\n            div.on(CLICK + ns, \".k-datetime-buttongroup .k-button\", that._groupChangeClick.bind(that));\n            div.on(CLICK + ns, \".k-datetime-footer button.k-time-cancel\", that._cancelClickHandler.bind(that));\n            div.on(CLICK + ns, \".k-datetime-footer button.k-time-accept\", that._setClickHandler.bind(that));\n        },\n\n        _groupChangeClick: function(e) {\n            preventDefault(e);\n            var button =  $(e.currentTarget);\n            var index = button.index();\n\n            if (index) {\n                this._switchToTimeView();\n            } else {\n                this._switchToDateView();\n            }\n            this._toggleIcons();\n        },\n\n        _switchToDateView: function() {\n            this.popup.element.find(\".k-group-start, .k-group-end\").removeClass(STATE_SELECTED).eq(0).addClass(STATE_SELECTED);\n            this.popup.element.find(\".k-datetime-wrap\").removeClass(\"k-time-tab\").addClass(\"k-date-tab\");\n        },\n\n        _switchToTimeView: function() {\n            this.timeView.addTranslate();\n            this.timeView.applyValue(this._value);\n            this.timeView._updateRanges();\n            this.popup.element.find(\".k-group-start, .k-group-end\").removeClass(STATE_SELECTED).eq(1).addClass(STATE_SELECTED);\n            this.popup.element.find(\".k-datetime-wrap\").removeClass(\"k-date-tab\").addClass(\"k-time-tab\");\n        },\n\n        _toggleIcons: function() {\n            this._dateIcon.toggle();\n            this._timeIcon.toggle();\n        },\n\n        _cancelClickHandler: function (e) {\n            preventDefault(e);\n            if (this._value) {\n                this.value(this._value);\n                this.dateView.value(this._value);\n            }\n            this.popup.close();\n        },\n\n        _setClickHandler: function(e) {\n            preventDefault(e);\n            var value = this._applyDateValue();\n            var time;\n\n            value = value || new Date();\n            time = this.timeView._currentlySelected || value;\n            this.timeView._updateCurrentlySelected();\n            value.setHours(time.getHours());\n            value.setMinutes(time.getMinutes());\n            value.setSeconds(time.getSeconds());\n            value = this._applyTimeValue(value);\n\n            this._change(value);\n            this.popup.close();\n        }\n    });\n\n    function lastTimeOption(interval) {\n        var date = new Date(2100, 0, 1);\n        date.setMinutes(-interval);\n        return date;\n    }\n\n    function preventDefault(e) {\n        e.preventDefault();\n    }\n\n    function normalize(options) {\n        var patterns = kendo.getCulture(options.culture).calendars.standard.patterns,\n            parseFormats = !options.parseFormats.length,\n            timeFormat;\n\n        options.format = extractFormat(options.format || patterns.g);\n        options.timeFormat = timeFormat = extractFormat(options.timeFormat || patterns.t);\n        kendo.DateView.normalize(options);\n\n        if (parseFormats) {\n           options.parseFormats.unshift(\"yyyy-MM-ddTHH:mm:ss\");\n        }\n\n        if ($.inArray(timeFormat, options.parseFormats) === -1) {\n            options.parseFormats.push(timeFormat);\n        }\n    }\n\n    kendo.cssProperties.registerPrefix(\"DateTimePicker\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"DateTimePicker\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    ui.plugin(DateTimePicker);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.splitter',[ \"kendo.resizable\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"splitter\",\n    name: \"Splitter\",\n    category: \"web\",\n    description: \"The Splitter widget provides an easy way to create a dynamic layout of resizable and collapsible panes.\",\n    depends: [ \"resizable\" ]\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        keys = kendo.keys,\n        extend = $.extend,\n        Widget = ui.Widget,\n        pxUnitsRegex = /^\\d+(\\.\\d+)?px$/i,\n        percentageUnitsRegex = /^\\d+(\\.\\d+)?%$/i,\n        NS = \".kendoSplitter\",\n        EXPAND = \"expand\",\n        COLLAPSE = \"collapse\",\n        CONTENTLOAD = \"contentLoad\",\n        ERROR = \"error\",\n        RESIZE = \"resize\",\n        LAYOUTCHANGE = \"layoutChange\",\n        HORIZONTAL = \"horizontal\",\n        VERTICAL = \"vertical\",\n        MOUSEENTER = \"mouseenter\",\n        CLICK = \"click\",\n        PANE = \"pane\",\n        MOUSELEAVE = \"mouseleave\",\n        FOCUSED = \"k-state-focused\",\n        KPANE = \"k-\" + PANE,\n        PANECLASS = \".\" + KPANE,\n        TABINDEX = \"tabindex\",\n        ARIA_VALUEMIN = \"aria-valuemin\",\n        ARIA_VALUEMAX = \"aria-valuemax\",\n        ARIA_VALUENOW = \"aria-valuenow\",\n        ARIA_CONTROLS = \"aria-controls\",\n        ARIA_LABEL = \"aria-label\",\n        ARIA_LABELLEDBY = \"aria-labelledby\",\n        ARIA_ORIENTATION = \"aria-orientation\";\n\n    function isPercentageSize(size) {\n        return percentageUnitsRegex.test(size);\n    }\n\n    function isPixelSize(size) {\n        return pxUnitsRegex.test(size) || /^\\d+$/.test(size);\n    }\n\n    function isFluid(size) {\n        return !isPercentageSize(size) && !isPixelSize(size);\n    }\n\n    function calculateSize(size, total) {\n        var output = parseInt(size, 10);\n\n        if (isPercentageSize(size)) {\n            output = Math.floor(output * total / 100);\n        }\n\n        return output;\n    }\n\n    function panePropertyAccessor(propertyName, triggersResize) {\n        return function(pane, value) {\n            var paneConfig = this.element.find(pane).data(PANE);\n\n            if (arguments.length == 1) {\n                return paneConfig[propertyName];\n            }\n\n            paneConfig[propertyName] = value;\n\n            if (triggersResize) {\n                var splitter = this.element.data(\"kendo\" + this.options.name);\n                splitter.resize(true);\n            }\n        };\n    }\n\n    var Splitter = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                isHorizontal;\n\n            Widget.fn.init.call(that, element, options);\n\n            that.wrapper = that.element;\n\n            if(that.options.orientation){\n                isHorizontal = that.options.orientation.toLowerCase() != VERTICAL;\n            }\n\n            that.orientation = isHorizontal ? HORIZONTAL : VERTICAL;\n            that._dimension = isHorizontal ? \"width\" : \"height\";\n            that._keys = {\n                decrease: isHorizontal ? keys.LEFT : keys.UP,\n                increase: isHorizontal ? keys.RIGHT : keys.DOWN\n            };\n\n            that._resizeStep = 10;\n\n            that._marker = kendo.guid().substring(0, 8);\n\n            that._initPanes();\n\n            that.resizing = new PaneResizing(that);\n\n            that.element.triggerHandler(\"init\" + NS);\n        },\n        events: [\n            EXPAND,\n            COLLAPSE,\n            CONTENTLOAD,\n            ERROR,\n            RESIZE,\n            LAYOUTCHANGE\n        ],\n\n        _addOverlays: function() {\n            this._panes().append(\"<div class='k-splitter-overlay k-overlay' />\");\n        },\n\n        _removeOverlays: function() {\n            this._panes().children(\".k-splitter-overlay\").remove();\n        },\n\n        _attachEvents: function() {\n            var that = this,\n                orientation = that.options.orientation;\n\n            // do not use delegated events to increase performance of nested elements\n            that.element\n                .children(\".k-splitbar-draggable-\" + orientation)\n                    .on(\"keydown\" + NS, that._keydown.bind(that))\n                    .on(\"mousedown\" + NS, function(e) { e.currentTarget.focus(); })\n                    .on(\"focus\" + NS, function(e) { $(e.currentTarget).addClass(FOCUSED);  })\n                    .on(\"blur\" + NS, function(e) { $(e.currentTarget).removeClass(FOCUSED);\n                        if (that.resizing) {\n                            that.resizing.end();\n                        }\n                    })\n                    .on(MOUSEENTER + NS, function() { $(this).addClass(\"k-splitbar-\" + that.orientation + \"-hover\"); })\n                    .on(MOUSELEAVE + NS, function() { $(this).removeClass(\"k-splitbar-\" + that.orientation + \"-hover\"); })\n                    .on(\"mousedown\" + NS, that._addOverlays.bind(that))\n                .end()\n                .children(\".k-splitbar\")\n                    .on(\"dblclick\" + NS, that._togglePane.bind(that))\n                    .children(\".k-collapse-next, .k-collapse-prev\").on(CLICK + NS, that._arrowClick(COLLAPSE)).end()\n                    .children(\".k-expand-next, .k-expand-prev\").on(CLICK + NS, that._arrowClick(EXPAND)).end()\n                .end();\n\n            $(window).on(\"resize\" + NS + that._marker, that.resize.bind(that, false));\n            $(document).on(\"mouseup\" + NS + that._marker, that._removeOverlays.bind(that));\n        },\n\n        _detachEvents: function() {\n            var that = this;\n\n            that.element\n                .children(\".k-splitbar-draggable-\" + that.orientation).off(NS).end()\n                .children(\".k-splitbar\").off(\"dblclick\" + NS)\n                    .children(\".k-collapse-next, .k-collapse-prev, .k-expand-next, .k-expand-prev\").off(NS);\n\n            $(window).off(NS + that._marker);\n            $(document).off(NS + that._marker);\n        },\n\n        options: {\n            name: \"Splitter\",\n            orientation: HORIZONTAL,\n            panes: []\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            this._detachEvents();\n\n            if (this.resizing) {\n                this.resizing.destroy();\n            }\n\n            kendo.destroy(this.element);\n\n            this.wrapper = this.element = null;\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode,\n                resizing = that.resizing,\n                target = $(e.currentTarget),\n                navigationKeys = that._keys,\n                increase = key === navigationKeys.increase,\n                decrease = key === navigationKeys.decrease,\n                pane;\n\n            if (increase || decrease) {\n                if (e.ctrlKey) {\n                    pane = target[decrease ? \"next\" : \"prev\"]();\n\n                    if (resizing && resizing.isResizing()) {\n                        resizing.end();\n                    }\n\n                    if (!pane[that._dimension]()) {\n                        that._triggerAction(EXPAND, pane);\n                    } else {\n                        that._triggerAction(COLLAPSE, target[decrease ? \"prev\" : \"next\"]());\n                    }\n                } else if (resizing) {\n                    resizing.move((decrease ? -1 : 1) * that._resizeStep, target);\n                }\n                e.preventDefault();\n            } else if (key === keys.HOME) {\n                pane = target.prev();\n                that.collapse(pane);\n                e.preventDefault();\n            } else if (key === keys.END) {\n                pane = target.prev();\n                that.expand(pane);\n                e.preventDefault();\n            } else if (key === keys.ENTER && resizing) {\n                resizing.end();\n                e.preventDefault();\n            }\n        },\n\n        _initPanes: function() {\n            var panesConfig = this.options.panes || [];\n            var that = this;\n\n            this.element\n                .addClass(\"k-widget\").addClass(\"k-splitter\")\n                .children()\n                    .each(function(i, pane) {\n                        if (pane.nodeName.toLowerCase() != \"script\") {\n                            that._initPane(pane, panesConfig[i]);\n                        }\n                    });\n\n            this.resize();\n        },\n\n        _initPane: function(pane, config) {\n            pane = $(pane)\n                .attr(\"role\", \"group\")\n                .addClass(KPANE);\n\n            pane.data(PANE, config ? config : {})\n                .toggleClass(\"k-scrollable\", config ? config.scrollable !== false : true);\n\n            this.ajaxRequest(pane);\n        },\n\n        ajaxRequest: function(pane, url, data) {\n            var that = this,\n                paneConfig;\n\n            pane = that.element.find(pane);\n            paneConfig = pane.data(PANE);\n\n            url = url || paneConfig.contentUrl;\n\n            if (url) {\n                pane.append(\"<span class='k-icon k-i-loading k-pane-loading' />\");\n\n                if (kendo.isLocalUrl(url)) {\n                    jQuery.ajax({\n                        url: url,\n                        data: data || {},\n                        type: \"GET\",\n                        dataType: \"html\",\n                        success: function (data) {\n                            that.angular(\"cleanup\", function(){ return { elements: pane.get() }; });\n                            pane.html(data);\n                            that.angular(\"compile\", function(){ return { elements: pane.get() }; });\n\n                            that.trigger(CONTENTLOAD, { pane: pane[0] });\n                        },\n                        error: function (xhr, status) {\n                            that.trigger(ERROR, {\n                                pane: pane[0],\n                                status: status,\n                                xhr: xhr\n                            });\n                        }\n                    });\n                } else {\n                    pane.removeClass(\"k-scrollable\")\n                        .html(\"<iframe src='\" + url + \"' frameborder='0' class='k-content-frame'>\" +\n                                \"This page requires frames in order to show content\" +\n                              \"</iframe>\");\n                }\n            }\n        },\n\n        _triggerAction: function(type, pane) {\n            if (!this.trigger(type, { pane: pane[0] })) {\n                this[type](pane[0]);\n            }\n        },\n\n        _togglePane: function(e) {\n            var that = this,\n                target = $(e.target),\n                arrow;\n\n            if (target.closest(\".k-splitter\")[0] != that.element[0]) {\n                return;\n            }\n\n            arrow = target.children(\".k-icon:not(.k-resize-handle)\");\n\n            if (arrow.length !== 1) {\n                return;\n            }\n\n            if (arrow.is(\".k-collapse-prev\")) {\n                that._triggerAction(COLLAPSE, target.prev());\n            } else if (arrow.is(\".k-collapse-next\")) {\n                that._triggerAction(COLLAPSE, target.next());\n            } else if (arrow.is(\".k-expand-prev\")) {\n                that._triggerAction(EXPAND, target.prev());\n            } else if (arrow.is(\".k-expand-next\")) {\n                that._triggerAction(EXPAND, target.next());\n            }\n        },\n        _arrowClick: function (arrowType) {\n            var that = this;\n\n            return function(e) {\n                var target = $(e.target),\n                    pane;\n\n                if (target.closest(\".k-splitter\")[0] != that.element[0]) {\n                    return;\n                }\n\n                if (target.is(\".k-\" + arrowType + \"-prev\")) {\n                    pane = target.parent().prev();\n                } else {\n                    pane = target.parent().next();\n                }\n                that._triggerAction(arrowType, pane);\n            };\n        },\n        _updateSplitBar: function(splitbar, previousPane, nextPane, previousPaneEl) {\n            var catIconIf = function(iconType, condition) {\n                   return condition ? \"<div class='k-icon \" + iconType + \"'></div>\" : \"\";\n                },\n                orientation = this.orientation,\n                draggable = (previousPane.resizable !== false) && (nextPane.resizable !== false),\n                prevCollapsible = previousPane.collapsible,\n                prevCollapsed = previousPane.collapsed,\n                nextCollapsible = nextPane.collapsible,\n                nextCollapsed = nextPane.collapsed,\n                previousPaneId = previousPaneEl.attr(\"id\");\n\n            if(!previousPaneId) {\n                previousPaneId = kendo.guid();\n                previousPaneEl.attr(\"id\", previousPaneId);\n            }\n\n            splitbar.addClass(\"k-splitbar k-splitbar-\" + orientation)\n                    .attr(\"role\", \"separator\")\n                    .attr(ARIA_VALUEMIN, \"0\")\n                    .attr(ARIA_VALUEMAX, \"100\")\n                    .attr(ARIA_CONTROLS, previousPaneId)\n                    .removeClass(\"k-splitbar-\" + orientation + \"-hover\")\n                    .toggleClass(\"k-splitbar-draggable-\" + orientation,\n                        draggable && !prevCollapsed && !nextCollapsed)\n                    .toggleClass(\"k-splitbar-static-\" + orientation,\n                        !draggable && !prevCollapsible && !nextCollapsible)\n                    .html(\n                        catIconIf(\"k-collapse-prev k-i-arrow-60-up\", prevCollapsible && !prevCollapsed && !nextCollapsed && orientation == VERTICAL) +\n                        catIconIf(\"k-collapse-prev k-i-arrow-60-left\", prevCollapsible && !prevCollapsed && !nextCollapsed && orientation == HORIZONTAL) +\n                        catIconIf(\"k-expand-prev k-i-arrow-60-down\", prevCollapsible && prevCollapsed && !nextCollapsed && orientation == VERTICAL) +\n                        catIconIf(\"k-expand-prev k-i-arrow-60-right\", prevCollapsible && prevCollapsed && !nextCollapsed && orientation == HORIZONTAL) +\n                        catIconIf(\"k-resize-handle k-i-hbar\", draggable && orientation == VERTICAL) +\n                        catIconIf(\"k-resize-handle k-i-vbar\", draggable && orientation == HORIZONTAL) +\n                        catIconIf(\"k-collapse-next k-i-arrow-60-down\", nextCollapsible && !nextCollapsed && !prevCollapsed && orientation == VERTICAL) +\n                        catIconIf(\"k-collapse-next k-i-arrow-60-right\", nextCollapsible && !nextCollapsed && !prevCollapsed && orientation == HORIZONTAL) +\n                        catIconIf(\"k-expand-next k-i-arrow-60-up\", nextCollapsible && nextCollapsed && !prevCollapsed && orientation == VERTICAL) +\n                        catIconIf(\"k-expand-next k-i-arrow-60-left\", nextCollapsible && nextCollapsed && !prevCollapsed && orientation == HORIZONTAL)\n                    );\n\n            if(previousPane.labelId) {\n                splitbar.attr(ARIA_LABELLEDBY, previousPane.labelId);\n            } else if(previousPane.label) {\n                splitbar.attr(ARIA_LABEL, previousPane.label);\n            }\n\n            if(orientation == HORIZONTAL) {\n                splitbar.attr(ARIA_ORIENTATION, VERTICAL);\n            }\n\n            if (!draggable && !prevCollapsible && !nextCollapsible) {\n                splitbar.removeAttr(TABINDEX);\n            }\n        },\n        _updateSplitBars: function() {\n            var that = this;\n\n            this.element.children(\".k-splitbar\").each(function() {\n                var splitbar = $(this),\n                    previousPaneEl = splitbar.prevAll(PANECLASS).first(),\n                    previousPane = previousPaneEl.data(PANE),\n                    nextPane = splitbar.nextAll(PANECLASS).first().data(PANE);\n\n                if (!nextPane) {\n                    return;\n                }\n\n                that._updateSplitBar(splitbar, previousPane, nextPane, previousPaneEl);\n            });\n        },\n        _removeSplitBars: function() {\n            this.element.children(\".k-splitbar\").remove();\n        },\n        _panes: function() {\n            if (!this.element) {\n                return $();\n            }\n            return this.element.children(PANECLASS);\n        },\n\n        _resetAriaValueNow: function(splitBars, panesSizes) {\n            var i, splitbar, valueNow, joinDimension;\n\n            for(i = 0; i < splitBars.length; i++) {\n                joinDimension = (panesSizes[i] + panesSizes[i + 1]) || 1;\n                valueNow = Math.round(panesSizes[i] / joinDimension * 100);\n                splitbar = splitBars[i];\n                splitbar.setAttribute(ARIA_VALUENOW, valueNow);\n            }\n        },\n\n        _resize: function() {\n            var that = this,\n                element = that.element,\n                panes = element.children(PANECLASS),\n                isHorizontal = that.orientation == HORIZONTAL,\n                splitBars = element.children(\".k-splitbar\"),\n                splitBarsCount = splitBars.length,\n                sizingProperty = isHorizontal ? \"width\" : \"height\",\n                totalSize = element[sizingProperty](),\n                panesSizes = [];\n\n            that.wrapper.addClass(\"k-splitter-resizing\");\n\n            if (splitBarsCount === 0) {\n                splitBarsCount = panes.length - 1;\n                panes.slice(0, splitBarsCount)\n                     .after(\"<div tabindex='0' class='k-splitbar' data-marker='\" + that._marker + \"' />\");\n\n                that._updateSplitBars();\n                splitBars = element.children(\".k-splitbar\");\n            } else {\n                that._updateSplitBars();\n            }\n\n            // discard splitbar sizes from total size\n            splitBars.each(function() {\n                totalSize -= this[isHorizontal ? \"offsetWidth\" : \"offsetHeight\"];\n            });\n\n            var sizedPanesWidth = 0,\n                sizedPanesCount = 0,\n                freeSizedPanes = $();\n\n            panes.css({ position: \"absolute\", top: 0 })\n                [sizingProperty](function() {\n                    var element = $(this),\n                        config = element.data(PANE) || {}, size;\n\n                    element.removeClass(\"k-state-collapsed\");\n                    if (config.collapsed) {\n                        size = config.collapsedSize ? calculateSize(config.collapsedSize, totalSize) : 0;\n                        element.css(\"overflow\", \"hidden\").addClass(\"k-state-collapsed\");\n                    } else if (isFluid(config.size)) {\n                        freeSizedPanes = freeSizedPanes.add(this);\n                        panesSizes.push(false);\n                        return;\n                    } else { // sized in px/%, not collapsed\n                        size = calculateSize(config.size, totalSize);\n                    }\n\n                    sizedPanesCount++;\n                    sizedPanesWidth += size;\n                    panesSizes.push(size);\n\n                    return size;\n                });\n\n            totalSize -= sizedPanesWidth;\n\n            var freeSizePanesCount = freeSizedPanes.length,\n                freeSizePaneWidth = Math.floor(totalSize / freeSizePanesCount);\n\n            freeSizedPanes\n                .slice(0, freeSizePanesCount - 1)\n                    .css(sizingProperty, freeSizePaneWidth)\n                .end()\n                .eq(freeSizePanesCount - 1)\n                    .css(sizingProperty, totalSize - (freeSizePanesCount - 1) * freeSizePaneWidth);\n\n            panesSizes.forEach(function(size, i) {\n                if(size === false) {\n                    panesSizes[i] = freeSizePaneWidth;\n                }\n            });\n\n            that._resetAriaValueNow(splitBars, panesSizes);\n\n            // arrange panes\n            var sum = 0,\n                alternateSizingProperty = isHorizontal ? \"height\" : \"width\",\n                positioningProperty = isHorizontal ? \"left\" : \"top\",\n                sizingDomProperty = isHorizontal ? \"offsetWidth\" : \"offsetHeight\";\n\n            if (freeSizePanesCount === 0) {\n                var lastNonCollapsedPane = panes.filter(function() {\n                    return !(($(this).data(PANE) || {}).collapsed);\n                }).last();\n\n                lastNonCollapsedPane[sizingProperty](totalSize + lastNonCollapsedPane[0][sizingDomProperty]);\n            }\n\n            element.children()\n                .css(alternateSizingProperty, element[alternateSizingProperty]())\n                .each(function (i, child) {\n                    if (child.tagName.toLowerCase() != \"script\") {\n                        child.style[positioningProperty] = Math.floor(sum) + \"px\";\n                        sum += child[sizingDomProperty];\n                    }\n                });\n\n            that._detachEvents();\n            that._attachEvents();\n\n            that.wrapper.removeClass(\"k-splitter-resizing\");\n\n            kendo.resize(panes);\n            that.trigger(LAYOUTCHANGE);\n        },\n\n        toggle: function(pane, expand) {\n            var that = this,\n                paneConfig;\n\n            pane = that.element.find(pane);\n            paneConfig = pane.data(PANE);\n\n            if (!expand && !paneConfig.collapsible) {\n                return;\n            }\n\n            if (arguments.length == 1) {\n                expand = paneConfig.collapsed === undefined ? false : paneConfig.collapsed;\n            }\n\n            paneConfig.collapsed = !expand;\n\n            if (paneConfig.collapsed) {\n                pane.css(\"overflow\", \"hidden\");\n            } else {\n                pane.css(\"overflow\", \"\");\n            }\n\n            that.resize(true);\n        },\n\n        collapse: function(pane) {\n            this.toggle(pane, false);\n        },\n\n        expand: function(pane) {\n            this.toggle(pane, true);\n        },\n\n        _addPane: function(config, idx, paneElement) {\n            var that = this;\n\n            if (paneElement.length) {\n                that.options.panes.splice(idx, 0, config);\n                that._initPane(paneElement, config);\n\n                that._removeSplitBars();\n\n                that.resize(true);\n            }\n\n            return paneElement;\n        },\n\n        append: function(config) {\n            config = config || {};\n\n            var that = this,\n                paneElement = $(\"<div />\").appendTo(that.element);\n\n            return that._addPane(config, that.options.panes.length, paneElement);\n        },\n\n        insertBefore: function(config, referencePane) {\n            referencePane = $(referencePane);\n            config = config || {};\n\n            var that = this,\n                idx = that.wrapper.children(\".k-pane\").index(referencePane),\n                paneElement = $(\"<div />\").insertBefore($(referencePane));\n\n            return that._addPane(config, idx, paneElement);\n        },\n\n        insertAfter: function(config, referencePane) {\n            referencePane = $(referencePane);\n            config = config || {};\n\n            var that = this,\n                idx = that.wrapper.children(\".k-pane\").index(referencePane),\n                paneElement = $(\"<div />\").insertAfter($(referencePane));\n\n            return that._addPane(config, idx + 1, paneElement);\n        },\n\n        remove: function(pane) {\n            var that = this;\n            pane = that.wrapper.find(pane);\n\n            if (pane.length) {\n                kendo.destroy(pane);\n                pane.each(function(idx, element){\n                    that.options.panes.splice(that.wrapper.children(\".k-pane\").index(element), 1);\n                    $(element).remove();\n                });\n\n                that._removeSplitBars();\n\n                if (that.options.panes.length) {\n                    that.resize(true);\n                }\n            }\n\n            return that;\n        },\n\n        size: panePropertyAccessor(\"size\", true),\n\n        min: panePropertyAccessor(\"min\"),\n\n        max: panePropertyAccessor(\"max\")\n    });\n\n    ui.plugin(Splitter);\n\n    var verticalDefaults = {\n            sizingProperty: \"height\",\n            sizingDomProperty: \"offsetHeight\",\n            alternateSizingProperty: \"width\",\n            positioningProperty: \"top\",\n            mousePositioningProperty: \"pageY\"\n        };\n\n    var horizontalDefaults = {\n            sizingProperty: \"width\",\n            sizingDomProperty: \"offsetWidth\",\n            alternateSizingProperty: \"height\",\n            positioningProperty: \"left\",\n            mousePositioningProperty: \"pageX\"\n        };\n\n    function PaneResizing(splitter) {\n        var that = this,\n            orientation = splitter.orientation;\n\n        that.owner = splitter;\n        that._element = splitter.element;\n        that.orientation = orientation;\n\n        extend(that, orientation === HORIZONTAL ? horizontalDefaults : verticalDefaults);\n\n        that._resizable = new kendo.ui.Resizable(splitter.element, {\n            orientation: orientation,\n            handle: \".k-splitbar-draggable-\" + orientation + \"[data-marker=\" + splitter._marker + \"]\",\n            hint: that._createHint.bind(that),\n            start: that._start.bind(that),\n            max: that._max.bind(that),\n            min: that._min.bind(that),\n            invalidClass:\"k-restricted-size-\" + orientation,\n            resizeend: that._stop.bind(that)\n        });\n    }\n\n    PaneResizing.prototype = {\n        press: function(target) {\n            this._resizable.press(target);\n        },\n\n        move: function(delta, target) {\n            if (!this.pressed) {\n                this.press(target);\n                this.pressed = true;\n            }\n\n            if (!this._resizable.target) {\n                this._resizable.press(target);\n            }\n\n            this._resizable.move(delta);\n        },\n\n        end: function() {\n            this._resizable.end();\n            this.pressed = false;\n        },\n\n        destroy: function() {\n            this._resizable.destroy();\n            this._resizable = this._element = this.owner = null;\n        },\n\n        isResizing: function() {\n            return this._resizable.resizing;\n        },\n\n        _createHint: function(handle) {\n            var that = this;\n            return $(\"<div class='k-ghost-splitbar k-ghost-splitbar-\" + that.orientation + \"' />\")\n                        .css(that.alternateSizingProperty, handle[that.alternateSizingProperty]());\n        },\n\n        _start: function(e) {\n            var that = this,\n                splitbar = $(e.currentTarget),\n                previousPane = splitbar.prev(),\n                nextPane = splitbar.next(),\n                previousPaneConfig = previousPane.data(PANE),\n                nextPaneConfig = nextPane.data(PANE),\n                prevBoundary = parseInt(previousPane[0].style[that.positioningProperty], 10),\n                nextBoundary = parseInt(nextPane[0].style[that.positioningProperty], 10) + nextPane[0][that.sizingDomProperty] - splitbar[0][that.sizingDomProperty],\n                totalSize = parseInt(that._element.css(that.sizingProperty), 10),\n                toPx = function (value) {\n                    var val = parseInt(value, 10);\n                    return (isPixelSize(value) ? val : (totalSize * val) / 100) || 0;\n                },\n                prevMinSize = toPx(previousPaneConfig.min),\n                prevMaxSize = toPx(previousPaneConfig.max) || nextBoundary - prevBoundary,\n                nextMinSize = toPx(nextPaneConfig.min),\n                nextMaxSize = toPx(nextPaneConfig.max) || nextBoundary - prevBoundary;\n\n            that.previousPane = previousPane;\n            that.nextPane = nextPane;\n            that._maxPosition = Math.min(nextBoundary - nextMinSize, prevBoundary + prevMaxSize);\n            that._minPosition = Math.max(prevBoundary + prevMinSize, nextBoundary - nextMaxSize);\n        },\n        _max: function() {\n            return this._maxPosition;\n        },\n        _min: function() {\n            return this._minPosition;\n        },\n        _stop: function(e) {\n            var that = this,\n                splitbar = $(e.currentTarget),\n                owner = that.owner;\n\n            owner._panes().children(\".k-splitter-overlay\").remove();\n\n            if (e.keyCode !== kendo.keys.ESC) {\n                var ghostPosition = e.position,\n                    previousPane = splitbar.prev(),\n                    nextPane = splitbar.next(),\n                    previousPaneConfig = previousPane.data(PANE),\n                    nextPaneConfig = nextPane.data(PANE),\n                    previousPaneNewSize = ghostPosition - parseInt(previousPane[0].style[that.positioningProperty], 10),\n                    nextPaneNewSize = parseInt(nextPane[0].style[that.positioningProperty], 10) + nextPane[0][that.sizingDomProperty] - ghostPosition - splitbar[0][that.sizingDomProperty],\n                    fluidPanesCount = that._element.children(PANECLASS).filter(function() { return isFluid($(this).data(PANE).size); }).length;\n\n                if (!isFluid(previousPaneConfig.size) || fluidPanesCount > 1) {\n                    if (isFluid(previousPaneConfig.size)) {\n                        fluidPanesCount--;\n                    }\n\n                    previousPaneConfig.size = previousPaneNewSize + \"px\";\n                }\n\n                if (!isFluid(nextPaneConfig.size) || fluidPanesCount > 1) {\n                    nextPaneConfig.size = nextPaneNewSize + \"px\";\n                }\n\n                owner.resize(true);\n            }\n\n            return false;\n        }\n    };\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.dialog',[\"kendo.core\", \"kendo.popup\", \"kendo.textbox\"], f);\n})(function() {\n\n    var __meta__ = { // jshint ignore:line\n        id: \"dialog\",\n        name: \"Dialog\",\n        category: \"web\", // suite\n        description: \"The dialog widget is a modal popup that brings information to the user.\",\n        depends: [\"core\", \"popup\", \"textbox\"] // dependencies\n    };\n\n    (function($, undefined) {\n        var kendo = window.kendo,\n            Widget = kendo.ui.Widget,\n            TabKeyTrap = kendo.ui.Popup.TabKeyTrap,\n            template = kendo.template,\n            keys = kendo.keys,\n            isFunction = kendo.isFunction,\n            NS = \"kendoWindow\",\n            KDIALOG = \".k-dialog\",\n            KWINDOW = \".k-window\",\n            KICONCLOSE = \".k-dialog-close\",\n            KCONTENTCLASS = \"k-window-content k-dialog-content\",\n            KCONTENTSELECTOR = \".k-window-content\",\n            KSCROLL = \"k-scroll\",\n            KTITLELESS = \"k-dialog-titleless\",\n            KDIALOGTITLE = \".k-dialog-title\",\n            KDIALOGTITLEBAR =\".k-dialog-titlebar\",\n            KBUTTONGROUP = \".k-dialog-buttongroup\",\n            // KACTIONS = \".k-actions\",\n            KBUTTON = \".k-button\",\n            KALERT = \"k-alert\",\n            KCONFIRM = \"k-confirm\",\n            KPROMPT = \"k-prompt\",\n            KTEXTBOX = \".k-input-inner\",\n            KOVERLAY = \".k-overlay\",\n            VISIBLE = \":visible\",\n            ZINDEX = \"zIndex\",\n            BODY = \"body\",\n            INITOPEN = \"initOpen\",\n            TOUCHSTART = \"touchstart\",\n            TOUCHMOVE = \"touchmove\",\n            OPEN = \"open\",\n            CLOSE = \"close\",\n            SHOW = \"show\",\n            HIDE = \"hide\",\n            SIZE = {\n                small: \"k-window-sm\",\n                medium: \"k-window-md\",\n                large: \"k-window-lg\"\n            },\n            HIDDEN = \"hidden\",\n            OVERFLOW = \"overflow\",\n            DATADOCOVERFLOWRULE = \"original-overflow-rule\",\n            DATAHTMLTAPYRULE = \"tap-y\",\n            messages = {\n                okText  : \"OK\",\n                cancel : \"Cancel\",\n                promptInput: \"Input\"\n            },\n            ceil = Math.ceil,\n            templates,\n            overlaySelector = \":not(link,meta,script,style)\";\n\n        function defined(x) {\n            return (typeof x != \"undefined\");\n        }\n\n        function constrain(value, low, high) {\n            return Math.max(Math.min(parseInt(value, 10), high === Infinity ? high : parseInt(high, 10)), parseInt(low, 10));\n        }\n\n        function buttonKeyTrigger(e) {\n            return e.keyCode == keys.ENTER || e.keyCode == keys.SPACEBAR;\n        }\n\n        var DialogBase = Widget.extend({\n            init: function(element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, options);\n                that._init(that.element, that.options);\n                kendo.notify(that);\n            },\n\n            _init: function(element, options) {\n                var that = this,\n                    wrapper;\n\n                that._centerCallback = that._center.bind(that);\n\n                that.appendTo = $(BODY);\n                if (!defined(options.visible) || options.visible === null) {\n                    options.visible = element.is(VISIBLE);\n                }\n\n                if (that.wrapperTemplate === undefined) {\n                    that.wrapperTemplate = templates.wrapper;\n                }\n\n                that._createDialog();\n                wrapper = that.wrapper = element.closest(KDIALOG);\n\n                if (options._defaultFocus === undefined) {\n                    that._defaultFocus = element[0];\n                }\n\n                that._tabindex(element);\n                that._dimensions();\n\n                this._tabKeyTrap = new TabKeyTrap(wrapper);\n\n                if (!that.options.visible) {\n                    that.wrapper.hide();\n                } else {\n                    that._triggerOpen();\n                }\n            },\n\n            setOptions: function(options) {\n                var that = this;\n                var sizeClass = that.options.size;\n\n                options = $.extend(that.options, options);\n\n                Widget.fn.setOptions.call(that, options);\n\n                if (options.title !== undefined) {\n                    that.title(options.title);\n                }\n\n                if (options.content) {\n                    kendo.destroy(that.element.children());\n                    that.element.html(options.content);\n                }\n\n                if (options.actions) {\n                    that.wrapper.children(KBUTTONGROUP).remove();\n                    that._createActionbar(that.wrapper);\n                }\n\n                that.wrapper.show();\n                that._closable(that.wrapper);\n\n                that.wrapper.removeClass(SIZE[sizeClass]);\n                that._dimensions();\n\n                if (!options.visible) {\n                    that.wrapper.hide();\n                } else {\n                    that._triggerOpen();\n                }\n\n                if (typeof options.modal !== \"undefined\") {\n                    var visible = that.options.visible !== false;\n                    that._enableDocumentScrolling();\n                    that._overlay(options.modal && visible);\n                }\n            },\n\n            _dimensions: function() {\n                var that = this,\n                    wrapper = that.wrapper,\n                    options = that.options,\n                    width = options.width,\n                    height = options.height,\n                    sizeClass = options.size,\n                    dimensions = [\"minWidth\", \"minHeight\", \"maxWidth\", \"maxHeight\"];\n\n                for (var i = 0; i < dimensions.length; i++) {\n                    var value = options[dimensions[i]];\n                    if (value && value != Infinity) {\n                        wrapper.css(dimensions[i], value);\n                    }\n                }\n\n                this._setElementMaxHeight();\n\n                if (width) {\n                    if (width.toString().indexOf(\"%\") > 0) {\n                        wrapper.width(width);\n                    } else {\n                        wrapper.outerWidth(constrain(width, options.minWidth, options.maxWidth));\n                    }\n                }\n\n                if (height) {\n                    if (height.toString().indexOf(\"%\") > 0) {\n                        wrapper.height(height);\n                    } else {\n                        wrapper.outerHeight(constrain(height, options.minHeight, options.maxHeight));\n                    }\n\n                    this._setElementHeight();\n                }\n\n                if (sizeClass && SIZE[sizeClass]) {\n                    wrapper.addClass(SIZE[sizeClass]);\n                }\n            },\n\n            _setElementMaxHeight: function() {\n                var that = this,\n                    element = that.element,\n                    maxHeight = that.options.maxHeight,\n                    elementMaxHeight;\n\n                if (maxHeight != Infinity) {\n                    elementMaxHeight = parseFloat(maxHeight, 10) - that._uiHeight();\n                    if (elementMaxHeight > 0) {\n                        element.css({\n                            maxHeight: ceil(elementMaxHeight) + \"px\"\n                        });\n                    }\n                }\n\n            },\n\n            _setElementHeight: function() {\n                var that = this,\n                    element = that.element,\n                    height = that.wrapper.outerHeight(true),\n                    elementHeight = parseFloat(height, 10) - that._uiHeight();\n\n                if (elementHeight < 0) {\n                    elementHeight = 0;\n                }\n\n                element.css({\n                    height: ceil(elementHeight) + \"px\"\n                });\n\n                this._applyScrollClassName(element);\n\n            },\n\n            _applyScrollClassName: function(element) {\n                    var hasScroll = element.get(0).scrollHeight > element.outerHeight();\n\n                    if (hasScroll){\n                        element.addClass(KSCROLL);\n                    } else {\n                        element.removeClass(KSCROLL);\n                    }\n            },\n\n            _uiHeight: function() {\n                var that = this,\n                    wrapper = that.wrapper,\n                    actionbar = wrapper.children(KBUTTONGROUP),\n                    actionbarHeight = actionbar[0] && actionbar[0].offsetHeight || 0,\n                    titlebar = wrapper.children(KDIALOGTITLEBAR),\n                    titlebarHeight = titlebar[0] && titlebar[0].offsetHeight || 0;\n\n                return actionbarHeight + titlebarHeight;\n            },\n\n            _overlay: function(visible) {\n                var overlay = this.appendTo.children(KOVERLAY),\n                    wrapper = this.wrapper;\n\n\n                if (!overlay.length) {\n                    overlay = $(templates.overlay);\n                }\n\n                overlay\n                    .insertBefore(wrapper[0])\n                    .toggle(visible)\n                    .css(ZINDEX, parseInt(wrapper.css(ZINDEX), 10) - 1);\n\n                if (visible) {\n                    this._waiAriaOverlay();\n                }\n                else {\n                    this._removeWaiAriaOverlay();\n                }\n\n                if (this.options.modal.preventScroll) {\n                    this._stopDocumentScrolling();\n                }\n\n                return overlay;\n            },\n\n            _waiAriaOverlay: function() {\n                var node = this.wrapper;\n\n                this._overlayedNodes = node.prevAll(overlaySelector).add(node.nextAll(overlaySelector))\n                    .each(function() {\n                        var jthis = $(this);\n                        jthis.data(\"ariaHidden\", jthis.attr(\"aria-hidden\"));\n                        jthis.attr(\"aria-hidden\", \"true\");\n                    });\n            },\n\n            _removeWaiAriaOverlay: function() {\n                return this._overlayedNodes && this._overlayedNodes.each(function() {\n                    var node = $(this);\n                    var hiddenValue = node.data(\"ariaHidden\");\n                    if (hiddenValue) {\n                        node.attr(\"aria-hidden\", hiddenValue);\n                    }\n                    else {\n                        node.removeAttr(\"aria-hidden\");\n                    }\n                });\n            },\n\n            _closeClick: function(e) {\n                e.preventDefault();\n                this.close(false);\n            },\n\n            _closeKeyHandler: function(e) {\n                if (buttonKeyTrigger(e) || e.keyCode == keys.ESC) {\n                    this.close(false);\n                }\n            },\n\n            _keydown: function(e) {\n                var that = this,\n                    options = that.options,\n                    keyCode = e.keyCode;\n\n                if (keyCode == keys.ESC && !that._closing && options.closable) {\n                    that.close(false);\n                }\n            },\n\n            _createDialog: function() {\n                var that = this,\n                    content = that.element,\n                    options = that.options,\n                    isRtl = kendo.support.isRtl(content),\n                    titlebar = $(templates.titlebar(options)),\n                    titleId = (content.id || kendo.guid()) + \"_title\",\n                    wrapper = $(that.wrapperTemplate(options));\n\n                wrapper.toggleClass(\"k-rtl\", isRtl);\n\n                content.addClass(KCONTENTCLASS);\n                that.appendTo.append(wrapper);\n\n                if (options.title !== false) {\n                    wrapper.append(titlebar);\n                    titlebar.attr(\"id\", titleId);\n                    wrapper.attr(\"aria-labelledby\", titleId);\n                } else {\n                    wrapper.addClass(KTITLELESS);\n                }\n\n                that._closable(wrapper);\n\n                wrapper.append(content);\n\n                if (options.content) {\n                    kendo.destroy(content.children());\n                    content.html(options.content);\n                }\n\n                if (options.actions.length) {\n                    that._createActionbar(wrapper);\n                }\n            },\n\n            _closable: function (wrapper) {\n                var that = this;\n                var options = that.options;\n                var titlebar = wrapper.children(KDIALOGTITLEBAR);\n                var titlebarActions = titlebar.find(\".k-window-actions\");\n                var closeAction = titlebarActions.length ? titlebarActions.find(\".k-dialog-close\") : wrapper.find(\".k-dialog-close\");\n\n                closeAction.remove();\n\n                if (options.closable !== false) {\n                    if (options.title !== false && titlebarActions.length) {\n                        titlebarActions.append(templates.close(options));\n                    }\n                    else {\n                        wrapper.prepend(templates.close(options));\n                    }\n\n                    wrapper.autoApplyNS(NS);\n                    that.element.autoApplyNS(NS);\n\n                    wrapper.find(KICONCLOSE)\n                        .on(\"click\", that._closeClick.bind(that))\n                        .on(\"keydown\", that._closeKeyHandler.bind(that));\n\n                    that.element.on(\"keydown\", that._keydown.bind(that));\n                }\n            },\n\n            _createActionbar: function(wrapper) {\n                var isStretchedLayout = (this.options.buttonLayout === \"stretched\");\n                var buttonLayout = isStretchedLayout ? \"stretch\" : \"end\";\n                var actionbar = $(templates.actionbar({ buttonLayout: buttonLayout }));\n\n                this._addButtons(actionbar);\n                wrapper.append(actionbar);\n            },\n\n            _addButtons: function(actionbar) {\n                var that = this,\n                    actionClick = that._actionClick.bind(that),\n                    actionKeyHandler = that._actionKeyHandler.bind(that),\n                    actions = that.options.actions,\n                    length = actions.length,\n                    action,\n                    text;\n\n                for (var i = 0; i < length; i++) {\n                    action = actions[i];\n                    text = that._mergeTextWithOptions(action);\n\n                    $(templates.action(action))\n                        .autoApplyNS(NS)\n                        .html(text)\n                        .appendTo(actionbar)\n                        .addClass(action.cssClass)\n                        .data(\"action\", action.action)\n                        .on(\"click\", actionClick)\n                        .on(\"keydown\", actionKeyHandler);\n                }\n            },\n\n            _mergeTextWithOptions : function(action) {\n                var text = action.text;\n                return text ? template(text)(this.options) : \"\";\n            },\n\n            _tabindex: function(target) {\n                var that = this;\n                var wrapper = that.wrapper;\n                var closeBtn = wrapper.find(KICONCLOSE);\n                var actionButtons = wrapper.find(KBUTTONGROUP + \" \" + KBUTTON);\n\n                Widget.fn._tabindex.call(this, target);\n\n                var tabIndex = target.attr(\"tabindex\");\n\n                closeBtn.attr(\"tabIndex\", tabIndex);\n                actionButtons.attr(\"tabIndex\", tabIndex);\n            },\n\n            _actionClick: function(e) {\n                if (this.wrapper.is(VISIBLE)) {\n                    this._runActionBtn(e.currentTarget);\n                }\n            },\n\n            _actionKeyHandler: function(e) {\n                if (buttonKeyTrigger(e)) {\n                    e.preventDefault();\n                    this._runActionBtn(e.currentTarget);\n                } else if (e.keyCode == keys.ESC) {\n                    this.close(false);\n                }\n            },\n\n            _runActionBtn: function(target) {\n                var that = this;\n                if (that._closing) {\n                    return;\n                }\n\n                var action = $(target).data(\"action\"),\n                    preventClose = (isFunction(action) && action({ sender: that }) === false);\n\n                if (!preventClose) {\n                    that.close(false);\n                }\n            },\n\n            _triggerOpen: function() {\n                var that = this;\n                var options = that.options;\n                var wrapper = that.wrapper;\n\n                that.toFront();\n                that._triggerInitOpen();\n                that.trigger(OPEN);\n                if (options.modal) {\n                    that._overlay(wrapper.is(VISIBLE)).css({ opacity: 0.5 });\n                    that._focusDialog();\n                }\n            },\n\n            open: function() {\n                var that = this,\n                    wrapper = that.wrapper,\n                    showOptions = this._animationOptions(OPEN),\n                    options = that.options,\n                    overlay, otherModalsVisible;\n\n                this._triggerInitOpen();\n\n                if (!that.trigger(OPEN)) {\n                    if (that._closing) {\n                        wrapper.kendoStop(true, true);\n                    }\n\n                    that._closing = false;\n\n                    that.toFront();\n                    options.visible = true;\n                    if (options.modal) {\n                        otherModalsVisible = !!that._modals().length;\n                        overlay = that._overlay(otherModalsVisible);\n\n                        overlay.kendoStop(true, true);\n\n                        if (showOptions.duration && kendo.effects.Fade && !otherModalsVisible) {\n                            var overlayFx = kendo.fx(overlay).fadeIn();\n                            overlayFx.duration(showOptions.duration || 0);\n                            overlayFx.endValue(0.5);\n                            overlayFx.play();\n                        } else {\n                            overlay.css(\"opacity\", 0.5);\n                        }\n\n                        overlay.show();\n                    }\n\n                    wrapper.show().kendoStop().kendoAnimate({\n                        effects: showOptions.effects,\n                        duration: showOptions.duration,\n                        complete: that._openAnimationEnd.bind(that)\n                    });\n                    wrapper.show();\n\n                }\n\n                return that;\n            },\n\n            _animationOptions: function(id) {\n                var animation = this.options.animation;\n                var basicAnimation = {\n                    open: { effects: {} },\n                    close: { hide: true, effects: {} }\n                };\n\n                return animation && animation[id] || basicAnimation[id];\n            },\n\n            _openAnimationEnd: function() {\n                if (this.options.modal) {\n                    this._focusDialog();\n                }\n                this.trigger(SHOW);\n            },\n\n            _triggerInitOpen: function() {\n                if (!defined(this._initOpenTriggered)) {\n                    this._initOpenTriggered = true;\n                    this.trigger(INITOPEN);\n                }\n            },\n\n            toFront: function() {\n                var that = this,\n                    wrapper = that.wrapper,\n                    zIndex = +wrapper.css(ZINDEX),\n                    originalZIndex = zIndex;\n\n                that.center();\n\n                $(KWINDOW).each(function(i, element) {\n                    var windowObject = $(element),\n                        zIndexNew = windowObject.css(ZINDEX);\n\n                    if (!isNaN(zIndexNew)) {\n                        zIndex = Math.max(+zIndexNew, zIndex);\n                    }\n                });\n\n                if (!wrapper[0].style.zIndex || originalZIndex < zIndex) {\n                    wrapper.css(ZINDEX, zIndex + 2);\n                }\n\n                that.element.find(\"> .k-overlay\").remove();\n                wrapper = null;\n\n                return that;\n            },\n\n            close: function(systemTriggered) {\n                if(!arguments.length) {\n                    systemTriggered = true;\n                }\n\n                this._close(systemTriggered);\n                this._stopCenterOnResize();\n                return this;\n            },\n\n            _close: function(systemTriggered) {\n                var that = this,\n                    wrapper = that.wrapper,\n                    options = that.options,\n                    showOptions = this._animationOptions(\"open\"),\n                    hideOptions = this._animationOptions(\"close\");\n\n                if (wrapper.is(VISIBLE) && !that.trigger(CLOSE, { userTriggered: !systemTriggered })) {\n                    if (that._closing) {\n                        return;\n                    }\n                    that._closing = true;\n\n                    options.visible = false;\n                    this._removeOverlay();\n\n                    wrapper.kendoStop().kendoAnimate({\n                        effects: hideOptions.effects || showOptions.effects,\n                        reverse: hideOptions.reverse === true,\n                        duration: hideOptions.duration,\n                        complete: this._closeAnimationEnd.bind(this)\n                    });\n                }\n\n                return that;\n            },\n\n            center: function() {\n                this._center();\n                this._centerOnResize();\n            },\n\n            _center: function() {\n                var that = this,\n                    wrapper = that.wrapper,\n                    documentWindow = $(window),\n                    scrollTop = 0,\n                    scrollLeft = 0,\n                    newLeft = scrollLeft + Math.max(0, (documentWindow.width() - wrapper.width()) / 2),\n                    newTop = scrollTop + Math.max(0, (documentWindow.height() - wrapper.height() - parseInt(wrapper.css(\"paddingTop\"), 10)) / 2);\n\n                wrapper.css({\n                    left: newLeft,\n                    top: newTop\n                });\n\n                return that;\n            },\n\n            _centerOnResize: function() {\n                if (this._trackResize) {\n                    return;\n                }\n\n                kendo.onResize(this._centerCallback);\n                this._trackResize = true;\n            },\n\n            _stopCenterOnResize: function() {\n                kendo.unbindResize(this._centerCallback);\n                this._trackResize = false;\n            },\n\n            _removeOverlay: function() {\n                var modals = this._modals();\n                var options = this.options;\n                var hideOverlay = options.modal && !modals.length;\n\n                if (hideOverlay) {\n                    this._overlay(false).remove();\n\n                    if (options.modal.preventScroll) {\n                        this._enableDocumentScrolling();\n                    }\n                } else if (modals.length) {\n                    this._object(modals.last())._overlay(true);\n\n                    if (options.modal.preventScroll) {\n                        this._stopDocumentScrolling();\n                    }\n                }\n            },\n\n            _stopDocumentScrolling: function(){\n                var that = this;\n\n                var $body = $(\"body\");\n                that._storeOverflowRule($body);\n                $body.css(OVERFLOW, HIDDEN);\n\n                var $html = $(\"html\");\n                var html = $html[0];\n                that._storeOverflowRule($html);\n                $html.css(OVERFLOW, HIDDEN);\n\n                // prevent touch due to bug in ios\n                if (kendo.support.mobileOS.ios) {\n                    html.addEventListener(TOUCHSTART, that._touchStart, { passive: false });\n                    html.addEventListener(TOUCHMOVE, that._touchMove, { passive: false });\n                }\n            },\n\n            _touchStart: function (e) {\n                $(this).data(DATAHTMLTAPYRULE, e.changedTouches[0].pageY);\n            },\n\n            _touchMove: function (e) {\n                var target = e.target;\n                var $target = $(e.target);\n                var upScroll = e.changedTouches[0].pageY - $(this).data(DATAHTMLTAPYRULE) > 0;\n                var preventYScroll = $target.is(KCONTENTSELECTOR) &&\n                    (upScroll && $target.scrollTop() === 0) ||\n                    (!upScroll && $target.scrollTop() === target.scrollHeight - target.clientHeight);\n                if (!$target.is(KCONTENTSELECTOR) || preventYScroll) {\n                    e.preventDefault();\n                }\n            },\n\n            _enableDocumentScrolling: function(){\n                var that = this;\n                var $body = $(document.body);\n                var $html = $(\"html\");\n                var html = $html[0];\n\n                that._restoreOverflowRule($body);\n                that._restoreOverflowRule($html);\n\n                if (kendo.support.mobileOS.ios) {\n                    $html.removeData(DATAHTMLTAPYRULE);\n                    html.removeEventListener(TOUCHSTART, that._touchStart, { passive: false });\n                    html.removeEventListener(TOUCHMOVE, that._touchMove, { passive: false });\n                }\n            },\n\n            _storeOverflowRule: function($element){\n                if(this._isOverflowStored($element)){\n                    return;\n                }\n\n                var overflowRule = $element.get(0).style.overflow;\n\n                if(typeof overflowRule === \"string\"){\n                    $element.data(DATADOCOVERFLOWRULE, overflowRule);\n                }\n            },\n\n            _isOverflowStored: function ($element){\n                return typeof $element.data(DATADOCOVERFLOWRULE) === \"string\";\n            },\n\n            _restoreOverflowRule: function($element){\n                var overflowRule = $element.data(DATADOCOVERFLOWRULE);\n\n                if(overflowRule !== null && overflowRule !== undefined){\n                    $element.css(OVERFLOW, overflowRule);\n                    $element.removeData(DATADOCOVERFLOWRULE);\n                } else {\n                    $element.css(OVERFLOW, \"\");\n                }\n            },\n\n            _closeAnimationEnd: function() {\n                var that = this;\n\n                that._closing = false;\n                that.wrapper.hide().css(\"opacity\", \"\");\n                that.trigger(HIDE);\n\n                if (that.options.modal) {\n                    var lastModal = that._object(that._modals().last());\n                    if (lastModal) {\n                        lastModal.toFront();\n                    }\n                }\n            },\n\n            _modals: function() {\n                var that = this;\n\n                var zStack = $(KWINDOW).filter(function() {\n                    var modal = that._object($(this));\n\n                    return modal &&\n                        modal.options &&\n                        modal.options.modal &&\n                        modal.options.visible &&\n                        modal.options.appendTo === that.options.appendTo &&\n                        !modal.containment &&\n                        $(modal.element).is(VISIBLE);\n                }).sort(function(a, b) {\n                    return +$(a).css(\"zIndex\") - +$(b).css(\"zIndex\");\n                });\n\n                that = null;\n\n                return zStack;\n            },\n\n            _object: function(element) {\n                var content = element.children(KCONTENTSELECTOR);\n                var widget = kendo.widgetInstance(content);\n\n                if (widget) {\n                    return widget;\n                }\n\n                return undefined;\n            },\n\n            destroy: function() {\n                var that = this;\n                that._destroy();\n\n                Widget.fn.destroy.call(that);\n\n                kendo.destroy(that.wrapper);\n\n                that.wrapper.remove();\n                that.wrapper = that.element = $();\n            },\n\n            _destroy: function() {\n                var that = this;\n                var ns = \".\" + NS;\n\n                that.wrapper.off(ns);\n                that.element.off(ns);\n                that.wrapper.find(KICONCLOSE + \",\" + KBUTTONGROUP + \" > \" + KBUTTON).off(ns);\n                that._stopCenterOnResize();\n            },\n\n            title: function(html) {\n                var that = this,\n                    wrapper = that.wrapper,\n                    options = that.options,\n                    titlebar = wrapper.children(KDIALOGTITLEBAR),\n                    title = titlebar.children(KDIALOGTITLE),\n                    encodedHtml = kendo.htmlEncode(html);\n\n                if (!arguments.length) {\n                    return title.html();\n                }\n\n                if (html === false) {\n                    titlebar.remove();\n                    wrapper.addClass(KTITLELESS);\n                } else {\n                    if (!titlebar.length) {\n                        titlebar = $(templates.titlebar(options)).prependTo(wrapper);\n                        title = titlebar.children(KDIALOGTITLE);\n                        wrapper.removeClass(KTITLELESS);\n                    }\n                    title.html(encodedHtml);\n                }\n\n                that.options.title = encodedHtml;\n\n                return that;\n            },\n\n            content: function(html, data) {\n                var that = this,\n                    content = that.wrapper.children(KCONTENTSELECTOR);\n\n                if (!defined(html)) {\n                    return content.html();\n                }\n\n                this.angular(\"cleanup\", function(){\n                    return { elements: content.children() };\n                });\n\n                kendo.destroy(content.children());\n                content.html(html);\n\n                this.angular(\"compile\", function(){\n                    var a = [];\n                    for (var i = content.length; --i >= 0;) {\n                        a.push({ dataItem: data });\n                    }\n                    return {\n                        elements: content.children(),\n                        data: a\n                    };\n                });\n\n                that.options.content = html;\n\n                return that;\n            },\n\n            _focusDialog: function() {\n                if (this._defaultFocus) {\n                    this._focus(this._defaultFocus);\n                }\n                this._tabKeyTrap.trap();\n            },\n\n            _focus: function(node) {\n                if (node) {\n                    node.focus();\n                }\n            },\n\n            events: [\n                INITOPEN,\n                OPEN,\n                CLOSE,\n                SHOW,\n                HIDE\n            ],\n\n            options: {\n                title: \"\",\n                buttonLayout: \"stretched\",\n                actions: [],\n                modal: true,\n                size: \"auto\",\n                width: null,\n                height: null,\n                minWidth: 0,\n                minHeight: 0,\n                maxWidth: Infinity,\n                maxHeight: Infinity,\n                content: null,\n                visible: null,\n                appendTo: BODY,\n                closable: true\n            }\n        });\n\n        var Dialog = DialogBase.extend({\n            options: {\n                name: \"Dialog\",\n                messages: {\n                    close: \"Close\"\n                }\n            }\n        });\n\n        kendo.ui.plugin(Dialog);\n\n        var PopupBox = DialogBase.extend({\n            _init: function(element, options) {\n                var that = this;\n\n                that.wrapperTemplate = templates.alertWrapper;\n                options._defaultFocus = null;\n                that._ensureContentId(element);\n\n                DialogBase.fn._init.call(that, element, options);\n\n                that.bind(HIDE, that.destroy.bind(that));\n\n                that._ariaDescribedBy();\n                that._initFocus();\n            },\n\n            _ensureContentId: function(element) {\n                var node = $(element);\n                if(!node.attr(\"id\")) {\n                    node.attr(\"id\", kendo.guid() + \"_k-popup\");\n                }\n            },\n\n            _ariaDescribedBy: function() {\n                this.wrapper.attr(\"aria-describedby\", this.element.attr(\"id\"));\n            },\n\n            _initFocus: function() {\n                var o = this.options;\n\n                this._defaultFocus = this._chooseEntryFocus();\n                if (this._defaultFocus && o.visible && o.modal) {\n                    this._focusDialog();\n                }\n            },\n\n            _chooseEntryFocus: function() {\n                return this.wrapper.find(KBUTTONGROUP + \" > \" + KBUTTON)[0];\n            },\n\n            options: {\n                title: window.location.host,\n                closable: false,\n                messages: messages\n            }\n        });\n\n        var Alert = PopupBox.extend({\n            _init: function(element, options) {\n                var that = this;\n                PopupBox.fn._init.call(that, element, options);\n                that.wrapper.addClass(KALERT);\n            },\n\n            options: {\n                name: \"Alert\",\n                modal: true,\n                actions: [{\n                    text: \"#: messages.okText #\"\n                }]\n            }\n        });\n\n        kendo.ui.plugin(Alert);\n\n        var kendoAlert = function(text) {\n            return $(templates.alert).kendoAlert({ content: text }).data(\"kendoAlert\").open();\n        };\n\n        var Confirm = PopupBox.extend({\n            _init: function(element, options) {\n                var that = this;\n                PopupBox.fn._init.call(that, element, options);\n                that.wrapper.addClass(KCONFIRM);\n                that.result = $.Deferred();\n            },\n\n            options: {\n                name: \"Confirm\",\n                modal: true,\n                actions: [{\n                    text: \"#: messages.okText #\",\n                    primary: true,\n                    action: function(e) {\n                        e.sender.result.resolve();\n                    }\n                }, {\n                    text: \"#: messages.cancel #\",\n                    action: function(e) {\n                        e.sender.result.reject();\n                    }\n                }]\n            }\n        });\n\n        kendo.ui.plugin(Confirm);\n\n        var kendoConfirm = function(text) {\n            var confirmDialog = $(templates.confirm).kendoConfirm({ content: text }).data(\"kendoConfirm\").open();\n            return confirmDialog.result;\n        };\n\n        var Prompt = PopupBox.extend({\n            _init: function(element, options) {\n                var that = this;\n                PopupBox.fn._init.call(that, element, options);\n                that.wrapper.addClass(KPROMPT);\n                that._createPrompt();\n                that.result = $.Deferred();\n            },\n\n            _createPrompt: function() {\n                var value = this.options.value,\n                    promptContainer = $(templates.promptInputContainer(this.options)).insertAfter(this.element);\n\n                this.input = new kendo.ui.TextBox(promptContainer.find(\"input\"));\n\n                if (value) {\n                    this.input.value(value);\n                }\n\n                this._defaultFocus = this._chooseEntryFocus();\n                this._focusDialog();\n            },\n\n            _chooseEntryFocus: function() {\n                return this.wrapper.find(KTEXTBOX)[0];\n            },\n\n            options: {\n                name: \"Prompt\",\n                modal: true,\n                value: \"\",\n                actions: [{\n                    text: \"#: messages.okText #\",\n                    primary: true,\n                    action: function(e) {\n                        var sender = e.sender,\n                            value = sender.input.value();\n\n                        sender.result.resolve(value);\n                    }\n                }, {\n                    text: \"#: messages.cancel #\",\n                    action: function(e) {\n                        var sender = e.sender,\n                            value = sender.input.value();\n\n                        e.sender.result.reject(value);\n                    }\n                }]\n            }\n        });\n\n        kendo.ui.plugin(Prompt);\n\n        var kendoPrompt = function(text, value) {\n            var promptDialog = $(templates.prompt).kendoPrompt({\n                content: text,\n                value: value\n            }).data(\"kendoPrompt\").open();\n\n            return promptDialog.result;\n        };\n\n        templates = {\n            wrapper: template(\"<div class='k-widget k-window k-dialog' role='dialog'></div>\"),\n            action: template(\"<button type='button' class='k-button k-button-md k-rounded-md k-button-solid # if (data.primary) { # k-button-solid-primary # } else { # k-button-solid-base # } #' role='button'></button>\"),\n            titlebar: template(\n                \"<div class='k-window-titlebar k-dialog-titlebar k-hstack'>\" +\n                    \"<span class='k-window-title k-dialog-title'>#: title #</span>\" +\n                    \"<div class='k-window-actions k-dialog-actions k-hstack'></div>\" +\n                \"</div>\"\n            ),\n            close: template(\"<a role='button' href='\\\\#' class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-window-action k-dialog-action k-dialog-close' title='#: messages.close #' aria-label='#: messages.close #' tabindex='-1'>\" +\n                \"<span class='k-button-icon k-icon k-i-close'></span></a>\"),\n            actionbar: template(\"<div class='k-dialog-buttongroup k-actions k-hstack k-justify-content-#: buttonLayout #' role='toolbar'></div>\"),\n            overlay: \"<div class='k-overlay'></div>\",\n            alertWrapper: template(\"<div class='k-widget k-window k-dialog' role='alertdialog'></div>\"),\n            alert: \"<div></div>\",\n            confirm: \"<div></div>\",\n            prompt: \"<div></div>\",\n            promptInputContainer: template(\"<div class='k-prompt-container'><input type='text' title='#: messages.promptInput #' aria-label='#: messages.promptInput #' /></div>\")\n        };\n\n        kendo.alert = kendoAlert;\n        kendo.confirm = kendoConfirm;\n        kendo.prompt = kendoPrompt;\n\n    })(window.kendo.jQuery);\n\n    return window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.window',[ \"kendo.draganddrop\", \"kendo.popup\"], f);\n})(function(){\n\n    var __meta__ = { // jshint ignore:line\n        id: \"window\",\n        name: \"Window\",\n        category: \"web\",\n        description: \"The Window widget displays content in a modal or non-modal HTML window.\",\n        depends: [ \"draganddrop\", \"popup\" ],\n        features: [ {\n            id: \"window-fx\",\n            name: \"Animation\",\n            description: \"Support for animation\",\n            depends: [ \"fx\" ]\n        } ]\n    };\n\n    (function($, undefined) {\n        var kendo = window.kendo,\n            Widget = kendo.ui.Widget,\n            TabKeyTrap = kendo.ui.Popup.TabKeyTrap,\n            Draggable = kendo.ui.Draggable,\n            isPlainObject = $.isPlainObject,\n            activeElement = kendo._activeElement,\n            outerWidth = kendo._outerWidth,\n            outerHeight = kendo._outerHeight,\n            extend = $.extend,\n            each = $.each,\n            template = kendo.template,\n            BODY = \"body\",\n            templates,\n            NS = \".kendoWindow\",\n            MODAL_NS = \".kendoWindowModal\",\n            // classNames\n            KWINDOW = \".k-window\",\n            KWINDOWTITLE = \".k-window-title\",\n            KWINDOWTITLEBAR = KWINDOWTITLE + \"bar\",\n            KWINDOWCONTENT = \".k-window-content\",\n            KDIALOGCONTENT = \".k-dialog-content\",\n            KWINDOWRESIZEHANDLES = \".k-resize-handle\",\n            KOVERLAY = \".k-overlay\",\n            KCONTENTFRAME = \"k-content-frame\",\n            LOADING = \"k-i-loading\",\n            KHOVERSTATE = \"k-hover\",\n            KFOCUSEDSTATE = \"k-state-focused\",\n            MAXIMIZEDSTATE = \"k-window-maximized\",\n            INLINE_FLEX = \"k-display-inline-flex\",\n            // constants\n            VISIBLE = \":visible\",\n            HIDDEN = \"hidden\",\n            CURSOR = \"cursor\",\n            // events\n            OPEN = \"open\",\n            ACTIVATE = \"activate\",\n            DEACTIVATE = \"deactivate\",\n            CLOSE = \"close\",\n            REFRESH = \"refresh\",\n            MINIMIZE = \"minimize\",\n            MAXIMIZE = \"maximize\",\n            RESIZESTART = \"resizeStart\",\n            RESIZE = \"resize\",\n            RESIZEEND = \"resizeEnd\",\n            DRAGSTART = \"dragstart\",\n            DRAGEND = \"dragend\",\n            RESTORE = \"restore\",\n            KENDOKEYDOWN = \"kendoKeydown\",\n            ERROR = \"error\",\n            OVERFLOW = \"overflow\",\n            DATADOCOVERFLOWRULE = \"original-overflow-rule\",\n            ZINDEX = \"zIndex\",\n            MINIMIZE_MAXIMIZE = \".k-window-actions .k-i-window-minimize,.k-window-actions .k-i-window-maximize\",\n            KPIN = \".k-i-pin\",\n            KUNPIN = \".k-i-unpin\",\n            PIN_UNPIN = KPIN + \",\" + KUNPIN,\n            TITLEBAR_BUTTONS = \".k-window-titlebar .k-window-action\",\n            REFRESHICON = \".k-window-titlebar .k-i-refresh\",\n            WINDOWEVENTSHANDLED = \"WindowEventsHandled\",\n            zero = /^0[a-z]*$/i,\n            isLocalUrl = kendo.isLocalUrl,\n            SIZE = {\n                small: \"k-window-sm\",\n                medium: \"k-window-md\",\n                large: \"k-window-lg\"\n            };\n\n        function defined(x) {\n            return (typeof x != \"undefined\");\n        }\n\n        function toInt(element, property) {\n            return parseInt(element.css(property), 10) || 0;\n        }\n\n        function constrain(value, low, high) {\n            var normalizedValue;\n\n            if (value && isNaN(value) && value.toString().indexOf(\"px\") < 0) {\n                normalizedValue = value;\n            } else {\n                normalizedValue = Math.max(\n                    Math.min(parseInt(value, 10), high === Infinity ? high : parseInt(high, 10)),\n                    low === -Infinity ? low : parseInt(low, 10)\n                );\n            }\n\n            return normalizedValue;\n        }\n\n        function executableScript() {\n            return !this.type || this.type.toLowerCase().indexOf(\"script\") >= 0;\n        }\n\n\n        function getPosition(elem) {\n            var result = { top: elem.offsetTop, left: elem.offsetLeft },\n                parent = elem.offsetParent;\n\n            while (parent) {\n                result.top += parent.offsetTop;\n                result.left += parent.offsetLeft;\n\n                var parentOverflowX = $(parent).css(\"overflowX\");\n                var parentOverflowY = $(parent).css(\"overflowY\");\n\n                if (parentOverflowY === \"auto\" || parentOverflowY === \"scroll\") {\n                    result.top -= parent.scrollTop;\n                }\n\n                if (parentOverflowX === \"auto\" || parentOverflowX === \"scroll\") {\n                    result.left -= parent.scrollLeft;\n                }\n\n                parent = parent.offsetParent;\n            }\n\n            return result;\n        }\n\n        var Window = Widget.extend({\n            init: function(element, options) {\n                var that = this,\n                    wrapper,\n                    offset = {},\n                    visibility, display, position,\n                    isVisible = false,\n                    content,\n                    windowContent,\n                    windowFrame,\n                    globalWindow,\n                    suppressActions = options && options.actions && !options.actions.length,\n                    id;\n\n                Widget.fn.init.call(that, element, options);\n                options = that.options;\n                position = options.position;\n                element = that.element;\n                content = options.content;\n                globalWindow = $(window);\n\n                if (suppressActions) {\n                    options.actions = [];\n                }\n\n                that.appendTo = $(options.appendTo);\n\n                that.containment = options.draggable.containment ? $(options.draggable.containment).first() : null;\n\n                if (content && !isPlainObject(content)) {\n                    content = options.content = { url: content };\n                }\n\n                // remove script blocks to prevent double-execution\n                element.find(\"script\").filter(executableScript).remove();\n\n                if (!element.parent().is(that.appendTo) && !that.containment && (position.top === undefined || position.left === undefined)) {\n                    if (element.is(VISIBLE)) {\n                        offset = element.offset();\n                        isVisible = true;\n                    } else {\n                        visibility = element.css(\"visibility\");\n                        display = element.css(\"display\");\n\n                        element.css({ visibility: HIDDEN, display: \"\" });\n\n                        if (document.body.contains(element[0])) {\n                            offset = element.offset();\n                        } else {\n                            offset = { top: 0, left: 0 };\n                        }\n\n                        element.css({ visibility: visibility, display: display });\n                    }\n\n                    if (position.top === undefined) {\n                        position.top = offset.top;\n                    }\n                    if (position.left === undefined) {\n                        position.left = offset.left;\n                    }\n                }\n\n                if (!defined(options.visible) || options.visible === null) {\n                    options.visible = element.is(VISIBLE);\n                }\n\n                wrapper = that.wrapper = element.closest(KWINDOW);\n\n                if (!element.is(\".k-window-content\") || !wrapper[0]) {\n                    element.addClass(\"k-window-content\");\n                    that._createWindow(element, options);\n                    wrapper = that.wrapper = element.closest(KWINDOW);\n\n                    that.title(that.options.title);\n                    that._dimensions();\n                }\n\n                that.minTop = that.minLeft = -Infinity;\n                that.maxTop = that.maxLeft = Infinity;\n                that._position();\n\n                if (content) {\n                    that.refresh(content);\n                }\n\n                if (options.visible) {\n                    that.toFront(null, !options.modal);\n                }\n\n                windowContent = wrapper.children(KWINDOWCONTENT);\n\n                if (options.visible && options.modal) {\n                    that._overlay(wrapper.is(VISIBLE)).css({ opacity: 0.5 });\n                }\n\n                wrapper\n                    .on(\"mouseenter\" + NS, TITLEBAR_BUTTONS, that._buttonEnter.bind(that))\n                    .on(\"mouseleave\" + NS, TITLEBAR_BUTTONS, that._buttonLeave.bind(that))\n                    .on(\"click\" + NS, \"> \" + TITLEBAR_BUTTONS, that._windowActionHandler.bind(that))\n                    .on(\"keydown\" + NS, that, that._keydown.bind(that))\n                    .on(\"focus\" + NS, that._focus.bind(that))\n                    .on(\"blur\" + NS, that._blur.bind(that));\n\n                windowContent\n                    .on(\"keydown\" + NS, that, that._keydownContent.bind(that));\n\n                windowFrame = windowContent.find(\".\" + KCONTENTFRAME)[0];\n\n                if(windowFrame && !globalWindow.data(WINDOWEVENTSHANDLED)){\n\n                    globalWindow.on(\"blur\" + NS, function(){\n                        var element = $(document.activeElement).parent(KWINDOWCONTENT);\n                        if (element.length) {\n                            var windowInstance = kendo.widgetInstance(element);\n                            windowInstance._focus();\n                        }\n                    });\n\n                    globalWindow.on(\"focus\" + NS, function(){\n                        $(KWINDOWCONTENT).not(KDIALOGCONTENT).each(function(i, element){\n                            kendo.widgetInstance($(element))._blur();\n                        });\n                    });\n\n                    globalWindow.data(WINDOWEVENTSHANDLED, true);\n                }\n\n                this._resizable();\n\n                this._draggable();\n\n                if (options.pinned && this.wrapper.is(\":visible\")) {\n                    that.pin();\n                }\n\n                id = element.attr(\"id\");\n                if (id) {\n                    id = id + \"_wnd_title\";\n                    wrapper.attr({\n                            \"role\": \"dialog\",\n                            \"aria-labelledby\": id\n                        }).children(KWINDOWTITLEBAR)\n                        .children(KWINDOWTITLE)\n                        .attr(\"id\", id);\n                }\n\n                wrapper.add(wrapper.children(\".k-resize-handle,\" + KWINDOWTITLEBAR))\n                    .on(kendo.support.mousedown + NS, that.toFront.bind(that));\n\n                that.touchScroller = kendo.touchScroller(element);\n\n                that._resizeHandler = that._onDocumentResize.bind(that);\n\n                that._marker = kendo.guid().substring(0, 8);\n\n                $(window).on(\"resize\" + NS + that._marker, that._resizeHandler);\n\n                if (options.visible) {\n                    that.trigger(OPEN);\n                    that.trigger(ACTIVATE);\n                }\n\n                kendo.notify(that);\n\n                if(this.options.modal) {\n                    this._tabKeyTrap = new TabKeyTrap(wrapper);\n                    this._tabKeyTrap.trap();\n                    this._tabKeyTrap.shouldTrap = function () {\n                        return wrapper.data(\"isFront\");\n                    };\n                }\n            },\n\n            _buttonEnter: function(e) {\n                $(e.currentTarget).addClass(KHOVERSTATE);\n            },\n\n            _buttonLeave: function(e) {\n                $(e.currentTarget).removeClass(KHOVERSTATE);\n            },\n\n            _focus: function() {\n                this.wrapper.addClass(KFOCUSEDSTATE);\n            },\n\n            _blur: function() {\n                this.wrapper.removeClass(KFOCUSEDSTATE);\n            },\n\n            _dimensions: function() {\n                var wrapper = this.wrapper;\n                var options = this.options;\n                var width = options.width;\n                var height = options.height;\n                var maxHeight = options.maxHeight;\n                var sizeClass = options.size;\n                var dimensions = [\"minWidth\",\"minHeight\",\"maxWidth\",\"maxHeight\"];\n                var contentBoxSizing = wrapper.css(\"box-sizing\") == \"content-box\";\n\n                var lrBorderWidth = contentBoxSizing ? toInt(wrapper, \"border-left-width\") + toInt(wrapper, \"border-right-width\") : 0;\n                var tbBorderWidth = contentBoxSizing ? toInt(wrapper, \"border-top-width\") + toInt(wrapper, \"border-bottom-width\") : 0;\n                var paddingTop = contentBoxSizing ? toInt(wrapper, \"padding-top\") : 0;\n\n                if (this.containment && !this._isPinned) {\n                    this._updateBoundaries();\n                    options.maxHeight = Math.min(this.containment.height - (tbBorderWidth + paddingTop), maxHeight);\n                    options.maxWidth = Math.min(this.containment.width - lrBorderWidth, options.maxWidth);\n                }\n\n                for (var i = 0; i < dimensions.length; i++) {\n                    var value = options[dimensions[i]] || \"\";\n                    if (value != Infinity) {\n                        wrapper.css(dimensions[i], value);\n                    }\n                }\n\n                if (maxHeight != Infinity) {\n                    this.element.css(\"maxHeight\", maxHeight);\n                }\n\n                if (width) {\n                    wrapper.outerWidth(constrain(width, options.minWidth, options.maxWidth));\n                }\n                else {\n                    wrapper.outerWidth(\"\");\n                }\n\n                if (height) {\n                    wrapper.outerHeight(constrain(height, options.minHeight, options.maxHeight));\n                }\n                else {\n                    wrapper.outerHeight(\"\");\n                }\n\n                if (!options.visible) {\n                    wrapper.removeClass(INLINE_FLEX).hide();\n                }\n\n                if (sizeClass && SIZE[sizeClass]) {\n                    wrapper.addClass(SIZE[sizeClass]);\n                }\n            },\n\n            _position: function() {\n                var wrapper = this.wrapper,\n                    position = this.options.position,\n                    containmentTop, containmentLeft;\n\n                this._updateBoundaries();\n\n                if (this.containment) {\n                    position.top = position.top || 0;\n                    position.left = position.left || 0;\n\n                    containmentTop = position.top.toString().indexOf(\"%\") > 0 ?\n                        parseInt(this.containment.height * (parseFloat(position.top) / 100), 10) :\n                        position.top;\n\n                    containmentLeft = position.left.toString().indexOf(\"%\") > 0 ?\n                        parseInt(this.containment.width * (parseFloat(position.left) / 100), 10) :\n                        position.left;\n\n                    position.top = constrain(containmentTop, this.minTop, this.maxTop);\n                    position.left = constrain(containmentLeft, this.minLeft, this.maxLeft);\n                }\n\n                if (position.top && position.top.toString().indexOf(\"px\") > 0) {\n                    position.top = Number(position.top.replace(\"px\", \"\"));\n                }\n\n                if (position.left && position.left.toString().indexOf(\"px\") > 0) {\n                    position.left = Number(position.left.replace(\"px\", \"\"));\n                }\n\n                if (position.top === 0) {\n                    position.top = position.top.toString();\n                }\n\n                if (position.left === 0) {\n                    position.left = position.left.toString();\n                }\n\n                wrapper.css({\n                    top: position.top || \"\",\n                    left: position.left || \"\"\n                });\n            },\n\n            _updateBoundaries: function() {\n                var containment = this.containment;\n\n                if (!containment) {\n                    return null;\n                }\n\n                containment.width = containment.innerWidth();\n                containment.height = containment.innerHeight();\n\n                if (parseInt(containment.width, 10) > containment[0].clientWidth) {\n                    containment.width -= kendo.support.scrollbar();\n                }\n\n                if (parseInt(containment.height, 10) > containment[0].clientHeight) {\n                    containment.height -= kendo.support.scrollbar();\n                }\n\n                containment.position = getPosition(containment[0]);\n\n                if (this._isPinned) {\n                    this.minTop = this.minLeft = -Infinity;\n                    this.maxTop = this.maxLeft = Infinity;\n                } else {\n                    this.minTop = containment.scrollTop();\n                    this.minLeft = containment.scrollLeft();\n                    this.maxLeft = this.minLeft + containment.width - outerWidth(this.wrapper, true);\n                    this.maxTop = this.minTop + containment.height - outerHeight(this.wrapper, true);\n                }\n            },\n\n            _animationOptions: function(id) {\n                var animation = this.options.animation;\n                var basicAnimation = {\n                    open: { effects: {} },\n                    close: { hide: true, effects: {} }\n                };\n\n                return animation && animation[id] || basicAnimation[id];\n            },\n\n            _resize: function() {\n                kendo.resize(this.element.children());\n            },\n\n            _resizable: function() {\n                var resizable = this.options.resizable;\n                var wrapper = this.wrapper;\n\n                if (this.resizing) {\n                    wrapper\n                        .off(\"dblclick\" + NS)\n                        .children(KWINDOWRESIZEHANDLES).remove();\n\n                    this.resizing.destroy();\n                    this.resizing = null;\n                }\n\n                if (resizable) {\n                    wrapper.on(\"dblclick\" + NS, KWINDOWTITLEBAR, (function(e) {\n                        if (!$(e.target).closest(\".k-window-action\").length) {\n                            this.toggleMaximization();\n                        }\n                    }).bind(this));\n\n                    each(\"n e s w se sw ne nw\".split(\" \"), function(index, handler) {\n                        wrapper.append(templates.resizeHandle(handler));\n                    });\n\n                    this.resizing = new WindowResizing(this);\n                }\n\n                wrapper = null;\n            },\n\n            _draggable: function() {\n                var draggable = this.options.draggable;\n\n                if (this.dragging) {\n                    this.dragging.destroy();\n                    this.dragging = null;\n                }\n                if (draggable) {\n                    this.dragging = new WindowDragging(this, draggable.dragHandle || KWINDOWTITLEBAR);\n                }\n            },\n\n            _actions: function() {\n                var options = this.options;\n                var actions = options.actions;\n                var pinned = options.pinned;\n                var titlebar = this.wrapper.children(KWINDOWTITLEBAR);\n                var container = titlebar.find(\".k-window-actions\");\n                var windowSpecificCommands = [ \"maximize\", \"minimize\" ];\n\n                actions = $.map(actions, function(action) {\n                    action = pinned && action.toLowerCase() === \"pin\" ? \"unpin\" : action;\n                    return { name: (windowSpecificCommands.indexOf(action.toLowerCase()) > - 1) ? \"window-\" + action : action };\n                });\n\n                container.html(kendo.render(templates.action, actions));\n            },\n\n            setOptions: function(options) {\n                var that = this;\n                var sizeClass = that.options.size;\n                var doc = this.containment && !that._isPinned ? this.containment : $(document);\n                // make a deep extend over options.position telerik/kendo-ui-core#844\n                var cachedOptions = JSON.parse(JSON.stringify(options));\n                extend(options.position, that.options.position);\n                extend(options.position, cachedOptions.position);\n\n                that._containerScrollTop = doc.scrollTop();\n                that._containerScrollLeft = doc.scrollLeft();\n\n                Widget.fn.setOptions.call(that, options);\n                var scrollable = that.options.scrollable !== false;\n\n                that.restore();\n\n                if (typeof options.title !== \"undefined\") {\n                    that.title(options.title);\n                }\n\n                that.wrapper.removeClass(SIZE[sizeClass]);\n                that._dimensions();\n\n                that._position();\n                that._resizable();\n                that._draggable();\n                that._actions();\n                if (typeof options.modal !== \"undefined\") {\n                    var visible = that.options.visible !== false;\n                    that._enableDocumentScrolling();\n                    that._overlay(options.modal && visible);\n                }\n\n                that.element.css(OVERFLOW, scrollable ? \"\" : \"hidden\");\n            },\n\n            events:[\n                OPEN,\n                ACTIVATE,\n                DEACTIVATE,\n                CLOSE,\n                MINIMIZE,\n                MAXIMIZE,\n                REFRESH,\n                RESTORE,\n                RESIZESTART,\n                RESIZE,\n                RESIZEEND,\n                DRAGSTART,\n                DRAGEND,\n                KENDOKEYDOWN,\n                ERROR\n            ],\n\n            options: {\n                name: \"Window\",\n                animation: {\n                    open: {\n                        effects: { zoom: { direction: \"in\" }, fade: { direction: \"in\" } },\n                        duration: 350\n                    },\n                    close: {\n                        effects: { zoom: { direction: \"out\", properties: { scale: 0.7 } }, fade: { direction: \"out\" } },\n                        duration: 350,\n                        hide: true\n                    }\n                },\n                title: \"\",\n                actions: [\"Close\"],\n                autoFocus: true,\n                modal: false,\n                size: \"auto\",\n                resizable: true,\n                draggable: true,\n                minWidth: 90,\n                minHeight: 50,\n                maxWidth: Infinity,\n                maxHeight: Infinity,\n                pinned: false,\n                scrollable: true,\n                position: {},\n                content: null,\n                visible: null,\n                height: null,\n                width: null,\n                appendTo: \"body\",\n                isMaximized: false,\n                isMinimized: false\n            },\n\n            _closable: function() {\n                return $.inArray(\"close\", $.map(this.options.actions, function(x) { return x.toLowerCase(); })) > -1;\n            },\n\n            _keydownContent: function(e) {\n                var that = this,\n                    keys = kendo.keys,\n                    keyCode = e.keyCode;\n\n                if (keyCode == keys.ESC && that._closable()) {\n                    e.stopPropagation();\n                    that._close(false);\n                }\n            },\n\n            _keydown: function(e) {\n                var that = this,\n                    options = that.options,\n                    keys = kendo.keys,\n                    keyCode = e.keyCode,\n                    wrapper = that.wrapper,\n                    offset, handled,\n                    distance = 10,\n                    isMaximized = options.isMaximized,\n                    isMinimized = options.isMinimized,\n                    newWidth, newHeight, w, h;\n\n                if (keyCode == keys.ESC && that._closable()) {\n                    e.stopPropagation();\n                    that._close(false);\n                }\n\n                if (e.target != e.currentTarget || that._closing) {\n                    return;\n                }\n\n                 // Refresh\n                if (e.altKey && keyCode == 82) {// Alt + R\n                    that.refresh();\n                }\n\n                // Pin/Unpin\n                if (e.altKey && keyCode == 80) {// Alt + P\n                    if(that.options.pinned){\n                        that.unpin();\n                    } else {\n                        that.pin();\n                    }\n                }\n\n                // Maximize/Restore/Miminimize\n                if(e.altKey && keyCode == keys.UP){\n                    if (isMinimized) {\n                        that.restore();\n                        that.wrapper.trigger(\"focus\");\n                    } else if (!isMaximized) {\n                        that.maximize();\n                        that.wrapper.trigger(\"focus\");\n                    }\n                } else if (e.altKey && keyCode == keys.DOWN){\n                    if (!isMinimized && !isMaximized) {\n                        that.minimize();\n                        that.wrapper.trigger(\"focus\");\n                    } else if (isMaximized) {\n                        that.restore();\n                        that.wrapper.trigger(\"focus\");\n                    }\n                }\n\n                offset = kendo.getOffset(wrapper);\n\n                if (that.containment && !that._isPinned) {\n                    offset = that.options.position;\n                }\n\n                if (options.draggable && !e.ctrlKey && !e.altKey && !isMaximized) {\n                    that._updateBoundaries();\n                    if (keyCode == keys.UP) {\n                        offset.top = constrain(offset.top - distance, that.minTop, that.maxTop);\n                        handled = wrapper.css(\"top\", offset.top);\n                    } else if (keyCode == keys.DOWN) {\n                        offset.top = constrain(offset.top + distance, that.minTop, that.maxTop);\n                        handled = wrapper.css(\"top\", offset.top);\n                    } else if (keyCode == keys.LEFT) {\n                        offset.left = constrain(offset.left - distance, that.minLeft, that.maxLeft);\n                        handled = wrapper.css(\"left\", offset.left);\n                    } else if (keyCode == keys.RIGHT) {\n                        offset.left = constrain(offset.left + distance, that.minLeft, that.maxLeft);\n                        handled = wrapper.css(\"left\", offset.left);\n                    }\n                }\n\n                if (options.resizable && e.ctrlKey && !isMaximized && !isMinimized) {\n                    if (keyCode == keys.UP) {\n                        handled = true;\n                        newHeight = wrapper.outerHeight() - distance;\n                    } else if (keyCode == keys.DOWN) {\n                        handled = true;\n                        if (that.containment && !that._isPinned) {\n                            newHeight = Math.min(wrapper.outerHeight() + distance,\n                                that.containment.height - offset.top - toInt(wrapper, \"padding-top\") -\n                                toInt(wrapper, \"borderBottomWidth\") - toInt(wrapper, \"borderTopWidth\"));\n                        } else {\n                            newHeight = wrapper.outerHeight() + distance;\n                        }\n                    } if (keyCode == keys.LEFT) {\n                        handled = true;\n                        newWidth = wrapper.outerWidth() - distance;\n                    } else if (keyCode == keys.RIGHT) {\n                        handled = true;\n                        if (that.containment && !that._isPinned) {\n                            newWidth = Math.min(wrapper.outerWidth() + distance,\n                                                that.containment.width - offset.left -\n                                                toInt(wrapper, \"borderLeftWidth\") - toInt(wrapper, \"borderRightWidth\"));\n                        } else {\n                            newWidth = wrapper.outerWidth() + distance;\n                        }\n                    }\n\n                    if (handled) {\n                        w = constrain(newWidth, options.minWidth, options.maxWidth);\n                        h = constrain(newHeight, options.minHeight, options.maxHeight);\n\n                        if (!isNaN(w)) {\n                            wrapper.outerWidth(w);\n                            that.options.width = w + \"px\";\n                        }\n                        if (!isNaN(h)) {\n                            wrapper.outerHeight(h);\n                            that.options.height = h + \"px\";\n                        }\n\n                        that.resize();\n                    }\n                }\n\n                if (handled) {\n                    e.preventDefault();\n                }\n            },\n\n            _overlay: function (visible) {\n                var overlay = this.containment ? this.containment.children(KOVERLAY) : this.appendTo.children(KOVERLAY),\n                    wrapper = this.wrapper,\n                    display = visible ? \"block\" : \"none\",\n                    zIndex = parseInt(wrapper.css(ZINDEX), 10) - 1;\n\n                if (!overlay.length) {\n                    overlay = $(\"<div class='k-overlay' />\");\n                }\n\n                overlay\n                    .insertBefore(wrapper[0])\n                    .css({\n                        zIndex: zIndex,\n                        display: display\n                    });\n\n                if (this.options.modal.preventScroll && !this.containment) {\n                    this._stopDocumentScrolling();\n                }\n\n                return overlay;\n            },\n\n            _actionForIcon: function(icon) {\n                var iconClass = /\\bk-i(-\\w+)+\\b/.exec(icon[0].className)[0];\n                return {\n                    \"k-i-close\": \"_close\",\n                    \"k-i-window-maximize\": \"maximize\",\n                    \"k-i-window-minimize\": \"minimize\",\n                    \"k-i-window-restore\": \"restore\",\n                    \"k-i-refresh\": \"refresh\",\n                    \"k-i-pin\": \"pin\",\n                    \"k-i-unpin\": \"unpin\"\n                }[iconClass];\n            },\n\n            _windowActionHandler: function (e) {\n                if (this._closing) {\n                    return;\n                }\n                var icon = $(e.target).closest(\".k-window-action\").find(\".k-icon\");\n                var action = this._actionForIcon(icon);\n\n                if (action) {\n                    e.preventDefault();\n                    this[action]();\n                    return false;\n                }\n            },\n\n            _modals: function() {\n                var that = this,\n                    windowElements = $(KWINDOW + VISIBLE),\n                    windowInstance,\n                    modals = [];\n\n                for (var i = 0; i < windowElements.length; i += 1) {\n                    windowInstance = that._object($(windowElements[i]));\n\n                    if (windowInstance &&\n                        windowInstance.options &&\n                        windowInstance.options.modal &&\n                        windowInstance.options.visible &&\n                        windowInstance.options.appendTo === that.options.appendTo &&\n                        (!windowInstance.containment || (that.containment && windowInstance.containment[0] === that.containment[0]))) {\n                            modals.push(windowInstance.wrapper[0]);\n                    }\n                }\n\n                modals.sort(function(a, b) {\n                    return a.style.zIndex - b.style.zIndex;\n                });\n\n                that = null;\n\n                return $(modals);\n            },\n\n            _object: function(element) {\n                var content = element.children(KWINDOWCONTENT);\n                var widget = kendo.widgetInstance(content);\n\n                if (widget) {\n                    return widget;\n                }\n\n                return undefined;\n            },\n\n            center: function () {\n                var that = this,\n                    position = that.options.position,\n                    wrapper = that.wrapper,\n                    documentWindow = $(window),\n                    scrollTop = 0,\n                    scrollLeft = 0,\n                    newTop, newLeft;\n\n                if (that.options.isMaximized) {\n                    return that;\n                }\n\n                if(that.options.pinned && !that._isPinned) {\n                    that.pin();\n                }\n\n                if (!that.options.pinned) {\n                    scrollTop = documentWindow.scrollTop();\n                    scrollLeft = documentWindow.scrollLeft();\n                }\n\n                if (this.containment && !that.options.pinned) {\n                    newTop = this.minTop + (this.maxTop - this.minTop) / 2;\n                    newLeft = this.minLeft + (this.maxLeft - this.minLeft) / 2;\n                } else {\n                    that._scrollIsAppended = true;\n                    newLeft = scrollLeft + Math.max(0, (documentWindow.width() - wrapper.outerWidth()) / 2);\n                    newTop = scrollTop + Math.max(0, (documentWindow.height() - wrapper.outerHeight() - toInt(wrapper, \"paddingTop\")) / 2);\n                }\n\n                wrapper.css({\n                    left: newLeft,\n                    top: newTop\n                });\n\n                position.top = newTop;\n                position.left = newLeft;\n\n                return that;\n            },\n\n            title: function (title) {\n                var that = this,\n                    value,\n                    encoded = true,\n                    wrapper = that.wrapper,\n                    titleBar = wrapper.children(KWINDOWTITLEBAR),\n                    titleElement = titleBar.children(KWINDOWTITLE);\n\n                if (!arguments.length) {\n                    return titleElement.html();\n                }\n\n                if ($.isPlainObject(title)) {\n                    value = typeof title.text !== \"undefined\" ? title.text :  \"\";\n                    encoded = title.encoded !== false;\n                } else {\n                    value = title;\n                }\n\n                if (value === false) {\n                    wrapper.addClass(\"k-window-titleless\");\n                    wrapper.css(\"padding-top\", 0);\n                    titleBar.remove();\n                } else {\n                    if (!titleBar.length) {\n                        wrapper.prepend(templates.titlebar({\n                            title: encoded ? kendo.htmlEncode(value) : value\n                        }));\n                        that._actions();\n                        titleBar = wrapper.children(KWINDOWTITLEBAR);\n                    } else {\n                        titleElement.html(encoded ? kendo.htmlEncode(value) : value);\n                    }\n                }\n\n                that.options.title = value;\n\n                return that;\n            },\n\n            content: function (html, data) {\n                var content = this.wrapper.children(KWINDOWCONTENT),\n                    scrollContainer = content.children(\".km-scroll-container\");\n\n                content = scrollContainer[0] ? scrollContainer : content;\n\n                if (!defined(html)) {\n                    return content.html();\n                }\n\n                this.angular(\"cleanup\", function(){\n                    return { elements: content.children() };\n                });\n\n                kendo.destroy(this.element.children());\n\n                content.empty().html(html);\n\n                this.angular(\"compile\", function(){\n                    var a = [];\n                    for (var i = content.length; --i >= 0;) {\n                        a.push({ dataItem: data });\n                    }\n                    return {\n                        elements: content.children(),\n                        data: a\n                    };\n                });\n\n                return this;\n            },\n\n            open: function () {\n                var that = this,\n                    wrapper = that.wrapper,\n                    options = that.options,\n                    showOptions = this._animationOptions(\"open\"),\n                    contentElement = wrapper.children(KWINDOWCONTENT),\n                    overlay, otherModalsVisible,\n                    containmentContext = this.containment && !that._isPinned,\n                    doc = containmentContext ? this.containment : $(document);\n\n                if (!that.trigger(OPEN)) {\n                    if (that._closing) {\n                        wrapper.kendoStop(true, true);\n                    }\n\n                    that._closing = false;\n\n                    that.toFront();\n\n                    if (options.autoFocus) {\n                        that.wrapper.trigger(\"focus\");\n                    }\n\n                    options.visible = true;\n\n                    if (options.modal) {\n                        otherModalsVisible = !!that._modals().length;\n                        overlay = that._overlay(otherModalsVisible);\n\n                        overlay.kendoStop(true, true);\n\n                        if (showOptions.duration && kendo.effects.Fade && !otherModalsVisible) {\n                            var overlayFx = kendo.fx(overlay).fadeIn();\n                            overlayFx.duration(showOptions.duration || 0);\n                            overlayFx.endValue(0.5);\n                            overlayFx.play();\n                        } else {\n                            overlay.css(\"opacity\", 0.5);\n                        }\n\n                        overlay.show();\n\n                        $(window).on(\"focus\" + MODAL_NS, function() {\n                            if (wrapper.data(\"isFront\") && !$(document.activeElement).closest(wrapper).length) {\n                               that.wrapper.trigger(\"focus\");\n                            }\n                        });\n                    }\n\n                    if (!wrapper.is(VISIBLE)) {\n                        contentElement.css(OVERFLOW, HIDDEN);\n\n                        that.wrapper.find(TITLEBAR_BUTTONS).addClass(\"k-button-flat\");\n\n                        wrapper.addClass(INLINE_FLEX).kendoStop().kendoAnimate({\n                            effects: showOptions.effects,\n                            duration: showOptions.duration,\n                            complete: this._activate.bind(this)\n                        });\n                    }\n                }\n\n                if (options.isMaximized) {\n                    that._containerScrollTop = doc.scrollTop();\n                    that._containerScrollLeft = doc.scrollLeft();\n                    that._stopDocumentScrolling();\n                }\n\n                if(this.options.pinned && !this._isPinned){\n                    this.pin();\n                }\n\n                return that;\n            },\n\n            _activate: function() {\n                var scrollable = this.options.scrollable !== false;\n\n                if (this.options.autoFocus) {\n                    this.wrapper.trigger(\"focus\");\n                }\n\n                this.element.css(OVERFLOW, scrollable ? \"\" : \"hidden\");\n                kendo.resize(this.element.children());\n\n                this.trigger(ACTIVATE);\n            },\n\n            _removeOverlay: function(suppressAnimation) {\n                var modals = this._modals();\n                var options = this.options;\n                var hideOverlay = options.modal && !modals.length;\n                var hideOptions  = this._animationOptions(\"close\");\n\n                if (hideOverlay) {\n                    if (!suppressAnimation && hideOptions.duration && kendo.effects.Fade) {\n                        var overlayFx = kendo.fx(options.modal ? this._overlay(true) : $(undefined)).fadeOut();\n                        overlayFx.duration(hideOptions.duration || 0);\n                        overlayFx.startValue(0.5);\n                        overlayFx.play();\n                    } else {\n                        this._overlay(false).remove();\n                    }\n                    if (options.modal.preventScroll) {\n                        this._enableDocumentScrolling();\n                    }\n                } else if (modals.length) {\n                    this._object(modals.last())._overlay(true);\n\n                    if (options.modal.preventScroll) {\n                        this._stopDocumentScrolling();\n                    }\n                }\n            },\n\n            _close: function(systemTriggered) {\n                var that = this,\n                    wrapper = that.wrapper,\n                    options = that.options,\n                    showOptions = this._animationOptions(\"open\"),\n                    hideOptions  = this._animationOptions(\"close\"),\n                    containmentContext = this.containment && !that._isPinned,\n                    doc = containmentContext ? this.containment : $(document),\n                    defaultPrevented;\n\n                if (that._closing) {\n                    return;\n                }\n\n                defaultPrevented = that.trigger(CLOSE, { userTriggered: !systemTriggered });\n                that._closing = !defaultPrevented;\n\n                if (wrapper.is(VISIBLE) && !defaultPrevented) {\n                    options.visible = false;\n\n                    $(KWINDOW).each(function(i, element) {\n                        var contentElement = $(element).children(KWINDOWCONTENT);\n\n                        // Remove overlay set by toFront\n                        if (element != wrapper && contentElement.find(\"> .\" + KCONTENTFRAME).length > 0) {\n                            contentElement.children(KOVERLAY).remove();\n                        }\n                    });\n\n                    this._removeOverlay();\n\n                    // Prevent close animation from stopping\n                    that.wrapper.find(TITLEBAR_BUTTONS).removeClass(\"k-button-flat\");\n\n                    wrapper.kendoStop().kendoAnimate({\n                        effects: hideOptions.effects || showOptions.effects,\n                        reverse: hideOptions.reverse === true,\n                        duration: hideOptions.duration,\n                        complete: this._deactivate.bind(this)\n                    });\n                    $(window).off(MODAL_NS);\n                }\n\n                if (that.options.isMaximized) {\n                    that._enableDocumentScrolling();\n                    if (that._containerScrollTop && that._containerScrollTop > 0) {\n                        doc.scrollTop(that._containerScrollTop);\n                    }\n                    if (that._containerScrollLeft && that._containerScrollLeft > 0) {\n                        doc.scrollLeft(that._containerScrollLeft);\n                    }\n                }\n\n                if (that.options.iframe) {\n                    that.wrapper.trigger(\"blur\");\n                }\n            },\n\n            _deactivate: function () {\n                var that = this;\n\n                that.wrapper\n                    .removeClass(INLINE_FLEX)\n                    .hide()\n                    .css(\"opacity\", \"\");\n\n                that.trigger(DEACTIVATE);\n\n                if (that.options.modal) {\n                    var lastModal = that._object(that._modals().last());\n                    if (lastModal) {\n                        lastModal.toFront();\n                    }\n                }\n            },\n\n            close: function () {\n                this._close(true);\n                return this;\n            },\n\n            _actionable: function(element) {\n                return $(element).is(TITLEBAR_BUTTONS + \",\" + TITLEBAR_BUTTONS + \" .k-icon, :input, a, .k-input, .k-icon, [role='gridcell']\");\n            },\n\n            _shouldFocus: function(target) {\n                var active = activeElement(),\n                    element = this.wrapper;\n\n                return this.options.autoFocus &&\n                    !$(active).is(element) &&\n                    !this._actionable(target) &&\n                    (!element.find(active).length || !element.find(target).length);\n            },\n\n            toFront: function (e, avoidFocus) {\n                var that = this,\n                    wrapper = that.wrapper,\n                    currentWindow = wrapper[0],\n                    containmentContext = that.containment && !that._isPinned,\n                    openAnimation = this._animationOptions(\"open\"),\n                    zIndex = +wrapper.css(ZINDEX),\n                    originalZIndex = zIndex,\n                    target = (e && e.target) || null;\n\n                $(KWINDOW).each(function(i, element) {\n                    var windowObject = $(element),\n                        zIndexNew = windowObject.css(ZINDEX),\n                        contentElement = windowObject.children(KWINDOWCONTENT);\n\n                    if (!isNaN(zIndexNew)) {\n                        zIndex = Math.max(+zIndexNew, zIndex);\n                    }\n\n                    wrapper.data(\"isFront\", element == currentWindow);\n                    // Add overlay to windows with iframes and lower z-index to prevent\n                    // trapping of events when resizing / dragging\n\n                    if (element != currentWindow &&\n                        contentElement.find(\".\" + KCONTENTFRAME).length &&\n                        !contentElement.find(KOVERLAY).length) {\n                        contentElement.append(templates.overlay);\n                    }\n                });\n\n                if (!wrapper[0].style.zIndex || originalZIndex < zIndex) {\n                    wrapper.css(ZINDEX, zIndex + 2);\n                }\n                that.element.find(\"> .k-overlay\").remove();\n\n                if (that._shouldFocus(target)) {\n                    if(!avoidFocus) {\n                        setTimeout(function() {\n                            that.wrapper.focus();\n                        }, openAnimation ? openAnimation.duration : 0);\n                    }\n\n                    var scrollTop = containmentContext ? that.containment.scrollTop() : $(window).scrollTop(),\n                        windowTop = parseInt(wrapper.position().top, 10);\n\n                    if (!that.options.pinned && windowTop > 0 && windowTop < scrollTop) {\n                        if (scrollTop > 0) {\n                            $(window).scrollTop(windowTop);\n                        } else {\n                            wrapper.css(\"top\", scrollTop);\n                        }\n                    }\n                }\n\n                wrapper = null;\n\n                return that;\n            },\n\n            toggleMaximization: function () {\n                if (this._closing) {\n                    return this;\n                }\n\n                return this[this.options.isMaximized ? \"restore\" : \"maximize\"]();\n            },\n\n            restore: function () {\n                var that = this;\n                var options = that.options;\n                var minHeight = options.minHeight;\n                var restoreOptions = that.restoreOptions;\n                var shouldRestrictTop;\n                var container = that.containment && !that._isPinned ? that.containment : $(document);\n\n                if (!options.isMaximized && !options.isMinimized) {\n                    return that;\n                }\n\n                if (minHeight && minHeight != Infinity) {\n                    that.wrapper.css(\"min-height\", minHeight);\n                }\n\n                if (restoreOptions && !options.isMaximized) {\n                    restoreOptions.height = constrain(restoreOptions.height, that.options.minHeight, that.options.maxHeight);\n\n                    shouldRestrictTop = options.position.top + parseInt(restoreOptions.height, 10) > that.maxTop;\n\n                    if (shouldRestrictTop) {\n                        options.position.top = constrain(options.position.top, that.minTop, that.maxTop - parseInt(restoreOptions.height, 10));\n\n                        extend(restoreOptions, {\n                            left: options.position.left,\n                            top: options.position.top\n                        });\n                    }\n                }\n\n                that.wrapper\n                    .css({\n                        position: options.pinned ? \"fixed\" : \"absolute\",\n                        left: restoreOptions.left,\n                        top: restoreOptions.top,\n                        width: restoreOptions.width,\n                        height: restoreOptions.height\n                    })\n                    .removeClass(MAXIMIZEDSTATE)\n                    .find(\".k-window-content,.k-resize-handle\").show().end()\n                    .find(\".k-window-titlebar .k-i-window-restore\").parent().remove().end().end()\n                    .find(MINIMIZE_MAXIMIZE).parent().show().end().end()\n                    .find(PIN_UNPIN).parent().show();\n\n                if (options.isMaximized) {\n                    that.wrapper.find(\".k-i-window-maximize\").parent().trigger(\"focus\");\n                } else if (options.isMinimized) {\n                    that.wrapper.find(\".k-i-window-minimize\").parent().trigger(\"focus\");\n                }\n\n                that.options.width = restoreOptions.width;\n                that.options.height = restoreOptions.height;\n\n                if (!that.options.modal.preventScroll) {\n                    that._enableDocumentScrolling();\n                }\n\n                if (that._containerScrollTop && that._containerScrollTop > 0) {\n                    container.scrollTop(that._containerScrollTop);\n                }\n                if (that._containerScrollLeft && that._containerScrollLeft > 0) {\n                    container.scrollLeft(that._containerScrollLeft);\n                }\n\n                options.isMaximized = options.isMinimized = false;\n\n                that.wrapper.removeAttr(\"aria-labelled-by\");\n\n                that.resize();\n\n                that.trigger(RESTORE);\n\n                return that;\n            },\n\n            _sizingAction: function(actionId, callback) {\n                var that = this,\n                    wrapper = that.wrapper,\n                    style = wrapper[0].style,\n                    options = that.options;\n\n                if (options.isMaximized || options.isMinimized) {\n                    return that;\n                }\n\n                that.restoreOptions = {\n                    width: style.width,\n                    height: style.height\n                };\n\n                wrapper\n                    .children(KWINDOWRESIZEHANDLES).hide().end()\n                    .children(KWINDOWTITLEBAR).find(MINIMIZE_MAXIMIZE).parent().hide()\n                    .eq(0).before(templates.action({ name: \"window-restore\" }));\n\n                callback.call(that);\n\n                that.wrapper.children(KWINDOWTITLEBAR).find(PIN_UNPIN).parent().toggle(actionId !== \"maximize\");\n\n                that.trigger(actionId);\n\n                wrapper.find(\".k-i-window-restore\").parent().trigger(\"focus\");\n\n                return that;\n            },\n\n            maximize: function() {\n                this._sizingAction(\"maximize\", function() {\n                    var that = this,\n                        wrapper = that.wrapper,\n                        containmentContext = this.containment && !that._isPinned,\n                        position = wrapper.position(),\n                        doc = $(document);\n\n                    extend(that.restoreOptions, {\n                        left: position.left + (containmentContext ? this.containment.scrollLeft() : 0),\n                        top: position.top + (containmentContext ? this.containment.scrollTop() : 0)\n                    });\n\n                    this._containerScrollTop = containmentContext ? this.containment.scrollTop() : doc.scrollTop();\n                    this._containerScrollLeft = containmentContext ? this.containment.scrollLeft() : doc.scrollLeft();\n\n                    that._stopDocumentScrolling();\n\n                    wrapper\n                        .css({\n                            top: containmentContext ? this.containment.scrollTop() : 0,\n                            left: containmentContext ? this.containment.scrollLeft() : 0,\n                            position: containmentContext ? \"absolute\" : \"fixed\"\n                        })\n                        .addClass(MAXIMIZEDSTATE);\n\n                    that.options.isMaximized = true;\n\n                    that._onDocumentResize();\n                });\n\n                return this;\n            },\n\n            _stopDocumentScrolling: function(){\n                var that = this;\n                var containment = that.containment;\n\n                if (containment && !that._isPinned) {\n                    that._storeOverflowRule(containment);\n                    containment.css(OVERFLOW, HIDDEN);\n                    that.wrapper.css({\n                        maxWidth: containment.innerWidth(),\n                        maxHeight: containment.innerHeight()\n                    });\n                    return;\n                }\n\n                var $body = $(\"body\");\n                that._storeOverflowRule($body);\n                $body.css(OVERFLOW, HIDDEN);\n\n                var $html = $(\"html\");\n                that._storeOverflowRule($html);\n                $html.css(OVERFLOW, HIDDEN);\n            },\n\n            _enableDocumentScrolling: function(){\n                var that = this;\n                var containment = that.containment;\n\n                if (containment && !that._isPinned) {\n                    that._restoreOverflowRule(containment);\n                    that.wrapper.css({\n                        maxWidth: containment.width,\n                        maxHeight: containment.height\n                    });\n                    return;\n                }\n\n                that._restoreOverflowRule($(document.body));\n                that._restoreOverflowRule($(\"html\"));\n            },\n\n            _storeOverflowRule: function($element){\n                if(this._isOverflowStored($element)){\n                    return;\n                }\n\n                var overflowRule = $element.get(0).style.overflow;\n\n                if(typeof overflowRule === \"string\"){\n                    $element.data(DATADOCOVERFLOWRULE, overflowRule);\n                }\n            },\n\n            _isOverflowStored: function ($element){\n                return typeof $element.data(DATADOCOVERFLOWRULE) === \"string\";\n            },\n\n            _restoreOverflowRule: function($element){\n                var overflowRule = $element.data(DATADOCOVERFLOWRULE);\n\n                if(overflowRule !== null && overflowRule !== undefined){\n                    $element.css(OVERFLOW, overflowRule);\n                    $element.removeData(DATADOCOVERFLOWRULE);\n                } else {\n                    $element.css(OVERFLOW, \"\");\n                }\n            },\n\n            isMaximized: function() {\n                return this.options.isMaximized;\n            },\n\n            minimize: function() {\n                this._sizingAction(\"minimize\", function() {\n                    var that = this;\n\n                    that.wrapper.css({\n                        height: \"\",\n                        minHeight: \"\"\n                    });\n\n                    that.element.hide();\n\n                    that.options.isMinimized = true;\n                });\n\n                this.wrapper.attr(\"aria-labelled-by\", this.element.attr(\"aria-labelled-by\"));\n\n                this._updateBoundaries();\n\n                return this;\n            },\n\n            isMinimized: function() {\n                return this.options.isMinimized;\n            },\n\n            pin: function() {\n                var that = this,\n                    win = $(window),\n                    wrapper = that.wrapper,\n                    options = that.options,\n                    position = options.position,\n                    top = this.containment ? getPosition(wrapper[0]).top + toInt(this.containment, \"borderTopWidth\") : toInt(wrapper, \"top\"),\n                    left = this.containment ? getPosition(wrapper[0]).left + toInt(this.containment, \"borderLeftWidth\") : toInt(wrapper, \"left\");\n\n                if (!that.options.isMaximized) {\n                    position.top = top;\n                    position.left = left;\n\n                    if (that._scrollIsAppended && (!this.containment || this.containment.css(\"position\") !== \"fixed\")) {\n\n                        position.top -= win.scrollTop();\n                        position.left -= win.scrollLeft();\n                        that._scrollIsAppended = false;\n                    }\n\n                    wrapper.css(extend(position, {position: \"fixed\"}));\n                    wrapper.children(KWINDOWTITLEBAR).find(KPIN).addClass(\"k-i-unpin\").removeClass(\"k-i-pin\");\n\n                    that._isPinned = true;\n                    that.options.pinned = true;\n\n                    if (this.containment) {\n                        options.maxWidth = options.maxHeight = Infinity;\n                        wrapper.css({\n                            maxWidth: \"\",\n                            maxHeight: \"\"\n                        });\n                    }\n                }\n            },\n\n            unpin: function() {\n                var that = this,\n                    win = $(window),\n                    wrapper = that.wrapper,\n                    options = that.options,\n                    position = that.options.position,\n                    containment = that.containment,\n                    top = parseInt(wrapper.css(\"top\"), 10) + win.scrollTop(),\n                    left = parseInt(wrapper.css(\"left\"), 10) + win.scrollLeft();\n\n                if (!that.options.isMaximized) {\n                    that._isPinned = false;\n                    that._scrollIsAppended = true;\n                    that.options.pinned = false;\n\n                    if (containment) {\n                        that._updateBoundaries();\n\n                        options.maxWidth = Math.min(containment.width, options.maxWidth);\n                        options.maxHeight = Math.min(containment.height - toInt(wrapper, \"padding-top\"), options.maxHeight);\n\n                        wrapper.css({\n                            maxWidth: options.maxWidth,\n                            maxHeight: options.maxHeight\n                        });\n\n                        if (top < containment.position.top) {\n                            top = that.minTop;\n                        } else if (top > containment.position.top + containment.height) {\n                            top = that.maxTop;\n                        } else {\n                            top = top + containment.scrollTop() - (containment.position.top + toInt(containment, \"border-top-width\"));\n                        }\n\n                        if (left < containment.position.left) {\n                            left = that.minLeft;\n                        } else if (left > containment.position.left + containment.width) {\n                            left = that.maxLeft;\n                        } else {\n                            left = left + containment.scrollLeft() - (containment.position.left + toInt(containment, \"border-left-width\"));\n                        }\n\n                    }\n\n                    position.top = constrain(top, that.minTop, that.maxTop);\n                    position.left = constrain(left, that.minLeft, that.maxLeft);\n\n                    wrapper.css(extend(position, {position: \"\"}));\n                    wrapper.children(KWINDOWTITLEBAR).find(KUNPIN).addClass(\"k-i-pin\").removeClass(\"k-i-unpin\");\n                }\n            },\n\n            _onDocumentResize: function () {\n                var that = this,\n                    wrapper = that.wrapper,\n                    wnd = $(window),\n                    zoomLevel = kendo.support.zoomLevel(),\n                    contentBoxSizing = wrapper.css(\"box-sizing\") == \"content-box\",\n                    w, h;\n\n                if (!that.options.isMaximized) {\n                    return;\n                }\n\n                var lrBorderWidth = contentBoxSizing ? toInt(wrapper, \"border-left-width\") + toInt(wrapper, \"border-right-width\") : 0;\n                var tbBorderWidth = contentBoxSizing ? toInt(wrapper, \"border-top-width\") + toInt(wrapper, \"border-bottom-width\") : 0;\n                var paddingTop = contentBoxSizing ? toInt(wrapper, \"padding-top\") : 0;\n\n                if (that.containment && !that._isPinned) {\n                    w = that.containment.innerWidth() - lrBorderWidth;\n                    h = that.containment.innerHeight() - (tbBorderWidth + paddingTop);\n                } else {\n                    w = wnd.width() / zoomLevel - lrBorderWidth;\n                    h = wnd.height() / zoomLevel - (tbBorderWidth + paddingTop);\n                }\n\n                wrapper.css({\n                    width: w,\n                    height: h\n                });\n                that.options.width = w;\n                that.options.height = h;\n\n                that.resize();\n            },\n\n            refresh: function (options) {\n                var that = this,\n                    initOptions = that.options,\n                    element = $(that.element),\n                    iframe,\n                    showIframe,\n                    url;\n\n                if (!isPlainObject(options)) {\n                    options = { url: options };\n                }\n\n                options = extend(initOptions.content, options);\n\n                showIframe = defined(initOptions.iframe) ? initOptions.iframe : options.iframe;\n\n                url = options.url;\n\n                if (url) {\n                    if (!defined(showIframe)) {\n                        showIframe = !isLocalUrl(url);\n                    }\n\n                    if (!showIframe) {\n                        // perform AJAX request\n                        that._ajaxRequest(options);\n                    } else {\n                        iframe = element.find(\".\" + KCONTENTFRAME)[0];\n\n                        if (iframe) {\n                            // refresh existing iframe\n                            iframe.src = url || iframe.src;\n                        } else {\n                            // render new iframe\n                            element.html(templates.contentFrame(extend({}, initOptions, { content: options })));\n                        }\n\n                        element.find(\".\" + KCONTENTFRAME)\n                            .off(\"load\" + NS)\n                            .on(\"load\" + NS, this._triggerRefresh.bind(this));\n                    }\n                } else {\n                    if (options.template) {\n                        // refresh template\n                        that.content(template(options.template)({}));\n                    }\n\n                    that.trigger(REFRESH);\n                }\n\n                element.toggleClass(\"k-window-iframecontent\", !!showIframe);\n\n                return that;\n            },\n\n            _triggerRefresh: function() {\n                this.trigger(REFRESH);\n            },\n\n            _ajaxComplete: function() {\n                clearTimeout(this._loadingIconTimeout);\n                this.wrapper.find(REFRESHICON).removeClass(LOADING);\n            },\n\n            _ajaxError: function (xhr, status) {\n                this.trigger(ERROR, { status: status, xhr: xhr });\n            },\n\n            _ajaxSuccess: function (contentTemplate) {\n                return function (data) {\n                    var html = data;\n                    if (contentTemplate) {\n                        html = template(contentTemplate)(data || {});\n                    }\n\n                    this.content(html, data);\n                    this.element.prop(\"scrollTop\", 0);\n\n                    this.trigger(REFRESH);\n                };\n            },\n\n            _showLoading: function() {\n                this.wrapper.find(REFRESHICON).addClass(LOADING);\n            },\n\n            _ajaxRequest: function (options) {\n                this._loadingIconTimeout = setTimeout(this._showLoading.bind(this), 100);\n\n                $.ajax(extend({\n                    type: \"GET\",\n                    dataType: \"html\",\n                    cache: false,\n                    error: this._ajaxError.bind(this),\n                    complete: this._ajaxComplete.bind(this),\n                    success: this._ajaxSuccess(options.template).bind(this)\n                }, options));\n            },\n\n            _destroy: function() {\n                if (this.resizing) {\n                    this.resizing.destroy();\n                }\n\n                if (this.dragging) {\n                    this.dragging.destroy();\n                }\n\n                this.wrapper.off(NS)\n                    .children(KWINDOWCONTENT).off(NS).end()\n                    .find(\".k-resize-handle,.k-window-titlebar\").off(NS);\n\n                $(window).off(\"resize\" + NS + this._marker);\n                $(window).off(MODAL_NS);\n                $(window).off(NS);\n\n                clearTimeout(this._loadingIconTimeout);\n\n                Widget.fn.destroy.call(this);\n\n                this.unbind(undefined);\n\n                kendo.destroy(this.wrapper);\n            },\n\n            destroy: function() {\n                this._destroy();\n\n                if (this.options.modal) {\n                    this._removeOverlay(true);\n                }\n\n                this.wrapper.empty().remove();\n\n                this.wrapper = this.appendTo = this.element = $();\n            },\n\n            _createWindow: function() {\n                var contentHtml = this.element,\n                    options = this.options,\n                    iframeSrcAttributes,\n                    wrapper,\n                    isRtl = kendo.support.isRtl(contentHtml);\n\n                if (options.scrollable === false) {\n                    contentHtml.css(\"overflow\", \"hidden\");\n                }\n\n                wrapper = $(templates.wrapper(options));\n\n                // Collect the src attributes of all iframes and then set them to empty string.\n                // This seems to fix this IE9 \"feature\": http://msdn.microsoft.com/en-us/library/gg622929%28v=VS.85%29.aspx?ppud=4\n                iframeSrcAttributes = contentHtml.find(\"iframe:not(.k-content-frame)\").map(function() {\n                    var src = this.getAttribute(\"src\");\n                    this.src = \"\";\n                    return src;\n                });\n\n                // Make sure the wrapper is appended to the body only once. IE9+ will throw exceptions if you move iframes in DOM\n                wrapper\n                    .toggleClass(\"k-rtl\", isRtl)\n                    .attr(\"tabindex\", 0)\n                    .append(contentHtml)\n                    .find(\"iframe:not(.k-content-frame)\").each(function(index) {\n                    // Restore the src attribute of the iframes when they are part of the live DOM tree\n                    this.src = iframeSrcAttributes[index];\n                });\n\n                if (this.containment) {\n                    this.containment.prepend(wrapper);\n                } else if (this.appendTo) {\n                    wrapper.appendTo(this.appendTo);\n                }\n\n                wrapper.find(\".k-window-title\")\n                    .css(isRtl ? \"left\" : \"right\", outerWidth(wrapper.find(\".k-window-actions\")) + 10);\n\n                contentHtml.css(\"visibility\", \"\").show();\n\n                contentHtml.find(\"[data-role=editor]\").each(function() {\n                    var editor = $(this).data(\"kendoEditor\");\n\n                    if (editor) {\n                        editor.refresh();\n                    }\n                });\n\n                wrapper = contentHtml = null;\n            }\n        });\n\n        templates = {\n            wrapper: template(\"<div class='k-widget k-window'></div>\"),\n            action: template(\n                \"<a role='button' href='\\\\#' class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-window-action' aria-label='#= name #'>\" +\n                    \"<span class='k-button-icon k-icon k-i-#= name.toLowerCase() #'></span>\" +\n                \"</a>\"\n            ),\n            titlebar: template(\n                \"<div class='k-window-titlebar k-hstack'>\" +\n                    \"<span class='k-window-title'>#= title #</span>\" +\n                    \"<div class='k-window-actions k-hstack'></div>\" +\n                \"</div>\"\n            ),\n            overlay: \"<div class='k-overlay'></div>\",\n            contentFrame: template(\n                \"<iframe frameborder='0' title='#= title #' class='\" + KCONTENTFRAME + \"' \" +\n                \"src='#= content.url #'>\" +\n                \"This page requires frames in order to show content\" +\n                \"</iframe>\"\n            ),\n            resizeHandle: template(\"<div aria-hidden='true' class='k-resize-handle k-resize-#= data #'></div>\")\n        };\n\n\n        function WindowResizing(wnd) {\n            var that = this;\n            that.owner = wnd;\n            that._preventDragging = false;\n            that._draggable = new Draggable(wnd.wrapper, {\n                filter: \">\" + KWINDOWRESIZEHANDLES,\n                group: wnd.wrapper.id + \"-resizing\",\n                dragstart: that.dragstart.bind(that),\n                drag: that.drag.bind(that),\n                dragend: that.dragend.bind(that)\n            });\n\n            that._draggable.userEvents.bind(\"press\", that.addOverlay.bind(that));\n            that._draggable.userEvents.bind(\"release\", that.removeOverlay.bind(that));\n        }\n\n        WindowResizing.prototype = {\n            addOverlay: function () {\n                this.owner.wrapper.append(templates.overlay);\n            },\n            removeOverlay: function () {\n                this.owner.wrapper.find(KOVERLAY).remove();\n            },\n            dragstart: function (e) {\n                var that = this;\n                var wnd = that.owner;\n                var wrapper = wnd.wrapper;\n\n                that._preventDragging = wnd.trigger(RESIZESTART);\n                if (that._preventDragging) {\n                    return;\n                }\n\n                that.elementPadding = parseInt(wrapper.css(\"padding-top\"), 10);\n                that.initialPosition = kendo.getOffset(wrapper, \"position\");\n\n                that.resizeDirection = e.currentTarget.prop(\"className\").replace(\"k-resize-handle k-resize-\", \"\");\n\n                that.initialSize = {\n                    width: wrapper.outerWidth(),\n                    height: wrapper.outerHeight()\n                };\n\n                wnd._updateBoundaries();\n\n                that.containerOffset = wnd.containment ? wnd.containment.position : kendo.getOffset(wnd.appendTo);\n\n                var offsetParent = wrapper.offsetParent();\n\n                if (offsetParent.is(\"html\")) {\n                    that.containerOffset.top = that.containerOffset.left = 0;\n                } else {\n                    var marginTop = offsetParent.css(\"margin-top\");\n                    var marginLeft = offsetParent.css(\"margin-left\");\n                    var hasMargin = !zero.test(marginTop) || !zero.test(marginLeft);\n                    if (hasMargin) {\n                        var wrapperPosition = getPosition(wrapper[0]);\n                        var relativeElMarginLeft = wrapperPosition.left - that.containerOffset.left - that.initialPosition.left;\n                        var relativeElMarginTop = wrapperPosition.top - that.containerOffset.top - that.initialPosition.top;\n\n                        that._relativeElMarginLeft = relativeElMarginLeft > 1 ? relativeElMarginLeft : 0;\n                        that._relativeElMarginTop = relativeElMarginTop > 1 ? relativeElMarginTop : 0;\n\n                        that.initialPosition.left += that._relativeElMarginLeft;\n                        that.initialPosition.top += that._relativeElMarginTop;\n                    }\n                }\n\n                wrapper\n                    .children(KWINDOWRESIZEHANDLES).not(e.currentTarget).hide();\n\n                $(BODY).css(CURSOR, e.currentTarget.css(CURSOR));\n            },\n            drag: function (e) {\n                if (this._preventDragging) {\n                    return;\n                }\n                var that = this,\n                    wnd = that.owner,\n                    wrapper = wnd.wrapper,\n                    options = wnd.options,\n                    position = options.position,\n                    direction = that.resizeDirection,\n                    containerOffset = that.containerOffset,\n                    initialPosition = that.initialPosition,\n                    initialSize = that.initialSize,\n                    containmentContext = wnd.containment && !wnd._isPinned,\n                    rtl = kendo.support.isRtl(wnd.containment),\n                    leftRtlOffset = containmentContext && rtl && wnd.containment.innerWidth() > wnd.containment.width ? kendo.support.scrollbar() : 0,\n                    scrollOffset = containmentContext ? { top: wnd.containment.scrollTop(), left: wnd.containment.scrollLeft()} : { top: 0, left: 0},\n                    newWidth, newHeight,\n                    windowBottom, windowRight,\n                    x = Math.max(e.x.location, 0),\n                    y = Math.max(e.y.location, 0);\n\n                    if (direction.indexOf(\"e\") >= 0) {\n\n                        if (wnd.containment && x - initialSize.width >= wnd.maxLeft - scrollOffset.left + containerOffset.left + leftRtlOffset) {\n                            newWidth = wnd.maxLeft + leftRtlOffset - initialPosition.left + initialSize.width - scrollOffset.left;\n                        } else {\n                            newWidth = x - initialPosition.left - containerOffset.left;\n                        }\n\n                        wrapper.outerWidth(constrain(newWidth, options.minWidth, options.maxWidth));\n                    } else if (direction.indexOf(\"w\") >= 0) {\n                        windowRight = initialPosition.left + initialSize.width + containerOffset.left;\n                        newWidth = constrain(windowRight - x, options.minWidth, options.maxWidth);\n                        position.left = windowRight - newWidth - containerOffset.left - leftRtlOffset - (that._relativeElMarginLeft || 0) + scrollOffset.left;\n\n                        if (wnd.containment && position.left <= wnd.minLeft) {\n                            position.left = wnd.minLeft;\n                            newWidth = constrain(windowRight - leftRtlOffset - position.left - containerOffset.left + scrollOffset.left, options.minWidth, options.maxWidth);\n                        }\n\n                        wrapper.css({\n                            left: position.left,\n                            width: newWidth\n                        });\n                    }\n\n                    var newWindowTop = y;\n                    if (wnd.options.pinned) {\n                        newWindowTop -= $(window).scrollTop();\n                    }\n                    if (direction.indexOf(\"s\") >= 0) {\n                        newHeight = newWindowTop - initialPosition.top - that.elementPadding - containerOffset.top;\n\n                        if (newWindowTop - initialSize.height - that.elementPadding >= wnd.maxTop + containerOffset.top - scrollOffset.top) {\n                            newHeight = wnd.maxTop - initialPosition.top + initialSize.height - scrollOffset.top;\n                        }\n\n                        wrapper.outerHeight(constrain(newHeight, options.minHeight, options.maxHeight));\n                    } else if (direction.indexOf(\"n\") >= 0) {\n                        windowBottom = initialPosition.top + initialSize.height + containerOffset.top;\n                        newHeight = constrain(windowBottom - newWindowTop, options.minHeight, options.maxHeight);\n                        position.top = windowBottom - newHeight - containerOffset.top - (that._relativeElMarginTop || 0) + scrollOffset.top;\n\n                        if (position.top <= wnd.minTop && wnd.containment) {\n                            position.top = wnd.minTop;\n                            newHeight = constrain(windowBottom - position.top - containerOffset.top + scrollOffset.top, options.minHeight, options.maxHeight);\n                        }\n\n                        wrapper.css({\n                            top: position.top,\n                            height: newHeight\n                        });\n                    }\n\n                    if (newWidth) {\n                        wnd.options.width = newWidth + \"px\";\n                    }\n                    if (newHeight) {\n                        wnd.options.height = newHeight + \"px\";\n                    }\n\n                    wnd.resize();\n            },\n            dragend: function (e) {\n                if (this._preventDragging) {\n                    return;\n                }\n\n                var that = this,\n                    wnd = that.owner,\n                    wrapper = wnd.wrapper;\n\n                wrapper\n                    .children(KWINDOWRESIZEHANDLES).not(e.currentTarget).show();\n\n                $(BODY).css(CURSOR, \"\");\n\n                if (wnd.touchScroller) {\n                    wnd.touchScroller.reset();\n                }\n\n                if (e.keyCode == 27) {\n                    wrapper.css(that.initialPosition)\n                        .css(that.initialSize);\n                }\n\n                wnd.trigger(RESIZEEND);\n\n                return false;\n            },\n            destroy: function() {\n                if (this._draggable) {\n                    this._draggable.destroy();\n                }\n\n                this._draggable = this.owner = null;\n            }\n        };\n\n        function WindowDragging(wnd, dragHandle) {\n            var that = this;\n            that.owner = wnd;\n            that._preventDragging = false;\n            that._draggable = new Draggable(wnd.wrapper, {\n                filter: dragHandle,\n                group: wnd.wrapper.id + \"-moving\",\n                dragstart: that.dragstart.bind(that),\n                drag: that.drag.bind(that),\n                dragend: that.dragend.bind(that),\n                dragcancel: that.dragcancel.bind(that)\n            });\n\n            that._draggable.userEvents.stopPropagation = false;\n        }\n\n        WindowDragging.prototype = {\n            dragstart: function (e) {\n                var wnd = this.owner,\n                    draggable = wnd.options.draggable,\n                    element = wnd.element,\n                    actions = element.find(\".k-window-actions\"),\n                    containerOffset = kendo.getOffset(wnd.appendTo);\n\n                this._preventDragging = wnd.trigger(DRAGSTART) || !draggable;\n                if (this._preventDragging || wnd.isMaximized()) {\n                    return;\n                }\n\n                wnd.initialWindowPosition = kendo.getOffset(wnd.wrapper, \"position\");\n\n                wnd.initialPointerPosition = {\n                    left: wnd.options.position.left,\n                    top: wnd.options.position.top\n                };\n\n                wnd.startPosition = {\n                    left: e.x.client - wnd.initialWindowPosition.left,\n                    top: e.y.client - wnd.initialWindowPosition.top\n                };\n\n                wnd._updateBoundaries();\n                if (!wnd.containment) {\n                    if (actions.length > 0) {\n                        wnd.minLeft = outerWidth(actions) + parseInt(actions.css(\"right\"), 10) - outerWidth(element);\n                    } else {\n                        wnd.minLeft =  20 - outerWidth(element); // at least 20px remain visible\n                    }\n\n                    wnd.minLeft -= containerOffset.left;\n                    wnd.minTop = -containerOffset.top;\n                }\n\n                $(templates.overlay).appendTo(wnd.wrapper).css({ opacity: 0 });\n\n                wnd.wrapper.children(KWINDOWRESIZEHANDLES).hide();\n\n                $(BODY).css(CURSOR, e.currentTarget.css(CURSOR));\n            },\n\n            drag: function (e) {\n                var wnd = this.owner;\n                var position = wnd.options.position;\n                var axis = wnd.options.draggable.axis;\n                var left;\n                var top;\n\n                if (this._preventDragging || wnd.isMaximized()) {\n                    return;\n                }\n\n                if (!axis || axis.toLowerCase() === \"x\") {\n                    left = e.x.client - wnd.startPosition.left;\n\n                    if (wnd.containment && !wnd._isPinned) {\n                        left += wnd.containment.scrollLeft();\n                    }\n\n                    position.left = constrain(left, wnd.minLeft, wnd.maxLeft);\n                }\n\n                if (!axis || axis.toLowerCase() === \"y\") {\n                    top = e.y.client - wnd.startPosition.top;\n\n                    if (wnd.containment && !wnd._isPinned) {\n                        top += wnd.containment.scrollTop();\n                    }\n\n                    position.top = constrain(top, wnd.minTop, wnd.maxTop);\n                }\n\n                if (kendo.support.transforms) {\n                    $(wnd.wrapper).css(\n                        \"transform\", \"translate(\" +\n                        (position.left - wnd.initialPointerPosition.left) + \"px, \" +\n                        (position.top - wnd.initialPointerPosition.top) + \"px)\"\n                    );\n                } else {\n                    $(wnd.wrapper).css(position);\n                }\n\n            },\n\n            _finishDrag: function() {\n                var wnd = this.owner;\n\n                wnd.wrapper\n                    .children(KWINDOWRESIZEHANDLES).toggle(!wnd.options.isMinimized).end()\n                    .find(KOVERLAY).remove();\n\n                $(BODY).css(CURSOR, \"\");\n            },\n\n            dragcancel: function (e) {\n                if (this._preventDragging) {\n                    return;\n                }\n                this._finishDrag();\n\n                e.currentTarget.closest(KWINDOW).css(this.owner.initialWindowPosition);\n            },\n\n            dragend: function () {\n                var wnd = this.owner;\n\n                if (this._preventDragging || wnd.isMaximized()) {\n                    return;\n                }\n\n                $(wnd.wrapper)\n                    .css(wnd.options.position)\n                    .css(\"transform\", \"\");\n\n                this._finishDrag();\n\n                wnd.trigger(DRAGEND);\n\n                return false;\n            },\n            destroy: function() {\n                if (this._draggable) {\n                    this._draggable.destroy();\n                }\n\n                this._draggable = this.owner = null;\n            }\n        };\n\n        kendo.ui.plugin(Window);\n\n    })(window.kendo.jQuery);\n\n    return window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.view',[ \"kendo.core\", \"kendo.fx\", \"kendo.mobile.scroller\", \"kendo.view\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.view\",\n    name: \"View\",\n    category: \"mobile\",\n    description: \"Mobile View\",\n    depends: [ \"core\", \"fx\", \"mobile.scroller\", \"view\" ],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        attr = kendo.attr,\n        Widget = ui.Widget,\n        ViewClone = kendo.ViewClone,\n        INIT = \"init\",\n        UI_OVERLAY = '<div style=\"height: 100%; width: 100%; position: absolute; top: 0; left: 0; z-index: 20000; display: none\"></div>',\n        BEFORE_SHOW = \"beforeShow\",\n        SHOW = \"show\",\n        AFTER_SHOW = \"afterShow\",\n        BEFORE_HIDE = \"beforeHide\",\n        TRANSITION_END = \"transitionEnd\",\n        TRANSITION_START = \"transitionStart\",\n        HIDE = \"hide\",\n        DESTROY = \"destroy\",\n        attrValue = kendo.attrValue,\n        roleSelector = kendo.roleSelector,\n        directiveSelector = kendo.directiveSelector,\n        compileMobileDirective = kendo.compileMobileDirective;\n\n    function initPopOvers(element) {\n        var popovers = element.find(roleSelector(\"popover\")),\n            idx, length,\n            roles = ui.roles;\n\n        for (idx = 0, length = popovers.length; idx < length; idx ++) {\n            kendo.initWidget(popovers[idx], {}, roles);\n        }\n    }\n\n    function preventScrollIfNotInput(e) {\n        if (!kendo.triggeredByInput(e)) {\n            e.preventDefault();\n        }\n    }\n\n    var View = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n            this.params = {};\n\n            $.extend(this, options);\n\n            this.transition = this.transition || this.defaultTransition;\n\n            this._id();\n\n            if (!this.options.$angular) {\n                this._layout();\n                this._overlay();\n                this._scroller();\n                this._model();\n            } else {\n                this._overlay();\n            }\n        },\n\n        events: [\n            INIT,\n            BEFORE_SHOW,\n            SHOW,\n            AFTER_SHOW,\n            BEFORE_HIDE,\n            HIDE,\n            DESTROY,\n            TRANSITION_START,\n            TRANSITION_END\n        ],\n\n        options: {\n            name: \"View\",\n            title: \"\",\n            layout: null,\n            getLayout: $.noop,\n            reload: false,\n            transition: \"\",\n            defaultTransition: \"\",\n            useNativeScrolling: false,\n            stretch: false,\n            zoom: false,\n            model: null,\n            modelScope: window,\n            scroller: {},\n            initWidgets: true\n        },\n\n        enable: function(enable) {\n            if(typeof enable == \"undefined\") {\n                enable = true;\n            }\n\n            if(enable) {\n                this.overlay.hide();\n            } else {\n                this.overlay.show();\n            }\n        },\n\n        destroy: function() {\n            if (this.layout) {\n                this.layout.detach(this);\n            }\n\n            this.trigger(DESTROY);\n\n\n            Widget.fn.destroy.call(this);\n\n            if (this.scroller) {\n                this.scroller.destroy();\n            }\n\n            if (this.options.$angular) {\n                this.element.scope().$destroy();\n            }\n\n            kendo.destroy(this.element);\n        },\n\n        purge: function() {\n            this.destroy();\n            this.element.remove();\n        },\n\n        triggerBeforeShow: function() {\n            if (this.trigger(BEFORE_SHOW, { view: this })) {\n                return false;\n            }\n            return true;\n        },\n\n        triggerBeforeHide: function() {\n            if (this.trigger(BEFORE_HIDE, { view: this })) {\n                return false;\n            }\n            return true;\n        },\n\n        showStart: function() {\n            var element = this.element;\n\n            element.css(\"display\", \"\");\n\n            if (!this.inited) {\n                this.inited = true;\n                this.trigger(INIT, {view: this});\n            } else { // skip the initial controller update\n                this._invokeNgController();\n            }\n\n            if (this.layout) {\n                this.layout.attach(this);\n            }\n\n            this._padIfNativeScrolling();\n            this.trigger(SHOW, {view: this});\n            kendo.resize(element);\n        },\n\n        showEnd: function() {\n            this.trigger(AFTER_SHOW, {view: this});\n            this._padIfNativeScrolling();\n        },\n\n        hideEnd: function() {\n            var that = this;\n            that.element.hide();\n            that.trigger(HIDE, {view: that});\n\n            if (that.layout) {\n                that.layout.trigger(HIDE, { view : that, layout: that.layout });\n            }\n        },\n\n        beforeTransition: function(type){\n            this.trigger(TRANSITION_START, { type: type });\n        },\n\n        afterTransition: function(type){\n            this.trigger(TRANSITION_END, { type: type });\n        },\n\n        _padIfNativeScrolling: function() {\n            if (mobile.appLevelNativeScrolling()) {\n                var isAndroid = kendo.support.mobileOS && kendo.support.mobileOS.android,\n                    skin = mobile.application.skin() || \"\",\n                    isAndroidForced = mobile.application.os.android || (skin.indexOf(\"android\") > -1),\n                    hasPlatformIndependentSkin = skin === \"flat\" || (skin.indexOf(\"material\") > -1),\n                    topContainer = (isAndroid || isAndroidForced) && (!hasPlatformIndependentSkin) ? \"footer\" : \"header\",\n                    bottomContainer = (isAndroid || isAndroidForced) && (!hasPlatformIndependentSkin) ? \"header\" : \"footer\";\n\n                this.content.css({\n                    paddingTop: this[topContainer].height(),\n                    paddingBottom: this[bottomContainer].height()\n                });\n            }\n        },\n\n        contentElement: function() {\n            var that = this;\n\n            return that.options.stretch ? that.content : that.scrollerContent;\n        },\n\n        clone: function() {\n            return new ViewClone(this);\n        },\n\n        _scroller: function() {\n            var that = this;\n\n            if (mobile.appLevelNativeScrolling()) {\n                return;\n            }\n            if (that.options.stretch) {\n                that.content.addClass(\"km-stretched-view\");\n            } else {\n                that.content.kendoMobileScroller($.extend(that.options.scroller, { zoom: that.options.zoom, useNative: that.options.useNativeScrolling }));\n\n                that.scroller = that.content.data(\"kendoMobileScroller\");\n                that.scrollerContent = that.scroller.scrollElement;\n            }\n\n            // prevent accidental address bar display when pulling the header\n            if (kendo.support.kineticScrollNeeded) {\n                $(that.element).on(\"touchmove\", \".km-header\", preventScrollIfNotInput);\n                if (!that.options.useNativeScrolling && !that.options.stretch) {\n                    $(that.element).on(\"touchmove\", \".km-content\", preventScrollIfNotInput);\n                }\n            }\n        },\n\n        _model: function() {\n            var that = this,\n                element = that.element,\n                model = that.options.model;\n\n            if (typeof model === \"string\") {\n                model = kendo.getter(model)(that.options.modelScope);\n            }\n\n            that.model = model;\n\n            initPopOvers(element);\n\n            that.element.css(\"display\", \"\");\n            if (that.options.initWidgets) {\n                if (model) {\n                    kendo.bind(element, model, ui, kendo.ui, kendo.dataviz.ui);\n                } else {\n                    mobile.init(element.children());\n                }\n            }\n            that.element.css(\"display\", \"none\");\n        },\n\n        _id: function() {\n            var element = this.element,\n                idAttrValue = element.attr(\"id\") || \"\";\n\n            this.id = attrValue(element, \"url\") || \"#\" + idAttrValue;\n\n            if (this.id == \"#\") {\n                this.id = kendo.guid();\n                element.attr(\"id\", this.id);\n            }\n        },\n\n        _layout: function() {\n            var contentSelector = roleSelector(\"content\"),\n                element = this.element;\n\n            element.addClass(\"km-view\");\n\n            this.header = element.children(roleSelector(\"header\")).addClass(\"km-header\");\n            this.footer = element.children(roleSelector(\"footer\")).addClass(\"km-footer\");\n\n            if (!element.children(contentSelector)[0]) {\n              element.wrapInner(\"<div \" + attr(\"role\") + '=\"content\"></div>');\n            }\n\n            this.content = element.children(roleSelector(\"content\"))\n                                .addClass(\"km-content\");\n\n            this.element.prepend(this.header).append(this.footer);\n\n\n            this.layout = this.options.getLayout(this.layout);\n\n            if (this.layout) {\n                this.layout.setup(this);\n            }\n        },\n\n        _overlay: function() {\n            this.overlay = $(UI_OVERLAY).appendTo(this.element);\n        },\n\n        _invokeNgController: function() {\n            var controller,\n                scope;\n\n            if (this.options.$angular) {\n                controller = this.element.controller();\n                scope = this.options.$angular[0];\n\n                if (controller) {\n                    var callback = this._callController.bind(this, controller, scope);\n\n                    if (/^\\$(digest|apply)$/.test(scope.$$phase)) {\n                        callback();\n                    } else {\n                        scope.$apply(callback);\n                    }\n                }\n            }\n        },\n\n        _callController: function(controller, scope) {\n            this.element.injector().invoke(controller.constructor, controller, { $scope: scope });\n        }\n    });\n\n    function initWidgets(collection) {\n        collection.each(function() {\n            kendo.initWidget($(this), {}, ui.roles);\n        });\n    }\n\n    var Layout = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n\n            element = this.element;\n\n            this.header = element.children(this._locate(\"header\")).addClass(\"km-header\");\n            this.footer = element.children(this._locate(\"footer\")).addClass(\"km-footer\");\n            this.elements = this.header.add(this.footer);\n\n            initPopOvers(element);\n\n            if (!this.options.$angular) {\n                kendo.mobile.init(this.element.children());\n            }\n            this.element.detach();\n            this.trigger(INIT, {layout: this});\n        },\n\n        _locate: function(selectors) {\n            return this.options.$angular ? directiveSelector(selectors) : roleSelector(selectors);\n        },\n\n        options: {\n            name: \"Layout\",\n            id: null,\n            platform: null\n        },\n\n        events: [\n            INIT,\n            SHOW,\n            HIDE\n        ],\n\n        setup: function(view) {\n            if (!view.header[0]) { view.header = this.header; }\n            if (!view.footer[0]) { view.footer = this.footer; }\n        },\n\n        detach: function(view) {\n            var that = this;\n            if (view.header === that.header && that.header[0]) {\n                view.element.prepend(that.header.detach()[0].cloneNode(true));\n            }\n\n            if (view.footer === that.footer && that.footer.length) {\n                view.element.append(that.footer.detach()[0].cloneNode(true));\n            }\n        },\n\n        attach: function(view) {\n            var that = this,\n                previousView = that.currentView;\n\n            if (previousView) {\n                that.detach(previousView);\n            }\n\n            if (view.header === that.header) {\n                that.header.detach();\n                view.element.children(roleSelector(\"header\")).remove();\n                view.element.prepend(that.header);\n            }\n\n            if (view.footer === that.footer) {\n                that.footer.detach();\n                view.element.children(roleSelector(\"footer\")).remove();\n                view.element.append(that.footer);\n            }\n\n            that.trigger(SHOW, {layout: that, view: view});\n            that.currentView = view;\n        }\n    });\n\n    var Observable = kendo.Observable,\n        bodyRegExp = /<body[^>]*>(([\\u000a\\u000d\\u2028\\u2029]|.)*)<\\/body>/i,\n        LOAD_START = \"loadStart\",\n        LOAD_COMPLETE = \"loadComplete\",\n        SHOW_START = \"showStart\",\n        SAME_VIEW_REQUESTED = \"sameViewRequested\",\n        VIEW_SHOW = \"viewShow\",\n        VIEW_TYPE_DETERMINED = \"viewTypeDetermined\",\n        AFTER = \"after\";\n\n    var ViewEngine = Observable.extend({\n        init: function(options) {\n            var that = this,\n                views,\n                errorMessage,\n                container,\n                collection;\n\n            Observable.fn.init.call(that);\n\n            $.extend(that, options);\n            that.sandbox = $(\"<div />\");\n            container = that.container;\n\n            views = that._hideViews(container);\n            that.rootView = views.first();\n\n            if (!that.rootView[0] && options.rootNeeded) {\n                if (container[0] == kendo.mobile.application.element[0]) {\n                    errorMessage = 'Your kendo mobile application element does not contain any direct child elements with data-role=\"view\" attribute set. Make sure that you instantiate the mobile application using the correct container.';\n                } else {\n                    errorMessage = 'Your pane element does not contain any direct child elements with data-role=\"view\" attribute set.';\n                }\n                throw new Error(errorMessage);\n            }\n\n            that.layouts = {};\n\n            that.viewContainer = new kendo.ViewContainer(that.container);\n\n            that.viewContainer.bind(\"accepted\", function(e) {\n                e.view.params = that.params;\n            });\n\n            that.viewContainer.bind(\"complete\", function(e) {\n                that.trigger(VIEW_SHOW, { view: e.view });\n            });\n\n            that.viewContainer.bind(AFTER, function() {\n                that.trigger(AFTER);\n            });\n\n            this.getLayoutProxy = this._getLayout.bind(this);\n            that._setupLayouts(container);\n\n            collection = container.children(that._locate(\"modalview drawer\"));\n            if (that.$angular) {\n\n                that.$angular[0].viewOptions = {\n                    defaultTransition: that.transition,\n                    loader: that.loader,\n                    container: that.container,\n                    getLayout: that.getLayoutProxy\n                };\n\n                collection.each(function(idx, element) {\n                    compileMobileDirective($(element), options.$angular[0]);\n                });\n            } else {\n                initWidgets(collection);\n            }\n\n            this.bind(this.events, options);\n        },\n\n        events: [\n            SHOW_START,\n            AFTER,\n            VIEW_SHOW,\n            LOAD_START,\n            LOAD_COMPLETE,\n            SAME_VIEW_REQUESTED,\n            VIEW_TYPE_DETERMINED\n        ],\n\n        destroy: function() {\n            kendo.destroy(this.container);\n\n            for (var id in this.layouts) {\n                this.layouts[id].destroy();\n            }\n        },\n\n        view: function() {\n            return this.viewContainer.view;\n        },\n\n        showView: function(url, transition, params) {\n            url = url.replace(new RegExp(\"^\" + this.remoteViewURLPrefix), \"\");\n            if (url === \"\" && this.remoteViewURLPrefix) {\n                url = \"/\";\n            }\n\n            if (url.replace(/^#/, \"\") === this.url) {\n                this.trigger(SAME_VIEW_REQUESTED);\n                return false;\n            }\n\n            this.trigger(SHOW_START);\n\n            var that = this,\n                showClosure = function(view) {\n                    return that.viewContainer.show(view, transition, url);\n                },\n                element = that._findViewElement(url),\n                view = kendo.widgetInstance(element);\n\n            that.url = url.replace(/^#/, \"\");\n\n            that.params = params;\n\n            if (view && view.reload) {\n                view.purge();\n                element = [];\n            }\n\n            this.trigger(VIEW_TYPE_DETERMINED, { remote: element.length === 0, url: url });\n\n            if (element[0]) {\n                if (!view) {\n                    view = that._createView(element);\n                }\n\n                return showClosure(view);\n            } else {\n                if (this.serverNavigation) {\n                    location.href = url;\n                } else {\n                    that._loadView(url, showClosure);\n                }\n                return true;\n            }\n        },\n\n        append: function(html, url) {\n            var sandbox = this.sandbox,\n                urlPath = (url || \"\").split(\"?\")[0],\n                container = this.container,\n                views,\n                modalViews,\n                view;\n\n            if (bodyRegExp.test(html)) {\n                html = RegExp.$1;\n            }\n\n            sandbox[0].innerHTML = html;\n\n            container.append(sandbox.children(\"script, style\"));\n\n            views = this._hideViews(sandbox);\n            view = views.first();\n\n            // Generic HTML content found as remote view - no remote view markers\n            if (!view.length) {\n                views = view = sandbox.wrapInner(\"<div data-role=view />\").children(); // one element\n            }\n\n            if (urlPath) {\n                view.hide().attr(attr(\"url\"), urlPath);\n            }\n\n            this._setupLayouts(sandbox);\n\n            modalViews = sandbox.children(this._locate(\"modalview drawer\"));\n\n            container.append(sandbox.children(this._locate(\"layout modalview drawer\")).add(views));\n\n            // Initialize the modalviews after they have been appended to the final container\n            initWidgets(modalViews);\n\n            return this._createView(view);\n        },\n\n        _locate: function(selectors) {\n            return this.$angular ? directiveSelector(selectors) : roleSelector(selectors);\n        },\n\n        _findViewElement: function(url) {\n            var element,\n                urlPath = url.split(\"?\")[0];\n\n            if (!urlPath) {\n                return this.rootView;\n            }\n\n            element = this.container.children(\"[\" + attr(\"url\") + \"='\" + urlPath + \"']\");\n\n            // do not try to search for \"#/foo/bar\" id, jQuery throws error\n            if (!element[0] && urlPath.indexOf(\"/\") === -1) {\n                element = this.container.children(urlPath.charAt(0) === \"#\" ? urlPath : \"#\" + urlPath);\n            }\n\n            return element;\n        },\n\n        _createView: function(element) {\n            if (this.$angular) {\n                return compileMobileDirective(element, this.$angular[0]);\n            } else {\n                return kendo.initWidget(element, {\n                    defaultTransition: this.transition,\n                    loader: this.loader,\n                    container: this.container,\n                    getLayout: this.getLayoutProxy,\n                    modelScope: this.modelScope,\n                    reload: attrValue(element, \"reload\")\n                }, ui.roles);\n            }\n        },\n\n        _getLayout: function(name) {\n            if (name === \"\") {\n                return null;\n            }\n\n            return name ? this.layouts[name] : this.layouts[this.layout];\n        },\n\n        _loadView: function(url, callback) {\n            if (this._xhr) {\n                this._xhr.abort();\n            }\n\n            this.trigger(LOAD_START);\n\n            this._xhr = $.get(kendo.absoluteURL(url, this.remoteViewURLPrefix), \"html\")\n                .always(this._xhrComplete.bind(this, callback, url));\n        },\n\n        _xhrComplete: function(callback, url, response) {\n            var success = true;\n\n            if (typeof response === \"object\") {\n                if (response.status === 0) {\n                    if (response.responseText && response.responseText.length > 0) {\n                        success = true;\n                        response = response.responseText;\n                    } else { // request has been aborted for real\n                        return;\n                    }\n                }\n            }\n\n            this.trigger(LOAD_COMPLETE);\n\n            if (success) {\n                callback(this.append(response, url));\n            }\n        },\n\n        _hideViews: function(container) {\n            return container.children(this._locate(\"view splitview\")).hide();\n        },\n\n        _setupLayouts: function(element) {\n            var that = this,\n                layout;\n\n            element.children(that._locate(\"layout\")).each(function() {\n                if (that.$angular) {\n                    layout = compileMobileDirective($(this), that.$angular[0]);\n                } else {\n                    layout = kendo.initWidget($(this), {}, ui.roles);\n                }\n\n                var platform = layout.options.platform;\n\n                if (!platform || platform === mobile.application.os.name) {\n                    that.layouts[layout.options.id] = layout;\n                } else {\n                    layout.destroy();\n                }\n            });\n\n        }\n    });\n\n    kendo.mobile.ViewEngine = ViewEngine;\n\n    ui.plugin(View);\n    ui.plugin(Layout);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\r\n    define('kendo.mobile.loader',[ \"kendo.core\" ], f);\r\n})(function(){\r\n\r\nvar __meta__ = { // jshint ignore:line\r\n    id: \"mobile.loader\",\r\n    name: \"Loader\",\r\n    category: \"mobile\",\r\n    description: \"Mobile Loader\",\r\n    depends: [ \"core\" ],\r\n    hidden: true\r\n};\r\n\r\n(function($, undefined) {\r\n    var kendo = window.kendo,\r\n        ui = kendo.mobile.ui,\r\n        Widget = ui.Widget,\r\n        CAPTURE_EVENTS = $.map(kendo.eventMap, function(value) { return value; }).join(\" \").split(\" \");\r\n\r\n    var Loader = Widget.extend({\r\n        init: function(container, options) {\r\n            var that = this,\r\n                element = $('<div class=\"km-loader\"><span class=\"km-loading km-spin\"></span><span class=\"km-loading-left\"></span><span class=\"km-loading-right\"></span></div>');\r\n\r\n            Widget.fn.init.call(that, element, options);\r\n\r\n            that.container = container;\r\n            that.captureEvents = false;\r\n\r\n            that._attachCapture();\r\n\r\n            element.append(that.options.loading).hide().appendTo(container);\r\n        },\r\n\r\n        options: {\r\n            name: \"Loader\",\r\n            loading: \"<h1>Loading...</h1>\",\r\n            timeout: 100\r\n        },\r\n\r\n        show: function() {\r\n            var that = this;\r\n\r\n            clearTimeout(that._loading);\r\n\r\n            if (that.options.loading === false) {\r\n                return;\r\n            }\r\n\r\n            that.captureEvents = true;\r\n            that._loading = setTimeout(function() {\r\n                that.element.show();\r\n            }, that.options.timeout);\r\n        },\r\n\r\n        hide: function() {\r\n            this.captureEvents = false;\r\n            clearTimeout(this._loading);\r\n            this.element.hide();\r\n        },\r\n\r\n        changeMessage: function(message) {\r\n            this.options.loading = message;\r\n            this.element.find(\">h1\").html(message);\r\n        },\r\n\r\n        transition: function() {\r\n            this.captureEvents = true;\r\n            this.container.css(\"pointer-events\", \"none\");\r\n        },\r\n\r\n        transitionDone: function() {\r\n            this.captureEvents = false;\r\n            this.container.css(\"pointer-events\", \"\");\r\n        },\r\n\r\n        _attachCapture: function() {\r\n            var that = this;\r\n            that.captureEvents = false;\r\n\r\n            function capture(e) {\r\n                if (that.captureEvents) {\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n\r\n            for (var i = 0; i < CAPTURE_EVENTS.length; i ++) {\r\n                that.container[0].addEventListener(CAPTURE_EVENTS[i], capture, true);\r\n            }\r\n        }\r\n    });\r\n\r\n    ui.plugin(Loader);\r\n})(window.kendo.jQuery);\r\n\r\nreturn window.kendo;\r\n\r\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\r\n\n(function(f, define){\r\n    define('kendo.mobile.pane',[ \"kendo.mobile.view\", \"kendo.mobile.loader\" ], f);\r\n})(function(){\r\n\r\nvar __meta__ = { // jshint ignore:line\r\n    id: \"mobile.pane\",\r\n    name: \"Pane\",\r\n    category: \"mobile\",\r\n    description: \"Mobile Pane\",\r\n    depends: [ \"mobile.view\", \"mobile.loader\" ],\r\n    hidden: true\r\n};\r\n\r\n(function($, undefined) {\r\n    var kendo = window.kendo,\r\n        mobile = kendo.mobile,\r\n        roleSelector = kendo.roleSelector,\r\n        ui = mobile.ui,\r\n        Widget = ui.Widget,\r\n        ViewEngine = mobile.ViewEngine,\r\n        View = ui.View,\r\n        Loader = mobile.ui.Loader,\r\n\r\n        EXTERNAL = \"external\",\r\n        HREF = \"href\",\r\n        DUMMY_HREF = \"#!\",\r\n\r\n        NAVIGATE = \"navigate\",\r\n        VIEW_SHOW = \"viewShow\",\r\n        SAME_VIEW_REQUESTED = \"sameViewRequested\",\r\n        OS = kendo.support.mobileOS,\r\n        SKIP_TRANSITION_ON_BACK_BUTTON = OS.ios && !OS.appMode && OS.flatVersion >= 700,\r\n        WIDGET_RELS = /popover|actionsheet|modalview|drawer/,\r\n        BACK = \"#:back\",\r\n\r\n        attrValue = kendo.attrValue;\r\n\r\n    var Pane = Widget.extend({\r\n        init: function(element, options) {\r\n            var that = this;\r\n\r\n            Widget.fn.init.call(that, element, options);\r\n\r\n            options = that.options;\r\n            element = that.element;\r\n\r\n            element.addClass(\"km-pane\");\r\n\r\n            if (that.options.collapsible) {\r\n                element.addClass(\"km-collapsible-pane\");\r\n            }\r\n\r\n            this.history = [];\r\n\r\n            this.historyCallback = function(url, params, backButtonPressed) {\r\n                var transition = that.transition;\r\n                that.transition = null;\r\n\r\n                // swiping back in iOS leaves the app in a very broken state if we perform a transition\r\n                if (SKIP_TRANSITION_ON_BACK_BUTTON && backButtonPressed) {\r\n                    transition = \"none\";\r\n                }\r\n\r\n                return that.viewEngine.showView(url, transition, params);\r\n            };\r\n\r\n            this._historyNavigate = function(url) {\r\n                if (url === BACK) {\r\n                    if (that.history.length === 1) {\r\n                        return;\r\n                    }\r\n\r\n                    that.history.pop();\r\n                    url = that.history[that.history.length - 1];\r\n                } else {\r\n                    that.history.push(url);\r\n                }\r\n\r\n                that.historyCallback(url, kendo.parseQueryStringParams(url));\r\n            };\r\n\r\n            this._historyReplace = function(url) {\r\n                var params = kendo.parseQueryStringParams(url);\r\n                that.history[that.history.length - 1] = url;\r\n                that.historyCallback(url, params);\r\n            };\r\n\r\n            that.loader = new Loader(element, {\r\n                loading: that.options.loading\r\n            });\r\n\r\n            that.viewEngine = new ViewEngine({\r\n                container: element,\r\n                transition: options.transition,\r\n                modelScope: options.modelScope,\r\n                rootNeeded: !options.initial,\r\n                serverNavigation: options.serverNavigation,\r\n                remoteViewURLPrefix: options.root || \"\",\r\n                layout: options.layout,\r\n                $angular: options.$angular,\r\n                loader: that.loader,\r\n\r\n                showStart: function() {\r\n                    that.loader.transition();\r\n                    that.closeActiveDialogs();\r\n                },\r\n\r\n                after: function() {\r\n                    that.loader.transitionDone();\r\n                },\r\n\r\n                viewShow: function(e) {\r\n                    that.trigger(VIEW_SHOW, e);\r\n                },\r\n\r\n                loadStart: function() {\r\n                    that.loader.show();\r\n                },\r\n\r\n                loadComplete: function() {\r\n                    that.loader.hide();\r\n                },\r\n\r\n                sameViewRequested: function() {\r\n                    that.trigger(SAME_VIEW_REQUESTED);\r\n                },\r\n\r\n                viewTypeDetermined: function(e) {\r\n                    if (!e.remote || !that.options.serverNavigation)  {\r\n                        that.trigger(NAVIGATE, { url: e.url });\r\n                    }\r\n                }\r\n            });\r\n\r\n\r\n            this._setPortraitWidth();\r\n\r\n            kendo.onResize(function() {\r\n                that._setPortraitWidth();\r\n            });\r\n\r\n            that._setupAppLinks();\r\n        },\r\n\r\n        closeActiveDialogs: function() {\r\n            var dialogs = this.element.find(roleSelector(\"actionsheet popover modalview\")).filter(\":visible\");\r\n            dialogs.each(function() {\r\n                kendo.widgetInstance($(this), ui).close();\r\n            });\r\n        },\r\n\r\n        navigateToInitial: function() {\r\n            var initial = this.options.initial;\r\n\r\n            if (initial) {\r\n                this.navigate(initial);\r\n            }\r\n\r\n            return initial;\r\n        },\r\n\r\n        options: {\r\n            name: \"Pane\",\r\n            portraitWidth: \"\",\r\n            transition: \"\",\r\n            layout: \"\",\r\n            collapsible: false,\r\n            initial: null,\r\n            modelScope: window,\r\n            loading: \"<h1>Loading...</h1>\"\r\n        },\r\n\r\n        events: [\r\n            NAVIGATE,\r\n            VIEW_SHOW,\r\n            SAME_VIEW_REQUESTED\r\n        ],\r\n\r\n        append: function(html) {\r\n            return this.viewEngine.append(html);\r\n        },\r\n\r\n        destroy: function() {\r\n            Widget.fn.destroy.call(this);\r\n            this.viewEngine.destroy();\r\n            this.userEvents.destroy();\r\n        },\r\n\r\n        navigate: function(url, transition) {\r\n            if (url instanceof View) {\r\n                url = url.id;\r\n            }\r\n\r\n            this.transition = transition;\r\n\r\n            this._historyNavigate(url);\r\n        },\r\n\r\n        replace: function(url, transition) {\r\n            if (url instanceof View) {\r\n                url = url.id;\r\n            }\r\n\r\n            this.transition = transition;\r\n\r\n            this._historyReplace(url);\r\n        },\r\n\r\n        bindToRouter: function(router) {\r\n            var that = this,\r\n                history = this.history,\r\n                viewEngine = this.viewEngine;\r\n\r\n            router.bind(\"init\", function(e) {\r\n                var url = e.url,\r\n                    attrUrl = router.pushState ? url : \"/\";\r\n\r\n                viewEngine.rootView.attr(kendo.attr(\"url\"), attrUrl);\r\n\r\n                // if current is set, then this means that the pane has navigated to a given view - we need to update the router accordingly.\r\n                var length = history.length;\r\n\r\n                if (url === \"/\" && length) {\r\n                    router.navigate(history[length - 1], true);\r\n                    e.preventDefault(); // prevents from executing routeMissing, by default\r\n                }\r\n            });\r\n\r\n            router.bind(\"routeMissing\", function(e) {\r\n                if (!that.historyCallback(e.url, e.params, e.backButtonPressed)) {\r\n                    e.preventDefault();\r\n                }\r\n            });\r\n\r\n            router.bind(\"same\", function() {\r\n                that.trigger(SAME_VIEW_REQUESTED);\r\n            });\r\n\r\n            that._historyNavigate = function(url) {\r\n                router.navigate(url);\r\n            };\r\n\r\n            that._historyReplace = function(url) {\r\n                router.replace(url);\r\n            };\r\n        },\r\n\r\n        hideLoading: function() {\r\n            this.loader.hide();\r\n        },\r\n\r\n        showLoading: function() {\r\n            this.loader.show();\r\n        },\r\n\r\n        changeLoadingMessage: function(message) {\r\n            this.loader.changeMessage(message);\r\n        },\r\n\r\n        view: function() {\r\n            return this.viewEngine.view();\r\n        },\r\n\r\n        _setPortraitWidth: function() {\r\n            var width,\r\n                portraitWidth = this.options.portraitWidth;\r\n\r\n            if (portraitWidth) {\r\n                width = kendo.mobile.application.element.is(\".km-vertical\") ? portraitWidth : \"auto\";\r\n                this.element.css(\"width\", width);\r\n            }\r\n        },\r\n\r\n        _setupAppLinks: function() {\r\n            var that = this,\r\n                linkRoles = \"tab\",\r\n                pressedButtonSelector = \"[data-\" + kendo.ns + \"navigate-on-press]\",\r\n\r\n                buttonSelectors = $.map([\"button\", \"backbutton\", \"detailbutton\", \"listview-link\"] , function(role) {\r\n                    return roleSelector(role) + \":not(\" + pressedButtonSelector + \")\";\r\n                }).join(\",\");\r\n\r\n            this.element.handler(this)\r\n                .on(\"down\", roleSelector(linkRoles) + \",\" + pressedButtonSelector, \"_mouseup\")\r\n                .on(\"click\", roleSelector(linkRoles) + \",\" + buttonSelectors + \",\" + pressedButtonSelector, \"_appLinkClick\");\r\n\r\n            this.userEvents = new kendo.UserEvents(this.element, {\r\n                fastTap: true,\r\n                filter: buttonSelectors,\r\n                tap: function(e) {\r\n                    e.event.currentTarget = e.touch.currentTarget;\r\n                    that._mouseup(e.event);\r\n                }\r\n            });\r\n\r\n            // remove the ms-touch-action added by the user events, breaks native scrolling in WP8\r\n            this.element.css('-ms-touch-action', '');\r\n        },\r\n\r\n        _appLinkClick: function (e) {\r\n            var href = $(e.currentTarget).attr(\"href\");\r\n            var remote = href && href[0] !== \"#\" && this.options.serverNavigation;\r\n\r\n            if(!remote && attrValue($(e.currentTarget), \"rel\") != EXTERNAL) {\r\n                e.preventDefault();\r\n            }\r\n        },\r\n\r\n        _mouseup: function(e) {\r\n            if (e.which > 1 || e.isDefaultPrevented()) {\r\n                return;\r\n            }\r\n\r\n            var pane = this,\r\n                link = $(e.currentTarget),\r\n                transition = attrValue(link, \"transition\"),\r\n                rel = attrValue(link, \"rel\") || \"\",\r\n                target = attrValue(link, \"target\"),\r\n                href = link.attr(HREF),\r\n                delayedTouchEnd = SKIP_TRANSITION_ON_BACK_BUTTON && link[0].offsetHeight === 0,\r\n                remote = href && href[0] !== \"#\" && this.options.serverNavigation;\r\n\r\n            if (delayedTouchEnd || remote || rel === EXTERNAL || (typeof href === \"undefined\") || href === DUMMY_HREF) {\r\n                return;\r\n            }\r\n\r\n            // Prevent iOS address bar progress display for in app navigation\r\n            link.attr(HREF, DUMMY_HREF);\r\n            setTimeout(function() { link.attr(HREF, href); });\r\n\r\n            if (rel.match(WIDGET_RELS)) {\r\n                kendo.widgetInstance($(href), ui).openFor(link);\r\n                // if propagation is not stopped and actionsheet is opened from tabstrip,\r\n                // the actionsheet is closed immediately.\r\n                if (rel === \"actionsheet\" || rel === \"drawer\") {\r\n                    e.stopPropagation();\r\n                }\r\n            } else {\r\n                if (target === \"_top\") {\r\n                    pane = mobile.application.pane;\r\n                }\r\n                else if (target) {\r\n                    pane = $(\"#\" + target).data(\"kendoMobilePane\");\r\n                }\r\n\r\n                pane.navigate(href, transition);\r\n            }\r\n\r\n            e.preventDefault();\r\n        }\r\n    });\r\n\r\n    Pane.wrap = function(element) {\r\n        if (!element.is(roleSelector(\"view\"))) {\r\n            element = element.wrap('<div data-' + kendo.ns + 'role=\"view\" data-stretch=\"true\"></div>').parent();\r\n        }\r\n\r\n        var paneContainer = element.wrap('<div class=\"km-pane-wrapper\"><div></div></div>').parent(),\r\n            pane = new Pane(paneContainer);\r\n\r\n        pane.navigate(\"\");\r\n\r\n        return pane;\r\n    };\r\n    ui.plugin(Pane);\r\n})(window.kendo.jQuery);\r\n\r\nreturn window.kendo;\r\n\r\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\r\n\n(function(f, define){\n    define('kendo.mobile.popover',[ \"kendo.popup\", \"kendo.mobile.pane\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.popover\",\n    name: \"PopOver\",\n    category: \"mobile\",\n    description: \"The mobile PopOver widget represents a transient view which is displayed when the user taps on a navigational widget or area on the screen. \",\n    depends: [ \"popup\", \"mobile.pane\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        HIDE = \"hide\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        WRAPPER = '<div class=\"km-popup-wrapper\"></div>',\n        ARROW = '<div class=\"km-popup-arrow\"></div>',\n        OVERLAY = '<div class=\"km-popup-overlay\"></div>',\n        DIRECTION_CLASSES = \"km-up km-down km-left km-right\",\n        Widget = ui.Widget,\n        DIRECTIONS = {\n            \"down\": {\n                origin: \"bottom center\",\n                position: \"top center\"\n            },\n            \"up\": {\n                origin: \"top center\",\n                position: \"bottom center\"\n            },\n            \"left\": {\n                origin: \"center left\",\n                position: \"center right\",\n                collision: \"fit flip\"\n            },\n            \"right\": {\n                origin: \"center right\",\n                position: \"center left\",\n                collision: \"fit flip\"\n            }\n        },\n\n        ANIMATION = {\n            animation: {\n                open: {\n                    effects: \"fade:in\",\n                    duration: 0\n                },\n                close: {\n                    effects: \"fade:out\",\n                    duration: 400\n                }\n            }\n        },\n        DIMENSIONS = {\n            \"horizontal\": { offset: \"top\", size: \"height\" },\n            \"vertical\": { offset: \"left\", size: \"width\" }\n        },\n\n        REVERSE = {\n            \"up\": \"down\",\n            \"down\": \"up\",\n            \"left\": \"right\",\n            \"right\": \"left\"\n        };\n\n    var Popup = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                containerPopup = element.closest(\".km-modalview-wrapper\"),\n                viewport = element.closest(\".km-root\").children('.km-pane').first(),\n                container = containerPopup[0] ? containerPopup : viewport,\n                popupOptions,\n                axis;\n\n            if (options.viewport) {\n                viewport = options.viewport;\n            } else if (!viewport[0]) {\n                viewport = window;\n            }\n\n            if (options.container) {\n                container = options.container;\n            } else if (!container[0]) {\n                container = document.body;\n            }\n\n            popupOptions = {\n                viewport: viewport,\n                copyAnchorStyles: false,\n                autosize: true,\n                open: function() {\n                    that.overlay.show();\n                },\n\n                activate: that._activate.bind(that),\n\n                deactivate: function() {\n                    that.overlay.hide();\n                    if (!that._apiCall) {\n                        that.trigger(HIDE);\n                    }\n\n                    that._apiCall = false;\n                }\n            };\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.element;\n            options = that.options;\n\n            element.wrap(WRAPPER).addClass(\"km-popup\").show();\n\n            axis = that.options.direction.match(/left|right/) ? \"horizontal\" : \"vertical\";\n\n            that.dimensions = DIMENSIONS[axis];\n\n            that.wrapper = element.parent().css({\n                width: options.width,\n                height: options.height\n            }).addClass(\"km-popup-wrapper km-\" + options.direction).hide();\n\n            that.arrow = $(ARROW).prependTo(that.wrapper).hide();\n\n            that.overlay = $(OVERLAY).appendTo(container).hide();\n            popupOptions.appendTo = that.overlay;\n\n            if (options.className) {\n                that.overlay.addClass(options.className);\n            }\n\n            that.popup = new kendo.ui.Popup(that.wrapper, $.extend(true, popupOptions, ANIMATION, DIRECTIONS[options.direction]));\n        },\n\n        options: {\n            name: \"Popup\",\n            width: 240,\n            height: \"\",\n            direction: \"down\",\n            container: null,\n            viewport: null\n        },\n\n        events: [\n            HIDE\n        ],\n\n        show: function(target) {\n            this.popup.options.anchor = $(target);\n            this.popup.open();\n        },\n\n        hide: function() {\n            this._apiCall = true;\n            this.popup.close();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.popup.destroy();\n            this.overlay.remove();\n        },\n\n        target: function() {\n            return this.popup.options.anchor;\n        },\n\n        _activate: function() {\n            var that = this,\n                direction = that.options.direction,\n                dimensions = that.dimensions,\n                offset = dimensions.offset,\n                popup = that.popup,\n                anchor = popup.options.anchor,\n                anchorOffset = $(anchor).offset(),\n                elementOffset = $(popup.element).offset(),\n                cssClass = popup.flipped ? REVERSE[direction] : direction,\n                min = that.arrow[dimensions.size]() * 2,\n                max = that.element[dimensions.size]() - that.arrow[dimensions.size](),\n                size = $(anchor)[dimensions.size](),\n                offsetAmount = anchorOffset[offset] - elementOffset[offset] + (size / 2);\n\n            if (offsetAmount < min) {\n                offsetAmount = min;\n            }\n\n            if (offsetAmount > max) {\n                offsetAmount = max;\n            }\n\n            that.wrapper.removeClass(DIRECTION_CLASSES).addClass(\"km-\" + cssClass);\n            that.arrow.css(offset, offsetAmount).show();\n        }\n    });\n\n    var PopOver = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                popupOptions;\n\n            that.initialOpen = false;\n\n            Widget.fn.init.call(that, element, options);\n\n            popupOptions = $.extend({\n                className: \"km-popover-root\",\n                hide: function() { that.trigger(CLOSE); }\n            }, this.options.popup);\n\n            that.popup = new Popup(that.element, popupOptions);\n            that.popup.overlay.on(\"move\", function(e) {\n                if (e.target == that.popup.overlay[0]) {\n                    e.preventDefault();\n                }\n            });\n\n            that.pane = new ui.Pane(that.element, $.extend(this.options.pane, { $angular: this.options.$angular }));\n\n            kendo.notify(that, ui);\n        },\n\n        options: {\n            name: \"PopOver\",\n            popup: { },\n            pane: { }\n        },\n\n        events: [\n            OPEN,\n            CLOSE\n        ],\n\n        open: function(target) {\n            this.popup.show(target);\n\n            if (!this.initialOpen) {\n                if (!this.pane.navigateToInitial()) {\n                    this.pane.navigate(\"\");\n                }\n\n                this.popup.popup._position();\n                this.initialOpen = true;\n            } else {\n                this.pane.view()._invokeNgController();\n            }\n        },\n\n        openFor: function(target) {\n            this.open(target);\n            this.trigger(OPEN, { target: this.popup.target() });\n        },\n\n        close: function() {\n            this.popup.hide();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.pane.destroy();\n            this.popup.destroy();\n\n            kendo.destroy(this.element);\n        }\n    });\n\n    ui.plugin(Popup);\n    ui.plugin(PopOver);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.shim',[ \"kendo.popup\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.shim\",\n    name: \"Shim\",\n    category: \"mobile\",\n    description: \"Mobile Shim\",\n    depends: [ \"popup\" ],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        Popup = kendo.ui.Popup,\n        SHIM = '<div class=\"km-shim\"></div>',\n        HIDE = \"hide\",\n        Widget = ui.Widget;\n\n    var Shim = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                app = kendo.mobile.application,\n                os = kendo.support.mobileOS,\n                osname = app ? app.os.name : (os ? os.name : \"ios\"),\n                ioswp = osname === \"ios\" || osname === \"wp\" || (app ? app.os.skin : false),\n                bb = osname === \"blackberry\",\n                align = options.align || (ioswp ?  \"bottom center\" : bb ? \"center right\" : \"center center\"),\n                position = options.position || (ioswp ? \"bottom center\" : bb ? \"center right\" : \"center center\"),\n                effect = options.effect || (ioswp ? \"slideIn:up\" : bb ? \"slideIn:left\" : \"fade:in\"),\n                shim = $(SHIM).handler(that).hide();\n\n            Widget.fn.init.call(that, element, options);\n\n            that.shim = shim;\n            element = that.element;\n            options = that.options;\n\n            if (options.className) {\n                that.shim.addClass(options.className);\n            }\n\n            if (!options.modal) {\n                that.shim.on(\"down\", \"_hide\");\n            }\n\n            (app ? app.element : $(document.body)).append(shim);\n\n            that.popup = new Popup(that.element, {\n                anchor: shim,\n                modal: true,\n                appendTo: shim,\n                origin: align,\n                position: position,\n                animation: {\n                    open: {\n                        effects: effect,\n                        duration: options.duration\n                    },\n                    close: {\n                        duration: options.duration\n                    }\n                },\n\n                close: function(e) {\n                    var prevented = false;\n\n                    if (!that._apiCall) {\n                        prevented = that.trigger(HIDE);\n                    }\n\n                    if (prevented) {\n                        e.preventDefault();\n                    }\n\n                    that._apiCall = false;\n                },\n\n                deactivate: function() { // Deactivate event can't be prevented.\n                    shim.hide();\n                },\n\n                open: function() {\n                    shim.show();\n                }\n            });\n\n            kendo.notify(that);\n        },\n\n        events: [ HIDE ],\n\n        options: {\n            name: \"Shim\",\n            modal: false,\n            align: undefined,\n            position: undefined,\n            effect: undefined,\n            duration: 200\n        },\n\n        show: function() {\n            this.popup.open();\n        },\n\n        hide: function() {\n            this._apiCall = true;\n            this.popup.close();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.shim.kendoDestroy();\n            this.popup.destroy();\n            this.shim.remove();\n        },\n\n        _hide: function(e) {\n            if (!e || !$.contains(this.shim.children().children(\".k-popup\")[0], e.target)) {\n                this.popup.close();\n            }\n        }\n    });\n\n    ui.plugin(Shim);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.modalview',[ \"kendo.mobile.shim\", \"kendo.mobile.view\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.modalview\",\n    name: \"ModalView\",\n    category: \"mobile\",\n    description: \"The Kendo ModalView is used to present self-contained functionality in the context of the current task.\",\n    depends: [ \"mobile.shim\", \"mobile.view\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        Shim = ui.Shim,\n        Widget = ui.Widget,\n        BEFORE_OPEN = \"beforeOpen\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        INIT = \"init\",\n        WRAP = '<div class=\"km-modalview-wrapper\"></div>';\n\n    var ModalView = ui.View.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._id();\n            that._wrap();\n            that._shim();\n\n            if (!this.options.$angular) {\n                that._layout();\n                that._scroller();\n                that._model();\n            }\n\n            that.element.css(\"display\", \"\");\n\n            that.trigger(INIT);\n        },\n\n        events: [\n            INIT,\n            BEFORE_OPEN,\n            OPEN,\n            CLOSE\n        ],\n\n        options: {\n            name: \"ModalView\",\n            modal: true,\n            width: null,\n            height: null\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.shim.destroy();\n        },\n\n        open: function(target) {\n            var that = this;\n            that.target = $(target);\n            that.shim.show();\n\n            that._invokeNgController();\n\n            // necessary for the mobile view interface\n            that.trigger(\"show\", { view: that });\n        },\n\n        // Interface implementation, called from the pane click handlers\n        openFor: function(target) {\n            if (!this.trigger(BEFORE_OPEN, { target: target })) {\n                this.open(target);\n                this.trigger(OPEN, { target: target });\n            }\n        },\n\n        close: function() {\n            if (this.element.is(\":visible\") && !this.trigger(CLOSE)) {\n                this.shim.hide();\n            }\n        },\n\n        _wrap: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                width, height;\n\n            width = element[0].style.width || \"auto\";\n            height = element[0].style.height || \"auto\";\n\n            element.addClass(\"km-modalview\").wrap(WRAP);\n\n            that.wrapper = element.parent().css({\n                width: options.width || width || 300,\n                height: options.height || height || 300\n            }).addClass(height == \"auto\" ? \" km-auto-height\" : \"\");\n\n            element.css({ width: \"\", height: \"\" });\n        },\n\n        _shim: function() {\n            var that = this;\n\n            that.shim = new Shim(that.wrapper, {\n                modal: that.options.modal,\n                position: \"center center\",\n                align: \"center center\",\n                effect: \"fade:in\",\n                className: \"km-modalview-root\",\n                hide: function(e) {\n                    if (that.trigger(CLOSE)) {\n                        e.preventDefault();\n                    }\n                }\n            });\n        }\n    });\n\n    ui.plugin(ModalView);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\r\n    define('kendo.mobile.drawer',[ \"kendo.mobile.view\", \"kendo.userevents\" ], f);\r\n})(function(){\r\n\r\nvar __meta__ = { // jshint ignore:line\r\n    id: \"mobile.drawer\",\r\n    name: \"Drawer\",\r\n    category: \"mobile\",\r\n    description: \"The Kendo Mobile Drawer widget provides slide to reveal global application toolbox\",\r\n    depends: [ \"mobile.view\", \"userevents\" ]\r\n};\r\n\r\n(function($, undefined) {\r\n    var kendo = window.kendo,\r\n        mobile = kendo.mobile,\r\n        os = kendo.support.mobileOS,\r\n        Transition = kendo.effects.Transition,\r\n        roleSelector = kendo.roleSelector,\r\n        AXIS = \"x\",\r\n        ui = mobile.ui,\r\n        SWIPE_TO_OPEN = !(os.ios && os.majorVersion == 7 && !os.appMode),\r\n        BEFORE_SHOW = \"beforeShow\",\r\n        INIT = \"init\",\r\n        SHOW = \"show\",\r\n        HIDE = \"hide\",\r\n        AFTER_HIDE = \"afterHide\",\r\n        NULL_VIEW = { enable: $.noop };\r\n\r\n    var Drawer = ui.View.extend({\r\n        init: function(element, options) {\r\n            // move the drawer to the top, in order to hide it\r\n            $(element).parent().prepend(element);\r\n\r\n            mobile.ui.Widget.fn.init.call(this, element, options);\r\n\r\n            if (!this.options.$angular) {\r\n                this._layout();\r\n                this._scroller();\r\n            }\r\n\r\n            this._model();\r\n\r\n            var pane = this.element.closest(roleSelector(\"pane\")).data(\"kendoMobilePane\"),\r\n                userEvents;\r\n\r\n            if (pane) {\r\n                this.pane = pane;\r\n                this.pane.bind(\"viewShow\", function(e) {\r\n                    drawer._viewShow(e);\r\n                });\r\n\r\n                this.pane.bind(\"sameViewRequested\", function() {\r\n                    drawer.hide();\r\n                });\r\n\r\n                userEvents = this.userEvents = new kendo.UserEvents(pane.element, {\r\n                    fastTap: true,\r\n                    filter: roleSelector(\"view splitview\"),\r\n                    allowSelection: true\r\n                });\r\n\r\n            } else {\r\n                this.currentView = NULL_VIEW;\r\n                var container = $(this.options.container);\r\n\r\n                if (!container) {\r\n                    throw new Error(\"The drawer needs a container configuration option set.\");\r\n                }\r\n\r\n                userEvents = this.userEvents = new kendo.UserEvents(container, { fastTap: true, allowSelection: true });\r\n                this._attachTransition(container);\r\n            }\r\n\r\n            var drawer = this;\r\n\r\n            var hide = function(e) {\r\n                if (drawer.visible) {\r\n                    drawer.hide();\r\n                    e.preventDefault();\r\n                }\r\n            };\r\n\r\n            if (this.options.swipeToOpen && SWIPE_TO_OPEN) {\r\n                userEvents.bind(\"press\", function() { drawer.transition.cancel(); });\r\n                userEvents.bind(\"start\", function(e) { drawer._start(e); });\r\n                userEvents.bind(\"move\", function(e) { drawer._update(e); });\r\n                userEvents.bind(\"end\", function(e) { drawer._end(e); });\r\n                userEvents.bind(\"tap\", hide);\r\n            } else {\r\n                userEvents.bind(\"press\", hide);\r\n            }\r\n\r\n            this.leftPositioned = this.options.position === \"left\";\r\n\r\n            this.visible = false;\r\n\r\n            this.element.hide().addClass(\"km-drawer\").addClass(this.leftPositioned ? \"km-left-drawer\" : \"km-right-drawer\");\r\n            this.trigger(INIT);\r\n        },\r\n\r\n        options: {\r\n            name: \"Drawer\",\r\n            position: \"left\",\r\n            views: [],\r\n            swipeToOpenViews: [],\r\n            swipeToOpen: true,\r\n            title: \"\",\r\n            container: null\r\n        },\r\n\r\n        events: [\r\n            BEFORE_SHOW,\r\n            HIDE,\r\n            AFTER_HIDE,\r\n            INIT,\r\n            SHOW\r\n        ],\r\n\r\n        show: function() {\r\n            if (this._activate()) {\r\n                this._show();\r\n            }\r\n        },\r\n\r\n        hide: function() {\r\n            if (!this.currentView) {\r\n                return;\r\n            }\r\n\r\n            this.currentView.enable();\r\n\r\n            Drawer.current = null;\r\n            this._moveViewTo(0);\r\n            this.trigger(HIDE, { view: this });\r\n        },\r\n\r\n        // Alias in order to support popover/modalview etc. interface\r\n        openFor: function() {\r\n            if (this.visible) {\r\n                this.hide();\r\n            } else {\r\n                this.show();\r\n            }\r\n        },\r\n\r\n        destroy: function() {\r\n            ui.View.fn.destroy.call(this);\r\n            this.userEvents.destroy();\r\n        },\r\n\r\n        _activate: function() {\r\n            if (this.visible) {\r\n                return true;\r\n            }\r\n\r\n            var visibleOnCurrentView = this._currentViewIncludedIn(this.options.views);\r\n\r\n            if (!visibleOnCurrentView || this.trigger(BEFORE_SHOW, { view: this })) {\r\n                return false;\r\n            }\r\n\r\n            this._setAsCurrent();\r\n            this.element.show();\r\n\r\n            this.trigger(SHOW, { view: this });\r\n            this._invokeNgController();\r\n            return true;\r\n        },\r\n\r\n        _currentViewIncludedIn: function(views) {\r\n            if (!this.pane || !views.length) {\r\n                return true;\r\n            }\r\n\r\n            var view = this.pane.view();\r\n            return $.inArray(view.id.replace('#', ''), views) > -1 || $.inArray(view.element.attr(\"id\"), views) > -1;\r\n        },\r\n\r\n        _show: function() {\r\n            this.currentView.enable(false);\r\n\r\n            this.visible = true;\r\n            var offset = this.element.width();\r\n\r\n            if (!this.leftPositioned) {\r\n                offset = -offset;\r\n            }\r\n\r\n            this._moveViewTo(offset);\r\n        },\r\n\r\n        _setAsCurrent: function() {\r\n            if (Drawer.last !== this) {\r\n                if (Drawer.last) {\r\n                    Drawer.last.element.hide();\r\n                }\r\n                this.element.show();\r\n            }\r\n\r\n            Drawer.last = this;\r\n            Drawer.current = this;\r\n        },\r\n\r\n        _moveViewTo: function(offset) {\r\n            this.userEvents.cancel();\r\n            this.transition.moveTo({ location: offset, duration: 400, ease: Transition.easeOutExpo });\r\n        },\r\n\r\n        _viewShow: function(e) {\r\n            if (this.currentView) {\r\n                this.currentView.enable();\r\n            }\r\n\r\n            if (this.currentView === e.view) {\r\n                this.hide();\r\n                return;\r\n            }\r\n\r\n            this.currentView = e.view;\r\n            this._attachTransition(e.view.element);\r\n        },\r\n\r\n        _attachTransition: function(element) {\r\n            var that = this,\r\n                movable = this.movable,\r\n                currentOffset = movable && movable.x;\r\n\r\n\r\n            if (this.transition) {\r\n                this.transition.cancel();\r\n                this.movable.moveAxis(\"x\", 0);\r\n            }\r\n\r\n            movable = this.movable = new kendo.ui.Movable(element);\r\n\r\n            this.transition = new Transition({\r\n                axis: AXIS,\r\n                movable: this.movable,\r\n                onEnd: function() {\r\n                    if (movable[AXIS] === 0) {\r\n                        element[0].style.cssText = \"\";\r\n                        that.element.hide();\r\n                        that.trigger(AFTER_HIDE);\r\n                        that.visible = false;\r\n                    }\r\n                }\r\n            });\r\n\r\n            if (currentOffset) {\r\n                element.addClass(\"k-fx-hidden\");\r\n                kendo.animationFrame(function() {\r\n                    element.removeClass(\"k-fx-hidden\");\r\n                    that.movable.moveAxis(AXIS, currentOffset);\r\n                    that.hide();\r\n                });\r\n            }\r\n        },\r\n\r\n        _start: function(e) {\r\n            var userEvents = e.sender;\r\n\r\n            // ignore non-horizontal swipes\r\n            if (Math.abs(e.x.velocity) < Math.abs(e.y.velocity) || kendo.triggeredByInput(e.event) || !this._currentViewIncludedIn(this.options.swipeToOpenViews)) {\r\n                userEvents.cancel();\r\n                return;\r\n            }\r\n\r\n            var leftPositioned = this.leftPositioned,\r\n                visible = this.visible,\r\n                canMoveLeft = leftPositioned && visible || !leftPositioned && !Drawer.current,\r\n                canMoveRight = !leftPositioned && visible || leftPositioned && !Drawer.current,\r\n                leftSwipe = e.x.velocity < 0;\r\n\r\n            if ((canMoveLeft && leftSwipe) || (canMoveRight && !leftSwipe)) {\r\n                if (this._activate()) {\r\n                    userEvents.capture();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            userEvents.cancel();\r\n        },\r\n\r\n        _update: function(e) {\r\n            var movable = this.movable,\r\n                newPosition = movable.x + e.x.delta,\r\n                limitedPosition;\r\n\r\n            if (this.leftPositioned) {\r\n                limitedPosition = Math.min(Math.max(0, newPosition), this.element.width());\r\n            } else {\r\n                limitedPosition = Math.max(Math.min(0, newPosition), -this.element.width());\r\n            }\r\n\r\n            this.movable.moveAxis(AXIS, limitedPosition);\r\n            e.event.preventDefault();\r\n            e.event.stopPropagation();\r\n        },\r\n\r\n        _end: function(e) {\r\n            var velocity = e.x.velocity,\r\n                pastHalf = Math.abs(this.movable.x) > this.element.width() / 2,\r\n                velocityThreshold = 0.8,\r\n                shouldShow;\r\n\r\n            if (this.leftPositioned) {\r\n                shouldShow = velocity > -velocityThreshold && (velocity > velocityThreshold || pastHalf);\r\n            } else {\r\n                shouldShow = velocity < velocityThreshold && (velocity < -velocityThreshold || pastHalf);\r\n            }\r\n\r\n            if(shouldShow) {\r\n                this._show();\r\n            } else {\r\n                this.hide();\r\n            }\r\n        }\r\n    });\r\n\r\n    ui.plugin(Drawer);\r\n})(window.kendo.jQuery);\r\n\r\nreturn window.kendo;\r\n\r\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\r\n\n(function(f, define){\n    define('kendo.mobile.splitview',[ \"kendo.mobile.pane\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.splitview\",\n    name: \"SplitView\",\n    category: \"mobile\",\n    description: \"The mobile SplitView is a tablet-specific view that consists of two or more mobile Pane widgets.\",\n    depends: [ \"mobile.pane\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        Widget = ui.Widget,\n        EXPANED_PANE_SHIM = \"<div class='km-expanded-pane-shim'></div>\",\n        View = ui.View;\n\n    var SplitView = View.extend({\n        init: function(element, options) {\n            var that = this,\n            pane, modalViews;\n\n            Widget.fn.init.call(that, element, options);\n            element = that.element;\n\n            $.extend(that, options);\n\n            that._id();\n\n            if (!that.options.$angular) {\n                that._layout();\n                that._overlay();\n            } else {\n                that._overlay();\n            }\n\n            that._style();\n\n            modalViews = element.children(that._locate(\"modalview\"));\n\n            if (!that.options.$angular) {\n                kendo.mobile.init(modalViews);\n            } else {\n                modalViews.each(function(idx, element) {\n                    kendo.compileMobileDirective($(element), options.$angular[0]);\n                });\n            }\n\n            that.panes = [];\n            that._paramsHistory = [];\n\n            if (!that.options.$angular) {\n                that.content.children(kendo.roleSelector(\"pane\")).each(function() {\n                    pane = kendo.initWidget(this, {}, ui.roles);\n                    that.panes.push(pane);\n                });\n            } else {\n                that.element.children(kendo.directiveSelector(\"pane\")).each(function() {\n                    pane = kendo.compileMobileDirective($(this), options.$angular[0]);\n                    that.panes.push(pane);\n                });\n\n                that.element.children(kendo.directiveSelector(\"header footer\")).each(function() {\n                    kendo.compileMobileDirective($(this), options.$angular[0]);\n                });\n            }\n\n            that.expandedPaneShim = $(EXPANED_PANE_SHIM).appendTo(that.element);\n\n            that._shimUserEvents = new kendo.UserEvents(that.expandedPaneShim, {\n                fastTap: true,\n                tap: function() {\n                    that.collapsePanes();\n                }\n            });\n        },\n\n        _locate: function(selectors) {\n            return this.options.$angular ? kendo.directiveSelector(selectors) : kendo.roleSelector(selectors);\n        },\n\n        options: {\n            name: \"SplitView\",\n            style: \"horizontal\"\n        },\n\n        expandPanes: function() {\n            this.element.addClass(\"km-expanded-splitview\");\n        },\n\n        collapsePanes: function() {\n            this.element.removeClass(\"km-expanded-splitview\");\n        },\n\n        // Implement view interface\n        _layout: function() {\n            var that = this,\n                element = that.element;\n\n            that.transition = kendo.attrValue(element, \"transition\");\n            kendo.mobile.ui.View.prototype._layout.call(this);\n            kendo.mobile.init(this.header.add(this.footer));\n            that.element.addClass(\"km-splitview\");\n            that.content.addClass(\"km-split-content\");\n        },\n\n        _style: function () {\n            var style = this.options.style,\n                element = this.element,\n                styles;\n\n            if (style) {\n                styles = style.split(\" \");\n                $.each(styles, function () {\n                    element.addClass(\"km-split-\" + this);\n                });\n            }\n        },\n\n        showStart: function() {\n            var that = this;\n            that.element.css(\"display\", \"\");\n\n            if (!that.inited) {\n                that.inited = true;\n                $.each(that.panes, function() {\n                    if (this.options.initial) {\n                        this.navigateToInitial();\n                    } else {\n                        this.navigate(\"\");\n                    }\n                });\n                that.trigger(\"init\", {view: that});\n            } else {\n                this._invokeNgController();\n            }\n\n            that.trigger(\"show\", {view: that});\n        }\n    });\n\n    ui.plugin(SplitView);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.application',[ \"kendo.mobile.pane\", \"kendo.router\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.application\",\n    name: \"Application\",\n    category: \"mobile\",\n    description: \"The Mobile application provides a framework to build native looking web applications on mobile devices.\",\n    depends: [ \"mobile.pane\", \"router\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        support = kendo.support,\n        Widget = mobile.ui.Widget,\n        Pane = mobile.ui.Pane,\n\n        DEFAULT_OS = \"ios7\",\n        OS = support.mobileOS,\n        BERRYPHONEGAP = OS.device == \"blackberry\" && OS.flatVersion >= 600 && OS.flatVersion < 1000 && OS.appMode,\n        FONT_SIZE_COEF = 0.93,\n        VERTICAL = \"km-vertical\",\n        CHROME =  OS.browser === \"chrome\",\n        BROKEN_WEBVIEW_RESIZE = OS.ios && OS.flatVersion >= 700 && OS.flatVersion < 800 && (OS.appMode || CHROME),\n        INITIALLY_HORIZONTAL = (Math.abs(window.orientation) / 90 == 1),\n        HORIZONTAL = \"km-horizontal\",\n\n        MOBILE_PLATFORMS = {\n            ios7: { ios: true, browser: \"default\", device: \"iphone\", flatVersion: \"700\", majorVersion: \"7\", minorVersion: \"0.0\", name: \"ios\", tablet: false },\n            ios: { ios: true, browser: \"default\", device: \"iphone\", flatVersion: \"612\", majorVersion: \"6\", minorVersion: \"1.2\", name: \"ios\", tablet: false },\n            android: { android: true, browser: \"default\", device: \"android\", flatVersion: \"442\", majorVersion: \"4\", minorVersion: \"4.2\", name: \"android\", tablet: false },\n            blackberry: { blackberry: true, browser: \"default\", device: \"blackberry\", flatVersion: \"710\", majorVersion: \"7\", minorVersion: \"1.0\", name: \"blackberry\", tablet: false },\n            meego: { meego: true, browser: \"default\", device: \"meego\", flatVersion: \"850\", majorVersion: \"8\", minorVersion: \"5.0\", name: \"meego\", tablet: false },\n            wp: { wp: true, browser: \"default\", device: \"wp\", flatVersion: \"800\", majorVersion: \"8\", minorVersion: \"0.0\", name: \"wp\", tablet: false }\n        },\n\n        viewportTemplate = kendo.template('<meta content=\"initial-scale=#: data.scale #, maximum-scale=#: data.scale #, user-scalable=no#=data.height#\" name=\"viewport\" />', {usedWithBlock: false}),\n        systemMeta = kendo.template('<meta name=\"apple-mobile-web-app-capable\" content=\"#= data.webAppCapable === false ? \\'no\\' : \\'yes\\' #\" /> ' +\n                     '<meta name=\"apple-mobile-web-app-status-bar-style\" content=\"#=data.statusBarStyle#\" /> ' +\n                     '<meta name=\"msapplication-tap-highlight\" content=\"no\" /> ', {usedWithBlock: false}),\n        clipTemplate = kendo.template('<style>.km-view { clip: rect(0 #= data.width #px #= data.height #px 0); }</style>', {usedWithBlock: false}),\n        ENABLE_CLIP = OS.android && OS.browser != \"chrome\" || OS.blackberry,\n\n        iconMeta = kendo.template('<link rel=\"apple-touch-icon' + (OS.android ? '-precomposed' : '') + '\" # if(data.size) { # sizes=\"#=data.size#\" #}# href=\"#=data.icon#\" />', {usedWithBlock: false}),\n\n        HIDEBAR = (OS.device == \"iphone\" || OS.device == \"ipod\") && OS.majorVersion < 7,\n        SUPPORT_SWIPE_TO_GO_BACK = (OS.device == \"iphone\" || OS.device == \"ipod\") && OS.majorVersion >= 7,\n        HISTORY_TRANSITION = SUPPORT_SWIPE_TO_GO_BACK ? \"none\" : null,\n        BARCOMPENSATION = OS.browser == \"mobilesafari\" ? 60 : 0,\n        STATUS_BAR_HEIGHT = 20,\n        WINDOW = $(window),\n        SCREEN = window.screen,\n        HEAD = $(\"head\"),\n\n        // mobile app events\n        INIT = \"init\";\n\n    function osCssClass(os, options) {\n        var classes = [];\n\n        if (OS) {\n            classes.push(\"km-on-\" + OS.name);\n        }\n\n        if (os.skin) {\n            classes.push(\"km-\" + os.skin);\n        } else {\n            if (os.name == \"ios\" && os.majorVersion > 6) {\n                classes.push(\"km-ios7\");\n            } else {\n                classes.push(\"km-\" + os.name);\n            }\n        }\n        if ((os.name == \"ios\" && os.majorVersion < 7) || os.name != \"ios\") {\n            classes.push(\"km-\" + os.name + os.majorVersion);\n        }\n        classes.push(\"km-\" + os.majorVersion);\n        classes.push(\"km-m\" + (os.minorVersion ? os.minorVersion[0] : 0));\n\n        if (os.variant && ((os.skin && os.skin === os.name) || !os.skin || os.setDefaultPlatform === false)) {\n            classes.push(\"km-\" + (os.skin ? os.skin : os.name) + \"-\" + os.variant);\n        }\n\n        if (os.cordova) {\n            classes.push(\"km-cordova\");\n        }\n        if (os.appMode) {\n            classes.push(\"km-app\");\n        } else {\n            classes.push(\"km-web\");\n        }\n\n        if (options && options.statusBarStyle) {\n            classes.push(\"km-\" + options.statusBarStyle + \"-status-bar\");\n        }\n\n        return classes.join(\" \");\n    }\n\n    function wp8Background(os) {\n        return 'km-wp-' + (os.noVariantSet ?\n                            (parseInt($(\"<div style='background: Background' />\").css(\"background-color\").split(\",\")[1], 10) === 0 ? 'dark' : 'light') :\n                            os.variant + \" km-wp-\" + os.variant + \"-force\");\n    }\n\n    function isOrientationHorizontal(element) {\n        return OS.wp ? element.css(\"animation-name\") == \"-kendo-landscape\" : (Math.abs(window.orientation) / 90 == 1);\n    }\n\n    function getOrientationClass(element) {\n        return isOrientationHorizontal(element) ? HORIZONTAL : VERTICAL;\n    }\n\n    function setMinimumHeight(pane) {\n        pane.parent().addBack()\n               .css(\"min-height\", window.innerHeight);\n    }\n\n    function applyViewportHeight() {\n        $(\"meta[name=viewport]\").remove();\n            HEAD.append(viewportTemplate({\n            height: \", width=device-width\" +  // width=device-width was removed for iOS6, but this should stay for BB PhoneGap.\n                        (isOrientationHorizontal() ?\n                            \", height=\" + window.innerHeight + \"px\"  :\n                            (support.mobileOS.flatVersion >= 600 && support.mobileOS.flatVersion < 700) ?\n                                \", height=\" + window.innerWidth + \"px\" :\n                                \", height=device-height\")\n        }));\n    }\n\n    var Application = Widget.extend({\n        init: function(element, options) {\n            // global reference to current application\n            mobile.application = this;\n            $(this.bootstrap.bind(this, element, options));\n        },\n\n        bootstrap: function(element, options) {\n            element = $(element);\n\n            if (!element[0]) {\n                element = $(document.body);\n            }\n\n            Widget.fn.init.call(this, element, options);\n            this.element.removeAttr(\"data-\" + kendo.ns + \"role\");\n\n            this._setupPlatform();\n            this._attachMeta();\n            this._setupElementClass();\n            this._attachHideBarHandlers();\n            var paneOptions = $.extend({}, this.options);\n            delete paneOptions.name;\n\n            var that = this,\n                startHistory = function() {\n                    that.pane = new Pane(that.element, paneOptions);\n                    that.pane.navigateToInitial();\n\n                    if (that.options.updateDocumentTitle) {\n                        that._setupDocumentTitle();\n                    }\n\n                    that._startHistory();\n                    that.trigger(INIT);\n                };\n\n            if (this.options.$angular) {\n                setTimeout(startHistory);\n            } else {\n                startHistory();\n            }\n        },\n\n        options: {\n            name: \"Application\",\n            hideAddressBar: true,\n            browserHistory: true,\n            historyTransition: HISTORY_TRANSITION,\n            modelScope: window,\n            statusBarStyle: \"black\",\n            transition: \"\",\n            retina: false,\n            platform: null,\n            skin: null,\n            updateDocumentTitle: true,\n            useNativeScrolling: false\n        },\n\n        events: [\n            INIT\n        ],\n\n        navigate: function(url, transition) {\n            this.pane.navigate(url, transition);\n        },\n\n        replace: function(url, transition) {\n            this.pane.replace(url, transition);\n        },\n\n        scroller: function() {\n            return this.view().scroller;\n        },\n\n        hideLoading: function() {\n            if (this.pane) {\n                this.pane.hideLoading();\n            } else {\n                throw new Error(\"The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.\");\n            }\n        },\n\n        showLoading: function() {\n            if (this.pane) {\n                this.pane.showLoading();\n            } else {\n                throw new Error(\"The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.\");\n            }\n        },\n\n        changeLoadingMessage: function(message) {\n            if (this.pane) {\n                this.pane.changeLoadingMessage(message);\n            } else {\n                throw new Error(\"The mobile application instance is not fully instantiated. Please consider changing the message in the application init event handler.\");\n            }\n        },\n\n        view: function() {\n            return this.pane.view();\n        },\n\n        skin: function(skin) {\n            var that = this;\n\n            if (!arguments.length) {\n                return that.options.skin;\n            }\n\n            that.options.skin = skin || \"\";\n            that.element[0].className = \"km-pane\";\n            that._setupPlatform();\n            that._setupElementClass();\n\n            return that.options.skin;\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.pane.destroy();\n            if (this.options.browserHistory) {\n                this.router.destroy();\n            }\n        },\n\n        _setupPlatform: function() {\n            var that = this,\n                platform = that.options.platform,\n                skin = that.options.skin,\n                split = [],\n                os = OS || MOBILE_PLATFORMS[DEFAULT_OS],\n                refreshBackgroundFn = function () {\n                    if (that.os.variant && (that.os.skin && that.os.skin === that.os.name) || !that.os.skin) {\n                        that.element.removeClass(\"km-wp-dark km-wp-light km-wp-dark-force km-wp-light-force\").addClass(wp8Background(that.os));\n                    }\n                };\n\n            if (platform) {\n                os.setDefaultPlatform = true;\n                if (typeof platform === \"string\") {\n                    split = platform.split(\"-\");\n                    os = $.extend({ variant: split[1] }, os, MOBILE_PLATFORMS[split[0]]);\n                } else {\n                    os = platform;\n                }\n            }\n\n            if (skin) {\n                split = skin.split(\"-\");\n                if (!OS) {\n                    os.setDefaultPlatform = false;\n                }\n                os = $.extend({}, os, { skin: split[0], variant: split[1] });\n            }\n\n            if (!os.variant) {\n                os.noVariantSet = true;\n                os.variant = \"dark\";\n            }\n\n            that.os = os;\n\n            that.osCssClass = osCssClass(that.os, that.options);\n\n            if (os.name == \"wp\") {\n                if (!that.refreshBackgroundColorProxy) {\n                    that.refreshBackgroundColorProxy = refreshBackgroundFn.bind(that);\n                }\n\n                $(document).off(\"visibilitychange\", that.refreshBackgroundColorProxy);\n                $(document).off(\"resume\", that.refreshBackgroundColorProxy);\n\n                if (!os.skin) {\n                    that.element.parent().css(\"overflow\", \"hidden\");\n\n                    $(document).on(\"visibilitychange\", that.refreshBackgroundColorProxy); // Restore theme on browser focus (using the Visibility API).\n                    $(document).on(\"resume\", that.refreshBackgroundColorProxy); // PhoneGap fires resume.\n\n                    that.refreshBackgroundColorProxy();\n                }\n            }\n        },\n\n        _startHistory: function() {\n            if (this.options.browserHistory) {\n                this.router = new kendo.Router({ pushState: this.options.pushState, root: this.options.root, hashBang: this.options.hashBang });\n                this.pane.bindToRouter(this.router);\n                this.router.start();\n            } else {\n                if (!this.options.initial) {\n                    this.pane.navigate(\"\");\n                }\n            }\n        },\n\n        _resizeToScreenHeight: function() {\n            var includeStatusBar = $(\"meta[name=apple-mobile-web-app-status-bar-style]\").attr(\"content\").match(/black-translucent|hidden/),\n                element = this.element,\n                height;\n\n            if (CHROME) {\n                height = window.innerHeight;\n            } else {\n                if (isOrientationHorizontal(element)) {\n                    if (includeStatusBar) {\n                        if (INITIALLY_HORIZONTAL) {\n                            height = SCREEN.availWidth + STATUS_BAR_HEIGHT;\n                        } else {\n                            height = SCREEN.availWidth;\n                        }\n                    } else {\n                        if (INITIALLY_HORIZONTAL) {\n                            height = SCREEN.availWidth;\n                        } else {\n                            height = SCREEN.availWidth - STATUS_BAR_HEIGHT;\n                        }\n                    }\n                } else {\n                    if (includeStatusBar) {\n                        if (INITIALLY_HORIZONTAL) {\n                            height = SCREEN.availHeight;\n                        } else {\n                            height = SCREEN.availHeight + STATUS_BAR_HEIGHT;\n                        }\n                    } else {\n                        if (INITIALLY_HORIZONTAL) {\n                            height = SCREEN.availHeight - STATUS_BAR_HEIGHT;\n                        } else {\n                            height = SCREEN.availHeight;\n                        }\n                    }\n                }\n            }\n\n            element.height(height);\n        },\n\n        _setupElementClass: function() {\n            var that = this, size,\n                element = that.element;\n\n            element.parent().addClass(\"km-root km-\" + (that.os.tablet ? \"tablet\" : \"phone\"));\n            element.addClass(that.osCssClass + \" \" + getOrientationClass(element));\n            if (this.options.useNativeScrolling) {\n                element.parent().addClass(\"km-native-scrolling\");\n            }\n\n            if (CHROME) {\n                element.addClass(\"km-ios-chrome\");\n            }\n\n            if (support.wpDevicePixelRatio) {\n                element.parent().css(\"font-size\", support.wpDevicePixelRatio + \"em\");\n            }\n\n            if (this.options.retina) {\n                element.parent().addClass(\"km-retina\");\n                element.parent().css(\"font-size\", (support.devicePixelRatio * FONT_SIZE_COEF) + \"em\");\n            }\n\n            if (BERRYPHONEGAP) {\n                applyViewportHeight();\n            }\n            if (that.options.useNativeScrolling) {\n                element.parent().addClass(\"km-native-scrolling\");\n            } else if (ENABLE_CLIP) {\n                size = (screen.availWidth > screen.availHeight ? screen.availWidth : screen.availHeight) + 200;\n                $(clipTemplate({ width: size, height: size })).appendTo(HEAD);\n            }\n\n            if (BROKEN_WEBVIEW_RESIZE) {\n                that._resizeToScreenHeight();\n            }\n\n            kendo.onResize(function() {\n                element\n                    .removeClass(\"km-horizontal km-vertical\")\n                    .addClass(getOrientationClass(element));\n\n                if (that.options.useNativeScrolling) {\n                    setMinimumHeight(element);\n                }\n\n                if (BROKEN_WEBVIEW_RESIZE) {\n                    that._resizeToScreenHeight();\n                }\n\n                if (BERRYPHONEGAP) {\n                    applyViewportHeight();\n                }\n\n                kendo.resize(element);\n            });\n        },\n\n        _clearExistingMeta: function() {\n            HEAD.find(\"meta\")\n                .filter(\"[name|='apple-mobile-web-app'],[name|='msapplication-tap'],[name='viewport']\")\n                .remove();\n        },\n\n        _attachMeta: function() {\n            var options = this.options,\n                icon = options.icon, size;\n\n            this._clearExistingMeta();\n\n            if (!BERRYPHONEGAP) {\n                HEAD.prepend(viewportTemplate({ height: \"\", scale : this.options.retina ? 1 / support.devicePixelRatio : \"1.0\" }));\n            }\n\n            HEAD.prepend(systemMeta(options));\n\n            if (icon) {\n                if (typeof icon === \"string\") {\n                    icon = { \"\" : icon };\n                }\n\n                for(size in icon) {\n                    HEAD.prepend(iconMeta({ icon: icon[size], size: size }));\n                }\n            }\n\n            if (options.useNativeScrolling) {\n                setMinimumHeight(this.element);\n            }\n        },\n\n        _attachHideBarHandlers: function() {\n            var that = this,\n                hideBar = that._hideBar.bind(that);\n\n            if (support.mobileOS.appMode || !that.options.hideAddressBar || !HIDEBAR || that.options.useNativeScrolling) {\n                return;\n            }\n\n            that._initialHeight = {};\n\n            WINDOW.on(\"load\", hideBar);\n\n            kendo.onResize(function() {\n                setTimeout(window.scrollTo, 0, 0, 1);\n            });\n        },\n\n        _setupDocumentTitle: function() {\n            var that = this,\n                defaultTitle = document.title;\n\n            that.pane.bind(\"viewShow\", function(e) {\n                var title = e.view.title;\n                document.title = title !== undefined ? title : defaultTitle;\n            });\n        },\n\n        _hideBar: function() {\n            var that = this,\n                element = that.element;\n\n            element.height(kendo.support.transforms.css + \"calc(100% + \" + BARCOMPENSATION + \"px)\");\n            $(window).trigger(kendo.support.resize);\n        }\n    });\n\n    kendo.mobile.Application = Application;\n    kendo.ui.plugin(Application, kendo.mobile, 'Mobile');\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.actionsheet',[ \"kendo.mobile.popover\", \"kendo.mobile.shim\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.actionsheet\",\n    name: \"ActionSheet\",\n    category: \"mobile\",\n    description: \"The mobile ActionSheet widget displays a set of choices related to a task the user initiates.\",\n    depends: [ \"mobile.popover\", \"mobile.shim\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        support = kendo.support,\n        ui = kendo.mobile.ui,\n        Shim = ui.Shim,\n        Popup = ui.Popup,\n        Widget = ui.Widget,\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        COMMAND = \"command\",\n        BUTTONS = \"li>a\",\n        CONTEXT_DATA = \"actionsheetContext\",\n        WRAP = '<div class=\"km-actionsheet-wrapper\"></div>',\n        cancelTemplate = kendo.template('<li class=\"km-actionsheet-cancel\"><a href=\"\\\\#\">#:cancel#</a></li>');\n\n    var ActionSheet = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                ShimClass,\n                tablet,\n                type,\n                os = support.mobileOS;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n            type = options.type;\n            element = that.element;\n\n            if (type === \"auto\") {\n                tablet = os && os.tablet;\n            } else {\n                tablet = type === \"tablet\";\n            }\n\n            ShimClass = tablet ? Popup : Shim;\n\n            if (options.cancelTemplate) {\n                cancelTemplate = kendo.template(options.cancelTemplate);\n            }\n\n            element\n                .addClass(\"km-actionsheet\")\n                .append(cancelTemplate({cancel: that.options.cancel}))\n                .wrap(WRAP)\n                .on(\"up\", BUTTONS, \"_click\")\n                .on(\"click\", BUTTONS, kendo.preventDefault);\n\n            that.view().bind(\"destroy\", function() {\n                that.destroy();\n            });\n\n            that.wrapper = element.parent().addClass(type ? \" km-actionsheet-\" + type : \"\");\n\n            that.shim = new ShimClass(that.wrapper, $.extend({modal: os.ios && os.majorVersion < 7, className: \"km-actionsheet-root\"}, that.options.popup) );\n\n            that._closeProxy = that._close.bind(that);\n            that._shimHideProxy = that._shimHide.bind(that);\n            that.shim.bind(\"hide\", that._shimHideProxy);\n\n            if (tablet) {\n                kendo.onResize(that._closeProxy);\n            }\n\n            kendo.notify(that, ui);\n        },\n\n        events: [\n            OPEN,\n            CLOSE,\n            COMMAND\n        ],\n\n        options: {\n            name: \"ActionSheet\",\n            cancel: \"Cancel\",\n            type: \"auto\",\n            popup: { height: \"auto\" }\n        },\n\n        open: function(target, context) {\n            var that = this;\n            that.target = $(target);\n            that.context = context;\n            that.shim.show(target);\n        },\n\n        close: function() {\n            this.context = this.target = null;\n            this.shim.hide();\n        },\n\n        openFor: function(target) {\n            var that = this,\n                context = target.data(CONTEXT_DATA);\n\n            that.open(target, context);\n            that.trigger(OPEN, { target: target, context: context });\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            kendo.unbindResize(this._closeProxy);\n            this.shim.destroy();\n        },\n\n        _click: function(e) {\n            if (e.isDefaultPrevented()) {\n                return;\n            }\n\n            var currentTarget = $(e.currentTarget);\n            var action = currentTarget.data(\"action\");\n\n            if (action) {\n                var actionData = {\n                    target: this.target,\n                    context: this.context\n                },\n                $angular = this.options.$angular;\n\n                if ($angular) {\n                    this.element.injector().get(\"$parse\")(action)($angular[0])(actionData);\n                } else {\n                    kendo.getter(action)(window)(actionData);\n                }\n            }\n\n            this.trigger(COMMAND, { target: this.target, context: this.context, currentTarget: currentTarget });\n\n            e.preventDefault();\n            this._close();\n        },\n\n        _shimHide: function(e) {\n            if (!this.trigger(CLOSE)) {\n                this.context = this.target = null;\n            } else {\n                e.preventDefault();\n            }\n        },\n\n        _close: function(e) {\n            if (!this.trigger(CLOSE)) {\n                this.close();\n            } else {\n                e.preventDefault();\n            }\n        }\n    });\n\n    ui.plugin(ActionSheet);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.button',[ \"kendo.userevents\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.button\",\n    name: \"Button\",\n    category: \"mobile\",\n    description: \"The Button widget navigates between mobile Application views when pressed.\",\n    depends: [ \"userevents\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        Widget = ui.Widget,\n        support = kendo.support,\n        os = support.mobileOS,\n        ANDROID3UP = os.android && os.flatVersion >= 300,\n        CLICK = \"click\",\n        DISABLED = \"disabled\",\n        DISABLEDSTATE = \"km-state-disabled\";\n\n    function highlightButton(widget, event, highlight) {\n        $(event.target).closest(\".km-button,.km-detail\").toggleClass(\"km-state-active\", highlight);\n\n        if (ANDROID3UP && widget.deactivateTimeoutID) {\n            clearTimeout(widget.deactivateTimeoutID);\n            widget.deactivateTimeoutID = 0;\n        }\n    }\n\n    function createBadge(value) {\n        return $('<span class=\"km-badge\">' + value + '</span>');\n    }\n\n    var Button = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            var useTap = that.options.clickOn === \"up\";\n\n            that._wrap();\n            that._style();\n\n            if (!useTap) {\n                that.element.attr(\"data-navigate-on-press\", true);\n            }\n\n            that.options.enable = that.options.enable && !that.element.attr(DISABLED);\n            that.enable(that.options.enable);\n\n            that._userEvents = new kendo.UserEvents(that.element, {\n                allowSelection: !useTap,\n                fastTap: true,\n                press: function(e) {\n                    that._activate(e);\n                },\n                release: function(e) {\n                    highlightButton(that, e, false);\n                    if (!useTap) { e.event.stopPropagation(); }\n                }\n            });\n\n            that._userEvents.bind(useTap ? \"tap\" : \"press\", function(e) {\n                that._release(e);\n            });\n\n\n            if (ANDROID3UP) {\n                that.element.on(\"move\", function(e) { that._timeoutDeactivate(e); });\n            }\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this._userEvents.destroy();\n        },\n\n        events: [\n            CLICK\n        ],\n\n        options: {\n            name: \"Button\",\n            icon: \"\",\n            style: \"\",\n            badge: \"\",\n            clickOn: \"up\",\n            enable: true\n        },\n\n        badge: function (value) {\n            var badge = this.badgeElement = this.badgeElement || createBadge(value).appendTo(this.element);\n\n            if (value || value === 0) {\n                badge.html(value);\n                return this;\n            }\n\n            if (value === false) {\n                badge.empty().remove();\n                this.badgeElement = false;\n                return this;\n            }\n\n            return badge.html();\n        },\n\n        enable: function(enable) {\n            var element = this.element;\n\n            if(typeof enable == \"undefined\") {\n                enable = true;\n            }\n\n            this.options.enable = enable;\n\n            if(enable) {\n                element.prop(DISABLED, false);\n            } else {\n                element.attr(DISABLED, DISABLED);\n            }\n\n            element.toggleClass(DISABLEDSTATE, !enable);\n        },\n\n        _timeoutDeactivate: function(e) {\n            if (!this.deactivateTimeoutID) {\n                this.deactivateTimeoutID = setTimeout(highlightButton, 500, this, e, false);\n            }\n        },\n\n        _activate: function(e) {\n            var activeElement = document.activeElement,\n                nodeName = activeElement ? activeElement.nodeName : \"\";\n\n            if(this.options.enable) {\n                highlightButton(this, e, true);\n\n                if (nodeName == \"INPUT\" || nodeName == \"TEXTAREA\") {\n                    activeElement.blur(); // Hide device keyboard\n                }\n            }\n        },\n\n        _release: function(e) {\n            var that = this;\n\n            if (e.which > 1) {\n                return;\n            }\n\n            if(!that.options.enable) {\n                e.preventDefault();\n                return;\n            }\n\n            if (that.trigger(CLICK, {target: $(e.target), button: that.element})) {\n                e.preventDefault();\n            }\n        },\n\n        _style: function() {\n            var style = this.options.style,\n                element = this.element,\n                styles;\n\n            if (style) {\n                styles = style.split(\" \");\n                $.each(styles, function() {\n                    element.addClass(\"km-\" + this);\n                });\n            }\n        },\n\n        _wrap: function() {\n            var that = this,\n                icon = that.options.icon,\n                badge = that.options.badge,\n                iconSpan = '<span class=\"km-icon km-' + icon,\n                element = that.element.addClass(\"km-button\"),\n                span = element.children(\"span:not(.km-icon)\").addClass(\"km-text\"),\n                image = element.find(\"img\").addClass(\"km-image\");\n\n            if (!span[0] && element.html()) {\n                span = element.wrapInner('<span class=\"km-text\" />').children(\"span.km-text\");\n            }\n\n            if (!image[0] && icon) {\n                if (!span[0]) {\n                    iconSpan += \" km-notext\";\n                }\n                that.iconElement = element.prepend($(iconSpan + '\" />'));\n            }\n\n            if (badge || badge === 0) {\n                that.badgeElement = createBadge(badge).appendTo(element);\n            }\n        }\n    });\n\n    var BackButton = Button.extend({\n        options: {\n            name: \"BackButton\",\n            style: \"back\"\n        },\n\n        init: function(element, options) {\n            var that = this;\n            Button.fn.init.call(that, element, options);\n\n            if (typeof that.element.attr(\"href\") === \"undefined\") {\n                that.element.attr(\"href\", \"#:back\");\n            }\n        }\n    });\n\n    var DetailButton = Button.extend({\n        options: {\n            name: \"DetailButton\",\n            style: \"\"\n        },\n\n        init: function(element, options) {\n            Button.fn.init.call(this, element, options);\n        },\n\n        _style: function() {\n            var style = this.options.style + \" detail\",\n                element = this.element;\n\n            if (style) {\n                var styles = style.split(\" \");\n                $.each(styles, function() {\n                    element.addClass(\"km-\" + this);\n                });\n            }\n        },\n\n        _wrap: function() {\n            var that = this,\n                icon = that.options.icon,\n                iconSpan = '<span class=\"km-icon km-' + icon,\n                element = that.element,\n                span = element.children(\"span\"),\n                image = element.find(\"img\").addClass(\"km-image\");\n\n            if (!image[0] && icon) {\n                if (!span[0]) {\n                    iconSpan += \" km-notext\";\n                }\n                element.prepend($(iconSpan + '\" />'));\n            }\n        }\n\n    });\n\n    ui.plugin(Button);\n    ui.plugin(BackButton);\n    ui.plugin(DetailButton);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\r\n    define('kendo.mobile.buttongroup',[ \"kendo.core\" ], f);\r\n})(function(){\r\n\r\nvar __meta__ = { // jshint ignore:line\r\n    id: \"mobile.buttongroup\",\r\n    name: \"ButtonGroup\",\r\n    category: \"mobile\",\r\n    description: \"The Kendo mobile ButtonGroup widget is a linear set of grouped buttons.\",\r\n    depends: [ \"core\" ]\r\n};\r\n\r\n(function($, undefined) {\r\n    var kendo = window.kendo,\r\n        ui = kendo.mobile.ui,\r\n        Widget = ui.Widget,\r\n        ACTIVE = \"state-active\",\r\n        DISABLE = \"state-disabled\",\r\n        SELECT = \"select\",\r\n        SELECTOR = \"li:not(.km-\" + ACTIVE +\")\";\r\n\r\n    function className(name) {\r\n        return \"k-\" + name + \" km-\" + name;\r\n    }\r\n\r\n    function createBadge(value) {\r\n        return $('<span class=\"' + className(\"badge\") + '\">' + value + '</span>');\r\n    }\r\n\r\n    var ButtonGroup = Widget.extend({\r\n        init: function(element, options) {\r\n            var that = this;\r\n\r\n            Widget.fn.init.call(that, element, options);\r\n\r\n            that.element.addClass(\"km-buttongroup k-widget k-button-group\").find(\"li\").each(that._button);\r\n\r\n            that.element.on(that.options.selectOn, SELECTOR, \"_select\");\r\n\r\n            that._enable = true;\r\n            that.select(that.options.index);\r\n\r\n            if(!that.options.enable) {\r\n                that._enable = false;\r\n                that.wrapper.addClass(className(DISABLE));\r\n            }\r\n        },\r\n\r\n        events: [\r\n            SELECT\r\n        ],\r\n\r\n        options: {\r\n            name: \"ButtonGroup\",\r\n            selectOn: \"down\",\r\n            index: -1,\r\n            enable: true\r\n        },\r\n\r\n        current: function() {\r\n            return this.element.find(\".km-\" + ACTIVE);\r\n        },\r\n\r\n        select: function (li) {\r\n            var that = this,\r\n                index = -1;\r\n\r\n            if (li === undefined || li === -1 || !that._enable || $(li).is(\".km-\" + DISABLE)) {\r\n                return;\r\n            }\r\n\r\n            that.current().removeClass(className(ACTIVE));\r\n\r\n            if (typeof li === \"number\") {\r\n                index = li;\r\n                li = $(that.element[0].children[li]);\r\n            } else if (li.nodeType) {\r\n                li = $(li);\r\n                index = li.index();\r\n            }\r\n\r\n            li.addClass(className(ACTIVE));\r\n            that.selectedIndex = index;\r\n        },\r\n\r\n        badge: function(item, value) {\r\n            var buttongroup = this.element, badge;\r\n\r\n            if (!isNaN(item)) {\r\n                item = buttongroup.children().get(item);\r\n            }\r\n\r\n            item = buttongroup.find(item);\r\n            badge = $(item.children(\".km-badge\")[0] || createBadge(value).appendTo(item));\r\n\r\n            if (value || value === 0) {\r\n                badge.html(value);\r\n                return this;\r\n            }\r\n\r\n            if (value === false) {\r\n                badge.empty().remove();\r\n                return this;\r\n            }\r\n\r\n            return badge.html();\r\n        },\r\n\r\n        enable: function(enable) {\r\n            if(typeof enable == \"undefined\") {\r\n                enable = true;\r\n            }\r\n\r\n            this.wrapper.toggleClass(className(DISABLE), !enable);\r\n\r\n            this._enable = this.options.enable = enable;\r\n        },\r\n\r\n        _button: function() {\r\n            var button = $(this).addClass(className(\"button\")),\r\n                icon = kendo.attrValue(button, \"icon\"),\r\n                badge = kendo.attrValue(button, \"badge\"),\r\n                span = button.children(\"span\"),\r\n                image = button.find(\"img\").addClass(className(\"image\"));\r\n\r\n            if (!span[0]) {\r\n                span = button.wrapInner(\"<span/>\").children(\"span\");\r\n            }\r\n\r\n            span.addClass(className(\"text\"));\r\n\r\n            if (!image[0] && icon) {\r\n                button.prepend($('<span class=\"' + className(\"icon\") + ' ' + className(icon) + '\"/>'));\r\n            }\r\n\r\n            if (badge || badge === 0) {\r\n                createBadge(badge).appendTo(button);\r\n            }\r\n        },\r\n\r\n        _select: function(e) {\r\n            if (e.which > 1 || e.isDefaultPrevented() || !this._enable) {\r\n                return;\r\n            }\r\n\r\n            this.select(e.currentTarget);\r\n            this.trigger(SELECT, { index: this.selectedIndex });\r\n        }\r\n    });\r\n\r\n    ui.plugin(ButtonGroup);\r\n})(window.kendo.jQuery);\r\n\r\nreturn window.kendo;\r\n\r\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\r\n\n(function(f, define){\r\n    define('kendo.mobile.collapsible',[ \"kendo.core\" ], f);\r\n})(function(){\r\n\r\nvar __meta__ = { // jshint ignore:line\r\n    id: \"mobile.collapsible\",\r\n    name: \"Collapsible\",\r\n    category: \"mobile\",\r\n    description: \"The Kendo mobile Collapsible widget provides ability for creating collapsible blocks of content.\",\r\n    depends: [ \"core\", \"userevents\" ]\r\n};\r\n\r\n(function($, undefined) {\r\n    var kendo = window.kendo,\r\n        ui = kendo.mobile.ui,\r\n        Widget = ui.Widget,\r\n        COLLAPSIBLE = \"km-collapsible\",\r\n        HEADER = \"km-collapsible-header\",\r\n        CONTENT = \"km-collapsible-content\",\r\n        INSET = \"km-collapsibleinset\",\r\n        HEADER_WRAPPER = \"<div data-role='collapsible-header' class='\" + HEADER + \"'></div>\",\r\n        CONTENT_WRAPPER = \"<div data-role='collapsible-content' class='\" + CONTENT + \"'></div>\",\r\n\r\n        COLLAPSED = \"km-collapsed\",\r\n        EXPANDED = \"km-expanded\",\r\n        ANIMATED = \"km-animated\",\r\n\r\n        //icon position\r\n        LEFT = \"left\",\r\n\r\n        //events\r\n        EXAPND = \"expand\",\r\n        COLLAPSE = \"collapse\";\r\n\r\n    var Collapsible = Widget.extend({\r\n        init: function(element, options) {\r\n            var that = this,\r\n                container = $(element);\r\n\r\n            Widget.fn.init.call(that, container, options);\r\n\r\n            container.addClass(COLLAPSIBLE);\r\n\r\n            that._buildHeader();\r\n            that.content = container.children().not(that.header).wrapAll(CONTENT_WRAPPER).parent();\r\n\r\n            that._userEvents = new kendo.UserEvents(that.header, {\r\n                fastTap: true,\r\n                tap: function() { that.toggle(); }\r\n            });\r\n\r\n            container.addClass(that.options.collapsed ? COLLAPSED : EXPANDED);\r\n\r\n            if (that.options.inset) {\r\n                container.addClass(INSET);\r\n            }\r\n\r\n            if (that.options.animation) {\r\n                that.content.addClass(ANIMATED);\r\n                that.content.height(0);\r\n                if (that.options.collapsed) {\r\n                    that.content.hide();\r\n                }\r\n            } else if (that.options.collapsed) {\r\n                that.content.hide();\r\n            }\r\n        },\r\n\r\n        events: [\r\n            EXAPND,\r\n            COLLAPSE\r\n        ],\r\n\r\n        options: {\r\n            name: \"Collapsible\",\r\n            collapsed: true,\r\n            collapseIcon: \"arrow-n\",\r\n            expandIcon: \"arrow-s\",\r\n            iconPosition: LEFT,\r\n            animation: true,\r\n            inset: false\r\n        },\r\n\r\n        destroy: function() {\r\n            Widget.fn.destroy.call(this);\r\n            this._userEvents.destroy();\r\n        },\r\n\r\n        expand: function(instant) {\r\n            var icon = this.options.collapseIcon,\r\n                content = this.content,\r\n                ios = kendo.support.mobileOS.ios;\r\n\r\n            if (!this.trigger(EXAPND)) {\r\n                if (icon) {\r\n                    this.header.find(\".km-icon\").removeClass().addClass(\"km-icon km-\" + icon);\r\n                }\r\n                this.element.removeClass(COLLAPSED).addClass(EXPANDED);\r\n\r\n                if (this.options.animation && !instant) {\r\n                    content.off(\"transitionend\");\r\n                    content.show();\r\n                    if (ios) { content.removeClass(ANIMATED); } //required to get the height of the content on iOS\r\n                    content.height(this._getContentHeight());\r\n                    if (ios) { content.addClass(ANIMATED); }\r\n\r\n                    kendo.resize(content);\r\n                } else {\r\n                    content.show();\r\n                }\r\n            }\r\n        },\r\n\r\n        collapse: function(instant) {\r\n            var icon = this.options.expandIcon,\r\n                content = this.content;\r\n\r\n            if (!this.trigger(COLLAPSE)) {\r\n                if (icon) {\r\n                    this.header.find(\".km-icon\").removeClass().addClass(\"km-icon km-\" + icon);\r\n                }\r\n                this.element.removeClass(EXPANDED).addClass(COLLAPSED);\r\n\r\n                if (this.options.animation && !instant) {\r\n                    content.one(\"transitionend\", function() { content.hide(); });\r\n                    content.height(0);\r\n                } else {\r\n                    content.hide();\r\n                }\r\n            }\r\n        },\r\n\r\n        toggle: function(instant) {\r\n            if (this.isCollapsed()) {\r\n                this.expand(instant);\r\n            } else {\r\n                this.collapse(instant);\r\n            }\r\n        },\r\n\r\n        isCollapsed: function() {\r\n            return this.element.hasClass(COLLAPSED);\r\n        },\r\n\r\n        resize: function() {\r\n            if (!this.isCollapsed() && this.options.animation) {\r\n                this.content.height(this._getContentHeight());\r\n            }\r\n        },\r\n\r\n        _buildHeader: function() {\r\n            var header = this.element.children(\":header\").wrapAll(HEADER_WRAPPER),\r\n                iconSpan = $('<span class=\"km-icon\"/>'),\r\n                icon = this.options.collapsed ? this.options.expandIcon : this.options.collapseIcon,\r\n                iconPosition = this.options.iconPosition;\r\n\r\n            if (icon) {\r\n                header.prepend(iconSpan);\r\n                iconSpan.addClass(\"km-\" + icon);\r\n            }\r\n\r\n            this.header = header.parent();\r\n            this.header.addClass(\"km-icon-\" + iconPosition);\r\n        },\r\n\r\n        _getContentHeight: function() {\r\n            var style = this.content.attr(\"style\"),\r\n                height;\r\n\r\n            this.content.css({\r\n                position:   'absolute',\r\n                visibility: 'hidden',\r\n                height: \"auto\"\r\n            });\r\n\r\n            height = this.content.height();\r\n\r\n            this.content.attr(\"style\", style ? style : \"\");\r\n\r\n            return height;\r\n        }\r\n    });\r\n\r\n    ui.plugin(Collapsible);\r\n})(window.kendo.jQuery);\r\n\r\nreturn window.kendo;\r\n\r\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\r\n\n(function(f, define){\n    define('kendo.mobile.listview',[ \"kendo.data\", \"kendo.userevents\", \"kendo.mobile.button\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.listview\",\n    name: \"ListView\",\n    category: \"mobile\",\n    description: \"The Kendo Mobile ListView widget is used to display flat or grouped list of items.\",\n    depends: [ \"data\", \"userevents\", \"mobile.button\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Node = window.Node,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        outerHeight = kendo._outerHeight,\n        DataSource = kendo.data.DataSource,\n        Widget = ui.DataBoundWidget,\n        ITEM_SELECTOR = \".km-list > li, > li:not(.km-group-container)\",\n        HIGHLIGHT_SELECTOR = \".km-listview-link, .km-listview-label\",\n        ICON_SELECTOR = \"[\" + kendo.attr(\"icon\") + \"]\",\n        attrValue = kendo.attrValue,\n        GROUP_CLASS = \"km-group-title\",\n        ACTIVE_CLASS = \"km-state-active\",\n        GROUP_WRAPPER = '<div class=\"' + GROUP_CLASS + '\"><div class=\"km-text\"></div></div>',\n        GROUP_TEMPLATE = kendo.template('<li><div class=\"' + GROUP_CLASS + '\"><div class=\"km-text\">#= this.headerTemplate(data) #</div></div><ul>#= kendo.render(this.template, data.items)#</ul></li>'),\n        WRAPPER = '<div class=\"km-listview-wrapper\"></div>',\n        SEARCH_TEMPLATE = kendo.template('<form class=\"km-filter-form\"><div class=\"km-filter-wrap\"><input type=\"search\" placeholder=\"#=placeholder#\"/><a href=\"\\\\#\" class=\"km-filter-reset\" title=\"Clear\"><span class=\"km-icon km-clear\"></span><span class=\"km-text\">Clear</span></a></div></form>'),\n        NS = \".kendoMobileListView\",\n        STYLED = \"styled\",\n        DATABOUND = \"dataBound\",\n        DATABINDING = \"dataBinding\",\n        ITEM_CHANGE = \"itemChange\",\n        CLICK = \"click\",\n        CHANGE = \"change\",\n        PROGRESS = \"progress\",\n        FUNCTION = \"function\",\n\n        whitespaceRegExp = /^\\s+$/,\n        buttonRegExp = /button/;\n\n    function whitespace() {\n        return this.nodeType === Node.TEXT_NODE && this.nodeValue.match(whitespaceRegExp);\n    }\n\n    function addIcon(item, icon) {\n        if (icon && !item[0].querySelector(\".km-icon\")) {\n            item.prepend('<span class=\"km-icon km-' + icon + '\"/>');\n        }\n    }\n\n    function enhanceItem(item) {\n        addIcon(item, attrValue(item, \"icon\"));\n        addIcon(item, attrValue(item.children(ICON_SELECTOR), \"icon\"));\n    }\n\n    function enhanceLinkItem(item) {\n        var parent = item.parent(),\n            itemAndDetailButtons = item.add(parent.children(kendo.roleSelector(\"detailbutton\"))),\n            otherNodes = parent.contents().not(itemAndDetailButtons).not(whitespace);\n\n        if (otherNodes.length) {\n            return;\n        }\n\n        item.addClass(\"km-listview-link\")\n            .attr(kendo.attr(\"role\"), \"listview-link\");\n\n        addIcon(item, attrValue(parent, \"icon\"));\n        addIcon(item, attrValue(item, \"icon\"));\n    }\n\n    function enhanceCheckBoxItem(label) {\n        if (!label[0].querySelector(\"input[type=checkbox],input[type=radio]\")) {\n            return;\n        }\n\n        var item = label.parent();\n\n        if (item.contents().not(label).not(function() { return this.nodeType == 3; })[0]) {\n            return;\n        }\n\n        label.addClass(\"km-listview-label\");\n\n        label.children(\"[type=checkbox],[type=radio]\").addClass(\"km-widget km-icon km-check\");\n    }\n\n    function putAt(element, top) {\n        $(element).css('transform', 'translate3d(0px, ' + top + 'px, 0px)');\n    }\n\n    var HeaderFixer = kendo.Class.extend({\n        init: function(listView) {\n            var scroller = listView.scroller();\n\n            if (!scroller) {\n                return;\n            }\n\n            this.options = listView.options;\n            this.element = listView.element;\n            this.scroller = listView.scroller();\n            this._shouldFixHeaders();\n\n            var headerFixer = this;\n\n            var cacheHeaders = function() {\n                headerFixer._cacheHeaders();\n            };\n\n            listView.bind(\"resize\", cacheHeaders);\n\n            listView.bind(STYLED, cacheHeaders);\n            listView.bind(DATABOUND, cacheHeaders);\n\n            this._scrollHandler = function(e) {\n                headerFixer._fixHeader(e);\n            };\n            scroller.bind(\"scroll\", this._scrollHandler);\n        },\n\n        destroy: function() {\n            var that = this;\n            if (that.scroller) {\n                that.scroller.unbind(\"scroll\", that._scrollHandler);\n            }\n        },\n\n        _fixHeader: function(e) {\n            if (!this.fixedHeaders) {\n                return;\n            }\n\n            var i = 0,\n                scroller = this.scroller,\n                headers = this.headers,\n                scrollTop = e.scrollTop,\n                headerPair,\n                offset,\n                header;\n\n            do {\n                headerPair = headers[i++];\n                if (!headerPair) {\n                    header = $(\"<div />\");\n                    break;\n                }\n                offset = headerPair.offset;\n                header = headerPair.header;\n            } while (offset + 1 > scrollTop);\n\n            if (this.currentHeader != i) {\n                scroller.fixedContainer.html(header.clone());\n                this.currentHeader = i;\n            }\n        },\n\n        _shouldFixHeaders: function() {\n            this.fixedHeaders = this.options.type === \"group\" && this.options.fixedHeaders;\n        },\n\n        _cacheHeaders: function() {\n            this._shouldFixHeaders();\n\n            if (!this.fixedHeaders) {\n                return;\n            }\n\n            var headers = [], offset = this.scroller.scrollTop;\n\n            this.element.find(\".\" + GROUP_CLASS).each(function(_, header) {\n                header = $(header);\n                headers.unshift({\n                    offset: header.position().top + offset,\n                    header: header\n                });\n            });\n\n            this.headers = headers;\n            this._fixHeader({ scrollTop: offset });\n        }\n    });\n\n    var DEFAULT_PULL_PARAMETERS = function() {\n        return { page: 1 };\n    };\n\n    var RefreshHandler = kendo.Class.extend({\n        init: function(listView) {\n            var handler = this,\n                options = listView.options,\n                scroller = listView.scroller(),\n                pullParameters = options.pullParameters || DEFAULT_PULL_PARAMETERS;\n\n            this.listView = listView;\n            this.scroller = scroller;\n\n            listView.bind(\"_dataSource\", function(e) {\n                handler.setDataSource(e.dataSource);\n            });\n\n            scroller.setOptions({\n                pullToRefresh: true,\n                pull: function() {\n                    if (!handler._pulled) {\n                        handler._pulled = true;\n                        handler.dataSource.read(pullParameters.call(listView, handler._first));\n                    }\n                },\n                messages: {\n                    pullTemplate: options.messages.pullTemplate,\n                    releaseTemplate: options.messages.releaseTemplate,\n                    refreshTemplate: options.messages.refreshTemplate\n                }\n            });\n        },\n\n        setDataSource: function(dataSource) {\n            var handler = this;\n\n            this._first = dataSource.view()[0];\n            this.dataSource = dataSource;\n\n            dataSource.bind(\"change\", function() {\n                handler._change();\n            });\n\n            dataSource.bind(\"error\", function() {\n                handler._change();\n            });\n        },\n\n        _change: function() {\n            var scroller = this.scroller,\n                dataSource = this.dataSource;\n\n            if (this._pulled) {\n                scroller.pullHandled();\n            }\n\n            if (this._pulled || !this._first) {\n                var view = dataSource.view();\n\n                if (view[0]) {\n                    this._first = view[0];\n                }\n            }\n\n            this._pulled = false;\n        }\n    });\n\n    var VirtualList = kendo.Observable.extend({\n        init: function(options) {\n            var list = this;\n\n            kendo.Observable.fn.init.call(list);\n\n            list.buffer = options.buffer;\n            list.height = options.height;\n            list.item = options.item;\n            list.items = [];\n            list.footer = options.footer;\n\n            list.buffer.bind(\"reset\", function() {\n                list.refresh();\n            });\n\n        },\n\n        refresh: function() {\n            var buffer = this.buffer,\n                items = this.items,\n                endReached = false;\n\n            while(items.length) {\n                items.pop().destroy();\n            }\n\n            this.offset = buffer.offset;\n\n            var itemConstructor = this.item,\n                prevItem,\n                item;\n\n            for (var idx = 0; idx < buffer.viewSize; idx ++) {\n                if (idx === buffer.total()) {\n                    endReached = true;\n                    break;\n                }\n                item = itemConstructor(this.content(this.offset + items.length));\n                item.below(prevItem);\n                prevItem = item;\n                items.push(item);\n            }\n\n            this.itemCount = items.length;\n\n            this.trigger(\"reset\");\n\n            this._resize();\n\n            if (endReached) {\n                this.trigger(\"endReached\");\n            }\n        },\n\n        totalHeight: function() {\n            if (!this.items[0]) {\n                return 0;\n            }\n\n            var list = this,\n                items = list.items,\n                top = items[0].top,\n                bottom = items[items.length - 1].bottom,\n                averageItemHeight = (bottom - top) / list.itemCount,\n                remainingItemsCount = list.buffer.length - list.offset - list.itemCount;\n\n            return (this.footer ? this.footer.height : 0) + bottom + remainingItemsCount * averageItemHeight;\n        },\n\n        batchUpdate: function(top) {\n            var height = this.height(),\n                items = this.items,\n                item,\n                initialOffset = this.offset;\n\n            if (!items[0]) {\n                return;\n            }\n\n            if (this.lastDirection) { // scrolling up\n                while(items[items.length - 1].bottom > top + height * 2) {\n                    if (this.offset === 0) {\n                        break;\n                    }\n\n                    this.offset --;\n                    item = items.pop();\n                    item.update(this.content(this.offset));\n                    item.above(items[0]);\n                    items.unshift(item);\n                }\n            } else { // scrolling down\n                while (items[0].top < top - height) {\n                    var nextIndex = this.offset + this.itemCount; // here, it should be offset + 1 + itemCount - 1.\n\n                    if (nextIndex === this.buffer.total()) {\n                        this.trigger(\"endReached\");\n                        break;\n                    }\n\n                    if (nextIndex === this.buffer.length) {\n                        break;\n                    }\n\n                    item = items.shift();\n                    item.update(this.content(this.offset + this.itemCount));\n                    item.below(items[items.length - 1]);\n                    items.push(item);\n                    this.offset ++;\n                }\n            }\n\n            if (initialOffset !== this.offset) {\n                this._resize();\n            }\n        },\n\n        update: function(top) {\n            var list = this,\n                items = this.items,\n                item,\n                firstItem,\n                lastItem,\n                height = this.height(),\n                itemCount = this.itemCount,\n                padding = height / 2,\n                up = (this.lastTop || 0) > top,\n                topBorder = top - padding,\n                bottomBorder = top + height + padding;\n\n            if (!items[0]) {\n                return;\n            }\n\n            this.lastTop = top;\n            this.lastDirection = up;\n\n            if (up) { // scrolling up\n               if (items[0].top > topBorder &&  // needs reorder\n                   items[items.length - 1].bottom > bottomBorder + padding && // enough padding below\n                   this.offset > 0 // we are not at the top\n                  )\n               {\n                    this.offset --;\n                    item = items.pop();\n                    firstItem = items[0];\n                    item.update(this.content(this.offset));\n                    items.unshift(item);\n\n                    item.above(firstItem);\n                    list._resize();\n               }\n            } else { // scrolling down\n                if (\n                    items[items.length - 1].bottom < bottomBorder && // needs reorder\n                    items[0].top < topBorder - padding // enough padding above\n                )\n                {\n                    var nextIndex = this.offset + itemCount; // here, it should be offset + 1 + itemCount - 1.\n\n                    if (nextIndex === this.buffer.total()) {\n                        this.trigger(\"endReached\");\n                    } else if (nextIndex !== this.buffer.length) {\n                        item = items.shift();\n                        lastItem = items[items.length - 1];\n                        items.push(item);\n                        item.update(this.content(this.offset + this.itemCount));\n                        list.offset ++;\n\n                        item.below(lastItem);\n                        list._resize();\n                    }\n                }\n            }\n        },\n\n        content: function(index) {\n            return this.buffer.at(index);\n        },\n\n        destroy: function() {\n            this.unbind();\n        },\n\n        _resize: function() {\n            var items = this.items,\n                top = 0,\n                bottom = 0,\n                firstItem = items[0],\n                lastItem = items[items.length - 1];\n\n            if (firstItem) {\n                top = firstItem.top;\n                bottom = lastItem.bottom;\n            }\n\n            this.trigger(\"resize\", { top: top, bottom: bottom });\n\n            if (this.footer) {\n                this.footer.below(lastItem);\n            }\n        }\n    });\n\n    // export for testing purposes\n    kendo.mobile.ui.VirtualList = VirtualList;\n\n    var VirtualListViewItem = kendo.Class.extend({\n        init: function(listView, dataItem) {\n            var element = listView.append([dataItem], true)[0],\n                height = element.offsetHeight;\n\n            $.extend(this, {\n                top: 0,\n                element: element,\n                listView: listView,\n                height: height,\n                bottom: height\n            });\n        },\n\n        update: function(dataItem) {\n            this.element = this.listView.setDataItem(this.element, dataItem);\n        },\n\n        above: function(item) {\n            if (item) {\n                this.height = this.element.offsetHeight;\n                this.top = item.top - this.height;\n                this.bottom = item.top;\n                putAt(this.element, this.top);\n            }\n        },\n\n        below: function(item) {\n            if (item) {\n                this.height = this.element.offsetHeight;\n                this.top = item.bottom;\n                this.bottom = this.top + this.height;\n                putAt(this.element, this.top);\n            }\n        },\n\n        destroy: function() {\n            kendo.destroy(this.element);\n            $(this.element).remove();\n        }\n    });\n\n    var LOAD_ICON = '<div><span class=\"km-icon\"></span><span class=\"km-loading-left\"></span><span class=\"km-loading-right\"></span></div>';\n    var VirtualListViewLoadingIndicator = kendo.Class.extend({\n        init: function(listView) {\n            this.element = $('<li class=\"km-load-more km-scroller-refresh\" style=\"display: none\"></li>').appendTo(listView.element);\n            this._loadIcon = $(LOAD_ICON).appendTo(this.element);\n        },\n\n        enable: function() {\n            this.element.show();\n            this.height = outerHeight(this.element, true);\n        },\n\n        disable: function() {\n            this.element.hide();\n            this.height = 0;\n        },\n\n        below: function(item) {\n            if (item) {\n                this.top = item.bottom;\n                this.bottom = this.height + this.top;\n                putAt(this.element, this.top);\n            }\n        }\n    });\n\n    var VirtualListViewPressToLoadMore = VirtualListViewLoadingIndicator.extend({\n        init: function(listView, buffer) {\n\n            this._loadIcon = $(LOAD_ICON).hide();\n            this._loadButton = $('<a class=\"km-load\">' + listView.options.messages.loadMoreText + '</a>').hide();\n            this.element = $('<li class=\"km-load-more\" style=\"display: none\"></li>').append(this._loadIcon).append(this._loadButton).appendTo(listView.element);\n\n            var loadMore = this;\n\n            this._loadButton.kendoMobileButton().data(\"kendoMobileButton\").bind(\"click\", function() {\n                loadMore._hideShowButton();\n                buffer.next();\n            });\n\n            buffer.bind(\"resize\", function() {\n                loadMore._showLoadButton();\n            });\n\n            this.height = outerHeight(this.element, true);\n            this.disable();\n        },\n\n        _hideShowButton: function() {\n            this._loadButton.hide();\n            this.element.addClass(\"km-scroller-refresh\");\n            this._loadIcon.css('display', 'block');\n        },\n\n        _showLoadButton: function() {\n            this._loadButton.show();\n            this.element.removeClass(\"km-scroller-refresh\");\n            this._loadIcon.hide();\n        }\n    });\n\n    var VirtualListViewItemBinder = kendo.Class.extend({\n        init: function(listView) {\n            var binder = this;\n\n            this.chromeHeight = outerHeight(listView.wrapper.children().not(listView.element));\n            this.listView = listView;\n            this.scroller = listView.scroller();\n            this.options = listView.options;\n\n            listView.bind(\"_dataSource\", function(e) {\n                binder.setDataSource(e.dataSource, e.empty);\n            });\n\n            listView.bind(\"resize\", function() {\n                if (!binder.list.items.length) {\n                    return;\n                }\n\n                binder.scroller.reset();\n                binder.buffer.range(0);\n                binder.list.refresh();\n            });\n\n            this.scroller.makeVirtual();\n\n            this._scroll = function(e) {\n                binder.list.update(e.scrollTop);\n            };\n            this.scroller.bind('scroll', this._scroll);\n            this._scrollEnd = function(e) {\n                binder.list.batchUpdate(e.scrollTop);\n            };\n            this.scroller.bind('scrollEnd', this._scrollEnd);\n        },\n\n        destroy: function() {\n            this.list.unbind();\n            this.buffer.unbind();\n            this.scroller.unbind('scroll', this._scroll);\n            this.scroller.unbind('scrollEnd', this._scrollEnd);\n        },\n\n        setDataSource: function(dataSource, empty) {\n            var binder = this,\n                options = this.options,\n                listView = this.listView,\n                scroller = listView.scroller(),\n                pressToLoadMore = options.loadMore,\n                pageSize,\n                buffer,\n                footer;\n\n            this.dataSource = dataSource;\n\n            pageSize = dataSource.pageSize() || options.virtualViewSize;\n\n            if (!pageSize && !empty) {\n                throw new Error(\"the DataSource does not have page size configured. Page Size setting is mandatory for the mobile listview virtual scrolling to work as expected.\");\n            }\n\n            if (this.buffer) {\n                this.buffer.destroy();\n            }\n\n            buffer = new kendo.data.Buffer(dataSource, Math.floor(pageSize / 2), pressToLoadMore);\n\n            if (pressToLoadMore) {\n                footer = new VirtualListViewPressToLoadMore(listView, buffer);\n            } else {\n                footer = new VirtualListViewLoadingIndicator(listView);\n            }\n\n            if (this.list) {\n                this.list.destroy();\n            }\n\n            var list = new VirtualList({\n                buffer: buffer,\n                footer: footer,\n                item: function(dataItem) { return new VirtualListViewItem(listView, dataItem); },\n                height: function() { return scroller.height(); }\n            });\n\n            list.bind(\"resize\", function() {\n                binder.updateScrollerSize();\n                listView.updateSize();\n            });\n\n            list.bind(\"reset\", function() {\n                binder.footer.enable();\n            });\n\n            list.bind(\"endReached\", function() {\n                footer.disable();\n                binder.updateScrollerSize();\n            });\n\n            buffer.bind(\"expand\", function() {\n                list.lastDirection = false; // expand down\n                list.batchUpdate(scroller.scrollTop);\n            });\n\n            $.extend(this, {\n                buffer: buffer,\n                scroller: scroller,\n                list: list,\n                footer: footer\n            });\n        },\n\n        updateScrollerSize: function() {\n            this.scroller.virtualSize(0, this.list.totalHeight() + this.chromeHeight);\n        },\n\n        refresh: function() {\n            this.list.refresh();\n        },\n\n        reset: function() {\n            this.buffer.range(0);\n            this.list.refresh();\n        }\n    });\n\n    var ListViewItemBinder = kendo.Class.extend({\n        init: function(listView) {\n            var binder = this;\n            this.listView = listView;\n            this.options = listView.options;\n\n            var itemBinder = this;\n\n            this._refreshHandler = function(e) {\n                itemBinder.refresh(e);\n            };\n\n            this._progressHandler = function() {\n                listView.showLoading();\n            };\n\n            listView.bind(\"_dataSource\", function(e) {\n                binder.setDataSource(e.dataSource);\n            });\n        },\n\n        destroy: function() {\n            this._unbindDataSource();\n        },\n\n        reset: function() { },\n\n        refresh: function(e) {\n            var action = e && e.action,\n                dataItems = e && e.items,\n                listView = this.listView,\n                dataSource = this.dataSource,\n                prependOnRefresh = this.options.appendOnRefresh,\n                view = dataSource.view(),\n                groups = dataSource.group(),\n                groupedMode = groups && groups[0],\n                item;\n\n\n            if (action === \"itemchange\") {\n                if(!listView._hasBindingTarget()) {\n                    item = listView.findByDataItem(dataItems)[0];\n                    if (item) {\n                        listView.setDataItem(item, dataItems[0]);\n                    }\n                }\n                return;\n            }\n\n            var removedItems, addedItems, addedDataItems;\n            var adding = (action === \"add\" && !groupedMode) || (prependOnRefresh && !listView._filter);\n            var removing = action === \"remove\" && !groupedMode;\n\n            if (adding) {\n                // no need to unbind anything\n                removedItems = [];\n            } else if (removing) {\n                // unbind the items about to be removed;\n                removedItems = listView.findByDataItem(dataItems);\n            }\n\n            if (listView.trigger(DATABINDING, { action: action || \"rebind\", items: dataItems, removedItems: removedItems, index: e && e.index })) {\n                if (this._shouldShowLoading()) {\n                    listView.hideLoading();\n                }\n                return;\n            }\n\n            if (action === \"add\" && !groupedMode) {\n                var index = view.indexOf(dataItems[0]);\n                if (index > -1) {\n                    addedItems = listView.insertAt(dataItems, index);\n                    addedDataItems = dataItems;\n                }\n            } else if (action === \"remove\" && !groupedMode) {\n                addedItems = [];\n                listView.remove(dataItems);\n            } else if (groupedMode) {\n                listView.replaceGrouped(view);\n            }\n            else if (prependOnRefresh && !listView._filter) {\n                addedItems = listView.prepend(view);\n                addedDataItems = view;\n            }\n            else {\n                listView.replace(view);\n            }\n\n            if (this._shouldShowLoading()) {\n                listView.hideLoading();\n            }\n\n            listView.trigger(DATABOUND, { ns: ui, addedItems: addedItems, addedDataItems: addedDataItems });\n        },\n\n        setDataSource: function(dataSource) {\n            if (this.dataSource) {\n                this._unbindDataSource();\n            }\n\n            this.dataSource = dataSource;\n            dataSource.bind(CHANGE, this._refreshHandler);\n\n            if (this._shouldShowLoading()) {\n                this.dataSource.bind(PROGRESS, this._progressHandler);\n            }\n        },\n\n        _unbindDataSource: function() {\n            this.dataSource.unbind(CHANGE, this._refreshHandler).unbind(PROGRESS, this._progressHandler);\n        },\n\n        _shouldShowLoading: function() {\n            var options = this.options;\n            return !options.pullToRefresh && !options.loadMore && !options.endlessScroll;\n        }\n    });\n\n    var ListViewFilter = kendo.Class.extend({\n        init: function(listView) {\n            var filter = this,\n                filterable = listView.options.filterable,\n                events = \"change paste\",\n                that = this;\n\n            this.listView = listView;\n            this.options = filterable;\n\n            listView.element.before(SEARCH_TEMPLATE({ placeholder: filterable.placeholder || \"Search...\" }));\n\n            if (filterable.autoFilter !== false) {\n                events += \" keyup\";\n            }\n\n            this.element = listView.wrapper.find(\".km-search-form\");\n\n            this.searchInput = listView.wrapper.find(\"input[type=search]\")\n                .closest(\"form\").on(\"submit\" + NS, function(e) {\n                    e.preventDefault();\n                })\n                .end()\n                .on(\"focus\" + NS, function() {\n                    filter._oldFilter = filter.searchInput.val();\n                })\n                .on(events.split(\" \").join(NS + \" \") + NS, this._filterChange.bind(this));\n\n            this.clearButton = listView.wrapper.find(\".km-filter-reset\")\n                .on(CLICK, this._clearFilter.bind(this))\n                .hide();\n\n             this._dataSourceChange = this._refreshInput.bind(this);\n             listView.bind(\"_dataSource\", function(e) {\n                 e.dataSource.bind(\"change\", that._dataSourceChange);\n             });\n        },\n\n        _refreshInput: function() {\n            var appliedFilters = this.listView.dataSource.filter();\n            var searchInput = this.listView._filter.searchInput;\n\n            if (!appliedFilters || appliedFilters.filters[0].field !== this.listView.options.filterable.field)  {\n                searchInput.val(\"\");\n            } else {\n                searchInput.val(appliedFilters.filters[0].value);\n            }\n        },\n\n        _search: function(expr) {\n            this._filter = true;\n            this.clearButton[expr ? \"show\" : \"hide\"]();\n            this.listView.dataSource.filter(expr);\n        },\n\n        _filterChange: function(e) {\n            var filter = this;\n            if (e.type == \"paste\" && this.options.autoFilter !== false) {\n                setTimeout(function() {\n                    filter._applyFilter();\n                }, 1);\n            } else {\n                this._applyFilter();\n            }\n        },\n\n        _applyFilter: function() {\n            var options = this.options,\n                value = this.searchInput.val(),\n                expr = value.length ? {\n                    field: options.field,\n                    operator: options.operator || \"startswith\",\n                    ignoreCase: options.ignoreCase,\n                    value: value\n                } : null;\n\n            if (value === this._oldFilter) {\n                return;\n            }\n\n            this._oldFilter = value;\n            this._search(expr);\n        },\n\n        _clearFilter: function(e) {\n            this.searchInput.val(\"\");\n            this._search(null);\n\n            e.preventDefault();\n        }\n    });\n\n    var ListView = Widget.extend({\n        init: function(element, options) {\n            var listView = this;\n\n            Widget.fn.init.call(this, element, options);\n\n            element = this.element;\n\n            options = this.options;\n\n            // support for legacy typo in configuration options: scrollTreshold -> scrollThreshold.\n            if (options.scrollTreshold) {\n                options.scrollThreshold = options.scrollTreshold;\n            }\n\n            element\n                .on(\"down\", HIGHLIGHT_SELECTOR, \"_highlight\")\n                .on(\"move up cancel\", HIGHLIGHT_SELECTOR, \"_dim\");\n\n            this._userEvents = new kendo.UserEvents(element, {\n                fastTap: true,\n                filter: ITEM_SELECTOR,\n                allowSelection: true,\n                tap: function(e) {\n                    listView._click(e);\n                }\n            });\n\n            // HACK!!! to negate the ms touch action from the user events.\n            element.css(\"-ms-touch-action\", \"auto\");\n\n            element.wrap(WRAPPER);\n\n            this.wrapper = this.element.parent();\n\n            this._headerFixer = new HeaderFixer(this);\n\n            this._itemsCache = {};\n            this._templates();\n\n            this.virtual = options.endlessScroll || options.loadMore;\n\n            this._style();\n\n            if (this.options.$angular && (this.virtual || this.options.pullToRefresh)) {\n                setTimeout(this._start.bind(this));\n            } else {\n                this._start();\n            }\n\n        },\n\n        _start: function() {\n            var options = this.options;\n\n            if (this.options.filterable) {\n                this._filter = new ListViewFilter(this);\n            }\n\n            if (this.virtual) {\n                this._itemBinder = new VirtualListViewItemBinder(this);\n            } else {\n                this._itemBinder = new ListViewItemBinder(this);\n            }\n\n            if (this.options.pullToRefresh) {\n                this._pullToRefreshHandler = new RefreshHandler(this);\n            }\n\n            this.setDataSource(options.dataSource);\n\n            this._enhanceItems(this.items());\n\n            kendo.notify(this, ui);\n        },\n\n        events: [\n            CLICK,\n            DATABINDING,\n            DATABOUND,\n            ITEM_CHANGE\n        ],\n\n        options: {\n            name: \"ListView\",\n            style: \"\",\n            type: \"flat\",\n            autoBind: true,\n            fixedHeaders: false,\n            template: \"#:data#\",\n            headerTemplate: '<span class=\"km-text\">#:value#</span>',\n            appendOnRefresh: false,\n            loadMore: false,\n            endlessScroll: false,\n            scrollThreshold: 30,\n            pullToRefresh: false,\n            messages: {\n                loadMoreText: \"Press to load more\",\n                pullTemplate: \"Pull to refresh\",\n                releaseTemplate: \"Release to refresh\",\n                refreshTemplate: \"Refreshing\"\n            },\n            pullOffset: 140,\n            filterable: false,\n            virtualViewSize: null\n        },\n\n        refresh: function() {\n            this._itemBinder.refresh();\n        },\n\n        reset: function() {\n            this._itemBinder.reset();\n        },\n\n        setDataSource: function(dataSource) {\n            // the listView should have a ready datasource for MVVM to function properly. But an empty datasource should not empty the element\n            var emptyDataSource = !dataSource;\n            this.dataSource = DataSource.create(dataSource);\n\n            this.trigger(\"_dataSource\", { dataSource: this.dataSource, empty: emptyDataSource });\n\n            if (this.options.autoBind && !emptyDataSource) {\n                this.items().remove();\n                this.dataSource.fetch();\n            }\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            kendo.destroy(this.element);\n            this._userEvents.destroy();\n            if (this._itemBinder) {\n                this._itemBinder.destroy();\n            }\n\n            if(this._headerFixer) {\n                this._headerFixer.destroy();\n            }\n\n            this.element.unwrap();\n            delete this.element;\n            delete this.wrapper;\n            delete this._userEvents;\n        },\n\n        items: function() {\n            if (this.options.type === \"group\") {\n                return this.element.find(\".km-list\").children();\n            } else {\n                return this.element.children().not('.km-load-more');\n            }\n        },\n\n        scroller: function() {\n            if (!this._scrollerInstance) {\n                this._scrollerInstance = this.element.closest(\".km-scroll-wrapper\").data(\"kendoMobileScroller\");\n            }\n\n            return this._scrollerInstance;\n        },\n\n        showLoading: function() {\n            var view = this.view();\n            if (view && view.loader) {\n                view.loader.show();\n            }\n        },\n\n        hideLoading: function() {\n            var view = this.view();\n            if (view && view.loader) {\n                view.loader.hide();\n            }\n        },\n\n        insertAt: function(dataItems, index, triggerChange) {\n            var listView = this;\n            return listView._renderItems(dataItems, function(items) {\n                if (index === 0) {\n                    listView.element.prepend(items);\n                }\n                else if (index === -1) {\n                    listView.element.append(items);\n                } else {\n                    listView.items().eq(index - 1).after(items);\n                }\n\n                if (triggerChange) {\n                    for (var i = 0; i < items.length; i ++) {\n                        listView.trigger(ITEM_CHANGE, { item: items.eq(i), data: dataItems[i], ns: ui });\n                    }\n                }\n            });\n        },\n\n        append: function(dataItems, triggerChange) {\n            return this.insertAt(dataItems, -1, triggerChange);\n        },\n\n        prepend: function(dataItems, triggerChange) {\n            return this.insertAt(dataItems, 0, triggerChange);\n        },\n\n        replace: function(dataItems) {\n            this.options.type = \"flat\";\n            this._angularItems(\"cleanup\");\n            kendo.destroy(this.element.children());\n            this.element.empty();\n            this._userEvents.cancel();\n            this._style();\n            return this.insertAt(dataItems, 0);\n        },\n\n        replaceGrouped: function(groups) {\n            this.options.type = \"group\";\n            this._angularItems(\"cleanup\");\n            this.element.empty();\n            var items = $(kendo.render(this.groupTemplate, groups));\n\n            this._enhanceItems(items.children(\"ul\").children(\"li\"));\n            this.element.append(items);\n            mobile.init(items);\n            this._style();\n            this._angularItems(\"compile\");\n        },\n\n        remove: function(dataItems) {\n            var items = this.findByDataItem(dataItems);\n            this.angular(\"cleanup\", function(){\n                return { elements: items };\n            });\n            kendo.destroy(items);\n            items.remove();\n        },\n\n        findByDataItem: function(dataItems) {\n            var selectors = [];\n\n            for (var idx = 0, length = dataItems.length; idx < length; idx ++) {\n                selectors[idx] = \"[data-\" + kendo.ns + \"uid=\" + dataItems[idx].uid + \"]\";\n            }\n\n            return this.element.find(selectors.join(\",\"));\n        },\n\n        // item is a DOM element, not jQuery object.\n        setDataItem: function(item, dataItem) {\n            var listView = this,\n                replaceItem = function(items) {\n                    var newItem = $(items[0]);\n                    kendo.destroy(item);\n                    listView.angular(\"cleanup\", function(){ return { elements: [ $(item) ] }; });\n                    $(item).replaceWith(newItem);\n                    listView.trigger(ITEM_CHANGE, { item: newItem, data: dataItem, ns: ui });\n                };\n\n            return this._renderItems([dataItem], replaceItem)[0];\n        },\n\n        updateSize: function() {\n            this._size = this.getSize();\n        },\n\n        _renderItems: function(dataItems, callback) {\n            var items = $(kendo.render(this.template, dataItems));\n\n            callback(items);\n\n            this.angular(\"compile\", function() {\n                return {\n                    elements: items,\n                    data: dataItems.map(function(data){\n                        return { dataItem: data };\n                    })\n                };\n            });\n\n            mobile.init(items);\n            this._enhanceItems(items);\n\n            return items;\n        },\n\n        _dim: function(e) {\n            this._toggle(e, false);\n        },\n\n        _highlight: function(e) {\n            this._toggle(e, true);\n        },\n\n        _toggle: function(e, highlight) {\n            if (e.which > 1) {\n                return;\n            }\n\n            var clicked = $(e.currentTarget),\n                item = clicked.parent(),\n                role = attrValue(clicked, \"role\") || \"\",\n                plainItem = (!role.match(buttonRegExp)),\n                prevented = e.isDefaultPrevented();\n\n            if (plainItem) {\n                item.toggleClass(ACTIVE_CLASS, highlight && !prevented);\n            }\n        },\n\n        _templates: function() {\n            var template = this.options.template,\n                headerTemplate = this.options.headerTemplate,\n                dataIDAttribute = ' data-uid=\"#=arguments[0].uid || \"\"#\"',\n                templateProxy = {},\n                groupTemplateProxy = {};\n\n            if (typeof template === FUNCTION) {\n                templateProxy.template = template;\n                template = \"#=this.template(data)#\";\n            }\n\n            this.template = kendo.template(\"<li\" + dataIDAttribute + \">\" + template + \"</li>\").bind(templateProxy);\n\n            groupTemplateProxy.template = this.template;\n\n            if (typeof headerTemplate === FUNCTION) {\n                groupTemplateProxy._headerTemplate = headerTemplate;\n                headerTemplate = \"#=this._headerTemplate(data)#\";\n            }\n\n            groupTemplateProxy.headerTemplate = kendo.template(headerTemplate);\n\n            this.groupTemplate = GROUP_TEMPLATE.bind(groupTemplateProxy);\n        },\n\n        _click: function(e) {\n            if (e.event.which > 1 || e.event.isDefaultPrevented()) {\n                return;\n            }\n\n            var dataItem,\n                item = e.target,\n                target = $(e.event.target),\n                buttonElement = target.closest(kendo.roleSelector(\"button\", \"detailbutton\", \"backbutton\")),\n                button = kendo.widgetInstance(buttonElement, ui),\n                id = item.attr(kendo.attr(\"uid\"));\n\n            if (id) {\n                dataItem = this.dataSource.getByUid(id);\n            }\n\n            if (this.trigger(CLICK, {target: target, item: item, dataItem: dataItem, button: button})) {\n                e.preventDefault();\n            }\n        },\n\n        _styleGroups: function() {\n            var rootItems = this.element.children();\n\n            rootItems.children(\"ul\").addClass(\"km-list\");\n\n            rootItems.each(function() {\n                var li = $(this),\n                    groupHeader = li.contents().first();\n\n                li.addClass(\"km-group-container\");\n                if (!groupHeader.is(\"ul\") && !groupHeader.is(\"div.\" + GROUP_CLASS)) {\n                    groupHeader.wrap(GROUP_WRAPPER);\n                }\n            });\n        },\n\n        _style: function() {\n            var options = this.options,\n                grouped = options.type === \"group\",\n                element = this.element,\n                inset = options.style === \"inset\";\n\n            element.addClass(\"km-listview\")\n                .toggleClass(\"km-list\", !grouped)\n                .toggleClass(\"km-virtual-list\", this.virtual)\n                .toggleClass(\"km-listinset\", !grouped && inset)\n                .toggleClass(\"km-listgroup\", grouped && !inset)\n                .toggleClass(\"km-listgroupinset\", grouped && inset);\n\n            if (!element.parents(\".km-listview\")[0]) {\n                element.closest(\".km-content\").toggleClass(\"km-insetcontent\", inset); // iOS has white background when the list is not inset.\n            }\n\n            if (grouped) {\n                this._styleGroups();\n            }\n\n            this.trigger(STYLED);\n        },\n\n        _enhanceItems: function(items) {\n            items.each(function() {\n                var item = $(this),\n                    child,\n                    enhanced = false;\n\n                item.children().each(function() {\n                    child = $(this);\n                    if (child.is(\"a\")) {\n                        enhanceLinkItem(child);\n                        enhanced = true;\n                    } else if (child.is(\"label\")) {\n                        enhanceCheckBoxItem(child);\n                        enhanced = true;\n                    }\n                });\n\n                if (!enhanced) {\n                    enhanceItem(item);\n                }\n            });\n        }\n    });\n\n    ui.plugin(ListView);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.navbar',[ \"kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.navbar\",\n    name: \"NavBar\",\n    category: \"mobile\",\n    description: \"The Kendo mobile NavBar widget is used inside a mobile View or Layout Header element to display an application navigation bar.\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        Widget = ui.Widget;\n\n    function createContainer(align, element) {\n        var items = element.find(\"[\" + kendo.attr(\"align\") + \"=\" + align + \"]\");\n\n        if (items[0]) {\n            return $('<div class=\"km-' + align + 'item\" />').append(items).prependTo(element);\n        }\n    }\n\n    function toggleTitle(centerElement) {\n        var siblings = centerElement.siblings(),\n            noTitle = !!centerElement.children(\"ul\")[0],\n            showTitle = (!!siblings[0] && kendo.trim(centerElement.text()) === \"\"),\n            android = !!(kendo.mobile.application && kendo.mobile.application.element.is(\".km-android\"));\n\n        centerElement.prevAll().toggleClass(\"km-absolute\", noTitle);\n        centerElement.toggleClass(\"km-show-title\", showTitle);\n        centerElement.toggleClass(\"km-fill-title\", showTitle && !kendo.trim(centerElement.html()));\n        centerElement.toggleClass(\"km-no-title\", noTitle);\n        centerElement.toggleClass(\"km-hide-title\", android && !siblings.children().is(\":visible\"));\n    }\n\n    var NavBar = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.element;\n\n            that.container().bind(\"show\", this.refresh.bind(this));\n\n            element.addClass(\"km-navbar\").wrapInner($('<div class=\"km-view-title km-show-title\" />'));\n            that.leftElement = createContainer(\"left\", element);\n            that.rightElement = createContainer(\"right\", element);\n            that.centerElement = element.find(\".km-view-title\");\n        },\n\n        options: {\n            name: \"NavBar\"\n        },\n\n        title: function(value) {\n            this.element.find(kendo.roleSelector(\"view-title\")).text(value);\n            toggleTitle(this.centerElement);\n        },\n\n        refresh: function(e) {\n            var view = e.view;\n            this.title(view.options.title);\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            kendo.destroy(this.element);\n        }\n    });\n\n    ui.plugin(NavBar);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.scrollview',[ \"kendo.fx\", \"kendo.data\", \"kendo.draganddrop\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.scrollview\",\n    name: \"ScrollView\",\n    category: \"mobile\",\n    description: \"The Kendo Mobile ScrollView widget is used to scroll content wider than the device screen.\",\n    depends: [ \"fx\", \"data\", \"draganddrop\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        Transition = kendo.effects.Transition,\n        Pane = kendo.ui.Pane,\n        PaneDimensions = kendo.ui.PaneDimensions,\n        Widget = ui.DataBoundWidget,\n        DataSource = kendo.data.DataSource,\n        Buffer = kendo.data.Buffer,\n        BatchBuffer = kendo.data.BatchBuffer,\n\n        // Math\n        math = Math,\n        abs  = math.abs,\n        ceil = math.ceil,\n        round = math.round,\n        max = math.max,\n        min = math.min,\n        floor = math.floor,\n\n        CHANGE = \"change\",\n        CHANGING = \"changing\",\n        REFRESH = \"refresh\",\n        CURRENT_PAGE_CLASS = \"current-page\",\n        VIRTUAL_PAGE_CLASS = \"virtual-page\",\n        FUNCTION = \"function\",\n        ITEM_CHANGE = \"itemChange\",\n        CLEANUP = \"cleanup\",\n\n        VIRTUAL_PAGE_COUNT = 3,\n        LEFT_PAGE = -1,\n        CETER_PAGE = 0,\n        RIGHT_PAGE = 1,\n\n        LEFT_SWIPE = -1,\n        NUDGE = 0,\n        RIGHT_SWIPE = 1;\n\n    function className(name) {\n        return \"k-\" + name + \" km-\" + name;\n    }\n\n    var Pager = kendo.Class.extend({\n        init: function(scrollView) {\n            var that = this,\n                element = $(\"<ol class='\" + className(\"pages\") + \"'/>\");\n\n            scrollView.element.append(element);\n\n            this._changeProxy = that._change.bind(that);\n            this._refreshProxy = that._refresh.bind(that);\n            scrollView.bind(CHANGE, this._changeProxy);\n            scrollView.bind(REFRESH, this._refreshProxy);\n\n            $.extend(that, { element: element, scrollView: scrollView });\n        },\n\n        items: function() {\n            return this.element.children();\n        },\n\n        _refresh: function(e) {\n            var pageHTML = \"\";\n\n            for (var idx = 0; idx < e.pageCount; idx ++) {\n                pageHTML += \"<li></li>\";\n            }\n\n            this.element.html(pageHTML);\n            this.items().eq(e.page).addClass(className(CURRENT_PAGE_CLASS));\n        },\n\n        _change: function(e) {\n            this.items()\n                .removeClass(className(CURRENT_PAGE_CLASS))\n                .eq(e.page).addClass(className(CURRENT_PAGE_CLASS));\n        },\n\n        destroy: function() {\n            this.scrollView.unbind(CHANGE, this._changeProxy);\n            this.scrollView.unbind(REFRESH, this._refreshProxy);\n            this.element.remove();\n        }\n    });\n\n    kendo.mobile.ui.ScrollViewPager = Pager;\n\n    var TRANSITION_END = \"transitionEnd\",\n        DRAG_START = \"dragStart\",\n        DRAG_END = \"dragEnd\";\n\n    var ElasticPane = kendo.Observable.extend({\n        init: function(element, options) {\n            var that = this;\n\n            kendo.Observable.fn.init.call(this);\n\n            this.element = element;\n            this.container = element.parent();\n\n            var movable,\n                transition,\n                userEvents,\n                dimensions,\n                dimension,\n                pane;\n\n            movable = new kendo.ui.Movable(that.element);\n\n            transition = new Transition({\n                axis: \"x\",\n                movable: movable,\n                onEnd: function() {\n                    that.trigger(TRANSITION_END);\n                }\n            });\n\n            userEvents = new kendo.UserEvents(element, {\n                fastTap: true,\n                start: function(e) {\n                    if (abs(e.x.velocity) * 2 >= abs(e.y.velocity)) {\n                        userEvents.capture();\n                    } else {\n                        userEvents.cancel();\n                    }\n\n                    that.trigger(DRAG_START, e);\n                    transition.cancel();\n                },\n                allowSelection: true,\n                end: function(e) {\n                    that.trigger(DRAG_END, e);\n                }\n            });\n\n            dimensions = new PaneDimensions({\n                element: that.element,\n                container: that.container\n            });\n\n            dimension = dimensions.x;\n\n            dimension.bind(CHANGE, function() {\n                that.trigger(CHANGE);\n            });\n\n            pane = new Pane({\n                dimensions: dimensions,\n                userEvents: userEvents,\n                movable: movable,\n                elastic: true\n            });\n\n            $.extend(that, {\n                duration: options && options.duration || 1,\n                movable: movable,\n                transition: transition,\n                userEvents: userEvents,\n                dimensions: dimensions,\n                dimension: dimension,\n                pane: pane\n            });\n\n            this.bind([TRANSITION_END, DRAG_START, DRAG_END, CHANGE], options);\n        },\n\n        size: function() {\n            return { width: this.dimensions.x.getSize(), height: this.dimensions.y.getSize() };\n        },\n\n        total: function() {\n            return this.dimension.getTotal();\n        },\n\n        offset: function() {\n            return -this.movable.x;\n        },\n\n        updateDimension: function() {\n            this.dimension.update(true);\n        },\n\n        refresh: function() {\n            this.dimensions.refresh();\n        },\n\n        moveTo: function(offset) {\n            this.movable.moveAxis(\"x\", -offset);\n        },\n\n        transitionTo: function(offset, ease, instant) {\n            if (instant) {\n                this.moveTo(-offset);\n            } else {\n                this.transition.moveTo({ location: offset, duration: this.duration, ease: ease });\n            }\n        }\n    });\n\n    kendo.mobile.ui.ScrollViewElasticPane = ElasticPane;\n\n    var ScrollViewContent = kendo.Observable.extend({\n        init: function(element, pane, options) {\n            var that = this;\n\n            kendo.Observable.fn.init.call(this);\n            that.element = element;\n            that.pane = pane;\n            that._getPages();\n            this.page = 0;\n            this.pageSize = options.pageSize || 1;\n            this.contentHeight = options.contentHeight;\n            this.enablePager = options.enablePager;\n            this.pagerOverlay = options.pagerOverlay;\n        },\n\n        scrollTo: function(page, instant) {\n            this.page = page;\n            this.pane.transitionTo(- page * this.pane.size().width, Transition.easeOutExpo, instant);\n        },\n\n        paneMoved: function(swipeType, bounce, callback, /*internal*/ instant) {\n            var that = this,\n                pane = that.pane,\n                width = pane.size().width * that.pageSize,\n                approx = round,\n                ease = bounce ? Transition.easeOutBack : Transition.easeOutExpo,\n                snap,\n                nextPage;\n\n            if (swipeType === LEFT_SWIPE) {\n                approx = ceil;\n            } else if (swipeType === RIGHT_SWIPE) {\n                approx = floor;\n            }\n\n            nextPage = approx(pane.offset() / width);\n\n            snap = max(that.minSnap, min(-nextPage * width, that.maxSnap));\n\n            if (nextPage != that.page) {\n                if (callback && callback({ currentPage: that.page, nextPage: nextPage })) {\n                    snap = -that.page * pane.size().width;\n                }\n            }\n\n            pane.transitionTo(snap, ease, instant);\n        },\n\n        updatePage: function() {\n            var pane = this.pane,\n                page = round(pane.offset() / pane.size().width);\n\n            if (page != this.page) {\n                this.page = page;\n                return true;\n            }\n\n            return false;\n        },\n\n        forcePageUpdate: function() {\n            return this.updatePage();\n        },\n\n        resizeTo: function(size) {\n            var pane = this.pane,\n                width = size.width;\n\n            this.pageElements.width(width);\n\n            if (this.contentHeight === \"100%\") {\n                var containerHeight = this.element.parent().height();\n\n                if (this.enablePager === true) {\n                    var pager = this.element.parent().find(\"ol.km-pages\");\n                    if (!this.pagerOverlay && pager.length) {\n                        containerHeight -= kendo._outerHeight(pager, true);\n                    }\n                }\n\n                this.element.css(\"height\", containerHeight);\n                this.pageElements.css(\"height\", containerHeight);\n            }\n\n            // re-read pane dimension after the pageElements have been resized.\n            pane.updateDimension();\n\n            if (!this._paged) {\n                this.page = floor(pane.offset() / width);\n            }\n\n            this.scrollTo(this.page, true);\n\n            this.pageCount = ceil(pane.total() / width);\n            this.minSnap = - (this.pageCount - 1) * width;\n            this.maxSnap = 0;\n        },\n\n        _getPages: function() {\n            this.pageElements = this.element.find(kendo.roleSelector(\"page\"));\n            this._paged = this.pageElements.length > 0;\n        }\n    });\n\n    kendo.mobile.ui.ScrollViewContent = ScrollViewContent;\n\n    var VirtualScrollViewContent = kendo.Observable.extend({\n        init: function(element, pane, options) {\n            var that = this;\n\n            kendo.Observable.fn.init.call(this);\n\n            that.element = element;\n            that.pane = pane;\n            that.options = options;\n            that._templates();\n            that.page = options.page || 0;\n            that.pages = [];\n            that._initPages();\n            that.resizeTo(that.pane.size());\n\n            that.pane.dimension.forceEnabled();\n        },\n\n        setDataSource: function(dataSource) {\n            this.dataSource = DataSource.create(dataSource);\n            this._buffer();\n            this._pendingPageRefresh = false;\n            this._pendingWidgetRefresh = false;\n        },\n\n        _viewShow: function() {\n            var that = this;\n            if (that._pendingWidgetRefresh) {\n                setTimeout(function() {\n                    that._resetPages();\n                }, 0);\n                that._pendingWidgetRefresh = false;\n            }\n        },\n\n        _buffer: function() {\n            var itemsPerPage = this.options.itemsPerPage;\n\n            if (this.buffer) {\n                this.buffer.destroy();\n            }\n\n            if (itemsPerPage > 1) {\n                this.buffer = new BatchBuffer(this.dataSource, itemsPerPage);\n            } else {\n                this.buffer = new Buffer(this.dataSource, itemsPerPage * 3);\n            }\n\n            this._resizeProxy = this._onResize.bind(this);\n            this._resetProxy = this._onReset.bind(this);\n            this._endReachedProxy = this._onEndReached.bind(this);\n\n            this.buffer.bind({\n                \"resize\": this._resizeProxy,\n                \"reset\": this._resetProxy,\n                \"endreached\": this._endReachedProxy\n            });\n        },\n\n        _templates: function() {\n            var template = this.options.template,\n                emptyTemplate = this.options.emptyTemplate,\n                templateProxy = {},\n                emptyTemplateProxy = {};\n\n            if (typeof template === FUNCTION) {\n                templateProxy.template = template;\n                template = \"#=this.template(data)#\";\n            }\n\n            this.template = kendo.template(template).bind(templateProxy);\n\n            if (typeof emptyTemplate === FUNCTION) {\n                emptyTemplateProxy.emptyTemplate = emptyTemplate;\n                emptyTemplate = \"#=this.emptyTemplate(data)#\";\n            }\n\n            this.emptyTemplate = kendo.template(emptyTemplate).bind(emptyTemplateProxy);\n        },\n\n        _initPages: function() {\n            var pages = this.pages,\n                element = this.element,\n                page;\n\n            for (var i = 0; i < VIRTUAL_PAGE_COUNT; i++) {\n                page = new Page(element);\n                pages.push(page);\n            }\n\n            this.pane.updateDimension();\n        },\n\n        resizeTo: function(size) {\n            var pages = this.pages,\n                pane = this.pane;\n\n            for (var i = 0; i < pages.length; i++) {\n                pages[i].setWidth(size.width);\n            }\n\n            if (this.options.contentHeight === \"auto\") {\n                this.element.css(\"height\", this.pages[1].element.height());\n            }\n\n            else if (this.options.contentHeight === \"100%\") {\n                var containerHeight = this.element.parent().height();\n\n                if (this.options.enablePager === true) {\n                    var pager = this.element.parent().find(\"ol.km-pages\");\n                    if (!this.options.pagerOverlay && pager.length) {\n                        containerHeight -= kendo._outerHeight(pager, true);\n                    }\n                }\n\n                this.element.css(\"height\", containerHeight);\n                pages[0].element.css(\"height\", containerHeight);\n                pages[1].element.css(\"height\", containerHeight);\n                pages[2].element.css(\"height\", containerHeight);\n            }\n\n            pane.updateDimension();\n\n            this._repositionPages();\n\n            this.width = size.width;\n        },\n\n        scrollTo: function(page) {\n            var buffer = this.buffer,\n                dataItem;\n\n            buffer.syncDataSource();\n            dataItem = buffer.at(page);\n\n            if (!dataItem) {\n                return;\n            }\n\n            this._updatePagesContent(page);\n\n            this.page = page;\n        },\n\n        paneMoved: function(swipeType, bounce, callback, /*internal*/ instant) {\n            var that = this,\n                pane = that.pane,\n                width = pane.size().width,\n                offset = pane.offset(),\n                thresholdPassed = Math.abs(offset) >= width / 3,\n                ease = bounce ? kendo.effects.Transition.easeOutBack : kendo.effects.Transition. easeOutExpo,\n                isEndReached = that.page + 2 > that.buffer.total(),\n                nextPage,\n                delta = 0;\n\n            if (swipeType === RIGHT_SWIPE) {\n                if (that.page !== 0) {\n                    delta = -1; //backward\n                }\n            } else if (swipeType === LEFT_SWIPE && !isEndReached) {\n                delta = 1; //forward\n            } else if (offset > 0 && (thresholdPassed && !isEndReached)) {\n                delta = 1; //forward\n            } else if (offset < 0 && thresholdPassed) {\n                if (that.page !== 0) {\n                    delta = -1; //backward\n                }\n            }\n\n            nextPage = that.page;\n            if (delta) {\n                nextPage = (delta > 0) ? nextPage + 1 : nextPage - 1;\n            }\n\n            if (callback && callback({ currentPage: that.page, nextPage: nextPage })) {\n                delta = 0;\n            }\n\n            if (delta === 0) {\n                that._cancelMove(ease, instant);\n            } else if (delta === -1) {\n                that._moveBackward(instant);\n            } else if (delta === 1) {\n                that._moveForward(instant);\n            }\n        },\n\n        updatePage: function() {\n            var pages = this.pages;\n\n            if (this.pane.offset() === 0) {\n                return false;\n            }\n\n            if (this.pane.offset() > 0) {\n                pages.push(this.pages.shift());//forward\n                this.page++;\n                this.setPageContent(pages[2], this.page + 1);\n            } else {\n                pages.unshift(this.pages.pop()); //back\n                this.page--;\n                this.setPageContent(pages[0], this.page - 1);\n            }\n\n            this._repositionPages();\n\n            this._resetMovable();\n\n            return true;\n        },\n\n        forcePageUpdate: function() {\n            var offset = this.pane.offset(),\n                threshold  = this.pane.size().width * 3/4;\n\n            if (abs(offset) > threshold) {\n                return this.updatePage();\n            }\n\n            return false;\n        },\n\n        _resetMovable: function() {\n            this.pane.moveTo(0);\n        },\n\n        _moveForward: function(instant) {\n            this.pane.transitionTo(-this.width, kendo.effects.Transition.easeOutExpo, instant);\n        },\n\n        _moveBackward: function(instant) {\n            this.pane.transitionTo(this.width, kendo.effects.Transition.easeOutExpo, instant);\n        },\n\n        _cancelMove: function(ease, /*internal*/ instant) {\n            this.pane.transitionTo(0, ease, instant);\n        },\n\n        _resetPages: function() {\n            this.page = this.options.page || 0;\n\n            this._updatePagesContent(this.page);\n            this._repositionPages();\n\n            this.trigger(\"reset\");\n        },\n\n        _onResize: function() {\n            this.pageCount = ceil(this.dataSource.total() / this.options.itemsPerPage);\n\n            if (this._pendingPageRefresh) {\n                this._updatePagesContent(this.page);\n                this._pendingPageRefresh = false;\n            }\n\n            this.trigger(\"resize\");\n        },\n\n        _onReset: function() {\n            this.pageCount = ceil(this.dataSource.total() / this.options.itemsPerPage);\n            this._resetPages();\n        },\n\n        _onEndReached: function() {\n            this._pendingPageRefresh = true;\n        },\n\n        _repositionPages: function() {\n            var pages = this.pages;\n\n            pages[0].position(LEFT_PAGE);\n            pages[1].position(CETER_PAGE);\n            pages[2].position(RIGHT_PAGE);\n        },\n\n        _updatePagesContent: function(offset) {\n            var pages = this.pages,\n                currentPage = offset || 0;\n\n            this.setPageContent(pages[0], currentPage - 1);\n            this.setPageContent(pages[1], currentPage);\n            this.setPageContent(pages[2], currentPage + 1);\n        },\n\n        setPageContent: function(page, index) {\n            var buffer = this.buffer,\n                template = this.template,\n                emptyTemplate = this.emptyTemplate,\n                view = null;\n\n            if (index >= 0) {\n                view = buffer.at(index);\n                if (Array.isArray(view) && !view.length) {\n                    view = null;\n                }\n            }\n\n            this.trigger(CLEANUP, { item: page.element });\n\n            if (view !== null) {\n                page.content(template(view));\n            } else {\n                page.content(emptyTemplate({}));\n            }\n\n            kendo.mobile.init(page.element);\n            this.trigger(ITEM_CHANGE, { item: page.element, data: view, ns: kendo.mobile.ui });\n\n        }\n    });\n\n    kendo.mobile.ui.VirtualScrollViewContent = VirtualScrollViewContent;\n\n    var Page = kendo.Class.extend({\n        init: function(container) {\n            this.element = $(\"<div class='\" + className(VIRTUAL_PAGE_CLASS) + \"'></div>\");\n            this.width = container.width();\n            this.element.width(this.width);\n            container.append(this.element);\n        },\n\n        content: function(theContent) {\n            this.element.html(theContent);\n        },\n\n        position: function(position) { //position can be -1, 0, 1\n            this.element.css(\"transform\", \"translate3d(\" + this.width * position + \"px, 0, 0)\");\n        },\n\n        setWidth: function(width) {\n            this.width = width;\n            this.element.width(width);\n        }\n    });\n\n    kendo.mobile.ui.VirtualPage = Page;\n\n    var ScrollView = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n            element = that.element;\n\n            kendo.stripWhitespace(element[0]);\n\n            element\n                .wrapInner(\"<div/>\")\n                .addClass(\"k-widget \" + className(\"scrollview\"));\n\n            if (this.options.enablePager) {\n                this.pager = new Pager(this);\n\n                if (this.options.pagerOverlay) {\n                    element.addClass(className(\"scrollview-overlay\"));\n                }\n            }\n\n            that.inner = element.children().first();\n            that.page = 0;\n            that.inner.css(\"height\", options.contentHeight);\n\n            that.pane = new ElasticPane(that.inner, {\n                duration: this.options.duration,\n                transitionEnd: this._transitionEnd.bind(this),\n                dragStart: this._dragStart.bind(this),\n                dragEnd: this._dragEnd.bind(this),\n                change: this[REFRESH].bind(this)\n            });\n\n            that.bind(\"resize\", function() {\n                that.pane.refresh();\n            });\n\n            that.page = options.page;\n\n            var empty = this.inner.children().length === 0;\n\n            var content = empty ? new VirtualScrollViewContent(that.inner, that.pane, options) : new ScrollViewContent(that.inner, that.pane, options);\n\n            content.page = that.page;\n\n            content.bind(\"reset\", function() {\n                this._pendingPageRefresh = false;\n                that._syncWithContent();\n                that.trigger(REFRESH, { pageCount: content.pageCount, page: content.page });\n            });\n\n            content.bind(\"resize\", function() {\n                that.trigger(REFRESH, { pageCount: content.pageCount, page: content.page });\n            });\n\n            content.bind(ITEM_CHANGE, function(e) {\n                that.trigger(ITEM_CHANGE, e);\n\n                that.angular(\"compile\", function() {\n                    return { elements: e.item, data: [ { dataItem: e.data } ] };\n                });\n            });\n\n            content.bind(CLEANUP, function(e) {\n                that.angular(\"cleanup\", function() {\n                    return { elements: e.item };\n                });\n            });\n\n            that._content = content;\n            that.setDataSource(options.dataSource);\n\n            var mobileContainer = that.container();\n\n            if (mobileContainer.nullObject) {\n                that.viewInit();\n                that.viewShow();\n            } else {\n                mobileContainer.bind(\"show\", this.viewShow.bind(this)).bind(\"init\", this.viewInit.bind(this));\n            }\n        },\n\n        options: {\n            name: \"ScrollView\",\n            page: 0,\n            duration: 400,\n            velocityThreshold: 0.8,\n            contentHeight: \"auto\",\n            pageSize: 1,\n            itemsPerPage: 1,\n            bounceVelocityThreshold: 1.6,\n            enablePager: true,\n            pagerOverlay: false,\n            autoBind: true,\n            template: \"\",\n            emptyTemplate: \"\"\n        },\n\n        events: [\n            CHANGING,\n            CHANGE,\n            REFRESH\n        ],\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            kendo.destroy(this.element);\n        },\n\n        viewInit: function() {\n            if (this.options.autoBind) {\n                this._content.scrollTo(this._content.page, true);\n            }\n        },\n\n        viewShow: function() {\n            this.pane.refresh();\n        },\n\n        refresh: function() {\n            var content = this._content;\n\n            content.resizeTo(this.pane.size());\n            this.page = content.page;\n            this.trigger(REFRESH, { pageCount: content.pageCount, page: content.page });\n        },\n\n        content: function(html) {\n           this.element.children().first().html(html);\n           this._content._getPages();\n           this.pane.refresh();\n        },\n\n        value: function(item) {\n            var dataSource = this.dataSource;\n\n            if (item) {\n                this.scrollTo(dataSource.indexOf(item), true);\n            } else {\n                return dataSource.at(this.page);\n            }\n        },\n\n        scrollTo: function(page, instant) {\n            this._content.scrollTo(page, instant);\n            this._syncWithContent();\n        },\n\n        prev: function() {\n            var that = this,\n                prevPage = that.page - 1;\n\n            if (that._content instanceof VirtualScrollViewContent) {\n                that._content.paneMoved(RIGHT_SWIPE, undefined, function(eventData) {\n                    return that.trigger(CHANGING, eventData);\n                });\n            } else if (prevPage > -1) {\n                that.scrollTo(prevPage);\n            }\n        },\n\n        next: function() {\n            var that = this,\n                nextPage = that.page + 1;\n\n            if (that._content instanceof VirtualScrollViewContent) {\n                that._content.paneMoved(LEFT_SWIPE, undefined, function(eventData) {\n                    return that.trigger(CHANGING, eventData);\n                });\n            } else if (nextPage < that._content.pageCount) {\n                that.scrollTo(nextPage);\n            }\n        },\n\n        setDataSource: function(dataSource) {\n            if (!(this._content instanceof VirtualScrollViewContent)) {\n                return;\n            }\n            // the scrollview should have a ready datasource for MVVM to function properly. But an empty datasource should not empty the element\n            var emptyDataSource = !dataSource;\n            this.dataSource = DataSource.create(dataSource);\n\n            this._content.setDataSource(this.dataSource);\n\n            if (this.options.autoBind && !emptyDataSource) {\n                // this.items().remove();\n                this.dataSource.fetch();\n            }\n        },\n\n        items: function() {\n            return this.element.find(\".km-\" + VIRTUAL_PAGE_CLASS);\n        },\n\n        _syncWithContent: function() {\n            var pages = this._content.pages,\n                buffer = this._content.buffer,\n                data,\n                element;\n\n            this.page = this._content.page;\n\n            data = buffer ? buffer.at(this.page) : undefined;\n            if (!(data instanceof Array)) {\n                data = [data];\n            }\n            element = pages ? pages[1].element : undefined;\n\n            this.trigger(CHANGE, { page: this.page, element: element, data: data });\n        },\n\n        _dragStart: function() {\n            if (this._content.forcePageUpdate()) {\n                this._syncWithContent();\n            }\n        },\n\n        _dragEnd: function(e) {\n            var that = this,\n                velocity = e.x.velocity,\n                velocityThreshold = this.options.velocityThreshold,\n                swipeType = NUDGE,\n                bounce = abs(velocity) > this.options.bounceVelocityThreshold;\n\n            if (velocity > velocityThreshold) {\n                swipeType = RIGHT_SWIPE;\n            } else if (velocity < -velocityThreshold) {\n                swipeType = LEFT_SWIPE;\n            }\n\n            this._content.paneMoved(swipeType, bounce, function(eventData) {\n                return that.trigger(CHANGING, eventData);\n            });\n        },\n\n        _transitionEnd: function() {\n            if (this._content.updatePage()) {\n                this._syncWithContent();\n            }\n        }\n    });\n\n    ui.plugin(ScrollView);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n/* jshint multistr: true */\n(function(f, define){\n    define('kendo.mobile.switch',[ \"kendo.fx\", \"kendo.userevents\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.switch\",\n    name: \"Switch\",\n    category: \"mobile\",\n    description: \"The mobile Switch widget is used to display two exclusive choices.\",\n    depends: [ \"fx\", \"userevents\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        outerWidth = kendo._outerWidth,\n        Widget = ui.Widget,\n        support = kendo.support,\n        CHANGE = \"change\",\n        SWITCHON = \"switch-on\",\n        SWITCHOFF = \"switch-off\",\n        MARGINLEFT = \"margin-left\",\n        ACTIVE_STATE = \"state-active\",\n        DISABLED_STATE = \"state-disabled\",\n        DISABLED = \"disabled\",\n        RESOLVEDPREFIX = support.transitions.css === undefined ? \"\" : support.transitions.css,\n        TRANSFORMSTYLE = RESOLVEDPREFIX + \"transform\";\n\n    function className(name) {\n        return \"km-\" + name;\n    }\n\n    function limitValue(value, minLimit, maxLimit) {\n        return Math.max(minLimit, Math.min(maxLimit, value));\n    }\n\n    var SWITCH_MARKUP = '<span class=\"' + className(\"switch\") + ' ' + className(\"widget\") + '\">\\\n        <span class=\"' + className(\"switch-wrapper\") + '\">\\\n            <span class=\"' + className(\"switch-background\") + '\"></span>\\\n        </span> \\\n        <span class=\"' + className(\"switch-container\") + '\">\\\n            <span class=\"' + className(\"switch-handle\") + '\"> \\\n                <span class=\"' + className(\"switch-label-on\") + '\">{0}</span> \\\n                <span class=\"' + className(\"switch-label-off\") + '\">{1}</span> \\\n            </span> \\\n        </span>\\\n    </span>';\n\n    var Switch = Widget.extend({\n        init: function(element, options) {\n            var that = this, checked;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n\n            that.wrapper = $(kendo.format(SWITCH_MARKUP, options.onLabel, options.offLabel));\n            that.handle = that.wrapper.find(\".km-switch-handle\");\n            that.background = that.wrapper.find(\".km-switch-background\");\n            that.wrapper.insertBefore(that.element).prepend(that.element);\n\n            that._drag();\n\n            that.origin = parseInt(that.background.css(MARGINLEFT), 10);\n\n            that.constrain = 0;\n            that.snapPoint = 0;\n\n            element = that.element[0];\n            element.type = \"checkbox\";\n            that._animateBackground = true;\n\n            checked = that.options.checked;\n\n            if (checked === null) {\n                checked = element.checked;\n            }\n\n            that.check(checked);\n\n            that.options.enable = that.options.enable && !that.element.attr(DISABLED);\n            that.enable(that.options.enable);\n\n            that.refresh();\n            kendo.notify(that, kendo.mobile.ui);\n        },\n\n        refresh: function() {\n            var that = this,\n                handleWidth = outerWidth(that.handle, true);\n\n            that.width = that.wrapper.width();\n\n            that.constrain  = that.width - handleWidth;\n            that.snapPoint = that.constrain / 2;\n\n            if (typeof that.origin != \"number\") {\n                that.origin = parseInt(that.background.css(MARGINLEFT), 10);\n            }\n\n            that.background.data(\"origin\", that.origin);\n\n            that.check(that.element[0].checked);\n        },\n\n        events: [\n            CHANGE\n        ],\n\n        options: {\n            name: \"Switch\",\n            onLabel: \"on\",\n            offLabel: \"off\",\n            checked: null,\n            enable: true\n        },\n\n        check: function(check) {\n            var that = this,\n                element = that.element[0];\n\n            if (check === undefined) {\n                return element.checked;\n            }\n\n            that._position(check ? that.constrain : 0);\n            element.checked = check;\n            that.wrapper\n                .toggleClass(className(SWITCHON), check)\n                .toggleClass(className(SWITCHOFF), !check);\n        },\n\n        // alias for check, NG support\n        value: function() {\n            return this.check.apply(this, arguments);\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.userEvents.destroy();\n        },\n\n        toggle: function() {\n            var that = this;\n\n            that.check(!that.element[0].checked);\n        },\n\n        enable: function(enable) {\n            var element = this.element,\n                wrapper = this.wrapper;\n\n            if(typeof enable == \"undefined\") {\n                enable = true;\n            }\n\n            this.options.enable = enable;\n\n            if(enable) {\n                element.prop(DISABLED, false);\n            } else {\n                element.attr(DISABLED, DISABLED);\n            }\n\n            wrapper.toggleClass(className(DISABLED_STATE), !enable);\n        },\n\n        _resize: function() {\n            this.refresh();\n        },\n\n        _move: function(e) {\n            var that = this;\n            e.preventDefault();\n            that._position(limitValue(that.position + e.x.delta, 0, that.width - outerWidth(that.handle, true)));\n        },\n\n        _position: function(position) {\n            var that = this;\n\n            that.position = position;\n            that.handle.css(TRANSFORMSTYLE, \"translatex(\" + position + \"px)\");\n\n            if (that._animateBackground) {\n                that.background.css(MARGINLEFT, that.origin + position);\n            }\n        },\n\n        _start: function() {\n            if(!this.options.enable) {\n                this.userEvents.cancel();\n            } else {\n                this.userEvents.capture();\n                this.handle.addClass(className(ACTIVE_STATE));\n            }\n        },\n\n        _stop: function() {\n            var that = this;\n\n            that.handle.removeClass(className(ACTIVE_STATE));\n            that._toggle(that.position > that.snapPoint);\n        },\n\n        _toggle: function (checked) {\n            var that = this,\n                handle = that.handle,\n                element = that.element[0],\n                value = element.checked,\n                duration = kendo.mobile.application && kendo.mobile.application.os.wp ? 100 : 200,\n                distance;\n\n            that.wrapper\n                .toggleClass(className(SWITCHON), checked)\n                .toggleClass(className(SWITCHOFF), !checked);\n\n            that.position = distance = checked * that.constrain;\n\n            if (that._animateBackground) {\n                that.background\n                    .kendoStop(true, true)\n                    .kendoAnimate({ effects: \"slideMargin\", offset: distance, reset: true, reverse: !checked, axis: \"left\", duration: duration });\n            }\n\n            handle\n                .kendoStop(true, true)\n                .kendoAnimate({\n                    effects: \"slideTo\",\n                    duration: duration,\n                    offset: distance + \"px,0\",\n                    reset: true,\n                    complete: function () {\n                        if (value !== checked) {\n                            element.checked = checked;\n                            that.trigger(CHANGE, { checked: checked });\n                        }\n                    }\n                });\n        },\n\n        _drag: function() {\n            var that = this;\n\n            that.userEvents = new kendo.UserEvents(that.wrapper, {\n                fastTap: true,\n                tap: function() {\n                    if(that.options.enable) {\n                        that._toggle(!that.element[0].checked);\n                    }\n                },\n                start: that._start.bind(that),\n                move: that._move.bind(that),\n                end: that._stop.bind(that)\n            });\n        }\n    });\n\n    ui.plugin(Switch);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.tabstrip',[ \"kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.tabstrip\",\n    name: \"TabStrip\",\n    category: \"mobile\",\n    description: \"The mobile TabStrip widget is used inside a mobile view or layout footer element to display an application-wide group of navigation buttons.\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        Widget = ui.Widget,\n        ACTIVE_STATE_CLASS = \"km-state-active\",\n        SELECT = \"select\";\n\n    function createBadge(value) {\n        return $('<span class=\"km-badge\">' + value + '</span>');\n    }\n\n    var TabStrip = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            that.container().bind(\"show\", this.refresh.bind(this));\n\n            that.element\n               .addClass(\"km-tabstrip\")\n               .find(\"a\").each(that._buildButton)\n               .eq(that.options.selectedIndex).addClass(ACTIVE_STATE_CLASS);\n\n            that.element.on(\"down\", \"a\", \"_release\");\n        },\n\n        events: [\n            SELECT\n        ],\n\n        switchTo: function(url) {\n            var tabs = this.element.find('a'),\n                tab,\n                path,\n                idx = 0,\n                length = tabs.length;\n\n            if(isNaN(url)) {\n                for (; idx < length; idx ++) {\n                    tab = tabs[idx];\n                    path = tab.href.replace(/(\\#.+)(\\?.+)$/, \"$1\"); // remove the fragment query string - http://www.foo.com?foo#bar**?baz=qux**\n\n                    if (path.indexOf(url, path.length - url.length) !== -1) {\n                        this._setActiveItem($(tab));\n                        return true;\n                    }\n                }\n            } else {\n                this._setActiveItem(tabs.eq(url));\n                return true;\n            }\n\n            return false;\n        },\n\n        switchByFullUrl: function(url) {\n            var tab;\n\n            tab = this.element.find(\"a[href$='\" + url + \"']\");\n            this._setActiveItem(tab);\n        },\n\n        clear: function() {\n            this.currentItem().removeClass(ACTIVE_STATE_CLASS);\n        },\n\n        currentItem: function() {\n            return this.element.children(\".\" + ACTIVE_STATE_CLASS);\n        },\n\n        badge: function(item, value) {\n            var tabstrip = this.element, badge;\n\n            if (!isNaN(item)) {\n                item = tabstrip.children().get(item);\n            }\n\n            item = tabstrip.find(item);\n            badge = $(item.find(\".km-badge\")[0] || createBadge(value).insertAfter(item.children(\".km-icon\")));\n\n            if (value || value === 0) {\n                badge.html(value);\n                return this;\n            }\n\n            if (value === false) {\n                badge.empty().remove();\n                return this;\n            }\n\n            return badge.html();\n        },\n\n        _release: function(e) {\n            if (e.which > 1) {\n                return;\n            }\n\n            var that = this,\n                item = $(e.currentTarget);\n\n            if (item[0] === that.currentItem()[0]) {\n                return;\n            }\n\n            if (that.trigger(SELECT, {item: item})) {\n                e.preventDefault();\n            } else {\n                that._setActiveItem(item);\n            }\n        },\n\n        _setActiveItem: function(item) {\n            if (!item[0]) {\n                return;\n            }\n            this.clear();\n            item.addClass(ACTIVE_STATE_CLASS);\n        },\n\n        _buildButton: function() {\n            var button = $(this),\n                icon = kendo.attrValue(button, \"icon\"),\n                badge = kendo.attrValue(button, \"badge\"),\n                image = button.find(\"img\"),\n                iconSpan = $('<span class=\"km-icon\"/>');\n\n            button\n                .addClass(\"km-button\")\n                .attr(kendo.attr(\"role\"), \"tab\")\n                    .contents().not(image)\n                    .wrapAll('<span class=\"km-text\"/>');\n\n            if (image[0]) {\n                image.addClass(\"km-image\").prependTo(button);\n            } else {\n                button.prepend(iconSpan);\n                if (icon) {\n                    iconSpan.addClass(\"km-\" + icon);\n                    if (badge || badge === 0) {\n                        createBadge(badge).insertAfter(iconSpan);\n                    }\n                }\n            }\n        },\n\n        refresh: function(e) {\n            var url = e.view.id;\n\n            if (url && !this.switchTo(e.view.id)) {\n                this.switchTo(url);\n            }\n        },\n\n        options: {\n            name: \"TabStrip\",\n            selectedIndex: 0,\n            enable: true\n        }\n    });\n\n    ui.plugin(TabStrip);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.angular',[ \"kendo.core\" ], f);\n})(function() {\n\nvar __meta__ = { // jshint ignore:line\n    id: \"angular\",\n    name: \"AngularJS Directives\",\n    category: \"framework\",\n    description: \"Adds Kendo UI for AngularJS directives\",\n    depends: [ \"core\" ],\n    defer: true\n};\n\n(function ($, angular, undefined) {\n    \"use strict\";\n\n    // Angular2 exposes a global angular object, but it does not have an injector...\n    if (!angular || !angular.injector) {\n        return;\n    }\n\n    /*jshint eqnull:true,loopfunc:true,-W052,-W028  */\n\n    var module = angular.module('kendo.directives', []),\n        $injector = angular.injector(['ng']),\n        $parse = $injector.get('$parse'),\n        $timeout = $injector.get('$timeout'),\n        $defaultCompile,\n        $log = $injector.get('$log');\n\n    function withoutTimeout(f) {\n        var save = $timeout;\n        try {\n            $timeout = function(f){ return f(); };\n            return f();\n        } finally {\n            $timeout = save;\n        }\n    }\n\n    var OPTIONS_NOW;\n\n    var createDataSource = (function() {\n        var types = {\n            TreeList    : 'TreeListDataSource',\n            TreeView    : 'HierarchicalDataSource',\n            Scheduler   : 'SchedulerDataSource',\n            PivotGrid   : 'PivotDataSource',\n            PivotConfigurator   : 'PivotDataSource',\n            PanelBar    : 'HierarchicalDataSource',\n            Menu        : \"$PLAIN\",\n            ContextMenu : \"$PLAIN\"\n        };\n        var toDataSource = function(dataSource, type) {\n            if (type == '$PLAIN') {\n                return dataSource;\n            }\n            return kendo.data[type].create(dataSource);\n        };\n        return function(scope, element, role, source) {\n            var type = types[role] || 'DataSource';\n            var current = scope.$eval(source);\n            var ds = toDataSource(current, type);\n\n            scope.$watch(source, function(mew) {\n                var widget = kendoWidgetInstance(element);\n\n                if (widget && typeof widget.setDataSource == \"function\") {\n                    if (mew !== current && mew !== widget.dataSource) {\n                        var ds = toDataSource(mew, type);\n                        widget.setDataSource(ds);\n                        current = mew;\n                    }\n                }\n            });\n            return ds;\n        };\n    }());\n\n    var ignoredAttributes = {\n        kDataSource : true,\n        kOptions    : true,\n        kRebind     : true,\n        kNgModel    : true,\n        kNgDelay    : true\n    };\n\n    var ignoredOwnProperties = {\n        // XXX: other names to ignore here?\n        name    : true,\n        title   : true,\n        style   : true\n    };\n\n    function createWidget(scope, element, attrs, widget, origAttr, controllers) {\n        /* jshint latedef: false */\n        if (!(element instanceof jQuery)) {\n            throw new Error(\"The Kendo UI directives require jQuery to be available before AngularJS. Please include jquery before angular in the document.\");\n        }\n\n        var kNgDelay = attrs.kNgDelay,\n            delayValue = scope.$eval(kNgDelay);\n\n        controllers = controllers || [];\n\n        var ngModel = controllers[0],\n            ngForm = controllers[1];\n\n        var ctor = $(element)[widget];\n\n        if (!ctor) {\n            window.console.error(\"Could not find: \" + widget);\n            return null;\n        }\n\n        var parsed = parseOptions(scope, element, attrs, widget, ctor);\n\n        var options = parsed.options;\n\n        if (parsed.unresolved.length) {\n            var promises = [];\n\n            for (var i = 0, len = parsed.unresolved.length; i < len; i++) {\n\n                var unresolved = parsed.unresolved[i];\n\n                var promise = $.Deferred(function(d) {\n                    var unwatch = scope.$watch(unresolved.path, function(newValue) {\n                        if (newValue !== undefined) {\n                            unwatch();\n                            d.resolve();\n                        }\n                    });\n                }).promise();\n\n                promises.push(promise);\n            }\n\n            $.when.apply(null, promises).then(createIt);\n\n            return;\n        }\n\n        if (kNgDelay && !delayValue) {\n            var root = scope.$root || scope;\n\n            var register = function() {\n                var unregister = scope.$watch(kNgDelay, function(newValue) {\n                        if (newValue !== undefined) {\n                        unregister();\n                        // remove subsequent delays, to make ng-rebind work\n                        element.removeAttr(attrs.$attr.kNgDelay);\n                        kNgDelay = null;\n                        $timeout(createIt); // XXX: won't work without `timeout` ;-\\\n                    }\n                });\n            };\n\n            // WARNING: the watchers should be registered in the digest cycle.\n            // the fork here is for the timeout/non-timeout initiated widgets.\n            if (/^\\$(digest|apply)$/.test(root.$$phase)) {\n                register();\n            } else {\n                scope.$apply(register);\n            }\n\n            return;\n        } else {\n            return createIt();\n        }\n\n        function createIt() {\n            var originalElement;\n\n            if (attrs.kRebind) {\n                originalElement = $($(element)[0].cloneNode(true));\n            }\n\n            // re-parse the options here.\n            options = parseOptions(scope, element, attrs, widget, ctor).options;\n\n            if (element.is(\"select\")) {\n                (function(options){\n                    if (options.length > 0) {\n                        var first = $(options[0]);\n                        if (!/\\S/.test(first.text()) && /^\\?/.test(first.val())) {\n                            first.remove();\n                        }\n\n                        for (var i = 0; i < options.length; i++) {\n                            $(options[i]).off(\"$destroy\");\n                        }\n                    }\n                }(element[0].options));\n            }\n\n            var object = ctor.call(element, OPTIONS_NOW = options).data(widget);\n\n            exposeWidget(object, scope, attrs, widget, origAttr);\n\n            scope.$emit(\"kendoWidgetCreated\", object);\n\n            var destroyRegister = destroyWidgetOnScopeDestroy(scope, object);\n\n            if (attrs.kRebind) {\n                setupRebind(object, scope, element, originalElement, attrs.kRebind, destroyRegister, attrs);\n            }\n\n            if (attrs.kNgDisabled) {\n                var kNgDisabled = attrs.kNgDisabled;\n                var isDisabled = scope.$eval(kNgDisabled);\n                if (isDisabled) {\n                    object.enable(!isDisabled);\n                }\n                bindToKNgDisabled(object, scope, element, kNgDisabled);\n            }\n\n            if (attrs.kNgReadonly) {\n                var kNgReadonly = attrs.kNgReadonly;\n                var isReadonly = scope.$eval(kNgReadonly);\n                if (isReadonly) {\n                    object.readonly(isReadonly);\n                }\n                bindToKNgReadonly(object, scope, element, kNgReadonly);\n            }\n\n            // kNgModel is used for the \"logical\" value\n            if (attrs.kNgModel) {\n                bindToKNgModel(object, scope, attrs.kNgModel);\n            }\n\n            // 2 way binding: ngModel <-> widget.value()\n            if (ngModel) {\n                bindToNgModel(object, scope, element, ngModel, ngForm);\n            }\n\n            if (object) {\n                propagateClassToWidgetWrapper(object, element);\n            }\n\n            return object;\n        }\n    }\n\n\n    function parseOptions(scope, element, attrs, widget, ctor) {\n        var role = widget.replace(/^kendo/, '');\n        var unresolved = [];\n        var optionsPath = attrs.kOptions || attrs.options;\n        var optionsValue = scope.$eval(optionsPath);\n\n        if (optionsPath && optionsValue === undefined) {\n            unresolved.push({ option: \"options\", path: optionsPath });\n        }\n\n        var options = angular.extend({}, attrs.defaultOptions, optionsValue);\n\n        function addOption(name, value) {\n            var scopeValue = angular.copy(scope.$eval(value));\n            if (scopeValue === undefined) {\n                unresolved.push({ option: name, path: value });\n            } else {\n                options[name] = scopeValue;\n            }\n        }\n\n\n        var widgetOptions = ctor.widget.prototype.options;\n        var widgetEvents = ctor.widget.prototype.events;\n\n\n        $.each(attrs, function(name, value) {\n            if (name === \"source\" || name === \"kDataSource\" || name === \"kScopeField\" || name === \"scopeField\") {\n                return;\n            }\n\n            var dataName = \"data\" + name.charAt(0).toUpperCase() + name.slice(1);\n\n            if (name.indexOf(\"on\") === 0) { // let's search for such event.\n                var eventKey = name.replace(/^on./, function(prefix) {\n                    return prefix.charAt(2).toLowerCase();\n                });\n\n                if (widgetEvents.indexOf(eventKey) > -1) {\n                    options[eventKey] = value;\n                }\n            } // don't elsif here - there are on* options\n\n            if (widgetOptions.hasOwnProperty(dataName)) {\n                addOption(dataName, value);\n            } else if (widgetOptions.hasOwnProperty(name) && !ignoredOwnProperties[name]) {\n                addOption(name, value);\n            } else if (!ignoredAttributes[name]) {\n                var match = name.match(/^k(On)?([A-Z].*)/);\n                if (match) {\n                    var optionName = match[2].charAt(0).toLowerCase() + match[2].slice(1);\n                    if (match[1] && name != \"kOnLabel\" // XXX: k-on-label can be used on MobileSwitch :-\\\n                    ) {\n                        options[optionName] = value;\n                    } else {\n                        if (name == \"kOnLabel\") {\n                            optionName = \"onLabel\"; // XXX: that's awful.\n                        }\n                        addOption(optionName, value);\n                    }\n                }\n            }\n        });\n\n        // parse the datasource attribute\n        var dataSource = attrs.kDataSource || attrs.source;\n\n        if (dataSource) {\n            options.dataSource = createDataSource(scope, element, role, dataSource);\n        }\n\n        // deepExtend in kendo.core (used in Editor) will fail with stack\n        // overflow if we don't put it in an array :-\\\n        options.$angular = [ scope ];\n\n        return {\n            options: options,\n            unresolved: unresolved\n        };\n    }\n\n    function bindToKNgDisabled(widget, scope, element, kNgDisabled) {\n        if ((kendo.ui.PanelBar && widget instanceof kendo.ui.PanelBar) || (kendo.ui.Menu && widget instanceof kendo.ui.Menu)) {\n            $log.warn(\"k-ng-disabled specified on a widget that does not have the enable() method: \" + (widget.options.name));\n            return;\n        }\n        scope.$watch(kNgDisabled, function(newValue, oldValue) {\n            if (newValue != oldValue) {\n                widget.enable(!newValue);\n            }\n        });\n    }\n\n    function bindToKNgReadonly(widget, scope, element, kNgReadonly) {\n        if (typeof widget.readonly != \"function\") {\n            $log.warn(\"k-ng-readonly specified on a widget that does not have the readonly() method: \" + (widget.options.name));\n            return;\n        }\n        scope.$watch(kNgReadonly, function(newValue, oldValue) {\n            if (newValue != oldValue) {\n                widget.readonly(newValue);\n            }\n        });\n    }\n\n    function exposeWidget(widget, scope, attrs, kendoWidget, origAttr) {\n        if (attrs[origAttr]) {\n            var set = $parse(attrs[origAttr]).assign;\n            if (set) {\n                // set the value of the expression to the kendo widget object to expose its api\n                set(scope, widget);\n            } else {\n                throw new Error(origAttr + ' attribute used but expression in it is not assignable: ' + attrs[kendoWidget]);\n            }\n        }\n    }\n\n    function formValue(element) {\n        if (/checkbox|radio/i.test(element.attr(\"type\"))) {\n            return element.prop(\"checked\");\n        }\n        return element.val();\n    }\n\n    var formRegExp = /^(input|select|textarea)$/i;\n\n    function isForm(element) {\n        return formRegExp.test(element[0].tagName);\n    }\n\n    function bindToNgModel(widget, scope, element, ngModel, ngForm) {\n        if (!widget.value) {\n            return;\n        }\n\n        var value;\n        // Some widgets trigger \"change\" on the input field\n        // and this would result in two events sent (#135)\n        var haveChangeOnElement = false;\n\n        if (isForm(element)) {\n            value = function() {\n                return formValue(element);\n            };\n        } else {\n            value = function() {\n                return widget.value();\n            };\n        }\n\n        // Angular will invoke $render when the view needs to be updated with the view value.\n        var viewRender = function() {\n            // Update the widget with the view value.\n\n            // delaying with setTimout for cases where the datasource is set thereafter.\n            // https://github.com/kendo-labs/angular-kendo/issues/304\n            var val = ngModel.$viewValue;\n            if (val === undefined) {\n                val = ngModel.$modelValue;\n            }\n\n            if (val === undefined) {\n                val = null;\n            }\n\n            haveChangeOnElement = true;\n            setTimeout(function(){\n                haveChangeOnElement = false;\n                if (widget) { // might have been destroyed in between. :-(\n                    var kNgModel = scope[widget.element.attr(\"k-ng-model\")];\n\n                    if (kNgModel) {\n                        val = kNgModel;\n                    }\n\n                    if (widget.options.autoBind === false && !widget.listView.bound()) {\n                        if (val) {\n                            widget.value(val);\n                        }\n                    } else {\n                        widget.value(val);\n                    }\n                }\n            }, 0);\n        };\n\n        ngModel.$render = viewRender;\n        setTimeout(function() {\n            if (ngModel.$render !== viewRender) {\n                ngModel.$render = viewRender;\n                ngModel.$render();\n            }\n        });\n\n        if (isForm(element)) {\n            element.on(\"change\", function() {\n                haveChangeOnElement = true;\n            });\n        }\n\n        var onChange = function(pristine) {\n            return function() {\n                var formPristine;\n                if (haveChangeOnElement && !element.is(\"select\")) {\n                    return;\n                }\n                if (pristine && ngForm) {\n                    formPristine = ngForm.$pristine;\n                }\n                ngModel.$setViewValue(value());\n                if (pristine) {\n                    ngModel.$setPristine();\n                    if (formPristine) {\n                        ngForm.$setPristine();\n                    }\n                }\n                digest(scope);\n            };\n        };\n\n        widget.first(\"change\", onChange(false));\n        widget.first(\"spin\", onChange(false));\n\n        if (!(kendo.ui.AutoComplete && widget instanceof kendo.ui.AutoComplete)) {\n            widget.first(\"dataBound\", onChange(true));\n        }\n\n        var currentVal = value();\n\n        // if the model value is undefined, then we set the widget value to match ( == null/undefined )\n        // In telerik/kendo-ui-core#1027 we discovered that after the timeout the $viewValue arives as NaN in some weird, default form.\n        // Hence the check below.\n        if (!isNaN(ngModel.$viewValue) && currentVal != ngModel.$viewValue) {\n            if (!ngModel.$isEmpty(ngModel.$viewValue)) {\n                widget.value(ngModel.$viewValue);\n            } else if (currentVal != null && currentVal !== \"\" && currentVal != ngModel.$viewValue) {\n                ngModel.$setViewValue(currentVal);\n            }\n        }\n\n        ngModel.$setPristine();\n    }\n\n    function bindToKNgModel(widget, scope, kNgModel) {\n        if(kendo.ui.DateRangePicker && widget instanceof kendo.ui.DateRangePicker){\n            var rangePickerModels = kNgModel.split(\",\");\n            var rangePickerStartModel = rangePickerModels[0].trim();\n            var rangePickerEndModel;\n\n            bindToKNgModel(widget._startDateInput, scope, rangePickerStartModel);\n            if (rangePickerModels[1]) {\n                rangePickerEndModel = rangePickerModels[1].trim();\n                bindToKNgModel(widget._endDateInput, scope, rangePickerEndModel);\n                widget.range({start:scope[rangePickerStartModel], end:scope[rangePickerEndModel] });\n            } else {\n                widget.range({start:scope[rangePickerStartModel], end: null });\n            }\n\n            return;\n        }\n\n        if (typeof widget.value != \"function\") {\n            $log.warn(\"k-ng-model specified on a widget that does not have the value() method: \" + (widget.options.name));\n            return;\n        }\n\n        var form  = $(widget.element).parents(\"ng-form, form\").first();\n        var ngForm = kendo.getter(form.attr(\"name\"), true)(scope);\n        var getter = $parse(kNgModel);\n        var setter = getter.assign;\n        var updating = false;\n\n        var valueIsCollection = kendo.ui.MultiSelect && widget instanceof kendo.ui.MultiSelect ||\n                                kendo.ui.RangeSlider && widget instanceof kendo.ui.RangeSlider;\n\n        var length = function(value) {\n            //length is irrelevant when value is not collection\n            return value && valueIsCollection ? value.length : 0;\n        };\n\n        var currentValueLength = length(getter(scope));\n\n        widget.$angular_setLogicValue(getter(scope));\n\n        // keep in sync\n        var watchHandler = function(newValue, oldValue) {\n            if (newValue === undefined) {\n                // because widget's value() method usually checks if the new value is undefined,\n                // in which case it returns the current value rather than clearing the field.\n                // https://github.com/telerik/kendo-ui-core/issues/299\n                newValue = null;\n            }\n\n            //compare values by reference if a collection\n            if (updating || (newValue == oldValue && length(newValue) == currentValueLength)) {\n                return;\n            }\n\n            currentValueLength = length(newValue);\n            widget.$angular_setLogicValue(newValue);\n        };\n\n        if (valueIsCollection) {\n            scope.$watchCollection(kNgModel, watchHandler);\n        } else {\n            scope.$watch(kNgModel, watchHandler);\n        }\n\n        var changeHandler = function() {\n            updating = true;\n\n            if (ngForm && ngForm.$pristine) {\n                ngForm.$setDirty();\n            }\n\n            digest(scope, function(){\n                setter(scope, widget.$angular_getLogicValue());\n                currentValueLength = length(getter(scope));\n            });\n\n            updating = false;\n        };\n\n        widget.first(\"change\", changeHandler);\n        widget.first(\"spin\", changeHandler);\n    }\n\n    function destroyWidgetOnScopeDestroy(scope, widget) {\n        var deregister = scope.$on(\"$destroy\", function() {\n            deregister();\n            if (widget) {\n                kendo.destroy(widget.element);\n                widget = null;\n            }\n        });\n\n        return deregister;\n    }\n\n    // mutation observers - propagate the original\n    // element's class to the widget wrapper.\n    function propagateClassToWidgetWrapper(widget, element) {\n        if (!(window.MutationObserver && widget.wrapper)) {\n            return;\n        }\n\n        var prevClassList = [].slice.call($(element)[0].classList);\n\n        var mo = new MutationObserver(function(changes){\n            suspend();    // make sure we don't trigger a loop\n            if (!widget) {\n                return;\n            }\n\n            changes.forEach(function(chg){\n                var w = $(widget.wrapper)[0];\n                switch (chg.attributeName) {\n\n                    case \"class\":\n                        // sync classes to the wrapper element\n                        var currClassList = [].slice.call(chg.target.classList);\n                        currClassList.forEach(function(cls){\n                            if (prevClassList.indexOf(cls) < 0) {\n                                w.classList.add(cls);\n                                if (kendo.ui.ComboBox && widget instanceof kendo.ui.ComboBox) { // https://github.com/kendo-labs/angular-kendo/issues/356\n                                    widget.input[0].classList.add(cls);\n                                }\n                            }\n                        });\n                        prevClassList.forEach(function(cls){\n                            if (currClassList.indexOf(cls) < 0) {\n                                w.classList.remove(cls);\n                                if (kendo.ui.ComboBox && widget instanceof kendo.ui.ComboBox) { // https://github.com/kendo-labs/angular-kendo/issues/356\n                                    widget.input[0].classList.remove(cls);\n                                }\n                            }\n                        });\n                        prevClassList = currClassList;\n                        break;\n\n                    case \"disabled\":\n                        if (typeof widget.enable == \"function\" && !widget.element.attr(\"readonly\")) {\n                            widget.enable(!$(chg.target).attr(\"disabled\"));\n                        }\n                        break;\n\n                    case \"readonly\":\n                        if (typeof widget.readonly == \"function\" && !widget.element.attr(\"disabled\")) {\n                            widget.readonly(!!$(chg.target).attr(\"readonly\"));\n                        }\n                        break;\n                }\n            });\n\n            resume();\n        });\n\n        function suspend() {\n            mo.disconnect();\n        }\n\n        function resume() {\n            mo.observe($(element)[0], { attributes: true });\n        }\n\n        resume();\n        widget.first(\"destroy\", suspend);\n    }\n\n    function setupRebind(widget, scope, element, originalElement, rebindAttr, destroyRegister, attrs) {\n        // watch for changes on the expression passed in the k-rebind attribute\n        var unregister = scope.$watch(rebindAttr, function(newValue, oldValue) {\n            if (!widget._muteRebind && newValue !== oldValue) {\n                unregister(); // this watcher will be re-added if we compile again!\n\n                if (attrs._cleanUp) {\n                    attrs._cleanUp();\n                }\n\n                var templateOptions = WIDGET_TEMPLATE_OPTIONS[widget.options.name];\n\n                if (templateOptions) {\n                    templateOptions.forEach(function(name) {\n                        var templateContents = scope.$eval(attrs[\"k\" + name]);\n\n                        if (templateContents) {\n                            originalElement.append($(templateContents).attr(kendo.toHyphens(\"k\" + name), \"\"));\n                        }\n                    });\n                }\n\n                var _wrapper = $(widget.wrapper)[0];\n                var _element = $(widget.element)[0];\n                var isUpload = widget.options.name === \"Upload\";\n\n                if (isUpload) {\n                    element = $(_element);\n                }\n\n                var compile = element.injector().get(\"$compile\");\n                widget._destroy();\n\n                if (destroyRegister) {\n                    destroyRegister();\n                }\n\n                widget = null;\n\n                if (_element) {\n                    if (_wrapper) {\n                        _wrapper.parentNode.replaceChild(_element, _wrapper);\n                    }\n                    $(element).replaceWith(originalElement);\n                }\n\n                compile(originalElement)(scope);\n            }\n        }, true); // watch for object equality. Use native or simple values.\n        digest(scope);\n    }\n\n    function bind(f, obj) {\n        return function(a, b) {\n            return f.call(obj, a, b);\n        };\n    }\n\n    function setTemplate(key, value) {\n        this[key] = kendo.stringify(value); // jshint ignore:line\n    }\n\n    module.factory('directiveFactory', [ '$compile', function(compile) {\n        var kendoRenderedTimeout;\n        var RENDERED = false;\n\n        // caching $compile for the dirty hack upstairs. This is awful, but we happen to have elements outside of the bootstrapped root :(.\n        $defaultCompile = compile;\n\n        var create = function(role, origAttr) {\n            return {\n                // Parse the directive for attributes and classes\n                restrict: \"AC\",\n                require: [ \"?ngModel\", \"^?form\" ],\n                scope: false,\n\n                controller: [ '$scope', '$attrs', '$element', function($scope, $attrs) {\n                    this.template = bind(setTemplate, $attrs);\n                    $attrs._cleanUp = bind(function(){\n                        this.template = null;\n                        $attrs._cleanUp = null;\n                    }, this);\n                }],\n\n                link: function(scope, element, attrs, controllers) {\n                    var $element = $(element);\n\n                    // we must remove data-kendo-widget-name attribute because\n                    // it breaks kendo.widgetInstance; can generate all kinds\n                    // of funny issues like\n                    //\n                    //   https://github.com/kendo-labs/angular-kendo/issues/167\n                    //\n                    // but we still keep the attribute without the\n                    // `data-` prefix, so k-rebind would work.\n                    var roleattr = role.replace(/([A-Z])/g, \"-$1\");\n\n                    $element.attr(roleattr, $element.attr(\"data-\" + roleattr));\n                    $element[0].removeAttribute(\"data-\" + roleattr);\n\n                    var widget = createWidget(scope, element, attrs, role, origAttr, controllers);\n\n                    if (!widget) {\n                        return;\n                    }\n\n                    if (kendoRenderedTimeout) {\n                        clearTimeout(kendoRenderedTimeout);\n                    }\n\n                    kendoRenderedTimeout = setTimeout(function() {\n                        scope.$emit(\"kendoRendered\");\n                        if (!RENDERED) {\n                            RENDERED = true;\n                            $(\"form\").each(function(){\n                                var form = $(this).controller(\"form\");\n                                if (form) {\n                                    form.$setPristine();\n                                }\n                            });\n                        }\n                    });\n                }\n            };\n        };\n\n        return {\n            create: create\n        };\n    }]);\n\n    var TAGNAMES = {\n        Editor         : \"textarea\",\n        NumericTextBox : \"input\",\n        DatePicker     : \"input\",\n        DateTimePicker : \"input\",\n        TimePicker     : \"input\",\n        AutoComplete   : \"input\",\n        ColorPicker    : \"input\",\n        MaskedTextBox  : \"input\",\n        MultiSelect    : \"input\",\n        Upload         : \"input\",\n        Validator      : \"form\",\n        Button         : \"button\",\n        MobileButton        : \"a\",\n        MobileBackButton    : \"a\",\n        MobileDetailButton  : \"a\",\n        ListView       : \"ul\",\n        MobileListView: \"ul\",\n        ScrollView       : \"div\",\n        PanelBar       : \"ul\",\n        TreeView       : \"ul\",\n        Menu           : \"ul\",\n        ContextMenu    : \"ul\",\n        ActionSheet    : \"ul\",\n        Switch    : \"input\"\n    };\n\n    var SKIP_SHORTCUTS = [\n        'MobileView',\n        'MobileDrawer',\n        'MobileLayout',\n        'MobileSplitView',\n        'MobilePane',\n        'MobileModalView'\n    ];\n\n    var MANUAL_DIRECTIVES = [\n        'MobileApplication',\n        'MobileView',\n        'MobileModalView',\n        'MobileLayout',\n        'MobileActionSheet',\n        'MobileDrawer',\n        'MobileSplitView',\n        'MobilePane',\n        'MobileScrollView',\n        'MobilePopOver'\n    ];\n\n    angular.forEach(['MobileNavBar', 'MobileButton', 'MobileBackButton', 'MobileDetailButton', 'MobileTabStrip', 'MobileScrollView', 'MobileScroller'], function(widget) {\n        MANUAL_DIRECTIVES.push(widget);\n        widget = \"kendo\" + widget;\n        module.directive(widget, function() {\n            return {\n                restrict: \"A\",\n                link: function(scope, element, attrs) {\n                    createWidget(scope, element, attrs, widget, widget);\n                }\n            };\n        });\n    });\n\n    function createDirectives(klass, isMobile) {\n        function make(directiveName, widgetName) {\n            module.directive(directiveName, [\n                \"directiveFactory\",\n                function(directiveFactory) {\n                    return directiveFactory.create(widgetName, directiveName);\n                }\n            ]);\n        }\n\n        var name = isMobile ? \"Mobile\" : \"\";\n        name += klass.fn.options.name;\n\n        var className = name;\n        var shortcut = \"kendo\" + name.charAt(0) + name.substr(1).toLowerCase();\n        name = \"kendo\" + name;\n\n        // <kendo-numerictextbox>-type directives\n        var dashed = name.replace(/([A-Z])/g, \"-$1\");\n\n        if (SKIP_SHORTCUTS.indexOf(name.replace(\"kendo\", \"\")) == -1) {\n            var names = name === shortcut ? [ name ] : [ name, shortcut ];\n            angular.forEach(names, function(directiveName) {\n                module.directive(directiveName, function(){\n                    return {\n                        restrict : \"E\",\n                        replace  : true,\n                        template : function(element, attributes) {\n                            var tag = TAGNAMES[className] || \"div\";\n                            var scopeField = attributes.kScopeField || attributes.scopeField;\n\n                            return \"<\" + tag + \" \" + dashed + (scopeField ? ('=\"' + scopeField + '\"') : \"\") + \">\" + element.html() + \"</\" + tag + \">\";\n                        }\n                    };\n                });\n            });\n        }\n\n        if (MANUAL_DIRECTIVES.indexOf(name.replace(\"kendo\", \"\")) > -1) {\n            return;\n        }\n\n        // here name should be like kendoMobileListView so kendo-mobile-list-view works,\n        // and shortcut like kendoMobilelistview, for kendo-mobilelistview\n\n        make(name, name);\n        if (shortcut != name) {\n            make(shortcut, name);\n        }\n\n    }\n\n    /* -----[ utils ]----- */\n\n    function kendoWidgetInstance(el) {\n        el = $(el);\n        return kendo.widgetInstance(el, kendo.ui) ||\n            kendo.widgetInstance(el, kendo.mobile.ui) ||\n            kendo.widgetInstance(el, kendo.dataviz.ui);\n    }\n\n    function digest(scope, func) {\n        var root = scope.$root || scope;\n        var isDigesting = /^\\$(digest|apply)$/.test(root.$$phase);\n        if (func) {\n            if (isDigesting) {\n                func();\n            } else {\n                root.$apply(func);\n            }\n        } else if (!isDigesting) {\n            root.$digest();\n        }\n    }\n\n    function destroyScope(scope, el) {\n        scope.$destroy();\n        if (el) {\n            // prevent leaks. https://github.com/kendo-labs/angular-kendo/issues/237\n            $(el)\n                .removeData(\"$scope\")\n                .removeData(\"$$kendoScope\")\n                .removeData(\"$isolateScope\")\n                .removeData(\"$isolateScopeNoTemplate\")\n                .removeClass(\"ng-scope\");\n        }\n    }\n\n    var encode = kendo.htmlEncode;\n    var open = /{{/g;\n    var close = /}}/g;\n    var encOpen = '{&#8203;{';\n    var encClose = '}&#8203;}';\n\n    kendo.htmlEncode = function(str) {\n        return encode(str)\n            .replace(open, encOpen)\n            .replace(close, encClose);\n    };\n\n    var pendingPatches = [];\n\n    // defadvice will patch a class' method with another function.  That\n    // function will be called in a context containing `next` (to call\n    // the next method) and `object` (a reference to the original\n    // object).\n    function defadvice(klass, methodName, func) {\n        if (Array.isArray(klass)) {\n            return angular.forEach(klass, function(klass){\n                defadvice(klass, methodName, func);\n            });\n        }\n        if (typeof klass == \"string\") {\n            var a = klass.split(\".\");\n            var x = kendo;\n            while (x && a.length > 0) {\n                x = x[a.shift()];\n            }\n            if (!x) {\n                pendingPatches.push([ klass, methodName, func ]);\n                return false;\n            }\n            klass = x.prototype;\n        }\n        var origMethod = klass[methodName];\n        klass[methodName] = function() {\n            var self = this, args = arguments;\n            return func.apply({\n                self: self,\n                next: function() {\n                    return origMethod.apply(self, arguments.length > 0 ? arguments : args);\n                }\n            }, args);\n        };\n        return true;\n    }\n\n    kendo.onWidgetRegistered(function(entry){\n        pendingPatches = $.grep(pendingPatches, function(args){\n            return !defadvice.apply(null, args);\n        });\n        createDirectives(entry.widget, entry.prefix == \"Mobile\");\n    });\n\n    /* -----[ Customize widgets for Angular ]----- */\n\n    defadvice([ \"ui.Widget\", \"mobile.ui.Widget\" ], \"angular\", function(cmd, arg){\n        var self = this.self;\n        if (cmd == \"init\") {\n            // `arg` here should be the widget options.\n            // the Chart doesn't send the options to Widget::init in constructor\n            // hence the OPTIONS_NOW hack (initialized in createWidget).\n            if (!arg && OPTIONS_NOW) {\n                arg = OPTIONS_NOW;\n            }\n            OPTIONS_NOW = null;\n            if (arg && arg.$angular) {\n                self.$angular_scope = arg.$angular[0];\n                self.$angular_init(self.element, arg);\n            }\n            return;\n        }\n\n        var scope = self.$angular_scope;\n\n        if (scope) {\n            withoutTimeout(function(){\n                var x = arg(), elements = x.elements, data = x.data;\n                if (elements.length > 0) {\n                    switch (cmd) {\n\n                      case \"cleanup\":\n                        angular.forEach(elements, function(el){\n                            var itemScope = $(el).data(\"$$kendoScope\");\n\n                            if (itemScope && itemScope !== scope && itemScope.$$kendoScope) {\n                                destroyScope(itemScope, el);\n                            }\n                        });\n                        break;\n\n                      case \"compile\":\n                        var injector = self.element.injector();\n                        var compile = injector ? injector.get(\"$compile\") : $defaultCompile;\n\n                        angular.forEach(elements, function(el, i){\n                            var itemScope;\n                            if (x.scopeFrom) {\n                                itemScope = x.scopeFrom;\n                            } else {\n                                var vars = data && data[i];\n                                if (vars !== undefined) {\n                                    itemScope = $.extend(scope.$new(), vars);\n                                    itemScope.$$kendoScope = true;\n                                } else {\n                                    itemScope = scope;\n                                }\n                            }\n\n                            $(el).data(\"$$kendoScope\", itemScope);\n                            compile(el)(itemScope);\n                        });\n                        digest(scope);\n                        break;\n                    }\n                }\n            });\n        }\n    });\n\n    defadvice(\"ui.Widget\", \"$angular_getLogicValue\", function(){\n        return this.self.value();\n    });\n\n    defadvice(\"ui.Widget\", \"$angular_setLogicValue\", function(val){\n        this.self.value(val);\n    });\n\n    defadvice(\"ui.Select\", \"$angular_getLogicValue\", function(){\n        var item = this.self.dataItem(),\n            valueField = this.self.options.dataValueField;\n\n        if (item) {\n            if (this.self.options.valuePrimitive) {\n                if (!!valueField) {\n                    return item[valueField];\n                } else {\n                    return item;\n                }\n            } else {\n                return item.toJSON();\n            }\n        } else {\n            return null;\n        }\n    });\n\n    defadvice(\"ui.Select\", \"$angular_setLogicValue\", function(val){\n        var self = this.self;\n        var options = self.options;\n        var valueField = options.dataValueField;\n        var text = options.text || \"\";\n\n        if (val === undefined) {\n            val = \"\";\n        }\n\n        if (valueField && !options.valuePrimitive && val) {\n            text = val[options.dataTextField] || \"\";\n            val = val[valueField || options.dataTextField];\n        }\n\n        if (self.options.autoBind === false && !self.listView.bound()) {\n            if (!text && val && options.valuePrimitive) {\n                self.value(val);\n            } else {\n                self._preselect(val, text);\n            }\n        } else {\n            self.value(val);\n        }\n    });\n\n    defadvice(\"ui.MultiSelect\", \"$angular_getLogicValue\", function() {\n        var value = this.self.dataItems().slice(0);\n        var valueField = this.self.options.dataValueField;\n\n        if (valueField && this.self.options.valuePrimitive) {\n            value = $.map(value, function(item) {\n                return item[valueField];\n            });\n        }\n\n        return value;\n    });\n\n    defadvice(\"ui.MultiSelect\", \"$angular_setLogicValue\", function(val){\n        if (val == null) {\n            val = [];\n        }\n\n        var self = this.self;\n        var options = self.options;\n        var valueField = options.dataValueField;\n        var data = val;\n\n        if (valueField && !options.valuePrimitive) {\n            val = $.map(val, function(item) {\n                return item[valueField];\n            });\n        }\n\n        if (options.autoBind === false && !options.valuePrimitive && !self.listView.bound()) {\n            self._preselect(data, val);\n        } else {\n            self.value(val);\n        }\n    });\n\n    /* AutoComplete's getter and setter are removed!\n       By design, AutoComplete should be bound only to primitive string\n       value and data items are bound only to serve the list of suggestions.\n\n       Binding multiple data items is supported by the MultiSelect widget.\n    */\n\n    // All event handlers that are strings are compiled the Angular way.\n    defadvice(\"ui.Widget\", \"$angular_init\", function(element, options) {\n        var self = this.self;\n        if (options && !Array.isArray(options)) {\n            var scope = self.$angular_scope;\n            for (var i = self.events.length; --i >= 0;) {\n                var event = self.events[i];\n                var handler = options[event];\n                if (handler && typeof handler == \"string\") {\n                    options[event] = self.$angular_makeEventHandler(event, scope, handler);\n                }\n            }\n        }\n    });\n\n    // most handers will only contain a kendoEvent in the scope.\n    defadvice(\"ui.Widget\", \"$angular_makeEventHandler\", function(event, scope, handler){\n        handler = $parse(handler);\n        return function(e) {\n            digest(scope, function() {\n                handler(scope, { kendoEvent: e });\n            });\n        };\n    });\n\n    // for the Grid and ListView we add `data` and `selected` too.\n    defadvice([ \"ui.Grid\", \"ui.ListView\", \"ui.TreeView\", \"ui.PanelBar\" ], \"$angular_makeEventHandler\", function(event, scope, handler){\n        if (event != \"change\") {\n            return this.next();\n        }\n        handler = $parse(handler);\n        return function(ev) {\n            var widget = ev.sender;\n            var options = widget.options;\n            var cell, multiple, locals = { kendoEvent: ev }, elems, items, columns, colIdx;\n\n            if (angular.isString(options.selectable)) {\n                cell = options.selectable.indexOf('cell') !== -1;\n                multiple = options.selectable.indexOf('multiple') !== -1;\n            }\n            if (widget._checkBoxSelection) {\n                multiple = true;\n            }\n\n            elems = locals.selected = this.select();\n            items = locals.data = [];\n            columns = locals.columns = [];\n            for (var i = 0; i < elems.length; i++) {\n                var item = cell ? elems[i].parentNode : elems[i];\n                var dataItem = widget.dataItem(item);\n                if (cell) {\n                    if (angular.element.inArray(dataItem, items) < 0) {\n                        items.push(dataItem);\n                    }\n                    colIdx = angular.element(elems[i]).index();\n                    if (angular.element.inArray(colIdx, columns) < 0 ) {\n                        columns.push(colIdx);\n                    }\n                } else {\n                    items.push(dataItem);\n                }\n            }\n\n            if (!multiple) {\n                locals.dataItem = locals.data = items[0];\n                locals.angularDataItem = kendo.proxyModelSetters(locals.dataItem);\n                locals.selected = elems[0];\n            }\n\n            digest(scope, function() {\n                handler(scope, locals);\n            });\n        };\n    });\n\n    // If no `template` is supplied for Grid columns, provide an Angular\n    // template.  The reason is that in this way AngularJS will take\n    // care to update the view as the data in scope changes.\n    defadvice(\"ui.Grid\", \"$angular_init\", function(element, options){\n        this.next();\n        if (options.columns) {\n            var settings = $.extend({}, kendo.Template, options.templateSettings);\n            angular.forEach(options.columns, function(col){\n                if (col.field && !col.template && !col.format && !col.values && (col.encoded === undefined || col.encoded)) {\n                    col.template = \"<span ng-bind='\" +\n                        kendo.expr(col.field, \"dataItem\") + \"'>#: \" +\n                        kendo.expr(col.field, settings.paramName) + \"#</span>\";\n                }\n            });\n        }\n    });\n\n    {\n        // mobile/ButtonGroup does not have a \"value\" method, but looks\n        // like it would be useful.  We provide it here.\n\n        defadvice(\"mobile.ui.ButtonGroup\", \"value\", function(mew){\n            var self = this.self;\n            if (mew != null) {\n                self.select(self.element.children(\"li.km-button\").eq(mew));\n                self.trigger(\"change\");\n                self.trigger(\"select\", { index: self.selectedIndex });\n            }\n            return self.selectedIndex;\n        });\n\n        defadvice(\"mobile.ui.ButtonGroup\", \"_select\", function(){\n            this.next();\n            this.self.trigger(\"change\");\n        });\n    }\n\n    // mobile directives\n    module\n    .directive('kendoMobileApplication', function() {\n        return {\n            terminal: true,\n            link: function(scope, element, attrs) {\n                createWidget(scope, element, attrs, 'kendoMobileApplication', 'kendoMobileApplication');\n            }\n        };\n    }).directive('kendoMobileView', function() {\n        return {\n            scope: true,\n            link: {\n                pre: function(scope, element, attrs) {\n                    attrs.defaultOptions = scope.viewOptions;\n                    attrs._instance = createWidget(scope, element, attrs, 'kendoMobileView', 'kendoMobileView');\n                },\n\n                post: function(scope, element, attrs) {\n                    attrs._instance._layout();\n                    attrs._instance._scroller();\n                }\n            }\n        };\n    }).directive('kendoMobileDrawer', function() {\n        return {\n            scope: true,\n            link: {\n                pre: function(scope, element, attrs) {\n                    attrs.defaultOptions = scope.viewOptions;\n                    attrs._instance = createWidget(scope, element, attrs, 'kendoMobileDrawer', 'kendoMobileDrawer');\n                },\n\n                post: function(scope, element, attrs) {\n                    attrs._instance._layout();\n                    attrs._instance._scroller();\n                }\n            }\n        };\n    }).directive('kendoMobileModalView', function() {\n        return {\n            scope: true,\n            link: {\n                pre: function(scope, element, attrs) {\n                    attrs.defaultOptions = scope.viewOptions;\n                    attrs._instance = createWidget(scope, element, attrs, 'kendoMobileModalView', 'kendoMobileModalView');\n                },\n\n                post: function(scope, element, attrs) {\n                    attrs._instance._layout();\n                    attrs._instance._scroller();\n                }\n            }\n        };\n    }).directive('kendoMobileSplitView', function() {\n        return {\n            terminal: true,\n            link: {\n                pre: function(scope, element, attrs) {\n                    attrs.defaultOptions = scope.viewOptions;\n                    attrs._instance = createWidget(scope, element, attrs, 'kendoMobileSplitView', 'kendoMobileSplitView');\n                },\n\n                post: function(scope, element, attrs) {\n                    attrs._instance._layout();\n                }\n            }\n        };\n    }).directive('kendoMobilePane', function() {\n        return {\n            terminal: true,\n            link: {\n                pre: function(scope, element, attrs) {\n                    attrs.defaultOptions = scope.viewOptions;\n                    createWidget(scope, element, attrs, 'kendoMobilePane', 'kendoMobilePane');\n                }\n            }\n        };\n    }).directive('kendoMobileLayout', function() {\n        return {\n            link: {\n                pre: function (scope, element, attrs) {\n                    createWidget(scope, element, attrs, 'kendoMobileLayout', 'kendoMobileLayout');\n                }\n            }\n        };\n    }).directive('kendoMobileActionSheet', function() {\n        return {\n            restrict: \"A\",\n            link: function(scope, element, attrs) {\n                element.find(\"a[k-action]\").each(function() {\n                    $(this).attr(\"data-\" + kendo.ns + \"action\", $(this).attr(\"k-action\"));\n                });\n\n                createWidget(scope, element, attrs, 'kendoMobileActionSheet', 'kendoMobileActionSheet');\n            }\n        };\n    }).directive('kendoMobilePopOver', function() {\n        return {\n            terminal: true,\n            link: {\n                pre: function(scope, element, attrs) {\n                    attrs.defaultOptions = scope.viewOptions;\n                    createWidget(scope, element, attrs, 'kendoMobilePopOver', 'kendoMobilePopOver');\n                }\n            }\n        };\n    }).directive('kendoViewTitle', function(){\n        return {\n            restrict : \"E\",\n            replace  : true,\n            template : function(element) {\n                return \"<span data-\" + kendo.ns + \"role='view-title'>\" + element.html() + \"</span>\";\n            }\n        };\n    }).directive('kendoMobileHeader', function() {\n            return {\n                restrict: \"E\",\n                link: function(scope, element) {\n                    element.addClass(\"km-header\").attr(\"data-role\", \"header\");\n                }\n            };\n    }).directive('kendoMobileFooter', function() {\n            return {\n                restrict: 'E',\n                link: function(scope, element) {\n                    element.addClass(\"km-footer\").attr(\"data-role\", \"footer\");\n                }\n            };\n    }).directive('kendoMobileScrollViewPage', function(){\n        return {\n            restrict : \"E\",\n            replace  : true,\n            template : function(element) {\n                return \"<div data-\" + kendo.ns + \"role='page'>\" + element.html() + \"</div>\";\n            }\n        };\n    });\n\n    angular.forEach(['align', 'icon', 'rel', 'transition', 'actionsheetContext'], function(attr) {\n          var kAttr = \"k\" + attr.slice(0, 1).toUpperCase() + attr.slice(1);\n\n          module.directive(kAttr, function() {\n              return {\n                  restrict: 'A',\n                  priority: 2,\n                  link: function(scope, element, attrs) {\n                      element.attr(kendo.attr(kendo.toHyphens(attr)), scope.$eval(attrs[kAttr]));\n                  }\n              };\n          });\n    });\n\n    var WIDGET_TEMPLATE_OPTIONS = {\n        \"TreeMap\": [ \"Template\" ],\n        \"MobileListView\": [ \"HeaderTemplate\", \"Template\" ],\n        \"MobileScrollView\": [ \"EmptyTemplate\", \"Template\" ],\n        \"Grid\": [ \"AltRowTemplate\", \"DetailTemplate\", \"RowTemplate\" ],\n        \"ListView\": [ \"EditTemplate\", \"Template\", \"AltTemplate\" ],\n        \"Pager\": [ \"SelectTemplate\", \"LinkTemplate\" ],\n        \"PivotGrid\": [ \"ColumnHeaderTemplate\", \"DataCellTemplate\", \"RowHeaderTemplate\" ],\n        \"Scheduler\": [\"AllDayEventTemplate\", \"DateHeaderTemplate\", \"EventTemplate\", \"MajorTimeHeaderTemplate\", \"MinorTimeHeaderTemplate\"],\n        \"ScrollView\": [ \"Template\" ],\n        \"PanelBar\": [ \"Template\" ],\n        \"TreeView\": [ \"Template\" ],\n        \"Validator\": [ \"ErrorTemplate\" ]\n    };\n\n    (function() {\n        var templateDirectives = {};\n        angular.forEach(WIDGET_TEMPLATE_OPTIONS, function(templates, widget) {\n            angular.forEach(templates, function(template) {\n                if (!templateDirectives[template]) {\n                    templateDirectives[template] = [ ];\n                }\n                templateDirectives[template].push(\"?^^kendo\" + widget);\n            });\n        });\n\n        angular.forEach(templateDirectives, function(parents, directive) {\n            var templateName = \"k\" + directive;\n            var attrName = kendo.toHyphens(templateName);\n\n            module.directive(templateName, function() {\n                return {\n                    restrict: \"A\",\n                    require: parents,\n                    terminal: true,\n                    compile: function($element, $attrs) {\n                        if ($attrs[templateName] !== \"\") {\n                            return;\n                        }\n\n                        $element.removeAttr(attrName);\n                        var template = $element[0].outerHTML;\n\n                        return function(scope, element, attrs, controllers) {\n                            var controller;\n\n                            while(!controller && controllers.length) {\n                                controller = controllers.shift();\n                            }\n\n                            if (!controller) {\n                                $log.warn(attrName + \" without a matching parent widget found. It can be one of the following: \" + parents.join(\", \"));\n                            } else {\n                                controller.template(templateName, template);\n                                element.remove();\n                            }\n                        };\n                    }\n                };\n            });\n        });\n\n    })();\n\n\n})(window.kendo.jQuery, window.angular);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.ui.core',[\n        \"kendo.core\",\n        \"kendo.router\",\n        \"kendo.touch\",\n        \"kendo.view\",\n        \"kendo.floatinglabel\",\n        \"kendo.fx\",\n        \"kendo.data.odata\",\n        \"kendo.data.xml\",\n        \"kendo.data\",\n        \"kendo.data.signalr\",\n        \"kendo.binder\",\n        \"kendo.validator\",\n        \"kendo.userevents\",\n        \"kendo.draganddrop\",\n        \"kendo.mobile.scroller\",\n        \"kendo.resizable\",\n        \"kendo.sortable\",\n        \"kendo.selectable\",\n        \"kendo.badge\",\n        \"kendo.button\",\n        \"kendo.bottomnavigation\",\n        \"kendo.pager\",\n        \"kendo.popup\",\n        \"kendo.notification\",\n        \"kendo.tooltip\",\n        \"kendo.toolbar\",\n        \"kendo.list\",\n        \"kendo.calendar\",\n        \"kendo.dateinput\",\n        \"kendo.datepicker\",\n        \"kendo.autocomplete\",\n        \"kendo.dropdownlist\",\n        \"kendo.combobox\",\n        \"kendo.multiselect\",\n        \"kendo.colorpicker\",\n        \"kendo.listview\",\n        \"kendo.listbox\",\n        \"kendo.loader\",\n        \"kendo.textbox\",\n        \"kendo.textarea\",\n        \"kendo.numerictextbox\",\n        \"kendo.maskedtextbox\",\n        \"kendo.menu\",\n        \"kendo.editable\",\n        \"kendo.panelbar\",\n        \"kendo.progressbar\",\n        \"kendo.responsivepanel\",\n        \"kendo.tabstrip\",\n        \"kendo.timepicker\",\n        \"kendo.datetimepicker\",\n        \"kendo.slider\",\n        \"kendo.splitter\",\n        \"kendo.dialog\",\n        \"kendo.window\",\n        \"kendo.virtuallist\",\n        \"kendo.mobile.popover\",\n        \"kendo.mobile.loader\",\n        \"kendo.mobile.scroller\",\n        \"kendo.mobile.shim\",\n        \"kendo.mobile.view\",\n        \"kendo.mobile.modalview\",\n        \"kendo.mobile.drawer\",\n        \"kendo.mobile.splitview\",\n        \"kendo.mobile.pane\",\n        \"kendo.mobile.application\",\n        \"kendo.mobile.actionsheet\",\n        \"kendo.mobile.button\",\n        \"kendo.mobile.buttongroup\",\n        \"kendo.mobile.collapsible\",\n        \"kendo.mobile.listview\",\n        \"kendo.mobile.navbar\",\n        \"kendo.mobile.scrollview\",\n        \"kendo.mobile.switch\",\n        \"kendo.mobile.tabstrip\",\n        \"kendo.angular\"\n    ], f);\n})(function(){\n    \"bundle all\";\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n"],"names":["define","__meta__","id","name","category","description","packageMetadata","productName","productCodes","publishDate","version","licensingDocsUrl","$","jQuery","window","undefined","kendo","cultures","extend","each","isArray","Array","noop","math","Math","Template","JSON","support","percentRegExp","formatRegExp","boxShadowRegExp","numberRegExp","FUNCTION","STRING","NUMBER","OBJECT","NULL","BOOLEAN","UNDEFINED","PREFIX","ARIA_LABELLEDBY","ARIA_LABEL","LABELIDPART","getterCache","setterCache","slice","cssPropertiesNames","noDepricateExtend","src","copyIsArray","copy","options","clone","target","arguments","i","length","deep","this","isPlainObject","Class","replace","proto","base","member","that","subclass","init","apply","fn","prototype","constructor","Object","_initOptions","deepExtend","isFunction","preventDefault","_defaultPrevented","isDefaultPrevented","Observable","_events","bind","eventName","handlers","one","idx","eventNames","original","handler","handlersIsFunction","events","unbind","push","first","unshift","trigger","e","sender","call","splice","compilePart","part","stringPart","split","join","charAt","rest","substring","argumentNameRegExp","encodeRegExp","escapedCurlyRegExp","curlyRegExp","escapedSharpRegExp","sharpRegExp","zeros","pad","number","digits","end","paramName","useWithBlock","render","template","data","html","compile","settings","argumentName","match","functionBody","parts","Function","_slotCount","floor","Error","format","escapable","gap","indent","meta","\b","\t","\n","\f","\r","\"","\\","rep","toString","Date","toJSON","isFinite","valueOf","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","String","Number","Boolean","quote","string","lastIndex","test","a","c","charCodeAt","str","key","holder","k","v","mind","partial","value","type","hasOwnProperty","stringify","replacer","space","","dateFormatRegExp","standardFormatRegExp","literalRegExp","commaRegExp","EMPTY","POINT","COMMA","SHARP","ZERO","PLACEHOLDER","EN","objectToString","findCulture","culture","numberFormat","getCulture","current","formatDate","date","calendar","calendars","standard","days","months","patterns","minutes","result","sign","getDate","namesAbbr","getDay","names","getMonth","getFullYear","getHours","getMinutes","getSeconds","getMilliseconds","AM","PM","getTimezoneOffset","abs","formatNumber","decimal","precision","decimals","pattern","literals","symbol","isCurrency","isPercent","customPrecision","formatAndPrecision","negative","integer","fraction","integerLength","fractionLength","replacement","ch","hasGroup","hasNegativeFormat","decimalIndex","sharpIndex","zeroIndex","hasZero","hasSharp","percentIndex","currencyIndex","startZeroIndex","start","toLocaleString","exec","toLowerCase","currency","percent","exp","toExponential","round","groupInteger","indexOf","quoteChar","literal","lastIndexOf","rounded","max",",",".","groupSize","abbr","namesShort","d","D","F","g","G","m","M","s","t","T","u","y","Y","/",":","firstDay","twoDigitYearMax","cultureName","groupSizes","shift","newGroupSize","reverse","toFixed","min","fmt","nonBreakingSpaceRegExp","values","index","placeholderFormat","parseInt","_extractFormat","_activeElement","document","activeElement","documentElement","_round","_outerWidth","element","includeMargin","outerWidth","_outerHeight","outerHeight","spaceRegExp","exponentRegExp","shortTimeZoneRegExp","longTimeZoneRegExp","dateRegExp","offsetRegExp","FORMATS_SEQUENCE","STANDARD_FORMATS","2","3","4","outOfRange","designatorPredicate","designator","mapDesignators","designators","map","adjustDST","hours","setHours","lowerArray","array","lowerLocalInfo","localInfo","newLocalInfo","property","parseExact","strict","lookAhead","getNumber","size","rg","RegExp","substr","valueIdx","getIndexByName","lower","nameLength","matchLength","matchIdx","subValue","checkLiteral","year","month","day","seconds","milliseconds","defaultYear","count","pmHour","UTC","matches","amDesignators","pmDesignators","hoursOffset","minutesOffset","hasTime","_lowerDays","_lowerMonths","parseFloat","isNaN","setFullYear","parseMicrosoftFormatOffset","offset","getDefaultFormats","cultureFormats","formatIdx","formats","concat","internalParseDate","tzoffset","timezone","convert","getShadows","shadow","css","transitions","radius","blur","left","right","bottom","wrap","autosize","percentage","parent","windowOuterWidth","removeClass","hasClass","width","style","height","percentWidth","percentHeight","forceWidth","is","addClass","attr","boxSizing","mozBoxSizing","webkitBoxSizing","wrapResize","wrapper","wrapperStyle","display","position","destination","deepExtendOne","source","ObservableArray","LazyObservableArray","DataSource","HierarchicalDataSource","propValue","propType","propInit","destProp","ArrayBuffer","getTime","testRx","agent","rxs","dflt","rx","toHyphens","toCamelCase","strMatch","g1","toUpperCase","getComputedStyles","properties","styles","computedStyle","defaultView","getComputedStyle","getPropertyValue","currentStyle","isScrollable","className","overflow","scrollLeft","webkit","browser","mozila","mozilla","browserVersion","el","isRtl","safari","scrollWidth","clientWidth","parseDate","parseExactDate","percentSymbol","_scrollbar","scrollbar","refresh","div","createElement","cssText","innerHTML","body","appendChild","offsetWidth","removeChild","closest","table","tbodyInnerHtml","touch","docStyle","transforms","elementProto","HTMLElement","hasHW3D","WebKitCSSMatrix","cssFlexbox","prefix","hasTransitions","lowPrefix","event","devicePixelRatio","screenWidth","screen","availWidth","innerWidth","screenHeight","availHeight","innerHeight","detectOS","ua","os","minorVersion","notAndroidPhone","agentRxs","wp","fire","android","iphone","ipad","meego","webos","blackberry","playbook","windows","tizen","sailfish","ffos","osRxs","ios","flat","formFactorRxs","tablet","browserRxs","omini","omobile","firefox","mobilesafari","ie","chrome","navigator","device","majorVersion","flatVersion","cordova","PhoneGap","appMode","standalone","location","protocol","mobileOS","userAgent","wpDevicePixelRatio","hasNativeScrolling","delayedClick","mouseAndTouchPresent","detectBrowser","chromiumEdgeMatch","edge","opera","msie","documentMode","chromiumEdge","detectClipboardAccess","commands","queryCommandSupported","cut","paste","clipboard","zoomLevel","ie11WidthCorrection","docEl","scrollHeight","clientHeight","top","cssClass","docElement","eventCapture","addEventListener","input","placeholder","propertyChangeEvent","types","setAttribute","cssFloat","stableSort","threshold","sorted","field","sort","b","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","selector","nodeList","querySelectorAll","parentNode","matchMedia","pushState","history","hashChange","customElements","mobileChrome","crios","obj","getOffset","positioned","pointers","msPointers","pageYOffset","pageXOffset","MSPointerEvent","PointerEvent","kineticScrollNeeded","directions","down","up","in","out","parseEffects","effects","fx","Element","prepareAnimationOptions","duration","complete","teardown","hide","completeCallback","animate","instance","queue","promise","toggleClass","classes","add","enabled","dequeue","disable","promiseShim","enable","animatedPromise","kendoStop","clearQueue","gotoEnd","stop","kendoAnimate","kendoAddClass","kendoRemoveClass","kendoToggleClass","toggle","ampRegExp","ltRegExp","quoteRegExp","aposRegExp","gtRegExp","htmlEncode","unescape","decodeURIComponent","error","_","m1","m2","fromCharCode","eventTarget","touches","originalEvent","changedTouches","elementFromPoint","clientX","clientY","callback","on","mousedown","mouseup","mousemove","mousecancel","click","resize","wrapExpression","members","localUrlRe","Widget","widgets","_widgetRegisteredCallbacks","ui","mobile","dataviz","drawing","spreadsheet","messages","keys","INSERT","DELETE","BACKSPACE","TAB","ENTER","ESC","LEFT","UP","RIGHT","DOWN","END","HOME","SPACEBAR","PAGEUP","PAGEDOWN","F2","F10","F12","NUMPAD_PLUS","NUMPAD_MINUS","NUMPAD_DOT","ns","isLocalUrl","url","expr","expression","safe","getter","setter","accessor","get","set","guid","random","chars","roleSelector","role","directiveSelector","directives","selectors","triggeredByInput","tagName","onWidgetRegistered","len","logToConsole","message","console","suppressLog","log","validatePackage","angular","dataSource","props","componentTypes","componentType","defaults","_hasBindingTarget","kendoBindingTarget","_tabindex","TABINDEX","tabindex","removeAttr","setOptions","_clearCssClasses","_setEvents","_applyCssClasses","force","getSize","currentSize","_size","_resize","dimensions","setSize","destroy","removeData","_destroy","_muteAngularRebind","_muteRebind","protoOptions","__proto__","prop","validFill","widgetName","cssProperties","propertyDictionary","_altname","getValidClass","widget","propName","fillMode","fill","_ariaLabel","inputElm","inputId","labelElm","ariaLabel","ariaLabelledBy","labelId","_generateLabelId","newOptions","currentOptions","themeColor","label","DataBoundWidget","dataItems","flatView","_angularItems","cmd","elements","items","dataItem","templateRegExp","domElement","offsetHeight","notify","jsonRegExp","jsonFormatRegExp","dashRegExp","parseOption","option","getAttribute","parseOptions","containmentComparer","contains","resizableWidget","inArray","initWidget","roles","fullPath","widgetKeyRegExp","nodeType","widgetKey","isEmptyObject","rolesFromNamespaces","namespaces","find","addBack","filter","widgetsArray","makeArray","widgetInstance","progress","container","mask","leftRight","webkitCorrection","containerScrollLeft","scrollTop","opacity","loading","prependTo","remove","plugin","register","widgetEntry","args","method","ContainerNullObject","nullObject","MobileWidget","autoApplyNS","kendoDestroy","view","viewElement","viewHasNativeScrolling","useNativeScrolling","eq","focusable","isTabIndexNotNaN","nodeName","disabled","href","visible","pseudos","parents","appLevelNativeScrolling","application","themes","views","touchScroller","useNative","Scroller","kendoMobileScroller","suites","elementData","editorToolbar","onResize","setTimeout","unbindResize","off","attrValue","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","kendoFocusable","MOUSE_EVENTS","EXCLUDE_BUST_CLICK_SELECTOR","MouseEventNormalizer","setupMouseMute","mouseTrap","bustClick","captureMouse","stopPropagation","muteMouse","clearTimeout","mouseTrapTimeoutID","unMuteMouse","eventMap","move","cancel","MSPointerEnter","MSPointerLeave","orig","fix","special","delegateType","bindType","handle","ret","related","relatedTarget","handleObj","origType","getEventMap","eventRegEx","applyEventMap","keyDownHandler","kendoKeydown","preventKendoKeydown","kendoJQuery","context","rootjQuery","animationFrame","pop","search","touchstart","touchend","keyDownCallBack","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","Sun","Mon","Tue","Wed","Thu","Fri","Sat","ruleToDate","rule","targetDay","ourDay","time","cache","getUTCDay","setUTCDate","findRule","utcTime","rules","zone","grep","from","to","findZone","zones","zoneRules","until","zoneAndRule","info","fromOffset","toOffset","tempToOffset","diff","fromLocalOffset","toLocalOffset","toLocalDate","MS_PER_MINUTE","MS_PER_DAY","setDayOfWeek","dir","setDate","dayOfWeek","firstDayOfMonth","lastDayOfMonth","last","timeOffset","firstDayOfYear","lastDayOfYear","moveDateToWeekStart","weekStartDay","addDays","calcWeekInYear","firstWeekInYear","newDate","diffInMS","weekInYear","prevWeekDate","nextWeekDate","weekNumber","toUtcTime","toInvariantTime","isInTimeRange","msMin","msMax","msValue","isInDateRange","setTime","ignoreDST","difference","today","isToday","staticDate","addYear","currentDate","nextDay","previousDay","MS_PER_HOUR","nextYear","previousYear","stripWhitespace","createNodeIterator","iterator","NodeFilter","SHOW_TEXT","node","FILTER_ACCEPT","FILTER_REJECT","nextNode","referenceNode","textContent","trim","childNodes","child","nodeValue","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","animationQueue","themeColorValues","queueAnimation","runNextAnimation","parseQueryStringParams","queryString","params","paramParts","elementUnderCursor","x","client","wheelDeltaY","jQueryEvent","deltaY","delta","wheelDelta","detail","axis","VERTICAL_AXIS","throttle","delay","timeout","lastExecTime","throttled","elapsed","caret","rangeElement","isPosition","selectionStart","focus","setSelectionRange","selectionEnd","selection","createTextRange","collapse","moveStart","moveEnd","select","rangeDuplicated","duplicate","moveToBookmark","createRange","getBookmark","setEndPoint","text","compileMobileDirective","scope","injector","invoke","$compile","$$phase","$digest","antiForgeryTokens","tokens","csrf_token","csrf_param","cycleForm","form","firstElement","lastElement","keyCode","shiftKey","focusElement","scrollTopPositions","scrollableParents","parentsUntil","setActive","focusNextElement","focussable","nextElement","getWidgetFocusableElement","nextFocusable","addAttribute","attribute","removeAttribute","toggleAttribute","matchesMedia","mediaQuery","media","_bootstrapToMedia","bootstrapMedia","xs","sm","md","lg","xl","fileGroupMap","audio","video","image","txt","presentation","programming","pdf","config","zip","disc-image","getFileGroup","extension","withPrefix","fileTypeMap","groups","extensions","getFileSizeMessage","sizes","pow","selectorFromClasses","fillValues","shapeValues","sizeValues","roundedValues","positionModeValues","resizeValues","overflowValues","postToProxy","dataURI","fileName","proxyURL","proxyTarget","action","contentType","base64","appendTo","submit","defaultValues","registerPrefix","dict","registerValues","j","newValues","currentValue","registerCssClass","shorthand","registerCssClasses","arr","widgetProperties","widgetValues","validValue","fillModeValues","propertyToCssClassMap","getValidCssClass","whenAll","resolveValues","remaining","deferred","Deferred","failed","rejectContexts","rejectValues","resolveContexts","updateFunc","contexts","notifyWith","done","fail","resolveWith","fileSaver","downloadAttribute","saveAsBlob","blob","atob","Uint8Array","Blob","buffer","msSaveBlob","saveAsDataURI","URL","createObjectURL","download","createEvent","initMouseEvent","dispatchEvent","revokeObjectURL","saveAs","save","forceProxy","proxyModelSetters","observable","forEach","defineProperty","dirty","getSeriesColors","seriesColorsTemplate","series","colors","item","isElement","HTMLDocument","setDefaults","path","curr","class2type","_i","KendoLicensing","setScriptKey","amd","a1","a2","a3","depends","hidden","CHANGE","BACK","SAME","CHECK_URL_INTERVAL","BROKEN_BACK_NAV","hashStrip","absoluteURL","pathPrefix","regEx","host","hashDelimiter","bang","locationHash","stripRoot","root","HistoryAdapter","back","forward","replaceLocation","PushStateAdapter","navigate","title","replaceState","normalize","pathname","change","normalizeCurrent","fixedUrl","hash","hashBang","fixHash","fixBang","HashAdapter","_id","_interval","setInterval","clearInterval","History","_started","adapter","createAdapter","historyLength","locations","_checkUrl","silent","_navigate","backCalled","decode","newLength","navigatingInExisting","prev","backButtonPressed","INIT","ROUTE_MISSING","optionalParam","namedParam","splatParam","escapeRegExp","namedParamReplace","optional","routeToRegExp","route","ignoreCase","stripUrl","Route","_callback","queryStringParams","_back","worksWith","Router","routes","_urlChangedProxy","_sameProxy","_backProxy","sameProxy","_same","backProxy","urlChangedProxy","_urlChanged","same","initEventObject","now","OS","invalidZeroEvents","DEFAULT_MIN_HOLD","CLICK_DELAY","DEFAULT_THRESHOLD","PRESS","HOLD","SELECT","START","MOVE","CANCEL","TAP","DOUBLETAP","RELEASE","GESTURESTART","GESTURECHANGE","GESTUREEND","GESTURETAP","THRESHOLD","api","mouse","pointer","ENABLE_GLOBAL_SURFACE","touchDelta","touch1","touch2","x1","y1","x2","y2","dx","dy","center","distance","sqrt","getTouches","currentTarget","identifier","pointerId","TouchAxis","_updateLocationData","startLocation","velocity","timeStamp","timeDelta","initialDelta","Touch","userEvents","touchInfo","useClickAsTap","initialTouch","pressEvent","_clicks","supportDoubleTap","_moved","_finished","press","_holdTimeout","_hold","minHold","_trigger","_tap","_clickTimeout","preventMove","_shouldNotMove","_withinIgnoreThreshold","UserEvents","_start","dispose","endTime","activeTouches","skip","isMoved","startTime","xDelta","yDelta","withEachUpEvent","downEvents","_maxTouches","multiTouch","allowSelection","captureUpIfMoved","fastTap","eventNS","surface","global","ownerDocument","pressed","defaultAction","touchAction","preventDragEvent","surfaceElement","preventIfMovingProxy","preventIfMoving","_isMoved","_destroyed","removeEventListener","_disposeAll","capture","_isMultiTouch","_apiCall","_maxTouchesReached","_select","which","_move","_eachTouch","_end","_click","pageX","pageY","methodName","matchingTouch","defaultThreshold","MAX_DOUBLE_TAP_DISTANCE","eventProxy","_triggerTouch","gestureEventProxy","hold","tap","gesturestart","gesturechange","gestureend","enableSwipe","_swipestart","_swipemove","_dragstart","minXDelta","maxYDelta","maxDuration","doubleTapTimeout","lastTap","direction","NEWLINE","DOUBLELINE","odataFilters","neq","gt","gte","lt","lte","doesnotcontain","endswith","startswith","isnull","isnotnull","isnullorempty","isnotnullorempty","isempty","isnotempty","odataFiltersVersionFour","mappers","pageSize","page","useVersionFour","toOdataFilter","$filter","orderby","order","$orderby","$skip","take","$top","defaultDataType","read","dataType","useOdataFour","logic","operator","filters","stripMetadata","hex16","createBoundary","createDelimeter","boundary","close","createCommand","transport","httpVerb","command","transportUrl","commandPrefix","getOperationHeader","changeset","changeId","header","getOperationContent","content","getOperations","collection","skipContent","requestBody","processCollection","colection","getBoundary","createBatchRequest","colections","batch","batchURL","headers","Content-Type","updated","destroyed","created","parseBatchResponse","responseText","responseMarkers","markerIndex","collections","changeBody","status","code","marker","jsonModel","models","passed","parse","schemas","odata","results","total","transports","jsonp","update","create","parameterMap","$inlinecount","$format","odata-v4","$count","ajax","success","response","responses","XmlDataReader","model","errors","serialize","modelBase","Model","fields","idField","xpathToMember","evaluate","modelInstance","record","_parse","xmlParse","xml","parseDOM","parsedNode","attributes","attributeCount","firstChild","nextSibling","intermediateResult","tree","parseXML","raw","readers","features","ASCENDING","CREATE","READ","UPDATE","DESTROY","SYNC","GET","ERROR","REQUESTSTART","PROGRESS","REQUESTEND","ITEMSLOADED","ITEMLOAD","crud","identity","o","objectKeys","ObservableObject","wrapAll","_loadPromises","_loadedNodes","at","serializeFunctions","json","object","isGroup","_loading","nodes","omitChangeEvent","howMany","children","thisArg","reduce","reduceRight","every","some","empty","Symbol","parentFn","_parent","eventHandler","_notifyChange","ownKeys","ignoreObjectKeys","filteredObjectKeys","getOwnPropertyNames","getPrototypeOf","_handlers","uid","shouldSerialize","f","_set","composite","paths","isSetPrevented","isObservableArray","isDataSource","equal","xtype","ytype","parsers","boolean","default","getFieldByName","fieldName","_initializers","dirtyFields","_defaultId","editable","accept","isNew","Comparer","originalName","functionFields","nullable","defaultValue","compare","localeCompare","combine","comparers","StableComparer","asc","valueA","valueB","__position","desc","operators","textOp","impl","ignore","accentFoldingFiltering","toLocaleLowerCase","op","getMatchRegexp","esc","doesnotstartwith","n","doesnotendwith","doesnotmatch","Query","normalizeSort","descriptor","descriptors","sortFields","sorts","sortObject","filterExpr","expressions","and","or","fieldFunctions","operatorFunctions","operatorMap","==","equals","isequalto","equalto","!=","ne","notequals","isnotequalto","notequalto","notequal","<","islessthan","lessthan","less","<=","le","islessthanorequalto","lessthanequal",">","isgreaterthan","greaterthan","greater",">=","isgreaterthanorequalto","greaterthanequal","ge","notsubstringof","normalizeOperator","normalizeFilter","compareDescriptor","f1","f2","normalizeDescriptor","fieldComparer","compareFilters","expr1","expr2","filters1","filters2","normalizeAggregate","normalizeGroup","skipItemSorting","aggregates","normalizeGroupWithoutCompare","anyGroupDescriptorHasCompare","groupDescriptors","groupValueComparer","calculateAggregate","accumulator","state","aggr","functionName","aggregate","functions","toArray","range","inPlace","orderBy","orderByDescending","comparer","compiled","predicate","group","allData","groupPaging","groupAllData","hasSubgroups","itemCount","subgroupCount","groupBy","_sortForGrouping","groupValue","_sortGroups","sum","isNumber","average","isDate","val","process","customGroupSort","query","groupDescriptorsWithoutCompare","normalizedSort","groupDescriptorsWithoutSort","filterCallback","flatGroups","groupDescriptor","virtual","LocalTransport","RemoteTransport","Cache","setup","parameters","operation","_store","clear","serializeRecords","getters","originalFieldNames","fieldNames","setters","convertRecords","convertGroup","wrapDataAccess","originalFunction","converter","wrapDataAccessBase","store","inmemory","DataReader","schema","dataFunction","_dataAccessFunction","groupsFunction","serializeFunction","serializeGetters","fromName","_wrapDataAccessBase","fillLastGroup","originalGroup","newGroup","currOriginal","currentNew","mergeGroups","dest","indexFunction","groupsLength","indexFn","groupIndex","itemIndex","flattenGroups","wrapGroupItems","eachGroupItems","func","replaceInRanges","ranges","replaceInRange","replaceWithObservable","serverGrouping","viewIndex","removeModel","indexOfPristineModel","indexOfModel","fieldNameFromModel","convertFilterDescriptorsField","convertDescriptorsField","_map","_prefetch","_data","_pristineData","_ranges","_view","_pristineTotal","_pageSize","_page","_sort","_sortFields","_filter","_group","_aggregate","_total","_groupPaging","_groupsState","_shouldDetachObservableParents","Transport","pushCreate","_pushCreate","pushUpdate","_pushUpdate","pushDestroy","_pushDestroy","offlineStorage","_storage","getItem","localStorage","setItem","reader","_detachObservableParents","_observe","_online","serverSorting","serverPaging","serverFiltering","serverAggregates","inPlaceSort","online","sync","resolve","offlineData","_isServerGrouped","_isServerGroupPaged","_isGroupPaged","_push","_readData","_flatData","useRanges","getByUid","_getByUid","_storeData","_addRange","_process","_observeView","insert","_createNewModel","_wrapInEmptyGroup","_insertModelInRange","pushInsert","rangeSpan","_getCurrentRangeSpan","pushed","autoSync","pristine","pristineData","_updatePristineForModel","_removeItems","removePristine","shouldRemovePristine","found","_eachItem","_removePristineForModel","pushMove","_moveItems","moved","hasGroups","_removeModelFromRanges","promises","_sendSubmit","_send","when","then","_accept","_syncEnd","_change","cancelChanges","_cancelModel","_changesCanceled","_markOfflineUpdatesAsDirty","__state__","hasChanges","serverGroup","_handleCustomErrors","_executeOnPristineForModel","_eachPristineItem","_pristineForModel","_modelCanceled","_submit","reject","_promise","converted","_params","_queueRequest","isPrevented","_dequeueRequest","_readAggregates","replaceSubset","_serverGroupsTotal","_aggregateResult","itemIds","_skip","endless","_changeHandler","updatePristine","timestamp","_timeStamp","outerStart","outerEnd","_sortRanges","_groupsFlat","_appendToGroupsFlat","_updateOuterRangesLength","_getGroupByUid","xhr","errorThrown","_requestInProgress","_pending","_shouldWrap","arrayType","_updateTotalForAction","_calculateAggregates","_take","currentRangeStart","_clearEmptyGroups","_queryProcess","dataToAggregate","_setView","_setFilterTotal","_mergeState","_currentRangeStart","remote","moreItemsCount","_hasExpandedSubGroups","_findGroupedRange","itemsLength","groupCount","itemsToSkip","taken","_fetchGroupItems","_fetchingGroupItems","skipped","includeParents","excludeHeader","currentItems","_expandedSubGroupItemsCount","includeCurrentItems","subGroup","endSpecified","temp","groupItemsSkip","firstItem","lastItem","groupItemCount","expandedSubGroupItemsCount","getGroupItems","notFetched","subgroups","_composeItemsFilter","findSubgroups","_timeout","_groupItemsSuccessHandler","totalField","totalCount","_updateRangePristineData","countAdded","_currentRequestTimeStamp","_skipRequestsInProgress","indexOfCurrentGroup","rangesLength","currentGroup","dataLength","indexes","currIdx","_containsSubGroup","_cloneGroup","subgroup","currentSubGroup","filterTotal","setDefaultValue","fetch","_query","next","totalPages","_pageableQueryOptions","getGroupsFlat","groupsTotal","includeExpanded","_calculateGroupsTotal","itemsField","ignoreState","_groupsTotal","countGroupRange","_emptyAggregates","ceil","inRange","_findRange","lastRange","firstItemUid","enableRequestsInProgress","pageSkip","_processRangeData","_originalPageSkip","_originalSize","_adjustPageSkip","_groupRangeExists","_rangeExists","prefetch","skipIdx","takeIdx","startIndex","endIndex","rangeData","rangeEnd","processed","flatData","groupMapOptions","prevRangeEnd","isGroupPaged","startField","endField","currentDataLength","_mergeGroups","_getRangesMismatch","mismatch","prevGroup","eventData","_omitPrefetch","paging","sorting","filtering","_prefetchSuccessHandler","_multiplePrefetch","prevRange","_getPrevRange","_getNextRange","availableItemsCount","_removeModelFromRange","_updateRangesLength","mismatchFound","mismatchLength","lengthDifference","rangeLength","inferSelect","firstField","secondField","optgroup","specified","inferTable","tbody","tBodies","rows","fieldIndex","fieldCount","cells","cell","transportOptions","Node","hasChildren","childrenField","childrenOptions","hasChildrenObject","_childrenOptions","_initChildren","_loaded","_updateChildrenField","append","loaded","level","_childrenLoaded","load","_matchFilter","dataMethod","_attachBubbleHandlers","_hierarchicalFilter","_childrenLoading","isLoading","_markHierarchicalQuery","_updateHierarchicalFilter","_find","inferList","list","textField","urlField","spriteCssClassField","imageUrlField","textChild","_dataSource","Buffer","viewSize","disablePrefetch","_prefetching","_reset","_syncWithDataSource","setViewSize","_recalculate","itemPresent","dataOffset","prefetchThreshold","midPageThreshold","nextMidRange","nextPageThreshold","nextFullRange","pullBackThreshold","previousMidRange","previousFullRange","_goToRange","nextRange","syncDataSource","prefetchOffset","expanding","_expanding","_syncPending","_firstItemUid","BatchBuffer","batchSize","batchBuffer","endreached","prefetching","prefetched","reset","binders","VALUE","SOURCE","EVENTS","CHECKED","CSS","deleteExpando","Binding","dependencies","_access","_parents","dependency","currentSource","EventBinding","TemplateBinding","Binder","bindings","binding","TypedBinder","parsedValue","_parseValue","dataSourceBinding","bindingName","_dataBinding","dataBinding","_dataBound","dataBound","_itemChange","itemChange","bindElement","_ns","removedItems","unbindElementTree","all","addedItems","hds","addedDataItems","multiselect","dropdowntree","Select","MultiSelect","DropDownTree","treeview","retrievePrimitiveValues","dataValueField","readonly","dataFormat","invisible","valueUpdate","_initChange","autoBind","valueField","cloneNode","reference","insertBefore","unbindElementChildren","checked","selectedIndex","selected","valuePrimitive","valueIndex","sourceValue","optionIndex","optionValue","check","_range","floatingLabel","_valueIsObservableObject","_valueIsObservableArray","_source","dataTextField","isObservableObject","valueLength","sourceItem","cascadeFrom","listView","bound","_preselect","oldValues","selectedNode","nonPrimitiveValues","_isMultipleSelection","_getAllChecked","old","removeIndex","newValue","arraySplice","selectedValue","gantt","_isBound","scheduler","grid","badge","addLength","oldLength","shifted","shiftedLength","BindingTarget","toDestroy","hasValue","hasSource","hasEvents","hasChecked","hasCss","widgetBinding","WidgetBindingTarget","specificBinders","applyBinding","binder","bindingTargetForRole","keyValueRegExp","whiteSpaceRegExp","parseBindings","token","colonIndex","createBindings","childrenCopy","unbindElement","dom","destroyWidget","bindingTarget","destroyWidgets","namespace","observableHierarchy","recursiveRead","scaleProperties","scale","scalex","scaley","scale3d","translateProperties","translate","translatex","translatey","translate3d","hasZoom","zoom","matrix3dRegExp","cssParamsRegExp","translateXRegExp","oldEffectsRegExp","singleEffectRegExp","unitRegExp","transformProps","transform2d","transform2units","rotate","skew","cssPrefix","BLANK","PX","NONE","AUTO","WIDTH","HEIGHT","HIDDEN","ORIGIN","ABORT_ID","OVERFLOW","TRANSLATE","POSITION","COMPLETE_CALLBACK","TRANSITION","TRANSFORM","BACKFACE","PERSPECTIVE","DEFAULT_PERSPECTIVE","TRANSFORM_PERSPECTIVE","transition","vertical","modifier","horizontal","stopQueue","animationProperty","transformValue","step","elem","curProxy","cur","parseInteger","parseCSS","acc","propertyName","strip3DTransforms","normalizeCSS","transformation","cssValues","lowerKey","isTransformed","exclusive","ease","mirror","redirectedEffect","resolved","$1","$2","effect","effectBody","oldKeys","timeoutID","stopTransitionCalled","stopTransition","speeds","merge","uniqueSort","unique","taskKeys","retainPosition","transform","computed","atan2","EffectSet","restore","run","jdx","childrenLength","setReverse","addRestoreProperties","prepare","effectName","restoreCallback","Effect","effectClass","effectSet","parsedEffects","capitalize","useTransition","show","multiple","single","isFixed","originalPosition","dX","dY","marginLeft","marginTop","_direction","_additionalEffects","_reverse","play","additional","_duration","compositeRun","_complete","shouldHide","word","createEffect","definition","opt1","opt2","opt3","theDirection","FOUR_DIRECTIONS","IN_OUT","createToggleEffect","defaultStart","defaultEnd","startValue","_startValue","endValue","_endValue","_shouldHide","startDataValue","startDataValueIsSet","divisor","tmp","previous","previousDivisor","slideIn","origin","margin","setLength","realLength","TRANSFER_START_STATE","CLIPS","outerBox","box","innerBox","currentScale","fillScale","transformOrigin","ROTATIONS","clipInHalf","_container","rotation","zIndex","_clipInHalf","clip","face","_face","temporary","reverseDirection","faceClone","backClone","staticPage","turningPage","transformStyle","RESTORE_OVERFLOW","IGNORE_TRANSITION_EVENT_SELECTOR","Animation","_before","_after","transitionClass","_previous","_transitionClass","beforeTransition","afterTransition","_both","_element","_containerClass","containerClass","completeProxy","isAbsolute","both","originalOverflow","_tickProxy","_tick","tick","onEnd","onCancel","Transition","timePassed","startDate","moveTo","movable","initial","_easeProxy","moveAxis","easeOutExpo","easeOutBack","inner","outer","fitScale","SCRIPT","TRANSITION_START","TRANSITION_END","SHOW","HIDE","ATTACH","DETACH","sizzleErrorRegExp","bodyRegExp","LOAD_START","LOAD_COMPLETE","SHOW_START","SAME_VIEW_REQUESTED","VIEW_SHOW","VIEW_TYPE_DETERMINED","AFTER","classNames","stretchedView","footer","View","renderOnInit","_createElement","wrapInSections","_renderSections","_wrap","_evalTemplate","evalTemplate","_useWithBlock","_fragments","detachOnHide","detachOnDestroy","notInitialized","_eachFragment","ViewClone","triggerBeforeShow","triggerBeforeHide","showStart","showEnd","hideEnd","detach","purge","fragments","getElementById","contents","replaceWith","_wrapper","_createContent","_createHeader","_createFooter","contentSelector","ccontentElements","contentElement","Layout","containers","_createContainer","showIn","ViewContainer","Fragment","attach","transitionRegExp","parseTransition","running","after","locationID","previousEntry","theTransition","transitionData","ViewEngine","sandbox","_hideViews","rootView","layouts","viewContainer","showView","remoteViewURLPrefix","_findViewElement","reload","_createView","urlPath","wrapInner","_locate","$angular","_findViewElementById","_createSpaView","_createMobileView","defaultTransition","loader","getLayout","getLayoutProxy","modelScope","viewOptions","NS","FLOATINGLABELCONTAINER","FOCUSED","STATEDISABLED","NOCLICKCLASS","STATEREADONLY","FloatingLabel","_editable","useReadOnlyClass","isJQueryPromise","isNativePromise","catch","signalr","hub","callbacks","_crud","server","INVALIDMSG","invalidMsgRegExp","INVALIDINPUT","VALIDINPUT","VALIDATIONSUMMARY","INVALIDLABEL","MESSAGEBOX","INPUTINNER","INPUTWRAPPER","ARIAINVALID","ARIADESCRIBEDBY","emailRegExp","urlRegExp","INPUTSELECTOR","CHECKBOXSELECTOR","NUMBERINPUTSELECTOR","BLUR","NAME","FORM","NOVALIDATE","VALIDATE","VALIDATE_INPUT","patternMatcher","matcher","hasAttribute","validator","allowSubmit","validateOnInit","resolveRules","resolvers","ruleResolvers","numberOfDecimalDigits","parseHtml","parseHTML","searchForMessageContainer","isLabelFor","SUMMARYTEMPLATE","Validator","validateAttributeSelector","_errorTemplate","errorTemplate","_summaryTemplate","validationSummary","_inputSelector","_checkboxSelector","_errors","_attachEvents","_isValidated","_validateOnInit","validate","required","email","dateCompare","captcha","noNameCheckbox","namedCheckbox","checkbox","radio","raise","isValidated","isValid","getCaptchaId","_validating","_checkElement","warn","validateOnBlur","_allowSubmit","stopImmediatePropagation","validateInput","inputs","invalid","showValidationSummary","valid","_checkValidity","lbl","_findMessageContainer","messageText","_extractMessage","messageLabel","wasValid","isInputInner","inputWrapper","lblId","_decorateMessageContainer","parentElement","prevElement","insertAfter","_inputWrapper","inputWrap","inputLabel","_inputLabel","errorId","_associateMessageContainer","hideMessages","_disassociateMessageContainers","labels","hideValidationSummary","locators","messageLocators","getElementsByTagName","locate","decorate","ruleKey","customMessage","nonDefaultMessage","_getInputNames","_errorsByName","inputNames","_renderSummary","_summaryClick","link","summary","errorsList","$window","draggables","dropTargets","dropAreas","lastDropTarget","KEYUP","DRAGSTART","DRAG","DRAGEND","DRAGCANCEL","HINTDESTROYED","DRAGENTER","DRAGLEAVE","DROP","numericCssPropery","within","containerBoundaries","minX","minY","maxX","maxY","checkTarget","targets","areas","theTarget","theFilter","targetLen","areaLen","targetElement","TapCapture","_press","_release","attachEvent","captureNext","cancelCapture","PaneDimension","forcedEnabled","measure","scrollSize","makeVirtual","_virtualMin","_virtualMax","virtualSize","outOfBounds","forceEnabled","getTotal","rescale","scaledTotal","minScale","centerOffset","PaneDimensions","forcedMinScale","maxScale","newScale","centerCoordinates","PaneAxis","dimension","dragMove","resistance","translateAxis","Pane","elastic","gesture","previousGesture","previousCenter","scaleDelta","coordinates","offsetX","offsetY","scaleWith","TRANSFORM_STYLE","Movable","webkitTransformOrigin","_saveCoordinates","by","scaleTo","newCoordinates","destroyDroppable","groupName","droppables","DropTarget","draggable","dropTarget","_over","_out","_drop","dropped","DropTargetArea","destroyGroup","_cache","Draggable","_activated","_drag","_cancel","_afterEndHandler","_afterEnd","_captureEscape","cursorOffset","holdToDrag","autoScroll","cancelHold","_updateHint","boundaries","hintOffset","hint","_shouldIgnoreTarget","ignoreSelector","currentTargetOffset","scopeTarget","scopeFrom","cursorElement","_elementUnderCursor","_cursorElement","_scrollableParent","findScrollableParent","_lastEvent","_processMovement","autoScrollVelocity","scrollableViewPort","_scrollCompenstation","_scrollVelocity","_scrollInterval","_autoScroll","_withDropTarget","compensation","yIsScrollable","xIsScrollable","isRootNode","scrollableRoot","yInBounds","xInBounds","initialTarget","mouseX","mouseY","rect","AUTO_SCROLL_AREA","utils","SNAPBACK_DURATION","SCROLLBAR_OPACITY","FRICTION","VELOCITY_MULTIPLIER","MAX_VELOCITY","OUT_OF_BOUNDS_FRICTION","ANIMATED_SCROLLER_PRECISION","RELEASECLASS","REFRESHCLASS","PULL","RESIZE","SCROLL","MOUSE_WHEEL_ID","ZoomSnapBack","tapCapture","DragInertia","freeze","_moveTo","paneAxis","_snapBack","velocityMultiplier","friction","snapBack","AnimatedScroller","_updateCoordinates","setCoordinates","setCallback","ScrollBar","controlsId","elementSize","scrollMovable","alwaysVisible","paneSize","sizeRatio","_ariaValue","visibility","_native","prepend","scrollElement","fixedContainer","avoidScrolling","velocityX","velocityY","horizontalSwipe","originatedFromFixedContainer","verticalSwipe","pane","zoomSnapBack","animatedScroller","scrollTo","mousewheelScrolling","_wheelScroll","pulled","_initAxis","_wheelEnd","_wheel","_wheelY","pullToRefresh","_initPullToRefresh","ctrlKey","_wheelTimeout","pullOffset","visibleScrollHints","pullTemplate","releaseTemplate","refreshTemplate","contentResized","_scale","zoomOut","animatedScrollTo","pullHandled","refreshHint","hintContainer","yinertia","xinertia","_paneChange","_dragEnd","elementId","scrollBar","advanced","HORIZONTAL","VERTICAL","RESIZEEND","Resizable","orientation","_positionMouse","_position","_sizingDom","draggableElement","drag","dragcancel","dragstart","dragend","_stop","_max","hintSize","_initialElementPosition","_min","_initialMousePosition","_maxPosition","_minPosition","maxPosition","minPosition","currentPosition","invalidClass","resizing","targetPosition","BEFORE_MOVE","ACTION_SORT","ACTION_REMOVE","ACTION_RECEIVE","DEFAULT_FILTER","MISSING_INDEX","containsOrEqualTo","defaultHint","defaultPlaceholder","Sortable","_createDraggable","connectWith","cursor","moveOnDragEnter","_dragcancel","_dragend","draggedElement","_placeholder","draggableEvent","before","_setCursor","_resetCursor","_findTarget","targetCenter","offsetDelta","axisDelta","sibling","getSibling","_movementByAxis","_getElementCenter","appendToBottom","_movePlaceholder","appendAfterHidden","_isFloating","draggedIndex","placeholderIndex","connectedList","connectedListEventData","oldIndex","newIndex","getKendoSortable","_findElementUnderCursor","has","sortable","_isEmpty","_isLastHidden","_searchConnectedTargets","connected","sortableInstance","_isCursorAfterLast","lastItemOffset","cursorPosition","_originalCursorType","_cursorStylesheet","isFloating","isTable","isHorizontalFlex","_items","not","ARIASELECTED","SELECTED","ACTIVE","SELECTABLE","UNSELECT","UNSELECTING","supportEventDelegation","Selectable","dragToSelect","_marquee","_lastActive","inputSelectors","ignoreOverlapped","addIdToRanges","_isElement","metaKey","selectedClass","whichCode","buttonCode","button","_allowSelection","selectRange","_firstSelectee","_unselect","_notify","_downTarget","currentElement","useAllItems","_selectElement","_invalidateSelectables","rangeSelectedAttr","_currentlyActive","toSelect","collision","_collidesWithActiveElement","marqueeRect","activeElements","elemRect","getBoundingClientRect","activeElementRect","tempRect","overlaps","selectElement","selectedRanges","rangeId","mapLocation","selectedSingleItems","preventNotify","aria","resetTouchEvents","continuousItems","elementPosition","firstRect","secondRect","selectable","selectableMode","mode","asLowerString","iconTemplate","svgIconTemplate","Badge","_content","_appearance","cutoutBorder","icon","Infinity","align","small","medium","large","shape","_classNames","_text","_template","_themeColor","_shape","_sizes","_fill","_cutoutBorder","_align","_visible","_updateClassNames","keepClassNames","sizeAbbr","iconTemplateFunction","_icon","color","HTMLBase","stylingOptions","_addClasses","outerHTML","KBUTTON","KBUTTONICON","KBUTTONTEXT","renderButton","HTMLButton","iconElement","_textElement","iconClass","spriteCssClass","imageUrl","span","img","isEmpty","newSpan","createTextNode","replaceChild","classList","CLICK","MOUSEDOWN","MOUSEUP","MOUSEOUT","DISABLED","DISABLEDSTATE","FOCUSEDSTATE","ACTIVESTATE","BUTTON_DEFAULTS","Button","_badge","_focus","_blur","_keydown","_removeActive","_addActive","_isNativeButton","err","badgeOptions","badgeEelement","K_POS","DOT","isString","bottomNavigationStyles","navIcon","itemFlow","border","templates","anchor","BottomNavigation","_updateCssClasses","_bindEvents","positionMode","cachedTabIndex","_itemFlow","orientationStyles","_toggleClassGroup","_renderItem","itemTemplate","isLink","elm","aria-disabled","encoded","clickProxy","keydownProxy","ev","_triggerSelect","_isItem","selectedItem","itemById","showText","textItems","FIRST","LAST","PREV","NEXT","SIZE","FOCUSABLE","KEYDOWN","MAX_VALUE","numeric","navigatable","selectOption","wrapClassName","Pager","sizeClassName","_createDataSource","linkTemplate","selectTemplate","currentPageTemplate","numericSelectItemTemplate","_refreshHandler","downEvent","previousNext","_numericWrap","_numericSelect","navigatalbe","pageButtonLabel","of","pageSizes","pageItems","allPages","itemsPerPage","DropDownList","pageSizeDropDownLabel","kendoDropDownList","_refreshClick","_numericSelectChange","_resizeHandler","_getWidthSizeClass","_navigatable","ARIATemplate","numericItemTemplate","buttonCount","responsive","morePages","setDataSource","reminder","selectHtml","collapsedTotal","_collapsedTotal","hasAll","selectAll","_restoreFocus","_excludeChildrenFromTab","_updateAria","_focusSelected","_focusMore","_restoreTabIndexes","_ariaTemplate","_keyDown","allFocusable","handled","focusedIndex","OPEN","CLOSE","DEACTIVATE","ACTIVATE","CENTER","TOP","BOTTOM","ABSOLUTE","BODY","LOCATION","VISIBLE","EFFECTS","ACTIVEBORDER","ACTIVEBORDERREGEXP","ACTIVECHILDREN","DOCUMENT_ELEMENT","WINDOW","Popup","parentPopup","collisions","_hovered","scrollArea","animation","open","_animationClose","_mousedownProxy","_mousedown","_resizeProxy","toggleTarget","toggleEvent","viewport","copyAnchorStyles","modal","adjustSize","omitOriginOffsets","_hideDirClass","_closing","_toggleResize","fixed","listbox","flipped","_openAnimation","_showDirClass","_location","dirClass","skipEffects","openEffects","closeEffects","popup","_resizeTimeout","_scrollableParents","_fit","viewPortSize","output","_flip","anchorSize","boxSize","isWindow","origins","positions","siblingContainer","parentZIndex","viewportOffset","viewportWidth","viewportHeight","siblings","pos","offsetParent","anchorParent","offsets","flipPos","elementHeight","wrapperHeight","verticalOrigin","horizontalOrigin","verticalPosition","horizontalPosition","anchorOffset","appendToOffset","anchorWidth","anchorHeight","tabKeyTrapNS","focusableNodesSelector","TabKeyTrap","trap","_keepInTrap","removeTrap","shouldTrap","_focusableElements","sortedElements","_sortFocusableElements","_nextFocusable","tabIndex","attrName","contentWindow","_haveSelectionRange","elementType","KNOTIFICATION","KICLOSE","KHIDING","INFO","SUCCESS","WARNING","WRAPPER","TEMPLATE","SAFE_TEMPLATE","Notification","_compileTemplates","_guid","_isRtl","_compileStacking","stacking","pinned","hideOnClick","allowHideAfter","autoHideAfter","kendoTemplate","_compiled","templateId","_defaultCompiled","_safeCompiled","_getCompiled","defaultCompiled","paddings","paddingTop","paddingRight","paddingBottom","paddingLeft","horizontalAlignment","_popupOrigin","_popupPosition","_popupPaddings","_attachPopupEvents","attachDelay","closeIcon","attachClick","_hidePopup","_showPopup","openPopup","_triggerHide","deactivate","_togglePin","pin","win","_attachStaticEvents","_hideStatic","_showStatic","insertionMethod","initializedNotifications","getNotifications","contentId","defaultArgs","typeIcon","closeButton","data-role","warning","openedNotifications","guidElements","DOCUMENT","ARIAIDSUFFIX","DESCRIBEDBY","CONTENTLOAD","KCONTENTFRAME","IFRAMETEMPLATE","POSITIONS","REVERSE","DIRCLASSES","DIMENSIONS","DEFAULTCONTENT","restoreTitle","restoreTitleAttributeForElement","saveTitleAttributeForElement","saveTitleAttributes","TooltipBase","_isShownOnMouseEnter","_showOn","showOn","showAfter","hideAfter","callout","_saveTitle","_show","_isShownOnClick","_isShownOnFocus","_positionCallout","elementOffset","offsetAmount","_offset","arrow","arrowWidth","isTopLeft","isFlipped","marginRule","_addDescribedBy","ariaId","describedBy","_removeDescribedBy","tooltipId","currentDescribedBy","arrayAttr","finalArray","finalDescribedbyAttr","_openPopup","Tooltip","_documentKeyDownHandler","_documentKeyDown","_mouseenter","autoHide","_mouseleave","_appendContent","contentOptions","showIframe","iframe","_ajaxRequest","successFn","contentLoading","_initPopup","activate","_closeButtonClick","_closePopup","TOOLBAR","OVERFLOW_BUTTON","TOGGLE_BUTTON","BUTTON_GROUP","SPLIT_BUTTON","SPLIT_BUTTON_ARROW","LIST_CONTAINER","ICON_BUTTON","KSEPARATOR","SPACER_CLASS","POPUP","RESIZABLE_TOOLBAR","STATE_SELECTED","STATE_DISABLED","STATE_HIDDEN","GROUP_START","GROUP_END","MENU_LINK","OVERFLOW_GROUP","OVERFLOW_HIDDEN","OVERFLOW_ANCHOR","OVERFLOW_CONTAINER","OVERFLOW_WRAPPER","FIRST_TOOLBAR_VISIBLE","LAST_TOOLBAR_VISIBLE","BUTTON_ROUNDED_MD","MENU_GROUP","ARIA_DISABLED","ARIA_PRESSED","TOGGLE","FOCUS","FOCUSIN","SPACER","BOTH","PRIMARY","HREF","ROLE","BUTTON","SEPARATOR","OVERFLOW_OPEN","OVERFLOW_CLOSE","OVERFLOW_NEVER","OVERFLOW_AUTO","OVERFLOW_ALWAYS","OPTION_LIST_SUFFIX","KENDO_UID_ATTR","POPUP_ITEM_TEMPLATE","MENU_LINK_SPAN","MENU_LINK_A","NOTHING","ID","components","toolbar","overflowAnchor","overflowContainer","Item","registerComponent","addOverflowAttr","addUidAttr","addIdAttr","addOverflowIdAttr","class","overflowHidden","isEnabled","twin","splitContainerId","resizable","useButtonTag","primary","togglable","addToGroup","clickHandler","toggleHandler","showIcon","propagate","getParentGroup","isChild","ToolBarButton","OverflowButton","ButtonGroup","createButtons","buttonConstructor","buttons","ToolBarButtonGroup","buttonGroup","OverflowButtonGroup","ToolBarMenuButton","ToolBarSplitButton","mainButton","arrowButton","popupElement","createMenuButtons","createPopup","main","splitButton","kendoPopup","li","altKey","findFocusableSibling","menuButtons","rootUid","actionSheetWrap","adjustPopupWidth","preventClick","computedWidth","fontFamily","min-width","OverflowSplitButton","ToolBarSeparator","separator","OverflowSeparator","ToolBarSpacer","TemplateItem","OverflowTemplateItem","toggleActive","candidate","Group","ToolBar","_groups","isMobile","_renderOverflow","overflowUserEvents","_toggleOverflow","_shrink","_buttonClick","release","_toggleOverflowAnchor","component","tool","itemClasses","overflowTemplate","overflowTool","_getItem","toolbarItem","overflowItem","isResizable","buttonGroupInstance","getSelectedFromGroup","horizontalDirection","isComplexTool","hasVisibleChildren","paddingEnd","splitContainer","isSplitButtonArrow","urlTarget","_toggle","lastHasFocus","firstHasFocus","isOnlyOverflowAnchor","lastItemNotOverflowAnchor","isFirstTool","prevFocusable","_getPrevFocusable","_preventNextFocus","isOverflowAnchor","_getNextElement","directionNumber","searchIndex","focusableItem","elementToFocus","prevElements","prevAll","containerWidth","_stretch","_markVisibles","_childrenWidth","childrenWidth","commandElement","visibleCommands","_hideItem","hiddenCommands","_showItem","itemOuterWidth","overflowItems","toolbarItems","visibleOverflowItems","visibleToolbarItems","percentageUnitsRegex","HOVER","KSELECTED","LOADING","LIST","TABLE","DATA_TABLE","TABLE_MD","LIST_UL","TABLE_LIST","FIXED_GROUP_HEADER","GROUP_LABEL","ITEMSELECTOR","CASCADE","MOUSELEAVE","MOUSEENTER","DATA_BINDING","DATA_BOUND","SELECTED_ITEM_CHANGE","FOCUSOUT","HIDDENCLASS","TEXT","isIE","quotRegExp","alternativeNames","ComboBox","MultiColumnComboBox","UL_EL","LIST_EL","NO_DATA_EL","LIST_FOOTER_EL","TABLE_FOOTER_EL","LIST_SUFFIX","LISTBOX_SUFFIX","ARIA_ACTIVEDESCENDANT","ARIA_AUTOCOMPLETE","ARIA_CONTROLS","ARIA_LIVE","ARIA_EXPANDED","ARIA_HIDDEN","ARIA_BUSY","ARIA_MULTISELECTABLE","ARIA_SELECTED","GROUP_ROW_SEL","List","_isSelect","_listSize","ul","aria-hidden","columns","_columnsHeader","_header","_noData","_footer","_accessors","_initValue","footerTemplate","headerTemplate","noDataTemplate","noData","_renderFooter","_renderNoData","_focused","_angularElement","columnsHeader","colGroup","row","currentColumn","columnsHeaderTemplate","currentWidth","currentWidthInt","widthStyle","footerEl","_listOptions","changeEventOption","_listChange","listBoundHandler","_listBound","focusedElm","labelledBy","_activateItem","_deactivateItem","groupTemplate","fixedGroupTemplate","listSize","_initList","listOptions","selectedItemChange","StaticList","VirtualList","_setListValue","_updateSelectionState","_listMousedown","filterInput","_isFilterEnabled","_hideClear","_clear","_showClear","_clearValue","_clearText","_accessor","_customOption","enforceMinLength","highlightFirst","_clearFilter","_filterSource","isMultiColumnFiltering","filterFields","resetPageSettings","removed","removeFiltersForField","_clearFilterExpressions","newExpression","_pushFilterExpression","isValidFilterExpr","_cascading","setDSFilter","dataSourceState","filtersToRemove","_toggleNoData","_toggleHeader","groupHeader","_allowOpening","_old","_ignoreCase","widgetOptions","fromFilter","_buildExpression","_open","_clearButton","clearTitle","clearButton","_inputValue","_typingTimeout","minLength","_state","_emptySearch","_searchByWord","_unbindDataSource","_form","_resetHandler","selectedDataItems","_value","_aria","autocomplete","suggest","aria-owns","aria-controls","_userTriggered","_isValueChanged","unifyType","_valueBeforeCascade","_oldIndex","isFiltered","_typing","typing","_enable","_dataValue","_offsetHeight","_height","isMccb","offsetTop","popups","_openHandler","_adjustListWidth","borderLeftWidth","borderRightWidth","autoWidth","minWidth","whiteSpace","_closeHandler","_focusItem","noFocusedItem","scrollToIndex","_calculateGroupPadding","padding","_calculatePopupHeight","_calculateColumnsHeaderPadding","_refreshScroll","enableYScroll","overflowX","overflowY","_resizePopup","_popup","_toggleHover","preventFocus","touchEnabled","MSPointers","_prevent","_triggerCascade","_cascadeTriggered","_cascadedValue","userTriggered","_triggerChange","_requestStartHandler","_requestEndHandler","_errorHandler","requireValueMapper","valueMapper","_initial","_initialIndex","_current","_parentWidget","_cascadeSelect","_cascadeValue","_accessorInput","_accessorSelect","getSelectedOption","_custom","_syncValueAndText","custom","_hideBusy","_busy","_arrowIcon","_showBusy","_request","_requestEnd","_firstItem","focusFirst","_lastItem","focusLast","_nextItem","focusNext","_prevItem","focusPrev","_getNormalizedDataItem","isIndex","hasOptionLabel","optionLabel","getElementIndex","dataItemByIndex","_getNormalizedSelectCandidate","normalizedCandidate","isVirtual","moveIndex","selectCandidate","_fetch","_get","activeFilter","shouldTrigger","_focusElement","focusout","scrollWith","_fetchData","hasItems","_options","htmlElement","dataText","dataValue","formId","_cascade","cascade","_cascadeHandlerProxy","_cascadeHandler","_cascadeFilterRequests","_selectedValue","_toggleCascadeOnFocus","valueBeforeCascade","_clearSelection","_cascadeChange","filterValue","cascadeFromParentField","cascadeFromField","currentHandler","STATIC_LIST_NS","_touchHandlers","thead","_optionID","_selectedIndices","_dataItems","_values","_getter","_templates","_createOnScrollProxy","_fixedHeader","startY","endY","tapPosition","_touchTriggered","_triggerClick","_render","_scrollId","scroll","itemOffsetTop","itemOffsetHeight","contentScrollTop","contentOffsetHeight","bottomDistance","_getValues","_valueGetter","hasCandidate","focusIndex","skipUpdate","_skipUpdate","indices","singleSelection","selectedIndices","uiSelectedIndices","added","filtered","_deselectFiltered","_deselect","_valueComparer","removeAt","setValue","_valueDeferred","_valueIndices","onScrollProxy","_renderHeader","_onScroll","_valueExpr","normalized","_valueType","_dataItemPosition","valueExpr","removedIndices","templateText","_normalizeIndices","newIndices","_firstVisibleItem","itemHeight","lastChild","previousSibling","isGrouped","visibleItem","notFirstItem","hasColumns","altRow","isLastGroupedItem","_renderColumns","dataContext","_selected","_lastDSFilter","skipUpdateOnBind","isItemChange","mapChangedItems","changed","unchanged","_bound","itemsToMatch","selectedLength","extractFormat","transitionOrigin","cellTemplate","emptyCellTemplate","otherMonthCellTemplate","weekNumberTemplate","KEYDOWN_NS","MIN","SLIDE","MONTH","CENTURY","NAVIGATE","OTHERMONTH","OUTOFRANGE","TODAY","CELLSELECTOR","CELLSELECTORVALID","WEEKCOLUMNSELECTOR","FOCUS_WITH_NS","MOUSEENTER_WITH_NS","PREVARROW","NEXTARROW","DATE","decade","century","HEADERSELECTOR","CLASSIC_HEADER_TEMPLATE","MODERN_HEADER_TEMPLATE","Calendar","disableDates","getDisabledExpr","_selectable","_viewWrapper","hasFooter","_today","mousetoggle","toDateObject","_focusView","focusOnNav","_setCurrent","_selectDates","_index","restrictValue","_addClassProxy","_active","_cell","todayString","toDateString","getToday","_cellByDate","_removeClassProxy","selectDates","dates","depth","weekColumnHeader","classic","linksSelector","contentClasses","modern","_destroySelectable","_title","_table","_bindTable","_option","navigateToPast","navigateToFuture","navigateUp","navigateDown","isEqualDate","_oldTable","future","currentView","viewWrapper","_changeView","otherMonth","isWeekColumnVisible","addClassToViewContainer","_animate","_visualizeSelectedDatesInView","_selectCell","validSelectedDates","datesUnique","_validateValue","createDate","isInRange","selectedDates","selectableOptions","_onSelect","_onRelatedTarget","eventArgs","_toggleSelection","_cellsBySelector","_addSelectedCellsToArray","_rangeSelection","currentCell","toDateCell","fromDate","toDate","daysDifference","daysBetweenTwoDates","addDaysToArray","currentDateIndex","_dateInView","firstDateInView","lastDateInView","_isNavigatable","cellIndex","isDisabled","prevent","_keyboardToggleSelection","focusedDate","_nextNavigatable","_keyboardRangeSelection","navigatableDate","active","_horizontal","viewWidth","float","margin-left","unwrap","_vertical","_selectedCell","actionAttr","_todayClick","firstDayCurrentMonth","isBigger","isEqualMonth","isTodayDisabled","todayClass","_todayClass","ariaTemplate","valueType","firstVisibleDay","calendarInfo","tzOffsetBefore","resultDATE","tzOffsetDiff","getCalendarInfo","navigateUrl","showHeader","hasUrl","currentCalendar","firstDayIdx","shiftArray","shortNames","perRow","build","linkClass","dateString","weekNumberBuild","date1","date2","month1","year1","month2","year2","setMonth","minYear","maxYear","modular","cellsPerRow","otherMonthTemplate","multiplier","endDate","fromDateUTC","endDateUTC","numberOfDays","dateObject","isEqualDatePart","value1","value2","createDisabledExpr","convertDatesArray","disabledDates","searchExpression","oldValue","viewsEnum","INPUT_EVENT_NAME","STATEINVALID","READONLY","knownSymbols","DateInput","wrapperClass","skipWrapping","_validationIcon","weekday","hour","minute","second","dayperiod","_unbindInput","_bindInput","_updateElementValue","_formElement","_dateTime","getDateObject","customDateTime","_oldValue","stringAndFromat","toPair","_oldText","_format","_paste","_input","_mouseUp","_scroll","blinkInvalid","approximateStringMatching","navigationOnly","parsePart","_selectSegment","difSym","newEvent","_blinkInvalidState","_addInvalidState","_invalidStateTimeout","_removeInvalidState","_selectNearestSegment","returnValue","initialValue","interval","modifyPart","keycode","begin","initDate","initFormat","initCulture","initMessages","typedMonthPart","typedDayPeriodPart","placeholders","returnsFormat","mins","formatResult","generateMatcher","retFormat","setExisting","getValue","newMonth","setMinutes","setSeconds","currentChar","lastDateOfMonth","newHours","monthNames","newYear","newMinutes","newSeconds","sampleFormat","oldText","oldFormat","newText","oldTextSeparator","deletedSymbol","DIV","SPAN","HOVEREVENTS","MAX","ARIA_READONLY","parseFormats","DateView","omitPopup","dateDiv","_dateViewID","DatePicker","_calendar","_setOptions","popupHovered","selectIsClicked","disabledDate","_initialOptions","dateView","_updateARIA","aria-expanded","aria-haspopup","_createDateInput","_update","dateInput","_dateIcon","_dateInput","_navigateCalendar","eventType","dateChanged","valueUpdated","textFormatted","isSameType","formattedValue","optionsValue","LIST_CONTENT","TABLE_CONTENT","HEADER","LIST_ITEM","TABLE_ITEM","HEIGHTCONTAINER","GROUPITEM","LISTBOUND","ITEMCHANGE","VIRTUAL_LIST_NS","lastFrom","isPrimitive","getItemCount","listScreens","getDefaultItemHeight","mockList","lineHeight","bufferSizes","opposite","listValidator","downThreshold","upThreshold","lastScrollTop","scrollCallback","syncList","reorder","webkitTransform","map2","arr1","arr2","reshift","placeholderTemplate","renderColumns","isActivePromise","_fetching","_selectedDataItems","_selectedIndexes","_rangesList","_promisesList","_renderItems","_triggerListBound","oppositeBuffer","mapValueTo","itemClass","_selectProxy","_clean","_deferValueSet","mute","_selectingValue","_highlightSelectedItems","_getElementByDataItem","_mute","_createList","_removeSelectedDataItem","valueGetter","_forcePrefetch","shouldClear","_prefetchByValue","_checkValuesOrder","_removedAddedIndexes","dataView","_dataView","forSelection","mapValueToIndex","mapValueToDataItem","_getIndecies","deferredRange","defs","low","high","pages","existingRange","isEmptyList","_activeDeferred","_getSkip","_findDataItem","_getRange","triggerEvent","_getElementByIndex","_focusedIndex","_getElementLocation","_screenHeight","heightContainer","initialIndices","prefetchStarted","isAlreadySelected","_selectDeferred","_deselectCurrentValues","_listCreated","_lastScrollTop","hasData","setScreenHeight","yPosition","yDownPostion","screenEnd","_generateItems","minHeight","_saveInitialRanges","_buildValueGetter","_setHeight","getList","_listItems","_whenChanged","_reorderList","currentHeight","padHeight","lastRequestedRange","lastRangeStart","rangeStart","_getterDeferred","firstItemIndex","_indexConstraint","flatGroup","groupLength","currentVisibleGroup","firstVisibleDataItemIndex","firstVisibleDataItem","firstVisibleGroup","fixedGroupText","_itemMapper","listType","currentIndex","_currentGroup","_getDataItemsCollection","_listIndex","theValidator","theNew","currentOffset","list2","range2","_bufferSizes","buffers","_clickHandler","elementIndex","selectedIndexes","removedindexesCounter","_deselectSingleItem","oldSkip","placeholderSupported","AUTOCOMPLETEVALUE","indexOfWordAtCaret","caretIdx","wordAtCaret","replaceWordAtCaret","defaultSeparator","words","AutoComplete","_loader","_keypress","_search","_prev","_resetFocusItemHandler","_resetFocusItem","_toggleCloseVisibility","_progressHandler","_separator","_unifySeparators","_last","wordIndex","isActive","_touchScroller","_muted","_selectValue","_defaultSeparator","itemSelected","DOMelement","nsFocusEvent","CLICKEVENTS","STATE_FILTER","STATE_ACCEPT","MSG_INVALID_OPTION_LABEL","_focusHandler","_focusInputHandler","_focusInput","_optionLabel","_inputTemplate","_word","_span","_mobile","_filterHeader","_attachFocusHandlers","_attachAriaActiveDescendant","_textAccessor","_optionLabelText","valueTemplate","optionLabelTemplate","filterTitle","_arrow","_resizeFilterInput","_focusFilter","originalPrevent","isInputActive","_optionLabelDataItem","loweredText","valueFn","_valueSetter","_assignInstance","_buildOptions","optionLabelValue","initialIndex","_presetValue","_filterPaste","_focusinHandler","_focusoutHandler","isIFrame","self","_wrapperMousedown","_wrapperClick","dropDownWrapper","isPopupVisible","_getElementDataItem","_matchText","_shuffleData","splitIndex","optionDataItem","_selectNext","isInLoop","sameCharsOnly","oldFocusedItem","normalizeIndex","character","charCode","_popupOpen","compareElement","jQueryCandidate","_resetOptionLabel","focusedItem","additionalClass","keepState","filterTemplate","aria-label","aria-autocomplete","SELECTOR","arrowBtn","accesskey","unselectable","optionLabelText","getElements","assign","STATE_REBIND","newLineRegEx","NON_PRINTABLE_KEYS","_attachFocusEvents","_setText","syncValueAndText","_pasteTimeout","hasText","isCustom","_inputFocus","_inputFocusout","_arrowClick","isClearButton","_inputPaste","reinitialized","_scrollToFocusedItem","_updateSelection","hasInitialIndex","_updateItemFocus","isFirstPage","_setDomInputValue","currentCaret","caretStart","preventShow","accessKey","maxLength","isFkey","isNonPrintableKey","renderChip","HTMLChip","iconAttr","removable","removableAttr","removeIcon","renderChipList","HTMLChipList","A","CHIP","ACCEPT","FILTER","REBIND","DESELECT","FOCUSEDCLASS","SELECTEDCLASS","HOVERCLASS","_optionsMap","_customOptions","_tagList","_textContainer","_arrowButton","_tagID","tagList","_initialOpen","_ariaSetLive","_tagTemplate","tagMode","autoClose","singleTag","deleteTag","downArrow","maxSelectedItems","tagTemplate","persistTagList","currentTag","_currentTag","aria-live","aria-multiselectable","_selectedItemChange","_initialValues","optionsMap","tagTextTemplate","notInput","removeButton","cancelable","_removeTag","tag","customIndex","listViewChildren","listViewChild","_close","_updateTagListHTML","_tagListClick","_clearSingleTagValue","tags","_retrieveData","_activeItem","listViewFilter","listViewFilterValue","inputValue","clearFilters","_normalizeValues","_setOption","isEmptyArray","_getActiveItem","_getSelectedIndices","activeItemIdx","_multipleSelection","_selectRange","activeIndex","_showBusyHandler","skipCaret","caretPos","selectedItems","_buildSelectedItems","_selectedItemIndex","_angularTagItems","updatePersistTagList","removedItem","addedItem","_maxTotal","maxTotal","currentTotal","isSelected","indicesToSelect","selectIndices","hasDataSource","isMultiple","defaultTemplate","arrowTitle","computedStyles","namedColors","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","matchNamedColor","colorNames","regexp","BaseColor","toHSV","toRGB","toHex","toBytes","toCss","toCssRgba","rgb","toDisplay","parseColor","other","NaN","c1","c2","r","Bytes","RGB","ref","h","HSV","toHSL","l","HSL","hex","alpha","p","q","hue2rgb","alphaFromHex","DARK_TRESHOLD","Color","this$1","resolvedColor","resolveColor","formatRegex","re","processor","channels","normalizeByte","padDigit","brightness","percBrightness","isDark","fromBytes","fromRGB","fromHSV","fromHSL","MOUSE_DOWN","TRACK_MOUSE_DOWN","MOUSE_UP","TRACK_MOUSE_UP","MOVE_SELECTION","KEY_DOWN","MOUSE_OVER","DRAG_HANDLE","TRACK_SELECTOR","TICK_SELECTOR","STATE_FOCUSED","ARIA_VALUETEXT","ARIA_VALUENOW","SliderBase","_isHorizontal","_sizeFn","_outerSize","tooltip","smallStep","_createHtml","_trackDiv","_maxSelection","_sliderItemsInit","rtlDirectionSign","_keyMap","37","40","39","38","35","36","33","largeStep","34","tickPlacement","_distance","_refresh","sizeBetweenTicks","pixelWidths","_calculateItemsWidth","removeFraction","createSliderItems","_setItemsTitle","_calculateSteps","_setItemsLargeTick","titleNumber","valueWithoutFraction","itemsCount","trackDivSize","preciseItemsCount","pixelStep","itemWidth","_roundWidths","pixelWidthsArray","balance","_addAdditionalSize","additionalSize","_pixelSteps","_getValueFromPosition","mousePosition","draggableArea","halfStep","startPoint","_getFormattedValue","tooltipTemplate","_getDraggableArea","endPoint","formatValue","createWrapper","showButtons","createButton","createTrack","_firstHandleDrag","_activeHandle","_lastHandleDrag","_activeHandleDrag","_updateTooltip","_focusWithMouse","_setTooltipTimeout","_removeTooltip","_tooltipTimeout","_clearTooltipTimeout","tooltipDiv","_formResetHandler","isHorizontal","orientationCssClass","cssClasses","tickPlacementCssClass","buttonCssClass","dragHandleCount","firstDragHandleTitle","leftDragHandleTitle","dragHandleTitle","elementValue","minElementValue","maxElementValue","rightDragHandleTitle","stepValue","calculatePrecision","power","parseAttr","defined","Slider","dragHandle","_selection","Selection","Drag","_refreshAriaAttr","increaseButtonTitle","decreaseButtonTitle","newVal","_nextValueByIndex","_valueIndex","_setValueInRange","mouseDownHandler","timer","_clearTimer","_tooltipDiv","RangeSlider","moveSelection","selectionValue","selectionDiv","rtlCorrection","owner","_activeDragHandle","_setZIndex","oldVal","_createTooltip","wnd","calloutCssClass","tooltipInnerDiv","_scrollOffset","moveTooltip","slideParams","constrainValue","noAnimation","fadeOut","dragHandles","sdhOffset","viewPortEnd","maxOverflow","firstInput","secondInput","selectionStartValue","selectionEndValue","dragSelectionStart","dragSelectionEnd","activeHandleDrag","selectionStartIndex","selectionEndIndex","makeSelection","selectionPosition","INPUT","LABELCLASSES","TextBox","_label","_floatingLabelContainer","_focusin","_focusout","floating","labelText","DOMElement","SPIN","TOUCHEND","SYMBOL","CLASS_ICON","INTEGER_REGEXP","NumericTextBox","isStep","inputType","_arrows","_validation","selectValue","factor","restrictDecimals","spinners","selectOnFocus","upArrowText","downArrowText","_toggleText","_upArrowEventHandler","_downArrowEventHandler","_spin","_upArrow","_downArrow","_keyup","_inputHandler","aria-valuemin","aria-valuemax","_arrowsWrap","adjusted","_adjust","arrows","_spinning","buttonHtml","_focusing","groupRegExp","extractRegExp","caretPosition","_getFactorValue","_culture","_numPadDot","_step","_cachedCaret","decimalSeparator","minInvalid","_isPasted","_numericRegex","fractionRule","_floatRegExp","originalValue","rounder","truncate","isNotNull","ColorSelector","_tabIndex","_ariaId","_standalone","_updateUI","_onEnable","nohooks","_selectOnHide","colorpicker","AA_CONTRAST","AAA_CONTRAST","STEP_COUNT","getContrast","luminance1","luminance2","brightest","darkest","getContrastFromTwoRGBAs","getLuminance","getRGBFromRGBA","foregroundColor","backgroundColor","r1","fitIntoBounds","b1","r2","g2","b2","contender","isPresent","renderSvgCurveLine","gradientRectMetrics","hsva","findValue","contrast","saturation","mid","currentHsva","currentContrast","getColorFromHSV","reversedComparer","getPaths","stepCount","reversed","points","bezierCommandCalc","bezierCommand","controlPoint","line","svgPath","reducer","point","controlPointCalc","cps","cpe","lineCalc","smooth","angle","PI","cos","sin","pointA","pointB","lengthX","lengthY","hue","contrastToolUtils","KEYS","BACKGROUNDCOLOR","WHITE","BLACK","ColorInput","_viewModel","switchMode","keydown","_color","_preventChangeEvent","currentFormat","_tryParseColor","textbox","ColorGradient","previewInput","_hueElements","_colorgradientInputs","_contrastTool","_sliders","_hsvArea","_colorInput","contrastTool","contrastRatio","pass","toggleFormat","_hueSlider","_opacitySlider","_hsvRect","hueSlider","opacitySlider","hueChange","_getHSV","kendoSlider","slide","opacityChange","hsvRect","hsvHandle","rw","rh","_svChange","_hsvEvents","_hsvHandle","setBackgroundColor","_updateColorContrast","dontChangeInput","_updateHsv","_resetHsv","_resetColorContrast","contrastOptions","contrastRatioTemplate","labelTemplate","ratio","limit","_updateContrastSvg","svgClassName","metrics","newSvg","handlePosition","_selectedColor","_colorAsText","ITEMSELECTEDCLASS","ITEMSFOCUSEDCLASS","SIMPLEPALETTE","WEBPALETTE","CLICK_NS","BLUR_NS","relative","ColorPalette","palette","_selectedID","tileSize","ex","MESSAGES","NO_COLOR","PREVIEW_MASK","VIEWS","gradient","FlatColorPicker","autoupdate","_previousColor","_viewsContainer","_setViewSize","_clearColor","viewButton","preview","noColor","clearColor","_updatePreviousColor","selectedColor","hsvColor","_cachedHue","dontChangeView","previewWidth","previewHeight","previewColumns","setProperty","buttonOptions","ColorPicker","_buttonHtml","_selector","closeOnSelect","toolIcon","_getPopup","selOptions","_noColorIcon","_isInputTypeColor","dontChangeSelector","selectorType","selectorWrapper","clickedOutside","MouseEvent","ToggleInputBase","_initSettings","RENDER_INPUT","inputMethod","renderCheckBox","HTMLCheckBox","renderRadioButton","HTMLRadioButton","HTMLInput","labelPosition","inputClass","labelEl","labelClass","wrapperHtml","CheckBox","nameSpecialCharRegExp","ERRORTEMPLATE","EQUAL_SET","specialRules","fieldType","convertToValueBinding","bindAttr","isAntiForgeryToken","Editable","antiForgeryTokenName","createAttributes","validation","ruleName","DATATYPE","BINDING","stringRule","attributeName","addIdAttribute","convertItems","getEditorTag","checkboxes","kendoEditors","editors","mobileEditors","addValidationRules","modelField","renderHiddenForMvcCheckbox","addHidden","shouldRenderHidden","_isMobile","_validateProxy","_validate","kendoNumericTextBox","kendoDatePicker","kendoTextBox","kendoCheckBox","kendoEditor","editor","editorOptions","tagElement","clearContainer","skipFocus","isObject","isValuesEditor","isHidden","isCustomEditor","isKendoEditor","preventChangeTrigger","_validationEventInProgress","bindAttribute","bindingRegex","validatable","modelFields","KENDO_KEYDOWN","DATABOUND","DATABINDING","EMPTY_STRING","FOCUSSELECTOR","KEDITITEM","PAGER_CLASS","ITEM_CLASS","ARIA_SETSIZE","ARIA_POSINSET","ARIA_ROLE","EDIT","REMOVE","SAVE","TOUCHSTART","ListView","_itemId","_layout","_setContentHeight","_pageable","_crudHandlers","_scrollable","pageable","altTemplate","editTemplate","contentTemplate","bordered","borders","layout","flex","scrollable","_item","_bindScrollable","_progress","_error","elementClassNames","contentClassNames","contentPadding","cols","rowHeight","gutter","endlessAppend","_endlessFetchInProgress","_skipRerenderItemsCount","_destroyEditable","_ariaAttributes","_focusNext","_ariaLabelValue","pagerWrap","pager","pagerId","multi","overflow-y","-webkit-overflow-scrolling","originalPageSize","_endlessPageSize","_scrollTo","UseJQueryoffset","scrollDirectionFunc","elementDimension","containerScrollAmount","containerDimension","clickCallback","canHandle","isTextBox","editItem","focusAgain","edit","clearSelection","_modelFromElement","_closeEditable","kendoEditable","touchstartNs","clickNs","kendoAttr","DASH","SPACE","HASH","KENDO_LISTBOX","DISABLED_STATE_CLASS","SELECTED_STATE_CLASS","ENABLED_ITEM_SELECTOR","ENABLED_ITEMS_SELECTOR","TOOLBAR_CLASS","TOOL_SELECTOR","FOCUSED_CLASS","DRAG_CLUE_CLASS","DROP_HINT_CLASS","LIST_CLASS","LIST_SELECTOR","ADD","REORDER","MOVE_UP","MOVE_DOWN","TRANSFER_TO","TRANSFER_FROM","TRANSFER_ALL_TO","TRANSFER_ALL_FROM","DRAGGEDCLASS","UNIQUE_ID","COMMAND","MOVE_UP_OFFSET","MOVE_DOWN_OFFSET","TOOLBAR_POSITION_CLASS_NAMES","getSortedDomIndices","isUndefined","ListBox","_list","_getList","_createToolbar","_createNavigatable","_listTabIndex","_destroyToolbar","_target","_draggable","dropSources","tools","moveUp","moveDown","transferTo","transferFrom","transferAllTo","transferAllFrom","_unbindDataChange","_addItem","_bindDataChange","_bindDataSource","_syncElement","itemContent","_setItemId","_addItemAt","_insertElementAt","_getTabIndex","oldTarget","activeEl","isContained","isInputElement","_getNavigatableItem","nextAll","_scrollIntoView","shouldPreventDefault","_shiftSelecting","_executeCommand","elementNode","listBox","_searchConnectedListBox","connectedListBox","originalElement","closestContainer","getKendoListBox","draggableOptions","draggedItem","_updateToolbar","_updateAllToolbars","dataItemAtIndex","itemAtIndex","listItem","_removeElement","listItems","_getItems","_removeItem","uniqueIdAttr","enabledItems","_enableItem","_dataChangeHandler","_innerWrapper","_setItemIds","viewLength","toolbarOptions","toolbarInsertion","toolbarElement","commandName","CommandFactory","execute","_updateToolStates","listBoxElements","elementsLength","_commands","commandType","ListBoxCommand","getItems","canExecute","RemoveItemsCommand","MoveItemsCommand","moveItems","indecesInDom","movedItems","itemComparer","moveAction","movedItem","item1","item2","indexItem1","indexItem2","MoveUpItemsCommand","domIndices","MoveDownItemsCommand","TransferItemsCommand","sourceListBox","getSourceListBox","destinationListBox","getDestinationListBox","updatedSelection","getUpdatedSelection","updateSelection","itemFilter","lastEnabledItem","containsLastItem","itemToSelect","TransferItemsToCommand","TransferItemsFromCommand","TransferAllItemsToCommand","TransferAllItemsFromCommand","_initTemplates","_createTools","_attachEventHandlers","_detachEventHandlers","toolsLength","toolsMessages","toolList","_createToolList","defaultTools","_onToolClick","_executeToolCommand","_updateToolState","toolName","toolElement","loaderClasses","canvas","segment","loaderTypes","pulsing","segments","infinite-spinner","converging-spinner","Loader","typeData","_type","TEXTAREACONTAINER","TextArea","_applyAttributes","PASTE","stringDiffStart","str1","str2","MaskedTextBox","_rules","_tokenize","_emptyMask","_togglePrompt","_timeoutId","_maskLength","clearPromptChar","unmaskOnPost","promptChar","0","9","#","L","?","&","C","_submitHandler","unmasked","_unmask","emptyMask","_mask","_unmaskedValue","_trackChange","_legacyIEInputHandler","__changing","inputChange","backward","lengthDiff","__dropping","contentStart","endContent","_trimStartPromptChars","_findCaretPosBackwards","__backward","__pasting","chrIdx","chr","tokenIdx","tokensLength","maskChars","DELAY","SCROLLSPEED","excludedNodesRegExp","IMG","MENU","LINK","LINK_SELECTOR","ICON_SELECTOR","TIMER","IMAGE","ZINDEX","POINTERDOWN","allPointers","MOUSEWHEEL","SCROLLWIDTH","SCROLLHEIGHT","OFFSETWIDTH","OFFSETHEIGHT","POPUP_ID_ATTR","POPUP_OPENER_ATTR","KENDOPOPUP","HOVERSTATE","SELECTEDSTATE","menuSelector","groupSelector","animationContainerSelector","popupSelector","allItemsSelector","disabledSelector","itemSelector","availableItemsSelector","linkSelector","exclusionSelector","templateSelector","scrollButtonSelector","touchPointerTypes","imageAttr","rendering","wrapperCssClass","firstLevel","itemCssAttributes","imageCssAttributes","imgAttributes","contentCssAttributes","contentAttr","defaultClasses","textClass","arrowClass","groupAttributes","expanded","groupCssClass","getEffectDirection","parseDirection","updateItemClasses","omitWrap","updateArrow","updateFirstLast","arrowCssClass","getArrowCssClass","updateHasAriaPopup","parentLi","getParentLiItems","storeItemSelectEventHandler","selectHandler","getItemSelectEventHandler","setItemData","popupOpenerSelector","popupGroupSelector","getChildPopups","currentPopup","overflowWrapper","childPopupOpener","opener","popupId","popupParentItem","itemPopup","overflowMenuParents","getParents","mousewheelDelta","parentsScroll","scrollDirection","isPointerTouch","pointerType","isTouch","removeSpacesBetweenItems","Menu","_updateClasses","_animations","nextItemZIndex","_initOverflow","_attachMenuEventsHandlers","openOnClick","clicked","closeOnClick","hoverDelay","popupCollision","_initData","_overflowWrapper","_checkActiveProxy","_checkActiveElement","_preventClose","_removeHoverItem","_mouseleavePopup","_mouseenterPopup","_documentClickHandler","_documentClick","_detachMenuEventsHandlers","backwardBtn","forwardBtn","_openedPopups","_scrollWrapper","scrollButton","_initScrolling","initialWidth","initialCssWidth","_setOverflowWrapperWidth","_toggleScrollButtons","_popupsWrapper","wrapperCssWidth","wrapperWidth","menuWidth","_reinitOverflow","overflowChanged","_destroyOverflow","popupWrapper","popupParentLi","isNumeric","mouseWheelDistance","backwardDouble","forwardDouble","scrolling","touchEvents","scrollValue","finish","mouseenterHandler","mousedownHandler","scrollSpeed","_closeChildPopups","currentScroll","_toggleDisabled","attemptGetItem","referenceItem","inserted","_insert","_childPopupElement","plain","groupData","renderGroup","renderItem","parentItems","_openAfterLoad","visiblePopups","closePopup","overflowPopup","_triggerEvent","windowHeight","setScrolling","maxHeight","nextZindex","parentHorizontal","_configurePopupOverflow","_initPopupScrolling","popupOpener","_wrapPopupElement","groupId","skipMouseEvents","_initPopupScrollButtons","scrollButtons","_closeParentPopups","_keyTriggered","_setPopupHeight","_initialHeight","popupOuterHeight","popupOffsetTop","bottomScrollbar","canFit","dontClearClose","hasChildPopupsHovered","isPopupMouseLeaved","_isRootItem","_forceClose","isEnter","_closurePrevented","hoverItem","_hoverItem","_findRootParent","hasFocus","oldHoverItem","_oldHoverItem","nonContentGroupsSelector","_itemHasChildren","pointerTouch","isParentClosing","delegateTarget","rootMenuItems","subMenuItems","toElement","_closePopups","rootPopup","groupParent","innerPopup","_innerPopup","openHandle","formNode","itemElement","childGroup","childGroupVisible","targetHref","sampleHref","isLocalLink","isTargetLink","shouldCloseTheRootItem","_lastClickedElement","childPopupId","_parentsUntil","enterKey","itemSelectEventData","_getEventData","isSelectItemDefaultPrevented","isSelectDefaultPrevented","_moveHover","belongsToVertical","_itemBelongsToVertival","_itemDown","_itemUp","_itemEsc","_moveHoverToRoot","menuIsVertical","nextItem","_scrollToItem","_itemRight","parentItem","_itemLeft","scrollDir","currentScrollOffset","itemSize","itemOffset","ulSize","scrollButtonSize","itemPosition","findByUid","wrapperElement","itemsToUpdate","updateProxy","_updateItem","removeProxy","_appendItems","_fieldAccessor","fieldBindings","fieldAccessor","itemWrapper","sprite","menu","renderContent","dataContentField","renderItems","ContextMenu","_marker","_wire","_initialWidth","alignToAnchor","_showProxy","_closeProxy","_configurePopupScrolling","_setPopupWidth","windowWidth","popupOuterWidth","popupOffsetLeft","maxWidth","_closeTimeoutProxy","_showHandler","_eventOrigin","_targetChild","sameTarget","containment","normalClick","_preventProxy","_triggerProxy","LINKSELECTOR","ITEM","GROUP","VISIBLEGROUP","EXPAND","CONTENT","COLLAPSE","ACTIVECLASS","GROUPS","CONTENTS","DISABLEDCLASS","SELECTEDSELECTOR","HIGHLIGHTCLASS","ACTIVEITEMSELECTOR","clickableItems","disabledItems","selectableItems","SINGLE","itemIcon","contentUrl","textAttributes","ariaHidden","contentAttributes","updateLevel","updateItemHtml","toggleButton","PanelBar","_retryRequest","_first","expand","_angularCompile","requestFailed","retry","loadOnDemand","expandMode","_angularCompileElements","_angularCleanup","useAnimation","animBackup","_animating","_addGroupElement","_collapseAllExpanded","_toggleItem","showProgress","loadingText","_refreshRoot","rootItemsHtml","_refreshChildren","_toggleGroup","uidAttr","_updateItems","tempItem","_hasChildItems","retryHtml","_expanded","itemsHtml","nodeWrapper","panelBar","currentNode","skipChange","_updateSelected","focused","isReferenceItem","_updateItemsClasses","panels","panelsParent","_updateItemClasses","contentUrls","wrapElement","isAnchor","isVisible","notVisible","animationSettings","hasCollapseAnimation","_animationCallback","stopExpand","statusIcon","loadingIconTimeout","DEFAULTMIN","DEFAULTMAX","DEFAULTVALUE","DEFAULTCHUNKCOUNT","KPROGRESSBAR","KPROGRESSBARREVERSE","KPROGRESSBARINDETERMINATE","KPROGRESSBARCOMPLETE","KPROGRESSWRAPPER","KPROGRESSSTATUS","LABEL_POSITION_END","KCOMPLETEDCHUNK","PROGRESSTYPE","PERCENT","CHUNK","COMPLETE","HUNDREDPERCENT","DEFAULTANIMATIONDURATION","PRECISION","progressStatus","announceElement","ProgressBar","_progressProperty","_fields","_validateType","ariaRole","_progressAnimation","_updateProgress","chunkCount","showStatus","announce","_calculatePercentage","_isStarted","progressWrapper","currentType","_addChunkProgressWrapper","validated","_roundValue","_updateChunks","_onProgressUpdateAlways","_updateProgressWrapper","percentagesPerChunk","percentageParsed","completedChunksCount","completedChunks","animationDuration","_animation","animationCssOptions","_addRegularProgressWrapper","_onProgressAnimateStart","_onProgressAnimate","_onProgressAnimateComplete","always","progressInPercent","progressStatusWrapSize","progressWrapperSize","progressValue","chunkSize","_normalizeChunkSize","lastChunk","_calculateChunkSize","chunkContainer","_onePercent","ACTIVATE_EVENTS","ResponsivePanel","_toggleHandler","_toggleButtonClick","_registerBreakpoint","_mediaQuery","_registerStyle","breakpoint","head","styleSheet","prevented","CONTENTURL","TABONTOP","NAVIGATABLEITEMS","KEYBOARDNAVIGATABLEITEMS","HOVERABLEITEMS","DEFAULTDISTANCE","updateTabClasses","tabs","tabGroup","scrollButtonHtml","buttonClass","TabStrip","_contentUrls","_tabPosition","_processContentUrls","_initialActivate","dataEncodedField","dataImageUrlField","dataUrlField","dataSpriteCssClass","dataContentUrlField","tabPosition","collapsible","_keyDownProxy","activateTab","hasCloseAnimation","neighbours","oldTab","isAnimationEnabled","contentAnimators","inRequest","abort","_scrollableModeActive","_scrollTabsToItem","visibleContents","contentHolder","tabsHeight","isAjaxContent","showContentElement","showContent","ajaxRequest","oldMinHeight","ajaxSettings","halfWidth","fakeProgress","endState","oldProgressAnimation","ajaxOptions","request","progressUpload","upload","evt","noProgress","XMLHttpRequest","lengthComputable","stopProgress","statusText","tab","_create","tabWrapper","_updateContentElements","contentElements","scrollContainer","deactivateTab","_scrollPrevButton","_scrollNextButton","referenceTab","referenceContent","fromIndex","newTabsCreated","_moveUrlItem","_removeUrlItem","_endItem","_appendUrlItem","_itemClick","oldFocusedTab","_elementId","wrapperId","tabStripID","endItem","wr","rtl","wrapperOffsetWidth","tabGroupScrollWidth","scrollPrevButton","scrollNextButton","_scrollableAllowed","_nowScrollingTabs","mouseDown","mouseUp","isRtlScrollDirection","_scrollTabsByDelta","tabGroupWidth","scrLeft","activeItem","activeTab","isInitialUpdate","tabId","currentContent","tabStrip","LI","LITERAL","HOUR","ZONE","WEEKDAY","QUARTER","DATE_FIELD_MAP","Q","E","H","K","X","z","Z","NAME_TYPES","standAlone","quarter","era","MODERN_RENDERING_TEMPLATE","NEW_RENDERING_FOOTER","HIGHLIGHTCONTAINER","TimeView","_dates","timeView","_timeViewID","_heightHandler","dst","midnight","noon","lastTimeOption","_createScrollList","_createClassicRenderingList","templateOptions","mainSize","buttonSize","_nowClickHandler","_cancelClickHandler","_setClickHandler","_mouseOverHandler","_scrollerKeyDownHandler","lists","getItemHeight","_focusList","_scrollTop","listParent","_updateTitle","applyValue","is12hourFormat","includes","indexAttr","hoursList","minutessList","secondsList","designatorList","_internalScroll","_scrollListToPosition","dataBind","_html","mergeDateAndTime","msLastTime","msInterval","useValueToRender","msStart","_createListContent","splitDateFormat","getDatesInRange","_showAllHiddenItems","_updateListBottomOffset","listHeight","bottomOffset","_updateHoursRange","minHours","_minHours","maxHours","_maxHours","useMax","useMin","selectedDesignator","_findSelectedValue","_validateMin","_validateMax","_updateMinutesRange","minutesList","minMinutes","_minMinutes","maxMinutes","_maxMinutes","selectedHour","_updateSecondsRange","minSeconds","_minSeconds","maxSeconds","selectedMinutes","_updateDesignatorRange","_updateRanges","specifiedRange","_currentlySelected","validateDate","_maxSeconds","addTranslate","topOffset","-ms-transform","_itemClickHandler","_listScrollHandler","_scrollingTimeout","_updateCurrentlySelected","selectedSeconds","firstOccurence","maxSet","_literalTemplate","_itemTemplate","shouldPad","hour12","scrollIntoViewIfNeeded","innerText","_distinctSelection","selectionIndex","timeDiv","TimePicker","_specifiedRange","millisecond","datePattern","addLiteral","lastPart","isHour12","dateNameType","formatLength","nameType","startsWith","searchString","subStr","specifier","patternLength","centerIfNeeded","makeRange","coverRange","makePoint","absolute","pt","offsetLeft","extent","clientLeft","clientTop","ARIA_OWNS","dateViewParams","timeViewParams","SINGLE_POPUP_TEMPLATE","DateTimePicker","singlePopup","_views","_icons","_midnight","_calculateMidnight","timeFormat","dateButtonText","timeButtonText","_timeIcon","dateIcon","timeIcon","_switchToTimeView","_switchToDateView","secondView","timeViewOptions","minDateEqual","maxDateEqual","rebind","isDateViewVisible","_applyDateValue","_toggleIcons","_applyTimeValue","_timeSelected","adjustedDate","icons","_groupChangeClick","pxUnitsRegex","LAYOUTCHANGE","PANE","KPANE","PANECLASS","ARIA_VALUEMIN","ARIA_VALUEMAX","ARIA_ORIENTATION","isPercentageSize","isPixelSize","isFluid","calculateSize","panePropertyAccessor","triggersResize","paneConfig","splitter","Splitter","_dimension","_keys","decrease","increase","_resizeStep","_initPanes","PaneResizing","triggerHandler","_addOverlays","_panes","_removeOverlays","_togglePane","_detachEvents","panes","navigationKeys","isResizing","_triggerAction","panesConfig","_initPane","arrowType","_updateSplitBar","splitbar","previousPane","nextPane","previousPaneEl","catIconIf","iconType","condition","prevCollapsible","prevCollapsed","collapsed","nextCollapsible","nextCollapsed","previousPaneId","_updateSplitBars","_removeSplitBars","_resetAriaValueNow","splitBars","panesSizes","valueNow","joinDimension","splitBarsCount","sizingProperty","totalSize","sizedPanesWidth","sizedPanesCount","freeSizedPanes","collapsedSize","freeSizePanesCount","freeSizePaneWidth","alternateSizingProperty","positioningProperty","sizingDomProperty","lastNonCollapsedPane","_addPane","paneElement","referencePane","verticalDefaults","mousePositioningProperty","horizontalDefaults","_resizable","_createHint","resizeend","previousPaneConfig","nextPaneConfig","prevBoundary","nextBoundary","toPx","prevMinSize","prevMaxSize","nextMinSize","nextMaxSize","ghostPosition","previousPaneNewSize","nextPaneNewSize","fluidPanesCount","KDIALOG","KWINDOW","KICONCLOSE","KCONTENTCLASS","KCONTENTSELECTOR","KSCROLL","KTITLELESS","KDIALOGTITLE","KDIALOGTITLEBAR","KBUTTONGROUP","KALERT","KCONFIRM","KPROMPT","KTEXTBOX","KOVERLAY","INITOPEN","TOUCHMOVE","DATADOCOVERFLOWRULE","DATAHTMLTAPYRULE","okText","promptInput","overlaySelector","constrain","buttonKeyTrigger","DialogBase","_init","_centerCallback","_center","wrapperTemplate","_createDialog","_defaultFocus","_dimensions","_tabKeyTrap","_triggerOpen","sizeClass","actions","_createActionbar","_closable","_enableDocumentScrolling","_overlay","_setElementMaxHeight","_setElementHeight","elementMaxHeight","_uiHeight","_applyScrollClassName","hasScroll","actionbar","actionbarHeight","titlebar","titlebarHeight","overlay","_waiAriaOverlay","_removeWaiAriaOverlay","preventScroll","_stopDocumentScrolling","_overlayedNodes","jthis","hiddenValue","_closeClick","_closeKeyHandler","closable","titleId","titlebarActions","closeAction","isStretchedLayout","buttonLayout","_addButtons","actionClick","_actionClick","actionKeyHandler","_actionKeyHandler","_mergeTextWithOptions","closeBtn","actionButtons","_runActionBtn","preventClose","toFront","_triggerInitOpen","_focusDialog","showOptions","_animationOptions","otherModalsVisible","_modals","Fade","overlayFx","fadeIn","_openAnimationEnd","basicAnimation","_initOpenTriggered","originalZIndex","windowObject","zIndexNew","systemTriggered","_stopCenterOnResize","hideOptions","_removeOverlay","_closeAnimationEnd","_centerOnResize","documentWindow","newLeft","newTop","_trackResize","modals","hideOverlay","_object","$body","_storeOverflowRule","$html","_touchStart","passive","_touchMove","$target","upScroll","preventYScroll","_restoreOverflowRule","$element","_isOverflowStored","overflowRule","lastModal","zStack","encodedHtml","Dialog","PopupBox","alertWrapper","_ensureContentId","_ariaDescribedBy","_initFocus","_chooseEntryFocus","Alert","kendoAlert","alert","Confirm","kendoConfirm","confirmDialog","confirm","Prompt","_createPrompt","promptContainer","promptInputContainer","kendoPrompt","promptDialog","prompt","MODAL_NS","KWINDOWTITLE","KWINDOWTITLEBAR","KWINDOWCONTENT","KDIALOGCONTENT","KWINDOWRESIZEHANDLES","KHOVERSTATE","KFOCUSEDSTATE","MAXIMIZEDSTATE","INLINE_FLEX","CURSOR","REFRESH","MINIMIZE","MAXIMIZE","RESIZESTART","RESTORE","KENDOKEYDOWN","MINIMIZE_MAXIMIZE","KPIN","KUNPIN","PIN_UNPIN","TITLEBAR_BUTTONS","REFRESHICON","WINDOWEVENTSHANDLED","zero","toInt","normalizedValue","executableScript","getPosition","parentOverflowX","parentOverflowY","Window","windowContent","windowFrame","globalWindow","suppressActions","_createWindow","minTop","minLeft","maxTop","maxLeft","_buttonEnter","_buttonLeave","_windowActionHandler","_keydownContent","windowInstance","aria-labelledby","_onDocumentResize","contentBoxSizing","lrBorderWidth","tbBorderWidth","_isPinned","_updateBoundaries","containmentTop","containmentLeft","toggleMaximization","resizeHandle","WindowResizing","dragging","WindowDragging","_actions","windowSpecificCommands","doc","cachedOptions","_containerScrollTop","_containerScrollLeft","fade","autoFocus","isMaximized","isMinimized","newWidth","newHeight","w","unpin","maximize","minimize","_actionForIcon","k-i-close","k-i-window-maximize","k-i-window-minimize","k-i-window-restore","k-i-refresh","k-i-pin","k-i-unpin","windowElements","_scrollIsAppended","titleBar","titleElement","containmentContext","_activate","suppressAnimation","defaultPrevented","_deactivate","_actionable","_shouldFocus","avoidFocus","currentWindow","openAnimation","windowTop","restoreOptions","shouldRestrictTop","_sizingAction","actionId","initOptions","contentFrame","_triggerRefresh","_ajaxComplete","_loadingIconTimeout","_ajaxError","_ajaxSuccess","_showLoading","contentHtml","iframeSrcAttributes","_preventDragging","addOverlay","removeOverlay","elementPadding","initialPosition","resizeDirection","initialSize","containerOffset","hasMargin","wrapperPosition","relativeElMarginLeft","relativeElMarginTop","_relativeElMarginLeft","_relativeElMarginTop","leftRtlOffset","scrollOffset","windowBottom","windowRight","newWindowTop","initialWindowPosition","initialPointerPosition","startPosition","_finishDrag","UI_OVERLAY","BEFORE_SHOW","AFTER_SHOW","BEFORE_HIDE","initPopOvers","popovers","preventScrollIfNotInput","_scroller","_model","stretch","scroller","initWidgets","$destroy","inited","_invokeNgController","_padIfNativeScrolling","isAndroid","skin","isAndroidForced","hasPlatformIndependentSkin","topContainer","bottomContainer","scrollerContent","idAttrValue","controller","_callController","$apply","$scope","platform","previousView","errorMessage","rootNeeded","_getLayout","_setupLayouts","showClosure","serverNavigation","_loadView","modalViews","_xhr","_xhrComplete","CAPTURE_EVENTS","captureEvents","_attachCapture","changeMessage","transitionDone","EXTERNAL","DUMMY_HREF","SKIP_TRANSITION_ON_BACK_BUTTON","WIDGET_RELS","historyCallback","viewEngine","_historyNavigate","_historyReplace","closeActiveDialogs","viewShow","loadStart","loadComplete","sameViewRequested","viewTypeDetermined","_setPortraitWidth","_setupAppLinks","dialogs","navigateToInitial","portraitWidth","bindToRouter","router","attrUrl","hideLoading","showLoading","changeLoadingMessage","linkRoles","pressedButtonSelector","buttonSelectors","_mouseup","_appLinkClick","rel","delayedTouchEnd","openFor","paneContainer","ARROW","OVERLAY","DIRECTION_CLASSES","DIRECTIONS","ANIMATION","containerPopup","popupOptions","PopOver","initialOpen","SHIM","Shim","app","osname","ioswp","bb","shim","_hide","BEFORE_OPEN","WRAP","ModalView","_shim","AXIS","SWIPE_TO_OPEN","AFTER_HIDE","NULL_VIEW","Drawer","drawer","_viewShow","_attachTransition","swipeToOpen","leftPositioned","swipeToOpenViews","_moveViewTo","visibleOnCurrentView","_currentViewIncludedIn","_setAsCurrent","canMoveLeft","canMoveRight","leftSwipe","newPosition","limitedPosition","pastHalf","velocityThreshold","shouldShow","EXPANED_PANE_SHIM","SplitView","_style","_paramsHistory","expandedPaneShim","_shimUserEvents","collapsePanes","expandPanes","DEFAULT_OS","BERRYPHONEGAP","FONT_SIZE_COEF","CHROME","BROKEN_WEBVIEW_RESIZE","INITIALLY_HORIZONTAL","MOBILE_PLATFORMS","ios7","viewportTemplate","usedWithBlock","systemMeta","clipTemplate","ENABLE_CLIP","iconMeta","HIDEBAR","SUPPORT_SWIPE_TO_GO_BACK","HISTORY_TRANSITION","BARCOMPENSATION","STATUS_BAR_HEIGHT","SCREEN","HEAD","osCssClass","variant","setDefaultPlatform","statusBarStyle","wp8Background","noVariantSet","isOrientationHorizontal","getOrientationClass","setMinimumHeight","applyViewportHeight","Application","bootstrap","_setupPlatform","_attachMeta","_setupElementClass","_attachHideBarHandlers","paneOptions","startHistory","updateDocumentTitle","_setupDocumentTitle","_startHistory","hideAddressBar","browserHistory","historyTransition","retina","refreshBackgroundFn","refreshBackgroundColorProxy","_resizeToScreenHeight","includeStatusBar","_clearExistingMeta","hideBar","_hideBar","defaultTitle","BUTTONS","CONTEXT_DATA","cancelTemplate","ActionSheet","ShimClass","_shimHideProxy","_shimHide","actionData","ANDROID3UP","highlightButton","highlight","deactivateTimeoutID","createBadge","useTap","clickOn","_userEvents","_timeoutDeactivate","badgeElement","iconSpan","BackButton","DetailButton","DISABLE","_button","selectOn","buttongroup","COLLAPSIBLE","INSET","HEADER_WRAPPER","CONTENT_WRAPPER","COLLAPSED","EXPANDED","ANIMATED","EXAPND","Collapsible","_buildHeader","inset","collapseIcon","expandIcon","iconPosition","instant","_getContentHeight","isCollapsed","ITEM_SELECTOR","HIGHLIGHT_SELECTOR","GROUP_CLASS","ACTIVE_CLASS","GROUP_WRAPPER","GROUP_TEMPLATE","SEARCH_TEMPLATE","STYLED","ITEM_CHANGE","whitespaceRegExp","buttonRegExp","whitespace","TEXT_NODE","addIcon","querySelector","enhanceItem","enhanceLinkItem","itemAndDetailButtons","otherNodes","enhanceCheckBoxItem","putAt","HeaderFixer","_shouldFixHeaders","headerFixer","cacheHeaders","_cacheHeaders","_scrollHandler","_fixHeader","fixedHeaders","headerPair","currentHeader","DEFAULT_PULL_PARAMETERS","RefreshHandler","pullParameters","pull","_pulled","endReached","itemConstructor","prevItem","below","totalHeight","averageItemHeight","remainingItemsCount","batchUpdate","initialOffset","lastDirection","above","nextIndex","lastTop","topBorder","bottomBorder","VirtualListViewItem","setDataItem","LOAD_ICON","VirtualListViewLoadingIndicator","_loadIcon","VirtualListViewPressToLoadMore","_loadButton","loadMoreText","loadMore","kendoMobileButton","_hideShowButton","_showLoadButton","VirtualListViewItemBinder","chromeHeight","_scrollEnd","pressToLoadMore","virtualViewSize","updateScrollerSize","updateSize","ListViewItemBinder","itemBinder","prependOnRefresh","appendOnRefresh","groupedMode","findByDataItem","adding","removing","_shouldShowLoading","insertAt","replaceGrouped","endlessScroll","ListViewFilter","filterable","autoFilter","searchInput","_oldFilter","_filterChange","_dataSourceChange","_refreshInput","appliedFilters","_applyFilter","scrollTreshold","scrollThreshold","_headerFixer","_itemsCache","_itemBinder","_pullToRefreshHandler","_enhanceItems","emptyDataSource","_scrollerInstance","triggerChange","replaceItem","newItem","_dim","_highlight","plainItem","dataIDAttribute","templateProxy","groupTemplateProxy","_headerTemplate","buttonElement","_styleGroups","rootItems","grouped","enhanced","createContainer","toggleTitle","centerElement","noTitle","showTitle","NavBar","leftElement","rightElement","CHANGING","CURRENT_PAGE_CLASS","VIRTUAL_PAGE_CLASS","CLEANUP","VIRTUAL_PAGE_COUNT","LEFT_PAGE","CETER_PAGE","RIGHT_PAGE","LEFT_SWIPE","NUDGE","RIGHT_SWIPE","scrollView","_changeProxy","_refreshProxy","pageHTML","pageCount","ScrollViewPager","DRAG_START","DRAG_END","ElasticPane","updateDimension","transitionTo","ScrollViewContent","ScrollViewElasticPane","_getPages","contentHeight","enablePager","pagerOverlay","paneMoved","swipeType","bounce","approx","snap","nextPage","minSnap","maxSnap","currentPage","updatePage","forcePageUpdate","resizeTo","pageElements","containerHeight","_paged","VirtualScrollViewContent","_initPages","_buffer","_pendingPageRefresh","_pendingWidgetRefresh","_resetPages","_onResize","_resetProxy","_onReset","_endReachedProxy","_onEndReached","emptyTemplate","emptyTemplateProxy","Page","setWidth","_repositionPages","_updatePagesContent","thresholdPassed","isEndReached","_cancelMove","_moveBackward","_moveForward","setPageContent","_resetMovable","theContent","ScrollView","VirtualPage","transitionEnd","_transitionEnd","dragStart","_dragStart","dragEnd","_syncWithContent","mobileContainer","viewInit","bounceVelocityThreshold","prevPage","SWITCHON","SWITCHOFF","MARGINLEFT","ACTIVE_STATE","DISABLED_STATE","RESOLVEDPREFIX","TRANSFORMSTYLE","limitValue","minLimit","maxLimit","SWITCH_MARKUP","Switch","onLabel","offLabel","background","snapPoint","_animateBackground","handleWidth","ACTIVE_STATE_CLASS","_buildButton","switchTo","_setActiveItem","switchByFullUrl","currentItem","tabstrip","defer","module","$injector","$parse","$timeout","$defaultCompile","$log","withoutTimeout","OPTIONS_NOW","createDataSource","TreeList","TreeView","Scheduler","PivotGrid","PivotConfigurator","toDataSource","$eval","ds","$watch","mew","kendoWidgetInstance","ignoredAttributes","kDataSource","kOptions","kRebind","kNgModel","kNgDelay","ignoredOwnProperties","createWidget","attrs","origAttr","controllers","delayValue","ngModel","ngForm","ctor","parsed","unresolved","unwatch","createIt","$root","unregister","$attr","exposeWidget","$emit","destroyRegister","destroyWidgetOnScopeDestroy","setupRebind","kNgDisabled","bindToKNgDisabled","kNgReadonly","isReadonly","bindToKNgReadonly","bindToKNgModel","bindToNgModel","propagateClassToWidgetWrapper","optionsPath","defaultOptions","addOption","scopeValue","widgetEvents","dataName","eventKey","optionName","kendoWidget","formValue","formRegExp","isForm","haveChangeOnElement","viewRender","$viewValue","$modelValue","$render","onChange","formPristine","$pristine","$setViewValue","$setPristine","digest","currentVal","$isEmpty","DateRangePicker","rangePickerModels","rangePickerStartModel","rangePickerEndModel","_startDateInput","_endDateInput","updating","valueIsCollection","currentValueLength","$angular_setLogicValue","watchHandler","$watchCollection","changeHandler","$setDirty","$angular_getLogicValue","deregister","$on","MutationObserver","prevClassList","mo","changes","suspend","chg","currClassList","cls","resume","disconnect","observe","rebindAttr","_cleanUp","WIDGET_TEMPLATE_OPTIONS","templateContents","isUpload","setTemplate","factory","kendoRenderedTimeout","RENDERED","restrict","require","$attrs","roleattr","TAGNAMES","Editor","Upload","MobileButton","MobileBackButton","MobileDetailButton","MobileListView","SKIP_SHORTCUTS","MANUAL_DIRECTIVES","directive","createDirectives","klass","make","directiveName","directiveFactory","shortcut","dashed","scopeField","kScopeField","isDigesting","destroyScope","encode","encOpen","encClose","pendingPatches","defadvice","origMethod","entry","arg","$angular_scope","$angular_init","itemScope","$$kendoScope","vars","$new","$angular_makeEventHandler","kendoEvent","locals","elems","colIdx","_checkBoxSelection","angularDataItem","templateSettings","col","terminal","pre","_instance","post","kAttr","priority","TreeMap","MobileScrollView","Grid","templateDirectives","templateName"],"mappings":"CAAA,SAAaA,QACTA,OAAO,aAAa,CAAC,UACtB,WAEH,IAAIC,EAAW,CACXC,GAAI,OACJC,KAAM,OACNC,SAAU,YACVC,YAAa,oCAGbC,EAAkB,CAClBH,KAAM,qBACNI,YAAa,WACbC,aAAc,CAAC,kBAAmB,UAAW,UAAW,mBACxDC,YAAa,EACbC,QAAS,GACTC,iBAAkB,gDAIZC,EA+kKPC,OA/kKUC,EA+kKFA,OA/kKUC,OAArB,EACQC,EAAQF,EAAOE,MAAQF,EAAOE,OAAS,CAAEC,SAAU,IACnDC,EAASN,EAAEM,OACXC,EAAOP,EAAEO,KACTC,EAAUC,MAAMD,QAChBE,EAAOV,EAAEU,KACTC,EAAOC,KACPC,EACAC,EAAOZ,EAAOY,MAAQ,GACtBC,EAAU,GACVC,EAAgB,IAChBC,EAAe,uBACfC,EAAkB,sEAClBC,EAAe,uBACfC,EAAW,WACXC,EAAS,SACTC,EAAS,SACTC,EAAS,SACTC,EAAO,OACPC,EAAU,UACVC,EAAY,YACZC,EAAS,SACTC,EAAkB,kBAClBC,EAAa,aACbC,EAAc,SACdC,EAAc,GACdC,EAAc,GACdC,EAAQ,GAAGA,MACXC,EAAqB,CAAE,aAAc,WAAY,QAAS,OAAQ,UAAW,gBAE7EC,EAAoB,WAChB,IAAIC,EAAKC,EAAaC,EAAM/C,EAAMgD,EAASC,EACvCC,EAASC,UAAW,IAAO,GAC3BC,EAAI,EACJC,EAASF,UAAUE,OACnBC,EAAO,MAGX,UAAYJ,IAAW,UAAY,CAC/BI,EAAOJ,EAGPA,EAASC,UAAWC,IAAO,GAC3BA,IAIJ,UAAYF,IAAW,iBAAmBA,IAAW,WACjDA,EAAS,GAIb,GAAKE,IAAMC,EAAS,CAChBH,EAASK,KACTH,IAGJ,KAAQA,EAAIC,EAAQD,IAGhB,IAAOJ,EAAUG,UAAWC,KAAS,KAGjC,IAAMpD,KAAQgD,EAAU,CAGpB,GAAIhD,GAAQ,WAAaA,GAAQ,UAAYA,GAAQ,IACjD,SAEJ6C,EAAMK,EAAQlD,GACd+C,EAAOC,EAAShD,GAGhB,GAAKkD,IAAWH,EACZ,SAIJ,GAAKO,GAAQP,IAAUrC,OAAO8C,cAAeT,KACvCD,EAAc5B,MAAMD,QAAS8B,KAAa,CAE5C,GAAKD,EAAc,CACfA,EAAc,MACdG,EAAQJ,GAAO3B,MAAMD,QAAS4B,GAAQA,EAAM,QAG5CI,EAAQJ,GAAOnC,OAAO8C,cAAeX,GAAQA,EAAM,GAIvDK,EAAQlD,GAAS4C,EAAmBU,EAAML,EAAOF,QAG9C,GAAKA,IAASnC,EACjBsC,EAAQlD,GAAS+C,EAOjC,OAAOG,GAKf,SAASO,KAFT5C,EAAMN,QAAU,aAAamD,QAAQ,aAAc,IAInDD,EAAM1C,OAAS,SAAS4C,GACpB,IAAIC,EAAO,aACPC,EACAC,EAAOP,KACPQ,EAAWJ,GAASA,EAAMK,KAAOL,EAAMK,KAAO,WAC1CF,EAAKG,MAAMV,KAAMJ,YAErBe,EAEJN,EAAKO,UAAYL,EAAKK,UACtBD,EAAKH,EAASG,GAAKH,EAASI,UAAY,IAAIP,EAE5C,IAAKC,KAAUF,EACX,GAAIA,EAAME,IAAW,MAAQF,EAAME,GAAQO,cAAgBC,OAEvDH,EAAGL,GAAU9C,EAAO,KAAM,GAAI6C,EAAKO,UAAUN,GAASF,EAAME,SAE5DK,EAAGL,GAAUF,EAAME,GAI3BK,EAAGE,YAAcL,EACjBA,EAAShD,OAAS+C,EAAK/C,OAEvB,OAAOgD,GAGXN,EAAMU,UAAUG,aAAe,SAAStB,GACpCO,KAAKP,QAAUuB,GAAW,GAAIhB,KAAKP,QAASA,IAGhD,IAAIwB,EAAa3D,EAAM2D,WAAa,SAASN,GACzC,cAAcA,IAAO,YAGrBO,EAAiB,WACjBlB,KAAKmB,kBAAoB,MAGzBC,EAAqB,WACrB,OAAOpB,KAAKmB,oBAAsB,MAGlCE,EAAanB,EAAM1C,OAAO,CAC1BiD,KAAM,WACFT,KAAKsB,QAAU,IAGnBC,KAAM,SAASC,EAAWC,EAAUC,GAChC,IAAInB,EAAOP,KACP2B,EACAC,SAAoBJ,IAAcjD,EAAS,CAACiD,GAAaA,EACzD1B,EACA+B,EACAC,EACAC,SAA4BN,IAAanD,EACzC0D,EAEJ,GAAIP,IAAapE,EAAW,CACxB,IAAKsE,KAAOH,EACRjB,EAAKgB,KAAKI,EAAKH,EAAUG,IAE7B,OAAOpB,EAGX,IAAKoB,EAAM,EAAG7B,EAAS8B,EAAW9B,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CAC3DH,EAAYI,EAAWD,GAEvBG,EAAUC,EAAqBN,EAAWA,EAASD,GAEnD,GAAIM,EAAS,CACT,GAAIJ,EAAK,CACLG,EAAWC,EACXA,EAAU,WACNvB,EAAK0B,OAAOT,EAAWM,GACvBD,EAASnB,MAAMH,EAAMX,YAEzBkC,EAAQD,SAAWA,EAEvBG,EAASzB,EAAKe,QAAQE,GAAajB,EAAKe,QAAQE,IAAc,GAC9DQ,EAAOE,KAAKJ,IAIpB,OAAOvB,GAGXmB,IAAK,SAASE,EAAYH,GACtB,OAAOzB,KAAKuB,KAAKK,EAAYH,EAAU,OAG3CU,MAAO,SAASX,EAAWC,GACvB,IAAIlB,EAAOP,KACP2B,EACAC,SAAoBJ,IAAcjD,EAAS,CAACiD,GAAaA,EACzD1B,EACAgC,EACAC,SAA4BN,IAAanD,EACzC0D,EAEJ,IAAKL,EAAM,EAAG7B,EAAS8B,EAAW9B,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CAC3DH,EAAYI,EAAWD,GAEvBG,EAAUC,EAAqBN,EAAWA,EAASD,GAEnD,GAAIM,EAAS,CACTE,EAASzB,EAAKe,QAAQE,GAAajB,EAAKe,QAAQE,IAAc,GAC9DQ,EAAOI,QAAQN,IAIvB,OAAOvB,GAGX8B,QAAS,SAASb,EAAWc,GACzB,IAAI/B,EAAOP,KACPgC,EAASzB,EAAKe,QAAQE,GACtBG,EACA7B,EAEJ,GAAIkC,EAAQ,CACRM,EAAIA,GAAK,GAETA,EAAEC,OAAShC,EAEX+B,EAAEnB,kBAAoB,MAEtBmB,EAAEpB,eAAiBA,EAEnBoB,EAAElB,mBAAqBA,EAEvBY,EAASA,EAAO7C,QAEhB,IAAKwC,EAAM,EAAG7B,EAASkC,EAAOlC,OAAQ6B,EAAM7B,EAAQ6B,IAChDK,EAAOL,GAAKa,KAAKjC,EAAM+B,GAG3B,OAAOA,EAAEnB,oBAAsB,KAGnC,OAAO,OAGXc,OAAQ,SAAST,EAAWM,GACxB,IAAIvB,EAAOP,KACPgC,EAASzB,EAAKe,QAAQE,GACtBG,EAEJ,GAAIH,IAAcnE,EACdkD,EAAKe,QAAU,QACZ,GAAIU,EACP,GAAIF,GACA,IAAKH,EAAMK,EAAOlC,OAAS,EAAG6B,GAAO,EAAGA,IACpC,GAAIK,EAAOL,KAASG,GAAWE,EAAOL,GAAKE,WAAaC,EACpDE,EAAOS,OAAOd,EAAK,QAI3BpB,EAAKe,QAAQE,GAAa,GAIlC,OAAOjB,KAKd,SAASmC,EAAYC,EAAMC,GACvB,GAAIA,EACA,MAAO,IACHD,EAAKE,MAAM,KAAKC,KAAK,OAChBD,MAAM,OAAOC,KAAK,WAClB3C,QAAQ,MAAO,OACfA,QAAQ,MAAO,OACfA,QAAQ,MAAO,OAAS,QAC9B,CACH,IAAIgC,EAAQQ,EAAKI,OAAO,GACpBC,EAAOL,EAAKM,UAAU,GAE1B,GAAId,IAAU,IACV,MAAO,KAAOa,EAAO,UAClB,GAAIb,IAAU,IACjB,MAAO,qBAAuBa,EAAO,UAErC,MAAO,IAAML,EAAO,mBAKjC,IAAIO,EAAqB,OACrBC,EAAe,iBACfC,EAAqB,QACrBC,EAAc,aACdC,EAAqB,OACrBC,EAAc,aACdC,EAAQ,CAAC,GAAI,IAAK,KAAM,MAAO,QA6DvC,SAASC,EAAIC,EAAQC,EAAQC,GACzBF,EAASA,EAAS,GAClBC,EAASA,GAAU,EACnBC,EAAMD,EAASD,EAAO5D,OAEtB,GAAI8D,EACA,OAAOJ,EAAMG,GAAQV,UAAU,EAAGW,GAAOF,EAG7C,OAAOA,EApEP3F,EAAW,CACP8F,UAAW,OACXC,aAAc,KACdC,OAAQ,SAASC,EAAUC,GACvB,IAAItC,EACA7B,EACAoE,EAAO,GAEX,IAAKvC,EAAM,EAAG7B,EAASmE,EAAKnE,OAAQ6B,EAAM7B,EAAQ6B,IAC9CuC,GAAQF,EAASC,EAAKtC,IAG1B,OAAOuC,GAEXC,QAAS,SAASH,EAAUvE,GACxB,IAAI2E,EAAW5G,EAAO,GAAIwC,KAAMP,GAC5BoE,EAAYO,EAASP,UACrBQ,EAAeR,EAAUS,MAAMpB,GAAoB,GACnDY,EAAeM,EAASN,aACxBS,EAAe,yDACf5D,EACA6D,EACA7C,EAEJ,GAAIV,EAAW+C,GACX,OAAOA,EAGXO,GAAgBT,EAAe,QAAUD,EAAY,KAAO,GAE5DU,GAAgB,gBAEhBC,EAAQR,EACH7D,QAAQiD,EAAoB,aAC5BjD,QAAQgD,EAAc,2BACtBhD,QAAQkD,EAAa,KACrBlD,QAAQmD,EAAoB,aAC5BT,MAAM,KAEX,IAAKlB,EAAM,EAAGA,EAAM6C,EAAM1E,OAAQ6B,IAC9B4C,GAAgB7B,EAAY8B,EAAM7C,GAAMA,EAAM,IAAM,GAGxD4C,GAAgBT,EAAe,KAAO,IAEtCS,GAAgB,uBAEhBA,EAAeA,EAAapE,QAAQoD,EAAa,KAEjD,IACI5C,EAAK,IAAI8D,SAASJ,EAAcE,GAChC5D,EAAG+D,WAAa5G,KAAK6G,MAAMH,EAAM1E,OAAS,GAC1C,OAAOa,EACT,MAAM2B,GACJ,MAAM,IAAIsC,MAAMtH,EAAMuH,OAAO,8CAA+Cb,EAAUO,OAmBlG,IAAIO,EAAY,2HACZC,EACAC,EACAC,EAAO,CACHC,KAAM,MACNC,KAAM,MACNC,KAAM,MACNC,KAAM,MACNC,KAAM,MACNC,IAAO,MACPC,KAAM,QAEVC,GACAC,GAAW,GAAGA,SAGlB,UAAWC,KAAK/E,UAAUgF,SAAWtH,EAAU,CAE3CqH,KAAK/E,UAAUgF,OAAS,WACpB,IAAIrF,EAAOP,KAEX,OAAO6F,SAAStF,EAAKuF,WACjBrC,EAAIlD,EAAKwF,iBAAkB,GAAK,IAChCtC,EAAIlD,EAAKyF,cAAgB,GAAO,IAChCvC,EAAIlD,EAAK0F,cAAuB,IAChCxC,EAAIlD,EAAK2F,eAAuB,IAChCzC,EAAIlD,EAAK4F,iBAAuB,IAChC1C,EAAIlD,EAAK6F,iBAAuB,IAAM,MAG9CC,OAAOzF,UAAUgF,OAASU,OAAO1F,UAAUgF,OAASW,QAAQ3F,UAAUgF,OAAS,WAC3E,OAAO5F,KAAK8F,WAIpB,SAASU,GAAMC,GACX3B,EAAU4B,UAAY,EACtB,OAAO5B,EAAU6B,KAAKF,GAAU,IAAOA,EAAOtG,QAAQ2E,EAAW,SAAU8B,GACvE,IAAIC,EAAI5B,EAAK2B,GACb,cAAcC,IAAMtI,EAASsI,EACzB,OAAS,OAASD,EAAEE,WAAW,GAAGpB,SAAS,KAAKvG,OAAO,KAC1D,IAAO,IAAOsH,EAAS,IAGhC,SAASM,GAAIC,EAAKC,GACd,IAAIpH,EACAqH,EACAC,EACArH,EACAsH,EAAOrC,EACPsC,EACAC,EAAQL,EAAOD,GACfO,EAEJ,GAAID,UAAgBA,IAAU7I,UAAiB6I,EAAM1B,SAAWtH,EAC5DgJ,EAAQA,EAAM1B,OAAOoB,GAGzB,UAAWvB,KAAQnH,EACfgJ,EAAQ7B,GAAIjD,KAAKyE,EAAQD,EAAKM,GAGlCC,SAAcD,EACd,GAAIC,IAAShJ,EACT,OAAOiI,GAAMc,QACV,GAAIC,IAAS/I,EAChB,OAAOqH,SAASyB,GAASjB,OAAOiB,GAAS5I,OACtC,GAAI6I,IAAS5I,GAAW4I,IAAS7I,EACpC,OAAO2H,OAAOiB,QACX,GAAIC,IAAS9I,EAAQ,CACxB,IAAK6I,EACD,OAAO5I,EAEXqG,GAAOC,EACPqC,EAAU,GACV,GAAI3B,GAAShF,MAAM4G,KAAW,iBAAkB,CAC5CxH,EAASwH,EAAMxH,OACf,IAAKD,EAAI,EAAGA,EAAIC,EAAQD,IACpBwH,EAAQxH,GAAKkH,GAAIlH,EAAGyH,IAAU5I,EAElCyI,EAAIE,EAAQvH,SAAW,EAAI,KAAOiF,EAC9B,MAAQA,EAAMsC,EAAQvE,KAAK,MAAQiC,GAAO,KAAOqC,EAAO,IACxD,IAAMC,EAAQvE,KAAK,KAAO,IAC9BiC,EAAMqC,EACN,OAAOD,EAEX,GAAI1B,WAAcA,KAAQhH,EAAQ,CAC9BqB,EAAS2F,GAAI3F,OACb,IAAKD,EAAI,EAAGA,EAAIC,EAAQD,IACpB,UAAW4F,GAAI5F,KAAOtB,EAAQ,CAC1B2I,EAAIzB,GAAI5F,GACRsH,EAAIJ,GAAIG,EAAGI,GACX,GAAIH,EACAE,EAAQnF,KAAKsE,GAAMU,IAAMnC,EAAM,KAAO,KAAOoC,SAKzD,IAAKD,KAAKI,EACN,GAAIxG,OAAO0G,eAAehF,KAAK8E,EAAOJ,GAAI,CACtCC,EAAIJ,GAAIG,EAAGI,GACX,GAAIH,EACAE,EAAQnF,KAAKsE,GAAMU,IAAMnC,EAAM,KAAO,KAAOoC,GAM7DA,EAAIE,EAAQvH,SAAW,EAAI,KAAOiF,EAC9B,MAAQA,EAAMsC,EAAQvE,KAAK,MAAQiC,GAAO,KAAOqC,EAAO,IACxD,IAAMC,EAAQvE,KAAK,KAAO,IAC9BiC,EAAMqC,EACN,OAAOD,GAIf,UAAWnJ,EAAKyJ,YAAcnJ,EAC1BN,EAAKyJ,UAAY,SAAUH,EAAOI,EAAUC,GACxC,IAAI9H,EACJkF,EAAM,GACNC,EAAS,GAET,UAAW2C,IAAUnJ,EACjB,IAAKqB,EAAI,EAAGA,EAAI8H,EAAO9H,GAAK,EACxBmF,GAAU,SAGX,UAAW2C,IAAUpJ,EACxByG,EAAS2C,EAGblC,GAAMiC,EACN,GAAIA,UAAmBA,IAAapJ,WAAoBoJ,IAAajJ,UAAiBiJ,EAAS5H,SAAWtB,GACtG,MAAM,IAAIoG,MAAM,kBAGpB,OAAOmC,GAAI,GAAI,CAACa,GAAIN,KAO5B,IAAIO,GAAmB,gGACnBC,GAAwB,oBACxBC,GAAgB,uCAChBC,GAAc,MACdC,GAAQ,GACRC,GAAQ,IACRC,GAAQ,IACRC,GAAQ,IACRC,GAAO,IACPC,GAAc,KACdC,GAAK,QACLC,GAAiB,GAAG9C,SAmEvB,SAAS+C,GAAYC,GAClB,GAAIA,EAAS,CACT,GAAIA,EAAQC,aACR,OAAOD,EAGX,UAAWA,IAAYnK,EAAQ,CAC3B,IAAIhB,EAAWD,EAAMC,SACrB,OAAOA,EAASmL,IAAYnL,EAASmL,EAAQ7F,MAAM,KAAK,KAAO,KAGnE,OAAO,KAGX,OAAO,KAGX,SAAS+F,GAAWF,GAChB,GAAIA,EACAA,EAAUD,GAAYC,GAG1B,OAAOA,GAAWpL,EAAMC,SAASsL,QAqBrC,SAASC,GAAWC,EAAMlE,EAAQ6D,GAC9BA,EAAUE,GAAWF,GAErB,IAAIM,EAAWN,EAAQO,UAAUC,SAC7BC,EAAOH,EAASG,KAChBC,EAASJ,EAASI,OAEtBvE,EAASmE,EAASK,SAASxE,IAAWA,EAEtC,OAAOA,EAAO1E,QAAQ0H,GAAkB,SAAUvD,GAC9C,IAAIgF,EACJ,IAAIC,EACJ,IAAIC,EAEJ,GAAIlF,IAAU,IACViF,EAASR,EAAKU,eACX,GAAInF,IAAU,KACjBiF,EAAS9F,EAAIsF,EAAKU,gBACf,GAAInF,IAAU,MACjBiF,EAASJ,EAAKO,UAAUX,EAAKY,eAC1B,GAAIrF,IAAU,OACjBiF,EAASJ,EAAKS,MAAMb,EAAKY,eACtB,GAAIrF,IAAU,IACjBiF,EAASR,EAAKc,WAAa,OACxB,GAAIvF,IAAU,KACjBiF,EAAS9F,EAAIsF,EAAKc,WAAa,QAC5B,GAAIvF,IAAU,MACjBiF,EAASH,EAAOM,UAAUX,EAAKc,iBAC5B,GAAIvF,IAAU,OACjBiF,EAASH,EAAOQ,MAAMb,EAAKc,iBACxB,GAAIvF,IAAU,KACjBiF,EAAS9F,EAAIsF,EAAKe,cAAgB,UAC/B,GAAIxF,IAAU,OACjBiF,EAAS9F,EAAIsF,EAAKe,cAAe,QAC9B,GAAIxF,IAAU,IACjBiF,EAASR,EAAKgB,WAAa,IAAM,QAC9B,GAAIzF,IAAU,KACjBiF,EAAS9F,EAAIsF,EAAKgB,WAAa,IAAM,SAClC,GAAIzF,IAAU,IACjBiF,EAASR,EAAKgB,gBACX,GAAIzF,IAAU,KACjBiF,EAAS9F,EAAIsF,EAAKgB,iBACf,GAAIzF,IAAU,IACjBiF,EAASR,EAAKiB,kBACX,GAAI1F,IAAU,KACjBiF,EAAS9F,EAAIsF,EAAKiB,mBACf,GAAI1F,IAAU,IACjBiF,EAASR,EAAKkB,kBACX,GAAI3F,IAAU,KACjBiF,EAAS9F,EAAIsF,EAAKkB,mBACf,GAAI3F,IAAU,IACjBiF,EAAS1L,EAAK8G,MAAMoE,EAAKmB,kBAAoB,UAC1C,GAAI5F,IAAU,KAAM,CACvBiF,EAASR,EAAKmB,kBACd,GAAIX,EAAS,GACTA,EAAS1L,EAAK8G,MAAM4E,EAAS,IAEjCA,EAAS9F,EAAI8F,QACV,GAAIjF,IAAU,MACjBiF,EAAS9F,EAAIsF,EAAKmB,kBAAmB,QAClC,GAAI5F,IAAU,KACjBiF,EAASR,EAAKgB,WAAa,GAAKf,EAASmB,GAAG,GAAKnB,EAASoB,GAAG,QAC1D,GAAI9F,IAAU,MAAO,CACxBgF,EAAUP,EAAKsB,oBACfb,EAAOF,EAAU,EAEjBC,EAAS1L,EAAKyM,IAAIhB,EAAU,IAAI5D,WAAW7C,MAAM,KAAK,GACtDyG,EAAUzL,EAAKyM,IAAIhB,GAAYC,EAAS,GAExCA,GAAUC,EAAO,IAAM,KAAO/F,EAAI8F,GAClCA,GAAU,IAAM9F,EAAI6F,QACjB,GAAIhF,IAAU,MAAQA,IAAU,IAAK,CACxCiF,EAASR,EAAKsB,oBAAsB,GACpCb,EAAOD,EAAS,EAEhBA,EAAS1L,EAAKyM,IAAIf,GAAQ7D,WAAW7C,MAAM,KAAK,GAChD0G,GAAUC,EAAO,IAAM,MAAQlF,IAAU,KAAOb,EAAI8F,GAAUA,GAGlE,OAAOA,IAAWlM,EAAYkM,EAASjF,EAAMnF,MAAM,EAAGmF,EAAMxE,OAAS,KAK7E,SAASyK,GAAa7G,EAAQmB,EAAQ6D,GAClCA,EAAUE,GAAWF,GAErB,IAAIC,EAAeD,EAAQC,aACvB6B,EAAU7B,EAAaT,IACvBuC,EAAY9B,EAAa+B,SACzBC,EAAUhC,EAAagC,QAAQ,GAC/BC,EAAW,GACXC,EACAC,EAAYC,EACZC,EACAC,EACAC,EAAWxH,EAAS,EACpByH,EACAC,EACAC,EACAC,EACAC,EAActD,GACdX,EAAQW,GACRtG,EACA7B,EACA0L,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAASC,EACTC,EACAC,EACAC,EACAC,GAAS,EACTvI,EAGJ,GAAIF,IAAWrG,EACX,OAAO4K,GAGX,IAAKpC,SAASnC,GACV,OAAOA,EAIX,IAAKmB,EACD,OAAO6D,EAAQjM,KAAKqD,OAAS4D,EAAO0I,iBAAmB1I,EAAOgC,WAGlEuF,EAAqBnD,GAAqBuE,KAAKxH,GAG/C,GAAIoG,EAAoB,CACpBpG,EAASoG,EAAmB,GAAGqB,cAE/BxB,EAAajG,IAAW,IACxBkG,EAAYlG,IAAW,IAEvB,GAAIiG,GAAcC,EAAW,CAEzBpC,EAAemC,EAAanC,EAAa4D,SAAW5D,EAAa6D,QACjEhC,EAAU7B,EAAaT,IACvBuC,EAAY9B,EAAa+B,SACzBG,EAASlC,EAAakC,OACtBF,EAAUhC,EAAagC,QAAQO,EAAW,EAAI,GAGlDF,EAAkBC,EAAmB,GAErC,GAAID,EACAP,GAAaO,EAIjB,GAAInG,IAAW,IAAK,CAChB,IAAI4H,EAAMzB,EAAkBtH,EAAOgJ,cAAcjC,GAAa/G,EAAOgJ,gBAErE,OAAOD,EAAItM,QAAQ+H,GAAOS,EAAaT,KAI3C,GAAI6C,EACArH,GAAU,IAGdA,EAASiJ,GAAMjJ,EAAQ+G,GACvBS,EAAWxH,EAAS,EACpBA,EAASA,EAAOb,MAAMqF,IAEtBiD,EAAUzH,EAAO,GACjB0H,EAAW1H,EAAO,GAGlB,GAAIwH,EACAC,EAAUA,EAAQlI,UAAU,GAGhCqE,EAAQsF,GAAazB,EAAS,EAAGA,EAAQrL,OAAQ6I,GAEjD,GAAIyC,EACA9D,GAASkD,EAAUY,EAGvB,GAAIvG,IAAW,MAAQqG,EACnB,OAAO5D,EAGX5D,EAASuE,GAET,IAAKtG,EAAM,EAAG7B,EAAS6K,EAAQ7K,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACxD6J,EAAKb,EAAQ5H,OAAOpB,GAEpB,GAAI6J,IAAO,IACP9H,GAAU4D,OACP,GAAIkE,IAAO,KAAOA,IAAO,IAC5B9H,GAAUmH,OAEVnH,GAAU8H,EAIlB,OAAO9H,EAOX,GAAImB,EAAOgI,QAAQ,MAAQ,GAAKhI,EAAOgI,QAAQ,MAAS,GAAKhI,EAAOgI,QAAQ,OAAS,EACjFhI,EAASA,EAAO1E,QAAQ4H,GAAe,SAAUzD,GAC7C,IAAIwI,EAAYxI,EAAMvB,OAAO,GAAG5C,QAAQ,KAAM,IAC1C4M,EAAUzI,EAAMnF,MAAM,GAAGgB,QAAQ2M,EAAW,IAEhDlC,EAAS1I,KAAK6K,GAEd,OAAOzE,KAIfzD,EAASA,EAAOhC,MAAM,KACtB,GAAIqI,GAAYrG,EAAO,GAAI,CAEvBA,EAASA,EAAO,GAChB6G,EAAoB,UACjB,GAAIhI,IAAW,GAAKmB,EAAO,GAAI,CAElCA,EAASA,EAAO,GAChB,GAAIA,EAAOgI,QAAQzE,MAAW,GAAKvD,EAAOgI,QAAQxE,MAAU,EAExD,OAAOxD,OAGXA,EAASA,EAAO,GAGpBmH,EAAenH,EAAOgI,QAAQ,KAC9BZ,EAAgBpH,EAAOgI,QAAQ,KAE/B9B,EAAYiB,IAAiB,EAC7BlB,EAAamB,IAAkB,EAG/B,GAAIlB,EACArH,GAAU,IAGd,GAAIoH,GAAcjG,EAAOoH,EAAgB,KAAO,KAAM,CAClDpH,EAASA,EAAOhC,MAAM,MAAMC,KAAK,IACjCgI,EAAa,MAGjB,GAAIA,GAAcC,EAAW,CAEzBpC,EAAemC,EAAanC,EAAa4D,SAAW5D,EAAa6D,QACjEhC,EAAU7B,EAAaT,IACvBuC,EAAY9B,EAAa+B,SACzBG,EAASlC,EAAakC,OAG1BY,EAAW5G,EAAOgI,QAAQ1E,KAAU,EACpC,GAAIsD,EACA5G,EAASA,EAAO1E,QAAQ6H,GAAaC,IAGzC0D,EAAe9G,EAAOgI,QAAQ3E,IAC9BpI,EAAS+E,EAAO/E,OAEhB,GAAI6L,IAAiB,EAAG,CACpBP,EAAW1H,EAAOgC,WAAW7C,MAAM,KACnC,GAAIuI,EAAS,GACTA,EAAWuB,GAAMjJ,EAAQ5F,KAAKwM,IAAIc,EAAS,UAE3CA,EAAWA,EAAS,GAExBA,EAAWA,EAASvI,MAAMqF,IAAO,IAAMD,GACvC4D,EAAYhH,EAAOmI,YAAY3E,IAAQsD,EACvCC,EAAa/G,EAAOmI,YAAY5E,IAASuD,EACzCG,EAAUD,GAAa,EACvBE,EAAWH,GAAc,EACzBjK,EAAMyJ,EAAStL,OAEf,IAAKgM,IAAYC,EAAU,CACvBlH,EAASA,EAAO5B,UAAU,EAAG0I,GAAgB9G,EAAO5B,UAAU0I,EAAe,GAC7E7L,EAAS+E,EAAO/E,OAChB6L,GAAgB,EAChBhK,EAAM,EAGV,GAAImK,GAAWD,EAAYD,EACvBjK,EAAMkK,OACH,GAAID,EAAaC,EACpB,GAAIE,GAAYpK,EAAMiK,EAAY,CAC9B,IAAIqB,EAAUN,GAAMjJ,EAAQkI,EAAYV,GAExC,MAAO+B,EAAQlK,OAAOkK,EAAQnN,OAAS,KAAOuI,IAAQuD,EAAa,GAAKA,EAAaC,EAAW,CAC5FD,IAEAqB,EAAUN,GAAMjJ,EAAQkI,EAAYV,GAGxCvJ,EAAMiK,OACH,GAAIE,GAAWnK,EAAMkK,EACxBlK,EAAMkK,EAKlBnI,EAASiJ,GAAMjJ,EAAQ/B,EAAKuJ,GAE5BU,EAAa/G,EAAOgI,QAAQzE,IAC5B8D,EAAiBL,EAAYhH,EAAOgI,QAAQxE,IAG5C,GAAIuD,IAAe,GAAKC,IAAc,EAClCM,EAAQN,OACL,GAAID,IAAe,GAAKC,IAAc,EACzCM,EAAQP,OAERO,EAAQP,EAAaC,EAAYA,EAAYD,EAGjDA,EAAa/G,EAAOmI,YAAY5E,IAChCyD,EAAYhH,EAAOmI,YAAY3E,IAG/B,GAAIuD,IAAe,GAAKC,IAAc,EAClCjI,EAAMiI,OACH,GAAID,IAAe,GAAKC,IAAc,EACzCjI,EAAMgI,OAENhI,EAAMgI,EAAaC,EAAYD,EAAaC,EAGhD,GAAIM,GAASrM,EACT8D,EAAMuI,EAGV,GAAIA,IAAU,EAAG,CACb7E,EAAQ5D,EAAOgC,WAAW7C,MAAMqF,IAChCiD,EAAU7D,EAAM,GAChB8D,EAAW9D,EAAM,IAAMW,GAEvBoD,EAAgBF,EAAQrL,OACxBwL,EAAiBF,EAAStL,OAE1B,GAAIoL,GAAaxH,GAAU,GAAM,EAC7BwH,EAAW,MAGfxH,EAASmB,EAAO5B,UAAU,EAAGkJ,GAE7B,GAAIjB,IAAaQ,EACbhI,GAAU,IAGd,IAAK/B,EAAMwK,EAAOxK,EAAM7B,EAAQ6B,IAAO,CACnC6J,EAAK3G,EAAO9B,OAAOpB,GAEnB,GAAIgK,IAAiB,GACjB,GAAI/H,EAAMjC,EAAM0J,EAAe,CAC3B3H,GAAUyH,EACV,WAED,CACH,GAAIU,IAAc,GAAKA,EAAYlK,EAC/B4J,EAActD,GAGlB,GAAK0D,EAAehK,GAAQ0J,GAAiBM,EAAehK,GAAO,EAAG,CAClE+B,GAAUyH,EACVxJ,EAAMgK,EAGV,GAAIA,IAAiBhK,EAAK,CACtB+B,IAAW0H,EAAWZ,EAAUvC,IAASmD,EACzCzJ,GAAOiC,EAAM+H,EAAe,EAC5B,UAIR,GAAIH,IAAOnD,GAAM,CACb3E,GAAU8H,EACVD,EAAcC,OACX,GAAIA,IAAOpD,GACd1E,GAAU6H,EAIlB,GAAIE,EACA/H,EAASkJ,GAAalJ,EAAQyI,GAASjB,IAAaQ,EAAoB,EAAI,GAAI5N,KAAKoP,IAAItJ,EAAMyH,EAAgBc,GAASxD,GAG5H,GAAI/E,GAAOuI,EACPzI,GAAUmB,EAAO5B,UAAUW,EAAM,GAIrC,GAAIkH,GAAcC,EAAW,CACzBzD,EAAQW,GACR,IAAKtG,EAAM,EAAG7B,EAAS4D,EAAO5D,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACvD6J,EAAK9H,EAAOX,OAAOpB,GACnB2F,GAAUkE,IAAO,KAAOA,IAAO,IAAOX,EAASW,EAEnD9H,EAAS4D,EAGbxH,EAAS8K,EAAS9K,OAElB,GAAIA,EACA,IAAK6B,EAAM,EAAGA,EAAM7B,EAAQ6B,IACxB+B,EAASA,EAAOvD,QAAQmI,GAAasC,EAASjJ,IAK1D,OAAO+B,EA7gBXpG,EAAMC,SAAS,SAAW,CACtBd,KAAM8L,GACNI,aAAc,CACVgC,QAAS,CAAC,MACVD,SAAU,EACVyC,IAAK,IACLC,IAAK,IACLC,UAAW,CAAC,GACZb,QAAS,CACL7B,QAAS,CAAC,OAAQ,OAClBD,SAAU,EACVyC,IAAK,IACLC,IAAK,IACLC,UAAW,CAAC,GACZxC,OAAQ,KAEZ0B,SAAU,CACN9P,KAAM,YACN6Q,KAAM,MACN3C,QAAS,CAAC,OAAQ,MAClBD,SAAU,EACVyC,IAAK,IACLC,IAAK,IACLC,UAAW,CAAC,GACZxC,OAAQ,MAGhB5B,UAAW,CACPC,SAAU,CACNC,KAAM,CACFS,MAAO,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YAC1EF,UAAW,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACtD6D,WAAY,CAAE,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,OAEtDnE,OAAQ,CACJQ,MAAO,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YACtHF,UAAW,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,QAE7FS,GAAI,CAAE,KAAM,KAAM,MAClBC,GAAI,CAAE,KAAM,KAAM,MAClBf,SAAU,CACNmE,EAAG,WACHC,EAAG,sBACHC,EAAG,iCACHC,EAAG,mBACHC,EAAG,sBACHC,EAAG,UACHC,EAAG,UACHC,EAAG,8BACHC,EAAG,UACHC,EAAG,aACHC,EAAG,iCACHC,EAAG,aACHC,EAAG,cAEPC,IAAK,IACLC,IAAK,IACLC,SAAU,EACVC,gBAAiB,QA+B7BlR,EAAMoL,QAAU,SAAS+F,GACrB,IAAIlR,EAAWD,EAAMC,SAAUmL,EAE/B,GAAI+F,IAAgBpR,EAAW,CAC3BqL,EAAUD,GAAYgG,IAAgBlR,EAASgL,IAC/CG,EAAQM,SAAWN,EAAQO,UAAUC,SACrC3L,EAASsL,QAAUH,OAEnB,OAAOnL,EAASsL,SAIxBvL,EAAMmL,YAAcA,GACpBnL,EAAMsL,WAAaA,GAGnBtL,EAAMoL,QAAQH,IAuad,IAAIqE,GAAe,SAASlJ,EAAQyI,EAAOvI,EAAK+E,GAC5C,IAAIgD,EAAejI,EAAOmJ,QAAQlE,EAAaT,KAC/C,IAAIwG,EAAa/F,EAAa0E,UAAUlO,QACxC,IAAIkO,EAAYqB,EAAWC,QAC3B,IAAIxD,EAASE,EACb,IAAI1J,EAAK6C,EAAO8C,EAChB,IAAIsH,EAEJhL,EAAM+H,KAAkB,EAAIA,EAAe/H,EAAM,EAEjDuH,EAAUzH,EAAOT,UAAUkJ,EAAOvI,GAClCyH,EAAgBF,EAAQrL,OAExB,GAAIuL,GAAiBgC,EAAW,CAC5B1L,EAAM0J,EACN7G,EAAQ,GAER,MAAO7C,GAAO,EAAG,CACb2F,EAAQ6D,EAAQlI,UAAUtB,EAAM0L,EAAW1L,GAC3C,GAAI2F,EACA9C,EAAMtC,KAAKoF,GAEf3F,GAAO0L,EACPuB,EAAeF,EAAWC,QAC1BtB,EAAYuB,IAAiBvR,EAAYuR,EAAevB,EAExD,GAAIA,IAAc,EAAG,CACjB,GAAI1L,EAAM,EACN6C,EAAMtC,KAAKiJ,EAAQlI,UAAU,EAAGtB,IAEpC,OAIRwJ,EAAU3G,EAAMqK,UAAU/L,KAAK6F,EAAaR,KAC5CzE,EAASA,EAAOT,UAAU,EAAGkJ,GAAShB,EAAUzH,EAAOT,UAAUW,GAGrE,OAAOF,GAGPiJ,GAAQ,SAASrF,EAAOmD,EAAWS,GACnCT,EAAYA,GAAa,EAEzBnD,EAAQA,EAAM5B,WAAW7C,MAAM,KAC/ByE,EAAQxJ,KAAK6O,QAAQrF,EAAM,GAAK,KAAOA,EAAM,IAAOA,EAAM,GAAKmD,EAAaA,KAE5E,GAAIS,EACA5D,GAASA,EAGbA,EAAQA,EAAM5B,WAAW7C,MAAM,KAC/ByE,IAAUA,EAAM,GAAK,KAAOA,EAAM,IAAOA,EAAM,GAAKmD,GAAcA,IAElE,OAAOnD,EAAMwH,QAAQhR,KAAKiR,IAAItE,EAAW,MAGzC/E,GAAW,SAAS4B,EAAO0H,EAAKtG,GAChC,GAAIsG,EACA,GAAIxG,GAAehG,KAAK8E,KAAW,gBAC/B,OAAOwB,GAAWxB,EAAO0H,EAAKtG,QAC3B,UAAWpB,IAAU9I,EACxB,OAAO+L,GAAajD,EAAO0H,EAAKtG,GAIxC,OAAOpB,IAAUjK,EAAYiK,EAAQ,IAqCrC2H,IAlCJ3R,EAAMuH,OAAS,SAASmK,GACpB,IAAIE,EAAStP,UAEb,OAAOoP,EAAI7O,QAAQhC,EAAc,SAASmG,EAAO6K,EAAOC,GACpD,IAAI9H,EAAQ4H,EAAOG,SAASF,EAAO,IAAM,GAEzC,OAAOzJ,GAAS4B,EAAO8H,EAAoBA,EAAkBnM,UAAU,GAAK,OAIpF3F,EAAMgS,eAAiB,SAAUzK,GAC7B,GAAIA,EAAO1F,MAAM,EAAE,KAAO,MACtB0F,EAASA,EAAO1F,MAAM,EAAG0F,EAAO/E,OAAS,GAG7C,OAAO+E,GAGXvH,EAAMiS,eAAiB,WACnB,IACI,OAAOC,SAASC,cAClB,MAAMnN,GACJ,OAAOkN,SAASE,gBAAgBD,gBAIxCnS,EAAMqS,OAAShD,GACfrP,EAAMsS,YAAc,SAAUC,EAASC,GAAiB,OAAO5S,EAAE2S,GAASE,WAAWD,GAAiB,QAAU,GAChHxS,EAAM0S,aAAe,SAAUH,EAASC,GAAiB,OAAO5S,EAAE2S,GAASI,YAAYH,GAAiB,QAAU,GAClHxS,EAAMoI,SAAWA,GAKY,WACzBwK,GAAc,MACdC,GAAiB,mBACjBC,GAAsB,gBACtBC,GAAqB,uBACrBC,GAAa,sBACbC,GAAe,UACfC,GAAmB,CAAE,GAAI,CAAE,IAAK,IAAK,KAAO,CAAE,IAAK,IAAK,IAAK,IAAK,IAAK,MACvEC,GAAmB,CACf,CACA,iCACA,8BACA,6BACA,0BACA,2BACA,yBACA,sBACA,qBACA,sBACA,sBACA,uBACG,CACH,mBACA,mBACA,oBACG,CACH,aACA,aACA,WACA,UAGJpS,GAAe,CACXqS,EAAG,WACHC,EAAG,WACHC,EAAG,UAEPpI,GAAiB,GAAG9C,SAExB,SAASmL,GAAWvJ,EAAO6E,EAAOvI,GAC9B,QAAS0D,GAAS6E,GAAS7E,GAAS1D,GAGxC,SAASkN,GAAoBC,GACzB,OAAOA,EAAWhO,OAAO,GAG7B,SAASiO,GAAeC,GACpB,OAAO/T,EAAEgU,IAAID,EAAaH,IAI9B,SAASK,GAAUpI,EAAMqI,GACrB,IAAKA,GAASrI,EAAKgB,aAAe,GAC9BhB,EAAKsI,SAAStI,EAAKgB,WAAa,GAIxC,SAASuH,GAAWrN,GAChB,IAAItC,EAAM,EACN7B,EAASmE,EAAKnE,OACdyR,EAAQ,GAEZ,KAAO5P,EAAM7B,EAAQ6B,IACjB4P,EAAM5P,IAAQsC,EAAKtC,GAAO,IAAI2K,cAGlC,OAAOiF,EAGX,SAASC,GAAeC,GACpB,IAAIC,EAAe,GAAIC,EAEvB,IAAKA,KAAYF,EACbC,EAAaC,GAAYL,GAAWG,EAAUE,IAGlD,OAAOD,EAGX,SAASE,GAAWtK,EAAOzC,EAAQ6D,EAASmJ,GACxC,IAAKvK,EACD,OAAO,KAGX,IAAIwK,EAAY,SAAUxN,GAClB,IAAIzE,EAAI,EACR,MAAOgF,EAAOlD,KAAS2C,EAAO,CAC1BzE,IACA8B,IAEJ,GAAI9B,EAAI,EACJ8B,GAAO,EAEX,OAAO9B,GAEXkS,EAAY,SAASC,GACjB,IAAIC,EAAK5T,GAAa2T,IAAS,IAAIE,OAAO,UAAYF,EAAO,KACzD1N,EAAQgD,EAAM6K,OAAOC,EAAUJ,GAAM1N,MAAM2N,GAE/C,GAAI3N,EAAO,CACPA,EAAQA,EAAM,GACd8N,GAAY9N,EAAMxE,OAClB,OAAOuP,SAAS/K,EAAO,IAE3B,OAAO,MAEX+N,EAAiB,SAAUzI,EAAO0I,GAC9B,IAAIzS,EAAI,EACJC,EAAS8J,EAAM9J,OACfrD,EAAM8V,EACNC,EAAc,EACdC,EAAW,EACXC,EAEJ,KAAO7S,EAAIC,EAAQD,IAAK,CACpBpD,EAAOmN,EAAM/J,GACb0S,EAAa9V,EAAKqD,OAClB4S,EAAWpL,EAAM6K,OAAOC,EAAUG,GAElC,GAAID,EACAI,EAAWA,EAASpG,cAGxB,GAAIoG,GAAYjW,GAAQ8V,EAAaC,EAAa,CAC9CA,EAAcD,EACdE,EAAW5S,GAInB,GAAI2S,EAAa,CACbJ,GAAYI,EACZ,OAAOC,EAAW,EAGtB,OAAO,MAEXE,EAAe,WACX,IAAIpJ,EAAS,MACb,GAAIjC,EAAMvE,OAAOqP,KAAcvN,EAAOlD,GAAM,CACxCyQ,IACA7I,EAAS,KAEb,OAAOA,GAEXP,EAAWN,EAAQO,UAAUC,SAC7B0J,EAAO,KACPC,EAAQ,KACRC,EAAM,KACN1B,EAAQ,KACR9H,EAAU,KACVyJ,EAAU,KACVC,EAAe,KACfrR,EAAM,EACNyQ,EAAW,EACXrF,EAAU,MACVhE,EAAO,IAAIpD,KACX6I,EAAkBxF,EAASwF,iBAAmB,KAC9CyE,EAAclK,EAAKe,cACnB0B,EAAI0H,EAAOpT,EAAQ6K,EACnBwI,EAAQC,EAAKC,EACbC,EAAeC,EACfC,EAAaC,EACbC,EAASpP,EAEb,IAAKO,EACDA,EAAS,IAIb8F,EAAU3B,EAASK,SAASxE,GAC5B,GAAI8F,EACA9F,EAAS8F,EAGb9F,EAASA,EAAOhC,MAAM,IACtB/C,EAAS+E,EAAO/E,OAEhB,KAAO6B,EAAM7B,EAAQ6B,IAAO,CACxB6J,EAAK3G,EAAOlD,GAEZ,GAAIoL,EACA,GAAIvB,IAAO,IACPuB,EAAU,WAEV4F,SAGJ,GAAInH,IAAO,IAAK,CACZ0H,EAAQpB,EAAU,KAClB,IAAK9I,EAAS2K,WACV3K,EAAS2K,WAAanC,GAAexI,EAASG,MAGlD,GAAI2J,IAAQ,MAAQI,EAAQ,EACxB,SAGJJ,EAAMI,EAAQ,EAAInB,EAAU,GAAKM,EAAerJ,EAAS2K,WAAWT,GAAS,EAAI,YAAc,SAAU,MAEzG,GAAIJ,IAAQ,MAAQjC,GAAWiC,EAAK,EAAG,IACnC,OAAO,UAER,GAAItH,IAAO,IAAK,CACnB0H,EAAQpB,EAAU,KAClB,IAAK9I,EAAS4K,aACV5K,EAAS4K,aAAepC,GAAexI,EAASI,QAEpDyJ,EAAQK,EAAQ,EAAInB,EAAU,GAAKM,EAAerJ,EAAS4K,aAAaV,GAAS,EAAI,YAAc,SAAU,MAE7G,GAAIL,IAAU,MAAQhC,GAAWgC,EAAO,EAAG,IACvC,OAAO,KAEXA,GAAS,OACN,GAAIrH,IAAO,IAAK,CACnB0H,EAAQpB,EAAU,KAClBc,EAAOb,EAAUmB,GAEjB,GAAIN,IAAS,KACT,OAAO,KAGX,GAAIM,GAAS,EAAG,CACZ,UAAW1E,IAAoB,SAC3BA,EAAkByE,EAAc5D,SAASb,EAAiB,IAG9DoE,EAAQK,EAAcA,EAAc,IAAOL,EAC3C,GAAIA,EAAOpE,EACPoE,GAAQ,UAGb,GAAIpH,IAAO,IAAM,CACpBsG,EAAU,KACVV,EAAQW,EAAU,GAClB,GAAIX,GAAS,GACTA,EAAQ,EAEZ,GAAIA,IAAU,MAAQP,GAAWO,EAAO,EAAG,IACvC,OAAO,UAER,GAAI5F,IAAO,IAAK,CACnBsG,EAAU,KACVV,EAAQW,EAAU,GAClB,GAAIX,IAAU,MAAQP,GAAWO,EAAO,EAAG,IACvC,OAAO,UAER,GAAI5F,IAAO,IAAK,CACnBsG,EAAU,KACVxI,EAAUyI,EAAU,GACpB,GAAIzI,IAAY,MAAQuH,GAAWvH,EAAS,EAAG,IAC3C,OAAO,UAER,GAAIkC,IAAO,IAAK,CACnBsG,EAAU,KACViB,EAAUhB,EAAU,GACpB,GAAIgB,IAAY,MAAQlC,GAAWkC,EAAS,EAAG,IAC3C,OAAO,UAER,GAAIvH,IAAO,IAAK,CACnB0H,EAAQpB,EAAU,KAElBxN,EAAQgD,EAAM6K,OAAOC,EAAUc,GAAO5O,MAAMjG,GAAa,IACzD2U,EAAejB,EAAUmB,GAEzB,GAAIF,IAAiB,KAAM,CACvBA,EAAea,WAAW,KAAOvP,EAAM,GAAI,IAC3C0O,EAAe1V,EAAMqS,OAAOqD,EAAc,GAC1CA,GAAgB,IAGpB,GAAIA,IAAiB,MAAQnC,GAAWmC,EAAc,EAAG,KACrD,OAAO,UAGR,GAAIxH,IAAO,IAAK,CACnB0H,EAAQpB,EAAU,KAClBwB,EAAgBtK,EAASmB,GACzBoJ,EAAgBvK,EAASoB,GAEzB,GAAI8I,IAAU,EAAG,CACbI,EAAgBtC,GAAesC,GAC/BC,EAAgBvC,GAAeuC,GAGnCJ,EAASd,EAAekB,GACxB,IAAKJ,IAAWd,EAAeiB,GAC3B,OAAO,UAGV,GAAI9H,IAAO,IAAK,CACjB4H,EAAM,KACNF,EAAQpB,EAAU,KAElB,GAAIxK,EAAM6K,OAAOC,EAAU,KAAO,IAAK,CACnCO,IACA,SAGJU,EAAU/L,EAAM6K,OAAOC,EAAU,GACjB9N,MAAM4O,EAAQ,EAAI7C,GAAqBD,IAEvD,IAAKiD,EACD,OAAO,KAGXA,EAAUA,EAAQ,GAAGxQ,MAAM,KAE3B2Q,EAAcH,EAAQ,GACtBI,EAAgBJ,EAAQ,GAExB,IAAKI,GAAiBD,EAAY1T,OAAS,EAAG,CAC1CsS,EAAWoB,EAAY1T,OAAS,EAChC2T,EAAgBD,EAAYvQ,UAAUmP,GACtCoB,EAAcA,EAAYvQ,UAAU,EAAGmP,GAG3CoB,EAAcnE,SAASmE,EAAa,IACpC,GAAI3C,GAAW2C,GAAc,GAAI,IAC7B,OAAO,KAGX,GAAIN,EAAQ,EAAG,CACXO,EAAgBJ,EAAQ,GAAG,GAAKI,EAChCA,EAAgBpE,SAASoE,EAAe,IACxC,GAAIK,MAAML,IAAkB5C,GAAW4C,GAAgB,GAAI,IACvD,OAAO,WAGZ,GAAIjI,IAAO,IAAK,CACnBuB,EAAU,KACV4F,SACG,IAAKA,IACR,OAAO,KAOnB,GAAId,IAAW,QAAQlL,KAAKW,EAAM6K,OAAOC,IACrC,OAAO,KAGXsB,EAAUtC,IAAU,MAAQ9H,IAAY,MAAQyJ,GAAW,KAE3D,GAAIH,IAAS,MAAQC,IAAU,MAAQC,IAAQ,MAAQY,EAAS,CAC5Dd,EAAOK,EACPJ,EAAQ9J,EAAKc,WACbiJ,EAAM/J,EAAKU,cACR,CACH,GAAImJ,IAAS,KACTA,EAAOK,EAGX,GAAIH,IAAQ,KACRA,EAAM,EAId,GAAIK,GAAU/B,EAAQ,GAClBA,GAAS,GAGb,GAAIgC,EAAK,CACL,GAAII,EACApC,IAAUoC,EAGd,GAAIC,EACAnK,IAAYmK,EAGhBnM,EAAQ,IAAI3B,KAAKA,KAAKyN,IAAIR,EAAMC,EAAOC,EAAK1B,EAAO9H,EAASyJ,EAASC,QAClE,CACH1L,EAAQ,IAAI3B,KAAKiN,EAAMC,EAAOC,EAAK1B,EAAO9H,EAASyJ,EAASC,GAC5D7B,GAAU7J,EAAO8J,GAGrB,GAAIwB,EAAO,IACPtL,EAAMyM,YAAYnB,GAGtB,GAAItL,EAAMmC,YAAcqJ,GAAOM,IAAQ/V,EACnC,OAAO,KAGX,OAAOiK,EAGX,SAAS0M,GAA2BC,GAChC,IAAIzK,EAAOyK,EAAO9B,OAAO,EAAG,KAAO,KAAO,EAAI,EAE9C8B,EAASA,EAAOhR,UAAU,GAC1BgR,EAAU5E,SAAS4E,EAAO9B,OAAO,EAAG,GAAI,IAAM,GAAM9C,SAAS4E,EAAOhR,UAAU,GAAI,IAElF,OAAOuG,EAAOyK,EAGlB,SAASC,GAAkBxL,GACvB,IAAI5I,EAASjC,EAAKqP,IAAIsD,GAAiB1Q,OAAQ2Q,GAAiB3Q,QAChE,IAAIkJ,EAAWN,EAAQM,UAAYN,EAAQO,UAAUC,SACrD,IAAIG,EAAWL,EAASK,SACxB,IAAI8K,EAAgBC,EAAWzS,EAC/B,IAAI0S,EAAU,GAEd,IAAK1S,EAAM,EAAGA,EAAM7B,EAAQ6B,IAAO,CAC/BwS,EAAiB3D,GAAiB7O,GAClC,IAAKyS,EAAY,EAAGA,EAAYD,EAAerU,OAAQsU,IACnDC,EAAQnS,KAAKmH,EAAS8K,EAAeC,KAEzCC,EAAUA,EAAQC,OAAO7D,GAAiB9O,IAG9C,OAAO0S,EAGX,SAASE,GAAkBjN,EAAO+M,EAAS3L,EAASmJ,GAChD,GAAIrJ,GAAehG,KAAK8E,KAAW,gBAC/B,OAAOA,EAGX,IAAI3F,EAAM,EACV,IAAIoH,EAAO,KACX,IAAIjJ,EACJ,IAAI0U,EAEJ,GAAIlN,GAASA,EAAMuF,QAAQ,QAAU,EAAG,CACpC9D,EAAOuH,GAAWjE,KAAK/E,GACvB,GAAIyB,EAAM,CACNA,EAAOA,EAAK,GACZyL,EAAWjE,GAAalE,KAAKtD,EAAK9F,UAAU,IAE5C8F,EAAO,IAAIpD,KAAK0J,SAAStG,EAAM,KAE/B,GAAIyL,EAAU,CACVA,EAAWR,GAA2BQ,EAAS,IAC/CzL,EAAOzL,EAAMmX,SAAS/T,MAAMqI,EAAM,GAClCA,EAAOzL,EAAMmX,SAASC,QAAQ3L,EAAM,GAAI,EAAIyL,GAGhD,OAAOzL,GAIfL,EAAUpL,EAAMsL,WAAWF,GAE3B,IAAK2L,EACDA,EAAUH,GAAkBxL,GAGhC2L,EAAU3W,EAAQ2W,GAAWA,EAAS,CAACA,GACvCvU,EAASuU,EAAQvU,OAEjB,KAAO6B,EAAM7B,EAAQ6B,IAAO,CACxBoH,EAAO6I,GAAWtK,EAAO+M,EAAQ1S,GAAM+G,EAASmJ,GAChD,GAAI9I,EACA,OAAOA,EAIf,OAAOA,EA0FX,SAAS4L,GAAW9E,GAChB,IAAI+E,EAAS/E,EAAQgF,IAAIvX,EAAMW,QAAQ6W,YAAYD,IAAM,eAAiBhF,EAAQgF,IAAI,cAClFE,EAASH,EAASA,EAAOtQ,MAAMlG,IAAoB,CAAE,EAAG,EAAG,EAAG,EAAG,GAAM,CAAE,EAAG,EAAG,EAAG,EAAG,GACrF4W,EAAOnX,EAAKqP,KAAM6H,EAAO,KAAOA,EAAO,IAAM,IAEjD,MAAO,CACHE,MAAQF,EAAO,GAAMC,EACrBE,OAASH,EAAO,GAAMC,EACtBG,QAAUJ,EAAO,GAAMC,GAI/B,SAASI,GAAKvF,EAASwF,GACnB,IAAIC,EACAvF,EAAazS,EAAMsS,YACnBK,EAAc3S,EAAM0S,aACpBuF,EAAS1F,EAAQ0F,SACjBC,EAAmBzF,EAAW3S,GAElCmY,EAAOE,YAAY,4BAEnB,IAAKF,EAAOG,SAAS,yBAA0B,CAC3C,IAAIC,EAAQ9F,EAAQ,GAAG+F,MAAMD,MACzBE,EAAShG,EAAQ,GAAG+F,MAAMC,OAC1BC,EAAe5X,EAAcyI,KAAKgP,GAClCI,EAAgB7X,EAAcyI,KAAKkP,GACnCG,EAAanG,EAAQ6F,SAAS,cAAgB7F,EAAQoG,GAAG,qCAE7DX,EAAaQ,GAAgBC,EAE7B,IAAKD,KAAkBT,GAAaA,GAAYM,GAAUK,GAAeL,EAAQN,EAAWtF,EAAWF,GAAW,EAAIE,EAAWF,GACjI,IAAKkG,KAAmBV,GAAaA,GAAYQ,IAAYhG,EAAQoG,GAAG,qCAAwCJ,EAAS5F,EAAYJ,GAErIA,EAAQuF,KACKlY,EAAE,UACDgZ,SAAS,yBACTC,KAAK,OAAQ,UACbtB,IAAI,CACDc,MAAOA,EACPE,OAAQA,KAEzBN,EAAS1F,EAAQ0F,SAEjB,GAAID,EACAzF,EAAQgF,IAAI,CACRc,MAAO,OACPE,OAAQ,OACRO,UAAW,aACXC,aAAc,aACdC,gBAAiB,oBAIzBC,GAAW1G,EAASwF,GAGxB,GAAGG,EAAmBzF,EAAWwF,GAAQ,CACrCA,EAAOW,SAAS,4BAEhBK,GAAW1G,EAASwF,GAGxB,OAAOE,EAGX,SAASgB,GAAW1G,EAASwF,GACzB,IAAIC,EACAvF,EAAazS,EAAMsS,YACnBK,EAAc3S,EAAM0S,aACpBwG,EAAU3G,EAAQ0F,OAAO,0BACzBkB,EAAeD,EAAQ,GAAGZ,MAE9B,GAAIY,EAAQP,GAAG,WACXO,EAAQ3B,IAAI,CACR6B,QAAS,GACTC,SAAU,KAIlBrB,EAAapX,EAAcyI,KAAK8P,EAAad,QAAUzX,EAAcyI,KAAK8P,EAAaZ,QAEvF,IAAKP,EACDkB,EAAQ3B,IAAI,CACRc,MAAON,EAAWtF,EAAWF,GAAW,EAAIE,EAAWF,GACvDgG,OAAQ5F,EAAYJ,GACpBuG,UAAW,cACXC,aAAc,cACdC,gBAAiB,gBAK7B,SAAStV,GAAW4V,GAChB,IAAI/W,EAAI,EACJC,EAASF,UAAUE,OAEvB,IAAKD,EAAI,EAAGA,EAAIC,EAAQD,IACpBgX,GAAcD,EAAahX,UAAUC,IAGzC,OAAO+W,EAGX,SAASC,GAAcD,EAAaE,GAChC,IAAIC,EAAkBzZ,EAAM2G,KAAK8S,gBAC7BC,EAAsB1Z,EAAM2G,KAAK+S,oBACjCC,EAAa3Z,EAAM2G,KAAKgT,WACxBC,EAAyB5Z,EAAM2G,KAAKiT,uBACpCvF,EACAwF,EACAC,EACAC,EACAC,EAEJ,IAAK3F,KAAYmF,EAAQ,CACrBK,EAAYL,EAAOnF,GACnByF,SAAkBD,EAElB,GAAIC,IAAa3Y,GAAU0Y,IAAc,KACrCE,EAAWF,EAAUtW,iBAErBwW,EAAW,KAGf,GAAIA,GACAA,IAAa1Z,OAAS0Z,IAAaN,GAAmBM,IAAaL,GACnEK,IAAaJ,GAAcI,IAAaH,GAA0BG,IAAanF,UAC7E5U,EAAM2D,WAAW7D,EAAOma,cAAgBF,IAAaE,aAEvD,GAAIJ,aAAqBxR,KACrBiR,EAAYjF,GAAY,IAAIhM,KAAKwR,EAAUK,gBACxC,GAAIvW,EAAWkW,EAAUzX,OAC5BkX,EAAYjF,GAAYwF,EAAUzX,YAC/B,CACH4X,EAAWV,EAAYjF,GACvB,UAAW,IAAelT,EACtBmY,EAAYjF,GAAY2F,GAAY,QAEpCV,EAAYjF,GAAY,GAE5BkF,GAAcD,EAAYjF,GAAWwF,QAEtC,GAAIC,IAAaxY,EACpBgY,EAAYjF,GAAYwF,EAIhC,OAAOP,EAGX,SAASa,GAAOC,EAAOC,EAAKC,GACxB,IAAK,IAAIC,KAAMF,EACX,GAAIA,EAAInQ,eAAeqQ,IAAOF,EAAIE,GAAIlR,KAAK+Q,GACvC,OAAOG,EAGf,OAAOD,IAASva,EAAYua,EAAOF,EAGvC,SAASI,GAAU/Q,GACf,OAAOA,EAAI5G,QAAQ,gBAAiB,SAAUwN,GAC1C,OAAOA,EAAE5K,OAAO,GAAK,IAAM4K,EAAE5K,OAAO,GAAGuJ,gBAI/C,SAASyL,GAAYhR,GACjB,OAAOA,EAAI5G,QAAQ,UAAW,SAAU6X,EAAUC,GAC9C,OAAOA,EAAGC,gBAIlB,SAASC,GAAkBtI,EAASuI,GAChC,IAAIC,EAAS,GAAIC,EAEjB,GAAI9I,SAAS+I,aAAe/I,SAAS+I,YAAYC,iBAAkB,CAC/DF,EAAgB9I,SAAS+I,YAAYC,iBAAiB3I,EAAS,IAE/D,GAAIuI,EACAlb,EAAEO,KAAK2a,EAAY,SAASzW,EAAK2F,GAC7B+Q,EAAO/Q,GAASgR,EAAcG,iBAAiBnR,SAGpD,CACHgR,EAAgBzI,EAAQ6I,aAExB,GAAIN,EACAlb,EAAEO,KAAK2a,EAAY,SAASzW,EAAK2F,GAC7B+Q,EAAO/Q,GAASgR,EAAcP,GAAYzQ,MAKtD,IAAKhK,EAAM0U,KAAKqG,GACZA,EAASC,EAGb,OAAOD,EAGX,SAASM,GAAa9I,GAClB,GAAIA,GAAWA,EAAQ+I,kBAAoB/I,EAAiB,YAAM,UAAYA,EAAQ+I,UAAU/L,QAAQ,sBAAwB,EAC5H,OAAO,KAGX,IAAIgM,EAAWV,GAAkBtI,EAAS,CAAC,aAAagJ,SACxD,OAAOA,EAAShM,QAAQ,SAAW,GAAKgM,EAAShM,QAAQ,WAAa,EAG1E,SAASiM,GAAWjJ,EAASvI,GACzB,IAAIyR,EAAS9a,EAAQ+a,QAAQD,OAC7B,IAAIE,EAAShb,EAAQ+a,QAAQE,QAC7B,IAAIC,EAAiBlb,EAAQ+a,QAAQhc,QACrC,IAAIoc,EAAIC,EAER,GAAGxJ,aAAmB3S,GAAKoK,IAAUjK,EAAW,CAC5CwS,EAAQpS,KAAK,SAASoC,EAAGyC,GACrBwW,GAAWxW,EAAGgF,KAGlB,YAEA8R,EAAKvJ,aAAmB3S,EAAI2S,EAAQ,GAAKA,EAG7C,IAAKuJ,EACD,OAGJC,EAAQpb,EAAQob,MAAMxJ,GAItB,GAAIvI,IAAUjK,EACV,GAAIgc,GAASN,IAAWI,EAAiB,IAAMlb,EAAQ+a,QAAQM,QAC3DF,EAAGN,WAAaM,EAAGG,YAAcH,EAAGI,YAAclS,OAC/C,GAAI+R,IAAUJ,GAAUF,IAAWzR,EAAQ,EAC9C8R,EAAGN,YAAcxR,OAEjB8R,EAAGN,WAAaxR,OAGpB,GAAI+R,GAASN,IAAWI,EAAiB,IAAMlb,EAAQ+a,QAAQM,QAC3D,OAAOF,EAAGG,YAAcH,EAAGI,YAAcJ,EAAGN,gBAE5C,OAAOhb,KAAKwM,IAAI8O,EAAGN,YA3U/Bxb,EAAMmc,UAAY,SAASnS,EAAO+M,EAAS3L,GACvC,OAAO6L,GAAkBjN,EAAO+M,EAAS3L,EAAS,QAGtDpL,EAAMoc,eAAiB,SAASpS,EAAO+M,EAAS3L,GAC5C,OAAO6L,GAAkBjN,EAAO+M,EAAS3L,EAAS,OAGtDpL,EAAM+R,SAAW,SAAS/H,EAAOoB,GAC7B,IAAIa,EAASjM,EAAMuW,WAAWvM,EAAOoB,GACrC,GAAIa,EACAA,EAASA,EAAS,EAEtB,OAAOA,GAGXjM,EAAMuW,WAAa,SAASvM,EAAOoB,EAAS7D,GACxC,IAAKyC,GAASA,IAAU,EACrB,OAAO,KAGV,UAAWA,IAAU9I,EAClB,OAAO8I,EAGVA,EAAQA,EAAM5B,WACdgD,EAAUpL,EAAMsL,WAAWF,GAE3B,IAAIhF,EAASgF,EAAQC,aACjB6D,EAAU9I,EAAO8I,QACjBD,EAAW7I,EAAO6I,SAClB1B,EAAS0B,EAAS1B,OAClB8O,EAAgBnN,EAAQ3B,OACxBK,EAAW5D,EAAMuF,QAAQ,KACzBrI,EAAOuG,EAGX,GAAIoF,GAAexJ,KAAKW,GAAQ,CAC5BA,EAAQuM,WAAWvM,EAAMnH,QAAQuD,EAAO,KAAM,MAC9C,GAAIoQ,MAAMxM,GACNA,EAAQ,KAEZ,OAAOA,EAGX,GAAI4D,EAAW,EACX,OAAO,UAEPA,EAAWA,GAAY,EAG3B,GAAI5D,EAAMuF,QAAQhC,IAAW,GAAMhG,GAAUA,EAAOyH,cAAcO,QAAQ,MAAQ,EAAI,CAClFnJ,EAAS6I,EACT/H,EAAQd,EAAOiH,QAAQ,GAAGxK,QAAQ,IAAK0K,GAAQhI,MAAM,KACrD,GAAIyE,EAAMuF,QAAQrI,EAAM,KAAO,GAAK8C,EAAMuF,QAAQrI,EAAM,KAAO,EAAG,CAC9D8C,EAAQA,EAAMnH,QAAQqE,EAAM,GAAI,IAAIrE,QAAQqE,EAAM,GAAI,IACtD0G,EAAW,WAEZ,GAAI5D,EAAMuF,QAAQ8M,IAAkB,EAAG,CAC1C5O,EAAY,KACZrH,EAAS8I,EACT3B,EAAS8O,EAGbrS,EAAQA,EAAMnH,QAAQ,IAAK,IACbA,QAAQ0K,EAAQ,IAChB1K,QAAQ8O,GAAwB,KAChCpM,MAAMa,EAAO,KAAKvD,QAAQ8O,GAAwB,MAAMnM,KAAK,IAC7D3C,QAAQ+P,GAAa,IACrB/P,QAAQuD,EAAO,KAAM,KAEnC4D,EAAQuM,WAAWvM,GAEnB,GAAIwM,MAAMxM,GACNA,EAAQ,UACL,GAAI4D,EACP5D,IAAU,EAGd,GAAIA,GAASyD,EACTzD,GAAS,IAGb,OAAOA,GA8PPrJ,EAAQ2b,WAAavc,EAErBY,EAAQ4b,UAAY,SAAUC,GAC1B,IAAKhG,MAAM7V,EAAQ2b,cAAgBE,EAC/B,OAAO7b,EAAQ2b,eACZ,CACH,IAAIG,EAAMvK,SAASwK,cAAc,OAC7BzQ,EAEJwQ,EAAInE,MAAMqE,QAAU,oEACpBF,EAAIG,UAAY,SAChB1K,SAAS2K,KAAKC,YAAYL,GAE1B9b,EAAQ2b,WAAarQ,EAASwQ,EAAIM,YAAcN,EAAIR,YAEpD/J,SAAS2K,KAAKG,YAAYP,GAE1B,OAAOxQ,IAIftL,EAAQob,MAAQ,SAASxJ,GACrB,OAAO3S,EAAE2S,GAAS0K,QAAQ,UAAUza,OAAS,GAGjD,IAAI0a,GAAQhL,SAASwK,cAAc,SAGnC,IACIQ,GAAMN,UAAY,qBAElBjc,EAAQwc,eAAiB,KAC3B,MAAOnY,GACLrE,EAAQwc,eAAiB,MAG7Bxc,EAAQyc,MAAQ,iBAAkBtd,EAElC,IAAIud,GAAWnL,SAASE,gBAAgBkG,MACpCd,GAAc7W,EAAQ6W,YAAc,MACpC8F,GAAa3c,EAAQ2c,WAAa,MAClCC,GAAe,gBAAiBzd,EAAS0d,YAAYla,UAAY,GAErE3C,EAAQ8c,QAAW,oBAAqB3d,GAAU,QAAS,IAAIA,EAAO4d,iBAAsB,mBAAoBL,IAAY,kBAAmBA,GAC/I1c,EAAQgd,WAAc,aAAcN,IAAc,mBAAoBA,IAAc,eAAgBA,GAEpGld,EAAK,CAAE,MAAO,SAAU,IAAK,MAAQ,WACjC,IAAIyd,EAASlb,KAAK0F,WACdyV,SAAwBX,GAAM5E,MAAMsF,EAAS,gBAAkB3c,EAEnE,GAAI4c,UAAyBX,GAAM5E,MAAMsF,EAAS,eAAiB3c,EAAQ,CACvE,IAAI6c,EAAYF,EAAO5O,cAEvBsO,GAAa,CACT/F,IAAMuG,GAAa,KAAQ,IAAMA,EAAY,IAAM,GACnDF,OAAQA,EACRG,MAAQD,IAAc,KAAOA,IAAc,SAAYA,EAAY,IAGvE,GAAID,EAAgB,CAChBrG,GAAc8F,GACd9F,GAAYuG,MAAQvG,GAAYuG,MAAQvG,GAAYuG,MAAQ,gBAAkB,gBAGlF,OAAO,SAIfb,GAAQ,KAERvc,EAAQ2c,WAAaA,GACrB3c,EAAQ6W,YAAcA,GAEtB7W,EAAQqd,iBAAmBle,EAAOke,mBAAqBje,EAAY,EAAID,EAAOke,iBAE9E,IACIrd,EAAQsd,YAAcne,EAAO2S,YAAc3S,EAAOoe,OAASpe,EAAOoe,OAAOC,WAAare,EAAOse,WAC7Fzd,EAAQ0d,aAAeve,EAAO6S,aAAe7S,EAAOoe,OAASpe,EAAOoe,OAAOI,YAAcxe,EAAOye,YAClG,MAAMvZ,GAEJrE,EAAQsd,YAAcne,EAAOoe,OAAOC,WACpCxd,EAAQ0d,aAAeve,EAAOoe,OAAOI,YAGzC3d,EAAQ6d,SAAW,SAAUC,GACzB,IAAIC,EAAK,MAAOC,EAAc3X,EAAQ,GAClC4X,GAAmB,iBAAiBvV,KAAKoV,GACzCI,EAAW,CACPC,GAAI,gDACJC,KAAM,+BACNC,QAAS,qEACTC,OAAQ,2CACRC,KAAM,kCACNC,MAAO,2CACPC,MAAO,gCACPC,WAAY,oDACZC,SAAU,kDACVC,QAAS,gCACTC,MAAO,2CACPC,SAAU,gDACVC,KAAM,8CAEVC,EAAQ,CACJC,IAAK,sBACLZ,QAAS,kBACTK,WAAY,wBACZE,QAAS,UACTT,GAAI,KACJe,KAAM,uBACNV,MAAO,SAEXW,EAAgB,CACZC,OAAQ,uBAEZC,EAAa,CACTC,MAAO,eACPC,QAAS,eACTC,QAAS,kBACTC,aAAc,qBACdC,GAAI,uBACJC,OAAQ,gBACR7E,OAAQ,WAGhB,IAAK,IAAIrB,KAASyE,EACd,GAAIA,EAAS3U,eAAekQ,GAAQ,CAChCpT,EAAQyX,EAAGzX,MAAM6X,EAASzE,IAC1B,GAAIpT,EAAO,CACP,GAAIoT,GAAS,WAAa,YAAamG,UAAa,OAAO,MAE3D7B,EAAK,GACLA,EAAG8B,OAASpG,EACZsE,EAAGqB,OAAS5F,GAAOC,EAAO0F,EAAe,OACzCpB,EAAGhD,QAAUvB,GAAOsE,EAAIuB,EAAY,WACpCtB,EAAGvf,KAAOgb,GAAOC,EAAOuF,GACxBjB,EAAGA,EAAGvf,MAAQ,KACduf,EAAG+B,aAAezZ,EAAM,GACxB0X,EAAGC,cAAgB3X,EAAM,IAAM,KAAKnE,QAAQ,IAAK,KACjD8b,EAAeD,EAAGC,aAAa9b,QAAQ,IAAK,IAAIgS,OAAO,EAAG,GAC1D6J,EAAGgC,YAAchC,EAAG+B,aAAe9B,EAAgB,IAAIte,MAAM,GAAKse,EAAanc,OAAS,EAAImc,EAAanc,OAAS,IAAIgD,KAAK,KAC3HkZ,EAAGiC,eAAiB7gB,EAAO8gB,WAAatf,UAAoBxB,EAAO6gB,UAAYrf,EAC/Eod,EAAGmC,QAAU/gB,EAAOygB,UAAUO,YAAc,mBAAqBzX,KAAKvJ,EAAOihB,SAASC,WAAatC,EAAGiC,QAEtG,GAAIjC,EAAGM,UAAYre,EAAQqd,iBAAmB,KAAOU,EAAGgC,YAAc,KAAO9B,KAAqBje,EAAQsd,YAAc,KAAOtd,EAAQ0d,aAAe,KAClJK,EAAGqB,OAAS3F,EAGhB,OAIZ,OAAOsE,GAGX,IAAIuC,GAAWtgB,EAAQsgB,SAAWtgB,EAAQ6d,SAAS+B,UAAUW,WAM7D,GAJAvgB,EAAQwgB,mBAAqBF,GAASnC,GAAKZ,OAAO7F,MAAQ,IAAM,EAEhE1X,EAAQygB,mBAAqB,MAEzBH,GAASrB,KAAQqB,GAASjC,SAAWiC,GAASR,aAAe,GAAMQ,GAASnC,GAC5Ene,EAAQygB,mBAAqBH,GA0EjC,GAvEAtgB,EAAQ0gB,aAAe,WAGnB,GAAI1gB,EAAQyc,MAAO,CAGf,GAAI6D,GAASrB,IACT,OAAO,KAGX,GAAIqB,GAASjC,QAAS,CAElB,IAAKre,EAAQ+a,QAAQ4E,OACjB,OAAO,KAIX,GAAI3f,EAAQ+a,QAAQhc,QAAU,GAC1B,OAAO,MAIX,QAASE,EAAE,uBAAuBiZ,KAAK,YAAc,IAAI7R,MAAM,sBAIvE,OAAO,OAGXrG,EAAQ2gB,qBAAuB3gB,EAAQyc,SAAWzc,EAAQsgB,SAASrB,KAAOjf,EAAQsgB,SAASjC,SAE3Fre,EAAQ4gB,cAAgB,SAAS9C,GAC7B,IAAI/C,EAAU,MACV1U,EAAQ,GACRwa,EAAoB,GACpBxB,EAAa,CACTyB,KAAM,uBACNhG,OAAQ,+BACRO,OAAQ,yBACR0F,MAAO,sCACPC,KAAM,mCACN/F,QAAS,kCAGjB,IAAK,IAAIxB,KAAS4F,EACd,GAAIA,EAAW9V,eAAekQ,GAAQ,CAClCpT,EAAQyX,EAAGzX,MAAMgZ,EAAW5F,IAC5B,GAAIpT,EAAO,CACP0U,EAAU,GACVA,EAAQtB,GAAS,KACjBsB,EAAQ1U,EAAM,GAAGgI,cAAczJ,MAAM,KAAK,GAAGA,MAAM,KAAK,IAAM,KAC9DmW,EAAQhc,QAAUqS,SAASG,SAAS0P,cAAgB5a,EAAM,GAAI,IAE9D,GAAI0U,EAAQ4E,OAAQ,CAChBkB,EAAoB/C,EAAGzX,MAAM,uBAE7B,GAAGwa,EACC9F,EAAQmG,aAAe,KAI/B,OAKZ,OAAOnG,GAGX/a,EAAQ+a,QAAU/a,EAAQ4gB,cAAchB,UAAUW,YAE7CD,IAAYtgB,EAAQyc,OAASzc,EAAQ+a,QAAQM,OAC9CiF,GAAWtgB,EAAQsgB,SAAW,CAC1BrB,IAAK,KACLG,OAAQ,SACRS,OAAQ,QAIhB7f,EAAQmhB,sBAAwB,WAC5B,IAAIC,EAAW,CACX7f,KAAMgQ,SAAS8P,sBAAwB9P,SAAS8P,sBAAsB,QAAU,MAChFC,IAAK/P,SAAS8P,sBAAwB9P,SAAS8P,sBAAsB,OAAS,MAC9EE,MAAQhQ,SAAS8P,sBAAwB9P,SAAS8P,sBAAsB,SAAW,OAGvF,GAAIrhB,EAAQ+a,QAAQ4E,OAAQ,CAExByB,EAASG,MAAQ,MACjB,GAAGvhB,EAAQ+a,QAAQhc,SAAW,GAAI,CAC9BqiB,EAAS7f,KAAO,KAChB6f,EAASE,IAAM,MAIvB,OAAOF,GAGXphB,EAAQwhB,UAAYxhB,EAAQmhB,wBAE5BnhB,EAAQyhB,UAAY,WAChB,IACI,IAAI1G,EAAU/a,EAAQ+a,QACtB,IAAI2G,EAAsB,EAC1B,IAAIC,EAAQpQ,SAASE,gBAErB,GAAIsJ,EAAQiG,MAAQjG,EAAQhc,SAAW,IAAM4iB,EAAMC,aAAeD,EAAME,eAAiB7hB,EAAQyc,MAC7FiF,EAAsB1hB,EAAQ4b,YAGlC,OAAO5b,EAAQyc,MAASkF,EAAMpG,YAAcpc,EAAOse,WAC5C1C,EAAQiG,MAAQjG,EAAQhc,SAAW,KAAQ+iB,KAAO3iB,GAAQoS,SAASE,gBAAgB2K,YAAcsF,IAAwBI,KAAO3iB,GAAQse,WAAc,EAC/J,MAAMpZ,GACJ,OAAO,IAIf,IAAU0W,GAgCP/a,EAAQ+a,QA9BHgH,EAAW,GACXC,GAAa/iB,EAAEsS,SAASE,iBACxBqO,GAAe1O,SAAS2J,GAAQhc,QAAS,IAE7C,GAAIgc,GAAQiG,KACRe,EAAW,UACR,GAAIhH,GAAQE,QACf8G,EAAW,UACR,GAAIhH,GAAQM,OACf0G,EAAW,cACR,GAAIhH,GAAQD,OACfiH,EAAW,cACR,GAAIhH,GAAQgG,MACfgB,EAAW,aACR,GAAIhH,GAAQ+F,KACfiB,EAAW,OAGf,GAAIA,EACAA,EAAW,KAAOA,EAAW,MAAQA,EAAWjC,GAEpD,GAAI9f,EAAQsgB,SACRyB,GAAY,YAGhB,IAAK/hB,EAAQgd,WACT+E,GAAY,gBAGhBC,GAAW/J,SAAS8J,GAGxB/hB,EAAQiiB,aAAe1Q,SAASE,gBAAgByQ,iBAEhD,IAAIC,GAAQ5Q,SAASwK,cAAc,SA8E/B4D,IA5EJ3f,EAAQoiB,YAAc,gBAAiBD,GACvCniB,EAAQqiB,oBAAsB,qBAAsBF,GAEpDniB,EAAQmiB,MAAQ,WACZ,IAAIG,EAAQ,CAAC,SAAU,OAAQ,OAAQ,QAAS,OAAQ,WAAY,kBACpE,IAAIzgB,EAASygB,EAAMzgB,OACnB,IAAIwH,EAAQ,OACZ,IAAIiC,EAAS,GACb,IAAI5H,EAAM,EACV,IAAI4F,EAEJ,KAAM5F,EAAM7B,EAAQ6B,IAAO,CACvB4F,EAAOgZ,EAAM5e,GACbye,GAAMI,aAAa,OAAQjZ,GAC3B6Y,GAAM9Y,MAAQA,EAEdiC,EAAOhC,EAAKpH,QAAQ,IAAK,KAAOigB,GAAM7Y,OAAS,QAAU6Y,GAAM9Y,QAAUA,EAG7E,OAAOiC,EAhBK,GAmBhB6W,GAAMxK,MAAMqE,QAAU,cAEtBhc,EAAQwiB,WAAaL,GAAMxK,MAAM6K,SAEjCL,GAAQ,KAERniB,EAAQyiB,WAAa,WAGjB,IAAIC,EAAY,IAEhB,IAAIC,EAAS,CAAC,CACVzR,MAAO,EACP0R,MAAO,MAGX,IAAK,IAAIhhB,EAAI,EAAGA,EAAI8gB,EAAW9gB,IAC3B+gB,EAAO1e,KAAK,CACRiN,MAAOtP,EACPghB,MAAO,MAIfD,EAAOE,KAAK,SAASla,EAAGma,GACpB,OAAOna,EAAEia,MAAQE,EAAEF,MAAQ,EAAKja,EAAEia,MAAQE,EAAEF,OAAS,EAAI,IAG7D,OAAOD,EAAO,GAAGzR,QAAU,EArBV,GAwBrBlR,EAAQ+iB,gBAAkBnG,GAAaoG,uBAAyBpG,GAAaqG,oBACnDrG,GAAasG,mBAAqBtG,GAAauG,kBAC/CvG,GAAamG,iBAAmBnG,GAAaxH,SACrE,SAAUgO,GACN,IAAIC,EAAW9R,SAAS+R,kBAAqBvhB,KAAKwhB,YAAchS,UAAW+R,iBAAkBF,IAAc,GAAKnkB,EAAEmkB,GAC9GxhB,EAAIyhB,EAASxhB,OAEjB,MAAOD,IACH,GAAIyhB,EAASzhB,IAAMG,KACf,OAAO,KAIf,OAAO,OAGb/B,EAAQwjB,WAAa,eAAgBrkB,EAErCa,EAAQyjB,UAAYtkB,EAAOukB,SAAWvkB,EAAOukB,QAAQD,UAErDzjB,EAAQ2jB,WAAa,iBAAkBxkB,EAEvCa,EAAQ4jB,eAAiB,oBAAqBzkB,EAAOoS,SAExCvR,EAAQ+a,QAAQ4E,QACzBkE,GAAe7jB,EAAQ+a,QAAQ+I,MAC/B7I,GAAUjb,EAAQ+a,QAAQE,QAC1BI,GAASrb,EAAQ+a,QAAQM,OAOjC,SAAStH,GAAKgQ,GACV,IAAIzY,EAAS,EAAGvC,EAChB,IAAKA,KAAOgb,EACR,GAAIA,EAAIxa,eAAeR,IAAQA,GAAO,SAClCuC,IAIR,OAAOA,EAGX,SAAS0Y,GAAUpS,EAAStI,EAAM2a,GAC9B,IAAK3a,EACDA,EAAO,SAGX,IAAI0M,EAASpE,EAAQtI,KAErB,IAAIgC,EAAS,CACTwW,IAAK9L,EAAO8L,IACZ7K,MAAOjB,EAAOiB,MACdC,OAAQlB,EAAOkB,OACfF,KAAMhB,EAAOgB,MAIjB,GAAIhX,EAAQ+a,QAAQiG,OAAShhB,EAAQkkB,UAAYlkB,EAAQmkB,cAAgBF,EAAY,CACjF,IAAI1Y,EAAOvL,EAAQob,MAAMxJ,GAAW,GAAK,EAEzCtG,EAAOwW,KAAQ3iB,EAAOilB,YAAe7S,SAASE,gBAAyB,UACvEnG,EAAO0L,MAAS7X,EAAOklB,YAAe9Y,EAAOgG,SAASE,gBAAgBoJ,WAG1E,OAAOvP,EAvCPtL,EAAQmkB,YAAcxE,IAAUxgB,EAAOmlB,eACvCtkB,EAAQkkB,UAAYvE,KAAWkE,KAAiB5I,KAAYI,IAAUlc,EAAOolB,aAC7EvkB,EAAQwkB,oBAAsBlE,KAAatgB,EAAQyc,OAASzc,EAAQmkB,YAAcnkB,EAAQkkB,UAwC9F,IAAIO,GAAa,CACbzN,KAAM,CAAEpG,QAAS,SACjBqG,MAAO,CAAErG,QAAS,QAClB8T,KAAM,CAAE9T,QAAS,MACjB+T,GAAI,CAAE/T,QAAS,QACfkR,IAAK,CAAElR,QAAS,UAChBsG,OAAQ,CAAEtG,QAAS,OACnBgU,GAAM,CAAEhU,QAAS,OACjBiU,IAAK,CAAEjU,QAAS,OAGpB,SAASkU,GAAa3C,GAClB,IAAI4C,EAAU,GAEdvlB,SAAa2iB,IAAU,SAAWA,EAAMvd,MAAM,KAAOud,EAAQ,SAASze,GAClEqhB,EAAQrhB,GAAO3B,OAGnB,OAAOgjB,EAGX,SAASC,GAAGpT,GACR,OAAO,IAAIvS,EAAM0lB,QAAQE,QAAQrT,GAGrC,IAAImT,GAAU,GAyCd,SAASG,GAAwB1jB,EAAS2jB,EAAUvU,EAASwU,GACzD,UAAW5jB,IAAYlB,EAAQ,CAI3B,GAAI0C,EAAWmiB,GAAW,CACtBC,EAAWD,EACXA,EAAW,IACXvU,EAAU,MAGd,GAAI5N,EAAW4N,GAAU,CACrBwU,EAAWxU,EACXA,EAAU,MAGd,UAAWuU,IAAazkB,EAAQ,CAC5BkQ,EAAUuU,EACVA,EAAW,IAGf3jB,EAAU,CACNujB,QAASvjB,EACT2jB,SAAUA,EACVvU,QAASA,EACTwU,SAAUA,GAIlB,OAAO7lB,EAAO,CAEVwlB,QAAS,GACTI,SAAU,IACVvU,QAAS,MACTpO,KAAM7C,EACN0lB,SAAU1lB,EACV2lB,KAAM,OACP9jB,EAAS,CAAE+jB,iBAAkB/jB,EAAQ4jB,SAAUA,SAAUzlB,IAIhE,SAAS6lB,GAAQ5T,EAASpQ,EAAS2jB,EAAUvU,EAASwU,GAClD,IAAI1hB,EAAM,EACN7B,EAAS+P,EAAQ/P,OACjB4jB,EAEJ,KAAO/hB,EAAM7B,EAAQ6B,IAAQ,CACzB+hB,EAAWxmB,EAAE2S,EAAQlO,IACrB+hB,EAASC,MAAM,WACXX,GAAQY,QAAQF,EAAUP,GAAwB1jB,EAAS2jB,EAAUvU,EAASwU,MAItF,OAAOxT,EAGX,SAASgU,GAAYhU,EAASiU,EAASrkB,EAASskB,GAC5C,GAAID,EAAS,CACTA,EAAUA,EAAQjhB,MAAM,KAExBpF,EAAKqmB,EAAS,SAASniB,EAAK2F,GACxBuI,EAAQgU,YAAYvc,EAAOyc,KAInC,OAAOlU,EAGX,GA3GA3S,EAAEM,OAAOwlB,GAAS,CACdgB,QAAS,KACTd,QAAS,SAASrT,GACd7P,KAAK6P,QAAU3S,EAAE2S,IAGrB+T,QAAS,SAAS/T,EAASpQ,GACvB,IAAKoQ,EAAQoG,GAAG,YACZpG,EAAQgF,IAAI,CAAE6B,QAAS7G,EAAQ5L,KAAK,eAAiB,UAAW4Q,IAAI,WAGxE,GAAIpV,EAAQ8jB,KACR1T,EAAQ5L,KAAK,aAAc4L,EAAQgF,IAAI,YAAY0O,OAGvD,GAAI9jB,EAAQgB,KACRhB,EAAQgB,OAGZ,GAAIhB,EAAQ+jB,iBACR/jB,EAAQ+jB,iBAAiB3T,GAG7BA,EAAQoU,WAGZC,QAAS,WACLlkB,KAAKgkB,QAAU,MACfhkB,KAAK4jB,QAAU5jB,KAAKmkB,aAGxBC,OAAQ,WACJpkB,KAAKgkB,QAAU,KACfhkB,KAAK4jB,QAAU5jB,KAAKqkB,mBAI5BrB,GAAQmB,YAAcnB,GAAQY,UAsExB,iBAAkB1mB,EAAEyD,IACtBnD,EAAON,EAAEyD,GAAI,CACT2jB,UAAW,SAASC,EAAYC,GAC5B,OAAOxkB,KAAKykB,KAAKF,EAAYC,IAGjCE,aAAc,SAASjlB,EAAS2jB,EAAUvU,EAASwU,GAC/C,OAAOI,GAAQzjB,KAAMP,EAAS2jB,EAAUvU,EAASwU,IAGrDsB,cAAe,SAASb,EAASrkB,GAC7B,OAAOnC,EAAMumB,YAAY7jB,KAAM8jB,EAASrkB,EAAS,OAGrDmlB,iBAAkB,SAASd,EAASrkB,GAChC,OAAOnC,EAAMumB,YAAY7jB,KAAM8jB,EAASrkB,EAAS,QAErDolB,iBAAkB,SAASf,EAASrkB,EAASqlB,GACzC,OAAOxnB,EAAMumB,YAAY7jB,KAAM8jB,EAASrkB,EAASqlB,MAK7D,IAAIC,GAAY,KACZC,GAAW,KACXC,GAAc,KACdC,GAAa,KACbC,GAAW,KACf,SAASC,GAAW9d,GAChB,OAAQ,GAAKA,GAAOnH,QAAQ4kB,GAAW,SAAS5kB,QAAQ6kB,GAAU,QAAQ7kB,QAAQglB,GAAU,QAAQhlB,QAAQ8kB,GAAa,UAAU9kB,QAAQ+kB,GAAY,SAG3J,SAASG,GAAS/d,GACd,IAAItD,EAEJ,IACIA,EAAW5G,EAAOkoB,mBAAmBhe,GACvC,MAAMie,GAIJvhB,EAAWsD,EAAMnH,QAAQ,iCAAkC,SAASqlB,EAAGC,EAAIC,GACvE,OAAOrf,OAAOsf,aAAatW,SAAS,MAAQoW,GAAMC,GAAK,OAI/D,OAAO1hB,EAGX,IAAI4hB,GAAc,SAAUtjB,GACxB,OAAOA,EAAE3C,QAGb,GAAI1B,EAAQyc,MAAO,CAEfkL,GAAc,SAAStjB,GACnB,IAAIujB,EAAU,kBAAmBvjB,EAAIA,EAAEwjB,cAAcC,eAAiB,mBAAoBzjB,EAAIA,EAAEyjB,eAAiB,KAEjH,OAAOF,EAAUrW,SAASwW,iBAAiBH,EAAQ,GAAGI,QAASJ,EAAQ,GAAGK,SAAW5jB,EAAE3C,QAG3FlC,EAAK,CAAC,QAAS,YAAa,aAAc,UAAW,YAAa,YAAa,OAAQ,SAASoQ,EAAGvG,GAC/FpK,EAAEyD,GAAG2G,GAAS,SAAS6e,GACnB,OAAOnmB,KAAKomB,GAAG9e,EAAO6e,MAKlC,GAAIloB,EAAQyc,MACR,IAAKzc,EAAQsgB,SAAU,CACnBtgB,EAAQooB,UAAY,uBACpBpoB,EAAQqoB,QAAU,mBAClBroB,EAAQsoB,UAAY,sBACpBtoB,EAAQuoB,YAAc,yBACtBvoB,EAAQwoB,MAAQ,QAChBxoB,EAAQyoB,OAAS,aACd,CACHzoB,EAAQooB,UAAY,aACpBpoB,EAAQqoB,QAAU,WAClBroB,EAAQsoB,UAAY,YACpBtoB,EAAQuoB,YAAc,cACtBvoB,EAAQwoB,MAAQ,WAChBxoB,EAAQyoB,OAAS,yBAElB,GAAIzoB,EAAQkkB,SAAU,CACzBlkB,EAAQsoB,UAAY,cACpBtoB,EAAQooB,UAAY,cACpBpoB,EAAQqoB,QAAU,YAClBroB,EAAQuoB,YAAc,gBACtBvoB,EAAQwoB,MAAQ,YAChBxoB,EAAQyoB,OAAS,gCACd,GAAIzoB,EAAQmkB,WAAY,CAC3BnkB,EAAQsoB,UAAY,gBACpBtoB,EAAQooB,UAAY,gBACpBpoB,EAAQqoB,QAAU,cAClBroB,EAAQuoB,YAAc,kBACtBvoB,EAAQwoB,MAAQ,cAChBxoB,EAAQyoB,OAAS,+BACd,CACHzoB,EAAQsoB,UAAY,YACpBtoB,EAAQooB,UAAY,YACpBpoB,EAAQqoB,QAAU,UAClBroB,EAAQuoB,YAAc,aACtBvoB,EAAQwoB,MAAQ,QAChBxoB,EAAQyoB,OAAS,SAGrB,IAAIC,GAAiB,SAASC,EAAS/iB,GACnC,IAAI0F,EAAS1F,GAAa,IACtBsL,EACAxN,EACA7B,EACAQ,EACA4S,EAAQ,EAEZ,IAAKvR,EAAM,EAAG7B,EAAS8mB,EAAQ9mB,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACxDrB,EAASsmB,EAAQjlB,GACjB,GAAIrB,IAAW,GAAI,CACf6O,EAAQ7O,EAAOuM,QAAQ,KAEvB,GAAIsC,IAAU,EACV,GAAIA,IAAU,EACV7O,EAAS,IAAMA,MACZ,CACH4S,IACA5S,EAAS,IAAMA,EAAO2C,UAAU,EAAGkM,GAAS,UAAY7O,EAAO2C,UAAUkM,GAIjF+D,IACA3J,GAAUjJ,GAAWqB,EAAM7B,EAAS,EAAK,UAAY,MAG7D,OAAO,IAAInC,MAAMuV,GAAOpQ,KAAK,KAAOyG,GAExCsd,GAAa,mBAsKTC,IApKJtpB,EAAOF,EAAO,CACVypB,QAAS,GACTC,2BAA4B,GAC5BC,GAAI3pB,EAAM2pB,IAAM,GAChBhE,GAAI3lB,EAAM2lB,IAAMA,GAChBD,QAAS1lB,EAAM0lB,SAAWA,GAC1BkE,OAAQ5pB,EAAM4pB,QAAU,GACxBjjB,KAAM3G,EAAM2G,MAAQ,GACpBkjB,QAAS7pB,EAAM6pB,SAAW,GAC1BC,QAAS9pB,EAAM8pB,SAAW,GAC1BC,YAAa,CAAEC,SAAU,IACzBC,KAAM,CACFC,OAAQ,GACRC,OAAQ,GACRC,UAAW,EACXC,IAAK,EACLC,MAAO,GACPC,IAAK,GACLC,KAAM,GACNC,GAAI,GACJC,MAAO,GACPC,KAAM,GACNC,IAAK,GACLC,KAAM,GACNC,SAAU,GACVC,OAAQ,GACRC,SAAU,GACVC,GAAI,IACJC,IAAK,IACLC,IAAK,IACLC,YAAa,IACbC,aAAc,IACdC,WAAY,KAEhB3qB,QAASX,EAAMW,SAAWA,EAC1BwlB,QAASnmB,EAAMmmB,SAAWA,GAC1BoF,GAAI,GACJ1S,KAAM,SAAS7O,GACX,MAAO,QAAUhK,EAAMurB,GAAKvhB,GAEhCqN,WAAYA,GACZS,KAAMA,GACNpU,WAAYA,GACZmX,kBAAmBA,GACnBQ,aAAcA,GACdG,WAAYA,GACZ9G,KAAMA,GACN+F,YAAaA,GACbD,UAAWA,GACXmK,UAAW3kB,EAAM2kB,WAAaA,GAC9Bc,aAAczlB,EAAMylB,cAAgBA,GACpCc,YAAavmB,EAAMumB,aAAeA,GAClCnB,WAAYplB,EAAMolB,YAAcA,GAChCrhB,WAAYA,EACZnB,MAAOA,EACPnC,SAAUA,EACViG,SAAUjG,EAASoG,QAAQ5C,KAAKxD,GAChCgG,OAAQhG,EAASgG,OAAOxC,KAAKxD,GAC7B0J,UAAWzJ,EAAKyJ,UAAUlG,KAAKvD,GAC/B4nB,YAAaA,GACbR,WAAYA,GACZC,SAAUA,GACVyD,WAAY,SAASC,GACjB,OAAOA,IAAQlC,GAAWlgB,KAAKoiB,IAGnCC,KAAM,SAASC,EAAYC,EAAMrlB,GAC7BolB,EAAaA,GAAc,GAE3B,UAAWC,GAAQ3qB,EAAQ,CACvBsF,EAAYqlB,EACZA,EAAO,MAGXrlB,EAAYA,GAAa,IAEzB,GAAIolB,GAAcA,EAAWlmB,OAAO,KAAO,IACvCkmB,EAAa,IAAMA,EAGvB,GAAIC,EAAM,CACND,EAAaA,EAAW9oB,QAAQ,sBAAsB,iBACtD8oB,EAAaA,EAAW9oB,QAAQ,sBAAsB,iBACtD8oB,EAAatC,GAAesC,EAAWpmB,MAAM,KAAMgB,GACnDolB,EAAaA,EAAW9oB,QAAQ,aAAc,UAE9C8oB,EAAaplB,EAAYolB,EAG7B,OAAOA,GAGXE,OAAQ,SAASF,EAAYC,GACzB,IAAIliB,EAAMiiB,EAAaC,EACvB,OAAOjqB,EAAY+H,GAAO/H,EAAY+H,IAAQ,IAAIvC,SAAS,IAAK,UAAYnH,EAAM0rB,KAAKC,EAAYC,KAGvGE,OAAQ,SAASH,GACb,OAAO/pB,EAAY+pB,GAAc/pB,EAAY+pB,IAAe,IAAIxkB,SAAS,UAAWnH,EAAM0rB,KAAKC,GAAc,WAGjHI,SAAU,SAASJ,GACf,MAAO,CACHK,IAAKhsB,EAAM6rB,OAAOF,GAClBM,IAAKjsB,EAAM8rB,OAAOH,KAI1BO,KAAM,WACF,IAAIhtB,EAAK,GAAIqD,EAAG4pB,EAAQC,EAAQ,SAEhCltB,GAAMktB,EAAM5rB,KAAK6G,MAAM7G,KAAK2rB,SAAW3rB,KAAK6G,MAAM+kB,EAAM5pB,UAExD,IAAKD,EAAI,EAAGA,EAAI,GAAIA,IAAK,CACrB4pB,EAAS5rB,EAAK4rB,SAAW,GAAK,EAE9B,GAAI5pB,GAAK,GAAKA,GAAK,IAAMA,GAAK,IAAMA,GAAK,GACrCrD,GAAM,IAEVA,IAAOqD,GAAK,GAAK,EAAKA,GAAK,GAAM4pB,EAAS,EAAI,EAAKA,GAAS/jB,SAAS,IAGzE,OAAOlJ,GAGXmtB,aAAc,SAASC,GACnB,OAAOA,EAAKzpB,QAAQ,SAAU,IAAM7C,EAAM6Y,KAAK,QAAU,SAAShX,MAAM,GAAI,IAGhF0qB,kBAAmB,SAASC,GACxB,IAAIC,EAAYD,EAAWjnB,MAAM,KAEjC,GAAIknB,EACA,IAAK,IAAIlqB,EAAI,EAAGA,EAAIkqB,EAAUjqB,OAAQD,IAClC,GAAIkqB,EAAUlqB,IAAM,OAChBkqB,EAAUlqB,GAAKkqB,EAAUlqB,GAAGM,QAAQ,8BAA+B,SAK/E,OAAO4pB,EAAUjnB,KAAK,KAAK3C,QAAQ,SAAU,oBAAoBhB,MAAM,GAAI,IAG/E6qB,iBAAkB,SAAS1nB,GACvB,MAAO,mCAAqCqE,KAAKrE,EAAE3C,OAAOsqB,UAG9DC,mBAAoB,SAAS/D,GACzB,IAAK,IAAItmB,EAAI,EAAGsqB,EAAM7sB,EAAMypB,QAAQjnB,OAAQD,EAAIsqB,EAAKtqB,IACjDsmB,EAAS7oB,EAAMypB,QAAQlnB,IAG3BvC,EAAM0pB,2BAA2B9kB,KAAKikB,IAG1CiE,aAAc,SAASC,EAAS9iB,GAC5B,IAAI+iB,EAAUltB,EAAOktB,QAErB,IAAKhtB,EAAMitB,oBAAqB,GAAa,aAAeD,EAAQE,IAChEF,EAAQ/iB,GAAQ,OAAO8iB,MAKtBhpB,EAAW7D,OAAQ,CAC5BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEXyqB,KAEAlqB,EAAKsP,QAAUvS,EAAMH,OAAO0S,GAAS/N,QAAQvB,GAE7CA,EAAKmqB,QAAQ,OAAQjrB,GAErB4B,EAAWV,GAAGF,KAAK+B,KAAKjC,GAExB,IAAIoqB,EAAalrB,EAAUA,EAAQkrB,WAAa,KAChD,IAAIC,EAEJ,GAAInrB,EACAmrB,GAASrqB,EAAKsqB,gBAAkB,KAAKprB,GAAW,IAAIqrB,eAGxD,GAAIH,EAEAlrB,EAAUjC,EAAO,GAAIiC,EAAS,CAAEkrB,WAAY,KAGhDlrB,EAAUc,EAAKd,QAAUjC,EAAO,KAAM,GAAI+C,EAAKd,QAASc,EAAKwqB,SAAUH,GAAS,GAAInrB,GAEpF,GAAIkrB,EACAlrB,EAAQkrB,WAAaA,EAGzB,IAAKpqB,EAAKsP,QAAQsG,KAAK7Y,EAAM6Y,KAAK,SAC9B5V,EAAKsP,QAAQsG,KAAK7Y,EAAM6Y,KAAK,SAAU1W,EAAQhD,MAAQ,IAAI6P,eAG/D/L,EAAKsP,QAAQ5L,KAAK,QAAUxE,EAAQyb,OAASzb,EAAQhD,KAAM8D,GAE3DA,EAAKgB,KAAKhB,EAAKyB,OAAQvC,IAG3BuC,OAAQ,GAERvC,QAAS,CACLyb,OAAQ,IAGZ8P,kBAAmB,WACf,QAAShrB,KAAK6P,QAAQ,GAAGob,oBAG7BC,UAAW,SAASvrB,GAChBA,EAASA,GAAUK,KAAKwW,QAExB,IAAI3G,EAAU7P,KAAK6P,QACfsb,EAAW,WACXC,EAAWzrB,EAAOwW,KAAKgV,IAAatb,EAAQsG,KAAKgV,GAErDtb,EAAQwb,WAAWF,GAEnBxrB,EAAOwW,KAAKgV,GAAWrX,MAAMsX,GAAYA,EAAW,IAGxDE,WAAY,SAAS7rB,GACjBO,KAAKurB,iBAAiB9rB,GACtBO,KAAKwrB,WAAW/rB,GAChBvC,EAAEM,OAAOwC,KAAKP,QAASA,GACvBO,KAAKyrB,oBAGTD,WAAY,SAAS/rB,GACjB,IAAIc,EAAOP,KACP2B,EAAM,EACN7B,EAASS,EAAKyB,OAAOlC,OACrBwC,EAEJ,KAAOX,EAAM7B,EAAQ6B,IAAQ,CACzBW,EAAI/B,EAAKyB,OAAOL,GAChB,GAAIpB,EAAKd,QAAQ6C,IAAM7C,EAAQ6C,GAAI,CAC/B/B,EAAK0B,OAAOK,EAAG/B,EAAKd,QAAQ6C,IAC5B,GAAI/B,EAAKe,SAAWf,EAAKe,QAAQgB,UACtB/B,EAAKe,QAAQgB,IAKhC/B,EAAKgB,KAAKhB,EAAKyB,OAAQvC,IAG3BinB,OAAQ,SAASgF,GACb,IAAI1Z,EAAOhS,KAAK2rB,UACZC,EAAc5rB,KAAK6rB,MAEvB,GAAIH,IAAU1Z,EAAK2D,MAAQ,GAAK3D,EAAK6D,OAAS,MAAQ+V,GAAe5Z,EAAK2D,QAAUiW,EAAYjW,OAAS3D,EAAK6D,SAAW+V,EAAY/V,QAAS,CAC1I7V,KAAK6rB,MAAQ7Z,EACbhS,KAAK8rB,QAAQ9Z,EAAM0Z,GACnB1rB,KAAKqC,QAAQ,SAAU2P,KAI/B2Z,QAAS,WACL,OAAOruB,EAAMyuB,WAAW/rB,KAAK6P,UAGjCmC,KAAM,SAASA,GACX,IAAKA,EACD,OAAOhS,KAAK2rB,eAEZ3rB,KAAKgsB,QAAQha,IAIrBga,QAAS9uB,EAAEU,KACXkuB,QAAS5uB,EAAEU,KAEXquB,QAAS,WACL,IAAI1rB,EAAOP,KAEXO,EAAKsP,QAAQqc,WAAW,QAAU3rB,EAAKd,QAAQyb,OAAS3a,EAAKd,QAAQhD,MACrE8D,EAAKsP,QAAQqc,WAAW,WACxB3rB,EAAK0B,UAETkqB,SAAU,WACNnsB,KAAKisB,WAETvB,QAAS,aAET0B,mBAAoB,SAASjG,GACzBnmB,KAAKqsB,YAAc,KAEnBlG,EAAS3jB,KAAKxC,MAEdA,KAAKqsB,YAAc,OAGvBZ,iBAAkB,SAAS5b,GACvB,IAAIyc,EAAetsB,KAAKusB,UAAU9sB,QAC9BA,EAAUO,KAAKP,QACf2Z,EAAKvJ,GAAW7P,KAAKwW,SAAWxW,KAAK6P,QACrCiU,EAAU,GACVjkB,EAAG2sB,EAAMC,EAAWC,EAExB,IAAKpvB,EAAMqvB,cAAcC,mBAAmBN,EAAa7vB,MACrD,OAGJ,IAAKoD,EAAI,EAAGA,EAAIT,EAAmBU,OAAQD,IAAK,CAC5C2sB,EAAOptB,EAAmBS,GAC1B6sB,EAAa1sB,KAAKP,QAAQotB,UAAYP,EAAa7vB,KAEnD,GAAI6vB,EAAa9kB,eAAeglB,GAC5B,GAAIA,IAAS,aAAc,CACvBC,EAAYnvB,EAAMqvB,cAAcG,cAAc,CAC1CC,OAAQL,EACRM,SAAU,WACV1lB,MAAO7H,EAAQwtB,WAGnB,GAAIR,GAAaA,EAAU3sB,OACvBgkB,EAAQ5hB,KAAK5E,EAAMqvB,cAAcG,cAAc,CAC3CC,OAAQL,EACRM,SAAUR,EACVllB,MAAO7H,EAAQ+sB,GACfU,KAAMztB,EAAQwtB,iBAItBnJ,EAAQ5hB,KAAK5E,EAAMqvB,cAAcG,cAAc,CAC3CC,OAAQL,EACRM,SAAUR,EACVllB,MAAO7H,EAAQ+sB,MAM/BpT,EAAGlD,SAAS4N,EAAQhhB,KAAK,OAG7BqqB,WAAY,SAASxtB,GACjB,IAAIY,EAAOP,KACPotB,EAAW7sB,EAAKsP,QAChBwd,EAAUD,EAASjX,KAAK,MACxBmX,EAAWpwB,EAAE,cAAiBmwB,EAAU,MACxCE,EAAYH,EAASjX,KAAKpX,GAC1ByuB,EAAiBJ,EAASjX,KAAKrX,GAC/B2uB,EAEJ,GAAI9tB,EAAO,KAAOytB,EAAS,GACvB,OAGJ,GAAIG,EACA5tB,EAAOwW,KAAKpX,EAAYwuB,QACrB,GAAIC,EACP7tB,EAAOwW,KAAKrX,EAAiB0uB,QAC1B,GAAIF,EAASxtB,OAAQ,CACxB2tB,EAAUH,EAASnX,KAAK,OAAS5V,EAAKmtB,iBAAiBJ,EAAUD,GAAW/vB,EAAMksB,QAClF7pB,EAAOwW,KAAKrX,EAAiB2uB,KAIrClC,iBAAkB,SAASoC,EAAY9d,GACnC,IAAIyc,EAAetsB,KAAKusB,UAAU9sB,QAC9BmuB,EAAiB5tB,KAAKP,QACtB2Z,EAAKvJ,GAAW7P,KAAKwW,SAAWxW,KAAK6P,QACrChQ,EAAG2sB,EAAME,EAEb,IAAIpvB,EAAMqvB,cAAcC,mBAAmBN,EAAa7vB,MACpD,OAGJ,IAAIoD,EAAI,EAAGA,EAAIT,EAAmBU,OAAQD,IAAK,CAC3C2sB,EAAOptB,EAAmBS,GAC1B6sB,EAAa1sB,KAAKP,QAAQotB,UAAYP,EAAa7vB,KAEnD,GAAG6vB,EAAa9kB,eAAeglB,IAASmB,EAAWnmB,eAAeglB,GAC9D,GAAIA,IAAS,aACTpT,EAAG3D,YAAYnY,EAAMqvB,cAAcG,cAAc,CAC7CC,OAAQL,EACRM,SAAUR,EACVllB,MAAOsmB,EAAepB,GACtBU,KAAMU,EAAeX,gBAEtB,CACH,GAAIT,IAAS,WACTpT,EAAG3D,YAAYnY,EAAMqvB,cAAcG,cAAc,CAC7CC,OAAQL,EACRM,SAAU,aACV1lB,MAAOsmB,EAAeC,WACtBX,KAAMU,EAAeX,YAI7B7T,EAAG3D,YAAYnY,EAAMqvB,cAAcG,cAAc,CAC7CC,OAAQL,EACRM,SAAUR,EACVllB,MAAOsmB,EAAepB,SAO1CkB,iBAAkB,SAASI,EAAOT,GAC9B,IAAII,EAAUJ,EAAUruB,EAExB8uB,EAAM3X,KAAK,KAAMsX,GAEjB,OAAOA,MAIXM,GAAkBjH,GAAOtpB,OAAO,CAEhCwwB,UAAW,WACP,OAAOhuB,KAAK2qB,WAAWsD,YAG3BC,cAAe,SAASC,GACpB,IAAI5tB,EAAOP,KACXO,EAAKmqB,QAAQyD,EAAK,WACd,MAAO,CACHC,SAAU7tB,EAAK8tB,QACfpqB,KAAM/G,EAAEgU,IAAI3Q,EAAKytB,YAAa,SAASM,GACnC,MAAO,CAAEA,SAAUA,WAmBnCC,IAZJjxB,EAAMyuB,WAAa,SAASlc,EAASkc,GACjC,IAAIyC,EAAa3e,EAAQ,GAEzB,GAAIkc,EACAlc,EAAQgF,IAAIkX,GAGhB,MAAO,CAAEpW,MAAO6Y,EAAWnU,YAAaxE,OAAQ2Y,EAAWC,eAG/DnxB,EAAMoxB,OAAS9wB,EAEM,cACjB+wB,GAAa,oDACbC,GAAmB,wCACnBC,GAAa,WAEjB,SAASC,GAAYjf,EAASkf,GAC1B,IAAIznB,EAEJ,GAAIynB,EAAOliB,QAAQ,UAAY,EAAG,CAC9BkiB,EAASA,EAAO9rB,UAAU,GAC1B8rB,EAASA,EAAOhsB,OAAO,GAAGuJ,cAAgByiB,EAAO9rB,UAAU,GAG/D8rB,EAASA,EAAO5uB,QAAQ0uB,GAAY,OACpCvnB,EAAQuI,EAAQmf,aAAa,QAAU1xB,EAAMurB,GAAKkG,GAElD,GAAIznB,IAAU,KACVA,EAAQjK,OACL,GAAIiK,IAAU,OACjBA,EAAQ,UACL,GAAIA,IAAU,OACjBA,EAAQ,UACL,GAAIA,IAAU,QACjBA,EAAQ,WACL,GAAIjJ,EAAasI,KAAKW,IAAUynB,GAAU,QAAUA,GAAU,SACjEznB,EAAQuM,WAAWvM,QAChB,GAAIqnB,GAAWhoB,KAAKW,KAAWsnB,GAAiBjoB,KAAKW,GACxDA,EAAQ,IAAI7C,SAAS,WAAa6C,EAAQ,IAAlC,GAGZ,OAAOA,EAGX,SAAS2nB,GAAapf,EAASpQ,EAASqX,GACpC,IAAIvN,EAAS,GACTwlB,EACAznB,EACAsiB,EAAO/Z,EAAQmf,aAAa,QAAU1xB,EAAMurB,GAAK,QAErD,IAAKkG,KAAUtvB,EAAS,CACpB6H,EAAQwnB,GAAYjf,EAASkf,GAE7B,GAAIznB,IAAUjK,EAAW,CAErB,GAAIkxB,GAAe5nB,KAAKooB,IAAWnF,GAAQ,SACvC,UAAUtiB,IAAU,UAChB,GAAGpK,EAAE,IAAMoK,GAAOxH,OACdwH,EAAQhK,EAAM0G,SAAS9G,EAAE,IAAMoK,GAAOpD,aACpC,GAAI4S,EACNxP,EAAQhK,EAAM0G,SAAS8S,EAAOxP,SAGlCA,EAAQuI,EAAQmf,aAAaD,GAIrCxlB,EAAOwlB,GAAUznB,GAIzB,OAAOiC,EAqIX,SAAS2lB,GAAoBtoB,EAAGma,GAC5B,OAAO7jB,EAAEiyB,SAASvoB,EAAGma,IAAM,EAAI,EAGnC,SAASqO,KACL,IAAIrC,EAAS7vB,EAAE8C,MACf,OAAQ9C,EAAEmyB,QAAQtC,EAAO5W,KAAK,QAAU7Y,EAAMurB,GAAK,QAAS,CAAC,SAAU,cAAe,gBAAkB,GAAMkE,EAAO9W,GAAG,YAxI5H3Y,EAAMgyB,WAAa,SAASzf,EAASpQ,EAAS8vB,GAC1C,IAAIhmB,EACAwlB,EACAhC,EACAprB,EACA7B,EACA8pB,EACAtiB,EACAqjB,EACA6E,EACAC,EAGJ,IAAKF,EACDA,EAAQjyB,EAAM2pB,GAAGsI,WACd,GAAIA,EAAMA,MACbA,EAAQA,EAAMA,MAGlB1f,EAAUA,EAAQ6f,SAAW7f,EAAUA,EAAQ,GAE/C+Z,EAAO/Z,EAAQmf,aAAa,QAAU1xB,EAAMurB,GAAK,QAEjD,IAAKe,EACD,OAGJ4F,EAAW5F,EAAK/c,QAAQ,QAAU,EAMlC,GAAI2iB,EACAzC,EAASwC,EAAM3F,QAEfmD,EAASzvB,EAAM6rB,OAAOS,EAAbtsB,CAAmBF,GAGhC,IAAI6G,EAAO/G,EAAE2S,GAAS5L,OAClB0rB,EAAY5C,EAAS,QAAUA,EAAOpsB,GAAGlB,QAAQyb,OAAS6R,EAAOpsB,GAAGlB,QAAQhD,KAAO,GAEvF,GAAI+yB,EACAC,EAAkB,IAAIvd,OAAO,WAAa0X,EAAO,IAAK,UAEtD6F,EAAkB,IAAIvd,OAAO,IAAMyd,EAAY,IAAK,KAGxD,IAAI,IAAI3oB,KAAO/C,EACX,GAAI+C,EAAI1C,MAAMmrB,GAEV,GAAIzoB,IAAQ2oB,EACRpmB,EAAStF,EAAK+C,QAEd,OAAO/C,EAAK+C,GAKxB,IAAK+lB,EACD,OAGJpC,EAAamE,GAAYjf,EAAS,cAElCpQ,EAAUvC,EAAEM,OAAO,GAAIyxB,GAAapf,EAAS3S,EAAEM,OAAO,GAAIuvB,EAAOpsB,GAAGlB,QAASstB,EAAOpsB,GAAGoqB,WAAatrB,GAEpG,GAAIkrB,EACA,UAAWA,IAAepsB,EACtBkB,EAAQkrB,WAAartB,EAAM6rB,OAAOwB,EAAbrtB,CAAyBF,QAE9CqC,EAAQkrB,WAAaA,EAI7B,IAAKhpB,EAAM,EAAG7B,EAASitB,EAAOpsB,GAAGqB,OAAOlC,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACjEotB,EAAShC,EAAOpsB,GAAGqB,OAAOL,GAE1B2F,EAAQwnB,GAAYjf,EAASkf,GAE7B,GAAIznB,IAAUjK,EACVoC,EAAQsvB,GAAUzxB,EAAM6rB,OAAO7hB,EAAbhK,CAAoBF,GAI9C,IAAKmM,EACDA,EAAS,IAAIwjB,EAAOld,EAASpQ,QAC1B,IAAKvC,EAAE0yB,cAAcnwB,GACxB8J,EAAO+hB,WAAW7rB,GAGtB,OAAO8J,GAGXjM,EAAMuyB,oBAAsB,SAASC,GACjC,IAAIP,EAAQ,GACR5tB,EACA7B,EAEJ,IAAKgwB,EAAW,GACZA,EAAa,CAACxyB,EAAM2pB,GAAI3pB,EAAM6pB,QAAQF,IAG1C,IAAKtlB,EAAM,EAAG7B,EAASgwB,EAAWhwB,OAAQ6B,EAAM7B,EAAQ6B,IACpD4tB,EAAM5tB,GAAOmuB,EAAWnuB,GAAK4tB,MAGjC,OAAO/xB,EAAOkD,MAAM,KAAM,CAAC,IAAI4T,OAAOib,EAAM1gB,aAGhDvR,EAAMmD,KAAO,SAASoP,GAClB,IAAI0f,EAAQjyB,EAAMuyB,oBAAoB1wB,EAAMqD,KAAK5C,UAAW,IAE5D1C,EAAE2S,GAASkgB,KAAK,SAAWzyB,EAAMurB,GAAK,SAASmH,UAAUvyB,KAAK,WAC1DH,EAAMgyB,WAAWtvB,KAAM,GAAIuvB,MAInCjyB,EAAM2uB,QAAU,SAASpc,GACrB3S,EAAE2S,GAASkgB,KAAK,SAAWzyB,EAAMurB,GAAK,SAASmH,UAAUvyB,KAAK,WAC1D,IAAIwG,EAAO/G,EAAE8C,MAAMiE,OAEnB,IAAK,IAAI+C,KAAO/C,EACZ,GAAI+C,EAAI6F,QAAQ,WAAa,UAAY5I,EAAK+C,GAAKilB,UAAY3tB,EAC3D2F,EAAK+C,GAAKilB,aAe1B3uB,EAAMopB,OAAS,SAAS7W,EAAS6b,GAC7B,IAAI3E,EAAU7pB,EAAE2S,GAASkgB,KAAK,SAAWzyB,EAAMurB,GAAK,SAASmH,UAAUC,OAAOb,IAE9E,IAAKrI,EAAQjnB,OACT,OAIJ,IAAIowB,EAAehzB,EAAEizB,UAAUpJ,GAC/BmJ,EAAapP,KAAKoO,IAGlBhyB,EAAEO,KAAKyyB,EAAc,WACjB,IAAInD,EAASzvB,EAAM8yB,eAAelzB,EAAE8C,OACpC,GAAI+sB,EACAA,EAAOrG,OAAOgF,MAK1BpuB,EAAM2xB,aAAeA,GAErBzxB,EAAOF,EAAM2pB,GAAI,CACbH,OAAQA,GACRiH,gBAAiBA,GACjBwB,MAAO,GACPc,SAAU,SAASC,EAAWxL,EAAQrlB,GAClC,IAAI8wB,EAAOD,EAAUP,KAAK,mBACtB9xB,EAAUX,EAAMW,QAChB+a,EAAU/a,EAAQ+a,QAClBK,EAAOmX,EAAWC,EAAkBC,EAAqB1Q,EAEzDvgB,EAAUvC,EAAEM,OAAO,GAAI,CACnBmY,MAAO,OACPE,OAAQ,OACRkK,IAAKuQ,EAAUK,YACfC,QAAS,OACVnxB,GAEHugB,EAAWvgB,EAAQmxB,QAAU,0BAA4B,iBAE7D,GAAI9L,GACA,IAAKyL,EAAKzwB,OAAQ,CACduZ,EAAQpb,EAAQob,MAAMiX,GACtBE,EAAYnX,EAAQ,QAAU,OAC9BqX,EAAsBpzB,EAAMwb,WAAWwX,GACvCG,EAAmBzX,EAAQD,QAAWM,EAAQ,EAAIiX,EAAU,GAAG/W,YAAc+W,EAAU3a,QAAU,EAAI+a,EAAuB,EAE5HH,EAAOrzB,EAAEI,EAAMuH,OAAO,uKAAwKmb,EAAU1iB,EAAM2pB,GAAGoJ,SAAS/I,SAASuJ,UAC9Nlb,MAAMlW,EAAQkW,OAAOE,OAAOpW,EAAQoW,QACpChB,IAAI,MAAOpV,EAAQsgB,KACnBlL,IAAI2b,EAAW1yB,KAAKwM,IAAIomB,GAAuBD,GAC/CK,UAAUR,SAEhB,GAAIC,EACPA,EAAKQ,UAGbC,OAAQ,SAASjE,EAAQkE,EAAU/V,GAC/B,IAAIze,EAAOswB,EAAOpsB,GAAGlB,QAAQhD,KACzB0sB,EAEJ8H,EAAWA,GAAY3zB,EAAM2pB,GAC7B/L,EAASA,GAAU,GAEnB+V,EAASx0B,GAAQswB,EAEjBkE,EAAS1B,MAAM9yB,EAAK6P,eAAiBygB,EAErC5D,EAAS,WAAajO,EAASze,EAC/BA,EAAO,QAAUye,EAASze,EAE1B,IAAIy0B,EAAc,CAAEz0B,KAAMA,EAAMswB,OAAQA,EAAQ7R,OAAQA,GAAU,IAClE5d,EAAMypB,QAAQ7kB,KAAKgvB,GAEnB,IAAK,IAAIrxB,EAAI,EAAGsqB,EAAM7sB,EAAM0pB,2BAA2BlnB,OAAQD,EAAIsqB,EAAKtqB,IACpEvC,EAAM0pB,2BAA2BnnB,GAAGqxB,GAGxCh0B,EAAEyD,GAAGlE,GAAQ,SAASgD,GAClB,IAAI6H,EAAQtH,KACRmxB,EAEJ,UAAW1xB,IAAYlB,EAAQ,CAC3B4yB,EAAOhyB,EAAMqD,KAAK5C,UAAW,GAE7BI,KAAKvC,KAAK,WACN,IAAIsvB,EAAS7vB,EAAE+G,KAAKjE,KAAMvD,GACtB20B,EACA7nB,EAEJ,IAAKwjB,EACD,MAAM,IAAInoB,MAAMtH,EAAMuH,OAAO,2DAA4DpF,EAAShD,IAGtG20B,EAASrE,EAAOttB,GAEhB,UAAW2xB,IAAW9yB,EAClB,MAAM,IAAIsG,MAAMtH,EAAMuH,OAAO,kCAAmCpF,EAAShD,IAG7E8M,EAAS6nB,EAAO1wB,MAAMqsB,EAAQoE,GAE9B,GAAI5nB,IAAWlM,EAAW,CACtBiK,EAAQiC,EACR,OAAO,cAIfvJ,KAAKvC,KAAK,WACN,OAAO,IAAIsvB,EAAO/sB,KAAMP,KAIhC,OAAO6H,GAGXpK,EAAEyD,GAAGlE,GAAMswB,OAASA,EAEpB7vB,EAAEyD,GAAGwoB,GAAU,WACX,OAAOnpB,KAAKiE,KAAKxH,OAK7Ba,EAAM2pB,GAAGoJ,SAAS/I,SAAW,CACzBuJ,QAAS,cAGb,IAAIQ,GAAsB,CAAE9vB,KAAM,WAAc,OAAOvB,MAASsxB,WAAY,KAAM7xB,QAAS,IAEvF8xB,GAAezK,GAAOtpB,OAAO,CAC7BiD,KAAM,SAASoP,EAASpQ,GACpBqnB,GAAOnmB,GAAGF,KAAK+B,KAAKxC,KAAM6P,EAASpQ,GACnCO,KAAK6P,QAAQ2hB,cACbxxB,KAAKwW,QAAUxW,KAAK6P,QACpB7P,KAAK6P,QAAQqG,SAAS,cAG1B+V,QAAS,WACLnF,GAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,MACvBA,KAAK6P,QAAQ4hB,gBAGjBhyB,QAAS,CACLyb,OAAQ,UAGZlZ,OAAQ,GAER0vB,KAAM,WACF,IAAIC,EAAc3xB,KAAK6P,QAAQ0K,QAAQjd,EAAMqsB,aAAa,oCAC1D,OAAOrsB,EAAM8yB,eAAeuB,EAAar0B,EAAM4pB,OAAOD,KAAOoK,IAGjEO,uBAAwB,WACpB,IAAIF,EAAO1xB,KAAK0xB,OAChB,OAAOA,GAAQA,EAAKjyB,QAAQoyB,oBAGhCvB,UAAW,WACP,IAAIzgB,EAAU7P,KAAK6P,QAAQ0K,QAAQjd,EAAMqsB,aAAa,2CACtD,OAAOrsB,EAAM8yB,eAAevgB,EAAQiiB,GAAG,GAAIx0B,EAAM4pB,OAAOD,KAAOoK,MAgJvE,SAASU,GAAUliB,EAASmiB,GACxB,IAAIC,EAAWpiB,EAAQoiB,SAAS3lB,cAEhC,OAAQ,sCAAsC3F,KAAKsrB,IAC1CpiB,EAAQqiB,SACT,MAAQD,EACRpiB,EAAQsiB,MAAQH,EAChBA,IAEJI,GAAQviB,GAGhB,SAASuiB,GAAQviB,GACb,OAAO3S,EAAE8rB,KAAKqJ,QAAQD,QAAQviB,KACzB3S,EAAE2S,GAASyiB,UAAUtC,UAAUC,OAAO,WACnC,OAAO/yB,EAAE2X,IAAI7U,KAAK,gBAAkB,WACrCF,OA5JXtC,EAAOF,EAAM4pB,OAAQ,CACjBzmB,KAAM,SAASoP,GACXvS,EAAMmD,KAAKoP,EAASvS,EAAM4pB,OAAOD,GAAI3pB,EAAM2pB,GAAI3pB,EAAM6pB,QAAQF,KAGjEsL,wBAAyB,WACrB,OAAOj1B,EAAM4pB,OAAOsL,aAAel1B,EAAM4pB,OAAOsL,YAAY/yB,SAAWnC,EAAM4pB,OAAOsL,YAAY/yB,QAAQoyB,oBAG5GtC,MAAO,GAEPtI,GAAI,CACAH,OAAQyK,GACRxD,gBAAiBA,GAAgBvwB,OAAO+zB,GAAa3wB,WACrD2uB,MAAO,GACPyB,OAAQ,SAASjE,GACbzvB,EAAM2pB,GAAG+J,OAAOjE,EAAQzvB,EAAM4pB,OAAOD,GAAI,cAKrDjmB,GAAW1D,EAAM6pB,QAAS,CACtB1mB,KAAM,SAASoP,GACXvS,EAAMmD,KAAKoP,EAASvS,EAAM6pB,QAAQF,KAEtCA,GAAI,CACAsI,MAAO,GACPkD,OAAQ,GACRC,MAAO,GACP1B,OAAQ,SAASjE,GACbzvB,EAAM2pB,GAAG+J,OAAOjE,EAAQzvB,EAAM6pB,QAAQF,MAG9CsI,MAAO,KAGXjyB,EAAMq1B,cAAgB,SAASvE,EAAU3uB,GAErC,IAAKA,EAAUA,EAAU,GAEzBA,EAAQmzB,UAAY,KAEpB,OAAO11B,EAAEkxB,GAAUld,IAAI,SAASvP,EAAKkO,GACjCA,EAAU3S,EAAE2S,GACZ,GAAI5R,EAAQwkB,qBAAuBnlB,EAAM4pB,OAAOD,GAAG4L,WAAahjB,EAAQ5L,KAAK,uBAAwB,CACjG4L,EAAQijB,oBAAoBrzB,GAC5B,OAAOoQ,EAAQ5L,KAAK,4BAEpB,OAAO,QAEZ,IAGP3G,EAAM4D,eAAiB,SAASoB,GAC5BA,EAAEpB,kBAGN5D,EAAM8yB,eAAiB,SAASvgB,EAASkjB,GACrC,IAAInJ,EAAO/Z,EAAQ5L,KAAK3G,EAAMurB,GAAK,QAC/B9B,EAAU,GAAIlnB,EAAGC,EACjBkzB,EAAcnjB,EAAQ5L,KAAK,aAE/B,GAAI2lB,EAAM,CAEN,GAAIA,IAAS,UACTA,EAAO,WAKX,GAAIA,IAAS,gBAAiB,CAC1B,IAAIqJ,EAAgBpjB,EAAQ5L,KAAK,sBACjC,GAAIgvB,EACA,OAAOA,EAMf,GAAIrJ,IAAS,QAAUoJ,EACnB,OAAOA,EAGX,GAAID,EACA,GAAIA,EAAO,GACP,IAAKlzB,EAAI,EAAGC,EAASizB,EAAOjzB,OAAQD,EAAIC,EAAQD,IAC5CknB,EAAQ7kB,KAAK6wB,EAAOlzB,GAAG0vB,MAAM3F,SAGjC7C,EAAQ7kB,KAAK6wB,EAAOxD,MAAM3F,SAI9B7C,EAAU,CAAEzpB,EAAM2pB,GAAGsI,MAAM3F,GAAOtsB,EAAM6pB,QAAQF,GAAGsI,MAAM3F,GAAQtsB,EAAM4pB,OAAOD,GAAGsI,MAAM3F,IAG3F,GAAIA,EAAK/c,QAAQ,MAAQ,EACrBka,EAAU,CAAEzpB,EAAM6rB,OAAOS,EAAbtsB,CAAmBF,IAGnC,IAAKyC,EAAI,EAAGC,EAASinB,EAAQjnB,OAAQD,EAAIC,EAAQD,IAAM,CACnD,IAAIktB,EAAShG,EAAQlnB,GACrB,GAAIktB,EAAQ,CACR,IAAIrJ,EAAW7T,EAAQ5L,KAAK,QAAU8oB,EAAOpsB,GAAGlB,QAAQyb,OAAS6R,EAAOpsB,GAAGlB,QAAQhD,MACnF,GAAIinB,EACA,OAAOA,MAO3BpmB,EAAM41B,SAAW,SAAS/M,GACtB,IAAIrkB,EAAUqkB,EACd,GAAIloB,EAAQsgB,SAASjC,QACjBxa,EAAU,WAAaqxB,WAAWhN,EAAU,MAGhDjpB,EAAEE,GAAQgpB,GAAGnoB,EAAQyoB,OAAQ5kB,GAC7B,OAAOA,GAGXxE,EAAM81B,aAAe,SAASjN,GAC1BjpB,EAAEE,GAAQi2B,IAAIp1B,EAAQyoB,OAAQP,IAGlC7oB,EAAMg2B,UAAY,SAASzjB,EAAS7I,GAChC,OAAO6I,EAAQ5L,KAAK3G,EAAMurB,GAAK7hB,IAGnC1J,EAAM6L,KAAO,CACToqB,OAAQ,EACRC,OAAQ,EACRC,QAAS,EACTC,UAAW,EACXC,SAAU,EACVC,OAAQ,EACRC,SAAU,GAsBd32B,EAAEM,OAAON,EAAE8rB,KAAKqJ,QAAS,CACrByB,eAAgB,SAASjkB,GACrB,IAAIlO,EAAMzE,EAAEiZ,KAAKtG,EAAS,YAC1B,OAAOkiB,GAAUliB,GAAUiE,MAAMnS,IAAQA,GAAO,MAIxD,IAAIoyB,GAAe,CAAC,YAAa,YAAa,aAAc,aAAc,YAAa,WAAY,UAAW,SAC1GC,GAA8B,oCAE9BC,EAAuB,CACvBC,eAAgB,WACZ,IAAIvyB,EAAM,EACN7B,EAASi0B,GAAaj0B,OACtB+P,EAAUL,SAASE,gBAEvB,GAAIukB,EAAqBE,YAAcl2B,EAAQiiB,aAC3C,OAGJ+T,EAAqBE,UAAY,KAEjCF,EAAqBG,UAAY,MACjCH,EAAqBI,aAAe,MAEpC,IAAIvyB,EAAU,SAASQ,GACnB,GAAI2xB,EAAqBI,aACrB,GAAI/xB,EAAEiF,OAAS,SACX,GAAI0sB,EAAqBG,YAAcl3B,EAAEoF,EAAE3C,QAAQsW,GAAG+d,IAA8B,CAChF1xB,EAAEpB,iBACFoB,EAAEgyB,wBAGNhyB,EAAEgyB,mBAKd,KAAO3yB,EAAM7B,EAAQ6B,IACjBkO,EAAQsQ,iBAAiB4T,GAAapyB,GAAMG,EAAS,OAI7DyyB,UAAW,SAASjyB,GAChB2xB,EAAqBI,aAAe,KACpC,GAAI/xB,EAAE2B,KAAKmwB,UACPH,EAAqBG,UAAY,KAErCI,aAAaP,EAAqBQ,qBAGtCC,YAAa,WACTF,aAAaP,EAAqBQ,oBAClCR,EAAqBQ,mBAAqBtB,WAAW,WACjDc,EAAqBI,aAAe,MACpCJ,EAAqBG,UAAY,OAClC,OAIPO,GAAW,CACXhS,KAAM,uBACNiS,KAAM,sBACNhS,GAAI,+BACJiS,OAAQ,0BAGZ,GAAI52B,EAAQyc,QAAUzc,EAAQsgB,SAASrB,KAAOjf,EAAQsgB,SAASjC,SAC3DqY,GAAW,CACPhS,KAAM,aACNiS,KAAM,YACNhS,GAAI,uBACJiS,OAAQ,oBAET,GAAI52B,EAAQkkB,SACfwS,GAAW,CACPhS,KAAM,cACNiS,KAAM,cACNhS,GAAI,YACJiS,OAAQ,mCAET,GAAI52B,EAAQmkB,WACfuS,GAAW,CACPhS,KAAM,gBACNiS,KAAM,gBACNhS,GAAI,cACJiS,OAAQ,kCAIhB,GAAI52B,EAAQmkB,cAAgB,qBAAsBhlB,GAE9CF,EAAEO,KAAK,CACHq3B,eAAgB,gBAChBC,eAAgB,gBACjB,SAAUC,EAAMC,GACf/3B,EAAEme,MAAM6Z,QAASF,GAAS,CACtBG,aAAcF,EACdG,SAAUH,EAEVI,OAAQ,SAAUha,GACd,IAAIia,EACA31B,EAASK,KACTu1B,EAAUla,EAAMma,cAChBC,EAAYpa,EAAMoa,UAItB,IAAMF,GAAYA,IAAY51B,IAAWzC,EAAEiyB,SAAUxvB,EAAQ41B,GAAa,CACtEla,EAAM9T,KAAOkuB,EAAUC,SACvBJ,EAAMG,EAAU3zB,QAAQpB,MAAOV,KAAMJ,WACrCyb,EAAM9T,KAAO0tB,EAEjB,OAAOK,MAOvB,IAAIK,GAAc,SAASrzB,GAAK,OAAQqyB,GAASryB,IAAMA,GACnDszB,GAAa,WA6BbxP,IA3BJ9oB,EAAMu4B,cAAgB,SAAS7zB,EAAQ6mB,GACnC7mB,EAASA,EAAO7B,QAAQy1B,GAAYD,IAEpC,GAAI9M,EACA7mB,EAASA,EAAO7B,QAAQy1B,GAAY,MAAQ/M,GAGhD,OAAO7mB,GAGX1E,EAAMw4B,eAAiB,SAASxzB,EAAGyqB,GAC/B,IAAI/qB,EAAS+qB,EAAOzrB,QAAQy0B,aAE5B,IAAI/zB,EACA,OAAO,KAGXA,EAASA,EAAO7C,QAChBmD,EAAEC,OAASwqB,EACXzqB,EAAE0zB,oBAAsB,MACxB,IAAK,IAAIr0B,EAAM,EAAG7B,EAASkC,EAAOlC,OAAQ6B,EAAM7B,EAAQ6B,IACpDK,EAAOL,GAAKa,KAAKuqB,EAAQzqB,GAG7B,OAAQA,EAAE0zB,qBAGL94B,EAAEyD,GAAGylB,IAEd,SAAS6P,GAAY5U,EAAU6U,GAC3B,OAAO,IAAID,GAAYt1B,GAAGF,KAAK4gB,EAAU6U,GAG7C72B,EAAkB,KAAM42B,GAAa/4B,MAErC+4B,GAAYt1B,GAAKs1B,GAAYr1B,UAAY,IAAI1D,GAE9B2D,YAAco1B,IAEjBt1B,GAAGF,KAAO,SAAS4gB,EAAU6U,GACrC,GAAIA,GAAWA,aAAmBh5B,KAAOg5B,aAAmBD,IACxDC,EAAUD,GAAYC,GAG1B,OAAOh5B,EAAEyD,GAAGF,KAAK+B,KAAKxC,KAAMqhB,EAAU6U,EAASC,MAG/Bv1B,UAAYq1B,GAAYt1B,GAE5C,IAAIw1B,GAAaF,GAAYzmB,UAikBzB4mB,IA/jBJ54B,EAAOy4B,GAAYt1B,GAAI,CACnBmB,QAAS,SAASA,GACd9B,KAAKiE,KAAK,UAAWnC,GACrB,OAAO9B,MAGXwxB,YAAa,SAAS3I,GAClB7oB,KAAKiE,KAAK,UAAW4kB,GAAMvrB,EAAMksB,QACjC,OAAOxpB,MAGXomB,GAAI,WACA,IAAI7lB,EAAOP,KACP6oB,EAAKtoB,EAAK0D,KAAK,WAGnB,GAAIrE,UAAUE,SAAW,EACrB,OAAOsmB,GAAG5jB,KAAKjC,EAAMX,UAAU,IAGnC,IAAIs2B,EAAU31B,EACV4wB,EAAOhyB,EAAMqD,KAAK5C,WAEtB,UAAWuxB,EAAKA,EAAKrxB,OAAQ,KAAOlB,EAChCuyB,EAAKkF,MAGT,IAAIlQ,EAAYgL,EAAKA,EAAKrxB,OAAS,GAC/BkC,EAAS1E,EAAMu4B,cAAc1E,EAAK,GAAItI,GAG1C,GAAI5qB,EAAQ2gB,sBAAwB5c,EAAOs0B,OAAO,gBAAkB,GAAKt2B,KAAK,KAAOwP,SAASE,gBAAiB,CAC3GukB,EAAqBC,iBAErB,IAAI7S,EAAW8P,EAAKrxB,SAAW,EAAI,KAAOqxB,EAAK,GAC3CiD,EAAYpyB,EAAO6K,QAAQ,UAAY,GAAK7K,EAAO6K,QAAQ,aAAe,EAE9EuZ,GAAG5jB,KAAKxC,KACJ,CACIu2B,WAAYtC,EAAqBM,UACjCiC,SAAUvC,EAAqBS,aAEnCrT,EACA,CACI+S,UAAWA,IAIvB,GAAGx0B,UAAU,GAAGiN,QAAQ,cAAgB,GAAKskB,EAAK,IAAMA,EAAK,GAAG1xB,QAAQ,CACpE0xB,EAAK,GAAKnvB,EACV,IAAI+qB,EAASoE,EAAK,GAClB,IAAIsF,EAAkBtF,EAAKA,EAAKrxB,OAAS,GACzCqxB,EAAKA,EAAKrxB,OAAS,GAAI,SAASwC,GAC5B,GAAGhF,EAAMw4B,eAAexzB,EAAGyqB,GACxB,OAAO0J,EAAgB/1B,MAAMV,KAAM,CAACsC,KAG3C8jB,GAAG1lB,MAAMH,EAAM4wB,GACf,OAAO5wB,EAGX,UAAW4lB,IAAa5nB,EAAQ,CAC5B23B,EAAU31B,EAAK0D,KAAK,WACpBkiB,EAAW+P,EAAQ/P,GAEnBgL,EAAKA,EAAKrxB,OAAS,GAAK,SAASwC,GAC7B6jB,EAAS3jB,KAAK0zB,EAAS5zB,IAI/B6uB,EAAK,GAAKnvB,EAEVokB,GAAG1lB,MAAMH,EAAM4wB,GAEf,OAAO5wB,GAGXkxB,aAAc,SAAS5I,GACnBA,EAAKA,GAAM7oB,KAAKiE,KAAK,WAErB,GAAI4kB,EACA7oB,KAAKqzB,IAAI,IAAMxK,GAGnB,OAAO7oB,QAIf1C,EAAMH,OAAS84B,GACf34B,EAAMq3B,SAAWA,GAEjBr3B,EAAMmX,SAAW,WACb,IAAIrL,EAAU,CAAEstB,IAAK,EAAGC,IAAK,EAAGC,IAAK,EAAGC,IAAK,EAAGC,IAAK,EAAGC,IAAK,EAAGC,IAAK,EAAGC,IAAK,EAAGC,IAAK,EAAGC,IAAK,EAAGC,IAAK,GAAIC,IAAK,IAC9G,IAAIluB,EAAO,CAAEmuB,IAAK,EAAGC,IAAK,EAAGC,IAAK,EAAGC,IAAK,EAAGC,IAAK,EAAGC,IAAK,EAAGC,IAAK,GAElE,SAASC,EAAWjlB,EAAMklB,GACtB,IAAI/uB,EACJ,IAAIgvB,EACJ,IAAIC,EACJ,IAAInlB,EAAQilB,EAAK,GACjB,IAAI1R,EAAK0R,EAAK,GACd,IAAIG,EAAOH,EAAK,GAChB,IAAII,EAAQJ,EAAK,GAEjB,IAAKI,EACDJ,EAAK,GAAKI,EAAQ,GAGtB,GAAIA,EAAMtlB,GACN,OAAOslB,EAAMtlB,GAGjB,IAAKkB,MAAMsS,GACPrd,EAAO,IAAIpD,KAAKA,KAAKyN,IAAIR,EAAMxJ,EAAOyJ,GAAQuT,EAAI6R,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAI,SAC1E,GAAI7R,EAAGvZ,QAAQ,UAAY,EAAG,CACjC9D,EAAO,IAAIpD,KAAKA,KAAKyN,IAAIR,EAAMxJ,EAAOyJ,GAAS,EAAG,EAAGolB,EAAK,GAAK,GAAIA,EAAK,GAAIA,EAAK,GAAI,IAErFF,EAAY5uB,EAAKid,EAAGjU,OAAO,EAAG,IAC9B6lB,EAASjvB,EAAKovB,YAEdpvB,EAAKqvB,WAAWrvB,EAAK9C,aAAe8xB,EAAYC,GAAUD,EAAYC,EAAS,EAAI,SAChF,GAAI5R,EAAGvZ,QAAQ,OAAS,EAAG,CAC9B9D,EAAO,IAAIpD,KAAKA,KAAKyN,IAAIR,EAAMxJ,EAAOyJ,GAAQuT,EAAGjU,OAAO,GAAI8lB,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAI,IAEvFF,EAAY5uB,EAAKid,EAAGjU,OAAO,EAAG,IAC9B6lB,EAASjvB,EAAKovB,YAEdpvB,EAAKqvB,WAAWrvB,EAAK9C,aAAe8xB,EAAYC,GAAUD,EAAYC,EAAS,EAAI,SAChF,GAAI5R,EAAGvZ,QAAQ,OAAS,EAAG,CAC9B9D,EAAO,IAAIpD,KAAKA,KAAKyN,IAAIR,EAAMxJ,EAAOyJ,GAAQuT,EAAGjU,OAAO,GAAI8lB,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAI,IAEvFF,EAAY5uB,EAAKid,EAAGjU,OAAO,EAAG,IAC9B6lB,EAASjvB,EAAKovB,YAEdpvB,EAAKqvB,WAAWrvB,EAAK9C,aAAe8xB,EAAYC,GAAUD,EAAYC,EAAS,EAAI,IAGvF,OAAOE,EAAMtlB,GAAQ7J,EAGzB,SAASsvB,EAASC,EAASC,EAAOC,GAC9BD,EAAQA,EAAMC,GAEd,IAAKD,EAAO,CACR,IAAIN,EAAOO,EAAK31B,MAAM,KACtB,IAAIoR,EAAS,EAEb,GAAIgkB,EAAKn4B,OAAS,EACdmU,EAASgkB,EAAK,GAAK,GAAK3xB,OAAO2xB,EAAK,IAGxC,MAAO,EAAE,IAAS,MAAO,IAAK,MAAO,EAAG,CAAC,EAAG,EAAG,GAAIhkB,EAAQ,KAG/D,IAAIrB,EAAO,IAAIjN,KAAK2yB,GAASvyB,iBAE7BwyB,EAAQp7B,OAAOs7B,KAAKF,EAAO,SAAST,GAChC,IAAIY,EAAOZ,EAAK,GAChB,IAAIa,EAAKb,EAAK,GAEd,OAAOY,GAAQ9lB,IAAS+lB,GAAM/lB,GAAS8lB,GAAQ9lB,GAAQ+lB,GAAM,QAAWA,GAAM,SAGlFJ,EAAMr2B,KAAKo2B,GAEXC,EAAMzX,KAAK,SAASla,EAAGma,GACnB,UAAWna,GAAK,SACZA,EAAIN,OAAOuxB,EAAWjlB,EAAMhM,IAGhC,UAAWma,GAAK,SACZA,EAAIza,OAAOuxB,EAAWjlB,EAAMmO,IAGhC,OAAOna,EAAIma,IAGf,IAAI+W,EAAOS,EAAMp7B,OAAOkyB,QAAQiJ,EAASC,GAAS,IAAMA,EAAMA,EAAMz4B,OAAS,GAE7E,OAAOgU,MAAMgkB,GAAQA,EAAO,KAGhC,SAASc,EAASN,EAASO,EAAOpkB,GAC9B,IAAIqkB,EAAYD,EAAMpkB,GAEtB,UAAWqkB,IAAc,SACrBA,EAAYD,EAAMC,GAGtB,IAAKA,EACD,MAAM,IAAIl0B,MAAM,aAAe6P,EAAW,qEAG9C,IAAK,IAAI9S,EAAMm3B,EAAUh5B,OAAS,EAAG6B,GAAO,EAAGA,IAAO,CAClD,IAAIo3B,EAAQD,EAAUn3B,GAAK,GAE3B,GAAIo3B,GAAST,EAAUS,EACnB,MAIR,IAAIP,EAAOM,EAAUn3B,EAAM,GAE3B,IAAK62B,EACD,MAAM,IAAI5zB,MAAM,aAAe6P,EAAW,kBAAoB6jB,EAAU,KAG5E,OAAOE,EAGX,SAASQ,EAAYV,EAASO,EAAON,EAAO9jB,GACxC,UAAW6jB,GAAW95B,EAClB85B,EAAU3yB,KAAKyN,IAAIklB,EAAQxuB,cAAewuB,EAAQzuB,WAC9CyuB,EAAQ7uB,UAAW6uB,EAAQvuB,WAAYuuB,EAAQtuB,aAC/CsuB,EAAQruB,aAAcquB,EAAQpuB,mBAGtC,IAAIsuB,EAAOI,EAASN,EAASO,EAAOpkB,GAEpC,MAAO,CACH+jB,KAAMA,EACNV,KAAMO,EAASC,EAASC,EAAOC,EAAK,KAI5C,SAASvkB,EAAOqkB,EAAS7jB,GACrB,GAAIA,GAAY,WAAaA,GAAY,UACrC,OAAO,EAGX,IAAIwkB,EAAOD,EAAYV,EAASt4B,KAAK64B,MAAO74B,KAAKu4B,MAAO9jB,GACxD,IAAI+jB,EAAOS,EAAKT,KAChB,IAAIV,EAAOmB,EAAKnB,KAEhB,OAAOx6B,EAAMuW,WAAWikB,EAAMU,EAAK,GAAKV,EAAK,GAAKU,EAAK,IAG3D,SAASlrB,EAAKgrB,EAAS7jB,GACnB,IAAIwkB,EAAOD,EAAYV,EAASt4B,KAAK64B,MAAO74B,KAAKu4B,MAAO9jB,GACxD,IAAI+jB,EAAOS,EAAKT,KAChB,IAAIV,EAAOmB,EAAKnB,KAEhB,IAAIz3B,EAAOm4B,EAAK,GAEhB,GAAIn4B,EAAKwM,QAAQ,MAAQ,EACrB,OAAOxM,EAAKwC,MAAM,KAAKi1B,IAASA,EAAK,GAAK,EAAI,QAC3C,GAAIz3B,EAAKwM,QAAQ,OAAS,EAC7B,OAAOxM,EAAKF,QAAQ,MAAQ23B,GAAQA,EAAK,IAAM,IAAO,GAAKA,EAAK,IAGpE,OAAOz3B,EAGX,SAASqU,EAAQ3L,EAAMmwB,EAAYC,GAC/B,IAAIC,EAAeD,EACnB,IAAIE,EAEJ,UAAWH,GAAc36B,EACrB26B,EAAal5B,KAAKiU,OAAOlL,EAAMmwB,GAGnC,UAAWC,GAAY56B,EACnB46B,EAAWn5B,KAAKiU,OAAOlL,EAAMowB,GAGjC,IAAIG,EAAkBvwB,EAAKsB,oBAE3BtB,EAAO,IAAIpD,KAAKoD,EAAKyO,WAAa0hB,EAAaC,GAAY,KAE3D,IAAII,EAAgBxwB,EAAKsB,oBAEzB,UAAW+uB,GAAgB76B,EACvB66B,EAAep5B,KAAKiU,OAAOlL,EAAMqwB,GAGrCC,EAAQE,EAAgBD,GAAoBH,EAAWC,GAEvD,OAAO,IAAIzzB,KAAKoD,EAAKyO,UAAY6hB,EAAO,KAG5C,SAAS34B,EAAMqI,EAAM0L,GAClB,OAAOzU,KAAK0U,QAAQ3L,EAAMA,EAAKsB,oBAAqBoK,GAGvD,SAASsc,EAAOhoB,EAAM0L,GACnB,OAAOzU,KAAK0U,QAAQ3L,EAAM0L,EAAU1L,EAAKsB,qBAG5C,SAASmvB,EAAYvB,GACjB,OAAOj4B,KAAKU,MAAM,IAAIiF,KAAKsyB,GAAO,WAGtC,MAAO,CACJY,MAAO,GACPN,MAAO,GACPtkB,OAAQA,EACRS,QAASA,EACThU,MAAOA,EACPqwB,OAAQA,EACRzjB,KAAMA,EACNksB,YAAaA,GAjNH,GAqNjBl8B,EAAMyL,KAAO,WACT,IAAI0wB,EAAgB,IAChBC,EAAa,MAEjB,SAASvoB,EAAUpI,EAAMqI,GACrB,GAAIA,IAAU,GAAKrI,EAAKgB,aAAe,GAAI,CACvChB,EAAKsI,SAAStI,EAAKgB,WAAa,GAChC,OAAO,KAGX,OAAO,MAGX,SAAS4vB,EAAa5wB,EAAM+J,EAAK8mB,GAC7B,IAAIxoB,EAAQrI,EAAKgB,WAEjB6vB,EAAMA,GAAO,EACb9mB,GAAQA,EAAM/J,EAAKY,SAAa,EAAIiwB,GAAQ,EAE5C7wB,EAAK8wB,QAAQ9wB,EAAKU,UAAYqJ,GAC9B3B,EAAUpI,EAAMqI,GAGpB,SAAS0oB,EAAU/wB,EAAM+J,EAAK8mB,GAC1B7wB,EAAO,IAAIpD,KAAKoD,GAChB4wB,EAAa5wB,EAAM+J,EAAK8mB,GACxB,OAAO7wB,EAGX,SAASgxB,EAAgBhxB,GACrB,OAAO,IAAIpD,KACPoD,EAAKe,cACLf,EAAKc,WACL,GAIR,SAASmwB,EAAejxB,GACpB,IAAIkxB,EAAO,IAAIt0B,KAAKoD,EAAKe,cAAef,EAAKc,WAAa,EAAG,GACzD1H,EAAQ43B,EAAgBhxB,GACxBmxB,EAAap8B,KAAKwM,IAAI2vB,EAAK5vB,oBAAsBlI,EAAMkI,qBAE3D,GAAI6vB,EACAD,EAAK5oB,SAASlP,EAAM4H,WAAcmwB,EAAa,IAGnD,OAAOD,EAGX,SAASE,EAAepxB,GACpB,OAAO,IAAIpD,KAAKoD,EAAKe,cAAe,EAAG,GAG3C,SAASswB,EAAcrxB,GACnB,OAAO,IAAIpD,KAAKoD,EAAKe,cAAe,GAAI,IAG5C,SAASuwB,EAAoBtxB,EAAMuxB,GAC/B,GAAIA,IAAiB,EACjB,OAAOC,EAAQT,EAAU/wB,EAAMuxB,GAAe,GAAI,GAGtD,OAAOC,EAAQxxB,EAAO,GAAKA,EAAKY,UAAY,IAGhD,SAAS6wB,EAAezxB,EAAMuxB,GAC1B,IAAIG,EAAkB,IAAI90B,KAAKoD,EAAKe,cAAe,EAAG,GAAI,GAE1D,IAAI4wB,EAAUL,EAAoBtxB,EAAMuxB,GAExC,IAAIK,EAAWD,EAAQljB,UAAYijB,EAAgBjjB,UAEnD,IAAIrO,EAAOrL,KAAK6G,MAAMg2B,EAAWjB,GAEjC,OAAO,EAAI57B,KAAK6G,MAAMwE,EAAO,GAGjC,SAASyxB,EAAW7xB,EAAMuxB,GACtB,GAAGA,IAAiBj9B,EAChBi9B,EAAeh9B,EAAMoL,UAAUM,SAASuF,SAG5C,IAAIssB,EAAeN,EAAQxxB,GAAO,GAClC,IAAI+xB,EAAeP,EAAQxxB,EAAM,GAEjC,IAAIgyB,EAAaP,EAAezxB,EAAMuxB,GAEtC,GAAIS,IAAe,EACf,OAAOP,EAAeK,EAAcP,GAAgB,EAGxD,GAAIS,IAAe,IAAMP,EAAeM,EAAcR,GAAgB,EAClE,OAAO,EAGX,OAAOS,EAGX,SAAStxB,EAAQV,GACbA,EAAO,IAAIpD,KAAKoD,EAAKe,cAAef,EAAKc,WAAYd,EAAKU,UAAW,EAAG,EAAG,GAC3E0H,EAAUpI,EAAM,GAChB,OAAOA,EAGX,SAASiyB,EAAUjyB,GACf,OAAOpD,KAAKyN,IAAIrK,EAAKe,cAAef,EAAKc,WAC7Bd,EAAKU,UAAWV,EAAKgB,WAAYhB,EAAKiB,aACtCjB,EAAKkB,aAAclB,EAAKmB,mBAGxC,SAASA,EAAgBnB,GACrB,OAAOkyB,EAAgBlyB,GAAMyO,UAAY/N,EAAQwxB,EAAgBlyB,IAGrE,SAASmyB,EAAc5zB,EAAOyH,EAAK7B,GAC/B,IAAIiuB,EAAQjxB,EAAgB6E,GACxBqsB,EAAQlxB,EAAgBgD,GACxBmuB,EAEJ,IAAK/zB,GAAS6zB,GAASC,EACnB,OAAO,KAGX,GAAIrsB,GAAO7B,EACPA,GAAOwsB,EAGX2B,EAAUnxB,EAAgB5C,GAE1B,GAAI6zB,EAAQE,EACRA,GAAW3B,EAGf,GAAI0B,EAAQD,EACRC,GAAS1B,EAGb,OAAO2B,GAAWF,GAASE,GAAWD,EAG1C,SAASE,EAAch0B,EAAOyH,EAAK7B,GAC/B,IAAIiuB,EAAQpsB,EAAIyI,UACZ4jB,EAAQluB,EAAIsK,UACZ6jB,EAEJ,GAAIF,GAASC,EACTA,GAAS1B,EAGb2B,EAAU/zB,EAAMkQ,UAEhB,OAAO6jB,GAAWF,GAASE,GAAWD,EAG1C,SAASb,EAAQxxB,EAAMkL,GACnB,IAAI7C,EAAQrI,EAAKgB,WACbhB,EAAO,IAAIpD,KAAKoD,GAEpBwyB,EAAQxyB,EAAMkL,EAASylB,GACvBvoB,EAAUpI,EAAMqI,GAChB,OAAOrI,EAGX,SAASwyB,EAAQxyB,EAAMiK,EAAcwoB,GACjC,IAAIvnB,EAASlL,EAAKsB,oBAClB,IAAIoxB,EAEJ1yB,EAAKwyB,QAAQxyB,EAAKyO,UAAYxE,GAE9B,IAAKwoB,EAAW,CACZC,EAAa1yB,EAAKsB,oBAAsB4J,EACxClL,EAAKwyB,QAAQxyB,EAAKyO,UAAYikB,EAAahC,IAInD,SAASpoB,EAAStI,EAAMkvB,GACpBlvB,EAAO,IAAIpD,KAAKoD,EAAKe,cAAef,EAAKc,WAAYd,EAAKU,UAAWwuB,EAAKluB,WAAYkuB,EAAKjuB,aAAciuB,EAAKhuB,aAAcguB,EAAK/tB,mBACjIiH,EAAUpI,EAAMkvB,EAAKluB,YACrB,OAAOhB,EAGX,SAAS2yB,IACL,OAAOjyB,EAAQ,IAAI9D,MAGvB,SAASg2B,EAAQ5yB,GACd,OAAOU,EAAQV,GAAMyO,WAAakkB,IAAQlkB,UAG7C,SAASyjB,EAAgBlyB,GACrB,IAAI6yB,EAAa,IAAIj2B,KAAK,KAAM,EAAG,EAAG,EAAG,EAAG,GAE5C,GAAIoD,EACA6yB,EAAWvqB,SAAStI,EAAKgB,WAAYhB,EAAKiB,aAAcjB,EAAKkB,aAAclB,EAAKmB,mBAGpF,OAAO0xB,EAGX,SAASC,EAAQ9yB,EAAMkL,GACnB,IAAI6nB,EAAc,IAAIn2B,KAAKoD,GAE3B,OAAO,IAAIpD,KAAKm2B,EAAY/nB,YAAY+nB,EAAYhyB,cAAgBmK,IAGxE,MAAO,CACH9C,UAAWA,EACX2oB,UAAWA,EACXH,aAAcA,EACdlwB,QAASA,EACT6xB,cAAeA,EACfJ,cAAeA,EACfS,QAASA,EACTI,QAAS,SAAShzB,GACd,OAAOwxB,EAAQxxB,EAAM,IAEzBizB,YAAa,SAASjzB,GAClB,OAAOwxB,EAAQxxB,GAAO,IAE1BiyB,UAAWA,EACXtB,WAAYA,EACZuC,YAAa,GAAKxC,EAClBA,cAAeA,EACf8B,QAASA,EACTlqB,SAAUA,EACVkpB,QAASA,EACTmB,MAAOA,EACPT,gBAAiBA,EACjBlB,gBAAiBA,EACjBC,eAAgBA,EAChBY,WAAYA,EACZ1wB,gBAAiBA,EACjBiwB,eAAgBA,EAChBC,cAAeA,EACf8B,SAAU,SAASnzB,GACf,OAAO8yB,EAAQ9yB,EAAM,IAEzBozB,aAAc,SAASpzB,GACnB,OAAO8yB,EAAQ9yB,GAAO,KA9OrB,GAoPbzL,EAAM8+B,gBAAkB,SAASvsB,GAC7B,GAAIL,SAAS6sB,mBAAoB,CAC7B,IAAIC,EAAW9sB,SAAS6sB,mBAAmBxsB,EAAS0sB,WAAWC,UAAW,SAASC,GAC3E,OAAOA,EAAKjb,YAAc3R,EAAU0sB,WAAWG,cAAgBH,WAAWI,eAC3E,OAEP,MAAOL,EAASM,WACZ,GAAIN,EAASO,gBAAkBP,EAASO,cAAcC,YAAYC,OAC9DT,EAASO,cAAcrb,WAAWlH,YAAYgiB,EAASO,oBAI/D,IAAK,IAAIh9B,EAAI,EAAGA,EAAIgQ,EAAQmtB,WAAWl9B,OAAQD,IAAK,CAChD,IAAIo9B,EAAQptB,EAAQmtB,WAAWn9B,GAE/B,GAAIo9B,EAAMvN,UAAY,IAAM,KAAK/oB,KAAKs2B,EAAMC,WAAY,CACpDrtB,EAAQyK,YAAY2iB,GACpBp9B,IAGJ,GAAIo9B,EAAMvN,UAAY,EAClBpyB,EAAM8+B,gBAAgBa,KAMhB7/B,EAAO+/B,uBACP//B,EAAOggC,6BACPhgC,EAAOigC,0BACPjgC,EAAOkgC,wBACPlgC,EAAOmgC,yBACP,SAASpX,GAAWgN,WAAWhN,EAAU,IAAO,MAMlEqX,IAJJlgC,EAAM84B,eAAiB,SAASjQ,GAC5BiQ,GAAe5zB,KAAKpF,EAAQ+oB,IAGX,IA4XjBsX,IA1XJngC,EAAMogC,eAAiB,SAASvX,GAC5BqX,GAAeA,GAAe19B,QAAUqmB,EACxC,GAAIqX,GAAe19B,SAAW,EAC1BxC,EAAMqgC,oBAIdrgC,EAAMqgC,iBAAmB,WACrBrgC,EAAM84B,eAAe,WACjB,GAAIoH,GAAe,GAAI,CACnBA,GAAe7uB,OAAf6uB,GACA,GAAIA,GAAe,GACflgC,EAAMqgC,uBAMtBrgC,EAAMsgC,uBAAyB,SAAS7U,GACpC,IAAI8U,EAAc9U,EAAIlmB,MAAM,KAAK,IAAM,GACnCi7B,EAAS,GACTC,EAAaF,EAAYh7B,MAAM,OAC/B/C,EAASi+B,EAAWj+B,OACpB6B,EAAM,EAEV,KAAOA,EAAM7B,EAAQ6B,GAAO,EACxB,GAAGo8B,EAAWp8B,KAAS,GACnBm8B,EAAOxY,mBAAmByY,EAAWp8B,KAAS2jB,mBAAmByY,EAAWp8B,EAAM,IAI1F,OAAOm8B,GAGXxgC,EAAM0gC,mBAAqB,SAAS17B,GAChC,UAAWA,EAAE27B,EAAEC,QAAU,YACrB,OAAO1uB,SAASwW,iBAAiB1jB,EAAE27B,EAAEC,OAAQ57B,EAAE6L,EAAE+vB,SAIzD5gC,EAAM6gC,YAAc,SAASC,GACzB,IAAI97B,EAAI87B,EAAYtY,cAChBuY,EAAS/7B,EAAE67B,YACXG,EAEA,GAAIh8B,EAAEi8B,YACF,GAAIF,IAAWhhC,GAAaghC,EACxBC,EAAQh8B,EAAEi8B,gBAEX,GAAIj8B,EAAEk8B,QAAUl8B,EAAEm8B,OAASn8B,EAAEo8B,cAChCJ,GAAUh8B,EAAEk8B,OAAU,GAG9B,OAAOF,GAGXhhC,EAAMqhC,SAAW,SAASh+B,EAAIi+B,GAC1B,IAAIC,EACJ,IAAIC,EAAe,EAEnB,IAAKF,GAASA,GAAS,EACnB,OAAOj+B,EAGX,IAAIo+B,EAAY,WACZ,IAAIx+B,EAAOP,KACX,IAAIg/B,GAAW,IAAIr5B,KAASm5B,EAC5B,IAAI3N,EAAOvxB,UAEX,SAASyM,IACL1L,EAAGD,MAAMH,EAAM4wB,GACf2N,GAAgB,IAAIn5B,KAIxB,IAAKm5B,EACD,OAAOzyB,IAGX,GAAIwyB,EACArK,aAAaqK,GAGjB,GAAIG,EAAUJ,EACVvyB,SAEAwyB,EAAU1L,WAAW9mB,EAAMuyB,EAAQI,IAI3CD,EAAUlK,OAAS,WACfL,aAAaqK,IAGjB,OAAOE,GAIXzhC,EAAM2hC,MAAQ,SAAUpvB,EAAS1D,EAAOvI,GACpC,IAAIs7B,EACJ,IAAIC,EAAahzB,IAAU9O,EAE3B,GAAIuG,IAAQvG,EACRuG,EAAMuI,EAGV,GAAI0D,EAAQ,GACRA,EAAUA,EAAQ,GAGtB,GAAIsvB,GAActvB,EAAQqiB,SACtB,OAGJ,IACI,GAAIriB,EAAQuvB,iBAAmB/hC,EAC3B,GAAI8hC,EAAY,CACZtvB,EAAQwvB,QACR,IAAInY,EAASjpB,EAAQsgB,SACrB,GAAG2I,EAAO9K,IAAM8K,EAAO5K,QACnB6W,WAAW,WAAatjB,EAAQyvB,kBAAkBnzB,EAAOvI,IAAS,QAGlEiM,EAAQyvB,kBAAkBnzB,EAAOvI,QAGrCuI,EAAQ,CAAC0D,EAAQuvB,eAAgBvvB,EAAQ0vB,mBAE1C,GAAI/vB,SAASgwB,UAAW,CAC3B,GAAItiC,EAAE2S,GAASoG,GAAG,YACdpG,EAAQwvB,QAGZH,EAAervB,EAAQ4vB,kBAEvB,GAAIN,EAAY,CACZD,EAAaQ,SAAS,MACtBR,EAAaS,UAAU,YAAaxzB,GACpC+yB,EAAaU,QAAQ,YAAah8B,EAAMuI,GACxC+yB,EAAaW,aACV,CACH,IAAIC,EAAkBZ,EAAaa,YAC/BX,EAAgBG,EAEhBL,EAAac,eAAexwB,SAASgwB,UAAUS,cAAcC,eAC7DJ,EAAgBK,YAAY,aAAcjB,GAC1CE,EAAiBU,EAAgBM,KAAKtgC,OACtCy/B,EAAeH,EAAiBF,EAAakB,KAAKtgC,OAEtDqM,EAAQ,CAACizB,EAAgBG,KAGnC,MAAMj9B,GAEJ6J,EAAQ,GAGZ,OAAOA,GAGX7O,EAAM+iC,uBAAyB,SAASxwB,EAASywB,GAC7C,IAAI5V,EAAUttB,EAAOstB,QAErB7a,EAAQsG,KAAK,QAAU7Y,EAAMurB,GAAK,OAAQhZ,EAAQ,GAAGoa,QAAQ3d,cAAcnM,QAAQ,gBAAiB,IAAIA,QAAQ,IAAK,KAErHuqB,EAAQ7a,QAAQA,GAAS0wB,WAAWC,OAAO,CAAC,WAAY,SAASC,GAC7DA,EAAS5wB,EAAT4wB,CAAkBH,GAElB,IAAK,qBAAqB35B,KAAK25B,EAAMI,SACjCJ,EAAMK,aAId,OAAOrjC,EAAM8yB,eAAevgB,EAASvS,EAAM4pB,OAAOD,KAGtD3pB,EAAMsjC,kBAAoB,WACtB,IAAIC,EAAS,GACTC,EAAa5jC,EAAE,0CAA0CiZ,KAAK,WAC9D4qB,EAAa7jC,EAAE,iDAAiDiZ,KAAK,WAEzEjZ,EAAE,6CAA6CO,KAAK,WAChDojC,EAAO7gC,KAAKvD,MAAQuD,KAAKsH,QAG7B,GAAIy5B,IAAe1jC,GAAayjC,IAAezjC,EAC7CwjC,EAAOE,GAAcD,EAGvB,OAAOD,GAGXvjC,EAAM0jC,UAAY,SAASC,GACvB,IAAIC,EAAeD,EAAKlR,KAAK,kDAAkD5tB,QAC/E,IAAIg/B,EAAcF,EAAKlR,KAAK,qBAAqBkK,OAEjD,SAASoF,EAAMjmB,GACX,IAAI2T,EAASzvB,EAAM8yB,eAAehX,GAElC,GAAI2T,GAAUA,EAAOsS,MACnBtS,EAAOsS,aAEPjmB,EAAG/W,QAAQ,SAIjB8+B,EAAY/a,GAAG,UAAW,SAAS9jB,GACjC,GAAIA,EAAE8+B,SAAW9jC,EAAMiqB,KAAKI,MAAQrlB,EAAE++B,SAAU,CAC9C/+B,EAAEpB,iBACFm+B,EAAM6B,MAIVA,EAAa9a,GAAG,UAAW,SAAS9jB,GAClC,GAAIA,EAAE8+B,SAAW9jC,EAAMiqB,KAAKI,KAAOrlB,EAAE++B,SAAU,CAC7C/+B,EAAEpB,iBACFm+B,EAAM8B,OAKd7jC,EAAMgkC,aAAe,SAASzxB,GAC1B,IAAI0xB,EAAqB,GACzB,IAAIC,EAAoB3xB,EAAQ4xB,aAAa,QACpCxR,OAAO,SAAS9gB,EAAOU,GACpB,IAAIyI,EAAgBhb,EAAM6a,kBAAkBtI,EAAS,CAAC,aACtD,OAAOyI,EAAcO,WAAa,YAErCkL,IAAI3mB,GAEbokC,EAAkB/jC,KAAK,SAAS0R,EAAOoG,GACnCgsB,EAAmBpyB,GAASjS,EAAEqY,GAAQob,cAG1C,IAEI9gB,EAAQ,GAAG6xB,YACb,MAAOp/B,GACLuN,EAAQ,GAAGwvB,QAGfmC,EAAkB/jC,KAAK,SAAS0R,EAAOoG,GACnCrY,EAAEqY,GAAQob,UAAU4Q,EAAmBpyB,OAI/C7R,EAAMqkC,iBAAmB,WACrB,GAAInyB,SAASC,cAAe,CACxB,IAAImyB,EAAa1kC,EAAE,mBACnB,IAAIiS,EAAQyyB,EAAWzyB,MAAMK,SAASC,eAEtC,GAAGN,GAAS,EAAG,CACZ,IAAI0yB,EAAcD,EAAWzyB,EAAQ,IAAMyyB,EAAW,GACtDC,EAAYxC,WAKvB/hC,EAAMy/B,KAAO,SAASz1B,GAClB,KAAKA,EACD,OAAOA,EAAM5B,WAAWq3B,YAExB,MAAO,IAIfz/B,EAAMwkC,0BAA4B,SAASjyB,GACvC,IAAIkyB,EAAgBlyB,EAAQ0K,QAAQ,mBAChC6V,EAAiB9yB,EAAM8yB,eAAevgB,GACtClQ,EAEJ,GAAIoiC,EAAcjiC,OACdH,EAASoiC,OACN,GAAI3R,EACPzwB,EAASywB,EAAe3wB,QAAQhD,OAAS,SACrCS,EAAEkzB,EAAejW,MACjBiW,EAAe5Z,QAAQuZ,KAAK,mBAAmB5tB,aAEnDxC,EAASkQ,EAGb,OAAOlQ,GAGXrC,EAAM0kC,aAAgB,SAASnyB,EAASoyB,EAAW36B,GAC/C,IAAIuB,EAAUgH,EAAQsG,KAAK8rB,IAAc,GAEzC,GAAIp5B,EAAQgE,QAAQvF,GAAS,EACzBuI,EAAQsG,KAAK8rB,GAAYp5B,EAAU,IAAMvB,GAAOy1B,SAIxDz/B,EAAM4kC,gBAAkB,SAASryB,EAASoyB,EAAW36B,GACjD,IAAIuB,EAAUgH,EAAQsG,KAAK8rB,IAAc,GAEzCpyB,EAAQsG,KAAK8rB,EAAWp5B,EAAQ1I,QAAQmH,EAAO,IAAIy1B,SAGvDz/B,EAAM6kC,gBAAkB,SAAStyB,EAASoyB,EAAW36B,GACjD,IAAIuB,EAAUgH,EAAQsG,KAAK8rB,IAAc,GAEzC,GAAIp5B,EAAQgE,QAAQvF,GAAS,EACzBhK,EAAM0kC,aAAanyB,EAASoyB,EAAW36B,QAEvChK,EAAM4kC,gBAAgBryB,EAASoyB,EAAW36B,IAIlDhK,EAAM8kC,aAAe,SAASC,GAC1B,IAAIC,EAAQhlC,EAAMilC,kBAAkBF,IAAeA,EACnD,OAAOpkC,EAAQwjB,YAAcrkB,EAAOqkB,WAAW6gB,GAAOjvB,SAG1D/V,EAAMilC,kBAAoB,SAASC,GAC/B,MAAO,CACHC,GAAM,qBACNC,GAAM,qBACNC,GAAM,qBACNC,GAAM,qBACNC,GAAM,uBACRL,IAGNllC,EAAMwlC,aAAe,CACjBC,MAAO,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,QACxGC,MAAO,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAO,QAAS,OAAQ,OAAQ,OAAQ,OAAQ,OAChG,MAAO,OAAQ,OAAQ,QAC/BC,MAAO,CAAC,MAAO,OAAQ,QAAS,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,QACxF,OAAQ,OAAQ,MAAO,OAAQ,OAAQ,QAAS,OAAQ,SAChEC,IAAK,CAAC,OAAQ,QAAS,OAAQ,SAAU,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,QAAS,OAAQ,QAClGC,aAAc,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,SAC/Cl/B,KAAM,CAAC,OAAQ,OAAQ,SACvBm/B,YAAa,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,QAAS,OAAQ,QACzF,OAAQ,OAAQ,OAAQ,OAAQ,QAAS,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,QAAS,MAC1F,OAAQ,OAAQ,UAC9BC,IAAK,CAAC,QACNC,OAAQ,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,UAAW,OAAQ,QAC5EC,IAAK,CAAC,MAAO,OAAQ,MAAO,QAAS,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,UAAW,KAAM,OAAQ,SACtGC,aAAc,CAAC,OAAQ,OAAQ,SAAU,OAAQ,OAAQ,OAAQ,SAGrElmC,EAAMmmC,aAAe,SAASC,EAAWC,GACrC,IAAIC,EAActmC,EAAMwlC,aACxB,IAAIe,EAAS/iC,OAAOymB,KAAKqc,GACzB,IAAIr8B,EAAO,OAEX,GAAIm8B,IAAcrmC,IAAcqmC,EAAU5jC,OACtC,OAAOyH,EAGX,IAAK,IAAI1H,EAAI,EAAGA,EAAIgkC,EAAO/jC,OAAQD,GAAK,EAAG,CACvC,IAAIikC,EAAaF,EAAYC,EAAOhkC,IAEpC,GAAIikC,EAAWj3B,QAAQ62B,EAAUp3B,gBAAkB,EAChD,OAAOq3B,EAAa,QAAUE,EAAOhkC,GAAKgkC,EAAOhkC,GAIxD,OAAO0H,GAGXjK,EAAMymC,mBAAqB,SAAS/xB,GAChC,IAAIgyB,EAAQ,CAAC,QAAS,KAAM,KAAM,KAAM,MAExC,GAAIhyB,IAAS,EACT,MAAO,SAGX,IAAInS,EAAIwP,SAASvR,KAAK6G,MAAM7G,KAAK0sB,IAAIxY,GAAQlU,KAAK0sB,IAAI,OAAQ,IAC9D,OAAO1sB,KAAK6O,MAAMqF,EAAOlU,KAAKmmC,IAAI,KAAMpkC,GAAI,GAAK,IAAMmkC,EAAMnkC,IAGjEvC,EAAM4mC,oBAAsB,SAASpgB,GACjC,MAAO,IAAIA,EAAQjhB,MAAM,KAAKC,KAAK,MAKhB,CAAC,OAAQ,UAAW,YAAa,WAAY,UAAW,OAAQ,UAAW,UAAW,QAAS,OAAQ,QAAS,YACnIqhC,GAAa,CAAC,QAAS,UAAW,QAElCC,GAAc,CAAC,YAAa,UAC5BC,GAAa,CAAE,CAAC,QAAS,MAAO,CAAC,SAAU,MAAO,CAAC,QAAS,OAC5DC,GAAgB,CAAE,CAAC,QAAS,MAAO,CAAC,SAAU,MAAO,CAAC,QAAS,OAE/DC,GAAqB,CAAE,QAAS,SAAU,SAAU,YACpDC,GAAe,CAAE,OAAQ,aAAc,YACvCC,GAAiB,CAAE,OAAQ,SAAU,UAAW,SAAU,QAuN1D,SAASC,GAAYC,EAASC,EAAUC,EAAUC,GAC9C,IAAI7D,EAAO/jC,EAAE,UAAUiZ,KAAK,CACxB4uB,OAAQF,EACRzT,OAAQ,OACRzxB,OAAQmlC,IAGZ,IAAI7gC,EAAO3G,EAAMsjC,oBACjB38B,EAAK2gC,SAAWA,EAEhB,IAAIpgC,EAAQmgC,EAAQ9hC,MAAM,YAC1BoB,EAAK+gC,YAAcxgC,EAAM,GAAGrE,QAAQ,QAAS,IAC7C8D,EAAKghC,OAASzgC,EAAM,GAEpB,IAAK,IAAI/H,KAAQwH,EACb,GAAIA,EAAKuD,eAAe/K,GACpBS,EAAE,WAAWiZ,KAAK,CACd7O,MAAOrD,EAAKxH,GACZA,KAAMA,EACN8K,KAAM,WACP29B,SAASjE,GAIpBA,EAAKiE,SAAS,QAAQC,SAASpU,SA7OvCzzB,EAAMqvB,cAAiB,WACnB,IAAIyY,EAAgB,GAChBxY,EAAqB,GAEzB,SAASyY,EAAetY,EAAQ7R,GAC5B,IAAIoqB,EAAOhoC,EAAMqvB,cAAcC,mBAE/B,IAAK0Y,EAAKvY,GACNuY,EAAKvY,GAAU,GAGnBuY,EAAKvY,GAAQluB,GAAUqc,EAG3B,SAASqqB,EAAexY,EAAQoE,GAC5B,IAAImU,EAAOhoC,EAAMqvB,cAAcC,mBAC3B/sB,EAAG2lC,EAAGhZ,EAAMtd,EAAQu2B,EAAWC,EAEnC,IAAK7lC,EAAI,EAAGA,EAAIsxB,EAAKrxB,OAAQD,IAAK,CAC9B2sB,EAAO2E,EAAKtxB,GAAG2sB,KACfiZ,EAAYtU,EAAKtxB,GAAGqP,OAEpB,IAAIo2B,EAAKvY,GAAQP,GACb8Y,EAAKvY,GAAQP,GAAQ,GAGzBtd,EAASo2B,EAAKvY,GAAQP,GAEtB,IAAKgZ,EAAI,EAAGA,EAAIC,EAAU3lC,OAAQ0lC,IAAK,CACnCE,EAAeD,EAAUD,GAEzB,GAAI9nC,EAAQ+nC,EAAUD,IAClBt2B,EAAOw2B,EAAa,IAAMA,EAAa,QAEvCx2B,EAAOw2B,GAAgBA,IAMvC,SAASC,EAAiB3Y,EAAU1lB,EAAOs+B,GACvC,IAAKR,EAAcpY,GACfoY,EAAcpY,GAAY,GAG9BoY,EAAcpY,GAAU1lB,GAASs+B,GAAat+B,EAGlD,SAASu+B,EAAmB7Y,EAAU8Y,GAClC,IAAK,IAAIjmC,EAAI,EAAGA,EAAIimC,EAAIhmC,OAAQD,IAC5B,GAAInC,EAAQooC,EAAIjmC,IACZ8lC,EAAiB3Y,EAAU8Y,EAAIjmC,GAAG,GAAIimC,EAAIjmC,GAAG,SAE7C8lC,EAAiB3Y,EAAU8Y,EAAIjmC,IAK3C,SAASitB,EAAcqE,GACnB,IAAIpE,EAASoE,EAAKpE,OACdC,EAAWmE,EAAKnE,SAChB1lB,EAAQ6pB,EAAK7pB,MACb4lB,EAAOiE,EAAKjE,KACZP,EAAgBrvB,EAAMqvB,cACtByY,EAAgBzY,EAAcyY,cAAcpY,GAC5C+Y,EAAmBpZ,EAAcC,mBAAmBG,GACpDiZ,EAAcC,EAAY/qB,EAE9B,IAAI6qB,EACA,MAAO,GAGXC,EAAeD,EAAiB/Y,GAChCiZ,EAAaD,EAAeA,EAAa1+B,IAAU89B,EAAc99B,GAAS89B,EAAc99B,GAExF,GAAI2+B,EAAY,CACZ,GAAIjZ,IAAa,aACb9R,EAAS6qB,EAAiBlnC,GAAUquB,EAAO,SACxC,GAAIF,IAAa,eACpB9R,EAAS,cACN,GAAI8R,IAAa,UACpB9R,EAAS,kBACN,GAAI8R,IAAa,SACpB9R,EAAS,iBACN,GAAI8R,IAAa,WACpB9R,EAAS,mBAETA,EAAS6qB,EAAiBlnC,GAG9B,OAAOqc,EAAS+qB,OAEhB,MAAO,GAIfJ,EAAmB,aAAcpI,IACjCoI,EAAmB,WAAY1B,IAC/B0B,EAAmB,QAASzB,IAC5ByB,EAAmB,OAAQxB,IAC3BwB,EAAmB,eAAgBtB,IACnCsB,EAAmB,UAAWvB,IAC9BuB,EAAmB,SAAUrB,IAC7BqB,EAAmB,WAAYpB,IAE/B,MAAO,CACHF,mBAAoBA,GACpBD,cAAeA,GACfD,WAAYA,GACZD,YAAaA,GACb8B,eAAgB/B,GAChB1G,iBAAkBA,GAElB2H,cAAeA,EACfxY,mBAAoBA,EAEpB2Y,eAAgBA,EAChBzY,cAAeA,EACfuY,eAAgBA,GAtHF,GA2HtB/nC,EAAMqoC,iBAAmB,SAAU3Y,EAAU1lB,EAAOs+B,GAChD,IAAKtoC,EAAM6oC,sBAAsBnZ,GAC7B1vB,EAAM6oC,sBAAsBnZ,GAAY,GAG5C1vB,EAAM6oC,sBAAsBnZ,GAAU1lB,GAASs+B,GAAat+B,GAGhEhK,EAAMuoC,mBAAqB,SAAU7Y,EAAU8Y,GAC3C,IAAK,IAAIjmC,EAAI,EAAGA,EAAIimC,EAAIhmC,OAAQD,IAC5B,GAAInC,EAAQooC,EAAIjmC,IACZvC,EAAMqoC,iBAAiB3Y,EAAU8Y,EAAIjmC,GAAG,GAAIimC,EAAIjmC,GAAG,SAEnDvC,EAAMqoC,iBAAiB3Y,EAAU8Y,EAAIjmC,KAKjDvC,EAAM8oC,iBAAmB,SAAUlrB,EAAQ8R,EAAU1lB,GACjD,IAAI2+B,EAAa3oC,EAAM6oC,sBAAsBnZ,GAAU1lB,GAEvD,GAAI2+B,EACA,OAAO/qB,EAAS+qB,GAIxB3oC,EAAM6oC,sBAAwB,GAE9B7oC,EAAMuoC,mBAAmB,aAAcpI,IACvCngC,EAAMuoC,mBAAmB,OAAQ1B,IAEjC7mC,EAAMuoC,mBAAmB,QAASzB,IAClC9mC,EAAMuoC,mBAAmB,OAAQxB,IAEjC/mC,EAAMuoC,mBAAmB,eAAgBtB,IAKzCjnC,EAAM+oC,QAAU,SAAS90B,GACrB,IAAI+0B,EAAgB1mC,UAAUE,QAAU,GAAKnC,MAAMD,QAAQ6T,GAASA,EAAQ5T,MAAMiD,UAAUzB,MAAMqD,KAAK5C,WACnGE,EAASwmC,EAAcxmC,OACvBymC,EAAYzmC,EACZ0mC,EAAWtpC,EAAEupC,WACb5mC,EAAI,EACJ6mC,EAAS,EACTC,EAAiBhpC,MAAMmC,GACvB8mC,EAAejpC,MAAMmC,GACrB+mC,EAAkBlpC,MAAMmC,GACxBwH,EAEJ,SAASw/B,EAAY33B,EAAO43B,EAAU73B,GAClC,OAAO,WACH,GAAGA,GAAUo3B,EACTI,IAGJF,EAASQ,WACLD,EAAS53B,GAASnP,KAClBkP,EAAOC,GAASxR,MAAMiD,UAAUzB,MAAMqD,KAAK5C,YAG/C,MAAQ2mC,EACJC,IAAWE,EAAS,UAAY,UAAY,QAAQK,EAAU73B,IAK1E,KAAOrP,EAAIC,EAAQD,IACf,IAAKyH,EAAQg/B,EAAczmC,KAAOvC,EAAM2D,WAAWqG,EAAMsc,SACrDtc,EAAMsc,UACDqjB,KAAKH,EAAWjnC,EAAGgnC,EAAiBP,IACpCY,KAAKJ,EAAWjnC,EAAG8mC,EAAgBC,QAGvC,CACDJ,EAASQ,WAAWhnC,KAAMsH,KACxBi/B,EAIV,IAAKA,EACDC,EAASW,YAAYN,EAAiBP,GAG1C,OAAOE,EAAS5iB,WAgChB,IAAIwjB,GAAY53B,SAASwK,cAAc,KACnCqtB,GAAoB,aAAcD,KAAc9pC,EAAMW,QAAQ+a,QAAQ+F,KAE1E,SAASuoB,GAAW3C,EAASC,GACzB,IAAI2C,EAAO5C,EAEX,UAAWA,GAAW,SAAU,CAC5B,IAAIngC,EAAQmgC,EAAQ9hC,MAAM,YAC1B,IAAImiC,EAAcxgC,EAAM,GACxB,IAAIygC,EAASuC,KAAKhjC,EAAM,IACxB,IAAI+M,EAAQ,IAAIk2B,WAAWxC,EAAOnlC,QAElC,IAAK,IAAI6B,EAAM,EAAGA,EAAMsjC,EAAOnlC,OAAQ6B,IACnC4P,EAAM5P,GAAOsjC,EAAOn+B,WAAWnF,GAEnC4lC,EAAO,IAAIG,KAAK,CAACn2B,EAAMo2B,QAAS,CAAEpgC,KAAMy9B,IAG5CnnB,UAAU+pB,WAAWL,EAAM3C,GAG/B,SAASiD,GAAclD,EAASC,GAC5B,GAAIxnC,EAAOsqC,MAAQ/C,aAAmB+C,KAClC/C,EAAUmD,IAAIC,gBAAgBpD,GAGlCyC,GAAUY,SAAWpD,EACrBwC,GAAUjV,KAAOwS,EAEjB,IAAIriC,EAAIkN,SAASy4B,YAAY,eAC7B3lC,EAAE4lC,eAAe,QAAS,KAAM,MAAO9qC,EACnC,EAAG,EAAG,EAAG,EAAG,EAAG,MAAO,MAAO,MAAO,MAAO,EAAG,MAElDgqC,GAAUe,cAAc7lC,GACxB6wB,WAAW,WACP2U,IAAIM,gBAAgBzD,KAI5BrnC,EAAM+qC,OAAS,SAAS5oC,GACpB,IAAI6oC,EAAO5D,GAEX,IAAKjlC,EAAQ8oC,WACT,GAAIlB,GACAiB,EAAOT,QACJ,GAAIhqB,UAAU+pB,WACjBU,EAAOhB,GAIfgB,EAAK7oC,EAAQklC,QAASllC,EAAQmlC,SAAUnlC,EAAQolC,SAAUplC,EAAQqlC,cAK1ExnC,EAAMkrC,kBAAoB,SAASA,EAAkBvkC,GACjD,IAAIwkC,EAAa,GAEjB3nC,OAAOymB,KAAKtjB,GAAQ,IAAIykC,QAAQ,SAAS/2B,GACvC7Q,OAAO6nC,eAAeF,EAAY92B,EAAU,CAC1C2X,IAAK,WACH,OAAOrlB,EAAK0N,IAEd4X,IAAK,SAASjiB,GACZrD,EAAK0N,GAAYrK,EACjBrD,EAAK2kC,MAAQ,UAKnB,OAAOH,GAGXnrC,EAAMurC,gBAAkB,WACpB,IAAIC,EAAuB,sCACnB,sCACA,sCACA,sCACA,sCACA,sCACJC,EAAS7rC,EAAE4rC,GACXE,EAAS,GAEbD,EAAO7D,SAAShoC,EAAE,SAElB6rC,EAAOtrC,KAAK,SAASoC,EAAGopC,GACpBD,EAAO9mC,KAAKhF,EAAE+rC,GAAMp0B,IAAI,uBAG5Bk0B,EAAOhY,SAEP,OAAOiY,GAGX1rC,EAAM4rC,UAAY,SAASr5B,GACvB,OAAOA,aAAmBqT,SAAWrT,aAAmBs5B,cAMxD7rC,EAAMytB,SAAWztB,EAAMytB,UAAY,GACnCztB,EAAM8rC,YAAc,SAASpiC,EAAKM,GAC9B,IAAI+hC,EAAOriC,EAAInE,MAAM,KACrB,IAAIymC,EAAOhsC,EAAMytB,SAEjB/jB,EAAMqiC,EAAKhT,MAEXgT,EAAKX,QAAQ,SAAS/lC,GAClB,GAAI2mC,EAAK3mC,KAAUtF,EACfisC,EAAK3mC,GAAQ,GAGjB2mC,EAAOA,EAAK3mC,KAGhB,GAAI2E,EAAMzG,cAAgBC,OACtBwoC,EAAKtiC,GAAOhG,GAAW,GAAIsoC,EAAKtiC,GAAMM,QAEtCgiC,EAAKtiC,GAAOM,GAQpBhK,EAAMisC,WAAa,GAEnBpsC,OAAOM,KAAM,uEAAuEoF,MAAO,KACvF,SAAU2mC,EAAI/sC,GACVa,EAAMisC,WAAY,WAAa9sC,EAAO,KAAQA,EAAK6P,gBAG3DhP,EAAMiK,KAAO,SAASya,GAClB,GAAKA,GAAO,KACR,OAAOA,EAAM,GAIjB,cAAcA,IAAQ,iBAAmBA,IAAQ,WAC7C1kB,EAAMisC,WAAWzoC,OAAOF,UAAU8E,SAASlD,KAAKwf,KAAS,gBAClDA,GAInB,IAAIynB,eAAe,CAAChf,gBAAgB,aAAaif,aAAa,cAM9D,SAASjf,KACLgf,eAAehf,gBAAgB7tB,GAKvC,OAVIQ,EAAOqsC,eAAiB,CACpBC,aAAcD,eAAeC,cAS9BtsC,OAAOE,QAtmKd,CAwmKoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,eAAe,CAAE,cACzB,WAEH,IAAIC,EAAW,CACXC,GAAI,SACJC,KAAM,SACNC,SAAU,YACVC,YAAa,oHACbotC,QAAS,CAAE,QACXC,OAAQ,OAGF9sC,EAqVPE,OAAOE,MAAMH,OArVHE,OAAb,EACQC,EAAQF,OAAOE,MACf2sC,EAAS,SACTC,EAAO,OACPC,EAAO,OACPlsC,EAAUX,EAAMW,QAChBogB,EAAWjhB,OAAOihB,SAClBsD,EAAUvkB,OAAOukB,QACjByoB,EAAqB,GACrBC,EAAkB/sC,EAAMW,QAAQ+a,QAAQiG,KACxCqrB,EAAY,MACZ96B,EAAWpS,OAAOoS,SAEtB,SAAS+6B,EAAYlB,EAAMmB,GACvB,IAAKA,EACD,OAAOnB,EAGX,GAAIA,EAAO,MAAQmB,EACfnB,EAAOmB,EAGX,IAAIC,EAAQ,IAAIv4B,OAAO,IAAMs4B,EAAY,KAEzC,IAAKC,EAAM9jC,KAAK0iC,GACZA,EAAOmB,EAAa,IAAMnB,EAG9B,OAAOhrB,EAASC,SAAW,MAAQD,EAASqsB,KAAO,IAAMrB,GAAMlpC,QAAQ,SAAU,KAGrF,SAASwqC,EAAcC,GACnB,OAAOA,EAAO,KAAO,IAGzB,SAASC,EAAaF,GAClB,IAAIxY,EAAO9T,EAAS8T,KAGpB,GAAIwY,IAAkB,MAAQxY,EAAKtlB,QAAQ,MAAQ,GAAKslB,EAAKtlB,QAAQ,MAAQ,EACzE,OAAO,KAGX,OAAOslB,EAAKtvB,MAAM8nC,GAAe,IAAM,GAG3C,SAASG,EAAUC,EAAMhiB,GACrB,GAAIA,EAAIlc,QAAQk+B,KAAU,EACtB,OAAQhiB,EAAI5W,OAAO44B,EAAKjrC,QAASK,QAAQ,QAAS,UAElD,OAAO4oB,EAIf,IAAIiiB,EAAiB1tC,EAAM4C,MAAM1C,OAAO,CACpCytC,KAAM,WACF,GAAIZ,EACAlX,WAAW,WAAaxR,EAAQspB,cAEhCtpB,EAAQspB,QAIhBC,QAAS,WACL,GAAIb,EACAlX,WAAW,WAAaxR,EAAQupB,iBAEhCvpB,EAAQupB,WAIhBprC,OAAQ,WACJ,OAAO6hB,EAAQ7hB,QAGnBqrC,gBAAiB,SAASpiB,GACtB1K,EAASle,QAAQ4oB,MAIrBqiB,EAAmBJ,EAAextC,OAAO,CACzCiD,KAAM,SAASsqC,GACX/qC,KAAK+qC,KAAOA,GAGhBM,SAAU,SAAS1S,GACfhX,EAAQD,UAAU,GAAIlS,EAAS87B,MAAOf,EAAY5R,EAAI34B,KAAK+qC,QAG/D5qC,QAAS,SAASw4B,GACdhX,EAAQ4pB,aAAa,GAAI/7B,EAAS87B,MAAOf,EAAY5R,EAAI34B,KAAK+qC,QAGlES,UAAW,SAASziB,GAChB,OAAO+hB,EAAU9qC,KAAK+qC,KAAMhiB,IAGhClgB,QAAS,WACL,IAAIA,EAAUwV,EAASotB,SAEvB,GAAIptB,EAASiY,OACTztB,GAAWwV,EAASiY,OAGxB,OAAOwU,EAAU9qC,KAAK+qC,KAAMliC,IAGhC6iC,OAAQ,SAASvlB,GACbjpB,EAAEE,QAAQmE,KAAK,iBAAkB4kB,IAGrC1B,KAAM,WACFvnB,EAAEE,QAAQ6E,OAAO,mBAGrB0pC,iBAAkB,SAASlsC,GACvB,IAAImsC,EACAb,EAAOtrC,EAAQsrC,KACfU,EAAWptB,EAASotB,SACpBI,EAAOhB,EAAaF,EAAclrC,EAAQqsC,WAE9C,GAAIf,IAASU,EAAW,IACpBG,EAAWb,EAGf,GAAIA,IAASU,GAAYI,EACrBD,EAAWrB,EAAYsB,EAAK1rC,QAAQmqC,EAAW,IAAKS,GAGxD,GAAIa,EACAjqB,EAAQD,UAAU,GAAIlS,EAAS87B,MAAOM,MAKlD,SAASG,EAAQhjB,GACb,OAAOA,EAAI5oB,QAAQ,QAAS,KAGhC,SAAS6rC,EAAQjjB,GACb,OAAOA,EAAI5oB,QAAQ,YAAa,MAGpC,IAAI8rC,EAAcjB,EAAextC,OAAO,CACpCiD,KAAM,SAASmqC,GACX5qC,KAAKksC,IAAM5uC,EAAMksB,OACjBxpB,KAAKkb,OAASyvB,EAAcC,GAC5B5qC,KAAKi1B,IAAM2V,EAAOoB,EAAUD,GAGhCV,SAAU,SAAS1S,GACfta,EAASwtB,KAAO7rC,KAAKi1B,IAAI0D,IAG7Bx4B,QAAS,SAASw4B,GACd34B,KAAKmrC,gBAAgBnrC,KAAKi1B,IAAI0D,KAGlC6S,UAAW,SAASziB,GAChB,GAAIA,EAAIlc,QAAQ7M,KAAKkb,QAAU,EAC5B,OAAO6N,OAEN,OAAOA,EAAIlmB,MAAM7C,KAAKkb,QAAQ,IAItCwwB,OAAQ,SAASvlB,GACb,GAAIloB,EAAQ2jB,WACR1kB,EAAEE,QAAQgpB,GAAG,cAAgBpmB,KAAKksC,IAAK/lB,QAEvCnmB,KAAKmsC,UAAYC,YAAYjmB,EAAUikB,IAI/C3lB,KAAM,WACFvnB,EAAEE,QAAQi2B,IAAI,cAAgBrzB,KAAKksC,KACnCG,cAAcrsC,KAAKmsC,YAGvBtjC,QAAS,WACL,OAAOgiC,EAAa7qC,KAAKkb,SAG7BywB,iBAAkB,SAASlsC,GACvB,IAAIgsC,EAAWptB,EAASotB,SACpBV,EAAOtrC,EAAQsrC,KAEnB,GAAItrC,EAAQiiB,WAAaqpB,IAASU,EAAU,CACxCzrC,KAAKmrC,gBAAgBJ,EAAO/qC,KAAKkb,OAAS4vB,EAAUC,EAAMU,IAC1D,OAAO,KAGX,OAAO,SAIXa,EAAUhvC,EAAM+D,WAAW7D,OAAO,CAClC2O,MAAO,SAAS1M,GACZA,EAAUA,GAAW,GAErBO,KAAKuB,KAAK,CAAC0oC,EAAQC,EAAMC,GAAO1qC,GAEhC,GAAIO,KAAKusC,SACL,OAGJvsC,KAAKusC,SAAW,KAEhB9sC,EAAQsrC,KAAOtrC,EAAQsrC,MAAQ,IAE/B,IAAIyB,EAAUxsC,KAAKysC,cAAchtC,GAC7BoJ,EAGJ,GAAI2jC,EAAQb,iBAAiBlsC,GACzB,OAGJoJ,EAAU2jC,EAAQ3jC,UAElB3L,EAAEM,OAAOwC,KAAM,CACXwsC,QAASA,EACTzB,KAAMtrC,EAAQsrC,KACd2B,cAAeF,EAAQ1sC,SACvB+I,QAASA,EACT8jC,UAAW,CAAC9jC,KAGhB2jC,EAAQd,OAAO1rC,KAAK4sC,UAAUrrC,KAAKvB,QAGvCysC,cAAc,SAAShtC,GACpB,OAAOxB,EAAQyjB,WAAajiB,EAAQiiB,UAAY,IAAI0pB,EAAiB3rC,EAAQsrC,MAAQ,IAAIkB,EAAYxsC,EAAQqsC,WAGhHrnB,KAAM,WACF,IAAKzkB,KAAKusC,SACN,OAEJvsC,KAAKwsC,QAAQ/nB,OACbzkB,KAAKiC,OAAOgoC,GACZjqC,KAAKusC,SAAW,OAGpBb,OAAQ,SAASvlB,GACbnmB,KAAKuB,KAAK0oC,EAAQ9jB,IAGtBhmB,QAAS,SAASw4B,EAAIkU,GAElB7sC,KAAK8sC,UAAUnU,EAAIkU,EAAQ,SAASL,GAChCA,EAAQrsC,QAAQw4B,GAChB34B,KAAK2sC,UAAU3sC,KAAK2sC,UAAU7sC,OAAS,GAAKE,KAAK6I,WAIzDwiC,SAAU,SAAS1S,EAAIkU,GACnB,GAAIlU,IAAO,SAAU,CACjB34B,KAAK+sC,WAAa,KAClB/sC,KAAKwsC,QAAQvB,OACb,OAGJjrC,KAAK8sC,UAAUnU,EAAIkU,EAAQ,SAASL,GAChCA,EAAQnB,SAAS1S,GACjB34B,KAAK2sC,UAAUzqC,KAAKlC,KAAK6I,YAIjCikC,UAAW,SAASnU,EAAIkU,EAAQ1mB,GAC5B,IAAIqmB,EAAUxsC,KAAKwsC,QAEnB7T,EAAK6T,EAAQhB,UAAU7S,GAEvB,GAAI34B,KAAK6I,UAAY8vB,GAAM34B,KAAK6I,UAAYyc,mBAAmBqT,GAAK,CAChE34B,KAAKqC,QAAQ8nC,GACb,OAGJ,IAAK0C,EACD,GAAI7sC,KAAKqC,QAAQ4nC,EAAQ,CAAElhB,IAAK4P,EAAIqU,OAAQ,QACxC,OAIRhtC,KAAK6I,QAAU8vB,EAEfxS,EAAS3jB,KAAKxC,KAAMwsC,GAEpBxsC,KAAK0sC,cAAgBF,EAAQ1sC,UAGjC8sC,UAAW,WACP,IAAIJ,EAAUxsC,KAAKwsC,QACf3jC,EAAU2jC,EAAQ3jC,UAClBokC,EAAYT,EAAQ1sC,SACpBotC,EAAuBltC,KAAK0sC,gBAAkBO,EAC9ChC,EAAOpiC,IAAY7I,KAAK2sC,UAAU3sC,KAAK2sC,UAAU7sC,OAAS,IAAMotC,EAChEH,EAAa/sC,KAAK+sC,WAClBI,EAAOntC,KAAK6I,QAEhB,GAAIA,IAAY,MAAQ7I,KAAK6I,UAAYA,GAAW7I,KAAK6I,UAAYyc,mBAAmBzc,GACpF,OAAO,KAGX7I,KAAK0sC,cAAgBO,EACrBjtC,KAAK+sC,WAAa,MAElB/sC,KAAK6I,QAAUA,EAEf,GAAIoiC,GAAQjrC,KAAKqC,QAAQ,OAAQ,CAAE0mB,IAAKokB,EAAMxU,GAAI9vB,IAAY,CAC1D2jC,EAAQtB,UACRlrC,KAAK6I,QAAUskC,EACf,OAGJ,GAAIntC,KAAKqC,QAAQ4nC,EAAQ,CAAElhB,IAAKlgB,EAASukC,mBAAoBL,IAAe,CACxE,GAAI9B,EACAuB,EAAQtB,cACL,CACHsB,EAAQvB,OACRjrC,KAAK0sC,gBAET1sC,KAAK6I,QAAUskC,EACf,OAGJ,GAAIlC,EACAjrC,KAAK2sC,UAAUtW,WAEfr2B,KAAK2sC,UAAUzqC,KAAK2G,MAc5BvL,GATJA,EAAMgvC,QAAUA,EAChBhvC,EAAMgvC,QAAQtB,eAAiBA,EAC/B1tC,EAAMgvC,QAAQL,YAAcA,EAC5B3uC,EAAMgvC,QAAQlB,iBAAmBA,EACjC9tC,EAAMitC,YAAcA,EACpBjtC,EAAMqkB,QAAU,IAAI2qB,EAIRlvC,OAAOE,OACfqkB,EAAUrkB,EAAMqkB,QAChBtgB,EAAa/D,EAAM+D,WACnBgsC,EAAO,OACPC,EAAgB,eAChBrD,EAAS,SACTC,EAAO,OACPC,EAAO,OACPoD,EAAgB,aAChBC,EAAa,eACbC,EAAa,SACbC,EAAe,2BAEnB,SAASC,EAAkBrpC,EAAOspC,GAC9B,OAAOA,EAAWtpC,EAAQ,UAG9B,SAASupC,EAAcC,EAAOC,GAC1B,OAAO,IAAI77B,OAAO,IAAM47B,EACnB3tC,QAAQutC,EAAc,QACtBvtC,QAAQotC,EAAe,WACvBptC,QAAQqtC,EAAYG,GACpBxtC,QAAQstC,EAAY,SAAW,IAAKM,EAAa,IAAM,IAGhE,SAASC,EAASjlB,GACd,OAAOA,EAAI5oB,QAAQ,gBAAiB,IAGxC,IAAI8tC,EAAQ3wC,EAAM4C,MAAM1C,OAAO,CAC3BiD,KAAM,SAASqtC,EAAO3nB,EAAU4nB,GAC5B,KAAMD,aAAiB57B,QACnB47B,EAAQD,EAAcC,EAAOC,GAGjC/tC,KAAK8tC,MAAQA,EACb9tC,KAAKkuC,UAAY/nB,GAGrBA,SAAU,SAAS4C,EAAKkiB,EAAM+B,GAC1B,IAAIlP,EACAn8B,EAAM,EACN7B,EACAquC,EAAoB7wC,EAAMsgC,uBAAuB7U,GACjDolB,EAAkBC,MAAQnD,EAE9BliB,EAAMilB,EAASjlB,GACf+U,EAAS99B,KAAK8tC,MAAMzhC,KAAK0c,GAAK5pB,MAAM,GACpCW,EAASg+B,EAAOh+B,OAEhB,GAAIktC,EACA,KAAOrrC,EAAM7B,EAAQ6B,IACjB,UAAWm8B,EAAOn8B,KAAS,YACvBm8B,EAAOn8B,GAAO2jB,mBAAmBwY,EAAOn8B,IAKpDm8B,EAAO57B,KAAKisC,GAEZnuC,KAAKkuC,UAAUxtC,MAAM,KAAMo9B,IAG/BuQ,UAAW,SAAStlB,EAAKkiB,EAAM+B,GAC3B,GAAIhtC,KAAK8tC,MAAMnnC,KAAKqnC,EAASjlB,IAAO,CAChC/oB,KAAKmmB,SAAS4C,EAAKkiB,EAAM+B,GACzB,OAAO,UAEP,OAAO,SAKfsB,EAASjtC,EAAW7D,OAAO,CAC3BiD,KAAM,SAAShB,GACX,IAAKA,EACDA,EAAU,GAGd4B,EAAWV,GAAGF,KAAK+B,KAAKxC,MAExBA,KAAKuuC,OAAS,GACdvuC,KAAK0hB,UAAYjiB,EAAQiiB,UACzB1hB,KAAK8rC,SAAWrsC,EAAQqsC,SACxB9rC,KAAK+qC,KAAOtrC,EAAQsrC,KACpB/qC,KAAK+tC,WAAatuC,EAAQsuC,aAAe,MAEzC/tC,KAAKuB,KAAK,CAAC8rC,EAAMC,EAAerD,EAAQE,EAAMD,GAAOzqC,IAGzDwsB,QAAS,WACLtK,EAAQ1f,OAAOgoC,EAAQjqC,KAAKwuC,kBAC5B7sB,EAAQ1f,OAAOkoC,EAAMnqC,KAAKyuC,YAC1B9sB,EAAQ1f,OAAOioC,EAAMlqC,KAAK0uC,YAC1B1uC,KAAKiC,UAGTkK,MAAO,WACH,IAAI5L,EAAOP,KACP2uC,EAAY,WAAapuC,EAAKquC,SAC9BC,EAAY,SAASvsC,GAAK/B,EAAK6tC,MAAM9rC,IACrCwsC,EAAkB,SAASxsC,GAAK/B,EAAKwuC,YAAYzsC,IAErDqf,EAAQxV,MAAM,CACV6iC,KAAML,EACNjD,OAAQoD,EACR7D,KAAM4D,EACNntB,UAAWnhB,EAAKmhB,UAChBoqB,SAAUvrC,EAAKurC,SACff,KAAMxqC,EAAKwqC,OAGf,IAAIkE,EAAkB,CAAElmB,IAAKpH,EAAQ9Y,SAAW,IAAK3H,eAAgBhE,EAAEU,MAEvE,IAAK2C,EAAK8B,QAAQgrC,EAAM4B,GACpB1uC,EAAKwuC,YAAYE,GAGrBjvC,KAAKwuC,iBAAmBM,EACxB9uC,KAAK0uC,WAAaG,GAGtBf,MAAO,SAASA,EAAO3nB,GACnBnmB,KAAKuuC,OAAOrsC,KAAK,IAAI+rC,EAAMH,EAAO3nB,EAAUnmB,KAAK+tC,cAGrD1C,SAAU,SAAStiB,EAAK8jB,GACpBvvC,EAAMqkB,QAAQ0pB,SAAStiB,EAAK8jB,IAGhC1sC,QAAS,SAAS4oB,EAAK8jB,GACnBvvC,EAAMqkB,QAAQxhB,QAAQ4oB,EAAK8jB,IAG/BuB,MAAO,SAAS9rC,GACZ,GAAItC,KAAKqC,QAAQ6nC,EAAM,CAAEnhB,IAAKzmB,EAAEymB,IAAK4P,GAAIr2B,EAAEq2B,KACvCr2B,EAAEpB,kBAIV0tC,MAAO,WACH5uC,KAAKqC,QAAQ8nC,IAGjB4E,YAAa,SAASzsC,GAClB,IAAIymB,EAAMzmB,EAAEymB,IACZ,IAAIikB,IAAW1qC,EAAE0qC,OACjB,IAAI/B,EAAO3oC,EAAE8qC,kBAEb,IAAKrkB,EACDA,EAAM,IAGV,GAAI/oB,KAAKqC,QAAQ4nC,EAAQ,CAAElhB,IAAKzmB,EAAEymB,IAAK+U,OAAQxgC,EAAMsgC,uBAAuBt7B,EAAEymB,KAAMqkB,kBAAmBnC,IAAS,CAC5G3oC,EAAEpB,iBACF,OAGJ,IAAIS,EAAM,EACN4sC,EAASvuC,KAAKuuC,OACdT,EACAhuC,EAASyuC,EAAOzuC,OAEpB,KAAO6B,EAAM7B,EAAQ6B,IAAQ,CACxBmsC,EAAQS,EAAO5sC,GAEf,GAAImsC,EAAMO,UAAUtlB,EAAKkiB,EAAM+B,GAC5B,OAIR,GAAIhtC,KAAKqC,QAAQirC,EAAe,CAAEvkB,IAAKA,EAAK+U,OAAQxgC,EAAMsgC,uBAAuB7U,GAAMqkB,kBAAmBnC,IACtG3oC,EAAEpB,oBAQlB,OAHI5D,EAAMgxC,OAASA,EAGZlxC,OAAOE,QAzhBd,CA2hBoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,mBAAmB,CAAE,cAC7B,WAEH,IAAIC,EAAW,CACXC,GAAI,aACJC,KAAM,cACNC,SAAU,YACVqtC,QAAS,CAAE,QACXC,OAAQ,MAGD9sC,EAioBPE,OAAOE,MAAMH,OAjoBHE,OAAd,EACQC,EAAQF,OAAOE,MACfW,EAAUX,EAAMW,QAChBiC,EAAQ5C,EAAM4C,MACdmB,EAAa/D,EAAM+D,WACnB6tC,EAAMvpC,KAAKupC,IACX1xC,EAASN,EAAEM,OACX2xC,EAAKlxC,EAAQsgB,SACb6wB,EAAoBD,GAAMA,EAAG7yB,QAC7B+yB,EAAmB,IACnBC,EAAc,IACdC,EAAoBtxC,EAAQ+a,QAAQiG,KAAO,EAAI,EAG/CuwB,EAAQ,QACRC,EAAO,OACPC,EAAS,SACTC,EAAQ,QACRC,EAAO,OACP1nB,EAAM,MACN2nB,EAAS,SACTC,EAAM,MACNC,EAAY,YACZC,EAAU,UACVC,EAAe,eACfC,EAAgB,gBAChBC,EAAa,aACbC,EAAa,aAEbC,EAAY,CACZC,IAAO,EACP51B,MAAS,EACT61B,MAAS,EACTC,QAAW,GAGXC,GAA0BxyC,EAAQyc,OAASzc,EAAQ2gB,qBAEvD,SAAS8xB,EAAWC,EAAQC,GACxB,IAAIC,EAAKF,EAAO1S,EAAE5f,SACdyyB,EAAKH,EAAOxiC,EAAEkQ,SACd0yB,EAAKH,EAAO3S,EAAE5f,SACd2yB,EAAKJ,EAAOziC,EAAEkQ,SACd4yB,EAAKJ,EAAKE,EACVG,EAAKJ,EAAKE,EAEd,MAAO,CACHG,OAAQ,CACLlT,GAAI4S,EAAKE,GAAM,EACf5iC,GAAI2iC,EAAKE,GAAM,GAGlBI,SAAUtzC,KAAKuzC,KAAKJ,EAAGA,EAAKC,EAAGA,IAIvC,SAASI,EAAWhvC,GAChB,IAAIujB,EAAU,GACVC,EAAgBxjB,EAAEwjB,cAClByrB,EAAgBjvC,EAAEivC,cAClB5vC,EAAM,EAAG7B,EACTimB,EACArL,EAEJ,GAAIpY,EAAEguC,IACFzqB,EAAQ3jB,KAAK,CACT1F,GAAI,EACJ6e,MAAO/Y,EACP3C,OAAQ2C,EAAE3C,OACV4xC,cAAejvC,EAAE3C,OACjB0e,SAAU/b,EACViF,KAAM,aAGT,GAAIjF,EAAEiF,KAAKjD,MAAM,SAAU,CAC5ByhB,EAAiBD,EAAgBA,EAAcC,eAAiB,GAChE,IAAKjmB,EAASimB,EAAejmB,OAAQ6B,EAAM7B,EAAQ6B,IAAQ,CACvD+Y,EAAQqL,EAAepkB,GACvBkkB,EAAQ3jB,KAAK,CACTmc,SAAU3D,EACVW,MAAO/Y,EACP3C,OAAQ+a,EAAM/a,OACd4xC,cAAeA,EACf/0C,GAAIke,EAAM82B,WACVjqC,KAAM,gBAIb,GAAItJ,EAAQkkB,UAAYlkB,EAAQmkB,WACjCyD,EAAQ3jB,KAAK,CACTmc,SAAUyH,EACVzK,MAAO/Y,EACP3C,OAAQ2C,EAAE3C,OACV4xC,cAAeA,EACf/0C,GAAIspB,EAAc2rB,UAClBlqC,KAAM,iBAGVse,EAAQ3jB,KAAK,CACT1F,GAAI,EACJ6e,MAAO/Y,EACP3C,OAAQ2C,EAAE3C,OACV4xC,cAAeA,EACflzB,SAAU/b,EACViF,KAAM,UAId,OAAOse,EAGX,IAAI6rB,EAAYxxC,EAAM1C,OAAO,CACzBiD,KAAM,SAASg+B,EAAMpgB,GACjB,IAAI9d,EAAOP,KAEXO,EAAKk+B,KAAOA,EAEZl+B,EAAKoxC,oBAAoBtzB,GAEzB9d,EAAKqxC,cAAgBrxC,EAAK8d,SAC1B9d,EAAKsxC,SAAWtxC,EAAK+9B,MAAQ,EAC7B/9B,EAAKuxC,UAAY5C,KAGrBta,KAAM,SAASvW,GACX,IAAI9d,EAAOP,KACPiU,EAASoK,EAAS,OAAS9d,EAAKk+B,MAChCqT,EAAY5C,IACZ6C,EAAaD,EAAYvxC,EAAKuxC,WAAc,EAEhD,IAAK79B,GAAUm7B,EACX,OAGJ7uC,EAAK+9B,MAAQrqB,EAAS1T,EAAK8d,SAE3B9d,EAAKoxC,oBAAoBtzB,GAEzB9d,EAAKyxC,aAAe/9B,EAAS1T,EAAKqxC,cAClCrxC,EAAKsxC,SAAWtxC,EAAK+9B,MAAQyT,EAC7BxxC,EAAKuxC,UAAYA,GAGrBH,oBAAqB,SAAStzB,GAC1B,IAAI9d,EAAOP,KAAMy+B,EAAOl+B,EAAKk+B,KAE7Bl+B,EAAK8d,SAAWA,EAAS,OAASogB,GAClCl+B,EAAK29B,OAAS7f,EAAS,SAAWogB,GAClCl+B,EAAKib,OAAS6C,EAAS,SAAWogB,MAItCwT,EAAQ/xC,EAAM1C,OAAO,CACrBiD,KAAM,SAASyxC,EAAYvyC,EAAQwyC,GAC/B30C,EAAOwC,KAAM,CACTi+B,EAAG,IAAIyT,EAAU,IAAKS,EAAU9zB,UAChClQ,EAAG,IAAIujC,EAAU,IAAKS,EAAU9zB,UAChC9W,KAAM4qC,EAAU5qC,KAChB6qC,cAAeF,EAAWE,cAC1BzxB,UAAWuxB,EAAWvxB,WAAa0vB,EAAU8B,EAAU5qC,MACvD2qC,WAAYA,EACZvyC,OAAQA,EACR4xC,cAAeY,EAAUZ,cACzBc,aAAcF,EAAUxyC,OACxBnD,GAAI21C,EAAU31C,GACd81C,WAAYH,EACZI,QAASL,EAAWK,QACpBC,iBAAkBN,EAAWM,iBAC7BC,OAAQ,MACRC,UAAW,SAInBC,MAAO,WACH3yC,KAAK4yC,aAAezf,WAAWnzB,KAAK6yC,MAAMtxC,KAAKvB,MAAOA,KAAKkyC,WAAWY,SACtE9yC,KAAK+yC,SAASvD,EAAOxvC,KAAKsyC,aAG9BU,KAAM,SAASb,GACX,IAAI5xC,EAAOP,KACXO,EAAK2xC,WAAWK,UAChB,GAAIhyC,EAAK2xC,WAAWK,SAAW,EAC3BhyC,EAAK0yC,cAAgB9f,WAAW,WAC5B,GAAI5yB,EAAK2xC,WAAWK,SAAW,EAC3BhyC,EAAKwyC,SAASjD,EAAKqC,QAGnB5xC,EAAKwyC,SAAShD,EAAWoC,GAE7B5xC,EAAK2xC,WAAWK,QAAU,GAC3BjD,IAIXuD,MAAO,WACH7yC,KAAK+yC,SAAStD,EAAMzvC,KAAKsyC,aAG7B1d,KAAM,SAASud,GACX,IAAI5xC,EAAOP,KACX,IAAIkzC,EAAcf,EAAU5qC,OAAS,OAAShH,EAAK2xC,WAAWiB,eAE9D,GAAI5yC,EAAKmyC,WAAaQ,EAAe,OAErC3yC,EAAK09B,EAAErJ,KAAKud,EAAU9zB,UACtB9d,EAAK4N,EAAEymB,KAAKud,EAAU9zB,UAEtB,IAAK9d,EAAKkyC,OAAQ,CACd,GAAIlyC,EAAK6yC,yBACL,OAGJ,IAAKC,EAAWxqC,SAAWwqC,EAAWxqC,UAAYtI,EAAK2xC,WACnD3xC,EAAK+yC,OAAOnB,QAEZ,OAAO5xC,EAAKgzC,UAKpB,IAAKhzC,EAAKmyC,UACNnyC,EAAKwyC,SAASnD,EAAMuC,IAI5BvuC,IAAK,SAASuuC,GACVnyC,KAAKwzC,QAAUtE,IAEf,GAAIlvC,KAAK0yC,UAAa,OAGtB1yC,KAAK0yC,UAAY,KAEjB1yC,KAAK+yC,SAAS/C,EAASmC,GAEvB,GAAInyC,KAAKyyC,OACLzyC,KAAK+yC,SAAS7qB,EAAKiqB,QAEnB,IAAKnyC,KAAKoyC,cACN,GAAIpyC,KAAKwyC,iBACLxyC,KAAKgzC,KAAKb,QAGVnyC,KAAK+yC,SAASjD,EAAKqC,GAK/B3d,aAAax0B,KAAK4yC,cAElB5yC,KAAKuzC,WAGTA,QAAS,WACL,IAAIrB,EAAalyC,KAAKkyC,WAClBuB,EAAgBvB,EAAWrsB,QAE/B7lB,KAAK0yC,UAAY,KACjB1yC,KAAKsyC,WAAa,KAClB9d,aAAax0B,KAAK4yC,cAElBa,EAAchxC,OAAOvF,EAAEmyB,QAAQrvB,KAAMyzC,GAAgB,IAGzDC,KAAM,WACF1zC,KAAKuzC,WAGT1e,OAAQ,WACJ70B,KAAKuzC,WAGTI,QAAS,WACL,OAAO3zC,KAAKyyC,QAGhBa,OAAQ,SAASnB,GACb3d,aAAax0B,KAAK4yC,cAElB5yC,KAAK4zC,UAAY1E,IACjBlvC,KAAKyyC,OAAS,KACdzyC,KAAK+yC,SAASpD,EAAOwC,IAGzBY,SAAU,SAASt2C,EAAM01C,GACrB,IAAI5xC,EAAOP,KACPo+B,EAAc+T,EAAU92B,MACxBpX,EAAO,CACHyW,MAAOna,EACP09B,EAAG19B,EAAK09B,EACR9vB,EAAG5N,EAAK4N,EACRxO,OAAQY,EAAKZ,OACb0b,MAAO+iB,GAGf,GAAG79B,EAAK2xC,WAAWxjB,OAAOjyB,EAAMwH,GAC5Bm6B,EAAYl9B,kBAIpBkyC,uBAAwB,WACpB,IAAIS,EAAS7zC,KAAKi+B,EAAE+T,aAChB8B,EAAS9zC,KAAKmO,EAAE6jC,aAEpB,OAAOl0C,KAAKuzC,KAAKwC,EAASA,EAASC,EAASA,IAAW9zC,KAAK2gB,aAIpE,SAASozB,EAAgB5tB,GACrB,IAAI6tB,EAAa12C,EAAMq3B,SAAS/R,GAAG/f,MAAM,KACrClB,EAAM,EACN7B,EAASk0C,EAAWl0C,OAExB,KAAM6B,EAAM7B,EAAQ6B,IAChBwkB,EAAS6tB,EAAWryC,IAI5B,IAAI0xC,EAAahyC,EAAW7D,OAAO,CAC/BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACPiwB,EACApH,EAAKvrB,EAAMksB,OAEf/pB,EAAUA,GAAW,GACrBwwB,EAAS1vB,EAAK0vB,OAASxwB,EAAQwwB,OAC/B1vB,EAAKogB,UAAYlhB,EAAQkhB,WAAa4uB,EACtChvC,EAAKuyC,QAAUrzC,EAAQqzC,SAAWzD,EAClC9uC,EAAKslB,QAAU,GACftlB,EAAK0zC,YAAcx0C,EAAQy0C,WAAa,EAAI,EAC5C3zC,EAAK4zC,eAAiB10C,EAAQ00C,eAC9B5zC,EAAK6zC,iBAAmB30C,EAAQ20C,iBAChC7zC,EAAK6xC,eAAiB3yC,EAAQ40C,UAAYp2C,EAAQ0gB,eAClDpe,EAAK+zC,QAAUzrB,EACftoB,EAAKgyC,QAAU,EACfhyC,EAAKiyC,iBAAmB/yC,EAAQ+yC,iBAEhC3iC,EAAU3S,EAAE2S,GAAS/N,QAAQvB,GAC7Bc,EAAWV,GAAGF,KAAK+B,KAAKjC,GAExB/C,EAAO+C,EAAM,CACTsP,QAASA,EAET0kC,QAAS90C,EAAQ+0C,QAAU/D,EAAwBvzC,EAAE2S,EAAQ,GAAG4kC,cAAc/kC,iBAAmBxS,EAAEuC,EAAQ80C,SAAW1kC,GACtHykB,gBAAiB70B,EAAQ60B,gBACzBogB,QAAS,QAGbn0C,EAAKg0C,QAAQzyC,QAAQvB,GAChB6lB,GAAG9oB,EAAMu4B,cAAc,OAAQhN,GAAK,SACpCzC,GAAG9oB,EAAMu4B,cAAc,YAAahN,GAAK,QAE9ChZ,EAAQuW,GAAG9oB,EAAMu4B,cAAc,OAAQhN,GAAKoH,EAAQ,UAEpD,GAAI1vB,EAAK6xC,cACLviC,EAAQuW,GAAG9oB,EAAMu4B,cAAc,QAAShN,GAAKoH,EAAQ,UAGzD,GAAIhyB,EAAQkkB,UAAYlkB,EAAQmkB,WAE5B,GAAInkB,EAAQ+a,QAAQhc,QAAU,GAAI,CAC9B,IAAI23C,EAAgB,6BACpB9kC,EAAQgF,IAAI,mBAAoBpV,EAAQm1C,aAAen1C,EAAQm1C,aAAe,OAASD,EAAgB,IAAMl1C,EAAQm1C,YAAcD,QAEnI9kC,EAAQgF,IAAI,eAAgBpV,EAAQm1C,aAAe,QAI3D,GAAIn1C,EAAQo1C,iBACRhlC,EAAQuW,GAAG9oB,EAAMu4B,cAAc,YAAahN,GAAKvrB,EAAM4D,gBAG3D2O,EAAQuW,GAAG9oB,EAAMu4B,cAAc,YAAahN,GAAKoH,EAAQ,CAAE8a,KAAMl7B,GAAW,WAE5E,GAAItP,EAAK6zC,kBAAoBn2C,EAAQiiB,aAAc,CAC/C,IAAI40B,EAAiBv0C,EAAKg0C,QAAQ,GAC9BQ,EAAuBx0C,EAAKy0C,gBAAgBzzC,KAAKhB,GAErDwzC,EAAgB,SAASvyC,GACrBszC,EAAe30B,iBAAiB3e,EAAWuzC,EAAsB,QAIzEx0C,EAAKgB,KAAK,CACViuC,EACAC,EACAK,EACAC,EACAJ,EACAC,EACA1nB,EACA8nB,EACAH,EACAI,EACAC,EACAC,EACAC,EACAV,GACGjwC,IAGPu1C,gBAAiB,SAAS1yC,GACtB,GAAItC,KAAKi1C,WACL3yC,EAAEpB,kBAIV+qB,QAAS,WACL,IAAI1rB,EAAOP,KAEX,GAAIO,EAAK20C,WACL,OAGJ30C,EAAK20C,WAAa,KAElB,GAAI30C,EAAK6zC,kBAAoBn2C,EAAQiiB,aAAc,CAC/C,IAAI40B,EAAiBv0C,EAAKg0C,QAAQ,GAClCR,EAAgB,SAASvyC,GACrBszC,EAAeK,oBAAoB3zC,EAAWjB,EAAKy0C,mBAI3Dz0C,EAAKsP,QAAQ4hB,aAAalxB,EAAK+zC,SAC/B/zC,EAAKg0C,QAAQ9iB,aAAalxB,EAAK+zC,SAC/B/zC,EAAKsP,QAAQqc,WAAW,WACxB3rB,EAAKg0C,QAAQroB,WAAW,WACxB3rB,EAAK60C,cAEL70C,EAAK0B,gBACE1B,EAAKg0C,eACLh0C,EAAKsP,eACLtP,EAAKgxC,eAGhB8D,QAAS,WACLhC,EAAWxqC,QAAU7I,MAGzB60B,OAAQ,WACJ70B,KAAKo1C,cACLp1C,KAAKqC,QAAQwtC,IAGjBnhB,OAAQ,SAASltB,EAAWyC,GACxB,IAAI1D,EAAOP,KACP6lB,EAAUtlB,EAAKslB,QAEnB,GAAI7lB,KAAKs1C,gBAAiB,CACtB,OAAO9zC,GACH,KAAKouC,EACDpuC,EAAY0uC,EACZ,MACJ,KAAKhoB,EACD1mB,EAAY2uC,EACZ,MACJ,KAAKL,EACDtuC,EAAY4uC,EACZ,MAGR5yC,EAAOyG,EAAM,CAAC4hB,QAASA,GAAU6qB,EAAW7qB,EAAQ,GAAIA,EAAQ,KAGpE,OAAO7lB,KAAKqC,QAAQb,EAAWhE,EAAOyG,EAAM,CAACsD,KAAM/F,MAIvDmxC,MAAO,SAAS1U,EAAG9vB,EAAGxO,GAClBK,KAAKu1C,SAAS,SAAUtX,EAAG9vB,EAAGxO,IAGlCi1B,KAAM,SAASqJ,EAAG9vB,GACdnO,KAAKu1C,SAAS,QAAStX,EAAG9vB,IAG9BvK,IAAK,SAASq6B,EAAG9vB,GACbnO,KAAKu1C,SAAS,OAAQtX,EAAG9vB,IAG7BmnC,cAAe,WACX,OAAOt1C,KAAK6lB,QAAQ/lB,OAAS,GAGjC01C,mBAAoB,WAChB,OAAOx1C,KAAK6lB,QAAQ/lB,QAAUE,KAAKi0C,aAGvCmB,YAAa,WACT,IAAIvvB,EAAU7lB,KAAK6lB,QACnB,MAAOA,EAAQ/lB,OAAS,EACpB+lB,EAAQwQ,MAAMkd,WAItB0B,SAAU,WACN,OAAO/3C,EAAEu7B,KAAKz4B,KAAK6lB,QAAS,SAASnL,GACjC,OAAOA,EAAMi5B,YACd7zC,QAGP21C,QAAS,SAASnzC,GACf,IAAKtC,KAAKm0C,gBAAkBn0C,KAAKqC,QAAQqtC,EAAQ,CAAEr0B,MAAO/Y,IACtDA,EAAEpB,kBAIToyC,OAAQ,SAAShxC,GACb,IAAI/B,EAAOP,KACP2B,EAAM,EACNsuB,EAAS1vB,EAAK0vB,OACdtwB,EACAkmB,EAAUyrB,EAAWhvC,GACrBxC,EAAS+lB,EAAQ/lB,OACjB4a,EACAg7B,EAAQpzC,EAAEozC,MAEd,GAAKA,GAASA,EAAQ,GAAOn1C,EAAKi1C,qBAC9B,OAGJnC,EAAWxqC,QAAU,KAErBtI,EAAKgxC,cAAgBjvC,EAAEivC,cAEvB,GAAIhxC,EAAK+zB,gBACLhyB,EAAEgyB,kBAGN,KAAO3yB,EAAM7B,EAAQ6B,IAAQ,CACzB,GAAIpB,EAAKi1C,qBACL,MAGJ96B,EAAQmL,EAAQlkB,GAEhB,GAAIsuB,EACAtwB,EAASzC,EAAEwd,EAAM62B,oBAEjB5xC,EAASY,EAAKsP,QAGlB,IAAKlQ,EAAOG,OACR,SAGJ4a,EAAQ,IAAIu3B,EAAM1xC,EAAMZ,EAAQ+a,GAChCna,EAAKslB,QAAQ3jB,KAAKwY,GAClBA,EAAMi4B,QAEN,GAAIpyC,EAAK+0C,gBACL/0C,EAAKmuB,OAAO,eAAgB,MAKxCinB,MAAO,SAASrzC,GACZtC,KAAK41C,WAAW,OAAQtzC,IAG5BuzC,KAAM,SAASvzC,GACXtC,KAAK41C,WAAW,MAAOtzC,IAG3BwzC,OAAQ,SAASxzC,GACb,IAAI2B,EAAO,CACPyW,MAAO,CACH23B,aAAc/vC,EAAE3C,OAChBA,OAAQzC,EAAEoF,EAAEivC,eACZiC,QAAStE,IACTjR,EAAG,CACC5f,SAAU/b,EAAEyzC,MACZ7X,OAAQ57B,EAAE2jB,SAEd9X,EAAG,CACCkQ,SAAU/b,EAAE0zC,MACZ9X,OAAQ57B,EAAE4jB,UAGlB+X,EAAG37B,EAAEyzC,MACL5nC,EAAG7L,EAAE0zC,MACLr2C,OAAQzC,EAAEoF,EAAEivC,eACZl2B,MAAO/Y,EACPiF,KAAM,OAGV,GAAIvH,KAAKqC,QAAQ,MAAO4B,GACpB3B,EAAEpB,kBAIV00C,WAAY,SAASK,EAAY3zC,GAC7B,IAAI/B,EAAOP,KACPslC,EAAO,GACPzf,EAAUyrB,EAAWhvC,GACrBmxC,EAAgBlzC,EAAKslB,QACrBlkB,EACA+Y,EACAy3B,EACA+D,EAEJ,IAAKv0C,EAAM,EAAGA,EAAM8xC,EAAc3zC,OAAQ6B,IAAQ,CAC9C+Y,EAAQ+4B,EAAc9xC,GACtB2jC,EAAK5qB,EAAMle,IAAMke,EAGrB,IAAK/Y,EAAM,EAAGA,EAAMkkB,EAAQ/lB,OAAQ6B,IAAQ,CACxCwwC,EAAYtsB,EAAQlkB,GACpBu0C,EAAgB5Q,EAAK6M,EAAU31C,IAE/B,GAAI05C,EACAA,EAAcD,GAAY9D,KAKtCoD,SAAU,SAAShuC,EAAM02B,EAAG9vB,EAAGxO,GAC3BK,KAAKuH,GAAM,CACP+oC,IAAK,KACLyF,MAAO9X,EACP+X,MAAO7nC,EACP8X,QAASgY,EACT/X,QAAS/X,EACTxO,OAAQzC,EAAEyC,GAAUK,KAAK6P,SAAS,GAClCykB,gBAAiBp3B,EAAEU,KACnBsD,eAAgBhE,EAAEU,UAkBlC,OAbIy1C,EAAW8C,iBAAmB,SAAS7uC,GACnCioC,EAAoBjoC,GAGxB+rC,EAAWP,QAAU,SAASxrC,GAC1B+nC,EAAmB/nC,GAGvBhK,EAAMg0C,WAAaA,EACnBh0C,EAAMozC,WAAaA,EACnBpzC,EAAM+1C,WAAaA,EAGhBj2C,OAAOE,QA/oBd,CAipBoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,cAAc,CAAE,aAAc,oBACtC,WAEH,IAAIC,EAAW,CACXC,GAAI,QACJC,KAAM,QACNC,SAAU,SACVC,YAAa,2KACbotC,QAAS,CAAE,OAAQ,eAGb7sC,EAwJPE,OAAOE,MAAMH,OAxJHE,OAAb,EACQC,EAAQF,OAAOE,MACfwpB,EAASxpB,EAAM2pB,GAAGH,OAClBxc,EAAMxM,KAAKwM,IACX8rC,EAA0B,GAE1BnE,EAAQnrB,EAAOtpB,OAAO,CACtBiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GACnCA,EAAUc,EAAKd,QAEfoQ,EAAUtP,EAAKsP,QACftP,EAAKiW,QAAU3G,EAEf,SAASwmC,EAAW55C,GAChB,OAAO,SAAS6F,GACZ/B,EAAK+1C,cAAc75C,EAAM6F,IAIjC,SAASi0C,EAAkB95C,GACvB,OAAO,SAAS6F,GACZ/B,EAAK8B,QAAQ5F,EAAM,CAAEopB,QAASvjB,EAAEujB,QAASurB,SAAU9uC,EAAE8uC,SAAUD,OAAQ7uC,EAAE6uC,OAAQ91B,MAAO/Y,EAAE+Y,SAIlG9a,EAAKyB,OAAS,IAAI1E,EAAM+1C,WAAWxjC,EAAS,CACxCogB,OAAQxwB,EAAQwwB,OAChBskB,QAAS90C,EAAQ80C,QACjBzB,QAASrzC,EAAQqzC,QACjBoB,WAAYz0C,EAAQy0C,WACpBC,eAAgB,KAChBE,QAAS50C,EAAQ40C,QACjB1B,MAAO0D,EAAW,cAClBG,KAAMH,EAAW,QACjBI,IAAKl2C,EAAKyyC,KAAKzxC,KAAKhB,GACpBm2C,aAAcH,EAAkB,gBAChCI,cAAeJ,EAAkB,iBACjCK,WAAYL,EAAkB,gBAGlC,GAAI92C,EAAQo3C,YAAa,CACrBt2C,EAAKyB,OAAOT,KAAK,QAAShB,EAAKu2C,YAAYv1C,KAAKhB,IAChDA,EAAKyB,OAAOT,KAAK,OAAQhB,EAAKw2C,WAAWx1C,KAAKhB,QAC3C,CACHA,EAAKyB,OAAOT,KAAK,QAAShB,EAAKy2C,WAAWz1C,KAAKhB,IAC/CA,EAAKyB,OAAOT,KAAK,OAAQ80C,EAAW,SACpC91C,EAAKyB,OAAOT,KAAK,MAAO80C,EAAW,YAGvC/4C,EAAMoxB,OAAOnuB,IAGjByB,OAAQ,CACJ,aACA,YACA,OACA,UACA,MACA,YACA,OACA,QACA,eACA,gBACA,cAGJvC,QAAS,CACLhD,KAAM,QACN83C,QAAS,KACTC,OAAQ,MACRH,QAAS,MACTpkB,OAAQ,KACRikB,WAAY,MACZ2C,YAAa,MACbI,UAAW,GACXC,UAAW,GACXC,YAAa,IACbrE,QAAS,IACTsE,iBAAkB,KAGtBviB,OAAQ,WACJ70B,KAAKgC,OAAO6yB,UAGhB5I,QAAS,WACLnF,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,MAEvBA,KAAKgC,OAAOiqB,WAGhBqqB,cAAe,SAAS/uC,EAAMjF,GAC1B,GAAItC,KAAKqC,QAAQkF,EAAM,CAAEmT,MAAOpY,EAAEoY,MAAOW,MAAO/Y,EAAE+Y,QAC9C/Y,EAAEpB,kBAIV8xC,KAAM,SAAS1wC,GACX,IAAI/B,EAAOP,KACPq3C,EAAU92C,EAAK82C,QACf38B,EAAQpY,EAAEoY,MAEd,GAAI28B,GACC38B,EAAM84B,QAAU6D,EAAQ7D,QAAUjzC,EAAKd,QAAQ23C,kBAChD95C,EAAMozC,WAAWh2B,EAAO28B,GAASjG,SAAWgF,EAC1C,CAEH71C,EAAK+1C,cAAc,YAAah0C,GAChC/B,EAAK82C,QAAU,SACX,CACH92C,EAAK+1C,cAAc,MAAOh0C,GAC1B/B,EAAK82C,QAAU38B,IAIvBs8B,WAAY,SAAS10C,GACjBtC,KAAKs2C,cAAc,YAAah0C,IAGpCw0C,YAAa,SAASx0C,GAClB,GAAIgI,EAAIhI,EAAE27B,EAAE4T,UAAY,GAAKvnC,EAAIhI,EAAE6L,EAAE0jC,UACjCvvC,EAAEC,OAAO8yC,WAIjB0B,WAAY,SAASz0C,GACjB,IAAI/B,EAAOP,KACPP,EAAUc,EAAKd,QACfib,EAAQpY,EAAEoY,MACV0I,EAAW9gB,EAAE+Y,MAAMy2B,UAAYp3B,EAAMk5B,UACrC0D,EAAY58B,EAAMujB,EAAE+T,aAAe,EAAI,QAAU,OAErD,GACI1nC,EAAIoQ,EAAMujB,EAAE+T,eAAiBvyC,EAAQw3C,WACrC3sC,EAAIoQ,EAAMvM,EAAE6jC,cAAgBvyC,EAAQy3C,WACpC9zB,EAAW3jB,EAAQ03C,YAEvB,CACI52C,EAAK8B,QAAQ,QAAS,CAClBi1C,UAAWA,EACX58B,MAAOpY,EAAEoY,QAGbA,EAAMma,aAQtB,OAHIv3B,EAAM2pB,GAAG+J,OAAOihB,GAGb70C,OAAOE,QAtKd,CAwKoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,mBAAmB,CAAE,cAC7B,WAEH,IAAIC,EAAW,CACXC,GAAI,aACJC,KAAM,QACNC,SAAU,YACVqtC,QAAS,CAAE,QACXC,OAAQ,MAGF9sC,EAyhBPE,OAAOE,MAAMH,OAzhBHE,OAAb,EACQC,EAAQF,OAAOE,MACfE,EAASN,EAAEM,OACX+5C,EAAU,OACVC,EAAa,WACbv2C,EAAa3D,EAAM2D,WACnBw2C,EAAe,CACX3lB,GAAI,KACJ4lB,IAAK,KACLC,GAAI,KACJC,IAAK,KACLC,GAAI,KACJC,IAAK,KACL3oB,SAAW,cACX4oB,eAAgB,cAChBC,SAAU,WACVC,WAAY,aACZC,OAAQ,KACRC,UAAW,KACXC,cAAe,KACfC,iBAAkB,KAClBC,QAAS,KACTC,WAAY,MAEhBC,EAA0Bh7C,EAAO,GAAIi6C,EAAc,CAC/CtoB,SAAU,aAEdspB,EAAU,CACNC,SAAUx7C,EAAEU,KACZ+6C,KAAMz7C,EAAEU,KACRqyB,OAAQ,SAAS6N,EAAQ7N,EAAQ2oB,GAC7B,GAAI3oB,EAAQ,CACRA,EAAS4oB,EAAc5oB,EAAQ2oB,GAC/B,GAAI3oB,EACA6N,EAAOgb,QAAU7oB,IAI7BnP,KAAM,SAASgd,EAAQib,GACnB,IAAI/vB,EAAO9rB,EAAEgU,IAAI6nC,EAAS,SAASzxC,GAC/B,IAAI0xC,EAAQ1xC,EAAMuZ,MAAM1gB,QAAQ,MAAO,KAEvC,GAAImH,EAAMsyB,MAAQ,OACdof,GAAS,QAGb,OAAOA,IACRl2C,KAAK,KAER,GAAIkmB,EACA8U,EAAOmb,SAAWjwB,GAG1B0qB,KAAM,SAAS5V,EAAQ4V,GACnB,GAAIA,EACA5V,EAAOob,MAAQxF,GAGvByF,KAAM,SAASrb,EAAQqb,GACnB,GAAIA,EACArb,EAAOsb,KAAOD,IAI1BE,EAAkB,CACdC,KAAM,CACFC,SAAU,UAItB,SAASV,EAAc5oB,EAAQupB,GAC3B,IAAIjwC,EAAS,GACTkwC,EAAQxpB,EAAOwpB,OAAS,MACxB93C,EACA7B,EACA+gB,EACAtZ,EACA1C,EACA60C,EACApyC,EACAymC,EACA4L,EAAU1pB,EAAO0pB,QAErB,IAAKh4C,EAAM,EAAG7B,EAAS65C,EAAQ75C,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACxDsuB,EAAS0pB,EAAQh4C,GACjBkf,EAAQoP,EAAOpP,MACfvZ,EAAQ2oB,EAAO3oB,MACfoyC,EAAWzpB,EAAOypB,SAElB,GAAIzpB,EAAO0pB,QACP1pB,EAAS4oB,EAAc5oB,EAAQupB,OAC5B,CACHzL,EAAa9d,EAAO8d,WACpBltB,EAAQA,EAAM1gB,QAAQ,MAAO,KAC7B8vB,EAASwnB,EAAaiC,GACtB,GAAIF,EACAvpB,EAASuoB,EAAwBkB,GAGrC,GAAIA,IAAa,gBACbzpB,EAAS3yB,EAAMuH,OAAO,6BAA8Bgc,EAAOoP,QACxD,GAAGypB,IAAa,mBACnBzpB,EAAS3yB,EAAMuH,OAAO,8BAA+Bgc,EAAOoP,QACzD,GAAIypB,IAAa,UAAYA,IAAa,YAC7CzpB,EAAS3yB,EAAMuH,OAAO,eAAgBgc,EAAOoP,QAC1C,GAAIypB,IAAa,WAAaA,IAAa,aAC9CzpB,EAAS3yB,EAAMuH,OAAO,aAAcgc,EAAOoP,QACxC,GAAIA,GAAU3oB,IAAUjK,EAAW,CACtCkK,EAAOjK,EAAMiK,KAAKD,GAClB,GAAIC,IAAS,SAAU,CACnB1C,EAAS,QACTyC,EAAQA,EAAMnH,QAAQ,KAAM,MAE5B,GAAI4tC,IAAe,KACfltB,EAAQ,WAAaA,EAAQ,SAG9B,GAAItZ,IAAS,OAChB,GAAIiyC,EAAc,CACd30C,EAAS,gCACTyC,EAAQhK,EAAMmX,SAAS/T,MAAM4G,EAAO,gBAEpCzC,EAAS,yCAGbA,EAAS,MAGb,GAAIorB,EAAOnwB,OAAS,EAChB,GAAImwB,IAAW,cACXprB,EAAS,WAAaA,EAAS,QAC5B,CACHA,EAAS,OAASA,EAAS,QAC3B,GAAI60C,IAAa,iBACb,GAAIF,EAAc,CACd30C,EAAS,uBACTorB,EAAS,eAETprB,GAAU,iBAKtBA,EAAS,WAAaA,EAG1BorB,EAAS3yB,EAAMuH,OAAOA,EAAQorB,EAAQ3oB,EAAOuZ,IAIrDtX,EAAOrH,KAAK+tB,GAGhBA,EAAS1mB,EAAOzG,KAAK,IAAM22C,EAAQ,KAEnC,GAAIlwC,EAAOzJ,OAAS,EAChBmwB,EAAS,IAAMA,EAAS,IAG5B,OAAOA,EAGX,SAAS2pB,EAAc53B,GACnB,IAAK,IAAIvlB,KAAQulB,EACb,GAAGvlB,EAAKoQ,QAAQ,YAAc,SACnBmV,EAAIvlB,GAKvB,SAASo9C,IACL,OAAO/7C,KAAK6G,OAAO,EAAI7G,KAAK2rB,UAAY,OAAS/jB,SAAS,IAAIyM,OAAO,GAGzE,SAAS2nC,EAAe5+B,GACpB,OAAOA,EAAS2+B,IAAU,IAAMA,IAAU,IAAMA,IAGpD,SAASE,EAAgBC,EAAUC,GAC/B,IAAI1wC,EAASguC,EAAU,KAAOyC,EAE9B,GAAIC,EACA1wC,GAAU,KAGd,OAAOA,EAGX,SAAS2wC,EAAcC,EAAWlR,EAAMmR,EAAUC,GAC7C,IAAIC,EAAeH,EAAU16C,QAAQ46C,GAAStxB,IAC9C,IAAIwxB,EAAgBj9C,EAAMuH,OAAO,OAAQu1C,GAEzC,GAAIn5C,EAAWq5C,GACX,OAAOC,EAAgBD,EAAarR,QAEpC,OAAOsR,EAAgBD,EAIhC,SAASE,EAAmBC,EAAWC,GACnC,IAAIC,EAAS,GAEbA,GAAUZ,EAAgBU,EAAW,OACrCE,GAAUpD,EAAU,iCACpBoD,GAAUpD,EAAU,oCACpBoD,GAAUpD,EAAU,eAAiBmD,EAErC,OAAOC,EAGX,SAASC,EAAoB3R,GACzB,IAAI4R,EAAU,GAEdA,GAAWtD,EAAU,uDACrBsD,GAAWtD,EAAU,gCACrBsD,GAAWrD,EAAal6C,EAAMmK,UAAUwhC,GAExC,OAAO4R,EAGX,SAASC,EAAcC,EAAYN,EAAWC,EAAUL,EAASF,EAAWa,GACxE,IAAIC,EAAc,GAElB,IAAK,IAAIp7C,EAAI,EAAGA,EAAIk7C,EAAWj7C,OAAQD,IAAK,CACxCo7C,GAAeT,EAAmBC,EAAWC,GAC7CO,GAAezD,EAAa0C,EAAcC,EAAWY,EAAWl7C,GAAIs6C,EAAU16C,QAAQ46C,GAAS9yC,KAAM8yC,GAAW,YAChH,IAAKW,EACDC,GAAeL,EAAoBG,EAAWl7C,IAElDo7C,GAAe1D,EACfmD,IAGJ,OAAOO,EAGX,SAASC,EAAkBC,EAAWnB,EAAUS,EAAWC,EAAUP,EAAWE,EAASW,GACrF,IAAIC,EAAc,GAElBA,GAAeG,EAAYpB,EAAUS,GACrCQ,GAAeH,EAAcK,EAAWV,EAAWC,EAAUL,EAASF,EAAWa,GACjFC,GAAelB,EAAgBU,EAAW,MAC1CQ,GAAe1D,EAEf,OAAO0D,EAGX,SAASG,EAAYpB,EAASS,GAC1B,IAAIQ,EAAc,GAElBA,GAAe,KAAOjB,EAAWzC,EACjC0D,GAAe,2CAA6CR,EAAYlD,EAExE,OAAO0D,EAGX,SAASI,EAAmBlB,EAAWmB,GACzC,IAAI77C,EAAUjC,EAAO,GAAI28C,EAAU16C,QAAQ87C,OACrC,IAAIvB,EAAWF,EAAe,aAC9B,IAAImB,EAAc,GAClB,IAAIP,EAAW,EACf,IAAIc,EAAWrB,EAAU16C,QAAQ87C,MAAMxyB,IACvC,IAAI0xB,EAAYX,EAAe,iBAE/Br6C,EAAQ8H,KAAO4yC,EAAU16C,QAAQ87C,MAAMh0C,KACvC9H,EAAQspB,IAAM9nB,EAAWu6C,GAAYA,IAAaA,EACxD/7C,EAAQg8C,QAAUj+C,EAAOiC,EAAQg8C,SAAW,GAAI,CAC/CC,eAAgB,6BAA+B1B,IAG1C,GAAIsB,EAAWK,QAAQ77C,OAAQ,CAC3Bm7C,GAAeC,EAAkBI,EAAWK,QAAS3B,EAAUS,EAAWC,EAAUP,EAAW,SAAU,OACzGO,GAAYY,EAAWK,QAAQ77C,OAC/B26C,EAAYX,EAAe,iBAG/B,GAAIwB,EAAWM,UAAU97C,OAAQ,CAC7Bm7C,GAAeC,EAAkBI,EAAWM,UAAW5B,EAAUS,EAAWC,EAAUP,EAAW,UAAW,MAC5GO,GAAYY,EAAWM,UAAU97C,OACjC26C,EAAYX,EAAe,iBAG/B,GAAIwB,EAAWO,QAAQ/7C,OACnBm7C,GAAeC,EAAkBI,EAAWO,QAAS7B,EAAUS,EAAWC,EAAUP,EAAW,SAAU,OAG7Gc,GAAelB,EAAgBC,EAAU,MAEzCv6C,EAAQwE,KAAOg3C,EAEf,OAAOx7C,EAGX,SAASq8C,EAAmBC,GACxB,IAAIC,EAAkBD,EAAaz3C,MAAM,qCACzC,IAAI23C,EAAc,EAClB,IAAIC,EAAc,GAClB,IAAIC,EACJ,IAAIC,EACJ,IAAIC,EACJ,IAAIC,EACJ,IAAIC,EAEJL,EAAYh6C,KAAK,CAAEs6C,OAAQ,GAAIC,OAAQ,OAEvC,IAAK,IAAI58C,EAAI,EAAGA,EAAIm8C,EAAgBl8C,OAAQD,IAAK,CAC7Cy8C,EAASN,EAAgBn8C,GACzB,GAAIy8C,EAAOtvC,YAAY,KAAMsvC,EAAOx8C,OAAS,GAAI,CAC7C,GAAID,EAAIm8C,EAAgBl8C,OAAS,EAC7Bo8C,EAAYh6C,KAAK,CAAEs6C,OAAQ,GAAIC,OAAQ,OAE3C,SAGJ,IAAKR,EACDA,EAAcF,EAAalvC,QAAQyvC,QAEnCL,EAAcF,EAAalvC,QAAQyvC,EAAQL,EAAcK,EAAOx8C,QAGpEq8C,EAAaJ,EAAa94C,UAAUg5C,EAAaF,EAAalvC,QAAQ,KAAMovC,EAAc,IAC1FG,EAASD,EAAW73C,MAAM,gCAAgC+xB,MAC1DgmB,EAAO/+C,EAAMuW,WAAWuoC,EAAO93C,MAAM,UAAU+xB,OAE/C,GAAIgmB,GAAQ,KAAOA,GAAQ,IAAK,CAC5BE,EAAYJ,EAAW73C,MAAM,YAC7B,GAAIi4C,EACAL,EAAYA,EAAYp8C,OAAS,GAAG08C,OAAOt6C,KAAKlE,KAAK0+C,MAAMH,EAAU,UAGzEL,EAAYA,EAAYp8C,OAAS,GAAG28C,OAAS,MAKrD,OAAOP,EA4Mf,OAzMI1+C,EAAO,KAAMF,EAAM2G,KAAM,CACrB04C,QAAS,CACLC,MAAO,CACHr1C,KAAM,OACNtD,KAAM,SAASA,GACX,OAAOA,EAAKuJ,EAAEqvC,SAAW,CAAC54C,EAAKuJ,IAEnCsvC,MAAO,cAGfC,WAAY,CACRH,MAAO,CACHtD,KAAM,CACFphB,MAAO,KACPqhB,SAAU,QACVyD,MAAO,aAEXC,OAAQ,CACJ/kB,MAAO,KACPqhB,SAAU,OACVvU,YAAa,mBACbz9B,KAAM,OAEV21C,OAAQ,CACJhlB,MAAO,KACPqhB,SAAU,OACVvU,YAAa,mBACbz9B,KAAM,QAEV0kB,QAAS,CACLiM,MAAO,KACPqhB,SAAU,OACVhyC,KAAM,UAEV41C,aAAc,SAAS19C,EAAS8H,EAAMqxC,GAClC,IAAI9a,EACAx2B,EACAynB,EACAwqB,EAEJ95C,EAAUA,GAAW,GACrB8H,EAAOA,GAAQ,OACfgyC,GAAYv5C,KAAKP,SAAW45C,GAAiB9xC,GAC7CgyC,EAAWA,EAAWA,EAASA,SAAW,OAE1C,GAAIhyC,IAAS,OAAQ,CACjBu2B,EAAS,CACLsf,aAAc,YAGlB,GAAI7D,GAAY,OACZzb,EAAOuf,QAAU,OAGrB,IAAKtuB,KAAUtvB,EACX,GAAIg5C,EAAQ1pB,GACR0pB,EAAQ1pB,GAAQ+O,EAAQr+B,EAAQsvB,GAAS6pB,QAEzC9a,EAAO/O,GAAUtvB,EAAQsvB,OAG9B,CACH,GAAIwqB,IAAa,OACb,MAAM,IAAI30C,MAAM,sCAAwC2C,EAAO,eAGnE,GAAIA,IAAS,UAAW,CACpB,IAAKwnB,KAAUtvB,EAAS,CACpB6H,EAAQ7H,EAAQsvB,GAChB,UAAWznB,IAAU,SACjB7H,EAAQsvB,GAAUznB,EAAQ,GAIlCw2B,EAASxgC,EAAMmK,UAAUhI,IAIjC,OAAOq+B,OAMvBtgC,EAAO,KAAMF,EAAM2G,KAAM,CACrB04C,QAAS,CACLW,WAAY,CACR/1C,KAAM,OACNtD,KAAM,SAASA,GACX,GAAItG,MAAMD,QAAQuG,GAAO,CACrB,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAKnE,OAAQD,IAC7B+5C,EAAc31C,EAAKpE,IAEvB,OAAOoE,MACJ,CACHA,EAAO/G,EAAEM,OAAO,GAAIyG,GACpB21C,EAAc31C,GAEd,GAAIA,EAAKqD,MACL,OAAOrD,EAAKqD,MAEhB,MAAO,CAACrD,KAGhB64C,MAAO,SAAS74C,GACZ,OAAOA,EAAK,mBAIxB84C,WAAY,CACRO,WAAY,CACR/B,MAAO,CACHh0C,KAAM,QAEV+xC,KAAM,CACFphB,MAAO,KACPqhB,SAAU,QAEd0D,OAAQ,CACJ/kB,MAAO,KACPqhB,SAAU,OACVvU,YAAa,0CACbz9B,KAAM,OAEV21C,OAAQ,CACJhlB,MAAO,KACPqhB,SAAU,OACVvU,YAAa,0CACbz9B,KAAM,QAEV0kB,QAAS,CACLiM,MAAO,KACPqhB,SAAU,OACVhyC,KAAM,UAEV41C,aAAc,SAAS19C,EAAS8H,GAC5B,IAAIgC,EAASjM,EAAM2G,KAAK84C,WAAWH,MAAMO,aAAa19C,EAAS8H,EAAM,MACrE,GAAIA,GAAQ,OAAQ,CAChBgC,EAAOg0C,OAAS,YACTh0C,EAAO6zC,aAGjC,GAAI7zC,GAAUA,EAAOuvC,QAEpBvvC,EAAOuvC,QAAUvvC,EAAOuvC,QAAQ34C,QAAQ,qEAAsE,SAAU89B,GACvH,OAAOA,EAAEh7B,UAAU,EAAGg7B,EAAEn+B,OAAS,KAIpB,OAAOyJ,GAEX47B,OAAQ,SAAS7iC,GACb,IAAI/B,EAAOP,KACX,IAAIP,EAAU47C,EAAmB96C,EAAM+B,EAAE2B,MACzC,IAAIi4C,EAAc55C,EAAE2B,KAEpB,IAAKi4C,EAAYP,QAAQ77C,SAAWo8C,EAAYN,UAAU97C,SAAWo8C,EAAYL,QAAQ/7C,OACrF,OAGJ5C,EAAEsgD,KAAKhgD,EAAO,KAAM,GAAI,CACpBigD,QAAS,SAAUC,GACf,IAAIC,EAAY7B,EAAmB4B,GACnC,IAAIvuC,EAAQ,EACZ,IAAItG,EAEJ,GAAIqzC,EAAYP,QAAQ77C,OAAQ,CAC5B+I,EAAU80C,EAAUxuC,GACpB,GAAItG,EAAQ4zC,OAERn6C,EAAEm7C,QAAQ50C,EAAQ2zC,OAAO18C,OAAS+I,EAAQ2zC,OAAS,GAAI,UAE3DrtC,IAEJ,GAAI+sC,EAAYN,UAAU97C,OAAQ,CAC9B+I,EAAU80C,EAAUxuC,GACpB,GAAItG,EAAQ4zC,OAGRn6C,EAAEm7C,QAAQ,GAAI,WAElBtuC,IAEJ,GAAI+sC,EAAYL,QAAQ/7C,OAAQ,CAC5B+I,EAAU80C,EAAUxuC,GACpB,GAAItG,EAAQ4zC,OACRn6C,EAAEm7C,QAAQ50C,EAAQ2zC,OAAQ,YAItCj3B,MAAO,SAAUm4B,EAAUtB,EAAQ72B,GAC/BjjB,EAAEijB,MAAMm4B,EAAUtB,EAAQ72B,KAE/B9lB,SAQhBrC,OAAOE,QAviBd,CAyiBoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,iBAAiB,CAAE,cAC3B,WAEH,IAAIC,EAAW,CACXC,GAAI,WACJC,KAAM,MACNC,SAAU,YACVqtC,QAAS,CAAE,QACXC,OAAQ,MAIF9sC,EAwPPE,OAAOE,MAAMH,OAxPHE,OAAb,EACQC,EAAQF,OAAOE,MACfI,EAAUC,MAAMD,QAChBuC,EAAgB/C,EAAE+C,cAClBiR,EAAMhU,EAAEgU,IACRzT,EAAOP,EAAEO,KACTD,EAASN,EAAEM,OACX2rB,EAAS7rB,EAAM6rB,OACfjpB,EAEA09C,EAFQtgD,EAAM4C,MAEQ1C,OAAO,CAC7BiD,KAAM,SAAShB,GACX,IAAIc,EAAOP,KACP88C,EAAQr9C,EAAQq9C,MAChBe,EAAQp+C,EAAQo+C,MAChBnB,EAAQj9C,EAAQi9C,MAChBoB,EAASr+C,EAAQq+C,OACjBC,EAAYt+C,EAAQs+C,UACpB95C,EAAOxE,EAAQwE,KAEnB,GAAI45C,EAAO,CACP,GAAI59C,EAAc49C,GAAQ,CACtB,IAAIx9C,EAAOZ,EAAQu+C,WAAa1gD,EAAM2G,KAAKg6C,MAE3C,GAAIJ,EAAMK,OACNzgD,EAAKogD,EAAMK,OAAQ,SAASr9B,EAAOvZ,GAC/B,GAAIrH,EAAcqH,IAAUA,EAAMuZ,OAC9B,IAAKvjB,EAAM2D,WAAWqG,EAAMuZ,OACxBvZ,EAAQ9J,EAAO8J,EAAO,CAAEuZ,MAAOtgB,EAAK4oB,OAAO7hB,EAAMuZ,cAGrDvZ,EAAQ,CAAEuZ,MAAOtgB,EAAK4oB,OAAO7hB,IAEjCu2C,EAAMK,OAAOr9B,GAASvZ,IAI9B,IAAI9K,EAAKqhD,EAAMrhD,GACf,GAAIA,EAAI,CACJ,IAAI2hD,EAAU,GAEdA,EAAQ59C,EAAK69C,cAAc5hD,EAAI,OAAS,CAAEqkB,MAAQtgB,EAAK4oB,OAAO3sB,IAC9DqhD,EAAMK,OAAS1gD,EAAO2gD,EAASN,EAAMK,QACrCL,EAAMrhD,GAAK+D,EAAK69C,cAAc5hD,GAElCqhD,EAAQx9C,EAAK/D,OAAOuhD,GAGxBt9C,EAAKs9C,MAAQA,EAGjB,GAAIf,EACA,UAAWA,GAAS,SAAU,CAC1BA,EAAQv8C,EAAK4oB,OAAO2zB,GACpBv8C,EAAKu8C,MAAQ,SAAS74C,GAClB,OAAOoL,SAASytC,EAAM74C,GAAO,UAE9B,UAAW64C,GAAS,WACvBv8C,EAAKu8C,MAAQA,EAIrB,GAAIgB,EACA,UAAWA,GAAU,SAAU,CAC3BA,EAASv9C,EAAK4oB,OAAO20B,GACrBv9C,EAAKu9C,OAAS,SAAS75C,GACnB,OAAO65C,EAAO75C,IAAS,WAExB,UAAW65C,GAAU,WACxBv9C,EAAKu9C,OAASA,EAItB,GAAI75C,EACA,UAAWA,GAAQ,SAAU,CACzBA,EAAO1D,EAAK69C,cAAcn6C,GAC1B1D,EAAK0D,KAAO,SAASqD,GACjB,IAAIiC,EAAShJ,EAAK89C,SAAS/2C,EAAOrD,GAC9Bq6C,EAEJ/0C,EAAS7L,EAAQ6L,GAAUA,EAAS,CAACA,GAErC,GAAIhJ,EAAKs9C,OAASA,EAAMK,OAAQ,CAC5BI,EAAgB,IAAI/9C,EAAKs9C,MAEzB,OAAO3sC,EAAI3H,EAAQ,SAASjC,GACxB,GAAIA,EAAO,CACP,IAAIi3C,EAAS,GAAI19B,EAEjB,IAAKA,KAASg9B,EAAMK,OAChBK,EAAO19B,GAASy9B,EAAcE,OAAO39B,EAAOg9B,EAAMK,OAAOr9B,GAAOA,MAAMvZ,IAG1E,OAAOi3C,KAKnB,OAAOh1C,QAER,UAAWtF,GAAQ,WACtB1D,EAAK0D,KAAOA,EAIpB,UAAWy4C,GAAS,WAAY,CAC5B,IAAI+B,EAAWl+C,EAAKm8C,MAEpBn8C,EAAKm8C,MAAQ,SAASz4C,GAClB,IAAIy6C,EAAMhC,EAAMl6C,KAAKjC,EAAM0D,GAC3B,OAAOw6C,EAASj8C,KAAKjC,EAAMm+C,IAInC,UAAWX,GAAa,WACpBx9C,EAAKw9C,UAAYA,GAGzBjB,MAAO,SAASvzC,GACZ,OAAOvJ,KAAKiE,KAAKsF,GAAQzJ,QAE7Bg+C,OAAQ,SAAS75C,GACb,OAAOA,EAAOA,EAAK65C,OAAS,MAEhCC,UAAW,SAAS95C,GAChB,OAAOA,GAEX06C,SAAU,SAAS9uC,GACf,IAAItG,EAAS,GACTq1C,EACAniB,EACA/M,EACAuC,EACA3xB,EACA2hC,EACA4c,EAAahvC,EAAQgvC,WACrBC,EAAiBD,EAAW/+C,OAC5B6B,EAEJ,IAAKA,EAAM,EAAGA,EAAMm9C,EAAgBn9C,IAAO,CACvCsgC,EAAY4c,EAAWl9C,GACvB4H,EAAO,IAAM04B,EAAUhQ,UAAYgQ,EAAU/E,UAGjD,IAAKT,EAAO5sB,EAAQkvC,WAAYtiB,EAAMA,EAAOA,EAAKuiB,YAAa,CAC3DtvB,EAAW+M,EAAK/M,SAEhB,GAAIA,IAAa,GAAKA,IAAa,EAE/BnmB,EAAO,SAAWkzB,EAAKS,eACpB,GAAIxN,IAAa,EAAG,CAEvBkvB,EAAa5+C,KAAK2+C,SAASliB,GAE3BxK,EAAWwK,EAAKxK,SAEhB3xB,EAASiJ,EAAO0oB,GAEhB,GAAIv0B,EAAQ4C,GAERA,EAAO4B,KAAK08C,QACT,GAAIt+C,IAAWjD,EAClBiD,EAAS,CAACA,EAAQs+C,QAElBt+C,EAASs+C,EAGbr1C,EAAO0oB,GAAY3xB,GAG3B,OAAOiJ,GAGX80C,SAAU,SAAS/2C,EAAO2hB,GACtB,IAAIrC,EAAUqC,EAAWpmB,MAAM,KAC3BvC,EACAiJ,EACAzJ,EACAm/C,EACAt9C,EAEJ,MAAOrB,EAASsmB,EAAQjY,QAAS,CAC7BrH,EAAQA,EAAMhH,GAEd,GAAI5C,EAAQ4J,GAAQ,CAChBiC,EAAS,GACT0f,EAAarC,EAAQ9jB,KAAK,KAE1B,IAAKnB,EAAM,EAAG7B,EAASwH,EAAMxH,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACtDs9C,EAAqBj/C,KAAKq+C,SAAS/2C,EAAM3F,GAAMsnB,GAE/Cg2B,EAAqBvhD,EAAQuhD,GAAsBA,EAAqB,CAACA,GAEzE11C,EAAOrH,KAAKxB,MAAM6I,EAAQ01C,GAG9B,OAAO11C,GAIf,OAAOjC,GAGXo1C,MAAO,SAASgC,GACZ,IAAIhvC,EACAwvC,EACA31C,EAAS,GAEbmG,EAAkBgvC,EAAIhvC,iBAAmBxS,EAAEiiD,SAAST,GAAKhvC,gBAEzDwvC,EAAOl/C,KAAK2+C,SAASjvC,GAErBnG,EAAOmG,EAAgBuiB,UAAYitB,EAEnC,OAAO31C,GAGX60C,cAAe,SAAS99C,EAAQ8+C,GAC5B,IAAK9+C,EACD,MAAO,GAGXA,EAASA,EAAOH,QAAQ,MAAO,IACfA,QAAQ,MAAO,KAE/B,GAAIG,EAAOuM,QAAQ,MAAQ,EAEvB,OAAOvM,EAAOH,QAAQ,WAAYi/C,EAAK,KAAK,UAGhD,GAAI9+C,EAAOuM,QAAQ,WAAa,EAE5B,OAAOvM,EAAOH,QAAQ,gBAAiBi/C,EAAK,QAAQ,aAGxD,OAAO9+C,GAEX6oB,OAAQ,SAAS7oB,GACb,OAAO6oB,EAAOnpB,KAAKo+C,cAAc99C,GAAS,SAYtD,OARIpD,EAAEM,OAAO,KAAMF,EAAM2G,KAAM,CACvB25C,cAAeA,EACfyB,QAAS,CACLX,IAAKd,KAKVxgD,OAAOE,QAvQd,CAyQoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,aAAa,CAAE,aAAc,mBAAoB,kBACzD,WAEH,IAAIC,EAAW,CACXC,GAAI,OACJC,KAAM,cACNC,SAAU,YACVC,YAAa,gIACbotC,QAAS,CAAE,QACXuV,SAAU,CAAE,CACR9iD,GAAI,aACJC,KAAM,QACNE,YAAa,6DACbotC,QAAS,CAAE,eACZ,CACCvtC,GAAI,eACJC,KAAM,UACNE,YAAa,uCACbotC,QAAS,CAAE,iBACZ,CACCvtC,GAAI,WACJC,KAAM,MACNE,YAAa,8BACbotC,QAAS,CAAE,eAKT7sC,EAi8MPE,OAAOE,MAAMH,OAj8MHE,OAAb,EACQG,EAASN,EAAEM,OACXyC,EAAgB/C,EAAE+C,cAClB2vB,EAAgB1yB,EAAE0yB,cAClBlyB,EAAUC,MAAMD,QAChB+6B,EAAOv7B,EAAEu7B,KACT+kB,EAAOtgD,EAAEsgD,KACTtsC,EACAzT,EAAOP,EAAEO,KACTG,EAAOV,EAAEU,KACTN,EAAQF,OAAOE,MACf2D,EAAa3D,EAAM2D,WACnBI,EAAa/D,EAAM+D,WACnBnB,EAAQ5C,EAAM4C,MACd3B,EAAS,SACTD,EAAW,WACXihD,EAAY,MACZC,EAAS,SACTC,EAAO,OACPC,EAAS,SACTC,EAAU,UACV1V,EAAS,SACT2V,EAAO,OACPC,EAAM,MACNC,EAAQ,QACRC,EAAe,eACfC,EAAW,WACXC,EAAa,aACbC,EAAc,cACdC,EAAW,WACXC,EAAO,CAACZ,EAAQC,EAAMC,EAAQC,GAC9BU,EAAW,SAASC,GAAK,OAAOA,GAChCn3B,EAAS7rB,EAAM6rB,OACf1hB,EAAYnK,EAAMmK,UAClB5J,EAAOC,KACPoE,EAAO,GAAGA,KACVY,EACAuzB,EAAM,GAAGA,IACT5zB,EAAS,GAAGA,OACZkM,EAAQ,GAAGA,MACXxP,EAAQ,GAAGA,MACXiD,EAAU,GAAGA,QACbsD,EAAW,GAAGA,SACdgb,EAAapjB,EAAMW,QAAQyiB,WAC3BpQ,EAAa,sBACbiwC,EAAa,GAEbxpC,EAAkB1V,EAAW7D,OAAO,CACpCiD,KAAM,SAAS8Q,EAAOhK,GAClB,IAAIhH,EAAOP,KAEXO,EAAKgH,KAAOA,GAAQi5C,EAEpBn/C,EAAWV,GAAGF,KAAK+B,KAAKjC,GAExBA,EAAKT,OAASyR,EAAMzR,OAEpBS,EAAKkgD,QAAQlvC,EAAOhR,GACpBA,EAAKmgD,cAAgB,GACrBngD,EAAKogD,aAAe,IAGxBC,GAAI,SAASzxC,GACT,OAAOnP,KAAKmP,IAGhBvJ,OAAQ,SAASi7C,GACb,IAAIl/C,EAAK7B,EAASE,KAAKF,OAAQwH,EAAOw5C,EAAO,IAAInjD,MAAMmC,GAEvD,IAAK6B,EAAM,EAAGA,EAAM7B,EAAQ6B,IAAM,CAC9B2F,EAAQtH,KAAK2B,GAEb,GAAI2F,aAAiBk5C,EACjBl5C,EAAQA,EAAM1B,OAAOi7C,GAGzBC,EAAKn/C,GAAO2F,EAGhB,OAAOw5C,GAGXvrC,OAAQ3X,EAER6iD,QAAS,SAAS3pC,EAAQnX,GACtB,IAAIY,EAAOP,KACP2B,EACA7B,EACAyV,EAAS,WACL,OAAOhV,GAGfZ,EAASA,GAAU,GAEnB,IAAKgC,EAAM,EAAG7B,EAASgX,EAAOhX,OAAQ6B,EAAM7B,EAAQ6B,IAChDhC,EAAOgC,GAAOpB,EAAK6U,KAAK0B,EAAOnV,GAAM4T,GAGzC,OAAO5V,GAGXyV,KAAM,SAAS2rC,EAAQxrC,GACnB,IAAIhV,EAAOP,KACPyoC,EAEJ,GAAIsY,IAAW,MAAQr7C,EAASlD,KAAKu+C,KAAY,kBAAmB,CAChEtY,EAAasY,aAAkBxgD,EAAKgH,MAAQw5C,aAAkB9C,GAE9D,IAAKxV,EAAY,CACbsY,EAASA,aAAkBP,EAAmBO,EAAOn7C,SAAWm7C,EAChEA,EAAS,IAAIxgD,EAAKgH,KAAKw5C,GAG3BA,EAAOxrC,OAASA,EAEhBwrC,EAAOx/C,KAAK0oC,EAAQ,SAAS3nC,GACzB,IAAI0+C,EAAUD,EAAOv5C,eAAe,gBACpCjH,EAAK8B,QAAQ4nC,EAAQ,CACjBppB,MAAOve,EAAEue,MACT4b,KAAMn6B,EAAEm6B,KACRttB,MAAO7M,EAAE6M,MACTkf,MAAO/rB,EAAE+rB,OAAS,CAACruB,MACnB+kC,OAAQziC,EAAEm6B,MAAQukB,EAAW1+C,EAAEyiC,QAAU,aAAgB,iBAIjEgc,EAAOx/C,KAAK4+C,EAAU,SAAU79C,GAC5B/B,EAAKmgD,cAAcx+C,KAAKI,EAAEshB,SAC1BrjB,EAAK0gD,SAAW,KAEhB3+C,EAAEshB,QAAQqjB,KAAK,WACX1mC,EAAKogD,aAAaz+C,KAAKI,EAAEm6B,MACzB,IAAIttB,EAAQ5O,EAAKmgD,cAAc7zC,QAAQvK,EAAEshB,SACzCrjB,EAAKmgD,cAAcj+C,OAAO0M,EAAO,GAEjC,IAAI5O,EAAKmgD,cAAc5gD,OAAO,CAC1BS,EAAK0gD,SAAW,MAChB1gD,EAAK8B,QAAQ69C,EAAa,CAACnF,WAAYx6C,EAAM2gD,MAAO3gD,EAAKogD,eACzDpgD,EAAKogD,aAAe,QAMpC,OAAOI,GAGXlwB,QAAS,WACL,OAAO7wB,KAAKihD,UAGhB/+C,KAAM,WACF,IAAIiN,EAAQnP,KAAKF,OACbuuB,EAAQruB,KAAKygD,QAAQ7gD,WACrB2J,EAEJA,EAASrH,EAAKxB,MAAMV,KAAMquB,GAE1B,IAAKruB,KAAKmhD,gBACNnhD,KAAKqC,QAAQ4nC,EAAQ,CACjBlF,OAAQ,MACR51B,MAAOA,EACPkf,MAAOA,IAIf,OAAO9kB,GAGXpK,MAAOA,EAEP2hB,KAAM,GAAGA,KAEThe,KAzIO,GAAGA,KA2IVuzB,IAAK,WACD,IAAIv2B,EAASE,KAAKF,OAAQyJ,EAAS8sB,EAAI31B,MAAMV,MAE7C,GAAIF,EACAE,KAAKqC,QAAQ4nC,EAAQ,CACjBlF,OAAQ,SACR51B,MAAOrP,EAAS,EAChBuuB,MAAM,CAAC9kB,KAIf,OAAOA,GAGX9G,OAAQ,SAAS0M,EAAOiyC,EAASnY,GAC7B,IAAI5a,EAAQruB,KAAKygD,QAAQthD,EAAMqD,KAAK5C,UAAW,IAC3C2J,EAAQ1J,EAAGsqB,EAEf5gB,EAAS9G,EAAO/B,MAAMV,KAAM,CAACmP,EAAOiyC,GAAS9sC,OAAO+Z,IAEpD,GAAI9kB,EAAOzJ,OAAQ,CACf,IAAKE,KAAKmhD,gBACNnhD,KAAKqC,QAAQ4nC,EAAQ,CACjBlF,OAAQ,SACR51B,MAAOA,EACPkf,MAAO9kB,IAIf,IAAK1J,EAAI,EAAGsqB,EAAM5gB,EAAOzJ,OAAQD,EAAIsqB,EAAKtqB,IACtC,GAAI0J,EAAO1J,IAAM0J,EAAO1J,GAAGwhD,SACvB93C,EAAO1J,GAAGoC,OAAOgoC,GAK7B,GAAIhB,EACA,IAAKjpC,KAAKmhD,gBACNnhD,KAAKqC,QAAQ4nC,EAAQ,CACjBlF,OAAQ,MACR51B,MAAOA,EACPkf,MAAOA,IAInB,OAAO9kB,GAGXoF,MAAO,WACH,IAAI7O,EAASE,KAAKF,OAAQyJ,EAASoF,EAAMjO,MAAMV,MAE/C,GAAIF,EACAE,KAAKqC,QAAQ4nC,EAAQ,CACjBlF,OAAQ,SACR51B,MAAO,EACPkf,MAAM,CAAC9kB,KAIf,OAAOA,GAGXnH,QAAS,WACL,IAAIisB,EAAQruB,KAAKygD,QAAQ7gD,WACrB2J,EAEJA,EAASnH,EAAQ1B,MAAMV,KAAMquB,GAE7BruB,KAAKqC,QAAQ4nC,EAAQ,CACjBlF,OAAQ,MACR51B,MAAO,EACPkf,MAAOA,IAGX,OAAO9kB,GAGXsD,QAAS,SAASo8B,GACd,IAAI1oC,EAAOP,KACP2B,EACA7B,EAEJ,IAAK6B,EAAM,EAAG7B,EAASS,EAAKT,OAAQ6B,EAAM7B,EAAQ6B,IAC9C,GAAIpB,EAAKoB,KAASsnC,EACd,OAAOtnC,EAGf,OAAQ,GAGZ+mC,QAAS,SAASviB,EAAUm7B,GACxB,IAAI3/C,EAAM,EACV,IAAI7B,EAASE,KAAKF,OAClB,IAAIo2B,EAAUorB,GAAWlkD,OAEzB,KAAOuE,EAAM7B,EAAQ6B,IACjBwkB,EAAS3jB,KAAK0zB,EAASl2B,KAAK2B,GAAMA,EAAK3B,OAI/CkR,IAAK,SAASiV,EAAUm7B,GACpB,IAAI3/C,EAAM,EACV,IAAI4H,EAAS,GACb,IAAIzJ,EAASE,KAAKF,OAClB,IAAIo2B,EAAUorB,GAAWlkD,OAEzB,KAAOuE,EAAM7B,EAAQ6B,IACjB4H,EAAO5H,GAAOwkB,EAAS3jB,KAAK0zB,EAASl2B,KAAK2B,GAAMA,EAAK3B,MAGzD,OAAOuJ,GAGXg4C,OAAQ,SAASp7B,GACb,IAAIxkB,EAAM,EACN4H,EACAzJ,EAASE,KAAKF,OAElB,GAAIF,UAAUE,QAAU,EACpByJ,EAAS3J,UAAU,QAChB,GAAI+B,EAAM7B,EACbyJ,EAASvJ,KAAK2B,KAGlB,KAAOA,EAAM7B,EAAQ6B,IACjB4H,EAAS4c,EAAS5c,EAAQvJ,KAAK2B,GAAMA,EAAK3B,MAG9C,OAAOuJ,GAGXi4C,YAAa,SAASr7B,GAClB,IAAIxkB,EAAM3B,KAAKF,OAAS,EACpByJ,EAEJ,GAAI3J,UAAUE,QAAU,EACpByJ,EAAS3J,UAAU,QAChB,GAAI+B,EAAM,EACb4H,EAASvJ,KAAK2B,KAGlB,KAAOA,GAAO,EAAGA,IACb4H,EAAS4c,EAAS5c,EAAQvJ,KAAK2B,GAAMA,EAAK3B,MAG9C,OAAOuJ,GAGX0mB,OAAQ,SAAS9J,EAAUm7B,GACvB,IAAI3/C,EAAM,EACV,IAAI4H,EAAS,GACb,IAAI0/B,EACJ,IAAInpC,EAASE,KAAKF,OAClB,IAAIo2B,EAAUorB,GAAWlkD,OAEzB,KAAOuE,EAAM7B,EAAQ6B,IAAO,CACxBsnC,EAAOjpC,KAAK2B,GACZ,GAAIwkB,EAAS3jB,KAAK0zB,EAAS+S,EAAMtnC,EAAK3B,MAClCuJ,EAAOA,EAAOzJ,QAAUmpC,EAIhC,OAAO1/B,GAGXwmB,KAAM,SAAS5J,EAAUm7B,GACrB,IAAI3/C,EAAM,EACV,IAAIsnC,EACJ,IAAInpC,EAASE,KAAKF,OAClB,IAAIo2B,EAAUorB,GAAWlkD,OAEzB,KAAOuE,EAAM7B,EAAQ6B,IAAO,CACxBsnC,EAAOjpC,KAAK2B,GACZ,GAAIwkB,EAAS3jB,KAAK0zB,EAAS+S,EAAMtnC,EAAK3B,MAClC,OAAOipC,IAKnBwY,MAAO,SAASt7B,EAAUm7B,GACtB,IAAI3/C,EAAM,EACV,IAAIsnC,EACJ,IAAInpC,EAASE,KAAKF,OAClB,IAAIo2B,EAAUorB,GAAWlkD,OAEzB,KAAOuE,EAAM7B,EAAQ6B,IAAO,CACxBsnC,EAAOjpC,KAAK2B,GACZ,IAAKwkB,EAAS3jB,KAAK0zB,EAAS+S,EAAMtnC,EAAK3B,MACnC,OAAO,MAIf,OAAO,MAGX0hD,KAAM,SAASv7B,EAAUm7B,GACrB,IAAI3/C,EAAM,EACV,IAAIsnC,EACJ,IAAInpC,EAASE,KAAKF,OAClB,IAAIo2B,EAAUorB,GAAWlkD,OAEzB,KAAOuE,EAAM7B,EAAQ6B,IAAO,CACxBsnC,EAAOjpC,KAAK2B,GACZ,GAAIwkB,EAAS3jB,KAAK0zB,EAAS+S,EAAMtnC,EAAK3B,MAClC,OAAO,KAIf,OAAO,OAIX+wB,OAAQ,SAASkY,GACb,IAAItnC,EAAM3B,KAAK6M,QAAQo8B,GAEvB,GAAItnC,KAAS,EACT3B,KAAKyC,OAAOd,EAAK,IAIzBggD,MAAO,WACH3hD,KAAKyC,OAAO,EAAGzC,KAAKF,WAK5B,UAAW8hD,SAAW,aAAeA,OAAOtlB,WAAavlB,EAAgBnW,UAAUghD,OAAOtlB,UACtFvlB,EAAgBnW,UAAUghD,OAAOtlB,UAAY,GAAGslB,OAAOtlB,UAG3D,IAAItlB,EAAsBD,EAAgBvZ,OAAO,CAC7CiD,KAAM,SAAUwD,EAAMsD,EAAMvF,GACxB,IAAI6/C,EAAW,WAAa,OAAO7hD,MAEnCqB,EAAWV,GAAGF,KAAK+B,KAAKxC,MAExBA,KAAKuH,KAAOA,GAAQi5C,EAEpB,GAAIx+C,EACAhC,KAAKsB,QAAUU,EAGnB,IAAK,IAAIL,EAAM,EAAGA,EAAMsC,EAAKnE,OAAQ6B,IACjC3B,KAAK2B,GAAOsC,EAAKtC,GAGrB3B,KAAKF,OAAS6B,EACd3B,KAAK8hD,QAAUD,EAAStgD,KAAKvB,OAEjC4gD,GAAI,SAASzxC,GACT,IAAI85B,EAAOjpC,KAAKmP,GAEhB,KAAM85B,aAAgBjpC,KAAKuH,MACvB0hC,EAAOjpC,KAAKmP,GAASnP,KAAKoV,KAAK6zB,EAAMjpC,KAAK8hD,cAE1C7Y,EAAK1zB,OAASvV,KAAK8hD,QAGvB,OAAO7Y,KAIf,SAAS8Y,EAAa7rB,EAAS3uB,EAAMsZ,EAAO3F,GACxC,OAAO,SAAS5Y,GACZ,IAAI+Y,EAAQ,GAAIrU,EAEhB,IAAKA,KAAO1E,EACR+Y,EAAMrU,GAAO1E,EAAE0E,GAGnB,GAAIkU,EACAG,EAAMwF,MAAQA,EAAQ,IAAMve,EAAEue,WAE9BxF,EAAMwF,MAAQA,EAGlB,GAAItZ,GAAQ0iC,GAAU/T,EAAQ8rB,cAC1B9rB,EAAQ8rB,cAAc3mC,GAG1B6a,EAAQ7zB,QAAQkF,EAAM8T,IAI9B,SAAS4mC,EAAS36C,EAAO46C,GACrB,IAAIt3B,EAAQ,GACZ,IAAIrD,EAAM46B,EAEV76C,EAAQA,GAAS,GAEjBigB,EAAOzmB,OAAOshD,oBAAoB96C,GAClC66C,EAAqB5B,EAAWtwB,OAAO,SAASjpB,GAC5C,OAAOugB,EAAK1a,QAAQ7F,GAAO,IAG/B,MAAOM,EAAO,CACVxG,OAAOshD,oBAAoB96C,GAAOohC,QAAQ,SAAUlc,GAChD,GAAI5B,EAAM/d,QAAQ2f,MAAW,KAAO01B,GAAoBC,EAAmBt1C,QAAQ2f,GAAQ,GACvF5B,EAAM1oB,KAAKsqB,KAGnBllB,EAAQxG,OAAOuhD,eAAe/6C,GAGlC,OAAOsjB,EAGX21B,EAAa0B,EAAQ,GAAI,OAEzB,IAAIzB,EAAmBn/C,EAAW7D,OAAO,CACrCiD,KAAM,SAAS6G,GACX,IAAI/G,EAAOP,KACPM,EACAinB,EAAO06B,EAAQ36C,EAAO,MACtBiO,EAAS,WACL,OAAOhV,GAGfc,EAAWV,GAAGF,KAAK+B,KAAKxC,MAExBA,KAAKsiD,UAAY,GAEjB/6B,EAAKmhB,QAAQ,SAAS7nB,GAClBvgB,EAASgH,EAAMuZ,GAEf,UAAWvgB,IAAW,UAAYA,IAAWA,EAAOkX,SAAWqJ,EAAM9d,OAAO,IAAM,IAC9EzC,EAASC,EAAK6U,KAAK9U,EAAQugB,EAAOtL,GAGtChV,EAAKsgB,GAASvgB,IAGlBC,EAAKgiD,IAAMjlD,EAAMksB,QAGrBg5B,gBAAiB,SAAS3hC,EAAOggC,GAC7B,OAAO7gD,KAAKwH,eAAeqZ,IAAUA,IAAU,aAAeA,IAAU,YAAeggC,GAAsBA,EAAmBhgC,WAAkB7gB,KAAK6gB,KAAWviB,IAAauiB,IAAU,OAG7L6nB,QAAS,SAAS+Z,GACd,IAAK,IAAI5iD,KAAKG,KACV,GAAIA,KAAKwiD,gBAAgB3iD,GACrB4iD,EAAEziD,KAAKH,GAAIA,IAKvB+F,OAAQ,SAAUi7C,GACd,IAAIt3C,EAAS,GAAIjC,EAAOuZ,EAExB,IAAKA,KAAS7gB,KACV,GAAIA,KAAKwiD,gBAAgB3hC,EAAOggC,GAAqB,CACjDv5C,EAAQtH,KAAK6gB,GAEb,GAAIvZ,aAAiBk5C,GAAoBl5C,aAAiByP,EACtDzP,EAAQA,EAAM1B,OAAOi7C,GAGzBt3C,EAAOsX,GAASvZ,EAIxB,OAAOiC,GAGX+f,IAAK,SAASzI,GACV,IAAItgB,EAAOP,KAAMuJ,EAEjBhJ,EAAK8B,QAAQw9C,EAAK,CAAEh/B,MAAOA,IAE3B,GAAIA,IAAU,OACVtX,EAAShJ,OAETgJ,EAASjM,EAAM6rB,OAAOtI,EAAO,KAApBvjB,CAA0BiD,GAGvC,OAAOgJ,GAGXm5C,KAAM,SAAS7hC,EAAOvZ,GAClB,IAAI/G,EAAOP,KACX,IAAI2iD,EAAY9hC,EAAMhU,QAAQ,MAAQ,EAEtC,GAAI81C,EAAW,CACX,IAAIC,EAAQ/hC,EAAMhe,MAAM,KACpBwmC,EAAO,GAEX,MAAOuZ,EAAM9iD,OAAS,EAAG,CACrBupC,GAAQuZ,EAAMj0C,QACd,IAAIqT,EAAM1kB,EAAM6rB,OAAOkgB,EAAM,KAAnB/rC,CAAyBiD,GACnC,GAAIyhB,aAAew+B,EAAkB,CACjCx+B,EAAIuH,IAAIq5B,EAAM9/C,KAAK,KAAMwE,GACzB,OAAOq7C,EAEXtZ,GAAQ,KAIhB/rC,EAAM8rB,OAAOvI,EAAbvjB,CAAoBiD,EAAM+G,GAE1B,OAAOq7C,GAGXp5B,IAAK,SAAS1I,EAAOvZ,GACjB,IAAI/G,EAAOP,KACP6iD,EAAiB,MACjBF,EAAY9hC,EAAMhU,QAAQ,MAAQ,EAClChE,EAAUvL,EAAM6rB,OAAOtI,EAAO,KAApBvjB,CAA0BiD,GAExC,GAAIsI,IAAYvB,EAAO,CACnB,GAAIuB,aAAmBxH,GAAcrB,KAAKsiD,UAAUzhC,GAAQ,CACxD,GAAI7gB,KAAKsiD,UAAUzhC,GAAOyI,IACvBzgB,EAAQ5G,OAAO49C,EAAK7/C,KAAKsiD,UAAUzhC,GAAOyI,KAE7CzgB,EAAQ5G,OAAOgoC,EAAQjqC,KAAKsiD,UAAUzhC,GAAO6qB,QAGjDmX,EAAiBtiD,EAAK8B,QAAQ,MAAO,CAAEwe,MAAOA,EAAOvZ,MAAOA,IAE5D,IAAKu7C,EAAgB,CACjB,IAAKF,EACDr7C,EAAQ/G,EAAK6U,KAAK9N,EAAOuZ,EAAO,WAAa,OAAOtgB,IAExD,IAAKA,EAAKmiD,KAAK7hC,EAAOvZ,IAAUuZ,EAAMhU,QAAQ,MAAQ,GAAKgU,EAAMhU,QAAQ,MAAQ,EAC7EtM,EAAK8B,QAAQ4nC,EAAQ,CAAEppB,MAAOA,KAK1C,OAAOgiC,GAGXttC,OAAQ3X,EAERwX,KAAM,SAAS2rC,EAAQlgC,EAAOtL,GAC1B,IAAIhV,EAAOP,KACX,IAAIspB,EACJ,IAAIoiB,EACJ,IAAInkC,EAAO7B,EAASlD,KAAKu+C,GAEzB,GAAIA,GAAU,OAASx5C,IAAS,mBAAqBA,IAAS,kBAAmB,CAC7E,IAAIu7C,EAAoB/B,aAAkBhqC,EAC1C,IAAIgsC,EAAehC,aAAkB9pC,GAErC,GAAI1P,IAAS,oBAAsBw7C,IAAiBD,EAAmB,CACnE,KAAM/B,aAAkBP,GACpBO,EAAS,IAAIP,EAAiBO,GAGlCz3B,EAAMy4B,EAAaxhD,EAAMs/C,EAAKh/B,EAAO,MACrCkgC,EAAOx/C,KAAKs+C,EAAKv2B,GACjBoiB,EAASqW,EAAaxhD,EAAM0pC,EAAQppB,EAAO,MAC3CkgC,EAAOx/C,KAAK0oC,EAAQyB,GAEpBnrC,EAAK+hD,UAAUzhC,GAAS,CAAEyI,IAAKA,EAAKoiB,OAAQA,QACzC,GAAInkC,IAAS,kBAAoBu7C,GAAqBC,EAAc,CACvE,IAAKD,IAAsBC,EACvBhC,EAAS,IAAIhqC,EAAgBgqC,GAGjCrV,EAASqW,EAAaxhD,EAAM0pC,EAAQppB,EAAO,OAE3CkgC,EAAOx/C,KAAK0oC,EAAQyB,GAEpBnrC,EAAK+hD,UAAUzhC,GAAS,CAAE6qB,OAAQA,GAGtCqV,EAAOxrC,OAASA,EAGpB,OAAOwrC,KAIf,SAASiC,GAAM/kB,EAAG9vB,GACd,GAAI8vB,IAAM9vB,EACN,OAAO,KAGX,IAAI80C,EAAQ3lD,EAAMiK,KAAK02B,GAAIilB,EAAQ5lD,EAAMiK,KAAK4G,GAAI0S,EAElD,GAAIoiC,IAAUC,EACV,OAAO,MAGX,GAAID,IAAU,OACV,OAAOhlB,EAAEzmB,YAAcrJ,EAAEqJ,UAG7B,GAAIyrC,IAAU,UAAYA,IAAU,QAChC,OAAO,MAGX,IAAKpiC,KAASod,EACV,IAAK+kB,GAAM/kB,EAAEpd,GAAQ1S,EAAE0S,IACnB,OAAO,MAIf,OAAO,KAGX,IAAIsiC,GAAU,CACVz/C,OAAU,SAAS4D,GACf,UAAWA,IAAU/I,GAAU+I,EAAMgF,gBAAkB,OACnD,OAAO,KAEX,OAAOhP,EAAMuW,WAAWvM,IAG5ByB,KAAQ,SAASzB,GACb,UAAWA,IAAU/I,GAAU+I,EAAMgF,gBAAkB,OACnD,OAAO,KAEX,OAAOhP,EAAMmc,UAAUnS,IAG3B87C,QAAW,SAAS97C,GAChB,UAAWA,IAAU/I,EACjB,GAAI+I,EAAMgF,gBAAkB,OACxB,OAAO,UAEP,OAAOhF,EAAMgF,gBAAkB,OAGvC,OAAOhF,GAAS,OAASA,EAAQA,GAGrCb,OAAU,SAASa,GACf,UAAWA,IAAU/I,GAAU+I,EAAMgF,gBAAkB,OACnD,OAAO,KAEX,OAAOhF,GAAS,KAAQA,EAAQ,GAAMA,GAG1C+7C,QAAW,SAAS/7C,GAChB,OAAOA,IAIX89B,GAAgB,CAChB3+B,OAAU,GACV/C,OAAU,EACVqF,KAAQ,IAAIpD,KACZy9C,QAAW,MACXC,QAAW,IAGf,SAASC,GAAethC,EAAKvlB,GACzB,IAAIokB,EACA0iC,EAEJ,IAAKA,KAAavhC,EAAK,CACnBnB,EAAQmB,EAAIuhC,GACZ,GAAItjD,EAAc4gB,IAAUA,EAAMA,OAASA,EAAMA,QAAUpkB,EACvD,OAAOokB,OACJ,GAAIA,IAAUpkB,EACjB,OAAOokB,EAGf,OAAO,KAGX,IAAIo9B,GAAQuC,EAAiBhjD,OAAO,CAChCiD,KAAM,SAASwD,GACX,IAAI1D,EAAOP,KAEX,IAAKiE,GAAQ/G,EAAE0yB,cAAc3rB,GAAO,CAChCA,EAAO/G,EAAEM,OAAO,GAAI+C,EAAKwqB,SAAU9mB,GAEnC,GAAI1D,EAAKijD,cACL,IAAK,IAAI7hD,EAAM,EAAGA,EAAMpB,EAAKijD,cAAc1jD,OAAQ6B,IAAO,CACrD,IAAIlF,EAAO8D,EAAKijD,cAAc7hD,GAC9BsC,EAAKxH,GAAQ8D,EAAKwqB,SAAStuB,MAKxC+jD,EAAiB7/C,GAAGF,KAAK+B,KAAKjC,EAAM0D,GAEpC1D,EAAKqoC,MAAQ,MACbroC,EAAKkjD,YAAc,GAEnB,GAAIljD,EAAK49C,QAAS,CACd59C,EAAK/D,GAAK+D,EAAK+oB,IAAI/oB,EAAK49C,SAExB,GAAI59C,EAAK/D,KAAOa,EACZkD,EAAK/D,GAAK+D,EAAKmjD,aAK3BlB,gBAAiB,SAAS3hC,GACtB,OAAO2/B,EAAiB7/C,GAAG6hD,gBAAgBhgD,KAAKxC,KAAM6gB,IAClDA,IAAU,SAAW7gB,KAAKm+C,UAAY,MAAQt9B,IAAU,OACxDA,IAAU,SAAYA,IAAU,eAAiBA,IAAU,cAGnE29B,OAAQ,SAAS39B,EAAOvZ,GACpB,IAAI/G,EAAOP,KACPujD,EAAY1iC,EACZq9B,EAAU39C,EAAK29C,QAAU,GACzBxB,EAEJ77B,EAAQq9B,EAAOr9B,GACf,IAAKA,EACDA,EAAQyiC,GAAepF,EAAQqF,GAEnC,GAAI1iC,EAAO,CACP67B,EAAQ77B,EAAM67B,MACd,IAAKA,GAAS77B,EAAMtZ,KAChBm1C,EAAQyG,GAAQtiC,EAAMtZ,KAAK+E,eAInC,OAAOowC,EAAQA,EAAMp1C,GAASA,GAGlC06C,cAAe,SAAS1/C,GACpB,IAAIyiC,EAASziC,EAAEyiC,OAEf,GAAIA,GAAU,OAASA,GAAU,SAAU,CACvC/kC,KAAK4oC,MAAQ,KACb5oC,KAAKyjD,YAAYnhD,EAAEue,OAAS,OAIpC8iC,SAAU,SAAS9iC,GACfA,GAAS7gB,KAAKk+C,QAAU,IAAIr9B,GAC5B,OAAOA,EAAQA,EAAM8iC,WAAa,MAAQ,MAG9Cp6B,IAAK,SAAS1I,EAAOvZ,GACjB,IAAI/G,EAAOP,KACX,IAAI4oC,EAAQroC,EAAKqoC,MAEjB,GAAIroC,EAAKojD,SAAS9iC,GAAQ,CACtBvZ,EAAQ/G,EAAKi+C,OAAO39B,EAAOvZ,GAE3B,IAAK07C,GAAM17C,EAAO/G,EAAK+oB,IAAIzI,IAAS,CAChCtgB,EAAKqoC,MAAQ,KACbroC,EAAKkjD,YAAY5iC,GAAS,KAE1B,GAAI2/B,EAAiB7/C,GAAG4oB,IAAI/mB,KAAKjC,EAAMsgB,EAAOvZ,KAAWshC,EAAO,CAC5DroC,EAAKqoC,MAAQA,EAEb,IAAKroC,EAAKqoC,MACNroC,EAAKkjD,YAAY5iC,GAAS,YAIlCtgB,EAAK8B,QAAQ,WAAY,CAAEwe,MAAOA,EAAOvZ,MAAOA,MAK5Ds8C,OAAQ,SAAS3/C,GACb,IAAI1D,EAAOP,KACPuV,EAAS,WAAa,OAAOhV,GAC7BsgB,EAEJ,IAAKA,KAAS5c,EAAM,CAChB,IAAIqD,EAAQrD,EAAK4c,GAEjB,GAAIA,EAAM9d,OAAO,IAAM,IACnBuE,EAAQ/G,EAAK6U,KAAKnR,EAAK4c,GAAQA,EAAOtL,GAG1ChV,EAAKmiD,KAAK7hC,EAAOvZ,GAGrB,GAAI/G,EAAK49C,QACL59C,EAAK/D,GAAK+D,EAAK+oB,IAAI/oB,EAAK49C,SAG5B59C,EAAKqoC,MAAQ,MACbroC,EAAKkjD,YAAc,IAGvBI,MAAO,WACH,OAAO7jD,KAAKxD,KAAOwD,KAAK0jD,cAyF5BI,IArFJ7F,GAAM3hD,OAAS,SAAS+D,EAAMZ,GAC1B,GAAIA,IAAYpC,EAAW,CACvBoC,EAAUY,EACVA,EAAO49C,GAGX,IAAIJ,EACAz9C,EAAQ5C,EAAO,CAAEutB,SAAU,IAAMtrB,GACjChD,EACAokB,EACAtZ,EACAD,EACA3F,EACA7B,EACAo+C,EAAS,GACT6F,EACAvnD,EAAK4D,EAAM5D,GACXwnD,EAAiB,GAErB,GAAIxnD,EACA4D,EAAM+9C,QAAU3hD,EAGpB,GAAI4D,EAAM5D,UACC4D,EAAM5D,GAGjB,GAAIA,EACA4D,EAAM2qB,SAASvuB,GAAM4D,EAAMsjD,WAAa,GAG5C,GAAIh+C,EAASlD,KAAKpC,EAAM89C,UAAY,iBAAkB,CAClD,IAAKv8C,EAAM,EAAG7B,EAASM,EAAM89C,OAAOp+C,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CAC7Dkf,EAAQzgB,EAAM89C,OAAOv8C,GACrB,UAAWkf,IAAUtiB,EACjB2/C,EAAOr9B,GAAS,QACb,GAAIA,EAAMA,MACbq9B,EAAOr9B,EAAMA,OAASA,EAG9BzgB,EAAM89C,OAASA,EAGnB,IAAKzhD,KAAQ2D,EAAM89C,OAAQ,CACvBr9B,EAAQzgB,EAAM89C,OAAOzhD,GACrB8K,EAAOsZ,EAAMtZ,MAAQ,UACrBD,EAAQ,KACRy8C,EAAetnD,EAEfA,SAAeokB,EAAW,QAAMtiB,EAASsiB,EAAMA,MAAQpkB,EAEvD,IAAKokB,EAAMojC,SAAU,CACjB38C,EAAQlH,EAAM2qB,SAASg5B,IAAiBtnD,EAAOsnD,EAAetnD,GAAQokB,EAAMqjC,eAAiB7mD,EAAYwjB,EAAMqjC,aAAe9e,GAAc79B,EAAK+E,eAEjJ,UAAWhF,IAAU,WACjB08C,EAAe9hD,KAAKzF,GAI5B,GAAIgD,EAAQjD,KAAOC,EACf2D,EAAMsjD,WAAap8C,EAGvBlH,EAAM2qB,SAASg5B,IAAiBtnD,EAAOsnD,EAAetnD,GAAQ6K,EAE9DuZ,EAAM67B,MAAQ77B,EAAM67B,OAASyG,GAAQ57C,GAGzC,GAAIy8C,EAAelkD,OAAS,EACxBM,EAAMojD,cAAgBQ,EAG1BnG,EAAQx9C,EAAK7C,OAAO4C,GACpBy9C,EAAMvhD,OAAS,SAASmD,GACpB,OAAOw+C,GAAM3hD,OAAOuhD,EAAOp+C,IAG/B,GAAIW,EAAM89C,OAAQ,CACdL,EAAMK,OAAS99C,EAAM89C,OACrBL,EAAMM,QAAU/9C,EAAM+9C,QAG1B,OAAON,GAGI,CACXx8B,SAAU,SAASR,GACf,OAAO5f,EAAW4f,GAASA,EAAQsI,EAAOtI,IAG9CsjC,QAAS,SAAStjC,GACd,IAAIQ,EAAWrhB,KAAKqhB,SAASR,GAC7B,OAAO,SAAUja,EAAGma,GAChBna,EAAIya,EAASza,GACbma,EAAIM,EAASN,GAEb,GAAIna,GAAK,MAAQma,GAAK,KAClB,OAAO,EAGX,GAAIna,GAAK,KACL,OAAQ,EAGZ,GAAIma,GAAK,KACL,OAAO,EAGX,GAAIna,EAAEw9C,cACF,OAAOx9C,EAAEw9C,cAAcrjC,GAG3B,OAAOna,EAAIma,EAAI,EAAKna,EAAIma,GAAK,EAAI,IAIzCm8B,OAAQ,SAASp8B,GACb,IAAIqjC,EAAUrjC,EAAKqjC,SAAWnkD,KAAKmkD,QAAQrjC,EAAKD,OAEhD,GAAIC,EAAK8Y,KAAO,OACZ,OAAO,SAAShzB,EAAGma,GACf,OAAOojC,EAAQpjC,EAAGna,EAAG,OAI7B,OAAOu9C,GAGXE,QAAS,SAASC,GACd,OAAO,SAAS19C,EAAGma,GACf,IAAIxX,EAAS+6C,EAAU,GAAG19C,EAAGma,GACzBpf,EACA7B,EAEJ,IAAK6B,EAAM,EAAG7B,EAASwkD,EAAUxkD,OAAQ6B,EAAM7B,EAAQ6B,IACnD4H,EAASA,GAAU+6C,EAAU3iD,GAAKiF,EAAGma,GAGzC,OAAOxX,MAKfg7C,GAAiB/mD,EAAO,GAAIsmD,GAAU,CACtCU,IAAK,SAAS3jC,GACV,IAAIQ,EAAWrhB,KAAKqhB,SAASR,GAC7B,OAAO,SAAUja,EAAGma,GAChB,IAAI0jC,EAASpjC,EAASza,GACtB,IAAI89C,EAASrjC,EAASN,GAEtB,GAAI0jC,GAAUA,EAAOjtC,SAAWktC,GAAUA,EAAOltC,QAAS,CACtDitC,EAASA,EAAOjtC,UAChBktC,EAASA,EAAOltC,UAGpB,GAAIitC,IAAWC,EACX,OAAO99C,EAAE+9C,WAAa5jC,EAAE4jC,WAG5B,GAAIF,GAAU,KACV,OAAQ,EAGZ,GAAIC,GAAU,KACV,OAAO,EAGX,GAAID,EAAOL,cACP,OAAOK,EAAOL,cAAcM,GAGhC,OAAOD,EAASC,EAAS,GAAK,IAItCE,KAAM,SAAS/jC,GACX,IAAIQ,EAAWrhB,KAAKqhB,SAASR,GAC7B,OAAO,SAAUja,EAAGma,GAChB,IAAI0jC,EAASpjC,EAASza,GACtB,IAAI89C,EAASrjC,EAASN,GAEtB,GAAI0jC,GAAUA,EAAOjtC,SAAWktC,GAAUA,EAAOltC,QAAS,CACtDitC,EAASA,EAAOjtC,UAChBktC,EAASA,EAAOltC,UAGpB,GAAIitC,IAAWC,EACX,OAAO99C,EAAE+9C,WAAa5jC,EAAE4jC,WAG5B,GAAIF,GAAU,KACV,OAAO,EAGX,GAAIC,GAAU,KACV,OAAQ,EAGZ,GAAIA,EAAON,cACP,OAAOM,EAAON,cAAcK,GAGhC,OAAOA,EAASC,EAAS,GAAK,IAGtCxH,OAAQ,SAASp8B,GACd,OAAO9gB,KAAK8gB,EAAK8Y,KAAK9Y,EAAKD,UAc9BgkC,IAVJ3zC,EAAM,SAAUK,EAAO4U,GACnB,IAAIxkB,EAAK7B,EAASyR,EAAMzR,OAAQyJ,EAAS,IAAI5L,MAAMmC,GAEnD,IAAK6B,EAAM,EAAGA,EAAM7B,EAAQ6B,IACxB4H,EAAO5H,GAAOwkB,EAAS5U,EAAM5P,GAAMA,EAAK4P,GAG5C,OAAOhI,GAGK,WAEZ,SAAS/C,EAAMO,GACX,UAAWA,GAAO,SACdA,EAAMA,EAAI5G,QAAQ,WAAY,IAElC,OAAOnC,KAAKyJ,UAAUV,GAG1B,SAAS+9C,EAAOC,GACZ,OAAO,SAASn+C,EAAGma,EAAGikC,EAAQC,GAC1BlkC,GAAK,GACL,GAAIikC,EAAQ,CACRp+C,EAAI,IAAMA,EAAI,qBAAuB,EAA2B,uBAAyBq+C,EAAyB,KAAO,kBACzHlkC,EAAK,EAA2BA,EAAEmkC,kBAAkBD,GAA0BlkC,EAAEzU,cAEpF,OAAOy4C,EAAKn+C,EAAGJ,EAAMua,GAAIikC,IAIjC,SAAStL,EAASyL,EAAIv+C,EAAGma,EAAGikC,EAAQC,GAChC,GAAIlkC,GAAK,KAAM,CACX,UAAWA,IAAMxiB,EAAQ,CACrB,IAAIwK,EAAOuH,EAAWjE,KAAK0U,GAC3B,GAAIhY,EACAgY,EAAI,IAAIpb,MAAMoD,EAAK,SAChB,GAAIi8C,EAAQ,CACfjkC,EAAIva,EAAO,EAA2Bua,EAAEmkC,kBAAkBD,GAA0BlkC,EAAEzU,eACtF1F,EAAI,KAAOA,EAAI,eAAiB,EAA2B,uBAAyBq+C,EAAyB,KAAO,uBAEpHlkC,EAAIva,EAAMua,GAIlB,GAAIA,EAAEvJ,QAAS,CAEX5Q,EAAI,IAAMA,EAAI,KAAOA,EAAI,YAAcA,EAAI,cAAgBA,EAAI,IAC/Dma,EAAIA,EAAEvJ,WAId,OAAO5Q,EAAI,IAAMu+C,EAAK,IAAMpkC,EAGhC,SAASqkC,EAAez6C,GASpB,IAAK,IAAIkN,EAAK,KAAMwtC,EAAM,MAAOxlD,EAAI,EAAGA,EAAI8K,EAAQ7K,SAAUD,EAAG,CAC7D,IAAI2L,EAAKb,EAAQ5H,OAAOlD,GACxB,GAAIwlD,EACAxtC,GAAM,KAAOrM,OACV,GAAIA,GAAM,IAAK,CAClB65C,EAAM,KACN,cACG,GAAI75C,GAAM,IACbqM,GAAM,UACH,GAAIrM,GAAM,IACbqM,GAAM,SACH,GAAI,kCAAqChL,QAAQrB,IAAO,EAC3DqM,GAAM,KAAOrM,OAEbqM,GAAMrM,EAEV65C,EAAM,MAEV,OAAOxtC,EAAK,KAGhB,MAAO,CACHrR,MAAO,SAASc,GACZ,GAAIA,GAASA,EAAMkQ,QACf,MAAO,YAAclQ,EAAMkQ,UAAY,IAE3C,OAAOhR,EAAMc,IAEjBwqB,GAAI,SAASlrB,EAAGma,EAAGikC,EAAQC,GACvB,OAAOvL,EAAS,KAAM9yC,EAAGma,EAAGikC,EAAQC,IAExCvN,IAAK,SAAS9wC,EAAGma,EAAGikC,EAAQC,GACxB,OAAOvL,EAAS,KAAM9yC,EAAGma,EAAGikC,EAAQC,IAExCtN,GAAI,SAAS/wC,EAAGma,EAAGikC,GACf,OAAOtL,EAAS,IAAK9yC,EAAGma,EAAGikC,IAE/BpN,IAAK,SAAShxC,EAAGma,EAAGikC,GAChB,OAAOtL,EAAS,KAAM9yC,EAAGma,EAAGikC,IAEhCnN,GAAI,SAASjxC,EAAGma,EAAGikC,GACf,OAAOtL,EAAS,IAAK9yC,EAAGma,EAAGikC,IAE/BlN,IAAK,SAASlxC,EAAGma,EAAGikC,GAChB,OAAOtL,EAAS,KAAM9yC,EAAGma,EAAGikC,IAEhC/M,WAAY6M,EAAO,SAASl+C,EAAGma,GAC3B,OAAOna,EAAI,gBAAkBma,EAAI,cAErCukC,iBAAkBR,EAAO,SAASl+C,EAAGma,GACjC,OAAOna,EAAI,gBAAkBma,EAAI,eAErCi3B,SAAU8M,EAAO,SAASl+C,EAAGma,GACzB,IAAIwkC,EAAIxkC,EAAIA,EAAEjhB,OAAS,EAAI,EAC3B,OAAO8G,EAAI,YAAcma,EAAI,KAAOna,EAAI,aAAe2+C,EAAI,WAE/DC,eAAgBV,EAAO,SAASl+C,EAAGma,GAC/B,IAAIwkC,EAAIxkC,EAAIA,EAAEjhB,OAAS,EAAI,EAC3B,OAAO8G,EAAI,YAAcma,EAAI,KAAOna,EAAI,aAAe2+C,EAAI,UAE/Dp2B,SAAU21B,EAAO,SAASl+C,EAAGma,GACzB,OAAOna,EAAI,YAAcma,EAAI,WAEjCg3B,eAAgB+M,EAAO,SAASl+C,EAAGma,GAC/B,OAAOna,EAAI,YAAcma,EAAI,YAEjC1N,QAASyxC,EAAO,SAASl+C,EAAGma,GACxBA,EAAIA,EAAE9d,UAAU,EAAG8d,EAAEjhB,OAAS,GAC9B,OAAOslD,EAAerkC,GAAK,SAAWna,EAAI,MAE9C6+C,aAAcX,EAAO,SAASl+C,EAAGma,GAC7BA,EAAIA,EAAE9d,UAAU,EAAG8d,EAAEjhB,OAAS,GAC9B,MAAO,IAAMslD,EAAerkC,GAAK,SAAWna,EAAI,MAEpD0xC,QAAS,SAAS1xC,GACd,OAAOA,EAAI,WAEf2xC,WAAY,SAAS3xC,GACjB,OAAOA,EAAI,WAEfsxC,OAAQ,SAAStxC,GACb,MAAO,IAAMA,EAAI,aAErBuxC,UAAW,SAASvxC,GAChB,MAAO,IAAMA,EAAI,aAErBwxC,cAAe,SAASxxC,GACpB,MAAO,IAAMA,EAAI,kBAAoBA,EAAI,YAE7CyxC,iBAAkB,SAASzxC,GACvB,MAAO,IAAMA,EAAI,kBAAoBA,EAAI,aA/IrC,IAoJhB,SAAS8+C,EAAMzhD,GACXjE,KAAKiE,KAAOA,GAAQ,GA0DxB,SAAS0hD,GAAc9kC,EAAO+Y,GAC1B,GAAI/Y,EAAO,CACP,IAAI+kC,SAAoB/kC,IAAUtiB,EAAS,CAAEsiB,MAAOA,EAAO+Y,IAAKA,GAAQ/Y,EACxEglC,EAAcnoD,EAAQkoD,GAAcA,EAAcA,IAAevoD,EAAY,CAACuoD,GAAc,GAE5F,OAAOntB,EAAKotB,EAAa,SAASr4C,GAAK,QAASA,EAAEosB,OAI1D,SAASksB,GAAWC,EAAOnsB,GACvB,IAAIosB,EAAa,GAEjB,GAAID,EAAO,CACP,IAAIH,SAAoBG,IAAUxnD,EAAS,CAAEsiB,MAAOklC,EAAOnsB,IAAKA,GAAQmsB,EACxEF,EAAcnoD,EAAQkoD,GAAcA,EAAcA,IAAevoD,EAAY,CAACuoD,GAAc,GAE5F,IAAK,IAAI/lD,EAAI,EAAGA,EAAIgmD,EAAY/lD,OAAQD,IACpCmmD,EAAWH,EAAYhmD,GAAGghB,OAAS,CAAE+Y,IAAKisB,EAAYhmD,GAAG+5B,IAAKzqB,MAAOtP,EAAI,GAIjF,OAAOmmD,EA5EXN,EAAMO,WAAa,SAASh9B,GACxB,IAAIi9B,EAAc,GACdzM,EAAQ,CAAE0M,IAAK,OAAQC,GAAI,QAC3BzkD,EACA7B,EACAmwB,EACAjH,EACAq9B,EAAiB,GACjBC,EAAoB,GACpBzlC,EACA64B,EACAC,EAAU1wB,EAAW0wB,QAEzB,IAAKh4C,EAAM,EAAG7B,EAAS65C,EAAQ75C,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACxDsuB,EAAS0pB,EAAQh4C,GACjBkf,EAAQoP,EAAOpP,MACf64B,EAAWzpB,EAAOypB,SAElB,GAAIzpB,EAAO0pB,QAAS,CAChB3wB,EAAO08B,EAAMO,WAAWh2B,GAExBA,EAASjH,EAAKC,WACb9oB,QAAQ,gBAAiB,SAASmE,EAAO6K,GACtCA,GAASA,EACT,MAAO,QAAUm3C,EAAkBxmD,OAASqP,GAAS,MAExDhP,QAAQ,gBAAiB,SAASmE,EAAO6K,GACtCA,GAASA,EACT,MAAO,QAAUk3C,EAAevmD,OAASqP,GAAS,MAGtDm3C,EAAkBpkD,KAAKxB,MAAM4lD,EAAmBt9B,EAAK67B,WACrDwB,EAAenkD,KAAKxB,MAAM2lD,EAAgBr9B,EAAKk1B,YAC5C,CACH,UAAWr9B,IAAUviB,EAAU,CAC3B0qB,EAAO,OAASq9B,EAAevmD,OAAQ,OACvCumD,EAAenkD,KAAK2e,QAEpBmI,EAAO1rB,EAAM0rB,KAAKnI,GAGtB,UAAW64B,IAAap7C,EAAU,CAC9B2xB,EAAS,OAASq2B,EAAkBxmD,OAAS,KAAOkpB,EAAO,KAAO67B,GAAUr+C,MAAMypB,EAAO3oB,OAAS,IAClGg/C,EAAkBpkD,KAAKw3C,QAEvBzpB,EAAS40B,IAAWnL,GAAY,MAAMptC,eAAe0c,EAAMiH,EAAO3oB,MAAO2oB,EAAO8d,aAAe1wC,EAAW4yB,EAAO8d,WAAa,KAAM9kB,EAAWg8B,wBAIvJiB,EAAYhkD,KAAK+tB,GAGrB,MAAQ,CAAEhH,WAAY,IAAMi9B,EAAYpjD,KAAK22C,EAAMxwB,EAAWwwB,QAAU,IAAKyE,OAAQmI,EAAgBxB,UAAWyB,IA2BpH,IAAIC,GAAc,CACdC,KAAM,KACNC,OAAQ,KACRC,UAAW,KACXC,QAAS,KACT3D,MAAO,KACP4D,KAAM,MACNC,GAAI,MACJC,UAAW,MACXC,aAAc,MACdC,WAAY,MACZC,SAAU,MACVC,IAAK,KACLC,WAAY,KACZC,SAAU,KACVC,KAAM,KACNC,KAAM,MACNC,GAAI,MACJC,oBAAqB,MACrBC,cAAe,MACfC,IAAK,KACLC,cAAe,KACfC,YAAa,KACbC,QAAS,KACTC,KAAM,MACNC,uBAAwB,MACxBC,iBAAkB,MAClBC,GAAI,MACJC,eAAgB,iBAChBhQ,OAAQ,SACRI,QAAS,UACTC,WAAY,cAGhB,SAAS4P,GAAkBl/B,GACvB,IAAItnB,EACJ7B,EACAmwB,EACAypB,EACAC,EAAU1wB,EAAW0wB,QAErB,GAAIA,EACA,IAAKh4C,EAAM,EAAG7B,EAAS65C,EAAQ75C,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACxDsuB,EAAS0pB,EAAQh4C,GACjB+3C,EAAWzpB,EAAOypB,SAElB,GAAIA,UAAmBA,IAAan7C,EAChC0xB,EAAOypB,SAAW6M,GAAY7M,EAASptC,gBAAkBotC,EAG7DyO,GAAkBl4B,IAK9B,SAASm4B,GAAgBn/B,GACrB,GAAIA,IAAe2G,EAAc3G,GAAa,CAC1C,GAAIvrB,EAAQurB,KAAgBA,EAAW0wB,QACnC1wB,EAAa,CACTwwB,MAAO,MACPE,QAASj8C,EAAQurB,GAAcA,EAAa,CAACA,IAIrDk/B,GAAkBl/B,GAElB,OAAOA,GAMf,SAASo/B,GAAkBC,EAAIC,GAC3B,GAAID,EAAG7O,OAAS8O,EAAG9O,MACf,OAAO,MAGX,OAAO6O,EAAGznC,QAAU0nC,EAAG1nC,OAASynC,EAAGhhD,QAAUihD,EAAGjhD,OAASghD,EAAG5O,WAAa6O,EAAG7O,SAGhF,SAAS8O,GAAoBv4B,GACzBA,EAASA,GAAU,GAEnB,GAAIL,EAAcK,GACd,MAAO,CAAEwpB,MAAO,MAAOE,QAAS,IAGpC,OAAOyO,GAAgBn4B,GAG3B,SAASw4B,GAAc7hD,EAAGma,GACtB,GAAIA,EAAE04B,OAAU7yC,EAAEia,MAAQE,EAAEF,MACxB,OAAO,OACJ,GAAIja,EAAEia,MAAQE,EAAEF,MACnB,OAAQ,OAER,OAAO,EAIf,SAAS6nC,GAAeC,EAAOC,GAC3BD,EAAQH,GAAoBG,GAC5BC,EAAQJ,GAAoBI,GAE5B,GAAID,EAAMlP,QAAUmP,EAAMnP,MACtB,OAAO,MAGX,IAAI6O,EAAIC,EACR,IAAIM,GAAYF,EAAMhP,SAAW,IAAIx6C,QACrC,IAAI2pD,GAAYF,EAAMjP,SAAW,IAAIx6C,QAErC,GAAI0pD,EAAS/oD,SAAWgpD,EAAShpD,OAC7B,OAAO,MAGX+oD,EAAWA,EAAS/nC,KAAK2nC,IACzBK,EAAWA,EAAShoC,KAAK2nC,IAEzB,IAAK,IAAI9mD,EAAM,EAAGA,EAAMknD,EAAS/oD,OAAQ6B,IAAO,CAC5C2mD,EAAKO,EAASlnD,GACd4mD,EAAKO,EAASnnD,GAEd,GAAI2mD,EAAG7O,OAAS8O,EAAG9O,OACf,IAAKiP,GAAeJ,EAAIC,GACpB,OAAO,WAER,IAAKF,GAAkBC,EAAIC,GAC9B,OAAO,MAIf,OAAO,KAKX,SAASQ,GAAmB7C,GACxB,OAAOxoD,EAAQwoD,GAAeA,EAAc,CAACA,GAGjD,SAAS8C,GAAenoC,EAAO+Y,EAAKuqB,EAAS8E,GACzC,IAAIrD,SAAoB/kC,IAAUtiB,EAAS,CAAEsiB,MAAOA,EAAO+Y,IAAKA,EAAKuqB,QAASA,EAAS8E,gBAAkBA,GAAoBpoC,EAC7HglC,EAAcnoD,EAAQkoD,GAAcA,EAAcA,IAAevoD,EAAY,CAACuoD,GAAc,GAE5F,OAAO10C,EAAI20C,EAAa,SAASr4C,GAC7B,MAAO,CACHqT,MAAOrT,EAAEqT,MACT+Y,IAAKpsB,EAAEosB,KAAO,MACdsvB,WAAY17C,EAAE07C,WACd/E,QAAS32C,EAAE22C,QACX8E,gBAAiBz7C,EAAEy7C,mBAK/B,SAASE,GAA6BtoC,EAAO+Y,EAAKuqB,GAC9C,IAAI0B,EAAcmD,GAAenoC,EAAO+Y,EAAKuqB,GAE7C,IAAK,IAAItkD,EAAI,EAAGA,EAAIgmD,EAAY/lD,OAAQD,WAC7BgmD,EAAYhmD,GAAGskD,QAG1B,OAAO0B,EAGX,SAASuD,GAA6BC,GAClC,IAAIxD,EAAcnoD,EAAQ2rD,GAAoBA,EAAmB,CAACA,GAElE,IAAK,IAAIxpD,EAAI,EAAGA,EAAIgmD,EAAY/lD,OAAQD,IACpC,GAAIgmD,EAAYhmD,IAAMoB,EAAW4kD,EAAYhmD,GAAGskD,SAC5C,OAAO,KAIf,OAAO,MAsRX,SAASmF,GAAmB1iD,EAAGma,GAC3B,GAAIna,GAAKA,EAAE4Q,SAAWuJ,GAAKA,EAAEvJ,QACzB,OAAO5Q,EAAE4Q,YAAcuJ,EAAEvJ,UAE7B,OAAO5Q,IAAMma,EAGjB,SAASwoC,GAAmBC,EAAaN,EAAYjgB,EAAM95B,EAAOrP,EAAQ2pD,GACtEP,EAAaA,GAAc,GAC3B,IAAIvnD,EACA+nD,EACAC,EACAx/B,EAAM++B,EAAWppD,OAErB,IAAK6B,EAAM,EAAGA,EAAMwoB,EAAKxoB,IAAO,CAC5B+nD,EAAOR,EAAWvnD,GAClBgoD,EAAeD,EAAKE,UACpB,IAAI/oC,EAAQ6oC,EAAK7oC,MACjB2oC,EAAY3oC,GAAS2oC,EAAY3oC,IAAU,GAC3C4oC,EAAM5oC,GAAS4oC,EAAM5oC,IAAU,GAC/B4oC,EAAM5oC,GAAO8oC,GAAgBF,EAAM5oC,GAAO8oC,IAAiB,GAC3DH,EAAY3oC,GAAO8oC,GAAgBE,GAAUF,EAAar9C,eAAek9C,EAAY3oC,GAAO8oC,GAAe1gB,EAAM3rC,EAAM+rB,SAASxI,GAAQ1R,EAAOrP,EAAQ2pD,EAAM5oC,GAAO8oC,KApZ5KjE,EAAM0C,gBAAkBA,GAiExB1C,EAAMgD,eAAiBA,GA2CvBhD,EAAM9kD,UAAY,CACdkpD,QAAS,WACL,OAAO9pD,KAAKiE,MAEhB8lD,MAAO,SAAS56C,EAAO+D,GACnB,OAAO,IAAIwyC,EAAM1lD,KAAKiE,KAAK9E,MAAMgQ,EAAOA,EAAQ+D,KAEpDwgC,KAAM,SAAUxgC,GACZ,OAAO,IAAIwyC,EAAM1lD,KAAKiE,KAAK9E,MAAM+T,KAErCimC,KAAM,SAAUjmC,GACZ,OAAO,IAAIwyC,EAAM1lD,KAAKiE,KAAK9E,MAAM,EAAG+T,KAExC2sB,OAAQ,SAAUxe,GACd,OAAO,IAAIqkC,EAAMx0C,EAAIlR,KAAKiE,KAAMod,KAEpC23B,MAAO,SAAS33B,EAAUuY,EAAKowB,GAC3B,IAAIlpC,EAAO,CAAE8Y,IAAKA,GAElB,GAAIvY,EACA,GAAIA,EAAS8iC,QACTrjC,EAAKqjC,QAAU9iC,EAAS8iC,aAExBrjC,EAAKD,MAAQQ,EAIrB,GAAI2oC,EACA,OAAO,IAAItE,EAAM1lD,KAAKiE,KAAK6c,KAAKgjC,GAAS5G,OAAOp8B,KAGpD,OAAO,IAAI4kC,EAAM1lD,KAAKiE,KAAK9E,MAAM,GAAG2hB,KAAKgjC,GAAS5G,OAAOp8B,MAE7DmpC,QAAS,SAAS5oC,EAAU2oC,GACxB,OAAOhqD,KAAKg5C,MAAM33B,EAAU,MAAO2oC,IAEvCE,kBAAmB,SAAS7oC,EAAU2oC,GAClC,OAAOhqD,KAAKg5C,MAAM33B,EAAU,OAAQ2oC,IAExClpC,KAAM,SAASD,EAAO+Y,EAAKuwB,EAAUH,GACjC,IAAIroD,EACJ7B,EACA+lD,EAAcF,GAAc9kC,EAAO+Y,GACnC0qB,EAAY,GAEZ6F,EAAWA,GAAYrG,GAEvB,GAAI+B,EAAY/lD,OAAQ,CACpB,IAAK6B,EAAM,EAAG7B,EAAS+lD,EAAY/lD,OAAQ6B,EAAM7B,EAAQ6B,IACrD2iD,EAAUpiD,KAAKioD,EAASjN,OAAO2I,EAAYlkD,KAG/C,OAAO3B,KAAKiqD,QAAQ,CAAE9F,QAASgG,EAAS9F,QAAQC,IAAc0F,GAGlE,OAAOhqD,MAGXiwB,OAAQ,SAASi2B,GACb,IAAIvkD,EACJkH,EACA/I,EACAsqD,EACAC,EACApmD,EAAOjE,KAAKiE,KACZi6C,EACA2G,EACAt7C,EAAS,GACT0mB,EAEAi2B,EAAckC,GAAgBlC,GAE9B,IAAKA,GAAeA,EAAYvM,QAAQ75C,SAAW,EAC/C,OAAOE,KAGXoqD,EAAW1E,EAAMO,WAAWC,GAC5BhI,EAASkM,EAASlM,OAClB2G,EAAYuF,EAASvF,UAErBwF,EAAYp6B,EAAS,IAAIxrB,SAAS,cAAe,UAAY2lD,EAASnhC,YAEtE,GAAIi1B,EAAOp+C,QAAU+kD,EAAU/kD,OAC3BmwB,EAAS,SAASziB,GACd,OAAO68C,EAAU78C,EAAG0wC,EAAQ2G,IAKpC,IAAKljD,EAAM,EAAG7B,EAASmE,EAAKnE,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACrDkH,EAAU5E,EAAKtC,GAEf,GAAIsuB,EAAOpnB,GACPU,EAAOrH,KAAK2G,GAIpB,OAAO,IAAI68C,EAAMn8C,IAGrB+gD,MAAO,SAASzE,EAAa0E,EAAS9qD,GAClComD,EAAemD,GAAenD,GAAe,IAC7C0E,EAAUA,GAAWvqD,KAAKiE,KAE1B,IAAI1D,EAAOP,KACXuJ,EAAS,IAAIm8C,EAAMnlD,EAAK0D,MACxB2hD,EAEA,GAAIC,EAAY/lD,OAAS,EAAG,CACxB8lD,EAAaC,EAAY,GAEzB,GAAIpmD,GAAWA,EAAQ+qD,YACnBjhD,EAAS,IAAIm8C,EAAM6E,GAASE,aAAa7E,EAAY2E,GAAS1qB,OAAO,SAAUyqB,GAC3E,IAAIrmD,EAAO,IAAIyhD,EAAM6E,GAASt6B,OAAO,CAAC,CAClCpP,MAAOypC,EAAMzpC,MACb64B,SAAU,KACVpyC,MAAOgjD,EAAMhjD,MACbymC,WAAY,SAEhB,IAAI1f,EAAQw3B,EAAY/lD,OAAS,EAAI,IAAI4lD,EAAM4E,EAAMj8B,OAAOi8B,MAAMzE,EAAY1mD,MAAM,GAAI8E,EAAK6lD,UAAWrqD,GAASqqD,UAAYQ,EAAMj8B,MACnI,MAAO,CACHxN,MAAOypC,EAAMzpC,MACbvZ,MAAOgjD,EAAMhjD,MACbojD,aAAc7E,EAAY/lD,OAAS,EACnCuuB,MAAOA,EACP66B,WAAYjlD,EAAK2lD,UAAUhE,EAAWsD,YACtC3G,IAAKjlD,EAAMksB,OACXmhC,UAAWt8B,EAAMvuB,OACjB8qD,cAAev8B,EAAMvuB,eAK7ByJ,EAASA,EAAOshD,QAAQjF,GAAY/lB,OAAO,SAASyqB,GAChD,IAAIrmD,EAAO,IAAIyhD,EAAM6E,GAASt6B,OAAO,CAAE,CAAEpP,MAAOypC,EAAMzpC,MAAO64B,SAAU,KAAMpyC,MAAOgjD,EAAMhjD,MAAOymC,WAAY,SAC7G,MAAO,CACHltB,MAAOypC,EAAMzpC,MACbvZ,MAAOgjD,EAAMhjD,MACb+mB,MAAOw3B,EAAY/lD,OAAS,EAAI,IAAI4lD,EAAM4E,EAAMj8B,OAAOi8B,MAAMzE,EAAY1mD,MAAM,GAAI8E,EAAK6lD,WAAWA,UAAYQ,EAAMj8B,MACrHq8B,aAAc7E,EAAY/lD,OAAS,EACnCopD,WAAYjlD,EAAK2lD,UAAUhE,EAAWsD,eAKtD,OAAO3/C,GAGXshD,QAAS,SAASjF,GACd,IAAIrlD,EAAOP,KAEX,GAAI4vB,EAAcg2B,KAAgB5lD,KAAKiE,KAAKnE,OACxC,OAAO,IAAI4lD,EAAM,IAGrB,IAAI7kC,EAAQ+kC,EAAW/kC,MACnBD,EAASglC,EAAWqD,gBAAkBjpD,KAAKiE,KAAOjE,KAAK8qD,iBAAiBjqC,EAAO+kC,EAAWhsB,KAAO,OACjGvQ,EAAW/rB,EAAM+rB,SAASxI,GAC1BooB,EACA8hB,EAAa1hC,EAASC,IAAI1I,EAAO,GAAIC,GACrCypC,EAAQ,CACJzpC,MAAOA,EACPvZ,MAAOyjD,EACP18B,MAAO,IAEXqX,EACA/jC,EACAwoB,EACA5gB,EAAS,CAAC+gD,GAEd,IAAI3oD,EAAM,EAAGwoB,EAAMvJ,EAAO9gB,OAAQ6B,EAAMwoB,EAAKxoB,IAAO,CAChDsnC,EAAOroB,EAAOjf,GACd+jC,EAAerc,EAASC,IAAI2f,EAAMpoB,GAClC,IAAIyoC,GAAmByB,EAAYrlB,GAAe,CAC9CqlB,EAAarlB,EACb4kB,EAAQ,CACJzpC,MAAOA,EACPvZ,MAAOyjD,EACP18B,MAAO,IAEX9kB,EAAOrH,KAAKooD,GAEhBA,EAAMj8B,MAAMnsB,KAAK+mC,GAGrB1/B,EAAShJ,EAAKyqD,YAAYzhD,EAAQq8C,GAElC,OAAO,IAAIF,EAAMn8C,IAGrBkhD,aAAc,SAAU7E,EAAY2E,GAChC,GAAI36B,EAAcg2B,IAAe5lD,KAAKiE,OAASjE,KAAKiE,KAAKnE,OACrD,OAAO,IAAI4lD,EAAM,IAGrB,IAAI7kC,EAAQ+kC,EAAW/kC,MACnBD,EAASglC,EAAWqD,gBAAkBsB,EAAU,IAAI7E,EAAM6E,GAASzpC,KAAKD,EAAO+kC,EAAWhsB,KAAO,MAAO2qB,IAAgBuF,UACxHzgC,EAAW/rB,EAAM+rB,SAASxI,GAC1BooB,EACA8hB,EAAa1hC,EAASC,IAAI1I,EAAO,GAAIC,GACrCypC,EAAQ,CACJzpC,MAAOA,EACPvZ,MAAOyjD,EACP18B,MAAO,IAEXqX,EACA/jC,EACAwoB,EACA5gB,EAAS,CAAC+gD,GAEd,IAAK3oD,EAAM,EAAGwoB,EAAMvJ,EAAO9gB,OAAQ6B,EAAMwoB,EAAKxoB,IAAO,CACjDsnC,EAAOroB,EAAOjf,GACd+jC,EAAerc,EAASC,IAAI2f,EAAMpoB,GAClC,IAAKyoC,GAAmByB,EAAYrlB,GAAe,CAC/CqlB,EAAarlB,EACb4kB,EAAQ,CACJzpC,MAAOA,EACPvZ,MAAOyjD,EACP18B,MAAO,IAEX9kB,EAAOrH,KAAKooD,GAEhBA,EAAMj8B,MAAMnsB,KAAK+mC,GAGrB1/B,EAASvJ,KAAKgrD,YAAYzhD,EAAQq8C,GAElC,OAAO,IAAIF,EAAMn8C,IAGrBuhD,iBAAkB,SAASjqC,EAAO+Y,GAC9B,IAAIj4B,EAAK7B,EACLmE,EAAOjE,KAAKiE,KAEhB,IAAKyc,EAAY,CACb,IAAK/e,EAAM,EAAG7B,EAASmE,EAAKnE,OAAQ6B,EAAM7B,EAAQ6B,IAC9CsC,EAAKtC,GAAKgjD,WAAahjD,EAG3BsC,EAAO,IAAIyhD,EAAMzhD,GAAM6c,KAAKD,EAAO+Y,EAAK2qB,IAAgBuF,UAExD,IAAKnoD,EAAM,EAAG7B,EAASmE,EAAKnE,OAAQ6B,EAAM7B,EAAQ6B,WACvCsC,EAAKtC,GAAKgjD,WAErB,OAAO1gD,EAGX,OAAOjE,KAAK8gB,KAAKD,EAAO+Y,GAAKkwB,WAGjCkB,YAAa,SAASnnB,EAAQ+hB,GAC1B,IAAIr8C,EAASs6B,EAEb,GAAI+hB,GAAc3kD,EAAW2kD,EAAWzB,SACpC56C,EAAS,IAAIm8C,EAAMn8C,GAAQyvC,MAAM,CAAEmL,QAASyB,EAAWzB,SAAWyB,EAAWhsB,KAAO2lB,GAAWuK,UAGnG,OAAOvgD,GAGXqgD,UAAW,SAAUV,GACjB,IAAIvnD,EACAwoB,EACA5gB,EAAS,GACTkgD,EAAQ,GAEZ,GAAIP,GAAcA,EAAWppD,OACzB,IAAI6B,EAAM,EAAGwoB,EAAMnqB,KAAKiE,KAAKnE,OAAQ6B,EAAMwoB,EAAKxoB,IAC5C4nD,GAAmBhgD,EAAQ2/C,EAAYlpD,KAAKiE,KAAKtC,GAAMA,EAAKwoB,EAAKs/B,GAGzE,OAAOlgD,IA6Bf,IAAIsgD,GAAY,CACZoB,IAAK,SAASzB,EAAavgB,EAAM5f,GAC7B,IAAI/hB,EAAQ+hB,EAASC,IAAI2f,GAEzB,IAAKiiB,GAAS1B,GACVA,EAAcliD,OACX,GAAI4jD,GAAS5jD,GAChBkiD,GAAeliD,EAGnB,OAAOkiD,GAEXt2C,MAAO,SAASs2C,GACZ,OAAQA,GAAe,GAAK,GAEhC2B,QAAS,SAAS3B,EAAavgB,EAAM5f,EAAUla,EAAOrP,EAAQ2pD,GAC1D,IAAIniD,EAAQ+hB,EAASC,IAAI2f,GAEzB,GAAIwgB,EAAMv2C,QAAU7V,EAChBosD,EAAMv2C,MAAQ,EAGlB,IAAKg4C,GAAS1B,GACVA,EAAcliD,OACX,GAAI4jD,GAAS5jD,GAChBkiD,GAAeliD,EAGnB,GAAI4jD,GAAS5jD,GACTmiD,EAAMv2C,QAGV,GAAG/D,GAASrP,EAAS,GAAKorD,GAAS1B,GAC/BA,EAAcA,EAAcC,EAAMv2C,MAEtC,OAAOs2C,GAEXt8C,IAAK,SAASs8C,EAAavgB,EAAM5f,GAC7B,IAAI/hB,EAAQ+hB,EAASC,IAAI2f,GAEzB,IAAKiiB,GAAS1B,KAAiB4B,GAAO5B,GAClCA,EAAcliD,EAGlB,GAAGkiD,EAAcliD,IAAU4jD,GAAS5jD,IAAU8jD,GAAO9jD,IACjDkiD,EAAcliD,EAElB,OAAOkiD,GAEXz6C,IAAK,SAASy6C,EAAavgB,EAAM5f,GAC7B,IAAI/hB,EAAQ+hB,EAASC,IAAI2f,GAEzB,IAAKiiB,GAAS1B,KAAiB4B,GAAO5B,GAClCA,EAAcliD,EAGlB,GAAGkiD,EAAcliD,IAAU4jD,GAAS5jD,IAAU8jD,GAAO9jD,IACjDkiD,EAAcliD,EAElB,OAAOkiD,IAIf,SAAS0B,GAASG,GACd,cAAcA,IAAQ,WAAav3C,MAAMu3C,GAG7C,SAASD,GAAOC,GACZ,OAAOA,GAAOA,EAAI7zC,QAGtB,SAAS5R,GAAO2L,GACZ,IAAI5P,EAAK7B,EAASyR,EAAMzR,OAAQyJ,EAAS,IAAI5L,MAAMmC,GAEnD,IAAK6B,EAAM,EAAGA,EAAM7B,EAAQ6B,IACxB4H,EAAO5H,GAAO4P,EAAM5P,GAAKiE,SAG7B,OAAO2D,EAGXm8C,EAAMsD,eAAiBA,GACvBtD,EAAMC,cAAgBA,GAEtBD,EAAM4F,QAAU,SAASrnD,EAAMxE,EAASuqD,GACpCvqD,EAAUA,GAAW,GAErB,IAAI6qD,EAAQ7qD,EAAQ6qD,MACpB,IAAIiB,EAAkBnC,GAA6BJ,GAAesB,GAAS,KAC3E,IAAIkB,EAAQ,IAAI9F,EAAMzhD,GAClBwnD,EAAiCtC,GAA6BmB,GAAS,IACvEoB,EAAiB/F,GAAclmD,EAAQqhB,MAAQ,IAC/CA,EAAOyqC,EAAkBG,EAAiBD,EAA+Bn3C,OAAOo3C,GAChFC,EACA7O,EACA8O,EAAiBnsD,EAAQmsD,eACzB37B,EAASxwB,EAAQwwB,OACjByjB,EAAOj0C,EAAQi0C,KACfyF,EAAO15C,EAAQ05C,KAEnB,GAAIr4B,GAAQkpC,EACRwB,EAAQA,EAAM1qC,KAAKA,EAAMzjB,EAAWA,EAAW2sD,GAGnD,GAAI/5B,EAAQ,CACRu7B,EAAQA,EAAMv7B,OAAOA,GAErB,GAAI27B,EACAJ,EAAQI,EAAeJ,GAG3B1O,EAAQ0O,EAAM1B,UAAUhqD,OAG5B,GAAIghB,EAAM,CACN,IAAKkpC,EACDwB,EAAQA,EAAM1qC,KAAKA,GAGvB,GAAIwpC,EACArmD,EAAOunD,EAAM1B,UAIrB,GAAIyB,EAAiB,CACjBC,EAAQA,EAAMlB,MAAMA,EAAOrmD,EAAMxE,GAEjC,GAAIi0C,IAASr2C,GAAa87C,IAAS97C,IAAcoC,EAAQ+qD,YAAa,CAClEgB,EAAQ,IAAI9F,EAAMmG,GAAWL,EAAM1B,YAAYC,MAAMrW,EAAMyF,GAE3DwS,EAA8Bz6C,EAAIu6C,EAAgC,SAASK,GACvE,OAAOtuD,EAAO,GAAIsuD,EAAiB,CAC/B7C,gBAAiB,SAIzBuC,EAAQA,EAAMlB,MAAMqB,EAA6B1nD,EAAMxE,QAExD,CACH,GAAIi0C,IAASr2C,GAAa87C,IAAS97C,EAAW,CAC1Cy/C,EAAQ0O,EAAMvnD,KAAKnE,OAEnB,GAAI4zC,EAAOyF,EAAO2D,GAASr9C,EAAQssD,QAC/BrY,GAAQA,EAAOyF,EAAO2D,EAE1B0O,EAAQA,EAAMzB,MAAMrW,EAAMyF,GAG9B,GAAImR,KAAW16B,EAAc06B,IAAUA,EAAMxqD,SAAW,GACpD0rD,EAAQA,EAAMlB,MAAMA,EAAOrmD,EAAMxE,GAIzC,MAAO,CACHq9C,MAAOA,EACP74C,KAAMunD,EAAM1B,YAIpB,IAAIkC,GAAiB9rD,EAAM1C,OAAO,CAC9BiD,KAAM,SAAShB,GACXO,KAAKiE,KAAOxE,EAAQwE,MAGxBq1C,KAAM,SAAS75C,GACXA,EAAQg+C,QAAQz9C,KAAKiE,OAEzBg5C,OAAQ,SAASx9C,GACbA,EAAQg+C,QAAQh+C,EAAQwE,OAE5Bi5C,OAAQ,SAASz9C,GACbA,EAAQg+C,QAAQh+C,EAAQwE,OAE5BgoB,QAAS,SAASxsB,GACdA,EAAQg+C,QAAQh+C,EAAQwE,SAI5BgoD,GAAkB/rD,EAAM1C,OAAQ,CAChCiD,KAAM,SAAShB,GACX,IAAIc,EAAOP,KAAMm9C,EAEjB19C,EAAUc,EAAKd,QAAUjC,EAAO,GAAI+C,EAAKd,QAASA,GAElDhC,EAAK2iD,EAAM,SAASjxC,EAAO5H,GACvB,UAAW9H,EAAQ8H,KAAUhJ,EACzBkB,EAAQ8H,GAAQ,CACZwhB,IAAKtpB,EAAQ8H,MAKzBhH,EAAK23B,MAAQz4B,EAAQy4B,MAAOg0B,GAAMhP,OAAOz9C,EAAQy4B,OAAS,CACtDnI,KAAMnyB,EACNmmB,IAAKnmB,GAGTu/C,EAAe19C,EAAQ09C,aAEvB,GAAI19C,EAAQ0lC,OACR5kC,EAAK4kC,OAAS1lC,EAAQ0lC,OAG1B,GAAIlkC,EAAWxB,EAAQyC,MACnB3B,EAAK2B,KAAOzC,EAAQyC,KAGxB,IAAK3B,EAAK2B,KACN3B,EAAK2B,KAAOm+C,EAGhB9/C,EAAK48C,aAAel8C,EAAWk8C,GAAgBA,EAAe,SAAS19C,GACnE,IAAI8J,EAAS,GAEb9L,EAAKgC,EAAS,SAASsvB,EAAQznB,GAC3B,GAAIynB,KAAUouB,EAAc,CACxBpuB,EAASouB,EAAapuB,GACtB,GAAI9uB,EAAc8uB,GAAS,CACvBznB,EAAQynB,EAAOznB,MAAMA,GACrBynB,EAASA,EAAO/nB,KAIxBuC,EAAOwlB,GAAUznB,IAGrB,OAAOiC,IAIf9J,QAAS,CACL09C,aAAckD,GAGlBnD,OAAQ,SAASz9C,GACb,OAAO+9C,EAAKx9C,KAAKmsD,MAAM1sD,EAAS+/C,KAGpClG,KAAM,SAAS75C,GACX,IAAIc,EAAOP,KACPy9C,EACAl4B,EACAhc,EACA2uB,EAAQ33B,EAAK23B,MAEjBz4B,EAAUc,EAAK4rD,MAAM1sD,EAASggD,GAE9BhC,EAAUh+C,EAAQg+C,SAAW7/C,EAC7B2nB,EAAQ9lB,EAAQ8lB,OAAS3nB,EAEzB2L,EAAS2uB,EAAMnI,KAAKtwB,EAAQwE,MAE5B,GAAGsF,IAAWlM,EACVogD,EAAQl0C,OACL,CACH9J,EAAQg+C,QAAU,SAASl0C,GACvB2uB,EAAMnU,IAAItkB,EAAQwE,KAAMsF,GAExBk0C,EAAQl0C,IAGZrM,EAAEsgD,KAAK/9C,KAIfw9C,OAAQ,SAASx9C,GACb,OAAO+9C,EAAKx9C,KAAKmsD,MAAM1sD,EAASigD,KAGpCzzB,QAAS,SAASxsB,GACd,OAAO+9C,EAAKx9C,KAAKmsD,MAAM1sD,EAASkgD,KAGpCwM,MAAO,SAAS1sD,EAAS8H,GACrB9H,EAAUA,GAAW,GAErB,IAAIc,EAAOP,KACPosD,EACAC,EAAY9rD,EAAKd,QAAQ8H,GACzBtD,EAAOhD,EAAWorD,EAAUpoD,MAAQooD,EAAUpoD,KAAKxE,EAAQwE,MAAQooD,EAAUpoD,KAEjFxE,EAAUjC,EAAO,KAAM,GAAI6uD,EAAW5sD,GACtC2sD,EAAa5uD,EAAO,KAAM,GAAIyG,EAAMxE,EAAQwE,MAE5CxE,EAAQwE,KAAO1D,EAAK48C,aAAaiP,EAAY7kD,GAE7C,GAAItG,EAAWxB,EAAQspB,KACnBtpB,EAAQspB,IAAMtpB,EAAQspB,IAAIqjC,GAG9B,OAAO3sD,KAIXysD,GAAQhsD,EAAM1C,OAAO,CACrBiD,KAAM,WACFT,KAAKssD,OAAS,IAElBvoC,IAAK,SAAS/c,EAAK/C,GACf,GAAG+C,IAAQ3J,EACP2C,KAAKssD,OAAO7kD,EAAUT,IAAQ/C,GAGtC8rB,KAAM,SAAS/oB,GACX,OAAOhH,KAAKssD,OAAO7kD,EAAUT,KAEjCulD,MAAO,WACHvsD,KAAKssD,OAAS,IAElBv7B,OAAQ,SAAS/pB,UACNhH,KAAKssD,OAAO7kD,EAAUT,OAoBrC,SAASwlD,GAAiBvoD,EAAMwoD,EAASnO,EAAeoO,EAAoBC,GACxE,IAAIpO,EACAp1B,EACA46B,EACApiD,EACAirD,EAAU,GACV9sD,EAEJ,IAAK6B,EAAM,EAAG7B,EAASmE,EAAKnE,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACrD48C,EAASt6C,EAAKtC,GACd,IAAKwnB,KAAUsjC,EAAS,CACpB1I,EAAe4I,EAAWxjC,GAE1B,GAAI46B,GAAgBA,IAAiB56B,EAAQ,CACzC,IAAKyjC,EAAQ7I,GACT6I,EAAQ7I,GAAgBzmD,EAAM8rB,OAAO26B,GAEzC6I,EAAQ7I,GAAcxF,EAAQkO,EAAQtjC,GAAQo1B,WACvCA,EAAOp1B,MAM9B,SAAS0jC,GAAe5oD,EAAMwoD,EAASnO,EAAeoO,EAAoBC,GACtE,IAAIpO,EACAp1B,EACA46B,EACApiD,EACA7B,EAEJ,IAAK6B,EAAM,EAAG7B,EAASmE,EAAKnE,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACrD48C,EAASt6C,EAAKtC,GACd,IAAKwnB,KAAUsjC,EAAS,CACpBlO,EAAOp1B,GAAUm1B,EAAcE,OAAOr1B,EAAQsjC,EAAQtjC,GAAQo1B,IAE9DwF,EAAe4I,EAAWxjC,GAC1B,GAAI46B,GAAgBA,IAAiB56B,SAC1Bo1B,EAAOwF,KAM9B,SAAS+I,GAAa7oD,EAAMwoD,EAASnO,EAAeoO,EAAoBC,GACpE,IAAIpO,EACA58C,EACA4hD,EACAzjD,EAEJ,IAAK6B,EAAM,EAAG7B,EAASmE,EAAKnE,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACrD48C,EAASt6C,EAAKtC,GAEd4hD,EAAYmJ,EAAmBnO,EAAO19B,OACtC,GAAI0iC,GAAaA,GAAahF,EAAO19B,MACjC09B,EAAO19B,MAAQ0iC,EAGnBhF,EAAOj3C,MAAQg3C,EAAcE,OAAOD,EAAO19B,MAAO09B,EAAOj3C,OAEzD,GAAIi3C,EAAOlwB,MACP,GAAIkwB,EAAOmM,aACPoC,GAAavO,EAAOlwB,MAAOo+B,EAASnO,EAAeoO,EAAoBC,QAEvEE,GAAetO,EAAOlwB,MAAOo+B,EAASnO,EAAeoO,EAAoBC,IAMzF,SAASI,GAAeC,EAAkBnP,EAAOoP,EAAWR,EAASC,EAAoBC,GACrF,OAAO,SAAS1oD,GACZA,EAAO+oD,EAAiB/oD,GAExB,OAAOipD,GAAmBrP,EAAOoP,EAAWR,EAASC,EAAoBC,EAAlEO,CAA8EjpD,IAI7F,SAASipD,GAAmBrP,EAAOoP,EAAWR,EAASC,EAAoBC,GACvE,OAAO,SAAS1oD,GAEZ,GAAIA,IAAS2rB,EAAc68B,GAAU,CACjC,GAAI/mD,EAASlD,KAAKyB,KAAU,oBAAsBA,aAAgB8S,GAC9D9S,EAAO,CAACA,GAGZgpD,EAAUhpD,EAAMwoD,EAAS,IAAI5O,EAAS6O,EAAoBC,GAG9D,OAAO1oD,GAAQ,IAzGvBioD,GAAMhP,OAAS,SAASz9C,GACpB,IAAI0tD,EAAQ,CACRC,SAAY,WAAa,OAAO,IAAIlB,KAGxC,GAAIjsD,EAAcR,IAAYwB,EAAWxB,EAAQswB,MAC7C,OAAOtwB,EAGX,GAAIA,IAAY,KACZ,OAAO,IAAIysD,GAGf,OAAOiB,EAAM1tD,MAgGjB,IAAI4tD,GAAantD,EAAM1C,OAAO,CAC1BiD,KAAM,SAAS6sD,GACX,IAAI/sD,EAAOP,KAAMM,EAAQgpB,EAAKu0B,EAAOx9C,EAErCitD,EAASA,GAAU,GAEnB,IAAKhtD,KAAUgtD,EAAQ,CACnBhkC,EAAMgkC,EAAOhtD,GAEbC,EAAKD,UAAiBgpB,IAAQ/qB,EAAS4qB,EAAOG,GAAOA,EAGzDjpB,EAAOitD,EAAOtP,WAAaC,GAE3B,GAAIh+C,EAAcM,EAAKs9C,OACnBt9C,EAAKs9C,MAAQA,EAAQx9C,EAAK/D,OAAOiE,EAAKs9C,OAG1C,IAAI0P,EAAehtD,EAAK0D,KAAK1C,KAAKhB,GAElCA,EAAKitD,oBAAsBD,EAE3B,GAAIhtD,EAAKs9C,MAAO,CACZ,IAAI4P,EAAiBltD,EAAKsjC,OAAOtiC,KAAKhB,GAClCmtD,EAAoBntD,EAAKw9C,UAAUx8C,KAAKhB,GACxCmsD,EAAqB,GACrBD,EAAU,GACVkB,EAAmB,GACnBhB,EAAa,GACbnK,EAAkB,MAClBe,EACA9mD,EAEJohD,EAAQt9C,EAAKs9C,MAEb,GAAIA,EAAMK,OAAQ,CACdzgD,EAAKogD,EAAMK,OAAQ,SAASr9B,EAAOvZ,GAC/B,IAAIsmD,EAEJrK,EAAY1iC,EAEZ,GAAI5gB,EAAcqH,IAAUA,EAAMuZ,MAC9B0iC,EAAYj8C,EAAMuZ,WACf,UAAWvZ,IAAU/I,EACxBglD,EAAYj8C,EAGhB,GAAIrH,EAAcqH,IAAUA,EAAMoxB,KAC9Bk1B,EAAWtmD,EAAMoxB,KAGrB8pB,EAAkBA,GAAoBoL,GAAYA,IAAa/sC,GAAU0iC,IAAc1iC,EACvFpkB,EAAOmxD,GAAYrK,EACnBkJ,EAAQ5rC,GAASpkB,EAAKoQ,QAAQ,QAAU,EAAIsc,EAAO1sB,EAAM,MAAQ0sB,EAAO1sB,GACxEkxD,EAAiB9sC,GAASsI,EAAOtI,GACjC6rC,EAAmBkB,GAAYrK,GAAa1iC,EAC5C8rC,EAAW9rC,GAAS+sC,GAAYrK,IAGpC,IAAK+J,EAAOvP,WAAayE,EACrBjiD,EAAKw9C,UAAYgP,GAAeW,EAAmB7P,EAAO2O,GAAkBmB,EAAkBjB,EAAoBC,GAI1HpsD,EAAKitD,oBAAsBD,EAC3BhtD,EAAKstD,oBAAsBX,GAAmBrP,EAAOgP,GAAgBJ,EAASC,EAAoBC,GAClGpsD,EAAK0D,KAAO8oD,GAAeQ,EAAc1P,EAAOgP,GAAgBJ,EAASC,EAAoBC,GAC7FpsD,EAAKsjC,OAASkpB,GAAeU,EAAgB5P,EAAOiP,GAAcL,EAASC,EAAoBC,KAGvG7O,OAAQ,SAAS75C,GACb,OAAOA,EAAOA,EAAK65C,OAAS,MAEhCpB,MAAO2D,EACPp8C,KAAMo8C,EACNvD,MAAO,SAAS74C,GACZ,OAAOA,EAAKnE,QAEhB+jC,OAAQwc,EACR6I,WAAY,WACR,MAAO,IAEXnL,UAAW,SAAS95C,GAChB,OAAOA,KAIf,SAAS6pD,GAAcC,EAAeC,GAClC,IAAIC,EACJ,IAAIC,EAEJ,GAAIF,EAAS3/B,OAAS2/B,EAAS3/B,MAAMvuB,OACjC,IAAK,IAAID,EAAI,EAAGA,EAAImuD,EAAS3/B,MAAMvuB,OAAQD,IAAK,CAC5CouD,EAAeF,EAAc1/B,MAAM0/B,EAAc1/B,MAAMvuB,OAAS,GAChEouD,EAAaF,EAAS3/B,MAAMxuB,GAC5B,GAAIouD,GAAgBC,EAChB,GAAID,EAAavD,cAAgBuD,EAAa3mD,OAAS4mD,EAAW5mD,MAC9DwmD,GAAcG,EAAcC,QACzB,GAAID,EAAaptC,OAASotC,EAAa3mD,OAAS4mD,EAAW5mD,MAC9D2mD,EAAa5/B,MAAMnsB,KAAKxB,MAAMutD,EAAa5/B,MAAO6/B,EAAW7/B,YAE7D0/B,EAAc1/B,MAAMnsB,KAAKxB,MAAMqtD,EAAc1/B,MAAO,CAAC6/B,SAEtD,GAAIA,EACPH,EAAc1/B,MAAMnsB,KAAKxB,MAAMqtD,EAAc1/B,MAAO,CAAC6/B,KAKrE,SAASC,GAAYxuD,EAAQyuD,EAAM1a,EAAMyF,GACrC,IAAImR,EACA3oD,EAAM,EACN0sB,EAEJ,MAAO+/B,EAAKtuD,QAAUq5C,EAAM,CACxBmR,EAAQ8D,EAAKzsD,GACb0sB,EAAQi8B,EAAMj8B,MAEd,IAAIvuB,EAASuuB,EAAMvuB,OAEnB,GAAIH,GAAUA,EAAOkhB,QAAUypC,EAAMzpC,OAASlhB,EAAO2H,QAAUgjD,EAAMhjD,MAAO,CACxE,GAAI3H,EAAO+qD,cAAgB/qD,EAAO0uB,MAAMvuB,OACpCquD,GAAYxuD,EAAO0uB,MAAM1uB,EAAO0uB,MAAMvuB,OAAS,GAAIwqD,EAAMj8B,MAAOqlB,EAAMyF,OACnE,CACH9qB,EAAQA,EAAMlvB,MAAMu0C,EAAMA,EAAOyF,GACjCx5C,EAAO0uB,MAAQ1uB,EAAO0uB,MAAM/Z,OAAO+Z,GAEvC+/B,EAAK3rD,OAAOd,IAAO,QAChB,GAAI2oD,EAAMI,cAAgBr8B,EAAMvuB,OAAQ,CAC3CquD,GAAY7D,EAAOj8B,EAAOqlB,EAAMyF,GAChC,IAAKmR,EAAMj8B,MAAMvuB,OACbsuD,EAAK3rD,OAAOd,IAAO,OAEpB,CACH0sB,EAAQA,EAAMlvB,MAAMu0C,EAAMA,EAAOyF,GACjCmR,EAAMj8B,MAAQA,EAEd,IAAKi8B,EAAMj8B,MAAMvuB,OACbsuD,EAAK3rD,OAAOd,IAAO,GAI3B,GAAI0sB,EAAMvuB,SAAW,EACjB4zC,GAAQ5zC,MACL,CACH4zC,EAAO,EACPyF,GAAQ9qB,EAAMvuB,OAGlB,KAAM6B,GAAOysD,EAAKtuD,OACd,MAIR,GAAI6B,EAAMysD,EAAKtuD,OACXsuD,EAAK3rD,OAAOd,EAAKysD,EAAKtuD,OAAS6B,GAIvC,SAASkqD,GAAWhoB,EAAQwqB,GACxB,IAAI9kD,EAAS,GACb,IAAI+kD,GAAgBzqB,GAAU,IAAI/jC,OAClC,IAAIwqD,EACJ,IAAIj8B,EACJ,IAAIkgC,EAAUttD,EAAWotD,GAAiBA,EAAgB,SAAS98C,EAAOpC,GACtE,OAAOoC,EAAMpC,IAGjB,IAAK,IAAIq/C,EAAa,EAAGA,EAAaF,EAAcE,IAAc,CAC9DlE,EAAQiE,EAAQ1qB,EAAQ2qB,GAExB,GAAIlE,EAAMI,aACNnhD,EAASA,EAAO+K,OAAOu3C,GAAWvB,EAAMj8B,YACrC,CACHA,EAAQi8B,EAAMj8B,MAEd,IAAK,IAAIogC,EAAY,EAAGA,EAAYpgC,EAAMvuB,OAAQ2uD,IAC9CllD,EAAOrH,KAAKqsD,EAAQlgC,EAAOogC,KAIvC,OAAOllD,EAGX,SAASmlD,GAAczqD,GACnB,IAAItC,EACA4H,EAAS,GACTzJ,EACAuuB,EACAogC,EAEJ,IAAK9sD,EAAM,EAAG7B,EAASmE,EAAKnE,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACrD,IAAI2oD,EAAQrmD,EAAK28C,GAAGj/C,GACpB,GAAI2oD,EAAMj8B,MACN,GAAIi8B,EAAMI,aACNnhD,EAASA,EAAO+K,OAAOo6C,GAAcpE,EAAMj8B,YACxC,CACHA,EAAQi8B,EAAMj8B,MACd,IAAKogC,EAAY,EAAGA,EAAYpgC,EAAMvuB,OAAQ2uD,IAC1CllD,EAAOrH,KAAKmsB,EAAMuyB,GAAG6N,KAKrC,OAAOllD,EAGX,SAASolD,GAAe1qD,EAAM45C,GAC1B,IAAIl8C,EAAK7B,EAAQwqD,EACjB,GAAIzM,EACA,IAAKl8C,EAAM,EAAG7B,EAASmE,EAAKnE,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACrD2oD,EAAQrmD,EAAK28C,GAAGj/C,GAChB,GAAI2oD,EAAMj8B,MACN,GAAIi8B,EAAMI,aACNiE,GAAerE,EAAMj8B,MAAOwvB,QAE5ByM,EAAMj8B,MAAQ,IAAIrX,EAAoBszC,EAAMj8B,MAAOwvB,EAAOyM,EAAMj8B,MAAM/sB,UAO1F,SAASstD,GAAe3qD,EAAM4qD,GAC1B,IAAK,IAAIltD,EAAM,EAAGA,EAAMsC,EAAKnE,OAAQ6B,IACjC,GAAIsC,EAAKtC,GAAK+oD,cACV,GAAIkE,GAAe3qD,EAAKtC,GAAK0sB,MAAOwgC,GAChC,OAAO,UAER,GAAIA,EAAK5qD,EAAKtC,GAAK0sB,MAAOpqB,EAAKtC,IAClC,OAAO,KAKnB,SAASmtD,GAAgBC,EAAQ9qD,EAAMglC,EAAMR,GACzC,IAAK,IAAI9mC,EAAM,EAAGA,EAAMotD,EAAOjvD,OAAQ6B,IAAO,CAC1C,GAAIotD,EAAOptD,GAAKsC,OAASA,EACrB,MAEJ,GAAI+qD,GAAeD,EAAOptD,GAAKsC,KAAMglC,EAAMR,GACvC,OAKZ,SAASumB,GAAe3gC,EAAO4a,EAAMR,GACjC,IAAK,IAAI9mC,EAAM,EAAG7B,EAASuuB,EAAMvuB,OAAQ6B,EAAM7B,EAAQ6B,IACnD,GAAI0sB,EAAM1sB,IAAQ0sB,EAAM1sB,GAAK+oD,aACzB,OAAOsE,GAAe3gC,EAAM1sB,GAAK0sB,MAAO4a,EAAMR,QAC3C,GAAIpa,EAAM1sB,KAASsnC,GAAQ5a,EAAM1sB,KAAS8mC,EAAY,CAC1Dpa,EAAM1sB,GAAO8mC,EACb,OAAO,MAKlB,SAASwmB,GAAsBv9B,EAAMztB,EAAM8qD,EAAQxnD,EAAM2nD,GACrD,IAAK,IAAIC,EAAY,EAAGrvD,EAAS4xB,EAAK5xB,OAAQqvD,EAAYrvD,EAAQqvD,IAAa,CAC3E,IAAIlmB,EAAOvX,EAAKy9B,GAEhB,IAAKlmB,GAAQA,aAAgB1hC,EACzB,SAGJ,GAAI0hC,EAAKyhB,eAAiBrtD,IAAc6xD,EACpCD,GAAsBhmB,EAAK5a,MAAOpqB,EAAM8qD,EAAQxnD,EAAM2nD,QAEtD,IAAK,IAAIvtD,EAAM,EAAGA,EAAMsC,EAAKnE,OAAQ6B,IACjC,GAAIsC,EAAKtC,KAASsnC,EAAM,CACpBvX,EAAKy9B,GAAalrD,EAAK28C,GAAGj/C,GAC1BmtD,GAAgBC,EAAQ9qD,EAAMglC,EAAMvX,EAAKy9B,IACzC,QAOpB,SAASC,GAAYnrD,EAAM45C,GACvB,IAAK55C,EACD,OAEJ,IAAInE,EAASmE,EAAKnE,OAClB,IAAIwuB,EACJ,IAAI3sB,EAEJ,IAAKA,EAAM,EAAGA,EAAM7B,EAAQ6B,IAAO,CAC/B2sB,EAAWrqB,EAAKtC,GAEhB,GAAI2sB,EAASi0B,KAAOj0B,EAASi0B,KAAO1E,EAAM0E,IAAK,CAC3Ct+C,EAAKxB,OAAOd,EAAK,GACjB,OAAO2sB,IAKnB,SAAS+gC,GAAqBprD,EAAM45C,GAChC,GAAIA,EACA,OAAOhxC,GAAQ5I,EAAM,SAASglC,GAC1B,OAAQA,EAAKsZ,KAAOtZ,EAAKsZ,KAAO1E,EAAM0E,KAAStZ,EAAK4U,EAAMM,WAAaN,EAAMrhD,IAAMqhD,EAAMrhD,KAAOqhD,EAAM6F,aAG9G,OAAQ,EAGZ,SAAS4L,GAAarrD,EAAM45C,GACxB,GAAIA,EACA,OAAOhxC,GAAQ5I,EAAM,SAASglC,GAC1B,OAAOA,EAAKsZ,KAAO1E,EAAM0E,MAGjC,OAAQ,EAGZ,SAAS11C,GAAQ5I,EAAMkmD,GACnB,IAAIxoD,EAAK7B,EACT,IAAKmE,EACD,OAGJ,IAAKtC,EAAM,EAAG7B,EAASmE,EAAKnE,OAAQ6B,EAAM7B,EAAQ6B,IAC9C,GAAIwoD,EAASlmD,EAAKtC,IACd,OAAOA,EAIf,OAAQ,EAGZ,SAAS4tD,GAAmBrR,EAAQzhD,GAChC,GAAIyhD,IAAWtuB,EAAcsuB,GAAS,CAClC,IAAI0H,EAAa1H,EAAOzhD,GACxB,IAAI8mD,EACJ,GAAItjD,EAAc2lD,GACdrC,EAAYqC,EAAWltB,MAAQktB,EAAW/kC,OAASpkB,OAEnD8mD,EAAYrF,EAAOzhD,IAASA,EAGhC,GAAIwE,EAAWsiD,GACX,OAAO9mD,EAGX,OAAO8mD,EAEX,OAAO9mD,EAGX,SAAS+yD,GAA8B5J,EAAY/H,GAC/C,IAAIl8C,EACA7B,EACAH,EAAS,GAEb,IAAK,IAAIkhB,KAAS+kC,EACd,GAAI/kC,IAAU,UACVlhB,EAAOkhB,GAAS+kC,EAAW/kC,GAInC,GAAI+kC,EAAWjM,QAAS,CACpBh6C,EAAOg6C,QAAU,GACjB,IAAKh4C,EAAM,EAAG7B,EAAS8lD,EAAWjM,QAAQ75C,OAAQ6B,EAAM7B,EAAQ6B,IAC5DhC,EAAOg6C,QAAQh4C,GAAO6tD,GAA8B5J,EAAWjM,QAAQh4C,GAAMk8C,QAGjFl+C,EAAOkhB,MAAQ0uC,GAAmB1R,EAAMK,OAAQv+C,EAAOkhB,OAE3D,OAAOlhB,EAGX,SAAS8vD,GAAwB5J,EAAahI,GAC1C,IAAIl8C,EACA7B,EACAyJ,EAAS,GACT5J,EACAimD,EAEJ,IAAKjkD,EAAM,EAAG7B,EAAS+lD,EAAY/lD,OAAQ6B,EAAM7B,EAAQ6B,IAAQ,CAC7DhC,EAAS,GAETimD,EAAaC,EAAYlkD,GAEzB,IAAK,IAAIkf,KAAS+kC,EACdjmD,EAAOkhB,GAAS+kC,EAAW/kC,GAG/BlhB,EAAOkhB,MAAQ0uC,GAAmB1R,EAAMK,OAAQv+C,EAAOkhB,OAEvD,GAAIlhB,EAAOupD,YAAcxrD,EAAQiC,EAAOupD,YACpCvpD,EAAOupD,WAAauG,GAAwB9vD,EAAOupD,WAAYrL,GAEnEt0C,EAAOrH,KAAKvC,GAEhB,OAAO4J,EAGX,IAAI0N,GAAa5V,EAAW7D,OAAO,CAC/BiD,KAAM,SAAShB,GACX,IAAIc,EAAOP,KAAM69C,EAAO55C,EAExB,GAAIxE,EACAwE,EAAOxE,EAAQwE,KAGnBxE,EAAUc,EAAKd,QAAUjC,EAAO,GAAI+C,EAAKd,QAASA,GAElDc,EAAKmvD,KAAO,GACZnvD,EAAKovD,UAAY,GACjBpvD,EAAKqvD,MAAQ,GACbrvD,EAAKsvD,cAAgB,GACrBtvD,EAAKuvD,QAAU,GACfvvD,EAAKwvD,MAAQ,GACbxvD,EAAKyvD,eAAiB,EACtBzvD,EAAK20C,WAAa,GAClB30C,EAAK0vD,UAAYxwD,EAAQi5C,SACzBn4C,EAAK2vD,MAAQzwD,EAAQk5C,OAAUl5C,EAAQi5C,SAAW,EAAIr7C,GACtDkD,EAAK4vD,MAAQxK,GAAclmD,EAAQqhB,MACnCvgB,EAAK6vD,YAActK,GAAWrmD,EAAQqhB,MACtCvgB,EAAK8vD,QAAUjI,GAAgB3oD,EAAQwwB,QACvC1vB,EAAK+vD,OAAStH,GAAevpD,EAAQ6qD,OACrC/pD,EAAKgwD,WAAa9wD,EAAQmqD,UAC1BrpD,EAAKiwD,OAAS/wD,EAAQq9C,MACtBv8C,EAAKkwD,aAAehxD,EAAQ+qD,YAE5B,GAAIjqD,EAAKkwD,aACLlwD,EAAKmwD,aAAe,GAExBnwD,EAAKowD,+BAAiC,KAEtCtvD,EAAWV,GAAGF,KAAK+B,KAAKjC,GAExBA,EAAK45C,UAAYyW,GAAU1T,OAAOz9C,EAASwE,EAAM1D,GAEjD,GAAIU,EAAWV,EAAK45C,UAAUj4C,MAC1B3B,EAAK45C,UAAUj4C,KAAK,CAChB2uD,WAAYtwD,EAAKuwD,YAAYvvD,KAAKhB,GAClCwwD,WAAYxwD,EAAKywD,YAAYzvD,KAAKhB,GAClC0wD,YAAa1wD,EAAK2wD,aAAa3vD,KAAKhB,KAI5C,GAAId,EAAQ0xD,gBAAkB,KAC1B,UAAW1xD,EAAQ0xD,gBAAkB,SAAU,CAC3C,IAAInqD,EAAMvH,EAAQ0xD,eAElB5wD,EAAK6wD,SAAW,CACZC,QAAS,WACL,OAAOrzD,KAAK0+C,MAAM4U,aAAaD,QAAQrqD,KAE3CuqD,QAAS,SAAStoB,GACdqoB,aAAaC,QAAQvqD,EAAKS,EAAUlH,EAAKixD,OAAOzT,UAAU9U,YAIlE1oC,EAAK6wD,SAAW3xD,EAAQ0xD,eAIhC5wD,EAAKixD,OAAS,IAAIl0D,EAAM2G,KAAKo7C,QAAQ5/C,EAAQ6tD,OAAO/lD,MAAQ,QAAS9H,EAAQ6tD,QAE7EzP,EAAQt9C,EAAKixD,OAAO3T,OAAS,GAE7Bt9C,EAAKkxD,2BAELlxD,EAAKqvD,MAAQrvD,EAAKmxD,SAASnxD,EAAKqvD,OAChCrvD,EAAKoxD,QAAU,KAEfpxD,EAAKgB,KAAK,CAAC,OAAQu+C,EAAO7V,EAAQ8V,EAAcH,EAAMK,EAAYD,GAAWvgD,IAGjFA,QAAS,CACLwE,KAAM,KACNqpD,OAAQ,CACLtP,UAAWC,IAEdkT,eAAgB,KAChBS,cAAe,MACfC,aAAc,MACdC,gBAAiB,MACjB5C,eAAgB,MAChB6C,iBAAkB,MAClBxW,MAAO,MACPyW,YAAa,OAGjBtyD,MAAO,WACH,OAAOM,MAGXiyD,OAAQ,SAAS3qD,GACb,GAAIA,IAAUjK,EAAW,CACrB,GAAI2C,KAAK2xD,SAAWrqD,EAAO,CACvBtH,KAAK2xD,QAAUrqD,EAEf,GAAIA,EACA,OAAOtH,KAAKkyD,OAIpB,OAAOh1D,EAAEupC,WAAW0rB,UAAUvuC,eAE9B,OAAO5jB,KAAK2xD,SAIpBS,YAAa,SAAS3I,GAClB,GAAIzpD,KAAKP,QAAQ0xD,gBAAkB,KAC/B,OAAO,KAGX,GAAI1H,IAAUpsD,EACV,OAAO2C,KAAKoxD,SAASG,QAAQ9H,GAGjC,OAAOzpD,KAAKoxD,SAASC,WAAa,IAGtCgB,iBAAkB,WACd,IAAI/H,EAAQtqD,KAAKsqD,SAAW,GAE5B,OAAOtqD,KAAKP,QAAQyvD,gBAAkB5E,EAAMxqD,QAGhDwyD,oBAAqB,WACjB,OAAOtyD,KAAKqyD,oBAAsBryD,KAAKywD,cAG3C8B,cAAe,WACX,IAAIjI,EAAQtqD,KAAKswD,QAAU,GAE3B,OAAOtwD,KAAKywD,cAAgBnG,EAAMxqD,QAGtCgxD,YAAa,SAASvnD,GAClBvJ,KAAKwyD,MAAMjpD,EAAQ,eAGvBynD,YAAa,SAASznD,GAClBvJ,KAAKwyD,MAAMjpD,EAAQ,eAGvB2nD,aAAc,SAAS3nD,GACnBvJ,KAAKwyD,MAAMjpD,EAAQ,gBAGvBipD,MAAO,SAASjpD,EAAQ8iD,GACpB,IAAIpoD,EAAOjE,KAAKyyD,UAAUlpD,GAE1B,IAAKtF,EACDA,EAAOsF,EAGXvJ,KAAKqsD,GAAWpoD,IAGpByuD,UAAW,SAASzuD,EAAMyvC,GACtB,GAAIzvC,EAAM,CACN,GAAIjE,KAAKqyD,mBACL,OAAO3D,GAAczqD,GAGzB,IAAKyvC,EACD,IAAK,IAAI/xC,EAAM,EAAGA,EAAMsC,EAAKnE,OAAQ6B,IACjCsC,EAAK28C,GAAGj/C,GAKpB,OAAOsC,GAGXsR,OAAQ3X,EAER0rB,IAAK,SAAS9sB,GACV,IAAImF,EAAK7B,EAAQmE,EAAOjE,KAAK0yD,UAAU1yD,KAAK4vD,MAAO5vD,KAAKP,QAAQkzD,WAEhE,IAAKhxD,EAAM,EAAG7B,EAASmE,EAAKnE,OAAQ6B,EAAM7B,EAAQ6B,IAC9C,GAAIsC,EAAKtC,GAAKnF,IAAMA,EAChB,OAAOyH,EAAKtC,IAKxBixD,SAAU,SAASp2D,GACf,OAAOwD,KAAK6yD,UAAUr2D,EAAIwD,KAAK4vD,QAGnCiD,UAAW,SAASr2D,EAAIwxB,GACpB,IAAIrsB,EAAK7B,EAAQmE,EAAOjE,KAAK0yD,UAAU1kC,EAAWhuB,KAAKP,QAAQkzD,WAE/D,IAAK1uD,EACD,OAGJ,IAAKtC,EAAM,EAAG7B,EAASmE,EAAKnE,OAAQ6B,EAAM7B,EAAQ6B,IAC9C,GAAIsC,EAAKtC,GAAK4gD,KAAO/lD,EACjB,OAAOyH,EAAKtC,IAKxBkL,QAAS,SAASgxC,GACd,OAAOyR,GAAatvD,KAAK4vD,MAAO/R,IAGpC+C,GAAI,SAASzxC,GACT,OAAOnP,KAAK4vD,MAAMhP,GAAGzxC,IAGzBlL,KAAM,SAASqD,GACX,IAAI/G,EAAOP,KACX,GAAIsH,IAAUjK,EAAW,CACrBkD,EAAKkxD,2BACLlxD,EAAKqvD,MAAQ5vD,KAAK0xD,SAASpqD,GAE3B/G,EAAKsvD,cAAgBvoD,EAAMnI,MAAM,GAEjCoB,EAAKuyD,aAELvyD,EAAKuvD,QAAU,GACfvvD,EAAK8B,QAAQ,SACb9B,EAAKwyD,UAAUxyD,EAAKqvD,OAEpBrvD,EAAKiwD,OAASjwD,EAAKqvD,MAAM9vD,OACzBS,EAAKyvD,eAAiBzvD,EAAKiwD,OAE3BjwD,EAAKyyD,SAASzyD,EAAKqvD,WAChB,CACH,GAAIrvD,EAAKqvD,MACL,IAAK,IAAIjuD,EAAM,EAAGA,EAAMpB,EAAKqvD,MAAM9vD,OAAQ6B,IACvCpB,EAAKqvD,MAAMhP,GAAGj/C,GAItB,OAAOpB,EAAKqvD,QAIpBl+B,KAAM,SAASpqB,GACX,GAAIA,IAAUjK,EACV,OAAO2C,KAAK+vD,WAEZ/vD,KAAK+vD,MAAQ/vD,KAAKizD,aAAa3rD,IAIvC2rD,aAAc,SAAShvD,GACnB,IAAI1D,EAAOP,KACXivD,GAAsBhrD,EAAM1D,EAAKqvD,MAAOrvD,EAAKuvD,QAASvvD,EAAKixD,OAAO3T,OAAS2C,EAAkBjgD,EAAK8xD,oBAElG,IAAI3gC,EAAO,IAAI1a,EAAoB/S,EAAM1D,EAAKixD,OAAO3T,OACrDnsB,EAAKnc,OAAS,WAAa,OAAOhV,EAAKgV,UACvC,OAAOmc,GAGXzD,SAAU,WACN,IAAI4V,EAAS7jC,KAAKsqD,SAAW,GAE7B,GAAIzmB,EAAO/jC,OACP,OAAO4uD,GAAc1uD,KAAK+vD,YAE1B,OAAO/vD,KAAK+vD,OAIpBhsC,IAAK,SAAS85B,GACV,OAAO79C,KAAKkzD,OAAOlzD,KAAK4vD,MAAM9vD,OAAQ+9C,IAG1CsV,gBAAiB,SAAStV,GACtB,GAAI79C,KAAKwxD,OAAO3T,MACZ,OAAO,IAAI79C,KAAKwxD,OAAO3T,MAAMA,GAGjC,GAAIA,aAAiB2C,EACjB,OAAO3C,EAGX,OAAO,IAAI2C,EAAiB3C,IAGhCqV,OAAQ,SAAS/jD,EAAO0uC,GACpB,IAAKA,EAAO,CACRA,EAAQ1uC,EACRA,EAAQ,EAGZ,KAAM0uC,aAAiBI,IACnBJ,EAAQ79C,KAAKmzD,gBAAgBtV,GAGjC,GAAI79C,KAAKqyD,mBACLryD,KAAK4vD,MAAMntD,OAAO0M,EAAO,EAAGnP,KAAKozD,kBAAkBvV,SAEnD79C,KAAK4vD,MAAMntD,OAAO0M,EAAO,EAAG0uC,GAGhC79C,KAAKqzD,oBAAoBlkD,EAAO0uC,GAEhC,OAAOA,GAGXyV,WAAY,SAASnkD,EAAOkf,GACxB,IAAI9tB,EAAOP,KACX,IAAIuzD,EAAYhzD,EAAKizD,uBAErB,IAAKnlC,EAAO,CACRA,EAAQlf,EACRA,EAAQ,EAGZ,IAAKzR,EAAQ2wB,GACTA,EAAQ,CAACA,GAGb,IAAIolC,EAAS,GACb,IAAIC,EAAW1zD,KAAKP,QAAQi0D,SAC5B1zD,KAAKP,QAAQi0D,SAAW,MAExB,IACI,IAAK,IAAI/xD,EAAM,EAAGA,EAAM0sB,EAAMvuB,OAAQ6B,IAAQ,CAC1C,IAAIsnC,EAAO5a,EAAM1sB,GAEjB,IAAI4H,EAASvJ,KAAKkzD,OAAO/jD,EAAO85B,GAEhCwqB,EAAOvxD,KAAKqH,GAEZ,IAAIoqD,EAAWpqD,EAAO3D,SAEtB,GAAI5F,KAAKqyD,mBACLsB,EAAW3zD,KAAKozD,kBAAkBO,GAGtC3zD,KAAK6vD,cAAc3tD,KAAKyxD,GAExB,GAAIJ,GAAaA,EAAUzzD,OACvB5C,EAAEq2D,GAAWt5B,OAAO,GAAG25B,aAAa1xD,KAAKyxD,GAG7CxkD,KAEN,QACEnP,KAAKP,QAAQi0D,SAAWA,EAG5B,GAAID,EAAO3zD,OACPE,KAAKqC,QAAQ,OAAQ,CACjBkF,KAAM,SACN8mB,MAAOolC,KAKnB5C,WAAY,SAASxiC,GACjBruB,KAAKszD,WAAWtzD,KAAK4vD,MAAM9vD,OAAQuuB,IAGvC0iC,WAAY,SAAS1iC,GACjB,IAAK3wB,EAAQ2wB,GACTA,EAAQ,CAACA,GAGb,IAAIolC,EAAS,GAEb,IAAK,IAAI9xD,EAAM,EAAGA,EAAM0sB,EAAMvuB,OAAQ6B,IAAQ,CAC1C,IAAIsnC,EAAO5a,EAAM1sB,GACjB,IAAIk8C,EAAQ79C,KAAKmzD,gBAAgBlqB,GAEjC,IAAItpC,EAASK,KAAKspB,IAAIu0B,EAAMrhD,IAE5B,GAAImD,EAAQ,CACR8zD,EAAOvxD,KAAKvC,GAEZA,EAAOikD,OAAO3a,GAEdtpC,EAAO0C,QAAQ4nC,GAEfjqC,KAAK6zD,wBAAwBl0D,EAAQspC,QAErCjpC,KAAK6wD,WAAW5nB,GAIxB,GAAIwqB,EAAO3zD,OACPE,KAAKqC,QAAQ,OAAQ,CACjBkF,KAAM,SACN8mB,MAAOolC,KAKnBxC,YAAa,SAAS5iC,GAClB,IAAIolC,EAASzzD,KAAK8zD,aAAazlC,GAE/B,GAAIolC,EAAO3zD,OACPE,KAAKqC,QAAQ,OAAQ,CACjBkF,KAAM,UACN8mB,MAAOolC,KAKnBK,aAAc,SAASzlC,EAAO0lC,GAC1B,IAAKr2D,EAAQ2wB,GACTA,EAAQ,CAACA,GAGb,IAAI2lC,SAA8BD,IAAmB,YAAcA,EAAiB,KAEpF,IAAInY,EAAY,GAChB,IAAI8X,EAAW1zD,KAAKP,QAAQi0D,SAC5B1zD,KAAKP,QAAQi0D,SAAW,MACxB,IACI,IAAK,IAAI/xD,EAAM,EAAGA,EAAM0sB,EAAMvuB,OAAQ6B,IAAQ,CAC1C,IAAIsnC,EAAO5a,EAAM1sB,GACjB,IAAIk8C,EAAQ79C,KAAKmzD,gBAAgBlqB,GACjC,IAAIgrB,EAAQ,MAEZj0D,KAAKk0D,UAAUl0D,KAAK4vD,MAAO,SAASvhC,GAChC,IAAK,IAAI1sB,EAAM,EAAGA,EAAM0sB,EAAMvuB,OAAQ6B,IAAO,CACzC,IAAIsnC,EAAO5a,EAAMuyB,GAAGj/C,GACpB,GAAIsnC,EAAKzsC,KAAOqhD,EAAMrhD,GAAI,CACtBo/C,EAAU15C,KAAK+mC,GACf5a,EAAM5rB,OAAOd,EAAK,GAClBsyD,EAAQ,KACR,UAKZ,GAAIA,GAASD,EAAsB,CAC/Bh0D,KAAKm0D,wBAAwBtW,GAC7B79C,KAAKk1C,WAAW7e,QAG1B,QACEr2B,KAAKP,QAAQi0D,SAAWA,EAG5B,OAAO9X,GAGXwY,SAAU,SAASjlD,EAAOkf,GACtB,IAAIolC,EAASzzD,KAAKq0D,WAAWllD,EAAOkf,GAEpC,GAAIolC,EAAO3zD,OACPE,KAAKqC,QAAQ,OAAQ,CACjBkF,KAAM,SACN8mB,MAAOolC,KAKnBY,WAAY,SAAUllD,EAAOkf,GACzB,IAAK3wB,EAAQ2wB,GACTA,EAAQ,CAACA,GAGb,IAAIimC,EAAQ,GACZ,IAAIZ,EAAW1zD,KAAKP,QAAQi0D,SAC5B1zD,KAAKP,QAAQi0D,SAAW,MAExB,IACI,IAAK,IAAI7zD,EAAI,EAAGA,EAAIwuB,EAAMvuB,OAAQD,IAAM,CACpC,IAAIopC,EAAO5a,EAAMxuB,GACjB,IAAIg+C,EAAQ79C,KAAKmzD,gBAAgBlqB,GAEjCjpC,KAAKk0D,UAAUl0D,KAAK4vD,MAAO,SAAS5hC,GAChC,IAAK,IAAIrsB,EAAM,EAAGA,EAAMqsB,EAAUluB,OAAQ6B,IAAO,CAC7C,IAAI2sB,EAAWN,EAAU4yB,GAAGj/C,GAC5B,GAAI2sB,EAAS9xB,KAAOqhD,EAAMrhD,GAAI,CAC1B83D,EAAMpyD,KAAKosB,GACXN,EAAUvrB,OAAO0M,GAASxN,IAAQwN,EAAQA,EAAO,EAAG6e,EAAUvrB,OAAOd,EAAK,GAAG,IAC7EwN,IACA,WAKlB,QACEnP,KAAKP,QAAQi0D,SAAWA,EAG5B,OAAOY,GAGXvjC,OAAQ,SAAS8sB,GACb,IAAIt0C,EACAhJ,EAAOP,KACPu0D,EAAYh0D,EAAK8xD,mBAErB,GAAIkC,GAAa1W,EAAM0E,OAAS1E,EAAMgG,QAAUhG,EAAMgG,SAClDtjD,EAAK20C,WAAWhzC,KAAK27C,GAGzB79C,KAAKk0D,UAAU3zD,EAAKqvD,MAAO,SAASvhC,GAChC9kB,EAAS6lD,GAAY/gC,EAAOwvB,GAE5B,GAAIt0C,GAAUgrD,EACV,OAAO,OAIfv0D,KAAKw0D,uBAAuB3W,GAE5B,OAAOA,GAGXjC,UAAW,WACP,OAAO57C,KAAKk1C,YAGhB2G,QAAS,WACL,IAAIl6C,EACA7B,EACAyJ,EAAS,GACTtF,EAAOjE,KAAK0yD,UAAU1yD,KAAK4vD,MAAO5vD,KAAKP,QAAQkzD,WAEnD,IAAKhxD,EAAM,EAAG7B,EAASmE,EAAKnE,OAAQ6B,EAAM7B,EAAQ6B,IAC9C,GAAIsC,EAAKtC,GAAKkiD,OAAS5/C,EAAKtC,GAAKkiD,QAC7Bt6C,EAAOrH,KAAK+B,EAAKtC,IAGzB,OAAO4H,GAGXoyC,QAAS,WACL,IAAIh6C,EACA7B,EACAyJ,EAAS,GACTtF,EAAOjE,KAAK0yD,UAAU1yD,KAAK4vD,MAAO5vD,KAAKP,QAAQkzD,WAEnD,IAAKhxD,EAAM,EAAG7B,EAASmE,EAAKnE,OAAQ6B,EAAM7B,EAAQ6B,IAC9C,GAAKsC,EAAKtC,GAAKkiD,QAAU5/C,EAAKtC,GAAKkiD,SAAY5/C,EAAKtC,GAAKinC,MACrDr/B,EAAOrH,KAAK+B,EAAKtC,IAGzB,OAAO4H,GAGX2oD,KAAM,WACF,IAAI3xD,EAAOP,KACP67C,EAAU,GACVF,EAAU,GACVC,EAAYr7C,EAAK20C,WAErB,IAAItxB,EAAU1mB,EAAEupC,WAAW0rB,UAAUvuC,UAErC,GAAIrjB,EAAK0xD,SAAU,CAEf,IAAK1xD,EAAKixD,OAAO3T,MACb,OAAOj6B,EAGXi4B,EAAUt7C,EAAKs7C,UACfF,EAAUp7C,EAAKo7C,UAEf,IAAI8Y,EAAW,GAEf,GAAIl0D,EAAKd,QAAQ87C,OAASh7C,EAAK45C,UAAUhV,OACrCsvB,EAAWl0D,EAAKm0D,YAAY7Y,EAASF,EAASC,OAC3C,CACH6Y,EAASvyD,KAAKxB,MAAM+zD,EAAUl0D,EAAKo0D,MAAM,SAAU9Y,IACnD4Y,EAASvyD,KAAKxB,MAAM+zD,EAAUl0D,EAAKo0D,MAAM,SAAUhZ,IACnD8Y,EAASvyD,KAAKxB,MAAM+zD,EAAUl0D,EAAKo0D,MAAM,UAAW/Y,IAGxDh4B,EAAU1mB,EAAE03D,KACVl0D,MAAM,KAAM+zD,GACZI,KAAK,WACH,IAAIlzD,EAAK7B,EAET,IAAK6B,EAAM,EAAG7B,EAASF,UAAUE,OAAQ6B,EAAM7B,EAAQ6B,IACnD,GAAI/B,UAAU+B,GACVpB,EAAKu0D,QAAQl1D,UAAU+B,IAI/BpB,EAAKuyD,WAAW,MAEhBvyD,EAAKw0D,WAELx0D,EAAKy0D,QAAQ,CAAEjwB,OAAQ,SAEvBxkC,EAAK8B,QAAQu9C,GAEb,GAAIr/C,EAAK+xD,sBACL/xD,EAAK+4C,aAGV,CACH/4C,EAAKuyD,WAAW,MAEhBvyD,EAAKw0D,WAELx0D,EAAKy0D,QAAQ,CAAEjwB,OAAQ,SAG3B,OAAOnhB,GAGXmxC,SAAUn3D,EAEVq3D,cAAe,SAASpX,GACpB,IAAIt9C,EAAOP,KAEX,GAAI69C,aAAiBvgD,EAAM2G,KAAKg6C,MAC5B19C,EAAK20D,aAAarX,OACf,CACHt9C,EAAK20C,WAAa,GAClB30C,EAAKkxD,2BACLlxD,EAAKqvD,MAAQrvD,EAAKmxD,SAASnxD,EAAKsvD,eAChC,GAAItvD,EAAKd,QAAQoyD,aACbtxD,EAAKiwD,OAASjwD,EAAKyvD,eAGvBzvD,EAAKuvD,QAAU,GACfvvD,EAAKwyD,UAAUxyD,EAAKqvD,MAAO,GAE3BrvD,EAAK40D,mBAEL50D,EAAKy0D,UAELz0D,EAAK60D,6BAEL,GAAI70D,EAAK8xD,mBACL9xD,EAAK+4C,SAKjB6b,iBAAkBv3D,EAElBw3D,2BAA4B,WACxB,IAAI70D,EAAOP,KAEX,GAAIO,EAAKd,QAAQ0xD,gBAAkB,KAC/B5wD,EAAK2zD,UAAU3zD,EAAKqvD,MAAO,SAASvhC,GAChC,IAAK,IAAI1sB,EAAM,EAAGA,EAAM0sB,EAAMvuB,OAAQ6B,IAAO,CACzC,IAAIsnC,EAAO5a,EAAMuyB,GAAGj/C,GACpB,GAAIsnC,EAAKosB,WAAa,UAAYpsB,EAAKosB,WAAa,SAChDpsB,EAAKL,MAAQ,SAOjC0sB,WAAY,WACR,IAAI3zD,EACA7B,EACAmE,EAAOjE,KAAK0yD,UAAU1yD,KAAK4vD,MAAO5vD,KAAKP,QAAQkzD,WAEnD,GAAI3yD,KAAKk1C,WAAWp1C,OAChB,OAAO,KAGX,IAAK6B,EAAM,EAAG7B,EAASmE,EAAKnE,OAAQ6B,EAAM7B,EAAQ6B,IAC9C,GAAKsC,EAAKtC,GAAKkiD,OAAS5/C,EAAKtC,GAAKkiD,SAAY5/C,EAAKtC,GAAKinC,MACpD,OAAO,KAIf,OAAO,OAGXksB,QAAS,SAASvrD,GACd,IAAIhJ,EAAOP,KACPw8C,EAASjzC,EAAOizC,OAChBkB,EAAWn0C,EAAOm0C,SAClB/7C,EAAM,EACN4zD,EAAch1D,EAAK8xD,mBACnBsB,EAAWpzD,EAAKsvD,cAChBtoD,EAAOgC,EAAOhC,KACdzH,EAEJS,EAAK8B,QAAQ49C,EAAY,CAAEvC,SAAUA,EAAUn2C,KAAMA,IAErD,GAAIm2C,IAAa9tB,EAAc8tB,GAAW,CACtCA,EAAWn9C,EAAKixD,OAAO9U,MAAMgB,GAE7B,GAAIn9C,EAAKi1D,oBAAoB9X,GACzB,OAGJA,EAAWn9C,EAAKixD,OAAOvtD,KAAKy5C,GAE5B,IAAKhgD,EAAQggD,GACTA,EAAW,CAACA,QAGhBA,EAAWxgD,EAAEgU,IAAIsrC,EAAQ,SAASqB,GAAS,OAAOA,EAAMj4C,WAG5D,GAAI2B,IAAS,UACThH,EAAK20C,WAAa,GAGtB,IAAKvzC,EAAM,EAAG7B,EAAS08C,EAAO18C,OAAQ6B,EAAM7B,EAAQ6B,IAChD,GAAI4F,IAAS,UAAW,CACpBi1C,EAAO76C,GAAKiiD,OAAOlG,EAAS/7C,IAE5B,GAAI4F,IAAS,SACTosD,EAASzxD,KAAKqzD,EAAch1D,EAAK6yD,kBAAkB5W,EAAO76C,GAAKiE,UAAY83C,EAAS/7C,SACjF,GAAI4F,IAAS,SAChBhH,EAAKszD,wBAAwBrX,EAAO76C,GAAM+7C,EAAS/7C,SAGvDpB,EAAK4zD,wBAAwB3X,EAAO76C,KAKhDkyD,wBAAyB,SAAShW,EAAO3uC,GACrClP,KAAKy1D,2BAA2B5X,EAAO,SAAS1uC,EAAOkf,GACnD/wB,EAAM0D,WAAWqtB,EAAMlf,GAAQD,MAIvCumD,2BAA4B,SAAS5X,EAAO13B,GACxCnmB,KAAK01D,kBACD,SAASrnC,GACL,IAAIlf,EAAQkgD,GAAqBhhC,EAAOwvB,GACxC,GAAI1uC,GAAS,EAAG,CACZgX,EAAShX,EAAOkf,GAChB,OAAO,SAKvB8lC,wBAAyB,SAAStW,GAC9B79C,KAAKy1D,2BAA2B5X,EAAO,SAAS1uC,EAAOkf,GACnDA,EAAM5rB,OAAO0M,EAAO,MAI5BsjD,UAAW,SAASxuD,GAChB,IAAIq1C,GAAQt5C,KAAKqyD,mBAAqBryD,KAAKwxD,OAAOvtD,KAAOjE,KAAKwxD,OAAO3tB,OACrE,OAAOyV,EAAK92C,KAAKxC,KAAKwxD,OAAQvtD,IAGlCyxD,kBAAmB,SAASvvC,GACxB,IAAI5lB,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAI8zD,EAAYhzD,EAAKizD,uBAErBjzD,EAAK2zD,UAAU3zD,EAAKsvD,cAAe1pC,GAEnC,GAAI1mB,EAAQoyD,cAAgBpyD,EAAQkzD,UAChCl1D,EAAK81D,EAAW,SAAS1zD,EAAGkqD,GACxBxpD,EAAK2zD,UAAUnK,EAAM6J,aAAcztC,MAKhD+tC,UAAW,SAASjwD,EAAMkiB,GACrB,GAAIliB,GAAQA,EAAKnE,OACb,GAAIE,KAAKqyD,mBACLzD,GAAe3qD,EAAMkiB,QAErBA,EAASliB,IAKrB0xD,kBAAmB,SAAS9X,GACxB,IAAI8V,EACAhyD,EACAwkB,EAAW,SAASkI,GAChB1sB,EAAM0tD,GAAqBhhC,EAAOwvB,GAClC,GAAIl8C,GAAO,EAAG,CACVgyD,EAAWtlC,EAAM1sB,GACjB,OAAO,OAInB3B,KAAK01D,kBAAkBvvC,GAEvB,OAAOwtC,GAGXuB,aAAc,SAASrX,GACnB,IAAIt9C,EAAOP,KACX,IAAI2zD,EAAW3zD,KAAK21D,kBAAkB9X,GAEtC79C,KAAKk0D,UAAUl0D,KAAK4vD,MAAO,SAASvhC,GAChC,IAAI1sB,EAAM2tD,GAAajhC,EAAOwvB,GAC9B,GAAIl8C,GAAO,EACP,GAAIgyD,KAAc9V,EAAMgG,SAAW8P,EAAS0B,WAAY,CACpDhnC,EAAM1sB,GAAKiiD,OAAO+P,GAElB,GAAIA,EAAS0B,WAAa,SACtBhnC,EAAM1sB,GAAKinC,MAAQ,SAGpB,CACHroC,EAAKq1D,eAAe/X,GAEpBxvB,EAAM5rB,OAAOd,EAAK,GAElBpB,EAAKi0D,uBAAuB3W,OAM5C+X,eAAgBh4D,EAEhBi4D,QAAS,SAASpB,EAAUxwD,GACxB,IAAI1D,EAAOP,KAEXO,EAAK8B,QAAQ09C,EAAc,CAAEx4C,KAAM,WAEnChH,EAAK8B,QAAQ29C,GAEbz/C,EAAK45C,UAAUhV,OAAO3nC,EAAO,CACzBigD,QAAS,SAASC,EAAUn2C,GACxB,IAAIqc,EAAU1mB,EAAEu7B,KAAKg8B,EAAU,SAASx2B,GACpC,OAAOA,EAAE12B,MAAQA,IAClB,GAEH,GAAIqc,EACAA,EAAQuuC,QAAQ,CACZzU,SAAUA,EACVlB,OAAQ54B,EAAQ44B,OAChBj1C,KAAMA,KAIlBge,MAAO,SAASm4B,EAAUtB,EAAQ72B,GAC9B,IAAK,IAAI5jB,EAAM,EAAGA,EAAM8yD,EAAS30D,OAAQ6B,IACrC8yD,EAAS9yD,GAAKm0D,OAAOpY,GAGzBn9C,EAAKglB,MAAMm4B,EAAUtB,EAAQ72B,KAElCthB,KAGPywD,YAAa,SAAS7Y,EAASF,EAASC,GACpC,IAAIr7C,EAAOP,KACPy0D,EAAW,GAEf,GAAIl0D,EAAKd,QAAQ87C,MAAO,CACpB,GAAIM,EAAQ/7C,OACR20D,EAASvyD,KAAKhF,EAAEupC,SAAS,SAASD,GAC9BA,EAASj/B,KAAO,SAChBi/B,EAASgW,OAASX,KAI1B,GAAIF,EAAQ77C,OACR20D,EAASvyD,KAAKhF,EAAEupC,SAAS,SAASD,GAC9BA,EAASj/B,KAAO,SAChBi/B,EAASgW,OAASb,KAI1B,GAAIC,EAAU97C,OACV20D,EAASvyD,KAAKhF,EAAEupC,SAAS,SAASD,GAC9BA,EAASj/B,KAAO,UAChBi/B,EAASgW,OAASZ,KAI1Br7C,EAAKs1D,QAAQpB,EAAU,CACnBxwD,KAAM,CACF43C,QAASt7C,EAAKixD,OAAOzT,UAAUn4C,GAAOi2C,IACtCF,QAASp7C,EAAKixD,OAAOzT,UAAUn4C,GAAO+1C,IACtCC,UAAWr7C,EAAKixD,OAAOzT,UAAUn4C,GAAOg2C,OAKpD,OAAO6Y,GAGXsB,SAAU,SAAS9xD,EAAMu4C,EAAQj1C,GAC7B,IAAIhH,EAAOP,KAEX,OAAO9C,EAAEupC,SAAS,SAASD,GACvBjmC,EAAK8B,QAAQ09C,EAAc,CAAEx4C,KAAMA,IAEnChH,EAAK8B,QAAQ29C,GAEbz/C,EAAK45C,UAAU5yC,GAAM/E,KAAKjC,EAAK45C,UAAW38C,EAAO,CAC7CigD,QAAS,SAASC,GACdlX,EAAS2rB,QAAQ,CACbzU,SAAUA,EACVlB,OAAQA,EACRj1C,KAAMA,KAGdge,MAAO,SAASm4B,EAAUtB,EAAQ72B,GAC9BihB,EAASsvB,OAAOpY,GAChBn9C,EAAKglB,MAAMm4B,EAAUtB,EAAQ72B,KAElCthB,MACJ2f,WAGP+wC,MAAO,SAASvjC,EAAQntB,GACpB,IAAI1D,EAAOP,KACP2B,EACA7B,EACA20D,EAAW,GACXuB,EAAYz1D,EAAKixD,OAAOzT,UAAUn4C,GAAO3B,IAE7C,GAAI1D,EAAKd,QAAQ87C,OACb,GAAIt3C,EAAKnE,OACL20D,EAASvyD,KAAK3B,EAAKw1D,SAAU,CAAE9xD,KAAM,CAAEu4C,OAAQwZ,IAAe/xD,EAAOmtB,SAGzE,IAAKzvB,EAAM,EAAG7B,EAASmE,EAAKnE,OAAQ6B,EAAM7B,EAAQ6B,IAC9C8yD,EAASvyD,KAAK3B,EAAKw1D,SAAU,CAAE9xD,KAAM+xD,EAAUr0D,IAAQ,CAAEsC,EAAKtC,IAAQyvB,IAI9E,OAAOqjC,GAGXnb,KAAM,SAASr1C,GACX,IAAI1D,EAAOP,KAAM89B,EAASv9B,EAAK01D,QAAQhyD,GACvC,IAAIuiC,EAAWtpC,EAAEupC,WAEjBlmC,EAAK21D,cAAcp4B,EAAQ,WACvB,IAAIq4B,EAAc51D,EAAK8B,QAAQ09C,EAAc,CAAEx4C,KAAM,SACrD,IAAK4uD,EAAa,CACd51D,EAAK8B,QAAQ29C,GAEbz/C,EAAKuvD,QAAU,GACfvvD,EAAK8B,QAAQ,SACb,GAAI9B,EAAK0xD,SACL1xD,EAAK45C,UAAUb,KAAK,CAChBr1C,KAAM65B,EACN2f,QAAS,SAASx5C,GACd1D,EAAKuvD,QAAU,GACfvvD,EAAKk9C,QAAQx5C,EAAM65B,GAEnB0I,EAAS2rB,WAEb5sC,MAAO,WACH,IAAI4L,EAAOhyB,EAAMqD,KAAK5C,WAEtBW,EAAKglB,MAAM7kB,MAAMH,EAAM4wB,GAEvBqV,EAASsvB,OAAOp1D,MAAM8lC,EAAUrV,WAGrC,GAAI5wB,EAAKd,QAAQ0xD,gBAAkB,KAAK,CAC3C5wD,EAAKk9C,QAAQl9C,EAAK6xD,cAAet0B,GAEjC0I,EAAS2rB,eAEV,CACH5xD,EAAK61D,kBAEL5vB,EAAS2rB,QAAQgE,MAIzB,OAAO3vB,EAAS5iB,WAGpByyC,gBAAiB,SAASpyD,GACtB,OAAOjE,KAAKwxD,OAAOtI,WAAWjlD,IAGlCw5C,QAAS,SAASx5C,GACd,IAAI1D,EAAOP,KACPP,EAAUc,EAAKd,QACf4uB,EACAioC,EAEJ/1D,EAAK8B,QAAQ49C,EAAY,CAAEvC,SAAUz5C,EAAMsD,KAAM,SAEjD,GAAIhH,EAAK0xD,SAAU,CACfhuD,EAAO1D,EAAKixD,OAAO9U,MAAMz4C,GAEzB,GAAI1D,EAAKi1D,oBAAoBvxD,GAAO,CAChC1D,EAAK61D,kBACL,OAGJ71D,EAAKiwD,OAASjwD,EAAKixD,OAAO1U,MAAM74C,GAEhC,GAAI1D,EAAK+xD,sBACL/xD,EAAKg2D,mBAAqBh2D,EAAKiwD,OAGnC,GAAIjwD,EAAK0vD,UAAY1vD,EAAKiwD,OAAQ,CAC9BjwD,EAAK0vD,UAAY1vD,EAAKiwD,OACtB,GAAIjwD,EAAKd,QAAQi5C,UAAYn4C,EAAKd,QAAQi5C,SAAWn4C,EAAK0vD,UACtD1vD,EAAK0vD,UAAY1vD,EAAKd,QAAQi5C,SAItC,GAAIn4C,EAAKgwD,YAAc9wD,EAAQsyD,iBAC3BxxD,EAAKi2D,iBAAmBj2D,EAAK81D,gBAAgBpyD,GAGjDA,EAAO1D,EAAKkyD,UAAUxuD,GAEtB1D,EAAK20C,WAAa,OACf,CACHjxC,EAAO1D,EAAKkyD,UAAUxuD,GAEtBoqB,EAAQ,GACR,IAAIooC,EAAU,GACd,IAAI5Y,EAAQt9C,EAAKixD,OAAO3T,MACxB,IAAIM,EAAUN,EAAQA,EAAMM,QAAU,KACtC,IAAIx8C,EAEJ,IAAKA,EAAM,EAAGA,EAAM3B,KAAKk1C,WAAWp1C,OAAQ6B,IAAO,CAC/C,IAAInF,EAAKwD,KAAKk1C,WAAWvzC,GAAKw8C,GAC9BsY,EAAQj6D,GAAMA,EAGlB,IAAKmF,EAAM,EAAGA,EAAMsC,EAAKnE,OAAQ6B,IAAO,CACpC,IAAIsnC,EAAOhlC,EAAKtC,GAChB,IAAI8nD,EAAQxgB,EAAKosB,UACjB,GAAI5L,GAAS,WACT,IAAKgN,EAAQxtB,EAAKkV,IACdn+C,KAAKk1C,WAAWhzC,KAAKlC,KAAKmzD,gBAAgBlqB,SAG9C5a,EAAMnsB,KAAK+mC,GAInBhlC,EAAOoqB,EAEP9tB,EAAKiwD,OAASvsD,EAAKnE,OAGvBS,EAAKyvD,eAAiBzvD,EAAKiwD,OAC3B8F,EAAgB/1D,EAAKm2D,OAASn2D,EAAKqvD,MAAM9vD,QAAUS,EAAKm2D,MAAQn2D,EAAKqvD,MAAM9vD,OAE3E,GAAIS,EAAKd,QAAQk3D,QAAS,CACtB,GAAIL,EACA/1D,EAAKsvD,cAAcptD,OAAOlC,EAAKm2D,MAAOn2D,EAAKsvD,cAAc/vD,QAE7DuuB,EAAQpqB,EAAK9E,MAAM,GACnB,IAAK,IAAIqmC,EAAI,EAAGA,EAAInX,EAAMvuB,OAAQ0lC,IAC9BjlC,EAAKsvD,cAAc3tD,KAAKmsB,EAAMmX,SAGlCjlC,EAAKsvD,cAAgB5rD,EAAK9E,MAAM,GAGpCoB,EAAKkxD,2BAEL,GAAIlxD,EAAKd,QAAQk3D,QAAS,CACtBp2D,EAAKqvD,MAAM3tD,OAAOgoC,EAAQ1pC,EAAKq2D,gBAE/B,GAAIr2D,EAAK8xD,oBAAsB9xD,EAAKqvD,MAAMrvD,EAAKqvD,MAAM9vD,OAAS,GAAGwH,QAAUrD,EAAK,GAAGqD,MAAO,CACtFwmD,GAAcvtD,EAAKqvD,MAAMrvD,EAAKqvD,MAAM9vD,OAAS,GAAImE,EAAK,IACtDA,EAAK0K,QAGT1K,EAAO1D,EAAKmxD,SAASztD,GACrB,GAAIqyD,EACA/1D,EAAKqvD,MAAMntD,OAAOlC,EAAKm2D,MAAOn2D,EAAKqvD,MAAM9vD,QAE7C,IAAK,IAAID,EAAI,EAAGA,EAAIoE,EAAKnE,OAAQD,IAC7BU,EAAKqvD,MAAM1tD,KAAK+B,EAAKpE,IAEzBU,EAAKqvD,MAAMruD,KAAK0oC,EAAQ1pC,EAAKq2D,qBAE7Br2D,EAAKqvD,MAAQrvD,EAAKmxD,SAASztD,GAG/B1D,EAAK60D,6BAEL70D,EAAKuyD,aAELvyD,EAAKwyD,UAAUxyD,EAAKqvD,OAEpBrvD,EAAKyyD,SAASzyD,EAAKqvD,OAEnBrvD,EAAK61D,mBAGT3E,yBAA0B,WACtB,GAAIzxD,KAAK4vD,OAAS5vD,KAAK2wD,+BACnB,IAAK,IAAIhvD,EAAM,EAAGA,EAAM3B,KAAK4vD,MAAM9vD,OAAQ6B,IACvC,GAAI3B,KAAK4vD,MAAMjuD,GAAK4T,OAChBvV,KAAK4vD,MAAMjuD,GAAK4T,OAAS3X,GAMzCk1D,WAAY,SAAS+D,GACjB,IAAI3H,EAAiBlvD,KAAKqyD,mBAC1B,IAAIxU,EAAQ79C,KAAKwxD,OAAO3T,MAExB,SAASxvB,EAAMpqB,GACX,IAAIwlD,EAAQ,GAEZ,IAAK,IAAI9nD,EAAM,EAAGA,EAAMsC,EAAKnE,OAAQ6B,IAAO,CACxC,IAAI2sB,EAAWrqB,EAAK28C,GAAGj/C,GACvB,IAAIsnC,EAAO3a,EAAS1oB,SAEpB,GAAIspD,GAAkB5gC,EAASD,MAC3B4a,EAAK5a,MAAQA,EAAMC,EAASD,WACzB,CACH4a,EAAKsZ,IAAMj0B,EAASi0B,IAEpB,GAAI1E,EACA,GAAIvvB,EAASu1B,QACT5a,EAAKosB,UAAY,cACd,GAAI/mC,EAASsa,MAChBK,EAAKosB,UAAY,SAI7B5L,EAAMvnD,KAAK+mC,GAGf,OAAOwgB,EAGX,GAAIzpD,KAAKP,QAAQ0xD,gBAAkB,KAAM,CACrC,IAAI1H,EAAQp7B,EAAMruB,KAAK4vD,OAEvB,IAAIhU,EAAY,GAEhB,IAAK,IAAIj6C,EAAM,EAAGA,EAAM3B,KAAKk1C,WAAWp1C,OAAQ6B,IAAO,CACnD,IAAIsnC,EAAOjpC,KAAKk1C,WAAWvzC,GAAKiE,SAChCqjC,EAAKosB,UAAY,UACjBzZ,EAAU15C,KAAK+mC,GAGnBjpC,KAAKoyD,YAAY3I,EAAMn1C,OAAOsnC,IAE9B,GAAIib,EACA72D,KAAK6vD,cAAgB7vD,KAAKwxD,OAAOA,OAASxxD,KAAKwxD,OAAOA,OAAO3D,oBAAoBpE,GAASzpD,KAAKwxD,OAAO3D,oBAAoBpE,KAKtIsJ,UAAW,SAAU9uD,EAAMyvC,GACvB,IAAInzC,EAAOP,KACPmM,SAAe,IAAW,YAAcunC,EAAQnzC,EAAKm2D,OAAS,EAC9D9yD,EACAmmD,EAAQ,CACJ9lD,KAAMA,EACN2vD,aAAc3vD,EAAK2B,SACnBkxD,UAAWv2D,EAAKw2D,cAGxB,GAAI/2D,KAAKuyD,gBAAiB,CACtB3uD,EAAMuI,EAAQlI,EAAKnE,OACnBiqD,EAAMiN,WAAa7qD,EACnB49C,EAAMkN,SAAWrzD,OAEjBA,EAAMuI,EAAQ5L,EAAKmyD,UAAUzuD,EAAM,MAAMnE,OAG7CiqD,EAAM59C,MAAQA,EACd49C,EAAMnmD,IAAMA,EACZrD,EAAKuvD,QAAQ5tD,KAAK6nD,GAClBxpD,EAAK22D,cAEL,GAAI32D,EAAKgyD,gBAAiB,CACtB,IAAKhyD,EAAK42D,YACN52D,EAAK42D,YAAc,GAEvB52D,EAAK62D,oBAAoBrN,EAAM9lD,MAC/B1D,EAAK82D,6BAIbD,oBAAqB,SAAUnzD,GAC3B,IAAInE,EAASmE,EAAKnE,OAElB,IAAK,IAAID,EAAI,EAAGA,EAAIC,EAAQD,IACxBG,KAAKm3D,YAAYj1D,KAAK+B,EAAKpE,KAInCy3D,eAAgB,SAAS/U,GACrB,IAAIziD,EAASE,KAAKm3D,YAAYr3D,OAC9B,IAAIwqD,EAEJ,IAAK,IAAIzqD,EAAI,EAAGA,EAAIC,EAAQD,IAAK,CAC7ByqD,EAAQtqD,KAAKm3D,YAAYt3D,GACzB,GAAIyqD,EAAM/H,MAAQA,EACd,OAAO+H,IAKnB4M,YAAa,WACTl3D,KAAK8vD,QAAQhvC,KAAK,SAASmd,EAAG9vB,GAC1B,OAAO8vB,EAAE9xB,MAAQgC,EAAEhC,SAI3BoZ,MAAO,SAASgyC,EAAKnb,EAAQob,GACzBx3D,KAAKo2D,kBACLp2D,KAAKqC,QAAQ49C,EAAY,IACzBjgD,KAAKqC,QAAQy9C,EAAO,CAAEyX,IAAKA,EAAKnb,OAAQA,EAAQob,YAAaA,KAGjEvB,QAAS,SAAShyD,GACd,IAAI1D,EAAOP,KACPP,EAAWjC,EAAO,CACd27C,KAAM54C,EAAK44C,OACXzF,KAAMnzC,EAAKmzC,OACXiF,KAAMp4C,EAAKo4C,OACXD,SAAUn4C,EAAKm4C,WACf53B,KAAMvgB,EAAK4vD,MACXlgC,OAAQ1vB,EAAK8vD,QACb/F,MAAO/pD,EAAK+vD,OACZ1G,UAAWrpD,EAAKgwD,WAChB/F,cAAejqD,EAAKkwD,cACrBxsD,GAEP,IAAK1D,EAAKd,QAAQoyD,aAAc,QACrBpyD,EAAQ05C,YACR15C,EAAQi0C,YACRj0C,EAAQk5C,YACRl5C,EAAQi5C,SAGnB,IAAKn4C,EAAKd,QAAQyvD,sBACPzvD,EAAQ6qD,WACZ,GAAI/pD,EAAKixD,OAAO3T,OAASp+C,EAAQ6qD,MACpC7qD,EAAQ6qD,MAAQmF,GAAwBhwD,EAAQ6qD,MAAO/pD,EAAKixD,OAAO3T,OAGvE,IAAKt9C,EAAKd,QAAQqyD,uBACPryD,EAAQwwB,YACZ,GAAI1vB,EAAKixD,OAAO3T,OAASp+C,EAAQwwB,OACrCxwB,EAAQwwB,OAASu/B,GAA8B/vD,EAAQwwB,OAAQ1vB,EAAKixD,OAAO3T,OAG9E,IAAKt9C,EAAKd,QAAQmyD,qBACPnyD,EAAQqhB,UACZ,GAAIvgB,EAAKixD,OAAO3T,OAASp+C,EAAQqhB,KACpCrhB,EAAQqhB,KAAO2uC,GAAwBhwD,EAAQqhB,KAAMvgB,EAAKixD,OAAO3T,OAGrE,IAAKt9C,EAAKd,QAAQsyD,wBACPtyD,EAAQmqD,eACZ,GAAIrpD,EAAKixD,OAAO3T,OAASp+C,EAAQmqD,UACpCnqD,EAAQmqD,UAAY6F,GAAwBhwD,EAAQmqD,UAAWrpD,EAAKixD,OAAO3T,OAG/E,IAAKt9C,EAAKd,QAAQ+qD,mBACP/qD,EAAQ+qD,YAGnB,OAAO/qD,GAGXy2D,cAAe,SAASz2D,EAAS0mB,GAC7B,IAAI5lB,EAAOP,KACX,IAAKO,EAAKk3D,mBAAoB,CAC1Bl3D,EAAKk3D,mBAAqB,KAC1Bl3D,EAAKm3D,SAAWr6D,EAChB8oB,SAEA5lB,EAAKm3D,SAAW,CAAEvxC,SAAUA,EAAS5kB,KAAKhB,GAAOd,QAASA,IAIlE22D,gBAAiB,WACb,IAAI71D,EAAOP,KACXO,EAAKk3D,mBAAqB,MAC1B,GAAIl3D,EAAKm3D,SACLn3D,EAAK21D,cAAc31D,EAAKm3D,SAASj4D,QAASc,EAAKm3D,SAASvxC,WAIhEqvC,oBAAqB,SAAS9X,GAC1B,GAAI19C,KAAKwxD,OAAO1T,OAAQ,CACpB,IAAIA,EAAS99C,KAAKwxD,OAAO1T,OAAOJ,GAChC,GAAII,EAAQ,CACR99C,KAAKqC,QAAQy9C,EAAO,CAAEyX,IAAK,KAAMnb,OAAQ,cAAeob,YAAa,eAAgB1Z,OAAQA,IAC7F,OAAO,MAGf,OAAO,OAGX6Z,YAAa,SAAS1zD,GAClB,IAAI45C,EAAQ79C,KAAKwxD,OAAO3T,MAExB,GAAIA,GAAS55C,EAAKnE,OACd,QAASmE,EAAK,aAAc45C,GAGhC,OAAO,OAGX6T,SAAU,SAASztD,GACf,IAAI1D,EAAOP,KACP69C,EAAQt9C,EAAKixD,OAAO3T,MAExBt9C,EAAKowD,+BAAiC,KAEtC,GAAI1sD,aAAgB8S,EAAiB,CACjCxW,EAAKowD,+BAAiC,MACtC,GAAIpwD,EAAKo3D,YAAY1zD,GAAO,CACxBA,EAAKsD,KAAOhH,EAAKixD,OAAO3T,MACxB55C,EAAKw8C,QAAQx8C,EAAMA,QAEpB,CACH,IAAI2zD,EAAYr3D,EAAKm4C,aAAen4C,EAAKd,QAAQoyD,aAAe76C,EAAsBD,EACtF9S,EAAO,IAAI2zD,EAAU3zD,EAAM1D,EAAKixD,OAAO3T,OACvC55C,EAAKsR,OAAS,WAAa,OAAOhV,EAAKgV,UAG3C,GAAIhV,EAAK8xD,mBACL1D,GAAe1qD,EAAM45C,GAGzB,GAAIt9C,EAAKq2D,gBAAkBr2D,EAAKqvD,OAASrvD,EAAKqvD,iBAAiB74C,KACzDxW,EAAKd,QAAQkzD,WAAapyD,EAAKd,QAAQoyD,cACzCtxD,EAAKqvD,MAAM3tD,OAAOgoC,EAAQ1pC,EAAKq2D,qBAE/Br2D,EAAKq2D,eAAiBr2D,EAAKy0D,QAAQzzD,KAAKhB,GAG5C,OAAO0D,EAAK1C,KAAK0oC,EAAQ1pC,EAAKq2D,iBAGlCiB,sBAAuB,SAAS9yB,EAAQ1W,GACpC,IAAI9tB,EAAOP,KAEX,IAAI88C,EAAQztC,SAAS9O,EAAKiwD,OAAQ,IAElC,IAAKtF,GAAS3qD,EAAKiwD,QACf1T,EAAQztC,SAAS9O,EAAKyvD,eAAgB,IAE1C,GAAIjrB,IAAW,MACX+X,GAASzuB,EAAMvuB,YACZ,GAAIilC,IAAW,SAClB+X,GAASzuB,EAAMvuB,YACZ,GAAIilC,IAAW,cAAgBA,IAAW,SAAWxkC,EAAKd,QAAQoyD,aACrE/U,EAAQv8C,EAAKyvD,oBACV,GAAIjrB,IAAW,OAClB+X,EAAQv8C,EAAKyvD,eAAiB3gD,SAAS9O,EAAKiwD,OAAQ,IAGxDjwD,EAAKiwD,OAAS1T,GAGlBkY,QAAS,SAAS1yD,GACd,IAAI/B,EAAOP,KAAM2B,EAAK7B,EAAQilC,EAASziC,EAAIA,EAAEyiC,OAAS,GAEtD,GAAIA,IAAW,SACX,IAAKpjC,EAAM,EAAG7B,EAASwC,EAAE+rB,MAAMvuB,OAAQ6B,EAAM7B,EAAQ6B,IACjD,IAAKW,EAAE+rB,MAAM1sB,GAAKkiD,QAAUvhD,EAAE+rB,MAAM1sB,GAAKkiD,QACrCtjD,EAAK20C,WAAWhzC,KAAKI,EAAE+rB,MAAM1sB,IAKzC,GAAIpB,EAAKd,QAAQi0D,WAAa3uB,IAAW,OAASA,IAAW,UAAYA,IAAW,cAAe,CAE/F,IAAIjjC,EAAU,SAASqvB,GACnB,GAAIA,EAAK4T,SAAW,OAAQ,CACxBxkC,EAAK0B,OAAO,SAAUH,GACtBvB,EAAKs3D,sBAAsB9yB,EAAQziC,EAAE+rB,SAI7C9tB,EAAK4B,MAAM,SAAUL,GAErBvB,EAAK2xD,WAEF,CACH3xD,EAAKs3D,sBAAsB9yB,EAAQziC,EAAIA,EAAE+rB,MAAQ,IAEjD9tB,EAAKyyD,SAASzyD,EAAKqvD,MAAOttD,KAIlCw1D,qBAAsB,SAAU7zD,EAAMxE,GAClCA,EAAUA,GAAW,GAErB,IAAI+rD,EAAQ,IAAI9F,EAAMzhD,GAClBilD,EAAazpD,EAAQmqD,UACrB35B,EAASxwB,EAAQwwB,OAErB,GAAIA,EACAu7B,EAAQA,EAAMv7B,OAAOA,GAGzB,OAAOu7B,EAAM5B,UAAUV,IAG3B8J,SAAU,SAAU/uD,EAAM3B,GACtB,IAAI/B,EAAOP,KACPP,EAAU,GACV8J,EAEJ,GAAIhJ,EAAKd,QAAQoyD,eAAiB,KAAM,CACpCpyD,EAAQi0C,KAAOnzC,EAAKm2D,MACpBj3D,EAAQ05C,KAAO54C,EAAKw3D,OAASx3D,EAAK0vD,UAElC,GAAGxwD,EAAQi0C,OAASr2C,GAAakD,EAAK2vD,QAAU7yD,GAAakD,EAAK0vD,YAAc5yD,EAC5EoC,EAAQi0C,MAAQnzC,EAAK2vD,MAAQ,GAAK3vD,EAAK0vD,UAG3C,GAAI1vD,EAAKd,QAAQkzD,UACblzD,EAAQi0C,KAAOnzC,EAAKy3D,oBAI5B,GAAIz3D,EAAKd,QAAQmyD,gBAAkB,KAC/BnyD,EAAQqhB,KAAOvgB,EAAK4vD,MAGxB,GAAI5vD,EAAKd,QAAQqyD,kBAAoB,KACjCryD,EAAQwwB,OAAS1vB,EAAK8vD,QAG1B,GAAI9vD,EAAKd,QAAQyvD,iBAAmB,KAChCzvD,EAAQ6qD,MAAQ/pD,EAAK+vD,OAGzB,GAAI/vD,EAAKd,QAAQsyD,mBAAqB,KAClCtyD,EAAQmqD,UAAYrpD,EAAKgwD,WAG7B,GAAIhwD,EAAKd,QAAQyvD,eACb3uD,EAAK03D,kBAAkBh0D,GAG3BxE,EAAQ+qD,YAAcjqD,EAAKkwD,aAE3B,GAAIlwD,EAAKgyD,iBAAmBjwD,IAAMA,EAAEyiC,SAAW,QAAUziC,EAAEyiC,SAAW,eAAiBziC,EAAEyiC,SAAW,iBAChGx7B,EAAShJ,EAAK23D,cAAcj0D,EAAM,CAC9B2lD,UAAWrpD,EAAKgwD,kBAGpBhnD,EAAShJ,EAAK23D,cAAcj0D,EAAMxE,GAGtC,GAAIc,EAAKd,QAAQsyD,mBAAqB,KAGlCxxD,EAAKi2D,iBAAmBj2D,EAAKu3D,qBAAqBvuD,EAAO4uD,iBAAmBl0D,EAAMxE,GAGtFc,EAAK63D,SAAS7uD,EAAQ9J,EAAS6C,GAE/B/B,EAAK83D,gBAAgB9uD,EAAOuzC,MAAO,OAEnCx6C,EAAIA,GAAK,GAETA,EAAE+rB,MAAQ/rB,EAAE+rB,OAAS9tB,EAAKwvD,MAE1BxvD,EAAK8B,QAAQ4nC,EAAQ3nC,IAGzB81D,SAAU,SAAU7uD,EAAQ9J,EAAS6C,GACjC,IAAI/B,EAAOP,KAEX,GAAIO,EAAKgyD,kBAAoBhyD,EAAK8xD,mBAC9B,GAAI/vD,IAAMA,EAAEyiC,SAAW,QAAUziC,EAAEyiC,SAAW,eAAiBziC,EAAEyiC,SAAW,iBAAkB,CAC1FxkC,EAAKmxB,KAAKnoB,EAAOtF,MACjB1D,EAAK82D,+BACF,CACH92D,EAAKuvD,QAAU,GACf,IAAItE,EAAQ,IAAI9F,EAAMn8C,EAAOtF,MAC7B1D,EAAKwyD,UAAUxyD,EAAKmxD,SAASnoD,EAAOtF,OAEpC,GAAIxE,EAAQi0C,KAAOj0C,EAAQ05C,KAAO5vC,EAAOtF,KAAKnE,OAC1CL,EAAQi0C,KAAOnqC,EAAOtF,KAAKnE,OAASL,EAAQ05C,KAGhD54C,EAAKmxB,KAAK85B,EAAMzB,MAAMtqD,EAAQi0C,KAAMj0C,EAAQ05C,MAAM2Q,gBAItDvpD,EAAKmxB,KAAKnoB,EAAOtF,OAIzBg0D,kBAAmB,SAASh0D,GACxB,IAAK,IAAItC,EAAMsC,EAAKnE,OAAS,EAAG6B,GAAM,EAAGA,IAAO,CAC5C,IAAI2oD,EAAQrmD,EAAKtC,GACjB,GAAI2oD,EAAMI,aACN1qD,KAAKi4D,kBAAkB3N,EAAMj8B,OAGjC,GAAIi8B,EAAMj8B,QAAUi8B,EAAMj8B,MAAMvuB,SAAWwqD,EAAMK,UAC7CloD,EAAO/B,MAAM4pD,EAAM/0C,SAAU,CAAC5T,EAAK,MAK/Cu2D,cAAe,SAASj0D,EAAMxE,GAC1B,GAAIO,KAAKP,QAAQuyD,YACb,OAAOtM,EAAM4F,QAAQrnD,EAAMxE,EAASO,KAAKP,QAAQuyD,kBAGjD,OAAOtM,EAAM4F,QAAQrnD,EAAMxE,IAInC64D,YAAa,SAAS74D,GAClB,IAAIc,EAAOP,KAEX,GAAIP,IAAYpC,EAAW,CACvBkD,EAAK0vD,UAAYxwD,EAAQi5C,SACzBn4C,EAAK2vD,MAAQzwD,EAAQk5C,KACrBp4C,EAAK4vD,MAAQ1wD,EAAQqhB,KACrBvgB,EAAK8vD,QAAU5wD,EAAQwwB,OACvB1vB,EAAK+vD,OAAS7wD,EAAQ6qD,MACtB/pD,EAAKgwD,WAAa9wD,EAAQmqD,UAC1BrpD,EAAKm2D,MAAQn2D,EAAKg4D,mBAAqB94D,EAAQi0C,KAC/CnzC,EAAKw3D,MAAQt4D,EAAQ05C,KAErB,GAAG54C,EAAKm2D,QAAUr5D,EAAW,CACzBkD,EAAKm2D,MAAQn2D,EAAKg4D,mBAAqBh4D,EAAKmzC,OAC5Cj0C,EAAQi0C,KAAOnzC,EAAKmzC,OAGxB,GAAGnzC,EAAKw3D,QAAU16D,GAAakD,EAAK0vD,YAAc5yD,EAAW,CACzDkD,EAAKw3D,MAAQx3D,EAAK0vD,UAClBxwD,EAAQ05C,KAAO54C,EAAKw3D,MAGxB,GAAGx3D,EAAKd,QAAQssD,QACZtsD,EAAQssD,QAAUxrD,EAAKd,QAAQssD,QAGnC,GAAItsD,EAAQqhB,KAAM,CACdvgB,EAAK4vD,MAAQ1wD,EAAQqhB,KAAO6kC,GAAclmD,EAAQqhB,MAClDvgB,EAAK6vD,YAActK,GAAWrmD,EAAQqhB,MAG1C,GAAIrhB,EAAQwwB,OACR1vB,EAAK8vD,QAAU5wD,EAAQwwB,OAAU1vB,EAAKd,QAAQwlD,yBAA2B/nD,EAAE0yB,cAAcnwB,EAAQwwB,QAAW/yB,EAAEM,OAAO,GAAI4qD,GAAgB3oD,EAAQwwB,QAAS,CAAEg1B,uBAAwB1kD,EAAKd,QAAQwlD,yBAA2BmD,GAAgB3oD,EAAQwwB,QAGxP,GAAIxwB,EAAQ6qD,MACR/pD,EAAK+vD,OAAS7wD,EAAQ6qD,MAAQtB,GAAevpD,EAAQ6qD,OAEzD,GAAI7qD,EAAQmqD,UACRrpD,EAAKgwD,WAAa9wD,EAAQmqD,UAAYb,GAAmBtpD,EAAQmqD,WAGzE,OAAOnqD,GAGX+rD,MAAO,SAAS/rD,GACZ,IAAI8J,EACJ,IAAIivD,EAASx4D,KAAKP,QAAQmyD,eAAiB5xD,KAAKP,QAAQoyD,cAAgB7xD,KAAKP,QAAQqyD,iBAAmB9xD,KAAKP,QAAQyvD,gBAAkBlvD,KAAKP,QAAQsyD,iBAEpJ,GAAIyG,IAAYx4D,KAAK4vD,QAAUvyD,GAAa2C,KAAK4vD,MAAM9vD,SAAW,KAAOE,KAAKk1C,WAAWp1C,OAAS,CAC9F,GAAIE,KAAKP,QAAQk3D,QAAS,CACtB,IAAI8B,EAAiBh5D,EAAQi5C,SAAW14C,KAAK04C,WAC7C,GAAI+f,EAAiB,EAAG,CACpBA,EAAiBz4D,KAAK04C,WACtBj5C,EAAQk5C,KAAOl5C,EAAQi5C,SAAW+f,EAClCh5D,EAAQi5C,SAAW+f,MAChB,CACHh5D,EAAQk5C,KAAO,EACf34C,KAAKP,QAAQk3D,QAAU,OAG/B,OAAO32D,KAAKs5C,KAAKt5C,KAAKs4D,YAAY74D,IAGtC,IAAI02D,EAAcn2D,KAAKqC,QAAQ09C,EAAc,CAAEx4C,KAAM,SACrD,IAAK4uD,EAAa,CACdn2D,KAAKqC,QAAQ29C,GACb,GAAIvgD,EACAA,EAAQ+qD,YAAcxqD,KAAKywD,aAE/BlnD,EAASvJ,KAAKk4D,cAAcl4D,KAAK4vD,MAAO5vD,KAAKs4D,YAAY74D,IAEzDO,KAAKq4D,gBAAgB9uD,EAAOuzC,MAAO,MAEnC98C,KAAKw2D,iBAAmBx2D,KAAK83D,qBAAqBvuD,EAAO4uD,iBAAmBn4D,KAAK4vD,MAAOnwD,GACxFO,KAAKo4D,SAAS7uD,EAAQ9J,GACtBO,KAAKqC,QAAQ49C,EAAY,CAAE14C,KAAM,SACjCvH,KAAKqC,QAAQ4nC,EAAQ,CAAE5b,MAAO9kB,EAAOtF,KAAM8gC,OAAQtlC,EAAUA,EAAQslC,OAAS,KAGlF,OAAO7nC,EAAEupC,WAAW0rB,QAAQgE,GAAavyC,WAG7C80C,sBAAuB,SAAUpO,GAC7B,IAAI/gD,EAAS,MACb,IAAIzJ,EAASwqD,EAAMj8B,MAAQi8B,EAAMj8B,MAAMvuB,OAAS,EAEhD,IAAKwqD,EAAMI,aACP,OAAO,MAGX,IAAK,IAAI7qD,EAAI,EAAGA,EAAIC,EAAQD,IACxB,GAAIG,KAAK0wD,aAAapG,EAAMj8B,MAAMxuB,GAAG0iD,KAAM,CACvCh5C,EAAS,KACT,MAGR,OAAOA,GAGXovD,kBAAmB,SAAU10D,EAAMsF,EAAQ9J,EAAS6yB,EAASnM,GACzD,IAAI5lB,EAAOP,KACX,IAAIF,EAASmE,EAAKnE,OAClB,IAAIwqD,EACJ,IAAIzhD,EACJ,IAAI+vD,EACJ,IAAIC,EACJ,IAAIC,EAEJ,IAAK,IAAIj5D,EAAI,EAAGA,EAAIC,EAAQD,IAAK,CAC7ByqD,EAAQrmD,EAAKpE,GAEb,GAAIJ,EAAQs5D,OAASt5D,EAAQ05C,KACzB,MAGJ,IAAK54C,EAAK+2D,eAAehN,EAAM/H,KAC3BhiD,EAAK42D,YAAYj1D,KAAKooD,GAG1B,GAAI/pD,EAAKmwD,aAAapG,EAAM/H,KAAM,CAC9B,GAAIhiD,EAAK+xD,sBAAuB,CAC7B,GAAI/xD,EAAKy4D,iBAAiB1O,EAAO7qD,EAAS6yB,EAASnM,GAAW,CACzD5lB,EAAK04D,oBAAsB,KAC3B,OAELJ,GAAcvO,EAAMM,eAAiBN,EAAMK,WAAa,EACxDmO,EAAcr5D,EAAQi0C,KAAOj0C,EAAQy5D,QACrC,IAAK34D,EAAKm4D,sBAAsBpO,IAAUwO,EAAcD,EAAY,CAChEp5D,EAAQy5D,SAAWL,EACnB,UAIP,GAAIp5D,EAAQ05D,gBAAkB15D,EAAQy5D,QAAUz5D,EAAQi0C,KAAM,CAC1Dj0C,EAAQy5D,UACR5O,EAAM8O,cAAgB,UACnB,GAAI35D,EAAQ05D,eAAgB,CAC/B15D,EAAQs5D,QACRzO,EAAM8O,cAAgB,MAG1B,GAAI9O,EAAMI,cAAgBJ,EAAMj8B,OAASi8B,EAAMj8B,MAAMvuB,OAAQ,CACzDwqD,EAAM+O,aAAe,GAErB,IAAK/mC,EACDA,EAAU,GAEdA,EAAQpwB,KAAKooD,GAEb/pD,EAAKo4D,kBAAkBrO,EAAMj8B,MAAOi8B,EAAM+O,aAAc55D,EAAS6yB,EAASnM,GAC1EmM,EAAQ+D,MAER,GAAIi0B,EAAM+O,aAAav5D,QAAUL,EAAQs5D,MAAQ,EAC7CxvD,EAAOrH,KAAKooD,QAEZA,EAAM8O,cAAgB,UAEvB,CACHvwD,EAAU,GACV+vD,EAActO,EAAMj8B,MAAMvuB,OAE1B,IAAK,IAAI0lC,EAAI,EAAGA,EAAIozB,EAAapzB,IAAK,CAClC,GAAI/lC,EAAQy5D,QAAUz5D,EAAQi0C,KAAM,CAChCj0C,EAAQy5D,UACR,SAGJ,GAAIz5D,EAAQs5D,OAASt5D,EAAQ05C,KACzB,MAEJtwC,EAAQ3G,KAAKooD,EAAMj8B,MAAMmX,IACzB/lC,EAAQs5D,QAGZ,GAAIlwD,EAAQ/I,QAAUL,EAAQs5D,MAAQ,EAAG,CACrCzO,EAAM+O,aAAexwD,EACrBU,EAAOrH,KAAKooD,QAEZA,EAAM8O,cAAgB,WAG3B,CACH,GAAI35D,EAAQy5D,QAAUz5D,EAAQi0C,KAAM,CAChCj0C,EAAQy5D,UACR,SAEJ3vD,EAAOrH,KAAKooD,GACZ7qD,EAAQs5D,WAKpBO,4BAA6B,SAAUhP,EAAO1mD,EAAK21D,GAC/C,IAAIh5D,EAAOP,KACX,IAAIuJ,EAAS,EACb,IAAIiwD,EACJ,IAAIC,SAAsB71D,IAAQ,SAClC,IAAI9D,EAAS25D,EAAe71D,EAAM0mD,EAAMM,cACxC,IAAI8O,EAEJ,IAAKpP,EAAMI,aACP,OAAOnhD,EAGX,IAAK,IAAI1J,EAAI,EAAGA,EAAIC,EAAQD,IAAK,CAC7B25D,EAAWlP,EAAMj8B,MAAMxuB,GAEvB,IAAK25D,EACD,MAGJ,GAAIA,EAAS9O,cAAgBnqD,EAAKmwD,aAAapG,EAAM/H,KAAM,CACvDmX,EAAOn5D,EAAK+4D,4BAA4BE,EAAU15D,EAAQ,MAC1DyJ,GAAUmwD,EAEV,GAAID,EACA35D,GAAU45D,OAEX,IAAKF,EAAS9O,cAAgBnqD,EAAKmwD,aAAa8I,EAASjX,KAAM,CAClEmX,EAAOF,EAASnrC,MAAQmrC,EAASnrC,MAAMvuB,OAAS,EAChDyJ,GAAUmwD,EACV,GAAID,EACA35D,GAAU45D,EAIlB,GAAIH,EAAqB,CACrBhwD,GAAU,EACV,GAAIkwD,EACA35D,GAAU,EAIlB,GAAI25D,GAAgBlwD,EAASzJ,EACzB,OAAOyJ,EAIf,OAAOA,GAGXyvD,iBAAkB,SAAS1O,EAAO7qD,EAAS6yB,EAASnM,GAChD,IAAI5lB,EAAOP,KACX,IAAI25D,EACJ,IAAIC,EACJ,IAAIC,EACJ,IAAIC,EAAiBxP,EAAMI,aAAeJ,EAAMM,cAAgBN,EAAMK,UACtE,IAAIxR,EAAO15C,EAAQ05C,KACnB,IAAI+f,EAAUz5D,EAAQy5D,QACtB,IAAIxgB,EAAWn4C,EAAK44C,OACpB,IAAI4gB,EAEJ,GAAIt6D,EAAQ05D,eACR,GAAID,EAAUz5D,EAAQi0C,KAClBwlB,GAAW,OAEX/f,GAAQ,EAIhB,IAAKmR,EAAMj8B,OAAUi8B,EAAMj8B,QAAUi8B,EAAMj8B,MAAMvuB,OAAS,CACtDS,EAAKy5D,cAAc1P,EAAO7qD,EAAS6yB,EAASnM,EAAU,GACtD,OAAO,SACJ,CACH4zC,EAA6B/5D,KAAKs5D,4BAA4BhP,EAAO7qD,EAAQi0C,KAAOwlB,GACpFS,EAAiB77D,KAAKoP,IAAIzN,EAAQi0C,MAAQwlB,EAAUa,GAA6B,GAEjF,GAAIJ,GAAkBG,EAClB,OAAO,MAGXF,EAAYtP,EAAMj8B,MAAMsrC,GACxBE,EAAWvP,EAAMj8B,MAAMvwB,KAAKiR,IAAI4qD,EAAiBxgB,EAAM2gB,EAAiB,IAExE,GAAIF,EAAUK,WAAY,CACtB15D,EAAKy5D,cAAc1P,EAAO7qD,EAAS6yB,EAASnM,EAAUtoB,EAAKqP,IAAIrP,EAAK8G,MAAMg1D,EAAiBjhB,GAAW,GAAKA,EAAU76C,EAAK8O,OAAOgtD,EAAiBjhB,GAAYA,IAC9J,OAAO,KAGX,GAAImhB,EAASI,WAAY,CACrB15D,EAAKy5D,cAAc1P,EAAO7qD,EAAS6yB,EAASnM,EAAUtoB,EAAKqP,IAAIrP,EAAK8G,OAAOg1D,EAAiBjhB,GAAYA,GAAW,GAAKA,EAAU76C,EAAK8O,OAAOgtD,EAAiBjhB,GAAYA,IAC3K,OAAO,QAKnBshB,cAAe,SAAS1P,EAAO7qD,EAAS6yB,EAASnM,EAAUwzC,EAAgBhhB,GACvE,IAAIp4C,EAAOP,KACX,IAAIm5C,EACJ,IAAIlpB,EACJ,IAAIhsB,EACJ,IAAIi2D,EAEJ,IAAK5P,EAAMj8B,MACPi8B,EAAMj8B,MAAQ,GAGlB8qB,EAAO54C,EAAK44C,OACZlpB,EAASjwB,KAAKm6D,oBAAoB7P,EAAOh4B,GACzCruB,EAAO,CACH00C,KAAMA,GAAQ,EACdD,SAAUS,EACVzF,KAAMimB,EACNxgB,KAAMA,EACNlpB,OAAQA,EACR25B,UAAWrpD,EAAKgwD,WAChBzvC,KAAMvgB,EAAK4vD,OAEf+J,EAAY35D,EAAK65D,cAAc9P,GAE/B,GAAI4P,GAAaA,EAAUp6D,OAAQ,CAC/BmE,EAAKqmD,MAAQ4P,EACbj2D,EAAKumD,YAAc,KAGvBh2B,aAAaj0B,EAAK85D,UAClB95D,EAAK85D,SAAWlnC,WAAW,WACvB5yB,EAAK21D,cAAcjyD,EAAM,WACrB,IAAK1D,EAAK8B,QAAQ09C,EAAc,CACxBx4C,KAAM,SAEVhH,EAAK45C,UAAUb,KAAK,CAChBr1C,KAAMA,EACNw5C,QAASl9C,EAAK+5D,0BAA0BhQ,EAAO7qD,EAAQi0C,KAAMnzC,EAAK44C,OAAQhzB,EAAUwzC,GACpFp0C,MAAO,WACH,IAAI4L,EAAOhyB,EAAMqD,KAAK5C,WACtBW,EAAKglB,MAAM7kB,MAAMH,EAAM4wB,WAI/B5wB,EAAK61D,qBAGd,MAGPkE,0BAA2B,SAAShQ,EAAO5W,EAAMyF,EAAMhzB,EAAUwzC,GAC7D,IAAIp5D,EAAOP,KACX,IAAI82D,EAAYv2D,EAAKw2D,aACrB5wC,EAAWllB,EAAWklB,GAAYA,EAAWvoB,EAC7C,IAAI28D,EAAah6D,EAAKd,QAAQ6tD,QAAU/sD,EAAKd,QAAQ6tD,OAAOxQ,MAAQv8C,EAAKd,QAAQ6tD,OAAOxQ,MAAQ,QAEhG,OAAO,SAAU74C,GACb,IAAIy1D,EACJ,IAAI7b,EAAQI,GAAM3hD,OAAOiE,EAAKd,QAAQ6tD,OAAOzP,OAC7C,IAAI2c,EAEJj6D,EAAK61D,kBAEL71D,EAAK8B,QAAQ49C,EAAY,CACrBvC,SAAUz5C,EACVsD,KAAM,SAGV,GAAItG,EAAWs5D,GACXC,EAAaD,EAAWt2D,QAExBu2D,EAAav2D,EAAKs2D,GAGtBt2D,EAAO1D,EAAKixD,OAAO9U,MAAMz4C,GAEzB,GAAIqmD,EAAMI,aAAc,CACpBgP,EAAOn5D,EAAKixD,OAAO3tB,OAAO5/B,GAC1BqmD,EAAMM,cAAgB4P,MACnB,CACHd,EAAOn5D,EAAKixD,OAAOvtD,KAAKA,GACxBy1D,EAAOA,EAAKxoD,IAAI,SAAU+3B,GACtB,OAAO,IAAI4U,EAAM5U,KAIzBqhB,EAAMj8B,MAAM8yB,gBAAkB,KAC9B,IAAK,IAAIthD,EAAI,EAAGA,EAAI26D,EAAY36D,IAC5B,GAAIA,GAAK85D,GAAkB95D,EAAK85D,EAAiBxgB,EAC7CmR,EAAMj8B,MAAM5rB,OAAO5C,EAAG,EAAG65D,EAAK75D,EAAI85D,SAElC,IAAKrP,EAAMj8B,MAAMxuB,GACbyqD,EAAMj8B,MAAM5rB,OAAO5C,EAAG,EAAG,CAAEo6D,WAAY,OAInD3P,EAAMj8B,MAAM8yB,gBAAkB,MAE9B5gD,EAAKk6D,yBAAyBnQ,GAC9B/pD,EAAK04D,oBAAsB,MAE3B,IAAK3O,EAAMoQ,WAAY,CACnBn6D,EAAKg2D,oBAAsBiE,EAC3BlQ,EAAMoQ,WAAa,KAGvBn6D,EAAKwpD,MAAMrW,EAAMyF,EAAMhzB,EAAU,eAEjC,GAAI2wC,GAAav2D,EAAKo6D,2BAA6Bp6D,EAAKq6D,wBACpDr6D,EAAK8B,QAAQ4nC,EAAQ,MAKjCmwB,cAAe,SAAS9P,GACpB,IAAIuQ,EAAsB76D,KAAKswD,OAAOp/C,IAAI,SAAUvD,GAChD,OAAOA,EAAEkT,QACVhU,QAAQy9C,EAAMzpC,OAEjB,OAAO7gB,KAAKswD,OAAOnxD,MAAM07D,EAAsB,EAAG76D,KAAKswD,OAAOxwD,SAGlEq6D,oBAAqB,SAAS7P,EAAOh4B,GACjC,IAAIrC,EAASjwB,KAAKiwB,UAAY,CAC1BwpB,MAAO,MACPE,QAAS,IAGb1pB,EAAOwpB,MAAQ,MACfxpB,EAASzyB,EAAO,KAAM,GAAIyyB,GAC1BA,EAAO0pB,QAAQz3C,KAAK,CAChB2e,MAAOypC,EAAMzpC,MACb64B,SAAU,KACVpyC,MAAOgjD,EAAMhjD,QAGjB,GAAIgrB,EACA,IAAK,IAAIzyB,EAAI,EAAGA,EAAIyyB,EAAQxyB,OAAQD,IAChCowB,EAAO0pB,QAAQz3C,KAAK,CAChB2e,MAAOyR,EAAQzyB,GAAGghB,MAClB64B,SAAU,KACVpyC,MAAOgrB,EAAQzyB,GAAGyH,QAK9B,OAAO2oB,GAGXwqC,yBAA0B,SAASnQ,GAC/B,IAAI/pD,EAAOP,KACX,IAAI+uD,EAASxuD,EAAKuvD,QAClB,IAAIgL,EAAe/L,EAAOjvD,OAC1B,IAAI45D,EACJ,IAAIqB,EACJ,IAAIhR,EACJ,IAAIiR,EACJ,IAAIC,EACJ,IAAIC,EAEJ,IAAK,IAAIr7D,EAAI,EAAGA,EAAIi7D,EAAcj7D,IAAK,CACnCkqD,EAAQgF,EAAOlvD,GACfm7D,EAAajR,EAAM9lD,KAAKnE,OACxBm7D,EAAU,GACVvB,EAAO,KAEP,IAAK,IAAIl0B,EAAI,EAAGA,EAAIw1B,EAAYx1B,IAAK,CACjCu1B,EAAehR,EAAM9lD,KAAKuhC,GAC1By1B,EAAQ/4D,KAAKsjC,GAEb,GAAKu1B,EAAaxY,MAAQ+H,EAAM/H,KAASwY,EAAarQ,cAAgBqQ,EAAa1sC,MAAMvuB,QAAUS,EAAK46D,kBAAkBJ,EAAczQ,EAAO2Q,GAC3I,MAEJA,EAAQ5kC,MAGZ,GAAI4kC,EAAQn7D,OAAQ,CAChB45D,EAAO3K,EAAOlvD,GAAG+zD,aAEjB,MAAOqH,EAAQn7D,OAAS,EAAG,CACvBo7D,EAAUD,EAAQx4D,OAAO,EAAG,GAAG,GAC/Bi3D,EAAOA,EAAKwB,GAAS7sC,MAEzBqrC,EAAKuB,EAAQ,IAAM16D,EAAK66D,YAAY9Q,GACpC,SAKZ6Q,kBAAmB,SAAS7Q,EAAO+Q,EAAUJ,GACzC,IAAI16D,EAAOP,KACX,IAAIF,EAASwqD,EAAMj8B,MAAMvuB,OACzB,IAAIw7D,EAEJ,GAAIhR,EAAMI,cAAgB5qD,EACtB,IAAK,IAAID,EAAI,EAAGA,EAAIC,EAAQD,IAAK,CAC7By7D,EAAkBhR,EAAMj8B,MAAMxuB,GAC9Bo7D,EAAQ/4D,KAAKrC,GACb,GAAIy7D,EAAgB/Y,MAAQ8Y,EAAS9Y,IACjC,OAAO,UACJ,GAAI+Y,EAAgB5Q,cAAgB4Q,EAAgBjtC,MAAMvuB,OAC7D,OAAOS,EAAK46D,kBAAkBG,EAAiBD,EAAUJ,GAE7DA,EAAQ5kC,QAMpB+kC,YAAa,SAAS9Q,GAClB,IAAI/pD,EAAOP,KACXsqD,SAAeA,EAAM1kD,QAAU,WAAa0kD,EAAM1kD,SAAW0kD,EAE7D,GAAIA,EAAMj8B,OAASi8B,EAAMj8B,MAAMvuB,OAC3BwqD,EAAMj8B,MAAQi8B,EAAMj8B,MAAMnd,IAAI,SAAU+3B,GACpC,OAAO1oC,EAAK66D,YAAYnyB,KAIhC,OAAOqhB,GAGX+N,gBAAiB,SAASkD,EAAaC,GACnC,IAAIj7D,EAAOP,KAEX,IAAKO,EAAKd,QAAQqyD,gBACd,GAAIyJ,IAAgBl+D,EAChBkD,EAAKiwD,OAAS+K,OACX,GAAIC,EACPj7D,EAAKiwD,OAASjwD,EAAKqvD,MAAM9vD,QAKrC27D,MAAO,SAASt1C,GACZ,IAAI5lB,EAAOP,KACX,IAAIW,EAAK,SAASw1D,GACd,GAAIA,IAAgB,MAAQl1D,EAAWklB,GACnCA,EAAS3jB,KAAKjC,IAItB,OAAOP,KAAK07D,SAASz0B,KAAKtmC,IAG9B+6D,OAAQ,SAASj8D,GACb,IAAIc,EAAOP,KAEX,OAAOO,EAAKirD,MAAMhuD,EAAO,GAAI,CACzBm7C,KAAMp4C,EAAKo4C,OACXD,SAAUn4C,EAAKm4C,WACf53B,KAAMvgB,EAAKugB,OACXmP,OAAQ1vB,EAAK0vB,SACbq6B,MAAO/pD,EAAK+pD,QACZV,UAAWrpD,EAAKqpD,aACjBnqD,KAGPk8D,KAAM,SAASl8D,GACX,IAAIc,EAAOP,KACP24C,EAAOp4C,EAAKo4C,OACZmE,EAAQv8C,EAAKu8C,QAEjBr9C,EAAUA,GAAW,GAErB,IAAKk5C,GAASmE,GAASnE,EAAO,EAAIp4C,EAAKq7D,aACnC,OAGJr7D,EAAKm2D,MAAQn2D,EAAKg4D,mBAAqB5f,EAAOp4C,EAAK44C,OAEnDR,GAAQ,EACRl5C,EAAQk5C,KAAOA,EAEfp4C,EAAKm7D,OAAOj8D,GAEZ,OAAOk5C,GAGXxL,KAAM,SAAS1tC,GACX,IAAIc,EAAOP,KACP24C,EAAOp4C,EAAKo4C,OAEhBl5C,EAAUA,GAAW,GAErB,IAAKk5C,GAAQA,IAAS,EAClB,OAGJp4C,EAAKm2D,MAAQn2D,EAAKg4D,mBAAqBh4D,EAAKm2D,MAAQn2D,EAAK44C,OAEzDR,GAAQ,EACRl5C,EAAQk5C,KAAOA,EAEfp4C,EAAKm7D,OAAOj8D,GAEZ,OAAOk5C,GAGXA,KAAM,SAAS0S,GACX,IAAI9qD,EAAOP,KACX0zC,EAEA,GAAG2X,IAAQhuD,EAAW,CAClBguD,EAAMxtD,EAAKqP,IAAIrP,EAAKkR,IAAIlR,EAAKqP,IAAIm+C,EAAK,GAAI9qD,EAAKq7D,cAAe,GAC9D,IAAIziB,EAAO54C,EAAK44C,OAEhB,GAAI54C,EAAKgyD,gBAAiB,CACtBlH,GAAO,EACP9qD,EAAKwpD,MAAMsB,EAAMlS,EAAMA,EAAM,KAAM,QACnC,OAEJ54C,EAAKm7D,OAAOn7D,EAAKs7D,sBAAsB,CAAEljB,KAAM0S,KAC/C,OAEJ3X,EAAOnzC,EAAKmzC,OAEZ,OAAOA,IAASr2C,EAAYQ,EAAK8O,OAAO+mC,GAAQ,IAAMnzC,EAAK44C,QAAU,IAAM,EAAI97C,GAGnFq7C,SAAU,SAAS2S,GACf,IAAI9qD,EAAOP,KAEX,GAAIqrD,IAAQhuD,EAAW,CACnBkD,EAAKm7D,OAAOn7D,EAAKs7D,sBAAsB,CAAEnjB,SAAU2S,EAAK1S,KAAM,KAC9D,OAGJ,OAAOp4C,EAAK44C,QAGhBr4B,KAAM,SAASuqC,GACX,IAAI9qD,EAAOP,KAEX,GAAGqrD,IAAQhuD,EAAW,CAClBkD,EAAK8B,QAAQ,QACb9B,EAAKm7D,OAAO,CAAE56C,KAAMuqC,IACpB,OAGJ,OAAO9qD,EAAK4vD,OAGhBlgC,OAAQ,SAASo7B,GACb,IAAI9qD,EAAOP,KAEX,GAAIqrD,IAAQhuD,EACR,OAAOkD,EAAK8vD,QAGhB9vD,EAAK8B,QAAQ,SACb9B,EAAKm7D,OAAO,CAAEzrC,OAAQo7B,EAAK1S,KAAM,KAGrC2R,MAAO,SAASe,GACZ,IAAI9qD,EAAOP,KACX,IAAIP,EAAU,CAAE6qD,MAAOe,GAEvB,GAAI9qD,EAAKkwD,aAAc,CAEnB,GAAIpF,IAAOhuD,KAAeguD,IAAQA,EAAIvrD,QAClCS,EAAKuvD,QAAU,GAEnBrwD,EAAQk5C,KAAO,EAGnB,GAAG0S,IAAQhuD,EAAW,CAClBkD,EAAKm7D,OAAOj8D,GACZ,OAGJ,OAAOc,EAAK+vD,QAGhBwL,cAAe,SAAU73D,GACrB,IAAItC,EACA4H,EAAS,GACTzJ,EAEJ,IAAK6B,EAAM,EAAG7B,EAASmE,EAAKnE,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACrD,IAAI2oD,EAAQrmD,EAAKtC,GACjB,GAAI2oD,EAAMI,aACNnhD,EAASA,EAAO+K,OAAOtU,KAAK87D,cAAcxR,EAAMj8B,QAGpD9kB,EAAOrH,KAAKooD,GAGhB,OAAO/gD,GAGXuzC,MAAO,WACH,OAAOztC,SAASrP,KAAKwwD,QAAU,EAAG,KAGtCuL,YAAa,SAAUC,GACnB,IAAIz7D,EAAOP,KAEX,IAAKO,EAAK+vD,OAAOxwD,OACb,OAAOS,EAAKu8C,QAGhB,GAAIv8C,EAAK8xD,mBAAoB,CACzB,GAAI9xD,EAAKg2D,mBACL,OAAOh2D,EAAKg2D,mBAEhBh2D,EAAKg2D,mBAAqBh2D,EAAKu8C,QAE/B,OAAOv8C,EAAKg2D,mBAGhB,OAAOh2D,EAAK07D,sBAAsB17D,EAAKuvD,QAAQhwD,OAASS,EAAKuvD,QAAQ,GAAG7rD,KAAO,GAAI+3D,IAGvFC,sBAAuB,SAAUp4B,EAAQm4B,EAAiBE,EAAYC,GAClE,IAAI57D,EAAOP,KACXk8D,EAAaA,GAAc,QAC3B,IAAIpf,EACJ,IAAIh9C,EAEJ,GAAIS,EAAK+vD,OAAOxwD,QAAU+jC,EAAQ,CAC9BiZ,EAAQ,EACRh9C,EAAS+jC,EAAO/jC,OAEhB,IAAK,IAAID,EAAI,EAAGA,EAAIC,EAAQD,IACxBi9C,GAASv8C,EAAKs4D,WAAWh1B,EAAOhkC,GAAIm8D,EAAiBE,EAAYC,GAErE57D,EAAK67D,aAAetf,EACpB,OAAOA,EAGXv8C,EAAK67D,aAAe77D,EAAKqvD,MAAM9vD,OAC/B,OAAOS,EAAK67D,cAGhBvD,WAAY,SAAUvO,EAAO0R,EAAiBE,EAAYC,GACtD,IAAI57D,EAAOP,KACX,IAAI88C,EAAQ,EAEZ,GAAIwN,EAAMI,cAAgBnqD,EAAKmwD,aAAapG,EAAM/H,KAAM,CACpD,GAAIyZ,IAAoB1R,EAAM8O,eAAiB+C,EAC3Crf,GAAS,EAGbwN,EAAM4R,GAAYxzB,QAAQ,SAAU2yB,GAChCve,GAASv8C,EAAKs4D,WAAWwC,EAAUW,EAAiBE,EAAYC,UAGpE,GAAI57D,EAAKmwD,aAAapG,EAAM/H,KAAM,CAC9B,GAAIyZ,IAAoB1R,EAAM8O,eAAiB+C,EAC3Crf,IAEJA,GAASwN,EAAM4R,GAAc5R,EAAM4R,GAAYp8D,OAAS,OAExDg9C,IAGR,OAAOA,GAGXuf,gBAAiB,SAAUtS,GACvB,IAAIjN,EAAQ,EACZ,IAAIh9C,EAASiqD,EAAMjqD,OAEnB,IAAK,IAAID,EAAI,EAAGA,EAAIC,EAAQD,IACxBi9C,GAAS98C,KAAK64D,WAAW9O,EAAMlqD,GAAI,MAGvC,OAAOi9C,GAGX8M,UAAW,SAASyB,GAChB,IAAI9qD,EAAOP,KAEX,GAAGqrD,IAAQhuD,EAAW,CAClBkD,EAAKm7D,OAAO,CAAE9R,UAAWyB,IACzB,OAGJ,OAAO9qD,EAAKgwD,YAGhBrH,WAAY,WACR,IAAI3/C,EAASvJ,KAAKw2D,iBAElB,GAAI5mC,EAAcrmB,GACdA,EAASvJ,KAAKs8D,iBAAiBt8D,KAAK4pD,aAGxC,OAAOrgD,GAGX+yD,iBAAkB,SAASpT,GACvB,IAAI3/C,EAAS,GAEb,IAAKqmB,EAAcs5B,GAAa,CAC5B,IAAIU,EAAY,GAEhB,IAAKlsD,EAAQwrD,GACTA,EAAa,CAACA,GAGlB,IAAK,IAAIvnD,EAAM,EAAGA,EAAKunD,EAAWppD,OAAQ6B,IAAO,CAC7CioD,EAAUV,EAAWvnD,GAAKioD,WAAa,EACvCrgD,EAAO2/C,EAAWvnD,GAAKkf,OAAS+oC,GAIxC,OAAOrgD,GAGXsyD,sBAAuB,SAASp8D,GAC5B,OAAOA,GAGX2zD,kBAAmB,SAASvV,GACxB,IAAIha,EAAS7jC,KAAKsqD,QACd/0C,EACA+0C,EACA3oD,EACA7B,EAEJ,IAAK6B,EAAMkiC,EAAO/jC,OAAO,EAAGA,EAAS,EAAG6B,GAAO7B,EAAQ6B,IAAO,CAC1D2oD,EAAQzmB,EAAOliC,GACf4T,EAAS,CACLjO,MAAOu2C,EAAMv0B,IAAMu0B,EAAMv0B,IAAIghC,EAAMzpC,OAASg9B,EAAMyM,EAAMzpC,OACxDA,MAAOypC,EAAMzpC,MACbwN,MAAO9Y,EAAS,CAACA,GAAU,CAACsoC,GAC5B6M,eAAgBn1C,EAChB2zC,WAAYlpD,KAAKs8D,iBAAiBhS,EAAMpB,aAIhD,OAAO3zC,GAGXqmD,WAAY,WACR,IAAIr7D,EAAOP,KACP04C,EAAWn4C,EAAKm4C,YAAcn4C,EAAKu8C,QACnCA,EAAQv8C,EAAKgyD,gBAAkBhyD,EAAKw7D,YAAY,MAAQx7D,EAAKu8C,QAEjE,OAAOj/C,EAAK0+D,MAAMzf,GAAS,GAAKpE,IAGpC8jB,QAAS,SAAS9oB,EAAMyF,GACpB,IAAI54C,EAAOP,KACP4D,EAAM/F,EAAKkR,IAAI2kC,EAAOyF,EAAM54C,EAAKu8C,SAErC,IAAKv8C,EAAKd,QAAQoyD,cAAgBtxD,EAAKqvD,MAAM9vD,OAAS,EAClD,OAAO,KAGX,OAAOS,EAAKk8D,WAAW/oB,EAAM9vC,GAAK9D,OAAS,GAG/C48D,UAAW,WACP,IAAI3N,EAAS/uD,KAAK8vD,QAClB,OAAOf,EAAOA,EAAOjvD,OAAS,IAAM,CAAEqM,MAAO,EAAGvI,IAAK,EAAGK,KAAM,KAGlE04D,aAAc,WACV,IAAI5N,EAAS/uD,KAAK8vD,QAClB,OAAOf,EAAOjvD,QAAUivD,EAAO,GAAG9qD,KAAKnE,QAAUivD,EAAO,GAAG9qD,KAAK,GAAGs+C,KAGvEqa,yBAA0B,WACtB58D,KAAK46D,wBAA0B,OAGnC7D,WAAY,WACR,OAAO,IAAIpxD,MAAO6R,WAGtBuyC,MAAO,SAASrW,EAAMyF,EAAMhzB,EAAU4e,GAClC/kC,KAAK26D,yBAA2B36D,KAAK+2D,aACrC/2D,KAAK46D,wBAA0B,KAC/B,IAAI9d,EAAQ98C,KAAKuyD,gBAAkBvyD,KAAK+7D,YAAY,MAAQ/7D,KAAK88C,QAEjE,GAAI/X,IAAW,eAAiBA,IAAW,gBACvC/kC,KAAKq3D,2BAGT3jB,EAAO71C,EAAKkR,IAAI2kC,GAAQ,EAAGoJ,GAC3B32B,EAAWllB,EAAWklB,GAAYA,EAAWvoB,EAE7C,IAAI2C,EAAOP,KACP68D,EAAWh/D,EAAKqP,IAAIrP,EAAK8G,MAAM+uC,EAAOyF,GAAO,GAAKA,EAClDnnC,EAAOnU,EAAKkR,IAAI8tD,EAAW1jB,EAAM2D,GACjC74C,EAEJA,EAAO1D,EAAKk8D,WAAW/oB,EAAM71C,EAAKkR,IAAI2kC,EAAOyF,EAAM2D,GAAQ32B,GAE3D,IAAKliB,EAAKnE,QAAUg9C,IAAU,KAAOv8C,EAAK04D,oBAAqB,CAC3D14D,EAAKu8D,kBAAkB74D,EAAMyvC,EAAMyF,EAAM54C,EAAKw8D,mBAAqBF,EAAUt8D,EAAKy8D,eAAiBhrD,EAAM,CACrG+yB,OAAQA,IAEZxkC,EAAKw8D,kBAAoB,KACzBx8D,EAAKy8D,cAAgB,KACrB72C,IACA,OAGJ,GAAI5lB,EAAKgyD,gBAAiB,CACtBhyD,EAAKw8D,kBAAoBF,EACzBt8D,EAAKy8D,cAAgBhrD,EAErB6qD,EAAWh/D,EAAKqP,IAAIrP,EAAK8G,MAAMpE,EAAK08D,gBAAgBvpB,EAAMyF,GAAQA,GAAO,GAAKA,EAC9EnnC,EAAOnU,EAAKkR,IAAI8tD,EAAW1jB,EAAM2D,GAGrC,GAAI3D,IAAS97C,IAAckD,EAAK04D,oBAC5B,GAAK14D,EAAKgyD,kBAAoBhyD,EAAK28D,kBAAkBL,EAAU1jB,KAAW54C,EAAK48D,aAAaN,EAAU7qD,GAClGzR,EAAK68D,SAASP,EAAU1jB,EAAM,WAC1B,GAAIzF,EAAOmpB,GAAY7qD,EAAOzR,EAAKu8C,UAAYv8C,EAAK48D,aAAanrD,EAAMnU,EAAKkR,IAAIiD,EAAOmnC,EAAM54C,EAAKu8C,UAC9Fv8C,EAAK68D,SAASprD,EAAMmnC,EAAM,WACtB54C,EAAKwpD,MAAMrW,EAAMyF,EAAMhzB,UAG3B5lB,EAAKwpD,MAAMrW,EAAMyF,EAAMhzB,UAG5B,GAAI02C,EAAWnpB,EAClBnzC,EAAK68D,SAASprD,EAAMmnC,EAAM,WACtB54C,EAAKwpD,MAAMrW,EAAMyF,EAAMhzB,MAMvCs2C,WAAY,SAAStwD,EAAOvI,EAAKuiB,GAC7B,IAAI5lB,EAAOP,KACP+uD,EAASxuD,EAAKuvD,QACd/F,EACA9lD,EAAO,GACPo5D,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAl+D,EAAUc,EAAKd,QACf+4D,EAAS/4D,EAAQmyD,eAAiBnyD,EAAQoyD,cAAgBpyD,EAAQqyD,iBAAmBryD,EAAQyvD,gBAAkBzvD,EAAQsyD,iBACvH6L,EACA1qD,EACApT,EACA+9D,EAAkB,CACV1kB,KAAMv1C,EAAMuI,EACZunC,KAAMvnC,EACN+sD,QAAS,EACTH,MAAO,EACPI,eAAgB,MAExB2E,EACAC,EAAex9D,EAAKgyD,gBACpByL,EAAaD,EAAe,aAAe,QAC3CE,EAAWF,EAAe,WAAa,MACvCG,EAEJ,IAAKb,EAAU,EAAGv9D,EAASivD,EAAOjvD,OAAQu9D,EAAUv9D,EAAQu9D,IAAW,CACnEtT,EAAQgF,EAAOsO,GAEf,GAAIU,EAAc,CACd,GAAIhU,EAAMiN,YAAcpzD,EACpB,MAAO,GAGX,GAAIuI,EAAQ49C,EAAMkN,SAAU,CACxB4G,EAAgB3E,SAAWnP,EAAMkN,UAAY6G,GAAgB,GAC7DA,EAAe/T,EAAMkN,SACrB,SAGJ,UAAW6G,IAAiB,aAAeA,GAAgB/T,EAAMiN,WAC7D6G,EAAgB3E,SAAWnP,EAAMiN,WAAa8G,EAGlD,GAAID,EAAgB3E,QAAU2E,EAAgBnqB,KAC1C,MAAO,GAGX,UAAWoqB,IAAiB,aAAe3xD,EAAQ,GAAK49C,EAAM59C,MAAQ,EAClE0xD,EAAgB3E,QAAUnP,EAAMiN,WAGpCsG,EAAUD,EACV,MAAO,KAAM,CACTr9D,KAAK24D,kBAAkB5O,EAAM9lD,KAAMA,EAAM45D,EAAiB,KAAM13C,GAChE+3C,EAAoB39D,EAAK07D,sBAAsBh4D,EAAM,KAAM,gBAE3D,GAAIi6D,GAAqBL,EAAgB1kB,KACrC,OAAOl1C,EAGX,GAAI1D,EAAK04D,oBACL,MAAO,GAEXqE,IAEA,GAAIvO,EAAOuO,IAAYvO,EAAOuO,GAAStG,aAAejN,EAAMkN,SACxDlN,EAAQgF,EAAOuO,QAEf,YAGL,GAAInxD,GAAS49C,EAAMiU,IAAe7xD,GAAS49C,EAAMkU,GAAW,CAC/D/qD,EAAQ,EAER,IAAKoqD,EAAUD,EAASC,EAAUx9D,EAAQw9D,IAAW,CACjDvT,EAAQgF,EAAOuO,GACfM,EAAWr9D,EAAKmyD,UAAU3I,EAAM9lD,KAAM,MAEtC,GAAI25D,EAAS99D,QAAUqM,EAAQ+G,GAAS62C,EAAM59C,MAAO,CACjDsxD,EAAY1T,EAAM9lD,KAClBy5D,EAAW3T,EAAMnmD,IAEjB,IAAK40D,EAAQ,CACT,GAAI/4D,EAAQuyD,YACR2L,EAAYp9D,EAAK23D,cAAcnO,EAAM9lD,KAAM,CAAEgsB,OAAQ1vB,EAAK0vB,eACvD,CACH,IAAInP,EAAOqoC,GAA6B5oD,EAAK+pD,SAAW,IAAIh2C,OAAOqxC,GAAcplD,EAAKugB,QAAU,KAChG68C,EAAYp9D,EAAK23D,cAAcnO,EAAM9lD,KAAM,CAAE6c,KAAMA,EAAMmP,OAAQ1vB,EAAK0vB,WAE1E2tC,EAAWH,EAAYE,EAAU15D,KAEjC,GAAI05D,EAAU7gB,QAAUz/C,EACpBqgE,EAAWC,EAAU7gB,MAI7BygB,EAAa,EACb,GAAIpxD,EAAQ+G,EAAQ62C,EAAM59C,MACtBoxD,EAAcpxD,EAAQ+G,EAAS62C,EAAM59C,MAEzCqxD,EAAWI,EAAS99D,OACpB,GAAI49D,EAAW95D,EACX45D,EAAWA,GAAYE,EAAW95D,GAEtCsP,GAASsqD,EAAWD,EACpBt5D,EAAO1D,EAAK49D,aAAal6D,EAAMw5D,EAAWF,EAAYC,GAEtD,GAAI55D,GAAOmmD,EAAMnmD,KAAOsP,GAAStP,EAAMuI,EACnC,OAAOlI,GAInB,MAEJ65D,EAAe/T,EAAMkN,SAEzB,MAAO,IAGXmH,mBAAoB,SAAUvB,GAC1B,IAAIt8D,EAAOP,KACX,IAAI+uD,EAASxuD,EAAKuvD,QAClB,IAAIuO,EAAW,EACf,IAAIx+D,EAAI,EAER,MAAO,KAAM,CACT,IAAIkqD,EAAQgF,EAAOlvD,GACnB,IAAKkqD,GAASA,EAAMiN,WAAa6F,EAC7B,MAGJ,GAAI9S,EAAMkN,UAAYlN,EAAMnmD,IACxBy6D,EAAWtU,EAAMkN,SAAWlN,EAAMnmD,IAEtC/D,IAGJ,OAAOw+D,GAGXF,aAAc,SAASl6D,EAAM8lD,EAAOrW,EAAMyF,GACtC,GAAIn5C,KAAKqyD,mBAAoB,CACzB,IAAIqH,EAAO3P,EAAMnkD,SACb04D,EAEJ,GAAIr6D,EAAKnE,OACLw+D,EAAYr6D,EAAKA,EAAKnE,OAAS,GAGnCquD,GAAYmQ,EAAW5E,EAAMhmB,EAAMyF,GAEnC,OAAOl1C,EAAKqQ,OAAOolD,GAEvB,OAAOz1D,EAAKqQ,OAAOy1C,EAAM5qD,MAAMu0C,EAAMyF,KAGzC2jB,kBAAmB,SAAS74D,EAAMyvC,EAAMyF,EAAM0jB,EAAU7qD,EAAMusD,GAC1D,IAAIh+D,EAAOP,KAEXO,EAAKm3D,SAAWr6D,EAEhBkD,EAAKm2D,MAAQhjB,EAAOnzC,EAAKmzC,SAAWnzC,EAAKi+D,cAAgB3gE,EAAKkR,IAAIiD,GAAOzR,EAAKq7D,aAAe,GAAKr7D,EAAK44C,QAAU0jB,EAEjHt8D,EAAKg4D,mBAAqB7kB,EAE1BnzC,EAAKw3D,MAAQ5e,EAEb,IAAIslB,EAASl+D,EAAKd,QAAQoyD,aAC1B,IAAI6M,EAAUn+D,EAAKd,QAAQmyD,cAC3B,IAAI+M,EAAYp+D,EAAKd,QAAQqyD,gBAC7B,IAAI5I,EAAa3oD,EAAKd,QAAQsyD,iBAC9B,IACIxxD,EAAKd,QAAQoyD,aAAe,KAC5B,IAAKtxD,EAAK8xD,sBAAwB9xD,EAAK+pD,SAAW/pD,EAAK+pD,QAAQxqD,QAC3DS,EAAKd,QAAQmyD,cAAgB,KAEjCrxD,EAAKd,QAAQqyD,gBAAkB,KAC/BvxD,EAAKd,QAAQoyD,aAAe,KAC5BtxD,EAAKd,QAAQsyD,iBAAmB,KAEhC,GAAI0M,EAAQ,CACRl+D,EAAKkxD,2BACLlxD,EAAKqvD,MAAQ3rD,EAAO1D,EAAKmxD,SAASztD,GAEtC1D,EAAKyyD,SAAS/uD,EAAMs6D,GACtB,QACEh+D,EAAKd,QAAQoyD,aAAe4M,EAC5Bl+D,EAAKd,QAAQmyD,cAAgB8M,EAC7Bn+D,EAAKd,QAAQqyD,gBAAkB6M,EAC/Bp+D,EAAKd,QAAQsyD,iBAAmB7I,IAIxCxV,KAAM,WACF,IAAInzC,EAAOP,KAEX,GAAIO,EAAKm2D,QAAUr5D,EACf,OAAQkD,EAAK2vD,QAAU7yD,GAAakD,EAAK2vD,MAAS,IAAM3vD,EAAK44C,QAAU,GAAK97C,EAEhF,OAAOkD,EAAKm2D,OAGhBsB,kBAAmB,WACf,OAAOh4D,KAAKu4D,oBAAsB,GAGtCpf,KAAM,WACF,OAAOn5C,KAAK+3D,OAAS/3D,KAAKiwD,WAG9B2O,wBAAyB,SAAUlrB,EAAM1hC,EAAMmU,EAAUuF,GACrD,IAAInrB,EAAOP,KACX,IAAI82D,EAAYv2D,EAAKw2D,aAErB,OAAO,SAAS9yD,GACZ,IAAIgwD,EAAQ,MACRlK,EAAQ,CAAE59C,MAAOunC,EAAM9vC,IAAKoO,EAAM/N,KAAM,GAAI6yD,UAAWv2D,EAAKw2D,cAC5Dp1D,EACA7B,EACA45D,EAEJn5D,EAAK61D,kBAEL71D,EAAK8B,QAAQ49C,EAAY,CAAEvC,SAAUz5C,EAAMsD,KAAM,SAEjDtD,EAAO1D,EAAKixD,OAAO9U,MAAMz4C,GAEzBy1D,EAAOn5D,EAAKkyD,UAAUxuD,GAEtB,GAAIy1D,EAAK55D,OAAQ,CACb,IAAK6B,EAAM,EAAG7B,EAASS,EAAKuvD,QAAQhwD,OAAQ6B,EAAM7B,EAAQ6B,IACtD,GAAIpB,EAAKuvD,QAAQnuD,GAAKwK,QAAUunC,EAAM,CAClCugB,EAAQ,KACRlK,EAAQxpD,EAAKuvD,QAAQnuD,GAErB,IAAKpB,EAAKgyD,gBAAiB,CACvBxI,EAAM6J,aAAe8F,EACrB3P,EAAM9lD,KAAO1D,EAAKmxD,SAASgI,GAC3B3P,EAAMnmD,IAAMmmD,EAAM59C,MAAQ5L,EAAKmyD,UAAU3I,EAAM9lD,KAAM,MAAMnE,OAC3DS,EAAK22D,cAGT,MAIR,IAAKjD,EACD1zD,EAAKwyD,UAAUxyD,EAAKmxD,SAASgI,GAAOhmB,GAI5CnzC,EAAKiwD,OAASjwD,EAAKixD,OAAO1U,MAAM74C,GAEhC,GAAIynB,IAAUorC,GAAav2D,EAAKo6D,2BAA6Bp6D,EAAKq6D,yBAC9D,GAAIz0C,GAAYuzC,EAAK55D,OACjBqmB,SAEA5lB,EAAK8B,QAAQ4nC,EAAQ,MAMrCmzB,SAAU,SAAS1pB,EAAMyF,EAAMhzB,GAC3B,IAAI5lB,EAAOP,KACPgS,EAAOnU,EAAKkR,IAAI2kC,EAAOyF,EAAM54C,EAAKu8C,SAClCr9C,EAAU,CACN05C,KAAMA,EACNzF,KAAMA,EACNiF,KAAMjF,EAAOyF,EAAO,EACpBT,SAAUS,EACVr4B,KAAMvgB,EAAK4vD,MACXlgC,OAAQ1vB,EAAK8vD,QACb/F,MAAO/pD,EAAK+vD,OACZ1G,UAAWrpD,EAAKgwD,YAIxB,GAAKhwD,EAAKgyD,kBAAoBhyD,EAAK8xD,oBAAsB9xD,EAAK28D,kBAAkBxpB,EAAM1hC,GAAQ,CAC1F,GAAImU,EACAA,IAEJ,OAGJ,GAAK5lB,EAAK+xD,wBAA0B/xD,EAAK28D,kBAAkBxpB,EAAM1hC,KAAWzR,EAAK48D,aAAazpB,EAAM1hC,GAAO,CACvGwiB,aAAaj0B,EAAK85D,UAElB95D,EAAK85D,SAAWlnC,WAAW,WACvB5yB,EAAK21D,cAAcz2D,EAAS,WACxB,IAAKc,EAAK8B,QAAQ09C,EAAc,CAAEx4C,KAAM,SAAW,CAC/C,GAAIhH,EAAKi+D,cACLj+D,EAAK8B,QAAQ29C,GAEjBz/C,EAAK45C,UAAUb,KAAK,CAChBr1C,KAAM1D,EAAK01D,QAAQx2D,GACnBg+C,QAASl9C,EAAKq+D,wBAAwBlrB,EAAM1hC,EAAMmU,GAClDZ,MAAO,WACH,IAAI4L,EAAOhyB,EAAMqD,KAAK5C,WACtBW,EAAKglB,MAAM7kB,MAAMH,EAAM4wB,WAI/B5wB,EAAK61D,qBAGd,UACA,GAAIjwC,EACPA,KAIR04C,kBAAmB,SAASnrB,EAAMyF,EAAMhzB,GACpC,IAAI5lB,EAAOP,KACPgS,EAAOnU,EAAKkR,IAAI2kC,EAAOyF,EAAM54C,EAAKu8C,SAClCr9C,EAAU,CACN05C,KAAMA,EACNzF,KAAMA,EACNiF,KAAMjF,EAAOyF,EAAO,EACpBT,SAAUS,EACVr4B,KAAMvgB,EAAK4vD,MACXlgC,OAAQ1vB,EAAK8vD,QACb/F,MAAO/pD,EAAK+vD,OACZ1G,UAAWrpD,EAAKgwD,YAGxB,IAAKhwD,EAAK48D,aAAazpB,EAAM1hC,IACzB,IAAKzR,EAAK8B,QAAQ09C,EAAc,CAAEx4C,KAAM,SACpChH,EAAK45C,UAAUb,KAAK,CAChBr1C,KAAM1D,EAAK01D,QAAQx2D,GACnBg+C,QAASl9C,EAAKq+D,wBAAwBlrB,EAAM1hC,EAAMmU,EAAU,aAGjE,GAAIA,EACPA,KAIR82C,gBAAiB,SAAU9wD,EAAOgtC,GAC9B,IAAI54C,EAAOP,KACX,IAAI8+D,EAAYv+D,EAAKw+D,cAAc5yD,GACnC,IAAI5C,EACJ,IAAIuzC,EAAQv8C,EAAKu8C,QACjB,IAAIuhB,EAEJ,GAAIS,EAAW,CACXT,EAAW99D,EAAK69D,mBAAmBjyD,GAEnC,IAAKkyD,EACD,OAAOlyD,EAEXA,GAASkyD,EAEb90D,EAAS1L,EAAKqP,IAAIrP,EAAK8G,MAAMwH,EAAQgtC,GAAO,GAAKA,EAEjD,GAAI5vC,EAASuzC,EACT,MAAO,KAAM,CACTvzC,GAAU4vC,EACV,GAAI5vC,EAASuzC,EACT,MAIZ,OAAOvzC,GAGXy1D,cAAe,SAAUp7D,GACrB,IAAIrD,EAAOP,KACP+uD,EAASxuD,EAAKuvD,QACdnuD,EACA7B,EAEJ,IAAK6B,EAAM,EAAG7B,EAASivD,EAAOjvD,OAAQ6B,EAAM7B,EAAQ6B,IAChD,GAAIotD,EAAOptD,GAAKwK,OAASvI,GAAOmrD,EAAOptD,GAAKiC,KAAOA,EAC/C,OAAOmrD,EAAOptD,IAK1Bo9D,cAAe,SAAU5yD,GACrB,IAAI5L,EAAOP,KACP+uD,EAASxuD,EAAKuvD,QACdnuD,EACAooD,EACAjqD,EAASivD,EAAOjvD,OAEpB,IAAK6B,EAAM7B,EAAS,EAAG6B,GAAO,EAAGA,IAC7B,GAAIotD,EAAOptD,GAAKq1D,YAAc7qD,EAAO,CACjC49C,EAAQgF,EAAOptD,GACf,MAKR,OAAOooD,GAGXoT,aAAc,SAAShxD,EAAOvI,GAC1B,IAAIrD,EAAOP,KACP+uD,EAASxuD,EAAKuvD,QACdnuD,EACA7B,EAEJ,IAAK6B,EAAM,EAAG7B,EAASivD,EAAOjvD,OAAQ6B,EAAM7B,EAAQ6B,IAChD,GAAIotD,EAAOptD,GAAKwK,OAASA,GAAS4iD,EAAOptD,GAAKiC,KAAOA,EACjD,OAAO,KAIf,OAAO,OAGXs5D,kBAAmB,SAAU/wD,EAAOvI,GAChC,IAAIrD,EAAOP,KACP+uD,EAASxuD,EAAKuvD,QACdnuD,EACA7B,EACAm/D,EAAsB,EACtBniB,EAAQv8C,EAAKw7D,YAAY,MAE7B,GAAIn4D,EAAMk5C,IAAUv8C,EAAK8xD,mBACrBzuD,EAAMk5C,EAGV,IAAKn7C,EAAM,EAAG7B,EAASivD,EAAOjvD,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACvD,IAAIooD,EAAQgF,EAAOptD,GACnB,GAAIooD,EAAMiN,YAAc7qD,GAAS49C,EAAMkN,UAAY9qD,EAC/C8yD,GAAuBlV,EAAMkN,SAAW9qD,OACrC,GAAI49C,EAAMiN,YAAcpzD,GAAOmmD,EAAMkN,UAAYrzD,EACpDq7D,GAAuBr7D,EAAMmmD,EAAMiN,WAI3C,OAAOiI,GAAuBr7D,EAAMuI,GAGxCqnD,qBAAsB,WAClB,IAAIjzD,EAAOP,KACX,IAAI+uD,EAASxuD,EAAKuvD,QAClB,IAAI3jD,EAAQ5L,EAAKy3D,oBACjB,IAAIp0D,EAAMuI,GAAS5L,EAAK44C,QAAU,GAClC,IAAIoa,EAAY,GAChB,IAAIxJ,EACJ,IAAIpoD,EACJ,IAAI7B,EAASivD,EAAOjvD,OAEpB,IAAK6B,EAAM,EAAGA,EAAM7B,EAAQ6B,IAAO,CAC/BooD,EAAQgF,EAAOptD,GAEf,GAAKooD,EAAM59C,OAASA,GAAS49C,EAAMnmD,KAAOuI,GAAW49C,EAAM59C,OAASA,GAAS49C,EAAM59C,OAASvI,EACxF2vD,EAAUrxD,KAAK6nD,GAIvB,OAAOwJ,GAGXiB,uBAAwB,SAAS3W,GAC7B,IAAIt9C,EAAOP,KACX,IAAI+pD,EAEJ,IAAK,IAAIpoD,EAAM,EAAG7B,EAASE,KAAK8vD,QAAQhwD,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACjEooD,EAAQ/pD,KAAK8vD,QAAQnuD,GAErBpB,EAAK2+D,sBAAsBnV,EAAOlM,GAGtCt9C,EAAK4+D,uBAGTD,sBAAuB,SAASnV,EAAOlM,GACnC79C,KAAKk0D,UAAUnK,EAAM9lD,KAAM,SAASA,GAChC,IAAKA,EACD,OAEJ,IAAK,IAAItC,EAAM,EAAGA,EAAMsC,EAAKnE,OAAQ6B,IAAO,CACxC,IAAI2sB,EAAWrqB,EAAKtC,GAEpB,GAAI2sB,EAASi0B,KAAOj0B,EAASi0B,KAAO1E,EAAM0E,IAAK,CAC3C,GAAG9/C,OAAOD,KAAKyB,EAAMtC,EAAK,GAC1B,WAMhB0xD,oBAAqB,SAASlkD,EAAO0uC,GACjC,IAAIt9C,EAAOP,KACX,IAAI+uD,EAASxuD,EAAKuvD,SAAW,GAC7B,IAAIgL,EAAe/L,EAAOjvD,OAC1B,IAAIiqD,EACJ,IAAIlqD,EAEJ,IAAKA,EAAI,EAAGA,EAAIi7D,EAAcj7D,IAAK,CAC/BkqD,EAAQgF,EAAOlvD,GAEf,GAAIkqD,EAAM59C,OAASgD,GAAS46C,EAAMnmD,KAAOuL,EAAO,CAC5C,IAAK5O,EAAKsyD,UAAUhV,EAAM0E,IAAKwH,EAAM9lD,MACjC,GAAI1D,EAAK8xD,mBACLtI,EAAM9lD,KAAKxB,OAAO0M,EAAO,EAAG5O,EAAK6yD,kBAAkBvV,SAEnDkM,EAAM9lD,KAAKxB,OAAO0M,EAAO,EAAG0uC,GAIpC,OAIRt9C,EAAK4+D,uBAGTA,oBAAqB,WACjB,IAAI5+D,EAAOP,KACX,IAAI+uD,EAASxuD,EAAKuvD,SAAW,GAC7B,IAAIgL,EAAe/L,EAAOjvD,OAC1B,IAAIs/D,EAAgB,MACpB,IAAIC,EAAiB,EACrB,IAAIC,EAAmB,EACvB,IAAIC,EACJ,IAAIxV,EACJ,IAAIlqD,EAEJ,IAAKA,EAAI,EAAGA,EAAIi7D,EAAcj7D,IAAK,CAC/BkqD,EAAQgF,EAAOlvD,GACf0/D,EAAch/D,EAAKgyD,gBAAkBxI,EAAM9lD,KAAKnE,OAASS,EAAKmyD,UAAU3I,EAAM9lD,KAAM,MAAMnE,OAC1Fw/D,EAAmBC,EAAc1hE,EAAKyM,IAAIy/C,EAAMnmD,IAAMmmD,EAAM59C,OAE5D,IAAKizD,GAAiBE,IAAqB,EAAG,CAC1CF,EAAgB,KAChBC,EAAiBC,EACjBvV,EAAMnmD,KAAOy7D,EACb,SAGJ,GAAID,EAAe,CACfrV,EAAM59C,OAASkzD,EACftV,EAAMnmD,KAAOy7D,KAKzBhI,yBAA0B,WACtB,IAAI92D,EAAOP,KACX,IAAI+uD,EAASxuD,EAAKuvD,SAAW,GAC7B,IAAIgL,EAAe/L,EAAOjvD,OAC1B,IAAIu/D,EAAiB,EACrB,IAAItV,EACJ,IAAIlqD,EACJ,IAAIi/D,EACJ,IAAIS,EAEJ,IAAK1/D,EAAI,EAAGA,EAAIi7D,EAAcj7D,IAAK,CAC/BkqD,EAAQgF,EAAOlvD,GACf0/D,EAAch/D,EAAKgyD,gBAAkBhyD,EAAK07D,sBAAsBlS,EAAM9lD,KAAM,KAAM,QAAS,MAAQ1D,EAAKmyD,UAAU3I,EAAM9lD,KAAM,MAAMnE,OAEpI,GAAIg/D,EAAW,CACX,GAAIA,EAAUl7D,KAAOmmD,EAAM59C,MACvBkzD,EAAiBtV,EAAM59C,MAAQ2yD,EAAUl7D,IAE7CmmD,EAAMiN,WAAa8H,EAAU7H,SAAWoI,EACxCA,EAAiB,OAEjBtV,EAAMiN,WAAajN,EAAM59C,MAG7B49C,EAAMkN,SAAWlN,EAAMiN,WAAauI,EACpCT,EAAY/U,MAKpB6G,GAAY,GAuFhB,SAAS4O,GAAY3/B,EAAQqe,GACzBre,EAAS3iC,EAAE2iC,GAAQ,GACnB,IAAIpgC,EAAUogC,EAAOpgC,QACrB,IAAIggE,EAAavhB,EAAO,GACxB,IAAIwhB,EAAcxhB,EAAO,GAEzB,IAAIj6C,EAAO,GACX,IAAItC,EAAK7B,EACT,IAAI6/D,EACJ,IAAI5wC,EACJ,IAAIwvB,EACJ,IAAIj3C,EAEJ,IAAK3F,EAAM,EAAG7B,EAASL,EAAQK,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACxD48C,EAAS,GACTxvB,EAAStvB,EAAQkC,GACjBg+D,EAAW5wC,EAAOvN,WAElB,GAAIm+C,IAAa9/B,EACb8/B,EAAW,KAGf,GAAI5wC,EAAOmD,UAAaytC,GAAYA,EAASztC,SACzC,SAGJ,GAAIytC,EACAphB,EAAOohB,SAAWA,EAAS7xC,MAG/BywB,EAAOkhB,EAAW5+C,OAASkO,EAAOqR,KAElC94B,EAAQynB,EAAO8vB,WAAWv3C,MAE1B,GAAIA,GAASA,EAAMs4D,UACft4D,EAAQynB,EAAOznB,WAEfA,EAAQynB,EAAOqR,KAGnBme,EAAOmhB,EAAY7+C,OAASvZ,EAE5BrD,EAAK/B,KAAKq8C,GAGd,OAAOt6C,EAGX,SAAS47D,GAAWrlD,EAAO0jC,GACvB,IAAI4hB,EAAQ5iE,EAAEsd,GAAO,GAAGulD,QAAQ,GAChCC,EAAOF,EAAQA,EAAME,KAAO,GAC5Br+D,EACA7B,EACAmgE,EACAC,EAAahiB,EAAOp+C,OACpBmE,EAAO,GACPk8D,EACA5hB,EACA6hB,EACAze,EAEA,IAAKhgD,EAAM,EAAG7B,EAASkgE,EAAKlgE,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACrD48C,EAAS,GACToD,EAAQ,KACRwe,EAAQH,EAAKr+D,GAAKw+D,MAElB,IAAKF,EAAa,EAAGA,EAAaC,EAAYD,IAAc,CACxDG,EAAOD,EAAMF,GACb,GAAGG,EAAKnuC,SAAS3lB,gBAAkB,KAAM,CACrCq1C,EAAQ,MACRpD,EAAOL,EAAO+hB,GAAYp/C,OAASu/C,EAAKlmD,WAGhD,IAAIynC,EACA19C,EAAK/B,KAAKq8C,GAIlB,OAAOt6C,EAnKX2sD,GAAU1T,OAAS,SAASz9C,EAASwE,EAAM0mB,GACvC,IAAIwvB,EACAkmB,EAAmB5gE,EAAQ06C,UAAYj9C,EAAEM,OAAO,GAAIiC,EAAQ06C,WAAa,KAE7E,GAAIkmB,EAAkB,CAClBA,EAAiB/mB,YAAc+mB,EAAiB/mB,OAAS/6C,EAAS,CAAEwqB,IAAKs3C,EAAiB/mB,MAAS+mB,EAAiB/mB,KAEpH,GAAI75C,EAAQ8H,OAAS,OACjB84D,EAAiB11C,WAAaA,EAGlC,GAAIlrB,EAAQ8H,KAAM,CACdjK,EAAM2G,KAAK84C,WAAaz/C,EAAM2G,KAAK84C,YAAc,GACjDz/C,EAAM2G,KAAK04C,QAAUr/C,EAAM2G,KAAK04C,SAAW,GAE3C,IAAKr/C,EAAM2G,KAAK84C,WAAWt9C,EAAQ8H,MAC/BjK,EAAM8sB,aAAa,sCAAwC3qB,EAAQ8H,KAAO,8FAA+F,aACtK,IAAKtH,EAAc3C,EAAM2G,KAAK84C,WAAWt9C,EAAQ8H,OACpD4yC,EAAY,IAAI78C,EAAM2G,KAAK84C,WAAWt9C,EAAQ8H,MAAM/J,EAAO6iE,EAAkB,CAAEp8D,KAAMA,UAErFo8D,EAAmB7iE,EAAO,KAAM,GAAIF,EAAM2G,KAAK84C,WAAWt9C,EAAQ8H,MAAO84D,GAG7E5gE,EAAQ6tD,OAAS9vD,EAAO,KAAM,GAAIF,EAAM2G,KAAK04C,QAAQl9C,EAAQ8H,MAAO9H,EAAQ6tD,QAGhF,IAAKnT,EACDA,EAAYl5C,EAAWo/D,EAAiB/mB,MAAQ+mB,EAAmB,IAAIpU,GAAgBoU,QAG3FlmB,EAAY,IAAI6R,GAAe,CAAE/nD,KAAMxE,EAAQwE,MAAQ,KAE3D,OAAOk2C,GAGXljC,GAAWimC,OAAS,SAASz9C,GACzB,GAAI/B,EAAQ+B,IAAYA,aAAmBsX,EACxCtX,EAAU,CAAEwE,KAAMxE,GAGrB,IAAIkrB,EAAalrB,GAAW,GACxBwE,EAAO0mB,EAAW1mB,KAClBi6C,EAASvzB,EAAWuzB,OACpB1jC,EAAQmQ,EAAWnQ,MACnBqlB,EAASlV,EAAWkV,OACpBl+B,EACA7B,EACA+9C,EAAQ,GACRh9B,EAEJ,IAAK5c,GAAQi6C,IAAWvzB,EAAWwvB,UAC/B,GAAI3/B,EACAvW,EAAO47D,GAAWrlD,EAAO0jC,QACtB,GAAIre,EAAQ,CACf57B,EAAOu7D,GAAY3/B,EAAQqe,GAE3B,GAAIvzB,EAAW2/B,QAAUjtD,GAAa4G,EAAK,IAAMA,EAAK,GAAG07D,WAAatiE,EAClEstB,EAAW2/B,MAAQ,WAK/B,GAAIhtD,EAAM2G,KAAKg6C,OAASC,KAAYvzB,EAAW2iC,SAAW3iC,EAAW2iC,OAAOzP,OAAQ,CAChF,IAAKl8C,EAAM,EAAG7B,EAASo+C,EAAOp+C,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACvDkf,EAAQq9B,EAAOv8C,GACf,GAAIkf,EAAMtZ,KACNs2C,EAAMh9B,EAAMA,OAASA,EAI7B,IAAK+O,EAAciuB,GACflzB,EAAW2iC,OAAS9vD,EAAO,KAAMmtB,EAAW2iC,OAAQ,CAAEzP,MAAQ,CAAEK,OAAQL,KAIhFlzB,EAAW1mB,KAAOA,EAElB47B,EAAS,KACTlV,EAAWkV,OAAS,KACpBrlB,EAAQ,KACRmQ,EAAWnQ,MAAQ,KAEnB,OAAOmQ,aAAsB1T,GAAa0T,EAAa,IAAI1T,GAAW0T,IAoF1E,IAAI21C,GAAOriB,GAAM3hD,OAAO,CACpB6hD,QAAS,KAET19C,KAAM,SAAS6G,GACX,IAAI/G,EAAOP,KACPugE,EAAchgE,EAAKggE,aAAej5D,GAASA,EAAMi5D,YACjDC,EAAgB,QAChBC,EAAkB,GAEtBnjE,EAAM2G,KAAKg6C,MAAMt9C,GAAGF,KAAK+B,KAAKjC,EAAM+G,GAEpC,UAAW/G,EAAK8gD,WAAa9iD,EACzBiiE,EAAgBjgE,EAAK8gD,SAGzBof,EAAkB,CACdnT,OAAQ,CACJrpD,KAAMu8D,EACN3iB,MAAO,CACH0iB,YAAaA,EACb/jE,GAAI+D,EAAK49C,QACTD,OAAQ39C,EAAK29C,UAKzB,UAAW39C,EAAK8gD,WAAa9iD,EACzBf,EAAOijE,EAAiBlgE,EAAK8gD,UAGjCof,EAAgBx8D,KAAOqD,EAEvB,IAAKi5D,EACDA,EAAcE,EAAgBnT,OAAOrpD,KAGzC,UAAWs8D,IAAgBhiE,EACvBgiE,EAAcjjE,EAAM6rB,OAAOo3C,GAG/B,GAAIt/D,EAAWs/D,GAAc,CACzB,IAAIG,EAAoBH,EAAY/9D,KAAKjC,EAAMA,GAE/C,GAAGmgE,GAAqBA,EAAkB5gE,SAAW,EACjDS,EAAKggE,YAAc,WAEnBhgE,EAAKggE,cAAgBG,EAI7BngE,EAAKogE,iBAAmBF,EAExB,GAAIlgE,EAAKggE,YACLhgE,EAAKqgE,gBAGTrgE,EAAKsgE,WAAav5D,GAASA,EAAMu5D,UAGrCD,cAAe,WACX,IAAIrgE,EAAOP,KACX,IAAIqhD,EAAUlH,EAAWgD,EAEzB,KAAM58C,EAAK8gD,oBAAoBnqC,IAAyB,CACpDmqC,EAAW9gD,EAAK8gD,SAAW,IAAInqC,GAAuB3W,EAAKogE,kBAE3DxmB,EAAYkH,EAASlH,UACrBgD,EAAehD,EAAUgD,aAEzBhD,EAAUgD,aAAe,SAASl5C,EAAMsD,GACpCtD,EAAK1D,EAAK49C,SAAW,MAAQ59C,EAAK/D,GAElC,GAAI2gD,EACAl5C,EAAOk5C,EAAa36C,KAAKjC,EAAM0D,EAAMsD,GAGzC,OAAOtD,GAGXo9C,EAAS9rC,OAAS,WACd,OAAOhV,GAGX8gD,EAAS9/C,KAAK0oC,EAAQ,SAAS3nC,GAC3BA,EAAEm6B,KAAOn6B,EAAEm6B,MAAQl8B,EACnBA,EAAK8B,QAAQ4nC,EAAQ3nC,KAGzB++C,EAAS9/C,KAAKu+C,EAAO,SAASx9C,GAC1B,IAAIy4C,EAAax6C,EAAKgV,SAEtB,GAAIwlC,EAAY,CACZz4C,EAAEm6B,KAAOn6B,EAAEm6B,MAAQl8B,EACnBw6C,EAAW14C,QAAQy9C,EAAOx9C,MAIlC++C,EAAS9/C,KAAK2+C,EAAa,SAAU59C,GACjC,IAAIy4C,EAAax6C,EAAKgV,SAEtB,GAAIwlC,EACAA,EAAW14C,QAAQ69C,EAAa59C,KAIxC/B,EAAKugE,yBAIbC,OAAQ,SAASljB,GACb79C,KAAK4gE,gBACL5gE,KAAKghE,OAAO,MACZhhE,KAAKqhD,SAASt9B,IAAI85B,IAGtB0iB,YAAa,MAEbU,MAAO,WACH,IAAIz/C,EAAaxhB,KAAKwhB,aAClBy/C,EAAQ,EAEZ,MAAOz/C,GAAcA,EAAWA,WAAY,CACxCy/C,IACAz/C,EAAaA,EAAWA,WAAaA,EAAWA,aAAe,KAGnE,OAAOy/C,GAGXH,qBAAsB,WAClB,IAAIvd,EAAYvjD,KAAK2gE,iBAAiBrT,OAAOrpD,KAE7CjE,KAAKujD,GAAa,SAAWvjD,KAAKqhD,SAASp9C,QAG/Ci9D,gBAAiB,WACblhE,KAAK6gE,QAAU,KAEf7gE,KAAK8gE,wBAGTK,KAAM,WACF,IAAI1hE,EAAU,GACd,IAAI2xB,EAAS,SACb,IAAIiwB,EAAUz9B,EAEd,GAAI5jB,KAAKugE,YAAa,CAClBvgE,KAAK4gE,gBAELvf,EAAWrhD,KAAKqhD,SAEhB5hD,EAAQO,KAAKm+C,SAAW,MAAQn+C,KAAKxD,GAErC,IAAKwD,KAAK6gE,QAAS,CACfxf,EAASuO,MAAQvyD,EACjB+zB,EAAS,OAGbiwB,EAAS3/C,IAAIuoC,EAAQjqC,KAAKkhE,gBAAgB3/D,KAAKvB,OAE/C,GAAGA,KAAKohE,aACJ3hE,EAAQwwB,OAAS,CAAEpP,MAAO,eAAgB64B,SAAU,KAAMpyC,MAAO,MAGrEsc,EAAUy9B,EAASjwB,GAAQ3xB,GAC3B,IAAKO,KAAK6gE,QACN7gE,KAAKqC,QAAQ89C,EAAU,CAACv8B,QAASA,EAAS6Y,KAAMz8B,YAGpDA,KAAKghE,OAAO,MAGhB,OAAOp9C,GAAW1mB,EAAEupC,WAAW0rB,UAAUvuC,WAG7CpC,WAAY,WACR,IAAIjQ,EAAQvR,KAAKuV,SAEjB,OAAOhE,EAAMgE,UAGjByrD,OAAQ,SAAS15D,GACb,GAAIA,IAAUjK,EACV2C,KAAK6gE,QAAUv5D,OAEf,OAAOtH,KAAK6gE,SAIpBre,gBAAiB,SAAS3hC,GACtB,OAAOo9B,GAAMt9C,GAAG6hD,gBAAgBhgD,KAAKxC,KAAM6gB,IACnCA,IAAU,YACVA,IAAU,WACVA,IAAU,eACVA,IAAU,sBAI1B,SAASwgD,GAAW5kE,GAChB,OAAO,WACH,IAAIwH,EAAOjE,KAAK4vD,MACZrmD,EAAS0N,GAAWtW,GAAGlE,GAAMiE,MAAMV,KAAMb,EAAMqD,KAAK5C,YAExD,GAAII,KAAK4vD,OAAS3rD,EACdjE,KAAKshE,wBAGT,OAAO/3D,GAIf,IAAI2N,GAAyBD,GAAWzZ,OAAO,CAC3CiD,KAAM,SAAShB,GACX,IAAIg9B,EAAO6jC,GAAKhkE,OAAO,CACnB+kD,SAAU5hD,IAGd,GAAGA,EAAQwwB,SAAWxwB,EAAQqyD,gBAAgB,CAC1C9xD,KAAKuhE,oBAAsB9hE,EAAQwwB,OACnCxwB,EAAQwwB,OAAS,KAGrBhZ,GAAWtW,GAAGF,KAAK+B,KAAKxC,KAAMxC,EAAO,KAAM,GAAI,CAAE8vD,OAAQ,CAAEtP,UAAWvhB,EAAMohB,MAAOphB,IAAUh9B,IAE7FO,KAAKshE,yBAGTA,sBAAuB,WACnB,IAAI/gE,EAAOP,KAEXO,EAAKqvD,MAAMruD,KAAKu+C,EAAO,SAASx9C,GAC5B/B,EAAK8B,QAAQy9C,EAAOx9C,KAGxB/B,EAAKqvD,MAAMruD,KAAK2+C,EAAa,SAAS59C,GAClC/B,EAAK8B,QAAQ69C,EAAa59C,MAIlCuuB,QAAS,WACL,GAAG7wB,KAAK4vD,MACJ,OAAO5vD,KAAK4vD,MAAM/+B,WAAa7wB,KAAKwhE,mBAExC,OAAO,OAGXA,iBAAkB,WACd,IAAIC,EAAY,MAChBzhE,KAAK4vD,MAAMlnB,QAAQ,SAAUjM,GACzB,GAAGA,EAAK8jC,aAAe9jC,EAAK4kB,SAASxwB,UACjC4wC,EAAY,OAGpB,OAAOA,GAGXnoB,KAAM,SAASr1C,GACX,IAAIsF,EAAS0N,GAAWtW,GAAG24C,KAAK92C,KAAKxC,KAAMiE,GAE3C,GAAGjE,KAAKuhE,oBACJ,GAAGvhE,KAAK4vD,OAAS5vD,KAAK4vD,MAAM9vD,OAAS,EACjCE,KAAKiwB,OAAOjwB,KAAKuhE,yBAChB,CACDvhE,KAAKP,QAAQwwB,OAASjwB,KAAKuhE,oBAC3BvhE,KAAKqwD,QAAUjI,GAAgBpoD,KAAKP,QAAQwwB,QAC5CjwB,KAAKuhE,oBAAsB,KAInC,OAAOh4D,GAGXwnB,OAAQ,SAAS0L,GACb,IAAIjb,EAAaib,EAAKjb,aAClBmJ,EAAa3qB,KACbuJ,EAEJ,GAAIiY,GAAcA,EAAWo/C,cACzBj2C,EAAanJ,EAAW6/B,SAG5B93C,EAAS0N,GAAWtW,GAAGowB,OAAOvuB,KAAKmoB,EAAY8R,GAE/C,GAAIjb,IAAemJ,EAAW1mB,OAAOnE,OACjC0hB,EAAW++C,YAAc,MAG7B,OAAOh3D,GAGXk0C,QAAS4jB,GAAW,WAEpBp9D,KAAMo9D,GAAW,QAEjBnO,OAAQ,SAAS/jD,EAAO0uC,GACpB,IAAIr8B,EAAaxhB,KAAKuV,SAEtB,GAAIiM,GAAcA,EAAWo/C,cAAe,CACxCp/C,EAAW++C,YAAc,KACzB/+C,EAAWo/C,gBAGf,OAAO3pD,GAAWtW,GAAGuyD,OAAO1wD,KAAKxC,KAAMmP,EAAO0uC,IAGlD5tB,OAAQ,SAASo7B,GACb,GAAIA,IAAQhuD,EACP,OAAO2C,KAAKqwD,QAGjB,IAAIrwD,KAAKP,QAAQqyD,iBAAmB9xD,KAAK0hE,uBAAuBrW,GAC5DA,EAAM,CAAE5R,MAAO,KAAME,QAAS,CAAC0R,EAAK,CAACxqC,MAAM,eAAgB64B,SAAU,SAAUpyC,MAAO,QAG1FtH,KAAKqC,QAAQ,SACbrC,KAAK07D,OAAO,CAAEzrC,OAAQo7B,EAAK1S,KAAM,KAGrC+oB,uBAAwB,SAASxb,GAC7B,IAAIkE,EACJ,IAAIC,EACJ,IAAInM,EACJ,IAAI2G,EACJ,IAAI50B,EACJ,IAAIg1B,EAAyBjlD,KAAKP,QAAQwlD,uBAE1CiB,EAAcjB,EAAyB/nD,EAAEM,OAAO,GAAI4qD,GAAgBlC,GAAc,CAAEjB,uBAAwBA,IAA2BmD,GAAgBlC,GAEvJ,IAAKA,GAAeA,EAAYvM,QAAQ75C,SAAW,EAAG,CAClDE,KAAK2hE,0BAA0B,WAAW,OAAO,OACjD,OAAO,MAGXvX,EAAW1E,EAAMO,WAAWC,GAC5BhI,EAASkM,EAASlM,OAClB2G,EAAYuF,EAASvF,UAErBwF,EAAYp6B,EAAS,IAAIxrB,SAAS,cAAe,UAAY2lD,EAASnhC,YAEtE,GAAIi1B,EAAOp+C,QAAU+kD,EAAU/kD,OAC3BmwB,EAAS,SAASziB,GACd,OAAO68C,EAAU78C,EAAG0wC,EAAQ2G,IAIpC7kD,KAAK2hE,0BAA0B1xC,GAC/B,OAAO,MAGV0xC,0BAA2B,SAAS1xC,GACjC,IAAIpnB,EACJ,IAAI5E,EAAOjE,KAAK4vD,MAChB,IAAIrmD,EAAS,MAEb,IAAK,IAAI5H,EAAM,EAAGA,EAAMsC,EAAKnE,OAAQ6B,IAAO,CACvCkH,EAAU5E,EAAKtC,GAEf,GAAGkH,EAAQ03D,YAAY,CACnB13D,EAAQu4D,aAAev4D,EAAQw4C,SAASsgB,0BAA0B1xC,GACnE,IAAIpnB,EAAQu4D,aACRv4D,EAAQu4D,aAAenxC,EAAOpnB,QAGlCA,EAAQu4D,aAAenxC,EAAOpnB,GAGlC,GAAGA,EAAQu4D,aACP73D,EAAS,KAGjB,OAAOA,GAGXq4D,MAAO,SAASxwC,EAAQ9pB,GACpB,IAAI3F,EAAK7B,EAAQ28B,EAAM4kB,EACvB,IAAIp9C,EAAOjE,KAAK4vD,MAEhB,IAAK3rD,EACD,OAGJw4B,EAAOxlB,GAAWtW,GAAGywB,GAAQ5uB,KAAKxC,KAAMsH,GAExC,GAAIm1B,EACA,OAAOA,EAGXx4B,EAAOjE,KAAK0yD,UAAU1yD,KAAK4vD,OAE3B,IAAKjuD,EAAM,EAAG7B,EAASmE,EAAKnE,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACrD0/C,EAAWp9C,EAAKtC,GAAK0/C,SAErB,KAAMA,aAAoBnqC,IACtB,SAGJulB,EAAO4kB,EAASjwB,GAAQ9pB,GAExB,GAAIm1B,EACA,OAAOA,IAKnBnT,IAAK,SAAS9sB,GACV,OAAOwD,KAAK4hE,MAAM,MAAOplE,IAG7Bo2D,SAAU,SAASrQ,GACf,OAAOviD,KAAK4hE,MAAM,WAAYrf,MAItC,SAASsf,GAAUC,EAAM5jB,GACrB,IAAI7vB,EAAQnxB,EAAE4kE,GAAMzgB,WAChB1/C,EACA7B,EACAmE,EAAO,GACPs6C,EACAwjB,EAAY7jB,EAAO,GAAGr9B,MACtBmhD,EAAW9jB,EAAO,IAAMA,EAAO,GAAGr9B,MAClCohD,EAAsB/jB,EAAO,IAAMA,EAAO,GAAGr9B,MAC7CqhD,EAAgBhkB,EAAO,IAAMA,EAAO,GAAGr9B,MACvCooB,EACAzsC,EACA2lE,EACAvpD,EACAyoC,EAEJ,SAASjzB,EAAS2sB,EAAY9wB,GAC1B,OAAO8wB,EAAW9qB,OAAOhG,GAASlG,IAAIg3B,EAAWhrB,KAAK9F,IAG1D,IAAKtoB,EAAM,EAAG7B,EAASuuB,EAAMvuB,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACtD48C,EAAS,CAAEsiB,QAAS,MACpB53B,EAAO5a,EAAMyD,GAAGnwB,GAEhBwgE,EAAYl5B,EAAK,GAAG8V,WACpBsC,EAAWpY,EAAKoY,WAChBygB,EAAOzgB,EAASpxB,OAAO,MACvBoxB,EAAWA,EAASpxB,OAAO,YAE3BzzB,EAAKysC,EAAK9yB,KAAK,WAEf,GAAI3Z,EACA+hD,EAAO/hD,GAAKA,EAGhB,GAAI2lE,EACA5jB,EAAOwjB,GAAaI,EAAUzyC,UAAY,EAAIyyC,EAAUjlC,UAAYmkB,EAASjhB,OAGjF,GAAI4hC,EACAzjB,EAAOyjB,GAAY5zC,EAASizB,EAAU,KAAKlrC,KAAK,QAGpD,GAAI+rD,EACA3jB,EAAO2jB,GAAiB9zC,EAASizB,EAAU,OAAOlrC,KAAK,OAG3D,GAAI8rD,EAAqB,CACrBrpD,EAAYwV,EAASizB,EAAU,aAAa70B,KAAK,aACjD+xB,EAAO0jB,GAAuBrpD,GAAatb,EAAMy/B,KAAKnkB,EAAUzY,QAAQ,WAAY,KAGxF,GAAI2hE,EAAKhiE,OACLy+C,EAAOlwB,MAAQwzC,GAAUC,EAAKhwC,GAAG,GAAIosB,GAGzC,GAAIjV,EAAK9yB,KAAK,qBAAuB,OACjCooC,EAAOgiB,YAAc,KAGzBt8D,EAAK/B,KAAKq8C,GAGd,OAAOt6C,EAGXiT,GAAuBgmC,OAAS,SAASz9C,GACrCA,EAAUA,GAAWA,EAAQyC,KAAO,CAAE+B,KAAMxE,GAAYA,EAExD,IAAIkrB,EAAalrB,GAAW,GACxBwE,EAAO0mB,EAAW1mB,KAClBi6C,EAASvzB,EAAWuzB,OACpB4jB,EAAOn3C,EAAWm3C,KAEtB,GAAI79D,GAAQA,EAAKm+D,YACb,OAAOn+D,EAAKm+D,YAGhB,IAAKn+D,GAAQi6C,IAAWvzB,EAAWwvB,UAC/B,GAAI2nB,EACA79D,EAAO49D,GAAUC,EAAM5jB,GAI/BvzB,EAAW1mB,KAAOA,EAElB,OAAO0mB,aAAsBzT,GAAyByT,EAAa,IAAIzT,GAAuByT,IAGlG,IAAI03C,GAAS/kE,EAAM+D,WAAW7D,OAAO,CACjCiD,KAAM,SAASkqB,EAAY23C,EAAUC,GACjCjlE,EAAM+D,WAAWV,GAAGF,KAAK+B,KAAKxC,MAE9BA,KAAKwiE,aAAe,MACpBxiE,KAAK2qB,WAAaA,EAClB3qB,KAAKo9D,UAAYmF,EAEjB,IAAI56B,EAAS3nC,KAEb2qB,EAAWppB,KAAK,SAAU,WACtBomC,EAAOqtB,YAGXrqC,EAAWppB,KAAK,QAAS,WACrBomC,EAAO86B,WAGXziE,KAAK0iE,sBAEL1iE,KAAK2iE,YAAYL,IAGrBK,YAAa,SAASL,GAClBtiE,KAAKsiE,SAAWA,EAChBtiE,KAAK4iE,gBAGThiB,GAAI,SAASzxC,GACT,IAAIupC,EAAW14C,KAAK04C,SAChBmqB,EAAc,KAElB,GAAI1zD,GAASnP,KAAK88C,QAAS,CACvB98C,KAAKqC,QAAQ,aAAc,CAAC8M,MAAOA,IACnC,OAAO,KAGX,IAAKnP,KAAK2yD,UACP,OAAO3yD,KAAK2qB,WAAW+G,OAAOviB,GAEjC,GAAInP,KAAK2yD,UAAW,CAEhB,GAAIxjD,EAAQnP,KAAK8iE,YAAc3zD,GAASnP,KAAK0zC,KAAOgF,EAChDmqB,EAAc7iE,KAAK+pD,MAAMjsD,KAAK6G,MAAMwK,EAAQupC,GAAYA,GAI5D,GAAIvpC,IAAUnP,KAAK+iE,kBACf/iE,KAAK2vD,YAIT,GAAIxgD,IAAUnP,KAAKgjE,iBACfhjE,KAAK+pD,MAAM/pD,KAAKijE,aAAc,WAG7B,GAAI9zD,IAAUnP,KAAKkjE,kBACpBljE,KAAK+pD,MAAM/pD,KAAKmjE,oBAGf,GAAIh0D,IAAUnP,KAAKojE,kBACpB,GAAIpjE,KAAKiU,SAAWjU,KAAK0zC,KACrB1zC,KAAK+pD,MAAM/pD,KAAKqjE,uBAEhBrjE,KAAK+pD,MAAM/pD,KAAKsjE,mBAIxB,GAAIT,EACA,OAAO7iE,KAAK2qB,WAAWi2B,GAAGzxC,EAAQnP,KAAK8iE,gBACpC,CACH9iE,KAAKqC,QAAQ,aAAc,CAAE8M,MAAOA,IACpC,OAAO,QAKnBtC,QAAS,SAASo8B,GACd,OAAOjpC,KAAK2qB,WAAW1mB,OAAO4I,QAAQo8B,GAAQjpC,KAAK8iE,YAGvDhmB,MAAO,WACH,OAAOztC,SAASrP,KAAK2qB,WAAWmyB,QAAS,KAG7C6e,KAAM,WACF,IAAIh0B,EAAS3nC,KACT04C,EAAW/Q,EAAO+Q,SAClBzkC,EAAS0zB,EAAO+L,KAAO/L,EAAO26B,SAAW5pB,EACzCmkB,EAAWh/D,EAAKqP,IAAIrP,EAAK8G,MAAMsP,EAASykC,GAAW,GAAKA,EAE5D14C,KAAKiU,OAASA,EACdjU,KAAK2qB,WAAWyyC,SAASP,EAAUnkB,EAAU,WACzC/Q,EAAO47B,WAAWtvD,EAAQ,SAIlC81C,MAAO,SAAS91C,EAAQuvD,GACpB,GAAIxjE,KAAKiU,SAAWA,EAChB,OAAO,KAGX,IAAI0zB,EAAS3nC,KACT04C,EAAW14C,KAAK04C,SAChBmkB,EAAWh/D,EAAKqP,IAAIrP,EAAK8G,MAAMsP,EAASykC,GAAW,GAAKA,EACxD/tB,EAAa3qB,KAAK2qB,WAEtB,GAAI64C,EACA3G,GAAYnkB,EAGhB,GAAI/tB,EAAW6xC,QAAQvoD,EAAQykC,GAAW,CACtC14C,KAAKiU,OAASA,EACdjU,KAAK4iE,eACL5iE,KAAKujE,WAAWtvD,GAChB,OAAO,UACJ,GAAIjU,KAAKo9D,SAAU,CACtBzyC,EAAWyyC,SAASP,EAAUnkB,EAAU,WACpC/Q,EAAO1zB,OAASA,EAChB0zB,EAAOi7B,eACPj7B,EAAO47B,WAAWtvD,EAAQ,QAE9B,OAAO,MAGX,OAAO,MAGXwvD,eAAgB,WACZ,IAAIxvD,EAASjU,KAAKiU,OAClBjU,KAAKiU,OAAS,KACdjU,KAAK+pD,MAAM91C,IAGfgY,QAAS,WACLjsB,KAAKiC,UAGT0tD,UAAW,WACP,IAAIhoB,EAAS3nC,KACT04C,EAAW14C,KAAK04C,SAChBgrB,EAAiB1jE,KAAK0zC,KAAOgF,EAC7B/tB,EAAa3qB,KAAK2qB,WAEtB,IAAKA,EAAW6xC,QAAQkH,EAAgBhrB,KAAc14C,KAAKwiE,cAAgBxiE,KAAKo9D,SAAU,CACtFp9D,KAAKwiE,aAAe,KACpBxiE,KAAKqC,QAAQ,cAAe,CAAEqxC,KAAMgwB,EAAgBvqB,KAAMT,IAE1D/tB,EAAWyyC,SAASsG,EAAgBhrB,EAAU,WAC1C/Q,EAAO66B,aAAe,MACtB76B,EAAOtlC,QAAQ,aAAc,CAAEqxC,KAAMgwB,EAAgBvqB,KAAMT,QAKvE6qB,WAAY,SAAStvD,EAAQ0vD,GACzB,GAAI3jE,KAAKiU,SAAWA,EAChB,OAGJjU,KAAK8iE,WAAa7uD,EAClBjU,KAAK4jE,WAAaD,EAClB3jE,KAAK2qB,WAAWo/B,MAAM91C,EAAQjU,KAAK04C,UACnC14C,KAAK2qB,WAAWiyC,4BAGpB6F,OAAQ,WACJziE,KAAK6jE,aAAe,MAGxB7O,QAAS,WACL,IAAIrqC,EAAa3qB,KAAK2qB,WAEtB3qB,KAAKF,OAASE,KAAK2yD,UAAYhoC,EAAW+xC,YAAY94D,IAAM+mB,EAAW+G,OAAO5xB,OAE9E,GAAIE,KAAK6jE,aAAc,CACnB7jE,KAAK0iE,sBACL1iE,KAAK4iE,eACL5iE,KAAK6jE,aAAe,MACpB7jE,KAAKqC,QAAQ,QAAS,CAAE4R,OAAQjU,KAAKiU,SAGzCjU,KAAKqC,QAAQ,UAEb,GAAIrC,KAAK4jE,WACL5jE,KAAKqC,QAAQ,iBAGVrC,KAAK4jE,YAGhBlB,oBAAqB,WACjB,IAAI/3C,EAAa3qB,KAAK2qB,WAEtB3qB,KAAK8jE,cAAgBn5C,EAAWgyC,eAChC38D,KAAK8iE,WAAa9iE,KAAKiU,OAAS0W,EAAW+oB,QAAU,EACrD1zC,KAAK04C,SAAW/tB,EAAW+tB,WAC3B14C,KAAK2yD,UAAYhoC,EAAWlrB,QAAQoyD,cAGxC+Q,aAAc,WACV,IAAIlqB,EAAW14C,KAAK04C,SAChBzkC,EAASjU,KAAKiU,OACdquD,EAAWtiE,KAAKsiE,SAChB5uB,EAAO51C,KAAKy+D,KAAKtoD,EAASykC,GAAYA,EAE1C14C,KAAK0zC,KAAOA,EACZ1zC,KAAKgjE,iBAAmBtvB,EAAOgF,EAAW,EAC1C14C,KAAKkjE,kBAAoBxvB,EAAO4uB,EAAW,EAC3CtiE,KAAK+iE,kBAAoBrvB,EAAO51C,KAAK6G,MAAM+zC,EAAW,EAAI,GAC1D14C,KAAKojE,kBAAoBpjE,KAAKiU,OAAS,EAEvCjU,KAAKijE,aAAevvB,EAAOgF,EAAW4pB,EACtCtiE,KAAKmjE,cAAgBzvB,EACrB1zC,KAAKqjE,iBAAmBpvD,EAASquD,EACjCtiE,KAAKsjE,kBAAoB5vB,EAAOgF,KAIpCqrB,GAAczmE,EAAM+D,WAAW7D,OAAO,CACtCiD,KAAM,SAASkqB,EAAYq5C,GACvB,IAAIC,EAAcjkE,KAElB1C,EAAM+D,WAAWV,GAAGF,KAAK+B,KAAKyhE,GAE9BjkE,KAAK2qB,WAAaA,EAClB3qB,KAAKgkE,UAAYA,EACjBhkE,KAAKwwD,OAAS,EAEdxwD,KAAK2nC,OAAS,IAAI06B,GAAO13C,EAAYq5C,EAAY,GAEjDhkE,KAAK2nC,OAAOpmC,KAAK,CACb2iE,WAAc,SAAU5hE,GACpB2hE,EAAY5hE,QAAQ,aAAc,CAAE8M,MAAO7M,EAAE6M,SAEjDg1D,YAAe,SAAU7hE,GACrB2hE,EAAY5hE,QAAQ,cAAe,CAAEqxC,KAAMpxC,EAAEoxC,KAAMyF,KAAM72C,EAAE62C,QAE/DirB,WAAc,SAAU9hE,GACpB2hE,EAAY5hE,QAAQ,aAAc,CAAEqxC,KAAMpxC,EAAEoxC,KAAMyF,KAAM72C,EAAE62C,QAE9DkrB,MAAS,WACLJ,EAAYzT,OAAS,EACrByT,EAAY5hE,QAAQ,UAExBqkB,OAAU,WACNu9C,EAAYzT,OAAS1yD,KAAKy+D,KAAKv8D,KAAKF,OAASmkE,EAAYD,WACzDC,EAAY5hE,QAAQ,SAAU,CAAEy6C,MAAOmnB,EAAYnnB,QAAS7oC,OAAQjU,KAAKiU,aAKrFwvD,eAAgB,WACZzjE,KAAK2nC,OAAO87B,kBAGhB7iB,GAAI,SAASzxC,GACT,IAAIw4B,EAAS3nC,KAAK2nC,OACd+L,EAAOvkC,EAAQnP,KAAKgkE,UACpB7qB,EAAOn5C,KAAKgkE,UACZtyC,EAAO,GACPuX,EAEJ,GAAItB,EAAO1zB,OAASy/B,EAChB/L,EAAOiZ,GAAGjZ,EAAO1zB,OAAS,GAG9B,IAAK,IAAIpU,EAAI,EAAGA,EAAIs5C,EAAMt5C,IAAK,CAC3BopC,EAAOtB,EAAOiZ,GAAGlN,EAAO7zC,GAExB,GAAIopC,IAAS,KACT,MAGJvX,EAAKxvB,KAAK+mC,GAGd,OAAOvX,GAGXorB,MAAO,WACH,OAAO98C,KAAKwwD,QAGhBvkC,QAAS,WACLjsB,KAAK2nC,OAAO1b,UACZjsB,KAAKiC,YA0BjB,OAtBIzE,EAAO,KAAMF,EAAM2G,KAAM,CACrBo7C,QAAS,CACLyB,KAAMuM,IAEV3H,MAAOA,EACPzuC,WAAYA,GACZC,uBAAwBA,GACxBopD,KAAMA,GACNxc,SAAUA,GACVtD,iBAAkBA,EAClBzpC,gBAAiBA,EACjBC,oBAAqBA,EACrBg1C,eAAgBA,GAChBC,gBAAiBA,GACjBC,MAAOA,GACPmB,WAAYA,GACZpP,MAAOA,GACPokB,OAAQA,GACR0B,YAAaA,KAId3mE,OAAOE,QAh+Md,CAk+MoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,eAAe,CAAE,aAAc,cACvC,WAEH,IAAIC,EAAW,CACXC,GAAI,SACJC,KAAM,OACNC,SAAU,YACVC,YAAa,+HACbotC,QAAS,CAAE,OAAQ,SAIZ7sC,EAkkERE,OAAOE,MAAMH,OAlkEFE,OAAd,EACQC,EAAQF,OAAOE,MACf+D,EAAa/D,EAAM+D,WACnBm/C,EAAmBljD,EAAM2G,KAAKu8C,iBAC9BzpC,EAAkBzZ,EAAM2G,KAAK8S,gBAC7BrR,EAAW,GAAGA,SACd4+D,EAAU,GACVpkE,EAAQ5C,EAAM4C,MACdqkE,EAAQ,QACRC,EAAS,SACTC,EAAS,SACTC,EAAU,UACVC,EAAM,MACNC,EAAgB,KAChBtmE,EAAW,WACX2rC,EAAS,SAGLrjC,EAAI4I,SAASwK,cAAc,KAE/B,WACWpT,EAAED,KACX,MAAMrE,GACJsiE,EAAgB,MAIxB,IAAIC,EAAUxjE,EAAW7D,OAAQ,CAC7BiD,KAAM,SAAS6xB,EAAS+W,GACpB,IAAI9oC,EAAOP,KAEXqB,EAAWV,GAAGF,KAAK+B,KAAKjC,GAExBA,EAAKuW,OAASwb,EAAQ,GACtB/xB,EAAK+xB,QAAUA,EACf/xB,EAAK8oC,KAAOA,EACZ9oC,EAAKukE,aAAe,GACpBvkE,EAAKukE,aAAaz7B,GAAQ,KAC1B9oC,EAAKkoC,WAAaloC,EAAKuW,kBAAkBzV,EAEzCd,EAAKwkE,QAAU,SAASziE,GACpB/B,EAAKukE,aAAaxiE,EAAEue,OAAS,MAGjC,GAAItgB,EAAKkoC,WAAY,CACjBloC,EAAKy0D,QAAU,SAAS1yD,GACpB/B,EAAKmrC,OAAOppC,IAGhB/B,EAAKuW,OAAOvV,KAAK0oC,EAAQ1pC,EAAKy0D,WAItCgQ,SAAU,WACN,IAAI1yC,EAAUtyB,KAAKsyB,QACnB,IAAIhrB,EAAQtH,KAAKspB,MAEjB,GAAIhiB,UAAgBA,EAAMiO,QAAU,WAAY,CAC5C,IAAIA,EAASjO,EAAMiO,SAEnB,GAAIrY,EAAEmyB,QAAQ9Z,EAAQ+c,GAAW,EAC7BA,EAAU,CAAC/c,GAAQjB,OAAOge,GAIlC,OAAOA,GAGXoZ,OAAQ,SAASppC,GACb,IAAI2iE,EACAz5D,EACAqV,EAAQve,EAAEue,MACVtgB,EAAOP,KAEX,GAAIO,EAAK8oC,OAAS,OACd9oC,EAAK8B,QAAQ4nC,EAAQ3nC,QAErB,IAAK2iE,KAAc1kE,EAAKukE,aACpB,GAAIG,EAAWp4D,QAAQgU,KAAW,EAAG,CAClCrV,EAAKy5D,EAAWliE,OAAO8d,EAAM/gB,QAE7B,IAAK0L,GAAMA,IAAO,KAAOA,IAAO,IAAK,CAChCjL,EAAK8B,QAAQ4nC,EAAQ3nC,GACrB,SAOpB6J,MAAO,SAAS2K,GACZA,EAAOvV,KAAK,MAAOvB,KAAK+kE,UAG5BtgD,KAAM,SAAS3N,GACXA,EAAO7U,OAAO,MAAOjC,KAAK+kE,UAG9Bz7C,IAAK,WAED,IAAI/oB,EAAOP,KACP8W,EAASvW,EAAKuW,OACd3H,EAAQ,EACRk6B,EAAO9oC,EAAK8oC,KACZ9/B,EAASuN,EAEb,IAAKvW,EAAKkoC,WACN,OAAOl/B,EAGXhJ,EAAK4L,MAAM5L,EAAKuW,QAEhBvN,EAASuN,EAAOwS,IAAI+f,GAGpB,MAAO9/B,IAAWlM,GAAayZ,EAAQ,CAEnCA,EAASvW,EAAK+xB,UAAUnjB,GAExB,GAAI2H,aAAkB0pC,EAClBj3C,EAASuN,EAAOwS,IAAI+f,GAK5B,GAAI9/B,IAAWlM,EAAW,CACtByZ,EAASvW,EAAKuW,OAEd,MAAOvN,IAAWlM,GAAayZ,EAAQ,CACnCA,EAASA,EAAOvB,SAEhB,GAAIuB,aAAkB0pC,EAClBj3C,EAASuN,EAAOwS,IAAI+f,IAMhC,UAAW9/B,IAAW,WAAY,CAC9B4F,EAAQk6B,EAAKr8B,YAAY,KAGzB,GAAImC,EAAQ,EACR2H,EAASA,EAAOwS,IAAI+f,EAAKpmC,UAAU,EAAGkM,IAI1C5O,EAAK4L,MAAM2K,GAEX,GAAIA,IAAWvW,EAAKuW,OAChBvN,EAASA,EAAO/G,KAAKsU,EAAQvW,EAAKuW,aAElCvN,EAASA,EAAO/G,KAAKsU,GAGzBvW,EAAKkkB,KAAK3N,GAId,GAAIA,GAAUA,IAAWvW,EAAKuW,OAAQ,CAElCvW,EAAK2kE,cAAgBpuD,EAGrBA,EAAO7U,OAAOgoC,EAAQ1pC,EAAKy0D,SACpBzzD,KAAK0oC,EAAQ1pC,EAAKy0D,SAG7Bz0D,EAAKkkB,KAAKlkB,EAAKuW,QAEf,OAAOvN,GAGXggB,IAAK,SAASjiB,GACV,IAAIwP,EAAS9W,KAAKklE,eAAiBllE,KAAK8W,OAExC,IAAI+J,EAAQvjB,EAAM6rB,OAAOnpB,KAAKqpC,KAAlB/rC,CAAwBwZ,GAEpC,UAAW+J,IAAU,WACjB,GAAI/J,IAAW9W,KAAK8W,OAChB+J,EAAMre,KAAKsU,EAAQ9W,KAAK8W,OAAQxP,QAEhCuZ,EAAMre,KAAKsU,EAAQxP,QAGvBwP,EAAOyS,IAAIvpB,KAAKqpC,KAAM/hC,IAI9B2kB,QAAS,WACL,GAAIjsB,KAAKyoC,WAAY,CACjBzoC,KAAK8W,OAAO7U,OAAOgoC,EAAQjqC,KAAKg1D,SAChC,GAAGh1D,KAAKklE,cACJllE,KAAKklE,cAAcjjE,OAAOgoC,EAAQjqC,KAAKg1D,SAI/Ch1D,KAAKiC,YAITkjE,EAAeN,EAAQrnE,OAAQ,CAC/B8rB,IAAK,WACD,IAAIxS,EAAS9W,KAAK8W,OACduyB,EAAOrpC,KAAKqpC,KACZl6B,EAAQ,EACRrN,EAEJA,EAAUgV,EAAOwS,IAAI+f,GAErB,OAAQvnC,GAAWgV,EAAQ,CACvBA,EAAS9W,KAAKsyB,UAAUnjB,GAExB,GAAI2H,aAAkB0pC,EAClB1+C,EAAUgV,EAAOwS,IAAI+f,GAI7B,IAAKvnC,EACD,OAGJ,OAAOA,EAAQP,KAAKuV,MAIxBsuD,EAAkBP,EAAQrnE,OAAQ,CAClCiD,KAAM,SAASqW,EAAQuyB,EAAMrlC,GACzB,IAAIzD,EAAOP,KAEX6kE,EAAQlkE,GAAGF,KAAK+B,KAAKjC,EAAMuW,EAAQuyB,GAEnC9oC,EAAKyD,SAAWA,GAGpBD,OAAQ,SAASuD,GACb,IAAIpD,EAEJlE,KAAKmM,MAAMnM,KAAK8W,QAEhB5S,EAAO5G,EAAMyG,OAAO/D,KAAKgE,SAAUsD,GAEnCtH,KAAKykB,KAAKzkB,KAAK8W,QAEf,OAAO5S,KAIXmhE,EAASnlE,EAAM1C,OAAO,CACtBiD,KAAM,SAASoP,EAASy1D,EAAU7lE,GAC9BO,KAAK6P,QAAUA,EACf7P,KAAKslE,SAAWA,EAChBtlE,KAAKP,QAAUA,GAGnB8B,KAAM,SAASgkE,EAAStjC,GACpB,IAAI1hC,EAAOP,KAEXulE,EAAUtjC,EAAYsjC,EAAQtjC,GAAasjC,EAE3CA,EAAQhkE,KAAK0oC,EAAQ,SAAS3nC,GAC1B/B,EAAKuZ,QAAQmoB,GAAa3/B,KAG9B/B,EAAKuZ,QAAQmoB,IAGjBhW,QAAS,eAITu5C,EAAcH,EAAO7nE,OAAO,CAC5B+7C,SAAU,WACN,IAAIA,EAAWv5C,KAAK6P,QAAQmf,aAAa,QAAU1xB,EAAMurB,GAAK,SAAW7oB,KAAK6P,QAAQtI,MAAQ,OAC9F,OAAOgyC,EAASjtC,eAGpBm5D,YAAa,WACT,OAAOzlE,KAAK0lE,YAAY1lE,KAAK6P,QAAQvI,MAAOtH,KAAKu5C,aAGrDmsB,YAAa,SAAUp+D,EAAOiyC,GAC1B,GAAIA,GAAY,OACZjyC,EAAQhK,EAAMmc,UAAUnS,EAAO,mBAC5B,GAAIiyC,GAAY,iBACnBjyC,EAAQhK,EAAMmc,UAAUnS,EAAO,CAAC,sBAAuB,0BACpD,GAAIiyC,GAAY,SACnBjyC,EAAQhK,EAAMuW,WAAWvM,QACtB,GAAIiyC,GAAY,UAAU,CAC7BjyC,EAAQA,EAAMgF,cACd,GAAGhP,EAAMuW,WAAWvM,KAAW,KAC3BA,EAAQf,QAAQjJ,EAAMuW,WAAWvM,SAEjCA,EAASA,EAAMgF,gBAAkB,OAGzC,OAAOhF,KA4kBf,SAASq+D,EAAkBC,EAAariB,EAAWn6B,GAC/C,OAAOi8C,EAAO7nE,OAAO,CACjBiD,KAAM,SAASssB,EAAQu4C,EAAU7lE,GAC7B,IAAIc,EAAOP,KAEXqlE,EAAO1kE,GAAGF,KAAK+B,KAAKjC,EAAMwsB,EAAOld,QAAQ,GAAIy1D,EAAU7lE,GAEvDc,EAAKwsB,OAASA,EACdxsB,EAAKslE,aAAetlE,EAAKulE,YAAYvkE,KAAKhB,GAC1CA,EAAKwlE,WAAaxlE,EAAKylE,UAAUzkE,KAAKhB,GACtCA,EAAK0lE,YAAc1lE,EAAK2lE,WAAW3kE,KAAKhB,IAG5C2lE,WAAY,SAAS5jE,GACjB6jE,EAAY7jE,EAAE2mC,KAAK,GAAI3mC,EAAE2B,KAAMjE,KAAKomE,IAAI9jE,EAAEumB,IAAK,CAACvmB,EAAE2B,MAAMqQ,OAAOtU,KAAKslE,SAASM,GAAaZ,cAG9Fc,YAAa,SAASxjE,GAClB,IAAIX,EACA7B,EACAitB,EAAS/sB,KAAK+sB,OACdsB,EAAQ/rB,EAAE+jE,cAAgBt5C,EAAOsB,QAErC,IAAK1sB,EAAM,EAAG7B,EAASuuB,EAAMvuB,OAAQ6B,EAAM7B,EAAQ6B,IAC/C2kE,EAAkBj4C,EAAM1sB,GAAM,QAItCykE,IAAK,SAASv9C,GACVA,EAAKA,GAAMvrB,EAAM2pB,GACjB,IAAIs/C,EAAM,CAAEjpE,EAAM2pB,GAAI3pB,EAAM6pB,QAAQF,GAAI3pB,EAAM4pB,OAAOD,IACrDs/C,EAAI9jE,OAAOvF,EAAEmyB,QAAQxG,EAAI09C,GAAM,GAC/BA,EAAInkE,QAAQymB,GAEZ,OAAOvrB,EAAMuyB,oBAAoB02C,IAGrCP,UAAW,SAAS1jE,GAChB,IAAIX,EACA7B,EACAitB,EAAS/sB,KAAK+sB,OACdsB,EAAQ/rB,EAAEkkE,YAAcz5C,EAAOsB,QAC/B1D,EAAaoC,EAAOw2B,GACpB7xB,EACAY,EACAm0C,EAAMnpE,EAAM2G,KAAKiT,uBAErB,GAAIuvD,GAAO97C,aAAsB87C,EAG7B,OAGJ,GAAIp4C,EAAMvuB,OAAQ,CACd4xB,EAAOpvB,EAAEokE,gBAAkB/7C,EAAWsD,WACtCqE,EAAUtyB,KAAKslE,SAASM,GAAaZ,WAErC,IAAKrjE,EAAM,EAAG7B,EAAS4xB,EAAK5xB,OAAQ6B,EAAM7B,EAAQ6B,IAC9C,GAAI0sB,EAAM1sB,GACNwkE,EAAY93C,EAAM1sB,GAAM+vB,EAAK/vB,GAAM3B,KAAKomE,IAAI9jE,EAAEumB,IAAK,CAAC6I,EAAK/vB,IAAM2S,OAAOge,MAMtFxY,QAAS,SAASxX,GACd,IAAI/B,EAAOP,KACP8W,EACAiW,EAASxsB,EAAKwsB,OACd8S,EAAQ8mC,EAAaC,EAEzBtkE,EAAIA,GAAK,GAET,IAAKA,EAAEyiC,OAAQ,CACXxkC,EAAK0rB,UAELc,EAAOxrB,KAAK,cAAehB,EAAKslE,cAChC94C,EAAOxrB,KAAK,YAAahB,EAAKwlE,YAC9Bh5C,EAAOxrB,KAAK,aAAchB,EAAK0lE,aAE/BnvD,EAASvW,EAAK+kE,SAASM,GAAat8C,MAEpC,GAAIyD,EAAOw2B,aAAsBjmD,EAAM2G,KAAKgT,YAAc8V,EAAOw2B,IAAczsC,EAC3E,GAAIA,aAAkBxZ,EAAM2G,KAAKgT,WAC7B8V,EAAO3D,GAAQtS,QACZ,GAAIA,GAAUA,EAAOsrD,YACxBr1C,EAAO3D,GAAQtS,EAAOsrD,iBACnB,CACHviC,EAASviC,EAAM2pB,GAAG4/C,QAAU95C,aAAkBzvB,EAAM2pB,GAAG4/C,OACvDF,EAAcrpE,EAAM2pB,GAAG6/C,aAAe/5C,aAAkBzvB,EAAM2pB,GAAG6/C,YACjEF,EAAetpE,EAAM2pB,GAAG8/C,cAAgBh6C,aAAkBzvB,EAAM2pB,GAAG8/C,aAEnE,IAAIH,EACA75C,EAAOw2B,GAAWt/C,KAAK6S,QAEvBiW,EAAOi6C,SAASzjB,GAAWt/C,KAAK6S,GAGpC,GAAIvW,EAAK+kE,SAASh+D,QAAUu4B,GAAU8mC,GAClC55C,EAAOzlB,MAAM2/D,EAAwB1mE,EAAK+kE,SAASh+D,MAAMgiB,MAAOyD,EAAOttB,QAAQynE,oBAOnGj7C,QAAS,WACL,IAAIc,EAAS/sB,KAAK+sB,OAElBA,EAAO9qB,OAAO,cAAejC,KAAK6lE,cAClC94C,EAAO9qB,OAAO,YAAajC,KAAK+lE,YAChCh5C,EAAO9qB,OAAO,aAAcjC,KAAKimE,gBAvrB7C3B,EAAQnuD,KAAOkvD,EAAO7nE,OAAO,CACzBsc,QAAS,SAAS9S,GACdhH,KAAK6P,QAAQ2Q,aAAaxZ,EAAKhH,KAAKslE,SAASnvD,KAAKnP,GAAKsiB,UAI/Dg7C,EAAQzvD,IAAMwwD,EAAO7nE,OAAO,CACxBiD,KAAM,SAASoP,EAASy1D,EAAU7lE,GAC9B4lE,EAAO1kE,GAAGF,KAAK+B,KAAKxC,KAAM6P,EAASy1D,EAAU7lE,GAC7CO,KAAK8jB,QAAU,IAEnBhK,QAAS,SAASlB,GACd,IAAI/I,EAAU3S,EAAE8C,KAAK6P,SACjB01D,EAAUvlE,KAAKslE,SAASzwD,IAAI+D,GAC5BlD,EAAW1V,KAAK8jB,QAAQlL,GAAa2sD,EAAQj8C,MACjD,GAAG5T,EACC7F,EAAQqG,SAAS0C,QAEjB/I,EAAQ4F,YAAYmD,MAKhC0rD,EAAQ1uD,MAAQyvD,EAAO7nE,OAAO,CAC1Bsc,QAAS,SAAS9S,GACdhH,KAAK6P,QAAQ+F,MAAM5O,GAAOhH,KAAKslE,SAAS1vD,MAAM5O,GAAKsiB,OAAS,MAIpEg7C,EAAQtgD,QAAUqhD,EAAO7nE,OAAO,CAC5Bsc,QAAS,WACL,GAAI9Z,KAAKslE,SAASthD,QAAQsF,MACtBtpB,KAAK6P,QAAQqyB,gBAAgB,iBAE7BliC,KAAK6P,QAAQ2Q,aAAa,WAAY,eAKlD8jD,EAAQ6C,SAAW9B,EAAO7nE,OAAO,CAC9Bsc,QAAS,WACJ,GAAI9Z,KAAKslE,SAAS6B,SAAS79C,MACvBtpB,KAAK6P,QAAQ2Q,aAAa,WAAY,iBAEtCxgB,KAAK6P,QAAQqyB,gBAAgB,eAKzCoiC,EAAQpyC,SAAWmzC,EAAO7nE,OAAO,CAC7Bsc,QAAS,WACL,GAAI9Z,KAAKslE,SAASpzC,SAAS5I,MACvBtpB,KAAK6P,QAAQ2Q,aAAa,WAAY,iBAEtCxgB,KAAK6P,QAAQqyB,gBAAgB,eAKzCoiC,EAAQtiE,OAASqjE,EAAO7nE,OAAO,CAC3BiD,KAAM,SAASoP,EAASy1D,EAAU7lE,GAC9B4lE,EAAO1kE,GAAGF,KAAK+B,KAAKxC,KAAM6P,EAASy1D,EAAU7lE,GAC7CO,KAAKyB,SAAW,IAGpBqY,QAAS,SAAS9S,GACd,IAAI6I,EAAU3S,EAAE8C,KAAK6P,SACjB01D,EAAUvlE,KAAKslE,SAAStjE,OAAOgF,GAC/BlF,EAAU9B,KAAKyB,SAASuF,GAE5B,GAAIlF,EACA+N,EAAQwjB,IAAIrsB,EAAKlF,GAGrBA,EAAU9B,KAAKyB,SAASuF,GAAOu+D,EAAQj8C,MAEvCzZ,EAAQuW,GAAGpf,EAAKu+D,EAAQzuD,OAAQhV,IAGpCmqB,QAAS,WACL,IAAIpc,EAAU3S,EAAE8C,KAAK6P,SACjB/N,EAEJ,IAAKA,KAAW9B,KAAKyB,SACjBoO,EAAQwjB,IAAIvxB,EAAS9B,KAAKyB,SAASK,OAK/CwiE,EAAQlkC,KAAOilC,EAAO7nE,OAAO,CACzBsc,QAAS,WACL,IAAIsmB,EAAOpgC,KAAKslE,SAASllC,KAAK9W,MAC9B,IAAI89C,EAAapnE,KAAK6P,QAAQmf,aAAa,QAAU1xB,EAAMurB,GAAK,WAAa,GAC7E,GAAIuX,GAAQ,KACRA,EAAO,GAGXljC,EAAE8C,KAAK6P,SAASuwB,KAAK9iC,EAAMoI,SAAS06B,EAAMgnC,OAIlD9C,EAAQlyC,QAAUizC,EAAO7nE,OAAO,CAC5Bsc,QAAS,WACL,GAAI9Z,KAAKslE,SAASlzC,QAAQ9I,MACtBtpB,KAAK6P,QAAQ+F,MAAMc,QAAU,QAE7B1W,KAAK6P,QAAQ+F,MAAMc,QAAU,UAKzC4tD,EAAQ+C,UAAYhC,EAAO7nE,OAAO,CAC9Bsc,QAAS,WACL,IAAK9Z,KAAKslE,SAAS+B,UAAU/9C,MACzBtpB,KAAK6P,QAAQ+F,MAAMc,QAAU,QAE7B1W,KAAK6P,QAAQ+F,MAAMc,QAAU,UAKzC4tD,EAAQpgE,KAAOmhE,EAAO7nE,OAAO,CACzBsc,QAAS,WACL9Z,KAAK6P,QAAQqK,UAAYla,KAAKslE,SAASphE,KAAKolB,SAIpDg7C,EAAQh9D,MAAQk+D,EAAYhoE,OAAO,CAC/BiD,KAAM,SAASoP,EAASy1D,EAAU7lE,GAC9B+lE,EAAY7kE,GAAGF,KAAK+B,KAAKxC,KAAM6P,EAASy1D,EAAU7lE,GAElDO,KAAKg1D,QAAUh1D,KAAK0rC,OAAOnqC,KAAKvB,MAChCA,KAAKwB,UAAY/B,EAAQ6nE,aAAer9B,EAExC/sC,EAAE8C,KAAK6P,SAASuW,GAAGpmB,KAAKwB,UAAWxB,KAAKg1D,SAExCh1D,KAAKunE,YAAc,OAGvB77B,OAAQ,WACJ1rC,KAAKunE,YAAcvnE,KAAKwB,WAAayoC,EAErCjqC,KAAKslE,SAASf,GAAOh7C,IAAIvpB,KAAKylE,eAE9BzlE,KAAKunE,YAAc,OAGvBztD,QAAS,WACL,IAAK9Z,KAAKunE,YAAa,CACnB,IAAIjgE,EAAQtH,KAAKslE,SAASf,GAAOj7C,MAEjC,GAAIhiB,GAAS,KACTA,EAAQ,GAGZ,IAAIC,EAAOvH,KAAKu5C,WAEhB,GAAIhyC,GAAQ,OACRD,EAAQhK,EAAMoI,SAAS4B,EAAO,mBAC3B,GAAIC,GAAQ,iBACfD,EAAQhK,EAAMoI,SAAS4B,EAAO,uBAGlCtH,KAAK6P,QAAQvI,MAAQA,EAGzBtH,KAAKunE,YAAc,OAGvBt7C,QAAS,WACL/uB,EAAE8C,KAAK6P,SAASwjB,IAAIrzB,KAAKwB,UAAWxB,KAAKg1D,YAIjDsP,EAAQxtD,OAASuuD,EAAO7nE,OAAO,CAC3BiD,KAAM,SAASoP,EAASy1D,EAAU7lE,GAC9B4lE,EAAO1kE,GAAGF,KAAK+B,KAAKxC,KAAM6P,EAASy1D,EAAU7lE,GAE7C,IAAIqX,EAAS9W,KAAKslE,SAASxuD,OAAOwS,MAElC,GAAIxS,aAAkBxZ,EAAM2G,KAAKgT,YAAcxX,EAAQ+nE,WAAa,MAChE1wD,EAAO2kD,SAIf3hD,QAAS,SAASxX,GACd,IAAI/B,EAAOP,KACP8W,EAASvW,EAAK+kE,SAASxuD,OAAOwS,MAElC,GAAIxS,aAAkBC,GAAmBD,aAAkBxZ,EAAM2G,KAAKgT,WAAY,CAC9E3U,EAAIA,GAAK,GAET,GAAIA,EAAEyiC,QAAU,MACZxkC,EAAKwjB,IAAIzhB,EAAE6M,MAAO7M,EAAE+rB,YACjB,GAAI/rB,EAAEyiC,QAAU,SACnBxkC,EAAKwwB,OAAOzuB,EAAE6M,MAAO7M,EAAE+rB,YACpB,GAAI/rB,EAAEyiC,QAAU,aACnBxkC,EAAKwD,cAGTxD,EAAKwD,UAIbusB,UAAW,WACP,IAAIzgB,EAAU7P,KAAK6P,QAEnB,GAAIA,EAAQoiB,SAAS3lB,eAAiB,QAAS,CAC3C,IAAKuD,EAAQkwD,QAAQ,GACjBlwD,EAAQuK,YAAY5K,SAASwK,cAAc,UAE/CnK,EAAUA,EAAQkwD,QAAQ,GAG9B,OAAOlwD,GAGX7L,SAAU,WACN,IAAIvE,EAAUO,KAAKP,QACfuE,EAAWvE,EAAQuE,SACnBiuB,EAAWjyB,KAAKswB,YAAY2B,SAAS3lB,cAEzC,IAAKtI,EAAU,CACX,GAAIiuB,GAAY,SACZ,GAAIxyB,EAAQgoE,YAAchoE,EAAQsiE,UAC9B/9D,EAAW1G,EAAMuH,OAAO,yCACpBpF,EAAQgoE,YAAchoE,EAAQsiE,UAAWtiE,EAAQsiE,WAAatiE,EAAQgoE,iBAE1EzjE,EAAW,gCAEZ,GAAIiuB,GAAY,QACnBjuB,EAAW,iCACR,GAAIiuB,GAAY,MAAQA,GAAY,KACvCjuB,EAAW,wBAEXA,EAAW,UAEfA,EAAW1G,EAAM0G,SAASA,GAG9B,OAAOA,GAGX+f,IAAK,SAAS5U,EAAOkf,GACjB,IAAIxe,EAAU7P,KAAKswB,YACfgC,EACA3wB,EACA7B,EACAm9B,EACAv9B,EAAQmQ,EAAQ63D,UAAU,OAC1BC,EAAY93D,EAAQwxC,SAASlyC,GAEjCjS,EAAEwC,GAAOwE,KAAK5G,EAAMyG,OAAO/D,KAAKgE,WAAYqqB,IAE5C,GAAI3uB,EAAM2hD,SAASvhD,OAAQ,CACvBwyB,EAAUtyB,KAAKslE,SAASxuD,OAAOkuD,WAE/B,IAAKrjE,EAAM,EAAG7B,EAASuuB,EAAMvuB,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACtDs7B,EAAQv9B,EAAM2hD,SAAS,GACvBxxC,EAAQ+3D,aAAa3qC,EAAO0qC,GAAa,MACzCxB,EAAYlpC,EAAO5O,EAAM1sB,GAAM3B,KAAKP,QAAQ8vB,MAAO,CAAClB,EAAM1sB,IAAM2S,OAAOge,OAKnFvB,OAAQ,SAAS5hB,EAAOkf,GACpB,IAAI1sB,EAAKkO,EAAU7P,KAAKswB,YAExB,IAAK3uB,EAAM,EAAGA,EAAM0sB,EAAMvuB,OAAQ6B,IAAO,CACrC,IAAIs7B,EAAQptB,EAAQwxC,SAASlyC,GAC7Bm3D,EAAkBrpC,EAAO,MACzB,GAAIA,EAAMzb,YAAc3R,EACpBA,EAAQyK,YAAY2iB,KAKhCl5B,OAAQ,WACJ,IAAI+S,EAAS9W,KAAKslE,SAASxuD,OAAOwS,MAC9BgJ,EACA3wB,EACA7B,EACA+P,EAAU7P,KAAKswB,YACftsB,EAAWhE,KAAKgE,WAEpB,GAAI8S,GAAU,KACV,OAGJ,GAAIA,aAAkBxZ,EAAM2G,KAAKgT,WAC7BH,EAASA,EAAO4a,OAGpB,KAAM5a,aAAkBC,IAAoBrR,EAASlD,KAAKsU,KAAY,iBAClEA,EAAS,CAACA,GAGd,GAAI9W,KAAKslE,SAASthE,SAAU,CACxB6jE,EAAsBh4D,EAAS,MAE/B3S,EAAE2S,GAAS3L,KAAKlE,KAAKslE,SAASthE,SAASD,OAAO+S,IAE9C,GAAIjH,EAAQwxC,SAASvhD,OAAQ,CACzBwyB,EAAUtyB,KAAKslE,SAASxuD,OAAOkuD,WAE/B,IAAKrjE,EAAM,EAAG7B,EAASgX,EAAOhX,OAAQ6B,EAAM7B,EAAQ6B,IAChDwkE,EAAYt2D,EAAQwxC,SAAS1/C,GAAMmV,EAAOnV,GAAM3B,KAAKP,QAAQ8vB,MAAO,CAACzY,EAAOnV,IAAM2S,OAAOge,UAIjGp1B,EAAE2S,GAAS3L,KAAK5G,EAAMyG,OAAOC,EAAU8S,OAKnDwtD,EAAQlkD,MAAQ,CACZ0nD,QAAStC,EAAYhoE,OAAO,CACxBiD,KAAM,SAASoP,EAASy1D,EAAU7lE,GAC9B+lE,EAAY7kE,GAAGF,KAAK+B,KAAKxC,KAAM6P,EAASy1D,EAAU7lE,GAClDO,KAAKg1D,QAAUh1D,KAAK0rC,OAAOnqC,KAAKvB,MAEhC9C,EAAE8C,KAAK6P,SAAS67B,OAAO1rC,KAAKg1D,UAGhCtpB,OAAQ,WACJ,IAAI77B,EAAU7P,KAAK6P,QACnB,IAAIvI,EAAQtH,KAAKsH,QAEjB,GAAIuI,EAAQtI,MAAQ,QAAS,CACzBD,EAAQtH,KAAKylE,cACbzlE,KAAKslE,SAASZ,GAASn7C,IAAIjiB,QACxB,GAAIuI,EAAQtI,MAAQ,WAAY,CACnC,IAAIuP,EAAS9W,KAAKslE,SAASZ,GAASp7C,MACpC,IAAIna,EAEJ,GAAI2H,aAAkBC,EAAiB,CACnCzP,EAAQtH,KAAKylE,cACb,GAAIn+D,aAAiB3B,MACjB,IAAI,IAAI9F,EAAI,EAAGA,EAAIiX,EAAOhX,OAAQD,IAC9B,GAAGiX,EAAOjX,aAAc8F,OAASmR,EAAOjX,MAAQyH,EAAM,CAClD6H,EAAQtP,EACR,YAIRsP,EAAQ2H,EAAOjK,QAAQvF,GAE3B,GAAI6H,GAAS,EACT2H,EAAOrU,OAAO0M,EAAO,QAErB2H,EAAO5U,KAAKoF,QAGhBtH,KAAKslE,SAASZ,GAASn7C,IAAIjiB,KAKvCwS,QAAS,WACL,IAAIxS,EAAQtH,KAAKslE,SAASZ,GAASp7C,MAC/BxS,EAASxP,EACTC,EAAOvH,KAAKu5C,WACZ1pC,EAAU7P,KAAK6P,QAEnB,GAAIA,EAAQtI,MAAQ,WAChB,GAAIuP,aAAkBC,EAAiB,CACnC,IAAI5H,GAAS,EACb7H,EAAQtH,KAAKylE,cACb,GAAGn+D,aAAiB3B,MAChB,IAAI,IAAI9F,EAAI,EAAGA,EAAIiX,EAAOhX,OAAQD,IAC9B,GAAGiX,EAAOjX,aAAc8F,OAASmR,EAAOjX,MAAQyH,EAAM,CAClD6H,EAAQtP,EACR,YAIRsP,EAAQ2H,EAAOjK,QAAQvF,GAE3BuI,EAAQi4D,QAAW34D,GAAS,OAE5BU,EAAQi4D,QAAUhxD,OAEnB,GAAIjH,EAAQtI,MAAQ,QAAS,CAChC,GAAIA,GAAQ,OACRD,EAAQhK,EAAMoI,SAAS4B,EAAO,mBAC3B,GAAIC,GAAQ,iBACfD,EAAQhK,EAAMoI,SAAS4B,EAAO,uBAGlC,GAAIA,IAAU,aAAc,IAAY,aAAeuI,EAAQvI,QAAUA,EAAM5B,WAC3EmK,EAAQi4D,QAAU,UAElBj4D,EAAQi4D,QAAU,QAK9BxgE,MAAO,WACH,IAAIuI,EAAU7P,KAAK6P,QACfvI,EAAQuI,EAAQvI,MAEpB,GAAIuI,EAAQtI,MAAQ,WAChBD,EAAQuI,EAAQi4D,QAGpB,OAAOxgE,GAEX2kB,QAAS,WACL/uB,EAAE8C,KAAK6P,SAASwjB,IAAI4W,EAAQjqC,KAAKg1D,aAK7CsP,EAAQzkC,OAAS,CACb/oB,OAAQwtD,EAAQxtD,OAAOtZ,OAAO,CAC1Bsc,QAAS,SAASxX,GACd,IAAI/B,EAAOP,KACP8W,EAASvW,EAAK+kE,SAASxuD,OAAOwS,MAElC,GAAIxS,aAAkBC,GAAmBD,aAAkBxZ,EAAM2G,KAAKgT,WAAY,CAC9E3U,EAAIA,GAAK,GACT,GAAIA,EAAEyiC,QAAU,MACZxkC,EAAKwjB,IAAIzhB,EAAE6M,MAAO7M,EAAE+rB,YACjB,GAAI/rB,EAAEyiC,QAAU,SACnBxkC,EAAKwwB,OAAOzuB,EAAE6M,MAAO7M,EAAE+rB,YACpB,GAAI/rB,EAAEyiC,QAAU,cAAgBziC,EAAEyiC,SAAW1nC,EAAW,CAC3DkD,EAAKwD,SACL,GAAGxD,EAAK+kE,SAASh+D,MACb,GAAI/G,EAAK+kE,SAASh+D,MAAO,CACrB,IAAI+jD,EAAM4b,EAAwB1mE,EAAK+kE,SAASh+D,MAAMgiB,MAAOpsB,EAAEqD,EAAKsP,SAAS5L,KAAK,eAClF,GAAGonD,IAAQ,KACP9qD,EAAKsP,QAAQk4D,eAAiB,OAE9BxnE,EAAKsP,QAAQvI,MAAQ+jD,SAMrC9qD,EAAKwD,YAIjBuD,MAAOk+D,EAAYhoE,OAAO,CACtBiD,KAAM,SAASd,EAAQ2lE,EAAU7lE,GAC7B+lE,EAAY7kE,GAAGF,KAAK+B,KAAKxC,KAAML,EAAQ2lE,EAAU7lE,GAEjDO,KAAKg1D,QAAUh1D,KAAK0rC,OAAOnqC,KAAKvB,MAChC9C,EAAE8C,KAAK6P,SAAS67B,OAAO1rC,KAAKg1D,UAGhCyQ,YAAc,WACV,IAAIlsB,EAAWv5C,KAAKu5C,WACpB,IAAIrqC,EAAS,GACb,IAAI5H,EAAOynB,EAAQptB,EAAK7B,EACxB,IAAK6B,EAAM,EAAG7B,EAASE,KAAK6P,QAAQpQ,QAAQK,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACrEotB,EAAS/uB,KAAK6P,QAAQpQ,QAAQkC,GAE9B,GAAIotB,EAAOi5C,SAAU,CACjB1gE,EAAQynB,EAAO8vB,WAAWv3C,MAE1B,GAAIA,GAASA,EAAMs4D,UACft4D,EAAQynB,EAAOznB,WAEfA,EAAQynB,EAAOqR,KAGnBlxB,EAAOhN,KAAKlC,KAAK0lE,YAAYp+D,EAAOiyC,KAG5C,OAAOrqC,GAGXw8B,OAAQ,WACJ,IAAIx8B,EAAS,GACTW,EAAU7P,KAAK6P,QACfiH,EACA+J,EAAQ7gB,KAAKP,QAAQgoE,YAAcznE,KAAKP,QAAQsiE,UAChDkG,EAAiBjoE,KAAKP,QAAQwoE,eAC9Bl5C,EACAm5C,EACA5gE,EACA3F,EACA7B,EAEJ,IAAK6B,EAAM,EAAG7B,EAAS+P,EAAQpQ,QAAQK,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CAChEotB,EAASlf,EAAQpQ,QAAQkC,GAEzB,GAAIotB,EAAOi5C,SAAU,CACjB1gE,EAAQynB,EAAO8vB,WAAWv3C,MAE1B,GAAIA,GAASA,EAAMs4D,UACft4D,EAAQynB,EAAOznB,WAEfA,EAAQynB,EAAOqR,KAGnB,GAAIvf,EACA3R,EAAOhN,KAAKoF,QAEZ4H,EAAOhN,KAAKlC,KAAK0lE,YAAYp+D,EAAOtH,KAAKu5C,cAMrD,GAAI14B,EAAO,CACP/J,EAAS9W,KAAKslE,SAASxuD,OAAOwS,MAC9B,GAAIxS,aAAkBxZ,EAAM2G,KAAKgT,WAC7BH,EAASA,EAAO4a,OAGpB,IAAKw2C,EAAa,EAAGA,EAAah5D,EAAOpP,OAAQooE,IAC7C,IAAKvmE,EAAM,EAAG7B,EAASgX,EAAOhX,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACvD,IAAIwmE,EAAcrxD,EAAOnV,GAAK2nB,IAAIzI,GAClC,IAAIvc,EAAS+B,OAAO8hE,KAAiBj5D,EAAOg5D,GAC5C,GAAI5jE,EAAO,CACP4K,EAAOg5D,GAAcpxD,EAAOnV,GAC5B,QAMhB2F,EAAQtH,KAAKslE,SAASf,GAAOj7C,MAC7B,GAAIhiB,aAAiByP,EACjBzP,EAAM7E,OAAO/B,MAAM4G,EAAO,CAAC,EAAGA,EAAMxH,QAAQwU,OAAOpF,SAChD,IAAK+4D,IAAmB3gE,aAAiBk5C,GAAoBl5C,IAAU,MAAQA,IAAUjK,IAAcwjB,GAC1G7gB,KAAKslE,SAASf,GAAOh7C,IAAIra,EAAO,SAEhClP,KAAKslE,SAASf,GAAOh7C,IAAIra,EAAO,GAAGoa,IAAIzI,KAG/C/G,QAAS,WACL,IAAIsuD,EACAv4D,EAAU7P,KAAK6P,QACfpQ,EAAUoQ,EAAQpQ,QAClB6H,EAAQtH,KAAKslE,SAASf,GAAOj7C,MAC7Bpa,EAAS5H,EACTuZ,EAAQ7gB,KAAKP,QAAQgoE,YAAcznE,KAAKP,QAAQsiE,UAChD9N,EAAQ,MACR1sD,EAAOvH,KAAKu5C,WACZ8uB,EAEJ,KAAMn5D,aAAkB6H,GACpB7H,EAAS,IAAI6H,EAAgB,CAACzP,IAGlCuI,EAAQk4D,eAAiB,EAEzB,IAAK,IAAIG,EAAa,EAAGA,EAAah5D,EAAOpP,OAAQooE,IAAc,CAC/D5gE,EAAQ4H,EAAOg5D,GAGf,GAAIrnD,GAASvZ,aAAiBk5C,EAC1Bl5C,EAAQA,EAAMgiB,IAAIzI,GAGtB,GAAItZ,GAAQ,OACRD,EAAQhK,EAAMoI,SAASwJ,EAAOg5D,GAAa,mBACxC,GAAI3gE,GAAQ,iBACfD,EAAQhK,EAAMoI,SAASwJ,EAAOg5D,GAAa,uBAG/C,IAAKE,EAAc,EAAGA,EAAc3oE,EAAQK,OAAQsoE,IAAe,CAC/DC,EAAc5oE,EAAQ2oE,GAAa9gE,MAEnC,GAAI+gE,IAAgB,IAAM/gE,IAAU,GAChC+gE,EAAc5oE,EAAQ2oE,GAAahoC,KAGvC,GAAI94B,GAAS,MAAQ+gE,GAAe/gE,EAAM5B,WAAY,CAClDjG,EAAQ2oE,GAAaJ,SAAW,KAChC/T,EAAQ,SAKxBhoC,QAAS,WACL/uB,EAAE8C,KAAK6P,SAASwjB,IAAI4W,EAAQjqC,KAAKg1D,aAyH7CsP,EAAQv3C,OAAS,CACb/qB,OAASqjE,EAAO7nE,OAAO,CACnBiD,KAAM,SAASssB,EAAQu4C,EAAU7lE,GAC7B4lE,EAAO1kE,GAAGF,KAAK+B,KAAKxC,KAAM+sB,EAAOld,QAAQ,GAAIy1D,EAAU7lE,GACvDO,KAAK+sB,OAASA,EACd/sB,KAAKyB,SAAW,IAGpBqY,QAAS,SAAS9S,GACd,IAAIu+D,EAAUvlE,KAAKslE,SAAStjE,OAAOgF,GAC/BlF,EAAU9B,KAAKyB,SAASuF,GAE5B,GAAIlF,EACA9B,KAAK+sB,OAAO9qB,OAAO+E,EAAKlF,GAG5BA,EAAUyjE,EAAQj8C,MAElBtpB,KAAKyB,SAASuF,GAAO,SAAS1E,GAC1BA,EAAE2B,KAAOshE,EAAQzuD,OAEjBhV,EAAQQ,GAER,GAAIA,EAAE2B,OAASshE,EAAQzuD,cACZxU,EAAE2B,MAIjBjE,KAAK+sB,OAAOxrB,KAAKyF,EAAKhH,KAAKyB,SAASuF,KAGxCilB,QAAS,WACL,IAAInqB,EAEJ,IAAKA,KAAW9B,KAAKyB,SACjBzB,KAAK+sB,OAAO9qB,OAAOH,EAAS9B,KAAKyB,SAASK,OAKtDgmE,QAASzC,EAAO7nE,OAAO,CACnBiD,KAAM,SAASssB,EAAQu4C,EAAU7lE,GAC7B4lE,EAAO1kE,GAAGF,KAAK+B,KAAKxC,KAAM+sB,EAAOld,QAAQ,GAAIy1D,EAAU7lE,GAEvDO,KAAK+sB,OAASA,EACd/sB,KAAKg1D,QAAUh1D,KAAK0rC,OAAOnqC,KAAKvB,MAChCA,KAAK+sB,OAAOxrB,KAAK0oC,EAAQjqC,KAAKg1D,UAElCtpB,OAAQ,WACJ1rC,KAAKslE,SAASZ,GAASn7C,IAAIvpB,KAAKsH,UAGpCwS,QAAS,WACL,GAAI9Z,KAAK6P,QAAQtI,OAAS,QACtBvH,KAAK+sB,OAAOu7C,MAAMtoE,KAAKslE,SAASZ,GAASp7C,MAAM5jB,aAAe1F,KAAKsH,cAEnEtH,KAAK+sB,OAAOu7C,MAAMtoE,KAAKslE,SAASZ,GAASp7C,QAAU,OAI3DhiB,MAAO,WACH,IAAIuI,EAAU7P,KAAK6P,QACfvI,EAAQuI,EAAQvI,MAEpB,GAAIA,GAAS,MAAQA,GAAS,OAAStH,KAAK6P,QAAQtI,MAAQ,WACxDD,EAAQuI,EAAQi4D,QAGpB,OAAOxgE,GAGX2kB,QAAS,WACLjsB,KAAK+sB,OAAO9qB,OAAOgoC,EAAQjqC,KAAKg1D,YAIxC7oD,MAAOk5D,EAAO7nE,OAAO,CACjBiD,KAAM,SAASssB,EAAQu4C,EAAU7lE,GAC7B4lE,EAAO1kE,GAAGF,KAAK+B,KAAKxC,KAAM+sB,EAAOld,QAAQ,GAAIy1D,EAAU7lE,GACvDO,KAAKg1D,QAAUh1D,KAAK0rC,OAAOnqC,KAAKvB,MAChCA,KAAK+sB,OAASA,EACd/sB,KAAK+sB,OAAOxrB,KAAK0oC,EAAQjqC,KAAKg1D,UAGlCtpB,OAAQ,WACJ1rC,KAAKslE,SAASn5D,MAAMod,IAAIvpB,KAAK+sB,OAAOg9B,QAAQ59C,QAGhD2N,QAAS,WACL,IAAIvZ,EAAOP,KACX,IAAImM,EAAQnM,KAAKslE,SAASn5D,MAAMmd,MAChC,IAAI1lB,EAAMrD,EAAKwsB,OAAOw7C,OAAShoE,EAAKwsB,OAAOw7C,OAAO3kE,IAAK,KACvD5D,KAAK+sB,OAAOg9B,MAAM,CAAC59C,MAAOA,EAAOvI,IAAKA,KAG1CqoB,QAAS,WACLjsB,KAAK+sB,OAAO9qB,OAAOgoC,EAAQjqC,KAAKg1D,YAIxCpxD,IAAKyhE,EAAO7nE,OAAO,CACfiD,KAAM,SAASssB,EAAQu4C,EAAU7lE,GAC7B4lE,EAAO1kE,GAAGF,KAAK+B,KAAKxC,KAAM+sB,EAAOld,QAAQ,GAAIy1D,EAAU7lE,GACvDO,KAAKg1D,QAAUh1D,KAAK0rC,OAAOnqC,KAAKvB,MAChCA,KAAK+sB,OAASA,EACd/sB,KAAK+sB,OAAOxrB,KAAK0oC,EAAQjqC,KAAKg1D,UAGlCtpB,OAAQ,WACJ1rC,KAAKslE,SAAS1hE,IAAI2lB,IAAIvpB,KAAK+sB,OAAOg9B,QAAQnmD,MAG9CkW,QAAS,WACL,IAAIvZ,EAAOP,KACX,IAAI4D,EAAM5D,KAAKslE,SAAS1hE,IAAI0lB,MAC5B,IAAInd,EAAQ5L,EAAKwsB,OAAOw7C,OAAShoE,EAAKwsB,OAAOw7C,OAAOp8D,MAAO,KAC3DnM,KAAK+sB,OAAOg9B,MAAM,CAAC59C,MAAOA,EAAOvI,IAAKA,KAG1CqoB,QAAS,WACLjsB,KAAK+sB,OAAO9qB,OAAOgoC,EAAQjqC,KAAKg1D,YAIxC5iC,QAASizC,EAAO7nE,OAAO,CACnBiD,KAAM,SAASssB,EAAQu4C,EAAU7lE,GAC7B4lE,EAAO1kE,GAAGF,KAAK+B,KAAKxC,KAAM+sB,EAAOld,QAAQ,GAAIy1D,EAAU7lE,GAEvDO,KAAK+sB,OAASA,GAGlBjT,QAAS,WACL,IAAIsY,EAAUpyB,KAAKslE,SAASlzC,QAAQ9I,MACpCtpB,KAAK+sB,OAAOvW,QAAQ,GAAGZ,MAAMc,QAAU0b,EAAU,GAAK,UAI9Di1C,UAAWhC,EAAO7nE,OAAO,CACrBiD,KAAM,SAASssB,EAAQu4C,EAAU7lE,GAC7B4lE,EAAO1kE,GAAGF,KAAK+B,KAAKxC,KAAM+sB,EAAOld,QAAQ,GAAIy1D,EAAU7lE,GAEvDO,KAAK+sB,OAASA,GAGlBjT,QAAS,WACL,IAAIutD,EAAYrnE,KAAKslE,SAAS+B,UAAU/9C,MACxCtpB,KAAK+sB,OAAOvW,QAAQ,GAAGZ,MAAMc,QAAU2wD,EAAY,OAAS,MAIpEmB,cAAenD,EAAO7nE,OAAO,CACzBiD,KAAM,SAASssB,EAAQu4C,EAAU7lE,GAC7B4lE,EAAO1kE,GAAGF,KAAK+B,KAAKxC,KAAM+sB,EAAOld,QAAQ,GAAIy1D,EAAU7lE,GAEvD,IAAKstB,EAAOy7C,cACR,OAGJz7C,EAAOy7C,cAAc1uD,aAI7BkK,QAASqhD,EAAO7nE,OAAO,CACnBiD,KAAM,SAASssB,EAAQu4C,EAAU7lE,GAC7B4lE,EAAO1kE,GAAGF,KAAK+B,KAAKxC,KAAM+sB,EAAOld,QAAQ,GAAIy1D,EAAU7lE,GAEvDO,KAAK+sB,OAASA,GAGlBjT,QAAS,WACL,GAAI9Z,KAAK+sB,OAAO3I,OACZpkB,KAAK+sB,OAAO3I,OAAOpkB,KAAKslE,SAASthD,QAAQsF,UAKrD4I,SAAUmzC,EAAO7nE,OAAO,CACpBiD,KAAM,SAASssB,EAAQu4C,EAAU7lE,GAC7B4lE,EAAO1kE,GAAGF,KAAK+B,KAAKxC,KAAM+sB,EAAOld,QAAQ,GAAIy1D,EAAU7lE,GAEvDO,KAAK+sB,OAASA,GAGlBjT,QAAS,WACL,GAAI9Z,KAAK+sB,OAAO3I,OACZpkB,KAAK+sB,OAAO3I,QAAQpkB,KAAKslE,SAASpzC,SAAS5I,UAKvDxS,OAAQ6uD,EAAkB,SAAU,aAAc,iBAElDr+D,MAAO+9D,EAAO7nE,OAAO,CACjBiD,KAAM,SAASssB,EAAQu4C,EAAU7lE,GAC7B4lE,EAAO1kE,GAAGF,KAAK+B,KAAKxC,KAAM+sB,EAAOld,QAAQ,GAAIy1D,EAAU7lE,GAEvDO,KAAK+sB,OAASA,EACd/sB,KAAKg1D,QAAUh1D,KAAK0rC,OAAOnqC,KAAKvB,MAChCA,KAAK+sB,OAAO5qB,MAAM8nC,EAAQjqC,KAAKg1D,SAE/B,IAAI1tD,EAAQtH,KAAKslE,SAASh+D,MAAMgiB,MAEhCtpB,KAAKyoE,0BAA4BhpE,EAAQwoE,iBAAmB3gE,GAAS,MAAQA,aAAiBk5C,GAC9FxgD,KAAK0oE,wBAA0BphE,aAAiByP,EAChD/W,KAAKunE,YAAc,OAGvBoB,QAAS,WACL,IAAI7xD,EAEJ,GAAI9W,KAAK+sB,OAAOuB,SAAU,CACtBxX,EAAS9W,KAAK+sB,OAAOuB,WACrB,GAAIxX,GAAUA,aAAkB0pC,EAC5B,MAAO,CAAC1pC,GAIhB,GAAI9W,KAAKslE,SAASxuD,OACdA,EAAS9W,KAAKslE,SAASxuD,OAAOwS,MAGlC,IAAKxS,GAAUA,aAAkBxZ,EAAM2G,KAAKgT,WACxCH,EAAS9W,KAAK+sB,OAAOpC,WAAWsD,WAGpC,OAAOnX,GAGX40B,OAAQ,WACJ,IAAIpkC,EAAQtH,KAAK+sB,OAAOzlB,QACpBuZ,EAAQ7gB,KAAKP,QAAQynE,gBAAkBlnE,KAAKP,QAAQmpE,cACpDlrE,EAAUgI,EAASlD,KAAK8E,KAAW,iBACnCuhE,EAAqB7oE,KAAKyoE,yBAC1BP,EAAYY,EAAa55D,EAAS,GAClC65D,EAAYZ,EACZxmE,EAAK7B,EAAQgX,EAEjB9W,KAAKunE,YAAc,KAEnB,GAAI1mD,EAEA,GAAIvZ,IAAU,KAAOuhE,GAAsB7oE,KAAKP,QAAQwoE,gBACpD3gE,EAAQ,SACL,CACHwP,EAAS9W,KAAK2oE,UAEd,GAAIjrE,EAAS,CACTorE,EAAcxhE,EAAMxH,OACpBoP,EAAS5H,EAAMnI,MAAM,GAGzB,IAAKwC,EAAM,EAAG7B,EAASgX,EAAOhX,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACvDonE,EAAajyD,EAAOnV,GACpBwmE,EAAcY,EAAWz/C,IAAIzI,GAE7B,GAAInjB,GACA,IAAKwqE,EAAa,EAAGA,EAAaY,EAAaZ,IAC3C,GAAIC,GAAej5D,EAAOg5D,GAAa,CACnCh5D,EAAOg5D,GAAca,EACrB,YAGL,GAAIZ,GAAe7gE,EAAO,CAC7BA,EAAQuhE,EAAqBE,EAAaZ,EAC1C,OAIR,GAAIj5D,EAAO,GACP,GAAIlP,KAAK0oE,wBACLphE,EAAQ4H,OACL,GAAI25D,IAAuBhoD,EAC9BvZ,EAAQ4H,EAAO,QAEf5H,EAAQ4H,EAAO,GAAGoa,IAAIzI,GAMtC7gB,KAAKslE,SAASh+D,MAAMiiB,IAAIjiB,GACxBtH,KAAKunE,YAAc,OAGvBztD,QAAS,WACL,IAAK9Z,KAAKunE,YAAa,CACnB,IAAIx6C,EAAS/sB,KAAK+sB,OAClB,IAAIttB,EAAUstB,EAAOttB,QACrB,IAAIsiE,EAAYtiE,EAAQmpE,cACxB,IAAInB,EAAahoE,EAAQynE,gBAAkBnF,EAC3C,IAAIz6D,EAAQtH,KAAKslE,SAASh+D,MAAMgiB,MAChC,IAAI8W,EAAO3gC,EAAQ2gC,MAAQ,GAC3B,IAAIz+B,EAAM,EAAG7B,EACb,IAAIoP,EAAS,GAEb,GAAI5H,IAAUjK,EACViK,EAAQ,KAGZ,GAAImgE,EACA,GAAIngE,aAAiByP,EAAiB,CAClC,IAAKjX,EAASwH,EAAMxH,OAAQ6B,EAAM7B,EAAQ6B,IACtCuN,EAAOvN,GAAO2F,EAAM3F,GAAK2nB,IAAIm+C,GAEjCngE,EAAQ4H,OACL,GAAI5H,aAAiBk5C,EAAkB,CAC1CpgB,EAAO94B,EAAMgiB,IAAIy4C,GACjBz6D,EAAQA,EAAMgiB,IAAIm+C,GAI1B,GAAIhoE,EAAQ+nE,WAAa,QAAU/nE,EAAQupE,aAAej8C,EAAOk8C,WAAal8C,EAAOk8C,SAASC,QAAS,CACnG,GAAInH,IAAc0F,IAAernC,EAC7BA,EAAO94B,EAGX,IAAK84B,IAAS94B,GAASA,IAAU,IAAM7H,EAAQwoE,eAC3Cl7C,EAAOzlB,MAAMA,QAEbylB,EAAOo8C,WAAW7hE,EAAO84B,QAG7BrT,EAAOzlB,MAAMA,GAIrBtH,KAAKunE,YAAc,OAGvBt7C,QAAS,WACLjsB,KAAK+sB,OAAO9qB,OAAOgoC,EAAQjqC,KAAKg1D,YAGxC4R,aAAc,CACVt/D,MAAO+9D,EAAO7nE,OAAO,CACjBiD,KAAM,SAASssB,EAAQu4C,EAAU7lE,GAC7B4lE,EAAO1kE,GAAGF,KAAK+B,KAAKxC,KAAM+sB,EAAOld,QAAQ,GAAIy1D,EAAU7lE,GAEvDO,KAAK+sB,OAASA,EACd/sB,KAAKg1D,QAAUh1D,KAAK0rC,OAAOnqC,KAAKvB,MAChCA,KAAK+sB,OAAO5qB,MAAM8nC,EAAQjqC,KAAKg1D,SAC/Bh1D,KAAKunE,YAAc,OAGvB77B,OAAQ,WACJ,IAAInrC,EAAOP,KACPopE,EAAY7oE,EAAK+kE,SAASf,GAAOj7C,MACjC2+C,EAAiB1nE,EAAKd,QAAQwoE,eAC9BoB,EAAe9oE,EAAKwsB,OAAOi6C,SAASnnC,SACpCypC,EAAqB/oE,EAAKwsB,OAAOw8C,uBAAyBhpE,EAAKwsB,OAAOy8C,iBAAmBjpE,EAAKwsB,OAAOi6C,SAAS14C,SAAS+6C,IAAiB9oE,EAAKwsB,OAAOzlB,QACpJm+B,EAAawiC,GAAkB1nE,EAAKwsB,OAAOttB,QAAQ+nE,WAAa,MAASjnE,EAAKwsB,OAAOzlB,QAAUgiE,EAEnG,IAAIzoD,EAAQ7gB,KAAKP,QAAQynE,gBAAkBlnE,KAAKP,QAAQmpE,cAExDnjC,EAAYA,EAAUtmC,MAAQsmC,EAAUtmC,MAAM,GAAIsmC,EAElDllC,EAAKgnE,YAAc,KAEnB,GAAI6B,aAAqBryD,EAAiB,CACtC,IAAIga,EAAS,GACb,IAAIkc,EAAYxH,EAAU3lC,OAC1B,IAAID,EAAI,EAAG2lC,EAAI,EACf,IAAIikC,EAAML,EAAUvpE,GACpB,IAAImvC,EAAO,MACX,IAAI06B,EACJ,IAAIC,EACJ,IAAI1V,EAEJ,MAAOwV,IAAQpsE,EAAW,CACtB42D,EAAQ,MACR,IAAKzuB,EAAI,EAAGA,EAAIyH,EAAWzH,IAAK,CAC5B,GAAIyiC,EACAj5B,EAAOvJ,EAAUD,IAAMikC,MACpB,CACHE,EAAWlkC,EAAUD,GAErBmkC,EAAWA,EAASrgD,IAAMqgD,EAASrgD,IAAIzI,GAAS8oD,EAChD36B,EAAO26B,IAAaF,EAAIngD,IAAMmgD,EAAIngD,IAAIzI,GAAS4oD,GAGnD,GAAIz6B,EAAM,CACNvJ,EAAUhjC,OAAO+iC,EAAG,GACpByH,GAAa,EACbgnB,EAAQ,KACR,OAIR,IAAKA,EAAO,CACRljC,EAAO7uB,KAAKunE,GACZG,EAAYR,EAAWvpE,EAAG,GAC1B6pE,EAAc7pE,OAEdA,GAAK,EAGT4pE,EAAML,EAAUvpE,GAGpB+pE,EAAYR,EAAWA,EAAUtpE,OAAQ,EAAG2lC,GAE5C,GAAI1U,EAAOjxB,OACPspE,EAAU/mE,QAAQ,SAAU,CACxB0iC,OAAQ,SACR1W,MAAO0C,EACP5hB,MAAOu6D,IAIf,GAAIjkC,EAAU3lC,OACVspE,EAAU/mE,QAAQ,SAAU,CACxB0iC,OAAQ,MACR1W,MAAOoX,EACPt2B,MAAOi6D,EAAUtpE,OAAS,SAIlCS,EAAK+kE,SAASf,GAAOh7C,IAAIkc,GAG7BllC,EAAKgnE,YAAc,OAGvBztD,QAAS,WACL,IAAK9Z,KAAKunE,YAAa,CACnB,IAAI9nE,EAAUO,KAAKP,QACfstB,EAAS/sB,KAAK+sB,OACdlM,EAAQphB,EAAQynE,gBAAkBznE,EAAQmpE,cAC1CthE,EAAQtH,KAAKslE,SAASh+D,MAAMgiB,MAC5BrlB,EAAOqD,EACP3F,EAAM,EAAG7B,EACToP,EAAS,GACT26D,EAEJ,GAAIhpD,EACA,GAAIvZ,aAAiByP,EAAiB,CAClC,IAAKjX,EAASwH,EAAMxH,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CAC7CkoE,EAAgBviE,EAAM3F,GACtBuN,EAAOvN,GAAOkoE,EAAcvgD,IAAMugD,EAAcvgD,IAAIzI,GAASgpD,EAEjEviE,EAAQ4H,OACL,GAAI5H,aAAiBk5C,EACxBl5C,EAAQA,EAAMgiB,IAAIzI,GAG1B,GAAIphB,EAAQ+nE,WAAa,OAAS/nE,EAAQwoE,iBAAmB,KACzDl7C,EAAOo8C,WAAWllE,EAAMqD,QAExBylB,EAAOzlB,MAAMA,KAKzB2kB,QAAS,WACLjsB,KAAK+sB,OAAO9qB,OAAOgoC,EAAQjqC,KAAKg1D,aAI5C8U,MAAO,CACHhF,aAAca,EAAkB,eAAgB,eAAgB,8BAGpEgB,YAAa,CACTr/D,MAAO+9D,EAAO7nE,OAAO,CACjBiD,KAAM,SAASssB,EAAQu4C,EAAU7lE,GAC7B4lE,EAAO1kE,GAAGF,KAAK+B,KAAKxC,KAAM+sB,EAAOld,QAAQ,GAAIy1D,EAAU7lE,GAEvDO,KAAK+sB,OAASA,EACd/sB,KAAKg1D,QAAUh1D,KAAK0rC,OAAOnqC,KAAKvB,MAChCA,KAAK+sB,OAAO5qB,MAAM8nC,EAAQjqC,KAAKg1D,SAC/Bh1D,KAAKunE,YAAc,OAGvB77B,OAAQ,WACJ,IAAInrC,EAAOP,KACPopE,EAAY7oE,EAAK+kE,SAASf,GAAOj7C,MACjC2+C,EAAiB1nE,EAAKd,QAAQwoE,eAC9BxiC,EAAYwiC,EAAiB1nE,EAAKwsB,OAAOzlB,QAAU/G,EAAKwsB,OAAOiB,YAEnE,IAAInN,EAAQ7gB,KAAKP,QAAQynE,gBAAkBlnE,KAAKP,QAAQmpE,cAExDnjC,EAAYA,EAAUtmC,MAAM,GAE5BoB,EAAKgnE,YAAc,KAEnB,GAAI6B,aAAqBryD,EAAiB,CACtC,IAAIga,EAAS,GAEb,IAAIkc,EAAYxH,EAAU3lC,OAE1B,IAAID,EAAI,EAAG2lC,EAAI,EACf,IAAIikC,EAAML,EAAUvpE,GACpB,IAAImvC,EAAO,MACX,IAAI06B,EACJ,IAAIC,EACJ,IAAI1V,EAEJ,MAAOwV,IAAQpsE,EAAW,CACtB42D,EAAQ,MACR,IAAKzuB,EAAI,EAAGA,EAAIyH,EAAWzH,IAAK,CAC5B,GAAIyiC,EACAj5B,EAAOvJ,EAAUD,IAAMikC,MACpB,CACHE,EAAWlkC,EAAUD,GAErBmkC,EAAWA,EAASrgD,IAAMqgD,EAASrgD,IAAIzI,GAAS8oD,EAChD36B,EAAO26B,IAAaF,EAAIngD,IAAMmgD,EAAIngD,IAAIzI,GAAS4oD,GAGnD,GAAIz6B,EAAM,CACNvJ,EAAUhjC,OAAO+iC,EAAG,GACpByH,GAAa,EACbgnB,EAAQ,KACR,OAIR,IAAKA,EAAO,CACRljC,EAAO7uB,KAAKunE,GACZG,EAAYR,EAAWvpE,EAAG,GAC1B6pE,EAAc7pE,OAEdA,GAAK,EAGT4pE,EAAML,EAAUvpE,GAGpB+pE,EAAYR,EAAWA,EAAUtpE,OAAQ,EAAG2lC,GAE5C,GAAI1U,EAAOjxB,OACPspE,EAAU/mE,QAAQ,SAAU,CACxB0iC,OAAQ,SACR1W,MAAO0C,EACP5hB,MAAOu6D,IAIf,GAAIjkC,EAAU3lC,OACVspE,EAAU/mE,QAAQ,SAAU,CACxB0iC,OAAQ,MACR1W,MAAOoX,EACPt2B,MAAOi6D,EAAUtpE,OAAS,SAIlCS,EAAK+kE,SAASf,GAAOh7C,IAAIkc,GAG7BllC,EAAKgnE,YAAc,OAGvBztD,QAAS,WACL,IAAK9Z,KAAKunE,YAAa,CACnB,IAAI9nE,EAAUO,KAAKP,QACfstB,EAAS/sB,KAAK+sB,OACdlM,EAAQphB,EAAQynE,gBAAkBznE,EAAQmpE,cAC1CthE,EAAQtH,KAAKslE,SAASh+D,MAAMgiB,MAC5BrlB,EAAOqD,EACP3F,EAAM,EAAG7B,EACToP,EAAS,GACT26D,EAEJ,GAAIviE,IAAUjK,EACViK,EAAQ,KAGZ,GAAIuZ,EACA,GAAIvZ,aAAiByP,EAAiB,CAClC,IAAKjX,EAASwH,EAAMxH,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CAC7CkoE,EAAgBviE,EAAM3F,GACtBuN,EAAOvN,GAAOkoE,EAAcvgD,IAAMugD,EAAcvgD,IAAIzI,GAASgpD,EAEjEviE,EAAQ4H,OACL,GAAI5H,aAAiBk5C,EACxBl5C,EAAQA,EAAMgiB,IAAIzI,GAI1B,GAAIphB,EAAQ+nE,WAAa,OAAS/nE,EAAQwoE,iBAAmB,OAASl7C,EAAOg9C,WACzEh9C,EAAOo8C,WAAWllE,EAAMqD,QAExBylB,EAAOzlB,MAAMA,KAKzB2kB,QAAS,WACLjsB,KAAK+sB,OAAO9qB,OAAOgoC,EAAQjqC,KAAKg1D,aAK5CgV,UAAW,CACPlzD,OAAQ6uD,EAAkB,SAAU,aAAc,iBAAiBnoE,OAAO,CACtEwoE,UAAW,SAAS1jE,GAChB,IAAIX,EACJ,IAAI7B,EACJ,IAAIitB,EAAS/sB,KAAK+sB,OAClB,IAAIqB,EAAW9rB,EAAEkkE,YAAcz5C,EAAOsB,QACtC,IAAIpqB,EAAMquB,EAEV,GAAIlE,EAAStuB,OAAQ,CACjBmE,EAAO3B,EAAEokE,gBAAkB35C,EAAOiB,YAClCsE,EAAUtyB,KAAKslE,SAASxuD,OAAOkuD,WAE/B,IAAKrjE,EAAM,EAAG7B,EAASmE,EAAKnE,OAAQ6B,EAAM7B,EAAQ6B,IAC9CwkE,EAAY/3C,EAASzsB,GAAMsC,EAAKtC,GAAM3B,KAAKomE,IAAI9jE,EAAEumB,IAAK,CAAC5kB,EAAKtC,IAAM2S,OAAOge,SAO7F23C,KAAM,CACFnzD,OAAQ6uD,EAAkB,SAAU,aAAc,iBAAiBnoE,OAAO,CACtEwoE,UAAW,SAAS1jE,GAChB,IAAIX,EACJ7B,EACAitB,EAAS/sB,KAAK+sB,OACdqB,EAAW9rB,EAAEkkE,YAAcz5C,EAAOsB,QAClCiE,EACAruB,EAEA,GAAImqB,EAAStuB,OAAQ,CACjBmE,EAAO3B,EAAEokE,gBAAkB35C,EAAOiB,YAClCsE,EAAUtyB,KAAKslE,SAASxuD,OAAOkuD,WAE/B,IAAKrjE,EAAM,EAAG7B,EAASmE,EAAKnE,OAAQ6B,EAAM7B,EAAQ6B,IAC9CwkE,EAAY/3C,EAASzsB,GAAMsC,EAAKtC,GAAM3B,KAAKomE,IAAI9jE,EAAEumB,IAAK,CAAC5kB,EAAKtC,IAAM2S,OAAOge,SAO7F43C,MAAO,CACH9pC,KAAMilC,EAAO7nE,OAAO,CAChBiD,KAAM,SAASssB,EAAQu4C,EAAU7lE,GAC7B4lE,EAAO1kE,GAAGF,KAAK+B,KAAKxC,KAAM+sB,EAAOld,QAAQ,GAAIy1D,EAAU7lE,GAEvDO,KAAK+sB,OAASA,GAElBjT,QAAS,WACL,IAAIsmB,EAAOpgC,KAAKslE,SAASllC,KAAK9W,MAE9B,GAAI8W,GAAQ,KACRA,EAAO,GAEXpgC,KAAK+sB,OAAOqT,KAAKA,QAMjC,IAAIwpC,EAAc,SAAS9jC,EAAKnkC,EAAKovB,EAAQhN,GACzCA,EAAMA,GAAO,GACbgN,EAASA,GAAU,EAEnB,IAAIo5C,EAAYpmD,EAAIjkB,OACpB,IAAIsqE,EAAYtkC,EAAIhmC,OAEpB,IAAIuqE,EAAU,GAAGlrE,MAAMqD,KAAKsjC,EAAKnkC,EAAMovB,GACvC,IAAIu5C,EAAgBD,EAAQvqE,OAC5B,IAAIqP,EAEJ,GAAIg7D,EAAW,CACXA,EAAYxoE,EAAMwoE,EAClBh7D,EAAQ,EAER,KAAOxN,EAAMwoE,EAAWxoE,IAAO,CAC3BmkC,EAAInkC,GAAOoiB,EAAI5U,GACfA,IAGJ22B,EAAIhmC,OAASqqE,OACV,GAAIp5C,EAAQ,CACf+U,EAAIhmC,OAAS6B,EAEbovB,GAAUpvB,EACV,MAAOA,EAAMovB,SACF+U,IAAM/U,GAIrB,GAAIu5C,EAAe,CACfA,EAAgB3oE,EAAM2oE,EACtBn7D,EAAQ,EAER,KAAOxN,EAAM2oE,EAAe3oE,IAAO,CAC/BmkC,EAAInkC,GAAO0oE,EAAQl7D,GACnBA,IAGJ22B,EAAIhmC,OAASwqE,EAGjB3oE,EAAMmkC,EAAIhmC,OAEV,MAAO6B,EAAMyoE,EAAW,QACbtkC,EAAInkC,GACXA,MAIJ4oE,EAAgBrqE,EAAM1C,OAAQ,CAC9BiD,KAAM,SAASd,EAAQF,GACnBO,KAAKL,OAASA,EACdK,KAAKP,QAAUA,EACfO,KAAKwqE,UAAY,IAGrBjpE,KAAM,SAAS+jE,GACX,IAAIt+D,EACAyjE,EACAC,EACAC,EACAC,EACAC,EACAC,EAAgB9qE,gBAAgB+qE,EAChCC,EAAkBhrE,KAAKskE,UAE3B,IAAKt9D,KAAOs+D,EACR,GAAIt+D,GAAOu9D,EACPkG,EAAW,UACR,GAAIzjE,GAAOw9D,EACdkG,EAAY,UACT,GAAI1jE,GAAOy9D,IAAWqG,EACzBH,EAAY,UACT,GAAI3jE,GAAO09D,EACdkG,EAAa,UACV,GAAI5jE,GAAO29D,EACdkG,EAAS,UAET7qE,KAAKirE,aAAajkE,EAAKs+D,EAAU0F,GAGzC,GAAIN,EACA1qE,KAAKirE,aAAazG,EAAQc,EAAU0F,GAGxC,GAAIP,EACAzqE,KAAKirE,aAAa1G,EAAOe,EAAU0F,GAGvC,GAAIJ,EACA5qE,KAAKirE,aAAavG,EAASY,EAAU0F,GAGzC,GAAIL,IAAcG,EACd9qE,KAAKirE,aAAaxG,EAAQa,EAAU0F,GAGxC,GAAIH,IAAWC,EACX9qE,KAAKirE,aAAatG,EAAKW,EAAU0F,GAGrC,GAAIF,GAAiB9qE,KAAKL,QAAUK,KAAKL,OAAO6oE,cAC5CxoE,KAAKirE,aAAa,gBAAiB3F,EAAU0F,IAIrD1G,QAAS,WACL,OAAOA,EAAQtkE,KAAKL,OAAOsyB,SAAS3lB,gBAAkB,IAG1D2+D,aAAc,SAASxuE,EAAM6oE,EAAU0F,GACnC,IAAIE,EAASF,EAAgBvuE,IAAS6nE,EAAQ7nE,GAC1C+tE,EAAYxqE,KAAKwqE,UACjBvoC,EACAsjC,EAAUD,EAAS7oE,GAEvB,GAAIyuE,EAAQ,CACRA,EAAS,IAAIA,EAAOlrE,KAAKL,OAAQ2lE,EAAUtlE,KAAKP,SAEhD+qE,EAAUtoE,KAAKgpE,GAEf,GAAI3F,aAAmBV,EAAS,CAC5BqG,EAAO3pE,KAAKgkE,GACZiF,EAAUtoE,KAAKqjE,QAEf,IAAKtjC,KAAasjC,EAAS,CACvB2F,EAAO3pE,KAAKgkE,EAAStjC,GACrBuoC,EAAUtoE,KAAKqjE,EAAQtjC,UAG5B,GAAIxlC,IAAS,WAChB,MAAM,IAAImI,MAAM,OAASnI,EAAO,oCAAsCuD,KAAKL,OAAOsyB,SAAS3lB,cAAgB,aAInH2f,QAAS,WACL,IAAItqB,EACA7B,EACA0qE,EAAYxqE,KAAKwqE,UAErB,IAAK7oE,EAAM,EAAG7B,EAAS0qE,EAAU1qE,OAAQ6B,EAAM7B,EAAQ6B,IACnD6oE,EAAU7oE,GAAKsqB,aAKvB8+C,EAAsBR,EAAc/sE,OAAQ,CAC5C8mE,QAAS,WACL,OAAOA,EAAQv3C,OAAO/sB,KAAKL,OAAOF,QAAQhD,KAAK6P,gBAAkB,IAGrE2+D,aAAc,SAASxuE,EAAM6oE,EAAU0F,GACnC,IAAIE,EAASF,EAAgBvuE,IAAS6nE,EAAQv3C,OAAOtwB,GACjD+tE,EAAYxqE,KAAKwqE,UACjBvoC,EACAsjC,EAAUD,EAAS7oE,GAEvB,GAAIyuE,EAAQ,CACRA,EAAS,IAAIA,EAAOlrE,KAAKL,OAAQ2lE,EAAUtlE,KAAKL,OAAOF,SAEvD+qE,EAAUtoE,KAAKgpE,GAGf,GAAI3F,aAAmBV,EAAS,CAC5BqG,EAAO3pE,KAAKgkE,GACZiF,EAAUtoE,KAAKqjE,QAEf,IAAKtjC,KAAasjC,EAAS,CACvB2F,EAAO3pE,KAAKgkE,EAAStjC,GACrBuoC,EAAUtoE,KAAKqjE,EAAQtjC,UAI/B,MAAM,IAAIr9B,MAAM,OAASnI,EAAO,oCAAsCuD,KAAKL,OAAOF,QAAQhD,KAAO,cAK7G,SAAS0uE,EAAqBt7D,EAAS0f,GACnC,IAAIxC,EAASzvB,EAAMgyB,WAAWzf,EAAS,GAAI0f,GAE3C,GAAIxC,EACA,OAAO,IAAIg+C,EAAoBh+C,GAIvC,IAAIq+C,EAAiB,wCACjBC,EAAmB,MAEvB,SAASC,EAAc/pE,GACnB,IAAIgI,EAAS,GACT5H,EACA7B,EACAyrE,EACAC,EACAxkE,EACAM,EACAu5B,EAEJA,EAASt/B,EAAK+C,MAAM8mE,GAEpB,IAAKzpE,EAAM,EAAG7B,EAAS+gC,EAAO/gC,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACvD4pE,EAAQ1qC,EAAOl/B,GACf6pE,EAAaD,EAAM1+D,QAAQ,KAE3B7F,EAAMukE,EAAMtoE,UAAU,EAAGuoE,GACzBlkE,EAAQikE,EAAMtoE,UAAUuoE,EAAa,GAErC,GAAIlkE,EAAMvE,OAAO,IAAM,IACnBuE,EAAQgkE,EAAchkE,GAG1BiC,EAAOvC,GAAOM,EAGlB,OAAOiC,EAGX,SAASkiE,EAAenG,EAAUxuD,EAAQvP,GACtC,IAAIg+D,EACAh8D,EAAS,GAEb,IAAKg8D,KAAWD,EACZ/7D,EAAOg8D,GAAW,IAAIh+D,EAAKuP,EAAQwuD,EAASC,IAGhD,OAAOh8D,EAGX,SAAS48D,EAAYt2D,EAASiH,EAAQyY,EAAO+C,GAEzC,IAAIziB,GAAWA,EAAQmf,aAAa,QAAU1xB,EAAMurB,GAAK,QACrD,OAGJ,IAAIe,EAAO/Z,EAAQmf,aAAa,QAAU1xB,EAAMurB,GAAK,QACjDlnB,EACAJ,EAAOsO,EAAQmf,aAAa,QAAU1xB,EAAMurB,GAAK,QACjD6iD,EAAe,GACf3rE,EAAO,KACPulE,EACA7lE,EAAU,GACVE,EAEJ2yB,EAAUA,GAAW,CAACxb,GAEtB,GAAI8S,GAAQroB,EACRoqE,EAAc97D,EAAS,OAG3B,GAAI+Z,EACAjqB,EAASwrE,EAAqBt7D,EAAS0f,GAG3C,GAAIhuB,EAAM,CACNA,EAAO+pE,EAAc/pE,EAAKpB,QAAQkrE,EAAkB,KAEpD,IAAK1rE,EAAQ,CACTF,EAAUnC,EAAM2xB,aAAapf,EAAS,CAACkyD,UAAW,GAAI0F,WAAY,GAAIzjE,SAAU,GAAIsjE,YAAar9B,EAAQg+B,eAAgB,MAAOT,SAAU,MAAO1wD,GACjJrX,EAAQ8vB,MAAQA,EAChB5vB,EAAS,IAAI4qE,EAAc16D,EAASpQ,GAGxCE,EAAOmX,OAASA,EAEhBwuD,EAAWmG,EAAelqE,EAAM+wB,EAASuyC,GAEzC,GAAIplE,EAAQuE,SACRshE,EAASthE,SAAW,IAAIohE,EAAgB9yC,EAAS,GAAI7yB,EAAQuE,UAGjE,GAAIshE,EAAS7+C,MAAO,CAChBllB,EAAKS,OAAST,EAAKS,QAAU,GAC7BT,EAAKS,OAAOykB,MAAQllB,EAAKklB,MACzB6+C,EAAS7+C,MAAMwF,iBACRq5C,EAAS7+C,MAGpB,GAAI6+C,EAASxuD,OACT/W,EAAO,MAGX,GAAIwB,EAAK4U,KACLmvD,EAASnvD,KAAOs1D,EAAelqE,EAAK4U,KAAMmc,EAASuyC,GAGvD,GAAItjE,EAAKqU,MACL0vD,EAAS1vD,MAAQ61D,EAAelqE,EAAKqU,MAAO0c,EAASuyC,GAGzD,GAAItjE,EAAKS,OACLsjE,EAAStjE,OAASypE,EAAelqE,EAAKS,OAAQswB,EAAS6yC,GAG3D,GAAI5jE,EAAKsT,IACLywD,EAASzwD,IAAM42D,EAAelqE,EAAKsT,IAAKyd,EAASuyC,GAGrDllE,EAAO4B,KAAK+jE,GAGhB,GAAI3lE,EACAkQ,EAAQob,mBAAqBtrB,EAGjC,IAAI0hD,EAAWxxC,EAAQwxC,SACvB,GAAIthD,GAAQshD,IAAaxxC,EAAQmf,aAAa,QAAU1xB,EAAMurB,GAAK,QAAS,CAExE,IAAKlnB,EAAM,EAAGA,EAAM0/C,EAASvhD,OAAQ6B,IACjC+pE,EAAa/pE,GAAO0/C,EAAS1/C,GAGjC,IAAKA,EAAM,EAAGA,EAAM+pE,EAAa5rE,OAAQ6B,IACrCwkE,EAAYuF,EAAa/pE,GAAMmV,EAAQyY,EAAO+C,IAK1D,SAAS/wB,EAAKqqE,EAAK7qB,GACf,IAAIp/C,EACA7B,EACA28B,EACAlN,EAAQjyB,EAAMuyB,oBAAoB,GAAG1wB,MAAMqD,KAAK5C,UAAW,IAE/DmhD,EAASzjD,EAAMmrC,WAAWsY,GAC1B6qB,EAAM1uE,EAAE0uE,GAER,IAAKjqE,EAAM,EAAG7B,EAAS8rE,EAAI9rE,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACpD86B,EAAOmvC,EAAIjqE,GACX,GAAI86B,EAAK/M,WAAa,EAClBy2C,EAAY1pC,EAAMskB,EAAQxxB,IAKtC,SAASo8C,EAAc97D,EAASg8D,GAC5B,IAAIC,EAAgBj8D,EAAQob,mBAE5B,GAAI6gD,EAAe,CACfA,EAAc7/C,UAEd,GAAI24C,SACO/0D,EAAQob,wBACZ,GAAIpb,EAAQqyB,gBACfryB,EAAQqyB,gBAAgB,2BAExBryB,EAAQob,mBAAqB,KAIrC,GAAG4gD,EAAe,CACd,IAAI9+C,EAASzvB,EAAM8yB,eAAelzB,EAAE2S,IACpC,GAAIkd,UAAiBA,EAAOd,UAAY3tB,EACpCyuB,EAAOd,WAKnB,SAASq6C,EAAkBz2D,EAASk8D,GAChCJ,EAAc97D,EAASk8D,GAEvBlE,EAAsBh4D,EAASk8D,GAGnC,SAASlE,EAAsBh4D,EAASk8D,GACpC,IAAI1qB,EAAWxxC,EAAQwxC,SAEvB,GAAIA,EACA,IAAK,IAAI1/C,EAAM,EAAG7B,EAASuhD,EAASvhD,OAAQ6B,EAAM7B,EAAQ6B,IACtD2kE,EAAkBjlB,EAAS1/C,GAAMoqE,GAK7C,SAAS9pE,EAAO2pE,GACZ,IAAIjqE,EAAK7B,EAET8rE,EAAM1uE,EAAE0uE,GAER,IAAKjqE,EAAM,EAAG7B,EAAS8rE,EAAI9rE,OAAQ6B,EAAM7B,EAAQ6B,IAC7C2kE,EAAkBsF,EAAIjqE,GAAM,OAIpC,SAAS+sB,EAAO3B,EAAQi/C,GACpB,IAAIn8D,EAAUkd,EAAOld,QACjBi8D,EAAgBj8D,EAAQ,GAAGob,mBAE/B,GAAI6gD,EACAvqE,EAAKsO,EAASi8D,EAAch1D,OAAQk1D,GAI5C,SAAS/E,EAAwB3/D,EAAOmgE,GACpC,IAAIv4D,EAAS,GACb,IAAIvN,EAAM,EACV,IAAI7B,EACJ,IAAImpC,EAEJ,IAAKw+B,EACD,OAAOngE,EAGX,GAAIA,aAAiByP,EAAiB,CAClC,IAAKjX,EAASwH,EAAMxH,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CAC7CsnC,EAAO3hC,EAAM3F,GACbuN,EAAOvN,GAAOsnC,EAAK3f,IAAM2f,EAAK3f,IAAIm+C,GAAcx+B,EAAKw+B,GAEzDngE,EAAQ4H,OACL,GAAI5H,aAAiBk5C,EACxBl5C,EAAQA,EAAMgiB,IAAIm+C,GAGtB,OAAOngE,EA+Cf,OA5CIhK,EAAM2E,OAASA,EACf3E,EAAMiE,KAAOA,EACbjE,EAAM2G,KAAKqgE,QAAUA,EACrBhnE,EAAM2G,KAAKohE,OAASA,EACpB/nE,EAAMoxB,OAASA,EAEfpxB,EAAMmrC,WAAa,SAASsY,GACxB,KAAMA,aAAkBP,GACpBO,EAAS,IAAIP,EAAiBO,GAGlC,OAAOA,GAGXzjD,EAAM2uE,oBAAsB,SAAS16D,GACjC,IAAIoZ,EAAartB,EAAM2G,KAAKiT,uBAAuBgmC,OAAO3rC,GAE1D,SAAS26D,EAAcjoE,GACnB,IAAIpE,EAAGwhD,EAEP,IAAKxhD,EAAI,EAAGA,EAAIoE,EAAKnE,OAAQD,IAAK,CAC9BoE,EAAKpE,GAAG+gE,gBAERvf,EAAWp9C,EAAKpE,GAAGwhD,SAEnBA,EAASoa,QAETx3D,EAAKpE,GAAGwuB,MAAQgzB,EAASp9C,OAEzBioE,EAAcjoE,EAAKpE,GAAGwuB,QAI9B1D,EAAW8wC,QAEXyQ,EAAcvhD,EAAW1mB,QAEzB0mB,EAAWilC,MAAMwS,YAAcz3C,EAE/B,OAAOA,EAAWilC,OAKnBxyD,OAAOE,QAjlEd,CAolEoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,WAAW,CAAE,cACrB,WAEH,IAAIC,EAAW,CACXC,GAAI,KACJC,KAAM,UACNC,SAAU,YACVC,YAAa,0DACbotC,QAAS,CAAE,SAGL7sC,EAqiDPE,OAAOE,MAAMH,OAriDHE,OAAb,EACQC,EAAQF,OAAOE,MACf2lB,EAAK3lB,EAAM0lB,QACXvlB,EAAOP,EAAEO,KACTD,EAASN,EAAEM,OACXS,EAAUX,EAAMW,QAChB+a,EAAU/a,EAAQ+a,QAClB4B,EAAa3c,EAAQ2c,WACrB9F,EAAc7W,EAAQ6W,YACtBq3D,EAAkB,CAAEC,MAAO,EAAGC,OAAQ,EAAGC,OAAQ,EAAGC,QAAS,GAC7DC,EAAsB,CAAEC,UAAW,EAAGC,WAAY,EAAGC,WAAY,EAAGC,YAAa,GACjFC,SAAkBr9D,SAASE,gBAAgBkG,MAAMk3D,OAAS,cAAiBlyD,EAC3EmyD,EAAiB,iGACjBC,EAAkB,oDAClBC,EAAmB,gBACnBC,EAAmB,0BACnBC,EAAqB,qBACrBC,EAAa,SACbC,EAAiB,CAAC,cAAe,SAAU,UAAW,UAAW,UAAW,WAAY,QAAS,SAAU,SAAU,SAAU,UAAW,OAAQ,QAAS,QAAS,YAAa,aAAc,aAAc,aAAc,cAAe,SAAU,YACpPC,EAAc,CAAC,SAAU,QAAS,SAAU,SAAU,OAAQ,QAAS,QAAS,YAAa,aAAc,aAAc,UACzHC,EAAkB,CAAEC,OAAU,MAAOpB,MAAO,GAAIqB,KAAM,KAAMhB,UAAW,MACvEiB,EAAY9yD,EAAW/F,IACvBlI,EAAQ7O,KAAK6O,MACbghE,EAAQ,GACRC,EAAK,KACLC,EAAO,OACPC,EAAO,OACPC,EAAQ,QACRC,EAAS,SACTC,EAAS,SACTC,EAAS,SACTC,EAAW,UACXC,EAAW,WACXC,EAAY,YACZC,EAAW,WACXC,EAAoB,mBACpBC,EAAad,EAAY,aACzBe,EAAYf,EAAY,YACxBgB,EAAWhB,EAAY,sBACvBiB,EAAcjB,EAAY,cAC1BkB,EAAsB,SACtBC,EAAwB,eAAiBD,EAAsB,IAC/DlsD,EAAa,CACTzN,KAAM,CACFpG,QAAS,QACT8C,SAAU,OACVm9D,WAAY,aACZC,SAAU,MACVC,UAAW,GAEf95D,MAAO,CACHrG,QAAS,OACT8C,SAAU,OACVm9D,WAAY,aACZC,SAAU,MACVC,SAAU,GAEdrsD,KAAM,CACF9T,QAAS,KACT8C,SAAU,MACVm9D,WAAY,aACZC,SAAU,KACVC,SAAU,GAEdpsD,GAAI,CACA/T,QAAS,OACT8C,SAAU,MACVm9D,WAAY,aACZC,SAAU,KACVC,UAAW,GAEfjvD,IAAK,CACDlR,QAAS,UAEbsG,OAAQ,CACJtG,QAAS,OAEbgU,GAAM,CACFhU,QAAS,MACTmgE,UAAW,GAEflsD,IAAK,CACDjU,QAAS,KACTmgE,SAAU,GAGdD,SAAU,CACNlgE,QAAS,YAGbogE,WAAY,CACRpgE,QAAS,eAkBrB,GAdAvR,EAAMolB,WAAaA,EAEnBllB,EAAON,EAAEyD,GAAI,CACT2jB,UAAW,SAASC,EAAYC,GAC5B,GAAI1P,EACA,OAAOmO,EAAGisD,UAAUlvE,KAAMukB,GAAc,MAAOC,GAAW,YAE1D,OAAOxkB,KAAKykB,KAAKF,EAAYC,MAOrC5J,IAAe9F,EAAa,CAC5BrX,EAAK6vE,EAAa,SAAS3rE,EAAK2F,GAC5BpK,EAAEyD,GAAG2G,GAAS,SAAS+jD,GACnB,UAAWA,GAAO,YACd,OAAO8jB,EAAkBnvE,KAAMsH,OAC5B,CACH,IAAI/G,EAAOrD,EAAE8C,MAAM,GACfovE,EAAiB9nE,EAAQ,IAAM+jD,EAAMkiB,EAAgBjmE,EAAMnH,QAAQitE,EAAY,KAAO,IAE1F,GAAI7sE,EAAKqV,MAAMqE,QAAQpN,QAAQ4hE,KAAe,EAC1CvxE,EAAE8C,MAAM6U,IAAI45D,EAAWW,QAEvB7uE,EAAKqV,MAAMqE,QAAU1Z,EAAKqV,MAAMqE,QAAQ9Z,QAAQ,IAAI+R,OAAO5K,EAAQ,YAAa,KAAM8nE,GAG9F,OAAOpvE,MAGX9C,EAAE+lB,GAAGosD,KAAK/nE,GAAS,SAAU2b,GACzB/lB,EAAE+lB,EAAGqsD,MAAMhoE,GAAO2b,EAAGisB,QAI7B,IAAIqgC,EAAWryE,EAAE+lB,GAAGriB,UAAU4uE,IAC9BtyE,EAAE+lB,GAAGriB,UAAU4uE,IAAM,WACjB,GAAIlC,EAAYzgE,QAAQ7M,KAAKwsB,QAAU,EACnC,OAAO3Y,WAAW3W,EAAE8C,KAAKsvE,MAAMtvE,KAAKwsB,SAGxC,OAAO+iD,EAAS7uE,MAAMV,KAAMJ,YA+DpC,SAAS6vE,EAAanoE,GAClB,OAAO+H,SAAS/H,EAAO,IAG3B,SAASooE,EAAS7/D,EAAS8B,GACvB,OAAO89D,EAAa5/D,EAAQgF,IAAIlD,IAGpC,SAAS4V,EAAKvF,GACV,IAAI2tD,EAAM,GACV,IAAK,IAAIC,KAAgB5tD,EACrB2tD,EAAIztE,KAAK0tE,GAEb,OAAOD,EAGX,SAASE,EAAkBz3D,GACvB,IAAK,IAAIpR,KAAOoR,EACZ,GAAIi1D,EAAexgE,QAAQ7F,KAAS,GAAKsmE,EAAYzgE,QAAQ7F,KAAS,SAC3DoR,EAAWpR,GAI1B,OAAOoR,EAGX,SAAS03D,EAAajgE,EAASuI,GAC3B,IAAI23D,EAAiB,GAAIC,EAAY,GAAIC,EAAUjpE,EAAKM,EAAO4oE,EAE/D,IAAKlpE,KAAOoR,EAAY,CACpB63D,EAAWjpE,EAAIsF,cACf4jE,EAAgBt1D,GAAcyyD,EAAexgE,QAAQojE,KAAc,EAEnE,IAAKhyE,EAAQ8c,SAAWm1D,GAAiB5C,EAAYzgE,QAAQojE,KAAc,SAChE73D,EAAWpR,OACf,CACHM,EAAQ8Q,EAAWpR,GAEnB,GAAIkpE,EACAH,EAAe7tE,KAAK8E,EAAM,IAAMM,EAAQ,UAExC0oE,EAAUhpE,GAAOM,GAK7B,GAAIyoE,EAAejwE,OACfkwE,EAAUvB,GAAasB,EAAejtE,KAAK,KAG/C,OAAOktE,EAGX,GAhHA1yE,EAAMumB,YAAc,SAAShU,EAASiU,EAASrkB,EAASskB,GACpD,GAAID,EAAS,CACTA,EAAUA,EAAQjhB,MAAM,KAExB,GAAIiS,EAAa,CACbrV,EAAUjC,EAAO,CACb2yE,UAAW,MACX/sD,SAAU,IACVgtD,KAAM,YACP3wE,GAEHoQ,EAAQgF,IAAI25D,EAAY/uE,EAAQ0wE,UAAY,IAAM1wE,EAAQ2jB,SAAW,MAAQ3jB,EAAQ2wE,MACrFj9C,WAAW,WACPtjB,EAAQgF,IAAI25D,EAAY,IAAI35D,IAAIm5D,IACjCvuE,EAAQ2jB,UAGf3lB,EAAKqmB,EAAS,SAASniB,EAAK2F,GACxBuI,EAAQgU,YAAYvc,EAAOyc,KAInC,OAAOlU,GAGXvS,EAAMylB,aAAe,SAAS3C,EAAOiwD,GACjC,IAAIrtD,EAAU,GAEd,UAAW5C,IAAU,SACjB3iB,EAAK2iB,EAAMvd,MAAM,KAAM,SAASlB,EAAK2F,GACjC,IAAIgpE,GAAoBnD,EAAmBxmE,KAAKW,GAC5CipE,EAAWjpE,EAAMnH,QAAQ+sE,EAAkB,SAAS5oE,EAAOksE,EAAIC,GAC3D,OAAOD,EAAK,IAAMC,EAAGnkE,gBAEzBokE,EAASH,EAAS1tE,MAAM,KACxBy0C,EAAYo5B,EAAO,GACnBC,EAAa,GAEjB,GAAID,EAAO5wE,OAAS,EAChB6wE,EAAWr5B,UAAa+4B,GAAUC,EAAmB5tD,EAAW40B,GAAWzoC,QAAUyoC,EAGzFt0B,EAAQ0tD,EAAO,IAAMC,SAGzBlzE,EAAK2iB,EAAO,SAASze,GACjB,IAAI21C,EAAYt3C,KAAKs3C,UAErB,GAAIA,GAAa+4B,IAAWlD,EAAmBxmE,KAAKhF,GAChD3B,KAAKs3C,UAAY50B,EAAW40B,GAAWzoC,QAG3CmU,EAAQrhB,GAAO3B,OAIvB,OAAOgjB,GAwDPlO,EACAtX,EAAOylB,EAAI,CACP6rD,WAAY,SAASj/D,EAASuI,EAAY3Y,GACtC,IAAIoV,EACA+pB,EAAQ,EACRgyC,EAAU/gE,EAAQ5L,KAAK,SAAW,GAClC4sE,EAEJpxE,EAAUjC,EAAO,CACT4lB,SAAU,IACVgtD,KAAM,WACN/sD,SAAU,KACV8sD,UAAW,OAEf1wE,GAGJ,IAAIqxE,EAAuB,MAE3B,IAAIC,EAAiB,WACjB,IAAKD,EAAsB,CACvBA,EAAuB,KAEvB,GAAID,EAAW,CACXr8C,aAAaq8C,GACbA,EAAY,KAGhBhhE,EACCqc,WAAWiiD,GACXlqD,UACApP,IAAI25D,EAAY,IAChB35D,IAAI25D,GAEL/uE,EAAQ4jB,SAAS7gB,KAAKqN,KAI9BpQ,EAAQ2jB,SAAWlmB,EAAE+lB,GAAK/lB,EAAE+lB,GAAG+tD,OAAOvxE,EAAQ2jB,WAAa3jB,EAAQ2jB,SAAW3jB,EAAQ2jB,SAEtFvO,EAAMi7D,EAAajgE,EAASuI,GAE5Blb,EAAE+zE,MAAML,EAASrpD,EAAK1S,IAEtB,GAAI3X,EAAEsK,eAAe,cACjBqI,EACK5L,KAAK,OAAQ/G,EAAEg0E,WAAWN,IAC1B/6D,cAELhG,EACK5L,KAAK,OAAQ/G,EAAEi0E,OAAOP,IACtB/6D,SAGThG,EAAQgF,IAAI25D,EAAY/uE,EAAQ0wE,UAAY,IAAM1wE,EAAQ2jB,SAAW,MAAQ3jB,EAAQ2wE,MAAMv7D,IAAI25D,GAC/F3+D,EAAQgF,IAAIA,GAAKA,IAAI45D,GAQrB,GAAI35D,EAAYuG,MAAO,CACnBxL,EAAQnO,IAAIoT,EAAYuG,MAAO01D,GAC/B,GAAItxE,EAAQ2jB,WAAa,EACrBwb,EAAQ,IAIhBiyC,EAAY19C,WAAW49C,EAAgBtxE,EAAQ2jB,SAAWwb,GAC1D/uB,EAAQ5L,KAAKkqE,EAAU0C,GACvBhhE,EAAQ5L,KAAKsqE,EAAmBwC,IAGpC7B,UAAW,SAASr/D,EAAS0U,EAAYC,GACrC,IAAIwrD,EACAoB,EAAWvhE,EAAQ5L,KAAK,QACxBotE,GAAmB7sD,GAAW4sD,EAC9B5tD,EAAmB3T,EAAQ5L,KAAKsqE,GAEpC,GAAI8C,EACArB,EAAY1yE,EAAM6a,kBAAkBtI,EAAQ,GAAIuhE,GAGpD,GAAI5tD,EACAA,IAGJ,GAAI6tD,EACAxhE,EAAQgF,IAAIm7D,GAGhB,OAAOngE,EACEqc,WAAW,QACXzH,KAAKF,MAK1B,SAAS4qD,EAAkBt/D,EAAS8B,GAChC,GAAIiJ,EAAY,CACZ,IAAI02D,EAAYzhE,EAAQgF,IAAI45D,GAC5B,GAAI6C,GAAazD,EACb,OAAOl8D,GAAY,QAAU,EAAI,EAGrC,IAAIrN,EAAQgtE,EAAUhtE,MAAM,IAAI4N,OAAOP,EAAW,0BAC9C4/D,EAAW,EAEf,GAAIjtE,EACAitE,EAAW9B,EAAanrE,EAAM,QAC3B,CACHA,EAAQgtE,EAAUhtE,MAAMyoE,IAAmB,CAAC,EAAG,EAAG,EAAG,EAAG,GACxDp7D,EAAWA,EAASrF,cAEpB,GAAI2gE,EAAiBtmE,KAAKgL,GACtB4/D,EAAW19D,WAAWvP,EAAM,GAAKA,EAAM,SACpC,GAAIqN,GAAY,aACnB4/D,EAAW19D,WAAWvP,EAAM,GAAKA,EAAM,SACpC,GAAIqN,GAAY,QACnB4/D,EAAW19D,WAAWvP,EAAM,SACzB,GAAIqN,GAAY,SACnB4/D,EAAW19D,WAAW/V,KAAK0zE,MAAMltE,EAAM,GAAIA,EAAM,KAIzD,OAAOitE,OAEP,OAAO19D,WAAWhE,EAAQgF,IAAIlD,IAItC,IAAI8/D,GAAYn0E,EAAM4C,MAAM1C,OAAO,CAC/BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEXO,EAAKsP,QAAUA,EACftP,EAAKyiB,QAAU,GACfziB,EAAKd,QAAUA,EACfc,EAAKmxE,QAAU,IAGnBC,IAAK,SAAS3uD,GACV,IAAIziB,EAAOP,KACP0wE,EACA/uE,EAAKiwE,EACL9xE,EAASkjB,EAAQljB,OACjB+P,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QACf+mC,EAAWtpC,EAAEupC,WACbt6B,EAAQ,GACRvI,EAAM,GACNjE,EACA0hD,EACAwwB,EAEJtxE,EAAKyiB,QAAUA,EAEfwjB,EAASS,KAAK1mC,EAAK8iB,SAAS9hB,KAAKhB,IAEjCsP,EAAQ5L,KAAK,YAAa,MAE1B,IAAKtC,EAAM,EAAGA,EAAM7B,EAAQ6B,IAAQ,CAChC+uE,EAAS1tD,EAAQrhB,GAEjB+uE,EAAOoB,WAAWryE,EAAQoP,SAC1B6hE,EAAOplD,WAAW7rB,GAElBc,EAAKwxE,qBAAqBrB,EAAOgB,SAEjChB,EAAOsB,QAAQ7lE,EAAOvI,GAEtBy9C,EAAWqvB,EAAOrvB,WAElB,IAAKuwB,EAAM,EAAGC,EAAiBxwB,EAASvhD,OAAQ8xE,EAAMC,EAAgBD,IAClEvwB,EAASuwB,GAAKxuD,SAAS3jB,EAAQ2jB,UAAUuuD,MAKjD,IAAK,IAAIM,KAAcxyE,EAAQujB,QAC3BxlB,EAAOoG,EAAKnE,EAAQujB,QAAQivD,GAAY75D,YAI5C,IAAKvI,EAAQoG,GAAG,YACZzY,EAAO2O,EAAO,CAAEuK,QAAS7G,EAAQ5L,KAAK,eAAiB,UAG3D,GAAI2W,IAAenb,EAAQ4kE,MAAO,CAC9B1kE,EAASkQ,EAAQ5L,KAAK,mBAEtB,GAAItE,EACAwM,EAAQ3O,EAAOmC,EAAQwM,GAI/BA,EAAQ2jE,EAAajgE,EAAS1D,GAE9B,GAAIyO,IAAe9F,EACf3I,EAAQ0jE,EAAkB1jE,GAG9B0D,EAAQgF,IAAI1I,GACJ0I,IAAI45D,GAEZ,IAAK9sE,EAAM,EAAGA,EAAM7B,EAAQ6B,IACxBqhB,EAAQrhB,GAAKwqD,QAGjB,GAAI1sD,EAAQgB,KACRhB,EAAQgB,OAGZoP,EAAQ5L,KAAK,kBAAmBL,GAChCqf,EAAGQ,QAAQ5T,EAASjM,EAAKpG,EAAO,GAAIiC,EAAS,CAAE4jB,SAAUmjB,EAAS2rB,WAElE,OAAO3rB,EAAS5iB,WAGpBa,KAAM,WACFvnB,EAAE8C,KAAK6P,SAASyU,UAAU,KAAM,OAGpCytD,qBAAsB,SAASL,GAC3B,IAAI7hE,EAAU7P,KAAK6P,QACfvI,EACAzH,EAAI,EACJC,EAAS4xE,EAAQ5xE,OAErB,KAAOD,EAAIC,EAAQD,IAAM,CACrByH,EAAQoqE,EAAQ7xE,GAEhBG,KAAK0xE,QAAQxvE,KAAKoF,GAElB,IAAKuI,EAAQ5L,KAAKqD,GACduI,EAAQ5L,KAAKqD,EAAOuI,EAAQgF,IAAIvN,MAK5C4qE,gBAAiB,WACb,IAAIriE,EAAU7P,KAAK6P,QAEnB,IAAK,IAAIhQ,EAAI,EAAGC,EAASE,KAAK0xE,QAAQ5xE,OAAQD,EAAIC,EAAQD,IAAM,CAC5D,IAAIyH,EAAQtH,KAAK0xE,QAAQ7xE,GACzBgQ,EAAQgF,IAAIvN,EAAOuI,EAAQ5L,KAAKqD,MAIxC+b,SAAU,WACN,IAAI9iB,EAAOP,KACP2B,EAAM,EACNkO,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QACfujB,EAAUziB,EAAKyiB,QACfljB,EAASkjB,EAAQljB,OAErB+P,EACKqc,WAAW,aACXjI,UAEL,GAAIxkB,EAAQ8jB,KACR1T,EAAQ5L,KAAK,aAAc4L,EAAQgF,IAAI,YAAY0O,OAGvDvjB,KAAKkyE,kBAEL,GAAIrF,IAAYjyD,EACZuY,WAAWnzB,KAAKkyE,gBAAgB3wE,KAAKvB,MAAO,GAGhD,KAAO2B,EAAM7B,EAAQ6B,IACjBqhB,EAAQrhB,GAAK2hB,WAGjB,GAAI7jB,EAAQ+jB,iBACR/jB,EAAQ+jB,iBAAiB3T,MA0IjCsiE,GArIJlvD,EAAGW,QAAU,SAAS/T,EAASpQ,GAC3B,IAAIujB,EAAU,GACVovD,EACAC,EAAY,IAAIZ,GAAU5hE,EAASpQ,GACnC6yE,EAAgBh1E,EAAMylB,aAAatjB,EAAQujB,SAC3C0tD,EAEJjxE,EAAQujB,QAAUsvD,EAElB,IAAK,IAAIL,KAAcK,EAAe,CAClCF,EAAcnvD,EAAGsvD,GAAWN,IAE5B,GAAIG,EAAa,CACb1B,EAAS,IAAI0B,EAAYviE,EAASyiE,EAAcL,GAAY36B,WAC5Dt0B,EAAQ9gB,KAAKwuE,IAIrB,GAAI1tD,EAAQ,GACRqvD,EAAUV,IAAI3uD,OACX,CACH,IAAKnT,EAAQoG,GAAG,YACZpG,EAAQgF,IAAI,CAAE6B,QAAS7G,EAAQ5L,KAAK,eAAiB,UAAW4Q,IAAI,WAGxE,GAAIpV,EAAQgB,KACRhB,EAAQgB,OAGZoP,EAAQoU,UACRouD,EAAUhvD,aAIlB7lB,EAAOylB,EAAI,CACPQ,QAAS,SAAS2K,EAAUhW,EAAY3Y,GACpC,IAAI+yE,EAAgB/yE,EAAQqvE,aAAe,aACpCrvE,EAAQqvE,WAEf,GAAIh6D,GAAe,eAAgBmO,GAAMuvD,EACrCvvD,EAAG6rD,WAAW1gD,EAAUhW,EAAY3Y,QAEpC,GAAImb,EACAwT,EAAS3K,QAAQosD,EAAkBz3D,GAAa,CAAEuL,MAAO,MAAO8uD,KAAM,MAAOlvD,KAAM,MAAOH,SAAU3jB,EAAQ2jB,SAAUC,SAAU5jB,EAAQ4jB,gBAExI+K,EAAS3wB,KAAK,WACV,IAAIoS,EAAU3S,EAAE8C,MACZ0yE,EAAW,GAEfj1E,EAAK4vE,EAAgB,SAAS1rE,EAAK2F,GAC/B,IAAIw2B,EACA4H,EAAettB,EAAaA,EAAW9Q,GAAQ,IAAM,KAEzD,GAAIo+B,EAAc,CACd,IAAIitC,EAASv6D,EAEb,GAAI9Q,KAAS6kE,GAAmB/zD,EAAW9Q,KAAWjK,EAAW,CAC7DygC,EAAS4H,EAAaphC,MAAM0oE,GAC5B,GAAIpyD,EACApd,EAAOm1E,EAAQ,CAAEvG,OAAQtuC,EAAO,UAGpC,GAAIx2B,KAASklE,GAAuBp0D,EAAW9Q,KAAWjK,EAAW,CACjE,IAAIsZ,EAAW9G,EAAQgF,IAAIy5D,GACvBsE,EAAWj8D,GAAY,YAAcA,GAAY,QAErD,IAAK9G,EAAQ5L,KAAKoqE,GACd,GAAIuE,EACA/iE,EAAQ5L,KAAKoqE,EAAW,CACpBtuD,IAAK2vD,EAAS7/D,EAAS,QAAU,EACjCoF,KAAMy6D,EAAS7/D,EAAS,SAAW,EACnCsF,OAAQu6D,EAAS7/D,EAAS,UAC1BqF,MAAOw6D,EAAS7/D,EAAS,gBAG7BA,EAAQ5L,KAAKoqE,EAAW,CACpBtuD,IAAK2vD,EAAS7/D,EAAS,cAAgB,EACvCoF,KAAMy6D,EAAS7/D,EAAS,eAAiB,IAKrD,IAAIgjE,EAAmBhjE,EAAQ5L,KAAKoqE,GAEpCvwC,EAAS4H,EAAaphC,MAAM0oE,GAC5B,GAAIlvC,EAAQ,CAER,IAAIg1C,EAAKxrE,GAAS+mE,EAAY,KAAO,MAAQvwC,EAAO,GAChDi1C,EAAKzrE,GAAS+mE,EAAY,KAAOvwC,EAAO,IAAMA,EAAO,GAEzD,GAAI80C,EAAS,CACT,IAAK9+D,MAAM++D,EAAiB39D,QACxB,IAAKpB,MAAMg/D,GAAOt1E,EAAOm1E,EAAQ,CAAEz9D,MAAO29D,EAAiB39D,MAAQ49D,SAEnE,IAAKh/D,MAAMg/D,GAAOt1E,EAAOm1E,EAAQ,CAAE19D,KAAM49D,EAAiB59D,KAAO69D,IAGrE,IAAKh/D,MAAM++D,EAAiB19D,SACxB,IAAKrB,MAAMi/D,GAAOv1E,EAAOm1E,EAAQ,CAAEx9D,OAAQ09D,EAAiB19D,OAAS49D,SAErE,IAAKj/D,MAAMi/D,GAAOv1E,EAAOm1E,EAAQ,CAAE5yD,IAAK8yD,EAAiB9yD,IAAMgzD,QAEhE,CACH,IAAKj/D,MAAMg/D,GAAOt1E,EAAOm1E,EAAQ,CAAEK,WAAYH,EAAiB59D,KAAO69D,IACvE,IAAKh/D,MAAMi/D,GAAOv1E,EAAOm1E,EAAQ,CAAEM,UAAWJ,EAAiB9yD,IAAMgzD,MAMrF,IAAKn4D,GAActT,GAAS,SAAWA,KAASqrE,SACrCA,EAAOrrE,GAGlB,GAAIqrE,EACAn1E,EAAOk1E,EAAUC,MAK7B,GAAI35D,EAAQiG,YACDyzD,EAAStG,MAGpBv8D,EAAQ4T,QAAQivD,EAAU,CAAE/uD,MAAO,MAAO8uD,KAAM,MAAOlvD,KAAM,MAAOH,SAAU3jB,EAAQ2jB,SAAUC,SAAU5jB,EAAQ4jB,gBAOtIJ,EAAGoB,gBAAkBpB,EAAGW,QAEXtmB,EAAM4C,MAAM1C,OAAO,CAC5BiD,KAAM,SAASoP,EAASynC,GACpB,IAAI/2C,EAAOP,KACXO,EAAKsP,QAAUA,EACftP,EAAK2yE,WAAa57B,EAClB/2C,EAAKd,QAAU,GACfc,EAAK4yE,mBAAqB,GAE1B,IAAK5yE,EAAKmxE,QACNnxE,EAAKmxE,QAAU,IAKvB7iE,QAAS,WACL7O,KAAKozE,SAAW,KAChB,OAAOpzE,KAAK2xE,OAGhB0B,KAAM,WACFrzE,KAAKozE,SAAW,MAChB,OAAOpzE,KAAK2xE,OAGhB5tD,IAAK,SAASuvD,GACVtzE,KAAKmzE,mBAAmBjxE,KAAKoxE,GAC7B,OAAOtzE,MAGXs3C,UAAW,SAAShwC,GAChBtH,KAAKkzE,WAAa5rE,EAClB,OAAOtH,MAGXojB,SAAU,SAASA,GACfpjB,KAAKuzE,UAAYnwD,EACjB,OAAOpjB,MAGXwzE,aAAc,WACV,IAAIjzE,EAAOP,KACPqyE,EAAY,IAAIZ,GAAUlxE,EAAKsP,QAAS,CAAEhB,QAAStO,EAAK6yE,SAAUhwD,SAAU7iB,EAAKgzE,YACjFvwD,EAAUziB,EAAK4yE,mBAAmB7+D,OAAO,CAAE/T,IAE/C,OAAO8xE,EAAUV,IAAI3uD,IAGzB2uD,IAAK,WACD,GAAI3xE,KAAKmzE,oBAAsBnzE,KAAKmzE,mBAAmB,GACnD,OAAOnzE,KAAKwzE,eAGhB,IAAIjzE,EAAOP,KACP6P,EAAUtP,EAAKsP,QACflO,EAAM,EACN+vE,EAAUnxE,EAAKmxE,QACf5xE,EAAS4xE,EAAQ5xE,OACjBwH,EACAk/B,EAAWtpC,EAAEupC,WACbt6B,EAAQ,GACRvI,EAAM,GACNjE,EACA0hD,EAAW9gD,EAAK8gD,WAChBwwB,EAAiBxwB,EAASvhD,OAE9B0mC,EAASS,KAAK1mC,EAAKkzE,UAAUlyE,KAAKhB,IAElCsP,EAAQ5L,KAAK,YAAa,MAE1B,IAAKtC,EAAM,EAAGA,EAAM7B,EAAQ6B,IAAQ,CAChC2F,EAAQoqE,EAAQ/vE,GAEhB,IAAKkO,EAAQ5L,KAAKqD,GACduI,EAAQ5L,KAAKqD,EAAOuI,EAAQgF,IAAIvN,IAIxC,IAAK3F,EAAM,EAAGA,EAAMkwE,EAAgBlwE,IAChC0/C,EAAS1/C,GAAKyhB,SAAS7iB,EAAKgzE,WAAW5B,MAG3CpxE,EAAKyxE,QAAQ7lE,EAAOvI,GAEpB,IAAKiM,EAAQoG,GAAG,YACZzY,EAAO2O,EAAO,CAAEuK,QAAS7G,EAAQ5L,KAAK,eAAiB,UAG3D,GAAI2W,EAAY,CACZjb,EAASkQ,EAAQ5L,KAAK,mBAEtB,GAAItE,EACAwM,EAAQ3O,EAAOmC,EAAQwM,GAI/BA,EAAQ2jE,EAAajgE,EAAS1D,GAE9B,GAAIyO,IAAe9F,EACf3I,EAAQ0jE,EAAkB1jE,GAG9B0D,EAAQgF,IAAI1I,GAAO0I,IAAI45D,GAEvBluE,EAAK4rD,QAELt8C,EAAQ5L,KAAK,kBAAmBL,GAChCqf,EAAGQ,QAAQ5T,EAASjM,EAAK,CAAEwf,SAAU7iB,EAAKgzE,UAAWlwD,SAAUmjB,EAAS2rB,UAExE,OAAO3rB,EAAS5iB,WAGpBa,KAAM,WACF,IAAI9iB,EAAM,EACN0/C,EAAWrhD,KAAKqhD,WAChBwwB,EAAiBxwB,EAASvhD,OAE9B,IAAK6B,EAAM,EAAGA,EAAMkwE,EAAgBlwE,IAChC0/C,EAAS1/C,GAAK8iB,OAGlBvnB,EAAE8C,KAAK6P,SAASyU,UAAU,KAAM,MAChC,OAAOtkB,MAGXkyE,gBAAiB,WACb,IAAIriE,EAAU7P,KAAK6P,QAEnB,IAAK,IAAIhQ,EAAI,EAAGC,EAASE,KAAK0xE,QAAQ5xE,OAAQD,EAAIC,EAAQD,IAAM,CAC5D,IAAIyH,EAAQtH,KAAK0xE,QAAQ7xE,GACzBgQ,EAAQgF,IAAIvN,EAAOuI,EAAQ5L,KAAKqD,MAIxCmsE,UAAW,WACP,IAAIlzE,EAAOP,KACP6P,EAAUtP,EAAKsP,QAEnBA,EACKqc,WAAW,aACXjI,UAEL1jB,EAAK2xE,kBAEL,GAAI3xE,EAAKmzE,aACL7jE,EAAQ5L,KAAK,aAAc4L,EAAQgF,IAAI,YAAY0O,OAGvD,GAAIspD,IAAYjyD,EACZuY,WAAW5yB,EAAK2xE,gBAAgB3wE,KAAKhB,GAAO,GAGhDA,EAAK+iB,YAITgI,WAAY,SAAS7rB,GACjBjC,EAAO,KAAMwC,KAAKP,QAASA,IAG/B4hD,SAAU,WACN,MAAO,IAGXqyB,WAAYx2E,EAAEU,KAEduuD,MAAOjvD,EAAEU,KACTo0E,QAAS90E,EAAEU,KACX0lB,SAAUpmB,EAAEU,KACZ8kB,WAAY,GAEZovD,WAAY,SAASjjE,GACjB7O,KAAKozE,SAAWvkE,EAChB,OAAO7O,SAIf,SAASuyE,GAAWoB,GAChB,OAAOA,EAAK5wE,OAAO,GAAGmV,cAAgBy7D,EAAK1wE,UAAU,GAGzD,SAAS2wE,EAAan3E,EAAMo3E,GACxB,IAAIzB,EAAcD,EAAO30E,OAAOq2E,GAC5BnxD,EAAa0vD,EAAYxxE,UAAU8hB,WAEvCO,EAAGsvD,GAAW91E,IAAS21E,EAEvBnvD,EAAGC,QAAQtiB,UAAUnE,GAAQ,SAAS66C,EAAWw8B,EAAMC,EAAMC,GACzD,OAAO,IAAI5B,EAAYpyE,KAAK6P,QAASynC,EAAWw8B,EAAMC,EAAMC,IAGhEv2E,EAAKilB,EAAY,SAAS/gB,EAAKsyE,GAC3BhxD,EAAGC,QAAQtiB,UAAUnE,EAAO81E,GAAW0B,IAAiB,SAASH,EAAMC,EAAMC,GACzE,OAAO,IAAI5B,EAAYpyE,KAAK6P,QAASokE,EAAcH,EAAMC,EAAMC,MAK3E,IAAIE,GAAkB,CAAC,OAAQ,QAAS,KAAM,QAC1CC,GAAS,CAAC,KAAM,OAmEpB,SAASC,GAAmB33E,EAAMkV,EAAU0iE,EAAcC,GACtDV,EAAan3E,EAAM,CACfimB,WAAYyxD,GAEZI,WAAY,SAASjtE,GACjBtH,KAAKw0E,YAAcltE,EACnB,OAAOtH,MAGXy0E,SAAU,SAASntE,GACftH,KAAK00E,UAAYptE,EACjB,OAAOtH,MAGX0zE,WAAY,WACT,OAAO1zE,KAAK20E,aAGf3C,QAAS,SAAS7lE,EAAOvI,GACrB,IAAIrD,EAAOP,KACPu0E,EACAE,EACA3xD,EAAM9iB,KAAKkzE,aAAe,MAC1B0B,EAAiBr0E,EAAKsP,QAAQ5L,KAAK0N,GACnCkjE,IAAwB/gE,MAAM8gE,IAAmBA,GAAkBP,GAEvE,GAAIQ,EACAN,EAAaK,OACV,UAAW50E,KAAKw0E,cAAgB,YACnCD,EAAav0E,KAAKw0E,iBAElBD,EAAazxD,EAAMuxD,EAAeC,EAGtC,UAAWt0E,KAAK00E,YAAc,YAC1BD,EAAWz0E,KAAK00E,eAEhBD,EAAW3xD,EAAMwxD,EAAaD,EAGlC,GAAIr0E,KAAKozE,SAAU,CACfjnE,EAAMwF,GAAY8iE,EAClB7wE,EAAI+N,GAAY4iE,MACb,CACHpoE,EAAMwF,GAAY4iE,EAClB3wE,EAAI+N,GAAY8iE,EAGpBl0E,EAAKo0E,YAAc/wE,EAAI+N,KAAc2iE,KAjHjDV,EAAa,UAAW,CACpBlxD,WAAYwxD,GAEZY,QAAS,SAASxtE,GACdtH,KAAKP,QAAQq1E,QAAUxtE,EACvB,OAAOtH,MAGXgyE,QAAS,SAAS7lE,EAAOvI,GACrB,IAAIrD,EAAOP,KACP+0E,EACAllE,EAAUtP,EAAKsP,QACfE,EAAazS,EAAMsS,YACnBK,EAAc3S,EAAM0S,aACpBsnC,EAAY50B,EAAWniB,EAAK2yE,YAC5Bj/D,GAAUqjC,EAAU03B,UAAY13B,EAAUy3B,SAAW9+D,EAAYJ,GAAWE,EAAWF,IACvF0kE,EAAatgE,GAAU1T,EAAKd,SAAWc,EAAKd,QAAQq1E,SAAW,GAAKlH,EACpE6G,EAAW,MAEf,GAAIl0E,EAAK6yE,SAAU,CACf2B,EAAM5oE,EACNA,EAAQvI,EACRA,EAAMmxE,EAGV,GAAIn6D,EAAY,CACZzO,EAAMmrC,EAAUw3B,YAAcyF,EAC9B3wE,EAAI0zC,EAAUw3B,YAAc2F,MACzB,CACHtoE,EAAMmrC,EAAU3lC,UAAY4iE,EAC5B3wE,EAAI0zC,EAAU3lC,UAAY8iE,MAKtCb,EAAa,OAAQ,CACjBlxD,WAAYwxD,GAEZzzE,KAAM,SAASoP,EAASynC,EAAW09B,GAC/B7C,EAAOvxE,UAAUH,KAAK+B,KAAKxC,KAAM6P,EAASynC,GAC1Ct3C,KAAKP,QAAU,CAAEu1E,SAAUA,IAG/BC,gBAAiB,SAAS3tE,GACtBtH,KAAKP,QAAQw1E,gBAAkB3tE,EAC/B,OAAOtH,MAGXqhD,SAAU,WACN,IAAI9gD,EAAOP,KACP6O,EAAUtO,EAAK6yE,SACf4B,EAAWz0E,EAAKd,QAAQu1E,SACxBF,EAAUv0E,EAAKd,QAAQw1E,iBAAmB,EAC1Cr7C,EAAMr5B,EAAK2yE,WAEf,IAAI7xB,EAAW,CAAE/jD,EAAM2lB,GAAG1iB,EAAKsP,SAASqlE,QAAQt7C,GAAKk4C,WAAWjjE,IAEhE,GAAImmE,EACA3zB,EAASn/C,KAAM5E,EAAM2lB,GAAG+xD,GAAUE,QAAQxyD,EAAWkX,GAAK/qB,SAASimE,QAAQA,GAAShD,YAAYjjE,IAGpG,OAAOwyC,KAyDf+yB,GAAmB,OAAQ,UAAW,EAAG,GACzCA,GAAmB,OAAQ,QAAS,EAAG,KAEvCR,EAAa,cAAe,CACxB5B,QAAS,SAAS7lE,EAAOvI,GACrB,IAAIrD,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QACf01E,EAAStlE,EAAQ5L,KAAKiqE,GACtBj6D,EAASxU,EAAQwU,OACjBmhE,EACAvmE,EAAUtO,EAAK6yE,SAEnB,IAAKvkE,GAAWsmE,IAAW,KACvBtlE,EAAQ5L,KAAKiqE,EAAQr6D,WAAWhE,EAAQgF,IAAI,UAAYpV,EAAQg/B,QAGpE22C,EAAUvlE,EAAQ5L,KAAKiqE,IAAW,EAClCtqE,EAAI,UAAYnE,EAAQg/B,OAAS5vB,EAAUumE,EAASnhE,EAASmhE,KAIrExB,EAAa,UAAW,CACpB5B,QAAS,SAAS7lE,EAAOvI,GACrB,IAAIrD,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QACfwU,EAASxU,EAAQwU,OAAOpR,MAAM,KAC9BgM,EAAUtO,EAAK6yE,SAEnB,GAAIx4D,EAAY,CACZhX,EAAI8oE,YAAc79D,EAAUoF,EAAO,GAAK,EACxCrQ,EAAI+oE,YAAc99D,EAAUoF,EAAO,GAAK,MACrC,CACHrQ,EAAIqR,MAAQpG,EAAUoF,EAAO,GAAK,EAClCrQ,EAAImc,KAAOlR,EAAUoF,EAAO,GAAK,EAErCpE,EAAQgF,IAAI,WAIpB++D,EAAa,SAAU,CACnBlxD,WAAY,CAAC,aAAc,YAE3BgvD,QAAS,CAAEtD,GAEX4D,QAAS,SAAS7lE,EAAOvI,GACrB,IAAIrD,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QACfoP,EAAUtO,EAAK6yE,SACfzhE,EAAWpR,EAAK2yE,aAAe,WAAalF,EAASD,EACrDsH,EAAYxlE,EAAQ,GAAG+F,MAAMjE,GAC7By4D,EAAYv6D,EAAQ5L,KAAK0N,GACzB7R,EAAS+T,WAAWu2D,GAAaiL,GACjCC,EAAa3oE,EAAMkD,EAAQgF,IAAIlD,EAAUm8D,GAAMn8D,MAEnDxF,EAAM0M,SAAWo1D,EAEjBnuE,EAAUL,GAAWA,EAAQ4kE,MAASiR,GAAcx1E,EAASA,GAAUw1E,EAEvE1xE,EAAI+N,IAAa9C,EAAU,EAAI/O,GAAU8tE,EACzCzhE,EAAMwF,IAAa9C,EAAU/O,EAAS,GAAK8tE,EAE3C,GAAIxD,IAAc/sE,EACdwS,EAAQ5L,KAAK0N,EAAU0jE,IAI/B3B,WAAY,WACT,OAAO1zE,KAAKozE,UAGf9vD,SAAU,WACN,IAAI/iB,EAAOP,KACP6P,EAAUtP,EAAKsP,QACf8B,EAAWpR,EAAK2yE,aAAe,WAAalF,EAASD,EACrDjuE,EAAS+P,EAAQ5L,KAAK0N,GAE1B,GAAI7R,GAAUguE,GAAQhuE,IAAW6tE,EAC7Bx6C,WAAW,WAAatjB,EAAQgF,IAAIlD,EAAUm8D,GAAMj5D,IAAIlD,IAAc,MAKlF,IAAI4jE,GAAuB,CAAE5+D,SAAU,WAAYq8D,WAAY,EAAGC,UAAW,EAAG7G,MAAO,GA8CnFoJ,IAvCJ5B,EAAa,WAAY,CACrBnzE,KAAM,SAASoP,EAASlQ,GACpBK,KAAK6P,QAAUA,EACf7P,KAAKP,QAAU,CAAEE,OAAQA,GACzBK,KAAK0xE,QAAU,IAGnBvlB,MAAO,WACHnsD,KAAK6P,QAAQq1B,SAAS11B,SAAS2K,OAGnC63D,QAAS,SAAS7lE,EAAOvI,GACrB,IAAIrD,EAAOP,KACP6P,EAAUtP,EAAKsP,QACf4lE,EAAWxyD,EAAGyyD,IAAI7lE,GAClB8lE,EAAW1yD,EAAGyyD,IAAIn1E,EAAKd,QAAQE,QAC/Bi2E,EAAezG,EAAkBt/D,EAAS,SAC1Cu8D,EAAQnpD,EAAG4yD,UAAUF,EAAUF,GAC/BK,EAAkB7yD,EAAG6yD,gBAAgBH,EAAUF,GAEnDj4E,EAAO2O,EAAOopE,IACd3xE,EAAIwoE,MAAQ,EAEZv8D,EAAQgF,IAAI45D,EAAW,YAAY55D,IAAI45D,GACvC5+D,EAAQgF,IAAI45D,EAAW,SAAWmH,EAAe,KAEjDzpE,EAAM4T,IAAM01D,EAAS11D,IACrB5T,EAAM8I,KAAOwgE,EAASxgE,KACtB9I,EAAM2pE,gBAAkBA,EAAgB73C,EAAI2vC,EAAK,IAAMkI,EAAgB3nE,EAAIy/D,EAE3E,GAAIrtE,EAAK6yE,SACLjnE,EAAMigE,MAAQA,OAEdxoE,EAAIwoE,MAAQA,KAMZ,CACRrsD,IAAK,6BACL5K,OAAQ,6BACRF,KAAM,6BACNC,MAAO,+BAGP6gE,GAAY,CACZh2D,IAAQ,CAAE5T,MAAO,gBAAiBvI,IAAK,mBACvCuR,OAAQ,CAAEhJ,MAAO,mBAAoBvI,IAAK,iBAC1CqR,KAAQ,CAAE9I,MAAO,gBAAiBvI,IAAK,oBACvCsR,MAAQ,CAAE/I,MAAO,kBAAmBvI,IAAK,kBAG7C,SAASoyE,GAAW1lD,EAAWgnB,GAC3B,IAAIy3B,EAAWzxE,EAAMolB,WAAW40B,GAAWy3B,SACvC/8D,EAAQse,EAAUy+C,EAAWf,EAASD,KAAW,EAAK,KAE1D,OAAOyH,GAAMl+B,GAAWn3C,QAAQ,QAAS6R,GAG7C4hE,EAAa,cAAe,CACxBlxD,WAAYwxD,GAEZzzE,KAAM,SAASoP,EAASynC,EAAWhnB,GAC/B6hD,EAAOvxE,UAAUH,KAAK+B,KAAKxC,KAAM6P,EAASynC,GAC1Ct3C,KAAKi2E,WAAa3lD,GAGtB0hD,QAAS,SAAS7lE,EAAOvI,GACrB,IAAIrD,EAAOP,KACP6O,EAAUtO,EAAK6yE,SACf97B,EAAYzoC,EAAU6T,EAAWniB,EAAK2yE,YAAYrkE,QAAUtO,EAAK2yE,WACjEgD,EAAWH,GAAUz+B,GAEzBnrC,EAAMgqE,OAAS,EAEf,GAAI51E,EAAK61E,YACNjqE,EAAMkqE,KAAOL,GAAWz1E,EAAK01E,WAAY34E,EAAMolB,WAAW40B,GAAWzoC,SAGxE1C,EAAMuiE,GAAYT,EAElBrqE,EAAI6qE,GAAaI,GAAyBhgE,EAAUqnE,EAAS/pE,MAAQ+pE,EAAStyE,KAC9EuI,EAAMsiE,GAAaI,GAAyBhgE,EAAUqnE,EAAStyE,IAAMsyE,EAAS/pE,QAGlFggD,MAAO,WACHnsD,KAAKi2E,WAAWlV,OAAO/gE,KAAK6P,UAGhCymE,KAAM,SAAShvE,GACXtH,KAAKu2E,MAAQjvE,EACb,OAAOtH,MAGX0zE,WAAY,WACR,IAAInzE,EAAOP,KACP6O,EAAUtO,EAAK6yE,SACfkD,EAAO/1E,EAAKg2E,MAEhB,OAAQ1nE,IAAYynE,IAAWznE,GAAWynE,GAG9CN,WAAY,SAAS1uE,GACjBtH,KAAKo2E,YAAc9uE,EACnB,OAAOtH,MAGXw2E,UAAW,WACPx2E,KAAK6P,QAAQqG,SAAS,aACtB,OAAOlW,QAIf4zE,EAAa,aAAc,CACvBlxD,WAAYwxD,GAEZzzE,KAAM,SAASoP,EAASynC,EAAWhnB,GAC/B6hD,EAAOvxE,UAAUH,KAAK+B,KAAKxC,KAAM6P,EAASynC,GAC1Ct3C,KAAKi2E,WAAa3lD,GAGtBohD,QAAS,CAAC,QAEVM,QAAS,SAAS7lE,EAAOvI,GACrB,IAAIrD,EAAOP,KACPs3C,EAAY/2C,EAAK6yE,SAAW1wD,EAAWniB,EAAK2yE,YAAYrkE,QAAUtO,EAAK2yE,WAE3E/mE,EAAMkqE,KAAOL,GAAWz1E,EAAK01E,WAAY3+B,GACzCnrC,EAAMykB,QAAU,KAChBhtB,EAAIgtB,QAAU,GAGlB8iD,WAAY,WACR,IAAInzE,EAAOP,KACP6O,EAAUtO,EAAK6yE,SACfkD,EAAO/1E,EAAKg2E,MAEhB,OAAQ1nE,IAAYynE,IAAWznE,GAAWynE,GAG9CA,KAAM,SAAShvE,GACXtH,KAAKu2E,MAAQjvE,EACb,OAAOtH,QAIf4zE,EAAa,WAAY,CACrBlxD,WAAY,CAAC,aAAc,YAE3BjiB,KAAM,SAASoP,EAASynC,EAAWg/B,EAAMrrC,GACrCknC,EAAOvxE,UAAUH,KAAK+B,KAAKxC,KAAM6P,EAASynC,GAC1Ct3C,KAAKP,QAAU,GACfO,KAAKP,QAAQ62E,KAAOA,EACpBt2E,KAAKP,QAAQwrC,KAAOA,GAGxBoW,SAAU,WACN,IAAI9gD,EAAOP,KACPP,EAAUc,EAAKd,QACf63C,EAAY/2C,EAAK2yE,aAAe,aAAe,OAAS,MACxDuD,EAAmBn5E,EAAMolB,WAAW40B,GAAWzoC,QAC/CA,EAAUtO,EAAK6yE,SACf1Z,EACAgd,EAAYj3E,EAAQ62E,KAAK52E,MAAM,MAAM2rB,WAAW,MAChDsrD,EAAYl3E,EAAQwrC,KAAKvrC,MAAM,MAAM2rB,WAAW,MAChDxb,EAAUtP,EAAKsP,QAEnB,GAAIhB,EAAS,CACT6qD,EAAOpiB,EACPA,EAAYm/B,EACZA,EAAmB/c,EAGvB,MAAO,CACHp8D,EAAM2lB,GAAGxjB,EAAQ62E,MAAMM,WAAWt/B,EAAWznC,GAASymE,KAAK,MAAMxE,WAAWjjE,GAC5EvR,EAAM2lB,GAAGxjB,EAAQwrC,MAAM2rC,WAAWH,EAAkB5mE,GAASiiE,WAAWjjE,GACxEvR,EAAM2lB,GAAGyzD,GAAWG,YAAYv/B,EAAWznC,GAASymE,KAAK,MAAMN,WAAW,MAAMQ,YAAY1E,WAAWjjE,GACvGvR,EAAM2lB,GAAG0zD,GAAWE,YAAYJ,EAAkB5mE,GAASmmE,WAAW,MAAMQ,YAAY1E,WAAWjjE,KAI3GmjE,QAAS,SAAS7lE,EAAOvI,GACrBuI,EAAMwiE,GAAeC,EACrBziE,EAAM2qE,eAAiB,cAEvB3qE,EAAMykB,QAAU,KAChBhtB,EAAIgtB,QAAU,GAGlBtN,SAAU,WACNtjB,KAAK6P,QAAQkgB,KAAK,cAAcgB,YAIxC6iD,EAAa,OAAQ,CACjBlxD,WAAY,CAAC,aAAc,YAE3BjiB,KAAM,SAASoP,EAASynC,EAAWg/B,EAAMrrC,GACrCknC,EAAOvxE,UAAUH,KAAK+B,KAAKxC,KAAM6P,EAASynC,GAC1Ct3C,KAAKP,QAAU,GACfO,KAAKP,QAAQ62E,KAAOA,EACpBt2E,KAAKP,QAAQwrC,KAAOA,GAGxBoW,SAAU,WACN,IAAI9gD,EAAOP,KACPP,EAAUc,EAAKd,QACf63C,EAAY/2C,EAAK2yE,aAAe,aAAe,OAAS,MACxDuD,EAAmBn5E,EAAMolB,WAAW40B,GAAWzoC,QAC/CA,EAAUtO,EAAK6yE,SACf1Z,EACA7pD,EAAUtP,EAAKsP,QAEnB,GAAIhB,EAAS,CACT6qD,EAAOpiB,EACPA,EAAYm/B,EACZA,EAAmB/c,EAGvB,MAAO,CACHp8D,EAAM2lB,GAAGxjB,EAAQ62E,MAAMO,YAAYv/B,EAAWznC,GAASymE,KAAK,MAAMxE,WAAWjjE,GAC7EvR,EAAM2lB,GAAGxjB,EAAQwrC,MAAM4rC,YAAYJ,EAAkB5mE,GAASiiE,WAAWjjE,KAIjFmjE,QAAS,SAAS7lE,GACdA,EAAMwiE,GAAeC,EACrBziE,EAAM2qE,eAAiB,iBAI/B,IAAIC,IAAoB94E,EAAQsgB,SAASjC,QACrC06D,GAAmC,+CAoInCC,IAlIJrD,EAAa,UAAW,CACpBsD,QAASh6E,EAAEU,KACXu5E,OAAQj6E,EAAEU,KACV6C,KAAM,SAASoP,EAASmlE,EAAUoC,GAC9BjF,EAAOvxE,UAAUH,KAAK+B,KAAKxC,KAAM6P,GACjC7P,KAAKq3E,UAAYn6E,EAAE83E,GACnBh1E,KAAKs3E,iBAAmBF,GAG5Bh0D,SAAU,WACN,MAAM,IAAIxe,MAAM,kIAGpB2yE,iBAAkB,SAASpxD,GACvBnmB,KAAKk3E,QAAU/wD,EACf,OAAOnmB,MAGXw3E,gBAAiB,SAASrxD,GACtBnmB,KAAKm3E,OAAShxD,EACd,OAAOnmB,MAGXy3E,MAAO,WACH,OAAOv6E,IAAI6mB,IAAI/jB,KAAK03E,UAAU3zD,IAAI/jB,KAAKq3E,YAG3CM,gBAAiB,WACb,IAAIrgC,EAAYt3C,KAAKkzE,WACjB0E,EAAiB,wBAA0B53E,KAAKs3E,iBAEpD,GAAIhgC,EACAsgC,GAAkB,SAAWtgC,EAGjC,GAAIt3C,KAAKozE,SACLwE,GAAkB,gBAGtB,OAAOA,GAGXv0D,SAAU,SAAS/gB,GACf,IAAKtC,KAAKwmC,UAAalkC,GAAKpF,EAAEoF,EAAE3C,QAAQsW,GAAG+gE,IACvC,OAGJ,IAAI1mD,EAAYtwB,KAAKswB,UAErBA,EACK7a,YAAY,YACZA,YAAYzV,KAAK23E,mBACjBtkD,IAAIve,EAAYuG,MAAOrb,KAAK63E,eAEjC73E,KAAKq3E,UAAU9zD,OAAO9N,YAAY,gBAClCzV,KAAK6P,QAAQ4F,YAAY,aAEzB,GAAIshE,GACAzmD,EAAUzb,IAAIu5D,EAAU,IAG5B,IAAKpuE,KAAK83E,WACN93E,KAAKy3E,QAAQ5iE,IAAIy5D,EAAU,IAG/BtuE,KAAKwmC,SAAS2rB,iBACPnyD,KAAKwmC,UAGhBmrC,IAAK,WACD,GAAI3xE,KAAKmzE,oBAAsBnzE,KAAKmzE,mBAAmB,GACnD,OAAOnzE,KAAKwzE,eAGhB,IAAIjzE,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfmlE,EAAWz0E,EAAK82E,UAChB/mD,EAAYzgB,EAAQyiB,UAAUrC,OAAO+kD,EAAS1iD,WAAWnwB,QACzD41E,EAAOx3E,EAAKk3E,QACZjxC,EAAWtpC,EAAEupC,WACbosC,EAAmBhjE,EAAQgF,IAAIy5D,GAC/B0J,EAGJ,IAAK1nD,EAAUxwB,OACXwwB,EAAYzgB,EAAQ0F,SAGxBvV,KAAKswB,UAAYA,EACjBtwB,KAAKwmC,SAAWA,EAChBxmC,KAAK83E,WAAajF,GAAqB,WAEvC,IAAK7yE,KAAK83E,WACNC,EAAKljE,IAAIy5D,EAAU,YAGvB,GAAIyI,GAAkB,CAClBiB,EAAmB1nD,EAAUzb,IAAIu5D,GACjC99C,EAAUzb,IAAIu5D,EAAU,UAG5B,IAAKt5D,EACD9U,KAAKqjB,eACF,CACHxT,EAAQqG,SAAS,eAEjBoa,EAAUpa,SAASlW,KAAK23E,mBAExB33E,KAAK63E,cAAgB73E,KAAKqjB,SAAS9hB,KAAKvB,MACxCswB,EAAUlK,GAAGtR,EAAYuG,MAAOrb,KAAK63E,eAErCv6E,EAAM84B,eAAe,WACjBvmB,EAAQ4F,YAAY,eAAeS,SAAS,aAC5C8+D,EAASngE,IAAI,UAAW,IAAIqB,SAAS,gBACrC3V,EAAK22E,QAAQlC,EAAUnlE,GACvBvS,EAAM84B,eAAe,WACjB9F,EAAU7a,YAAY,cAAcS,SAAS,YAC7C3V,EAAK42E,OAAOnC,EAAUnlE,OAKlC,OAAO22B,EAAS5iB,WAGpBa,KAAM,WACFzkB,KAAKqjB,cAIG/lB,EAAM4C,MAAM1C,OAAO,CAC/BiD,KAAM,WACF,IAAIF,EAAOP,KACXO,EAAK03E,WAAa13E,EAAK23E,MAAM32E,KAAKhB,GAClCA,EAAKgsC,SAAW,OAGpB4rC,KAAMj7E,EAAEU,KACRqpC,KAAM/pC,EAAEU,KACRw6E,MAAOl7E,EAAEU,KACTy6E,SAAUn7E,EAAEU,KAEZuO,MAAO,WACH,IAAKnM,KAAKgkB,UACN,OAGJ,IAAKhkB,KAAKinC,OAAQ,CACdjnC,KAAKusC,SAAW,KAChBjvC,EAAM84B,eAAep2B,KAAKi4E,iBAE1Bj4E,KAAKo4E,SAIbp0D,QAAS,WACL,OAAO,MAGX6Q,OAAQ,WACJ70B,KAAKusC,SAAW,MAChBvsC,KAAKq4E,YAGTH,MAAO,WACH,IAAI33E,EAAOP,KACX,IAAKO,EAAKgsC,SAAY,OAEtBhsC,EAAK43E,OAEL,IAAK53E,EAAK0mC,OACN3pC,EAAM84B,eAAe71B,EAAK03E,gBACvB,CACH13E,EAAKgsC,SAAW,MAChBhsC,EAAK63E,aAKbE,GAAarB,GAAUz5E,OAAO,CAC9BiD,KAAM,SAAShB,GACX,IAAIc,EAAOP,KACXxC,EAAO+C,EAAMd,GACbw3E,GAAUt2E,GAAGF,KAAK+B,KAAKjC,IAG3B0mC,KAAM,WACF,OAAOjnC,KAAKu4E,cAAgBv4E,KAAKojB,UAGrCm1D,WAAY,WACR,OAAOz6E,KAAKiR,IAAI/O,KAAKojB,SAAU,IAAKzd,KAAU3F,KAAKw4E,YAGvDC,OAAQ,SAASh5E,GACb,IAAIc,EAAOP,KACP04E,EAAUn4E,EAAKm4E,QAEnBn4E,EAAKo4E,QAAUD,EAAQn4E,EAAKk+B,MAC5Bl+B,EAAK+9B,MAAQ7+B,EAAQ4e,SAAW9d,EAAKo4E,QAErCp4E,EAAK6iB,gBAAkB3jB,EAAQ2jB,UAAY,SAAW3jB,EAAQ2jB,SAAW,IAEzE7iB,EAAK43E,KAAO53E,EAAKq4E,WAAWn5E,EAAQ2wE,MAEpC7vE,EAAKi4E,UAAY,IAAI7yE,KACrBpF,EAAK4L,SAGTysE,WAAY,SAASxI,GACjB,IAAI7vE,EAAOP,KAEX,OAAO,WACHO,EAAKm4E,QAAQG,SAASt4E,EAAKk+B,KAAM2xC,EAAK7vE,EAAKg4E,aAAch4E,EAAKo4E,QAASp4E,EAAK+9B,MAAO/9B,EAAK6iB,eA+CxG,OA1CI5lB,EAAO86E,GAAY,CACfQ,YAAa,SAAU9qE,EAAG+S,EAAGla,EAAG2G,GAC5B,OAAQQ,GAAGR,EAAKuT,EAAEla,EAAIA,IAAM/I,KAAKmmC,IAAI,GAAI,GAAKj2B,EAAER,GAAK,GAAKuT,GAG9Dg4D,YAAa,SAAU/qE,EAAG+S,EAAGla,EAAG2G,EAAGO,GAC/BA,EAAI,QACJ,OAAOlH,IAAImH,EAAEA,EAAER,EAAE,GAAGQ,IAAID,EAAE,GAAGC,EAAID,GAAK,GAAKgT,KAInDkC,EAAGg0D,UAAYA,GACfh0D,EAAGq1D,WAAaA,GAChBr1D,EAAG2wD,aAAeA,EAElB3wD,EAAGyyD,IAAM,SAAS7lE,GACdA,EAAU3S,EAAE2S,GACZ,IAAItG,EAASsG,EAAQoE,SACrB1K,EAAOoM,MAAQrY,EAAMsS,YAAYC,GACjCtG,EAAOsM,OAASvY,EAAM0S,aAAaH,GACnC,OAAOtG,GAGX0Z,EAAG6yD,gBAAkB,SAASkD,EAAOC,GACjC,IAAIh7C,GAAK+6C,EAAM/jE,KAAOgkE,EAAMhkE,MAAQgkE,EAAMtjE,OAASsjE,EAAMtjE,MAAQqjE,EAAMrjE,OACnExH,GAAK6qE,EAAMj5D,IAAMk5D,EAAMl5D,KAAOk5D,EAAMpjE,QAAUojE,EAAMpjE,OAASmjE,EAAMnjE,QAEvE,MAAO,CACHooB,EAAGnqB,MAAMmqB,GAAK,EAAIA,EAClB9vB,EAAG2F,MAAM3F,GAAK,EAAIA,IAI1B8U,EAAG4yD,UAAY,SAASmD,EAAOC,GAC3B,OAAOn7E,KAAKiR,IAAIiqE,EAAMrjE,MAAQsjE,EAAMtjE,MAAOqjE,EAAMnjE,OAASojE,EAAMpjE,SAGpEoN,EAAGi2D,SAAW,SAASF,EAAOC,GAC1B,OAAOn7E,KAAKoP,IAAI8rE,EAAMrjE,MAAQsjE,EAAMtjE,MAAOqjE,EAAMnjE,OAASojE,EAAMpjE,SAIjEzY,OAAOE,QAnjDd,CAqjDoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,aAAa,CAChB,aACA,eACA,YAEL,WAEH,IAAIC,EAAW,CACXC,GAAI,OACJC,KAAM,OACNC,SAAU,YACVC,YAAa,+FACbotC,QAAS,CAAE,OAAQ,SAAU,MAC7BC,OAAQ,OAGF9sC,EAksBPE,OAAOE,MAAMH,OAlsBHE,OAAb,EACQC,EAAQF,OAAOE,MACf6Y,EAAQ7Y,EAAM6Y,KACd8Q,EAAK3pB,EAAM2pB,GACXqM,EAAYh2B,EAAMg2B,UAClBzJ,EAAoBvsB,EAAMusB,kBAC1BxoB,EAAa/D,EAAM+D,WACnBylB,EAASxpB,EAAM2pB,GAAGH,OAClB6C,EAAersB,EAAMqsB,aAErBwvD,EAAS,SACT9rC,EAAO,OACP+rC,EAAmB,kBACnBC,EAAiB,gBACjBC,EAAO,OACPC,EAAO,OACPC,EAAS,SACTC,EAAS,SACTC,EAAoB,0BAEpBC,EAAa,wDACbC,EAAa,YACbC,EAAgB,eAChBC,EAAa,YACbC,EAAsB,oBACtBC,EAAY,WACZC,EAAuB,qBACvBC,EAAQ,QACRC,EAAa,CACbt/B,QAAS,YACTnpB,KAAM,SACN0oD,cAAe,mBACfrtD,OAAQ,WACR4tB,OAAQ,WACR0/B,OAAQ,YAGRC,EAAOh9E,EAAM2pB,GAAGH,OAAOtpB,OAAO,CAC9BiD,KAAM,SAASo6C,EAASp7C,GACpB,IAAIc,EAAOP,KACXP,EAAUA,GAAW,GACrBc,EAAK/D,GAAKc,EAAMksB,OAEhBnoB,EAAWV,GAAGF,KAAK+B,KAAKjC,GACxBP,KAAKP,QAAUvC,EAAEM,OAAO,GAAIwC,KAAKP,QAASA,GAE1Cc,EAAKs6C,QAAUA,EAEf,GAAIt6C,EAAKd,QAAQ86E,aACbzzD,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMA,EAAKi6E,iBAAkB/6E,GAGrD,GAAIc,EAAKd,QAAQg7E,eACbl6E,EAAKm6E,kBAGTn6E,EAAK0pB,QAAUxqB,EAAQwqB,SAAW,MAClC1pB,EAAKs9C,MAAQp+C,EAAQo+C,MACrBt9C,EAAKo6E,MAAQl7E,EAAQ2V,OAAS,MAC9BpV,KAAK46E,cAAgBn7E,EAAQo7E,cAAgB,MAC7C76E,KAAK86E,cAAgBr7E,EAAQqE,aAC7BvD,EAAKw6E,WAAa,GAElBx6E,EAAKgB,KAAK,CAAE8rC,EAAMisC,EAAMC,EAAMH,EAAkBC,GAAkB55E,IAGtEA,QAAS,CACLhD,KAAM,OACN89E,aAAc,MACdE,eAAgB,MAChBO,aAAc,KACdC,gBAAiB,MAGrBl3E,OAAQ,SAASusB,GACb,IAAI/vB,EAAOP,KACPk7E,GAAkB36E,EAAKsP,QAI3B,GAAIqrE,EACA36E,EAAKsP,QAAUtP,EAAKi6E,iBAGxB,GAAIlqD,EACApzB,EAAEozB,GAAWywC,OAAOxgE,EAAKsP,SAG7B,GAAIqrE,EAAgB,CAChB59E,EAAMiE,KAAKhB,EAAKsP,QAAStP,EAAKs9C,OAC9Bt9C,EAAK8B,QAAQgrC,GAGjB,GAAI/c,EAAW,CACX/vB,EAAK46E,cAAc3B,GACnBj5E,EAAK8B,QAAQi3E,GAGjB,OAAO/4E,EAAKsP,SAGhBnQ,MAAO,WACH,OAAO,IAAI07E,EAAUp7E,OAGzBq7E,kBAAmB,WACf,OAAO,MAGXC,kBAAmB,WACf,OAAO,MAGXC,UAAW,WACP,IAAIh7E,EAAOP,KACX,IAAI6P,EAAUtP,EAAKwD,SAEnB,GAAI8L,EACAA,EAAQgF,IAAI,UAAW,IAG3B7U,KAAKqC,QAAQy3E,EAAY,CAAEpoD,KAAM1xB,QAGrCw7E,QAAS,aAGTC,QAAS,WACLz7E,KAAKujB,QAGTg0D,iBAAkB,SAAShwE,GACvBvH,KAAKqC,QAAQ+2E,EAAkB,CAAE7xE,KAAMA,KAG3CiwE,gBAAiB,SAASjwE,GACtBvH,KAAKqC,QAAQg3E,EAAgB,CAAE9xE,KAAMA,KAGzCgc,KAAM,WACF,GAAIvjB,KAAKP,QAAQu7E,aAAc,CAC3Bh7E,KAAKm7E,cAAc1B,GACnBv8E,EAAE8C,KAAK6P,SAAS6rE,SAGpB17E,KAAKqC,QAAQk3E,IAGjBttD,QAAS,WACL,IAAI1rB,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QAEnB,GAAIA,EAAS,CACTiX,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,GAEvBjD,EAAM2E,OAAO4N,GACbvS,EAAM2uB,QAAQpc,GAEd,GAAItP,EAAKd,QAAQw7E,gBACbprE,EAAQkhB,WAMpB4qD,MAAO,WACH,IAAIp7E,EAAOP,KAEXO,EAAK0rB,UACL/uB,EAAEqD,EAAKsP,SAASkU,IAAIxjB,EAAKs6C,SAAS92B,IAAIxjB,EAAKiW,SAAS6c,MAAMtC,UAG9D6qD,UAAW,SAASA,GAChB1+E,EAAEM,OAAOwC,KAAK+6E,WAAYa,IAG9BT,cAAe,SAASllC,GACpB,IAAK,IAAI51B,KAAergB,KAAK+6E,WACzB/6E,KAAK+6E,WAAW16D,GAAa41B,GAAYj2C,KAAMqgB,IAIvDm6D,eAAgB,WACZ,IAAIj6E,EAAOP,KACPwW,EAAU,IAAMjW,EAAK0pB,QAAU,IAC/Bpa,EACAgrC,EAEJ,IACIA,EAAU39C,EAAEsS,SAASqsE,eAAet7E,EAAKs6C,UAAYt6C,EAAKs6C,SAE1D,GAAIA,EAAQ,GAAG5wB,UAAYkvD,EACvBt+B,EAAUA,EAAQ32C,OAExB,MAAM5B,GACJ,GAAIo3E,EAAkB/yE,KAAKrE,EAAE+nB,SACzBwwB,EAAUt6C,EAAKs6C,QAIvB,UAAWA,IAAY,SAAU,CAC7BA,EAAUA,EAAQ16C,QAAQ,aAAc,IACxC,GAAII,EAAKq6E,cACL//B,EAAUv9C,EAAM0G,SAAS62C,EAAS,CAAE/2C,aAAcvD,EAAKu6E,eAA7Cx9E,CAA8DiD,EAAKs9C,OAAS,IAG1FhuC,EAAU3S,EAAEsZ,GAASuqD,OAAOlmB,GAM5B,IAAKt6C,EAAKo6E,MACP9qE,EAAUA,EAAQisE,eAElB,CACHjsE,EAAUgrC,EACV,GAAIt6C,EAAKq6E,cAAe,CACpB,IAAIrxE,EAASrM,EAAEI,EAAM0G,SAAS9G,EAAE,WAAW6jE,OAAOlxD,EAAQnQ,MAAM,OAAOwE,OAAQ,CAAEJ,aAAcvD,EAAKu6E,eAArFx9E,CAAsGiD,EAAKs9C,OAAS,KAGnI,GAAI3gD,EAAEiyB,SAAS3f,SAAUK,EAAQ,IAC7BA,EAAQksE,YAAYxyE,GAGxBsG,EAAUtG,EAEd,GAAIhJ,EAAKo6E,MACL9qE,EAAUA,EAAQ4wC,QAAQjqC,GAASjB,SAI3C,OAAO1F,GAGX6qE,gBAAiB,WACb,IAAIn6E,EAAOP,KAEX,GAAIO,EAAKd,QAAQg7E,eAAgB,CAC7Bl6E,EAAKy7E,WACLz7E,EAAK07E,iBACL17E,EAAK27E,gBACL37E,EAAK47E,kBAIbH,SAAU,WACN,IAAIz7E,EAAOP,KACX,IAAI66C,EAAUt6C,EAAKs6C,QAEnB,GAAIA,EAAQ5kC,GAAG0T,EAAa,SACxBppB,EAAKiW,QAAUjW,EAAKs6C,aAEpBt6C,EAAKiW,QAAUqkC,EACVzlC,KAAK,aAAe9X,EAAMurB,GAAK,uBAAyBvrB,EAAMurB,GAAK,oBAAsBvrB,EAAMurB,GAAK,+BACpGtT,SAGT,IAAIiB,EAAUjW,EAAKiW,QAEnBA,EAAQL,KAAK,KAAM5V,EAAK/D,IAExBga,EAAQN,SAASikE,EAAWzoD,MAC5Blb,EAAQN,SAASikE,EAAWptD,QAC5BvW,EAAQL,KAAK,OAAQ,SAGzB8lE,eAAgB,WACZ,IAAI17E,EAAOP,KACX,IAAIwW,EAAUtZ,EAAEqD,EAAKiW,SACrB,IAAI4lE,EAAkBzyD,EAAa,WAEnC,IAAKnT,EAAQ6qC,SAAS+6B,GAAiB,GAAI,CACvC,IAAIC,EAAmB7lE,EAAQ6qC,WAAWpxB,OAAO,WAC7C,IAAIgN,EAAQ//B,EAAE8C,MACd,IAAKi9B,EAAMhnB,GAAG0T,EAAa,aAAesT,EAAMhnB,GAAG0T,EAAa,WAC5D,OAAOsT,IAIfo/C,EAAiBjnE,KAAK,QAAUe,EAAK,QAAU,qBAInDnW,KAAKs8E,eAAiB9lE,EAAQ6qC,SAAS13B,EAAa,YAEpD3pB,KAAKs8E,eACApmE,SAASikE,EAAWC,eACpBlkE,SAASikE,EAAWt/B,UAG7BqhC,cAAe,WACX,IAAI37E,EAAOP,KACX,IAAIwW,EAAUjW,EAAKiW,QAEnBxW,KAAK26C,OAASnkC,EAAQ6qC,SAAS13B,EAAa,WAAWzT,SAASikE,EAAWx/B,SAG/EwhC,cAAe,WACX,IAAI57E,EAAOP,KACX,IAAIwW,EAAUjW,EAAKiW,QAEnBxW,KAAKq6E,OAAS7jE,EAAQ6qC,SAAS13B,EAAa,WAAWzT,SAASikE,EAAWE,WAI/Ee,EAAY99E,EAAM4C,MAAM1C,OAAO,CAC/BiD,KAAM,SAASixB,GACXx0B,EAAEM,OAAOwC,KAAM,CACX6P,QAAS6hB,EAAK7hB,QAAQnQ,MAAM,MAC5BovE,WAAYp9C,EAAKo9C,WACjBtyE,GAAIk1B,EAAKl1B,KAGbk1B,EAAK7hB,QAAQ0F,SAASwrD,OAAO/gE,KAAK6P,UAGtC4rE,QAAS,WACLz7E,KAAK6P,QAAQkhB,UAGjBwmD,iBAAkBr6E,EAAEU,KACpB45E,gBAAiBt6E,EAAEU,OAGnB2+E,EAASjC,EAAK98E,OAAO,CACrBiD,KAAM,SAASo6C,EAASp7C,GACpB66E,EAAK35E,GAAGF,KAAK+B,KAAKxC,KAAM66C,EAASp7C,GACjCO,KAAKw8E,WAAa,IAGtBlsD,UAAW,SAASjP,GAChB,IAAIiP,EAAYtwB,KAAKw8E,WAAWn7D,GAEhC,IAAKiP,EAAW,CACZA,EAAYtwB,KAAKy8E,iBAAiBp7D,GAClCrhB,KAAKw8E,WAAWn7D,GAAYiP,EAGhC,OAAOA,GAGXosD,OAAQ,SAASr7D,EAAUqQ,EAAMo9C,GAC7B9uE,KAAKswB,UAAUjP,GAAUoxD,KAAK/gD,EAAMo9C,IAGxC2N,iBAAkB,SAASp7D,GACvB,IAAI0pB,EAAO/qC,KAAK+D,SACZ8L,EAAUk7B,EAAKhb,KAAK1O,GACpBiP,EAEJ,IAAKzgB,EAAQ/P,QAAUirC,EAAK90B,GAAGoL,GAC3B,GAAI0pB,EAAK90B,GAAGoL,GACRxR,EAAUk7B,OAGV,MAAM,IAAInmC,MAAM,6CAA+Cyc,EAAW,aAIlFiP,EAAY,IAAIqsD,EAAc9sE,GAE9BygB,EAAU/uB,KAAK,WAAY,SAASe,GAChCA,EAAEovB,KAAK3tB,OAAO8L,KAGlB,OAAOygB,KAIXssD,EAAWtC,EAAK98E,OAAO,CACvBq/E,OAAQ,SAASnrD,EAAMrR,GACnBqR,EAAK7hB,QAAQkgB,KAAK1P,GAAa07D,YAAY/7E,KAAK+D,WAGpD23E,OAAQ,eAIRoB,EAAmB,4BAEvB,SAASC,EAAgBjO,GACrB,IAAKA,EACD,MAAO,GAGX,IAAIz7D,EAAUy7D,EAAWxqE,MAAMw4E,IAAqB,GAEpD,MAAO,CACHv1E,KAAM8L,EAAQ,GACdikC,UAAWjkC,EAAQ,GACnBxE,QAASwE,EAAQ,KAAO,WAIhC,IAAIspE,EAAgBt7E,EAAW7D,OAAO,CAClCiD,KAAM,SAAS6vB,GACXjvB,EAAWV,GAAGF,KAAK+B,KAAKxC,MACxBA,KAAKswB,UAAYA,EACjBtwB,KAAK2hB,QAAU,GACf3hB,KAAK0xB,KAAO,KACZ1xB,KAAKg9E,QAAU,OAGnBC,MAAO,WACHj9E,KAAKg9E,QAAU,MACfh9E,KAAKqC,QAAQ,WAAY,CAACqvB,KAAM1xB,KAAK0xB,OACrC1xB,KAAKqC,QAAQ,UAGjBuB,IAAK,WACD5D,KAAK0xB,KAAK8pD,UACVx7E,KAAKg1E,SAASyG,UACdz7E,KAAKi9E,SAGTxK,KAAM,SAAS/gD,EAAMo9C,EAAYoO,GAC7B,IAAKxrD,EAAK2pD,qBAAwBr7E,KAAK0xB,OAAS1xB,KAAK0xB,KAAK4pD,oBAAsB,CAC5Et7E,KAAKqC,QAAQ,SACb,OAAO,MAGX66E,EAAaA,GAAcxrD,EAAKl1B,GAEhC,IAAI+D,EAAOP,KACP6I,EAAW6oB,IAASnxB,EAAKmxB,KAAQA,EAAKhyB,QAAUa,EAAKmxB,KACrD/P,EAAUphB,EAAKohB,QACfw7D,EAAgBx7D,EAAQA,EAAQ7hB,OAAS,IAAM,GAC/CmrC,EAAOkyC,EAAc3gF,KAAO0gF,EAG5BE,EAAgBtO,IAAgB7jC,EAAOtpB,EAAQA,EAAQ7hB,OAAS,GAAGgvE,WAAap9C,EAAKo9C,YACrFuO,EAAiBN,EAAgBK,GAErC,GAAI78E,EAAKy8E,QACLz8E,EAAKmwE,OAAOjsD,OAGhB,GAAI24D,IAAkB,OAClBA,EAAgB,KAGpB78E,EAAK8B,QAAQ,WAAY,CAAEqvB,KAAMA,IACjCnxB,EAAKmxB,KAAOA,EACZnxB,EAAKy0E,SAAWnsE,EAChBtI,EAAKy8E,QAAU,KAEf,IAAK/xC,EACDtpB,EAAQzf,KAAK,CAAE1F,GAAI0gF,EAAYpO,WAAYsO,SAE3Cz7D,EAAQ0U,MAGZ,IAAKxtB,EAAS,CACV6oB,EAAK6pD,YACL7pD,EAAK8pD,UACLj7E,EAAK08E,QACL,OAAO,KAGX,IAAKG,IAAkB9/E,EAAM0lB,QAAQgB,QAAS,CAC1C0N,EAAK6pD,YACLh7E,EAAKqD,UACF,CAGH8tB,EAAK7hB,QAAQqG,SAAS,eACtBwb,EAAK6pD,YAEL,GAAItwC,IAAS6jC,EACTuO,EAAexuE,SAAWwuE,EAAexuE,QAG7CtO,EAAKmwE,OAASpzE,EAAM2lB,GAAGyO,EAAK7hB,SAAS1P,QAAQ0I,EAAQgH,QAASwtE,EAAe91E,MACxEgwE,iBAAiB,WACd7lD,EAAK6lD,iBAAiB,QACtB1uE,EAAQ0uE,iBAAiB,UAE5BC,gBAAgB,WACb9lD,EAAK8lD,gBAAgB,QACrB3uE,EAAQ2uE,gBAAgB,UAE3BlgC,UAAU+lC,EAAe/lC,WACzBw6B,WAAWuL,EAAexuE,SAE/BtO,EAAKmwE,OAAOiB,MAAM9c,KAAK,WAAat0D,EAAKqD,QAG7C,OAAO,MAGXqoB,QAAS,WACL,IAAI1rB,EAAOP,KACX,IAAI0xB,EAAOnxB,EAAKmxB,KAEhB,GAAIA,GAAQA,EAAKzF,QACbyF,EAAKzF,aAKbqxD,EAAaj8E,EAAW7D,OAAO,CAC/BiD,KAAM,SAAShB,GACX,IAAIc,EAAOP,KACP0yB,EACApC,EAEJjvB,EAAWV,GAAGF,KAAK+B,KAAKjC,GACxBA,EAAKd,QAAUA,EAEfvC,EAAEM,OAAO+C,EAAMd,GACfc,EAAKg9E,QAAUrgF,EAAE,WACjBozB,EAAY/vB,EAAK+vB,UAEjBoC,EAAQnyB,EAAKi9E,WAAWltD,GACxB/vB,EAAKk9E,SAAW/qD,EAAMvwB,QACtB5B,EAAKm9E,QAAU,GAEfn9E,EAAKo9E,cAAgB,IAAIrgF,EAAMq/E,cAAcp8E,EAAK+vB,WAElD/vB,EAAKo9E,cAAcp8E,KAAK,WAAY,SAASe,GACzCA,EAAEovB,KAAKoM,OAASv9B,EAAKu9B,SAGzBv9B,EAAKo9E,cAAcp8E,KAAK,WAAY,SAASe,GACzC/B,EAAK8B,QAAQ23E,EAAW,CAAEtoD,KAAMpvB,EAAEovB,SAGtCnxB,EAAKo9E,cAAcp8E,KAAK24E,EAAO,WAC3B35E,EAAK8B,QAAQ63E,KAGjBl6E,KAAKuB,KAAKvB,KAAKgC,OAAQvC,IAG3BuC,OAAQ,CACJ83E,EACAI,EACAF,EACAJ,EACAC,EACAE,EACAE,GAGJhuD,QAAS,WACL,IAAI1rB,EAAOP,KACX,IAAI29E,EAAgBp9E,EAAKo9E,cAEzBrgF,EAAM2uB,QAAQ1rB,EAAK+vB,WAEnB,IAAK,IAAI9zB,KAAM+D,EAAKm9E,QAChB19E,KAAK09E,QAAQlhF,GAAIyvB,UAGrB,GAAI0xD,EACAA,EAAc1xD,WAItByF,KAAM,WACF,OAAO1xB,KAAK29E,cAAcjsD,MAG9BksD,SAAU,SAAS70D,EAAK+lD,EAAYhxC,GAChC/U,EAAMA,EAAI5oB,QAAQ,IAAI+R,OAAO,IAAMlS,KAAK69E,qBAAsB,IAC9D,GAAI90D,IAAQ,IAAM/oB,KAAK69E,oBACnB90D,EAAM,IAGV,GAAIA,EAAI5oB,QAAQ,KAAM,MAAQH,KAAK+oB,IAAK,CACpC/oB,KAAKqC,QAAQ03E,GACb,OAAO,MAGX/5E,KAAKqC,QAAQy3E,GAEb,IAAIv5E,EAAOP,KACP6P,EAAUtP,EAAKu9E,iBAAiB/0D,GAChC2I,EAAOp0B,EAAM8yB,eAAevgB,GAEhCtP,EAAKwoB,IAAMA,EAAI5oB,QAAQ,KAAM,IAE7BI,EAAKu9B,OAASA,EAEd,GAAIpM,GAAQA,EAAKqsD,OAAQ,CACrBrsD,EAAKiqD,QACL9rE,EAAU,GAGd7P,KAAKqC,QAAQ43E,EAAsB,CAAEzhB,OAAQ3oD,EAAQ/P,SAAW,EAAGipB,IAAKA,IAExE,GAAIlZ,EAAQ,GAAI,CACZ,IAAK6hB,EACDA,EAAOnxB,EAAKy9E,YAAYnuE,GAG5B,OAAOtP,EAAKo9E,cAAclL,KAAK/gD,EAAMo9C,EAAY/lD,QAEjD,OAAO,MAIfg4C,OAAQ,SAAS78D,EAAM6kB,GACnB,IAAIw0D,EAAUv9E,KAAKu9E,QACfU,GAAWl1D,GAAO,IAAIlmB,MAAM,KAAK,GACjCytB,EAAYtwB,KAAKswB,UACjBoC,EACAhB,EAEJ,GAAIioD,EAAWhzE,KAAKzC,GAChBA,EAAOgO,OAAOs+D,GAGlB+M,EAAQ,GAAGrjE,UAAYhW,EAEvBosB,EAAUywC,OAAOwc,EAAQl8B,SAAS,kBAElC3uB,EAAQ1yB,KAAKw9E,WAAWD,GACxB7rD,EAAOgB,EAAMvwB,QAGb,IAAKuvB,EAAK5xB,OACN4yB,EAAQhB,EAAO6rD,EAAQW,UAAU,0BAA0B78B,WAG/D,GAAI48B,EACAvsD,EAAKnO,OAAOpN,KAAKA,EAAK,OAAQ8nE,GAGlC3tD,EAAUywC,OAAOruC,GAEjB,OAAO1yB,KAAKg+E,YAAYtsD,IAG5BysD,QAAS,SAASp0D,GACd,OAAO/pB,KAAKo+E,SAAWv0D,EAAkBE,GAAaJ,EAAaI,IAGvE+zD,iBAAkB,SAAS/0D,GACvB,IAAIlZ,EACAouE,EAAUl1D,EAAIlmB,MAAM,KAAK,GAE7B,IAAKo7E,EACD,OAAOj+E,KAAKy9E,SAGhB5tE,EAAU7P,KAAKswB,UAAU+wB,SAAS,IAAMlrC,EAAK,OAAS,KAAO8nE,EAAU,MAGvE,IAAKpuE,EAAQ,IAAMouE,EAAQpxE,QAAQ,QAAU,EACzCgD,EAAU7P,KAAKswB,UAAU+wB,SAAS48B,EAAQl7E,OAAO,KAAO,IAAMk7E,EAAU,IAAMA,GAGlF,IAAKpuE,EAAQ,GACTA,EAAU7P,KAAKq+E,qBAAqBt1D,GAGxC,OAAOlZ,GAGXwuE,qBAAsB,SAAS7hF,GAC3B,IAAIqT,EAAU7P,KAAKswB,UAAU+wB,SAAS,QAAU7kD,EAAK,MACrD,OAAOqT,GAGXmuE,YAAa,SAASnuE,GAElB,OAAO7P,KAAKs+E,eAAezuE,IAG/B0uE,kBAAmB,SAAS1uE,GACxB,OAAOvS,EAAMgyB,WAAWzf,EAAS,CAC7B2uE,kBAAmBx+E,KAAK8uE,WACxB2P,OAAQz+E,KAAKy+E,OACbnuD,UAAWtwB,KAAKswB,UAChBouD,UAAW1+E,KAAK2+E,eAChBC,WAAY5+E,KAAK4+E,WACjBb,OAAQzqD,EAAUzjB,EAAS,WAC5BoX,EAAGsI,QAGV+uD,eAAgB,SAASzuE,GACrB,IAAIgvE,GAAe7+E,KAAKP,SAAW,IAAIo/E,aAAe,GACtD,OAAO,IAAIvhF,EAAMg9E,KAAKzqE,EAAS,CAC3B0qE,aAAcsE,EAAYtE,aAC1BnlE,KAAMypE,EAAYzpE,MAAQ,MAC1BqlE,eAAgBoE,EAAYpE,eAC5BO,aAAc6D,EAAY7D,aAC1BC,gBAAiB4D,EAAY5D,mBAIrCuC,WAAY,SAASltD,GACjB,OAAOA,EAAU+wB,SAASrhD,KAAKm+E,QAAQ,SAAS56D,UAc5D,OAVIjmB,EAAMggF,WAAaA,EAEnBhgF,EAAMq/E,cAAgBA,EACtBr/E,EAAMs/E,SAAWA,EACjBt/E,EAAMi/E,OAASA,EACfj/E,EAAMg9E,KAAOA,EACbh9E,EAAM89E,UAAYA,EAIfh+E,OAAOE,QArtBd,CAutBoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAcvtC,QACVA,OAAO,sBAAsB,CAAC,cAC/B,WAEH,IAAIC,EAAW,CACXC,GAAI,gBACJC,KAAM,gBACNC,SAAU,YACVqtC,QAAS,CAAC,QACVC,OAAQ,MAGD9sC,EAkGRE,OAAOE,MAAMH,OAlGFE,OAAd,EACQC,EAAQF,OAAOE,MACfwpB,EAASxpB,EAAM2pB,GAAGH,OAClBG,EAAK3pB,EAAM2pB,GACX63D,EAAK,sBACLC,EAAyB,6BACzB92E,EAAQ,gBACR+2E,EAAU,UACVC,EAAgB,aAChBC,EAAe,aACfC,EAAgB,aAEhBC,EAAgBt4D,EAAOtpB,OAAO,CAC9BiD,KAAM,SAAUoP,EAASpQ,GACrB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GACnCA,EAAUvC,EAAEM,OAAO,KAAM,GAAIiC,GAE7Bc,EAAKuZ,UACLvZ,EAAK8+E,UAAU,CACXlY,SAAU5mE,EAAKd,QAAQstB,OAAOttB,QAAQ0nE,WAAa9pE,EAAYkD,EAAKd,QAAQstB,OAAOttB,QAAQ0nE,SAAW,MACtGjjD,QAAS3jB,EAAKd,QAAQstB,OAAOttB,QAAQ2kB,SAAW/mB,GAAckD,EAAKd,QAAQstB,OAAOttB,QAAc,OAAI,QAGxGc,EAAKsP,QAAQqG,SAAS6oE,GAEtBzhF,EAAMoxB,OAAOnuB,IAGjBd,QAAS,CACLhD,KAAM,gBACNswB,OAAQ,KACRuyD,iBAAkB,OAGtBnY,SAAU,SAASA,GACfnnE,KAAKq/E,UAAU,CACXlY,SAAUA,IAAa9pE,EAAY,KAAO8pE,EAC1CjjD,QAAS,SAIjBE,OAAQ,SAASA,GACbpkB,KAAKq/E,UAAU,CACXlY,SAAU,MACVjjD,UAAWE,EAASA,IAAW/mB,EAAY,KAAO+mB,MAI1DtK,QAAS,WACL,IAAIvZ,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QAEnBA,EACK4F,YAAYxN,GACZwN,YAAYupE,GAGjB,IAAKz+E,EAAKd,QAAQstB,OAAOld,QAAQw7C,MAC7Bx7C,EAAQqG,SAASjO,GAGrB,GAAIuH,SAASC,gBAAkBlP,EAAKd,QAAQstB,OAAOld,QAAQ,GACvDA,EAAQqG,SAAS8oE,IAIzB/yD,QAAS,WACL,IAAI1rB,EAAOP,KAEXO,EAAKsP,QAAQwjB,IAAIyrD,GACjBh4D,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,IAG3B8+E,UAAW,SAAS5/E,GAChB,IAAIc,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QACnB,IAAIqU,EAAUzkB,EAAQykB,QACtB,IAAIijD,EAAW1nE,EAAQ0nE,SAEvBt3D,EAAQwjB,IAAIyrD,GAEZ,IAAK3X,IAAajjD,EAAS,CACvBrU,EACK4F,YAAYwpE,GACZxpE,YAAYlV,EAAKd,QAAQ6/E,iBAAmBH,EAAgBD,GAEjErvE,EAAQuW,GAAG,UAAY04D,EAAIv+E,EAAKuZ,QAAQvY,KAAKhB,IAC7CsP,EAAQuW,GAAG,WAAa04D,EAAIv+E,EAAKuZ,QAAQvY,KAAKhB,SAE9CsP,EACKgU,YAAYo7D,EAAe/6D,GAC3BL,YAAYtjB,EAAKd,QAAQ6/E,iBAAmBH,EAAgBD,EAAc/X,MAO/F,OAHIlgD,EAAG+J,OAAOouD,GAGPhiF,OAAOE,QAhHd,CAkHoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAAUstC,EAAIC,EAAIC,IAAOA,GAAMD,OAEvF,SAAavtC,QACTA,OAAO,qBAAqB,CAAE,cAC/B,WAEH,IAAIC,EAAW,CACXC,GAAI,eACJC,KAAM,UACNC,SAAU,YACVqtC,QAAS,CAAE,QACXC,OAAQ,MAGF9sC,EAkHPE,OAAOE,MAAMH,OAjHRG,EAAQF,OAAOE,MACf2D,EAAa3D,EAAM2D,WAEvB,SAASs+E,EAAgB37D,GACrB,OAAOA,GAAW3iB,EAAW2iB,EAAQqjB,OAAShmC,EAAW2iB,EAAQsjB,MAGrE,SAASs4C,EAAgB57D,GACrB,OAAOA,GAAW3iB,EAAW2iB,EAAQixC,OAAS5zD,EAAW2iB,EAAQ67D,OAGrE,IAAItlC,EAAY78C,EAAM2G,KAAKgoD,gBAAgBzuD,OAAO,CAC9CiD,KAAM,SAAUhB,GACZ,IAAIigF,EAAUjgF,GAAWA,EAAQigF,QAAUjgF,EAAQigF,QAAU,GAE7D,IAAI97D,EAAU87D,EAAQ97D,QAEtB,IAAKA,EACD,MAAM,IAAIhf,MAAM,qCAGpB,IAAK26E,EAAgB37D,KAAa47D,EAAgB57D,GAC9C,MAAM,IAAIhf,MAAM,2CAGpB5E,KAAK4jB,QAAUA,EAEf,IAAI+7D,EAAMD,EAAQC,IAElB,IAAKA,EACD,MAAM,IAAI/6E,MAAM,iCAGpB,UAAW+6E,EAAIv5D,IAAM,mBAAqBu5D,EAAIn/C,QAAU,WACpD,MAAM,IAAI57B,MAAM,sDAGpB5E,KAAK2/E,IAAMA,EAEXriF,EAAM2G,KAAKgoD,gBAAgBtrD,GAAGF,KAAK+B,KAAKxC,KAAMP,IAGlDyC,KAAM,SAAS09E,GACX,IAAI1hD,EAASl+B,KAAKP,QAAQigF,QAAQxhD,QAAU,GAE5C,GAAIA,EAAOgf,OACPl9C,KAAK2/E,IAAIv5D,GAAG8X,EAAOgf,OAAQ0iC,EAAU/uB,YAGzC,GAAI3yB,EAAO+e,OACPj9C,KAAK2/E,IAAIv5D,GAAG8X,EAAO+e,OAAQ2iC,EAAU7uB,YAGzC,GAAI7yB,EAAOjS,QACPjsB,KAAK2/E,IAAIv5D,GAAG8X,EAAOjS,QAAS2zD,EAAU3uB,cAI9C4uB,MAAO,SAASpgF,EAAS8H,GACrB,IAAIo4E,EAAM3/E,KAAK2/E,IACf,IAAI/7D,EAAU5jB,KAAK4jB,QACnB,IAAIk8D,EAAS9/E,KAAKP,QAAQigF,QAAQI,OAElC,IAAKA,IAAWA,EAAOv4E,GACnB,MAAM,IAAI3C,MAAMtH,EAAMuH,OAAO,uCAAwC0C,IAGzE,IAAI4pB,EAAO,CAAC2uD,EAAOv4E,IAEnB,IAAItD,EAAOjE,KAAKm9C,aAAa19C,EAAQwE,KAAMsD,GAE3C,IAAKrK,EAAE0yB,cAAc3rB,GACjBktB,EAAKjvB,KAAK+B,GAGd,GAAIs7E,EAAgB37D,GAChBA,EAAQqjB,KAAK,WACT04C,EAAIn/C,OAAO9/B,MAAMi/E,EAAKxuD,GACX8V,KAAKxnC,EAAQg+C,SACbvW,KAAKznC,EAAQ8lB,cAEzB,GAAIi6D,EAAgB57D,GACvBA,EAAQixC,KAAK,WACT8qB,EAAIn/C,OAAO9/B,MAAMi/E,EAAKxuD,GACX0jC,KAAKp1D,EAAQg+C,SACbgiC,MAAMhgF,EAAQ8lB,UAKrC+zB,KAAM,SAAS75C,GACXO,KAAK6/E,MAAMpgF,EAAS,SAGxBy9C,OAAQ,SAASz9C,GACbO,KAAK6/E,MAAMpgF,EAAS,WAGxBw9C,OAAQ,SAASx9C,GACbO,KAAK6/E,MAAMpgF,EAAS,WAGxBwsB,QAAS,SAASxsB,GACdO,KAAK6/E,MAAMpgF,EAAS,cAYhC,OARIvC,EAAEM,OAAO,KAAMF,EAAM2G,KAAM,CACvB84C,WAAY,CACR2iC,QAASvlC,KAMd/8C,OAAOE,QAhId,CAkIoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,kBAAkB,CAAE,cAC5B,WAEH,IAAIC,EAAW,CACXC,GAAI,YACJC,KAAM,YACNC,SAAU,MACVC,YAAa,wEACbotC,QAAS,CAAE,SAIL7sC,EAswBPE,OAAOE,MAAMH,OAtwBHE,OAAb,EACQC,EAAQF,OAAOE,MACfwpB,EAASxpB,EAAM2pB,GAAGH,OAClBg4D,EAAK,kBACLiB,EAAa,gBACbC,EAAmB,IAAI9tE,OAAO6tE,EAAW,KACzCE,EAAe,YACfC,EAAa,UACbC,EAAoB,uBACpBC,EAAe,eACfC,EAAa,kCACbC,EAAa,iBACbC,EAAe,WACfC,EAAc,eACdC,EAAkB,mBAClBC,EAAc,yIACdC,EAAY,sqCACZC,EAAgB,uEAChBC,EAAmB,uCACnBC,EAAsB,6BACtBC,EAAO,OACPC,EAAO,OACPC,EAAO,OACPC,EAAa,aAEbC,EAAW,WACXl3C,EAAS,SACTm3C,EAAiB,gBAEjBC,EAAiB,SAAS/5E,EAAOqD,GAC7B,UAAWA,IAAY,SACnBA,EAAU,IAAIuH,OAAO,OAASvH,EAAU,MAE5C,OAAOA,EAAQhE,KAAKW,IAExBg6E,EAAU,SAASlhE,EAAOiB,EAAU1W,GAChC,IAAIrD,EAAQ8Y,EAAMirC,MAElB,GAAIjrC,EAAM6P,OAAO5O,GAAUvhB,QAAUwH,IAAU,GAC3C,OAAO+5E,EAAe/5E,EAAOqD,GAEjC,OAAO,MAEX42E,EAAe,SAASnhE,EAAO3jB,GAC3B,GAAI2jB,EAAMtgB,OACN,OAAOsgB,EAAM,GAAGy+B,WAAWpiD,IAAS,KAExC,OAAO,OAGf,IAAKa,EAAM2pB,GAAGu6D,UACVlkF,EAAM2pB,GAAGu6D,UAAY,CAAEjpD,MAAO,GAAIjR,SAAU,GAAIm6D,YAAavkF,EAAEU,KAAM8jF,eAAgBxkF,EAAEU,MAG3F,SAAS+jF,EAAa9xE,GAClB,IAAI+xE,EAAYtkF,EAAM2pB,GAAGu6D,UAAUK,eAAiB,GAChDtpD,EAAQ,GACR97B,EAEJ,IAAKA,KAAQmlF,EACT1kF,EAAEM,OAAO,KAAM+6B,EAAOqpD,EAAUnlF,GAAM01D,QAAQtiD,IAElD,OAAO0oB,EAGX,SAASyU,EAAO1lC,GACZ,OAAOA,EAAMnH,QAAQ,QAAS,SACzBA,QAAQ,UAAW,KACnBA,QAAQ,SAAU,KAClBA,QAAQ,QAAS,KACjBA,QAAQ,QAAS,KAG1B,SAAS2hF,EAAsBx6E,GAC3BA,GAASA,EAAQ,IAAIzE,MAAM,KAC3B,GAAIyE,EAAMxH,OAAS,EACf,OAAOwH,EAAM,GAAGxH,OAEpB,OAAO,EAGX,SAASiiF,EAAU3hD,GACf,GAAIljC,EAAE8kF,UACF,OAAO9kF,EAAEA,EAAE8kF,UAAU5hD,IAEzB,OAAOljC,EAAEkjC,GAGb,SAAS6hD,EAA0B7zD,EAAUm1B,GACzC,IAAIi5B,EAAat/E,IACb2S,EACAsG,EAEJ,IAAK,IAAIxU,EAAM,EAAG7B,EAASsuB,EAAStuB,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CAC7DkO,EAAUue,EAASzsB,GACnB,GAAIq+E,EAAiBr5E,KAAKkJ,EAAQ+I,WAAY,CAC1CzC,EAAOtG,EAAQmf,aAAa1xB,EAAM6Y,KAAK,QACvC,GAAIA,IAASotC,EACTi5B,EAAaA,EAAWz4D,IAAIlU,IAIxC,OAAO2sE,EAGX,SAAS0F,EAAWp0D,EAAOje,GACvB,IAAKie,EACD,OAAO,MAEX,UAAWA,EAAMmE,WAAa,UAAYnE,EAAMmE,WAAa,QACzD,OAAO,MAEX,UAAWnE,EAAMkB,aAAa,SAAW,iBAAmBnf,EAAQmf,aAAa,QAAU,SACvF,OAAO,MAEX,GAAIlB,EAAMkB,aAAa,SAAWnf,EAAQmf,aAAa,MACnD,OAAO,MAGX,OAAO,KAGX,IAAImzD,EAAkB,OAClB,+CACI,oFACJ,QACJ,QAEIC,EAAYt7D,EAAOtpB,OAAO,CAC1BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACPuwE,EAAWoR,EAAa9xE,GACxBwyE,EAA4B,IAAM/kF,EAAM6Y,KAAK,YAAc,WAE/D1W,EAAUA,GAAW,GAErBA,EAAQ84B,MAAQr7B,EAAEM,OAAO,GAAIF,EAAM2pB,GAAGu6D,UAAUjpD,MAAOg4C,EAASh4C,MAAO94B,EAAQ84B,OAC/E94B,EAAQ6nB,SAAWpqB,EAAEM,OAAO,GAAIF,EAAM2pB,GAAGu6D,UAAUl6D,SAAUipD,EAASjpD,SAAU7nB,EAAQ6nB,UAExFR,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCc,EAAK+hF,eAAiBhlF,EAAM0G,SAASzD,EAAKd,QAAQ8iF,eAClDhiF,EAAKiiF,iBAAmBllF,EAAM0G,SAASzD,EAAKd,QAAQgjF,kBAAkBz+E,UAAYm+E,GAElF,GAAI5hF,EAAKsP,QAAQoG,GAAGgrE,GAChB1gF,EAAKsP,QAAQsG,KAAK+qE,EAAYA,GAGlC3gF,EAAKmiF,eAAiB9B,EAAgByB,EACtC9hF,EAAKoiF,kBAAoB9B,EAAmBwB,EAE5C9hF,EAAKqiF,QAAU,GACfriF,EAAKsiF,gBACLtiF,EAAKuiF,aAAe,MAEpB,GAAIviF,EAAKwiF,kBACLxiF,EAAKyiF,YAIbhhF,OAAQ,CAAEm/E,EAAUl3C,EAAQm3C,GAE5B3hF,QAAS,CACLhD,KAAM,YACN8lF,cAAe,iDACfj7D,SAAU,CACN27D,SAAU,kBACVt4E,QAAS,mBACToE,IAAK,6CACL7B,IAAK,6CACLmiE,KAAM,mBACN6T,MAAO,yBACPn6D,IAAK,uBACLhgB,KAAM,wBACNo6E,YAAa,6DACbC,QAAS,iDAEb7qD,MAAO,CACH0qD,SAAU,SAAS7iE,GACf,IAAIijE,GAAkBjjE,EAAMjK,KAAK,UAAYiK,EAAMnK,GAAG,YAClDxZ,EAAO2jB,EAAMjK,KAAK,QAClB3P,IAAU/J,GAAQA,EAAKoQ,QAAQ,MAAQ,EAAI,IAAO,IAClDy2E,EAAgBljE,EAAMjK,KAAK,UAAYnW,KAAK6P,QAAQkgB,KAAK,cAAgBvpB,EAAQ4Z,EAAMjK,KAAK,QAAU3P,EAAQ,aAAa1G,OAC3HyjF,EAAWnjE,EAAM6P,OAAO,mBAAmBnwB,SAAWujF,GAAkBC,GACxEE,EAAQpjE,EAAM6P,OAAO,gBAAgBnwB,SAAWE,KAAK6P,QAAQkgB,KAAK,cAAiBvpB,EAAQ4Z,EAAMjK,KAAK,QAAU3P,EAAQ,aAAa1G,OACrIwH,EAAQ8Y,EAAMirC,MAElB,QAASk2B,EAAanhE,EAAO,eAAiB9Y,GAASA,IAAU,IAAMA,EAAMxH,SAAW,GAAKyjF,GAAYC,KAE7G74E,QAAS,SAASyV,GACd,GAAIA,EAAM6P,OAAO,gFAAgFA,OAAO,aAAanwB,QAAUsgB,EAAMirC,QAAU,GAC3I,OAAOg2B,EAAejhE,EAAMirC,MAAOjrC,EAAMjK,KAAK,YAElD,OAAO,MAEXpH,IAAK,SAASqR,GACV,GAAIA,EAAM6P,OAAO6wD,EAAsB,KAAOxjF,EAAM6Y,KAAK,QAAU,YAAY8Z,OAAO,SAASnwB,QAAUsgB,EAAMirC,QAAU,GAAI,CACzH,IAAIt8C,EAAM8E,WAAWuM,EAAMjK,KAAK,SAAW,EACvCk1C,EAAM/tD,EAAMuW,WAAWuM,EAAMirC,OAEjC,OAAOt8C,GAAOs8C,EAElB,OAAO,MAEXn+C,IAAK,SAASkT,GACV,GAAIA,EAAM6P,OAAO6wD,EAAsB,KAAOxjF,EAAM6Y,KAAK,QAAU,YAAY8Z,OAAO,SAASnwB,QAAUsgB,EAAMirC,QAAU,GAAI,CACzH,IAAIn+C,EAAM2G,WAAWuM,EAAMjK,KAAK,SAAW,EACvCk1C,EAAM/tD,EAAMuW,WAAWuM,EAAMirC,OAEjC,OAAOn+C,GAAOm+C,EAElB,OAAO,MAEXgkB,KAAM,SAASjvD,GACX,GAAIA,EAAM6P,OAAO6wD,EAAsB,KAAOxjF,EAAM6Y,KAAK,QAAU,YAAY8Z,OAAO,UAAUnwB,QAAUsgB,EAAMirC,QAAU,GAAI,CAC1H,IAAIt8C,EAAM8E,WAAWuM,EAAMjK,KAAK,SAAW,EACvCk5D,EAAOx7D,WAAWuM,EAAMjK,KAAK,UAAY,EACzCk1C,EAAMx3C,WAAWuM,EAAMirC,OACvB3gD,EAAWo3E,EAAsBzS,GACjCoU,EAEJ,GAAI/4E,EAAU,CACV+4E,EAAQ3lF,KAAKmmC,IAAI,GAAIv5B,GACrB,OAAS5M,KAAK6G,OAAO0mD,EAAIt8C,GAAK00E,IAASpU,EAAKoU,GAAU3lF,KAAKmmC,IAAI,IAAKv5B,KAAc,EAEtF,OAAS2gD,EAAIt8C,GAAKsgE,IAAU,EAEhC,OAAO,MAEX6T,MAAO,SAAS9iE,GACZ,OAAOkhE,EAAQlhE,EAAO,iBAAmB9iB,EAAM6Y,KAAK,QAAU,UAAWuqE,IAE7E33D,IAAK,SAAS3I,GACV,OAAOkhE,EAAQlhE,EAAO,eAAiB9iB,EAAM6Y,KAAK,QAAU,QAASwqE,IAEzE53E,KAAM,SAASqX,GACX,GAAIA,EAAM6P,OAAO,iBAAmB3yB,EAAM6Y,KAAK,QAAU,UAAUrW,QAAUsgB,EAAMirC,QAAU,GACzF,OAAO/tD,EAAMmc,UAAU2G,EAAMirC,MAAOjrC,EAAMjK,KAAK7Y,EAAM6Y,KAAK,cAAgB,KAE9E,OAAO,MAEXitE,QAAS,SAAUhjE,GACf,GAAIA,EAAM6P,OAAO,IAAM3yB,EAAM6Y,KAAK,QAAU,aAAarW,OAAQ,CAC7D,IAAIS,EAAOP,KACPojF,EAAU9lF,EAAM8yB,eAAehQ,GAC/BsjE,EAAc,SAASC,GACnB,cAAa,IAAc,aAAeA,IAAY,MAG9D,IAAKvjE,EAAMnc,KAAK,wBAA0By/E,EAAYN,EAAQO,cAAgBP,EAAQQ,eAAgB,CAClGxjE,EAAMnc,KAAK,qBAAsB,MACjC1D,EAAKsjF,YAAc,KACnBT,EAAQJ,WAAW/7C,KAAK,WACpB1mC,EAAKsjF,YAAc,MACnBtjF,EAAKujF,cAAc1jE,KACpB8mB,KAAK,SAASjjC,GACb1D,EAAKsjF,YAAc,MACnB,GAAG5/E,EAAKshB,OAASthB,EAAKshB,QAAU,sBAC5BnoB,OAAOktB,QAAQy5D,KAAK,uKAKhC,GAAIL,EAAYN,EAAQO,WAAW,CAC/BvjE,EAAM8L,WAAW,sBACjB,OAAOk3D,EAAQO,WAGvB,OAAO,OAGfK,eAAgB,KAChBvB,kBAAmB,OAGvBwB,aAAc,WACV,OAAO3mF,EAAM2pB,GAAGu6D,UAAUC,YAAYzhF,KAAK6P,QAAS7P,KAAK89C,WAG7DilC,gBAAiB,WACb,OAAOzlF,EAAM2pB,GAAGu6D,UAAUE,eAAe1hF,KAAK6P,UAGlDoc,QAAS,WACLnF,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,MAEvBA,KAAK6P,QAAQwjB,IAAIyrD,GAEjB,GAAI9+E,KAAKyiF,kBAAmB,CACxBziF,KAAKyiF,kBAAkBpvD,IAAIyrD,GAC3B9+E,KAAKyiF,kBAAoB,OAIjCn7E,MAAO,WACH,IAAKtH,KAAK8iF,aACN,OAAO,MAGX,OAAO9iF,KAAK89C,SAASh+C,SAAW,GAGpC+1D,QAAS,SAASvzD,GACd,IAAMtC,KAAKgjF,aAAehjF,KAAKikF,gBAAmBjkF,KAAK6jF,YAAa,CAChEvhF,EAAEgyB,kBACFhyB,EAAE4hF,2BACF5hF,EAAEpB,iBACF,OAAO,MAEX,OAAO,MAGX4iF,cAAe,SAASj0E,GACpB,IAAI45C,EAAQzpD,KAAKsH,QAEjBtH,KAAKmkF,cAAct0E,GAEnB,GAAI7P,KAAKsH,UAAYmiD,EACjBzpD,KAAKqC,QAAQ4nC,IAIrB44C,cAAe,WACX,IAAItiF,EAAOP,KAEX,GAAIO,EAAKsP,QAAQoG,GAAGgrE,GAChB1gF,EAAKsP,QAAQuW,GAAG,SAAW04D,EAAIv+E,EAAKs1D,QAAQt0D,KAAKhB,IAGrD,GAAIA,EAAKd,QAAQukF,eACb,IAAKzjF,EAAKsP,QAAQoG,GAAG2qE,GAAgB,CACjCrgF,EAAKsP,QAAQuW,GAAG26D,EAAOjC,EAAIv+E,EAAKmiF,eAAgB,WAC5CniF,EAAKujF,cAAc5mF,EAAE8C,SAGzBO,EAAKsP,QAAQuW,GAAG,QAAU04D,EAAIv+E,EAAKoiF,kBAAmB,WAClDpiF,EAAKujF,cAAc5mF,EAAE8C,aAEtB,CACHO,EAAKsP,QAAQuW,GAAG26D,EAAOjC,EAAI,WACvBv+E,EAAKujF,cAAcvjF,EAAKsP,WAG5B,GAAItP,EAAKsP,QAAQoG,GAAG4qE,GAChBtgF,EAAKsP,QAAQuW,GAAG,QAAU04D,EAAI,WAC1Bv+E,EAAKujF,cAAcvjF,EAAKsP,aAO5CmzE,SAAU,WACN,IAAIoB,EACJ,IAAIziF,EACJ,IAAI4H,EAAS,MACb,IAAIzJ,EAEJ,IAAI6jF,EAAU3jF,KAAKsH,QAEnBtH,KAAK4iF,QAAU,GAEf,IAAK5iF,KAAK6P,QAAQoG,GAAG2qE,GAAgB,CACjC,IAAIyD,EAAU,MAEdD,EAASpkF,KAAK6P,QAAQkgB,KAAK/vB,KAAK0iF,gBAEhC,IAAK/gF,EAAM,EAAG7B,EAASskF,EAAOtkF,OAAQ6B,EAAM7B,EAAQ6B,IAChD,IAAK3B,KAAKmkF,cAAcC,EAAOtyD,GAAGnwB,IAC9B0iF,EAAU,KAIlB96E,GAAU86E,OAEV96E,EAASvJ,KAAKmkF,cAAcnkF,KAAK6P,SAGrC,GAAI7P,KAAKP,QAAQgjF,oBAAsBkB,EACnC3jF,KAAKskF,wBAGTtkF,KAAKqC,QAAQ8+E,EAAU,CAAEoD,MAAOh7E,EAAQu0C,OAAQ99C,KAAK89C,WAErD,GAAI6lC,IAAYp6E,EACZvJ,KAAKqC,QAAQ4nC,GAGjB,OAAO1gC,GAGX46E,cAAe,SAAS/jE,GACpBA,EAAQljB,EAAEkjB,GAGVpgB,KAAK8iF,aAAe,KAEpB,IAAIviF,EAAOP,KACPgE,EAAWzD,EAAK+hF,eAChB/4E,EAAShJ,EAAKikF,eAAepkE,GAC7BmkE,EAAQh7E,EAAOg7E,MACfn0D,EACAxX,EAAY,IAAMmnE,EAClBx8B,EAAanjC,EAAMjK,KAAK6qE,IAAS,GACjCyD,EAAMlkF,EAAKmkF,sBAAsBnhC,GAAWx/B,IAAI3D,EAAMu7C,KAAK/iD,GAAWqX,OAAO,WACzE,IAAIpgB,EAAU3S,EAAE8C,MAChB,GAAI6P,EAAQogB,OAAO,IAAM3yB,EAAM6Y,KAAK,OAAS,KAAKrW,OAC9C,OAAO+P,EAAQsG,KAAK7Y,EAAM6Y,KAAK,UAAYotC,EAG/C,OAAO,QAEPrtC,SAAS,YACbyuE,GAAeJ,EAAQhkF,EAAKqkF,gBAAgBxkE,EAAO7W,EAAOvC,KAAO,GACjE69E,GAAgBN,EAAQxC,EAAU/9E,EAAS,CAAEqmB,QAAS2iB,EAAO23C,GAAc9jE,MAAO0iC,KAAgB,GAClGuhC,GAAY1kE,EAAMjK,KAAKqqE,GACvBuE,EAAe3kE,EAAMnK,GAAGqqE,GACxB0E,EAAe5kE,EAAM7K,OAAOgrE,GAEhCngE,EAAMiL,WAAWm1D,GAEjB,IAAK+D,IAAUnkE,EAAMnc,KAAK,sBAAuB,CAC7C1D,EAAKqiF,QAAQr/B,GAAaohC,EAC1B,IAAIM,EAAQR,EAAItuE,KAAK,MAErB5V,EAAK2kF,0BAA0BL,EAActhC,GAG7C,GAAI0hC,EACAJ,EAAa1uE,KAAK,KAAM8uE,GAG5B,GAAIR,EAAI3kF,SAAW,EACf2kF,EAAI1I,YAAY8I,OACb,CACHz0D,EAAiB9yB,EAAM8yB,eAAehQ,GACtC,IAAI+kE,EAAgB/kE,EAAM7K,SAAS+T,IAAI,GACvC,IAAIuY,EAAczhB,EAAMu7C,OAAOryC,IAAI,GACnC,IAAI87D,EAAchlE,EAAM+sB,OAAO7jB,IAAI,GAGnC,IAAI8G,GAAkBhQ,EAAMnK,GAAG,gBAC3Bma,EAAiB9yB,EAAM8yB,eAAehQ,EAAM7F,QAAQ,kBAIxD,IAAI6V,GAAkBhQ,EAAMnK,GAAG,mBAC3Bma,EAAiB9yB,EAAM8yB,eAAehQ,EAAM7F,QAAQ,qBAGxD,GAAI6V,GAAkBA,EAAe5Z,QACjCquE,EAAaQ,YAAYj1D,EAAe5Z,cACrC,GAAI2uE,GAAiBA,EAAclzD,WAAa,QAEnD4yD,EAAaQ,YAAYF,QACtB,GAAItjD,GAAeqgD,EAAWrgD,EAAazhB,EAAM,IAEpDykE,EAAaQ,YAAYxjD,QACtB,GAAIujD,GAAelD,EAAWkD,EAAahlE,EAAM,IAEpDykE,EAAaQ,YAAYjlE,QACtB,GAAI2kE,GAAgBC,EAAallF,OAEpC+kF,EAAaQ,YAAYL,QAEzBH,EAAaQ,YAAYjlE,GAIjCykE,EAAapvE,YAAY,YAEzB2K,EAAMjK,KAAKqqE,EAAa,kBAEjBjgF,EAAKqiF,QAAQr/B,GAGxB,GAAIuhC,IAAaP,EACbvkF,KAAKqC,QAAQ++E,EAAgB,CAAEmD,MAAOA,EAAOnkE,MAAOA,EAAOmF,MAAOo/D,EAAa9jE,MAAO0iC,IAG1FnzB,EAAiB9yB,EAAM8yB,eAAehQ,GACtC,IAAKgQ,KAAoBA,EAAek1D,eAAiBl1D,EAAe5Z,SAAU,CAC9E4J,EAAMyD,YAAYo8D,GAAesE,GACjCnkE,EAAMyD,YAAYq8D,EAAYqE,GAGlC,GAAIn0D,EAAgB,CAChB,IAAIrD,EAASzvB,EAAM8yB,eAAehQ,GAClC,IAAImlE,EAAYx4D,EAAOu4D,eAAiBv4D,EAAOvW,QAC/C,IAAIgvE,EAAaz4D,EAAO04D,YAExB,GAAIF,EAAW,CACXA,EAAU1hE,YAAYo8D,GAAesE,GACrCgB,EAAU1hE,YAAYq8D,EAAYqE,GAEtC,GAAIiB,EACAA,EAAW3hE,YAAYu8D,GAAemE,GAI9C,GAAIO,IAAaP,EAAO,CACpB,IAAImB,EAAUb,EAAeA,EAAa1uE,KAAK,MAAQsuE,EAAItuE,KAAK,MAEhE5V,EAAKolF,2BAA2BvlE,EAAOslE,GAEvC,GAAI1lF,KAAKP,QAAQgjF,mBAAqBziF,KAAKP,QAAQukF,eAC/ChkF,KAAKskF,wBAIb,OAAOC,GAGXqB,aAAc,WACV,IAAIrlF,EAAOP,KACP4Y,EAAY,IAAMmnE,EAClBlwE,EAAUtP,EAAKsP,QAEnBtP,EAAKslF,iCAEL,IAAKh2E,EAAQoG,GAAG2qE,GACZ/wE,EAAQkgB,KAAKnX,GAAW1C,SAAS,iBAEjCrG,EAAQ8rD,KAAK/iD,GAAW1C,SAAS,aAIzCmuD,MAAO,WACH,IAAI9jE,EAAOP,KACPokF,EAAS7jF,EAAKsP,QAAQkgB,KAAK,IAAMkwD,GACjC6F,EAASvlF,EAAKsP,QAAQkgB,KAAK,IAAMqwD,GAErC7/E,EAAKqiF,QAAU,GAEfriF,EAAKqlF,eAELrlF,EAAKwlF,wBAEL3B,EAAO/4D,WAAWm1D,GAClB4D,EAAO3uE,YAAYwqE,GACnB6F,EAAOrwE,YAAY2qE,IAGvBsE,sBAAuB,SAASnhC,GAC5B,IAAIyiC,EAAW1oF,EAAM2pB,GAAGu6D,UAAUyE,gBAC9BxpF,EACA+/E,EAAat/E,IAEjB,IAAK,IAAIyE,EAAM,EAAG7B,EAASE,KAAK6P,QAAQ/P,OAAQ6B,EAAM7B,EAAQ6B,IAC1D66E,EAAaA,EAAWz4D,IAAIk+D,EAA0BjiF,KAAK6P,QAAQlO,GAAKukF,qBAAqB,KAAM3iC,IAGvG,IAAK9mD,KAAQupF,EACTxJ,EAAaA,EAAWz4D,IAAIiiE,EAASvpF,GAAM0pF,OAAOnmF,KAAK6P,QAAS0zC,IAGpE,OAAOi5B,GAGX0I,0BAA2B,SAAS50D,EAAWizB,GAC3C,IAAIyiC,EAAW1oF,EAAM2pB,GAAGu6D,UAAUyE,gBAC9BxpF,EAEJ6zB,EAAUpa,SAAS6pE,GACd5pE,KAAK7Y,EAAM6Y,KAAK,OAAQotC,GAAa,IAE1C,IAAKjzB,EAAUna,KAAK,MAChBma,EAAUna,KAAK,KAAMotC,EAAY,UAGrC,IAAK9mD,KAAQupF,EACTA,EAASvpF,GAAM2pF,SAAS91D,EAAWizB,IAI3CqhC,gBAAiB,SAASxkE,EAAOimE,GAC7B,IAAI9lF,EAAOP,KACPsmF,EAAgB/lF,EAAKd,QAAQ6nB,SAAS++D,GACtC9iC,EAAYnjC,EAAMjK,KAAK6qE,GACvBuF,EAEJ,IAAKjpF,EAAM2pB,GAAGm7D,UAAUxhF,UAAUnB,QAAQ6nB,SAAS++D,GAC9CE,EAAoBjpF,EAAM2D,WAAWqlF,GAAiBA,EAAclmE,GAASkmE,EAGlFA,EAAgBhpF,EAAM2D,WAAWqlF,GAAiBA,EAAclmE,GAASkmE,EAEzE,OAAOhpF,EAAMuH,OAAOub,EAAMjK,KAAK7Y,EAAM6Y,KAAKkwE,EAAU,UAAYjmE,EAAMjK,KAAK,sBAAwBowE,GAAqBD,GAAiBlmE,EAAMjK,KAAK,UAAY,GAC5JotC,EACAnjC,EAAMjK,KAAKkwE,IAAYjmE,EAAMjK,KAAK7Y,EAAM6Y,KAAKkwE,MAGrD7B,eAAgB,SAASpkE,GACrB,IAAImY,EAAQv4B,KAAKP,QAAQ84B,MACrBT,EAEJ,IAAKA,KAAQS,EACT,IAAKA,EAAMT,GAAMt1B,KAAKxC,KAAMogB,GACxB,MAAO,CAAEmkE,MAAO,MAAOv9E,IAAK8wB,GAIpC,MAAO,CAAEysD,MAAO,OAGpBzmC,OAAQ,WACJ,IAAIjB,EAAU,GACViB,EAAS99C,KAAK4iF,QACdr9D,EAEJ,IAAKA,KAASu4B,EACVjB,EAAQ36C,KAAK47C,EAAOv4B,IAExB,OAAOs3B,GAGXvxB,WAAY,SAAS7rB,GACjB,GAAIA,EAAQgjF,kBACRziF,KAAK+lF,wBAGTzoF,EAAM0D,WAAWhB,KAAKP,QAASA,GAE/BO,KAAKisB,UAELjsB,KAAKS,KAAKT,KAAK6P,QAAS7P,KAAKP,SAE7BO,KAAKwrB,WAAWxrB,KAAKP,UAGzB+mF,eAAgB,WACZ,IAAIjmF,EAAOP,KACPokF,EAAS7jF,EAAKsP,QAAQkgB,KAAKxvB,EAAKmiF,gBAChC9hE,EAAS,GAEb,IAAK,IAAIjf,EAAM,EAAG7B,EAASskF,EAAOtkF,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CAC3D,IAAIye,EAAQljB,EAAEknF,EAAOziF,IAErB,GAAI4/E,EAAanhE,EAAO4gE,GAIpB,GAAGpgE,EAAO/T,QAAQuT,EAAMjK,KAAK6qE,OAAY,GACpC5gE,EAAM7F,QAAQ,oBAAoBza,SAAW,GAC9CsgB,EAAM7F,QAAQ,iBAAiBza,SAAW,EACtC8gB,EAAO1e,KAAKke,EAAMjK,KAAK6qE,IAKvC,OAAOpgE,GAGX+kE,2BAA4B,SAASvlE,EAAOslE,GACxC,IAAI3jD,EAAgBzkC,EAAMwkC,0BAA0B1hB,GAEpD,IAAK2hB,IAAkB2jD,EACnB,OAGJpoF,EAAM6kC,gBAAgBJ,EAAe0+C,EAAiBiF,IAG1DG,+BAAgC,WAC5B,IAAItlF,EAAOP,KACPokF,EAAS7jF,EAAKsP,QAAQkgB,KAAK,IAAMkwD,GAAcjwD,UAC/C5P,EAAOslE,EAEX,IAAK,IAAI7lF,EAAI,EAAGA,EAAIukF,EAAOtkF,OAAQD,GAAK,EAAG,CACvCugB,EAAQljB,EAAEknF,EAAOvkF,IAEjB,GAAIugB,EAAMnK,GAAG,SAAU,CACnByvE,EAAUnlF,EAAKmkF,sBAAsBtkE,EAAMjK,KAAK6qE,IAC3Cj9D,IAAI3D,EAAMu7C,KAAK,IAAMokB,IACrB5pE,KAAK,MAEV5V,EAAKolF,2BAA2BvlE,EAAOslE,MAKnDe,cAAe,WACX,IAAIlmF,EAAOP,KACP0mF,EAAanmF,EAAKimF,iBAClB5lE,EAAS,GAEb,IAAK,IAAI/gB,EAAI,EAAGA,EAAI6mF,EAAW5mF,OAAQD,GAAK,EAAG,CAC3C,IAAIpD,EAAOiqF,EAAW7mF,GAEtB,GAAIU,EAAKqiF,QAAQnmF,GACbmkB,EAAO1e,KAAK,CACR2e,MAAOpkB,EACP4tB,QAAS9pB,EAAKqiF,QAAQnmF,KAKlC,OAAOmkB,GAGX+lE,eAAgB,WACZ,IAAIpmF,EAAOP,KACPP,EAAUO,KAAKP,QAAQgjF,kBACvB5yE,EAAU7P,KAAK6P,QACfu1E,EAAcv1E,EAAQs9B,OACtB7c,EAEJ,GAAI7wB,EAAQ6wB,UACRA,EAAYpzB,EAAEuC,EAAQ6wB,gBACnB,GAAI80D,GAAeA,EAAY1vE,SAASyqE,GAC3C7vD,EAAY80D,OAEZ90D,EAAYpzB,EAAE,WAAW0qE,aAAarnE,EAAKsP,SAG/CygB,EAAUpa,SAAS,CAACiqE,EAAmBE,GAAYv9E,KAAK,MACxDwtB,EAAUna,KAAK,OAAQ,SAEvBma,EAAUlK,GAAG,QAAU04D,EAAIv+E,EAAKqmF,cAAcrlF,KAAKhB,IAEnD,OAAO+vB,GAGXs2D,cAAe,SAAStkF,GACpBA,EAAEpB,iBAEF,IAAIX,EAAOP,KACP6mF,EAAO3pF,EAAEoF,EAAE3C,QACXA,EAASY,EAAKsP,QAAQkgB,KAAK,UAAY82D,EAAK5iF,KAAK,SAAY,MAC7D89B,EAEJ,IAAKpiC,EAAOG,OACR,OAGJiiC,EAAgBzkC,EAAMwkC,0BAA0BniC,GAEhD,GAAIoiC,EACAA,EAAc1/B,QAAQ,UAI9BiiF,sBAAuB,WACnB,IAAI/jF,EAAOP,KACP8mF,EAAUvmF,EAAKkiF,kBACf3kC,EAASv9C,EAAKkmF,gBACdM,EAEJ,IAAKD,EACDA,EAAUvmF,EAAKkiF,kBAAoBliF,EAAKomF,iBAG5CI,EAAahF,EAAUxhF,EAAKiiF,iBAAiB,CACzC1kC,OAAQA,KAGZgpC,EAAQ5iF,KAAK6iF,GAEbD,EAAQjjE,YAAY,YAAai6B,EAAOh+C,SAG5CimF,sBAAuB,WACnB,IAAIxlF,EAAOP,KACP8mF,EAAUvmF,EAAKkiF,kBAEnB,IAAKqE,EACD,OAGJA,EAAQ5wE,SAAS,eAO7B,OAHI5Y,EAAM2pB,GAAG+J,OAAOoxD,GAGbhlF,OAAOE,QArxBd,CAuxBoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,oBAAoB,CAAE,aAAc,oBAC5C,WAEH,IAAIC,EAAW,CACXC,GAAI,cACJC,KAAM,cACNC,SAAU,YACVC,YAAa,iDACbotC,QAAS,CAAE,OAAQ,eAGZ7sC,EAylCPE,OAAOE,MAAMH,OAzlCHE,OAAd,EACQC,EAAQF,OAAOE,MACfW,EAAUX,EAAMW,QAChBuR,EAAWpS,OAAOoS,SAClBw3E,EAAU9pF,EAAEE,QACZ8C,EAAQ5C,EAAM4C,MACd4mB,EAASxpB,EAAM2pB,GAAGH,OAClBzlB,EAAa/D,EAAM+D,WACnBgyC,EAAa/1C,EAAM+1C,WACnB71C,EAASN,EAAEM,OACXykB,EAAY3kB,EAAM2kB,UAClBglE,EAAa,GACbC,EAAc,GACdC,EAAY,GACZC,EACAppD,EAAqB1gC,EAAM0gC,mBAC3BqpD,EAAQ,QACRp9C,EAAS,SAGTq9C,EAAY,YACZ73C,EAAO,OACP83C,EAAO,OACPC,EAAU,UACVC,EAAa,aACbC,EAAgB,gBAGhBC,EAAY,YACZC,EAAY,YACZC,EAAO,OAEX,SAAS14D,EAAS5Z,EAAQ0nB,GACtB,IACI,OAAO//B,EAAEiyB,SAAS5Z,EAAQ0nB,IAAU1nB,GAAU0nB,EAChD,MAAO36B,GACL,OAAO,OAIf,SAASwlF,EAAkBj4E,EAAS8B,GAChC,OAAOtC,SAASQ,EAAQgF,IAAIlD,GAAW,KAAO,EAGlD,SAASo2E,EAAOzgF,EAAOyiD,GACnB,OAAOjsD,KAAKiR,IAAIjR,KAAKoP,IAAI5F,EAAOyiD,EAAMh7C,KAAMg7C,EAAM78C,KAGtD,SAAS86E,EAAoB13D,EAAWzgB,GACpC,IAAIoE,EAASgO,EAAUqO,GACnBvgB,EAAazS,EAAMsS,YACnBK,EAAc3S,EAAM0S,aACpBi4E,EAAOh0E,EAAOgB,KAAO6yE,EAAkBx3D,EAAW,mBAAqBw3D,EAAkBx3D,EAAW,eACpG43D,EAAOj0E,EAAO8L,IAAM+nE,EAAkBx3D,EAAW,kBAAoBw3D,EAAkBx3D,EAAW,cAClG63D,EAAOF,EAAO33D,EAAU3a,QAAU5F,EAAWF,EAAS,MACtDu4E,EAAOF,EAAO53D,EAAUza,SAAW5F,EAAYJ,EAAS,MAE5D,MAAO,CACHouB,EAAG,CAAElvB,IAAKk5E,EAAM/6E,IAAKi7E,GACrBh6E,EAAG,CAAEY,IAAKm5E,EAAMh7E,IAAKk7E,IAI7B,SAASC,EAAY1oF,EAAQ2oF,EAASC,GAClC,IAAIC,EAAWC,EAAW5oF,EAAI,EAC1B6oF,EAAYJ,GAAWA,EAAQxoF,OAC/B6oF,EAAUJ,GAASA,EAAMzoF,OAE7B,MAAOH,GAAUA,EAAO6hB,WAAY,CAChC,IAAK3hB,EAAI,EAAGA,EAAI6oF,EAAW7oF,IAAM,CAC7B2oF,EAAYF,EAAQzoF,GACpB,GAAI2oF,EAAU34E,QAAQ,KAAOlQ,EACzB,MAAO,CAAEA,OAAQ6oF,EAAWI,cAAejpF,GAInD,IAAKE,EAAI,EAAGA,EAAI8oF,EAAS9oF,IAAM,CAC3B4oF,EAAYF,EAAM1oF,GAClB,GAAI3C,EAAEiyB,SAASs5D,EAAU54E,QAAQ,GAAIlQ,IAAW1B,EAAQ+iB,gBAAgBxe,KAAK7C,EAAQ8oF,EAAUhpF,QAAQwwB,QACnG,MAAO,CAAEtwB,OAAQ8oF,EAAWG,cAAejpF,GAInDA,EAASA,EAAO6hB,WAGpB,OAAOnkB,EAGX,IAAIwrF,EAAaxnF,EAAW7D,OAAO,CAC/BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACPwuB,EAAa3e,EAAQ,GAEzBtP,EAAK80C,QAAU,MAEf,GAAI7mB,EAAWrO,iBAAkB,CAC7BjjB,EAAEO,KAAKH,EAAMq3B,SAAShS,KAAK9f,MAAM,KAAM,WACnC2rB,EAAWrO,iBAAiBngB,KAAMO,EAAKuoF,OAAOvnF,KAAKhB,GAAO,QAE9DrD,EAAEO,KAAKH,EAAMq3B,SAAS/R,GAAG/f,MAAM,KAAM,WACjC2rB,EAAWrO,iBAAiBngB,KAAMO,EAAKwoF,SAASxnF,KAAKhB,GAAO,YAE7D,CACHrD,EAAEO,KAAKH,EAAMq3B,SAAShS,KAAK9f,MAAM,KAAM,WACnC2rB,EAAWw6D,YAAYhpF,KAAMO,EAAKuoF,OAAOvnF,KAAKhB,MAElDrD,EAAEO,KAAKH,EAAMq3B,SAAS/R,GAAG/f,MAAM,KAAM,WACjC2rB,EAAWw6D,YAAYhpF,KAAMO,EAAKwoF,SAASxnF,KAAKhB,MAIxDc,EAAWV,GAAGF,KAAK+B,KAAKjC,GAExBA,EAAKgB,KAAK,CAAC,QAAS,WAAY9B,GAAW,KAG/CwpF,YAAa,WACTjpF,KAAKq1C,QAAU,MAGnB6zC,cAAe,WACXlpF,KAAKq1C,QAAU,OAGnByzC,OAAQ,SAASxmF,GACb,IAAI/B,EAAOP,KACXO,EAAK8B,QAAQ,SACb,GAAI9B,EAAK80C,QACL/yC,EAAEpB,kBAIV6nF,SAAU,SAASzmF,GACf,IAAI/B,EAAOP,KACXO,EAAK8B,QAAQ,WAEb,GAAI9B,EAAK80C,QAAS,CACd/yC,EAAEpB,iBACFX,EAAK2oF,oBAKbC,EAAgB9nF,EAAW7D,OAAO,CAClCiD,KAAM,SAAShB,GACX,IAAIc,EAAOP,KACXqB,EAAWV,GAAGF,KAAK+B,KAAKjC,GAExBA,EAAK6oF,cAAgB,MAErBlsF,EAAEM,OAAO+C,EAAMd,GAEfc,EAAK6rE,MAAQ,EAEb,GAAI7rE,EAAK0uE,WAAY,CACjB1uE,EAAK8oF,QAAU,cACf9oF,EAAK+oF,WAAa,cAClB/oF,EAAKk+B,KAAO,QACT,CACHl+B,EAAK8oF,QAAU,eACf9oF,EAAK+oF,WAAa,eAClB/oF,EAAKk+B,KAAO,MAIpB8qD,YAAa,WACTrsF,EAAEM,OAAOwC,KAAM,CACX+rD,QAAS,KACTq9B,cAAe,KACfI,YAAa,EACbC,YAAa,KAIrBC,YAAa,SAAS36E,EAAK7B,GACvB,GAAIlN,KAAKwpF,cAAgBz6E,GAAO/O,KAAKypF,cAAgBv8E,EAAK,CACtDlN,KAAKwpF,YAAcz6E,EACnB/O,KAAKypF,YAAcv8E,EACnBlN,KAAKi9C,WAIb0sC,YAAa,SAAS11E,GAClB,OAAOA,EAASjU,KAAKkN,KAAO+G,EAASjU,KAAK+O,KAG9C66E,aAAc,WACV5pF,KAAKopF,cAAgB,MAGzBz9D,QAAS,WACL,OAAO3rB,KAAKswB,UAAU,GAAGtwB,KAAKqpF,UAGlCQ,SAAU,WACN,OAAO7pF,KAAK6P,QAAQ,GAAG7P,KAAKspF,aAGhCQ,QAAS,SAAS1d,GACdpsE,KAAKosE,MAAQA,GAGjBnvB,OAAQ,SAASpQ,GACb,IAAItsC,EAAOP,KACP88C,EAAQv8C,EAAKwrD,QAAUxrD,EAAKkpF,YAAclpF,EAAKspF,WAC/CE,EAAcjtC,EAAQv8C,EAAK6rE,MAC3Bp6D,EAAOzR,EAAKorB,UAEhB,GAAImxB,IAAU,IAAMv8C,EAAK6oF,cACrB,OAGJ7oF,EAAK2M,IAAM3M,EAAKwrD,SAAWxrD,EAAKipF,YAAc,EAC9CjpF,EAAKyR,KAAOA,EACZzR,EAAKu8C,MAAQitC,EACbxpF,EAAKwO,IAAMjR,KAAKiR,IAAIxO,EAAK2M,IAAK8E,EAAO+3E,GACrCxpF,EAAKypF,SAAWh4E,EAAO8qC,EACvBv8C,EAAK0pF,cAAgBF,EAAc/3E,GAAQ,EAE3CzR,EAAKyjB,QAAUzjB,EAAK6oF,eAAkBW,EAAc/3E,EAEpD,IAAK66B,EACDtsC,EAAK8B,QAAQ4nC,EAAQ1pC,MAK7B2pF,EAAiB7oF,EAAW7D,OAAO,CACnCiD,KAAM,SAAShB,GACX,IAAIc,EAAOP,KAEXqB,EAAWV,GAAGF,KAAK+B,KAAKjC,GAExBA,EAAK09B,EAAI,IAAIkrD,EAAc3rF,EAAO,CAACyxE,WAAY,MAAOxvE,IACtDc,EAAK4N,EAAI,IAAIg7E,EAAc3rF,EAAO,CAACyxE,WAAY,OAAQxvE,IACvDc,EAAK+vB,UAAY7wB,EAAQ6wB,UACzB/vB,EAAK4pF,eAAiB1qF,EAAQuqF,SAC9BzpF,EAAK6pF,SAAW3qF,EAAQ2qF,UAAY,IAEpC7pF,EAAKgB,KAAK0oC,EAAQxqC,IAGtBqqF,QAAS,SAASO,GACdrqF,KAAKi+B,EAAE6rD,QAAQO,GACfrqF,KAAKmO,EAAE27E,QAAQO,GACfrqF,KAAK8Z,WAGTwwE,kBAAmB,WACf,MAAO,CAAErsD,EAAGngC,KAAKiR,IAAI,GAAI/O,KAAKi+B,EAAEgsD,cAAe97E,EAAGrQ,KAAKiR,IAAI,GAAI/O,KAAKmO,EAAE87E,gBAG1EnwE,QAAS,WACL,IAAIvZ,EAAOP,KACXO,EAAK09B,EAAEgf,SACP18C,EAAK4N,EAAE8uC,SACP18C,EAAKyjB,QAAUzjB,EAAK09B,EAAEja,SAAWzjB,EAAK4N,EAAE6V,QACxCzjB,EAAKypF,SAAWzpF,EAAK4pF,gBAAkBrsF,KAAKiR,IAAIxO,EAAK09B,EAAE+rD,SAAUzpF,EAAK4N,EAAE67E,UACxEzpF,EAAK24E,SAAWp7E,KAAKoP,IAAI3M,EAAK09B,EAAE+rD,SAAUzpF,EAAK4N,EAAE67E,UACjDzpF,EAAK8B,QAAQ4nC,MAIjBsgD,EAAWlpF,EAAW7D,OAAO,CAC7BiD,KAAM,SAAShB,GACX,IAAIc,EAAOP,KACXxC,EAAO+C,EAAMd,GACb4B,EAAWV,GAAGF,KAAK+B,KAAKjC,IAG5BopF,YAAa,WACT,OAAO3pF,KAAKwqF,UAAUb,YAAY3pF,KAAK04E,QAAQ14E,KAAKy+B,QAGxDgsD,SAAU,SAASnsD,GACf,IAAI/9B,EAAOP,KACPwqF,EAAYjqF,EAAKiqF,UACjB/rD,EAAOl+B,EAAKk+B,KACZi6C,EAAUn4E,EAAKm4E,QACf/hE,EAAW+hE,EAAQj6C,GAAQH,EAE/B,IAAKksD,EAAUxmE,QACX,OAGJ,GAAKrN,EAAW6zE,EAAUz7E,KAAOuvB,EAAQ,GAAO3nB,EAAW6zE,EAAUt9E,KAAOoxB,EAAQ,EAChFA,GAAS/9B,EAAKmqF,WAGlBhS,EAAQiS,cAAclsD,EAAMH,GAC5B/9B,EAAK8B,QAAQ4nC,EAAQ1pC,MAIzBqqF,EAAO1qF,EAAM1C,OAAO,CAEpBiD,KAAM,SAAShB,GACX,IAAIc,EAAOP,KACPi+B,EACA9vB,EACAu8E,EACAhS,EAEJl7E,EAAO+C,EAAM,CAACsqF,QAAS,MAAOprF,GAE9BirF,EAAanqF,EAAKsqF,QAAU,GAAM,EAClCnS,EAAUn4E,EAAKm4E,QAEfn4E,EAAK09B,EAAIA,EAAI,IAAIssD,EAAS,CACtB9rD,KAAM,IACN+rD,UAAWjqF,EAAKwrB,WAAWkS,EAC3BysD,WAAYA,EACZhS,QAASA,IAGbn4E,EAAK4N,EAAIA,EAAI,IAAIo8E,EAAS,CACtB9rD,KAAM,IACN+rD,UAAWjqF,EAAKwrB,WAAW5d,EAC3Bu8E,WAAYA,EACZhS,QAASA,IAGbn4E,EAAK2xC,WAAW3wC,KAAK,CAAC,QAAS,OAAQ,MAAO,eAAgB,iBAAkB,CAC5Em1C,aAAc,SAASp0C,GACnB/B,EAAKuqF,QAAUxoF,EACf/B,EAAK0T,OAAS1T,EAAKwrB,WAAWuE,UAAUrc,UAG5C0+B,MAAO,SAASrwC,GACZ,GAAIpF,EAAEoF,EAAE+Y,MAAM1b,QAAQ4a,QAAQ,KAAKtE,GAAG,iCAClC3T,EAAEC,OAAOsyB,UAIjB8hB,cAAe,SAASr0C,GACpB,IAAIyoF,EAAkBxqF,EAAKuqF,QACvBE,EAAiBD,EAAgB55C,OAEjCA,EAAS7uC,EAAE6uC,OAEX85C,EAAa3oF,EAAE8uC,SAAW25C,EAAgB35C,SAE1C44C,EAAWzpF,EAAKwrB,WAAWi+D,SAC3BI,EAAW7pF,EAAKwrB,WAAWq+D,SAC3Bc,EAEJ,GAAIxS,EAAQtM,OAAS4d,GAAYiB,EAAa,EAE1CA,IAAe,EAAIA,GAAc,GAGrC,GAAIvS,EAAQtM,MAAQ6e,GAAcb,EAC9Ba,EAAab,EAAW1R,EAAQtM,MAGpC,IAAI+e,EAAUzS,EAAQz6C,EAAI19B,EAAK0T,OAAOgB,KAClCm2E,EAAU1S,EAAQvqE,EAAI5N,EAAK0T,OAAO8L,IAEtCmrE,EAAc,CACVjtD,GAAIktD,EAAUH,EAAe/sD,GAAKgtD,EAAa95C,EAAOlT,EAAIktD,EAC1Dh9E,GAAIi9E,EAAUJ,EAAe78E,GAAK88E,EAAa95C,EAAOhjC,EAAIi9E,GAG9D1S,EAAQ2S,UAAUJ,GAElBhtD,EAAEwsD,SAASS,EAAYjtD,GACvB9vB,EAAEs8E,SAASS,EAAY/8E,GAEvB5N,EAAKwrB,WAAW+9D,QAAQpR,EAAQtM,OAChC7rE,EAAKuqF,QAAUxoF,EACfA,EAAEpB,kBAGN0zB,KAAM,SAAStyB,GACX,GAAIA,EAAE+Y,MAAM1b,OAAOsqB,QAAQ3lB,MAAM,mBAC7B,OAGJ,GAAI25B,EAAEusD,UAAUxmE,SAAW7V,EAAEq8E,UAAUxmE,QAAS,CAC5Cia,EAAEwsD,SAASnoF,EAAE27B,EAAEK,OACfnwB,EAAEs8E,SAASnoF,EAAE6L,EAAEmwB,OACfh8B,EAAEpB,sBAEFoB,EAAEoY,MAAMg5B,QAIhB9vC,IAAK,SAAStB,GACVA,EAAEpB,uBAMdoqF,EAAkBrtF,EAAQ6W,YAAYoG,OAAS,YAC/CuxD,EAGJ,GAAIxuE,EAAQ8c,QACR0xD,EAAY,SAASxuC,EAAG9vB,EAAGi+D,GACvB,MAAO,eAAiBnuC,EAAI,MAAQ9vB,EAAG,eAAiBi+D,EAAQ,UAGpEK,EAAY,SAASxuC,EAAG9vB,EAAGi+D,GACvB,MAAO,aAAenuC,EAAI,MAAQ9vB,EAAG,aAAei+D,EAAQ,KAIpE,IAAImf,EAAUlqF,EAAW7D,OAAO,CAC5BiD,KAAM,SAASoP,GACX,IAAItP,EAAOP,KAEXqB,EAAWV,GAAGF,KAAK+B,KAAKjC,GAExBA,EAAKsP,QAAU3S,EAAE2S,GACjBtP,EAAKsP,QAAQ,GAAG+F,MAAM41E,sBAAwB,WAC9CjrF,EAAK09B,EAAI,EACT19B,EAAK4N,EAAI,EACT5N,EAAK6rE,MAAQ,EACb7rE,EAAKkrF,iBAAiBhf,EAAUlsE,EAAK09B,EAAG19B,EAAK4N,EAAG5N,EAAK6rE,SAGzDue,cAAe,SAASlsD,EAAMitD,GAC1B1rF,KAAKy+B,IAASitD,EACd1rF,KAAK8Z,WAGT6xE,QAAS,SAASvf,GACdpsE,KAAKosE,MAAQA,EACbpsE,KAAK8Z,WAGTuxE,UAAW,SAASJ,GAChBjrF,KAAKosE,OAAS6e,EACdjrF,KAAK8Z,WAGT2yD,UAAW,SAASye,GAChBlrF,KAAKi+B,GAAKitD,EAAYjtD,EACtBj+B,KAAKmO,GAAK+8E,EAAY/8E,EACtBnO,KAAK8Z,WAGT++D,SAAU,SAASp6C,EAAMn3B,GACrBtH,KAAKy+B,GAAQn3B,EACbtH,KAAK8Z,WAGT2+D,OAAQ,SAASyS,GACb1tF,EAAOwC,KAAMkrF,GACblrF,KAAK8Z,WAGTA,QAAS,WACL,IAAIvZ,EAAOP,KACPi+B,EAAI19B,EAAK09B,EACT9vB,EAAI5N,EAAK4N,EACTy9E,EAEJ,GAAIrrF,EAAKoM,MAAO,CACZsxB,EAAIngC,KAAK6O,MAAMsxB,GACf9vB,EAAIrQ,KAAK6O,MAAMwB,GAGnBy9E,EAAiBnf,EAAUxuC,EAAG9vB,EAAG5N,EAAK6rE,OAEtC,GAAIwf,GAAkBrrF,EAAK2qF,YAAa,CACpC,GAAI5tF,EAAMW,QAAQ+a,QAAQiG,MAAQ3hB,EAAMW,QAAQ+a,QAAQhc,QAAU,GAAI,CAClEuD,EAAKsP,QAAQ,GAAG+F,MAAMe,SAAW,WACjCpW,EAAKsP,QAAQ,GAAG+F,MAAMX,KAAO1U,EAAK09B,EAAI,KACtC19B,EAAKsP,QAAQ,GAAG+F,MAAMmK,IAAMxf,EAAK4N,EAAI,UAGrC5N,EAAKsP,QAAQ,GAAG+F,MAAM01E,GAAmBM,EAE7CrrF,EAAKkrF,iBAAiBG,GACtBrrF,EAAK8B,QAAQ4nC,KAIrBwhD,iBAAkB,SAASP,GACvBlrF,KAAKkrF,YAAcA,KAI3B,SAASW,EAAiB9wC,EAAYhuB,GAClC,IAAI++D,EAAY/+D,EAAOttB,QAAQ6qD,MAC/ByhC,EAAahxC,EAAW+wC,GACxBjsF,EAEAinB,EAAOnmB,GAAGsrB,QAAQzpB,KAAKuqB,GAEvB,GAAIg/D,EAAWjsF,OAAS,GACpB,IAAKD,EAAI,EAAGA,EAAIksF,EAAWjsF,OAAQD,IAC/B,GAAIksF,EAAWlsF,IAAMktB,EAAQ,CACzBg/D,EAAWtpF,OAAO5C,EAAG,GACrB,WAGL,CACHksF,EAAWjsF,OAAS,SACbi7C,EAAW+wC,IAI1B,IAAIE,EAAallE,EAAOtpB,OAAO,CAC3BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnC,IAAI6qD,EAAQ/pD,EAAKd,QAAQ6qD,MAEzB,KAAMA,KAAS48B,GACXA,EAAY58B,GAAS,CAAE/pD,QAEvB2mF,EAAY58B,GAAOpoD,KAAM3B,IAIjCyB,OAAQ,CACJ2lF,EACAC,EACAC,GAGJpoF,QAAS,CACLhD,KAAM,aACN6tD,MAAO,WAGXr+B,QAAS,WACL4/D,EAAiB3E,EAAalnF,OAGlC+yC,SAAU,SAASvxC,EAAWc,GAC1B,IAAI/B,EAAOP,KACPisF,EAAYhF,EAAW1mF,EAAKd,QAAQ6qD,OAExC,GAAI2hC,EACA,OAAO1rF,EAAK8B,QAAQb,EAAWhE,EAAO,GAAI8E,EAAE+Y,MAAO,CACxC4wE,UAAWA,EACXC,WAAY5pF,EAAE4pF,eAKjCC,MAAO,SAAS7pF,GACZtC,KAAK+yC,SAAS40C,EAAWrlF,IAG7B8pF,KAAM,SAAS9pF,GACXtC,KAAK+yC,SAAS60C,EAAWtlF,IAG7B+pF,MAAO,SAAS/pF,GACZ,IAAI/B,EAAOP,KACPisF,EAAYhF,EAAW1mF,EAAKd,QAAQ6qD,OAExC,GAAI2hC,EACAA,EAAUK,SAAW/rF,EAAKwyC,SAAS80C,EAAMvlF,MAsBjDiqF,GAjBJP,EAAWQ,aAAe,SAASV,GAC/B,IAAIxhC,EAAQ48B,EAAY4E,IAAc3E,EAAU2E,GAC5CjsF,EAEJ,GAAIyqD,EAAO,CACP,IAAKzqD,EAAI,EAAGA,EAAIyqD,EAAMxqD,OAAQD,IAC1BinB,EAAOnmB,GAAGsrB,QAAQzpB,KAAK8nD,EAAMzqD,IAGjCyqD,EAAMxqD,OAAS,SACRonF,EAAY4E,UACZ3E,EAAU2E,KAIzBE,EAAWS,OAASvF,EAEC8E,EAAWxuF,OAAO,CACnCiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnC,IAAI6qD,EAAQ/pD,EAAKd,QAAQ6qD,MAEzB,KAAMA,KAAS68B,GACXA,EAAU78B,GAAS,CAAE/pD,QAErB4mF,EAAU78B,GAAOpoD,KAAM3B,IAI/B0rB,QAAS,WACL4/D,EAAiB1E,EAAWnnF,OAGhCP,QAAS,CACLhD,KAAM,iBACN6tD,MAAO,UACPr6B,OAAQ,SAIZy8D,EAAY5lE,EAAOtpB,OAAO,CAC1BiD,KAAM,SAAUoP,EAASpQ,GACrB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCc,EAAKosF,WAAa,MAElBpsF,EAAK2xC,WAAa,IAAImB,EAAW9yC,EAAKsP,QAAS,CAC3C2kC,OAAQ,KACRL,eAAgB,KAChBlkB,OAAQ1vB,EAAKd,QAAQwwB,OACrBtP,UAAWpgB,EAAKd,QAAQ2xC,SACxBjlC,MAAO5L,EAAK+yC,OAAO/xC,KAAKhB,GACxBi2C,KAAMj2C,EAAKsyC,MAAMtxC,KAAKhB,GACtBq0B,KAAMr0B,EAAKqsF,MAAMrrF,KAAKhB,GACtBqD,IAAKrD,EAAKs1C,KAAKt0C,KAAKhB,GACpBs0B,OAAQt0B,EAAKssF,QAAQtrF,KAAKhB,GAC1Bs/B,OAAQt/B,EAAKk1C,QAAQl0C,KAAKhB,KAG9B,GAAIjD,EAAMW,QAAQyc,MACdna,EAAKsP,QAAQkgB,KAAKxvB,EAAKd,QAAQwwB,QAAQpb,IAAI,eAAgB,QAG/DtU,EAAKusF,iBAAmBvsF,EAAKwsF,UAAUxrF,KAAKhB,GAC5CA,EAAKysF,eAAiBzsF,EAAKysF,eAAezrF,KAAKhB,IAGnDyB,OAAQ,CACJytC,EACA63C,EACAC,EACAC,EACAC,EACAC,GAGJjoF,QAAS,CACLhD,KAAM,YACN20C,SAAY9zC,EAAMW,QAAQyc,MAAQ,EAAI,EACtC4vC,MAAO,UACP2iC,aAAc,KACdxuD,KAAM,KACNnO,UAAW,KACXL,OAAQ,KACR+0B,OAAQ,KACRkoC,WAAY,MACZC,WAAY,MACZb,QAAS,OAGbc,WAAY,WACRptF,KAAK2sF,WAAa,OAGtBK,eAAgB,SAAS1qF,GACrB,IAAI/B,EAAOP,KAEX,GAAIsC,EAAE8+B,UAAY9jC,EAAMiqB,KAAKM,IAAK,CAC9BtnB,EAAKwyC,SAAS00C,EAAY,CAAEpsE,MAAO/Y,IACnC/B,EAAK2xC,WAAWrd,WAIxBw4D,YAAa,SAAS/qF,GAClB,IAAI/B,EAAOP,KACPkrF,EACAzrF,EAAUc,EAAKd,QACf6tF,EAAa/sF,EAAK+sF,WAClB7uD,EAAOh/B,EAAQg/B,KACfwuD,EAAe1sF,EAAKd,QAAQwtF,aAEhC,GAAIA,EACD/B,EAAc,CAAEj2E,KAAM3S,EAAE27B,EAAE5f,SAAW4uE,EAAah4E,KAAM8K,IAAKzd,EAAE6L,EAAEkQ,SAAW4uE,EAAaltE,SACrF,CACHxf,EAAKgtF,WAAWt4E,MAAQ3S,EAAE27B,EAAEK,MAC5B/9B,EAAKgtF,WAAWxtE,KAAOzd,EAAE6L,EAAEmwB,MAC3B4sD,EAAchuF,EAAEM,OAAO,GAAI+C,EAAKgtF,YAGpC,GAAID,EAAY,CACZpC,EAAYnrE,IAAMgoE,EAAOmD,EAAYnrE,IAAKutE,EAAWn/E,GACrD+8E,EAAYj2E,KAAO8yE,EAAOmD,EAAYj2E,KAAMq4E,EAAWrvD,GAG3D,GAAIQ,IAAS,WACFysD,EAAYnrE,SAChB,GAAI0e,IAAS,WACTysD,EAAYj2E,KAGvB1U,EAAKitF,KAAK34E,IAAIq2E,IAGlBuC,oBAAqB,SAAS9tF,GAC1B,IAAI+tF,EAAiB1tF,KAAKP,QAAQulD,OAClC,OAAO0oC,GAAkBxwF,EAAEyC,GAAQsW,GAAGy3E,IAG1Cj4C,QAAS,SAASnzC,GACd,IAAKtC,KAAKytF,oBAAoBnrF,EAAE+Y,MAAM1b,QAClC2C,EAAEpB,kBAIVoyC,OAAQ,SAAShxC,GACb,IAAI/B,EAAOP,KACPP,EAAUc,EAAKd,QACf6wB,EAAY7wB,EAAQ6wB,UAAYpzB,EAAEuC,EAAQ6wB,WAAY,KACtDk9D,EAAO/tF,EAAQ+tF,KAEnB,GAAIxtF,KAAKytF,oBAAoBnrF,EAAEoY,MAAM23B,eAAkB5yC,EAAQytF,aAAe3sF,EAAKosF,WAAa,CAC5FpsF,EAAK2xC,WAAWrd,SAChB,OAGJt0B,EAAKgxC,cAAgBjvC,EAAE3C,OACvBY,EAAKotF,oBAAsB1rE,EAAU1hB,EAAKgxC,eAE1C,GAAIi8C,EAAM,CACN,GAAIjtF,EAAKitF,KACLjtF,EAAKitF,KAAK/oE,KAAK,KAAM,MAAMsM,SAG/BxwB,EAAKitF,KAAOlwF,EAAM2D,WAAWusF,GAAQtwF,EAAEswF,EAAKhrF,KAAKjC,EAAMA,EAAKgxC,gBAAkBi8C,EAE9E,IAAIv5E,EAASgO,EAAU1hB,EAAKgxC,eAC5BhxC,EAAKgtF,WAAat5E,EAElB1T,EAAKitF,KAAK34E,IAAK,CACX8B,SAAU,WACVw/D,OAAQ,IACRlhE,KAAMhB,EAAOgB,KACb8K,IAAK9L,EAAO8L,MAEfmlB,SAAS11B,EAAS2K,MAEnB5Z,EAAKmqB,QAAQ,UAAW,WACpBnqB,EAAKitF,KAAKniE,WAAW,aACrB,IAAIuiE,EAAc1wF,EAAEoF,EAAE3C,QAEtB,OAAQiuF,EAAY3pF,KAAK,iBAAmB2pF,EAAY9tF,OACpD8tF,EAAcA,EAAYr4E,SAG9B,MAAO,CACH6Y,SAAU7tB,EAAKitF,KAAKlkE,MACpBukE,UAAWD,EAAY3pF,KAAK,mBAKxCgjF,EAAWxnF,EAAQ6qD,OAAS/pD,EAE5BA,EAAK+rF,QAAU,MAEf,GAAIh8D,EACA/vB,EAAK+sF,WAAatF,EAAoB13D,EAAW/vB,EAAKitF,MAG1DtwF,EAAEsS,GAAU4W,GAAGihE,EAAO9mF,EAAKysF,gBAE3B,GAAIzsF,EAAKwyC,SAASu0C,EAAWhlF,GAAI,CAC7B/B,EAAK2xC,WAAWrd,SAChBt0B,EAAKwsF,YAGTxsF,EAAK2xC,WAAWmD,WAGpBxC,MAAO,SAASvwC,GACZtC,KAAKuxC,cAAgBjvC,EAAE3C,OAEvB,GAAIK,KAAK+yC,SAAStD,EAAMntC,GACpBtC,KAAKkyC,WAAWrd,cAEhB70B,KAAK2sF,WAAa,MAI1BC,MAAO,SAAStqF,GACZA,EAAEpB,iBAEF,IAAI4sF,EAAgB9tF,KAAK+tF,oBAAoBzrF,GAE7C,GAAItC,KAAKP,QAAQ0tF,YAAcntF,KAAKguF,iBAAmBF,EAAe,CAClE9tF,KAAKiuF,kBAAoBC,EAAqBJ,GAC9C9tF,KAAKguF,eAAiBF,EAG1B9tF,KAAKmuF,WAAa7rF,EAClBtC,KAAKouF,iBAAiB9rF,EAAGwrF,GAEzB,GAAI9tF,KAAKP,QAAQ0tF,WAEb,GAAIntF,KAAKiuF,kBAAkB,GAAI,CAC3B,IAAIp8C,EAAWw8C,EAAmB/rF,EAAE27B,EAAE5f,SAAU/b,EAAE6L,EAAEkQ,SAAUiwE,EAAmBtuF,KAAKiuF,oBAGtFjuF,KAAKuuF,qBAAuBrxF,EAAEM,OAAO,GAAIwC,KAAKutF,YAC9CvtF,KAAKwuF,gBAAkB38C,EAEvB,GAAIA,EAAS1jC,IAAM,GAAK0jC,EAAS5T,IAAM,EAAG,CACtCoO,cAAcrsC,KAAKyuF,iBACnBzuF,KAAKyuF,gBAAkB,UACpB,IAAIzuF,KAAKyuF,gBACZzuF,KAAKyuF,gBAAkBriD,YAAYpsC,KAAK0uF,YAAYntF,KAAKvB,MAAO,IAK5E,GAAIA,KAAKwtF,KACLxtF,KAAKqtF,YAAY/qF,IAIzB8rF,iBAAkB,SAAS9rF,EAAGwrF,GAC1B9tF,KAAK2uF,gBAAgBb,EAAe,SAASnuF,EAAQipF,GACjD,IAAKjpF,EAAQ,CACT,GAAIynF,EAAgB,CAChBA,EAAer0C,SAAS60C,EAAWpqF,EAAO8E,EAAG,CAAE4pF,WAAYhvF,EAAEkqF,EAAewB,kBAC5ExB,EAAiB,KAErB,OAGJ,GAAIA,EAAgB,CAChB,GAAIwB,IAAkBxB,EAAewB,cACjC,OAGJxB,EAAer0C,SAAS60C,EAAWpqF,EAAO8E,EAAG,CAAE4pF,WAAYhvF,EAAEkqF,EAAewB,kBAGhFjpF,EAAOozC,SAAS40C,EAAWnqF,EAAO8E,EAAG,CAAE4pF,WAAYhvF,EAAE0rF,MACrDxB,EAAiB5pF,EAAOmC,EAAQ,CAAEipF,cAAeA,MAGrD5oF,KAAK+yC,SAASw0C,EAAM/pF,EAAO8E,EAAG,CAAE4pF,WAAY9E,EAAgBppD,mBAAoB8vD,MAGpFY,YAAa,WACT,IAAIn5E,EAASvV,KAAKiuF,kBAAkB,GAChCp8C,EAAW7xC,KAAKwuF,gBAChBI,EAAe5uF,KAAKuuF,qBAExB,IAAKh5E,EACD,OAGJ,IAAIu4E,EAAgB9tF,KAAK+tF,oBAAoB/tF,KAAKmuF,YAClDnuF,KAAKouF,iBAAiBpuF,KAAKmuF,WAAYL,GAEvC,IAAIe,EAAeC,EAEnB,IAAIC,EAAax5E,IAAWy5E,IAAiB,GAE7C,GAAID,EAAY,CACZF,EAAgBr/E,EAAS2K,KAAK0F,aAAemnE,EAAQnxE,SACrDi5E,EAAgBt/E,EAAS2K,KAAKZ,YAAcytE,EAAQrxE,YACjD,CACHk5E,EAAgBt5E,EAAOkZ,cAAgBlZ,EAAOsK,aAC9CivE,EAAgBv5E,EAAO8E,aAAe9E,EAAOgE,YAGjD,IAAIu6B,EAASv+B,EAAOob,UAAYkhB,EAAS1jC,EACzC,IAAI8gF,EAAYJ,GAAiB/6C,EAAS,GAAKA,EAASv+B,EAAOsK,aAE/D,IAAIg0B,EAASt+B,EAAOuD,WAAa+4B,EAAS5T,EAC1C,IAAIixD,EAAYJ,GAAiBj7C,EAAS,GAAKA,EAASt+B,EAAOgE,YAE/D,GAAI01E,EACA15E,EAAOob,WAAakhB,EAAS1jC,OAC1B,GAAI0gF,GAAiB/6C,EAAS,EACjCv+B,EAAOob,UAAY,EAGvB,GAAIu+D,EACA35E,EAAOuD,YAAc+4B,EAAS5T,OAC3B,GAAI6wD,GAAiBj7C,EAAS,EACjCt+B,EAAOuD,WAAa,EAGxB,GAAI9Y,KAAKwtF,MAAQuB,IAAeG,GAAaD,GAAY,CACrD,GAAIA,EACAL,EAAa7uE,KAAO8xB,EAAS1jC,EAGjC,GAAI+gF,EACAN,EAAa35E,MAAQ48B,EAAS5T,EAGlCj+B,KAAKwtF,KAAK34E,IAAI+5E,KAItB/4C,KAAM,SAASvzC,GACXtC,KAAK2uF,gBAAgB3uF,KAAK+tF,oBAAoBzrF,GAAI,SAAS3C,EAAQipF,GAC/D,GAAIjpF,EAAQ,CACRA,EAAO0sF,MAAM7uF,EAAO,GAAI8E,EAAG,CAAE4pF,WAAYhvF,EAAE0rF,MAC3CxB,EAAiB,QAIzB/6C,cAAcrsC,KAAKyuF,iBACnBzuF,KAAKyuF,gBAAkB,KACvBzuF,KAAK6sF,QAAQ7sF,KAAK+yC,SAASy0C,EAASllF,KAGxCuqF,QAAS,SAASzrF,GACd,IAAIb,EAAOP,KAEXO,EAAK0tF,kBAAoB,KACzBjuF,KAAKguF,eAAiB,KACtB3hD,cAAcrsC,KAAKyuF,iBACnBluF,EAAKosF,WAAa,MAElB,GAAIpsF,EAAKitF,OAASjtF,EAAK+rF,QACnBn5D,WAAW,WACP5yB,EAAKitF,KAAK/oE,KAAK,KAAM,MAErB,GAAIrjB,EACAb,EAAKusF,wBAELvsF,EAAKitF,KAAK/pE,QAAQljB,EAAKotF,oBAAqB,OAAQptF,EAAKusF,mBAE9D,QAGHvsF,EAAKwsF,aAIbh6C,SAAU,SAASvxC,EAAWc,GAC1B,IAAI/B,EAAOP,KAEX,OAAOO,EAAK8B,QACRb,EAAWhE,EACX,GACA8E,EAAE+Y,MACF,CACI4iB,EAAG37B,EAAE27B,EACL9vB,EAAG7L,EAAE6L,EACLojC,cAAehxC,EAAKgxC,cACpB49C,cAAe7sF,EAAEoY,MAAQpY,EAAEoY,MAAM23B,aAAe,KAChD65C,WAAY5pF,EAAE4pF,WACdluD,mBAAoB17B,EAAE07B,uBAKlC+vD,oBAAqB,SAASzrF,GAC1B,IAAI3C,EAASq+B,EAAmB17B,GAC5BkrF,EAAOxtF,KAAKwtF,KAEhB,GAAIA,GAAQr+D,EAASq+D,EAAK,GAAI7tF,GAAS,CACnC6tF,EAAKjqE,OACL5jB,EAASq+B,EAAmB17B,GAE5B,IAAK3C,EACDA,EAASq+B,EAAmB17B,GAEhCkrF,EAAK/a,OAGT,OAAO9yE,GAGXgvF,gBAAiB,SAAS9+E,EAASsW,GAC/B,IAAI5c,EACA+gD,EAAQtqD,KAAKP,QAAQ6qD,MACrBg+B,EAAUpB,EAAY58B,GACtBi+B,EAAQpB,EAAU78B,GAEtB,GAAIg+B,GAAWA,EAAQxoF,QAAUyoF,GAASA,EAAMzoF,OAAQ,CACpDyJ,EAAS8+E,EAAYx4E,EAASy4E,EAASC,GAEvC,GAAIh/E,EACA4c,EAAS5c,EAAO5J,OAAQ4J,EAAOq/E,oBAE/BziE,MAKZ8F,QAAS,WACL,IAAI1rB,EAAOP,KAEX8mB,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,GAEvBA,EAAKwsF,YAELxsF,EAAK2xC,WAAWjmB,UAEhBjsB,KAAKiuF,kBAAoB,KACzBjuF,KAAKguF,eAAiB,KACtB3hD,cAAcrsC,KAAKyuF,iBAEnBluF,EAAKgxC,cAAgB,MAGzBw7C,UAAW,WACP,IAAIxsF,EAAOP,KAEX,GAAIO,EAAKitF,KACLjtF,EAAKitF,KAAKz8D,gBAGPk2D,EAAW1mF,EAAKd,QAAQ6qD,OAE/B/pD,EAAK8B,QAAQ,WACb9B,EAAK8B,QAAQqlF,GACbxqF,EAAEsS,GAAU6jB,IAAIg0D,EAAO9mF,EAAKysF,mBAgBpC,SAASsB,EAAmBz+E,GACxB,IAAIk7B,EAAOikD,IAAiB,GACxB/6E,EACA8L,EACA9K,EAEJ,GAAIpF,EAAQ,KAAOk7B,EAAM,CACrBhrB,EAAMgrB,EAAKpa,UACX1b,EAAO81B,EAAKjyB,WAEZ,MAAO,CACHiH,IAAKA,EACL9K,KAAMA,EACNE,OAAQ4K,EAAMinE,EAAQnxE,SACtBX,MAAOD,EAAO+xE,EAAQrxE,aAEvB,CACH1B,EAASpE,EAAQoE,SACjBA,EAAOkB,OAASlB,EAAO8L,IAAMlQ,EAAQgG,SACrC5B,EAAOiB,MAASjB,EAAOgB,KAAOpF,EAAQ8F,QACtC,OAAO1B,GAIf,SAAS+6E,IACL,OAAO9xF,EAAEI,EAAMW,QAAQ+a,QAAQ+F,MAAQzhB,EAAMW,QAAQ+a,QAAQM,OAAS9J,EAAS2K,KAAO3K,EAASE,iBAGnG,SAASw+E,EAAqBr+E,GAC1B,IAAIk7B,EAAOikD,IAEX,IAAKn/E,GAAWA,IAAYL,EAAS2K,MAAQtK,IAAYL,EAASE,gBAC9D,OAAOq7B,EAGX,IAAIx1B,EAASrY,EAAE2S,GAAS,GAExB,MAAO0F,IAAWjY,EAAMqb,aAAapD,IAAWA,IAAW/F,EAAS2K,KAChE5E,EAASA,EAAOiM,WAGpB,GAAIjM,IAAW/F,EAAS2K,KACpB,OAAO4wB,EAGX,OAAO7tC,EAAEqY,GAGb,SAAS84E,EAAmBe,EAAQC,EAAQC,GACxC,IAAIz9C,EAAW,CAAE5T,EAAG,EAAG9vB,EAAG,GAE1B,IAAIohF,EAAmB,GAEvB,GAAIH,EAASE,EAAKr6E,KAAOs6E,EACrB19C,EAAS5T,IAAMsxD,GAAoBH,EAASE,EAAKr6E,YAC9C,GAAIq6E,EAAKp6E,MAAQk6E,EAASG,EAC7B19C,EAAS5T,EAAIsxD,GAAoBD,EAAKp6E,MAAQk6E,GAGlD,GAAIC,EAASC,EAAKvvE,IAAMwvE,EACpB19C,EAAS1jC,IAAMohF,GAAoBF,EAASC,EAAKvvE,WAC9C,GAAIuvE,EAAKn6E,OAASk6E,EAASE,EAC9B19C,EAAS1jC,EAAIohF,GAAoBD,EAAKn6E,OAASk6E,GAGnD,OAAOx9C,EAYf,OAzFIv0C,EAAM2pB,GAAG+J,OAAOg7D,GAChB1uF,EAAM2pB,GAAG+J,OAAOu7D,GAChBjvF,EAAM2pB,GAAG+J,OAAO07D,GAChBpvF,EAAMurF,WAAaA,EACnBvrF,EAAM0qF,oBAAsBA,EAE5BxqF,EAAOF,EAAM2pB,GAAI,CACb2jE,KAAMA,EACNV,eAAgBA,EAChBqB,QAASA,IAwEbjuF,EAAM2pB,GAAGylE,UAAU8C,MAAQ,CACvBnB,mBAAoBA,EACpBC,mBAAoBA,EACpBJ,qBAAsBA,GAKvB9wF,OAAOE,QAvmCd,CAymCoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,wBAAwB,CAAE,WAAY,qBAC9C,WAEH,IAAIC,EAAW,CACXC,GAAI,kBACJC,KAAM,WACNC,SAAU,SACVC,YAAa,qHACbotC,QAAS,CAAE,KAAM,gBAGX7sC,EAmrBPE,OAAOE,MAAMH,OAnrBHE,OAAb,EACQC,EAAQF,OAAOE,MACf4pB,EACAjE,EAAK3lB,EAAM0lB,QACXiE,EAFS3pB,EAAM4pB,OAEHD,GACZzpB,EAASN,EAAEM,OACXspB,EAASG,EAAGH,OACZ5mB,EAAQ5C,EAAM4C,MACdqrF,EAAUjuF,EAAM2pB,GAAGskE,QACnBX,EAAOttF,EAAM2pB,GAAG2jE,KAChBV,EAAiB5sF,EAAM2pB,GAAGijE,eAC1B5R,EAAar1D,EAAGq1D,WAChBrB,EAAYh0D,EAAGg0D,UACf3sE,EAAMxM,KAAKwM,IACXmlF,EAAoB,IACpBC,EAAoB,GACpBC,EAAW,IACXC,EAAsB,GACtBC,EAAe,GACfC,EAAyB,GACzBC,EAA8B,EAC9BC,EAAe,sBACfC,EAAe,sBACfC,EAAO,OACPjmD,EAAS,SACTkmD,EAAS,SACTC,EAAS,SACTC,EAAiB,EAEjBC,EAAerZ,EAAUz5E,OAAO,CAChCiD,KAAM,SAAShB,GACX,IAAIc,EAAOP,KACXi3E,EAAUt2E,GAAGF,KAAK+B,KAAKjC,GACvB/C,EAAO+C,EAAMd,GAEbc,EAAK2xC,WAAW3wC,KAAK,aAAchB,EAAK4L,MAAM5K,KAAKhB,IACnDA,EAAKgwF,WAAWhvF,KAAK,QAAShB,EAAKs0B,OAAOtzB,KAAKhB,KAGnDyjB,QAAS,WACP,OAAOhkB,KAAK04E,QAAQtM,MAAQpsE,KAAK+rB,WAAWi+D,UAG9C/iD,KAAM,WACF,OAAOjnC,KAAK+rB,WAAWi+D,SAAWhqF,KAAK04E,QAAQtM,MAAQ,KAG3D+L,KAAM,WACF,IAAIO,EAAU14E,KAAK04E,QACnBA,EAAQ2S,UAAU,KAClBrrF,KAAK+rB,WAAW+9D,QAAQpR,EAAQtM,QAGpCgM,MAAO,WACH,IAAIM,EAAU14E,KAAK04E,QACnBA,EAAQiT,QAAQ3rF,KAAK+rB,WAAWi+D,UAChChqF,KAAK+rB,WAAW+9D,QAAQpR,EAAQtM,UAIpCokB,EAAcvZ,EAAUz5E,OAAO,CAC/BiD,KAAM,SAAShB,GACX,IAAIc,EAAOP,KAEXi3E,EAAUt2E,GAAGF,KAAK+B,KAAKjC,GAEvB/C,EAAO+C,EAAMd,EAAS,CAClBqvE,WAAY,IAAIwJ,EAAW,CACvB75C,KAAMh/B,EAAQg/B,KACdi6C,QAASj5E,EAAQi5E,QACjBN,MAAO,WAAa73E,EAAKs1C,YAIjCt1C,EAAKgwF,WAAWhvF,KAAK,QAAS,WAAahB,EAAKs0B,WAChDt0B,EAAK2xC,WAAW3wC,KAAK,MAAOhB,EAAK4L,MAAM5K,KAAKhB,IAC5CA,EAAK2xC,WAAW3wC,KAAK,aAAchB,EAAK4L,MAAM5K,KAAKhB,IACnDA,EAAK2xC,WAAW3wC,KAAK,MAAOhB,EAAK63E,MAAM72E,KAAKhB,KAGhD83E,SAAU,WACNr4E,KAAK8uE,WAAWj6C,UAGpB47D,OAAQ,SAASpyE,GACb,IAAI9d,EAAOP,KACXO,EAAKs0B,SACLt0B,EAAKmwF,QAAQryE,IAGjB+5D,MAAO,WACH,IAAI73E,EAAOP,KACX,GAAIO,EAAKowF,SAAShH,cACdppF,EAAKqwF,iBAELrwF,EAAKs1C,QAIb5O,KAAM,WACF,OAAO38B,EAAItK,KAAK6xC,UAAY,GAGhC1lC,MAAO,SAAS7J,GACZ,IAAI/B,EAAOP,KACP6xC,EAEJ,IAAKtxC,EAAKiqF,UAAUxmE,QAAW,OAE/B,GAAIzjB,EAAKowF,SAAShH,cACd,GAAGppF,EAAKuuE,WAAWviC,SAAS,CACxBhsC,EAAKuuE,WAAWj6C,SAChBt0B,EAAKsxC,SAAW/zC,KAAKiR,IAAIzM,EAAEoY,MAAMna,EAAKk+B,MAAMoT,SAAWtxC,EAAKswF,mBAAoBhB,GAEhF5Y,EAAUt2E,GAAGwL,MAAM3J,KAAKjC,QAExBA,EAAKqwF,gBAEN,CACH/+C,EAAWvvC,EAAEoY,MAAMle,KAAO6zF,EAAiB,EAAI/tF,EAAEoY,MAAMna,EAAKk+B,MAAMoT,SAClEtxC,EAAKsxC,SAAW/zC,KAAKoP,IAAIpP,KAAKiR,IAAI8iC,EAAWtxC,EAAKswF,mBAAoBhB,IAAgBA,GAEtFtvF,EAAKgwF,WAAWtH,cAChBhS,EAAUt2E,GAAGwL,MAAM3J,KAAKjC,KAIhC43E,KAAM,WACF,IAAI53E,EAAOP,KACPwqF,EAAYjqF,EAAKiqF,UACjBsG,EAAWvwF,EAAKowF,SAAShH,cAAgBmG,EAAyBvvF,EAAKuwF,SACvExyD,EAAS/9B,EAAKsxC,UAAYi/C,EAC1BzyE,EAAW9d,EAAKm4E,QAAQn4E,EAAKk+B,MAAQH,EAErC,IAAK/9B,EAAKsqF,SAAWL,EAAUb,YAAYtrE,GAAW,CAClDA,EAAWvgB,KAAKoP,IAAIpP,KAAKiR,IAAIsP,EAAUmsE,EAAUt9E,KAAMs9E,EAAUz7E,KACjExO,EAAKsxC,SAAW,EAGxBtxC,EAAKm4E,QAAQG,SAASt4E,EAAKk+B,KAAMpgB,IAGrCw3B,KAAM,WACF71C,KAAKuwF,WAAWrH,gBAChBlpF,KAAK4D,OAGTgtF,UAAW,WACP,IAAIrwF,EAAOP,KACPwqF,EAAYjqF,EAAKiqF,UACjBuG,EAAWxwF,EAAKm4E,QAAQn4E,EAAKk+B,MAAQ+rD,EAAUt9E,IAAMs9E,EAAUt9E,IAAMs9E,EAAUz7E,IACnFxO,EAAKmwF,QAAQK,IAGjBL,QAAS,SAASryE,GACdre,KAAK8uE,WAAW2J,OAAO,CAAEp6D,SAAUA,EAAU+E,SAAUqsE,EAAmBrf,KAAMkI,EAAWQ,iBAI/FkY,EAAmB/Z,EAAUz5E,OAAO,CACpCiD,KAAM,SAAShB,GACX,IAAIc,EAAOP,KAEX1C,EAAM0lB,QAAQi0D,UAAUt2E,GAAGF,KAAK+B,KAAKxC,MAErCxC,EAAO+C,EAAMd,EAAS,CAClB01E,OAAQ,GACRv+D,YAAa,GACb3C,OAAQ,MAIhBkkE,KAAM,WACFn4E,KAAKixF,qBACLjxF,KAAKy4E,OAAOz4E,KAAKm1E,SAGrBluC,KAAM,WACF,OAAO38B,EAAItK,KAAKiU,OAAO9F,GAAK4hF,GAA+BzlF,EAAItK,KAAKiU,OAAOgqB,GAAK8xD,GAGpF3X,MAAO,WACHp4E,KAAKy4E,OAAOz4E,KAAK4W,aACjB,GAAI5W,KAAKmmB,SACLnmB,KAAKmmB,SAAS3jB,QAItB0uF,eAAgB,SAASx4D,EAAMC,GAC3B34B,KAAKiU,OAAS,GACdjU,KAAKm1E,OAASz8C,EACd14B,KAAK4W,YAAc+hB,GAGvBw4D,YAAa,SAAShrE,GAClB,GAAIA,GAAY7oB,EAAM2D,WAAWklB,GAC7BnmB,KAAKmmB,SAAWA,OAEhBA,EAAW9oB,GAInB4zF,mBAAoB,WAChBjxF,KAAKiU,OAAS,CACVgqB,GAAIj+B,KAAK4W,YAAYqnB,EAAIj+B,KAAKm1E,OAAOl3C,GAAK,EAC1C9vB,GAAInO,KAAK4W,YAAYzI,EAAInO,KAAKm1E,OAAOhnE,GAAK,GAG9CnO,KAAKm1E,OAAS,CACVhnE,EAAGnO,KAAKm1E,OAAOhnE,EAAInO,KAAKiU,OAAO9F,EAC/B8vB,EAAGj+B,KAAKm1E,OAAOl3C,EAAIj+B,KAAKiU,OAAOgqB,MAKvCmzD,EAAYlxF,EAAM1C,OAAO,CACzBiD,KAAM,SAAShB,GACX,IAAIc,EAAOP,KACPivE,EAAaxvE,EAAQg/B,OAAS,IAC9B5uB,EAAU3S,EAAE,wCAA0CuC,EAAQ4xF,WAAa,mCAAqCpiB,EAAa,aAAe,YAAc,kBAE9J,GAAGA,EACCp/D,EAAQsG,KAAK,mBAAoB,cAGrC3Y,EAAO+C,EAAMd,EAAS,CAClBoQ,QAASA,EACTyhF,YAAa,EACb5Y,QAAS,IAAI6S,EAAQ17E,GACrB0hF,cAAe9xF,EAAQi5E,QACvB8Y,cAAe/xF,EAAQ+xF,cACvBx/E,KAAMi9D,EAAa,QAAU,WAGjC1uE,EAAKgxF,cAAchwF,KAAK0oC,EAAQ1pC,EAAKuZ,QAAQvY,KAAKhB,IAClDA,EAAK+vB,UAAUywC,OAAOlxD,GACtB,GAAIpQ,EAAQ+xF,cACRjxF,EAAKkyE,QAIb34D,QAAS,WACL,IAAIvZ,EAAOP,KACPy+B,EAAOl+B,EAAKk+B,KACZ+rD,EAAYjqF,EAAKiqF,UACjBiH,EAAWjH,EAAUx4E,KACrBu/E,EAAgBhxF,EAAKgxF,cACrBG,EAAYD,EAAWjH,EAAU1tC,MACjCnmC,EAAW7Y,KAAK6O,OAAO4kF,EAAc9yD,GAAQizD,GAC7C1/E,EAAOlU,KAAK6O,MAAM8kF,EAAWC,GAE7B,GAAIA,GAAa,EACb1xF,KAAK6P,QAAQgF,IAAI,UAAW,aAE5B7U,KAAK6P,QAAQgF,IAAI,UAAW,IAGhC,GAAI8B,EAAW3E,EAAOy/E,EAClBz/E,EAAOy/E,EAAW96E,OACf,GAAIA,EAAW,EAAG,CACrB3E,GAAQ2E,EACRA,EAAW,EAGnB,GAAIpW,EAAK+wF,aAAet/E,EAAM,CAC1BzR,EAAKsP,QAAQgF,IAAItU,EAAKyR,KAAMA,EAAO,MACnCzR,EAAK+wF,YAAct/E,EAGvBzR,EAAKoxF,WAAWh7E,EAAU6zE,EAAUx4E,KAAOzR,EAAK+wF,aAEhD/wF,EAAKm4E,QAAQG,SAASp6C,EAAM9nB,IAGhC87D,KAAM,WACFzyE,KAAK6P,QAAQgF,IAAI,CAAC+b,QAAS8+D,EAAmBkC,WAAY,aAG9DruE,KAAM,WACF,IAAKvjB,KAAKwxF,cACNxxF,KAAK6P,QAAQgF,IAAI,CAAC+b,QAAS,KAInC+gE,WAAY,SAAS9oF,EAASi0C,GAC1B,IAAIjtC,EAAU7P,KAAK6P,QAEnB,GAAGhH,EAAUi0C,EACTj0C,EAAUi0C,EAGdjtC,EAAQsG,KAAK,gBAAiB2mC,GAC9BjtC,EAAQsG,KAAK,gBAAiBtN,MAIlCgqB,EAAW/L,EAAOtpB,OAAO,CACzBiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCoQ,EAAUtP,EAAKsP,QAEftP,EAAKsxF,QAAUtxF,EAAKd,QAAQmzB,WAAat1B,EAAMW,QAAQygB,mBACvD,GAAIne,EAAKsxF,QAAS,CACdhiF,EAAQqG,SAAS,sBACZ47E,QAAQ,mCAEbt0F,EAAO+C,EAAM,CACTwxF,cAAeliF,EACfmiF,eAAgBniF,EAAQwxC,WAAWl/C,UAGvC,OAGJ0N,EACKgF,IAAI,WAAY,UAChBqB,SAAS,qBACTgoE,UAAU,sCACV4T,QAAQ,mCAEb,IAAI9Y,EAAQnpE,EAAQwxC,WAAWvvB,GAAG,GAE9By+D,EAAa,IAAIjzF,EAAMurF,WAAWh5E,GAElC6oE,EAAU,IAAI6S,EAAQvS,GAEtBjtD,EAAa,IAAIm+D,EAAe,CAC5Br6E,QAASmpE,EACT1oD,UAAWzgB,EACXu5E,cAAe7oF,EAAKd,QAAQqtE,OAGhCmlB,EAAiBjyF,KAAKP,QAAQwyF,eAE9B//C,EAAa,IAAI50C,EAAM+1C,WAAWxjC,EAAS,CACvC+kC,YAAa,QACbP,QAAS,KACTF,eAAgB,KAChBU,iBAAkB,KAClBT,iBAAkB,KAClBF,WAAY3zC,EAAKd,QAAQqtE,KACzBt6B,iBAAkBjyC,EAAKd,QAAQ+yC,iBAC/BrmC,MAAO,SAAS7J,GACZypB,EAAWjS,UAEX,IAAIo4E,EAAY5nF,EAAIhI,EAAE27B,EAAE4T,UACpBsgD,EAAY7nF,EAAIhI,EAAE6L,EAAE0jC,UACpBugD,EAAmBF,EAAY,GAAKC,EACpCE,EAA+Bn1F,EAAEiyB,SAAS5uB,EAAKyxF,eAAe,GAAI1vF,EAAE+Y,MAAM1b,QAC1E2yF,EAAgBH,EAAY,GAAKD,EAGrC,IAAKG,IAAiCJ,EAAe3vF,IAAM/B,EAAKyjB,UAAY+H,EAAWkS,EAAEja,SAAWouE,GAAmBrmE,EAAW5d,EAAE6V,SAAWsuE,GAC3IpgD,EAAWmD,eAEXnD,EAAWrd,YAKvB09D,EAAO,IAAI3H,EAAK,CACZlS,QAASA,EACT3sD,WAAYA,EACZmmB,WAAYA,EACZ24C,QAAStqF,EAAKd,QAAQorF,UAG1B2H,EAAe,IAAIlC,EAAa,CAC5B5X,QAASA,EACT3sD,WAAYA,EACZmmB,WAAYA,EACZq+C,WAAYA,IAGhBkC,EAAmB,IAAIzB,EAAiB,CACpCvY,OAAQ,SAASyS,GACb3qF,EAAKmyF,SAASxH,EAAYjtD,EAAGitD,EAAY/8E,MAIrDuqE,EAAQn3E,KAAK0oC,EAAQ,WACjB1pC,EAAKowB,WAAc+nD,EAAQvqE,EAC3B5N,EAAKuY,YAAe4/D,EAAQz6C,EAE5B19B,EAAK8B,QAAQ+tF,EAAQ,CACjBz/D,UAAWpwB,EAAKowB,UAChB7X,WAAYvY,EAAKuY,eAIzB,GAAIvY,EAAKd,QAAQkzF,oBACb9iF,EAAQuW,GAAG,4BAA8BpmB,KAAK4yF,aAAarxF,KAAKvB,OAGpExC,EAAO+C,EAAM,CACTm4E,QAASA,EACT3sD,WAAYA,EACZymE,aAAcA,EACdC,iBAAkBA,EAClBvgD,WAAYA,EACZqgD,KAAMA,EACNhC,WAAYA,EACZsC,OAAQ,MACR7uE,QAAS,KACT+tE,cAAe/Y,EACfroD,UAAW,EACX7X,WAAY,EACZk5E,eAAgBniF,EAAQwxC,WAAWl/C,UAGvC5B,EAAKuyF,UAAU,KACfvyF,EAAKuyF,UAAU,KAGfvyF,EAAKwyF,UAAY,WACbxyF,EAAKyyF,OAAS,MACdzyF,EAAK2xC,WAAWtuC,IAAI,EAAGrD,EAAK0yF,UAGhClnE,EAAWjS,UAEX,GAAIvZ,EAAKd,QAAQyzF,cACb3yF,EAAK4yF,sBAIbP,aAAc,SAAStwF,GACnB,GAAIA,EAAE8wF,QACF,OAGJ,IAAKpzF,KAAKgzF,OAAQ,CACdhzF,KAAKgzF,OAAS,KACdhzF,KAAKizF,QAAU,EACfjzF,KAAKkyC,WAAWS,MAAM,EAAG3yC,KAAKizF,SAGlCz+D,aAAax0B,KAAKqzF,eAClBrzF,KAAKqzF,cAAgBlgE,WAAWnzB,KAAK+yF,UAAW,IAEhD,IAAIz0D,EAAQhhC,EAAM6gC,YAAY77B,GAE9B,GAAIg8B,EAAO,CACPt+B,KAAKizF,SAAW30D,EAChBt+B,KAAKkyC,WAAWtd,KAAK,EAAG50B,KAAKizF,SAGjC3wF,EAAEpB,kBAGNqoF,YAAa,WACTvpF,KAAK+rB,WAAW5d,EAAEo7E,eAGtBG,YAAa,SAAS36E,EAAK7B,GACvBlN,KAAK+rB,WAAW5d,EAAEu7E,YAAY36E,EAAK7B,IAGvC2I,OAAQ,WACJ,OAAO7V,KAAK+rB,WAAW5d,EAAE6D,MAG7B6N,aAAc,WACV,OAAO7f,KAAK+xF,cAAc,GAAGlyE,cAGjCtG,YAAa,WACT,OAAOvZ,KAAK+xF,cAAc,GAAGx4E,aAGjC9Z,QAAS,CACLhD,KAAM,WACNqwE,KAAM,MACNwmB,WAAY,IACZC,mBAAoB,MACpB1I,QAAS,KACTj4D,UAAW,MACX+/D,oBAAqB,KACrBV,eAAgB,WAAa,OAAO,OACpCiB,cAAe,MACf5rE,SAAU,CACNksE,aAAc,kBACdC,gBAAiB,qBACjBC,gBAAiB,eAIzB1xF,OAAQ,CACJkuF,EACAE,EACAD,GAGJrkE,QAAS,WACL,IAAK9rB,KAAK6xF,QACN7xF,KAAK2zF,kBAIbroE,WAAY,SAAS7rB,GACjB,IAAIc,EAAOP,KACX8mB,EAAOnmB,GAAG2qB,WAAW9oB,KAAKjC,EAAMd,GAChC,GAAIA,EAAQyzF,cACR3yF,EAAK4yF,sBAIb9uB,MAAO,WACH,GAAIrkE,KAAK6xF,QACL7xF,KAAK+xF,cAAcphE,UAAU,OAC1B,CACH3wB,KAAK04E,QAAQD,OAAO,CAACx6C,EAAG,EAAG9vB,EAAG,IAC9BnO,KAAK4zF,OAAO,KAIpBD,eAAgB,WACZ3zF,KAAK+rB,WAAWjS,UAChB,GAAI9Z,KAAKuyF,KAAKt0D,EAAE0rD,cACZ3pF,KAAK04E,QAAQG,SAAS,IAAK74E,KAAK+rB,WAAWkS,EAAElvB,KAGjD,GAAI/O,KAAKuyF,KAAKpkF,EAAEw7E,cACZ3pF,KAAK04E,QAAQG,SAAS,IAAK74E,KAAK+rB,WAAW5d,EAAEY,MAIrD8kF,QAAS,WACL,IAAI9nE,EAAa/rB,KAAK+rB,WACtBA,EAAWjS,UACX9Z,KAAK4zF,OAAO7nE,EAAWmtD,UACvBl5E,KAAK04E,QAAQD,OAAO1sD,EAAWu+D,sBAGnClmE,OAAQ,WACJpkB,KAAKgkB,QAAU,MAGnBE,QAAS,WACLlkB,KAAKgkB,QAAU,OAGnB0uE,SAAU,SAASz0D,EAAG9vB,GAClB,GAAInO,KAAK6xF,QAAS,CACdv0F,EAAMwb,WAAW9Y,KAAK+xF,cAAeznF,EAAI2zB,IACzCj+B,KAAK+xF,cAAcphE,UAAUrmB,EAAI6D,QAC9B,CACHnO,KAAK+rB,WAAWjS,UAChB9Z,KAAK04E,QAAQD,OAAO,CAACx6C,EAAGA,EAAG9vB,EAAGA,MAItC2lF,iBAAkB,SAAS71D,EAAG9vB,EAAGgY,GAC7B,IAAIuS,EACAC,EAEJ,GAAG34B,KAAK6xF,QACJ7xF,KAAK0yF,SAASz0D,EAAG9vB,OACd,CACHuqB,EAAO,CAAEuF,EAAGj+B,KAAK04E,QAAQz6C,EAAG9vB,EAAGnO,KAAK04E,QAAQvqE,GAC5CwqB,EAAK,CAAEsF,EAAGA,EAAG9vB,EAAGA,GAEhBnO,KAAKyyF,iBAAiBvB,eAAex4D,EAAMC,GAC3C34B,KAAKyyF,iBAAiBtB,YAAYhrE,GAClCnmB,KAAKyyF,iBAAiBtmF,UAI9B4nF,YAAa,WACT,IAAIxzF,EAAOP,KACXO,EAAKyzF,YAAYv+E,YAAYw6E,GAC7B1vF,EAAK0zF,cAAc/vF,KAAK3D,EAAKizF,aAAa,KAC1CjzF,EAAK2zF,SAAS9b,QACd73E,EAAK4zF,SAAS/b,QACd73E,EAAK2xC,WAAWrd,UAGpB5I,QAAS,WACLnF,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,MACvB,GAAIA,KAAKkyC,WACLlyC,KAAKkyC,WAAWjmB,WAIxB2nE,OAAQ,SAASxnB,GACbpsE,KAAK+rB,WAAW+9D,QAAQ1d,GACxBpsE,KAAK04E,QAAQiT,QAAQvf,IAGzB+mB,mBAAoB,WAChB,IAAI5yF,EAAOP,KAEXO,EAAKwrB,WAAW5d,EAAEy7E,eAClBrpF,EAAKizF,aAAel2F,EAAM0G,SAASzD,EAAKd,QAAQ6nB,SAASksE,cACzDjzF,EAAKkzF,gBAAkBn2F,EAAM0G,SAASzD,EAAKd,QAAQ6nB,SAASmsE,iBAC5DlzF,EAAKmzF,gBAAkBp2F,EAAM0G,SAASzD,EAAKd,QAAQ6nB,SAASosE,iBAE5DnzF,EAAKwxF,cAAcD,QAAQ,oKAAsKvxF,EAAKizF,aAAa,IAAM,kBACzNjzF,EAAKyzF,YAAczzF,EAAKwxF,cAAc1wC,WAAWl/C,QACjD5B,EAAK0zF,cAAgB1zF,EAAKyzF,YAAY3yC,SAAS,gBAE/C9gD,EAAKgyF,KAAKpkF,EAAE5M,KAAK,SAAUhB,EAAK6zF,YAAY7yF,KAAKhB,IACjDA,EAAK2xC,WAAW3wC,KAAK,MAAOhB,EAAK8zF,SAAS9yF,KAAKhB,KAGnD8zF,SAAU,WACN,IAAI9zF,EAAOP,KAEX,IAAIO,EAAKsyF,OACL,OAGJtyF,EAAKsyF,OAAS,MACdtyF,EAAKyzF,YAAYv+E,YAAYu6E,GAAc95E,SAAS+5E,GACpD1vF,EAAK0zF,cAAc/vF,KAAK3D,EAAKmzF,gBAAgB,KAC7CnzF,EAAK2zF,SAASzD,OAAOlwF,EAAKd,QAAQ6zF,WAAa,GAC/C/yF,EAAK8B,QAAQ,SAGjB+xF,YAAa,WACT,IAAI7zF,EAAOP,KAEX,GAAIO,EAAKm4E,QAAQvqE,EAAI2hF,EAAyBvvF,EAAKd,QAAQ6zF,YACvD,IAAK/yF,EAAKsyF,OAAQ,CACdtyF,EAAKsyF,OAAS,KACdtyF,EAAKyzF,YAAYv+E,YAAYw6E,GAAc/5E,SAAS85E,GACpDzvF,EAAK0zF,cAAc/vF,KAAK3D,EAAKkzF,gBAAgB,WAE9C,GAAIlzF,EAAKsyF,OAAQ,CACpBtyF,EAAKsyF,OAAS,MACdtyF,EAAKyzF,YAAYv+E,YAAYu6E,GAC7BzvF,EAAK0zF,cAAc/vF,KAAK3D,EAAKizF,aAAa,OAIlDV,UAAW,SAASr0D,GAChB,IAAIl+B,EAAOP,KACPs0F,EAAY/zF,EAAKsP,QAAQsG,KAAK,MAC9BuiE,EAAUn4E,EAAKm4E,QACf8R,EAAYjqF,EAAKwrB,WAAW0S,GAC5B8xD,EAAahwF,EAAKgwF,WAClBI,EAAWpwF,EAAKgyF,KAAK9zD,GACrB81D,EAEJ,IAAID,EAAW,CACXA,EAAYh3F,EAAMksB,OAClBjpB,EAAKsP,QAAQsG,KAAK,KAAMm+E,GAG5BC,EAAY,IAAInD,EAAU,CACtB3yD,KAAMA,EACNi6C,QAASA,EACT8R,UAAWA,EACXl6D,UAAW/vB,EAAKsP,QAChB2hF,cAAejxF,EAAKd,QAAQ8zF,mBAC5BlC,WAAYiD,IAGhB9J,EAAUjpF,KAAK0oC,EAAQ,WACnBsqD,EAAUz6E,YAGd62E,EAASpvF,KAAK0oC,EAAQ,WAClBsqD,EAAU9hB,SAGdlyE,EAAKk+B,EAAO,WAAa,IAAI+xD,EAAY,CACrC/xD,KAAMA,EACNkyD,SAAUA,EACVjY,QAASA,EACT6X,WAAYA,EACZr+C,WAAY3xC,EAAK2xC,WACjBs4C,UAAWA,EACXK,QAAStqF,EAAKd,QAAQorF,QACtBiG,SAAUvwF,EAAKd,QAAQqxF,UAAYnB,EACnCkB,mBAAoBtwF,EAAKd,QAAQoxF,oBAAsBjB,EACvDhsF,IAAK,WACD2wF,EAAUhxE,OACVhjB,EAAK8B,QAAQ,YAAa,CACtBo8B,KAAMA,EACN9N,UAAWpwB,EAAKowB,UAChB7X,WAAYvY,EAAKuY,mBAUzC,OAHImO,EAAG+J,OAAO6B,GAGPz1B,OAAOE,QAjsBd,CAmsBoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,kBAAkB,CAAE,aAAc,qBAC1C,WAEH,IAAIC,EAAW,CACXC,GAAI,YACJC,KAAM,YACNC,SAAU,YACVqtC,QAAS,CAAE,OAAQ,eACnByqD,SAAU,MAGJt3F,EAkLPE,OAAOE,MAAMH,OAlLHE,OAAb,EACQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM2pB,GACXH,EAASG,EAAGH,OACZ7lB,EAAa3D,EAAM2D,WACnBzD,EAASN,EAAEM,OACXi3F,EAAa,aACbC,EAAW,WACX/kD,EAAQ,QACRwgD,EAAS,SACTwE,EAAY,YAEZC,EAAY9tE,EAAOtpB,OAAO,CAC1BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCc,EAAKs0F,YAAct0F,EAAKd,QAAQo1F,YAAYvoF,eAAiBooF,EAAWD,EAAaC,EACrFn0F,EAAKu0F,eAAiBv0F,EAAKs0F,aAAeJ,EAAa,IAAM,IAC7Dl0F,EAAKw0F,UAAYx0F,EAAKs0F,aAAeJ,EAAa,OAAS,MAC3Dl0F,EAAKy0F,WAAaz0F,EAAKs0F,aAAeJ,EAAa,aAAe,cAElEl0F,EAAK0rF,UAAY,IAAIhlE,EAAGylE,UAAUjtF,EAAQw1F,kBAAoBplF,EAAS,CACnEuhC,SAAU,EACVnhB,OAAQxwB,EAAQ41B,OAChB6/D,KAAM30F,EAAKurB,QAAQvqB,KAAKhB,GACxB40F,WAAY50F,EAAKssF,QAAQtrF,KAAKhB,GAC9B60F,UAAW70F,EAAK+yC,OAAO/xC,KAAKhB,GAC5B80F,QAAS90F,EAAK+0F,MAAM/zF,KAAKhB,KAG7BA,EAAK2xC,WAAa3xC,EAAK0rF,UAAU/5C,YAGrClwC,OAAQ,CACJmuF,EACAwE,EACAhlD,GAGJlwC,QAAS,CACLhD,KAAM,YACNo4F,YAAaJ,GAGjB/tE,OAAQ,aAIR6uE,KAAM,SAASjzF,GACX,IAAI/B,EAAOP,KACPw1F,EAAWj1F,EAAKitF,KAAOjtF,EAAKitF,KAAKjtF,EAAKy0F,cAAgB,EACtDhjF,EAAOzR,EAAKd,QAAQyN,IAExB,OAAOjM,EAAW+Q,GAAQA,EAAK1P,GAAK0P,IAAS3U,EAAakD,EAAKk1F,wBAA0BzjF,EAAQwjF,EAAWxjF,GAGhH0jF,KAAM,SAASpzF,GACX,IAAI/B,EAAOP,KACPgS,EAAOzR,EAAKd,QAAQsP,IAExB,OAAO9N,EAAW+Q,GAAQA,EAAK1P,GAAK0P,IAAS3U,EAAYkD,EAAKk1F,wBAA0BzjF,EAAOA,GAGnGshC,OAAQ,SAAShxC,GACb,IAAI/B,EAAOP,KACPwtF,EAAOjtF,EAAKd,QAAQ+tF,KACpBp0E,EAAKlc,EAAEoF,EAAEivC,eAEbhxC,EAAKk1F,wBAA0Br8E,EAAGzC,WAAWpW,EAAKw0F,WAClDx0F,EAAKo1F,sBAAwBrzF,EAAE/B,EAAKu0F,gBAAgBljD,cAEpD,GAAI47C,EAAM,CACNjtF,EAAKitF,KAAOvsF,EAAWusF,GAAQtwF,EAAEswF,EAAKp0E,IAAOo0E,EAE7CjtF,EAAKitF,KAAK34E,IAAI,CACV8B,SAAU,aAEb9B,IAAItU,EAAKw0F,UAAWx0F,EAAKk1F,yBACzBvwD,SAAS3kC,EAAKsP,SAGnBtP,EAAK8B,QAAQstC,EAAOrtC,GAEpB/B,EAAKq1F,aAAer1F,EAAKg1F,KAAKjzF,GAC9B/B,EAAKs1F,aAAet1F,EAAKm1F,KAAKpzF,GAE9BpF,EAAEsS,SAAS2K,MAAMtF,IAAI,SAAUuE,EAAGvE,IAAI,YAG1CiX,QAAS,SAASxpB,GACd,IAAI/B,EAAOP,KACP81F,EAAcv1F,EAAKq1F,aACnBG,EAAcx1F,EAAKs1F,aACnBG,EAAkBz1F,EAAKk1F,yBAA2BnzF,EAAE/B,EAAKu0F,gBAAgBz2E,SAAW9d,EAAKo1F,uBACzFh/E,EAEJA,EAAWo/E,IAAgB14F,EAAYS,KAAKoP,IAAI6oF,EAAaC,GAAmBA,EAChFz1F,EAAKoW,SAAWA,EAAYm/E,IAAgBz4F,EAAYS,KAAKiR,IAAI+mF,EAAan/E,GAAYA,EAE1F,GAAGpW,EAAKitF,KACJjtF,EAAKitF,KAAK3pE,YAAYtjB,EAAKd,QAAQw2F,cAAgB,GAAIt/E,GAAYm/E,GAAen/E,GAAYo/E,GACpFlhF,IAAItU,EAAKw0F,UAAWp+E,GAGlCpW,EAAK21F,SAAW,KAChB31F,EAAK8B,QAAQ8tF,EAAQ3yF,EAAO8E,EAAG,CAAEqU,SAAUA,MAG/C2+E,MAAO,SAAShzF,GACZ,IAAI/B,EAAOP,KAEX,GAAGO,EAAKitF,KACJjtF,EAAKitF,KAAKz8D,SAGdxwB,EAAK21F,SAAW,MAChB31F,EAAK8B,QAAQsyF,EAAWn3F,EAAO8E,EAAG,CAAEqU,SAAUpW,EAAKoW,YACnDzZ,EAAEsS,SAAS2K,MAAMtF,IAAI,SAAU,KAGnCg4E,QAAS,SAASvqF,GACd,IAAI/B,EAAOP,KAEX,GAAIO,EAAKitF,KAAM,CACXjtF,EAAKoW,SAAWtZ,EAChBkD,EAAKitF,KAAK34E,IAAItU,EAAKw0F,UAAWx0F,EAAKk1F,yBACnCl1F,EAAK+0F,MAAMhzF,KAInB2pB,QAAS,WACL,IAAI1rB,EAAOP,KAEX8mB,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,GAEvB,GAAIA,EAAK0rF,UACL1rF,EAAK0rF,UAAUhgE,WAIvB0mB,MAAO,SAAShzC,GACZ,IAAKA,EACD,OAGJ,IAAIgX,EAAWhX,EAAOgX,WAClBpW,EAAOP,KAEXO,EAAK2xC,WAAWS,MAAMh8B,EAAS1B,KAAM0B,EAASoJ,IAAKpgB,EAAO,IAC1DY,EAAK41F,eAAiBx/E,EACtBpW,EAAKZ,OAASA,GAGlBi1B,KAAM,SAAS0J,GACX,IAAI/9B,EAAOP,KACP60F,EAAct0F,EAAKw0F,UACnBp+E,EAAWpW,EAAK41F,eAChBttF,EAAUtI,EAAKoW,SAEnB,GAAI9N,IAAYxL,EACZwL,EAAU8N,EAASk+E,GAGvBl+E,EAASk+E,GAAehsF,EAAUy1B,EAElC/9B,EAAK2xC,WAAWtd,KAAKje,EAAS1B,KAAM0B,EAASoJ,MAGjDnc,IAAK,WACD5D,KAAKkyC,WAAWtuC,MAChB5D,KAAKL,OAASK,KAAK2W,SAAWtZ,KAQ1C,OAJIC,EAAM2pB,GAAG+J,OAAO4jE,GAIbx3F,OAAOE,QAhMd,CAkMoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAGrF,SAAavtC,QACTA,OAAO,iBAAiB,CAAE,qBAC3B,WAEH,IAAIC,EAAW,CACXC,GAAI,WACJC,KAAM,WACNC,SAAU,YACVqtC,QAAS,CAAE,gBAGL7sC,EA2fPE,OAAOE,MAAMH,OA3fHE,OAAb,EACQC,EAAQF,OAAOE,MACfwpB,EAASxpB,EAAM2pB,GAAGH,OAClB/W,EAAazS,EAAMsS,YACnBK,EAAc3S,EAAM0S,aAEpB2/B,EAAQ,QACRymD,EAAc,aACdxmD,EAAO,OACP1nB,EAAM,MACN+hB,EAAS,SACT4F,EAAS,SAETwmD,EAAc,OACdC,EAAgB,SAChBC,EAAiB,UAEjBC,EACAC,GAAiB,EAErB,SAASC,EAAkBnhF,EAAQ0nB,GAC/B,IACI,OAAO//B,EAAEiyB,SAAS5Z,EAAQ0nB,IAAU1nB,GAAU0nB,EAChD,MAAO36B,GACL,OAAO,OAIf,SAASq0F,EAAY9mF,GACjB,OAAOA,EAAQnQ,QAGnB,SAASk3F,EAAmB/mF,GACxB,OAAOA,EAAQnQ,QAAQ2rB,WAAW,MAAMxW,IAAI,aAAc,UAG9D,IAAIgiF,EAAW/vE,EAAOtpB,OAAO,CACzBiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnC,IAAIc,EAAKd,QAAQ4gB,YACb9f,EAAKd,QAAQ4gB,YAAcu2E,EAG/B,IAAIr2F,EAAKd,QAAQ+tF,KACbjtF,EAAKd,QAAQ+tF,KAAOmJ,EAGxBp2F,EAAK0rF,UAAY1rF,EAAKu2F,oBAG1B90F,OAAQ,CACJ2tC,EACAymD,EACAxmD,EACA1nB,EACA+hB,EACA4F,GAGJpwC,QAAS,CACLhD,KAAM,WACN+wF,KAAM,KACNntE,YAAa,KACb4P,OAjDa,KAkDbi9D,WAAY,MACZh7D,SAAU,KACV5B,UAAW,KACXymE,YAAa,KACbj1F,QAAS,KACTmrF,aAAc,KACdxuD,KAAM,KACNumB,OAAQ,KACRmoC,WAAY,MACZ6J,OAAQ,OACRC,gBAAiB,OAGrBhrE,QAAS,WACLjsB,KAAKisF,UAAUhgE,UACfnF,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,OAG3B82F,iBAAkB,WACd,IAAIv2F,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QAEnB,OAAO,IAAInC,EAAM2pB,GAAGylE,UAAU78E,EAAS,CACnCogB,OAAQxwB,EAAQwwB,OAChBu9D,KAAMlwF,EAAM2D,WAAWxB,EAAQ+tF,MAAQ/tF,EAAQ+tF,KAAOtwF,EAAEuC,EAAQ+tF,MAChEN,WAAYztF,EAAQytF,WACpB58D,UAAW7wB,EAAQ6wB,UAAYpzB,EAAEuC,EAAQ6wB,WAAa,KACtD28D,aAAcxtF,EAAQwtF,aACtBxuD,KAAMh/B,EAAQg/B,KACdumB,OAAQvlD,EAAQulD,OAChBmoC,WAAY1tF,EAAQ0tF,WACpBiI,UAAW70F,EAAKy2C,WAAWz1C,KAAKhB,GAChC40F,WAAY50F,EAAK22F,YAAY31F,KAAKhB,GAClC20F,KAAM30F,EAAKqsF,MAAMrrF,KAAKhB,GACtB80F,QAAS90F,EAAK42F,SAAS51F,KAAKhB,MAIpCy2C,WAAY,SAAS10C,GACjB,IAAI80F,EAAiBp3F,KAAKo3F,eAAiB90F,EAAEivC,cACzCrf,EAAWlyB,KAAKP,QAAQyyB,SACxBpwB,EAAU9B,KAAKP,QAAQqC,QACvBu1F,EAAer3F,KAAKP,QAAQ4gB,YAC5BA,EAAcrgB,KAAKqgB,YAAc/iB,EAAM2D,WAAWo2F,GAAgBn6F,EAAEm6F,EAAa70F,KAAKxC,KAAMo3F,IAAmBl6F,EAAEm6F,GAErH,GAAGnlE,GAAYklE,EAAenhF,GAAGic,GAC7B5vB,EAAEpB,sBACC,GAAGY,IAAY5E,EAAEoF,EAAE6sF,eAAel5E,GAAGnU,GACxCQ,EAAEpB,sBAGF,GAAGlB,KAAKqC,QAAQstC,EAAO,CAAE1G,KAAMmuD,EAAgBE,eAAgBh1F,IAC3DA,EAAEpB,qBACC,CACHk2F,EAAeviF,IAAI,UAAW,QAC9BuiF,EAAeG,OAAOl3E,GAEtBrgB,KAAKw3F,eAMjBN,YAAa,WACTl3F,KAAK6sF,UACL7sF,KAAKqC,QAAQwtC,EAAQ,CAAE5G,KAAMjpC,KAAKo3F,iBAElCp3F,KAAKy3F,gBAGT7K,MAAO,SAAStqF,GACZ,IAAI80F,EAAiBp3F,KAAKo3F,eACtBz3F,EAASK,KAAK03F,YAAYp1F,GAC1Bq1F,EACA1K,EAAe,CAAEh4E,KAAM3S,EAAE27B,EAAE5f,SAAU0B,IAAKzd,EAAE6L,EAAEkQ,UAC9Cu5E,EACAC,EAAY,CAAE55D,EAAG37B,EAAE27B,EAAEK,MAAOnwB,EAAG7L,EAAE6L,EAAEmwB,OACnCgZ,EACAwgD,EACAC,EACAt5D,EAAOz+B,KAAKP,QAAQg/B,KACpBw4D,EAAiBj3F,KAAKP,QAAQw3F,gBAC9B14B,EAAY,CAAEt1B,KAAMmuD,EAAgBt1B,KAAM9hE,KAAMs3F,eAAgBh1F,GAEpE,GAAGm8B,IAAS,KAAOA,IAAS,IAAK,CAC7Bz+B,KAAKg4F,gBAAgBv5D,EAAMwuD,EAAc4K,EAAUp5D,GAAO8/B,GAC1D,OAGJ,GAAG5+D,EAAQ,CACPg4F,EAAe33F,KAAKi4F,kBAAkBt4F,EAAOkQ,SAE7C+nF,EAAc,CACV3iF,KAAMnX,KAAK6O,MAAMsgF,EAAah4E,KAAO0iF,EAAa1iF,MAClD8K,IAAKjiB,KAAK6O,MAAMsgF,EAAaltE,IAAM43E,EAAa53E,MAGpD7iB,EAAEM,OAAO+gE,EAAW,CAAE5+D,OAAQA,EAAOkQ,UAErC,GAAGlQ,EAAOu4F,eAAgB,CACtBl4F,KAAKm4F,iBAAiBx4F,EAAQ,KAAM4+D,GACpC,OAGJ,GAAG5+D,EAAOy4F,kBACNp4F,KAAKm4F,iBAAiBx4F,EAAQ,OAAQ4+D,GAG1C,GAAGv+D,KAAKq4F,YAAY14F,EAAOkQ,UACvB,GAAIgoF,EAAU55D,EAAI,GAAKg5D,IAAsBA,GAAmBW,EAAY3iF,KAAO,EAC/EqiC,EAAY,YACT,GAAIugD,EAAU55D,EAAI,GAAKg5D,IAAsBA,GAAoBW,EAAY3iF,KAAO,EACvFqiC,EAAY,YAGhB,GAAIugD,EAAU1pF,EAAI,GAAM8oF,IAAsBA,GAAoBW,EAAY73E,IAAM,EAChFu3B,EAAY,YACT,GAAIugD,EAAU1pF,EAAI,GAAM8oF,IAAsBA,GAAoBW,EAAY73E,IAAM,EACvFu3B,EAAY,OAIpB,GAAGA,EAAW,CACVygD,EAAczgD,IAAc,OAAUn6C,OAAOwD,GAAGwsC,KAAOhwC,OAAOwD,GAAGg7D,KAEjEm8B,EAAUC,EAAWv1F,KAAK7C,EAAOkQ,SAGjC,MAAMioF,EAAQh4F,SAAWg4F,EAAQ7hF,GAAG,YAChC6hF,EAAUC,EAAWv1F,KAAKs1F,GAG9B,GAAGA,EAAQ,IAAM93F,KAAKqgB,YAAY,GAC9BrgB,KAAKm4F,iBAAiBx4F,EAAQ23C,EAAWinB,MAMzD44B,SAAU,SAAS70F,GACf,IAAI+d,EAAcrgB,KAAKqgB,YACnB+2E,EAAiBp3F,KAAKo3F,eACtBkB,EAAet4F,KAAK6M,QAAQuqF,GAC5BmB,EAAmBv4F,KAAK6M,QAAQwT,GAChC02E,EAAc/2F,KAAKP,QAAQs3F,YAC3ByB,EACAp3F,EACAm9D,EACAk6B,EAEJz4F,KAAKy3F,eAELl5B,EAAY,CACRx5B,OAAQsxD,EACRptD,KAAMmuD,EACNsB,SAAUJ,EACVK,SAAUJ,EACVjB,eAAgBh1F,GAGpB,GAAGi2F,GAAoB,EACnBn3F,EAAqBpB,KAAKqC,QAAQ6lB,EAAKq2C,OACpC,CACHi6B,EAAgBn4E,EAAYiS,QAAQykE,GAAa6B,mBAEjDr6B,EAAUx5B,OAASuxD,EACnBmC,EAAyBv7F,EAAEM,OAAO,GAAI+gE,EAAW,CAC7Cx5B,OAAQwxD,EACRmC,SAAUjC,EACVkC,SAAUH,EAAc3rF,QAAQwT,KAGpCjf,KAAwBpB,KAAKqC,QAAQ6lB,EAAKq2C,KAAei6B,EAAcn2F,QAAQ6lB,EAAKuwE,IAGxF,GAAGr3F,GAAsBm3F,IAAqBD,EAAc,CACxDt4F,KAAK6sF,UACL,OAGJxsE,EAAY07D,YAAYqb,GAExBA,EAAe3kB,OACfzyE,KAAKisF,UAAUK,QAAU,KAEzB/tB,EAAY,CACRx5B,OAAQ/kC,KAAK6M,QAAQuqF,IAAmBX,EAAgBJ,EAAcC,EACtErtD,KAAMmuD,EACNsB,SAAUJ,EACVK,SAAU34F,KAAK6M,QAAQuqF,GACvBE,eAAgBh1F,GAGpBtC,KAAKqC,QAAQ4nC,EAAQs0B,GAErB,GAAGi6B,EAAe,CACdC,EAAyBv7F,EAAEM,OAAO,GAAI+gE,EAAW,CAC7Cx5B,OAAQwxD,EACRmC,SAAUjC,EACVkC,SAAUH,EAAc3rF,QAAQuqF,KAGpCoB,EAAcn2F,QAAQ4nC,EAAQwuD,KAKtCf,YAAa,SAASp1F,GAClB,IAAIuN,EAAU7P,KAAK64F,wBAAwBv2F,GACvC+rB,EACA0oE,EAAc/2F,KAAKP,QAAQs3F,YAC3Bt6D,EAEJ,GAAGv/B,EAAEiyB,SAASnvB,KAAK6P,QAAQ,GAAIA,GAAU,CACrCwe,EAAQruB,KAAKquB,QACboO,EAAOpO,EAAM4B,OAAOpgB,GAAS,IAAMwe,EAAMyqE,IAAIjpF,GAAS,GAEtD,OAAO4sB,EAAO,CAAE5sB,QAAS3S,EAAEu/B,GAAOs8D,SAAU/4F,MAAS,UAClD,GAAIA,KAAK6P,QAAQ,IAAMA,GAAW7P,KAAKg5F,WAC1C,MAAO,CAAEnpF,QAAS7P,KAAK6P,QAASkpF,SAAU/4F,KAAMk4F,eAAgB,WAC7D,GAAIl4F,KAAK6P,QAAQ,IAAMA,GAAW7P,KAAKi5F,gBAAiB,CAC3Dx8D,EAAOz8B,KAAKquB,QAAQyD,GAAG,GACvB,MAAO,CAAEjiB,QAAS4sB,EAAOs8D,SAAU/4F,KAAMo4F,kBAAmB,WACzD,GAAIrB,EACP,OAAO/2F,KAAKk5F,wBAAwBrpF,EAASvN,IAIrDu2F,wBAAyB,SAASv2F,GAC9B,IAAI07B,EAAqB1gC,EAAM0gC,mBAAmB17B,GAC9C2pF,EAAY3pF,EAAEC,OAElB,GAAGm0F,EAAkBzK,EAAUuB,KAAK,GAAIxvD,GAAqB,CACzDiuD,EAAUuB,KAAKjqE,OACfya,EAAqB1gC,EAAM0gC,mBAAmB17B,GAE9C,IAAK07B,EACDA,EAAqB1gC,EAAM0gC,mBAAmB17B,GAElD2pF,EAAUuB,KAAK/a,OAGnB,OAAOz0C,GAGXk7D,wBAAyB,SAASrpF,EAASvN,GACvC,IAAI62F,EAAYj8F,EAAE8C,KAAKP,QAAQs3F,aAC3BqC,EACA/qE,EACAoO,EAEJ,IAAK,IAAI58B,EAAI,EAAGA,EAAIs5F,EAAUr5F,OAAQD,IAAK,CACvCu5F,EAAmBD,EAAUrnE,GAAGjyB,GAAG+4F,mBAEnC,GAAG17F,EAAEiyB,SAASgqE,EAAUt5F,GAAIgQ,IACxB,GAAGupF,EAAkB,CACjB/qE,EAAQ+qE,EAAiB/qE,QACzBoO,EAAOpO,EAAM4B,OAAOpgB,GAAS,IAAMwe,EAAMyqE,IAAIjpF,GAAS,GAEtD,GAAG4sB,EAAM,CACL28D,EAAiB/4E,YAAcrgB,KAAKqgB,YACpC,MAAO,CAAExQ,QAAS3S,EAAEu/B,GAAOs8D,SAAUK,QAErC,OAAO,WAGZ,GAAGD,EAAUt5F,IAAMgQ,EACtB,GAAGupF,GAAoBA,EAAiBJ,WACpC,MAAO,CAAEnpF,QAASspF,EAAUrnE,GAAGjyB,GAAIk5F,SAAUK,EAAkBlB,eAAgB,WAC5E,GAAIl4F,KAAKq5F,mBAAmBD,EAAkB92F,GAAI,CACrDm6B,EAAO28D,EAAiB/qE,QAAQ4L,OAChC,MAAO,CAAEpqB,QAAS4sB,EAAMs8D,SAAUK,MAOlDC,mBAAoB,SAASN,EAAUz2F,GACnC,IAAIu3D,EAAWk/B,EAAS1qE,QAAQ4L,OAC5BgzD,EAAe,CAAEh4E,KAAM3S,EAAE27B,EAAE5f,SAAU0B,IAAKzd,EAAE6L,EAAEkQ,UAC9Ci7E,EACAh7D,EAEJg7D,EAAiBh8F,EAAM2kB,UAAU43C,GACjCy/B,EAAev5E,KAAO9P,EAAY4pD,GAClCy/B,EAAerkF,MAAQlF,EAAW8pD,GAElC,GAAG75D,KAAKq4F,YAAYx+B,GAChBv7B,EAAQg7D,EAAerkF,KAAOg4E,EAAah4E,UAE3CqpB,EAAQg7D,EAAev5E,IAAMktE,EAAaltE,IAG9C,OAAOue,EAAQ,EAAI,KAAO,OAG9B05D,gBAAiB,SAASv5D,EAAMwuD,EAAc3uD,EAAOigC,GACjD,IAAIg7B,EAAkB96D,IAAS,IAAOwuD,EAAah4E,KAAOg4E,EAAaltE,IACnEpgB,EAAU2+B,EAAQ,EAAKt+B,KAAKqgB,YAAY8sB,OAASntC,KAAKqgB,YAAYs7C,OAClEttC,EAAQruB,KAAKquB,QACbspE,EAEJ,GAAIh4F,EAAOG,SAAWH,EAAOsW,GAAG,YAC5BtW,EAAU2+B,EAAO,EAAK3+B,EAAOwtC,OAASxtC,EAAOg8D,OAGjD,IAAKttC,EAAM4B,OAAOtwB,GAAQG,OACtB,OAGJ5C,EAAEM,OAAO+gE,EAAW,CAAE5+D,OAAQA,IAC9Bg4F,EAAe33F,KAAKi4F,kBAAkBt4F,GAEtC,GAAIg4F,EACAA,EAAgBl5D,IAAS,IAAOk5D,EAAa1iF,KAAO0iF,EAAa53E,IAGrE,GAAIpgB,EAAOG,QAAUw+B,EAAQ,GAAKi7D,EAAiB5B,EAAe,EAC9D33F,KAAKm4F,iBAAiB,CAAEtoF,QAASlQ,EAAQo5F,SAAU/4F,MAAQ,OAAQu+D,QAChE,GAAI5+D,EAAOG,QAAUw+B,EAAQ,GAAKi7D,EAAiB5B,EAAe,EACrE33F,KAAKm4F,iBAAiB,CAAEtoF,QAASlQ,EAAQo5F,SAAU/4F,MAAQ,OAAQu+D,IAI3E45B,iBAAkB,SAASx4F,EAAQ23C,EAAWinB,GAC1C,IAAIl+C,EAAcrgB,KAAKqgB,YAEvB,IAAK1gB,EAAOo5F,SAAS12F,QAAQ+zF,EAAa73B,GAAY,CAElD,IAAKjnB,EACD33C,EAAOkQ,QAAQkxD,OAAO1gD,QACnB,GAAIi3B,IAAc,OACrB33C,EAAOkQ,QAAQ0nF,OAAOl3E,QACnB,GAAIi3B,IAAc,OACrB33C,EAAOkQ,QAAQotE,MAAM58D,GAGzB1gB,EAAOo5F,SAAS12F,QAAQutC,EAAM2uB,KAItCi5B,WAAY,WACR,IAAIR,EAASh3F,KAAKP,QAAQu3F,OACtB78E,EAEJ,GAAG68E,GAAUA,IAAW,OAAQ,CAC5B78E,EAAOjd,EAAEsS,SAAS2K,MAElBna,KAAKw5F,oBAAsBr/E,EAAKtF,IAAI,UACpCsF,EAAKtF,IAAI,CAAEmiF,OAAUA,IAErB,IAAIh3F,KAAKy5F,kBACLz5F,KAAKy5F,kBAAoBv8F,EAAE,sBAAwB85F,EAAS,0BAGhEh3F,KAAKy5F,kBAAkBv0D,SAAS/qB,KAIxCs9E,aAAc,WACV,GAAGz3F,KAAKw5F,oBAAqB,CACzBt8F,EAAEsS,SAAS2K,MAAMtF,IAAI,SAAU7U,KAAKw5F,qBACpCx5F,KAAKw5F,oBAAsB,KAE3Bx5F,KAAKy5F,kBAAkB1oE,WAI/BknE,kBAAmB,SAASpoF,GACxB,IAAIshC,EAASthC,EAAQ/P,OAASxC,EAAM2kB,UAAUpS,GAAW,KACzD,GAAGshC,EAAQ,CACPA,EAAOpxB,KAAO9P,EAAYJ,GAAW,EACrCshC,EAAOl8B,MAAQlF,EAAWF,GAAW,EAGzC,OAAOshC,GAGXknD,YAAa,SAAUpvD,GACnB,IAAIywD,EAAa,aAAa/yF,KAAKsiC,EAAKp0B,IAAI,UAC5C,IAAI8kF,EAAU,oBAAoBhzF,KAAKsiC,EAAKp0B,IAAI,YAChD,IAAI+kF,EAAmB,OAAOjzF,KAAKsiC,EAAK1zB,SAASV,IAAI,cAAgB,kBAAkBlO,KAAKsiC,EAAK1zB,SAASV,IAAI,qBAAuBo0B,EAAK1zB,SAASV,IAAI,mBACvJ,OAAO6kF,GAAcC,GAAWC,GAGpC/M,QAAS,WACL7sF,KAAKo3F,eAAe3kB,OACpBzyE,KAAKqgB,YAAY0Q,SACjB/wB,KAAKisF,UAAUK,QAAU,MAG7BuN,OAAQ,WACJ,IAAI5pE,EAASjwB,KAAKP,QAAQwwB,OACtB5B,EAEJ,GAAG4B,EACC5B,EAAQruB,KAAK6P,QAAQkgB,KAAKE,QAE1B5B,EAAQruB,KAAK6P,QAAQwxC,WAGzB,OAAOhzB,GAGXxhB,QAAS,SAASgD,GACd,IAAIwe,EAAQruB,KAAK65F,SACbx5E,EAAcrgB,KAAKqgB,YACnB+2E,EAAiBp3F,KAAKo3F,eAE1B,GAAG/2E,GAAexQ,EAAQ,IAAMwQ,EAAY,GACxC,OAAOgO,EAAMyrE,IAAI1C,GAAgBjoF,MAAMU,QAEvC,OAAOwe,EAAMyrE,IAAIz5E,GAAalR,MAAMU,IAI5Cwe,MAAO,WACH,IAAIhO,EAAcrgB,KAAKqgB,YACnBgO,EAAQruB,KAAK65F,SAEjB,GAAGx5E,EACCgO,EAAQA,EAAMyrE,IAAIz5E,GAGtB,OAAOgO,GAGX2qE,SAAU,WACN,OAAQh5F,KAAKquB,QAAQvuB,QAGzBm5F,cAAe,WACX,OAAOj5F,KAAKquB,QAAQvuB,SAAW,GAAKE,KAAKquB,QAAQpY,GAAG,cAQhE,OAHI3Y,EAAM2pB,GAAG+J,OAAO6lE,GAGbz5F,OAAOE,QAxgBd,CA0gBoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,mBAAmB,CAAE,aAAc,oBAC3C,WAEH,IAAIC,EAAW,CACXC,GAAI,aACJC,KAAM,aACNC,SAAU,YACVqtC,QAAS,CAAE,OAAQ,cACnByqD,SAAU,MAGHt3F,EAofRE,OAAOE,MAAMH,OApfFE,OAAd,EACQC,EAAQF,OAAOE,MACfwpB,EAASxpB,EAAM2pB,GAAGH,OAClBxc,EAAMxM,KAAKwM,IACXyvF,EAAe,gBACfC,EAAW,mBACXC,EAAS,oBACTC,EAAa,eACbjwD,EAAS,SACT60C,EAAK,mBACLqb,EAAW,WACXC,EAAc,sBACdxZ,EAAgB,sPAChB3hE,EAAO3hB,EAAMW,QAAQ+a,QAAQiG,KAC7Bo7E,EAAyB,MACzB78F,EAASN,EAAEM,OAEDN,EAaVo9F,GAFGp9F,EATO,2CACDkpB,GAAG,QAAS,KAAM,WACfi0E,EAAyB,OAE5BtqE,KAAK,QACL1tB,QAAQ,SACRuB,MACAyvB,MAIIvM,EAAOtpB,OAAO,CAC3BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACP0yE,EACA6nB,EAEJzzE,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCc,EAAKi6F,SAAWt9F,EAAE,oEAClBqD,EAAKk6F,YAAc,KACnBl6F,EAAKsP,QAAQqG,SAASgkF,GAEtB35F,EAAKi1B,cAAgBj1B,EAAKd,QAAQ+1B,cAElCk9C,EAAWnyE,EAAKd,QAAQizE,SACxB6nB,EAAeh6F,EAAKd,QAAQ86F,aAE5Bh6F,EAAK2xC,WAAa,IAAI50C,EAAM+1C,WAAW9yC,EAAKsP,QAAS,CACjD2kC,OAAQ,KACRL,eAAgB,KAChBlkB,SAAUoqE,EAAyB,IAAMH,EAAa,IAAM,IAAM35F,EAAKd,QAAQwwB,OAC/EwmB,IAAKl2C,EAAKyyC,KAAKzxC,KAAKhB,GACpBq0C,YAAa89B,EAAW,OAAS,gBAGrC,GAAIA,EAAU,CACV,GAAG6nB,EACCh6F,EAAK2xC,WACA3wC,KAAK,QAAShB,EAAK+yC,OAAO/xC,KAAKhB,IAC/BgB,KAAK,OAAQhB,EAAKo1C,MAAMp0C,KAAKhB,IAC7BgB,KAAK,MAAOhB,EAAKs1C,KAAKt0C,KAAKhB,IAEpCA,EAAK2xC,WACD3wC,KAAK,SAAUhB,EAAKk1C,QAAQl0C,KAAKhB,MAI7CyB,OAAQ,CAACioC,EAAQkwD,GAEjB16F,QAAS,CACLhD,KAAM,aACNwzB,OAAQ,KACRyqE,eAAgB9Z,EAChBlO,SAAU,MACV6nB,aAAc,KACd/kE,cAAet4B,EAAEU,KACjB+8F,iBAAkB,MAClBC,cAAe,OAGnBC,WAAY,SAASl7F,GACjB,IAAIyuB,EAAWpuB,KAAK6P,QACpB,IAAIlO,EAAK7B,EAASsuB,EAAStuB,OAAQyJ,EAAS,MAE5C5J,EAASA,EAAO,GAEhB,IAAKgC,EAAM,EAAGA,EAAM7B,EAAQ6B,IACxB,GAAIysB,EAASzsB,KAAShC,EAAQ,CAC1B4J,EAAS,KACT,MAIR,OAAOA,GAGXypC,KAAM,SAAS1wC,GACX,IAAI3C,EAASzC,EAAEoF,EAAE3C,QACbY,EAAOP,KACPozF,EAAU9wF,EAAE+Y,MAAM+3E,SAAW9wF,EAAE+Y,MAAMy/E,QACrCpoB,EAAWnyE,EAAKd,QAAQizE,SACxBrxC,EAAWqxC,GAAYpwE,EAAE+Y,MAAMgmB,SAC/B05D,EAAgBx6F,EAAKd,QAAQs7F,eAAiBf,EAC9ChyB,EACAgzB,EAAY14F,EAAE+Y,MAAMq6B,MACpBulD,EAAa34F,EAAE+Y,MAAM6/E,OAGzB,IAAK36F,EAAKs6F,WAAWl7F,EAAO4a,QAAQ,IAAM2/E,KAAgBc,GAAaA,GAAa,GAAKC,GAAcA,GAAc,EACjH,OAGJ,IAAKj7F,KAAKm7F,gBAAgB74F,EAAE+Y,MAAM1b,QAC9B,OAGJqoE,EAAWroE,EAAO+V,SAASqlF,GAC3B,IAAKroB,IAAa0gB,EACd7yF,EAAKgsD,QAGT5sD,EAASA,EAAOokB,IAAIxjB,EAAKi1B,cAAc71B,IAEvC,GAAI0hC,EACA9gC,EAAK66F,YAAY76F,EAAK86F,iBAAkB17F,EAAQ2C,OAC7C,CACH,GAAI0lE,GAAYorB,EAAS,CACrB7yF,EAAK+6F,UAAU37F,GACfY,EAAKg7F,QAAQtxD,EAAQ3nC,QAErB/B,EAAK+G,MAAM3H,EAAQ2C,GAGvB/B,EAAKk6F,YAAcl6F,EAAKi7F,YAAc77F,IAI9C2zC,OAAQ,SAAShxC,GACb,IAAI/B,EAAOP,KACPL,EAASzC,EAAEoF,EAAE3C,QACbo7F,EAAgBx6F,EAAKd,QAAQs7F,eAAiBf,EAC9ChyB,EAAWroE,EAAO+V,SAASqlF,GAC3BU,EACArI,EAAU9wF,EAAE+Y,MAAM+3E,SAAW9wF,EAAE+Y,MAAMy/E,QAEzC,IAAK96F,KAAKm7F,gBAAgB74F,EAAE+Y,MAAM1b,QAC9B,OAGJY,EAAKi7F,YAAc77F,EAGnB,IAAKY,EAAKs6F,WAAWl7F,EAAO4a,QAAQ,IAAM2/E,IAAc,CACpD35F,EAAK2xC,WAAWrd,SAChB,OAGJ,GAAIt0B,EAAKd,QAAQi8F,YACbn7F,EAAKs5F,OAASt5F,EAAKsP,QAAQkgB,KAAKxvB,EAAKd,QAAQwwB,YAC1C,CACHwrE,EAAiB97F,EAAO4a,QAAQha,EAAKsP,SACrCtP,EAAKs5F,OAAS4B,EAAe1rE,KAAKxvB,EAAKd,QAAQwwB,QAGnD3tB,EAAEC,OAAO8yC,UAET90C,EAAKi6F,SACAt1D,SAAS11B,SAAS2K,MAClBtF,IAAI,CACDI,KAAM3S,EAAE27B,EAAEC,OAAS,EACnBne,IAAKzd,EAAE6L,EAAE+vB,OAAS,EAClBvoB,MAAO,EACPE,OAAQ,IAGhB,IAAKu9E,EACD7yF,EAAKgsD,QAGT5sD,EAASA,EAAOokB,IAAIxjB,EAAKi1B,cAAc71B,IACvC,GAAIqoE,EAAU,CACVznE,EAAKo7F,eAAeh8F,EAAQ,MAC5B,GAAIyzF,EACAzzF,EAAOuW,SAASkkF,KAK5BzkD,MAAO,SAASrzC,GACZ,IAAI/B,EAAOP,KACP2W,EAAW,CACP1B,KAAM3S,EAAE27B,EAAE2T,cAAgBtvC,EAAE27B,EAAE5f,SAAW/b,EAAE27B,EAAE5f,SAAW/b,EAAE27B,EAAE2T,cAC5D7xB,IAAKzd,EAAE6L,EAAEyjC,cAAgBtvC,EAAE6L,EAAEkQ,SAAW/b,EAAE6L,EAAEkQ,SAAW/b,EAAE6L,EAAEyjC,cAC3Dj8B,MAAOrL,EAAIhI,EAAE27B,EAAE+T,cACfn8B,OAAQvL,EAAIhI,EAAE6L,EAAE6jC,eAGxBzxC,EAAKi6F,SAAS3lF,IAAI8B,GAElBpW,EAAKq7F,uBAAuBjlF,EAAWrU,EAAE+Y,MAAM+3E,SAAW9wF,EAAE+Y,MAAMy/E,SAElEx4F,EAAEpB,kBAGN20C,KAAM,SAASvzC,GACX,IAAI/B,EAAOP,KACX67F,EAAoBv+F,EAAM6Y,KAAK,kBAC/BosC,EAAMjlD,EAAMksB,OAEZjpB,EAAKi6F,SAASzpE,SAEdxwB,EAAK+6F,UAAU/6F,EAAKsP,QACfkgB,KAAKxvB,EAAKd,QAAQwwB,OAAS,IAAMmqE,IACjC3kF,YAAY2kF,GAGjB,IAAIz6F,EAASY,EAAKsP,QAAQkgB,KAAKxvB,EAAKd,QAAQwwB,OAAS,IAAMgqE,GAC3Dt6F,EAASA,EAAOokB,IAAIxjB,EAAKi1B,cAAc71B,IAEvC,GAAIY,EAAKd,QAAQm7F,cACb,IAAK,IAAI/6F,EAAI,EAAGA,EAAIU,EAAKu7F,iBAAiBh8F,OAAQD,IAC9C3C,EAAEqD,EAAKu7F,iBAAiBj8F,IAAIsW,KAAK0lF,EAAmBt5C,GAI5DhiD,EAAK+G,MAAM3H,EAAQ2C,GACnB/B,EAAKk6F,YAAcl6F,EAAKi7F,YACxBj7F,EAAKs5F,OAAS,MAGlB+B,uBAAwB,SAASjlF,EAAUy8E,GACvC,IAAIzxF,EACA7B,EACAH,EAASK,KAAKw7F,YAAY,GAC1BntE,EAAQruB,KAAK65F,OACbkB,EAAgB/6F,KAAKP,QAAQs7F,eAAiBf,EAC9CzkE,EACAwmE,EAEJ/7F,KAAK87F,iBAAmB,GAExB,IAAKn6F,EAAM,EAAG7B,EAASuuB,EAAMvuB,OAAQ6B,EAAM7B,EAAQ6B,IAAQ,CACvDo6F,EAAW1tE,EAAMyD,GAAGnwB,GACpB4zB,EAAUwmE,EAASh4E,IAAI/jB,KAAKw1B,cAAcumE,IAE1C,GAAIC,EAAUD,EAAUplF,GAAW,CAC/B,GAAGolF,EAASrmF,SAASqlF,IACjB,GAAG3H,GAAWzzF,IAAWo8F,EAAS,GAC9BxmE,EAAQ9f,YAAYslF,GAAe7kF,SAASkkF,QAE7C,IAAK2B,EAASrmF,SAASukF,KAAY8B,EAASrmF,SAAS0kF,KAAiBp6F,KAAKi8F,2BAA2B1mE,EAAS5e,GAClH4e,EAAQrf,SAAS+jF,GAErBj6F,KAAK87F,iBAAiB55F,KAAKqzB,EAAQ,SAEnC,GAAIwmE,EAASrmF,SAASukF,GAClB1kE,EAAQ9f,YAAYwkF,QACjB,GAAG7G,GAAW2I,EAASrmF,SAAS0kF,GACnC7kE,EAAQ9f,YAAY2kF,GAAalkF,SAAS6kF,KAM1DkB,2BAA4B,SAAUpsF,EAASqsF,GAC3C,IAAKl8F,KAAKP,QAAQk7F,iBACd,OAAO,MAGX,IAAIwB,EAAiBn8F,KAAK87F,iBAC1B,IAAIM,EAAWvsF,EAAQ,GAAGwsF,wBAC1B,IAAIC,EACJ,IAAIN,EAAY,MAChB,IAAI3iF,EAAQ/b,EAAMW,QAAQob,MAAMxJ,GAChC,IAAI2gB,EAAYnX,EAAQ,QAAU,OAClC,IAAIkjF,EAAW,GAEfL,EAAYhnF,MAAQgnF,EAAYjnF,KAAOinF,EAAYvmF,MACnDumF,EAAY/mF,OAAS+mF,EAAYn8E,IAAMm8E,EAAYrmF,OAEnD,IAAK,IAAIhW,EAAI,EAAGA,EAAIs8F,EAAer8F,OAAQD,IAAK,CAC5Cy8F,EAAoBH,EAAet8F,GAAGw8F,wBACtC,GAAIG,EAASJ,EAAUE,GAAoB,CACvCC,EAAS/rE,GAAaA,IAAc,OAAS8rE,EAAkBpnF,MAAQonF,EAAkBrnF,KACzFmnF,EAAW5+F,EAAO,GAAI4+F,EAAUG,GAChC,GAAIH,EAASnnF,KAAOmnF,EAASlnF,MACzB,OAAO,KAEX8mF,GAAaQ,EAASJ,EAAUF,IAGxC,OAAOF,GAGX10F,MAAO,SAAS+jD,EAAK/oD,GACjB,IAAI/B,EAAOP,KACPy8F,EAAgBl8F,EAAKo7F,eAAep6F,KAAKhB,GAE7C,GAAG8qD,EAAK,CACJA,EAAI5tD,KAAK,WACLg/F,EAAcz8F,QAGlBO,EAAKg7F,QAAQtxD,EAAQ3nC,GACrB,OAGJ,OAAO/B,EAAKsP,QAAQkgB,KAAKxvB,EAAKd,QAAQwwB,OAAS,KAAO1vB,EAAKd,QAAQs7F,eAAiBf,KAGxF0C,eAAgB,WACZ,IAAIn8F,EAAOP,KACX,IAAI67F,EAAoBv+F,EAAM6Y,KAAK,kBACnC,IAAIjF,EAAM,GAEV3Q,EAAKsP,QAAQkgB,KAAK,IAAM8rE,EAAoB,KAAKp+F,KAAK,SAAU+nB,EAAG8pD,GAC/D,IAAIqtB,EAAUz/F,EAAEoyE,GAAMn5D,KAAK0lF,GAC3B,IAAIe,EAAc1rF,EAAIyrF,GAEtB,IAAKC,EACDA,EAAc1rF,EAAIyrF,GAAW,GAGjCC,EAAY16F,KAAKhF,EAAEoyE,MAGvB,OAAOp+D,GAGX2rF,oBAAqB,WACjB,IAAIt8F,EAAOP,KACX,IAAI67F,EAAoBv+F,EAAM6Y,KAAK,kBAEnC,OAAO5V,EAAKsP,QAAQkgB,KAAKxvB,EAAKd,QAAQwwB,OAAS,KAAO1vB,EAAKd,QAAQs7F,eAAiBf,GAAY,SAAW6B,EAAoB,MAAM/xC,UAAU54C,IAAI,SAAUo+D,GACzJ,OAAOpyE,EAAEoyE,MAIjB+rB,eAAgB,WACZ,IAAI96F,EAAOP,KACPgoE,EAEJ,GAAGznE,EAAKk6F,cAAgB,KACpB,OAAOl6F,EAAKk6F,YAGhBzyB,EAAWznE,EAAK+G,QAChB,OAAO0gE,EAASloE,OAAS,EACjBkoE,EAAS,GACTznE,EAAKsP,QAAQkgB,KAAKxvB,EAAKd,QAAQwwB,QAAQ,IAGnD0rE,eAAgB,SAAS9rF,EAASitF,GAC9B,IAAIf,EAAW7+F,EAAE2S,GACbkrF,EAAgB/6F,KAAKP,QAAQs7F,eAAiBf,EAC9C7jC,GAAgB2mC,GAAiB98F,KAAKu7F,QAAQ,SAAU,CAAE1rF,QAASA,IAEvEksF,EAAStmF,YAAYwkF,GACrB,IAAI9jC,EAAa,CACZ4lC,EAAS7lF,SAAS6kF,GAEnB,GAAI/6F,KAAKP,QAAQs9F,KACbhB,EAAS5lF,KAAK4jF,EAAc,QAKxCwB,QAAS,SAAS9+F,EAAM00B,GACpBA,EAAOA,GAAQ,GACf,OAAOnxB,KAAKqC,QAAQ5F,EAAM00B,IAG9BmqE,UAAW,SAASzrF,GAChB,GAAI7P,KAAKqC,QAAQ83F,EAAU,CAAEtqF,QAASA,IAClC,OAGJ,IAAIgsF,EAAoBv+F,EAAM6Y,KAAK,kBAEnCtG,EAAQ4F,YAAYzV,KAAKP,QAAQs7F,eAAiBf,GAAU3uE,WAAWwwE,GAEvE,GAAI77F,KAAKP,QAAQs9F,KACbltF,EAAQsG,KAAK4jF,EAAc,OAG/B,OAAOlqF,GAGX4lC,QAAS,SAASnzC,GACd,GAAItC,KAAKm7F,gBAAgB74F,EAAE+Y,MAAM1b,QAC7B,IAAKsf,GAASA,IAAS/hB,EAAEI,EAAMiS,kBAAkB0G,GAAGjW,KAAKP,QAAQi7F,gBAC7Dp4F,EAAEpB,kBAKdi6F,gBAAiB,SAASx7F,GACtB,GAAIzC,EAAEyC,GAAQsW,GAAGjW,KAAKP,QAAQi7F,gBAAiB,CAC3C16F,KAAKkyC,WAAWrd,SAChB70B,KAAKw7F,YAAc,KACnB,OAAO,MAGX,OAAO,MAGXwB,iBAAkB,WACdh9F,KAAKkyC,WAAWrd,UAGpB03B,MAAO,WACH,IAAIl+B,EAAQruB,KAAK6P,QAAQkgB,KAAK/vB,KAAKP,QAAQwwB,OAAS,KAAOjwB,KAAKP,QAAQs7F,eAAiBf,IACzFh6F,KAAKs7F,UAAUjtE,IAGnB+sE,YAAa,SAASjvF,EAAOvI,EAAKtB,GAC9B,IAAI/B,EAAOP,KACP2B,EACAozE,EACA1mD,EAEJ9tB,EAAKgsD,QAEL,GAAIhsD,EAAKsP,QAAQ/P,OAAS,EACtBuuB,EAAQ9tB,EAAKd,QAAQw9F,kBAGzB,IAAK5uE,IAAUA,EAAMvuB,OACjBuuB,EAAQ9tB,EAAKsP,QAAQkgB,KAAKxvB,EAAKd,QAAQwwB,QAG3C9jB,EAAQjP,EAAEmyB,QAAQnyB,EAAEiP,GAAO,GAAIkiB,GAC/BzqB,EAAM1G,EAAEmyB,QAAQnyB,EAAE0G,GAAK,GAAIyqB,GAE3B,GAAIliB,EAAQvI,EAAK,CACbmxE,EAAM5oE,EACNA,EAAQvI,EACRA,EAAMmxE,EAGV,IAAKx0E,EAAKd,QAAQi8F,YACd93F,GAAOrD,EAAKsP,QAAQ/P,OAAS,EAGjC,IAAK6B,EAAMwK,EAAOxK,GAAOiC,EAAKjC,IAC1BpB,EAAKo7F,eAAettE,EAAM1sB,IAG9BpB,EAAKg7F,QAAQtxD,EAAQ3nC,IAGzB2pB,QAAS,WACL,IAAI1rB,EAAOP,KAEX8mB,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,GAEvBA,EAAKsP,QAAQwjB,IAAIyrD,GAEjBv+E,EAAK2xC,WAAWjmB,UAEhB1rB,EAAKi6F,SAAWj6F,EAAKk6F,YAAcl6F,EAAKsP,QAAUtP,EAAK2xC,WAAa,SAa5E,SAAS8pD,EAAUnsF,EAAS8G,GACxB,IAAK9G,EAAQoG,GAAG,YACZ,OAAO,MAGX,IAAIinF,EAAkB5/F,EAAM2kB,UAAUpS,GAClCqF,EAAQyB,EAAS1B,KAAO0B,EAAShB,MACjCR,EAASwB,EAASoJ,IAAMpJ,EAASd,OAErCqnF,EAAgBhoF,MAAQgoF,EAAgBjoF,KAAO3X,EAAMsS,YAAYC,GACjEqtF,EAAgB/nF,OAAS+nF,EAAgBn9E,IAAMziB,EAAM0S,aAAaH,GAElE,QAASqtF,EAAgBjoF,KAAOC,GAC5BgoF,EAAgBhoF,MAAQyB,EAAS1B,MACjCioF,EAAgBn9E,IAAM5K,GACtB+nF,EAAgB/nF,OAASwB,EAASoJ,KAG1C,SAASy8E,EAASW,EAAWC,GACzB,QAASD,EAAUjoF,OAASkoF,EAAWnoF,MACnCkoF,EAAUloF,MAAQmoF,EAAWloF,OAC7BioF,EAAUhoF,QAAUioF,EAAWr9E,KAC/Bo9E,EAAUp9E,KAAOq9E,EAAWjoF,QAOxC,OAtCImlF,EAAWrrE,aAAe,SAASouE,GAC/B,IAAIC,EAAiBD,EAAWE,MAAQF,EACxC,IAAIG,SAAuBF,IAAmB,UAAYA,EAAehxF,cACzE,MAAO,CACHomE,SAAU8qB,GAAiBA,EAAc3wF,QAAQ,aAAe,EAChEuzD,KAAMo9B,GAAiBA,EAAc3wF,QAAQ,SAAW,IA6BhEvP,EAAM2pB,GAAG+J,OAAOspE,GAIbl9F,OAAOE,QAlgBd,CAogBoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAcvtC,QACVA,OAAO,cAAc,CAAC,cACvB,WAEH,IAAIC,EAAW,CACXC,GAAI,QACJC,KAAM,QACNC,SAAU,MACVC,YAAa,2HACbotC,QAAS,CAAC,SAGH7sC,EAsSRE,OAAOE,MAAMH,OAtSFE,OAAd,EACQC,EAAQF,OAAOE,MACfwpB,EAASxpB,EAAM2pB,GAAGH,OAClBG,EAAK3pB,EAAM2pB,GACXgnD,EAAS,WAETwvB,EAAe,0DACfC,EAAkB,yDAElBC,EAAQ72E,EAAOtpB,OAAO,CACtBiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCc,EAAKq9F,WAELr9F,EAAKs9F,cAELvgG,EAAMoxB,OAAOnuB,IAGjB0rB,QAAS,WACL,IAAI1rB,EAAOP,KAEX8mB,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,IAG3Bd,QAAS,CACLhD,KAAM,QACNqhG,aAAc,MACd75F,KAAM,GACNipB,KAAM,QACN6wE,KAAM,GACN7wF,IAAK8wF,SACLrnF,SAAU,SACVsnF,MAAO,GACPj6D,MAAO,CACHk6D,MAAS,KACTC,OAAU,KACVC,MAAS,MAEbpsF,KAAM,SACNqsF,MAAO,UACPr6F,SAAU,KACVo8B,KAAM,GACNvS,WAAY,YACZuE,QAAS,KACTksE,YAAa,IAGjBV,SAAU,WACN,IAAIr9F,EAAOP,KACX,IAAIogC,EAAO7/B,EAAKd,QAAQ2gC,KACxB,IAAIp8B,EAAWzD,EAAKd,QAAQuE,SAC5B,IAAIC,EAAO1D,EAAKd,QAAQwE,KACxB,IAAI85F,EAAOx9F,EAAKd,QAAQs+F,KAQxB,GAAI/5F,IAAa,KAAM,CACnBzD,EAAKg+F,MAAQn+D,EACb7/B,EAAKi+F,UAAYlhG,EAAM0G,SAASA,GAAUzC,KAAKhB,GAC/CA,EAAKsP,QAAQ3L,KAAM3D,EAAKi+F,UAAUv6F,IAElC,OAGJ,GAAI85F,IAAS,GAAI,CACbx9F,EAAKw9F,KAAKA,GAEV,OAGJ,GAAI39D,IAAS,GAAI,CACb7/B,EAAK6/B,KAAKA,GAEV,OAGJ7/B,EAAK6/B,KAAK7/B,EAAKsP,QAAQ3L,SAG3B25F,YAAa,WACT,IAAIt9F,EAAOP,KACXO,EAAKk+F,YAAcl+F,EAAKd,QAAQouB,WAChCttB,EAAKm+F,OAASn+F,EAAKd,QAAQ4+F,MAC3B99F,EAAKo+F,OAASp+F,EAAKd,QAAQukC,MAC3BzjC,EAAKsrB,MAAQtrB,EAAKd,QAAQuS,KAC1BzR,EAAKq+F,MAAQr+F,EAAKd,QAAQytB,KAC1B3sB,EAAKs+F,cAAgBt+F,EAAKd,QAAQq+F,aAClCv9F,EAAKu+F,OAASv+F,EAAKd,QAAQw+F,MAC3B19F,EAAKw0F,UAAYx0F,EAAKd,QAAQkX,SAC9BpW,EAAKw+F,SAAWx+F,EAAKd,QAAQ2yB,QAE7B7xB,EAAKy+F,qBAGTA,kBAAmB,WACf,IAAIz+F,EAAOP,KACX,IAAIm6E,EAAa,CAAC,WAClB,IAAI8kB,EAAiB1+F,EAAKd,QAAQ6+F,YAClC,IAAIzwE,EAAattB,EAAKk+F,YACtB,IAAIJ,EAAQ99F,EAAKm+F,OACjB,IAAI16D,EAAQzjC,EAAKo+F,OACjB,IAAI3sF,EAAOzR,EAAKsrB,MAChB,IAAIqzE,EAAWl7D,EAAMhyB,KAAU3U,EAAY2U,EAAOgyB,EAAMhyB,GACxD,IAAIkb,EAAO3sB,EAAKq+F,MAChB,IAAId,EAAev9F,EAAKs+F,cACxB,IAAIZ,EAAQ19F,EAAKu+F,OACjB,IAAInoF,EAAWpW,EAAKw0F,UACpB,IAAI3iE,EAAU7xB,EAAKw+F,SAGnBx+F,EAAKsP,QAAQ4F,YAAY,SAAStG,EAAOyJ,GACrC,GAAIA,EAAU/L,QAAQ,QAAU,GAAKoyF,EAAepyF,QAAQ+L,MAAgB,EACxErY,EAAKsP,QAAQ4F,YAAYmD,KAKjC,UAAWsU,IAAS,UAAYA,IAAS,GACrCitD,EAAWj4E,KAAK,WAAagrB,GAIjC,UAAWW,IAAe,UAAYA,IAAe,GACjDssD,EAAWj4E,KAAK,WAAa2rB,GAIjC,UAAW7b,IAAS,UAAYA,IAAS,GACrCmoE,EAAWj4E,KAAK,WAAag9F,GAIjC,UAAWb,IAAU,UAAYA,IAAU,GACvClkB,EAAWj4E,KAAK,WAAam8F,GAIjC,UAAWP,IAAiB,WAAaA,IAAiB,KACtD3jB,EAAWj4E,KAAK,yBAIpB,UAAWyU,IAAa,UAAYA,IAAa,GAC7CwjE,EAAWj4E,KAAK,WAAayU,GAIjC,UAAWA,IAAa,UAAYA,IAAa,IAAMA,IAAa,iBAAmBsnF,IAAU,UAAYA,EAAMp7F,MAAM,KAAK/C,QAAU,EACpIq6E,EAAWj4E,KAAK,KAAO+7F,EAAM99F,QAAQ,IAAK,MAI9C,GAAIiyB,IAAY,MACZ+nD,EAAWj4E,KAAK+rE,GAIpB1tE,EAAKsP,QAAQqG,SAASikE,EAAWr3E,KAAK,OAG1CwoB,WAAY,SAAS7rB,GACjB,IAAIc,EAAOP,KAEXO,EAAKsP,QAAQ4F,YAAY,SAAStG,EAAOyJ,GACrC,GAAIA,EAAU/L,QAAQ,OAAS,EAC3BtM,EAAKsP,QAAQ4F,YAAYmD,KAIjCkO,EAAOnmB,GAAG2qB,WAAW9oB,KAAKjC,EAAMd,GAEhCc,EAAKq9F,WAELr9F,EAAKs9F,eAGTz9D,KAAM,SAASA,GACX,IAAI7/B,EAAOP,KACX,IAAIkN,EAAM3M,EAAKd,QAAQyN,IAGvB,GAAItN,UAAUE,SAAW,GAAKsgC,IAAS/iC,EACnC,OAAOkD,EAAKg+F,MAGhBh+F,EAAKg+F,MAAQn+D,EAGb,GAAIA,IAAS,MAAQA,IAAS,OAASA,IAAS,KAAM,CAClD7/B,EAAKsP,QAAQ3L,KAAK,IAElB,OAIJ,UAAWk8B,IAAS,SAAU,CAC1B7/B,EAAKsP,QAAQ3L,KAAKk8B,GAElB,OAIJ,UAAWA,IAAS,SAAU,CAC1B,GAAIA,EAAOlzB,EACP3M,EAAKsP,QAAQ3L,KAAKgJ,EAAM,UAExB3M,EAAKsP,QAAQ3L,KAAKk8B,GAGtB,OAIJ,UAAWA,IAAS,UAAY,aAAcA,EAAM,CAChD7/B,EAAKsP,QAAQ3L,KAAKk8B,EAAK16B,YAEvB,SAKRq4F,KAAM,SAASA,GACX,IAAIx9F,EAAOP,KACX,IAAIm/F,EAGJ,GAAIv/F,UAAUE,SAAW,GAAKi+F,IAAS1gG,EACnC,OAAOkD,EAAK6+F,MAGhB7+F,EAAK6+F,MAAQrB,EAGb,GAAIA,EAAKlxF,QAAQ,UAAY,EAAG,CAC5BsyF,EAAuB7hG,EAAM0G,SAAS05F,GACtCn9F,EAAKsP,QAAQ3L,KAAKi7F,EAAqB,CAAEpB,KAAMA,KAE/C,OAIJoB,EAAuB7hG,EAAM0G,SAASy5F,GACtCl9F,EAAKsP,QAAQ3L,KAAKi7F,EAAqB,CAAEpB,KAAMA,MAGnDlwE,WAAY,SAASwxE,GACjB,IAAI9+F,EAAOP,KAGX,GAAIJ,UAAUE,SAAW,GAAKu/F,IAAUhiG,EACpC,OAAOkD,EAAKk+F,YAGhBl+F,EAAKk+F,YAAcY,EACnB9+F,EAAKy+F,qBAGTX,MAAO,SAASA,GACZ,IAAI99F,EAAOP,KAGX,GAAIJ,UAAUE,SAAW,GAAKu+F,IAAUhhG,EACpC,OAAOkD,EAAKm+F,OAGhBn+F,EAAKm+F,OAASL,EACd99F,EAAKy+F,qBAGTz7E,KAAM,WACF,IAAIhjB,EAAOP,KACXO,EAAKw+F,SAAW,MAEhBx+F,EAAKy+F,qBAGTvsB,KAAM,WACF,IAAIlyE,EAAOP,KACXO,EAAKw+F,SAAW,KAEhBx+F,EAAKy+F,uBAQjB,OAJI/3E,EAAG+J,OAAO2sE,GAIPvgG,OAAOE,QApTd,CAsToB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAAUstC,EAAIC,EAAIC,IACrEA,GAAMD,OAEX,SAAavtC,QACTA,OAAO,kBAAkB,CACrB,cAEL,WAEH,IAAIC,EAAW,CACXC,GAAI,YACJC,KAAM,YACNC,SAAU,MACVC,YAAa,GACbotC,QAAS,CAAC,QACVuV,SAAU,IAGHpiD,EA0DRE,OAAOE,MAAMH,OA1DFE,OAAd,EACQC,EAAQF,OAAOE,MACf4C,EAAQ5C,EAAM4C,MAIdo/F,GAFJhiG,EAAM4G,KAAO5G,EAAM4G,MAAQ,GAEZhE,EAAM1C,OAAO,CACxBiD,KAAM,SAAUoP,EAASpQ,GACrB,IAAIc,EAAOP,KACXO,EAAKsP,QAAU3S,EAAE2S,GACjBpQ,EAAUA,GAAW,UACdA,EAAQhD,KACf8D,EAAKQ,aAAatB,IAEtBA,QAAS,CACL8/F,eAAgB,IAEpBC,YAAa,WACT,IAAIj/F,EAAOP,KACPP,EAAUc,EAAKd,QACf8/F,EAAiB9/F,EAAQ8/F,eAE7BA,EAAiBA,EAAeruF,IAAI,SAAS6d,GACzC,IAAItC,EAEJ,GAAIsC,IAAW,aAAc,CACzBtC,EAAYnvB,EAAMqvB,cAAcG,cAAc,CAC1CC,OAAQttB,EAAQhD,KAChBuwB,SAAU,WACV1lB,MAAO7H,EAAQwtB,WAGnB,IAAKR,GAAaA,EAAU3sB,SAAW,EACnC,MAAO,GAIf,OAAOxC,EAAMqvB,cAAcG,cAAc,CACrCC,OAAQttB,EAAQhD,KAChBuwB,SAAU+B,EACVznB,MAAO7H,EAAQsvB,GACf7B,KAAMztB,EAAQwtB,aAItB1sB,EAAKiW,QAAQN,SAASqpF,EAAez8F,KAAK,OAE9CoB,KAAM,WACF,IAAI3D,EAAOP,KAEX,OAAOO,EAAKiW,QAAQ,GAAGipF,cAUnC,OANIviG,EAAEM,OAAOF,EAAM4G,KAAM,CACjBo7F,SAAUA,IAKXliG,OAAOE,QA3Ed,CA6EoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,oBAAoB,CACvB,mBAEL,WAEH,IAAIC,EAAW,CACXC,GAAI,cACJC,KAAM,cACNC,SAAU,MACVC,YAAa,kDACbotC,QAAS,CAAE,aACXuV,SAAU,IAGHpiD,EAkIRE,OAAOE,MAAMH,OAlIFE,OAAd,EACQC,EAAQF,OAAOE,MACfgiG,EAAWhiG,EAAM4G,KAAKo7F,SAEtBI,EAAU,WACVC,EAAc,gBACdC,EAAc,gBAEdC,EAAe,SAAUhwF,EAASpQ,GAClC,GAAIG,UAAU,KAAOvC,GAAaH,EAAE+C,cAAcL,UAAU,IAAK,CAC7DH,EAAUoQ,EACVA,EAAU3S,EAAE,qBAGhB,OAAO,IAAK4iG,EAAWjwF,EAASpQ,GAAUyE,QAG1C47F,EAAaR,EAAS9hG,OAAO,CAC7BiD,KAAM,SAAUoP,EAASpQ,GACrB,IAAIc,EAAOP,KACXs/F,EAAS3+F,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GACrCc,EAAKiW,QAAUjW,EAAKsP,QAAQqG,SAASwpF,GAErC,IAAKn/F,EAAKsP,QAAQsG,KAAK,QACnB5V,EAAKsP,QAAQsG,KAAK,OAAQ5V,EAAKd,QAAQ8H,MAG3ChH,EAAKi/F,cACLj/F,EAAKw/F,cACLx/F,EAAKy/F,gBAETvgG,QAAS,CACLhD,KAAM,aACN8K,KAAM,SACNw2F,KAAM,GACNkC,UAAW,GACXC,eAAgB,GAChBC,SAAU,GACVnuF,KAAM,SACN/E,QAAS,SACTggB,SAAU,QACVY,WAAY,OACZ0xE,eAAgB,CAAE,OAAQ,UAAW,WAAY,eAErDQ,YAAa,WACT,IAAIx/F,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QACfs+F,EAAOt+F,EAAQs+F,KACfkC,EAAYxgG,EAAQwgG,UACpBC,EAAiBzgG,EAAQygG,eACzBC,EAAW1gG,EAAQ0gG,SACnBC,EAAMC,EAAKC,EAEf,GAAIJ,GAAkBC,GAAYpC,GAAQkC,EAAW,CACjDK,EAAU,KAEVzwF,EAAQisE,WAAW7rD,OAAO,WACtB,OAAS/yB,EAAE8C,MAAM0V,SAAS,cAAgBxY,EAAE8C,MAAM0V,SAAS,YAAcxY,EAAE8C,MAAM0V,SAAS,aAC3FjY,KAAK,SAASkE,EAAKyX,GAClB,GAAIA,EAAGsW,UAAY,GAAKtW,EAAGsW,UAAY,GAAKpyB,EAAMy/B,KAAK3jB,EAAG8jB,WAAWp9B,OAAS,EAC1EwgG,EAAU,QAKtB,GAAIA,EACA//F,EAAKsP,QAAQqG,SAAS,iBAG1B,GAAIiqF,EAAU,CACVE,EAAMxwF,EAAQwxC,SAAS,eAAel/C,QACtC,IAAKk+F,EAAI,GACLA,EAAMnjG,EAAE,sCAAsC4zB,UAAUjhB,GAE5DwwF,EAAIlqF,KAAK,MAAOgqF,GAChBE,EAAInqF,SAASypF,QACV,GAAI5B,GAAQkC,EAAW,CAC1BG,EAAOvwF,EAAQwxC,SAAS,eAAel/C,QACvC,IAAKi+F,EAAK,GACNA,EAAOljG,EAAE,iBAAiB4zB,UAAUjhB,GAExCuwF,EAAKjqF,KAAK,QAAS4nF,EAAO,cAAgBA,EAAOkC,GACjDG,EAAKlqF,SAASypF,QACX,GAAIO,EAAgB,CACvBE,EAAOvwF,EAAQwxC,SAAS,iBAAiBl/C,QACzC,IAAKi+F,EAAK,GACNA,EAAOljG,EAAE,kCAAkC4zB,UAAUjhB,GAEzDuwF,EAAKlqF,SAASgqF,EAAiB,IAAMP,KAG7CK,aAAc,WACV,IAAInwF,EAAU7P,KAAK6P,QAEnBA,EAAQisE,WAAW7rD,OAAO,WACtB,OAAS/yB,EAAE8C,MAAM0V,SAASiqF,KAAiBziG,EAAE8C,MAAM0V,SAAS,cAAgBxY,EAAE8C,MAAM0V,SAAS,YAAcxY,EAAE8C,MAAM0V,SAAS,aAC7HjY,KAAK,SAASkE,EAAKyX,GAClB,GAAIA,EAAGsW,UAAY,GAAKtW,EAAGsW,UAAY,GAAKpyB,EAAMy/B,KAAK3jB,EAAG8jB,WAAWp9B,OAAS,EAAG,CAC7E,GAAIsZ,EAAGsW,WAAa,EAAG,CACnB,IAAIna,EAAS6D,EAAGoI,WAChB,IAAI++E,EAAU/wF,SAASwK,cAAc,QAErCumF,EAAQnmF,YAAY5K,SAASgxF,eAAepnF,EAAG8jB,YAC/C3nB,EAAOkrF,aAAaF,EAASnnF,GAE7BA,EAAKmnF,EAGTnnF,EAAGsnF,UAAU38E,IAAI67E,SAuBrC,OAjBI1iG,EAAEM,OAAOF,EAAM4G,KAAM,CACjB27F,aAAcA,EACdC,WAAYA,IAGhBxiG,EAAMqvB,cAAc0Y,eAAe,aAAc,aAEjD/nC,EAAMqvB,cAAc4Y,eAAe,aAAc,CAAC,CAC9C/Y,KAAM,WACNtd,OAAQ5R,EAAMqvB,cAAcuZ,eAAe5xB,OAAO,CAAC,UACpD,CACCkY,KAAM,UACNtd,OAAQ5R,EAAMqvB,cAAc2X,cAAchwB,OAAO,CAAC,CAAC,OAAQ,aAK5DlX,OAAOE,QAnJd,CAqJoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAcvtC,QACVA,OAAO,eAAe,CAAC,aAAc,cAAe,qBACrD,WAEC,IAAIC,EAAW,CACXC,GAAI,SACJC,KAAM,SACNC,SAAU,MACVC,YAAa,6CACbotC,QAAS,CAAC,OAAQ,QAAS,gBAGpB7sC,EAuNRE,OAAOE,MAAMH,OAvNFE,OAAd,EACQC,EAAQF,OAAOE,MACfwpB,EAASxpB,EAAM2pB,GAAGH,OAClB5iB,EAAO5G,EAAM4G,KACb+iB,EAAK3pB,EAAM2pB,GACXM,EAAOjqB,EAAMiqB,KACbo5E,EAAQ,QACRC,EAAYtjG,EAAMW,QAAQooB,UAC1Bw6E,EAAUvjG,EAAMW,QAAQqoB,QACxBw6E,EAAW,WACXhiB,EAAK,eACLiiB,EAAW,WACXC,EAAgB,aAChBC,EAAe,UACfC,EAAc,WAEdC,EASAC,GAFJ9jG,EAAM8rC,YAAY,SAPI,CAClB20D,KAAM,GACNkC,UAAW,GACXC,eAAgB,GAChBC,SAAU,GACVj2B,MAAO,OAIEpjD,EAAOtpB,OAAO,CACvBiD,KAAM,SAAUoP,EAASpQ,GACrB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCoQ,EAAUtP,EAAKiW,QAAUjW,EAAKsP,QAC9BpQ,EAAUc,EAAKd,QAEfyE,EAAK27F,aAAahwF,EAAS3S,EAAEM,OAAO,GAAIiC,IAExCoQ,EAAQsG,KAAK,OAAQ,UAErB1W,EAAQ2kB,OAAS3kB,EAAQ2kB,QAAU3kB,EAAQukB,UAAYnU,EAAQsG,KAAK4qF,GACpExgG,EAAK6jB,OAAO3kB,EAAQ2kB,QAEpB,GAAI3kB,EAAQ2kB,OACR7jB,EAAK2qB,YAGT3qB,EAAK8gG,SAELxxF,EACKuW,GAAGu6E,EAAQ7hB,EAAIv+E,EAAKu1C,OAAOv0C,KAAKhB,IAChC6lB,GAAG,QAAU04D,EAAIv+E,EAAK+gG,OAAO//F,KAAKhB,IAClC6lB,GAAG,OAAS04D,EAAIv+E,EAAKghG,MAAMhgG,KAAKhB,IAChC6lB,GAAG,UAAY04D,EAAIv+E,EAAKihG,SAASjgG,KAAKhB,IACtC6lB,GAAG,QAAU04D,EAAIv+E,EAAKkhG,cAAclgG,KAAKhB,IACzC6lB,GAAGw6E,EAAY9hB,EAAIv+E,EAAKmhG,WAAWngG,KAAKhB,IACxC6lB,GAAGy6E,EAAU/hB,EAAM,IAAMgiB,EAAWhiB,EAAIv+E,EAAKkhG,cAAclgG,KAAKhB,IAErEjD,EAAMoxB,OAAOnuB,IAGjB0rB,QAAS,WACL,IAAI1rB,EAAOP,KAEXO,EAAKiW,QAAQ6c,IAAIyrD,GAEjB,GAAIv+E,EAAK2pE,MACL3pE,EAAK2pE,MAAMj+C,UAGfnF,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,IAG3ByB,OAAQ,CACJ2+F,GAGJlhG,QAAS,CACLhD,KAAM,SACN2nB,OAAQ,KACRJ,QAAS,KACT+5E,KAAM,GACNkC,UAAW,GACXC,eAAgB,GAChBC,SAAU,GACVj2B,MAAO,KACPl4D,KAAM,SACNqsF,MAAO,YACPpxF,QAAS,SACTggB,SAAU,QACVY,WAAY,QAGhB8zE,gBAAiB,WACb,OAAO3hG,KAAK6P,QAAQ2c,KAAK,WAAWlgB,eAAiB,UAGzDwpC,OAAQ,SAASxzC,GACb,GAAItC,KAAKP,QAAQ2kB,OACb,GAAIpkB,KAAKqC,QAAQs+F,EAAO,CAAEtlF,MAAO/Y,IAC7BA,EAAEpB,kBAKdogG,OAAQ,WACJ,GAAIthG,KAAKP,QAAQ2kB,OACbpkB,KAAK6P,QAAQqG,SAAS+qF,IAI9BM,MAAO,WACH,IAAIhhG,EAAOP,KACXO,EAAKsP,QAAQ4F,YAAYwrF,GACzB9tE,WAAW,WACP5yB,EAAKsP,QAAQ4F,YAAYyrF,MAIjCM,SAAU,SAASl/F,GACf,IAAI/B,EAAOP,KACX,GAAIsC,EAAE8+B,SAAW7Z,EAAKK,OAAStlB,EAAE8+B,SAAW7Z,EAAKa,SAAU,CACvD7nB,EAAKmhG,aAEL,IAAKnhG,EAAKohG,kBAAmB,CACzB,GAAIr/F,EAAE8+B,SAAW7Z,EAAKa,SAClB9lB,EAAEpB,iBAENX,EAAKu1C,OAAOxzC,MAKxBm/F,cAAe,WACXzhG,KAAK6P,QAAQ4F,YAAYyrF,IAG7BQ,WAAY,WACR,GAAI1hG,KAAKP,QAAQ2kB,OACbpkB,KAAK6P,QAAQqG,SAASgrF,IAI9B98E,OAAQ,SAASA,GACb,IAAI7jB,EAAOP,KACP6P,EAAUtP,EAAKsP,QAEnB,GAAIuU,IAAW/mB,EACX+mB,EAAS,KAGbA,IAAWA,EACX7jB,EAAKd,QAAQ2kB,OAASA,EACtBvU,EAAQgU,YAAYm9E,GAAgB58E,GAC/BjO,KAAK,iBAAkBiO,GACvBjO,KAAK4qF,GAAW38E,GAErB,GAAIA,EACA7jB,EAAK2qB,YAIT,IACIrb,EAAQxN,QAAQ,QAClB,MAAOu/F,MAGbP,OAAQ,WACJ,IAAI9gG,EAAOP,KACX,IAAI6hG,EAAethG,EAAKd,QAAQyqE,MAChC,IAAI43B,EAEJ,GAAID,IAAiB,MAAQA,IAAiBxkG,EAC1C,OAGJ,GAAIwkG,EAAahhG,cAAgBC,OAC7B+gG,EAAe,CAAEzhE,KAAMyhE,GAG3B,GAAIA,EAAalrF,WAAatZ,GAAawkG,EAAalrF,WAAa,GAAI,CACrEkrF,EAAalrF,SAAW,OAExB,GAAIkrF,EAAa5D,QAAU5gG,GAAawkG,EAAa5D,QAAU,GAC3D4D,EAAa5D,MAAQ,UAI7B4D,EAAavD,YAAc,CAAC,kBAE5B/9F,EAAKsP,QAAQqG,SAAS,qBAEtB4rF,EAAgB5kG,EAAE,YAAYgoC,SAAS3kC,EAAKsP,SAC5CtP,EAAK2pE,MAAQ,IAAIjjD,EAAG02E,MAAMmE,EAAeD,OAIjD,GAAIT,EAAOzgG,GAAG6G,eAAe,cAAgB,MACzC1G,OAAO6nC,eAAey4D,EAAOzgG,GAAI,WAAY,CACzC2oB,IAAK,WACD,OAAOhsB,EAAMytB,SAASmwE,UAmBtC,OAdI59F,EAAMqvB,cAAc0Y,eAAe,SAAU,aAE7C/nC,EAAMqvB,cAAc4Y,eAAe,SAAU,CAAC,CAC1C/Y,KAAM,WACNtd,OAAQ5R,EAAMqvB,cAAcuZ,eAAe5xB,OAAO,CAAC,UACpD,CACCkY,KAAM,UACNtd,OAAQ5R,EAAMqvB,cAAc2X,cAAchwB,OAAO,CAAC,CAAC,OAAQ,aAG/DhX,EAAM2pB,GAAG+J,OAAOowE,GAIbhkG,OAAOE,QArOlB,CAuOoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,yBAAyB,CAAE,cACnC,WAEH,IAAIC,EAAW,CACXC,GAAI,mBACJC,KAAM,mBACNC,SAAU,MACVC,YAAa,mHACbotC,QAAS,CAAE,SAGJ7sC,EAwVRE,OAAOE,MAAMH,OAxVFE,OAAd,EACQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM2pB,GACXH,EAASG,EAAGH,OACZtpB,EAASN,EAAEM,OACXwG,EAAW1G,EAAM0G,SACjBujB,EAAOjqB,EAAMiqB,KACbtnB,EAAgB/C,EAAE+C,cAClB2vB,EAAgB1yB,EAAE0yB,cAElBkvD,EAAK,yBACLjgF,EAAS,gBACTkjG,EAAQ,SACRC,EAAM,IAENtyD,EAAS,SAETuyD,EAAW,SAAU36F,GACrB,cAAcA,IAAU,UAGxB46F,EAAyB,CACzBn1E,OAAQ,eACRkc,KAAM,oBACNk5D,QAAS,yBACTpE,KAAM,SACN39D,KAAM,yBACNgiE,SAAU,CACNrzB,SAAU,kCACVE,WAAY,qCAEhBjH,SAAU,mBACV91C,SAAU,mBACVmwE,OAAQ,sBACRztF,OAAQ,sBACRyqB,MAAO,mBAGPijE,EAAY,CACZr5D,KAAMjlC,EAAS,gBAAkBk+F,EAAuBj5D,KAAO,aAC/Ds5D,OAAQv+F,EAAS,aAAek+F,EAAuBj5D,KAAO,wBAC9D7I,KAAMp8B,EAAS,gBAAkBk+F,EAAuB9hE,KAAO,oBAC/D29D,KAAM/5F,EAAS,gBAAkBk+F,EAAuBC,QAAU,gDAGlEK,EAAmB17E,EAAOtpB,OAAO,CACjCiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACXP,EAAUA,GAAW,GACrBqnB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCc,EAAKsP,QAAU3S,EAAE2S,GAEjBtP,EAAKkiG,oBACLliG,EAAKs5F,SACLt5F,EAAKmiG,eAGTjjG,QAAS,CACLhD,KAAM,mBACNkmG,aAAc,QACdt0E,MAAO,GACPR,WAAY,UACZu0E,SAAU,WACVl1E,KAAM,OACNtY,OAAQ,MACRytF,OAAQ,KACRr+F,SAAU,MAGdhC,OAAQ,CACJ0tC,GAGJzjB,QAAS,WACL,IAAI1rB,EAAOP,KAEXO,EAAKsP,QAAQwjB,IAAIyrD,GAEjBh4D,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,OAG3BkrB,UAAW,SAASvrB,GAChB,IAAIY,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfsb,EAAW,WACXy3E,EAAiB/yF,EAAQsG,KAAK,QAAU7Y,EAAMurB,GAAKsC,GACnDC,EAAWzrB,EAAOwW,KAAKgV,IAAatb,EAAQsG,KAAKgV,IAAay3E,EAElE,IAAIA,EAAgB,CAChB/yF,EAAQwb,WAAWF,GACnBtb,EAAQsG,KAAK,QAAU7Y,EAAMurB,GAAKsC,EAAUC,GAGhDzrB,EAAOwW,KAAKgV,GAAWrX,MAAMsX,GAAYA,EAAW,IAGxDq3E,kBAAmB,WACf,IAAIliG,EAAOP,KACPP,EAAUc,EAAKd,QACf4Y,EAAS6pF,EAGb3hG,EAAKsP,QAAQ4F,YAAY,SAAStG,EAAOyJ,GACrC,GAAIA,EAAU/L,QAAQ,QAAU,EAC5BtM,EAAKsP,QAAQ4F,YAAYmD,KAIjCrY,EAAKsP,QAAQqG,SAASmC,EAAO0U,QAC7BxsB,EAAKsP,QAAQqG,SAAS5Y,EAAM8oC,iBAAiBvnC,EAAQ,aAAcY,EAAQouB,aAC3EttB,EAAKsP,QAAQqG,SAAS5Y,EAAM8oC,iBAAiBvnC,EAAQ,OAAQY,EAAQytB,OACrE3sB,EAAKsP,QAAQqG,SAAS5Y,EAAM8oC,iBAAiB27D,EAAO,eAAgBtiG,EAAQkjG,eAC5EpiG,EAAKsP,QAAQgU,YAAYxL,EAAOgqF,OAAQ5iG,EAAQ4iG,QAChD9hG,EAAKsP,QAAQgU,YAAYxL,EAAOzD,OAAQnV,EAAQmV,QAChDrU,EAAKsiG,UAAUpjG,EAAQ2iG,WAG3BS,UAAW,SAAUhO,GACjB,IAAIt0F,EAAOP,KACP8iG,EAAoBZ,EAAuBE,SAE/C7hG,EAAKwiG,kBAAkBxiG,EAAKsP,QAASglF,EAAaiO,IAGtDC,kBAAmB,SAAUlzF,EAASvI,EAAOgjD,GACzC,GAAG23C,EAAS33C,EAAMhjD,IAAS,CACvB,IAAK,IAAIN,KAAOsjD,EACZz6C,EAAQ4F,YAAY60C,EAAMtjD,IAG9B6I,EAAQqG,SAASo0C,EAAMhjD,MAI/BuyF,OAAQ,WACJ,IAAIt5F,EAAOP,KACPP,EAAUc,EAAKd,QACf4uB,EAAQ5uB,EAAQ4uB,MAChB4a,EAEJ,IAAK,IAAIppC,EAAI,EAAGA,EAAIwuB,EAAMvuB,OAAQD,IAAK,CACnCopC,EAAO1oC,EAAKyiG,YAAY30E,EAAMxuB,IAC9BU,EAAKsP,QAAQkxD,OAAO93B,KAI5B+5D,YAAa,SAAU/5D,GACnB,IAAI1oC,EAAOP,KACPijG,EAAeh6D,EAAKjlC,UAAYzD,EAAKd,QAAQuE,SAC7Ck/F,EAASj6D,EAAKlgB,KAAOk5E,EAASh5D,EAAKlgB,KACnCo6E,EAAKpF,EAEToF,EAAMjmG,EAAEgmG,EAASl/F,EAASs+F,EAAUC,OAAnBv+F,CAA2BilC,GAAQjlC,EAASs+F,EAAUr5D,KAAnBjlC,CAAyBilC,IAE7Ek6D,EAAIt/E,YAAYq+E,EAAuBl6B,SAAU/+B,EAAK++B,WAAa,MAC9DnkD,YAAYq+E,EAAuBhwE,SAAU+W,EAAKjlB,UAAY,OAC9D9N,SAAS+yB,EAAKjpB,UACd7J,KAAK3Y,EAAO,GAAIyrC,EAAK4V,WAAY,CAC9BukD,gBAAiBn6D,EAAKjlB,UAAY,SAErC/f,KAAKglC,EAAKhlC,MAEf1D,EAAK2qB,UAAUi4E,GAEf,IAAIA,EAAIhtF,KAAK,UAAY+sF,EACrBC,EAAIhtF,KAAK,OAAQ,QAGrB,GAAI8sF,EAAc,CACdE,EAAIpiC,OAAO/8D,EAASi/F,EAATj/F,CAAuBilC,IAClC,OAAOk6D,EAGXl6D,EAAOzrC,EAAO,GAAI,CACdugG,KAAM,IACP90D,GAEH80D,EAAO7gG,EAAEolG,EAAUvE,KAAK90D,IAAO/yB,SAAS+yB,EAAKg3D,WAE7CkD,EAAIpiC,OAAOg9B,GAEX,GAAI90D,EAAK7I,KAAM,CACX6I,EAAK7I,KAAO6I,EAAKo6D,UAAY,MAAQp6D,EAAK7I,KAAO9iC,EAAM8nB,WAAW6jB,EAAK7I,MACvE+iE,EAAIpiC,OAAO7jE,EAAEolG,EAAUliE,KAAK6I,KAGhC,OAAOk6D,GAGXT,YAAa,WACT,IAAIniG,EAAOP,KACPsjG,EAAa/iG,EAAKu1C,OAAOv0C,KAAKhB,GAC9BgjG,EAAehjG,EAAKihG,SAASjgG,KAAKhB,GAEtCA,EAAKsP,QAAQuW,GAAG,QAAU04D,EAAIkjB,EAAME,EAAuBj5D,KAAMq6D,GACpDl9E,GAAG,UAAY04D,EAAIkjB,EAAME,EAAuBj5D,KAAMs6D,IAGvEztD,OAAQ,SAAU0tD,GACd,IAAIjjG,EAAOP,KACPipC,EAAO/rC,EAAEsmG,EAAG7jG,QAAQ4a,QAAQynF,EAAME,EAAuBj5D,MAE7D,GAAIA,EAAKhzB,GAAG+rF,EAAME,EAAuBhwE,UAAW,CAChDsxE,EAAGtiG,iBACH,OAGJX,EAAKkjG,eAAex6D,EAAMu6D,IAG9BC,eAAgB,SAAUx6D,EAAMu6D,GAC5B,IAAIjjG,EAAOP,KAEX,GAAIipC,EAAKhzB,GAAG+rF,EAAME,EAAuBhwE,UACrC,OAGJ,GAAG3xB,EAAK8B,QAAQqtC,EAAQ,CAAE5pB,cAAe09E,EAAIv6D,KAAMA,EAAMhlC,KAAMglC,EAAKhlC,SAChE,OAGJ1D,EAAKs/B,OAAOoJ,IAGhBu4D,SAAU,SAAUgC,GAChB,IAAIjjG,EAAOP,KACPL,EAASzC,EAAEsmG,EAAG7jG,QACdqH,EAAMw8F,EAAGpiE,QAEb,GAAIp6B,IAAQugB,EAAKK,OAAS5gB,IAAQugB,EAAKa,SACnC,GAAG7nB,EAAKmjG,QAAQ/jG,GAAS,CACrBY,EAAKkjG,eAAe9jG,EAAQ6jG,GAE5B,GAAIx8F,IAAQugB,EAAKa,SACbo7E,EAAGtiG,mBAMnBwiG,QAAS,SAASz6D,GACd,IAAI1oC,EAAOP,KAEXipC,EAAO/rC,EAAE+rC,GAET,OAAOA,EAAKhzB,GAAG+rF,EAAME,EAAuBj5D,SAAW1oC,EAAKsP,QAAQkgB,KAAKkZ,GAAMnpC,QAGnFuuB,MAAO,WACH,IAAI9tB,EAAOP,KAEX,OAAOO,EAAKsP,QAAQwxC,YAGxBxhB,OAAQ,SAAUoJ,EAAMwgB,GACpB,IAAIlpD,EAAOP,KACP2jG,EAAepjG,EAAK8tB,QAAQ4B,OAAO+xE,EAAME,EAAuBl6B,UAEpE,IAAK/+B,EACD,OAAO06D,EAGXl6C,EAAQA,IAAU,MAElB,GAAGlpD,EAAKmjG,QAAQz6D,GAAO,CACnB06D,EAAaluF,YAAYysF,EAAuBl6B,UAChD9qE,EAAE+rC,GAAMplB,YAAYq+E,EAAuBl6B,SAAUve,KAI7DrlC,OAAQ,SAAU6kB,EAAMwgB,GACpB,IAAIlpD,EAAOP,KAEXypD,EAAQA,IAAU,MAElB,GAAIxgB,GAAQ1oC,EAAKmjG,QAAQz6D,GAAO,CAC5B/rC,EAAE+rC,GAAMplB,YAAYq+E,EAAuBhwE,SAAUu3B,GACrDvsD,EAAE+rC,GAAM9yB,KAAK,gBAAiBszC,KAItCxgB,KAAM,SAAU95B,GACZ,IAAI5O,EAAOP,KAEX,GAAI8T,MAAM3E,GACN,OAAO,KAGX,OAAO5O,EAAK8tB,QAAQyD,GAAG3iB,IAG3By0F,SAAU,SAAUpnG,GAChB,IAAI+D,EAAOP,KAEX,OAAOO,EAAKsP,QAAQkgB,KAAK,IAAMvzB,IAGnCunB,IAAK,SAAUklB,EAAMsuD,GACjB,IAAIh3F,EAAOP,KACPoxB,EAAS,SACTw3D,EAAgBroF,EAAKsP,QAEzB,GAAG0nF,GAAUh3F,EAAKmjG,QAAQnM,GAAS,CAC/BnmE,EAAS,SACTw3D,EAAgB1rF,EAAEq6F,GAGtB,GAAGtuD,GAAQhpC,EAAcgpC,KAAUrZ,EAAcqZ,GAC7C2/C,EAAcx3D,GAAQ7wB,EAAKyiG,YAAY/5D,KAI/ClY,OAAQ,SAAUkY,GACd,IAAI1oC,EAAOP,KAEX,GAAGipC,GAAQ1oC,EAAKmjG,QAAQz6D,GACpBA,EAAKlY,UAIb8yE,SAAU,SAAU/+E,GAChB,IAAIvkB,EAAOP,KACP8jG,EAAYvjG,EAAK8tB,QAAQ0B,KAAKiyE,EAAME,EAAuB9hE,MAE/Dtb,EAASA,IAAW,MAEpBg/E,EAAUh/E,OAAOA,IAGrBwG,WAAY,SAAU7rB,GAClB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAG2qB,WAAW9oB,KAAKxC,KAAMP,GAChCc,EAAKkiG,oBAEL,GAAI,UAAWhjG,GAAW,aAAcA,EAAS,CAC7Cc,EAAKsP,QAAQ8xC,QACbphD,EAAKs5F,aAQrB,OAHI5yE,EAAG+J,OAAOwxE,GAGPplG,OAAOE,QAtWd,CAwWoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OACrF,SAAavtC,QACTA,OAAO,cAAc,CAAE,cACxB,WAEH,IAAIC,EAAW,CACXC,GAAI,QACJC,KAAM,QACNC,SAAU,YACVqtC,QAAS,CAAE,QACXyqD,SAAU,MAGJt3F,EAosBPE,OAAOE,MAAMH,OApsBHE,OAAb,EACQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM2pB,GACXH,EAASG,EAAGH,OACZS,EAAOjqB,EAAMiqB,KACbvjB,EAAW1G,EAAM0G,SACjB+/F,EAAQ,sBACRC,EAAO,uBACPC,EAAO,qBACPC,EAAO,sBACPC,EAAO,wBACPC,EAAY,uCACZn6D,EAAS,SACT60C,EAAK,cACL6hB,EAAQ,QACR0D,EAAU,UACVtD,EAAW,WACXH,EAAY,OACZ0D,EAAYh+F,OAAOg+F,UACnBjrF,EAAQ,MACRokF,EAAengG,EAAM0G,SAAS,oMAElC,SAASk3F,EAAOz7F,GACZ,OAAOA,EAAQuE,SAAU,CACrBrC,IAAKlC,EAAQkC,IACby+B,KAAM3gC,EAAQ2gC,KACdvX,GAAIvrB,EAAMurB,GACV07E,QAAS9kG,EAAQ8kG,QACjBj5D,MAAO7rC,EAAQ6rC,OAAS,GACxBlgB,SAAU3rB,EAAQ+kG,YAAc,GAAK,EACrCA,YAAa/kG,EAAQ+kG,cAI7B,SAASC,EAAazgG,EAAUrC,EAAKy+B,EAAM4nC,GACvC,OAAOhkE,EAAU,CACbrC,IAAKA,EACLy+B,KAAMA,GAAQz+B,EACdqmE,SAAUA,GAAY,QAI9B,SAAS+1B,EAAKnlF,EAAWwnB,EAAMskE,EAAeloG,GAC1C,OAAOihG,EAAa,CAChB7kF,UAAWA,EAAU3V,UAAU,GAC/Bm9B,KAAMA,EACNskE,cAAeA,GAAiB,GAChCloG,GAAIA,GAAM,KAIlB,SAASygD,EAAOptC,EAASwR,EAAUs3B,EAAMzmB,GACtCriB,EAAQkgB,KAAK1O,GACL9L,SACAY,KAAK7Y,EAAM6Y,KAAK,QAASwiC,GACzBxiC,KAAK,WAAY+b,GAAY,EAAI,GACjCrO,YAAY,mBAAoBqO,GAG3C,SAAS/vB,EAAM0N,EAAS8oC,GACpBsE,EAAOptC,EAASk0F,EAAO,EAAGprD,GAAQ,GAGtC,SAASxL,EAAKt9B,EAAS8oC,GACnBsE,EAAOptC,EAASo0F,EAAMnmG,KAAKoP,IAAI,EAAGyrC,EAAO,GAAIA,GAAQ,GAGzD,SAASgjB,EAAK9rD,EAAS8oC,EAAMijB,GACzB3e,EAAOptC,EAASq0F,EAAMpmG,KAAKiR,IAAI6sD,EAAYjjB,EAAO,GAAIA,GAAQijB,GAGlE,SAAS3hC,EAAKpqB,EAAS8oC,EAAMijB,GACzB3e,EAAOptC,EAASm0F,EAAMpoC,EAAYjjB,GAAQijB,GAG9C,IAAI+oC,EAAQ79E,EAAOtpB,OAAQ,CACvBiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAAM24C,EAAMijB,EACvB,IAAIgpC,EAAgB,KAEpB99E,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCA,EAAUc,EAAKd,QACfc,EAAKskG,kBAAkBplG,GACvBc,EAAKukG,aAAexnG,EAAM0G,SAASzD,EAAKd,QAAQqlG,cAChDvkG,EAAKwkG,eAAiBznG,EAAM0G,SAASzD,EAAKd,QAAQslG,gBAClDxkG,EAAKykG,oBAAsB1nG,EAAM0G,SAASzD,EAAKd,QAAQulG,qBACvDzkG,EAAK0kG,0BAA4B3nG,EAAM0G,SAASzD,EAAKd,QAAQwlG,2BAE7DtsD,EAAOp4C,EAAKo4C,OACZijB,EAAar7D,EAAKq7D,aAElBr7D,EAAK2kG,gBAAkB3kG,EAAKuZ,QAAQvY,KAAKhB,GAEzCA,EAAKoqB,WAAWppB,KAAK0oC,EAAQ1pC,EAAK2kG,iBAClC3kG,EAAK4kG,UAAY7nG,EAAMu4B,cAAc+qE,EAAWtjG,EAAMksB,QAEtDnQ,EAAQ/b,EAAMW,QAAQob,MAAMxJ,GAE5B,GAAIpQ,EAAQ+kG,YACRjkG,EAAK2rC,IAAM3rC,EAAKsP,QAAQsG,KAAK,OAAS7Y,EAAMksB,OAEhDjpB,EAAKi+F,YAEL,GAAI/+F,EAAQ2lG,aAAc,CACtB,IAAK7kG,EAAKsP,QAAQkgB,KAAKg0E,GAAOjkG,OAAQ,CAClCS,EAAKsP,QAAQkxD,OAAOg9B,EAAKgG,EAAOtkG,EAAQ6nB,SAASnlB,MAAO,gBAAiB5B,EAAK2rC,MAE9E/pC,EAAM5B,EAAKsP,QAAS8oC,EAAMijB,GAG9B,IAAKr7D,EAAKsP,QAAQkgB,KAAKk0E,GAAMnkG,OAAQ,CACjCS,EAAKsP,QAAQkxD,OAAOg9B,EAAKkG,EAAMxkG,EAAQ6nB,SAAS0tD,SAAU,KAAMz0E,EAAK2rC,MAErEiB,EAAK5sC,EAAKsP,QAAS8oC,EAAMijB,IAIjC,GAAIn8D,EAAQ8kG,QAAS,CACjB,IAAKhkG,EAAK8kG,aAAc,CACpB9kG,EAAK8kG,aAAe9kG,EAAKsP,QAAQkgB,KAAK,yBAEtC,GAAIxvB,EAAK8kG,aAAavlG,SAAW,EAC7BS,EAAK8kG,aAAenoG,EAAE,wCAAwCgoC,SAAS3kC,EAAKsP,SAIpF,IAAKtP,EAAK+kG,eAAgB,CACtB/kG,EAAK+kG,eAAiB/kG,EAAK8kG,aAAat1E,KAAK,eAE7C,GAAIxvB,EAAK+kG,eAAexlG,SAAW,EAChCS,EAAK+kG,eAAiBpoG,EAAE,0DAA0DgoC,SAAS3kC,EAAK8kG,cAIvG,IAAK9kG,EAAKuhE,KAAM,CACZvhE,EAAKuhE,KAAOvhE,EAAK8kG,aAAat1E,KAAK,oBAEnC,GAAIxvB,EAAKuhE,KAAKhiE,SAAW,EACtBS,EAAKuhE,KAAO5kE,EAAE,kCAAkCgoC,SAAS3kC,EAAK8kG,cAIrE,GAAI5lG,EAAQkrB,aAAelrB,EAAQkrB,WAAWmyB,QAAS,CACnDv8C,EAAK+kG,eAAe3jD,QAAQof,OAAO,wBACnCxgE,EAAKuhE,KAAKngB,QAAQof,OAAOxgE,EAAKwkG,eAAe,CAAE3kE,KAAM,EAAGhV,SAAU3rB,EAAQ8lG,YAAc,GAAK,EAAGf,YAAa/kG,EAAQ+kG,YAAal5D,MAAOhuC,EAAMuH,OAAOpF,EAAQ6nB,SAASk+E,gBAAiB,OAIhM,GAAI/lG,EAAQ2gB,MAAO,CACf,IAAK7f,EAAKsP,QAAQkgB,KAAK,kBAAkBjwB,OACtCS,EAAKsP,QAAQkxD,OAAO,uCAChBthE,EAAQ6nB,SAASqxB,KACjB,+GACAr7C,EAAMuH,OAAOpF,EAAQ6nB,SAASm+E,GAAI7pC,GAClC,WAGPr7D,EAAKsP,QAAQuW,GAAGi+E,EAAUvlB,EAAI,uBAAwBv+E,EAAKihG,SAASjgG,KAAKhB,IAG7E,GAAId,EAAQ2lG,aAAc,CACtB,IAAK7kG,EAAKsP,QAAQkgB,KAAKm0E,GAAMpkG,OAAQ,CACjCS,EAAKsP,QAAQkxD,OAAOg9B,EAAKmG,EAAMzkG,EAAQ6nB,SAASq0C,KAAM,KAAMp7D,EAAK2rC,MAEjEyvB,EAAKp7D,EAAKsP,QAAS8oC,EAAMijB,GAG7B,IAAKr7D,EAAKsP,QAAQkgB,KAAKi0E,GAAMlkG,OAAQ,CACjCS,EAAKsP,QAAQkxD,OAAOg9B,EAAKiG,EAAMvkG,EAAQ6nB,SAAS2S,KAAM,eAAgB15B,EAAK2rC,MAE3EjS,EAAK15B,EAAKsP,QAAS8oC,EAAMijB,IAIjC,GAAIn8D,EAAQimG,UAAU,CAClB,IAAKnlG,EAAKsP,QAAQkgB,KAAK,kBAAkBjwB,OAAO,CAC5C,IAAI4lG,EAAYjmG,EAAQimG,UAAU5lG,OAASL,EAAQimG,UAAY,CAAC,MAAO,EAAG,GAAI,IAC9E,IAAIC,EAAYzoG,EAAEgU,IAAIw0F,EAAW,SAAS1zF,GACtC,GAAIA,EAAK1F,aAAe0F,EAAK1F,gBAAkB,MAC3C,MAAO,uBAAyB7M,EAAQ6nB,SAASs+E,SAAW,YAGhE,MAAO,WAAa5zF,EAAO,cAG/B9U,EAAE,wDAA0DuC,EAAQ6nB,SAASu+E,aAAe,WACvF3gE,SAAS3kC,EAAKsP,SACdkgB,KAAK,UAAU7rB,KAAKyhG,EAAU7iG,KAAK,KAAKc,MACxCshC,SAAS3kC,EAAKsP,SAGvBtP,EAAKsP,QAAQkgB,KAAK,yBAAyBs7B,IAAI9qD,EAAKm4C,YAEpD,GAAIp7C,EAAM2pB,GAAG6+E,aACVvlG,EAAKsP,QAAQkgB,KAAK,yBAAyB0iD,OAAOt8D,KAAK,aAAc1W,EAAQ6nB,SAASy+E,uBAAuBC,oBAGhHzlG,EAAKsP,QAAQuW,GAAG6jB,EAAS60C,EAAI,wBAAyBv+E,EAAKy0D,QAAQzzD,KAAKhB,IAG5E,GAAId,EAAQqa,QAAS,CACjB,IAAKvZ,EAAKsP,QAAQkgB,KAAK,oBAAoBjwB,OACvCS,EAAKsP,QAAQkxD,OAAO,qDAAuDthE,EAAQ6nB,SAASxN,QACxF,iBAAmBra,EAAQ6nB,SAASxN,QAAU,iDAGtDvZ,EAAKsP,QAAQuW,GAAGu6E,EAAQ7hB,EAAI,mBAAoBv+E,EAAK0lG,cAAc1kG,KAAKhB,IAG5E,GAAId,EAAQw5B,KACR,IAAK14B,EAAKsP,QAAQkgB,KAAK,iBAAiBjwB,OACpCS,EAAKsP,QAAQkxD,OAAO,yCAI5BxgE,EAAKsP,QACAuW,GAAGu6E,EAAQ7hB,EAAK,IAAKv+E,EAAKu1C,OAAOv0C,KAAKhB,IACtC6lB,GAAG6jB,EAAS60C,EAAK,oBAAqBv+E,EAAK2lG,qBAAqB3kG,KAAKhB,IACrE2V,SAAS,qCAEd,GAAIzW,EAAQ+nE,SACRjnE,EAAKuZ,UAGTvZ,EAAK4lG,eAAiB5lG,EAAKmmB,OAAOnlB,KAAKhB,EAAM,MAC7CrD,EAAEE,QAAQgpB,GAAG,SAAW04D,EAAIv+E,EAAK4lG,gBAEjCvB,EAAgBrkG,EAAK6lG,mBAAmB7lG,EAAKsP,QAAQE,cAErD,GAAI60F,EACArkG,EAAKsP,QAAQqG,SAAS0uF,GAG1BrkG,EAAK8lG,eAEL/oG,EAAMoxB,OAAOnuB,IAGjB0rB,QAAS,WACL,IAAI1rB,EAAOP,KAEX8mB,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,GAEvBA,EAAKsP,QAAQwjB,IAAIyrD,GACjBv+E,EAAKoqB,WAAW1oB,OAAOgoC,EAAQ1pC,EAAK2kG,iBACpC3kG,EAAK2kG,gBAAkB,KACvBhoG,EAAEE,QAAQi2B,IAAI,SAAWyrD,EAAI9+E,KAAKmmG,gBAElC7oG,EAAM2uB,QAAQ1rB,EAAKsP,SACnBtP,EAAKsP,QAAUtP,EAAKuhE,KAAO,MAG/B9/D,OAAQ,CACJioC,GAGJxqC,QAAS,CACLhD,KAAM,QACN6pG,aAAc,iDACdvB,eAAgB,oJAChBC,oBAAqB,kFACrBF,aAAc,8IACdyB,oBAAqB,qIACrBtB,0BAA2B,wFAC3BuB,YAAa,GACbh/B,SAAU,KACV+8B,QAAS,KACTtrE,KAAM,KACN7Y,MAAO,MACPglF,aAAc,KACdM,UAAW,MACX5rF,QAAS,MACT2sF,WAAY,KACZjC,YAAa,MACbl9E,SAAU,CACNs+E,SAAU,MACVlvF,QAAS,yBACTirC,MAAO,sBACPhJ,KAAM,OACN8sD,GAAI,SACJI,aAAc,iBACdL,gBAAiB,WACjBO,sBAAuB,uBACvB5jG,MAAO,uBACP6yE,SAAU,0BACVrZ,KAAM,sBACN1hC,KAAM,sBACNngB,QAAS,UACT4sF,UAAW,eAInBC,cAAe,SAASh8E,GACpB,IAAIpqB,EAAOP,KAEXO,EAAKoqB,WAAW1oB,OAAOgoC,EAAQ1pC,EAAK2kG,iBACpC3kG,EAAKoqB,WAAapqB,EAAKd,QAAQkrB,WAAaA,EAC5CA,EAAWppB,KAAK0oC,EAAQ1pC,EAAK2kG,iBAE7B,GAAI3kG,EAAKd,QAAQ+nE,SACb78C,EAAW8wC,SAInB3vC,QAAS,SAAS9Z,GACd,GAAIA,EAAK2D,MAAO,CACZ,IAAIivF,EAAgB5kG,KAAKomG,mBAAmBp0F,EAAK2D,OACjD,IAAIyD,EAAKpZ,KAAK6P,QAEd,IAAK+0F,EACDxrF,EAAG3D,YAAY0uF,QACZ,IAAK/qF,EAAG1D,SAASkvF,GAAgB,CACpCxrF,EAAG3D,YAAY0uF,GACf/qF,EAAGlD,SAAS0uF,MAKxBC,kBAAmB,SAASplG,GACxBO,KAAK2qB,WAAartB,EAAM2G,KAAKgT,WAAWimC,OAAOz9C,EAAQkrB,aAG3D7Q,QAAS,SAASxX,GACd,IAAI/B,EAAOP,KACP2B,EACAiC,EACAuI,EAAQ,EACRy6F,EACAjuD,EAAOp4C,EAAKo4C,OACZz0C,EAAO,GACP2iG,EAAa,GACbpnG,EAAUc,EAAKd,QACfi5C,EAAWn4C,EAAKm4C,WAChBouD,EAAiBvmG,EAAKwmG,kBACtBjqD,EAAQv8C,EAAKoqB,WAAW4nC,gBAAkBhyD,EAAKoqB,WAAWoxC,YAAY,MAAQx7D,EAAKoqB,WAAWmyB,QAC9F8e,EAAar7D,EAAKq7D,aAClBkpC,EAAevkG,EAAKukG,aACpBN,EAAc/kG,EAAQ+kG,YACtBS,EAA4B1kG,EAAK0kG,0BACjCuB,EAAc/mG,EAAQ+mG,YAE1B,GAAIlkG,GAAKA,EAAEyiC,QAAU,aACjB,OAGJ,GAAItlC,EAAQ8kG,QAAS,CAEjB,GAAI5rD,EAAO6tD,EAAa,CACpBI,EAAYjuD,EAAO6tD,EACnBr6F,EAASy6F,IAAa,EAAMjuD,EAAO6tD,EAAe,EAAK7tD,EAAOiuD,EAAY,EAG9EhjG,EAAM9F,KAAKiR,IAAK5C,EAAQq6F,EAAe,EAAG5qC,GAE1C,GAAIzvD,EAAQ,EAAG,CACXjI,GAAQg3F,EAAO,CACXl3F,SAAU8gG,EACVN,YAAaA,EACb7iG,IAAKwK,EAAQ,EACbi0B,KAAM,MACNmkE,QAAS,MACTj5D,MAAO7rC,EAAQ6nB,SAASo/E,YAE5BG,GAAcpC,EAAaQ,EAA2B94F,EAAQ,EAAG1M,EAAQ6nB,SAASo/E,WAGtF,IAAK/kG,EAAMwK,EAAOxK,GAAOiC,EAAKjC,IAAO,CACjCuC,GAAQg3F,EAAO,CACXl3F,SAAUrC,GAAOg3C,EAAOp4C,EAAKwkG,eAAiBD,EAC9CN,YAAaA,EACb7iG,IAAKA,EACLy+B,KAAMz+B,EACN4iG,QAAS,KACTj5D,MAAOhuC,EAAMuH,OAAOpF,EAAQ6nB,SAASk+E,gBAAiB7jG,KAE1DklG,GAAcpC,EAAaQ,EAA2BtjG,EAAKA,EAAKA,GAAOg3C,GAG3E,GAAI/0C,EAAMg4D,EAAY,CAClB13D,GAAQg3F,EAAO,CACXl3F,SAAU8gG,EACVN,YAAaA,EACb7iG,IAAKA,EACLy+B,KAAM,MACNmkE,QAASU,EACT35D,MAAO7rC,EAAQ6nB,SAASo/E,YAE5BG,GAAcpC,EAAaQ,EAA2BtjG,EAAKlC,EAAQ6nB,SAASo/E,WAGhF,GAAIxiG,IAAS,GAAI,CACbA,EAAO3D,EAAKwkG,eAAe,CAAE3kE,KAAM,EAAGhV,SAAUo5E,EAAc,GAAK,EAAGA,YAAaA,EAAal5D,MAAOhuC,EAAMuH,OAAOpF,EAAQ6nB,SAASk+E,gBAAiB,KACtJqB,EAAa3pG,EAAE,wBAGnBqD,EAAKuhE,KAAK59D,KAAKA,GACf3D,EAAK+kG,eAAephG,KAAK2iG,GAG7B,GAAIpnG,EAAQw5B,KAAM,CACd,GAAI6jB,EAAQ,EACR54C,EAAO5G,EAAMuH,OAAOpF,EAAQ6nB,SAAS5Q,QACjCnW,EAAKoqB,WAAWlrB,QAAQk3D,QAAU,EAAI74D,KAAKiR,KAAK4pC,EAAO,IAAMp4C,EAAKoqB,WAAW+tB,YAAc,GAAK,EAAGouD,GACnGhpG,KAAKiR,IAAI4pC,EAAOD,EAAUouD,GAC9BhqD,QAEA54C,EAAOzE,EAAQ6nB,SAASq6B,MAG5BphD,EAAKsP,QAAQkgB,KAAK,iBAAiB7rB,KAAKA,GAG5C,GAAIzE,EAAQ2gB,MACR7f,EAAKsP,QACAkgB,KAAK,kBACL7rB,KAAK3D,EAAKd,QAAQ6nB,SAASqxB,KACxB,kHAAoHA,EAAO,YAC3Hr7C,EAAMuH,OAAOpF,EAAQ6nB,SAASm+E,GAAI7pC,IACrC7rC,KAAK,SACLs7B,IAAI1S,GACJxiC,KAAK4qF,EAAUjkD,EAAQ,GACvBj5B,YAAY,mBAAoBi5B,EAAQ,GAGjD,GAAIr9C,EAAQ2lG,aAAc,CACtBjjG,EAAM5B,EAAKsP,QAAS8oC,EAAMijB,GAE1BzuB,EAAK5sC,EAAKsP,QAAS8oC,EAAMijB,GAEzBD,EAAKp7D,EAAKsP,QAAS8oC,EAAMijB,GAEzB3hC,EAAK15B,EAAKsP,QAAS8oC,EAAMijB,GAG7B,GAAIn8D,EAAQimG,UAAW,CACnB,IAAIsB,EAASzmG,EAAKsP,QAAQkgB,KAAK,sCAAsCjwB,OAAS,EAC9E,IAAImnG,EAAYD,IAAWtuD,IAAa14C,KAAK2qB,WAAWmyB,SAAWpE,GAAY4rD,GAC/E,IAAIlkE,EAAOsY,EACX,GAAIuuD,EAAW,CACXvuD,EAAW,MACXtY,EAAO3gC,EAAQ6nB,SAASs+E,SAG5BrlG,EAAKsP,QACAkgB,KAAK,yBACLs7B,IAAI3S,GACJviC,KAAK,aAAcuiC,GACnBzoB,OAAO,IAAM3yB,EAAM6Y,KAAK,QAAU,kBAClC6vF,kBAAkB,QAASttD,GAC3BstD,kBAAkB,OAAQ5lE,GAGnC7/B,EAAK2mG,cAAc/6F,EAAOvI,EAAKg4D,GAC/Br7D,EAAK4mG,0BACL5mG,EAAK6mG,eAGTD,wBAAyB,WACrB,IAAI13F,EAAgBnS,EAAMiS,iBAC1B,GAAIvP,KAAKP,QAAQ+kG,cAAgB/0F,IAAkBzP,KAAK6P,QAAQ,KAAO3S,EAAEiyB,SAASnvB,KAAK6P,QAAQ,GAAIJ,IAC/FzP,KAAK6P,QAAQkgB,KAAKq0E,GAAWjuF,KAAK,YAAa,IAIvD+wF,cAAe,SAAU/6F,EAAOvI,EAAKg4D,GACjC,IAAIr7D,EAAOP,KAEX,IAAKO,EAAKd,QAAQ+kG,YACd,OAGJ,GAAIjkG,EAAK8mG,eAAgB,CACrB9mG,EAAKsP,QAAQkgB,KAAK,qBAAqB1tB,QAAQ,SAC/C9B,EAAK8mG,eAAiB,KAG1B,GAAI9mG,EAAK+mG,aAAe,KAAM,CAC1B,GAAI1jG,EAAMg4D,GAAcr7D,EAAK+mG,WACzB/mG,EAAKuhE,KAAK/xC,KAAK,MAAMkK,OAAOlK,KAAK,KAAK1tB,QAAQ,SAElD,IAAK9B,EAAK+mG,YAAcn7F,EAAQ,EAC5B5L,EAAKuhE,KAAK/xC,KAAK,MAAM5tB,QAAQ4tB,KAAK,KAAK1tB,QAAQ,SAEnD9B,EAAK+mG,WAAa,OAI1BC,mBAAoB,WAChBvnG,KAAK6P,QACAkgB,KAAK,0CACL5Z,KAAK,WAAY,IAG1B4wF,gBAAiB,WACb,OAAO/mG,KAAK2qB,WAAWmyB,SAG3B0kD,SAAU,SAASl/F,GACf,GAAIA,EAAE8+B,UAAY9jC,EAAMiqB,KAAKK,MAAO,CAChC,IAAIxH,EAAQpgB,KAAK6P,QAAQkgB,KAAK,kBAAkBA,KAAK,SACjD4oB,EAAOtpC,SAAS+Q,EAAMirC,MAAO,IAEjC,GAAIv3C,MAAM6kC,IAASA,EAAO,GAAKA,EAAO34C,KAAK47D,aACvCjjB,EAAO34C,KAAK24C,OAGhBv4B,EAAMirC,IAAI1S,GAEV34C,KAAK24C,KAAKA,KAIlBstD,cAAe,SAAS3jG,GACpBA,EAAEpB,iBAEFlB,KAAK2qB,WAAW2uB,QAGpB0b,QAAS,SAAS1yD,GACd,IAAIgF,EAAQhF,EAAEivC,cAAcjqC,MAC5B,IAAIoxC,EAAWrpC,SAAS/H,EAAO,IAC/B,IAAIqjB,EAAa3qB,KAAK2qB,WAEtB,IAAK7W,MAAM4kC,GACP/tB,EAAW+tB,SAASA,QACjB,IAAKpxC,EAAQ,IAAIgF,eAAiB,MAAO,CAC5Cqe,EAAWslC,UAAY5yD,EACvBstB,EAAWotC,MAAQ16D,EACnBstB,EAAW+rC,MAAQ,EACnB/rC,EAAW8wC,UAInB+iC,UAAW,WACPx+F,KAAKwnG,cAAgBxjG,EAAShE,KAAKP,QAAQ6mG,cAAc/kG,KAAKvB,OAGlEonG,YAAa,WACT,IAAKpnG,KAAKP,QAAQ+kG,YACd,OAEJxkG,KAAK6P,QAAQsG,KAAK,aAAcnW,KAAKwnG,cAAc,CAAE7uD,KAAM34C,KAAK24C,OAAQijB,WAAY57D,KAAK47D,iBAG7FyqC,aAAc,WACV,IAAI9lG,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QAEnB,IAAKA,EAAQ+kG,YACT,OAGJjkG,EAAKsP,QAAQsG,KAAK,OAAQ,eAC1B5V,EAAKsP,QAAQsG,KAAK,KAAM5V,EAAK2rC,KAC7B3rC,EAAKi+F,YACLj+F,EAAK6mG,cAEL7mG,EAAK2qB,UAAU3qB,EAAKsP,SAEpBtP,EAAKsP,QAAQuW,GAAG,UAAY04D,EAAIv+E,EAAMA,EAAKknG,SAASlmG,KAAKhB,IACzDA,EAAKsP,QAAQuW,GAAG,WAAa04D,EAAI,WAAav+E,EAAKsP,QAAQ4F,YAAY,qBACvElV,EAAKsP,QAAQuW,GAAG,UAAY04D,EAAK,SAASx8E,GACtC/B,EAAKsP,QAAQqG,SAAS,mBAEtB,GAAI5T,EAAE3C,SAAWY,EAAKsP,QAAQ,GAC1BtP,EAAKsP,QAAQkgB,KAAKq0E,GAAWjuF,KAAK,YAAa,QAE/C5V,EAAKsP,QAAQ4F,YAAY,sBAKrCgyF,SAAU,SAAUnlG,GAChB,IAAI/B,EAAOP,KACX,IAAIL,EAASzC,EAAEoF,EAAE3C,QACjB,IAAI+nG,EACJ,IAAIC,EAAU,MACd,IAAIC,EAEJ,GAAIjoG,EAAO,KAAOY,EAAKsP,QAAQ,IAAMvN,EAAE8+B,SAAW7Z,EAAKK,MAAO,CAC1DrnB,EAAKgnG,qBACLhnG,EAAKsP,QAAQkgB,KAAKq0E,GAAWjiG,QAAQE,QAAQ,SAC7CslG,EAAU,KAGd,GAAIhoG,EAAO,KAAOY,EAAKsP,QAAQ,IAAMvN,EAAE8+B,SAAW7Z,EAAKM,IAAK,CACxDtnB,EAAKsP,QAAQxN,QAAQ,SACrBslG,EAAU,KAGd,GAAIhoG,EAAO,KAAOY,EAAKsP,QAAQ,IAAMvN,EAAE8+B,SAAW7Z,EAAKY,KAAM,CACzD5nB,EAAKo4C,KAAK,GACVgvD,EAAU,KAGd,GAAIhoG,EAAO,KAAOY,EAAKsP,QAAQ,IAAMvN,EAAE8+B,SAAW7Z,EAAKW,IAAK,CACxD3nB,EAAKo4C,KAAKp4C,EAAKq7D,cACf+rC,EAAU,KAGd,GAAIhoG,EAAO,KAAOY,EAAKsP,QAAQ,KAAOvN,EAAE8+B,UAAY/nB,EAAQkO,EAAKO,KAAOP,EAAKS,QAAU1lB,EAAE8+B,SAAW7Z,EAAKe,UAAW,CAChH/nB,EAAKo4C,KAAKp4C,EAAKo4C,OAAS,GACxBgvD,EAAU,KAGd,GAAIhoG,EAAO,KAAOY,EAAKsP,QAAQ,KAAOvN,EAAE8+B,UAAY/nB,EAAQkO,EAAKS,MAAQT,EAAKO,OAASxlB,EAAE8+B,SAAW7Z,EAAKc,QAAS,CAC9G9nB,EAAKo4C,KAAMp4C,EAAKo4C,OAAS,GAAM,GAC/BgvD,EAAU,KAGd,GAAIhoG,EAAO,KAAOY,EAAKsP,QAAQ,IAAMvN,EAAE8+B,SAAU7Z,EAAKI,IAAK,CACvD+/E,EAAennG,EAAKsP,QAAQkgB,KAAKq0E,GACjCwD,EAAeF,EAAav4F,MAAMxP,GAElC,GAAI2C,EAAE++B,SACF,GAAIumE,EAAe,EAAI,EACnBF,EAAaztE,OAAO53B,QAAQ,cAE5BqlG,EAAa51E,GAAG81E,EAAe,GAAGvlG,QAAQ,cAG9C,GAAIulG,EAAe,EAAIF,EAAa5nG,OAChC4nG,EAAa51E,GAAG81E,EAAc,GAAIvlG,QAAQ,cAE1CqlG,EAAavlG,QAAQE,QAAQ,SAIrCslG,EAAU,KAGd,GAAIA,EAAS,CACTrlG,EAAEpB,iBACFoB,EAAEgyB,oBAIV4xE,qBAAsB,SAAS5jG,GAC3B,IAAI3C,EAAS2C,EAAEivC,cACf,IAAIjqC,EAAQ3H,EAAO2H,MACnB,IAAIqxC,EAAOtpC,SAAS/H,EAAO,IAE3B3H,EAAOqV,OAEPhV,KAAK24C,KAAKA,IAGd7C,OAAQ,SAASxzC,GACb,IAAI3C,EAASzC,EAAEoF,EAAEivC,eAEjBjvC,EAAEpB,iBAEF,GAAIlB,KAAKP,QAAQ+kG,YACb,GAAI7kG,EAAOwW,KAAK,UAAYnW,KAAKP,QAAQ6nB,SAASo/E,UAC9C1mG,KAAKsnG,WAAa3nG,EAAO4V,SAASpG,aAC/B,IAAIxP,EAAO+V,SAAS,qBAAuB/V,EAAO+V,SAAS,eAC9D1V,KAAKqnG,eAAiB,KAI9B,IAAK1nG,EAAOsW,GAAG,qBACXjW,KAAK24C,KAAKtpC,SAAS1P,EAAOwW,KAAK7Y,EAAM6Y,KAAK,SAAU,MAI5DylD,WAAY,WACR,OAAO99D,KAAKy+D,MAAMv8D,KAAK2qB,WAAWmyB,SAAW,IAAM98C,KAAK04C,YAAc,KAG1EA,SAAU,WACN,OAAO14C,KAAK2qB,WAAW+tB,YAAc14C,KAAK2qB,WAAWmyB,SAGzDnE,KAAM,SAASA,GACX,GAAIA,EAAM,CACN,GAAI34C,KAAKqC,QAAQ,aAAc,CAAE8M,MAAOwpC,IACrC,OAGH34C,KAAK2qB,WAAWguB,KAAKA,GAErB34C,KAAKqC,QAAQ4nC,EAAQ,CAAE96B,MAAOwpC,SAE9B,GAAI34C,KAAK2qB,WAAWmyB,QAAU,EAC1B,OAAO98C,KAAK2qB,WAAWguB,YAEvB,OAAO,GAKnBytD,mBAAoB,SAASzwF,GACzB,IAAIpV,EAAOP,KACPgkC,EAAQmgE,EAAKthG,MAAM,KAEvB,IAAKtC,EAAKd,QAAQgnG,WACd,OAAO,UACJ,GAAI9wF,GAAS,IAChB,OAAOquB,EAAM,QACV,GAAIruB,GAAS,IAChB,OAAOquB,EAAM,GAEjB,OAAO,QAOnB,OAHI/c,EAAG+J,OAAO2zE,GAGPvnG,OAAOE,QAltBd,CAotBoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,cAAc,CAAE,cACxB,WAEH,IAAIC,EAAW,CACXC,GAAI,QACJC,KAAM,SACNC,SAAU,YACVqtC,QAAS,CAAE,QACXyqD,SAAU,MAGJt3F,EA60BPE,OAAOE,MAAMH,OA70BHE,OAAb,EACQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM2pB,GACXH,EAASG,EAAGH,OACZ5mB,EAAQ5C,EAAM4C,MACdjC,EAAUX,EAAMW,QAChBgkB,EAAY3kB,EAAM2kB,UAClBlS,EAAazS,EAAMsS,YACnBK,EAAc3S,EAAM0S,aACpB63F,EAAO,OACPC,EAAQ,QACRC,EAAa,aACbC,EAAW,WACXC,EAAS,SACTngF,EAAO,OACPE,EAAQ,QACRkgF,EAAM,MACNC,EAAS,SACTC,EAAW,WACXn6B,EAAS,SACTo6B,EAAO,OACPC,EAAW,WACXh6B,EAAW,WACXi6B,EAAU,UACVC,EAAU,UACVvO,EAAS,iBACTwO,EAAe,iBACfC,EAAqB,uBACrBC,EAAiB,4CACjB/H,EAAY,OACZgI,EAAmB1rG,EAAEsS,SAASE,iBAC9Bm5F,EAAS3rG,EAAEE,QACXgzF,EAAS,SACT1iB,EACAe,EADYxwE,EAAQ6W,YAAYD,IACR,YACxBrX,EAASN,EAAEM,OACXshF,EAAK,cACLzmE,EAAS,CAAC,YACA,cACA,eACA,aACA,cACA,eAEd,SAAS8W,EAASmB,EAAW3wB,GACzB,IAAK2wB,IAAc3wB,EACf,OAAO,MAEX,OAAO2wB,IAAc3wB,GAAUzC,EAAEiyB,SAASmB,EAAW3wB,GAGzD,IAAImpG,EAAQhiF,EAAOtpB,OAAO,CACtBiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAAM+oG,EAEjBtpG,EAAUA,GAAW,GAErB,GAAIA,EAAQ4Z,MAAO,CACf5Z,EAAQ01E,OAAS11E,EAAQ01E,QAAUgzB,EAAS,IAAMngF,EAClDvoB,EAAQkX,SAAWlX,EAAQkX,UAAYuxF,EAAM,IAAMlgF,EAGvDlB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCoQ,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QAEfc,EAAKyoG,WAAavpG,EAAQu8F,UAAYv8F,EAAQu8F,UAAUn5F,MAAM,KAAO,GACrEtC,EAAK4kG,UAAY7nG,EAAMu4B,cAAc+qE,EAAWtjG,EAAMksB,QAEtD,GAAIjpB,EAAKyoG,WAAWlpG,SAAW,EAC3BS,EAAKyoG,WAAW9mG,KAAK3B,EAAKyoG,WAAW,IAGzCD,EAAc7rG,EAAEqD,EAAKd,QAAQ8iG,QAAQhoF,QAAQ,qBAAqB0V,OAAO,sBAEzExwB,EAAQylC,SAAWhoC,EAAEA,EAAEuC,EAAQylC,UAAU,IAAM6jE,EAAY,IAAMv5F,SAAS2K,MAE1E5Z,EAAKsP,QAAQ0T,OACRrN,SAAS,2BACT2N,YAAY,UAAWpkB,EAAQ4Z,OAC/BxE,IAAI,CAAE8B,SAAWyxF,IACjBljE,SAASzlC,EAAQylC,UACjB/uB,KAAK,cAAe,MACpBiQ,GAAG,aAAe04D,EAAI,WACnBv+E,EAAK0oG,SAAW,OAEnB7iF,GAAG,QAAU04D,EAAI,SAASx8E,GACvB,IAAIw/D,EAAO5kE,EAAEoF,EAAE3C,QAAQowB,KAAK,WAC5B,IAAIm5E,EAAapnC,EAAKvsD,SACtB,GAAIusD,EAAKhiE,QAAUgiE,EAAK7rD,GAAG,cAAiBizF,EAAWv4E,cAAgB,GAAKruB,EAAEwjB,cAAcuY,OAAS,GAChG6qE,EAAWv4E,cAAgBu4E,EAAW18E,KAAK,gBAAkB08E,EAAW18E,KAAK,iBAAmBlqB,EAAEwjB,cAAcuY,OAAS,GACvH/7B,EAAEpB,mBAGZklB,GAAG,aAAe04D,EAAI,WACnBv+E,EAAK0oG,SAAW,QAGxB1oG,EAAKiW,QAAUtZ,IAEf,GAAIuC,EAAQ0pG,YAAc,MACtB1pG,EAAQ0pG,UAAY,CAAEC,KAAM,CAAEpmF,QAAS,IAAMi3B,MAAO,CAAE12B,KAAM,KAAMP,QAAS,KAG/ExlB,EAAOiC,EAAQ0pG,UAAUC,KAAM,CAC3B/lF,SAAU,WACN9iB,EAAKiW,QAAQ3B,IAAI,CAAEgE,SAAU0vF,IAC7BhoG,EAAKosF,WAAa,KAClBpsF,EAAKwyC,SAASi1D,MAItBxqG,EAAOiC,EAAQ0pG,UAAUlvD,MAAO,CAC5B52B,SAAU,WACN9iB,EAAK8oG,qBAIb9oG,EAAK+oG,gBAAkB,SAAShnG,GAC5B/B,EAAKgpG,WAAWjnG,IAGpB,GAAIrE,EAAQsgB,SAASjC,QACjB/b,EAAKipG,aAAe,SAASlnG,GACzB6wB,WAAW,WACP5yB,EAAKurB,QAAQxpB,IACd,WAGP/B,EAAKipG,aAAe,SAASlnG,GACzB/B,EAAKurB,QAAQxpB,IAIrB,GAAI7C,EAAQgqG,aACRvsG,EAAEuC,EAAQgqG,cAAcrjF,GAAG3mB,EAAQiqG,YAAc5qB,EAAIv+E,EAAKukB,OAAOvjB,KAAKhB,KAI9EyB,OAAQ,CACJ6lG,EACAG,EACAF,EACAC,GAGJtoG,QAAS,CACLhD,KAAM,QACNitG,YAAa,QACbv0B,OAAQgzB,EAAS,IAAMrgF,EACvBnR,SAAUuxF,EAAM,IAAMpgF,EACtBy6E,OAAQ8F,EACRnjE,SAAU,KACV82D,UAAW,WACX2N,SAAUvsG,OACVwsG,iBAAkB,KAClBv0F,SAAU,MACVw0F,MAAO,MACPC,WAAY,CACRn0F,MAAO,EACPE,OAAQ,GAEZszF,UAAW,CACPC,KAAM,CACFpmF,QAAS,eACT8rD,WAAY,KACZ1rD,SAAU,KAEd62B,MAAO,CACH72B,SAAU,IACVG,KAAM,OAGdwmF,kBAAmB,OAGvBV,gBAAiB,WACb,IAAI9oG,EAAOP,KACX,IAAIqe,EAAW9d,EAAKiW,QAAQvS,KAAKqkG,GAEjC/nG,EAAKiW,QAAQ+M,OAEb,GAAIlF,EACA9d,EAAKiW,QAAQ3B,IAAIwJ,GAGrB,GAAI9d,EAAKd,QAAQ8iG,QAAU8F,EACvB9nG,EAAKypG,gBAGTzpG,EAAK0pG,SAAW,MAChB1pG,EAAKwyC,SAASg1D,IAGlB97E,QAAS,WACL,IAAI1rB,EAAOP,KACPP,EAAUc,EAAKd,QACfoQ,EAAUtP,EAAKsP,QAAQwjB,IAAIyrD,GAC3BvpE,EAEJuR,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,GAEvB,GAAId,EAAQgqG,aACRvsG,EAAEuC,EAAQgqG,cAAcp2E,IAAIyrD,GAGhC,IAAKr/E,EAAQoqG,MAAO,CAChBjB,EAAiBv1E,IAAI9yB,EAAK4kG,UAAW5kG,EAAK+oG,iBAC1C/oG,EAAK2pG,cAAc,OAGvB5sG,EAAM2uB,QAAQ1rB,EAAKsP,QAAQwxC,YAC3BxxC,EAAQqc,aAER,GAAIzsB,EAAQylC,SAAS,KAAO11B,SAAS2K,KAAM,CACvC5E,EAAS1F,EAAQ0F,OAAO,0BAExB,GAAIA,EAAO,GACPA,EAAOwb,cAEPlhB,EAAQkhB,WAKpBq4E,KAAM,SAASnrE,EAAG9vB,GACd,IAAI5N,EAAOP,KACPmqG,EAAQ,CAAEv3B,SAAU9+D,MAAMzE,SAASlB,EAAE,KAAM8vB,EAAGA,EAAG9vB,EAAGA,GACpD0B,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QACf0pG,EAAW3yF,EACX+rF,EAASrlG,EAAEuC,EAAQ8iG,QACnBr7E,EAASrX,EAAQ,IAAMA,EAAQ6F,SAAS,aACxC00F,EAAUv6F,EAAQkgB,KAAK,oBAE3B,IAAKxvB,EAAK6xB,UAAW,CACjB,GAAI3yB,EAAQmqG,iBAAkB,CAC1B,GAAI1iF,GAAU7O,EAAO,IAAM,YACvBA,EAAO1J,QAEXkB,EAAQgF,IAAIvX,EAAM6a,kBAAkBoqF,EAAO,GAAIlqF,IAGnD,GAAIxI,EAAQ5L,KAAK,cAAgB1D,EAAKwyC,SAAS80D,GAC3C,OAGJtnG,EAAKosF,WAAa,MAElB,IAAKltF,EAAQoqG,MAAO,CAChBjB,EAAiBv1E,IAAI9yB,EAAK4kG,UAAW5kG,EAAK+oG,iBAC7BljF,GAAG7lB,EAAK4kG,UAAW5kG,EAAK+oG,iBAIrC/oG,EAAK2pG,cAAc,OACnB3pG,EAAK2pG,cAAc,MAGvB3pG,EAAKiW,QAAUA,EAAUlZ,EAAM8X,KAAKvF,EAASpQ,EAAQ4V,UAChDR,IAAI,CACDgE,SAAUo1D,EACVv3D,QAAS,QACTC,SAAUyxF,IAEbjyF,KAAK,cAAe,OAEzB,GAAIi0F,EAAQj0F,KAAK,cACbK,EAAQL,KAAK,aAAci0F,EAAQj0F,KAAK,oBACrC,GAAIi0F,EAAQj0F,KAAK,mBACpBK,EAAQL,KAAK,kBAAmBi0F,EAAQj0F,KAAK,oBAGjD,GAAIlY,EAAQsgB,SAASjC,QACjB9F,EAAQ3B,IAAI45D,EAAW,iBAG3Bj4D,EAAQ3B,IAAIy5D,GAEZ,GAAIpxE,EAAEuC,EAAQylC,UAAU,IAAM11B,SAAS2K,KACnC3D,EAAQ3B,IAAIqzF,EAAK,YAGrB3nG,EAAK8pG,QAAU9pG,EAAKw0F,UAAUoV,GAC9BhB,EAAY5oG,EAAK+pG,iBAEjB,GAAI7qG,EAAQ8iG,QAAU8F,EAClB9nG,EAAKgqG,cAAcpB,GAGvB,IAAKt5F,EAAQoG,GAAG,aAAepG,EAAQ5L,KAAK,gBAAkB5G,EAAW,CACrEwS,EAAQ4iE,OACR5iE,EAAQ5L,KAAK,aAAc4L,EAAQgF,IAAI,YACvChF,EAAQ0T,OAGZ1T,EAAQ5L,KAAKukG,EAASW,EAAUnmF,SACxBsB,UAAU,MACVI,aAAaykF,GACbhzF,KAAK,cAAe,SAIpCq0F,UAAW,SAAS53B,GAChB,IAAIryE,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QACf+W,EACA+rF,EAASrlG,EAAEuC,EAAQ8iG,QACnBr7E,EAASrX,EAAQ,IAAMA,EAAQ6F,SAAS,aAE5C,GAAIjW,EAAQmqG,iBAAkB,CAC1B,GAAI1iF,GAAU7O,EAAO,IAAM,YACvBA,EAAO1J,QAEXkB,EAAQgF,IAAIvX,EAAM6a,kBAAkBoqF,EAAO,GAAIlqF,IAGnD9X,EAAKiW,QAAUA,EAAUlZ,EAAM8X,KAAKvF,EAASpQ,EAAQ4V,UAC5BR,IAAI,CACDgE,SAAUo1D,EACVv3D,QAAS,QACTC,SAAUyxF,IAGtC,GAAInqG,EAAQsgB,SAASjC,QACjB9F,EAAQ3B,IAAI45D,EAAW,iBAG3Bj4D,EAAQ3B,IAAIy5D,GAEZ,GAAIpxE,EAAEuC,EAAQylC,UAAU,IAAM11B,SAAS2K,KACnC3D,EAAQ3B,IAAIqzF,EAAK,YAGrB3nG,EAAKw0F,UAAUniB,GAAW,IAE1B,IAAI3+D,EAASuC,EAAQvC,SACrB,MAAO,CACH0B,MAAOrY,EAAMsS,YAAY4G,GACzBX,OAAQvY,EAAM0S,aAAawG,GAC3BvB,KAAMhB,EAAOgB,KACb8K,IAAK9L,EAAO8L,MAIpBuqF,eAAgB,WACZ,IAAInB,EAAY3rG,EAAO,KAAM,GAAIwC,KAAKP,QAAQ0pG,UAAUC,MACxDD,EAAUnmF,QAAU1lB,EAAMylB,aAAaomF,EAAUnmF,QAAShjB,KAAKqqG,SAE/D,OAAOlB,GAGXa,cAAe,WACX,IAAIzH,EAASrlG,EAAE8C,KAAKP,QAAQ8iG,QAC5B,IAAIjrD,IAAcirD,EAAOpsF,KAAK,UAAY,IAAI7R,MAAMokG,IAAuB,CAAC,GAAI,SAAS,GACzF,IAAI+B,EAAWhC,EAAe,IAAMnxD,EAEpCirD,EACK9sF,YAAYg1F,GACZppD,SAASsnD,GACTlzF,YAAYwkF,GACZxkF,YAAYg1F,GAEjBzqG,KAAK6P,QAAQ4F,YAAYgzF,EAAe,IAAMnrG,EAAMolB,WAAW40B,GAAWzoC,UAG9E07F,cAAe,SAASpB,GACpB,IAAI7xD,EAAY6xD,EAAUnmF,QAAQkyD,QAAUi0B,EAAUnmF,QAAQkyD,QAAQ59B,UAAY,OAClF,IAAImzD,EAAWhC,EAAe,IAAMnxD,EAEpCp6C,EAAE8C,KAAKP,QAAQ8iG,QACVrsF,SAASu0F,GACTppD,SAASsnD,GACTzyF,SAAS+jF,GACT/jF,SAASu0F,GAEdzqG,KAAK6P,QAAQqG,SAASuyF,EAAe,IAAMnrG,EAAMolB,WAAW40B,GAAWzoC,UAG3E8H,SAAU,WACN,GAAI3W,KAAKoyB,UACLpyB,KAAKqqG,QAAUrqG,KAAK+0F,aAM5BjwE,OAAQ,WACJ,IAAIvkB,EAAOP,KAEXO,EAAKA,EAAK6xB,UAAY01E,EAAQD,MAGlCz1E,QAAS,WACL,OAAOpyB,KAAK6P,QAAQoG,GAAG,IAAMsyF,IAGjCtuD,MAAO,SAASywD,GACZ,IAAInqG,EAAOP,KACPP,EAAUc,EAAKd,QAAS2V,EACxB+zF,EAAWwB,EAAaC,EAE5B,GAAIrqG,EAAK6xB,UAAW,CAChBhd,EAAQ7U,EAAKiW,QAAQ,GAAKjW,EAAKiW,QAAUlZ,EAAM8X,KAAK7U,EAAKsP,SAAS0T,OAElEhjB,EAAK2pG,cAAc,OAEnB,GAAI3pG,EAAK0pG,UAAY1pG,EAAKwyC,SAAS+0D,GAAQ,CACvCvnG,EAAK2pG,cAAc,MACnB,OAIJ3pG,EAAKsP,QAAQkgB,KAAK,YAAYtyB,KAAK,WAC/B,IAAI8C,EAAOrD,EAAE8C,MACT6qG,EAAQtqG,EAAK0D,KAAK,cAEtB,GAAI4mG,EACAA,EAAM5wD,MAAMywD,KAIpB9B,EAAiBv1E,IAAI9yB,EAAK4kG,UAAW5kG,EAAK+oG,iBAE1C,GAAIoB,EACAvB,EAAY,CAAE5lF,KAAM,KAAMP,QAAS,QAChC,CACHmmF,EAAY3rG,EAAO,KAAM,GAAIiC,EAAQ0pG,UAAUlvD,OAC/C0wD,EAAcpqG,EAAKsP,QAAQ5L,KAAKukG,GAChCoC,EAAezB,EAAUnmF,QAEzB,IAAK4nF,IAAiBttG,EAAM0U,KAAK44F,IAAiBD,GAAertG,EAAM0U,KAAK24F,GAAc,CACtFxB,EAAUnmF,QAAU2nF,EACpBxB,EAAUt6F,QAAU,KAGxBtO,EAAK0pG,SAAW,KAGpB1pG,EAAKsP,QACIyU,UAAU,MACVnO,KAAK,cAAe,MAC7Bf,EACKP,IAAI,CAAEgE,SAAUo1D,IAChB93D,KAAK,cAAe,MACzB5V,EAAKsP,QAAQ6U,aAAaykF,GAE1B,GAAIuB,EACAnqG,EAAK8oG,oBAKjBt2D,SAAU,SAASywD,GACf,OAAOxjG,KAAKqC,QAAQmhG,EAAI,CAAEj8F,KAAMi8F,KAGpC13E,QAAS,SAASxpB,GACd,IAAI/B,EAAOP,KAEX,GAAI/B,EAAQyoB,OAAO7Z,QAAQvK,EAAEiF,SAAW,EAAG,CACvCitB,aAAaj0B,EAAKuqG,gBAClBvqG,EAAKuqG,eAAiB33E,WAAW,WAC7B5yB,EAAKw0F,YACLx0F,EAAKuqG,eAAiB,MACvB,SAEH,IAAKvqG,EAAK0oG,UAAa1oG,EAAKosF,YAAcpsF,EAAKsP,QAAQkgB,KAAK,WAAWjwB,OAAS,EAC5ES,EAAK05C,SAKjBiwD,cAAe,SAASplF,GACpB,IAAIsM,EAAStM,EAAS,KAAO,MAC7B,IAAIljB,EAAa3D,EAAQyoB,OAEzB,KAAMzoB,EAAQsgB,SAASrB,KAAOjf,EAAQsgB,SAASjC,SAAWre,EAAQ+a,QAAQM,QACtE1X,GAAc,IAAMwuF,EAGxB,GAAItrE,IAAW9kB,KAAKwhC,kBAChBxhC,KAAKwhC,kBAAoBxhC,KAAK+qG,qBAGlC,GAAI/qG,KAAKwhC,mBAAqBxhC,KAAKwhC,kBAAkB1hC,OACjDE,KAAKwhC,kBAAkBpQ,GAAQg/D,EAAQpwF,KAAKwpG,cAGhDX,EAAOz3E,GAAQxvB,EAAY5B,KAAKwpG,eAGpCD,WAAY,SAASjnG,GACjB,IAAI/B,EAAOP,KACPswB,EAAY/vB,EAAKsP,QAAQ,GACzBpQ,EAAUc,EAAKd,QACf8iG,EAASrlG,EAAEuC,EAAQ8iG,QAAQ,GAC3BkH,EAAehqG,EAAQgqG,aACvB9pG,EAASrC,EAAMsoB,YAAYtjB,GAC3BuoG,EAAQ3tG,EAAEyC,GAAQ4a,QAAQ,YAC1B2M,EAAS2jF,EAAMt1F,SAASA,OAAO,YAAYzV,OAE/C+qG,EAAQA,EAAM,GACd,IAAK3jF,GAAU2jF,GAASA,IAAUtqG,EAAKsP,QAAQ,GAC3C,OAIJ,GAAI3S,EAAEoF,EAAE3C,QAAQ4a,QAAQ,KAAKtW,KAAK,SAAW,UACzC,OAGJ,IAAKkrB,EAASmB,EAAW3wB,KAAYwvB,EAASozE,EAAQ5iG,MAAa8pG,GAAgBt6E,EAASjyB,EAAEusG,GAAc,GAAI9pG,IAC5GY,EAAK05C,SAIb+wD,KAAM,SAASr0F,EAAU3E,EAAMi5F,GAC3B,IAAIC,EAAS,EAEb,GAAIv0F,EAAW3E,EAAOi5F,EAClBC,EAASD,GAAgBt0F,EAAW3E,GAGxC,GAAI2E,EAAW,EACXu0F,GAAUv0F,EAGd,OAAOu0F,GAGXC,MAAO,SAASl3F,EAAQjC,EAAMo5F,EAAYH,EAAc91B,EAAQx+D,EAAU00F,GACtE,IAAIH,EAAS,EACTG,EAAUA,GAAWr5F,EAEzB,GAAI2E,IAAaw+D,GAAUx+D,IAAasxF,GAAU9yB,IAAW8yB,EAAQ,CACjE,GAAIh0F,EAASo3F,EAAUJ,EACnBC,KAAYE,EAAap5F,GAG7B,GAAIiC,EAASi3F,EAAS,EAClBA,GAAUE,EAAap5F,EAG/B,OAAOk5F,GAGXH,mBAAoB,WAChB,OAAO7tG,EAAE8C,KAAKP,QAAQ8iG,QACV9gE,aAAa,QACbxR,OAAO,SAAS9gB,EAAOU,GACpB,OAAOvS,EAAMqb,aAAa9I,MAI7CklF,UAAW,SAASoV,GAChB,IAAI5pG,EAAOP,KAEP6P,EAAUtP,EAAKsP,QACf2G,EAAUjW,EAAKiW,QACf/W,EAAUc,EAAKd,QACfkqG,EAAWzsG,EAAEuC,EAAQkqG,UACrBjqF,EAAYzhB,EAAQyhB,YACpB4rF,KAAe3B,EAAS,IAAMvsG,QAAWA,OAAOse,YAAegE,GAAa,MAC5E6iF,EAASrlG,EAAEuC,EAAQ8iG,QACnBgJ,EAAU9rG,EAAQ01E,OAAO7oE,cAAczJ,MAAM,KAC7C2oG,EAAY/rG,EAAQkX,SAASrK,cAAczJ,MAAM,KACjDmmG,EAAazoG,EAAKyoG,WAClByC,EAAkBn5E,EAClBo5E,EAAcv1B,EAAS,MACvBx0E,EAAM,EACNie,EAAQpQ,SAASE,gBACjB5P,EAAQ6rG,EAAgBC,EAAeC,EAE3C,GAAIpsG,EAAQkqG,WAAavsG,OACrBuuG,EAAiB,CACb5rF,IAAM3iB,OAAOilB,aAAe7S,SAASE,gBAAgBihB,WAAa,EAClE1b,KAAO7X,OAAOklB,aAAe9S,SAASE,gBAAgBoJ,YAAc,QAGxE6yF,EAAiBhC,EAAS11F,SAG9B,GAAIq3F,EAAU,CACVM,EAAgBxuG,OAAOse,WACvBmwF,EAAiBzuG,OAAOye,gBACrB,CACH+vF,EAAgBjC,EAASh0F,QACzBk2F,EAAiBlC,EAAS9zF,SAG9B,GAAIy1F,GAAY1rF,EAAMC,aAAeD,EAAME,aAAe,EAAG,CACxD,IAAItW,EAAO/J,EAAQ4Z,OAAS,EAAI,EAEhCuyF,GAAiBpiG,EAAOlM,EAAMW,QAAQ4b,YAG3C4xF,EAAmBlJ,EAAOjwE,UAAUrC,OAAOzZ,EAAQs1F,YAEnD,GAAIL,EAAiB,GAAI,CACrBC,EAAe5tG,KAAKoP,IAAI5G,OAAOmlG,EAAiB52F,IAAI,WAAY,GAIhE,GAAI62F,EACAv1B,EAASu1B,EAAe,OACrB,CACHp5E,EAAUiwE,EAAO9gE,aAAagqE,GAC9B,IAAK3rG,EAASwyB,EAAQxyB,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CAC/C+pG,EAAeplG,OAAOpJ,EAAEo1B,EAAQ3wB,IAAMkT,IAAI,WAC1C,GAAI62F,GAAgBv1B,EAASu1B,EACzBv1B,EAASu1B,EAAe,KAMxCl1F,EAAQ3B,IAAI,SAAUshE,GAEtB,GAAIg0B,GAASA,EAAMv3B,QACfp8D,EAAQ3B,IAAI,CAAEI,KAAMk1F,EAAMlsE,EAAGle,IAAKoqF,EAAMh8F,SAExCqI,EAAQ3B,IAAItU,EAAKu+F,OAAOyM,EAASC,IAGrC,IAAIO,EAAM9pF,EAAUzL,EAAS83D,EAAUi0B,EAAO,KAAO/rF,EAAQw1F,eAAe,IACxE/3F,EAASgO,EAAUzL,GACnBy1F,EAAe1J,EAAOyJ,eAAez2F,OAAO,4CAEhD,GAAI02F,EAAansG,OAAQ,CACrBisG,EAAM9pF,EAAUzL,EAAS83D,EAAU,MACnCr6D,EAASgO,EAAUzL,GAGvBvC,EAAO8L,KAAO4rF,EAAe5rF,IAC7B9L,EAAOgB,MAAQ02F,EAAe12F,KAE9B,IAAK1U,EAAKiW,QAAQvS,KAAKqkG,GACnB9xF,EAAQvS,KAAKqkG,EAAU9qG,EAAO,GAAIuuG,IAGtC,IAAIG,EAAU1uG,EAAO,GAAIyW,GACrBoK,EAAW7gB,EAAO,GAAIuuG,GACtBjC,EAAarqG,EAAQqqG,WAEzB,GAAId,EAAW,KAAO,MAClB3qF,EAAS0B,KAAOxf,EAAKyqG,KAAKkB,EAAQnsF,IAAK9P,EAAYuG,GAAWszF,EAAWj0F,OAAQg2F,EAAiBnsF,GAGtG,GAAIspF,EAAW,KAAO,MAClB3qF,EAASpJ,MAAQ1U,EAAKyqG,KAAKkB,EAAQj3F,KAAMlF,EAAWyG,GAAWszF,EAAWn0F,MAAOi2F,EAAgBlsF,GAGrG,IAAIysF,EAAU3uG,EAAO,GAAI6gB,GACzB,IAAI+tF,EAAgBn8F,EAAYJ,GAChC,IAAIw8F,EAAiBp8F,EAAYuG,GAEjC,IAAKA,EAAQX,UAAYu2F,EACrBC,EAAgBA,EAAgBD,EAGpC,GAAIpD,EAAW,KAAO,OAClB3qF,EAAS0B,KAAOxf,EAAK4qG,MAAMe,EAAQnsF,IAAKqsF,EAAen8F,EAAYsyF,GAASsJ,EAAiBnsF,EAAW6rF,EAAQ,GAAIC,EAAU,GAAIa,GAGtI,GAAIrD,EAAW,KAAO,OAClB3qF,EAASpJ,MAAQ1U,EAAK4qG,MAAMe,EAAQj3F,KAAMlF,EAAWF,GAAUE,EAAWwyF,GAASqJ,EAAgBlsF,EAAW6rF,EAAQ,GAAIC,EAAU,GAAIz7F,EAAWyG,IAGvJ3G,EAAQgF,IAAIy5D,EAAU85B,GACtB5xF,EAAQ3B,IAAIwJ,GAEZ,OAAQA,EAASpJ,MAAQk3F,EAAQl3F,MAAQoJ,EAAS0B,KAAOosF,EAAQpsF,KAGrE++E,OAAQ,SAAS3pB,EAAQx+D,GACrB,IAAIpW,EAAOP,KACP6P,EAAUtP,EAAKiW,QACf+rF,EAASrlG,EAAEqD,EAAKd,QAAQ8iG,QACxB+J,EAAiBn3B,EAAO,GACxBo3B,EAAmBp3B,EAAO,GAC1Bq3B,EAAmB71F,EAAS,GAC5B81F,EAAqB91F,EAAS,GAC9B+1F,EAAezqF,EAAUsgF,GACzBr9D,EAAWhoC,EAAEqD,EAAKd,QAAQylC,UAC1BynE,EACAh3F,EAAQ5F,EAAWF,GACnBgG,EAAS5F,EAAYJ,IAAYI,EAAYJ,EAAQwxC,WAAWl/C,SAChEyqG,EAAc78F,EAAWwyF,GACzBsK,EAAe58F,EAAYsyF,GAC3BxiF,EAAMxf,EAAKd,QAAQsqG,kBAAoB,EAAI2C,EAAa3sF,IACxD9K,EAAO1U,EAAKd,QAAQsqG,kBAAoB,EAAI2C,EAAaz3F,KACzDtI,EAAQ7O,KAAK6O,MAEjB,GAAIu4B,EAAS,IAAM11B,SAAS2K,KAAM,CAC9BwyF,EAAiB1qF,EAAUijB,GAC3BnlB,GAAO4sF,EAAe5sF,IACtB9K,GAAQ03F,EAAe13F,KAI3B,GAAIq3F,IAAmBnE,EACnBpoF,GAAO8sF,EAGX,GAAIP,IAAmBrE,EACnBloF,GAAOpT,EAAMkgG,EAAe,GAGhC,GAAIL,IAAqBrE,EACrBpoF,GAAOlK,EAGX,GAAI22F,IAAqBvE,EACrBloF,GAAOpT,EAAMkJ,EAAS,GAG1B,GAAI02F,IAAqBvkF,EACrB/S,GAAQ23F,EAGZ,GAAIL,IAAqBtE,EACrBhzF,GAAQtI,EAAMigG,EAAc,GAGhC,GAAIH,IAAuBzkF,EACvB/S,GAAQU,EAGZ,GAAI82F,IAAuBxE,EACvBhzF,GAAQtI,EAAMgJ,EAAQ,GAG1B,MAAO,CACHoK,IAAKA,EACL9K,KAAMA,MAOdyL,GAFJuG,EAAG+J,OAAO83E,GAEOxrG,EAAMW,QAAQyiB,YAC3BosF,EAAe,kBACfC,EAAyB,8KACzBC,EAAa9sG,EAAM1C,OAAO,CAC1BiD,KAAM,SAASoP,GACX7P,KAAK6P,QAAU3S,EAAE2S,GACjB7P,KAAK6P,QAAQ2hB,YAAYs7E,IAG7BG,KAAM,WACFjtG,KAAK6P,QAAQuW,GAAG,UAAWpmB,KAAKktG,YAAY3rG,KAAKvB,QAGrDmtG,WAAY,WACRntG,KAAK6P,QAAQ4hB,aAAaq7E,IAG9B7gF,QAAS,WACLjsB,KAAK6P,QAAQ4hB,aAAaq7E,GAC1B9sG,KAAK6P,QAAUxS,GAGnB+vG,WAAY,WACR,OAAO,MAGXF,YAAa,SAAS5qG,GAClB,GAAIA,EAAEozC,QAAU,IAAM11C,KAAKotG,cAAgB9qG,EAAElB,qBACzC,OAGJ,IAAIgtB,EAAWpuB,KAAKqtG,qBACpB,IAAIC,EAAiBttG,KAAKutG,uBAAuBn/E,GACjD,IAAIutC,EAAO37D,KAAKwtG,eAAelrG,EAAGgrG,GAElCttG,KAAKshG,OAAO3lC,GAEZr5D,EAAEpB,kBAENmsG,mBAAoB,WAChB,IAAIj/E,EAAWpuB,KAAK6P,QAAQkgB,KAAKg9E,GAAwB98E,OAAO,SAASpwB,EAAGopC,GACxE,OAAOA,EAAKwkE,UAAY,GAAKvwG,EAAE+rC,GAAMhzB,GAAG,cAAgB/Y,EAAE+rC,GAAMhzB,GAAG,gBAGvE,GAAIjW,KAAK6P,QAAQoG,GAAG,cAChBmY,EAASlsB,KAAKlC,KAAK6P,QAAQ,IAG/B,OAAOue,GAEXm/E,uBAAwB,SAASn/E,GAC7B,IAAIk/E,EAEJ,GAAI5sF,EACA4sF,EAAiBl/E,EAAStN,KAAK,SAASqsB,EAAMwuB,GAC1C,OAAOxuB,EAAKsgE,SAAW9xC,EAAK8xC,eAE7B,CACH,IAAIC,EAAW,YACft/E,EAAS3wB,KAAK,SAASoC,EAAGopC,GACtBA,EAAKzoB,aAAaktF,EAAU7tG,KAGhCytG,EAAiBl/E,EAAStN,KAAK,SAASqsB,EAAMwuB,GAC1C,OAAOxuB,EAAKsgE,WAAa9xC,EAAK8xC,SAC1Bp+F,SAAS89B,EAAKne,aAAa0+E,GAAW,IAAMr+F,SAASssD,EAAK3sC,aAAa0+E,GAAW,IAClFvgE,EAAKsgE,SAAW9xC,EAAK8xC,WAG7Br/E,EAAS/C,WAAWqiF,GAGxB,OAAOJ,GAEXE,eAAgB,SAASlrG,EAAG8rB,GACxB,IAAIlb,EAAQkb,EAAStuB,OACrB,IAAI+I,EAAUulB,EAASjf,MAAM7M,EAAE3C,QAE/B,OAAOyuB,EAAS9E,KAAKzgB,GAAWvG,EAAE++B,UAAY,EAAI,IAAMnuB,IAE5DouF,OAAQ,SAASzxF,GACb,GAAIA,EAAQoiB,UAAY,SAAU,CAC9BpiB,EAAQ89F,cAAcn+F,SAAS2K,KAAKklB,QACpC,OAGJxvB,EAAQwvB,QAER,GAAIxvB,EAAQoiB,UAAY,SAAWpiB,EAAQyvB,mBAAqBt/B,KAAK4tG,oBAAoB/9F,GACrFA,EAAQyvB,kBAAkB,EAAGzvB,EAAQvI,MAAMxH,SAGnD8tG,oBAAqB,SAAS/9F,GAC1B,IAAIg+F,EAAch+F,EAAQtI,KAAK+E,cAE/B,OAAOuhG,IAAgB,QAAUA,IAAgB,UACjDA,IAAgB,OAASA,IAAgB,OACzCA,IAAgB,cAQ5B,OALI5mF,EAAG6hF,MAAMkE,WAAaA,EAKnB5vG,OAAOE,QA71Bd,CA+1BoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,qBAAqB,CAAE,aAAc,eAC7C,WAEH,IAAIC,EAAW,CACXC,GAAI,eACJC,KAAM,eACNC,SAAU,MACVC,YAAa,gDACbotC,QAAS,CAAE,OAAQ,SACnBuV,SAAU,CAAE,CACR9iD,GAAI,kBACJC,KAAM,YACNE,YAAa,wBACbotC,QAAS,CAAE,SAIT7sC,EAqdPE,OAAOE,MAAMH,OArdHE,OAAb,EACQC,EAAQF,OAAOE,MACfwpB,EAASxpB,EAAM2pB,GAAGH,OAClBtpB,EAASN,EAAEM,OACX21B,EAAa/1B,OAAO+1B,WACpBwtE,EAAQ,QACRrnB,EAAO,OACPC,EAAO,OACPu0B,EAAgB,iBAChBC,EAAU,kCACVC,EAAU,WACVC,EAAO,OACPC,EAAU,UACVC,EAAU,UACVruD,EAAQ,QACRooD,EAAM,MACNpgF,EAAO,OACPqgF,EAAS,SACTngF,EAAQ,QACRD,EAAK,KACL+2D,EAAK,qBACLsvB,EAAU,sFACVC,EAAW,oCACH,mEACA,uDACA,2GACJ,SACJC,EAAgBD,EAASluG,QAAQ,aAAc,cAE/CouG,EAAeznF,EAAOtpB,OAAO,CAC7BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCA,EAAUc,EAAKd,QAEf,IAAKA,EAAQylC,WAAahoC,EAAEuC,EAAQylC,UAAUjvB,GAAGpG,GAC7CtP,EAAKsP,QAAQ0T,OAGjBhjB,EAAKiuG,kBAAkB/uG,EAAQ6iG,WAC/B/hG,EAAKkuG,MAAQ,IAAMnxG,EAAMksB,OACzBjpB,EAAKmuG,OAASpxG,EAAMW,QAAQob,MAAMxJ,GAClCtP,EAAKouG,iBAAiBlvG,EAAQmvG,SAAUnvG,EAAQkX,SAASoJ,IAAKtgB,EAAQkX,SAAS1B,MAE/E3X,EAAMoxB,OAAOnuB,IAGjByB,OAAQ,CACJs3E,EACAC,GAGJ95E,QAAS,CACLhD,KAAM,eACNka,SAAU,CACNk4F,OAAQ,KACR9uF,IAAK,KACL9K,KAAM,KACNE,OAAQ,GACRD,MAAO,IAEX05F,SAAU,UACVE,YAAa,KACb5T,OAAQ,MACR6T,eAAgB,EAChBC,cAAe,IACf9pE,SAAU,KACVvvB,MAAO,KACPE,OAAQ,KACRysF,UAAW,GACXh3D,MAAO,KACP69D,UAAW,CACPC,KAAM,CACFpmF,QAAS,UACTI,SAAU,KAEd62B,MAAO,CACHj3B,QAAS,WACTI,SAAU,IACVG,KAAM,QAKlBirF,kBAAmB,SAASlM,GACxB,IAAI/hG,EAAOP,KACX,IAAIivG,EAAgB3xG,EAAM0G,SAE1BzD,EAAK2uG,UAAY,GAEjBhyG,EAAEO,KAAK6kG,EAAW,SAASt7F,EAAKM,GAC5B/G,EAAK2uG,UAAU5nG,EAAMC,MAAQ0nG,EAAc3nG,EAAMtD,UAAY9G,EAAE,IAAMoK,EAAM6nG,YAAYjrG,UAG3F3D,EAAK6uG,iBAAmBH,EAAcZ,GACtC9tG,EAAK8uG,cAAgBJ,EAAcX,IAGvCgB,aAAc,SAAS/nG,EAAM2hB,GACzB,IAAIqmF,EAAkBrmF,EAAOlpB,KAAKqvG,cAAgBrvG,KAAKovG,iBAEvD,OAAO7nG,EAAOvH,KAAKkvG,UAAU3nG,IAASgoG,EAAkBA,GAG5DZ,iBAAkB,SAASC,EAAU7uF,EAAK9K,GACtC,IAAI1U,EAAOP,KACPwvG,EAAW,CAAEC,WAAY,EAAGC,aAAc,EAAGC,cAAe,EAAGC,YAAa,GAC5EC,EAAsB56F,IAAS,KAAO6S,EAAOE,EAC7CmtD,EAAQx+D,EAEZ,OAAQi4F,GACJ,IAAK,OACDz5B,EAASgzB,EAAS,IAAM0H,EACxBl5F,EAAWuxF,EAAM,IAAM2H,SAChBL,EAASG,cACpB,MACA,KAAK3nF,EACDmtD,EAAS+yB,EAAM,IAAMlgF,EACrBrR,EAAWuxF,EAAM,IAAMpgF,SAChB0nF,EAASE,aACpB,MACA,KAAK5nF,EACDqtD,EAAS+yB,EAAM,IAAMpgF,EACrBnR,EAAWuxF,EAAM,IAAMlgF,SAChBwnF,EAASI,YACpB,MACA,KAAK7nF,EACDotD,EAAS+yB,EAAM,IAAM2H,EACrBl5F,EAAWwxF,EAAS,IAAM0H,SACnBL,EAASC,WACpB,MACA,QACI,GAAI1vF,IAAQ,KAAM,CACdo1D,EAASgzB,EAAS,IAAM0H,EACxBl5F,EAAWuxF,EAAM,IAAM2H,SAChBL,EAASG,kBACb,CACHx6B,EAAS+yB,EAAM,IAAM2H,EACrBl5F,EAAWwxF,EAAS,IAAM0H,SACnBL,EAASC,WAExB,MAGJlvG,EAAKuvG,aAAe36B,EACpB50E,EAAKwvG,eAAiBp5F,EACtBpW,EAAKyvG,eAAiBR,GAG1BS,mBAAoB,SAASxwG,EAASorG,GAClC,IAAItqG,EAAOP,KACP+uG,EAAiBtvG,EAAQsvG,eACzBmB,GAAep8F,MAAMi7F,IAAmBA,EAAiB,EACzDoB,EAEJ,SAASC,EAAYzwG,GACjBA,EAAOymB,GAAGu6E,EAAQ7hB,EAAI,WAClBv+E,EAAK8vG,WAAWxF,KAIxB,GAAIprG,EAAQqvG,YACRjE,EAAMtpG,KAAK,WAAY,WACnB,GAAI2uG,EACA/8E,EAAW,WACPi9E,EAAYvF,EAAMh7F,UACnBk/F,QAEHqB,EAAYvF,EAAMh7F,gBAGvB,GAAIpQ,EAAQy7F,OAAQ,CACvBiV,EAAYtF,EAAMh7F,QAAQkgB,KAAKg+E,GAC/B,GAAImC,EACA/8E,EAAW,WACPi9E,EAAYD,IACbpB,QAEHqB,EAAYD,KAKxBG,WAAY,SAAS95F,EAAS/W,GAC1B,IAAIc,EAAOP,KACPgvG,EAAgBvvG,EAAQuvG,cACxB/wE,EAAIx+B,EAAQkX,SAAS1B,KACrB9G,EAAI1O,EAAQkX,SAASoJ,IACrB8qF,EAAO0F,EAEXA,EAAYrzG,EAAE,IAAMqD,EAAKkuG,MAAQ,SAAWT,EAAU,KAAK/zE,OAE3D4wE,EAAQ,IAAIvtG,EAAM2pB,GAAG6hF,MAAMtyF,EAAS,CAChC+rF,OAAQgO,EAAU,GAAKA,EAAY/gG,SAAS2K,KAC5Cg7D,OAAQ50E,EAAKuvG,aACbn5F,SAAUpW,EAAKwvG,eACf5G,UAAW1pG,EAAQ0pG,UACnBS,iBAAkB,MAClBC,MAAO,KACP7N,UAAW,GACX3iF,MAAO9Y,EAAKmuG,OACZz0D,MAAO,WACH15C,EAAKiwG,aAAaxwG,KAAK6P,UAE3B4gG,WAAY,SAASnuG,GACjBA,EAAEC,OAAOsN,QAAQwjB,IAAIyrD,GACrBx8E,EAAEC,OAAOsN,QAAQkgB,KAAKg+E,GAAS16E,IAAIyrD,GACnCx8E,EAAEC,OAAO0pB,aAIjB1rB,EAAK0vG,mBAAmBxwG,EAASorG,GAEjCr0F,EAAQf,YAAY,mBAEpB,GAAI86F,EAAU,GACV1F,EAAMzB,WACH,CACH,GAAInrE,IAAM,KACNA,EAAI/gC,EAAEE,QAAQuY,QAAUa,EAAQzG,aAAetQ,EAAQkX,SAASzB,MAGpE,GAAI/G,IAAM,KACNA,EAAIjR,EAAEE,QAAQyY,SAAWW,EAAQvG,cAAgBxQ,EAAQkX,SAASxB,OAGtE01F,EAAMzB,KAAKnrE,EAAG9vB,GAGlB08F,EAAMr0F,QAAQN,SAAS3V,EAAKkuG,OAAO55F,IAAIrX,EAAO,CAAC43E,OAAO,EAAEe,OAAO,OAAQ51E,EAAKyvG,iBAE5E,GAAIvwG,EAAQkX,SAASk4F,OAAQ,CACzBhE,EAAMr0F,QAAQ3B,IAAI,WAAY,SAC9B,GAAI07F,EAAU,GACVhwG,EAAKmwG,WAAW7F,EAAMr0F,QAAS,WAEhC,IAAK+5F,EAAU,GAClBhwG,EAAKmwG,WAAW7F,EAAMr0F,QAAS,OAGnC,GAAIw4F,EAAgB,EAChB77E,EAAW,WACP5yB,EAAK8vG,WAAWxF,IACjBmE,IAIXqB,WAAY,SAAUxF,GAClBA,EAAMr0F,QAAQN,SAAS83F,GACvBnD,EAAM5wD,SAGVy2D,WAAY,SAASl6F,EAASm6F,GAC1B,IAAIC,EAAM1zG,EAAEE,QACRoM,EAAOmnG,GAAO,EAAI,EAEtBn6F,EAAQ3B,IAAI,CACRkL,IAAK1Q,SAASmH,EAAQ3B,IAAIqzF,GAAM,IAAM1+F,EAAOonG,EAAIjgF,YACjD1b,KAAM5F,SAASmH,EAAQ3B,IAAIiT,GAAO,IAAMte,EAAOonG,EAAI93F,gBAI3D+3F,oBAAqB,SAASpxG,EAAS+W,GACnC,IAAIjW,EAAOP,KACP+uG,EAAiBtvG,EAAQsvG,eACzBmB,GAAep8F,MAAMi7F,IAAmBA,EAAiB,EAE7D,SAASqB,EAAYzwG,GACjBA,EAAOymB,GAAGu6E,EAAQ7hB,EAAIv+E,EAAKuwG,YAAYvvG,KAAKhB,EAAMiW,IAGtD,GAAI/W,EAAQqvG,YACR,GAAIoB,EACA/8E,EAAW,WACPi9E,EAAY55F,IACbu4F,QAEHqB,EAAY55F,QAEb,GAAI/W,EAAQy7F,OACf,GAAIgV,EACA/8E,EAAW,WACPi9E,EAAY55F,EAAQuZ,KAAKg+E,KAC1BgB,QAEHqB,EAAY55F,EAAQuZ,KAAKg+E,KAKrCgD,YAAa,SAASv6F,EAAS/W,GAC3B,IAAIc,EAAOP,KACPgvG,EAAgBvvG,EAAQuvG,cACxB7F,EAAY1pG,EAAQ0pG,UACpB6H,EAAkBvxG,EAAQmvG,UAAY7mF,GAAMtoB,EAAQmvG,UAAY9mF,EAAO,YAAc,WACrFmpF,EAEJz6F,EACKf,YAAY,WACZS,SAAS3V,EAAKkuG,OACduC,GAAiBvxG,EAAQylC,UACzB3hB,OACAmB,aAAaykF,EAAUC,MAAQ,OAEpC6H,EAA2B1wG,EAAK2wG,mBAChCD,EAAyBxzG,KAAK,SAASkE,EAAKkO,GACxCtP,EAAKswG,oBAAoBpxG,EAASvC,EAAE2S,IAEpC,GAAIm/F,EAAgB,EAChB77E,EAAW,WACP5yB,EAAKuwG,YAAY5zG,EAAE2S,KACpBm/F,MAKf8B,YAAa,SAASt6F,GAClBA,EAAQkO,aAAalnB,EAAOwC,KAAKP,QAAQ0pG,UAAUlvD,OAAS,MAAO,CAAE52B,SAAU,WAC3E7M,EAAQ6c,IAAIyrD,GAAI/uD,KAAKg+E,GAAS16E,IAAIyrD,GAClCtoE,EAAQua,aAEZ/wB,KAAKwwG,aAAah6F,IAGtBg6F,aAAc,SAAS3gG,GACnB7P,KAAKqC,QAAQk3E,EAAM,CAAE1pE,QAASA,IAC9B7P,KAAK0qB,QAAQ,UAAW,WACpB,MAAO,CAAE0D,SAAUve,MAI3B4iE,KAAM,SAAS53B,EAAStzC,EAAM2hB,GAC1B,IAAI3oB,EAAOP,KACPP,EAAUc,EAAKd,QACf+W,EAAUtZ,EAAEkxG,GACZ+C,EAAY7zG,EAAMksB,OAClB2H,EAAMigF,EAEV,IAAK7pG,EACDA,EAAO0mG,EAGXz3F,EAAQL,KAAK,aAAc5O,GAE3B,GAAIszC,IAAY,MAAQA,IAAYx9C,GAAaw9C,IAAY,GAAI,CAE7D,GAAIv9C,EAAM2D,WAAW45C,GACjBA,EAAUA,IAGdu2D,EAAc,CAACC,SAAU9pG,EAAMszC,QAAS,GAAIy2D,YAAa7xG,EAAQy7F,QAEjE,GAAIh+F,EAAE+C,cAAc46C,GAChB1pB,EAAO3zB,EAAO4zG,EAAav2D,QAE3B1pB,EAAO3zB,EAAO4zG,EAAa,CAACv2D,QAASA,IAGzCrkC,EACKN,SAAS43F,EAAgB,IAAMvmG,GAC/Bsc,YAAYiqF,EAAgB,UAAWruG,EAAQy7F,QAC/Cr3E,YAAYiqF,EAAgB,YAAaruG,EAAQy7F,QACjD/kF,KAAK,CACFo7F,YAAa,QACbjmE,MAAO7rC,EAAQ6rC,QAElBz2B,IAAI,CAACc,MAAOlW,EAAQkW,MAAOE,OAAQpW,EAAQoW,SAC3CkrD,OAAOxgE,EAAK+uG,aAAa/nG,EAAM2hB,EAAxB3oB,CAA8B4wB,IAE1C3a,EAAQuZ,KAAK,2BAA2B5Z,KAAK,KAAMg7F,GACnD36F,EAAQL,KAAK,mBAAoBg7F,GAEjC5wG,EAAKmqB,QAAQ,UAAW,WACpB,MAAO,CACH0D,SAAU5X,EACVvS,KAAM,CAAC,CAAEqqB,SAAU6C,OAI3B,GAAIj0B,EAAEuC,EAAQylC,UAAU,GACpB3kC,EAAKwwG,YAAYv6F,EAAS/W,QAE1Bc,EAAK+vG,WAAW95F,EAAS/W,GAG7Bc,EAAK8B,QAAQi3E,EAAM,CAACzpE,QAAS2G,IAGjC,OAAOjW,GAGXsjG,SAAU,SAAShpD,EAAStzC,GACxBvH,KAAKyyE,KAAK53B,EAAStzC,EAAM,OAG7B0xB,KAAM,SAAS4hB,GACX,OAAO76C,KAAKyyE,KAAK53B,EAASozD,IAG9BxwD,QAAS,SAAS5C,GACd,OAAO76C,KAAKyyE,KAAK53B,EAASqzD,IAG9BsD,QAAS,SAAS32D,GACd,OAAO76C,KAAKyyE,KAAK53B,EAASszD,IAG9B5oF,MAAO,SAASs1B,GACZ,OAAO76C,KAAKyyE,KAAK53B,EAASiF,IAG9Bv8B,KAAM,WACF,IAAIhjB,EAAOP,KACPyxG,EAAsBlxG,EAAK2wG,mBAE/B,GAAI3wG,EAAKd,QAAQylC,SACbusE,EAAoBh0G,KAAK,SAASkE,EAAKkO,GACnCtP,EAAKuwG,YAAY5zG,EAAE2S,WAGvB4hG,EAAoBh0G,KAAK,SAASkE,EAAKkO,GACnC,IAAIg7F,EAAQ3tG,EAAE2S,GAAS5L,KAAK,cAC5B,GAAI4mG,EACAtqG,EAAK8vG,WAAWxF,KAK5B,OAAOtqG,GAGX2wG,iBAAkB,WACd,IAAI3wG,EAAOP,KACP0xG,EAAex0G,EAAE,IAAMqD,EAAKkuG,MAAQ,SAAWT,EAAU,KAE7D,GAAIztG,EAAKd,QAAQylC,SACb,OAAOwsE,OAEP,OAAOA,EAAarwD,SAAS,IAAMysD,IAI3CxiF,WAAY,SAASqC,GACjB,IAAIptB,EAAOP,KACPP,EAEJqnB,EAAOnmB,GAAG2qB,WAAW9oB,KAAKjC,EAAMotB,GAEhCluB,EAAUc,EAAKd,QAEf,GAAIkuB,EAAW20E,YAAcjlG,EACzBkD,EAAKiuG,kBAAkB/uG,EAAQ6iG,WAGnC,GAAI30E,EAAWihF,WAAavxG,GAAaswB,EAAWhX,WAAatZ,EAC7DkD,EAAKouG,iBAAiBlvG,EAAQmvG,SAAUnvG,EAAQkX,SAASoJ,IAAKtgB,EAAQkX,SAAS1B,OAIvFgX,QAAS,WACLnF,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,MACvBA,KAAKkxG,mBAAmB79E,IAAIyrD,GAAI/uD,KAAKg+E,GAAS16E,IAAIyrD,MAQ9D,OAJIxhF,EAAM2pB,GAAG+J,OAAOu9E,GAIbnxG,OAAOE,QAzed,CA2eoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,gBAAgB,CAAE,aAAc,cAAe,YACvD,WAEH,IAAIC,EAAW,CACXC,GAAI,UACJC,KAAM,UACNC,SAAU,MACVC,YAAa,qEACbotC,QAAS,CAAE,OAAQ,SACnBuV,SAAU,CAAE,CACR9iD,GAAI,aACJC,KAAM,YACNE,YAAa,wBACbotC,QAAS,CAAE,SAIT7sC,EAikBPE,OAAOE,MAAMH,OAjkBHE,OAAb,EACQC,EAAQF,OAAOE,MACfwpB,EAASxpB,EAAM2pB,GAAGH,OAClBgiF,EAAQxrG,EAAM2pB,GAAG6hF,MACjB7nG,EAAa3D,EAAM2D,WACnBhB,EAAgB/C,EAAE+C,cAClBzC,EAASN,EAAEM,OACXm0G,EAAWz0G,EAAEsS,UACbsZ,EAAaxrB,EAAMwrB,WACnB8oF,EAAe,aACfC,EAAc,mBACdv4B,EAAO,OACPC,EAAO,OACPz5B,EAAQ,QACRgyD,EAAc,cACd/xD,EAAe,eACfgyD,EAAgB,kBAChB1D,EAAW,0FACP,wCACA,uHACA,oEACJ,SACA2D,EAAiB10G,EAAM0G,SACnB,kCAAoC+tG,EAAgB,4BAChD,qDACJ,aAEJjzB,EAAK,gBACLmzB,EAAY,CACR98F,OAAQ,CACJggE,OAAQ,gBACRx+D,SAAU,cAEdoJ,IAAK,CACDo1D,OAAQ,aACRx+D,SAAU,iBAEd1B,KAAM,CACFkgE,OAAQ,cACRx+D,SAAU,eACVqlF,UAAW,YAEf9mF,MAAO,CACHigE,OAAQ,eACRx+D,SAAU,cACVqlF,UAAW,YAEf7qD,OAAQ,CACJx6B,SAAU,gBACVw+D,OAAQ,kBAGhB+8B,EAAU,CACNnyF,IAAO,SACP5K,OAAU,MACVF,KAAQ,QACRC,MAAS,OACTi8B,OAAU,UAEdghE,EAAa,CACTh9F,OAAQ,IACR4K,IAAK,IACL9K,KAAM,IACNC,MAAO,IACPi8B,OAAQ,KAEZihE,EAAa,CACTnjC,WAAc,CAAEh7D,OAAQ,MAAOjC,KAAM,eACrC+8D,SAAY,CAAE96D,OAAQ,OAAQjC,KAAM,eAExCqgG,EAAiB,SAAS/vG,GACtB,OAAOA,EAAE3C,OAAOsE,KAAK3G,EAAMurB,GAAK,UAGxC,SAASypF,EAAaziG,GAClB,MAAMA,EAAQ/P,OAAQ,CAClB,GAAIyyG,EAAgC1iG,GAChC,MAEJA,EAAUA,EAAQ0F,UAI1B,SAASg9F,EAAgC1iG,GACrC,IAAIy7B,EAAQz7B,EAAQ5L,KAAK3G,EAAMurB,GAAK,SACpC,GAAIyiB,EAAO,CACPz7B,EAAQsG,KAAK,QAASm1B,GACtBz7B,EAAQqc,WAAW5uB,EAAMurB,GAAK,SAC9B,OAAO,MAIf,SAAS2pF,EAA6B3iG,GAClC,IAAIy7B,EAAQz7B,EAAQsG,KAAK,SACzB,GAAIm1B,EAAO,CACPz7B,EAAQ5L,KAAK3G,EAAMurB,GAAK,QAASyiB,GACjCz7B,EAAQsG,KAAK,QAAS,IACtB,OAAO,MAIf,SAASs8F,EAAoB5iG,GACzB,MAAMA,EAAQ/P,SAAW+P,EAAQoG,GAAG,QAAS,CACzC,GAAIu8F,EAA6B3iG,GAC7B,MAEJA,EAAUA,EAAQ0F,UAI1B,IAAIm9F,EAAc5rF,EAAOtpB,OAAO,CAC5BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACPy+B,EAEJ3X,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCg/B,EAAOl+B,EAAKd,QAAQkX,SAASrS,MAAM,cAAgB,aAAe,WAElE/D,EAAKwrB,WAAaqmF,EAAW3zE,GAE7B,GAAInhC,EAAMW,QAAQyc,OAAS1a,KAAK2yG,uBAC5BpyG,EAAKsP,QAAQuW,GAAG9oB,EAAMW,QAAQooB,UAAYy4D,EAAIv+E,EAAKd,QAAQwwB,OAAQ1vB,EAAKqyG,QAAQrxG,KAAKhB,IAGzFA,EAAKsP,QAAQuW,GAAG7lB,EAAKd,QAAQozG,OAAS/zB,EAAIv+E,EAAKd,QAAQwwB,OAAQ1vB,EAAKqyG,QAAQrxG,KAAKhB,KAGrFd,QAAS,CACLhD,KAAM,cACNwzB,OAAQ,GACRhc,OAAQ,EACR6+F,UAAW,IACXC,UAAW,IACXC,QAAS,KACTr8F,SAAU,SACVk8F,OAAQ,aACR1J,UAAW,CACPC,KAAM,CACFpmF,QAAS,UACTI,SAAU,GAEd62B,MAAO,CACH72B,SAAU,GACVG,KAAM,QAKlB0I,QAAS,WACL,IAAI4+E,EAAQ7qG,KAAK6qG,MAEjB,GAAIA,EAAO,CACPA,EAAMh7F,QAAQwjB,IAAIyrD,GAClB+rB,EAAM5+E,UAGVuI,aAAax0B,KAAK6+B,SAElB/X,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,OAG3BujB,KAAM,WACF,GAAIvjB,KAAK6qG,MACL7qG,KAAK6qG,MAAM5wD,SAInBw4B,KAAM,SAAS9yE,GACXA,EAASA,GAAUK,KAAK6P,QAExB7P,KAAKizG,WAAWtzG,GAChBK,KAAKkzG,MAAMvzG,IAGfA,OAAQ,WACJ,GAAIK,KAAK6qG,MACL,OAAO7qG,KAAK6qG,MAAMprG,QAAQ8iG,OAE9B,OAAO,MAGXqQ,QAAS,SAAStwG,GACd,IAAI/B,EAAOP,KAEX,IAAIuxC,EAAgBr0C,EAAEoF,EAAEivC,eACxB,GAAIhxC,EAAK4yG,oBAAsB5yG,EAAKoyG,uBAChCpyG,EAAK2yG,MAAM3hE,QACR,GAAIhxC,EAAK6yG,kBAAmB,CAC/B7yG,EAAK0yG,WAAW1hE,GAChBhxC,EAAK2yG,MAAM3hE,OACR,CACH/c,aAAaj0B,EAAKs+B,SAElBt+B,EAAKs+B,QAAU1L,WAAW,WACtB5yB,EAAK2yG,MAAM3hE,IACZhxC,EAAKd,QAAQqzG,aAIxBM,gBAAiB,WACb,OAAOpzG,KAAKP,QAAQozG,QAAU7yG,KAAKP,QAAQozG,OAAOvuG,MAAM,UAG5DquG,qBAAsB,WAClB,OAAO3yG,KAAKP,QAAQozG,QAAU7yG,KAAKP,QAAQozG,OAAOvuG,MAAM,eAG5D6uG,gBAAiB,WACb,OAAOnzG,KAAKP,QAAQozG,QAAU7yG,KAAKP,QAAQozG,OAAOvuG,MAAM,UAG5D+uG,iBAAkB,WACd,IAAI9yG,EAAOP,KACP2W,EAAWpW,EAAKd,QAAQkX,SACxBoV,EAAaxrB,EAAKwrB,WAClB9X,EAAS8X,EAAW9X,OACpB42F,EAAQtqG,EAAKsqG,MACbtI,EAASsI,EAAMprG,QAAQ8iG,OACvBmK,EAAexvG,EAAEqlG,GAAQtuF,SACzBq/F,EAAgBp2G,EAAE2tG,EAAMh7F,SAASoE,SACjC+L,EAAWmyF,EAAWtH,EAAMR,QAAU6H,EAAQv7F,GAAYA,GAC1D48F,EAAe7G,EAAaz4F,GAAUq/F,EAAcr/F,GAAW/W,EAAEqlG,GAAQx2E,EAAW/Z,QAAU,EAElGzR,EAAKizG,QAAQ78F,EAAUpW,EAAKd,QAAQwU,QAEpC1T,EAAKkzG,MACDh+F,YAAY,mDACZS,SAAS,aAAe8J,GACxBnL,IAAIZ,EAAQs/F,IAGpBC,QAAS,SAAS78F,EAAU48F,EAAcG,GACtC,IAAInzG,EAAOP,KACP2zG,EAAYh9F,GAAY,OAASA,GAAY,OAC7Ci9F,EAAYrzG,EAAKsqG,MAAMR,QACvB/yD,EAAaq8D,GAAaC,IAAgBD,IAAcC,EAAa,GAAK,EAC1EC,EAAaF,EAAY,UAAYh9F,EAAW,UAAYu7F,EAAQv7F,GACpE1C,GAAWy/F,GAAcp2G,EAAMsS,YAAYrP,EAAKkzG,QAAU,EAAKF,EAEnEhzG,EAAKsqG,MAAMr0F,QAAQ3B,IAAIg/F,EAAY5/F,EAASqjC,EAAY,OAG5Dw8D,gBAAiB,WACb,IAAIvzG,EAAOP,KACPuiG,EAAShiG,EAAKsqG,MAAMprG,QAAQ8iG,OAC5BwR,EAASxR,EAAO,GAAG/lG,IAAM+D,EAAKsP,QAAQ,GAAGrT,IAAMc,EAAMksB,OACrDwqF,EAAc,GAElB,GAAGzR,EAAOpsF,KAAK07F,GACXmC,EAAY9xG,KAAKqgG,EAAOpsF,KAAK07F,IAGjC,GAAIkC,EAAQ,CACRC,EAAY9xG,KAAK6xG,EAASnC,GAC1BrP,EAAOpsF,KAAK07F,EAAamC,EAAYlxG,KAAK,MAC1CvC,EAAKsqG,MAAMh7F,QAAQsG,KAAK,KAAM49F,EAASnC,KAK/CqC,mBAAoB,SAASt0G,GACzB,IAAIu0G,EAAYl0G,KAAK6qG,MAAMh7F,QAAQsG,KAAK,MACpCg+F,EAAqBx0G,EAAOwW,KAAK07F,GACjCuC,EAAWC,EAAYC,EAE3B,IAAIH,EACA,OAGJC,EAAYD,EAAmBtxG,MAAM,KAErC,GAAGuxG,GAAaA,EAAUt0G,OAAS,EAC/Bu0G,EAAaD,EAAUnkF,OAAO,SAAUo7B,GACpC,OAAOA,IAAQ6oD,IAIvB,GAAGG,GAAcA,EAAWv0G,OAAS,EAAG,CACpCw0G,EAAuBD,EAAWvxG,KAAK,KACvCnD,EAAOwW,KAAK07F,EAAayC,QAEzB30G,EAAO0rB,WAAWwmF,IAI1B0C,WAAY,WACR,IAAKv0G,KAAK6qG,MACN,OAGJ7qG,KAAK6qG,MAAM5B,SAAW,KACtBjpG,KAAK6qG,MAAMzB,UAKfoL,GAFJl3G,EAAM2pB,GAAG+J,OAAO0hF,GAEFA,EAAYl1G,OAAO,CAC7BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACPy+B,EAEJi0E,EAAY/xG,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAExCg/B,EAAOl+B,EAAKd,QAAQkX,SAASrS,MAAM,cAAgB,aAAe,WAElE/D,EAAKwrB,WAAaqmF,EAAW3zE,GAE7Bl+B,EAAKk0G,wBAA0Bl0G,EAAKm0G,iBAAiBnzG,KAAKhB,GAE1D,GAAIP,KAAK2yG,wBAA0B3yG,KAAKmzG,kBACpC5yG,EAAKsP,QAAQuW,GAAG,aAAe04D,EAAIv+E,EAAKd,QAAQwwB,OAAQ1vB,EAAKo0G,YAAYpzG,KAAKhB,IAGlF,GAAIP,KAAKP,QAAQm1G,UAAY50G,KAAK2yG,uBAC9BpyG,EAAKsP,QAAQuW,GAAG,aAAe04D,EAAIv+E,EAAKd,QAAQwwB,OAAQ1vB,EAAKs0G,YAAYtzG,KAAKhB,IAGlF,GAAIP,KAAKP,QAAQm1G,UAAY50G,KAAKozG,kBAC9B7yG,EAAKsP,QAAQuW,GAAG,OAAS04D,EAAIv+E,EAAKd,QAAQwwB,OAAQ1vB,EAAKghG,MAAMhgG,KAAKhB,IAGtE,GAAIjD,EAAMW,QAAQyc,MACdna,EAAKsP,QAAQuW,GAAG9oB,EAAMW,QAAQooB,UAAYy4D,EAAIv+E,EAAKd,QAAQwwB,OAAQ1vB,EAAKo0G,YAAYpzG,KAAKhB,KAIjGd,QAAS,CACLhD,KAAM,UACNwzB,OAAQ,GACR4qB,QAASw3D,EACTS,UAAW,IACXE,QAAS,KACT/+F,OAAQ,EACR0C,SAAU,SACVk8F,OAAQ,aACR+B,SAAU,KACVj/F,MAAO,KACPE,OAAQ,KACRszF,UAAW,CACPC,KAAM,CACFpmF,QAAS,UACTI,SAAU,GAEd62B,MAAO,CACH72B,SAAU,GACVG,KAAM,QAKlBvhB,OAAQ,CAAEs3E,EAAMC,EAAMu4B,EAAahyD,EAAOC,GAE1C40D,YAAa,SAASryG,GAClBmwG,EAAoBv1G,EAAEoF,EAAEivC,iBAG5B0hE,WAAW,SAAUtzG,GACjB8yG,EAAoB9yG,IAGxBm1G,eAAgB,SAASn1G,GACrB,IAAIY,EAAOP,KACP+0G,EAAiBx0G,EAAKd,QAAQo7C,QAC9BhrC,EAAUtP,EAAKs6C,QACfm6D,EAAaz0G,EAAKd,QAAQw1G,OAC1BA,EAEJ,GAAIh1G,EAAc80G,IAAmBA,EAAehsF,IAAK,CACrD,KAAM,WAAYxoB,EAAKd,SACnBu1G,GAAclsF,EAAWisF,EAAehsF,KAG5CxoB,EAAK8B,QAAQ09C,EAAc,CAAEtgD,QAASs1G,EAAgBp1G,OAAQA,IAE9D,IAAKq1G,EAAY,CACbnlG,EAAQ8xC,QACRrkD,EAAM2pB,GAAGoJ,SAASxgB,EAAS,MAG3BtP,EAAK20G,aAAaH,OACf,CACHllG,EAAQ0T,OAER0xF,EAASplG,EAAQkgB,KAAK,IAAMgiF,GAAe,GAE3C,GAAIkD,EAEAA,EAAO31G,IAAMy1G,EAAehsF,KAAOksF,EAAO31G,SAE1CuQ,EAAQ3L,KAAK8tG,EAAe,CAAEn3D,QAASk6D,KAG3CllG,EAAQkgB,KAAK,IAAMgiF,GACd1+E,IAAI,OAASyrD,GACb14D,GAAG,OAAS04D,EAAI,WACbv+E,EAAK8B,QAAQyvG,GACbjiG,EAAQ4iE,eAGjB,GAAIsiC,GAAkB9zG,EAAW8zG,GAAiB,CACrDA,EAAiBA,EAAe,CAAExyG,OAAQvC,KAAML,OAAQA,IACxDkQ,EAAQ3L,KAAK6wG,GAAkB,SAE/BllG,EAAQ3L,KAAK6wG,GAGjBx0G,EAAKmqB,QAAQ,UAAW,WACpB,MAAO,CAAE0D,SAAUve,MAI3BqlG,aAAc,SAASz1G,GACnB,IAAIc,EAAOP,KACPm1G,EAAY,SAAUlxG,GAClB3G,EAAM2pB,GAAGoJ,SAAS9vB,EAAKs6C,QAAS,OAEhCt6C,EAAKs6C,QAAQ32C,KAAKD,GAElB1D,EAAK60G,eAAiB,MAEtB70G,EAAK8B,QAAQyvG,GAEbvxG,EAAKg0G,cAGbh0G,EAAK60G,eAAiB,KAEtBj4G,OAAOqgD,KAAKhgD,EAAO,CACf+J,KAAM,MACNgyC,SAAU,OACVrhB,MAAO,MACP3S,MAAO,SAAUgyC,EAAKnb,GAClB9+C,EAAM2pB,GAAGoJ,SAAS9vB,EAAKs6C,QAAS,OAEhCt6C,EAAK8B,QAAQy9C,EAAO,CAAE1D,OAAQA,EAAQmb,IAAKA,KAE/C9Z,QAAS03D,EAAU5zG,KAAKhB,IACzBd,KAGPi1G,iBAAkB,SAASpyG,GACvB,GAAIA,EAAE8+B,UAAY9jC,EAAMiqB,KAAKM,IACzB7nB,KAAKujB,QAIbzJ,QAAS,WACL,IAAIvZ,EAAOP,KACP6qG,EAAQtqG,EAAKsqG,MAEjB,GAAIA,GAASA,EAAMprG,QAAQ8iG,OACvBhiG,EAAKu0G,eAAejK,EAAMprG,QAAQ8iG,SAI1C2Q,MAAO,SAASvzG,GACZ,IAAIY,EAAOP,KACP6I,EAAUtI,EAAKZ,SAEnB,IAAKY,EAAKsqG,MACNtqG,EAAK80G,aAGT,GAAIxsG,GAAWA,EAAQ,IAAMlJ,EAAO,GAAI,CACpCY,EAAKsqG,MAAM5wD,QACX15C,EAAKsqG,MAAMh7F,QAAQyU,UAAU,KAAM,MAGvC,IAAKzb,GAAWA,EAAQ,IAAMlJ,EAAO,GAAI,CACrCY,EAAKu0G,eAAen1G,GACpBY,EAAKsqG,MAAMprG,QAAQ8iG,OAAS5iG,EAGhCY,EAAKsqG,MAAMnpG,IAAI,aAAc,WACzB4wG,EAAa3yG,GAEbY,EAAK0zG,mBAAmBt0G,GAExBK,KAAK6P,QACAwb,WAAW,MACXlV,KAAK,cAAe,MAEzBw7F,EAASt+E,IAAI,UAAYyrD,EAAIv+E,EAAKk0G,2BAGtC,IAAKl0G,EAAK60G,eACN70G,EAAKg0G,cAIbc,WAAY,WACR,IAAI90G,EAAOP,KACPP,EAAUc,EAAKd,QACf+W,EAAUtZ,EAAEI,EAAM0G,SAASqqG,EAAf/wG,CAAyB,CACjC01G,QAASvzG,EAAQuzG,SAAWvzG,EAAQkX,WAAa,SACjDijB,IAAKu4E,EAAW1yG,EAAQkX,UACxBi+F,SAAUn1G,EAAQm1G,YAG1Br0G,EAAKsqG,MAAQ,IAAI/B,EAAMtyF,EAAShZ,EAAO,CACnC6X,SAAS,KACTigG,SAAU,WACN/0G,EAAKuzG,kBAEL,GAAIr0G,EAAQuzG,QACRzyG,EAAK8yG,wBAEL9yG,EAAKizG,QAAQjzG,EAAKd,QAAQkX,SAAUpW,EAAKd,QAAQwU,QAGrDjU,KAAK6P,QAAQwb,WAAW,eAExBsmF,EAASvrF,GAAG,UAAY04D,EAAIv+E,EAAKk0G,yBAEjCl0G,EAAK8B,QAAQi3E,GACb/4E,EAAKsqG,MAAM5B,SAAW5rG,GAE1B48C,MAAO,WACH15C,EAAK8B,QAAQk3E,IAEjBqwB,iBAAkB,MAClBT,UAAW1pG,EAAQ0pG,WACpB8I,EAAUxyG,EAAQkX,YAErBH,EAAQ3B,IAAI,CACRc,MAAOlW,EAAQkW,MACfE,OAAQpW,EAAQoW,SAGpBtV,EAAKs6C,QAAUrkC,EAAQuZ,KAAK,sBAC5BxvB,EAAKkzG,MAAQj9F,EAAQuZ,KAAK,cAE1B,GAAItwB,EAAQm1G,UAAY50G,KAAK2yG,uBACzBn8F,EAAQ4P,GAAG,aAAe04D,EAAIv+E,EAAKs0G,YAAYtzG,KAAKhB,SAEpDiW,EAAQ4P,GAAG,QAAU04D,EAAI,oBAAqBv+E,EAAKg1G,kBAAkBh0G,KAAKhB,KAIlFg1G,kBAAmB,SAASjzG,GACxBA,EAAEpB,iBACFlB,KAAKujB,QAGTsxF,YAAa,SAASvyG,GAClB,IAAI/B,EAAOP,KAEXw0B,aAAaj0B,EAAKs+B,SAElBt+B,EAAKs+B,QAAU1L,WAAW,WACtB5yB,EAAKi1G,YAAYlzG,EAAEivC,gBACpBhxC,EAAKd,QAAQszG,YAGpBxR,MAAO,SAASj/F,GACZtC,KAAKw1G,YAAYlzG,EAAEivC,gBAGvBikE,YAAa,SAAS71G,GAClB,GAAIK,KAAK6qG,QAAU7qG,KAAK6qG,MAAM5B,SAC1BjpG,KAAK6qG,MAAM5wD,aAEXq4D,EAAap1G,EAAEyC,KAIvBssB,QAAS,WACLjsB,KAAK6P,QAAQwjB,IAAIyrD,GAEjB6yB,EAASt+E,IAAI,UAAYyrD,EAAI9+E,KAAKy0G,yBAElC/B,EAAY/xG,GAAGsrB,QAAQzpB,KAAKxC,UAOxC,OAHI1C,EAAM2pB,GAAG+J,OAAOwjF,GAGbp3G,OAAOE,QArlBd,CAulBoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,gBAAgB,CAAE,aAAc,mBAAoB,cAAe,qBAC3E,WAEH,IAAIC,EAAW,CACXC,GAAI,UACJC,KAAM,UACNC,SAAU,MACVC,YAAa,+EACbotC,QAAS,CAAE,OAAQ,gBAGb7sC,EAw1DPE,OAAOE,MAAMH,OAx1DHE,OAAb,EACQC,EAAQF,OAAOE,MACf4C,EAAQ5C,EAAM4C,MACd4mB,EAASxpB,EAAM2pB,GAAGH,OAClB7lB,EAAa3D,EAAM2D,WACnBsmB,EAAOjqB,EAAMiqB,KACbxX,EAAazS,EAAMsS,YACnBiZ,EAAK,gBAEL4sF,EAAU,YACV/V,EAAU,WACVyB,EAAkB,8DAClBuU,EAAkB,oBAClBC,EAAgB,kBAChBC,EAAe,iBACfC,EAAe,iBACfC,EAAqB,uBACrBC,EAAiB,qCACjBC,EAAc,gBACdC,EAAa,cACbC,EAAe,WACfC,EAAQ,UACRC,EAAoB,sBACpBC,EAAiB,aACjBC,EAAiB,aACjBC,EAAe,iBACftoC,EAAS,WACTuoC,EAAc,gBACdC,EAAY,cACZC,EAAY,cACZC,EAAiB,mBACjBC,EAAkB,oBAClBC,EAAkB,oBAClBC,EAAqB,uBACrBC,EAAmB,qBACnBC,EAAwB,0BACxBC,EAAuB,yBACvBC,EAAoB,eAEpBC,EAAa,+CAEbC,EAAgB,gBAChBC,EAAe,eAEf1W,EAAQ,QACR2W,EAAS,SACTzP,EAAO,OACPC,EAAQ,QACRyP,EAAQ,QACRC,EAAU,UACVnT,EAAU,UACVv0D,EAAM,MAEN2nE,GAAS,SACTC,GAAO,OACPC,GAAU,UACVC,GAAO,OACPC,GAAO,OACPC,EAAS,SACTC,GAAY,YACZ3pC,GAAW,WACX81B,GAAO,OACPD,GAAO,OACP94E,GAAW,WACXkjF,GAAW,WAEX2J,GAAgB,eAChBC,GAAiB,gBACjBC,GAAiB,QACjBC,GAAgB,OAChBC,GAAkB,SAElBC,GAAqB,cAErBC,EAAiBh7G,EAAM6Y,KAAK,OAE5BoiG,GAAsB,kCAEtBC,GAAiB,iDACT,gDACJ,UAEJC,GAAc,gDACN,gDACJ,OAEJxwG,EAAQ,IACRywG,GAAU,GACV1W,EAAM,IACN75F,GAAQ,IACRwwG,GAAK,KAIDC,IAFJt7G,EAAMu7G,QAAU,GAEC,CACbC,eAAgB,yJAChBC,kBAAmB,4DAUnBC,IAPJ17G,EAAMu7G,QAAQI,kBAAoB,SAASx8G,EAAMo8G,EAAShgG,GACtD+/F,GAAWn8G,GAAQ,CACfo8G,QAASA,EACThgG,SAAUA,IAIPvb,EAAM4C,MAAM1C,OAAO,CAC1B07G,gBAAiB,WACbl5G,KAAK6P,QAAQsG,KAAK7Y,EAAM6Y,KAAKi4D,IAAWpuE,KAAKP,QAAQoZ,UAAYs/F,KAGrEgB,WAAY,WACRn5G,KAAK6P,QAAQsG,KAAKmiG,EAAgBt4G,KAAKP,QAAQ8iD,MAGnD62D,UAAW,WACP,GAAIp5G,KAAKP,QAAQjD,GACbwD,KAAK6P,QAAQsG,KAAKwiG,GAAI34G,KAAKP,QAAQjD,KAI3C68G,kBAAmB,WACf,GAAIr5G,KAAKP,QAAQjD,GACbwD,KAAK6P,QAAQsG,KAAKwiG,GAAI34G,KAAKP,QAAQjD,GAAK,cAIhDqiD,WAAY,WACR,IAAIA,EAAa7+C,KAAKP,QAAQo/C,WAC1B/6B,EAEJ,GAAI+6B,EAAY,CACZ,GAAIA,EAAWy6D,MAAO,CAClBx1F,EAAU+6B,EAAWy6D,MAErBt5G,KAAK6P,QAAQqG,SAAS4N,UAEf+6B,EAAWy6D,MAGtBt5G,KAAK6P,QAAQsG,KAAK0oC,GAElBA,EAAWy6D,MAAQx1F,IAI3B2uD,KAAM,WACFzyE,KAAK6P,QAAQ4F,YAAY8gG,GACzBv2G,KAAK6P,QAAQ4F,YAAYw4D,GACzBjuE,KAAKP,QAAQuqC,OAAS,OAG1BzmB,KAAM,WACFvjB,KAAK6P,QAAQqG,SAASqgG,GACtBv2G,KAAK6P,QAAQqG,SAAS+3D,GAEtB,GAAIjuE,KAAK6Y,UAAY7Y,KAAKu5G,eACtBv5G,KAAKu5G,iBAETv5G,KAAKP,QAAQuqC,OAAS,MAG1BjZ,OAAQ,WACJ/wB,KAAK6P,QAAQkhB,UAGjB3M,OAAQ,SAASo1F,GACb,GAAIA,IAAcn8G,EACdm8G,EAAY,KAEhBx5G,KAAK6P,QAAQgU,YAAYyyF,GAAiBkD,GAC1Cx5G,KAAK6P,QAAQsG,KAAKihG,GAAgBoC,GAElCx5G,KAAKP,QAAQ2kB,OAASo1F,GAG1BC,KAAM,WACF,IAAIl3D,EAAMviD,KAAK6P,QAAQsG,KAAKmiG,GAC5B,GAAIt4G,KAAK6Y,UAAY7Y,KAAKP,QAAQi6G,iBAC9B,OAAOx8G,EAAE,IAAM8C,KAAKP,QAAQi6G,kBACnB3pF,KAAK,IAAMuoF,EAAiB,KAAO/1D,EAAM,MACzCt+C,KAAKjE,KAAKP,QAAQ8H,WACxB,GAAIvH,KAAK6Y,SACZ,OAAO7Y,KAAK64G,QACHhpG,QACAkgB,KAAK,IAAMuoF,EAAiB,KAAO/1D,EAAM,MACzCt+C,KAAKjE,KAAKP,QAAQ8H,WACxB,GAAIvH,KAAK64G,QAAQp5G,QAAQk6G,UAC5B,OAAO35G,KAAK64G,QACHhO,MAAMh7F,QACNkgB,KAAK,IAAMuoF,EAAiB,KAAO/1D,EAAM,MACzCt+C,KAAKjE,KAAKP,QAAQ8H,UAOnC65F,IAFJ9jG,EAAMu7G,QAAQG,KAAOA,IAEHx7G,OAAO,CACrBiD,KAAM,SAAShB,EAASo5G,GACpB,IAAIhpG,EAAUpQ,EAAQm6G,aAAe18G,EAAE,qBAAuBA,EAAE,8BAEhE8C,KAAK6P,QAAUA,EACf7P,KAAKP,QAAUvC,EAAEM,OAAO,GAAIwC,KAAKP,QAASA,GAC1CO,KAAK64G,QAAUA,EAEf74G,KAAK6+C,aAEL,GAAIp/C,EAAQo6G,QACR75G,KAAKP,QAAQouB,WAAa8pF,GAG9B,GAAIl4G,EAAQq6G,UAAW,CACnBjqG,EAAQqG,SAASy/F,GACjB31G,KAAK8kB,OAAOrlB,EAAQuoE,UAGxB,GAAIvoE,EAAQspB,MAAQ1rB,IAAcoC,EAAQm6G,aAAc,CACpD/pG,EAAQsG,KAAKyhG,GAAMn4G,EAAQspB,KAC3B,GAAItpB,EAAQynB,OACRrX,EAAQsG,KAAK7Y,EAAM6Y,KAAK0hG,IAAOC,GAIvC,GAAIr4G,EAAQ6qD,MAAO,CACfz6C,EAAQsG,KAAK7Y,EAAM6Y,KAAK,SAAU1W,EAAQ6qD,OAC1CtqD,KAAKsqD,MAAQtqD,KAAK64G,QAAQkB,WAAW/5G,KAAMP,EAAQ6qD,OAGvD,IAAK7qD,EAAQq6G,WAAar6G,EAAQgnB,OAASxlB,EAAWxB,EAAQgnB,OAC1DzmB,KAAKg6G,aAAev6G,EAAQgnB,MAGhC,GAAIhnB,EAAQq6G,WAAar6G,EAAQqlB,QAAU7jB,EAAWxB,EAAQqlB,QAC1D9kB,KAAKi6G,cAAgBx6G,EAAQqlB,QAIrCrlB,QAAS,CACLy6G,SAAUxC,GACV7T,SAAU6T,IAGd5yF,OAAQ,SAAS2kC,EAAO0wD,GACpB1wD,IAAUA,EAEV,GAAIzpD,KAAKsqD,OAASb,EACdzpD,KAAKsqD,MAAMzqB,OAAO7/B,WACf,IAAKA,KAAKsqD,MACbtqD,KAAK6/B,OAAO4pB,GAGhB,GAAI0wD,GAAan6G,KAAKy5G,OAClBz5G,KAAKy5G,OAAO30F,OAAO2kC,IAI3B2wD,eAAgB,WACZ,GAAIp6G,KAAKP,QAAQ46G,QACb,OAAOr6G,KAAK6P,QAAQ0K,QAAQynF,EAAM4T,GAAc3xG,KAAK,kBAO7Dq2G,IAFJh9G,EAAMu7G,QAAQzX,OAASA,IAEI5jG,OAAO,CAC9BiD,KAAM,SAAShB,EAASo5G,GACpBzX,GAAOzgG,GAAGF,KAAK+B,KAAKxC,KAAMP,EAASo5G,GAEnC,IAAIhpG,EAAU7P,KAAK6P,QACnBpQ,EAAUO,KAAKP,QAEfoQ,EAAQqG,SAASwpF,GAEjB1/F,KAAKo5G,YAEL,GAAI35G,EAAQw+F,MACRpuF,EAAQqG,SAAS,WAAazW,EAAQw+F,OAG1C,KAAMx+F,EAAQ2gC,OAAS3gC,EAAQokG,UAAY,WAAcpkG,EAAQokG,UAAY6T,IACzE,GAAIj4G,EAAQynB,OACRrX,EAAQ3L,KAAK,yBAA2BzE,EAAQ2gC,KAAO,gBAEvDvwB,EAAQ3L,KAAKzE,EAAQ2gC,WAEtB,KAAM3gC,EAAQ2gC,KACjBvwB,EAAQsG,KAAK,aAAc1W,EAAQ2gC,MAGvC,GAAG3gC,EAAQs+F,MAAQt+F,EAAQygG,gBAAkBzgG,EAAQ0gG,SACjD,GAAG1gG,EAAQy6G,WAAa,WAAaz6G,EAAQy6G,WAAaxC,GAAM,CAC5Dj4G,EAAQs+F,KAAQ,KAChBt+F,EAAQygG,eAAiB,KACzBzgG,EAAQ0gG,SAAW,KAI3B7iG,EAAM4G,KAAK27F,aAAahwF,EAASpQ,GAEjCO,KAAKm5G,aACLn5G,KAAKk5G,kBACLl5G,KAAKokB,OAAO3kB,EAAQ2kB,QAEpB,GAAI3kB,EAAQuqC,OACRhqC,KAAKujB,OAGTvjB,KAAK6P,QAAQ5L,KAAK,CACdsD,KAAMuwG,EACN5c,OAAQl7F,QAIhB6/B,OAAQ,SAASmoC,GACb,GAAIA,IAAa3qE,EACb2qE,EAAW,MAGf,GAAIhoE,KAAKP,QAAQq6G,UACb95G,KAAK6P,QAAQsG,KAAKkhG,EAAcrvC,GAGpChoE,KAAK6P,QAAQgU,YAAYwyF,EAAgBruC,GACzChoE,KAAKP,QAAQuoE,SAAWA,KAM5BuyC,IAFJj9G,EAAMu7G,QAAQyB,cAAgBA,GAETlZ,GAAO5jG,OAAO,CAC/BiD,KAAM,SAAShB,EAASo5G,GACpB74G,KAAK6Y,SAAW,KAEhBuoF,GAAOzgG,GAAGF,KAAK+B,KAAKxC,KAAM9C,EAAEM,OAAO,GAAIiC,GAAUo5G,GAEjD,IAAIhpG,EAAU7P,KAAK6P,QACnBpQ,EAAUO,KAAKP,QAEf,KAAMA,EAAQ2gC,OAAS3gC,EAAQokG,UAAYz1B,IAAa3uE,EAAQokG,UAAY6T,IACxE,GAAIj4G,EAAQynB,OACRrX,EAAQ3L,KAAK,yBAA2BzE,EAAQ2gC,KAAO,gBAEvDvwB,EAAQ3L,KAAKzE,EAAQ2gC,WAEtB,KAAM3gC,EAAQ2gC,KACjBvwB,EAAQsG,KAAK,aAAc1W,EAAQ2gC,MAGvC,GAAG3gC,EAAQs+F,MAAQt+F,EAAQygG,gBAAkBzgG,EAAQ0gG,SACjD,GAAG1gG,EAAQy6G,WAAa9rC,IAAY3uE,EAAQy6G,WAAaxC,GAAM,CAC3Dj4G,EAAQs+F,KAAQ,KAChBt+F,EAAQygG,eAAiB,KACzBzgG,EAAQ0gG,SAAW,KAI3B7iG,EAAM4G,KAAK27F,aAAahwF,EAASpQ,GAEjC,IAAKA,EAAQ46G,QACTr6G,KAAK26E,QAGT36E,KAAKq5G,oBACLr5G,KAAK6+C,aACL7+C,KAAKm5G,aACLn5G,KAAKk5G,kBACLl5G,KAAKokB,OAAO3kB,EAAQ2kB,QAEpBvU,EAAQqG,SAASw/F,EAAkBztG,EAAQy3F,GAE3C,GAAIjgG,EAAQuqC,OACRhqC,KAAKujB,OAGT,GAAI9jB,EAAQq6G,UACR95G,KAAK8kB,OAAOrlB,EAAQuoE,UAGxBhoE,KAAK6P,QAAQ5L,KAAK,CACdsD,KAAMuwG,EACN5c,OAAQl7F,QAIhB26E,MAAO,WACH36E,KAAK6P,QAAU7P,KAAK6P,QAAQuF,KAAKmjG,IAAqBhjG,UAG1DgkG,eAAgB,WACZv5G,KAAK6P,QAAQqG,SAAS0gG,IAG1B/2E,OAAQ,SAASmoC,GACb,GAAIA,IAAa3qE,EACb2qE,EAAW,MAGf,GAAIhoE,KAAKP,QAAQ46G,QACbr6G,KAAK6P,QAAQgU,YAAYwyF,EAAgBruC,QAEzChoE,KAAK6P,QAAQkgB,KAAKiyE,EAAMtC,GAAS77E,YAAYwyF,EAAgBruC,GAEjEhoE,KAAKP,QAAQuoE,SAAWA,MAO5BwyC,IAHJl9G,EAAMu7G,QAAQ0B,eAAiBA,GAC/Bj9G,EAAMu7G,QAAQI,kBAAkBnB,EAAQwC,GAAeC,IAErCvB,GAAKx7G,OAAO,CAC1Bi9G,cAAe,SAASC,GACpB,IAAIj7G,EAAUO,KAAKP,QACnB,IAAI4uB,EAAQ5uB,EAAQk7G,SAAW,GAC/B,IAAI1xE,EAEJ,IAAK,IAAIppC,EAAI,EAAGA,EAAIwuB,EAAMvuB,OAAQD,IAAK,CACnC,IAAKwuB,EAAMxuB,GAAG0iD,IACVl0B,EAAMxuB,GAAG0iD,IAAMjlD,EAAMksB,OAEzByf,EAAO,IAAIyxE,EAAkBx9G,EAAEM,OAAO,CAAE0pB,OAAQznB,EAAQynB,OAAQmzF,QAAS,KAAM9yG,KAAMuwG,GAAUzpF,EAAMxuB,IAAKG,KAAK64G,SAC/G5vE,EAAKp5B,QAAQq1B,SAASllC,KAAK6P,WAInCiK,QAAS,WACL9Z,KAAK6P,QAAQwxC,WAAWpxB,OAAO,UAAYsmF,EAAe,MAAMp0G,QAAQ+T,SAASsgG,GACjFx2G,KAAK6P,QAAQwxC,WAAWpxB,OAAO,UAAYsmF,EAAe,MAAMt8E,OAAO/jB,SAASugG,OAMpFmE,IAFJt9G,EAAMu7G,QAAQ2B,YAAcA,IAESh9G,OAAO,CACxCiD,KAAM,SAAShB,EAASo5G,GACpB,IAAIhpG,EAAU7P,KAAK6P,QAAU3S,EAAE,eAC/B8C,KAAKP,QAAUA,EACfO,KAAK64G,QAAUA,EAEf74G,KAAKo5G,YAEL,GAAI35G,EAAQw+F,MACRpuF,EAAQqG,SAAS,WAAazW,EAAQw+F,OAG1Cj+F,KAAKy6G,cAAcH,IACnBt6G,KAAK6+C,aACL7+C,KAAKm5G,aACLn5G,KAAKk5G,kBACLl5G,KAAK8Z,UAELjK,EAAQqG,SAAS0/F,GAEjB,GAAIn2G,EAAQuqC,OACRhqC,KAAKujB,OAGTvjB,KAAK6P,QAAQ5L,KAAK,CACdsD,KAAM,cACNszG,YAAa76G,UAOrB86G,IAFJx9G,EAAMu7G,QAAQ+B,mBAAqBA,GAETJ,GAAYh9G,OAAO,CACzCiD,KAAM,SAAShB,EAASo5G,GACpB,IAAIhpG,EAAU7P,KAAK6P,QAAU3S,EAAE,aAC/B8C,KAAKP,QAAUA,EACfO,KAAK64G,QAAUA,EACf74G,KAAK6Y,SAAW,KAEhB7Y,KAAKq5G,oBAELr5G,KAAKy6G,cAAcF,IACnBv6G,KAAK6+C,aACL7+C,KAAKm5G,aACLn5G,KAAKk5G,kBACLl5G,KAAK8Z,UAELjK,EAAQqG,UAAUzW,EAAQynB,OAASwxF,GAAU9C,GAAgB3tG,EAAQ0uG,GAErE32G,KAAK6P,QAAQ5L,KAAK,CACdsD,KAAM,cACNszG,YAAa76G,QAIrBu5G,eAAgB,WACZv5G,KAAK6P,QAAQqG,SAAS0gG,OAO1BmE,IAHJz9G,EAAMu7G,QAAQiC,oBAAsBA,GACpCx9G,EAAMu7G,QAAQI,kBAAkB,cAAe2B,GAAoBE,IAE3CR,GAAc98G,OAAO,CACzCiD,KAAM,SAAShB,EAASo5G,GACpB,IAAIhpG,EAASwwF,EAAKD,EAElB3gG,EAAUO,KAAKP,QAAUvC,EAAEM,OAAO,GAAIwC,KAAKP,QAASA,GAEpD,GAAIA,EAAQspB,MAAQ1rB,EAChBwS,EAAU3S,EAAEI,EAAM0G,SAASy0G,GAAfn7G,CAA4B,CACpC60B,KAAM1yB,EAAQspB,IACdqX,KAAM3gC,EAAQ2gC,aAGlBvwB,EAAU3S,EAAEI,EAAM0G,SAASw0G,GAAfl7G,CAA+B,CACvC8iC,KAAM3gC,EAAQ2gC,QAItBpgC,KAAK6P,QAAUA,EACf7P,KAAK64G,QAAUA,EAEf,GAAIp5G,EAAQgnB,OAASxlB,EAAWxB,EAAQgnB,OACpCzmB,KAAKg6G,aAAev6G,EAAQgnB,MAGhC,GAAIhnB,EAAQq6G,WAAar6G,EAAQqlB,QAAU7jB,EAAWxB,EAAQqlB,QAC1D9kB,KAAKi6G,cAAgBx6G,EAAQqlB,OAGjC,GAAIrlB,EAAQ0gG,SAAU,CAClBE,EAAMnjG,EAAE,sCAAsC4zB,UAAUjhB,GACxDwwF,EAAIlqF,KAAK,MAAO1W,EAAQ0gG,eACrB,GAAI1gG,EAAQs+F,KAAM,CACrBqC,EAAOljG,EAAE,iBAAiB4zB,UAAUjhB,GACpCuwF,EAAKjqF,KAAK,QAAS,cAAgB1W,EAAQs+F,WACxC,GAAIt+F,EAAQygG,eAAgB,CAC/BE,EAAOljG,EAAE,kCAAkC4zB,UAAUjhB,GACrDuwF,EAAKlqF,SAASzW,EAAQygG,gBAG1BlgG,KAAKo5G,YACLp5G,KAAKm5G,aACLn5G,KAAKk5G,kBACLl5G,KAAK6+C,aACL7+C,KAAKokB,OAAO3kB,EAAQ2kB,QAEpB,GAAI3kB,EAAQ6qD,MAAO,CACfz6C,EAAQsG,KAAK7Y,EAAM6Y,KAAK,SAAU1W,EAAQ6qD,OAC1CtqD,KAAKsqD,MAAQtqD,KAAK64G,QAAQkB,WAAW/5G,KAAMP,EAAQ6qD,OAGvD,GAAI7qD,EAAQuqC,OACRhqC,KAAKujB,OAGTvjB,KAAK6P,QAAQ5L,KAAK,CACdsD,KAAMuwG,EACN5c,OAAQl7F,WAOhBg7G,IAFJ19G,EAAMu7G,QAAQkC,kBAAoBA,GAET/B,GAAKx7G,OAAO,CACjCiD,KAAM,SAAShB,EAASo5G,GACpB,IAAIhpG,EAAU7P,KAAK6P,QAAU3S,EAAE,eAAiB24G,EAAe5tG,EAAQ2tG,EAAe3tG,EAAQivG,EAAoB,yBAElHl3G,KAAKP,QAAUA,EACfO,KAAK64G,QAAUA,EAEf74G,KAAKi7G,WAAa,IAAIX,GAAcp9G,EAAEM,OAAO,GAAIiC,EAAS,CAAEuqC,OAAQ,QAAU6uE,GAC9E74G,KAAKk7G,YAAch+G,EAAE,aAAewiG,EAAUz3F,EAAQk5F,EAAkBl5F,EAAQ+tG,EAAc/tG,EAAQ6tG,EAAqB,mBAAqBr2G,EAAQynB,OAAS,uBAAyB,oCAAsC,iBAChOlnB,KAAKm7G,aAAej+G,EAAE,cAAgB64G,EAAiB9tG,EAAQkvG,EAAa,WAE5En3G,KAAKi7G,WAAWprG,QACXwb,WAAW,iBACX6Z,SAASr1B,GAEd7P,KAAKk7G,YAAYh2E,SAASr1B,GAC1B7P,KAAKm7G,aAAaj2E,SAASr1B,GAE3B,GAAIpQ,EAAQw+F,MACRpuF,EAAQqG,SAAS,WAAazW,EAAQw+F,OAG1C,IAAKx+F,EAAQjD,GACTiD,EAAQjD,GAAKiD,EAAQ8iD,IAGzB1yC,EAAQsG,KAAKwiG,GAAIl5G,EAAQjD,GAAK,YAE9BwD,KAAKk5G,kBACLl5G,KAAKm5G,aAELn5G,KAAKo7G,oBACLp7G,KAAKq7G,cACLr7G,KAAKqmG,eAELrmG,KAAKi7G,WAAWK,KAAO,KAEvBt7G,KAAKokB,OAAO3kB,EAAQ2kB,QAEpB,GAAI3kB,EAAQuqC,OACRhqC,KAAKujB,OAGT1T,EAAQ5L,KAAK,CACTsD,KAAM,cACNg0G,YAAav7G,KACbw7G,WAAYx7G,KAAK6qG,SAIzBxE,aAAc,WACV,IAAI9lG,EAAOP,KAEXO,EAAK46G,aAAa/0F,GAAGi+E,EAAUx7E,EAAIm5E,EAAM0U,EAAW,SAASp0G,GACzD,IAAIm5G,EAAKv+G,EAAEoF,EAAE3C,QAAQ4V,SAErBjT,EAAEpB,iBAEF,GAAIoB,EAAE8+B,UAAY7Z,EAAKM,KAAOvlB,EAAE8+B,UAAY7Z,EAAKI,KAAQrlB,EAAEo5G,QAAUp5G,EAAE8+B,UAAY7Z,EAAKQ,GAAK,CACzFxnB,EAAKukB,SACLvkB,EAAK8+B,aACF,GAAI/8B,EAAE8+B,UAAY7Z,EAAKU,KAC1B0zF,GAAqBF,EAAIvX,IAAM7hG,QAAQk1G,QACpC,GAAIj1G,EAAE8+B,UAAY7Z,EAAKQ,GAC1B4zF,GAAqBF,EAAIxX,IAAM5hG,QAAQk1G,QACpC,GAAIj1G,EAAE8+B,UAAY7Z,EAAKa,UAAY9lB,EAAE8+B,UAAY7Z,EAAKK,MACzDrnB,EAAKs4G,QAAQ3mE,WAAW7vC,QAAQytC,EAAK,CAAEnwC,OAAQzC,EAAEoF,EAAE3C,eAChD,GAAI2C,EAAE8+B,UAAY7Z,EAAKY,KAC1BszF,EAAGlmG,SAASwa,KAAK,mBAAmB5tB,QAAQE,QAAQk1G,QACjD,GAAIj1G,EAAE8+B,UAAY7Z,EAAKW,IAC1BuzF,EAAGlmG,SAASwa,KAAK,mBAAmBkK,OAAO53B,QAAQk1G,MAK/D6D,kBAAmB,WACf,IAAI37G,EAAUO,KAAKP,QACnB,IAAI4uB,EAAQ5uB,EAAQm8G,YACpB,IAAI3yE,EAEJ,IAAK,IAAIppC,EAAI,EAAGA,EAAIwuB,EAAMvuB,OAAQD,IAAK,CACnCopC,EAAO,IAAI8xE,GAAkB79G,EAAEM,OAAO,CAAE0pB,OAAQznB,EAAQynB,OAAQ3f,KAAMuwG,EAAQrxF,MAAOhnB,EAAQgnB,OAAS4H,EAAMxuB,IAAKG,KAAK64G,SACtH5vE,EAAKp5B,QAAQuF,KAAKmjG,IAAqBhjG,SAAS2vB,SAASllC,KAAKm7G,gBAItEE,YAAa,WACT,IAAI96G,EAAOP,KACX,IAAIP,EAAUO,KAAKP,QACnB,IAAIoQ,EAAU7P,KAAK6P,QAEnB7P,KAAKm7G,aACIhlG,KAAKwiG,GAAIl5G,EAAQjD,GAAK67G,IACtBliG,KAAKmiG,EAAgB74G,EAAQo8G,SAEtC,GAAIp8G,EAAQynB,OACRlnB,KAAKm7G,aAAeW,GAAgB97G,KAAKm7G,cAG7Cn7G,KAAK6qG,MAAQ7qG,KAAKm7G,aAAaK,WAAW,CACtCt2E,SAAUzlC,EAAQynB,OAAShqB,EAAEuC,EAAQynB,QAAQm6B,SAAS,YAAc,KACpEkhD,OAAQ1yF,EACRwJ,MAAOrZ,KAAK64G,QAAQnK,OACpB9E,iBAAkB,MAClBT,UAAW1pG,EAAQ0pG,UACnBC,KAAM,SAAS9mG,GACX,IAAIlB,EAAqBb,EAAKs4G,QAAQx2G,QAAQwlG,EAAM,CAAEloG,OAAQkQ,IAE9D,GAAGzO,EAAmB,CAClBkB,EAAEpB,iBACF,OAGJX,EAAKw7G,iBAAiBz5G,EAAEC,SAE5B+yG,SAAU,WACNt1G,KAAK6P,QAAQkgB,KAAK,mBAAmB5tB,QAAQE,QAAQk1G,IAEzDt9D,MAAO,SAAS33C,GACZ,IAAIlB,EAAqBb,EAAKs4G,QAAQx2G,QAAQylG,EAAO,CAAEnoG,OAAQkQ,IAC/D,GAAGzO,EACCkB,EAAEpB,iBAEN2O,EAAQxN,QAAQk1G,MAErBtzG,KAAK,cAERjE,KAAK6qG,MAAMh7F,QAAQuW,GAAGu6E,EAAQ93E,EAAI,aAAcmzF,KAGpDD,iBAAkB,SAAUlR,GACxB,IAAItI,EAASsI,EAAMprG,QAAQ8iG,OACvB0Z,EAAgBlsG,EAAWwyF,GAC3B5sF,EAEJrY,EAAM8X,KAAKy1F,EAAMh7F,SAASqG,SAAS,mBAEnC,GAAI20F,EAAMh7F,QAAQgF,IAAI,gBAAkB,aACpCc,EAAQsmG,GAAiBlsG,EAAW86F,EAAMh7F,SAAWg7F,EAAMh7F,QAAQ8F,cAEnEA,EAAQsmG,EAGZpR,EAAMh7F,QAAQgF,IAAI,CACdqnG,WAAY3Z,EAAO1tF,IAAI,eACvBsnG,YAAaxmG,KAIrBob,OAAQ,WACJ/wB,KAAK6qG,MAAMh7F,QAAQwjB,IAAIstE,EAAQ93E,EAAI,cACnC7oB,KAAK6qG,MAAM5+E,UACXjsB,KAAK6P,QAAQkhB,UAGjBjM,OAAQ,WACJ,GAAG9kB,KAAKP,QAAQ2kB,QAAUpkB,KAAK6qG,MAAMz4E,UACjCpyB,KAAK6qG,MAAM/lF,UAInBV,OAAQ,SAASo1F,GACb,GAAIA,IAAcn8G,EACdm8G,EAAY,KAGhBx5G,KAAKi7G,WAAW72F,OAAOo1F,GACvBx5G,KAAK6P,QAAQgU,YAAYyyF,GAAiBkD,GAC1Cx5G,KAAK6P,QAAQsG,KAAKihG,GAAgBoC,GAClCx5G,KAAKP,QAAQ2kB,OAASo1F,GAG1Bn6E,MAAO,WACHr/B,KAAK6P,QAAQxN,QAAQk1G,IAGzBh0F,KAAM,WACF,GAAIvjB,KAAK6qG,MACL7qG,KAAK6qG,MAAM5wD,QAGfj6C,KAAK6P,QAAQqG,SAASqgG,GACtBv2G,KAAK6P,QAAQqG,SAAS+3D,GACtBjuE,KAAKP,QAAQuqC,OAAS,MAG1ByoC,KAAM,WACFzyE,KAAK6P,QAAQ4F,YAAY8gG,GACzBv2G,KAAK6P,QAAQ4F,YAAYw4D,GACzBjuE,KAAKP,QAAQuqC,OAAS,UAM1BoyE,IAFJ9+G,EAAMu7G,QAAQmC,mBAAqBA,GAEThC,GAAKx7G,OAAO,CAClCiD,KAAM,SAAShB,EAASo5G,GACpB,IAAIhpG,EAAU7P,KAAK6P,QAAU3S,EAAE,cAAgB24G,EAAe,WAC1DxnF,EAAQ5uB,EAAQm8G,YAChB3yE,EAAMywE,EAEV15G,KAAKP,QAAUA,EACfO,KAAK64G,QAAUA,EACf74G,KAAK6Y,SAAW,KAChB6gG,GAAoBj6G,EAAQjD,IAAMiD,EAAQ8iD,KAAO81D,GAEjDr4G,KAAKi7G,WAAa,IAAIV,GAAer9G,EAAEM,OAAO,CAAE68G,QAAS,MAAQ56G,IACjEO,KAAKi7G,WAAWprG,QAAQq1B,SAASr1B,GAEjC,IAAK,IAAIhQ,EAAI,EAAGA,EAAIwuB,EAAMvuB,OAAQD,IAAK,CACnCopC,EAAO,IAAIsxE,GAAer9G,EAAEM,OAAO,CAAE0pB,OAAQznB,EAAQynB,OAAQ3f,KAAMuwG,EAAQ4B,iBAAkBA,EAAkBW,QAAS,MAAQhsF,EAAMxuB,GAAI,CAAE4mB,MAAOhnB,EAAQgnB,QAAUzmB,KAAK64G,SAC1K5vE,EAAKp5B,QAAQq1B,SAASr1B,GAG1B7P,KAAKm5G,aACLn5G,KAAKk5G,kBAELl5G,KAAKi7G,WAAWK,KAAO,KAEvBzrG,EAAQ5L,KAAK,CACTsD,KAAM,cACNg0G,YAAav7G,QAIrBu5G,eAAgB,WACZv5G,KAAK6P,QAAQqG,SAAS0gG,OAO1ByF,IAHJ/+G,EAAMu7G,QAAQuD,oBAAsBA,GACpC9+G,EAAMu7G,QAAQI,kBAAkB,cAAe+B,GAAoBoB,IAE5CpD,GAAKx7G,OAAO,CAC/BiD,KAAM,SAAShB,EAASo5G,GACpB,IAAIhpG,EAAU7P,KAAK6P,QAAU3S,EAAE,qBAE/B8C,KAAK6P,QAAUA,EACf7P,KAAKP,QAAUA,EACfO,KAAK64G,QAAUA,EAEf74G,KAAK6+C,aACL7+C,KAAKo5G,YACLp5G,KAAKm5G,aACLn5G,KAAKk5G,kBAELrpG,EAAQqG,SAAS+/F,GACjBpmG,EAAQsG,KAAK0hG,GAAME,IAEnBloG,EAAQ5L,KAAK,CACTsD,KAAMwwG,GACNuE,UAAWt8G,WAKnBu8G,GAAoBvD,GAAKx7G,OAAO,CAChCiD,KAAM,SAAShB,EAASo5G,GACpB,IAAIhpG,EAAU7P,KAAK6P,QAAU3S,EAAE,mBAE/B8C,KAAK6P,QAAUA,EACf7P,KAAKP,QAAUA,EACfO,KAAK64G,QAAUA,EACf74G,KAAK6Y,SAAW,KAEhB7Y,KAAK6+C,aACL7+C,KAAKm5G,aACLn5G,KAAKq5G,oBAELxpG,EAAQqG,SAAS+/F,GACjBpmG,EAAQsG,KAAK0hG,GAAME,IAEnBloG,EAAQ5L,KAAK,CACTsD,KAAMwwG,GACNuE,UAAWt8G,QAInBu5G,eAAgB,WACZv5G,KAAK6P,QAAQqG,SAAS0gG,MAM1B4F,IAFJl/G,EAAMu7G,QAAQI,kBAAkB,YAAaoD,GAAkBE,IAE3CvD,GAAKx7G,OAAO,CAC5BiD,KAAM,SAAShB,EAASo5G,GACpB,IAAIhpG,EAAU7P,KAAK6P,QAAU3S,EAAE,qBAE/B8C,KAAK6P,QAAUA,EACf7P,KAAKP,QAAUA,EACfO,KAAK64G,QAAUA,EAEfhpG,EAAQqG,SAASggG,GAEjBrmG,EAAQ5L,KAAK,CACTsD,KAAMkwG,SAOdgF,IAFJn/G,EAAMu7G,QAAQI,kBAAkBxB,GAAQ+E,IAErBxD,GAAKx7G,OAAO,CAC3BiD,KAAM,SAASuD,EAAUvE,EAASo5G,GAC9B,IAAIhpG,EAAU5O,EAAW+C,GAAYA,EAASvE,GAAWuE,EAEzD,KAAM6L,aAAmB1S,QACrB0S,EAAU3S,EAAE,eAAegH,KAAK2L,QAEhCA,EAAUA,EAAQuF,KAAK,eAAeG,SAG1CvV,KAAK6P,QAAUA,EACf7P,KAAKP,QAAUA,EACfO,KAAKP,QAAQ8H,KAAO8mG,GACpBruG,KAAK64G,QAAUA,EAEf74G,KAAK6+C,aACL7+C,KAAKm5G,aACLn5G,KAAKo5G,YACLp5G,KAAKk5G,kBAEL,GAAIz5G,EAAQuqC,OACRhqC,KAAKujB,OAGT1T,EAAQ5L,KAAK,CACTsD,KAAM8mG,GACNrqG,SAAUhE,WAOlB08G,IAFJp/G,EAAMu7G,QAAQ4D,aAAeA,GAEFzD,GAAKx7G,OAAO,CACnCiD,KAAM,SAASuD,EAAUvE,EAASo5G,GAC9B,IAAIhpG,EAAU5O,EAAW+C,GAAY9G,EAAE8G,EAASvE,IAAYvC,EAAE8G,GAE9D,KAAM6L,aAAmB1S,QACrB0S,EAAU3S,EAAE,aAAagH,KAAK2L,QAE9BA,EAAUA,EAAQuF,KAAK,aAAaG,SAGxCvV,KAAK6P,QAAUA,EACf7P,KAAKP,QAAUA,EACfO,KAAKP,QAAQ8H,KAAO8mG,GACpBruG,KAAK64G,QAAUA,EACf74G,KAAK6Y,SAAW,KAEhB7Y,KAAK6+C,aACL7+C,KAAKm5G,aACLn5G,KAAKq5G,oBACLr5G,KAAKk5G,kBAELrpG,EAAQ5L,KAAK,CACTsD,KAAM8mG,GACNrqG,SAAUhE,QAIlBu5G,eAAgB,WACZv5G,KAAK6P,QAAQqG,SAAS0gG,OAM9B,SAAS+F,GAAar6G,GAClB,IAAKA,EAAE3C,OAAOsW,GAAG,oBACb3T,EAAE3C,OAAOkkB,YAAYwyF,EAAgB/zG,EAAEiF,MAAQ,SAIvD,SAASu0G,GAAgBjsG,GACrBA,EAAU3S,EAAE2S,GAEZ,OAAOA,EAAQ6F,SAAS,kBAAoB7F,EAAQ0K,QAAQ,qBAAuB1K,EAAQqG,SAAS,4BAClFd,KAAK,uFAAuFG,SAC5FH,KAAK,gDAAgDG,SAG3E,SAASymG,GAAa15G,GAClB,GAAIpF,EAAEoF,EAAE3C,QAAQ4a,QAAQ,cAAcza,OAClCwC,EAAEpB,iBAIV,SAASy6G,GAAsB9rG,EAAS+pB,GACpC,IAAIm+D,EAAan+D,IAAQsqE,GAAOhnG,EAAEyD,GAAGg7D,KAAOz+D,EAAEyD,GAAGwsC,KACjD,IAAIhkB,EAASyQ,IAAQsqE,GAAOhnG,EAAEyD,GAAGwB,MAAQjF,EAAEyD,GAAGs5B,KAC9C,IAAI2iF,EAAY7kB,EAAWv1F,KAAKqN,GAEhC,IAAI+sG,EAAU98G,QAAU+P,EAAQoG,GAAG+rF,EAAM6U,GACrC,OAAOhnG,EAGX,GAAI+sG,EAAU3mG,GAAG,qBAAuB2mG,EAAU98G,OAC9C,OAAO88G,EAGX,GAAIA,EAAU7sF,KAAK,mBAAmBjwB,OAClC,OAAOqpB,EAAO3mB,KAAKo6G,EAAU7sF,KAAK,oBAGtC,OAAO4rF,GAAqBiB,EAAWhjF,GAvC3Ct8B,EAAMu7G,QAAQ6D,qBAAuBA,GA0CrC,IAAIG,GAAQ38G,EAAM1C,OAAO,CACrBiD,KAAM,SAAShE,GACXuD,KAAKvD,KAAOA,EACZuD,KAAK26G,QAAU,IAGnB52F,IAAK,SAASm3E,GACVl7F,KAAK26G,QAAQ36G,KAAK26G,QAAQ76G,QAAUo7F,GAGxCnqE,OAAQ,SAASmqE,GACb,IAAI/rF,EAAQjS,EAAEmyB,QAAQ6rE,EAAQl7F,KAAK26G,SACnC36G,KAAK26G,QAAQl4G,OAAO0M,EAAO,IAG/B0wB,OAAQ,SAASq7D,GACb,IAAInmB,EACJ,IAAK,IAAIl1E,EAAI,EAAGA,EAAIG,KAAK26G,QAAQ76G,OAAQD,IAAM,CAC3Ck1E,EAAM/0E,KAAK26G,QAAQ96G,GAEnBk1E,EAAIl1C,OAAO,OAGfq7D,EAAOr7D,OAAO,MACd,GAAIq7D,EAAOue,OACPve,EAAOue,OAAO55E,OAAO,SAK7Bi9E,GAAUh2F,EAAOtpB,OAAO,CACxBiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCA,EAAUc,EAAKd,QACfoQ,EAAUtP,EAAKiW,QAAUjW,EAAKsP,QAE9BA,EAAQqG,SAASu/F,EAAU,aAC3B5lG,EAAQsG,KAAK0hG,GAAM,WAEnB73G,KAAKuiD,IAAMjlD,EAAMksB,OACjBxpB,KAAK0uG,OAASpxG,EAAMW,QAAQob,MAAMxJ,GAClC7P,KAAK+8G,QAAU,GACfltG,EAAQsG,KAAKmiG,EAAgBt4G,KAAKuiD,KAElChiD,EAAKy8G,gBAAmBv9G,EAAQynB,SAAW,UAAaznB,EAAQynB,OAAS3mB,EAAKsP,QAAQ0K,QAAQ,YAAY,GAC1Gha,EAAK4oG,UAAY5oG,EAAKy8G,SAAW,CAAE5T,KAAM,CAAEpmF,QAAS,SAAa,GAEjE,GAAIziB,EAAKy8G,SAAU,CACfntG,EAAQqG,SAAS,aACjBwpF,EAAU,YACVkW,EAAe,iBACfS,EAAiB,kBACjBC,EAAiB,oBAGrB,GAAG72G,EAAQk6G,UAAW,CAClBp5G,EAAK08G,kBACLptG,EAAQqG,SAASkgG,GAEjB71G,EAAK28G,mBAAqB,IAAI5/G,EAAM+1C,WAAW9yC,EAAKsP,QAAS,CACzD8Q,UAAW,EACXwzB,eAAgB,KAChBlkB,OAAQ+xE,EAAM6U,EACdpgE,IAAKl2C,EAAK48G,gBAAgB57G,KAAKhB,KAGnCA,EAAK4lG,eAAiB7oG,EAAM41B,SAAS,WACjC3yB,EAAKmmB,gBAGTnmB,EAAKsqG,MAAQ,CAAEh7F,QAAS3S,EAAE,KAG9B,GAAGuC,EAAQ4uB,OAAS5uB,EAAQ4uB,MAAMvuB,OAAQ,CACtC,IAAK,IAAID,EAAI,EAAGA,EAAIJ,EAAQ4uB,MAAMvuB,OAAQD,IACtCU,EAAKwjB,IAAItkB,EAAQ4uB,MAAMxuB,IAG3B,GAAGJ,EAAQk6G,UACPp5G,EAAK68G,QAAQ78G,EAAKsP,QAAQ6L,cAIlCnb,EAAK2xC,WAAa,IAAI50C,EAAM+1C,WAAW7jC,SAASE,gBAAiB,CAC7DiR,UAAW,EACXwzB,eAAgB,KAChBlkB,OACI,IAAMqoF,EAAiB,IAAMt4G,KAAKuiD,IAAM,OAASm9C,EAAUv3F,GAAQF,EACnE,IAAMqwG,EAAiB,IAAMt4G,KAAKuiD,IAAM,MAAQm0D,EAAYvuG,GAAQF,EACpE,IAAMqwG,EAAiB,IAAMt4G,KAAKuiD,IAAM,MAAQmzD,EACpDj/D,IAAKl2C,EAAK88G,aAAa97G,KAAKhB,GAC5BoyC,MAAOgqE,GACPW,QAASX,KAGbp8G,EAAKsP,QAAQuW,GAAGu6E,EAAQ93E,EAAI,aAAcmzF,IAC1Cz7G,EAAK8lG,eAEL,GAAI5mG,EAAQk6G,UACRp5G,EAAKsqG,MAAMh7F,QAAQuW,GAAGu6E,EAAQ93E,GAAM,aAAcmzF,IAGtD,GAAIv8G,EAAQk6G,UACR35G,KAAKu9G,wBAGTjgH,EAAMoxB,OAAOnuB,IAGjByB,OAAQ,CACJ2+F,EACA2W,EACAzP,EACAC,EACAkQ,GACAC,IAGJx4G,QAAS,CACLhD,KAAM,UACN4xB,MAAO,GACPsrF,UAAW,KACXzyF,OAAQ,MAGZ6yF,WAAY,SAAS7e,EAAQpP,GACzB,IAAIxhC,EAEJ,IAAKtqD,KAAK+8G,QAAQjxB,GACdxhC,EAAQtqD,KAAK+8G,QAAQjxB,GAAa,IAAI+wB,QAEtCvyD,EAAQtqD,KAAK+8G,QAAQjxB,GAGzBxhC,EAAMvmC,IAAIm3E,GACV,OAAO5wC,GAGXr+B,QAAS,WACL,IAAI1rB,EAAOP,KAEXO,EAAKsP,QAAQkgB,KAAKiyE,EAAM6T,GAAcp4G,KAAK,SAASkE,EAAKkO,GACrD3S,EAAE2S,GAAS5L,KAAK,cAAcgoB,YAGlC1rB,EAAKsP,QAAQwjB,IAAIxK,EAAI,cAErBtoB,EAAK2xC,WAAWjmB,UAEhB,GAAI1rB,EAAKd,QAAQk6G,UAAW,CACxBr8G,EAAM81B,aAAa7yB,EAAK4lG,gBACxB5lG,EAAK28G,mBAAmBjxF,UACxB1rB,EAAKsqG,MAAMh7F,QAAQwjB,IAAIxK,EAAI,cAC3BtoB,EAAKsqG,MAAM5+E,UAGfnF,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,IAG3BwjB,IAAK,SAAStkB,GACV,IAAI+9G,EAAY5E,GAAWn5G,EAAQ8H,MAC/BvD,EAAWvE,EAAQuE,SACnBy5G,EAAMl9G,EAAOP,KACb09G,EAAcn9G,EAAKy8G,SAAWtE,GAAU,SACxCiF,EAAmBl+G,EAAQk+G,iBAC3BC,EAEJ1gH,EAAEM,OAAOiC,EAAS,CACd8iD,IAAKjlD,EAAMksB,OACX2/E,UAAW5oG,EAAK4oG,UAChBjiF,OAAQ3mB,EAAKy8G,SACbnB,QAASt7G,EAAKgiD,MAGlB,GAAI9iD,EAAQm8G,YACR,IAAK,IAAI/7G,EAAI,EAAGA,EAAIJ,EAAQm8G,YAAY97G,OAAQD,IAC5C3C,EAAEM,OAAOiC,EAAQm8G,YAAY/7G,GAAI,CAC7B0iD,IAAKjlD,EAAMksB,SAKvB,GAAKxlB,IAAa25G,GAAqBl+G,EAAQ8H,OAASkwG,GACpDh4G,EAAQoZ,SAAWq/F,QAChB,IAAKz4G,EAAQoZ,SAChBpZ,EAAQoZ,SAAWs/F,GAIvB,GAAI14G,EAAQoZ,WAAaq/F,IAAkB33G,EAAKd,QAAQk6G,UAAW,CAC/D,GAAIgE,EACCC,EAAe,IAAIlB,GAAqBiB,EAAkBl+G,EAASc,QACjE,GAAIi9G,EAAW,CAClBI,EAAe,IAAIJ,EAAU3kG,SAASpZ,EAASc,GAC/Cq9G,EAAa/tG,QAAQqG,SAASwnG,GAGlC,GAAIE,EAAc,CACd,GAAIn+G,EAAQoZ,WAAas/F,GACrByF,EAAarE,iBAGjBqE,EAAa/tG,QAAQq1B,SAAS3kC,EAAKsqG,MAAMv6E,WACzC/vB,EAAKmqB,QAAQ,UAAW,WACpB,MAAO,CAAE0D,SAAUwvF,EAAa/tG,QAAQyZ,UAMpD,GAAI7pB,EAAQoZ,WAAau/F,GAAiB,CACtC,GAAIp0G,EACAy5G,EAAO,IAAIhB,GAAaz4G,EAAUvE,EAASc,QACxC,GAAIi9G,EACPC,EAAO,IAAID,EAAU3E,QAAQp5G,EAASc,GAG1C,GAAIk9G,EAAM,CACNA,EAAK5tG,QAAQq1B,SAAS3kC,EAAKsP,SAE3BtP,EAAKmqB,QAAQ,UAAW,WACpB,MAAO,CAAE0D,SAAUqvF,EAAK5tG,QAAQyZ,YAMhDu0F,SAAU,SAASjB,GACf,IAAI/sG,EACAiuG,EACAC,EACAC,EAAch+G,KAAKP,QAAQk6G,UAC3BpyG,EAIJsI,EAAU7P,KAAK6P,QAAQkgB,KAAK6sF,GAC5B,IAAK/sG,EAAQ/P,OACT+P,EAAU3S,EAAE,+BAAiC8C,KAAKuiD,IAAM,KAAKxyB,KAAK6sF,GAGtEr1G,EAAOsI,EAAQ/P,OAAS+P,EAAQ5L,KAAK,QAAUy0G,GAC/CoF,EAAcjuG,EAAQ5L,KAAKsD,GAE3B,GAAIu2G,EAAa,CACb,GAAIA,EAAYxC,KAAM,CAClBzrG,EAAUA,EAAQ0F,OAAOysF,EAAM6T,GAC/BtuG,EAAO,cACPu2G,EAAcjuG,EAAQ5L,KAAKsD,GAG/B,GAAIy2G,EACAD,EAAeD,EAAYrE,YAE5B,GAAIuE,EAAa,CACpBnuG,EAAU7P,KAAK6qG,MAAMh7F,QAAQkgB,KAAK6sF,GAClCr1G,EAAOsI,EAAQ/P,OAAS+P,EAAQ5L,KAAK,QAAUy0G,GAC/CqF,EAAeluG,EAAQ5L,KAAKsD,GAE5B,GAAIw2G,GAAgBA,EAAazC,KAAM,CACnCzrG,EAAUA,EAAQ0F,OAAOysF,EAAM6T,GAC/BtuG,EAAO,cACPw2G,EAAeluG,EAAQ5L,KAAKsD,IAIpC,MAAO,CACHA,KAAMA,EACNsxG,QAASiF,EACTjlG,SAAUklG,IAIlBhtF,OAAQ,SAAS6rF,GACb,IAAI3zE,EAAOjpC,KAAK69G,SAASjB,GAEzB,GAAI3zE,EAAK4vE,QAAW5vE,EAAK4vE,QAAQ9nF,SACjC,GAAIkY,EAAKpwB,SAAYowB,EAAKpwB,SAASkY,SAEnC/wB,KAAK0mB,OAAO,OAGhBnD,KAAM,SAASq5F,GACX,IAAI3zE,EAAOjpC,KAAK69G,SAASjB,GACzB,IAAIqB,EAEJ,GAAIh1E,EAAK4vE,QACL,GAAI5vE,EAAK4vE,QAAQp5G,QAAQ8H,OAASuwG,GAAU7uE,EAAK4vE,QAAQp5G,QAAQ46G,QAAS,CACtE4D,EAAsBh1E,EAAK4vE,QAAQuB,iBAEnCnxE,EAAK4vE,QAAQt1F,OAEb,GAAI06F,EACAA,EAAoBnkG,eAErB,IAAKmvB,EAAK4vE,QAAQp5G,QAAQuqC,OAC7Bf,EAAK4vE,QAAQt1F,OAIrB,GAAI0lB,EAAKpwB,SACL,GAAIowB,EAAKpwB,SAASpZ,QAAQ8H,OAASuwG,GAAU7uE,EAAKpwB,SAASpZ,QAAQ46G,QAAS,CACxE4D,EAAsBh1E,EAAKpwB,SAASuhG,iBAEpCnxE,EAAKpwB,SAAS0K,OAEd,GAAG06F,EACCA,EAAoBnkG,eAErB,IAAImvB,EAAKpwB,SAASpZ,QAAQuqC,OAC7Bf,EAAKpwB,SAAS0K,OAItBvjB,KAAK0mB,OAAO,OAGhB+rD,KAAM,SAASmqC,GACX,IAAI3zE,EAAOjpC,KAAK69G,SAASjB,GACzB,IAAIqB,EAEJ,GAAIh1E,EAAK4vE,QACL,GAAI5vE,EAAK4vE,QAAQp5G,QAAQ8H,OAASuwG,GAAU7uE,EAAK4vE,QAAQp5G,QAAQ46G,QAAS,CACtE4D,EAAsBh1E,EAAK4vE,QAAQuB,iBACnCnxE,EAAK4vE,QAAQpmC,OAEb,GAAIwrC,EACAA,EAAoBnkG,eAErB,GAAGmvB,EAAK4vE,QAAQp5G,QAAQuqC,OAC3Bf,EAAK4vE,QAAQpmC,OAIrB,GAAIxpC,EAAKpwB,SACL,GAAIowB,EAAKpwB,SAASpZ,QAAQ8H,OAASuwG,GAAU7uE,EAAKpwB,SAASpZ,QAAQ46G,QAAS,CACxE4D,EAAsBh1E,EAAKpwB,SAASuhG,iBAEpCnxE,EAAK4vE,QAAQpmC,OAEb,GAAIwrC,EACAA,EAAoBnkG,eAErB,GAAGmvB,EAAKpwB,SAASpZ,QAAQuqC,OAC5Bf,EAAKpwB,SAAS45D,OAItBzyE,KAAK0mB,OAAO,OAGhBtC,OAAQ,SAASvU,EAASuU,GACtB,IAAI6kB,EAAOjpC,KAAK69G,SAAShuG,GAEzB,UAAWuU,GAAU,YACjBA,EAAS,KAGb,GAAI6kB,EAAK4vE,QAAW5vE,EAAK4vE,QAAQz0F,OAAOA,GACxC,GAAI6kB,EAAKpwB,SAAYowB,EAAKpwB,SAASuL,OAAOA,IAG9C85F,qBAAsB,SAASpyB,GAC3B,OAAO9rF,KAAK6P,QAAQkgB,KAAKiyE,EAAM2T,EAAgB,gBAAkB7pB,EAAY,MAAM77D,OAAO+xE,EAAMqU,IAGpGvxF,OAAQ,SAASo2E,EAAQpzB,GACrB,IAAIj4D,EAAU3S,EAAEg+F,GACZjyD,EAAOp5B,EAAQ5L,KAAK6zG,GAExB,GAAI7uE,EAAKxpC,QAAQq6G,UAAW,CACxB,GAAIhyC,IAAYzqE,EACZyqE,EAAU,KAEd7+B,EAAKnkB,OAAOgjD,EAAS,QAI7Bm1C,gBAAiB,WACb,IAAI18G,EAAOP,KACP+4G,EAAoBH,GAAWG,kBAC/B1/F,EAAQ9Y,EAAKmuG,OACbyP,EAAsB9kG,EAAQ,OAAS,QAE3C9Y,EAAKu4G,eAAiB57G,EAAE07G,GAAWE,gBAAgB5iG,SAASwpF,GAE5Dn/F,EAAKsP,QAAQkxD,OAAOxgE,EAAKu4G,gBAEzB,GAAIv4G,EAAKy8G,SAAU,CACfz8G,EAAKu4G,eAAe/3C,OAAO,yCAC3Bg4C,EAAoB+C,GAAgB/C,QAEpCx4G,EAAKu4G,eAAe/3C,OAAO,kDAG/BxgE,EAAKsqG,MAAQ,IAAIvtG,EAAM2pB,GAAG6hF,MAAMiQ,EAAmB,CAC/C5jC,OAAQ,UAAYgpC,EACpBxnG,SAAU,OAASwnG,EACnB5b,OAAQhiG,EAAKu4G,eACbz/F,MAAOA,EACP8vF,UAAW5oG,EAAK4oG,UAChBjkE,SAAU3kC,EAAKy8G,SAAW9/G,EAAEqD,EAAKy8G,UAAU37D,SAAS,YAAc,KAClEuoD,iBAAkB,MAClBR,KAAM,SAAU9mG,GACZ,IAAIkU,EAAUlZ,EAAM8X,KAAK7U,EAAKsqG,MAAMh7F,SAC/BqG,SAAS6gG,GAEd,IAAKx2G,EAAKy8G,SACNxmG,EAAQ3B,IAAI,eAAgBwE,GAAS,EAAI,KAAOtJ,EAAWyG,GAAWA,EAAQb,SAAW,EAAI,SAE7FpV,EAAKsqG,MAAMv6E,UAAUzb,IAAI,aAAehB,WAAW3W,EAAE,uBAAuB2e,eAAiB,GAAM,MAGvG,GAAItb,EAAK8B,QAAQ21G,IACb11G,EAAEpB,kBAGVo0G,SAAU,WACNt1G,KAAK6P,QAAQkgB,KAAK,mBAAmB5tB,QAAQE,QAAQk1G,IAEzDt9D,MAAO,SAAU33C,GACb,GAAI/B,EAAK8B,QAAQ41G,IACb31G,EAAEpB,iBAGNlB,KAAK6P,QAAQxN,QAAQk1G,MAI7Bh3G,EAAKsqG,MAAMh7F,QAAQuW,GAAGi+E,EAAUx7E,EAAIm5E,EAAMtC,EAAS,SAASp9F,GACxD,IAAI3C,EAASzC,EAAEoF,EAAE3C,QACb87G,EAAK97G,EAAO4V,SACZ6oG,EAAgB3C,EAAGxlG,GAAG+rF,EAAM4T,IAAiB6F,EAAGxlG,GAAG+rF,EAAM6T,GACzDhmG,EAEJvN,EAAEpB,iBAEF,GAAIoB,EAAE8+B,UAAY7Z,EAAKM,KAAOvlB,EAAE8+B,UAAY7Z,EAAKI,KAAQrlB,EAAEo5G,QAAUp5G,EAAE8+B,UAAY7Z,EAAKQ,GAAK,CAEzFxnB,EAAK48G,kBACL58G,EAAKu4G,eAAez2G,QAAQk1G,QACzB,GAAIj1G,EAAE8+B,UAAY7Z,EAAKU,KAAM,CAChCpY,GAAWuuG,GAAkBA,GAAiBz+G,EAAOsW,GAAG,eAAkBwlG,EAAK97G,EAC/Eg8G,GAAqB9rG,EAASq0F,IAAM7hG,QAAQk1G,QACzC,GAAIj1G,EAAE8+B,UAAY7Z,EAAKQ,GAAI,CAC9BlY,GAAWuuG,GAAkBA,GAAiBz+G,EAAOsW,GAAG,gBAAmBwlG,EAAK97G,EAChFg8G,GAAqB9rG,EAASo0F,IAAM5hG,QAAQk1G,QACzC,GAAIj1G,EAAE8+B,UAAY7Z,EAAKa,UAAY9lB,EAAE8+B,UAAY7Z,EAAKK,MAAO,CAChErnB,EAAK2xC,WAAW7vC,QAAQytC,EAAK,CAAEnwC,OAAQzC,EAAEoF,EAAE3C,UAC3CY,EAAKu4G,eAAez2G,QAAQk1G,QACzB,GAAIj1G,EAAE8+B,UAAY7Z,EAAKY,KAC1BszF,EAAGlmG,SAASwa,KAAK,mBAAmB5tB,QAAQE,QAAQk1G,QACjD,GAAIj1G,EAAE8+B,UAAY7Z,EAAKW,IAC1BuzF,EAAGlmG,SAASwa,KAAK,mBAAmBkK,OAAO53B,QAAQk1G,KAI3D,GAAIh3G,EAAKy8G,SACLz8G,EAAKsqG,MAAMv6E,UAAY/vB,EAAKsqG,MAAMh7F,QAAQkgB,KAAKiyE,EAAM8U,QAErDv2G,EAAKsqG,MAAMv6E,UAAY/vB,EAAKsqG,MAAMh7F,QAGtCtP,EAAKsqG,MAAMv6E,UAAUna,KAAKmiG,EAAgBt4G,KAAKuiD,MAGnDg7D,sBAAuB,WACnB,IAAIc,EAAqB,MACzB,IAAIC,EAAat+G,KAAK0uG,OAAS,eAAiB,gBAEhD,GAAI1uG,KAAKP,QAAQynB,OACbm3F,EAAqBr+G,KAAK6qG,MAAMh7F,QAAQkgB,KAAKiyE,EAAM8U,GAAoBz1D,SAAS,SAAWu1D,EAAkB,MAAQT,EAAQ,KAAKr2G,OAAS,OAE3Iu+G,EAAqBr+G,KAAK6qG,MAAMh7F,QAAQwxC,SAAS,SAAWu1D,EAAkB,MAAQT,EAAQ,KAAKr2G,OAAS,EAGhH,GAAIu+G,EAAoB,CACpBr+G,KAAK84G,eAAejkG,IAAI,CACpB+8E,WAAY,UACZj8E,MAAO+iG,KAEX14G,KAAKwW,QAAQ3B,IAAIypG,EAAYt+G,KAAK84G,eAAe/oG,WAAW,WACzD,CACH/P,KAAK84G,eAAejkG,IAAI,CACpB+8E,WAAY,SACZj8E,MAAO,QAEX3V,KAAKwW,QAAQ3B,IAAIypG,EAAY5F,MAIrC2E,aAAc,SAAS/6G,GACnB,IAAI/B,EAAOP,KAAM6qG,EACblrG,EAAQspC,EAAMs1E,EACdC,EAAqBl8G,EAAE3C,OAAO4a,QAAQynF,EAAM8T,GAAoBh2G,OAChEgC,EAASy8D,EAAWkgD,EAExBn8G,EAAEpB,iBAEF,GAAIs9G,EAAoB,CACpBj+G,EAAKm+G,QAAQp8G,GACb,OAGJ3C,EAASzC,EAAEoF,EAAE3C,QAAQ4a,QAAQynF,EAAMtC,EAAUv3F,GAAQF,EAAQ+5F,EAAM0U,EAAWn2G,EAAKsP,SAEnF,GAAIlQ,EAAO+V,SAASmhG,GAChB,OAGJ5tE,EAAOtpC,EAAOsE,KAAK6zG,GAEnB,IAAK7uE,GAAQ1oC,EAAKsqG,MAAO,CACrBlrG,EAASzC,EAAEoF,EAAE3C,QAAQ4a,QAAQynF,EAAM0T,EAAiBn1G,EAAKsqG,MAAMv6E,WAC/D2Y,EAAOtpC,EAAO4V,OAAO,MAAMtR,KAAK6zG,GAGpC,IAAK7uE,IAASA,EAAKxpC,QAAQ2kB,OACvB,OAGJ,GAAI6kB,EAAKxpC,QAAQq6G,UAAW,CACxBh4G,EAAUb,EAAWgoC,EAAKgxE,eAAiBhxE,EAAKgxE,cAAgB,KAEhEhxE,EAAKnkB,QAAQmkB,EAAKxpC,QAAQuoE,SAAU,MACpCzJ,EAAY,CAAE5+D,OAAQA,EAAQ2qD,MAAOrhB,EAAKxpC,QAAQ6qD,MAAOwd,QAAS7+B,EAAKxpC,QAAQuoE,SAAUxrE,GAAIysC,EAAKxpC,QAAQjD,GAAIysC,KAAMA,GAEpH,GAAInnC,EAAWA,EAAQU,KAAKjC,EAAMg+D,GAClCh+D,EAAK8B,QAAQi1G,EAAQ/4C,OAClB,CACHz8D,EAAUb,EAAWgoC,EAAK+wE,cAAgB/wE,EAAK+wE,aAAe,KAC9Dz7C,EAAY,CAAEh8D,OAAQhC,EAAMZ,OAAQA,EAAQnD,GAAIysC,EAAKxpC,QAAQjD,GAAIysC,KAAMA,GAEvE,GAAInnC,EAAWA,EAAQU,KAAKjC,EAAMg+D,GAClCh+D,EAAK8B,QAAQs+F,EAAOpiC,GAGxB,GAAIt1B,EAAKxpC,QAAQspB,IAAK,CAClB,GAAIkgB,EAAKxpC,QAAQo/C,YAAc5V,EAAKxpC,QAAQo/C,WAAWl/C,OACnD8+G,EAAYx1E,EAAKxpC,QAAQo/C,WAAWl/C,OAExCvC,OAAOgsG,KAAKngE,EAAKxpC,QAAQspB,IAAK01F,GAAa,SAG/C,GAAI9+G,EAAO+V,SAASggG,GAChBn1G,EAAKsqG,MAAM5wD,QAGfskE,EAAiB5+G,EAAO4a,QAAQ,sBAChC,GAAIgkG,EAAe,GAAI,CACnB1T,EAAQ0T,EAAet6G,KAAK,eAC3B4mG,EAAQA,EAAQ0T,EAAejsF,QAAQ,qBAAqBruB,KAAK,eAAeg2C,UAIzFosD,aAAc,WACV,IAAI9lG,EAAOP,KAEXO,EAAKsP,QACAsG,KAAKgV,GAAU,GACf/E,GAAGoxF,EAAU3uF,EAAI,SAAS26E,GACvB,IAAI7jG,EAASzC,EAAEsmG,EAAG7jG,QAClB,IAAIkQ,EAAU3S,EAAE8C,MAAM+vB,KAAK,mBAAmB5tB,QAE9C,IAAKxC,EAAOsW,GAAG+rF,EAAMyT,IAAY5lG,EAAQ/P,SAAW,EAChD,OAGJ,GAAI+P,EAAQoG,GAAG+rF,EAAM6U,GACjBhnG,EAAU8rG,GAAqB9rG,EAASq0F,IAG5C,GAAGr0F,EAAQ/P,OACP+P,EAAQ,GAAGwvB,UAGlBjZ,GAAGi+E,EAAUx7E,EAAItoB,EAAKihG,SAASjgG,KAAKhB,KAG7CihG,SAAU,SAASl/F,GACf,IAAI3C,EAASzC,EAAEoF,EAAE3C,QACbyhC,EAAU9+B,EAAE8+B,QACZ/S,EAAQruB,KAAK6P,QAAQwxC,SAAS,8BAC9B/J,EAAYt3C,KAAK0uG,QAAU,EAAI,EAEnC,GAAIttE,IAAY7Z,EAAKI,IAAK,CACtB,IAAI9X,EAAUlQ,EAAO8hC,aAAazhC,KAAK6P,SAASoqB,OAC5C0kF,EAAe,MACfC,EAAgB,MAChBC,EAAuB,MAE3B,IAAIxwF,EAAMyrE,IAAIkI,EAAM6U,GAAiB/2G,OACjC++G,EAAuB,KAG3B,IAAKhvG,EAAQ/P,OACT+P,EAAUlQ,EAGd,GAAIkQ,EAAQoG,GAAG+rF,EAAM6U,KAAqBgI,EAAsB,CAC5D,IAAIC,EAA4BzwF,EAAM4L,OAEtC,GAAI33B,EAAE++B,SACF/+B,EAAEpB,iBAGN,GAAI49G,EAA0B7oG,GAAG,mBAC7BoY,EAAM4L,OAAO53B,QAAQk1G,QAErBlpF,EAAM4L,OAAOlK,KAAK,mBAAmBkK,OAAO53B,QAAQk1G,GAI5D,IAAKj1G,EAAE++B,UAAYhT,EAAMlf,MAAMU,KAAawe,EAAMvuB,OAAS,EACvD,GAAI+P,EAAQoG,GAAG+rF,EAAM4T,GACjB+I,EAAeh/G,EAAOsW,GAAG,oBAEzB0oG,EAAe,KAIvB,IAAII,EAAc1wF,EAAMlf,MAAMU,KAAawe,EAAMyrE,IAAI,sBAAsB33F,QAAQgN,QACnF,GAAI7M,EAAE++B,UAAY09E,EACd,GAAIlvG,EAAQoG,GAAG+rF,EAAM4T,GACjBgJ,EAAgBj/G,EAAOsW,GAAG,qBAE1B2oG,EAAgB,KAIxB,GAAID,GAAgB3+G,KAAK84G,gBAAkB94G,KAAK84G,eAAejkG,IAAI,gBAAkB,WAAagqG,EAAsB,CACpHv8G,EAAEpB,iBACFlB,KAAK84G,eAAez2G,QAAQk1G,GAGhC,GAAIqH,GAAkBC,GAAwBv8G,EAAE++B,SAAW,CACvD/+B,EAAEpB,iBACF,IAAI89G,EAAgBh/G,KAAKi/G,kBAAkBj/G,KAAKwW,SAChD,GAAIwoG,EACAA,EAAc38G,QAAQk1G,GAG9Bv3G,KAAKk/G,kBAAoB,MAG7B,GAAI58G,EAAEo5G,QAAUt6E,IAAY7Z,EAAKU,KAAM,CACnC,IAAIszF,EAAcr+G,EAAEsS,SAASC,eAAexL,KAAK,eACjD,IAAIk7G,EAAmBjiH,EAAEsS,SAASC,eAAewG,GAAG+rF,EAAM6U,GAE1D,GAAI0E,EACAA,EAAYz2F,cACT,GAAIq6F,EACPn/G,KAAKm9G,kBAGT,OAGJ,IAAK/7E,IAAY7Z,EAAKa,UAAYgZ,IAAY7Z,EAAKK,SAAWjoB,EAAOsW,GAAG,mBAAoB,CAExF,GAAGmrB,IAAY7Z,EAAKa,SAChB9lB,EAAEpB,iBAGN,GAAIvB,EAAOsW,GAAG+rF,EAAM6T,GAAe,CAC/Bl2G,EAASA,EAAO0hD,WAAWl/C,QAC3BnC,KAAKkyC,WAAW7vC,QAAQytC,EAAK,CAAEnwC,OAAQA,SACpC,GAAIyhC,IAAY7Z,EAAKa,SACxBpoB,KAAKkyC,WAAW7vC,QAAQytC,EAAK,CAAEnwC,OAAQA,IAG3C,OAGJ,GAAIyhC,IAAY7Z,EAAKY,KAAM,CACvB,GAAIxoB,EAAOsW,GAAG,oBAAsBtW,EAAOsW,GAAG,SAC1C,OAGJ,GAAIjW,KAAK84G,eACLzqF,EAAMyD,GAAG,GAAGzvB,QAAQk1G,QAEpBlpF,EAAMlsB,QAAQE,QAAQk1G,GAE1Bj1G,EAAEpB,sBACC,GAAIkgC,IAAY7Z,EAAKW,IAAK,CAC7B,GAAIvoB,EAAOsW,GAAG,oBAAsBtW,EAAOsW,GAAG,SAC1C,OAEJ,GAAIjW,KAAK84G,gBAAkB57G,EAAE8C,KAAK84G,gBAAgBjkG,IAAI,eAAiB,SACnE7U,KAAK84G,eAAez2G,QAAQk1G,QAE5BlpF,EAAM4L,OAAO53B,QAAQk1G,GAEzBj1G,EAAEpB,sBACC,GAAIkgC,IAAY7Z,EAAKS,QAAUhoB,KAAKk/G,oBAAsBv/G,EAAOsW,GAAG,mDAAqDjW,KAAKo/G,gBAAgB98G,EAAE3C,OAAQ,EAAI23C,GAAY,CAC3Kt3C,KAAKo/G,gBAAgB98G,EAAE3C,OAAQ,EAAI23C,GAAWjY,QAC9C/8B,EAAEpB,sBACC,GAAIkgC,IAAY7Z,EAAKO,OAAS9nB,KAAKk/G,oBAAsBv/G,EAAOsW,GAAG,mDAAqDjW,KAAKo/G,gBAAgB98G,EAAE3C,QAAS,EAAI23C,GAAY,CAC3Kt3C,KAAKo/G,gBAAgB98G,EAAE3C,QAAS,EAAI23C,GAAWjY,QAC/C/8B,EAAEpB,mBAIVk+G,gBAAiB,SAAUn2E,EAAMqO,GAC7B,IAAIjpB,EAAQruB,KAAK6P,QAAQwxC,SAAS,yCAClC,IAAIoN,EAAYpgC,EAAMlf,MAAM85B,MAAW,EAAI5a,EAAMlf,MAAM85B,EAAKk8C,eAAiB92D,EAAMlf,MAAM85B,GACzF,IAAIs0B,EAAav9D,KAAK84G,eAAiB,EAAI,EAC3C,IAAIuG,EAAkB/nE,EACtB,IAAIgoE,EAAchoE,IAAc,EAAIjpB,EAAMvuB,OAAS,EAAIy9D,EACvD,IAAIpuD,EAAQmoC,IAAc,EAAIimB,EAAalvC,EAAMvuB,OAAS,EAC1D,IAAIy/G,EAAgBlxF,EAAMogC,EAAYnX,GACtCt3C,KAAKk/G,kBAAoB,MAEzB,GAAIhiH,EAAE+rC,GAAM1uB,QAAQynF,EAAM4T,GAAc9b,IAAIkI,EAAM6T,GAAc/1G,SAAW5C,EAAE+rC,GAAMhzB,GAAGqhC,IAAc,EAAI,cAAgB,gBACpH,OAAOp6C,EAAE+rC,GACJ1uB,QAAQynF,EAAM4T,GACdv0D,WAAWnkD,EAAE+rC,GACb1uB,QAAQynF,EAAM4T,GACdv0D,WACAlyC,MAAM85B,GAAQqO,GAGvB,GAAIt3C,KAAK84G,gBAAkB7vE,IAASjpC,KAAK84G,eAAe,IAAMxhE,KAAe,EACzEioE,EAAgBlxF,EAAMA,EAAMvuB,OAAS,GAGzC,GAAI2uD,IAAc6wD,EACdC,GAAiBv/G,KAAK84G,gBACjB94G,KAAK84G,gBACN57G,EAAE8C,KAAK84G,gBAAgBjkG,IAAI,gBAAkB,SAAYwZ,EAAMlf,GAASnP,KAAK84G,eAGrF,OAAQ57G,EAAEqiH,GAAetpG,GAAG,mBAAoB,CAC5C,GAAIqhC,KAAe,GAAKp6C,EAAEqiH,GAAehlG,QAAQynF,EAAM4T,GAAc91G,OACjEy/G,EAAgBriH,EAAEqiH,GAAel+D,SAAS,oBAAoBpnB,YAE9DslF,EAAgBriH,EAAEqiH,GAAel+D,SAAS,oBAAoBl/C,QAElE,IAAKo9G,EAAcz/G,OAAQ,CACvBu/G,EAAkBA,EAAkB/nE,EACpCioE,EAAgBlxF,EAAMogC,EAAY4wD,GAClC,IAAKE,EACD,OAAOv/G,KAAK84G,eAIpB,GAAI57G,EAAEqiH,GAAe7pG,SAAS,cAC1B6pG,EAAgBriH,EAAEqiH,GAAexvF,KAAK,SAE1C/vB,KAAKk/G,kBAAoBhiH,EAAEqiH,GAAehlG,QAAQynF,EAAM4T,GAAc91G,OAAS,MAAQ,KAG3F,OAAOy/G,GAGXN,kBAAmB,SAASpvG,GACxB,GAAIA,EAAQoG,GAAG,QACX,OAAOpG,EAGX,IAAI2vG,EAAgBp6B,EAChBq6B,EAAe5vG,EAAQ6vG,UAC3BD,EAAahiH,KAAK,WACd2nF,EAAcloF,EAAE8C,MAChB,GAAIolF,EAAYnvE,GAAG,mBAAoB,CACnCupG,EAAiBp6B,EACjB,OAAO,WACJ,GAAIA,EAAYr1D,KAAK,mBAAmBjwB,OAAS,EAAG,CACvD0/G,EAAiBp6B,EAAYr1D,KAAK,mBAAmBkK,OACrD,OAAO,SAGf,GAAIulF,EACA,OAAOA,OAEP,OAAOx/G,KAAKi/G,kBAAkBpvG,EAAQ0F,WAI9CmpG,QAAS,SAASp8G,GACd,IAAIi5G,EAAcr+G,EAAEoF,EAAE3C,QAAQ4a,QAAQynF,EAAM6T,GAAc5xG,KAAK,eAE/D3B,EAAEpB,iBAEF,IAAKq6G,EAAY97G,QAAQ2kB,OACrB,OAGJm3F,EAAYz2F,UAGhBq4F,gBAAiB,WACbn9G,KAAK6qG,MAAM/lF,UAGfgH,QAAS,SAASxpB,GACd,IAAIq9G,EAAiBr9G,EAAEqT,MAEvB,IAAK3V,KAAKP,QAAQk6G,UACd,OAGJ35G,KAAK6qG,MAAM5wD,QAEXj6C,KAAKo9G,QAAQuC,GACb3/G,KAAK4/G,SAASD,GAEd3/G,KAAK6/G,gBAEL7/G,KAAKu9G,yBAGTuC,eAAgB,WACZ,IAAIC,EAAgB,EAEpB//G,KAAK6P,QAAQwxC,SAAS,iBAAmBk1D,EAAepuG,GAAQF,EAAQ+5F,EAAMkU,EAAe,KAAKz4G,KAAK,WACnGsiH,GAAiBhwG,EAAW7S,EAAE8C,MAAO,QAGzC,OAAOlC,KAAKy+D,KAAKwjD,IAGrB3C,QAAS,SAASuC,GACd,IAAIK,EACAC,EAEJ,GAAIN,EAAiB3/G,KAAK8/G,iBAAkB,CACxCG,EAAkBjgH,KAAK6P,QAAQwxC,SAAS,0CAA4Cw1D,EAAkB,KAEtG,IAAK,IAAIh3G,EAAIogH,EAAgBngH,OAAS,EAAGD,GAAK,EAAGA,IAAK,CAClDmgH,EAAiBC,EAAgBnuF,GAAGjyB,GAEpC,GAAI8/G,EAAiB3/G,KAAK8/G,iBACtB,WAEA9/G,KAAKkgH,UAAUF,MAM/BJ,SAAU,SAASD,GACf,IAAIK,EACAG,EAEJ,GAAIR,EAAiB3/G,KAAK8/G,iBAAkB,CACxCK,EAAiBngH,KAAK6P,QAAQwxC,SAAS,iBAAmBk1D,EAAe,MAEzE,IAAK,IAAI12G,EAAI,EAAGA,EAAIsgH,EAAergH,OAASD,IAAK,CAC7CmgH,EAAiBG,EAAeruF,GAAGjyB,GACnC,GAAI8/G,EAAiB3/G,KAAK8/G,mBAAqB9/G,KAAKogH,UAAUJ,EAAgBL,GAC1E,SAMhBO,UAAW,SAASj3E,GAChBA,EAAK/yB,SAAS+3D,GAEd,GAAIjuE,KAAK6qG,MACL7qG,KAAK6qG,MAAMv6E,UACNP,KAAK,iBAAmBkZ,EAAKhlC,KAAK,OAAS,MAC3CwR,YAAYmhG,IAIzBwJ,UAAW,SAASn3E,EAAM02E,GAKtB12E,EAAKxzB,YAAYw4D,GACjB,IAAIoyC,EAAiBtwG,EAAWk5B,EAAM,MACtCA,EAAK/yB,SAAS+3D,GAEd,GAAIhlC,EAAKnpC,QAAU6/G,EAAiB3/G,KAAK8/G,iBAAmBO,EAAgB,CAExEp3E,EAAKxzB,YAAYw4D,GAEjB,GAAIjuE,KAAK6qG,MACL7qG,KAAK6qG,MAAMv6E,UACNP,KAAK,iBAAmBkZ,EAAKhlC,KAAK,OAAS,MAC3CiS,SAAS0gG,GAGlB,OAAO,KAGX,OAAO,OAGXiJ,cAAe,WACX,IAAIS,EAAgBtgH,KAAK6qG,MAAMv6E,UAAU+wB,WACrCk/D,EAAevgH,KAAK6P,QAAQwxC,SAAS,4BACrCm/D,EAAuBF,EAAcrwF,OAAO,4BAC5CwwF,EAAsBF,EAAatwF,OAAO,YAE9CqwF,EAAcv8F,IAAIw8F,GAAc9qG,YAAYuhG,EAAwB/uG,EAAQgvG,GAC5EuJ,EAAqBr+G,QAAQ4hB,IAAI08F,EAAoBt+G,SAAS+T,SAAS8gG,GACvEwJ,EAAqBvmF,OAAOlW,IAAI08F,EAAoBxmF,QAAQ/jB,SAAS+gG,MAQrF,OAHI35G,EAAM2pB,GAAG+J,OAAO8rF,IAGb1/G,OAAOE,QAt2Dd,CAw2DoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,aAAa,CAAE,aAAc,eACrC,WAEH,IAAIC,EAAW,CACXC,GAAI,OACJC,KAAM,OACNC,SAAU,YACVqtC,QAAS,CAAE,OAAQ,SACnBC,OAAQ,MAIF9sC,EA40FPE,OAAOE,MAAMH,OA50FHE,OAAb,EACQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM2pB,GACXhX,EAAc3S,EAAM0S,aACpB0wG,EAAuB,kBACvB55F,EAASG,EAAGH,OACZS,EAAOjqB,EAAMiqB,KACbtpB,EAAUX,EAAMW,QAChBmnB,EAAa9nB,EAAM8nB,WACnB3V,EAAgBnS,EAAMiS,eACtBQ,EAAazS,EAAMsS,YACnBmH,EAAkBzZ,EAAM2G,KAAK8S,gBAC7B4hG,EAAK,KACL1uE,EAAS,SACT+0C,EAAU,UACV2hC,EAAQ,UACRC,EAAY,aACZC,EAAU,mCACVC,EAAO,SACPC,EAAQ,UACRC,EAAa,eACbC,EAAW,aACXC,EAAU,YACVC,EAAa,eACbC,EAAqB,8BACrBC,EAAc,2BACdC,EAAe,eACfzZ,EAAO,OACPC,EAAQ,QACRyZ,EAAU,UACV7xE,EAAS,SACTixD,EAAQ,QACR6gB,EAAa,aACbC,EAAa,aACbzZ,EAAW,WACXD,EAAa,aACb2Z,EAAe,cACfC,EAAa,YACbC,EAAuB,qBACvB5nB,EAAW,WACXj6C,EAAe,eACfE,EAAa,aACb8gC,EAAO,OACPw2B,EAAQ,QACRsK,EAAW,WACXrkH,EAASN,EAAEM,OACXE,EAAUC,MAAMD,QAChBsb,EAAU/a,EAAQ+a,QAClB8oG,EAAc,WACd/zC,EAAQ,QACRg0C,GAAO,OACPx9C,GAAQ,QACRy9C,GAAOhpG,EAAQiG,KACfgjG,GAAa,KACbC,GAAmB,CACfC,SAAY,CAAE,eAAgB,uBAC9Brc,aAAgB,CAAE,WAAY,uBAC9Bsc,oBAAuB,CAAE,WAAY,iBAGzCC,GAAQ,0BACRC,GAAU,wBACVC,GAAa,uDACbC,GAAiB,oCACjBC,GAAkB,+BACV,mCACJ,SACJ7hB,GAAY,YACZ8hB,GAAc,QACdC,GAAiB,WACjB7jH,GAAkB,kBAClBC,GAAa,aACb6jH,GAAwB,wBACxBC,GAAoB,oBACpBC,GAAgB,gBAChBC,GAAY,YACZC,GAAgB,gBAChBC,GAAc,cACdC,GAAY,YACZC,GAAuB,uBACvBC,GAAgB,gBAChBC,GAAgB,qBAEhBC,GAAOhmH,EAAM2pB,GAAG8G,gBAAgBvwB,OAAO,CACvCiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACPxD,EAEJsqB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GACnCoQ,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QAEfc,EAAKgjH,UAAY1zG,EAAQoG,GAAGy5B,GAE5B,GAAInvC,EAAKgjH,WAAahjH,EAAKsP,QAAQ,GAAG/P,OAClC,IAAKL,EAAQkrB,WAAY,CACrBlrB,EAAQmpE,cAAgBnpE,EAAQmpE,eAAiBm5C,GACjDtiH,EAAQynE,eAAiBznE,EAAQynE,gBAAkB3C,GAI3DhkE,EAAKijH,UAAYlmH,EAAMqvB,cAAcG,cAAc,CAC/CC,OAAQ,OACRC,SAAU,OACV1lB,MAAO7H,EAAQuS,OAGnBzR,EAAKkjH,GAAKvmH,EAAEmlH,IAAOlsG,KAAK,CACpBs3F,UAAW,EACXiW,cAAe,OAGnBnjH,EAAKuhE,KAAO5kE,EAAEolH,IACTpsG,SAAS3V,EAAKijH,WACdziD,OAAOxgE,EAAKkjH,IAEjBjnH,EAAKqT,EAAQsG,KAAKwiG,GAElB,IAAKn8G,EACDA,EAAKc,EAAMksB,OAGfjpB,EAAKuhE,KAAK3rD,KAAKwiG,EAAIn8G,EAAKkmH,IACxBniH,EAAKkjH,GAAGttG,KAAKwiG,EAAIn8G,EAAKmmH,IAEtB,GAAIljH,EAAQkkH,SAAWlkH,EAAQkkH,QAAQ7jH,OAAQ,CAC3CS,EAAKuhE,KAAKrsD,YAAYqrG,GAAM5qG,SAAS8qG,GACrCzgH,EAAKuhE,KAAKrsD,YAAYlV,EAAKijH,WAAWttG,SAAS+qG,GAE/C1gH,EAAKkjH,GAAGhuG,YAAYyrG,GAAShrG,SAAS6qG,GAEtCxgH,EAAKqjH,iBAGTrjH,EAAKsjH,UACLtjH,EAAKujH,UACLvjH,EAAKwjH,UACLxjH,EAAKyjH,aACLzjH,EAAK0jH,cAGTxkH,QAAS,CACLwoE,eAAgB,MAChBi8C,eAAgB,GAChBC,eAAgB,GAChBC,eAAgB,KAChBpyG,KAAM,SACNsV,SAAU,CACN+8F,OAAU,iBACV93D,MAAS,UAIjBjhC,WAAY,SAAS7rB,GACjBqnB,EAAOnmB,GAAG2qB,WAAW9oB,KAAKxC,KAAMP,GAEhC,GAAIA,GAAWA,EAAQ2kB,SAAW/mB,EAC9BoC,EAAQukB,QAAUvkB,EAAQ2kB,OAG9B,GAAI3kB,EAAQkkH,SAAWlkH,EAAQkkH,QAAQ7jH,OACnCE,KAAK4jH,iBAGT5jH,KAAK6jH,UACL7jH,KAAK8jH,UACL9jH,KAAK+jH,UAEL/jH,KAAKskH,gBACLtkH,KAAKukH,iBAGTllF,MAAO,WACHr/B,KAAKwkH,SAASniH,QAAQk1G,IAG1BpwC,SAAU,SAASA,GACfnnE,KAAKq/E,UAAU,CACXlY,SAAUA,IAAa9pE,EAAY,KAAO8pE,EAC1CjjD,QAAS,SAIjBE,OAAQ,SAASA,GACbpkB,KAAKq/E,UAAU,CACXlY,SAAU,MACVjjD,UAAWE,EAASA,IAAW/mB,EAAY,KAAO+mB,MAI1Dy/F,QAAS,WACL,IAAI/hD,EAAO9hE,KACX,IAAI26C,EAASz9C,EAAE4kE,EAAKnnB,QACpB,IAAI32C,EAAW89D,EAAKriE,QAAQ0kH,eAE5BnkH,KAAKykH,gBAAgB9pE,EAAQ,WAC7Br9C,EAAM2uB,QAAQ0uB,GACdA,EAAO5pB,SAEP,IAAK/sB,EAAU,CACX89D,EAAKnnB,OAAS,KACd,OAGJ,IAAIwpE,SAAwBngH,IAAa,WAAa1G,EAAM0G,SAASA,GAAYA,EACjF22C,EAASz9C,EAAEinH,EAAe,KAE1BriD,EAAKnnB,OAASA,EAAO,GAAKA,EAAS,KAEnC,GAAImnB,EAAKA,KAAKvsD,OAAOzV,OAAS,EAC1BgiE,EAAKA,KAAKy1B,OAAO58C,GAGrB36C,KAAKykH,gBAAgB3iD,EAAKnnB,OAAQ,YAGtCipE,eAAgB,WACZ,IAAI9hD,EAAO9hE,KACX,IAAI0kH,EAAgBxnH,EAAE4kE,EAAK4iD,eAE3B1kH,KAAKykH,gBAAgBC,EAAe,WACpCpnH,EAAM2uB,QAAQy4F,GACdA,EAAc3zF,SAEd,IAAI4pB,EAAS,2GACb,IAAIgqE,EAAW,aACf,IAAIC,EAAM,2BAEV,IAAK,IAAIjjH,EAAM,EAAGA,EAAM3B,KAAKP,QAAQkkH,QAAQ7jH,OAAQ6B,IAAO,CACxD,IAAIkjH,EAAgB7kH,KAAKP,QAAQkkH,QAAQhiH,GACzC,IAAI2pC,EAAQu5E,EAAcv5E,OAASu5E,EAAchkG,OAAS,GAC1D,IAAI7c,EAAW6gH,EAAcV,gBAAkB74E,EAC/C,IAAIw5E,SAA+B9gH,IAAa,WAAa1G,EAAM0G,SAASA,GAAYA,EACxF,IAAI+gH,EAAeF,EAAclvG,MACjC,IAAIqvG,EAAkB31G,SAAS01G,EAAc,IAC7C,IAAIE,EAAa,GAEjB,GAAIF,IAAiBjxG,MAAMkxG,GAAkB,CACzCC,GAAc,gBACdA,GAAcD,EACdC,GAAcvE,EAAqB/5G,KAAKo+G,GAAgB,IAAM,KAC9DE,GAAc,KAGlBN,GAAY,QAAUM,EAAa,KAEnCL,GAAO,0BACPA,GAAOE,EAAsBD,GAC7BD,GAAO,QAEXD,GAAY,cACZC,GAAO,QACPjqE,GAAUgqE,EACVhqE,GAAU,gCACVA,GAAUiqE,EACVjqE,GAAU,+BAEVmnB,EAAK4iD,cAAgBA,EAAgBxnH,EAAEy9C,GACvCmnB,EAAKA,KAAKgwB,QAAQ4yB,GAElB1kH,KAAKykH,gBAAgB3iD,EAAK4iD,cAAe,YAG7CZ,QAAS,WACL,IAAIhiD,EAAO9hE,KACX,IAAIqkH,EAASnnH,EAAE4kE,EAAKuiD,QACpB,IAAIrgH,EAAW89D,EAAKriE,QAAQ2kH,iBAAmB,KAAOtiD,EAAKriE,QAAQ6nB,SAAS+8F,OAASviD,EAAKriE,QAAQ2kH,eAElGtiD,EAAKp3C,QAAQ,UAAW,WAAa,MAAO,CAAE0D,SAAUi2F,KACxD/mH,EAAM2uB,QAAQo4F,GACdA,EAAOtzF,SAEP,IAAK/sB,EAAU,CACX89D,EAAKuiD,OAAS,KACd,OAGJviD,EAAKuiD,OAASnnH,EAAEqlH,IAAYr9E,SAAS48B,EAAKA,MAC1CA,EAAKsiD,sBAAwBpgH,IAAa,WAAa1G,EAAM0G,SAASA,GAAYA,GAGtF+/G,QAAS,WACL,IAAIjiD,EAAO9hE,KACX,IAAIq6E,EAASn9E,EAAE4kE,EAAKuY,QACpB,IAAIr2E,EAAW89D,EAAKriE,QAAQykH,eAC5B,IAAIgB,EAAWllH,KAAKP,QAAQkkH,SAAW3jH,KAAKP,QAAQkkH,QAAQ7jH,OAAS2iH,GAAkBD,GAEvFxiH,KAAKykH,gBAAgBpqC,EAAQ,WAC7B/8E,EAAM2uB,QAAQouD,GACdA,EAAOtpD,SAEP,IAAK/sB,EAAU,CACX89D,EAAKuY,OAAS,KACd,OAGJvY,EAAKuY,OAASn9E,EAAEgoH,GAAUhgF,SAAS48B,EAAKA,MACxCA,EAAKoiD,sBAAwBlgH,IAAa,WAAa1G,EAAM0G,SAASA,GAAYA,GAGtFmhH,aAAc,SAAS1lH,GACnB,IAAIc,EAAOP,KACX,IAAI4tB,EAAiBrtB,EAAKd,QAC1B,IAAIssD,EAAUn+B,EAAem+B,QAC7B,IAAIq5D,EAAoB,CAAE15E,OAAQnrC,EAAK8kH,YAAY9jH,KAAKhB,IACxD,IAAI+kH,EAAmB/kH,EAAKglH,WAAWhkH,KAAKhB,GAC5C,IAAIilH,EAAajlH,EAAKikH,SACtB,IAAIn3F,EAAU9sB,EAAKsP,QAAQsG,KAAK,MAChC,IAAImX,EAAWpwB,EAAE,cAAiBqD,EAAKsP,QAAQsG,KAAK,MAAQ,MAC5D,IAAIsvG,EAAaD,EAAWrvG,KAAKrX,IAEjC,IAAK2mH,GAAcn4F,EAASxtB,OACxB2lH,EAAan4F,EAASnX,KAAK,OAAS5V,EAAKmtB,iBAAiBJ,EAAUD,GAAW/vB,EAAMksB,QAGzFuiC,SAAiBA,IAAY,SAAWA,EAAU,GAElDtsD,EAAUvC,EAAEM,OAAO,CACfgqE,SAAU,MACV61B,WAAY,KACZ1yE,WAAYpqB,EAAKoqB,WACjBlE,MAAOlmB,EAAKu1C,OAAOv0C,KAAKhB,GACxB+0G,SAAU/0G,EAAKmlH,cAAcnkH,KAAKhB,GAClCojH,QAAS/1F,EAAe+1F,QACxBlT,WAAYlwG,EAAKolH,gBAAgBpkH,KAAKhB,GACtCulE,YAAa,WACTvlE,EAAK8B,QAAQq/G,IAEjB17C,UAAWs/C,EACXzvG,OAAQ+X,EAAe/X,OACvBqxD,eAAgBt5C,EAAes5C,eAC/B0B,cAAeh7C,EAAeg7C,cAC9Bg9C,cAAeh4F,EAAeg4F,cAC9BC,mBAAoBj4F,EAAei4F,mBACnC7hH,SAAU4pB,EAAe5pB,SACzBupB,UAAWi4F,EAAWrvG,KAAKpX,IAC3ByuB,eAAgBi4F,EAChBK,SAAUvlH,EAAKijH,WAChB/jH,EAASssD,EAASq5D,GAErB,IAAK3lH,EAAQuE,SACTvE,EAAQuE,SAAW,KAAO1G,EAAM0rB,KAAKvpB,EAAQmpE,cAAe,QAAU,IAG1E,GAAIh7C,EAAewwD,SACf3+E,EAAQ2+E,SAAWxwD,EAAewwD,SAGtC,OAAO3+E,GAGXsmH,UAAW,WACP,IAAIxlH,EAAOP,KACX,IAAIgmH,EAAczlH,EAAK4kH,aAAa,CAChCc,mBAAoB1lH,EAAK8kH,YAAY9jH,KAAKhB,KAG9C,IAAKA,EAAKd,QAAQssD,QACdxrD,EAAK0oE,SAAW,IAAI3rE,EAAM2pB,GAAGi/F,WAAW3lH,EAAKkjH,GAAIuC,OAC9C,CACHzlH,EAAK0oE,SAAW,IAAI3rE,EAAM2pB,GAAGk/F,YAAY5lH,EAAKkjH,GAAIuC,GAClDzlH,EAAKuhE,KAAK5rD,SAAS,kBAGvB3V,EAAK0oE,SAAS1nE,KAAK,YAAahB,EAAKglH,WAAWhkH,KAAKhB,IACrDA,EAAK6lH,iBAGTA,cAAe,SAAS9+G,GACpBA,EAAQA,GAAStH,KAAKP,QAAQ6H,MAE9B,GAAIA,IAAUjK,EACV2C,KAAKipE,SAAS3hE,MAAMA,GACf2/B,KAAKjnC,KAAKqmH,sBAAsB9kH,KAAKvB,QAIlDqmH,sBAAuBnpH,EAAEU,KAEzB0oH,eAAgB,SAAShkH,GACrB,IAAKtC,KAAKumH,aAAevmH,KAAKumH,YAAY,KAAOjkH,EAAE3C,OAC/C2C,EAAEpB,kBAIVslH,iBAAkB,WACd,IAAIv2F,EAASjwB,KAAKP,QAAQwwB,OAC1B,OAAOA,GAAUA,IAAW,QAGhCw2F,WAAY,WACR,IAAI3kD,EAAO9hE,KAEX,GAAI8hE,EAAK4kD,OACL5kD,EAAK4kD,OAAOxwG,SAAS4rG,IAI7B6E,WAAY,WACR,GAAI3mH,KAAK0mH,OACL1mH,KAAK0mH,OAAOjxG,YAAYqsG,IAIhC8E,YAAa,WACT5mH,KAAK6mH,aACL7mH,KAAK8mH,UAAU,IACf9mH,KAAKipE,SAAS3hE,MAAM,IAEpB,GAAItH,KAAKujH,UACLvjH,KAAK+mH,cAAgB1pH,EAGzB,GAAI2C,KAAKwmH,qBAAuBxmH,KAAKP,QAAQunH,iBAAkB,CAC3DhnH,KAAKqwD,QAAQ,CAAEsjB,KAAM,GAAIy1B,KAAM,QAE/B,GAAIppG,KAAKP,QAAQwnH,eACbjnH,KAAKipE,SAAS5pC,MAAM,GAG5Br/B,KAAKg1D,WAGT6xD,WAAY,WACR7mH,KAAKogC,KAAK,KAGd8mF,aAAc,WACV,IAAKlnH,KAAKP,QAAQssD,QACd/rD,KAAKipE,SAASC,MAAM,OAGxBlpE,KAAKmnH,iBAGTA,cAAe,SAASl3F,EAAQvE,GAC5B,IAAInrB,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAI2nH,EAAyB3nH,EAAQ4nH,cAAgBp3F,GAAUA,EAAOwpB,OAASxpB,EAAO0pB,SAAW1pB,EAAO0pB,QAAQ75C,OAChH,IAAI6qB,EAAapqB,EAAKoqB,WACtB,IAAI1B,EAAazrB,EAAO,GAAImtB,EAAWsF,UAAY,IACnD,IAAIq3F,EAAoBr3F,GAAWhH,EAAW0wB,SAAW1wB,EAAW0wB,QAAQ75C,SAAWmwB,EAEvF,IAAIs3F,EAAUC,GAAsBv+F,EAAYxpB,EAAQmpE,eAExD5oE,KAAKynH,wBAAwBx+F,GAE7B,IAAKgH,GAAUs3F,IAAYhnH,EAAK8B,QAAQ,YAAa,CAAE4tB,OAAQA,IAC3D,OAAO/yB,EAAEupC,WAAWqvB,SAASlyC,UAGjC,IAAI8jG,EAAgB,CAChB/tE,QAAS,GACTF,MAAO,OAGX,GAAI2tE,EACAM,EAAc/tE,QAAQz3C,KAAK+tB,QAE3BjwB,KAAK2nH,sBAAsBD,EAAez3F,GAG9C,GAAI23F,GAAkB3+F,GAClB,GAAIy+F,EAAcjuE,QAAUxwB,EAAWwwB,MACnCiuE,EAAc/tE,QAAU+tE,EAAc/tE,QAAQrlC,OAAO2U,EAAW0wB,cAEhE+tE,EAAc/tE,QAAQz3C,KAAK+mB,GAInC,GAAI1oB,EAAKsnH,WACL7nH,KAAKipE,SAAS6+C,YAAYJ,GAG9B,IAAIK,EAAkBvqH,EAAO,GAAI,CAC7Bm7C,KAAM2uE,EAAoB,EAAI38F,EAAWguB,OACzCD,SAAU4uE,EAAoB38F,EAAWlrB,QAAQi5C,SAAW/tB,EAAW+tB,WACvE53B,KAAM6J,EAAW7J,OACjBmP,OAAQtF,EAAWsF,SACnBq6B,MAAO3/B,EAAW2/B,QAClBV,UAAWj/B,EAAWi/B,aACvB,CAAE35B,OAAQy3F,IAEb,OAAO/8F,EAAWe,EAAQ,OAAS,SAASf,EAAW2tC,YAAYyvD,KAGvEJ,sBAAuB,SAASD,EAAez3F,GAC3C,GAAI23F,GAAkB33F,IAAWA,EAAO3oB,QAAU,GAC9CogH,EAAc/tE,QAAQz3C,KAAK+tB,IAInCw3F,wBAAyB,SAASx+F,GAC9B,IAAKA,EAAW0wB,QACZ,OAGJ,IAAIquE,EAEJ,IAAK,IAAInoH,EAAI,EAAGA,EAAIopB,EAAW0wB,QAAQ75C,OAAQD,IAC3C,GAAI,eAAgBopB,EAAW0wB,QAAQ95C,GACnCmoH,EAAkBnoH,EAI1B,IAAKiU,MAAMk0G,GACP/+F,EAAW0wB,QAAQl3C,OAAOulH,EAAiB,IAInDvD,gBAAiB,SAAS50G,EAASk1B,GAC/B,IAAKl1B,EACD,OAGJ7P,KAAK0qB,QAAQqa,EAAQ,WACjB,MAAO,CAAE3W,SAAUve,MAI3B00G,cAAe,WACX,IAAIziD,EAAO9hE,KACX,IAAIqkH,EAASviD,EAAKuiD,OAElB,IAAKA,EACD,OAGJrkH,KAAKykH,gBAAgBJ,EAAQ,WAC7BA,EAAOngH,KAAK49D,EAAKsiD,eAAe,CAAE1gG,SAAUo+C,KAC5C9hE,KAAKykH,gBAAgBJ,EAAQ,YAGjC4D,cAAe,SAASx1C,GACpBv1E,EAAE8C,KAAKqkH,QAAQv/F,OAAO2tD,IAG1By1C,cAAe,SAASz1C,GACpB,IAAI01C,EAAcnoH,KAAKipE,SAASpuB,QAAQ1N,KAAKi0E,GAC7C+G,EAAYrjG,OAAO2tD,IAGvB6xC,cAAe,WACX,IAAIxiD,EAAO9hE,KACPq6E,EAASvY,EAAKuY,OAASr6E,KAAKP,QAAQkkH,SAAW3jH,KAAKP,QAAQkkH,QAAQ7jH,OAASgiE,EAAKuY,OAAOh5B,WAAWl/C,QAAU2/D,EAAKuY,OAAS,KAEhI,IAAKA,EACD,OAGJr6E,KAAKykH,gBAAgBpqC,EAAQ,WAC7BA,EAAOn2E,KAAK49D,EAAKoiD,eAAe,CAAExgG,SAAUo+C,KAC5C9hE,KAAKykH,gBAAgBpqC,EAAQ,YAGjC+tC,cAAe,WACX,OAAOpoH,KAAKP,QAAQ2kH,gBAAkBpkH,KAAK2qB,WAAWsD,WAAWnuB,QAGrEmkH,WAAY,WACR,IAAI1jH,EAAOP,KACPsH,EAAQ/G,EAAKd,QAAQ6H,MAEzB,GAAIA,IAAU,KACV/G,EAAKsP,QAAQw7C,IAAI/jD,OACd,CACHA,EAAQ/G,EAAKumH,YACbvmH,EAAKd,QAAQ6H,MAAQA,EAGzB/G,EAAK8nH,KAAO/gH,GAGhBghH,YAAa,WACT,IAAI/nH,EAAOP,KACP69C,EAAQt9C,EAAKoqB,WAAW6mC,OAAO3T,MAC/Bh9B,EAEJ,GAAIg9B,GAASA,EAAMK,OAAQ,CACvBr9B,EAAQg9B,EAAMK,OAAO39C,EAAKd,QAAQmpE,eAElC,GAAI/nD,GAASA,EAAMtZ,MAAQsZ,EAAMtZ,OAAS,SACtChH,EAAKd,QAAQsuC,WAAa,QAKtCuzD,OAAQ,SAASsb,GACb,OAAO58G,KAAKipE,SAAS5pC,MAAMu9E,IAG/BvsD,QAAS,SAAS5wD,GACd,IAAIc,EAAOP,KACX,IAAIuoH,EAAgBhoH,EAAKd,QACzB,IAAIk0E,EAAOl0E,EAAQk0E,KACnB,IAAI0zC,EAAekB,EAAclB,aACjC,IAAIxmG,EAAQ0nG,EAAc3/C,cAC1B,IAAI3/C,EAEJ,GAAIo+F,GAAgBA,EAAavnH,OAAQ,CACrCmpB,EAAa,CACTwwB,MAAO,KACPE,QAAS,GACT6uE,WAAY,MAEhB,IAAK,IAAI3oH,EAAI,EAAGA,EAAIwnH,EAAavnH,OAAQD,IACrCG,KAAK2nH,sBAAsB1+F,EAAY1oB,EAAKkoH,iBAAiB90C,EAAM0zC,EAAaxnH,UAGpFopB,EAAa1oB,EAAKkoH,iBAAiB90C,EAAM9yD,GAG7CtgB,EAAKmoH,MAAQjpH,EAAQ2pG,KACrB7oG,EAAK4mH,cAAcl+F,IAGvBw/F,iBAAkB,SAASnhH,EAAOuZ,GAC9B,IAAItgB,EAAOP,KACX,IAAIuoH,EAAgBhoH,EAAKd,QACzB,IAAIsuC,EAAaw6E,EAAcx6E,WAC/B,IAAIkX,EAAyB1kD,EAAKoqB,WAAWlrB,QAAQwlD,uBAErD,MAAO,CACH39C,MAAOymC,EAAckX,EAAyB39C,EAAM49C,kBAAkBD,GAA0B39C,EAAMgF,cAAiBhF,EACvHuZ,MAAOA,EACP64B,SAAU6uE,EAAct4F,OACxB8d,WAAYA,IAIpB46E,aAAc,WACV,IAAI7mD,EAAO9hE,KACX,IAAI4oH,EAAa9mD,EAAKriE,QAAQ6nB,SAASilC,MAEvC,IAAKuV,EAAK4kD,OACN5kD,EAAK4kD,OAASxpH,EAAE,wDAA0D0rH,EAAa,+CAA+CzyG,KAAK,CACvIyT,KAAQ,SACR6jF,UAAa,IAIrB,IAAK3rC,EAAKriE,QAAQopH,YACd/mD,EAAK4kD,OAAO31F,SAEhB/wB,KAAKymH,cAGTnwF,OAAQ,SAASq9C,GACb,IAAIl0E,EAAUO,KAAKP,QAEnBk0E,SAAcA,IAAS,SAAWA,EAAO3zE,KAAK8oH,cAE9Ct0F,aAAax0B,KAAK+oH,gBAElB,IAAMtpH,EAAQunH,mBAAqBrzC,EAAK7zE,QAAW6zE,EAAK7zE,QAAUL,EAAQupH,UAAW,CACjFhpH,KAAKipH,OAAS,SACd,GAAIjpH,KAAKipE,SACLjpE,KAAKipE,SAASigD,cAAgB5rH,EAAMy/B,KAAK42C,GAAM7zE,OAGnD,IAAKE,KAAKwmH,mBACNxmH,KAAKmpH,cAAcx1C,QAEnB3zE,KAAKqwD,QAAQ,CAAEsjB,KAAMA,EAAMy1B,KAAM,SAK7CvgG,QAAS,SAAS+zG,GACd,OAAO58G,KAAKshG,OAAOsb,IAGvBvuF,MAAO,WACH,OAAOruB,KAAKyjH,GAAG,GAAGpiE,UAGtBp1B,QAAS,WACL,IAAI1rB,EAAOP,KACX,IAAI6oB,EAAKtoB,EAAKsoB,GAEd/B,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,GAEvBA,EAAK6oH,oBAEL7oH,EAAK0oE,SAASh9C,UACd1rB,EAAKuhE,KAAKzuC,IAAIxK,GAEdtoB,EAAKsqG,MAAM5+E,UAEX,GAAI1rB,EAAK8oH,MACL9oH,EAAK8oH,MAAMh2F,IAAI,QAAS9yB,EAAK+oH,gBAIrCh7F,SAAU,SAASnf,GACf,IAAI5O,EAAOP,KAEX,GAAImP,IAAU9R,EACV,OAAOkD,EAAK0oE,SAASsgD,oBAAoB,GAG7C,UAAWp6G,IAAU,SAAU,CAC3B,GAAI5O,EAAKd,QAAQssD,QACb,OAAOxrD,EAAKoqB,WAAWioC,SAAS11D,EAAEiS,GAAOlL,KAAK,QAGlDkL,EAAQjS,EAAEqD,EAAK8tB,SAASlf,MAAMA,GAGlC,OAAO5O,EAAKoqB,WAAWsD,WAAW9e,IAGtCu2G,cAAe,WACX,IAAI78G,EAAU7I,KAAKipE,SAAS5pC,QAC5B,GAAIx2B,GAAW7I,KAAK6qG,MAAMz4E,UACtBpyB,KAAKwkH,SAASzgG,IAAI/jB,KAAKumH,aAAapwG,KAAKysG,GAAuB/5G,EAAQsN,KAAK,QAIrFwvG,gBAAiB,WACb3lH,KAAKwkH,SAASzgG,IAAI/jB,KAAKumH,aAAal7F,WAAWu3F,KAGnDoB,WAAY,WACR,IAAIzjH,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QACnB,IAAIpQ,EAAUc,EAAKd,QACnB,IAAI0pB,EAAS7rB,EAAM6rB,OACnB,IAAI44C,EAAYlyD,EAAQsG,KAAK7Y,EAAM6Y,KAAK,eACxC,IAAIsxD,EAAa53D,EAAQsG,KAAK7Y,EAAM6Y,KAAK,gBAEzC,IAAK1W,EAAQmpE,eAAiB7G,EAC1BtiE,EAAQmpE,cAAgB7G,EAG5B,IAAKtiE,EAAQynE,gBAAkBO,EAC3BhoE,EAAQynE,eAAiBO,EAG7BlnE,EAAKg+F,MAAQp1E,EAAO1pB,EAAQmpE,eAC5BroE,EAAKipH,OAASrgG,EAAO1pB,EAAQynE,iBAGjCuiD,MAAO,SAASjtH,GACZ,IAAI+D,EAAOP,KACPP,EAAUc,EAAKd,QACfoQ,EAAUtP,EAAKikH,SACfkF,EAEJ,GAAIjqH,EAAQkqH,UAAYtsH,EAAW,CAC/B,GAAIoC,EAAQwwB,SAAW,OACnB,GAAIxwB,EAAQkqH,UAAY,KACpBD,EAAe,cAEfA,EAAe,YAGnB,GAAIjqH,EAAQkqH,UAAY,KACpBD,EAAe,YAEfA,EAAe,OAIvB75G,EAAQsG,KAAK0sG,GAAmB6G,GAGpCltH,EAAKA,EAAKA,EAAK,IAAM+D,EAAKkjH,GAAG,GAAGjnH,GAAK+D,EAAKkjH,GAAG,GAAGjnH,GAEhDqT,EAAQsG,KAAK,CACTyzG,YAAaptH,EACbqtH,gBAAiBrtH,IAGrB,GAAI+D,EAAKgmH,aAAehmH,EAAKgmH,YAAYzmH,OAAS,EAC9CS,EAAKgmH,YAAYpwG,KAAK2sG,GAAetmH,GAGzC+D,EAAKkjH,GAAGttG,KAAK4sG,IAAYxiH,EAAKimH,mBAAqB,MAAQ,UAE3DjmH,EAAK4sB,WAAW5sB,EAAKikH,WAGzBjjB,MAAO,WACH,IAAIhhG,EAAOP,KAEXO,EAAKy0D,UACLz0D,EAAK05C,QACL15C,EAAKupH,eAAiB,OAG1BC,gBAAiB,SAASziH,GACtB,OAAOA,IAAU0iH,EAAUhqH,KAAKqoH,YAAa/gH,IAGjD0tD,QAAS,WACL,IAAIz0D,EAAOP,KACX,IAAImP,EAAQ5O,EAAKwnE,cACjB,IAAIM,EAAc9nE,EAAKd,QAAQ6H,MAC/B,IAAIA,EAAQ/G,EAAK+G,QACjB,IAAIjF,EAEJ,GAAI9B,EAAKgjH,YAAchjH,EAAK0oE,SAASC,SAAWb,EAC5C/gE,EAAQ+gE,EAGZ,GAAI9nE,EAAKwpH,gBAAgBziH,GACrBjF,EAAU,UACP,GAAI9B,EAAK0pH,sBAAwB5sH,GAAakD,EAAK0pH,sBAAwBD,EAAUzpH,EAAK8nH,YAAa9nH,EAAK0pH,sBAAwB1pH,EAAKupH,eAC5IznH,EAAU,UACP,GAAI8M,IAAU9R,GAAa8R,IAAU5O,EAAK2pH,YAAc3pH,EAAK0oE,SAASkhD,aACzE9nH,EAAU,KAGd,GAAIA,EAAS,CAET,GAAI9B,EAAK8nH,OAAS,MAAQ9nH,EAAK8nH,OAAS,IAAM/gH,IAAU,GACpD/G,EAAK0pH,oBAAsB1pH,EAAK8nH,KAAO/gH,OAEvC,GAAI/G,EAAK+tB,WACL/tB,EAAK0pH,oBAAsB1pH,EAAK8nH,KAAO9nH,EAAKd,QAAQynE,eAAiB3mE,EAAK+tB,WAAW/tB,EAAKd,QAAQynE,gBAAkB3mE,EAAK+tB,gBAEzH/tB,EAAK0pH,oBAAsB1pH,EAAK8nH,KAAO,KAG/C9nH,EAAK2pH,UAAY/6G,EAEjB,IAAK5O,EAAK6pH,QAEN7pH,EAAKsP,QAAQxN,QAAQ4nC,GAGzB1pC,EAAK8B,QAAQ4nC,GAGjB1pC,EAAK8pH,OAAS,OAGlBz6D,MAAO,WACH,OAAO5vD,KAAK2qB,WAAW+G,QAG3B44F,QAAS,WACL,IAAI/pH,EAAOP,KACPP,EAAUc,EAAKd,QACfyyB,EAAW3xB,EAAKsP,QAAQoG,GAAG,cAE/B,GAAIxW,EAAQ2kB,SAAW/mB,EACnBoC,EAAQukB,QAAUvkB,EAAQ2kB,OAG9B,IAAK3kB,EAAQukB,SAAWkO,EACpB3xB,EAAK6jB,OAAO,YAEZ7jB,EAAK4mE,SAAS5mE,EAAKsP,QAAQoG,GAAG,gBAItCs0G,WAAY,SAASj8F,GACjB,IAAIhnB,EAAQtH,KAAKwpH,OAAOl7F,GAExB,GAAIhnB,IAAUjK,EACViK,EAAQtH,KAAKu+F,MAAMjwE,GAGvB,OAAOhnB,GAGXkjH,cAAe,WACX,IAAI/7F,EAAe,EACnB,IAAIq9E,EAAW9rG,KAAKipE,SAASpuB,QAAQtlC,SAASmqG,QAAQ,YAEtD5T,EAASruG,KAAK,WACV,IAAIoS,EAAU3S,EAAE8C,MAEhByuB,GAAgBxe,EAAYJ,EAAS,QAGzC,OAAO4e,GAGXg8F,QAAS,SAAS3qH,GACd,IAAIS,EAAOP,KACX,IAAI8hE,EAAOvhE,EAAKuhE,KAChB,IAAIjsD,EAAStV,EAAKd,QAAQoW,OAC1B,IAAIuc,EAAU7xB,EAAKsqG,MAAMz4E,UACzB,IAAIs4F,EAAS1qH,KAAKP,QAAQkkH,SAAW3jH,KAAKP,QAAQkkH,QAAQ7jH,OAC1D,IAAI6qH,EAAWC,EAEf,GAAI9qH,GAAUS,EAAKd,QAAQ2kH,eAAgB,CAEvCwG,EAAS9oD,EAAKvsD,SAASwO,IAAI+9C,EAAKvnD,QAAQ,2BAA2Bk4D,OAEnE,IAAK3Q,EAAKvsD,SAASU,GAAG,YAAa,CAC/B20G,EAAOrnG,OACP,OAGJ1N,EAAStV,EAAK0oE,SAASpuB,QAAQ,GAAGh7B,aAAehK,EAASA,EAAS,OAEnE+0G,EAAO/0G,OAAOA,GAEd,GAAIA,IAAW,OAAQ,CACnB80G,EAAYpqH,EAAKiqH,gBAEjB30G,EAASA,EAAS80G,EAElB,GAAID,EACA70G,EAASA,GAAU5F,EAAY/S,EAAEqD,EAAK85E,UAAY,IAAMpqE,EAAY/S,EAAEqD,EAAKmkH,iBAAmB,GAItG,GAAIgG,EACAnqH,EAAK0oE,SAASpuB,QAAQ5qC,YAAY4F,QAElCtV,EAAK0oE,SAASpuB,QAAQtlC,SAAStF,YAAY4F,GAG/C,IAAKuc,EACDw4F,EAAOrnG,OAIf,OAAO1N,GAGXg1G,aAAc,SAASvoH,GACnB,IAAIuG,EAEJ7I,KAAK8qH,mBAEL,GAAI9qH,KAAKqC,QAAQwlG,GACbvlG,EAAEpB,qBACC,CACHlB,KAAKwkH,SAASruG,KAAK6sG,GAAe,MAClChjH,KAAKyjH,GAAGttG,KAAK8sG,GAAa,OAE1Bp6G,EAAU7I,KAAKipE,SAAS5pC,QACxB,GAAIx2B,EACA7I,KAAKwkH,SAASzgG,IAAI/jB,KAAKumH,aAAapwG,KAAKysG,GAAuB/5G,EAAQsN,KAAK,SAKzF20G,iBAAkB,WACd,IAAIvqH,EAAOP,KACP8hE,EAAOvhE,EAAKuhE,KAAKvsD,SACjBI,EAAQmsD,EAAK,GAAGlsD,MAAMD,MACtBa,EAAUjW,EAAKiW,QACf8B,EAAe2jG,EAEnB,IAAKn6C,EAAK79D,KAAK8pE,IAAUp4D,EACrB,OAGJ2C,EAAgBlb,OAAOob,iBAAmBpb,OAAOob,iBAAiBhC,EAAQ,GAAI,MAAQ,EACtFylG,EAAgBpoG,WAAWyE,GAAiBA,EAAc3C,QAAU5F,EAAWyG,GAE/E,GAAI8B,GAAiBU,EAAQiG,KACzBg9F,GAAiBpoG,WAAWyE,EAAcs3F,aAAe/7F,WAAWyE,EAAco3F,cAAgB77F,WAAWyE,EAAcyyG,iBAAmBl3G,WAAWyE,EAAc0yG,kBAG3K,GAAIlpD,EAAKjtD,IAAI,gBAAkB,aAC3Bc,EAAQsmG,GAAiBlsG,EAAW+xD,GAAQA,EAAKnsD,cAEjDA,EAAQsmG,EAGZn6C,EAAKjtD,IAAI,CACLqnG,WAAY1lG,EAAQ3B,IAAI,eACxBc,MAAOpV,EAAKd,QAAQwrH,UAAY,OAASt1G,EACzCu1G,SAAUv1G,EACVw1G,WAAY5qH,EAAKd,QAAQwrH,UAAY,SAAW,WAEnDhnH,KAAK8pE,EAAOp4D,GAEb,OAAO,MAGXy1G,cAAe,SAAS9oH,GACpB,GAAItC,KAAKqC,QAAQylG,GACbxlG,EAAEpB,qBACC,CACHlB,KAAKwkH,SAASruG,KAAK6sG,GAAe,OAClChjH,KAAKyjH,GAAGttG,KAAK8sG,GAAa,MAC1BjjH,KAAKwkH,SAASzgG,IAAI/jB,KAAKumH,aAAal7F,WAAWu3F,MAIvDyI,WAAY,WACR,IAAIpiD,EAAWjpE,KAAKipE,SACpB,IAAIqiD,GAAiBriD,EAAS5pC,QAC9B,IAAIlwB,EAAQ8qB,EAAKgvC,EAASppC,UAE1B,GAAI1wB,IAAU9R,GAAa2C,KAAKP,QAAQwnH,gBAAkBqE,EACtDn8G,EAAQ,EAGZ,GAAIA,IAAU9R,EACV4rE,EAAS5pC,MAAMlwB,QACZ,GAAIm8G,EACPriD,EAASsiD,cAAc,IAI/BC,uBAAwB,SAAS31G,GAC7B,IAAI4lG,EAAKz7G,KAAKyjH,GAAGpiE,SAAS,YAAYl/C,QACtC,IAAIgmH,EAAcnoH,KAAKipE,SAASpuB,QAAQ1N,KAAKi0E,GAC7C,IAAIqK,EAAU,EACd,IAAIn0E,EAAY,QAEhB,GAAI6wE,EAAY,IAAMA,EAAY,GAAGvyG,MAAMc,UAAY,OAAQ,CAC3D,GAAIb,IAAW,OACX41G,EAAUnuH,EAAMW,QAAQ4b,YAG5B,GAAI7Z,KAAK6P,QAAQyiB,QAAQ,UAAUxyB,OAC/Bw3C,EAAY,OAGhBm0E,GAAW53G,WAAW4nG,EAAG5mG,IAAI,UAAYyiC,EAAY,UAAW,IAAMzjC,WAAW4nG,EAAGp6D,SAASggE,GAAaxsG,IAAI,WAAayiC,GAAY,IACvI6wE,EAAYtzG,IAAI,WAAayiC,EAAWm0E,KAIhDC,sBAAuB,SAAShgG,GAC5B,IAAI7V,EAAS7V,KAAKyqH,QAAQzqH,KAAK2qB,WAAWsD,WAAWnuB,QAAU4rB,GAC/D1rB,KAAKwrH,uBAAuB31G,GAC5B7V,KAAK2rH,+BAA+B91G,IAGxC81G,+BAAgC,SAAS91G,GACrC,GAAI7V,KAAKP,QAAQkkH,SAAW3jH,KAAKP,QAAQkkH,QAAQ7jH,OAAQ,CACrD,IAAIgiE,EAAO9hE,KACX,IAAIqZ,EAAQpb,EAAQob,MAAMyoD,EAAKtrD,SAC/B,IAAIqD,EAAYvc,EAAMW,QAAQ4b,YAE9BioD,EAAK4iD,cAAc7vG,IAAKwE,EAAQ,eAAiB,gBAAkBxD,IAAW,OAASgE,EAAY,KAI3G+xG,eAAgB,WACZ,IAAI3iD,EAAWjpE,KAAKipE,SACpB,IAAI4iD,EAAgB5iD,EAASp5D,QAAQgG,SAAWozD,EAASpuB,QAAQhlC,SAEjE,GAAI7V,KAAKP,QAAQwrH,UACbhiD,EAASpuB,QAAQhmC,IAAI,CACjBi3G,UAAW,SACXC,UAAWF,EAAgB,SAAW,UAKlDG,aAAc,SAAStgG,GACnB,GAAI1rB,KAAKP,QAAQssD,QACb,OAGJ,IAAK/rD,KAAK6qG,MAAMh7F,QAAQoG,GAAG,YAAa,CACpCjW,KAAK6qG,MAAMnpG,IAAI,OAAQ,SAAUgqB,GAC7B,OAAO,WACH1rB,KAAK0rH,sBAAsBhgG,IAC5BnqB,KAAKvB,OACTwC,KAAKxC,KAAM0rB,IAEd1rB,KAAK6qG,MAAMnpG,IAAIsmG,EAAUhoG,KAAK4rH,eAAerqH,KAAKvB,YAElDA,KAAK0rH,sBAAsBhgG,IAInCugG,OAAQ,WACJ,IAAInqD,EAAO9hE,KAEX8hE,EAAKA,KAAK1sD,KAAK,SAEf0sD,EAAK+oC,MAAQ,IAAI5jF,EAAG6hF,MAAMhnC,EAAKA,KAAKvsD,SAAU/X,EAAO,GAAIskE,EAAKriE,QAAQorG,MAAO,CACzEtI,OAAQzgC,EAAKtrD,QACb4yF,KAAMtnC,EAAK+oD,aAAatpH,KAAKugE,GAC7B7nB,MAAO6nB,EAAKspD,cAAc7pH,KAAKugE,GAC/BqnC,UAAWrnC,EAAKriE,QAAQ0pG,UACxB9vF,MAAOpb,EAAQob,MAAMyoD,EAAKtrD,SAC1BnB,SAAUysD,EAAKriE,QAAQwrH,aAG3BnpD,EAAK+oC,MAAMh7F,QAAQiiF,QAAQhwB,EAAKnnB,QAC3Bv0B,GAAGw6E,GAAY5gG,KAAK6oB,GAAI7oB,KAAKsmH,eAAe/kH,KAAKvB,QAG1DksH,aAAc,SAAS5pH,GACnBpF,EAAEoF,EAAEivC,eAAe1tB,YAAY88F,EAAOr+G,EAAEiF,OAASk6G,IAGrD/C,QAAS,SAAStV,EAAM+iB,GACpB,IAAI5rH,EAAOP,KACX,IAAIosH,EAAenuH,EAAQsgB,WAAatgB,EAAQyc,OAASzc,EAAQouH,YAAcpuH,EAAQkkB,UAEvFinF,EAAOA,IAAS/rG,EAAY+rG,GAAQ7oG,EAAKsqG,MAAMz4E,UAE/C,IAAK+5F,IAAiBC,GAAgB7rH,EAAKikH,SAAS,KAAO/0G,IAAiB,CACxElP,EAAK+rH,SAAW,KAChB/rH,EAAKikH,SAASniH,QAAQk1G,GACtBh3G,EAAK+rH,SAAW,MAGpB/rH,EAAK6oG,EAAOvB,EAAOC,MAGvBykB,gBAAiB,WACb,IAAIhsH,EAAOP,KAEX,IAAKO,EAAKisH,mBAAqBjsH,EAAK+G,UAAY0iH,EAAUzpH,EAAKksH,sBAAuBlsH,EAAK+G,SAAU,CACjG/G,EAAKksH,eAAiBlsH,EAAK+G,QAC3B/G,EAAKisH,kBAAoB,KACzBjsH,EAAK8B,QAAQk/G,EAAS,CAAEmL,cAAensH,EAAKupH,mBAIpD6C,eAAgB,WACZ,GAAI3sH,KAAKiqH,sBAAwBjqH,KAAKsH,QAClCtH,KAAKqC,QAAQ4nC,IAIrBm/E,kBAAmB,WACf,IAAI7oH,EAAOP,KAEXO,EAAKoqB,WAAW1oB,OAAO89C,EAAcx/C,EAAKqsH,sBAC1B3qH,OAAOg+C,EAAY1/C,EAAKssH,oBACxB5qH,OAAO,QAAS1B,EAAKusH,gBAGzCC,mBAAoB,SAASttH,EAAS6H,GAClC,IAAImjE,GAAYhrE,EAAQ6H,iBAAiB3J,MAAQ8B,EAAQ6H,MAAMxH,OAASL,EAAQ6H,SAAWA,aAAiB3J,MAAQ2J,EAAMxH,OAASwH,GACnI,GAAImjE,GAAYhrE,EAAQssD,gBAAkBtsD,EAAQssD,QAAQihE,cAAgB,WACtE,MAAM,IAAIpoH,MAAM,uKAK5B,SAASolH,EAAU1iH,EAAOC,GACtB,GAAID,IAAUjK,GAAaiK,IAAU,IAAMA,IAAU,KACjD,GAAIC,IAAS,UAAW,CACpB,UAAWD,IAAU,UACjBA,EAAQA,EAAM5B,WAAW4G,gBAAkB,OAE/ChF,EAAQf,QAAQe,QACb,GAAIC,IAAS,SAChBD,EAAQhB,OAAOgB,QACZ,GAAIC,IAAS,SAChBD,EAAQA,EAAM5B,WAItB,OAAO4B,EAGX9J,EAAO8lH,GAAM,CACTj0F,QAAS,SAASoN,EAAMjb,GACpB,IAAI7f,EAAK7B,EAAQgsG,EAAWtqF,EAAW6/B,SAEvC,IAAK5kB,GAAQA,EAAKjb,aAAeA,EAC7B,OAAQ,EAGZ,IAAK7f,EAAM,EAAG7B,EAASgsG,EAAShsG,OAAQ6B,EAAM7B,EAAQ6B,IAClD,GAAI86B,IAASqvE,EAASnqG,GAClB,OAAOA,EAIf,OAAQ,GAEZqoH,UAAWA,IAKf/iG,EAAG4/C,QAFHvpE,EAAM2pB,GAAGq8F,KAAOA,IAEC9lH,OAAO,CACpBiD,KAAM,SAASoP,EAASpQ,GACpB6jH,GAAK3iH,GAAGF,KAAK+B,KAAKxC,KAAM6P,EAASpQ,GACjCO,KAAKitH,SAAWjtH,KAAK6P,QAAQw7C,OAGjCs7C,cAAe,SAASh8E,GACpB,IAAIpqB,EAAOP,KACX,IAAIuV,EAEJhV,EAAKd,QAAQkrB,WAAaA,EAE1BpqB,EAAK6hE,cAEL,GAAI7hE,EAAK0oE,SAASC,QAAS,CACvB3oE,EAAK2sH,cAAgB,KACrB3sH,EAAK0oE,SAASkkD,SAAW,KAG7B5sH,EAAK0oE,SAAS09B,cAAcpmG,EAAKoqB,YAEjC,GAAIpqB,EAAKd,QAAQ+nE,SACbjnE,EAAKoqB,WAAW8wC,QAGpBlmD,EAAShV,EAAK6sH,gBAEd,GAAI73G,EACAhV,EAAK8sH,eAAe93G,IAI5B0kC,MAAO,WACHj6C,KAAK6qG,MAAM5wD,SAGfpa,OAAQ,SAAS+8E,GACb,IAAIr8G,EAAOP,KAEX,GAAI48G,IAAcv/G,EACd,OAAOkD,EAAKwnE,mBAEZ,OAAOxnE,EAAKk1C,QAAQmnE,GAAW31E,KAAK,WAChC1mC,EAAK+sH,cAAgB/sH,EAAK8nH,KAAO9nH,EAAKumH,YACtCvmH,EAAK2pH,UAAY3pH,EAAKwnE,iBAKlC++C,UAAW,SAASx/G,EAAO3F,GACvB,OAAO3B,KAAKA,KAAKujH,UAAY,kBAAoB,kBAAkBj8G,EAAO3F,IAG9E4rH,eAAgB,SAASjmH,GACrB,IAAIuI,EAAU7P,KAAK6P,QAAQ,GAE3B,GAAIvI,IAAUjK,EACV,OAAOwS,EAAQvI,UACZ,CACH,GAAIA,IAAU,KACVA,EAAQ,GAEZuI,EAAQvI,MAAQA,IAIxBkmH,gBAAiB,SAASlmH,EAAO3F,GAC7B,IAAIkO,EAAU7P,KAAK6P,QAAQ,GAC3B,IAAI46D,EAEJ,GAAInjE,IAAUjK,EACV,OAAOowH,GAAkB59G,GAASvI,OAAS,GAG/CmmH,GAAkB59G,GAASm4D,SAAW,MAEtC,GAAIrmE,IAAQtE,EACRsE,GAAO,EAGX8oE,EAAYnjE,IAAU,MAAQA,IAAU,GAExC,GAAImjE,GAAY9oE,IAAQ,EACpB3B,KAAK0tH,QAAQpmH,QAEb,GAAIA,EACAuI,EAAQvI,MAAQA,OAEhBuI,EAAQk4D,cAAgBpmE,GAKpCgsH,kBAAmB,WACf,OAAO,MAGXD,QAAS,SAASpmH,GACd,IAAI/G,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QACnB,IAAI+9G,EAASrtH,EAAKwmH,cAElB,IAAK6G,EAAQ,CACTA,EAAS1wH,EAAE,aACXqD,EAAKwmH,cAAgB6G,EAErB/9G,EAAQkxD,OAAO6sD,GAGnBA,EAAOxtF,KAAK94B,GACZsmH,EAAO,GAAG5lD,SAAW,MAGzB6lD,UAAW,WACP,IAAIttH,EAAOP,KACXw0B,aAAaj0B,EAAKutH,OAClBvtH,EAAKwtH,WAAWt4G,YAAYorG,GAC5BtgH,EAAKikH,SAASruG,KAAK+sG,GAAW,OAC9B3iH,EAAKutH,MAAQ,KACbvtH,EAAKomH,cAGTqH,UAAW,SAAS1rH,GAChB,IAAI/B,EAAOP,KAEX,GAAIsC,EAAElB,qBACF,OAGJb,EAAK0tH,SAAW,KAEhB,GAAI1tH,EAAKutH,MACL,OAGJvtH,EAAKutH,MAAQ36F,WAAW,WACpB,GAAI5yB,EAAKwtH,WAAY,CACjBxtH,EAAKikH,SAASruG,KAAK+sG,GAAW,MAC9B3iH,EAAKwtH,WAAW73G,SAAS2qG,GACzBtgH,EAAKkmH,eAEV,MAGPyH,YAAa,WACTluH,KAAKiuH,SAAW,MAChBjuH,KAAK6tH,aAGTzrD,YAAa,WACT,IAAI7hE,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QACfkrB,EAAalrB,EAAQkrB,YAAc,GACnChpB,EAEJgpB,EAAahtB,MAAMD,QAAQitB,GAAc,CAAE1mB,KAAM0mB,GAAeA,EAEhE,GAAIpqB,EAAKgjH,UAAW,CAChB5hH,EAAMkO,EAAQ,GAAGk4D,cACjB,GAAIpmE,GAAO,EACPlC,EAAQ0P,MAAQxN,EAGpBgpB,EAAWkV,OAAShwB,EACpB8a,EAAWuzB,OAAS,CAAC,CAAEr9B,MAAOphB,EAAQmpE,eACjB,CAAE/nD,MAAOphB,EAAQynE,iBAG1C,GAAI3mE,EAAKoqB,WACLpqB,EAAK6oH,wBACF,CACH7oH,EAAKqsH,qBAAuBrsH,EAAKytH,UAAUzsH,KAAKhB,GAChDA,EAAKssH,mBAAqBtsH,EAAK2tH,YAAY3sH,KAAKhB,GAChDA,EAAKusH,cAAgBvsH,EAAKstH,UAAUtsH,KAAKhB,GAG7CA,EAAKoqB,WAAartB,EAAM2G,KAAKgT,WAAWimC,OAAOvyB,GACvBppB,KAAKw+C,EAAcx/C,EAAKqsH,sBACxBrrH,KAAK0+C,EAAY1/C,EAAKssH,oBACtBtrH,KAAK,QAAShB,EAAKusH,gBAG/CqB,WAAY,WACRnuH,KAAKipE,SAASmlD,cAGlBC,UAAW,WACPruH,KAAKipE,SAASqlD,aAGlBC,UAAW,WACP,OAAOvuH,KAAKipE,SAASulD,aAGzBC,UAAW,WACP,OAAOzuH,KAAKipE,SAASylD,aAGzBC,uBAAwB,SAAS/R,GAC7B,IAAIr8G,EAAOP,KACPipE,EAAW1oE,EAAK0oE,SAChB2lD,SAAiBhS,IAAc,SAC/BiS,EAAiBtuH,EAAKuuH,aAAevuH,EAAKuuH,YAAYhvH,OACtDqP,EAEJ,GAAIy/G,EACAz/G,EAAQ0/G,IAAmBjS,EAAYA,OAEvCztG,EAAQ85D,EAAS8lD,gBAAgBnS,GAGrC,OAAO3zC,EAAS+lD,gBAAgB7/G,IAGpC8/G,8BAA+B,SAASrS,GACpC,IAAIr8G,EAAOP,KACP6uH,EAAiBtuH,EAAKuuH,aAAevuH,EAAKuuH,YAAYhvH,OACtD8uH,SAAiBhS,IAAc,SAC/BsS,EAAsBtS,EAE1B,GAAIiS,GAAkBD,EAClBM,IAGJ,OAAOA,GAGXv5E,MAAO,SAASrzC,GACZ,IAAI/B,EAAOP,KACX,IAAIipE,EAAW1oE,EAAK0oE,SACpB,IAAIjiE,EAAM1E,EAAE8+B,QACZ,IAAIze,EAAO3b,IAAQugB,EAAKU,KACxB,IAAIknG,EAAY5uH,EAAKd,QAAQssD,QAC7B,IAAIz9B,EACJ,IAAIomB,EACJ,IAAI7rC,EACJ,IAAIumH,EACJ,IAAIC,EAEJ,GAAIroH,IAAQugB,EAAKQ,IAAMpF,EAAM,CACzB,GAAIrgB,EAAEo5G,OACFn7G,EAAKukB,OAAOnC,OACT,CACH,IAAKsmD,EAASC,UAAY3oE,EAAKkjH,GAAG,GAAG1kE,WAAY,CAC7C,IAAKx+C,EAAK+uH,OAAQ,CACd/uH,EAAKoqB,WAAWjpB,IAAIuoC,EAAQ,WACxB1pC,EAAK+uH,OAAS,MACd/uH,EAAKo1C,MAAMrzC,KAGf/B,EAAK+uH,OAAS,KACd/uH,EAAK4mH,gBAGT7kH,EAAEpB,iBAEF,OAAO,KAGX2H,EAAUtI,EAAK+gG,SAEf,IAAK/gG,EAAK+uH,UAAYzmH,GAAWA,EAAQ6M,SAASkrG,IAC9C,GAAIj+F,EAAM,CACNysG,EAAY7uH,EAAKguH,YAEjB,GAAKY,GAAaC,GAAa,IAAQ7uH,EAAK+gG,WAAa8tB,EACrD7uH,EAAK8tH,gBAEN,CACHe,EAAY7uH,EAAKkuH,YAEjB,GAAKU,GAAaC,GAAanmD,EAASt+C,WAAWmyB,QAAU,IAAQv8C,EAAK+gG,WAAa8tB,EACnF7uH,EAAK4tH,aAKjBkB,EAAkB9uH,EAAK0uH,8BAA8B1uH,EAAKgvH,KAAKhvH,EAAK+gG,WAAa8tB,GAAa,GAE9F7uH,EAAKk1C,QAAQ45E,EAAiB,MAAMpoF,KAAK,WACrC,IAAIA,EAAO,WACP,IAAK1mC,EAAKsqG,MAAMz4E,UACZ7xB,EAAKghG,QAGT,GAAIhhG,EAAKksH,iBAAmB,KACxBlsH,EAAKksH,eAAiBlsH,EAAK+G,aAE3B/G,EAAKksH,eAAiBlsH,EAAK+tB,WAAa/tB,EAAK+tB,WAAW/tB,EAAKd,QAAQynE,iBAAmB3mE,EAAK+tB,WAAa,MAIlH,GAAI/tB,EAAK8B,QAAQqtC,EAAQ,CAAEphB,SAAU/tB,EAAKouH,uBAAuBU,GAAkBpmF,KAAM1oC,EAAK+gG,WAC1F/gG,EAAKk1C,QAAQ5sC,GAASo+B,KAAKA,QAE3BA,MAKZ3kC,EAAEpB,iBACFwzC,EAAU,UACP,GAAI1tC,IAAQugB,EAAKK,OAAS5gB,IAAQugB,EAAKI,IAAK,CAC/C,GAAIpnB,EAAKsqG,MAAMz4E,UACX9vB,EAAEpB,iBAGN2H,EAAUtI,EAAK+gG,SACfhzE,EAAW/tB,EAAK+tB,WAEhB,IAAK/tB,EAAKsqG,MAAMz4E,aAAe9D,GAAY/tB,EAAK6/B,SAAW7/B,EAAKg+F,MAAMjwE,IAClEzlB,EAAU,KAGd,IAAI2mH,EAAejvH,EAAKgmH,aAAehmH,EAAKgmH,YAAY,KAAO92G,IAC/D,IAAI+vB,EAEJ,GAAI32B,EAAS,CACTylB,EAAW26C,EAAS+lD,gBAAgB/lD,EAAS8lD,gBAAgBlmH,IAC7D,IAAI4mH,EAAgB,KAEpB,GAAInhG,EACAmhG,EAAgBlvH,EAAKipH,OAAOl7F,KAAcg1F,GAAK0G,UAAUzpH,EAAK+G,eAAgB/G,EAAKipH,OAAOl7F,IAG9F,GAAImhG,GAAiBlvH,EAAK8B,QAAQqtC,EAAQ,CAAEphB,SAAUA,EAAU2a,KAAMpgC,IAClE,OAGJ22B,EAAYj/B,EAAKk1C,QAAQ5sC,QACtB,GAAItI,EAAK6f,MAAO,CACnB,GAAI7f,EAAKotH,qBAAuBptH,EAAKgjH,UACjChjH,EAAKumH,UAAUvmH,EAAK6f,MAAMirC,OAE9B9qD,EAAK0oE,SAAS3hE,MAAM/G,EAAK6f,MAAMirC,OAGnC,GAAI9qD,EAAKmvH,cACLnvH,EAAKmvH,cAAcnvH,EAAKiW,SAG5B,GAAIg5G,GAAgBxoH,IAAQugB,EAAKI,IAC7BpnB,EAAKiW,QAAQm5G,gBAEb,GAAInwF,UAAoBA,EAAUyH,OAAS,WACvCzH,EAAUyH,KAAK,WACX1mC,EAAKghG,eAGThhG,EAAKghG,QAIbhhG,EAAK05C,QACLvF,EAAU,UACP,GAAI1tC,IAAQugB,EAAKM,IAAK,CACzB,GAAItnB,EAAKsqG,MAAMz4E,UACX9vB,EAAEpB,iBAENX,EAAK05C,QACLvF,EAAU,UACP,GAAIn0C,EAAKsqG,MAAMz4E,YAAcprB,IAAQugB,EAAKe,UAAYthB,IAAQugB,EAAKc,QAAS,CAC/E/lB,EAAEpB,iBAEF,IAAIo2C,EAAYtwC,IAAQugB,EAAKe,SAAW,GAAK,EAC7C2gD,EAAS2mD,WAAWt4E,EAAY2xB,EAASttD,gBAEzC+4B,EAAU,KAGd,OAAOA,GAGXm7E,WAAY,WACR,IAAItvH,EAAOP,KACX,IAAI8vH,IAAavvH,EAAKoqB,WAAW+G,OAAO5xB,OAExC,GAAIS,EAAK0tH,UAAY1tH,EAAKd,QAAQupE,YAC9B,OAGJ,IAAKzoE,EAAK0oE,SAASC,UAAY3oE,EAAK+uH,SAAWQ,EAAU,CACrDvvH,EAAK+uH,OAAS,KACd/uH,EAAKoqB,WAAW8wC,QAAQx0B,KAAK,WACzB1mC,EAAK+uH,OAAS,UAK1BS,SAAU,SAAS9rH,EAAM6qH,EAAaxnH,GAClC,IAAI/G,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfmgH,EAAcngH,EAAQ,GACtB/P,EAASmE,EAAKnE,OACdL,EAAU,GACVsvB,EACAT,EACA2hG,EACAC,EACAvuH,EAAM,EAEV,GAAImtH,EACArvH,EAAUqvH,EAGd,KAAOntH,EAAM7B,EAAQ6B,IAAO,CACxBotB,EAAS,UACTT,EAAWrqB,EAAKtC,GAChBsuH,EAAW1vH,EAAKg+F,MAAMjwE,GACtB4hG,EAAY3vH,EAAKipH,OAAOl7F,GAExB,GAAI4hG,IAAc7yH,EAAW,CACzB6yH,GAAa,GAEb,GAAIA,EAAUrjH,QAAQ,QAAU,EAC5BqjH,EAAYA,EAAU/vH,QAAQ8hH,GAAY,UAG9ClzF,GAAU,WAAamhG,EAAY,IAGvCnhG,GAAU,IAEV,GAAIkhG,IAAa5yH,EACb0xB,GAAU3J,EAAW6qG,GAGzBlhG,GAAU,YACVtvB,GAAWsvB,EAGflf,EAAQ3L,KAAKzE,GAEb,GAAI6H,IAAUjK,EAAW,CACrB2yH,EAAY1oH,MAAQA,EACpB,GAAI0oH,EAAY1oH,QAAUA,EACtB0oH,EAAYjoD,eAAiB,EAIrC,GAAIioD,EAAYjoD,iBAAmB,EAAG,CAClCh5C,EAAS0+F,GAAkBuC,GAE3B,GAAIjhG,EACAA,EAAOvO,aAAaw5E,EAAUA,KAK1Cv3B,OAAQ,WACJ,IAAIliE,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfsgH,EAAStgH,EAAQsG,KAAK,QACtB8qB,EAAOkvF,EAASjzH,EAAE,IAAMizH,GAAUtgH,EAAQ0K,QAAQ,QAEtD,GAAI0mB,EAAK,GAAI,CACT1gC,EAAK+oH,cAAgB,WACjBn2F,WAAW,WACP5yB,EAAK+G,MAAM/G,EAAK0sH,aAIxB1sH,EAAK8oH,MAAQpoF,EAAK7a,GAAG,QAAS7lB,EAAK+oH,iBAI3C8D,cAAe,WACX,IAAI3wH,EAAOuD,KAAKP,QAAQhD,KAExB,IAAKuD,KAAKP,QAAQupE,YACd,OAGJ,IAAImc,EAAgBjoF,EAAE,IAAM8C,KAAKP,QAAQupE,aACzC,IAAIzzD,EAAS4vE,EAAclhF,KAAK,QAAUxH,GAE1C,IAAK8Y,EACD,IAAK,IAAI1V,EAAI,EAAGA,EAAIqiH,GAAiBzlH,GAAMqD,OAAQD,GAAK,EAAG,CACvD0V,EAAS4vE,EAAclhF,KAAK,QAAUi+G,GAAiBzlH,GAAMoD,IAE7D,KAAM0V,EACF,MAKZ,OAAOA,GAGX66G,SAAU,WACN,IAAI7vH,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAI4wH,EAAU5wH,EAAQupE,YACtB,IAAIzzD,EAEJ,GAAI86G,EAAS,CACT96G,EAAShV,EAAK6sH,gBAEd,IAAK73G,EACD,OAGJhV,EAAK+vH,qBAAuB/vH,EAAKgwH,gBAAgBhvH,KAAKhB,GACtDA,EAAKiwH,uBAAyB,GAE9B/wH,EAAQ+nE,SAAW,MAEnBjyD,EAAOhU,KAAK,MAAO,WACfhB,EAAKmB,IAAI,MAAO,SAASY,GACrB/B,EAAKkwH,eAAiBnuH,EAAEgF,OAAS/G,EAAKumH,gBAI9CvxG,EAAOpT,MAAMo/G,EAAShhH,EAAK+vH,sBAG3B,GAAI/6G,EAAO0zD,SAASC,QAAS,CACzB3oE,EAAKmwH,wBACLnwH,EAAK8sH,eAAe93G,OACjB,CACHA,EAAO7T,IAAIigH,EAAY,WACnBphH,EAAKmwH,wBACL,GAAIn7G,EAAOs1F,MAAMz4E,UACb7c,EAAOivG,SAASniH,QAAQk1G,KAIhC,IAAKhiG,EAAOjO,QACR/G,EAAK6jB,OAAO,UAM5BssG,sBAAuB,WACnB,IAAInwH,EAAOP,KACX,IAAIuV,EAAShV,EAAK6sH,gBAClB,IAAIuC,EAAW3N,IAAQzsG,aAAkB0R,EAAG6+E,aAAe/kB,EAAO8gC,EAElEtsG,EAAOivG,SAASzgG,IAAIxO,EAAOgxG,aAAangG,GAAGmxF,EAAO,WAC9ChiG,EAAOtT,OAAOs/G,EAAShhH,EAAK+vH,sBAC5B/6G,EAAOtT,OAAOgoC,EAAQ1pC,EAAK+vH,sBAC3B/6G,EAAOpT,MAAM8nC,EAAQ1pC,EAAK+vH,wBAG9B/6G,EAAOivG,SAASzgG,IAAIxO,EAAOgxG,aAAangG,GAAGupG,EAAU,WACjDp6G,EAAOtT,OAAOgoC,EAAQ1pC,EAAK+vH,sBAC3B/6G,EAAOtT,OAAOs/G,EAAShhH,EAAK+vH,sBAC5B/6G,EAAOpT,MAAMo/G,EAAShhH,EAAK+vH,yBAInCC,gBAAiB,SAASjuH,GACtB,IAAIiT,EAASvV,KAAKotH,gBAClB,IAAIuD,EAAqB3wH,KAAKsH,QAE9BtH,KAAK8pH,eAAiBxnH,EAAEoqH,eAAiBn3G,EAAOu0G,eAEhD,GAAI9pH,KAAKipE,SAASC,QACdlpE,KAAK4wH,gBAAgBr7G,EAAQ,MAGjCvV,KAAKqtH,eAAe93G,EAAQo7G,IAGhCE,eAAgB,SAASt7G,GACrB,IAAIhV,EAAOP,KACX,IAAIsH,EAAQ/G,EAAKumH,aAAevmH,EAAKkwH,eAErC,IAAKlwH,EAAKiwH,uBAAuB1wH,OAC7BS,EAAKkwH,eAAiB,KAG1B,GAAIlwH,EAAKupH,eACLvpH,EAAKqwH,gBAAgBr7G,EAAQ,WAC1B,GAAIjO,EAAO,CACd,GAAIA,IAAU0iH,EAAUzpH,EAAK0oE,SAAS3hE,QAAQ,UAAWA,GACrD/G,EAAK+G,MAAMA,GAGf,IAAK/G,EAAKoqB,WAAW+G,OAAO,IAAMnxB,EAAKwnE,iBAAmB,EACtDxnE,EAAKqwH,gBAAgBr7G,EAAQ,WAE9B,GAAIhV,EAAKoqB,WAAWsD,WAAWnuB,OAClCS,EAAKs/B,OAAOt/B,EAAKd,QAAQ0P,OAG7B5O,EAAK6jB,SACL7jB,EAAKgsH,kBACLhsH,EAAKosH,iBACLpsH,EAAKupH,eAAiB,OAG1BuD,eAAgB,SAAS93G,EAAQo7G,GAC7B,IAAIpwH,EAAOP,KACX,IAAIsuB,EAAW/Y,EAAO+Y,WACtB,IAAIwiG,EAAcxiG,EAAWA,EAAS/tB,EAAKd,QAAQsxH,yBAA2Bx7G,EAAOi0G,OAAOl7F,GAAY,KACxG,IAAIm5C,EAAalnE,EAAKd,QAAQuxH,kBAAoBz7G,EAAO9V,QAAQynE,eACjE,IAAIhhB,EAEJ3lD,EAAK0pH,oBAAsB0G,IAAuBtzH,EAAYszH,EAAqBpwH,EAAK+G,QAExF,GAAIwpH,GAAeA,IAAgB,EAAG,CAClC5qE,EAAc3lD,EAAKoqB,WAAWsF,UAAY,GAC1Cu3F,GAAsBthE,EAAauhB,GAEnC,IAAI3lE,EAAU,WACV,IAAImvH,EAAiB1wH,EAAKiwH,uBAAuB7hH,QACjD,GAAIsiH,EACA1wH,EAAK0B,OAAO,YAAagvH,GAG7BA,EAAiB1wH,EAAKiwH,uBAAuB,GAC7C,GAAIS,EACA1wH,EAAK4B,MAAM,YAAa8uH,GAG5B1wH,EAAKswH,eAAet7G,IAGxBhV,EAAKiwH,uBAAuBtuH,KAAKJ,GAEjC,GAAIvB,EAAKiwH,uBAAuB1wH,SAAW,EACvCS,EAAK4B,MAAM,YAAaL,GAG5BvB,EAAKsnH,WAAa,KAClBtnH,EAAK4mH,cAAc,CACftmG,MAAO4mD,EACP/tB,SAAU,KACVpyC,MAAOwpH,IAEXvwH,EAAKsnH,WAAa,UACf,CACHtnH,EAAK6jB,OAAO,OACZ7jB,EAAKqwH,gBAAgBr7G,GACrBhV,EAAKgsH,kBACLhsH,EAAKosH,iBACLpsH,EAAKupH,eAAiB,UAKlC,IAAIoH,GAAiB,cAEjBhL,GAAa5oH,EAAM2pB,GAAG8G,gBAAgBvwB,OAAO,CAC7CiD,KAAM,SAASoP,EAASpQ,GACpBqnB,EAAOnmB,GAAGF,KAAK+B,KAAKxC,KAAM6P,EAASpQ,GAEnCO,KAAK6P,QAAQsG,KAAK,OAAQ,WACbiQ,GAAGu6E,EAAQuwB,GAAgB,KAAMlxH,KAAK81C,OAAOv0C,KAAKvB,OAClDomB,GAAGq7F,EAAayP,GAAgB,KAAM,WAAah0H,EAAE8C,MAAMkW,SAASyqG,KACpEv6F,GAAGo7F,EAAa0P,GAAgB,KAAM,WAAah0H,EAAE8C,MAAMyV,YAAYkrG,KAEpF,GAAIlhH,GAAWA,EAAQ8tB,UACnBvtB,KAAK6P,QAAQsG,KAAKpX,GAAYU,EAAQ8tB,gBACnC,GAAI9tB,GAAWA,EAAQ+tB,eAC1BxtB,KAAK6P,QAAQsG,KAAKrX,GAAiBW,EAAQ+tB,gBAG/C,GAAIvvB,EAAQyc,MACR1a,KAAKmxH,iBAGT,GAAInxH,KAAKP,QAAQ49F,aAAe,WAC5Br9F,KAAK6P,QAAQsG,KAAKgtG,GAAsB,MAG5C,GAAInjH,KAAKP,QAAQkkH,SAAW3jH,KAAKP,QAAQkkH,QAAQ7jH,OAAQ,CACrD,IAAIsxH,EAAQpxH,KAAK6P,QAAQ0F,SAASwa,KAAK,kBACvC,IAAI60F,EAAM1nH,EAAE,iCACR,mCAAqC8C,KAAKP,QAAQkkH,QAAQ7jH,OAAS,UACvE,SAEAsxH,EAAMrwD,OAAO6jD,GAEb5kH,KAAK26C,OAASiqE,EAAI70F,KAAK,eAEvB/vB,KAAK66C,QAAU76C,KAAK6P,QAAQuF,KAAK,uEAAuEG,SAExGvV,KAAK6P,QAAQqG,SAASirG,OACnB,CACHnhH,KAAK66C,QAAU76C,KAAK6P,QAAQuF,KAAK,wEAAwEG,SACzGvV,KAAK26C,OAAS36C,KAAK66C,QAAQ08C,OAAO,uEAAuEpqD,OACzGntC,KAAK6P,QAAQqG,SAASgrG,GAG1BlhH,KAAKkpE,MAAM,OAEXlpE,KAAKqxH,UAAY/zH,EAAMksB,OAEvBxpB,KAAKsxH,iBAAmB,GAExBtxH,KAAK+vD,MAAQ,GACb/vD,KAAKuxH,WAAa,GAClBvxH,KAAKwxH,QAAU,GAEf,IAAIlqH,EAAQtH,KAAKP,QAAQ6H,MAEzB,GAAIA,EACAtH,KAAKwxH,QAAU7zH,MAAMD,QAAQ4J,GAASA,EAAMnI,MAAM,GAAK,CAACmI,GAG5DtH,KAAKyxH,UACLzxH,KAAK0xH,aAEL1xH,KAAK2mG,cAAc3mG,KAAKP,QAAQkrB,YAEhC3qB,KAAK2xH,wBAGTlyH,QAAS,CACLhD,KAAM,aACNyqE,eAAgB,KAChBe,eAAgB,MAChBo1B,WAAY,KACZr5F,SAAU,KACV4hH,cAAe,KACfC,mBAAoB,KACpBt4F,UAAW,KACXC,eAAgB,MAGpBxrB,OAAQ,CACL2+F,EACC12D,EACD+9D,EACAD,EACA2Z,EACAC,EACAC,GAGHjb,cAAe,SAAS7vF,GACpB,IAAIvW,EAAOP,KACX,IAAI2qB,EAAa7T,GAAU,GAC3B,IAAIxP,EAEJqjB,EAAahtB,MAAMD,QAAQitB,GAAc,CAAE1mB,KAAM0mB,GAAeA,EAChEA,EAAartB,EAAM2G,KAAKgT,WAAWimC,OAAOvyB,GAE1C,GAAIpqB,EAAKoqB,WAAY,CACjBpqB,EAAKoqB,WAAW1oB,OAAOgoC,EAAQ1pC,EAAK2kG,iBAEpC59F,EAAQ/G,EAAK+G,QAEb/G,EAAK+G,MAAM,IACX/G,EAAK2oE,MAAM,OAEX3oE,EAAK+G,MAAMA,QAEX/G,EAAK2kG,gBAAkB3kG,EAAKuZ,QAAQvY,KAAKhB,GAG7CA,EAAKunH,YAAYn9F,EAAWsF,UAE5B1vB,EAAKoqB,WAAaA,EAAWppB,KAAK0oC,EAAQ1pC,EAAK2kG,iBAC/C3kG,EAAKqxH,gBAGTT,eAAgB,WACZ,IAAI5wH,EAAOP,KACX,IAAI6xH,EACJ,IAAIC,EACJ,IAAIC,EAAc,SAAS12G,GACvB,OAAQA,EAAMyK,eAAiBzK,GAAO0K,eAAe,GAAGiwB,OAG5Dz1C,EAAKsP,QAAQuW,GAAG,aAAe8qG,GAAgB,SAAS5uH,GACpDuvH,EAASE,EAAYzvH,KAGzB/B,EAAKsP,QAAQuW,GAAG,WAAa8qG,GAAgB,SAAS5uH,GAClD,GAAIA,EAAElB,qBACF,OAGJ0wH,EAAOC,EAAYzvH,GAEnB,GAAIxE,KAAKwM,IAAIwnH,EAAOD,GAAU,GAAI,CAC9BtxH,EAAKyxH,gBAAkB,KACvBzxH,EAAK0xH,cAAc/0H,EAAEoF,EAAE3C,QAAQ4a,QAAQ+mG,GAAch4F,IAAI,QAKrEoqB,KAAM,WACF,OAAO1zC,KAAK2qB,WAAW+oB,QAG3BpoB,WAAY,SAAS7rB,GACjBqnB,EAAOnmB,GAAG2qB,WAAW9oB,KAAKxC,KAAMP,GAEhCO,KAAKyxH,UACLzxH,KAAK0xH,aACL1xH,KAAKkyH,WAGTjmG,QAAS,WACLjsB,KAAK6P,QAAQwjB,IAAI69F,IAEjB,GAAIlxH,KAAKklG,gBACLllG,KAAK2qB,WAAW1oB,OAAOgoC,EAAQjqC,KAAKklG,iBAGxC1wE,aAAax0B,KAAKmyH,WAElBrrG,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,OAG3BgvH,gBAAiB,SAAS7/G,GACtB,OAAOnP,KAAK2qB,WAAWsD,WAAW9e,IAGtCwM,aAAc,WACV,OAAO3b,KAAK66C,QAAQ,GAAG/6B,cAG3ByrG,cAAe,SAASp8G,GACpB,IAAI85B,EAAOjpC,KAAK6P,QAAQ,GAAGwxC,SAASlyC,GAEpC,GAAI85B,EACAjpC,KAAKoyH,OAAOnpF,IAIpB2mF,WAAY,SAAStoH,GACjBtH,KAAK66C,QAAQlqB,UAAU3wB,KAAK66C,QAAQlqB,YAAcrpB,IAGtD8qH,OAAQ,SAASnpF,GACb,IAAKA,EACD,OAGJ,GAAIA,EAAK,GACLA,EAAOA,EAAK,GAGhB,IAAI4R,EAAU76C,KAAK66C,QAAQ,GACvBw3E,EAAgBppF,EAAK0hF,UACrB2H,EAAmBrpF,EAAKxa,aACxB8jG,EAAmB13E,EAAQlqB,UAC3B6hG,EAAsB33E,EAAQ/6B,aAC9B2yG,EAAiBJ,EAAgBC,EAEjC,GAAIC,EAAmBF,EACnBE,EAAmBF,OAChB,GAAII,EAAkBF,EAAmBC,EAC5CD,EAAoBE,EAAiBD,EAGzC33E,EAAQlqB,UAAY4hG,GAG5BhJ,kBAAmB,SAASv7F,GACxB,GAAIA,IAAc3wB,EACd,OAAO2C,KAAKuxH,WAAWpyH,QAG3Ba,KAAKuxH,WAAavjG,EAClBhuB,KAAKwxH,QAAUxxH,KAAK0yH,WAAW1kG,IAGnC0kG,WAAY,SAAS1kG,GACjB,IAAI7E,EAASnpB,KAAK2yH,aAElB,OAAOz1H,EAAEgU,IAAI8c,EAAW,SAASM,GAC7B,OAAOnF,EAAOmF,MAItBkgG,UAAW,WACP,IAAI3lH,EAAU7I,KAAKq/B,QAEnB,IAAKx2B,EACDA,EAAU,OAEVA,EAAUA,EAAQ8yD,OAGtB37D,KAAKq/B,MAAMx2B,IAGf6lH,UAAW,WACP,IAAI7lH,EAAU7I,KAAKq/B,QAEnB,IAAKx2B,EACDA,EAAU7I,KAAK6P,QAAQ,GAAGwxC,SAASvhD,OAAS,OAE5C+I,EAAUA,EAAQskC,OAGtBntC,KAAKq/B,MAAMx2B,IAGfulH,WAAY,WACRpuH,KAAKq/B,MAAMr/B,KAAK6P,QAAQ,GAAGwxC,SAAS,KAGxCitE,UAAW,WACPtuH,KAAKq/B,MAAMpF,EAAKj6B,KAAK6P,QAAQ,GAAGwxC,YAGpChiB,MAAO,SAASu9E,GACZ,IAAIr8G,EAAOP,KACX,IAAIxD,EAAK+D,EAAK8wH,UACd,IAAIuB,EAEJ,GAAIhW,IAAcv/G,EACd,OAAOkD,EAAK4sH,SAGhBvQ,EAAY3iF,EAAK15B,EAAKgvH,KAAK3S,IAC3BA,EAAY1/G,EAAE8C,KAAK6P,QAAQ,GAAGwxC,SAASu7D,IAEvC,GAAIr8G,EAAK4sH,SAAU,CACf5sH,EAAK4sH,SACA13G,YAAYupE,GACZ3zD,WAAWstF,GAEhBp4G,EAAK8B,QAAQ0lG,GAGjB6qB,IAAiBhW,EAAU,GAE3B,GAAIgW,EAAc,CACdhW,EAAU1mG,SAAS8oE,GACnBz+E,EAAK6xH,OAAOxV,GAEZA,EAAUzmG,KAAK,KAAM3Z,GAGzB+D,EAAK4sH,SAAWyF,EAAehW,EAAY,KAC3Cr8G,EAAK8B,QAAQ2lG,IAGjB6qB,WAAY,WACR,OAAO7yH,KAAKq/B,QAAUr/B,KAAKq/B,QAAQlwB,QAAU9R,GAGjDy1H,WAAY,SAASA,GACjB9yH,KAAK+yH,YAAcD,GAGvBjzF,OAAQ,SAASmzF,GACb,IAAIzyH,EAAOP,KACX,IAAIq9F,EAAa98F,EAAKd,QAAQ49F,WAC9B,IAAI41B,EAAkB51B,IAAe,YAAcA,IAAe,MAClE,IAAI61B,EAAkB3yH,EAAK+wH,iBAC3B,IAAI6B,EAAoB,CAACnzH,KAAK6P,QAAQkgB,KAAK,eAAe5gB,SAE1D,IAAIikH,EAAQ,GACZ,IAAI7L,EAAU,GACd,IAAIh+G,EAEJ,GAAIypH,IAAY31H,EACZ,OAAO61H,EAAgB/zH,QAG3B6zH,EAAUzyH,EAAKgvH,KAAKyD,GAEpB,GAAIA,EAAQlzH,SAAW,GAAKkzH,EAAQ,MAAQ,EACxCA,EAAU,GAGd,IAAIxsF,EAAWtpC,EAAEupC,WAAW0rB,UAC5B,IAAIkhE,EAAW9yH,EAAK4pH,aAEpB,GAAIkJ,IAAaJ,GAAmB1yH,EAAK+yH,kBAAkBN,GACvD,OAAOxsF,EAGX,GAAIysF,IAAoBI,GACpBn2H,EAAEmyB,QAAQ4K,EAAK+4F,GAAUE,MAAsB,GAAKh2H,EAAEmyB,QAAQ4K,EAAK+4F,GAAUG,MAAwB,EAAG,CAExG,GAAI5yH,EAAKgxH,WAAWzxH,QAAUS,EAAKwvD,MAAMjwD,OACrCS,EAAKgxH,WAAa,CAAChxH,EAAKwvD,MAAMmjE,EAAgB,IAAIjqF,MAGtD,OAAOzC,EAGXj9B,EAAShJ,EAAKgzH,UAAUP,GAExBzL,EAAUh+G,EAAOg+G,QACjByL,EAAUzpH,EAAOypH,QAEjB,GAAIA,EAAQlzH,OAAQ,CAChB,GAAImzH,EACAD,EAAU,CAAC/4F,EAAK+4F,IAGpBI,EAAQ7yH,EAAKk1C,QAAQu9E,GAGzB,GAAII,EAAMtzH,QAAUynH,EAAQznH,OAAQ,CAChCS,EAAKizH,eAAiB,KACtBjzH,EAAK8B,QAAQ4nC,EAAQ,CACjBmpF,MAAOA,EACP7L,QAASA,IAIjB,OAAO/gF,GAGXitF,SAAU,SAAS98G,GACf3W,KAAKsxH,iBAAiB7uH,OAAOkU,EAAU,GACvC3W,KAAKwxH,QAAQ/uH,OAAOkU,EAAU,GAC9B3W,KAAKwzH,eAAiB,KAEtB,MAAO,CACH78G,SAAUA,EACV2X,SAAUtuB,KAAKuxH,WAAW9uH,OAAOkU,EAAU,GAAG,KAItD+8G,SAAU,SAASpsH,GACfA,EAAQ3J,MAAMD,QAAQ4J,IAAUA,aAAiByP,EAAkBzP,EAAMnI,MAAM,GAAK,CAACmI,GAErFtH,KAAKwxH,QAAUlqH,EAEftH,KAAKwzH,eAAiB,MAG1BlsH,MAAO,SAASA,GACZ,IAAI/G,EAAOP,KACX,IAAIwmC,EAAWjmC,EAAKozH,eACpB,IAAIX,EAEJ,GAAI1rH,IAAUjK,EACV,OAAOkD,EAAKixH,QAAQryH,QAGxBoB,EAAKmzH,SAASpsH,GAEd,IAAKk/B,GAAYA,EAASijB,UAAY,WAClClpD,EAAKozH,eAAiBntF,EAAWtpC,EAAEupC,WAGvC,GAAIlmC,EAAK2oE,QAAS,CACd8pD,EAAUzyH,EAAKqzH,cAAcrzH,EAAKixH,SAElC,GAAIjxH,EAAKd,QAAQ49F,aAAe,WAC5B98F,EAAKs/B,QAAQ,GAGjBt/B,EAAKs/B,OAAOmzF,GAEZxsF,EAAS2rB,UAGb5xD,EAAKwyH,YAAc,MAEnB,OAAOvsF,GAGXnY,MAAO,WACH,OAAOruB,KAAK6P,QAAQwxC,SAASigE,IAGjCxrE,OAAQ,SAASxzC,GACb,GAAItC,KAAKgyH,gBACT,CACIhyH,KAAKgyH,gBAAkB,MACvB,OAGJ,IAAK1vH,EAAElB,qBACHpB,KAAKiyH,cAAc3vH,EAAEivC,gBAI7BogF,qBAAsB,WAClB,IAAIkC,EAAgB,WAChB,IAAItzH,EAAOP,KACXw0B,aAAaj0B,EAAK4xH,WAElB5xH,EAAK4xH,UAAYh/F,WAAW,WACxB5yB,EAAKuzH,iBACN,KAGP9zH,KAAK+zH,UAAYF,EAActyH,KAAKvB,OAGxCiyH,cAAe,SAAShpF,GACpB,IAAKjpC,KAAKqC,QAAQs+F,EAAO,CAAE13D,KAAM/rC,EAAE+rC,KAC/BjpC,KAAK6/B,OAAOoJ,IAIpB+qF,WAAY,SAASzsH,EAAM2H,GACvB,IAAI3O,EAAOP,KACX,IAAI2B,EAAM,EAEV,IAAIwY,EACJ,IAAIgwC,EACJ,IAAI8pE,EAAa,GAEjB,IAAK1zH,EAAKizH,gBAAkBjzH,EAAK2zH,aAAe3sH,EAAM,CAClDhH,EAAK2zH,WAAa3sH,EAElB,KAAO5F,EAAMuN,EAAOpP,OAAQ6B,IACxBsyH,EAAW/xH,KAAK8nH,EAAU96G,EAAOvN,GAAM4F,IAG3C4S,EAAO,2BAA6B85G,EAAWn0H,OAAS,aAChD,kCACA,iBACA,KACA,KACA,aAERqqD,EAAW,IAAI1lD,SAAS,UAAW,SAAU0V,GAE7C5Z,EAAKizH,eAAiB,SAAS3qH,GAC3B,OAAOshD,EAASthD,EAASorH,IAIjC,OAAO1zH,EAAKizH,gBAGhBW,kBAAmB,SAAS7lG,EAAUpf,GAClC,IAAI5H,EAAQtH,KAAK2yH,aAAarkG,GAE9B,IAAI8lG,EAAYp0H,KAAKg0H,kBAAkB1sH,EAAO4H,GAE9C,OAAOklH,EAAU9sH,IAGrBmqH,QAAS,WACLzxH,KAAK2yH,aAAer1H,EAAM6rB,OAAOnpB,KAAKP,QAAQynE,iBAGlDqsD,UAAW,SAASP,GAChB,IAAIzyH,EAAOP,KACX,IAAIqhD,EAAW9gD,EAAKsP,QAAQ,GAAGwxC,SAC/B,IAAIg8C,EAAa98F,EAAKd,QAAQ49F,WAC9B,IAAI61B,EAAkB3yH,EAAK+wH,iBAC3B,IAAItjG,EAAYztB,EAAKgxH,WACrB,IAAIriH,EAAS3O,EAAKixH,QAClB,IAAIjK,EAAU,GACd,IAAI1nH,EAAI,EACR,IAAI2lC,EAEJ,IAAIr2B,EAAO44D,EACX,IAAIssD,EAAiB,EAErBrB,EAAUA,EAAQ7zH,QAElB,GAAIk+F,IAAe,OAAS21B,EAAQlzH,OAAQ,CACxC,KAAOD,EAAIqzH,EAAgBpzH,OAAQD,IAAK,CACpC3C,EAAEmkD,EAAS6xE,EAAgBrzH,KAAK4V,YAAYmrG,GAAWzqG,KAAKitG,GAAe,OAE3EmE,EAAQrlH,KAAK,CACTyU,SAAU9W,EACVyuB,SAAUN,EAAUnuB,KAI5BU,EAAKixH,QAAU,GACfjxH,EAAKgxH,WAAa,GAClBhxH,EAAK+wH,iBAAmB,QACrB,GAAIj0B,IAAe,WACtB,KAAOx9F,EAAImzH,EAAQlzH,OAAQD,IAAK,CAC5BsP,EAAQ6jH,EAAQnzH,GAEhB,IAAK3C,EAAEmkD,EAASlyC,IAAQuG,SAASkrG,GAC7B,SAGJ,IAAKp7E,EAAI,EAAGA,EAAI0tF,EAAgBpzH,OAAQ0lC,IAAK,CACzCuiC,EAAgBmrD,EAAgB1tF,GAEhC,GAAIuiC,IAAkB54D,EAAO,CACzBjS,EAAEmkD,EAAS0mB,IAAgBtyD,YAAYmrG,GAAWzqG,KAAKitG,GAAe,OACtE,IAAI90F,EAAWtuB,KAAK+vD,MAAM5gD,GAAO85B,KACjC,IAAItyB,EAAW3W,KAAKm0H,kBAAkB7lG,EAAUtuB,KAAKwxH,SAErDjK,EAAQrlH,KAAK,CACTyU,SAAUA,EACV2X,SAAUA,IAGdN,EAAUvrB,OAAO+iC,EAAG,GACpB0tF,EAAgBzwH,OAAO+iC,EAAG,GAC1BwtF,EAAQvwH,OAAO5C,EAAG,GAClBqP,EAAOzM,OAAO+iC,EAAG,GAEjB6uF,GAAkB,EAClBx0H,GAAK,EACL2lC,GAAK,EACL,QAMhB,MAAO,CACHwtF,QAASA,EACTzL,QAASA,IAIjB+L,kBAAmB,SAASN,GACxB,IAAI3xE,EAAWrhD,KAAK6P,QAAQ,GAAGwxC,SAC/B,IAAI/yB,EAAUnf,EAAOwH,EACrB,IAAI4wG,EAAU,GACd,IAAI5lH,EAAM,EAEV,KAAOA,EAAMqxH,EAAQlzH,OAAQ6B,IAAO,CAChCwN,EAAQ6jH,EAAQrxH,GAEhB2sB,EAAWtuB,KAAK+vD,MAAM5gD,GAAO85B,KAC7BtyB,EAAW3W,KAAKm0H,kBAAkB7lG,EAAUtuB,KAAKwxH,SAEjD,GAAI76G,GAAY,EAAG,CACf4wG,EAAQrlH,KAAKlC,KAAKyzH,SAAS98G,IAC3BzZ,EAAEmkD,EAASlyC,IAAQsG,YAAYmrG,IAIvC,GAAI2G,EAAQznH,OAAQ,CAChBE,KAAKqC,QAAQ4nC,EAAQ,CACjBmpF,MAAO,GACP7L,QAASA,IAGb,OAAO,KAGX,OAAO,OAGX9xE,QAAS,SAASu9E,GACd,IAAIzyH,EAAOP,KACX,IAAIqhD,EAAW9gD,EAAKsP,QAAQ,GAAGwxC,SAC/B,IAAIp9C,EAAO1D,EAAKwvD,MAChB,IAAIzhC,EAAUnf,EACd,IAAIikH,EAAQ,GACZ,IAAIzxH,EAAM,EAEV,GAAIs4B,EAAK+4F,MAAc,EACnBzyH,EAAK8+B,MAAM2zF,GAGf,KAAOrxH,EAAMqxH,EAAQlzH,OAAQ6B,IAAO,CAChCwN,EAAQ6jH,EAAQrxH,GAChB2sB,EAAWrqB,EAAKkL,GAEhB,GAAIA,KAAW,IAAMmf,EACjB,SAGJA,EAAWA,EAAS2a,KAEpB1oC,EAAK+wH,iBAAiBpvH,KAAKiN,GAC3B5O,EAAKgxH,WAAWrvH,KAAKosB,GACrB/tB,EAAKixH,QAAQtvH,KAAK3B,EAAKoyH,aAAarkG,IAEpCpxB,EAAEmkD,EAASlyC,IAAQ+G,SAAS0qG,GAAWzqG,KAAKitG,GAAe,MAE3DgQ,EAAMlxH,KAAK,CACPosB,SAAUA,IAIlB,OAAO8kG,GAGXrE,gBAAiB,SAASl/G,GACtB,OAAO3S,EAAE2S,GAAS5L,KAAK,iBAG3BsrH,KAAM,SAAS3S,GACX,UAAWA,IAAc,SACrBA,EAAY,CAACA,QACV,IAAKl/G,EAAQk/G,GAAY,CAC5BA,EAAY58G,KAAK+uH,gBAAgBnS,GACjCA,EAAY,CAACA,IAAcv/G,EAAYu/G,GAAa,GAGxD,OAAOA,GAGXpe,UAAW,WACP,IAAIj+F,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAIuE,EAAWvE,EAAQuE,SAEvB,IAAKA,EACDA,EAAW1G,EAAM0G,SAAS,0GAA4G1G,EAAM0rB,KAAKvpB,EAAQmpE,cAAe,QAAU,gBAAiB,CAAE9kE,aAAc,YAChN,CACHE,EAAW1G,EAAM0G,SAASA,GAC1BA,EAAW,SAASC,GAChB,MAAO,yEAA2ED,EAASC,GAAQ,SAI3G,OAAOD,GAGX0tH,WAAY,WACR,IAAI1tH,EACJ,IAAIvE,EAAUO,KAAKP,QACnB,IAAI6iG,EAAY,CACZt+F,SAAUvE,EAAQuE,SAClB4hH,cAAenmH,EAAQmmH,cACvBC,mBAAoBpmH,EAAQomH,oBAGhC,GAAIpmH,EAAQkkH,QACR,IAAK,IAAI9jH,EAAI,EAAGA,EAAIJ,EAAQkkH,QAAQ7jH,OAAQD,IAAK,CAC7C,IAAIglH,EAAgBplH,EAAQkkH,QAAQ9jH,GACpC,IAAIy0H,EAAezP,EAAchkG,MAAQgkG,EAAchkG,MAAMnb,WAAaq8G,GAE1Ezf,EAAU,SAAWziG,GAAKglH,EAAc7gH,UAAY,MAAQswH,EAAe,IAInF,IAAK,IAAIttH,KAAOs7F,EAAW,CACvBt+F,EAAWs+F,EAAUt7F,GACrB,GAAIhD,UAAmBA,IAAa,WAChCs+F,EAAUt7F,GAAO1J,EAAM0G,SAASA,GAIxChE,KAAKsiG,UAAYA,GAGrBiyB,kBAAmB,SAASvB,GACxB,IAAIwB,EAAa,GACjB,IAAI7yH,EAAM,EAEV,KAAOA,EAAMqxH,EAAQlzH,OAAQ6B,IACzB,GAAIqxH,EAAQrxH,KAAStE,EACjBm3H,EAAWtyH,KAAK8wH,EAAQrxH,IAIhC,OAAO6yH,GAGXZ,cAAe,SAAS1kH,EAAQ8jH,GAC5B,IAAI/uH,EAAOjE,KAAK+vD,MAChB,IAAIpuD,EAAM,EACV,IAAIwN,EAEJ6jH,EAAUA,EAAUA,EAAQ7zH,QAAU,GAEtC,IAAK+P,EAAOpP,OACR,MAAO,GAGX,KAAO6B,EAAMsC,EAAKnE,OAAQ6B,IAAO,CAC7BwN,EAAQnP,KAAKm0H,kBAAkBlwH,EAAKtC,GAAKsnC,KAAM/5B,GAE/C,GAAIC,KAAW,EACX6jH,EAAQ7jH,GAASxN,EAIzB,OAAO3B,KAAKu0H,kBAAkBvB,IAGlCyB,kBAAmB,WACf,IAAI5kH,EAAU7P,KAAK6P,QAAQ,GAC3B,IAAIgrC,EAAU76C,KAAK66C,QAAQ,GAC3B,IAAIlqB,EAAYkqB,EAAQlqB,UACxB,IAAI+jG,EAAax3H,EAAE2S,EAAQwxC,SAAS,IAAIxrC,SACxC,IAAI44C,EAAY3wD,KAAK6G,MAAMgsB,EAAY+jG,IAAe,EACtD,IAAIzrF,EAAOp5B,EAAQwxC,SAASoN,IAAc5+C,EAAQ8kH,UAClD,IAAIzpF,EAAUjC,EAAK0hF,UAAYh6F,EAE/B,MAAOsY,EACH,GAAIiC,EAAS,CACT,GAAKjC,EAAK0hF,UAAY+J,EAAc/jG,IAAcsY,EAAK+V,YACnD,MAGJ/V,EAAOA,EAAK+V,gBACT,CACH,GAAI/V,EAAK0hF,WAAah6F,IAAcsY,EAAK2rF,gBACrC,MAGJ3rF,EAAOA,EAAK2rF,gBAIpB,OAAO50H,KAAK+vD,MAAM7yD,EAAE+rC,GAAMhlC,KAAK,kBAGnC2tH,aAAc,WACV,GAAI5xH,KAAK60H,aAAe70H,KAAKsiG,UAAUujB,mBAAoB,CACvD,GAAI7lH,KAAK26C,OAAOpgC,QAAQ8oG,IAAevjH,OACnCE,KAAK26C,OAAOpgC,QAAQ8oG,IAAe5wC,YAEnCzyE,KAAK26C,OAAO83B,OAGhBzyE,KAAK66C,QAAQu3E,OAAOpyH,KAAK+zH,eACtB,CACH,GAAI/zH,KAAK26C,OAAOpgC,QAAQ8oG,IAAevjH,OACnCE,KAAK26C,OAAOpgC,QAAQ8oG,IAAe9/F,YAEnCvjB,KAAK26C,OAAOp3B,OAGhBvjB,KAAK66C,QAAQxnB,IAAI,SAAUrzB,KAAK+zH,aAIxCD,cAAe,WACX,IAAI9vH,EAAWhE,KAAKsiG,UAAUujB,mBAC9B,IAAK7hH,EACD,OAGJ,IAAI8wH,EAAc90H,KAAKy0H,oBAEvB,GAAIK,GAAeA,EAAYxqE,MAAM5kD,WAAW5F,OAC5CE,KAAK26C,OAAOz2C,KAAKF,EAAS8wH,EAAYxqE,SAI9C04C,YAAa,SAAS9sE,GAClB,IAAI+S,EAAO,qDAEX,IAAI3a,EAAW4H,EAAQ+S,KACvB,IAAI8rF,EAAe7+F,EAAQ/mB,QAAU,EACrC,IAAI64D,EAAW9xC,EAAQ8xC,SACvB,IAAI6sD,EAAY70H,KAAK60H,YACrB,IAAIG,EAAah1H,KAAKP,QAAQkkH,SAAW3jH,KAAKP,QAAQkkH,QAAQ7jH,OAC9D,IAAIm1H,EAAS/+F,EAAQ/mB,MAAQ,IAAM,EAAI,mBAAqB,GAE5D,GAAI6lH,EACA/rF,GAAS,qBAAuBgsF,OAEhChsF,GAAQ,qBAGZ,GAAI8rF,GAAgB7+F,EAAQ83B,SACxB/kB,GAAQ,WAGZ,GAAI/S,EAAQg/F,mBAAqBF,EAC7B/rF,GAAQ,UAGZ,GAAI++B,EACA/+B,GAAQ,cAGZA,GAAQ,qBAAuB++B,EAAW,OAAS,SAAW,wBAA0B9xC,EAAQ/mB,MAAQ,KACxG,GAAI6lH,EACA/rF,GAAQjpC,KAAKm1H,eAAe7mG,OACzB,CACH2a,GAAQ,kCACRA,GAAQjpC,KAAKsiG,UAAUt+F,SAASsqB,GAChC2a,GAAQ,UAGZ,GAAI8rF,GAAgB7+F,EAAQ83B,SACxB,GAAIgnE,EACA/rF,GAAQ,mDAAqDjpC,KAAKsiG,UAAUsjB,cAAc1vF,EAAQo0B,OAAS,sBAE3GrhB,GAAQ,wCAA0CjpC,KAAKsiG,UAAUsjB,cAAc1vF,EAAQo0B,OAAS,cAEjG,GAAIuqE,GAAaG,EACpB/rF,GAAQ,qDAGZ,OAAOA,EAAO,SAGlBksF,eAAgB,SAAS7mG,GACrB,IAAI2a,EAAO,GAEX,IAAK,IAAIppC,EAAI,EAAGA,EAAIG,KAAKP,QAAQkkH,QAAQ7jH,OAAQD,IAAK,CAClD,IAAIklH,EAAe/kH,KAAKP,QAAQkkH,QAAQ9jH,GAAG8V,MAC3C,IAAIqvG,EAAkB31G,SAAS01G,EAAc,IAC7C,IAAIE,EAAa,GAEjB,GAAIF,IAAiBjxG,MAAMkxG,GAAkB,CACzCC,GAAc,gBACdA,GAAcD,EACdC,GAAcvE,EAAqB/5G,KAAKo+G,GAAgB,IAAM,KAC9DE,GAAc,KAElBh8E,GAAQ,4BAA8Bg8E,EAAa,IACnDh8E,GAAQjpC,KAAKsiG,UAAU,SAAWziG,GAAGyuB,GACrC2a,GAAQ,UAGZ,OAAOA,GAGXipF,QAAS,WACL,IAAIhuH,EAAO,GAEX,IAAIrE,EAAI,EACR,IAAI8B,EAAM,EACV,IAAIu0B,EACJ,IAAIk/F,EAAc,GAClB,IAAI1jG,EAAO1xB,KAAK2qB,WAAW+G,OAC3B,IAAIxiB,EAASlP,KAAKsH,QAElB,IAAIgjD,EAAO0D,EAAUxoB,EACrB,IAAIqvF,EAAY70H,KAAK60H,YAErB,GAAIA,EACA,IAAKh1H,EAAI,EAAGA,EAAI6xB,EAAK5xB,OAAQD,IAAK,CAC9ByqD,EAAQ54B,EAAK7xB,GACbmuD,EAAW,KAEX,IAAKxoB,EAAI,EAAGA,EAAI8kB,EAAMj8B,MAAMvuB,OAAQ0lC,IAAK,CACrCtP,EAAU,CACN8xC,SAAUhoE,KAAKq1H,UAAU/qE,EAAMj8B,MAAMmX,GAAIt2B,GACzC+5B,KAAMqhB,EAAMj8B,MAAMmX,GAClB8kB,MAAOA,EAAMhjD,MACb0mD,SAAUA,EACVknE,kBAAmB1vF,IAAM8kB,EAAMj8B,MAAMvuB,OAAS,EAC9CqP,MAAOxN,GACXyzH,EAAYzzH,GAAOu0B,EACnBv0B,GAAO,EAEPuC,GAAQlE,KAAKgjG,YAAY9sE,GACzB83B,EAAW,YAInB,IAAKnuD,EAAI,EAAGA,EAAI6xB,EAAK5xB,OAAQD,IAAK,CAC9Bq2B,EAAU,CAAE8xC,SAAUhoE,KAAKq1H,UAAU3jG,EAAK7xB,GAAIqP,GAAS+5B,KAAMvX,EAAK7xB,GAAIsP,MAAOtP,GAE7Eu1H,EAAYv1H,GAAKq2B,EAEjBhyB,GAAQlE,KAAKgjG,YAAY9sE,GAIjCl2B,KAAK+vD,MAAQqlE,EAEbp1H,KAAK6P,QAAQ,GAAGqK,UAAYhW,EAE5B,GAAI2wH,GAAaO,EAAYt1H,OACzBE,KAAK8zH,iBAIbuB,UAAW,SAAS/mG,EAAUpf,GAC1B,IAAI2wB,GAAU7/B,KAAKmqH,cAAgBnqH,KAAKP,QAAQ49F,aAAe,WAC/D,OAAOx9D,GAAU7/B,KAAKm0H,kBAAkB7lG,EAAUpf,MAAa,GAGnE44G,YAAa,SAAS73F,GAClBjwB,KAAKs1H,cAAgB93H,EAAO,GAAIyyB,IAGpCk6F,WAAY,WACR,IAAKnqH,KAAKs1H,cACNt1H,KAAK8nH,YAAY9nH,KAAK2qB,WAAWsF,UAGrC,OAAQ3yB,EAAM2G,KAAKyhD,MAAMgD,eAAe1oD,KAAK2qB,WAAWsF,SAAUjwB,KAAKs1H,gBAG3Ex7G,QAAS,SAASxX,GACd,IAAI/B,EAAOP,KACX,IAAI+kC,EAASziC,GAAKA,EAAEyiC,OACpB,IAAIwwF,EAAmBh1H,EAAKd,QAAQ81H,iBACpC,IAAIC,EAAezwF,IAAW,aAC9B,IAAIx7B,EAEJhJ,EAAK8B,QAAQq/G,GACbnhH,EAAK2tB,cAAc,WAEnB3tB,EAAKqxH,eAELrxH,EAAK2xH,UAEL3xH,EAAK2oE,MAAM,MAEX,GAAIssD,GAAgBzwF,IAAW,SAAU,CACrCx7B,EAASksH,GAAgBl1H,EAAKgxH,WAAYjvH,EAAE+rB,OAE5C,GAAI9kB,EAAOmsH,QAAQ51H,OACf,GAAI01H,EACAj1H,EAAK8B,QAAQu/G,EAAsB,CAC/BvzF,MAAO9kB,EAAOmsH,eAGlBn1H,EAAK+G,MAAM/G,EAAKmyH,WAAWnpH,EAAOosH,iBAGvC,GAAIp1H,EAAK4pH,cAAgB5pH,EAAKwyH,aAAexyH,EAAK2oH,aAAc,CACnE3oH,EAAK8+B,MAAM,GACX,GAAI9+B,EAAKwyH,YAAa,CAClBxyH,EAAKwyH,YAAc,MACnBxyH,EAAK+wH,iBAAmB/wH,EAAKqzH,cAAcrzH,EAAKixH,QAASjxH,EAAK+wH,wBAE/D,IAAKiE,KAAsBxwF,GAAUA,IAAW,OACnDxkC,EAAK+G,MAAM/G,EAAKixH,SAGpB,GAAIjxH,EAAKozH,eACLpzH,EAAKozH,eAAexhE,UAGxB5xD,EAAK2tB,cAAc,WACnB3tB,EAAK8B,QAAQs/G,IAGjBz4C,MAAO,SAASA,GACZ,GAAIA,IAAU7rE,EACV,OAAO2C,KAAK41H,OAGhB51H,KAAK41H,OAAS1sD,GAGlB2rD,UAAW,WACP,OAAQ70H,KAAK2qB,WAAW2/B,SAAW,IAAIxqD,UAM/C,SAASm6B,EAAK6nC,GACV,OAAOA,EAAKA,EAAKhiE,OAAS,GAG9B,SAAS2tH,GAAkB5tF,GACvB,IAAI1wB,EAAQ0wB,EAAOkoC,cACnB,OAAO54D,GAAS,EAAI0wB,EAAOpgC,QAAQ0P,GAAS,GAGhD,SAASsmH,GAAgBztD,EAAU6tD,GAC/B,IAAIj9D,EAAci9D,EAAa/1H,OAC/B,IAAIg2H,EAAiB9tD,EAASloE,OAC9B,IAAIwuB,EACJ,IAAI2lC,EACJ,IAAIp0D,EAAG2lC,EAEP,IAAIkwF,EAAU,GACd,IAAIC,EAAY,GAEhB,GAAIG,EACA,IAAKj2H,EAAI,EAAGA,EAAIi2H,EAAgBj2H,IAAK,CACjCyuB,EAAW05C,EAASnoE,GACpBo0D,EAAQ,MAER,IAAKzuB,EAAI,EAAGA,EAAIozB,EAAapzB,IACzB,GAAIlX,IAAaunG,EAAarwF,GAAI,CAC9ByuB,EAAQ,KACRyhE,EAAQxzH,KAAK,CAAEiN,MAAOtP,EAAGopC,KAAM3a,IAC/B,MAIR,IAAK2lC,EACD0hE,EAAUzzH,KAAKosB,GAK3B,MAAO,CACHonG,QAASA,EACTC,UAAWA,GAInB,SAAS/N,GAAkB3+F,GACvB,IAAKA,GAAc/rB,EAAE0yB,cAAc3G,GAC/B,OAAO,MAGX,GAAIA,EAAW0wB,UAAY1wB,EAAW0wB,QAAQ75C,OAC1C,OAAO,MAGX,OAAO,KAGX,SAAS0nH,GAAsBv+F,EAAYpI,GACvC,IAAI84B,EACJ,IAAIsa,EAAQ,MAEZ,GAAIhrC,EAAW0wB,QAAS,CACpBA,EAAUz8C,EAAEu7B,KAAKxP,EAAW0wB,QAAS,SAAS1pB,GAC1CgkC,EAAQuzD,GAAsBv3F,EAAQpP,GACtC,GAAIoP,EAAO0pB,QACP,OAAO1pB,EAAO0pB,QAAQ75C,YAEtB,OAAOmwB,EAAOpP,OAASA,IAI/B,IAAKozC,GAAShrC,EAAW0wB,QAAQ75C,SAAW65C,EAAQ75C,OAChDm0D,EAAQ,KAGZhrC,EAAW0wB,QAAUA,EAGzB,OAAOsa,EAOf,OAtFIhtC,EAAG+J,OAAOk1F,IAkFV5oH,EAAMqvB,cAAc0Y,eAAe,OAAQ,WAIxCjoC,OAAOE,QA31Fd,CA61FoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAOA,GAAMD,OAEtF,SAAavtC,QACTA,OAAO,iBAAiB,CAAE,aAAc,oBACzC,WAEH,IAAIC,EAAW,CACXC,GAAI,WACJC,KAAM,WACNC,SAAU,MACVC,YAAa,2FACbotC,QAAS,CAAE,OAAQ,eAGb7sC,EAghEPE,OAAOE,MAAMH,OAhhEHE,OAAb,EACQC,EAAQF,OAAOE,MACfW,EAAUX,EAAMW,QAChBgpB,EAAK3pB,EAAM2pB,GACXH,EAASG,EAAGH,OACZS,EAAOjqB,EAAMiqB,KACbm1B,EAAQp/C,EAAMmc,UACdtI,EAAY7T,EAAMyL,KAAKoI,UACvBypB,EAAat9B,EAAMyL,KAAK6xB,WACxB0/D,EAAah9F,EAAM2pB,GAAGqzE,WACtBy7B,EAAgBz4H,EAAMgS,eACtBtL,EAAW1G,EAAM0G,SACjB4E,EAAatL,EAAMsL,WACnBkM,EAAcxX,EAAMW,QAAQ6W,YAC5BkhH,EAAmBlhH,EAAcA,EAAYD,IAAM,mBAAqB,GACxEohH,EAAejyH,EAAS,2JAA4J,CAAEF,aAAc,QACpMoyH,EAAoBlyH,EAAS,uFAAwF,CAAEF,aAAc,QACrIqyH,EAAyBnyH,EAAS,uEAAwE,CAAEF,aAAc,QAC1HsyH,EAAqBpyH,EAAS,4DAA6D,CAAEF,aAAc,QAC3GiM,EAAazS,EAAMsS,YACnBiZ,EAAK,iBACL83E,EAAQ,QAAU93E,EAClBwtG,EAAa,UAAYxtG,EACzB8vF,EAAK,KACL2d,EAAM,MACNxuG,EAAO,OACPyuG,EAAQ,UACRC,EAAQ,QACRC,EAAU,UACVxsF,EAAS,SACTysF,EAAW,WACXnyD,EAAQ,QACRo8C,EAAQ,gBACR5f,EAAW,mBACX/hB,EAAU,kBACV23C,EAAa,gBACbC,EACAC,EAAQ,cACRC,EAAe,kBACfC,EAAoB,wBAA0Bh2B,EAAW,UAH5C,iBAGqE,IAClFi2B,EAAqB,wBACrBh9B,EAAW,mBACXjZ,EAAO,OAASl4D,EAChB0uF,EAAQ,QACR0f,EAAgB1f,EAAQ1uF,EACxB44F,EAAaxjH,EAAQyc,MAAQ,aAAe,aAC5Cw8G,EAAqBj5H,EAAQyc,MAAQ,aAAemO,EAAK,aAAeA,EACxE24F,GAAavjH,EAAQyc,MAAQ,WAAamO,EAAK,aAAeA,EAAK,aAAeA,EAClF4Q,GAAgB,IAChBC,GAAa,MACby9F,GAAY,aACZC,GAAY,aACZhgB,GAAgB,gBAChBgM,GAAgB,gBAChBrkH,GAAa,aACbvB,GAASN,EAAEM,OACX65H,EAAO1xH,KACP+sB,EAAQ,CACJ7f,MAAO,EACPD,KAAM,EACN0kH,OAAQ,EACRC,QAAS,GAEbC,GAAiB,gCACjBC,GAA0B,kCACtB,oJAAsJ14H,GAAa,+EACnK,6LACA,qJAAuJA,GAAa,8DACxK,SACA24H,GAAyB,2CACrB,oMACA,iCACA,yCACI,6HACI,+DACJ,OACA,qEACA,6HACI,gEACJ,OACJ,UACJ,SAEAC,GAAW7wG,EAAOtpB,OAAO,CACzBiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAAMsH,EAAO9K,EACxBiD,EAAUA,GAAW,GACrBA,EAAQqrB,cAAgBrrB,EAAQqrB,eAAiB,UACjDhE,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCoQ,EAAUtP,EAAKiW,QAAUjW,EAAKsP,QAC9BpQ,EAAUc,EAAKd,QAEfA,EAAQspB,IAAMzrB,EAAM+nB,SAAS5lB,EAAQspB,KAErCxoB,EAAKd,QAAQm4H,aAAeC,GAAgBt3H,EAAKd,QAAQm4H,cAEzDr3H,EAAKmxH,aAELnxH,EAAKu3H,cAELv3H,EAAKsjH,UAELtjH,EAAKw3H,eAEL,GAAIx3H,EAAKd,QAAQu4H,UACbz3H,EAAKwjH,QAAQxjH,EAAK85E,YACf,CACH95E,EAAK03H,OAAS13H,EAAKsP,QAAQkgB,KAAK,iBAChCxvB,EAAKm+G,UAGTliH,EAAKqT,EACAqG,SAAS,wBAA0BzW,EAAQs7B,WAAa,iBAAmB,KAC3E3U,GAAG8wG,EAAqB,IAAM1V,GAAYsV,EAAcoB,IACxD9xG,GAAGiwG,EAAY,kBAAmB91H,EAAKo1C,MAAMp0C,KAAKhB,IAClD6lB,GAAGu6E,EAAQ,YAAam2B,EAAc,SAASx0H,GAC5C,IAAIukF,EAAOvkF,EAAEivC,cAAcwN,WACvBz3C,EAAQ6wH,EAAatxC,GAEzB,GAAIA,EAAK10D,KAAKtlB,QAAQ,OAAS,EAC3BvK,EAAEpB,iBAGN,GAAIX,EAAKwvD,MAAMtzD,MAAQ,SAAW8D,EAAKd,QAAQm4H,aAAatwH,GACxD,OAEJ,GAAI/G,EAAKwvD,MAAMtzD,MAAQ,SAAWgD,EAAQ49F,YAAc,SAChD98F,EAAKu1C,OAAO54C,EAAE2pF,MAGzBzgE,GAAG,UAAYyC,EAAI,6BAA8B,WAC9CtoB,EAAK63H,WAAW73H,EAAKd,QAAQ44H,aAAe,SAE/CliH,KAAKwiG,GAEV,GAAIp4G,EAAKgpE,wBAA0BhpE,EAAKd,QAAQs7B,WAC5ClrB,EAAQuW,GAAGu6E,EAAOq2B,EAAoB,SAAS10H,GACvC,IAAIH,EAAQjF,EAAEoF,EAAEivC,eAAeh3B,QAAQ,MAAMwV,KAAKgnG,GAAmB50H,QACjE83B,EAAO15B,EAAK88F,WAAW5C,YAAcv9F,EAAEoF,EAAEivC,eAAeh3B,QAAQ,MAAMwV,KAAKgnG,GAAmB98F,OAClG15B,EAAK88F,WAAWjC,YAAYj5F,EAAO83B,EAAM,CAAE5e,MAAO/Y,IAClD/B,EAAK4sH,SAAW5sH,EAAKipH,OAAS2O,EAAal+F,EAAKlK,KAAK,MACrDxvB,EAAK+3H,YAAY/3H,EAAK4sH,YAIlC3hF,GAAU/rC,GACV6H,EAAQo1C,EAAMj9C,EAAQ6H,MAAO7H,EAAQoF,OAAQpF,EAAQiJ,SACrDnI,EAAKg4H,aAAe,GAEpBh4H,EAAKi4H,OAAS9lG,EAAMjzB,EAAQ0M,OAE5B5L,EAAK4sH,SAAW,IAAIkK,GAAMoB,GAAcnxH,EAAO7H,EAAQsP,IAAKtP,EAAQyN,MAEpE3M,EAAKm4H,eAAiB,WAClBn4H,EAAKo4H,QAAU,KAEf,GAAIp4H,EAAKq4H,MAAMljH,SAASqrF,GAAW,CAC/B,IAAI83B,EAAct4H,EAAKwvD,MAAM+oE,aAAaC,MAC1Cx4H,EAAKq4H,MAAQr4H,EAAKy4H,YAAYH,GAGlCt4H,EAAKq4H,MAAM1iH,SAAS8oE,IAGxBz+E,EAAK04H,kBAAoB,WACrB14H,EAAKo4H,QAAU,MACf,GAAIp4H,EAAKq4H,MACLr4H,EAAKq4H,MAAMnjH,YAAYupE,IAI/Bz+E,EAAK+G,MAAMA,GAEX,GAAI/G,EAAKgpE,wBAA0B9pE,EAAQy5H,YAAYp5H,OAAS,EAC5DS,EAAK24H,YAAYz5H,EAAQy5H,aAE7B57H,EAAMoxB,OAAOnuB,IAGjBd,QAAS,CACLhD,KAAM,WACN6K,MAAO,KACPyH,IAAK,IAAIsoH,EAAK,KAAM,EAAG,GACvBnqH,IAAK,IAAImqH,EAAK,KAAM,GAAI,IACxB8B,MAAO,GACPvB,aAAc,KACd7uG,IAAK,GACLrgB,QAAS,GACT2xE,OAAS,GACTx1E,OAAS,GACTgO,MAAQ,GACRkoB,WAAY,MACZsiE,WAAY,SACZ67B,YAAa,GACb/sH,MAAOqqH,EACP4C,MAAO5C,EACPxkH,KAAM,SACNm3F,UAAW,CACPl6B,WAAY,CACRjsD,QAASuzG,EACT1nH,QAAS,KACTuU,SAAU,IACV0xD,QAAS,GAEb/F,SAAU,CACN/rD,QAAS,SACTI,SAAU,MAGlBkE,SAAU,CACN+xG,iBAAkB,GAClB39F,MAAO,SAEX5Q,cAAe,WAGnB9oB,OAAQ,CACJioC,EACAysF,GAGJ7rG,eAAgB,CACZyuG,QAAW,CACP3+E,OAAQ,CACJ32C,SAAUyzH,IAEdO,UAAW,KACXuB,cAAe,YACfC,eAAgB,8BAEpBC,OAAU,CACN9+E,OAAQ,CACJ32C,SAAU0zH,IAEdM,UAAW,MACXuB,cAAe,YACfC,eAAgB,kDAIxBluG,WAAY,SAAS7rB,GACjB,IAAIc,EAAOP,KAEXwrC,GAAU/rC,GAEVA,EAAQm4H,aAAeC,GAAgBp4H,EAAQm4H,cAC/Cr3H,EAAKm5H,qBAEL5yG,EAAOnmB,GAAG2qB,WAAW9oB,KAAKjC,EAAMd,GAEhCc,EAAKmxH,aAELnxH,EAAKu3H,cAELv3H,EAAKw3H,eAEL,GAAIx3H,EAAKd,QAAQu4H,UACbz3H,EAAKwjH,QAAQxjH,EAAK85E,YACf,CACH95E,EAAKsP,QAAQkgB,KAAK,aAAaxM,OAC/BhjB,EAAKm+G,UAETn+G,EAAKi4H,OAAS9lG,EAAMnyB,EAAKd,QAAQ0M,OAEjC5L,EAAK8qC,WAEL,GAAI5rC,EAAQs7B,WACRx6B,EAAKsP,QAAQqG,SAAS,kBAI9B+V,QAAS,WACL,IAAI1rB,EAAOP,KACX07B,EAAQn7B,EAAK03H,OAEb13H,EAAKsP,QAAQwjB,IAAIxK,GACjBtoB,EAAKo5H,OAAOtmG,IAAIxK,GAChBtoB,EAAK42H,IAAW9jG,IAAIxK,GACpBtoB,EAAK62H,IAAW/jG,IAAIxK,GACpBtoB,EAAKm5H,qBACLp8H,EAAM2uB,QAAQ1rB,EAAKq5H,QAEnB,GAAIl+F,EACAp+B,EAAM2uB,QAAQyP,EAAMrI,IAAIxK,IAG5B/B,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,IAG3BsI,QAAS,WACL,OAAO7I,KAAKmtH,UAGhBz7F,KAAM,WACF,OAAO1xB,KAAK+vD,OAGhB1wB,MAAO,SAAS7kB,GACZA,EAAQA,GAASxa,KAAK45H,OACtB55H,KAAK65H,WAAWr/G,GAChBA,EAAMnY,QAAQ,UAGlB0M,IAAK,SAASzH,GACV,OAAOtH,KAAK85H,QAAQxD,EAAKhvH,IAG7B4F,IAAK,SAAS5F,GACV,OAAOtH,KAAK85H,QAAQ,MAAOxyH,IAG/ByyH,eAAgB,WACZ/5H,KAAK8sC,UAAUqqF,IAAY,IAG/B6C,iBAAkB,WACdh6H,KAAK8sC,UAAUsqF,GAAW,IAG9B6C,WAAY,WACR,IAAI15H,EAAOP,KACXmP,EAAQ5O,EAAKi4H,OAEb,GAAIj4H,EAAKo5H,OAAOjkH,SAASqrF,GACrB,OAGJxgG,EAAK8qC,SAAS9qC,EAAK4sH,WAAYh+G,IAGnC+qH,aAAc,SAAS5yH,GACnB,IAAI/G,EAAOP,KACXmP,EAAQ5O,EAAKi4H,OACbY,EAAQ74H,EAAKd,QAAQ25H,MAErB,IAAK9xH,EACD,OAGJ,GAAI6H,IAAUujB,EAAM0mG,GAAQ,CACxB,IAAKe,GAAY55H,EAAKipH,OAAQjpH,EAAK4sH,YAAcgN,GAAY55H,EAAKipH,OAAQliH,GAAQ,CAC9E/G,EAAK+G,MAAMA,GACX/G,EAAK8B,QAAQ4nC,GAEjB,OAGJ1pC,EAAK8qC,SAAS/jC,IAAS6H,IAG3Bk8B,SAAU,SAAS/jC,EAAOoqB,GACtBA,EAAO5d,MAAM4d,GAAQgB,EAAMhB,GAAQA,EAEnC,IAAInxB,EAAOP,KACPP,EAAUc,EAAKd,QACfiJ,EAAUjJ,EAAQiJ,QAClBqG,EAAMtP,EAAQsP,IACd7B,EAAMzN,EAAQyN,IACdo+B,EAAQ/qC,EAAKo5H,OACbjhG,EAAOn4B,EAAKq5H,OACZnwD,EAAMlpE,EAAK65H,UACX10F,EAAenlC,EAAK4sH,SACpBkN,EAAS/yH,IAAUA,GAASo+B,EAC5BqpC,EAAWr9C,IAASr0B,GAAaq0B,IAASnxB,EAAKi4H,OAC/C7/F,EAAI2hG,EAAan2E,EACjBjyB,EACAqoG,EAAch6H,EAAKsP,QAAQwxC,SAAS,oBAExC,IAAK/5C,EACDA,EAAQo+B,EAGZnlC,EAAK4sH,SAAW7lH,EAAQ,IAAI+vH,GAAMoB,GAAcnxH,EAAOyH,EAAK7B,IAE5D,GAAIwkB,IAASr0B,EACTq0B,EAAOnxB,EAAKi4H,YAEZj4H,EAAKi4H,OAAS9mG,EAGlBnxB,EAAKwvD,MAAQuqE,EAActxH,EAAS0pB,MAAMhB,GAC1CyyB,EAAUm2E,EAAYn2E,QAEtBjyB,EAAWR,IAASgB,EAAM+jG,GAC1BnrF,EAAMznB,YAAYk9E,EAAU7uE,GAAU/b,KAAKihG,GAAellF,GAE1DA,EAAWiyB,EAAQ78C,EAAOyH,GAAO,EACjCxO,EAAK42H,IAAWtzG,YAAYk9E,EAAU7uE,GAAU/b,KAAKihG,GAAellF,GAEpEA,EAAWiyB,EAAQ78C,EAAO4F,IAAQ,EAClC3M,EAAK62H,IAAWvzG,YAAYk9E,EAAU7uE,GAAU/b,KAAKihG,GAAellF,GAEpE,GAAIwG,GAAQ+wC,GAAOA,EAAIxlE,KAAK,aAAc,CACtCwlE,EAAInlD,UAAU,KAAM,MACpBoU,EAAKpU,UAAU,KAAM,MAGzB/jB,EAAK65H,UAAY1hG,EAEjB,IAAKA,GAAQn4B,EAAKi6H,YAAa,CAC3BlvF,EAAMpnC,KAAKo2H,EAAYhvF,MAAMhkC,EAAOyH,EAAK7B,EAAKxE,IAE9CnI,EAAKq5H,OAASjhG,EAAKz7B,EAAEo9H,EAAYz/E,QAAQr9C,GAAO,CAC5CuR,IAAKA,EACL7B,IAAKA,EACLnE,KAAMzB,EACNyhB,IAAKtpB,EAAQspB,IACbowG,MAAO15H,EAAQ05H,MACft0H,OAAQpF,EAAQoF,OAChB41H,WAAa,KACb/xH,QAASA,EACTkvH,aAAcn4H,EAAQm4H,aACtB8C,oBAAqBj7H,EAAQs7B,WAC7BzT,SAAU7nB,EAAQ6nB,SAClBkyG,eAAgBj5H,EAAKd,QAAQ+5H,gBAC9Bj5H,EAAK+5H,EAAY79H,SAEpBk+H,GAAwBhiG,EAAI2hG,EAAY79H,MACxC,IAAI0D,EAAUu4B,GAAQA,EAAKz0B,KAAK,WAAa00B,EAAG10B,KAAK,SACrD1D,EAAKq6H,SAAS,CACVliG,KAAMA,EACNC,GAAIA,EACJo2C,SAAUA,EACVsrD,OAAQA,EACRl6H,QAASA,IAGbo6H,EAAY9kH,YAAY,yFACxB8kH,EAAYrkH,SAAS,cAAgBokH,EAAY79H,KAAO,QAExD8D,EAAK8B,QAAQq0H,GAEbn2H,EAAK+gG,OAAOh6F,GAGhB,GAAIoqB,IAASgB,EAAMjzB,EAAQ25H,QAAU74H,EAAKg4H,aAAaz4H,OAAS,EAC5DS,EAAKs6H,gCAGT,GAAIt6H,EAAKd,QAAQ49F,aAAe,SAC5B,GAAI3rE,IAASgB,EAAMjzB,EAAQ25H,QAAU74H,EAAKipH,SAAWjpH,EAAKd,QAAQm4H,aAAar3H,EAAKipH,QAChFjpH,EAAKu6H,YAAYv6H,EAAKipH,QAI9BjpH,EAAK+3H,YAAYhxH,GAEjB,IAAKoxB,GAAQn4B,EAAKq4H,MACdr4H,EAAKq4H,MAAMnjH,YAAYupE,GAG3Bz+E,EAAKi6H,YAAc,MAGvBtB,YAAa,SAASC,GAClB,IAAI54H,EAAOP,KACP+6H,EACAC,EAEJ,GAAI7B,IAAU97H,EACV,OAAOkD,EAAKg4H,aAGhByC,EAAc7B,EACTjoH,IAAI,SAAUnI,GAAQ,OAAOA,EAAKyO,YAClCyY,OAAO,SAAUlnB,EAAM4N,EAAUpF,GAC9B,OAAOA,EAAM1E,QAAQ9D,KAAU4N,IAElCzF,IAAI,SAAU+mB,GAAQ,OAAO,IAAItyB,KAAKsyB,KAE3C8iG,EAAqB79H,EAAEu7B,KAAKuiG,EAAa,SAAS1zH,GAC9C,GAAIA,EACA,OAAQ/G,EAAK06H,eAAe,IAAIt1H,KAAK2B,EAAM+J,SAAS,EAAG,EAAG,EAAG,QAAU/J,IAG/E/G,EAAKg4H,aAAewC,EAAmBj7H,OAAS,EAAIi7H,EAAsBC,EAAYl7H,SAAW,EAAIk7H,EAAcz6H,EAAKg4H,aACxHh4H,EAAKs6H,iCAGTvzH,MAAO,SAASA,GACZ,IAAI/G,EAAOP,KACPypE,EAAMlpE,EAAKwvD,MACXr+B,EAAOnxB,EAAKwvD,MAEhB,GAAIzoD,IAAUjK,EACV,OAAOkD,EAAKipH,OAGhBliH,EAAQ/G,EAAK06H,eAAe3zH,GAC5B,GAAIA,GAAS/G,EAAKgpE,uBAAwB,CACtC,IAAIxgE,EAAO,IAAIpD,MAAM2B,GACrByB,EAAKsI,SAAS,EAAG,EAAG,EAAG,GACvB9Q,EAAKg4H,aAAe,CAACxvH,GACrBxI,EAAK88F,WAAW5C,YAAc,KAElC,GAAIhxB,GAAOniE,IAAU,MAAQ/G,EAAKq4H,MAC9Br4H,EAAKq4H,MAAMnjH,YAAYukF,OACpB,CACHz5F,EAAKi6H,aAAelzH,GAASoqB,GAAQA,EAAKyyB,QAAQ78C,EAAO/G,EAAK4sH,YAAc,EAC5E5sH,EAAK8qC,SAAS/jC,KAItB2zH,eAAgB,SAAS3zH,GACrB,IAAI/G,EAAOP,KACPP,EAAUc,EAAKd,QACfsP,EAAMtP,EAAQsP,IACd7B,EAAMzN,EAAQyN,IAElB,GAAI5F,IAAU,KACV/G,EAAK4sH,SAAW+N,EAAW36H,EAAK4sH,SAASrjH,cAAevJ,EAAK4sH,SAAStjH,WAAYtJ,EAAK4sH,SAAS1jH,WAGpGnC,EAAQo1C,EAAMp1C,EAAO7H,EAAQoF,OAAQpF,EAAQiJ,SAE7C,GAAIpB,IAAU,KAAM,CAChBA,EAAQ,IAAI+vH,GAAM/vH,GAElB,IAAK6zH,GAAU7zH,EAAOyH,EAAK7B,GACvB5F,EAAQ,KAIhB,GAAIA,IAAU,OAAS/G,EAAKd,QAAQm4H,aAAa,IAAIjyH,MAAM2B,IACvD/G,EAAKipH,OAASliH,OACX,GAAI/G,EAAKipH,SAAWnsH,EACvBkD,EAAKipH,OAAS,KAGlB,OAAOjpH,EAAKipH,QAGhBqR,8BAA+B,WAC3B,IAAIt6H,EAAOP,KACV,IAAIo7H,EAAgB,GACrBl+H,EAAEO,KAAK8C,EAAKg4H,aAAc,SAASppH,EAAO7H,GACtC8zH,EAAc99H,EAAM0L,SAAS0pB,MAAM,GAAGomG,aAAaxxH,IAAUA,IAEjE/G,EAAK88F,WAAW9wC,QACf,IAAI4T,EAAQ5/D,EAAKq5H,OACb7pG,KAAK+mG,GACL7mG,OAAO,SAAS9gB,EAAOU,GACpB,OAAOurH,EAAcl+H,EAAE2S,EAAQkvC,YAAY5oC,KAAK7Y,EAAM6Y,KAAKouD,OAEnE,GAAIpE,EAAMrgE,OAAS,EACfS,EAAK88F,WAAW1B,eAAex7B,EAAO,OAI9CoJ,qBAAsB,WAClB,IAAIhpE,EAAOP,KACX,OAAOO,EAAKd,QAAQ49F,aAAe,YAGvCy6B,YAAa,WACT,IAAIv3H,EAAOP,KACX,IAAKO,EAAKgpE,uBACN,OAGJ,IAAI8zB,EAAa98F,EAAKd,QAAQ49F,WAC9Bg+B,EAAoB/gC,EAAWrrE,aAAaouE,GAE5C,GAAIg+B,EAAkB3oD,SAClBnyE,EAAKsP,QAAQsG,KAAK,uBAAwB,QAE9C5V,EAAK88F,WAAa,IAAI/C,EAAW/5F,EAAKiW,QAAS,CAC3CumF,KAAM,KAENrC,eAAgB,0IAChBhoB,SAAU2oD,EAAkB3oD,SAC5BziD,OAAQ,uBAAyB8mG,EACjCrrF,OAAQnrC,EAAK+6H,UAAU/5H,KAAKhB,GAC5Bi1B,cAAej1B,EAAKg7H,iBAAiBh6H,KAAKhB,MAIlDg7H,iBAAkB,SAAS57H,GACvB,IAAIY,EAAOP,KAEX,GAAIO,EAAK88F,WAAW59F,QAAQizE,UAAY/yE,EAAOsW,GAAG8gH,GAAoB,CAClEx2H,EAAK4sH,SAAWgL,EAAax4H,EAAOowB,KAAK,MACzCxvB,EAAK+3H,YAAY/3H,EAAK4sH,YAK9BmO,UAAW,SAASh5H,GAChB,IAAI/B,EAAOP,KACPw7H,EAAYl5H,EACZ+4H,EAAoB/gC,EAAWrrE,aAAa1uB,EAAKd,QAAQ49F,YAE7D,IAAKg+B,EAAkB3oD,SAAU,CAC7B,GAAIx1E,EAAEs+H,EAAUngH,MAAMk2B,eAAet7B,GAAG,QAAU/Y,EAAEs+H,EAAUngH,MAAMk2B,eAAe77B,SAAS,oBACxFxY,EAAEs+H,EAAUngH,MAAMk2B,eAAer7B,SAAS,yBAG1C3V,EAAKu1C,OAAO54C,EAAEs+H,EAAUngH,MAAMk2B,eAAexhB,KAAK,MAEtD,OAGJ,GAAIyrG,EAAUngH,MAAM+3E,SAAWooC,EAAUngH,MAAMy/E,QAC3C,GAAI59F,EAAEs+H,EAAUngH,MAAMk2B,eAAet7B,GAAG8gH,GACpCx2H,EAAKk7H,iBAAiBv+H,EAAEs+H,EAAUngH,MAAMk2B,oBAEvC,CACDhxC,EAAKm7H,iBAAiB3E,GAAmBt5H,KAAK,SAAS0R,EAAOU,GAC1D,IAAIvI,EAAQ6wH,EAAaj7H,EAAE2S,GAASkgB,KAAK,MACzCxvB,EAAKgzH,UAAUjsH,KAEnB/G,EAAKo7H,gCAGR,GAAIH,EAAUngH,MAAMgmB,SACrB9gC,EAAKq7H,gBAAgBr7H,EAAKq4H,YAEzB,GAAI17H,EAAEs+H,EAAUngH,MAAMk2B,eAAet7B,GAAG6gH,GACzCv2H,EAAK+G,MAAM6wH,EAAaj7H,EAAEs+H,EAAUngH,MAAMk2B,eAAexhB,KAAK,WAE7D,CACDxvB,EAAKg4H,aAAe,GACpBh4H,EAAKo7H,2BAERp7H,EAAK8B,QAAQ4nC,IAGlByvF,mBAAoB,WAChB,IAAIn5H,EAAOP,KAEX,GAAIO,EAAK88F,WAAY,CACjB98F,EAAK88F,WAAWpxE,UAChB1rB,EAAK88F,WAAa,OAK1Bo+B,iBAAkB,SAASI,GACvB,IAAIt7H,EAAOP,KACP+I,EAAOovH,EAAa0D,EAAY9rG,KAAK,MACrC,GAAI8rG,EAAYnmH,SAAS,oBACrBnV,EAAKg4H,aAAar2H,KAAK6G,QAGvBxI,EAAKgzH,UAAUxqH,IAK3B6yH,gBAAiB,SAASE,EAAYtjD,GAClC,IAAIj4E,EAAOP,KACP+7H,EAAYvjD,GAAa2/C,EAAa53H,EAAK88F,WAAW/1F,QAAQnF,QAAQ4tB,KAAK,MAC3EisG,EAAS7D,EAAa2D,EAAW/rG,KAAK,MACtCksG,EAEJ,GAAI17H,EAAK88F,WAAW5C,aAAel6F,EAAKipH,OACpCuS,EAAWx7H,EAAK88F,WAAW5C,YAAa09B,EAAa53H,EAAK88F,WAAW5C,YAAY1qE,KAAK,MAAO,IAAIpqB,MAAMpF,EAAKipH,aAE5GjpH,EAAK88F,WAAW5C,YAAcjiB,EAAWj4E,EAAKy4H,YAAYz4H,EAAKwvD,MAAM+oE,aAAatgD,GAAYu+C,GAAoBx2H,EAAK88F,WAAW/1F,QAAQnF,QAG9I5B,EAAKg4H,aAAe,GACpB0D,EAAiBC,GAAoBH,EAAUC,GAC/CG,GAAe57H,EAAKg4H,aAAc0D,EAAgBF,EAAUx7H,EAAKd,QAAQm4H,cAEzEr3H,EAAKs6H,iCAGTa,iBAAkB,SAASr6G,GACvB,IAAI9gB,EAAOP,KACX,OAAOO,EAAKq5H,OAAO7pG,KAAK1O,IAG5Bs6G,yBAA0B,WACtB,IAAIp7H,EAAOP,KACXO,EAAK88F,WAAW/1F,QAAQ7J,KAAK,SAAS0R,EAAO85B,GACzC,IAAIlgC,EAAOovH,EAAaj7H,EAAE+rC,EAAK8V,aAC/B,IAAKx+C,EAAKd,QAAQm4H,aAAa7uH,GAC3BxI,EAAKg4H,aAAar2H,KAAK6G,MAKlCwqH,UAAW,SAASxqH,GACjB,IAAIxI,EAAOP,KACV,IAAIo8H,EAAmB77H,EAAKg4H,aAAarnH,IAAI5K,QAAQuG,SAAS9D,GAC/D,GAAIqzH,IAAqB,EACrB77H,EAAKg4H,aAAa91H,OAAO25H,EAAkB,IAInDC,YAAa,SAAStzH,GAClB,IAAIxI,EAAOP,KACPs8H,EAAkBnE,EAAa53H,EAAKm7H,iBAAiB3E,GAAmB50H,QAAQ4tB,KAAK,MACrFwsG,EAAiBpE,EAAa53H,EAAKm7H,iBAAiB3E,GAAmB98F,OAAOlK,KAAK,MAEvF,OAAQhnB,IAASwzH,IAAmBxzH,IAASuzH,GAGjDE,eAAgB,SAAS92F,EAAc+2F,GACnC,IAAIl8H,EAAOP,KACX,IAAI08H,EAAan8H,EAAKd,QAAQm4H,aAC9B,IAAIx3D,EACJ,IAAIjxD,EAEJ,GAAI5O,EAAKwvD,MAAMtzD,MAAQ,QACnB,OAAQigI,EAAWh3F,OAChB,CACHv2B,EAAQ5O,EAAKiW,QAAQuZ,KAAK,IAAIivD,GAAS7vE,QACvCixD,EAAO7/D,EAAKiW,QAAQuZ,KAAK,iBAAiB+B,GAAG3iB,EAAQstH,GACrD,OAAOr8D,EAAKnqD,GAAG8gH,KAAuB2F,EAAWh3F,KAIzDiQ,MAAO,SAASrzC,GACZ,IAAI/B,EAAOP,KACPP,EAAUc,EAAKd,QACfuH,EAAM1E,EAAE8+B,QACR1P,EAAOnxB,EAAKwvD,MACZ5gD,EAAQ5O,EAAKi4H,OACbzpH,EAAMxO,EAAKd,QAAQsP,IACnB7B,EAAM3M,EAAKd,QAAQyN,IACnBw4B,EAAe,IAAI2xF,GAAM92H,EAAK4sH,UAC9B9zG,EAAQ/b,EAAMW,QAAQob,MAAM9Y,EAAKiW,SACjCkmH,EAAan8H,EAAKd,QAAQm4H,aAC1BtwH,EAAOq1H,EAASvrG,EAAQsoC,EAE5B,GAAIp3D,EAAE3C,SAAWY,EAAKq5H,OAAO,GACzBr5H,EAAKo4H,QAAU,KAGnB,GAAI3xH,GAAOugB,EAAKS,QAAU3O,GAASrS,GAAOugB,EAAKO,MAAQzO,EAAO,CAC1D/R,EAAQ,EACRq1H,EAAU,UACP,GAAI31H,GAAOugB,EAAKO,OAASzO,GAASrS,GAAOugB,EAAKS,OAAS3O,EAAO,CACjE/R,GAAS,EACTq1H,EAAU,UACP,GAAI31H,GAAOugB,EAAKQ,GAAI,CACvBzgB,EAAQ6H,IAAU,GAAK,GAAK,EAC5BwtH,EAAU,UACP,GAAI31H,GAAOugB,EAAKU,KAAM,CACzB3gB,EAAQ6H,IAAU,EAAI,EAAI,EAC1BwtH,EAAU,UAET,GAAI31H,GAAOugB,EAAKa,SAAU,CAC3B9gB,EAAQ,EACRq1H,EAAU,UAET,GAAI31H,GAAOugB,EAAKY,MAAQnhB,GAAOugB,EAAKW,IAAK,CAC1CkJ,EAASpqB,GAAOugB,EAAKY,KAAO,QAAU,OACtCuxC,EAAOhoC,EAAKN,GAAQsU,GACpBA,EAAe,IAAI2xF,EAAK39D,EAAK5vD,cAAe4vD,EAAK7vD,WAAY6vD,EAAKjwD,UAAWi8B,EAAa37B,WAAY27B,EAAa17B,aAAc07B,EAAaz7B,aAAcy7B,EAAax7B,mBACzKw7B,EAAa3xB,YAAY2lD,EAAK5vD,eAC9B6yH,EAAU,KAGd,GAAIr6H,EAAE8wF,SAAW9wF,EAAEw4F,SACf,GAAI9zF,GAAOugB,EAAKS,QAAU3O,GAASrS,GAAOugB,EAAKO,MAAQzO,EAAO,CAC1D9Y,EAAKy5H,mBACL2C,EAAU,UACP,GAAI31H,GAAOugB,EAAKO,OAASzO,GAASrS,GAAOugB,EAAKS,OAAS3O,EAAO,CACjE9Y,EAAKw5H,iBACL4C,EAAU,UACP,GAAI31H,GAAOugB,EAAKQ,GAAI,CACvBxnB,EAAK05H,aACL0C,EAAU,UACP,GAAI31H,GAAOugB,EAAKU,KAAM,CACzB1nB,EAAKu1C,OAAO54C,EAAEqD,EAAKq4H,MAAM,GAAG75E,aAC5B49E,EAAU,UAEP,IAAK31H,GAAOugB,EAAKK,OAAS5gB,GAAOugB,EAAKa,WAAa7nB,EAAKgpE,uBAAwB,CACnFhpE,EAAKq8H,yBAAyBt6H,GAE9B,IAAIu6H,EAAc1E,EAAaj7H,EAAEqD,EAAKq4H,MAAM,IAAI7oG,KAAK,MACrDxvB,EAAK+3H,YAAYuE,SAGlB,GAAIv6H,EAAE++B,UACT,GAAI/5B,IAAUjK,GAAa+zB,EAAQ,CAC/B,IAAKA,EACDM,EAAKmI,QAAQ6L,EAAcp+B,GAG/B,IAAK6zH,GAAUz1F,EAAc32B,EAAK7B,GAC9Bw4B,EAAe+yF,GAAc/yF,EAAcjmC,EAAQsP,IAAKtP,EAAQyN,KAGpE,GAAIwvH,EAAWh3F,GACXA,EAAenlC,EAAKu8H,iBAAiBp3F,EAAcp+B,GAGvDyH,EAAMmsH,EAAWnsH,EAAIjF,cAAeiF,EAAIlF,WAAYkF,EAAItF,WACxD,GAAIlJ,EAAKgpE,uBACLhpE,EAAKw8H,wBAAwBz6H,EAAGojC,QAGhCnlC,EAAK+gG,OAAO57D,QAGjB,CACH,GAAI1+B,GAAOugB,EAAKK,OAAS5gB,GAAOugB,EAAKa,SAAU,CAC3C,GAAIsJ,EAAKj1B,MAAQ,SAAW8D,EAAKgpE,uBAAwB,CACrDhpE,EAAK+G,MAAM6wH,EAAaj7H,EAAEqD,EAAKq4H,MAAM7oG,KAAK,QAC1CxvB,EAAK88F,WAAW5C,YAAcv9F,EAAEqD,EAAKq4H,MAAM,IAC3Cr4H,EAAK8B,QAAQ4nC,QAGb1pC,EAAKu1C,OAAO54C,EAAEqD,EAAKq4H,MAAM,GAAG75E,aAEhC49E,EAAU,UACP,GAAI31H,GAAOugB,EAAKc,OAAQ,CAC3Bs0G,EAAU,KACVp8H,EAAKw5H,sBACF,GAAI/yH,GAAOugB,EAAKe,SAAU,CAC7Bq0G,EAAU,KACVp8H,EAAKy5H,mBAGT,GAAI1yH,GAAS8pB,EAAQ,CACjB,IAAKA,EACDM,EAAKmI,QAAQ6L,EAAcp+B,GAG/ByH,EAAMmsH,EAAWnsH,EAAIjF,cAAeiF,EAAIlF,WAAYkF,EAAItF,WAExD,IAAK0xH,GAAUz1F,EAAc32B,EAAK7B,GAC9Bw4B,EAAe+yF,GAAc/yF,EAAcjmC,EAAQsP,IAAKtP,EAAQyN,KAGpE,IAAK3M,EAAKi8H,eAAe92F,EAAcp+B,GACnCo+B,EAAenlC,EAAKu8H,iBAAiBp3F,EAAcp+B,GAGvD,GAAI/G,EAAKgpE,uBACL,IAAKhpE,EAAK87H,YAAY32F,GAClBnlC,EAAK8qC,SAAS3F,OAEb,CACDnlC,EAAK4sH,SAAWznF,EAChBnlC,EAAK+3H,YAAY5yF,QAIrBnlC,EAAK+gG,OAAO57D,IAKxB,GAAIi3F,EACAr6H,EAAEpB,iBAGN,OAAOX,EAAK4sH,UAGhB4P,wBAAyB,SAAS1hH,EAAOqqB,GACrC,IAAInlC,EAAOP,KACP+7H,EACAE,EAEJ,IAAK17H,EAAK87H,YAAY32F,GAAe,CACjCnlC,EAAKg4H,aAAe,GAEpBwD,EAAWx7H,EAAK88F,WAAW5C,YAAa09B,EAAa53H,EAAK88F,WAAW5C,YAAY1qE,KAAK,MAAO2V,EAC7Fu2F,EAAiBC,GAAoBH,EAAU,IAAIp2H,MAAM+/B,IAEzDy2F,GAAe57H,EAAKg4H,aAAc0D,EAAgBF,EAAUx7H,EAAKd,QAAQm4H,cAEzEr3H,EAAK8qC,SAAS3F,GACdnlC,EAAK4sH,SAAWznF,EAChBnlC,EAAK88F,WAAW5C,YAAcl6F,EAAK88F,WAAW5C,aAAel6F,EAAKy4H,YAAYz4H,EAAKwvD,MAAM+oE,aAAapzF,GAAeqxF,GACrHx2H,EAAK8B,QAAQ4nC,GACb,OAEJ1pC,EAAK88F,WAAW59F,QAAQwwB,OAAS1vB,EAAKiW,QAAQuZ,KAAK,SAASjwB,OAAS,IAAM4lC,GAAgBnlC,EAAK4sH,SAAU,uBAAyB4J,EAAmB,uBAAyBA,EAC/Kx2H,EAAK+3H,YAAY5yF,GACjBnlC,EAAK4sH,SAAWznF,EAEhBnlC,EAAKq7H,gBAAgBr7H,EAAKy4H,YAAYz4H,EAAKwvD,MAAM+oE,aAAapzF,GAAeqxF,GAAoBrxF,GAEjGnlC,EAAK8B,QAAQ4nC,GAEb1pC,EAAK88F,WAAW59F,QAAQwwB,OAAS,uBAAyB8mG,GAG9D6F,yBAA0B,SAASvhH,GAC/B,IAAI9a,EAAOP,KAEXqb,EAAMk2B,cAAgBhxC,EAAKq4H,MAAM,GACjCr4H,EAAK88F,WAAW5C,YAAcv9F,EAAEqD,EAAKq4H,MAAM,IAE3C,GAAI17H,EAAEqD,EAAKq4H,MAAM,IAAIljH,SAASskF,GAAW,CACrCz5F,EAAK88F,WAAW/B,UAAUp+F,EAAEqD,EAAKq4H,MAAM,KACvCr4H,EAAK88F,WAAWh7F,QAAQ4nC,EAAQ,CAAE5uB,MAAOA,SAGzC9a,EAAK88F,WAAW/1F,MAAMpK,EAAEqD,EAAKq4H,MAAM,IAAK,CAAEv9G,MAAOA,KAIzDyhH,iBAAkB,SAASp3F,EAAcp+B,GACrC,IAAI/G,EAAOP,KACXkyB,EAAW,KACXR,EAAOnxB,EAAKwvD,MACZhhD,EAAMxO,EAAKd,QAAQsP,IACnB7B,EAAM3M,EAAKd,QAAQyN,IACnBwvH,EAAan8H,EAAKd,QAAQm4H,aAC1BoF,EAAkB,IAAIr3H,KAAK+/B,EAAaluB,WAExCka,EAAKmI,QAAQmjG,GAAkB11H,GAE/B,MAAO4qB,EAAU,CACbR,EAAKmI,QAAQ6L,EAAcp+B,GAE3B,IAAK6zH,GAAUz1F,EAAc32B,EAAK7B,GAAM,CACpCw4B,EAAes3F,EACf,MAEJ9qG,EAAWwqG,EAAWh3F,GAE1B,OAAOA,GAGXk1F,SAAU,SAASn7H,GACf,IAAIc,EAAOP,KACX,IAAI04B,EAAOj5B,EAAQi5B,KACnB,IAAIC,EAAKl5B,EAAQk5B,GACjB,IAAIskG,EAAS18H,EAAKo4H,QAClB,IAAI4B,EAAch6H,EAAKsP,QAAQwxC,SAAS,oBAExC,IAAK3oB,EAAM,CACP6hG,EAAYx5D,OAAOpoC,GACnBp4B,EAAKs5H,WAAWlhG,QACb,GAAID,EAAKnjB,SAAStR,KAAK,aAAc,CACxCy0B,EAAKrF,IAAIxK,GACT6P,EAAKnjB,SAAS+O,UAAU,KAAM,MAAMyM,SACpC2H,EAAK3H,SAELwpG,EAAYx5D,OAAOpoC,GACnBp4B,EAAK63H,WAAW6E,QACb,IAAKvkG,EAAKziB,GAAG,aAAe1V,EAAKd,QAAQ0pG,YAAc,OAAS1pG,EAAQU,QAAS,CACpFw4B,EAAG0sD,YAAY3sD,GACfA,EAAKrF,IAAIxK,GAAIkI,SAEbxwB,EAAK63H,WAAW6E,QAEhB18H,EAAKd,EAAQsvE,SAAW,YAAc,eAAer2C,EAAMC,EAAIl5B,EAAQ46H,SAI/E6C,YAAa,SAASxkG,EAAMC,EAAI0hG,GAC5B,IAAI95H,EAAOP,KACPi9H,EAAS18H,EAAKo4H,QACd1pD,EAAa1uE,EAAKd,QAAQ0pG,UAAUl6B,WACpCjsD,EAAUisD,EAAWjsD,QACrBm6G,EAAYptH,EAAW2oB,GAE3B,GAAI1V,GAAWA,EAAQnW,QAAQ0pH,KAAW,EAAG,CACzC79F,EAAK3U,IAAI4U,GAAI9jB,IAAI,CAAEc,MAAOwnH,IAE1BzkG,EAAKtjB,KAAK,UAEV7U,EAAK63H,WAAW6E,EAAQvkG,GAExBA,EAAKnjB,SACJV,IAAI,CACD8B,SAAU,WACVhB,MAAOwnH,EAAY,EACnBC,MAASt1G,EACTu1G,cAAehD,EAAS,GAAK8C,IAGjCxkG,EAAG0hG,EAAS,cAAgB,gBAAgB3hG,GAE5Cl7B,GAAOyxE,EAAY,CACfjsD,QAASuzG,EAAQ,KAAO8D,EAAS,QAAUvyG,GAC3CzE,SAAU,WACNqV,EAAKrF,IAAIxK,GAAIkI,SACbxwB,EAAK65H,UAAY,KAEjBzhG,EAAG2kG,SAEH/8H,EAAK63H,WAAW6E,MAKxBvkG,EAAKnjB,SAAS+O,UAAU,KAAM,MAAMI,aAAauqD,KAIzDsuD,UAAW,SAAS7kG,EAAMC,GACtB,IAAIp4B,EAAOP,KACP+uE,EAAWxuE,EAAKd,QAAQ0pG,UAAUp6B,SAClC/rD,EAAU+rD,EAAS/rD,QACnBi6G,EAAS18H,EAAKo4H,QACdv4D,EAAMzpD,EAEV,GAAIqM,GAAWA,EAAQnW,QAAQ,UAAY,EAAG,CAC1C8rB,EAAGivC,aAAalvC,GAEhBA,EAAK7jB,IAAI,CACL8B,SAAU,WACVhB,MAAOgjB,EAAGhjB,UAGd,GAAIqgH,EAAkB,CAClB51D,EAAO7/D,EAAKy4H,YAAYz4H,EAAKwvD,MAAM+oE,aAAav4H,EAAK4sH,WACrDx2G,EAAWypD,EAAKzpD,WAChBA,EAAYA,EAAS1B,KAAO5F,SAAS+wD,EAAKzqD,QAAU,EAAG,IAAO,KAAO,KAAOgB,EAASoJ,IAAM1Q,SAAS+wD,EAAKvqD,SAAW,EAAG,IAAM,MAC7H8iB,EAAG9jB,IAAImhH,EAAkBr/G,GAG7B+hB,EAAKpU,UAAU,KAAM,MAAMI,aAAa,CACpC1B,QAAS,UACTI,SAAU,IACVC,SAAU,WACNqV,EAAKrF,IAAIxK,GAAIkI,SACbxwB,EAAK65H,UAAY,KAEjB75H,EAAK63H,WAAW6E,MAIxBtkG,EAAGrU,UAAU,KAAM,MAAMI,aAAaqqD,KAI9CiqD,YAAa,SAAS1xH,EAAO+Z,GACzB,OAAOrhB,KAAK45H,OAAO7pG,KAAK1O,EAAWA,EAAW,WAAas1G,EAAa,KACvE1mG,OAAO,WACJ,OAAO/yB,EAAE8C,KAAK++C,YAAY5oC,KAAK7Y,EAAM6Y,KAAKouD,MAAYj9D,KAI9DwzH,YAAa,SAAU/xH,GACnB,IAAIxI,EAAOP,KACPogE,EAAO7/D,EAAKi9H,cACZl2H,EAAQ/G,EAAKwvD,MAAM+oE,aAAa/vH,GAEhC,GAAIq3D,GAAQA,EAAK,GAAI,CACjBA,EAAK,GAAGl+B,gBAAgBkhF,IACxBhjD,EAAK3qD,YAAYukF,GAGrB55B,EAAO7/D,EAAKy4H,YAAY1xH,EAAO/G,EAAKd,QAAQ49F,YAAc,WAAay5B,EAAc,WAAaH,EAAa,KAE/Gp2H,EAAKi9H,cAAgBp9D,EACrBA,EAAKlqD,SAAS8jF,GACT7jF,KAAKitG,GAAe,OAGjCkV,YAAa,SAAUvvH,GACnB,IAAIxI,EAAOP,KACPxD,EAAKc,EAAMksB,OACX42C,EAAO7/D,EAAKq4H,MACZtxH,EAAQ/G,EAAKwvD,MAAM+oE,aAAa/vH,GAEhC,GAAIq3D,GAAQA,EAAK,GAAI,CACjBA,EAAK3qD,YAAYupE,GACjB5e,EAAK,GAAGl+B,gBAAgBnjC,IACxBqhE,EAAK,GAAGl+B,gBAAgBy2E,GAG5Bv4C,EAAO7/D,EAAKy4H,YAAY1xH,EAAO/G,EAAKd,QAAQ49F,YAAc,WAAay5B,EAAc,WAAaH,EAAa,KAE/Gp2H,EAAKq4H,MAAQx4D,EAEbA,EAAKjqD,KAAKwiG,EAAIn8G,GACT0Z,SAAS8oE,GAEd,GAAIz+E,EAAKq5H,OAAO,GAAI,CAChBr5H,EAAKq5H,OAAO,GAAG13F,gBAAgB,yBAC/B3hC,EAAKq5H,OAAOzjH,KAAK,wBAAyB3Z,KAItDq9H,WAAY,SAAUr/G,GAClBA,EACC4L,GAAG6wG,EAAej3H,KAAK04H,gBACvBtyG,GAAG26D,EAAM/gF,KAAKi5H,oBAGnBnjF,OAAQ,SAAS+wC,GACb,IAAItmF,EAAOP,KACXP,EAAUc,EAAKd,QACfimC,EAAe,IAAI//B,MAAMpF,EAAK4sH,UAC9B7lH,EAAQ6wH,EAAatxC,GAErB11E,EAAU7J,EAAO,GAEjB,GAAI/G,EAAKwvD,MAAMtzD,MAAQ,SAAW8D,EAAKd,QAAQm4H,aAAatwH,GACxDA,EAAQ/G,EAAKipH,OAGjBjpH,EAAKwvD,MAAMl2B,QAAQ6L,EAAcp+B,GAEjC/G,EAAK25H,aAAazB,GAAc/yF,EAAcjmC,EAAQsP,IAAKtP,EAAQyN,OAGvEo0F,OAAQ,SAASh6F,GACb,IAAI/G,EAAOP,KACX0xB,EAAOnxB,EAAKwvD,MAEZ,GAAIr+B,EAAKyyB,QAAQ78C,EAAO/G,EAAK4sH,YAAc,EACvC5sH,EAAK8qC,SAAS/jC,OACX,CACH/G,EAAK4sH,SAAW7lH,EAChB/G,EAAK+3H,YAAYhxH,KAIzB8wH,WAAY,SAAS6E,EAAQziH,GACzB,GAAIyiH,EACAj9H,KAAKq/B,MAAM7kB,IAInBu9G,aAAc,WACV,IAAIx3H,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QACnB,IAAI0qH,EAAc1qH,EAAQwxC,SAAS,oBAEnC,IAAKk5E,EAAY,GACbA,EAAcr9H,EAAE,mCAAmCmoF,YAAYx1E,EAAQkgB,KAAKynG,MAIpFzT,QAAS,SAAS//G,GACd,IAAIzD,EAAOP,KACX07B,EAAQq9F,KACRlpH,EAAUtP,EAAKsP,QACfwqE,EAASxqE,EAAQkgB,KAAK,aAEtB,IAAK/rB,EAAU,CACXzD,EAAKm+G,QAAQ,OACbrkC,EAAO92D,OACP,OAGJ,IAAK82D,EAAO,GACRA,EAASn9E,EAAE,2EAA2EgoC,SAASr1B,GAGnGtP,EAAK03H,OAAS59C,EAAO5H,OAChB1iD,KAAK,WACL7rB,KAAKF,EAAS03B,IACdvlB,KAAK,QAAS7Y,EAAMoI,SAASg2B,EAAO,IAAKn7B,EAAKd,QAAQiJ,UAE3DnI,EAAKm+G,WAGTmF,QAAS,WACL,IAAItjH,EAAOP,KACX6P,EAAUtP,EAAKsP,QACf0pH,EAAgBh5H,EAAKd,QAAQ85H,cAE7B,IAAK1pH,EAAQkgB,KAAKynG,IAAgB,GAC9B3nH,EAAQ3L,KAAK5G,EAAM0G,SAASzD,EAAKd,QAAQk7C,OAAO32C,SAAnC1G,CAA6CJ,EAAEM,OAAO,KAAK,GAAI+C,EAAKd,QAAS,CAACg+H,WAAYngI,EAAM6Y,KAAK,UAAWnE,KAAM1U,EAAM8oC,iBAAiB,YAAa,OAAQ7lC,EAAKd,QAAQuS,UAGhMnC,EAAQkgB,KAAKwpG,GACRnzG,GAAGu6E,EAAQ,YAAc93E,EAAI,WAAa,OAAO,QAEtDtoB,EAAKo5H,OAAS9pH,EAAQkgB,KAAK,IAAMzyB,EAAM6Y,KAAK,UAAY,cAAciQ,GAAGu6E,EAAQ,YAAc93E,EAAI,WAC/FtoB,EAAKo4H,QAAUp4H,EAAKd,QAAQ44H,aAAe,MAC3C93H,EAAK05H,eAET15H,EAAK42H,IAAatnH,EAAQkgB,KAAK,IAAMzyB,EAAM6Y,KAAK,UAAY,YAAYiQ,GAAGu6E,EAAQ,YAAc93E,EAAI,WACjGtoB,EAAKo4H,QAAUp4H,EAAKd,QAAQ44H,aAAe,MAC3C93H,EAAKw5H,mBAETx5H,EAAK62H,IAAavnH,EAAQkgB,KAAK,IAAMzyB,EAAM6Y,KAAK,UAAY,YAAYiQ,GAAGu6E,EAAQ,YAAc93E,EAAI,WACjGtoB,EAAKo4H,QAAUp4H,EAAKd,QAAQ44H,aAAe,MAC3C93H,EAAKy5H,qBAETnqH,EAAQkgB,KAAK,IAAMzyB,EAAM6Y,KAAK,UAAY,aAAaiQ,GAAGu6E,EAAQ,YAAc93E,EAAItoB,EAAKm9H,YAAYn8H,KAAKhB,KAI9GusC,UAAW,SAAS2mE,EAAOzkC,GACvB,IAAIzuE,EAAOP,KACXmP,EAAQ5O,EAAKi4H,OAAS,EACtB9yF,EAAe,IAAI2xF,GAAM92H,EAAK4sH,UAE9B,GAAI5sH,EAAKgpE,uBAAwB,CAC7B,IAAIo0D,EAAuBp9H,EAAKq5H,OAAO7pG,KAAK,+CAA+C+oE,IAAI,WAAW32F,QAC1GujC,EAAeyyF,EAAawF,EAAqB5tG,KAAK,MACtDxvB,EAAK4sH,SAAW,IAAIxnH,MAAM+/B,GAG9B+tE,EAAQlzG,EAAKkzG,GAEb,IAAKA,EAAM/9F,SAASqrF,GAAW,CAC3B,GAAI5xF,EAAQ,EACRu2B,EAAa3xB,YAAY2xB,EAAa57B,cAAgB,IAAMklE,QAE5DhmE,EAAS0pB,MAAMvjB,GAAO0qB,QAAQ6L,EAAcspC,GAGhDzuE,EAAK8qC,SAAS3F,KAItBo0F,QAAS,SAAS/qG,EAAQznB,GACtB,IAAI/G,EAAOP,KACPP,EAAUc,EAAKd,QACfimC,EAAenlC,EAAKipH,QAAUjpH,EAAK4sH,SACnCyQ,EAEJ,GAAIt2H,IAAUjK,EACV,OAAOoC,EAAQsvB,GAGnBznB,EAAQo1C,EAAMp1C,EAAO7H,EAAQoF,OAAQpF,EAAQiJ,SAE7C,IAAKpB,EACD,OAGJ7H,EAAQsvB,GAAU,IAAIsoG,GAAM/vH,GAE5B,GAAIynB,IAAWunG,EACXsH,EAAWt2H,EAAQo+B,OAEnBk4F,EAAWl4F,EAAep+B,EAG9B,GAAIs2H,GAAYC,GAAan4F,EAAcp+B,GAAQ,CAC/C,GAAIs2H,EACAr9H,EAAKipH,OAAS,KAElBjpH,EAAKi6H,YAAc,KAGvB,IAAKj6H,EAAKi6H,YACNj6H,EAAKi6H,eAAiB/6H,EAAQoT,MAAMgoC,SAAWp7C,EAAQoT,MAAM8uC,OAGjEphD,EAAK8qC,SAAS9qC,EAAKipH,QAEnBjpH,EAAKm+G,WAGTA,QAAS,SAAS55F,GACd,IAAIvkB,EAAOP,KACPP,EAAUc,EAAKd,QACfq+H,EAAkBv9H,EAAKd,QAAQm4H,aAAamB,MAC5ClyC,EAAOtmF,EAAK03H,OACZ8F,EAAax9H,EAAKy9H,cAEtB,GAAIl5G,IAAWznB,EACXynB,EAASq2G,GAAUpC,KAAYt5H,EAAQsP,IAAKtP,EAAQyN,KAGxD,GAAI25E,EAAM,CACNA,EAAKxzD,IAAIstE,GAET,GAAI77E,IAAWg5G,EACXj3C,EAAK3wE,SAAS6nH,GACbtoH,YAAYsrF,GACZ36E,GAAGu6E,EAAOpgG,EAAKm9H,YAAYn8H,KAAKhB,SAEjCsmF,EAAKpxE,YAAYsoH,GAChB7nH,SAAS6qF,GACT36E,GAAGu6E,EAAOg8B,MAKvBqB,YAAa,WACT,OAAOnH,GAGX6G,YAAa,SAASp7H,GAClB,IAAI/B,EAAOP,KACXo5H,EAAQ1mG,EAAMnyB,EAAKd,QAAQ25H,OAC3BlnG,EAAW3xB,EAAKd,QAAQm4H,aACxBl8F,EAAQq9F,KAERz2H,EAAEpB,iBAEF,GAAIgxB,EAASwJ,GACT,OAGJ,GAAIn7B,EAAKwvD,MAAM5L,QAAQ5jD,EAAK4sH,SAAUzxF,KAAW,GAAKn7B,EAAKi4H,QAAUY,EACjE74H,EAAKi6H,YAAc,MAGvB,GAAIj6H,EAAKgpE,uBAAwB,CAC7BhpE,EAAKg4H,aAAe,CAAC78F,GACrBn7B,EAAK88F,WAAW5C,YAAc,KAGlCl6F,EAAKipH,OAAS9tF,EACdn7B,EAAK8qC,SAAS3P,EAAO09F,GAErB74H,EAAK8B,QAAQ4nC,IAGjBynF,WAAY,WACR,IAAInxH,EAAOP,KACPP,EAAUc,EAAKd,QACf46E,EAAS56E,EAAQ46E,OACjBxnE,EAAQpT,EAAQoT,MAChBgoC,EAAUhoC,EAAMgoC,QAChB9f,EAAaloB,EAAMkoB,WACnB4mB,EAAQ9uC,EAAM8uC,MACduiE,EAAiB,+BAAiCzkH,EAAQiJ,QAAS,OAEvEnI,EAAKsS,MAAQ,CACTgoC,QAAS72C,EAAS,oHAAsH1G,EAAM6Y,KAAKouD,GAAS,gDAAkD1pB,GAAW,iBAAmB,YAAa,CAAE/2C,eAAgB+2C,IAC3Q8G,MAAO39C,EAAS,wBAA0B29C,GAAS,UAAY,QAAS,CAAE79C,eAAgB69C,IAC1F5mB,WAAY/2B,EAAS,sBAAwB+2B,GAAc,wBAA0B,QAAS,CAAEj3B,eAAgBi3B,KAGpH,GAAIs/C,GAAUA,IAAW,KACrB6pC,EAAiB7pC,EAGrB95E,EAAK85E,OAASA,IAAW,MAAQr2E,EAASkgH,EAAgB,CAAEpgH,aAAc,QAAW,MAGzFsjG,YAAa,SAAU62B,EAAcl1H,GACjC,IAAIxI,EAAOP,KACX,IAAIogE,EAAO7/D,EAAKq4H,MAChB,IAAIsF,EAAY39H,EAAKmxB,OAAOwsG,YAC5B,IAAIr1H,EAAUE,GAAQxI,EAAKsI,UAC3B,IAAIu3B,EAEJ,GAAI89F,IAAc,QACd99F,EAAO9iC,EAAMoI,SAASmD,EAAS,aAC5B,GAAIq1H,IAAc,OACrB99F,EAAO9iC,EAAMoI,SAASmD,EAAS,UAE/Bu3B,EAAOggC,EAAKhgC,OAGhBggC,EAAKjqD,KAAK,aAAc8nH,EAAa,CAAEp1H,QAASA,EAASq1H,UAAWA,EAAW99F,KAAMA,KAErF,OAAOggC,EAAKjqD,KAAK,SAMrBnN,GAFJie,EAAG+J,OAAO2mG,IAEK,CACX59F,gBAAiB,SAAUhxB,GACvB,OAAOmyH,EACHnyH,EAAKe,cACLf,EAAKc,WACL,IAIRs0H,gBAAiB,SAAUp1H,EAAMq1H,GAC7BA,EAAeA,GAAgB9gI,EAAMoL,UAAUM,SAE/C,IAAIuF,EAAW6vH,EAAa7vH,SAC5B4vH,EAAkB,IAAI9G,EAAKtuH,EAAKe,cAAef,EAAKc,WAAY,EAAGd,EAAKgB,WAAYhB,EAAKiB,aAAcjB,EAAKkB,aAAclB,EAAKmB,mBAC/Hi0H,EAAgBpqH,YAAYhL,EAAKe,eAEjC,MAAOq0H,EAAgBx0H,UAAY4E,EAC/BvF,EAASuyB,QAAQ4iG,GAAkB,EAAIzkG,IAG3C,OAAOykG,GAGX5iG,QAAS,SAAUxyB,EAAMkvB,GACrB,IAAIomG,EAAiBt1H,EAAKsB,oBAC1Bi0H,EAAa,IAAIjH,EAAKtuH,EAAKyO,UAAYygB,GACvCsmG,EAAeD,EAAWj0H,oBAAsBg0H,EAEhDt1H,EAAKwyB,QAAQ+iG,EAAW9mH,UAAY+mH,EAAe9kG,KAEvD/G,MAAO,CAAC,CACJj2B,KAAM+5H,EACNlrF,MAAO,SAASviC,EAAMgG,EAAK7B,EAAKxE,GAC5B,OAAO81H,GAAgB91H,GAASU,OAAOQ,MAAMb,EAAKc,YAAc,IAAMd,EAAKe,eAE/E+wC,QAAS,SAASp7C,GACd,IAAIc,EAAOP,KACP2B,EAAM,EACNoN,EAAMtP,EAAQsP,IACd7B,EAAMzN,EAAQyN,IACdnE,EAAOtJ,EAAQsJ,KACfowH,EAAQ15H,EAAQ05H,MAChBt0H,EAASpF,EAAQoF,OACjB6D,EAAUjJ,EAAQiJ,QAClB+1H,EAAch/H,EAAQspB,IACtB21G,EAAaj/H,EAAQi/H,WACrBjE,EAAah7H,EAAQg7H,WACrBC,EAAsBj7H,EAAQi7H,oBAC9BiE,EAASF,GAAetF,EAAM,GAC9ByF,EAAkBJ,GAAgB91H,GAClCm2H,EAAcD,EAAgBrwH,SAC9BpF,EAAOy1H,EAAgBz1H,KACvBS,EAAQk1H,GAAW31H,EAAKS,MAAOi1H,GAC/BE,EAAaD,GAAW31H,EAAKoE,WAAYsxH,GACzC1yH,EAAQnD,EAASm1H,gBAAgBp1H,EAAM61H,GACvC7kG,EAAkBx5B,EAAK4B,MAAM4G,GAC7BixB,EAAiBz5B,EAAK05B,KAAKlxB,GAC3B+vH,EAAev4H,EAAKu4H,aACpBp9F,EAAQq9F,KACRS,EAAiB/5H,EAAQ+5H,eACzBt1H,EAAO,0CAA4Cs1H,EAAiB,iCAAmCV,EAAa3sH,GAAS,KAEjI,GAAIuyH,EACAx6H,GAAQ,sDAAwDlE,KAAKsrC,MAAMviC,EAAMgG,EAAK7B,EAAKxE,GAAW,aAG1GxE,GAAQ,wEAER,GAAIw2H,EACAx2H,GAAQ,+CAAiDzE,EAAQ6nB,SAAS+xG,iBAAmB,QAGjG,KAAO13H,EAAM,EAAGA,IACZuC,GAAQ,gDAAkD0F,EAAMjI,GAAO,KAAOo9H,EAAWp9H,GAAO,QAGpGwP,EAAUuqB,EAAO,GACjBA,GAASA,EAET,OAAOhK,GAAK,CACRyuC,MAAO,GACP6+D,OAAQ,EACR96H,KAAMA,GAAQ,qFACdiI,MAAOA,EACPuuH,oBAAqBA,EACrB3/F,WAAYt7B,EAAQs7B,WACpBhsB,IAAKmsH,EAAWnsH,EAAIjF,cAAeiF,EAAIlF,WAAYkF,EAAItF,WACvDyD,IAAKguH,EAAWhuH,EAAIpD,cAAeoD,EAAIrD,WAAYqD,EAAIzD,WACvDgxH,WAAaA,EACb5/E,QAASp7C,EAAQo7C,QACjB7gB,eAAiBA,EACjB2nB,MAAOliD,EAAQkiD,MACfv4B,OAAQ7oB,EAAKs5B,QACb+9F,aAAcn4H,EAAQm4H,aACtBqH,MAAO,SAASl2H,EAAMpH,EAAKi2H,GACvB,IAAI53G,EAAW,CAAE,iBACblN,EAAM/J,EAAKY,SACXu1H,EAAY,GACZn2G,EAAM,IAEV,GAAIhgB,EAAOgxB,GAAmBhxB,EAAOixB,EACjCha,EAAS9d,KAAKy0H,GAGlB,GAAIiB,EAAa7uH,GACbiX,EAAS9d,KAAK6+F,GAGlB,IAAKh4F,IAAS2yB,EACV1b,EAAS9d,KAAK,WAGlB,GAAI4Q,IAAQ,GAAKA,IAAQ,EACrBkN,EAAS9d,KAAK,aAGlB,GAAIy8H,GAAUtvG,IAAStmB,EAAMowH,GAAQ,CACjCpwG,EAAM01G,EAAYt+H,QAAQ,MAAO7C,EAAMoI,SAASqD,EAAMlE,EAAQ6D,IAC9Dw2H,EAAY,iBAGhB,MAAO,CACHn2H,KAAMA,EACNowH,MAAOA,EACPtwG,GAAIvrB,EAAMurB,GACVyiB,MAAOhuC,EAAMoI,SAASqD,EAAM,IAAKL,GACjCpB,MAAOyB,EAAKU,UACZ01H,WAAYrG,EAAa/vH,GACzBiX,SAAUA,EAASld,KAAK,KACxBo8H,UAAWA,EACXn2G,IAAKA,IAGbq2G,gBAAiB,SAASr2H,GACtB,MAAO,CACHgyB,WAAYH,EAAW7xB,EAAMzL,EAAMoL,UAAUM,SAASuF,UACtDutB,YAAa/yB,OAK7B5G,MAAO,SAAS4G,GACZ,OAAOC,EAAS+wB,gBAAgBhxB,IAEpCkxB,KAAM,SAASlxB,GACX,IAAIkxB,EAAOihG,EAAWnyH,EAAKe,cAAef,EAAKc,WAAa,EAAG,GAC/D1H,EAAQ6G,EAAS+wB,gBAAgBhxB,GACjCmxB,EAAap8B,KAAKwM,IAAI2vB,EAAK5vB,oBAAsBlI,EAAMkI,qBAEvD,GAAI6vB,EACAD,EAAK5oB,SAASlP,EAAM4H,WAAcmwB,EAAa,IAGnD,OAAOD,GAEXkqB,QAAS,SAASk7E,EAAOC,GACrB,IAAI/1H,EACJg2H,EAASF,EAAMx1H,WACf21H,EAAQH,EAAMv1H,cACd21H,EAASH,EAAMz1H,WACf61H,EAAQJ,EAAMx1H,cAEd,GAAI01H,EAAQE,EACRn2H,EAAS,OACN,GAAIi2H,EAAQE,EACfn2H,GAAU,OAEVA,EAASg2H,GAAUE,EAAS,EAAIF,EAASE,EAAS,GAAK,EAG3D,OAAOl2H,GAEXswB,QAAS,SAAS9wB,EAAMzB,GACpB,IAAI8J,EAAQrI,EAAKgB,WACjB,GAAIzC,aAAiB+vH,EACjBtuH,EAAKgL,YAAYzM,EAAMwC,cAAexC,EAAMuC,WAAYvC,EAAMmC,gBAE9DT,EAASuyB,QAAQxyB,EAAMzB,EAAQoyB,IAEnCvoB,EAAUpI,EAAMqI,IAEpB0nH,aAAc,SAAS/vH,GACnB,OAAOA,EAAKe,cAAgB,IAAMf,EAAKc,WAAa,IAAMd,EAAKU,WAEnEy0H,UAAW,WACP,MAAO,SAGf,CACIzhI,KAAM,OACN6uC,MAAO,SAASviC,GACZ,OAAOA,EAAKe,eAEhB+wC,QAAS,SAASp7C,GACd,IAAIiK,EAAY80H,GAAgB/+H,EAAQiJ,SAASU,OAAOM,UACxDovH,EAAe94H,KAAK84H,aACpB/pH,EAAMtP,EAAQsP,IACd7B,EAAMzN,EAAQyN,IACdhJ,EAAO,GAEP,GAAIzE,EAAQi/H,WAAY,CACpBx6H,GAAQ,kGACJA,GAAQ,qDACJA,GAAQlE,KAAKsrC,MAAM7rC,EAAQsJ,MAC/B7E,GAAQ,aACRA,GAAQ,mCACJA,GAAQ,wCAGpB,OAAOwtB,GAAK,CACR3iB,IAAKmsH,EAAWnsH,EAAIjF,cAAeiF,EAAIlF,WAAY,GACnDqD,IAAKguH,EAAWhuH,EAAIpD,cAAeoD,EAAIrD,WAAY,GACnDsC,MAAO+uH,EAAWz7H,EAAQsJ,KAAKe,cAAe,EAAG,GACjD5F,KAAMA,EACNklB,OAAQppB,KAAK65B,QACbolG,MAAO,SAASl2H,GACZ,IAAIiX,EAAW,CAAE,iBAEjB,MAAO,CACH1Y,MAAOoC,EAAUX,EAAKc,YACtBgf,GAAIvrB,EAAMurB,GACVs2G,WAAYrG,EAAa/vH,GACzBiX,SAAUA,EAASld,KAAK,UAKxCX,MAAO,SAAS4G,GACZ,OAAOmyH,EAAWnyH,EAAKe,cAAe,EAAGf,EAAKU,YAElDwwB,KAAM,SAASlxB,GACX,OAAOmyH,EAAWnyH,EAAKe,cAAe,GAAIf,EAAKU,YAEnD06C,QAAS,SAASk7E,EAAOC,GACrB,OAAOn7E,GAAQk7E,EAAOC,IAE1BzlG,QAAS,SAAS9wB,EAAMzB,GACpB,IAAIuL,EACJzB,EAAQrI,EAAKgB,WAEb,GAAIzC,aAAiB+vH,EAAM,CACvBxkH,EAAQvL,EAAMuC,WAEdd,EAAKgL,YAAYzM,EAAMwC,cAAe+I,EAAO9J,EAAKU,WAElD,GAAIoJ,IAAU9J,EAAKc,WACfd,EAAK8wB,QAAQ,OAEd,CACHhnB,EAAQ9J,EAAKc,WAAavC,EAE1ByB,EAAK42H,SAAS9sH,GAEd,GAAIA,EAAQ,GACRA,GAAS,GAGb,GAAIA,EAAQ,GAAK9J,EAAKc,YAAcgJ,EAChC9J,EAAK8wB,QAAQ,GAIrB1oB,EAAUpI,EAAMqI,IAEpB0nH,aAAc,SAAS/vH,GACnB,OAAOA,EAAKe,cAAgB,IAAMf,EAAKc,WAAa,MAExDq0H,UAAW,WACP,MAAO,UAGf,CACIzhI,KAAM,SACN6uC,MAAO,SAASviC,EAAMgG,EAAK7B,GACvB,OAAOo+B,GAAMviC,EAAMgG,EAAK7B,EAAK,KAEjC2tC,QAAS,SAASp7C,GACd,IAAImT,EAAOnT,EAAQsJ,KAAKe,cACxBgvH,EAAe94H,KAAK84H,aACpB50H,EAAO,GAEP,GAAIzE,EAAQi/H,WAAY,CACpBx6H,GAAQ,kGACJA,GAAQ,kCACJA,GAAQlE,KAAKsrC,MAAM7rC,EAAQsJ,KAAMtJ,EAAQsP,IAAKtP,EAAQyN,KAC1DhJ,GAAQ,aACRA,GAAQ,mCACJA,GAAQ,wCAGpB,OAAOwtB,GAAK,CACRvlB,MAAO+uH,EAAWtoH,EAAOA,EAAO,GAAK,EAAG,EAAG,GAC3C7D,IAAKmsH,EAAWz7H,EAAQsP,IAAIjF,cAAe,EAAG,GAC9CoD,IAAKguH,EAAWz7H,EAAQyN,IAAIpD,cAAe,EAAG,GAC9C2wH,WAAah7H,EAAQg7H,WACrBv2H,KAAOA,EACPklB,OAAQppB,KAAK65B,QACbolG,MAAO,SAASl2H,EAAMpH,GAClB,IAAIqe,EAAW,CAAE,iBAEjB,GAAIre,IAAQ,GAAKA,IAAQ,GACrBqe,EAAS9d,KAAKy0H,GAGlB,MAAO,CACHrvH,MAAOyB,EAAKe,cACZ+e,GAAIvrB,EAAMurB,GACVs2G,WAAYrG,EAAa/vH,GACzBiX,SAAUA,EAASld,KAAK,UAKxCX,MAAO,SAAS4G,GACZ,IAAI6J,EAAO7J,EAAKe,cAChB,OAAOoxH,EAAWtoH,EAAOA,EAAO,GAAI7J,EAAKc,WAAYd,EAAKU,YAE9DwwB,KAAM,SAASlxB,GACX,IAAI6J,EAAO7J,EAAKe,cAChB,OAAOoxH,EAAWtoH,EAAOA,EAAO,GAAK,EAAG7J,EAAKc,WAAYd,EAAKU,YAElE06C,QAAS,SAASk7E,EAAOC,GACrB,OAAOn7E,GAAQk7E,EAAOC,EAAO,KAEjCzlG,QAAS,SAAS9wB,EAAMzB,GACpBuyB,GAAQ9wB,EAAMzB,EAAO,IAEzBwxH,aAAc,SAAS/vH,GACnB,OAAOA,EAAKe,cAAgB,QAEhCo0H,UAAW,WACP,MAAO,SAGf,CACIzhI,KAAMg6H,EACNnrF,MAAO,SAASviC,EAAMgG,EAAK7B,GACvB,OAAOo+B,GAAMviC,EAAMgG,EAAK7B,EAAK,MAEjC2tC,QAAS,SAASp7C,GACd,IAAImT,EAAOnT,EAAQsJ,KAAKe,cACxBiF,EAAMtP,EAAQsP,IAAIjF,cAClBoD,EAAMzN,EAAQyN,IAAIpD,cAClBgvH,EAAe94H,KAAK84H,aACpB8G,EAAU7wH,EACV8wH,EAAU3yH,EACVhJ,EAAO,GAEP07H,EAAUA,EAAUA,EAAU,GAC9BC,EAAUA,EAAUA,EAAU,GAE9B,GAAIA,EAAUD,EAAU,GACpBC,EAAUD,EAAU,EAGxB,GAAIngI,EAAQi/H,WAAY,CACpBx6H,GAAQ,kGACJA,GAAQ,qDACJA,GAAQlE,KAAKsrC,MAAM7rC,EAAQsJ,KAAMtJ,EAAQsP,IAAKtP,EAAQyN,KAC1DhJ,GAAQ,aACRA,GAAQ,mCACJA,GAAQ,wCAGpB,OAAOwtB,GAAK,CACRvlB,MAAO+uH,EAAWtoH,EAAOA,EAAO,IAAM,GAAI,EAAG,GAC7C7D,IAAKmsH,EAAW0E,EAAS,EAAG,GAC5B1yH,IAAKguH,EAAW2E,EAAS,EAAG,GAC5BpF,WAAah7H,EAAQg7H,WACrBv2H,KAAOA,EACPklB,OAAQppB,KAAK65B,QACbolG,MAAO,SAASl2H,EAAMpH,GAClB,IAAIqe,EAAW,CAAE,iBACjB,IAAI7T,EAAQpD,EAAKe,cACblG,EAAMuI,EAAQ,EAElB,GAAIxK,IAAQ,GAAKA,IAAQ,GACrBqe,EAAS9d,KAAKy0H,GAGlB,GAAIxqH,EAAQ4C,EACR5C,EAAQ4C,EAGZ,GAAInL,EAAMsJ,EACNtJ,EAAMsJ,EAGV,MAAO,CACH2b,GAAIvrB,EAAMurB,GACVvhB,MAAO6E,EAAQ,MAAQvI,EACvBu7H,WAAYrG,EAAa/vH,GACzBiX,SAAUA,EAASld,KAAK,UAKxCX,MAAO,SAAS4G,GACZ,IAAI6J,EAAO7J,EAAKe,cAChB,OAAOoxH,EAAWtoH,EAAOA,EAAO,IAAK7J,EAAKc,WAAYd,EAAKU,YAE/DwwB,KAAM,SAASlxB,GACX,IAAI6J,EAAO7J,EAAKe,cAChB,OAAOoxH,EAAWtoH,EAAOA,EAAO,IAAM,GAAI7J,EAAKc,WAAYd,EAAKU,YAEpE06C,QAAS,SAASk7E,EAAOC,GACrB,OAAOn7E,GAAQk7E,EAAOC,EAAO,MAEjCzlG,QAAS,SAAS9wB,EAAMzB,GACpBuyB,GAAQ9wB,EAAMzB,EAAO,KAEzBwxH,aAAc,SAAS/vH,GACnB,IAAI6J,EAAO7J,EAAKe,cAChB,OAAQ8I,EAAOA,EAAO,GAAM,QAEhCsrH,UAAW,WACP,MAAO,cAKnB,SAAS5yF,GAAMviC,EAAMgG,EAAK7B,EAAK4yH,GAC3B,IAAI3zH,EAAQpD,EAAKe,cACb81H,EAAU7wH,EAAIjF,cACd+1H,EAAU3yH,EAAIpD,cACdlG,EAEJuI,EAAQA,EAAQA,EAAQ2zH,EACxBl8H,EAAMuI,GAAS2zH,EAAU,GAEzB,GAAI3zH,EAAQyzH,EACRzzH,EAAQyzH,EAEZ,GAAIh8H,EAAMi8H,EACNj8H,EAAMi8H,EAGV,OAAO1zH,EAAQ,IAAMvI,EAGzB,SAAS8tB,GAAKjyB,GACV,IAAIkC,EAAM,EACNsC,EACA8K,EAAMtP,EAAQsP,IACd7B,EAAMzN,EAAQyN,IACdf,EAAQ1M,EAAQ0M,MAChBid,EAAS3pB,EAAQ2pB,OACjB61G,EAAQx/H,EAAQw/H,MAChBG,EAAkB3/H,EAAQ2/H,gBAC1Bt/H,EAASL,EAAQ0gE,OAAS,GAC1Bu6D,EAAsBj7H,EAAQi7H,oBAC9BqF,EAActgI,EAAQu/H,QAAU,EAChCvE,EAAah7H,EAAQg7H,WACrBzgG,EAAiBv6B,EAAQu6B,eACzBe,EAAat7B,EAAQs7B,YAAcq7F,EACnCv7E,EAAUp7C,EAAQo7C,SAAWo7E,EAC7Bt0E,EAAQliD,EAAQkiD,OAASu0E,EACzB8J,EAAqBvgI,EAAQ02H,wBAA0BA,EACvDjyH,EAAOzE,EAAQyE,MAAQ,uKAE3B,GAAIw2H,EACAx2H,GAAQ62B,EAAWqkG,EAAgBjzH,IAIvC,KAAOxK,EAAM7B,EAAQ6B,IAAO,CACxB,GAAIA,EAAM,GAAKA,EAAMo+H,IAAgB,EAAG,CACpC77H,GAAQ,6CACR,GAAIw2H,EACAx2H,GAAQu2H,IAAgBtuH,IAAU6tB,EAAkBe,EAAWqkG,EAAgBjzH,IAAU4uB,EAAW,CAAEA,WAAa,WAI3H5uB,EAAQ+uH,EAAW/uH,EAAMrC,cAAeqC,EAAMtC,WAAYsC,EAAM1C,WAChE0H,EAAUhF,EAAO,GAEjBlI,EAAOg7H,EAAM9yH,EAAOxK,EAAKlC,EAAQm4H,cAEjC1zH,GAASD,EAAK+b,SAASnT,QAAQ8pH,MAAiB,IAAM8D,EAAcuF,EAAmB/7H,GAAQk3H,GAAUhvH,EAAO4C,EAAK7B,GAAO2tC,EAAQ52C,GAAQ09C,EAAM19C,GAElJmlB,EAAOjd,EAAO,GAGlB,OAAOjI,EAAO,wBAGlB,SAASigD,GAAQk7E,EAAOC,EAAOtwD,GAC3B,IAAIwwD,EAAQH,EAAMv1H,cACdqC,EAASmzH,EAAMx1H,cACflG,EAAMuI,EACN5C,EAAS,EAEb,GAAIylE,EAAU,CACV7iE,EAAQA,EAAQA,EAAQ6iE,EACxBprE,EAAMuI,EAAQA,EAAQ6iE,EAAWA,EAAW,EAGhD,GAAIwwD,EAAQ57H,EACR2F,EAAS,OACN,GAAIi2H,EAAQrzH,EACf5C,GAAU,EAGd,OAAOA,EAGX,SAASwvH,KACL,IAAIr9F,EAAQ,IAAI27F,EAChB,OAAO,IAAIA,EAAK37F,EAAM5xB,cAAe4xB,EAAM7xB,WAAY6xB,EAAMjyB,WAGjE,SAASgvH,GAAenxH,EAAOyH,EAAK7B,GAChC,IAAIwuB,EAAQq9F,KAEZ,GAAIzxH,EACAo0B,EAAQ,IAAI27F,GAAM/vH,GAGtB,GAAIyH,EAAM2sB,EACNA,EAAQ,IAAI27F,GAAMtoH,QACf,GAAI7B,EAAMwuB,EACbA,EAAQ,IAAI27F,GAAMnqH,GAEtB,OAAOwuB,EAGX,SAASy/F,GAAUpyH,EAAMgG,EAAK7B,GAC1B,OAAQnE,IAASgG,IAAQhG,IAASmE,EAGtC,SAAS4xH,GAAWvtH,EAAO5P,GACvB,OAAO4P,EAAMpS,MAAMwC,GAAK2S,OAAO/C,EAAMpS,MAAM,EAAGwC,IAGlD,SAASk4B,GAAQ9wB,EAAMzB,EAAO24H,GAC1B34H,EAAQA,aAAiB+vH,EAAO/vH,EAAMwC,cAAgBf,EAAKe,cAAgBm2H,EAAa34H,EACxFyB,EAAKgL,YAAYzM,GAGrB,SAAS40H,GAAoB1jD,EAAW0nD,GACpC,IAAKA,GAAW1nD,EAAW,CACvB,IAAI9e,GAAQ8e,EACZxvE,EAAS0pB,MAAM,GAAGmH,QAAQ2+C,EAAW0nD,GACrCl3H,EAAS0pB,MAAM,GAAGmH,QAAQqmG,EAAS,IAAIv6H,KAAK+zD,IAEhD,IAAIymE,EAAcx6H,KAAKyN,IAAIolE,EAAU1uE,cAAe0uE,EAAU3uE,WAAY2uE,EAAU/uE,WACpF,IAAI22H,EAAaz6H,KAAKyN,IAAI8sH,EAAQp2H,cAAeo2H,EAAQr2H,WAAYq2H,EAAQz2H,WAE7E,OAAO3L,KAAKy+D,OAAO6jE,GAAcD,GAAe7iI,EAAMyL,KAAK2wB,YAG/D,SAASyiG,GAAe5qH,EAAO8uH,EAActE,EAAUnE,GACnD,IAAK,IAAI/3H,EAAI,EAAGA,GAAKwgI,EAAcxgI,IAAK,CACpC,IAAIk8B,EAAU,IAAIp2B,KAAKo2H,EAASvkH,WAChCukB,EAAU,IAAIp2B,KAAKo2B,EAAQlC,QAAQkC,EAAQtyB,UAAY5J,IACvD,IAAK+3H,EAAa77F,GACdxqB,EAAMrP,KAAK65B,IAKvB,SAASm8F,GAAY51H,GACjB,IAAI4vB,EAAWh1B,EAAE8C,MAAM0V,SAAS,oBAEhC,IAAKwc,EACDh1B,EAAE8C,MAAM6jB,YAAY88F,EAAOc,EAAW50G,QAAQvK,EAAEiF,OAAS,GAAKjF,EAAEiF,MAAQgwG,GAIhF,SAASolB,GAASr6H,GACdA,EAAEpB,iBAIN,SAASg6H,EAAWtoH,EAAMC,EAAO9J,GAC7B,IAAIu3H,EAAa,IAAIjJ,EAAKzkH,EAAMC,EAAO9J,GACvCu3H,EAAWvsH,YAAYnB,EAAMC,EAAO9J,GACpC,OAAOu3H,EAGX,SAAS9B,GAAgB91H,GACrB,OAAOE,EAAWF,GAASO,UAAUC,SAGzC,SAASsiC,GAAU/rC,GACf,IAAI0M,EAAQumB,EAAMjzB,EAAQ0M,OACtBitH,EAAQ1mG,EAAMjzB,EAAQ25H,OACtB1wH,EAAUE,EAAWnJ,EAAQiJ,SAEjCjJ,EAAQoF,OAASkxH,EAAct2H,EAAQoF,QAAU6D,EAAQO,UAAUC,SAASG,SAASmE,GAErF,GAAIsG,MAAM3H,GAAQ,CACdA,EAAQ,EACR1M,EAAQ0M,MAAQqqH,EAGpB,GAAI4C,IAAU/7H,GAAa+7H,EAAQjtH,EAC/B1M,EAAQ25H,MAAQ5C,EAGpB,GAAI/2H,EAAQ05H,QAAU,KAClB15H,EAAQ05H,MAAQ,GAIxB,SAASwB,GAAwB9qH,EAASyqH,GACtCzqH,EAAQqG,SAAS,KAAOokH,GAG5B,SAASjrG,GAAQtmB,EAAMowH,GACnB,IAAK,IAAIt5H,EAAI,EAAGC,EAASq5H,EAAMr5H,OAAQD,EAAIC,EAAQD,IAC/C,GAAIkJ,KAAUowH,EAAMt5H,GAChB,OAAO,KAGf,OAAO,MAGX,SAAS0gI,GAAgBC,EAAQC,GAC7B,GAAID,EACA,OAAOA,EAAO12H,gBAAkB22H,EAAO32H,eACnC02H,EAAO32H,aAAe42H,EAAO52H,YAC7B22H,EAAO/2H,YAAcg3H,EAAOh3H,UAGpC,OAAO,MAGX,SAASo0H,GAAa2C,EAAQC,GAC1B,GAAID,EACA,OAAOA,EAAO12H,gBAAkB22H,EAAO32H,eACnC02H,EAAO32H,aAAe42H,EAAO52H,WAGrC,OAAO,MAIX,SAASguH,GAAgB9oG,GACrB,GAAIzxB,EAAM2D,WAAW8tB,GACjB,OAAOA,EAGX,GAAIpxB,MAAMD,QAAQqxB,GACd,OAAO2xG,GAAmB3xG,GAE9B,OAAO7xB,EAAEU,KAGb,SAAS+iI,GAAkBxH,GACvB,IAAI5vH,EAAS,GACb,IAAK,IAAI1J,EAAI,EAAGA,EAAIs5H,EAAMr5H,OAAQD,IAC9B0J,EAAOrH,KAAKi3H,EAAMt5H,GAAGwR,SAAS,EAAG,EAAG,EAAG,IAE3C,OAAO9H,EAGX,SAASm3H,GAAmBvH,GACxB,IAAIh/G,EAAMgM,EACNy6G,EAAgB,GAChBz3H,EAAO,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAC5C03H,EAAmB,eACX,gBACJ,WACI,eACJ,IAER,GAAI1H,EAAM,aAAc9B,EAAM,CAC1BuJ,EAAgBD,GAAkBxH,GAClCh/G,EAAO,qHAAsHymH,EAAe,WAAaC,MACtJ,CACH,IAAK,IAAIhhI,EAAI,EAAGA,EAAIs5H,EAAMr5H,OAAQD,IAAK,CACnC,IAAIiT,EAAMqmH,EAAMt5H,GAAGV,MAAM,EAAE,GAAGmN,cAC9B,IAAI6C,EAAQjS,EAAEmyB,QAAQvc,EAAK3J,GAC3B,GAAIgG,GAAS,EACTyxH,EAAc1+H,KAAKiN,GAG3BgL,EAAO,yGAA0GymH,EAAe,WAAaC,EAGjJ16G,EAAW,IAAI1hB,SAAS,OAAQ0V,GAEhC,OAAOgM,EAGX,SAASg0G,GAAY2G,EAAUn3D,GAC5B,GAAIm3D,aAAoBn7H,MAAQgkE,aAAoBhkE,KAAM,CACtDm7H,EAAWA,EAAStpH,UACpBmyD,EAAWA,EAASnyD,UAGxB,OAAOspH,IAAan3D,EAGvB,SAASwuD,EAAatxC,GAClB,IAAIv/E,EAAQpK,EAAE2pF,GAAM1wE,KAAK7Y,EAAM6Y,KAAKouD,IAAQ1hE,MAAM,KAElDyE,EAAQ4zH,EAAW5zH,EAAM,GAAIA,EAAM,GAAIA,EAAM,IAE7C,OAAOA,EAkBf,OAfI0B,EAASu3H,gBAAkBA,GAC3Bv3H,EAASmxH,YAAcA,GACvBnxH,EAASyvH,cAAgBA,GACzBzvH,EAASmyH,UAAYA,GACrBnyH,EAAS2xH,wBAA0BA,GACnC3xH,EAASwiC,UAAYA,GACrBxiC,EAAS+3H,UAAYruG,EACrB1pB,EAASkpB,SAAW2lG,GACpB7uH,EAASmvH,aAAeA,EACxBnvH,EAAS+vH,SAAWA,GACpB/vH,EAASkyH,WAAaA,EAEtB59H,EAAM0L,SAAWA,EAGd5L,OAAOE,QA9hEd,CAgiEoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,kBAAkB,CAAE,cAC5B,WAEH,IAAIC,EAAW,CACXC,GAAI,YACJC,KAAM,YACNC,SAAU,MACVC,YAAa,sDACbotC,QAAS,CAAE,SAGJ7sC,EA20BRE,OAAOE,MAAMH,OA30BFE,OAAd,EACQm3C,EACAl3C,EADSF,OACME,MACf2hC,EAAQ3hC,EAAM2hC,MACdhY,EAAK3pB,EAAM2pB,GACXH,EAASG,EAAGH,OACZS,EAAOjqB,EAAMiqB,KACbsB,EAAK,kBACLrgB,EAAiB,GAAG9C,SAEpBs7H,GAAoB1jI,EAAMW,QAAQqiB,oBAAsB,sCAAwC,SAAWuI,EAE3Gm2D,EAAU,UACVC,EAAgB,aAChBgiD,EAAe,YAEflgC,EAAW,WACXmgC,EAAW,WACXj3F,EAAS,SAETk3F,EAAe,aAEfC,EAAYt6G,EAAOtpB,OAAO,CAC1BiD,KAAM,SAAUoP,EAASpQ,GACrB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GACnCoQ,EAAUtP,EAAKsP,QAEfpQ,EAAUc,EAAKd,QACfA,EAAQoF,OAASvH,EAAMgS,eAAe7P,EAAQoF,QAAUvH,EAAMsL,WAAWnJ,EAAQiJ,SAASO,UAAUC,SAASG,SAASmE,GACtH/N,EAAQsP,IAAMzR,EAAMmc,UAAU5J,EAAQsG,KAAK,SAAW7Y,EAAMmc,UAAUha,EAAQsP,KAC9EtP,EAAQyN,IAAM5P,EAAMmc,UAAU5J,EAAQsG,KAAK,SAAW7Y,EAAMmc,UAAUha,EAAQyN,KAE9E,IAAIm0H,EAAgBxxH,EAAQ0F,SAASY,KAAK,UAAY,GACtD,IAAImrH,EAAeD,EAAax0H,QAAQ,WAAa,GAAKw0H,EAAax0H,QAAQ,eAAiB,EAEhG,GAAIy0H,EACA/gI,EAAKiW,QAAU3G,EAAQ0F,aACpB,CACHhV,EAAKiW,QAAU3G,EAAQuF,KAAK,6CAA6CG,SACzEhV,EAAKiW,QAAQN,SAASrG,EAAQ,GAAG+I,WAAWnD,YAAY,0BACxDlV,EAAKiW,QAAQ,GAAGZ,MAAMqE,QAAUpK,EAAQ,GAAG+F,MAAMqE,QACjDpK,EAAQgF,IAAI,CACRgB,OAAQhG,EAAQ,GAAG+F,MAAMC,SAIjCtV,EAAKghI,gBAAkBrkI,EAAE,6EAA6EmoF,YAAYx1E,GAElHtP,EAAK8oH,QAEL9oH,EAAKsP,QACAqG,SAASorH,EAAe,IAAM,iBAC9BnrH,KAAK,eAAgB,OACrBiQ,GAAG,QAAUyC,EAAI,WACdtoB,EAAKiW,QAAQN,SAAS8oE,KAEzB54D,GAAG,WAAayC,EAAI,WACjBtoB,EAAKiW,QAAQf,YAAYupE,GACzBz+E,EAAKy0D,YAGb,IACInlD,EAAQ,GAAG2Q,aAAa,OAAQ,QAClC,MAAOle,GACLuN,EAAQ,GAAGtI,KAAO,OAGtB,IAAI2qB,EAAWriB,EAAQoG,GAAG,eAAiB/Y,EAAEqD,EAAKsP,SAASyiB,QAAQ,YAAYrc,GAAG,aAElF,GAAIic,EACA3xB,EAAK6jB,OAAO,YAEZ7jB,EAAK4mE,SAASt3D,EAAQoG,GAAG,eAG7B1V,EAAK+G,MAAM/G,EAAKd,QAAQ6H,OAASuI,EAAQw7C,OACzC9qD,EAAKkrB,mBAELnuB,EAAMoxB,OAAOnuB,IAGjBd,QAAS,CACLhD,KAAM,YACNiM,QAAS,GACTpB,MAAO,GACPzC,OAAQ,GACRkK,IAAK,IAAIpJ,KAAK,KAAM,EAAG,GACvBuH,IAAK,IAAIvH,KAAK,KAAM,GAAI,IACxB2hB,SAAU,CACN1U,KAAQ,OACRC,MAAS,QACTC,IAAO,MACP0uH,QAAW,kBACXC,KAAQ,QACRC,OAAU,UACVC,OAAU,UACVC,UAAa,SAEjB5vH,KAAM,SACNib,SAAU,QACVhgB,QAAS,UAGbjL,OAAQ,CACJioC,GAGJl7B,IAAK,SAAUzH,GACX,GAAIA,IAAUjK,EACV2C,KAAKP,QAAQsP,IAAMzH,OAEnB,OAAOtH,KAAKP,QAAQsP,KAI5B7B,IAAK,SAAU5F,GACX,GAAIA,IAAUjK,EACV2C,KAAKP,QAAQyN,IAAM5F,OAEnB,OAAOtH,KAAKP,QAAQyN,KAI5Boe,WAAY,SAAU7rB,GAClB,IAAIc,EAAOP,KACX8mB,EAAOnmB,GAAG2qB,WAAW9oB,KAAKjC,EAAMd,GAChCO,KAAK6hI,eACL7hI,KAAK8hI,aACL9hI,KAAK+hI,uBAGT91G,QAAS,WACL,IAAI1rB,EAAOP,KACXO,EAAKsP,QAAQwjB,IAAIxK,GAEjB,GAAItoB,EAAKyhI,aACLzhI,EAAKyhI,aAAa3uG,IAAI,QAAS9yB,EAAK+oH,eAGxCxiG,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,IAG3B+G,MAAO,SAAUA,GACb,GAAIA,IAAUjK,EACV,OAAO2C,KAAKiiI,UAAUC,gBAG1B,GAAI56H,IAAU,KACVA,EAAQ,GAGZ,GAAIkB,EAAehG,KAAK8E,KAAW,gBAC/BA,EAAQhK,EAAMmc,UAAUnS,EAAOtH,KAAKP,QAAQoF,OAAQ7E,KAAKP,QAAQiJ,SAGrE,GAAIpB,IAAUA,EAAMkQ,UAChBlQ,EAAQ,KAGZtH,KAAKiiI,UAAY,IAAIE,EAAe76H,EAAOtH,KAAKP,QAAQoF,OAAQ7E,KAAKP,QAAQiJ,QAAS1I,KAAKP,QAAQ6nB,UAEnGtnB,KAAK+hI,sBACL/hI,KAAKoiI,UAAY96H,GAGrBy6H,oBAAqB,WACjB,IAAIM,EAAkBriI,KAAKiiI,UAAUK,OAAOtiI,KAAKP,QAAQoF,OAAQ7E,KAAKP,QAAQiJ,QAAS1I,KAAKP,QAAQ6nB,UACpGtnB,KAAK6P,QAAQw7C,IAAIg3E,EAAgB,IACjCriI,KAAKuiI,SAAWF,EAAgB,GAChCriI,KAAKwiI,QAAUH,EAAgB,IAGnCl7D,SAAU,SAAUA,GAChBnnE,KAAKq/E,UAAU,CACXlY,SAAUA,IAAa9pE,EAAY,KAAO8pE,EAC1CjjD,QAAS,SAIjBE,OAAQ,SAAUA,GACdpkB,KAAKq/E,UAAU,CACXlY,SAAU,MACVjjD,UAAWE,EAASA,IAAW/mB,EAAY,KAAO+mB,MAI1D09G,WAAY,WACR,IAAIvhI,EAAOP,KACXO,EAAKsP,QACAuW,GAAG,QAAUyC,EAAI,WACdtoB,EAAKiW,QAAQN,SAAS8oE,KAEzB54D,GAAG,WAAayC,EAAI,WACjBtoB,EAAKiW,QAAQf,YAAYupE,GACzBz+E,EAAKy0D,YAER5uC,GAAG,QAAUyC,EAAItoB,EAAKkiI,OAAOlhI,KAAKhB,IAClC6lB,GAAG,UAAYyC,EAAItoB,EAAKihG,SAASjgG,KAAKhB,IACtC6lB,GAAG46G,EAAkBzgI,EAAKmiI,OAAOnhI,KAAKhB,IACtC6lB,GAAG,UAAYyC,EAAItoB,EAAKoiI,SAASphI,KAAKhB,IACtC6lB,GAAG,iBAAmByC,EAAK,cAAgBA,EAAItoB,EAAKqiI,QAAQrhI,KAAKhB,KAG1EshI,aAAc,WACV7hI,KAAK6P,QACAwjB,IAAI,UAAYxK,GAChBwK,IAAI,QAAUxK,GACdwK,IAAI,QAAUxK,GACdwK,IAAI,WAAaxK,GACjBwK,IAAI2tG,GACJ3tG,IAAI,UAAYxK,GAChBwK,IAAI,iBAAmBxK,EAAK,cAAgBA,IAGrDw2D,UAAW,SAAU5/E,GACjB,IAAIc,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QACnB,IAAIqU,EAAUzkB,EAAQykB,QACtB,IAAIijD,EAAW1nE,EAAQ0nE,SACvB,IAAI3wD,EAAUjW,EAAKiW,QAEnBjW,EAAKshI,eAEL,IAAK16D,IAAajjD,EAAS,CACvB1N,EAAQf,YAAYwpE,GACpB,GAAGpvE,GAAWA,EAAQ/P,OAAQ,CAC1B+P,EAAQ,GAAGqyB,gBAAgB6+D,GAC3BlxF,EAAQ,GAAGqyB,gBAAgBg/F,GAG/B3gI,EAAKuhI,iBACF,CACH,GAAI59G,EAAS,CACT1N,EAAQN,SAAS+oE,GACjBpvE,EAAQsG,KAAK4qF,EAAU78E,GACvB,GAAGrU,GAAWA,EAAQ/P,OAClB+P,EAAQ,GAAGqyB,gBAAgBg/F,GAGnC,GAAI/5D,EACAt3D,EAAQsG,KAAK+qH,EAAU/5D,KAKnCnS,QAAS,WACL,IAAIz0D,EAAOP,KACX,IAAI8gI,EAAWvgI,EAAK6hI,UACpB,IAAI96H,EAAQ/G,EAAK+G,QAEjB,GAAIA,GAAS/G,EAAKwO,OAASzH,EAAQ/G,EAAKwO,MAAO,CAC3CxO,EAAK+G,MAAM/G,EAAKwO,OAChBzH,EAAQ/G,EAAK+G,QAEjB,GAAIA,GAAS/G,EAAK2M,OAAS5F,EAAQ/G,EAAK2M,MAAO,CAC3C3M,EAAK+G,MAAM/G,EAAK2M,OAChB5F,EAAQ/G,EAAK+G,QAGjB,GAAIw5H,GAAYx5H,GAASA,EAAMkQ,YAAcspH,EAAStpH,WAClDspH,IAAax5H,IACZw5H,GAAYx5H,EACf,CACE/G,EAAK6hI,UAAY96H,EACjB/G,EAAK8B,QAAQ4nC,GACb1pC,EAAKsP,QAAQxN,QAAQ4nC,KAI7By4F,OAAQ,WACJ,IAAIniI,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QAAQ,GAC3B,IAAIgzH,EAAe,MAEnB,GAAIvlI,EAAMiS,mBAAqBM,EAC3B,OAGJ,IAAIwpB,EAAOypG,EACP9iI,KAAKuiI,SACLviI,KAAKwiI,QACLxiI,KAAK6P,QAAQ,GAAGvI,MAChB23B,EAAMj/B,KAAK6P,QAAQ,IAAI,IAE3B,IAAIkzH,EAAkB1pG,EAAKv5B,SAAW,GAAKu5B,EAAK,GAAG,KAAO,IAC1D,IAAK0pG,EACD,IAAK,IAAIljI,EAAI,EAAGA,EAAIw5B,EAAKv5B,OAAQD,IAAK,CAClC,IAAI0kF,EAAQvkF,KAAKiiI,UAAUe,UAAU3pG,EAAKx5B,GAAG,GAAIw5B,EAAKx5B,GAAG,IACzDgjI,EAAeA,IAAiBt+C,EAGxCvkF,KAAK+hI,sBAEL,GAAI1oG,EAAKv5B,QAAUu5B,EAAK,GAAG,KAAO,IAAK,CACnCr5B,KAAKijI,eAAe5pG,EAAK,GAAG,IAG5B,IAAK0pG,EAAgB,CACjB,IAAIG,EAAS7pG,EAAK,GAAG,GACrBlG,WAAW,WAAc5yB,EAAK0iI,eAAeC,MAGrD,GAAIH,EAAgB,CAChB,IAAII,EAAW,CAAE/hG,QAAS,GAAIlgC,eAAgB,cAC9ClB,KAAKwhG,SAAS2hC,GAElB,GAAIN,EACAtiI,EAAK6iI,sBAIbA,mBAAoB,WAChB,IAAI7iI,EAAOP,KAEXO,EAAK8iI,mBACL7uG,aAAaj0B,EAAK+iI,sBAClB/iI,EAAK+iI,qBAAuBnwG,WAAW5yB,EAAKgjI,oBAAoBhiI,KAAKhB,GAAO,MAGhF8iI,iBAAkB,WACd,IAAI9iI,EAAOP,KAEXO,EAAKiW,QAAQN,SAAS+qH,GACtB1gI,EAAKghI,gBAAgB9rH,YAAY,aAGrC8tH,oBAAqB,WACjB,IAAIhjI,EAAOP,KAEXO,EAAKiW,QAAQf,YAAYwrH,GACzB1gI,EAAKghI,gBAAgBrrH,SAAS,YAC9B3V,EAAK+iI,qBAAuB,MAGhCX,SAAU,WACN,IAAInjG,EAAYP,EAAMj/B,KAAK6P,QAAQ,IACnC,GAAI2vB,EAAU,KAAOA,EAAU,GAC3Bx/B,KAAKwjI,yBAIbZ,QAAS,SAAUtgI,GACf,GAAIhF,EAAMiS,mBAAqBvP,KAAK6P,QAAQ,IAAM7P,KAAK6P,QAAQoG,GAAG,cAC9D,OAEJ3T,EAAIlF,OAAOie,OAAS/Y,EAEpB,IAAI6gI,EAAW,CAAE/hG,QAAS,GAAIlgC,eAAgB,cAE9C,GAAIoB,EAAE++B,SACF8hG,EAAS/hG,SAAW9+B,EAAEi8B,aAAej8B,EAAEk8B,QAAU,EAAI,GAAK,QAE1D2kG,EAAS/hG,SAAW9+B,EAAEi8B,aAAej8B,EAAEk8B,QAAU,EAAI,GAAK,GAE9Dx+B,KAAKwhG,SAAS2hC,GACd7gI,EAAEmhI,YAAc,MAChB,GAAInhI,EAAEpB,eACFoB,EAAEpB,iBAEN,GAAIoB,EAAEgyB,gBACFhyB,EAAEgyB,mBAIV+0F,MAAO,WACH,IAAI9oH,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QACnB,IAAIsgH,EAAStgH,EAAQsG,KAAK,QAC1B,IAAI8qB,EAAOkvF,EAASjzH,EAAE,IAAMizH,GAAUtgH,EAAQ0K,QAAQ,QACtD,IAAImpH,EAAe7zH,EAAQ,GAAGvI,MAE9B,IAAKo8H,GAAgBnjI,EAAKd,QAAQ6H,MAC9Bo8H,EAAenjI,EAAKd,QAAQ6H,MAGhC,GAAI25B,EAAK,GAAI,CACT1gC,EAAK+oH,cAAgB,WACjBn2F,WAAW,WACP5yB,EAAK+G,MAAMo8H,MAInBnjI,EAAKyhI,aAAe/gG,EAAK7a,GAAG,QAAS7lB,EAAK+oH,iBAIlDmZ,OAAQ,SAAUngI,GACdA,EAAEpB,kBAGNsgG,SAAU,SAAUl/F,GAChB,IAAI0E,EAAM1E,EAAE8+B,QACZ,IAAI5B,EACJ,GAAIx4B,GAAO,IAAMA,GAAO,GAAI,CACxB1E,EAAEpB,iBACFs+B,EAAYP,EAAMj/B,KAAK6P,QAAQ,IAC/B,GAAI2vB,EAAU,IAAMA,EAAU,GAC1Bx/B,KAAKwjI,wBAET,IAAI5pG,EAAO5yB,GAAO,IAAO,EAAI,EAC7B,IAAImI,EAASyqB,IAAQ,EAAKqF,EAAMj/B,KAAK6P,QAAQ,IAAI,GAAK,EAAIovB,EAAMj/B,KAAK6P,QAAQ,IAAI,GAAK,EACtF,MAAOV,GAAS,GAAKA,EAAQnP,KAAKwiI,QAAQ1iI,OAAQ,CAC9C,GAAIqhI,EAAat0H,QAAQ7M,KAAKwiI,QAAQrzH,KAAW,EAAG,CAChDnP,KAAKijI,eAAejjI,KAAKwiI,QAAQrzH,IACjC,MAEJA,GAASyqB,GAGjB,GAAI5yB,GAAO,IAAMA,GAAO,GAAI,CACxB1E,EAAEpB,iBACFs+B,EAAYP,EAAMj/B,KAAK6P,QAAQ,IAC/B,IAAIhF,EAAS7K,KAAKwiI,QAAQhjG,EAAU,IACpC,GAAI2hG,EAAat0H,QAAQhC,IAAW,EAAG,CACnC,IAAI84H,EAAW,EACf,GAAI94H,GAAU,IACV84H,EAAW3jI,KAAKP,QAAQkkI,UAAY,EAExC3jI,KAAKiiI,UAAU2B,WAAW/4H,EAAQ7D,GAAO,GAAK28H,EAAW,EAAIA,GAAY,GACzE3jI,KAAK+hI,sBACL/hI,KAAKijI,eAAep4H,GACpB7K,KAAK6P,QAAQxN,QAAQ4nC,IAG7B,GAAI3sC,EAAMW,QAAQ+a,QAAQiG,MAAQ3hB,EAAMW,QAAQ+a,QAAQhc,QAAU,GAAI,CAClE,IAAI6mI,EAAUvhI,EAAE8+B,QAAU9+B,EAAE8+B,QAAU9+B,EAAEozC,MACxC,GAAImuF,IAAY,GAAKA,IAAY,GAAI,CACjC,IAAItjI,EAAOP,KACXmzB,WAAW,WACP5yB,EAAKmiI,UACN,IAGX,GAAI17H,IAAQugB,EAAKK,MACb5nB,KAAKg1D,WAIbwuE,sBAAuB,WACnB,IAAIhkG,EAAYP,EAAMj/B,KAAK6P,QAAQ,IACnC,IAAI1D,EAAQqzB,EAAU,GACtB,IAAK,IAAI3/B,EAAIsM,EAAOq5B,EAAIr5B,EAAQ,EAAGtM,EAAIG,KAAKwiI,QAAQ1iI,QAAU0lC,GAAK,EAAG3lC,IAAM2lC,IAAK,CAC7E,GAAI3lC,EAAIG,KAAKwiI,QAAQ1iI,QAAUqhI,EAAat0H,QAAQ7M,KAAKwiI,QAAQ3iI,OAAS,EAAG,CACzEG,KAAKijI,eAAejjI,KAAKwiI,QAAQ3iI,IACjC,OAEJ,GAAI2lC,GAAK,GAAK27F,EAAat0H,QAAQ7M,KAAKwiI,QAAQh9F,OAAS,EAAG,CACxDxlC,KAAKijI,eAAejjI,KAAKwiI,QAAQh9F,IACjC,UAKZy9F,eAAgB,SAAUp4H,GACtB,IAAIi5H,GAAS,EAAGlgI,EAAM,EACtB,IAAK,IAAI/D,EAAI,EAAGA,EAAIG,KAAKwiI,QAAQ1iI,OAAQD,IACrC,GAAIG,KAAKwiI,QAAQ3iI,KAAOgL,EAAQ,CAC5BjH,EAAM/D,EAAI,EACV,GAAIikI,KAAW,EACXA,EAAQjkI,EAIpB,GAAIikI,EAAQ,EACRA,EAAQ,EAEZ7kG,EAAMj/B,KAAK6P,QAASi0H,EAAOlgI,MAc/Bu+H,GATJ7kI,EAAMqvB,cAAc0Y,eAAe,YAAa,YAEhD/nC,EAAMqvB,cAAc4Y,eAAe,YAAa,CAAC,CAC7C/Y,KAAM,UACNtd,OAAQ5R,EAAMqvB,cAAc2X,cAAchwB,OAAO,CAAC,CAAC,OAAQ,aAG/D2S,EAAG+J,OAAOowG,GAEW,SAAU2C,EAAUC,EAAYC,EAAaC,GAE9D,IAAI58H,EAAQ,KACZ,IAAIsL,EAAO,KAAMC,EAAQ,KAAM9J,EAAO,KAAMqI,EAAQ,KAAM9H,EAAU,KAAMyJ,EAAU,KAAMC,EAAe,KACzG,IAAImxH,EAAiB,GACrB,IAAIC,EAAqB,GACzB,IAAIC,EAAe,GAGnB,IAAI7gI,EAAQ,CAAC,GAAI,IAAK,KAAM,MAAO,QACnC,SAASC,EAAIC,EAAQC,EAAQC,GACzBF,EAASA,EAAS,GAClBC,EAASA,GAAU,EACnBC,EAAMD,EAASD,EAAO5D,OAEtB,GAAI8D,EACA,OAAOJ,EAAMG,GAAQV,UAAU,EAAGW,GAAOF,EAG7C,OAAOA,EAEX,IAAImE,EAAmB,gGACvB,IAAIuB,EAAS,KAAMJ,EAAW,KAAMG,EAAO,KAAMm7H,EAAgB,MACjE,IAAIhjD,EAAU,SAAUh9E,GACpB,IAAIigI,EAAM/6H,EACV,IAAID,EAEJ,OAAQjF,GACJ,IAAK,IAAOiF,EAASR,EAAOzB,EAAMmC,UAAY46H,EAAavxH,IAAK,MAChE,IAAK,KAAQvJ,EAASR,EAAOtF,EAAI6D,EAAMmC,WAAa46H,EAAavxH,IAAK,MACtE,IAAK,MAASvJ,EAASR,GAAQ8J,GAASD,EAAOzJ,EAAKO,UAAUpC,EAAMqC,UAAY06H,EAAa7C,QAAS,MACtG,IAAK,OAAUj4H,EAASR,GAAQ8J,GAASD,EAAOzJ,EAAKS,MAAMtC,EAAMqC,UAAY06H,EAAa7C,QAAS,MAEnG,IAAK,IAAOj4H,EAASsJ,EAAQvL,EAAMuC,WAAa,EAAIw6H,EAAaxxH,MAAO,MACxE,IAAK,KAAQtJ,EAASsJ,EAAQpP,EAAI6D,EAAMuC,WAAa,GAAKw6H,EAAaxxH,MAAO,MAC9E,IAAK,MAAStJ,EAASsJ,EAAQzJ,EAAOM,UAAUpC,EAAMuC,YAAcw6H,EAAaxxH,MAAO,MACxF,IAAK,OAAUtJ,EAASsJ,EAAQzJ,EAAOQ,MAAMtC,EAAMuC,YAAcw6H,EAAaxxH,MAAO,MAErF,IAAK,KAAQtJ,EAASqJ,EAAOnP,EAAI6D,EAAMwC,cAAgB,KAAOu6H,EAAazxH,KAAM,MACjF,IAAK,OAAUrJ,EAASqJ,EAAOnP,EAAI6D,EAAMwC,cAAe,GAAKu6H,EAAazxH,KAAM,MAEhF,IAAK,IAAOrJ,EAAS6H,EAAQ9J,EAAMyC,WAAa,IAAM,GAAKs6H,EAAa5C,KAAM,MAC9E,IAAK,KAAQl4H,EAAS6H,EAAQ3N,EAAI6D,EAAMyC,WAAa,IAAM,IAAMs6H,EAAa5C,KAAM,MACpF,IAAK,IAAOl4H,EAAS6H,EAAQ9J,EAAMyC,WAAas6H,EAAa5C,KAAM,MACnE,IAAK,KAAQl4H,EAAS6H,EAAQ3N,EAAI6D,EAAMyC,YAAcs6H,EAAa5C,KAAM,MAEzE,IAAK,IAAOl4H,EAASD,EAAUhC,EAAM0C,aAAeq6H,EAAa3C,OAAQ,MACzE,IAAK,KAAQn4H,EAASD,EAAU7F,EAAI6D,EAAM0C,cAAgBq6H,EAAa3C,OAAQ,MAC/E,IAAK,IAAOn4H,EAASwJ,EAAUzL,EAAM2C,aAAeo6H,EAAa1C,OAAQ,MACzE,IAAK,KAAQp4H,EAASwJ,EAAUtP,EAAI6D,EAAM2C,cAAgBo6H,EAAa1C,OAAQ,MAC/E,IAAK,IAAOp4H,EAASyJ,EAAelV,KAAK6G,MAAM2C,EAAM4C,kBAAoB,KAAO8I,EAAc,MAC9F,IAAK,KACDzJ,EAASjC,EAAM4C,kBACf,GAAIX,EAAS,GACTA,EAASzL,KAAK6G,MAAM4E,EAAS,IAEjCA,EAASyJ,EAAevP,EAAI8F,GAAUjF,EACtC,MACJ,IAAK,MAASiF,EAASyJ,EAAevP,EAAI6D,EAAM4C,kBAAmB,GAAK5F,EAAO,MAC/E,IAAK,KAAQiF,EAAS6H,EAAS9J,EAAMyC,WAAa,GAAKf,EAASmB,GAAG,GAAKnB,EAASoB,GAAG,GAAMi6H,EAAazC,UAAW,MAClH,IAAK,MACD2C,EAAOj9H,EAAM+C,oBACbb,EAAO+6H,EAAO,EACdh7H,EAASzL,KAAKwM,IAAIi6H,EAAO,IAAI7+H,WAAW7C,MAAM,KAAK,GACnD0hI,EAAOzmI,KAAKwM,IAAIi6H,GAASh7H,EAAS,GAClCA,GAAUC,EAAO,IAAM,KAAO/F,EAAI8F,GAClCA,GAAU,IAAM9F,EAAI8gI,GACpB,MACJ,IAAK,IACL,IAAK,KACDh7H,EAASjC,EAAM+C,oBAAsB,GACrCb,EAAOD,EAAS,EAChBA,EAASzL,KAAKwM,IAAIf,GAAQ7D,WAAW7C,MAAM,KAAK,GAChD0G,GAAUC,EAAO,IAAM,MAAQlF,IAAU,KAAOb,EAAI8F,GAAUA,GAC9D,MAERA,EAAUA,IAAWlM,EAAYkM,EAASjF,EAAMnF,MAAM,EAAGmF,EAAMxE,OAAS,GAExE,GAAIwkI,EAAe,CACf/6H,EAAS,GAAKA,EACd,IAAIi7H,EAAe,GACnB,GAAIlgI,GAAS,MAASA,EAAQ,MAC9B,GAAIA,GAAS,OAAUA,EAAQ,OAC/B,IAAK,IAAIzE,EAAI,EAAGA,EAAI0J,EAAOzJ,OAAQD,IAC/B2kI,GAAgBlgI,EAAM,GAE1B,OAAOkgI,OAEP,OAAOj7H,GAIf,SAASk7H,EAAgBC,GACrBJ,EAAgBI,EAChB,OAAOpjD,EAGX,SAASqjD,EAAY95H,EAAQwgD,GACzB,OAAQxgD,GACJ,IAAK,IAAK+H,EAAOy4C,EAAK,MACtB,IAAK,IAAKx4C,EAAQw4C,EACd,IAAKA,EAAK,CACN/jD,EAAMq4H,SAAS,GACfwE,EAAiB,GAErB,MACJ,IAAK,IAAKp7H,EAAOsiD,EAAK,MACtB,IAAK,IACL,IAAK,IAAKj6C,EAAQi6C,EACd,IAAKA,EACD+4E,EAAqB,GAEzB,MACJ,IAAK,IAAK96H,EAAU+hD,EAAK,MACzB,IAAK,IAAKt4C,EAAUs4C,EAAK,MACzB,QAAS,QAIjBrrD,KAAK0zH,SAAW,SAAUroE,GACtBtiD,EAAOsiD,GAGXrrD,KAAK4kI,SAAW,WACZ,OAAO77H,GAGX/I,KAAK4jI,WAAa,SAAU/4H,EAAQoJ,GAChC,IAAI01D,EAAW,IAAIhkE,KAAM2B,GAASA,EAAMkQ,QAAWlQ,EAAMkQ,UAAYlQ,GACrE,OAAQuD,GACJ,IAAK,IAAK8+D,EAAS51D,YAAY41D,EAAS7/D,cAAgBmK,GAAS,MACjE,IAAK,IACD,IAAI4wH,EAAWl7D,EAAS9/D,WAAaoK,EACrC01D,EAASg2D,SAASkF,GAClB,GAAIl7D,EAAS9/D,WAAa,MAAQg7H,EAAW,IAAM,GAAI,CAEnDl7D,EAAS9vC,QAAQ,GACjB8vC,EAASg2D,SAASkF,GAEtB,MACJ,IAAK,IACL,IAAK,IAAKl7D,EAAS9vC,QAAQ8vC,EAASlgE,UAAYwK,GAAS,MACzD,IAAK,IACL,IAAK,IAAK01D,EAASt4D,SAASs4D,EAAS5/D,WAAakK,GAAS,MAC3D,IAAK,IAAK01D,EAASm7D,WAAWn7D,EAAS3/D,aAAeiK,GAAS,MAC/D,IAAK,IAAK01D,EAASo7D,WAAWp7D,EAAS1/D,aAAegK,GAAS,MAC/D,IAAK,IAAK01D,EAASt4D,UAAUs4D,EAAS5/D,WAAa,IAAM,IAAK,MAC9D,QAAS,MAEb,GAAI4/D,EAAS7/D,cAAgB,EAAG,CAC5B66H,EAAY95H,EAAQ,MACpBvD,EAAQqiE,IAIhB3pE,KAAKgjI,UAAY,SAAUn4H,EAAQm6H,GAC/B,IAAKA,EAAa,CACdL,EAAY95H,EAAQ,OACpB,OAAO,KAEX,IAAI8+D,EAAW,IAAIhkE,KAAM2B,GAASA,EAAMkQ,QAAWlQ,EAAMkQ,UAAYlQ,GACrE,IAAI29H,EAAkB,IAAIt/H,KAAKgkE,EAAS7/D,cAAe6/D,EAAS9/D,WAAa,EAAG,GAAGJ,UACnF,IAAIy7H,EACJ,OAAQr6H,GACJ,IAAK,IACD,IAAI6vB,GAAW3xB,EAAO4gE,EAASlgE,UAAY,GAAK,GAAK4F,SAAS21H,EAAa,IAC3E,GAAIlxH,MAAM4mB,GAAY,OACtB,MAAOA,EAAUuqG,EACbvqG,EAAUrrB,SAASqrB,EAAQh1B,WAAWvG,MAAM,GAAI,IAEpD,GAAIu7B,EAAU,EACV3xB,EAAO,UACJ,CACH4gE,EAAS9vC,QAAQa,GACjB,GAAIivC,EAAS9/D,aAAevC,EAAMuC,WAC9B,OAEJd,EAAO,KAEX,MACJ,IAAK,IACD,IAAI87H,GAAYhyH,GAAS82D,EAAS9/D,WAAa,GAAK,GAAK,GAAKwF,SAAS21H,EAAa,IACpF,IAAKlxH,MAAM+wH,GAAW,CAClB,MAAOA,EAAW,GACdA,EAAWx1H,SAASw1H,EAASn/H,WAAWvG,MAAM,GAAI,IAEtD,GAAI0lI,EAAW,EACXhyH,EAAQ,UACL,CACH82D,EAASg2D,SAASkF,EAAW,GAC7B,GAAIl7D,EAAS9/D,aAAeg7H,EAAW,EAAG,CACtCl7D,EAAS9vC,QAAQ,GACjB8vC,EAASg2D,SAASkF,EAAW,GAEjChyH,EAAQ,UAGX,CACD,IAAIsyH,EAAan8H,EAASI,OAAOQ,MACjCu6H,GAAkBa,EAAY14H,cAE9B,MAAO63H,EAAerkI,OAAS,EAAG,CAC9B,IAAK,IAAID,EAAI,EAAGA,EAAIslI,EAAWrlI,OAAQD,IACnC,GAAIslI,EAAWtlI,GAAGyM,cAAcO,QAAQs3H,KAAoB,EAAG,CAC3Dx6D,EAASg2D,SAAS9/H,GAClBgT,EAAQ,KACRvL,EAAQqiE,EACR,OAAO,KAGfw6D,EAAiBA,EAAelhI,UAAU,EAAGkhI,EAAerkI,QAEhE,OAAO,MAEX,MACJ,IAAK,IACD,IAAIslI,GAAWxyH,EAAQ+2D,EAAS7/D,cAAiB,GAAK,GAAKuF,SAAS21H,EAAa,IACjF,GAAIlxH,MAAMsxH,GAAW,OACrB,MAAOA,EAAU,KACbA,EAAU/1H,SAAS+1H,EAAQ1/H,WAAWvG,MAAM,GAAI,IAEpD,GAAIimI,EAAU,EACVxyH,EAAO,UACJ,CACH+2D,EAAS51D,YAAYqxH,GACrBxyH,EAAO,KAEX,MACJ,IAAK,IACDsyH,GAAY9zH,GAASu4D,EAAS5/D,WAAa,IAAM,IAAM,GAAK,GAAKsF,SAAS21H,EAAa,IACvF,GAAIlxH,MAAMoxH,GAAa,OACvB,MAAOA,EAAW,GACdA,EAAW71H,SAAS61H,EAASx/H,WAAWvG,MAAM,GAAI,IAEtDwqE,EAASt4D,SAASvT,KAAK6G,MAAMglE,EAAS5/D,WAAa,IAAM,GAAKm7H,EAAW,IACzE9zH,EAAQ,KACR,MACJ,IAAK,IACD8zH,GAAY9zH,EAASu4D,EAAS5/D,WAAc,GAAK,GAAKsF,SAAS21H,EAAa,IAC5E,GAAIlxH,MAAMoxH,GAAa,OACvB,MAAOA,EAAW,GACdA,EAAW71H,SAAS61H,EAASx/H,WAAWvG,MAAM,GAAI,IAEtDwqE,EAASt4D,SAAS6zH,GAClB9zH,EAAQ,KACR,MACJ,IAAK,IACD,IAAIi0H,GAAc/7H,EAAWqgE,EAAS3/D,aAAgB,GAAK,GAAKqF,SAAS21H,EAAa,IACtF,GAAIlxH,MAAMuxH,GAAe,OACzB,MAAOA,EAAa,GAChBA,EAAah2H,SAASg2H,EAAW3/H,WAAWvG,MAAM,GAAI,IAE1DwqE,EAASm7D,WAAWO,GACpB/7H,EAAU,KACV,MACJ,IAAK,IACD,IAAIg8H,GAAcvyH,EAAW42D,EAAS1/D,aAAgB,GAAK,GAAKoF,SAAS21H,EAAa,IACtF,GAAIlxH,MAAMwxH,GAAe,OACzB,MAAOA,EAAa,GAChBA,EAAaj2H,SAASi2H,EAAW5/H,WAAWvG,MAAM,GAAI,IAE1DwqE,EAASo7D,WAAWO,GACpBvyH,EAAU,KACV,MACJ,IAAK,IACD,GAAI3B,EAAO,CACPgzH,GAAsBY,EAAY14H,cAClC,MAAO83H,EAAmBtkI,OAAS,EAAG,CAClC,GAAIkJ,EAASmB,GAAG,GAAGmC,cAAcO,QAAQu3H,KAAwB,GAAKz6D,EAAS5/D,YAAc,IACzFf,EAASoB,GAAG,GAAGkC,cAAcO,QAAQu3H,KAAwB,GAAKz6D,EAAS5/D,WAAa,GAAI,CAC5F4/D,EAASt4D,UAAUs4D,EAAS5/D,WAAa,IAAM,IAC/CzC,EAAQqiE,EACR,OAAO,KAEXy6D,EAAqBA,EAAmBnhI,UAAU,EAAGmhI,EAAmBtkI,QAE5E,OAAO,MAEX,MACJ,QAAS,MAEbwH,EAAQqiE,EACR,OAAO,MAGX3pE,KAAKsiI,OAAS,SAAUz9H,EAAQ6D,EAAU4e,GACtC,IAAKziB,EACD,MAAO,CAAC,GAAI,IAEhB6D,EAAUpL,EAAMsL,WAAWF,GAC3BM,EAAWN,EAAQO,UAAUC,SAC7BrE,EAASmE,EAASK,SAASxE,IAAWA,EACtCsE,EAAOH,EAASG,KAChBC,EAASJ,EAASI,OAClBi7H,EAAe/8G,EACf,MAAO,CACHziB,EAAO1E,QAAQ0H,EAAkB48H,EAAgB,QACjD5/H,EAAO1E,QAAQ0H,EAAkB48H,EAAgB,SAIzDzkI,KAAKkiI,cAAgB,WACjB,OAAQtvH,GAAQC,GAAS9J,GAAQqI,GAAS9H,GAAWyJ,GAAWC,EAC5D,IAAIrN,KAAK2B,EAAMkQ,WAAa,MAGpC,IAAKusH,EAAU,CACXz8H,EAAQ,IAAI3B,KACZ,IAAI4/H,EAAevlI,KAAKsiI,OAAO0B,EAAYC,EAAaC,GAAc,GACtE,IAAK,IAAIrkI,EAAI,EAAGA,EAAI0lI,EAAazlI,OAAQD,IACrC8kI,EAAYY,EAAa1lI,GAAI,YAGjCyH,EAAQ,IAAI3B,KAAKo+H,EAASvsH,aAIlC,SAASsrH,EAA0B0C,EAASC,EAAWC,EAASzmG,GAC5D,IAAI0mG,EAAmBH,EAAQvmG,EAAQumG,EAAQ1lI,OAAS4lI,EAAQ5lI,QAChE0lI,EAAUA,EAAQviI,UAAU,EAAGg8B,EAAQumG,EAAQ1lI,OAAS4lI,EAAQ5lI,QAChE4lI,EAAUA,EAAQziI,UAAU,EAAGg8B,GAC/B,IAAI5F,EAAO,GACX,IAAIx5B,EAEJ,GAAI2lI,IAAYE,GAAWzmG,EAAQ,EAAG,CAClC5F,EAAKn3B,KAAK,CAACujI,EAAUxmG,EAAQ,GAAIymG,EAAQzmG,EAAQ,KACjD,OAAO5F,EAEX,GAAImsG,EAAQ34H,QAAQ64H,KAAa,IAAMA,EAAQ5lI,SAAW,GAAK2lI,EAAUC,EAAQ5lI,OAAS,KAAO2lI,EAAUC,EAAQ5lI,SAAU,CAEzH,IAAI8lI,EAAgB,GACpB,IAAK/lI,EAAI6lI,EAAQ5lI,OAAQD,EAAI2lI,EAAQ1lI,OAAQD,IACzC,GAAI4lI,EAAU5lI,KAAO+lI,GAAiBzE,EAAat0H,QAAQ44H,EAAU5lI,KAAO,EAAG,CAC3E+lI,EAAgBH,EAAU5lI,GAC1Bw5B,EAAKn3B,KAAK,CAAC0jI,EAAe,KAGlC,OAAOvsG,EAIX,GAAIqsG,EAAQA,EAAQ5lI,OAAS,KAAO,KAAO4lI,EAAQA,EAAQ5lI,OAAS,KAAO6lI,EACvE,MAAO,CAAC,CAACF,EAAUxmG,EAAQ,GAAI,MAKnC,GAAIymG,EAAQ74H,QAAQ24H,KAAa,GAAKrE,EAAat0H,QAAQ44H,EAAUxmG,EAAQ,OAAS,EAAG,CACrF,IAAIp0B,EAAS46H,EAAU,GACvB,IAAK5lI,EAAI/B,KAAKoP,IAAI,EAAGs4H,EAAQ1lI,OAAS,GAAID,EAAI4lI,EAAU3lI,OAAQD,IAC5D,GAAIshI,EAAat0H,QAAQ44H,EAAU5lI,KAAO,EAAG,CACzCgL,EAAS46H,EAAU5lI,GACnB,MAGR,MAAO,CAAC,CAACgL,EAAQ66H,EAAQzmG,EAAQ,KAGrC,MAAO,CAAC,CAACwmG,EAAUxmG,EAAQ,GAAIymG,EAAQzmG,EAAQ,KAKvD,OAAO7hC,OAAOE,QAz1Bd,CA21BoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,mBAAmB,CAAE,iBAAkB,cAAgB,kBAAmB,qBAClF,WAEH,IAAIC,EAAW,CACXC,GAAI,aACJC,KAAM,aACNC,SAAU,MACVC,YAAa,6FACbotC,QAAS,CAAE,WAAY,QAAS,gBAG1B7sC,EA40BPE,OAAOE,MAAMH,OA50BHE,OAAb,EACQC,EAAQF,OAAOE,MACnB2pB,EAAK3pB,EAAM2pB,GACX/iB,EAAO5G,EAAM4G,KACb4iB,EAASG,EAAGH,OACZ41B,EAAQp/C,EAAMmc,UACd8N,EAAOjqB,EAAMiqB,KACbtpB,EAAUX,EAAMW,QAChB+F,EAAW1G,EAAM0G,SACjByL,EAAgBnS,EAAMiS,eACtBs2H,EAAM,UACNC,EAAO,WACPj9G,EAAK,mBACL83E,EAAQ,QAAU93E,EAClBd,EAAK9pB,EAAQ2gB,qBAAuBthB,EAAMu4B,cAAc,KAAMhN,EAAG1pB,MAAM,IAAMwhG,EAC7EkH,EAAO,OACPC,EAAQ,QACR79D,EAAS,SACT82D,EAAW,WACXmgC,EAAW,WACXliD,EAAU,UACVgb,EAAW,mBACX/a,EAAgB,aAChB0hC,EAAQ,UACRolB,EAAc,aAAel9G,EAAK,cAAgBA,EAClD+3E,EAAY,YAAc/3E,EAC1B6tG,EAAW,WACX/d,EAAK,KACL2d,EAAM,MACN0P,EAAM,MACNxP,EAAQ,QACRpf,EAAgB,gBAChB6uB,EAAgB,gBAChBjjB,EAAgB,gBAChBC,EAAc,cACdL,EAAwB,wBACxB55G,EAAW1L,EAAM0L,SACjBmyH,EAAYnyH,EAASmyH,UACrB1C,EAAgBzvH,EAASyvH,cACzB8H,EAAkBv3H,EAASu3H,gBAC3B/iI,EAASN,EAAEM,OACX65H,EAAO1xH,KAEP,SAAS6lC,EAAU/rC,GACf,IAAIymI,EAAezmI,EAAQymI,aACvBrhI,EAASpF,EAAQoF,OAErBmE,EAASwiC,UAAU/rC,GAGnBymI,EAAevoI,MAAMD,QAAQwoI,GAAgBA,EAAe,CAACA,GAE7D,IAAKA,EAAapmI,OACdomI,EAAahkI,KAAK,cAGtB,GAAIhF,EAAEmyB,QAAQxqB,EAAQqhI,MAAmB,EACrCA,EAAazjI,OAAO,EAAG,EAAGhD,EAAQoF,QAGtCpF,EAAQymI,aAAeA,EAG3B,SAAShlI,EAAeoB,GACpBA,EAAEpB,iBAGN,IAAIilI,EAAW,SAAS1mI,GACpB,IAAIc,EAAOP,KAAMxD,EACb2d,EAAO3K,SAAS2K,KAChBJ,EAAM7c,EAAE2oI,GAAK1vH,KAAK8sG,EAAa,QAClB/sG,SAAS,wBAE1B3V,EAAKd,QAAUA,EAAUA,GAAW,GACpCjD,EAAKiD,EAAQjD,GAEb,IAAIiD,EAAQ2mI,UAAU,CAClBrsH,EAAImrB,SAAS/qB,GACb5Z,EAAKsqG,MAAQ,IAAI5jF,EAAG6hF,MAAM/uF,EAAKvc,EAAOiC,EAAQorG,MAAOprG,EAAS,CAAEhD,KAAM,QAAS4c,MAAO/b,EAAMW,QAAQob,MAAM5Z,EAAQ8iG,gBAElHxoF,EAAMta,EAAQ4mI,QAElB,GAAI7pI,EAAI,CACJA,GAAM,YAENud,EAAI5D,KAAKwiG,EAAIn8G,GACb+D,EAAK+lI,YAAc9pI,EAEvB+D,EAAKwZ,IAAMA,EAEXxZ,EAAK+G,MAAM7H,EAAQ6H,QAuMnBi/H,GApMJJ,EAASvlI,UAAY,CACjB4lI,UAAW,WACP,IAAIjmI,EAAOP,KACX,IAAIgJ,EAAWzI,EAAKyI,SACpB,IAAIvJ,EAAUc,EAAKd,QACnB,IAAIsa,EAEJ,IAAK/Q,EAAU,CACX+Q,EAAM7c,EAAE2oI,GAAK1vH,KAAKwiG,EAAIr7G,EAAMksB,QACf0b,SAASzlC,EAAQ2mI,UAAY3mI,EAAQ4mI,QAAU9lI,EAAKsqG,MAAMh7F,SAC1DuW,GAAGw6E,EAAW1/F,GACdklB,GAAGu6E,EAAO,kBAAmBpgG,EAAKu1C,OAAOv0C,KAAKhB,IAE3DA,EAAKyI,SAAWA,EAAW,IAAIie,EAAG0wG,SAAS59G,EAAK,CAC5C+Q,cAAerrB,EAAQqrB,cACvB9Y,KAAMvS,EAAQuS,KACdsV,SAAU7nB,EAAQ6nB,WAEtB/mB,EAAKkmI,YAAYhnI,GAEjBsa,EAAI7D,SAAS5Y,EAAM8oC,iBAAiB,cAAe,OAAQ3mC,EAAQuS,OAEnEhJ,EAASqiC,SAAS9qC,EAAKipH,QAAUjpH,EAAK4sH,SAAU1tH,EAAQ0M,OAExD5L,EAAK+G,MAAM/G,EAAKipH,UAIxBid,YAAa,SAAShnI,GAClBO,KAAKgJ,SAASsiB,WAAW,CACrB+sG,WAAY,MACZ3sF,OAAQjsC,EAAQisC,OAChBhjC,QAASjJ,EAAQiJ,QACjBywH,MAAO15H,EAAQ05H,MACfC,MAAO35H,EAAQ25H,MACf/+C,OAAQ56E,EAAQ46E,OAChBx1E,OAAQpF,EAAQoF,OAChBqI,IAAKzN,EAAQyN,IACb6B,IAAKtP,EAAQsP,IACb8D,MAAOpT,EAAQoT,MACfkoB,WAAYt7B,EAAQs7B,WACpB5uB,MAAO1M,EAAQ0M,MACfmb,SAAU7nB,EAAQ6nB,SAClBswG,aAAcn4H,EAAQm4H,gBAI9BtsG,WAAY,SAAS7rB,GACjB,IAAIgqE,EAAMzpE,KAAKP,QACf,IAAIm4H,EAAen4H,EAAQm4H,aAE3B,GAAIA,EACAn4H,EAAQm4H,aAAe5uH,EAASkpB,SAAS0lG,GAG7C53H,KAAKP,QAAUjC,EAAOisE,EAAKhqE,EAAS,CAChCisC,OAAQ+9B,EAAI/9B,OACZuO,MAAOwvB,EAAIxvB,MACXmvD,KAAM3/B,EAAI2/B,OAGd,GAAIppG,KAAKgJ,SACLhJ,KAAKymI,YAAYzmI,KAAKP,UAI9BwsB,QAAS,WACL,GAAGjsB,KAAK6qG,MACJ7qG,KAAK6qG,MAAM5+E,WAInBm9E,KAAM,WACF,IAAI7oG,EAAOP,KACX,IAAI0mI,EAEJnmI,EAAKimI,YAKLE,EAAenmI,EAAKsqG,MAAM5B,SAC1B1oG,EAAKsqG,MAAM5B,SAAW,KAEtB1oG,EAAKsqG,MAAMzB,OAEXj2E,WAAW,WACP5yB,EAAKsqG,MAAM5B,SAAWy9B,GACvB,IAGPzsF,MAAO,WACH,GAAIj6C,KAAK6qG,MACL7qG,KAAK6qG,MAAM5wD,SAInBlrC,IAAK,SAASzH,GACVtH,KAAK85H,QAAQxD,EAAKhvH,IAGtB4F,IAAK,SAAS5F,GACVtH,KAAK85H,QAAQkM,EAAK1+H,IAGtBwd,OAAQ,WACJ,IAAIvkB,EAAOP,KAEXO,EAAKA,EAAKsqG,MAAMz4E,UAAY01E,EAAQD,MAGxCjzE,KAAM,SAAStyB,GACX,IAAI/B,EAAOP,KACPgH,EAAM1E,EAAE8+B,QACRp4B,EAAWzI,EAAKyI,SAChB29H,EAAkBrkI,EAAE8wF,SAAWpsF,GAAOugB,EAAKU,MAAQjhB,GAAOugB,EAAKK,MAC/D+/E,EAAU,MAEd,GAAIrlG,EAAEo5G,QACF,GAAI10G,GAAOugB,EAAKU,KAAM,CAClB1nB,EAAK6oG,OACL9mG,EAAEpB,iBACFymG,EAAU,UACP,GAAI3gG,GAAOugB,EAAKQ,GAAI,CACvBxnB,EAAK05C,QACL33C,EAAEpB,iBACFymG,EAAU,WAGX,GAAIpnG,EAAKsqG,OAAStqG,EAAKsqG,MAAMz4E,UAAW,CAE3C,GAAIprB,GAAOugB,EAAKM,KAAQ8+G,GAAmB39H,EAAS4vH,MAAMljH,SAASskF,GAAY,CAC3Ez5F,EAAK05C,QACL33C,EAAEpB,iBACF,OAAO,KAGX,GAAI8F,GAAOugB,EAAKa,SACZ7nB,EAAK4sH,SAAWnkH,EAAS2sC,MAAMrzC,GAGnCqlG,EAAU,KAGd,OAAOA,GAGX9+F,QAAS,SAASE,GACd/I,KAAKmtH,SAAWpkH,EAChB,GAAI/I,KAAKgJ,SACLhJ,KAAKgJ,SAASs4F,OAAOv4F,IAI7BzB,MAAO,SAASA,GACZ,IAAI/G,EAAOP,KACPgJ,EAAWzI,EAAKyI,SAChBvJ,EAAUc,EAAKd,QACfmnI,EAAennI,EAAQm4H,aAE3B,GAAIgP,GAAgBA,EAAat/H,GAC7BA,EAAQ,KAGZ/G,EAAKipH,OAASliH,EACd/G,EAAK4sH,SAAW,IAAIkK,GAAMoB,EAAcnxH,EAAO7H,EAAQsP,IAAKtP,EAAQyN,MAEpE,GAAIlE,EACAA,EAAS1B,MAAMA,IAIvBwuC,OAAQ,SAASxzC,GAEb,GAAIA,EAAEivC,cAAc34B,UAAU/L,QAAQmtF,MAAe,EAAG,CACpDh6F,KAAKgJ,SAAS3G,QAAQ,UACtBrC,KAAKi6C,UAIb6/E,QAAS,SAAS/qG,EAAQznB,GACtB,IAAI/G,EAAOP,KACX,IAAIgJ,EAAWzI,EAAKyI,SAEpBzI,EAAKd,QAAQsvB,GAAUznB,EAEvB,GAAI0B,EACAA,EAAS+lB,GAAQznB,KAK7B6+H,EAAS36F,UAAYA,EAErBluC,EAAM6oI,SAAWA,EAEAr/G,EAAOtpB,OAAO,CAC3BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACP0jI,EACAxxG,EACAnY,EAEJ+M,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GACnCoQ,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QAEfA,EAAQm4H,aAAet6H,EAAM0L,SAASkpB,SAASzyB,EAAQm4H,cAEvDn4H,EAAQsP,IAAM2tC,EAAM7sC,EAAQsG,KAAK,SAAWumC,EAAMj9C,EAAQsP,KAC1DtP,EAAQyN,IAAMwvC,EAAM7sC,EAAQsG,KAAK,SAAWumC,EAAMj9C,EAAQyN,KAE1Ds+B,EAAU/rC,GAEVc,EAAKsmI,gBAAkBrpI,EAAO,GAAIiC,GAElCc,EAAKy7E,WAELz7E,EAAKumI,SAAW,IAAIX,EAAS3oI,EAAO,GAAIiC,EAAS,CAC7CjD,GAAIqT,EAAQsG,KAAKwiG,GACjBpW,OAAQhiG,EAAKiW,QACbk1B,OAAQ,WAEJnrC,EAAKy0D,QAAQh1D,KAAKsH,SAClB/G,EAAK05C,SAETA,MAAO,SAAS33C,GACZ,GAAI/B,EAAK8B,QAAQylG,GACbxlG,EAAEpB,qBACC,CACH2O,EAAQsG,KAAK6sG,EAAe,OAC5BjpG,EAAI5D,KAAK8sG,EAAa,MAEtB9vF,WAAW,WACPtjB,EAAQwb,WAAW,6BAI/B+9E,KAAM,SAAS9mG,GACX,IAAI7C,EAAUc,EAAKd,QACfsJ,EAEJ,GAAIxI,EAAK8B,QAAQwlG,GACbvlG,EAAEpB,qBACC,CACH,GAAIX,EAAKsP,QAAQw7C,QAAU9qD,EAAKgiI,SAAU,CACtCx5H,EAAO2zC,EAAM7sC,EAAQw7C,MAAO5rD,EAAQymI,aAAczmI,EAAQiJ,SAE1DnI,EAAKumI,SAAS/9H,EAAO,UAAY,SAASA,GAG9C8G,EAAQsG,KAAK6sG,EAAe,MAC5BjpG,EAAI5D,KAAK8sG,EAAa,OAEtB1iH,EAAKwmI,YAAYh+H,QAM7BgR,EAAMxZ,EAAKumI,SAAS/sH,IAEpBxZ,EAAK6+F,QAEL,IACIvvF,EAAQ,GAAG2Q,aAAa,OAAQ,QAClC,MAAMle,GACJuN,EAAQ,GAAGtI,KAAO,OAGtBsI,EACKqG,SAAS,iBACTC,KAAK,CACFyT,KAAM,WACNo9G,gBAAiB,MACjBC,gBAAiB,OACjBrd,YAAarpH,EAAKumI,SAASR,YAC3B5c,aAAgB,QAExBnpH,EAAKkiE,SACLliE,EAAKi+F,YAELtsE,EAAWriB,EAAQoG,GAAG,eAAiB/Y,EAAEqD,EAAKsP,SAASyiB,QAAQ,YAAYrc,GAAG,aAC9E,GAAIic,EACA3xB,EAAK6jB,OAAO,YAEZ7jB,EAAK4mE,SAASt3D,EAAQoG,GAAG,eAG7BytH,EAAehnF,EAAMj9C,EAAQ6H,OAAS/G,EAAKsP,QAAQw7C,MAAO5rD,EAAQymI,aAAczmI,EAAQiJ,SAExFnI,EAAK2mI,iBAAiBznI,GAEtBc,EAAK8nH,KAAO9nH,EAAK4mI,QAAQzD,GAAgBnjI,EAAKsP,QAAQw7C,OACtD9qD,EAAKgiI,SAAW1yH,EAAQw7C,MACxB9qD,EAAKkrB,mBAELnuB,EAAMoxB,OAAOnuB,IAEjByB,OAAQ,CACR6lG,EACAC,EACA79D,GACAxqC,QAAS,CACLhD,KAAM,aACN6K,MAAO,KACP+yE,OAAQ,GACRx1E,OAAQ,GACR6D,QAAS,GACTw9H,aAAc,GACdn3H,IAAK,IAAIpJ,KAAK,KAAM,EAAG,GACvBuH,IAAK,IAAIvH,KAAK,KAAM,GAAI,IACxBwG,MAAOqqH,EACP4C,MAAO5C,EACPrtB,UAAW,GACXt2F,MAAO,GACPsmH,MAAO,GACPvB,aAAc,KACdtxB,aAAc,oDACd8gC,UAAW,MACXrsG,WAAY,MACZzT,SAAU,CACN+xG,iBAAkB,IAEtBvuG,cAAe,UACf9Y,KAAM,SACNib,SAAU,QACVhgB,QAAS,UAGbqe,WAAY,SAAS7rB,GACjB,IAAIc,EAAOP,KACX,IAAIsH,EAAQ/G,EAAKipH,OAEjB1iG,EAAOnmB,GAAG2qB,WAAW9oB,KAAKjC,EAAMd,GAEhCA,EAAUc,EAAKd,QAEfA,EAAQsP,IAAM2tC,EAAMj9C,EAAQsP,KAC5BtP,EAAQyN,IAAMwvC,EAAMj9C,EAAQyN,KAE5Bs+B,EAAU/rC,GAEVc,EAAK8mI,UAAUh0G,IAAIxK,GACnBtoB,EAAK8mI,UAAUt2G,SAEfxwB,EAAKumI,SAASx7G,WAAW7rB,GACzBc,EAAK6+F,QACL7+F,EAAK8+E,UAAU5/E,GACfc,EAAK2mI,iBAAiBznI,GAEtB,IAAKc,EAAK+mI,WACN/mI,EAAKsP,QAAQw7C,IAAI/tD,EAAMoI,SAAS4B,EAAO7H,EAAQoF,OAAQpF,EAAQiJ,UAGnE,GAAIpB,EACA/G,EAAKwmI,YAAYz/H,IAIzB+3E,UAAW,SAAS5/E,GAChB,IAAIc,EAAOP,KACP+9F,EAAOx9F,EAAK8mI,UAAUh0G,IAAIxK,GAC1BhZ,EAAUtP,EAAKsP,QAAQwjB,IAAIxK,GAC3BrS,EAAUjW,EAAKiW,QAAQ6c,IAAIxK,GAC3Bs+C,EAAW1nE,EAAQ0nE,SACnBjjD,EAAUzkB,EAAQykB,QAEtB,IAAKijD,IAAajjD,EAAS,CACvB1N,EACKf,YAAYwpE,GACZ74D,GAAG2/G,EAAaxlI,EAAK2rH,cAC1B,GAAGr8G,GAAWA,EAAQ/P,OAAQ,CAC1B+P,EAAQ,GAAGqyB,gBAAgB6+D,GAC3BlxF,EAAQ,GAAGqyB,gBAAgBg/F,GAE/BrxH,EAAQsG,KAAKihG,EAAe,OACpBjhG,KAAK8vH,EAAe,OACpB7/G,GAAG,UAAYyC,EAAItoB,EAAKihG,SAASjgG,KAAKhB,IACtC6lB,GAAG,WAAayC,EAAItoB,EAAKghG,MAAMhgG,KAAKhB,IACpC6lB,GAAG,QAAUyC,EAAI,WACdtoB,EAAKiW,QAAQN,SAAS8oE,KAGlC+e,EAAK33E,GAAG2B,EAAIxnB,EAAKu1C,OAAOv0C,KAAKhB,IACxB6lB,GAAGw6E,EAAW1/F,OACf,CACHsV,EACKN,SAASgO,EAAU+6D,EAAgB,IACnCxpE,YAAYyO,EAAU,GAAK+6D,GAEhCpvE,EAAQsG,KAAK4qF,EAAU78E,GACf/N,KAAK+qH,EAAU/5D,GACfhxD,KAAKihG,EAAelzF,GACpB/N,KAAK8vH,EAAe9+D,KAIpCA,SAAU,SAASA,GACfnnE,KAAKq/E,UAAU,CACXlY,SAAUA,IAAa9pE,EAAY,KAAO8pE,EAC1CjjD,QAAS,QAEb,GAAIlkB,KAAKsnI,WACLtnI,KAAKsnI,WAAWjoD,UAAU,CACtBlY,SAAUA,IAAa9pE,EAAY,KAAO8pE,EAC1CjjD,QAAS,SAKrBE,OAAQ,SAASA,GACbpkB,KAAKq/E,UAAU,CACXlY,SAAU,MACVjjD,UAAWE,EAASA,IAAW/mB,EAAY,KAAO+mB,KAEtD,GAAIpkB,KAAKsnI,WACLtnI,KAAKsnI,WAAWjoD,UAAU,CACtBlY,SAAU,MACVjjD,UAAWE,EAASA,IAAW/mB,EAAY,KAAO+mB,MAK9D6H,QAAS,WACL,IAAI1rB,EAAOP,KAEX8mB,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,GAEvBA,EAAKumI,SAAS76G,UAEd1rB,EAAKsP,QAAQwjB,IAAIxK,GACjBtoB,EAAK8mI,UAAUh0G,IAAIxK,GAEnB,GAAItoB,EAAK8oH,MACL9oH,EAAK8oH,MAAMh2F,IAAI,QAAS9yB,EAAK+oH,gBAIrClgB,KAAM,WACFppG,KAAK8mI,SAAS19B,OACdppG,KAAKunI,qBAGTttF,MAAO,WACHj6C,KAAK8mI,SAAS7sF,SAGlBlrC,IAAK,SAASzH,GACV,OAAOtH,KAAK85H,QAAQxD,EAAKhvH,IAG7B4F,IAAK,SAAS5F,GACV,OAAOtH,KAAK85H,QAAQkM,EAAK1+H,IAG7BA,MAAO,SAASA,GACZ,IAAI/G,EAAOP,KAEX,GAAIsH,IAAUjK,EACV,OAAOkD,EAAKipH,OAGhBjpH,EAAK8nH,KAAO9nH,EAAK4mI,QAAQ7/H,GAEzB,GAAI/G,EAAK8nH,OAAS,KACd,GAAI9nH,EAAK+mI,WACL/mI,EAAK+mI,WAAWhgI,MAAM/G,EAAK8nH,WAE3B9nH,EAAKsP,QAAQw7C,IAAI,IAIzB9qD,EAAKgiI,SAAWhiI,EAAKsP,QAAQw7C,OAGjC6gE,aAAc,SAAS5pH,GACnBpF,EAAEoF,EAAEivC,eAAe1tB,YAAY88F,EAAOr+G,EAAEiF,OAAS,eAGrDg6F,MAAO,WACH,IAAIhhG,EAAOP,KACPsH,EAAQ/G,EAAKsP,QAAQw7C,MAEzB9qD,EAAK05C,QACL,GAAI3yC,IAAU/G,EAAKgiI,SAAU,CACzBhiI,EAAKy0D,QAAQ1tD,GACb,IAAKA,EACD/G,EAAKumI,SAASj+H,QAAQvL,EAAM0L,SAAS+vH,YAI7Cx4H,EAAKiW,QAAQf,YAAYupE,IAG7BlpC,OAAQ,SAASxzC,GACb,IAAI/B,EAAOP,KAEXO,EAAKumI,SAAShiH,SACdvkB,EAAKgnI,oBACLhnI,EAAKmvH,cAAcptH,EAAEiF,OAGzBmoH,cAAe,SAAS8X,GACpB,IAAI33H,EAAU7P,KAAK6P,QAEnB,KAAM5R,EAAQyc,OAAUzc,EAAQ2gB,wBAA0B4oH,GAAa,IAAIljI,MAAM,YAAeuL,EAAQ,KAAOJ,IAC3GI,EAAQxN,QAAQ,UAIxB2yD,QAAS,SAAS1tD,GACd,IAAI/G,EAAOP,KACX8gI,EAAWvgI,EAAKsP,QAAQw7C,MACxBo8E,EAEAngI,EAAQ/G,EAAK4mI,QAAQ7/H,GACrBmgI,GAAenqI,EAAM0L,SAASmxH,YAAY55H,EAAK8nH,KAAM/gH,GAErD,IAAIogI,EAAeD,IAAgBlnI,EAAK6pH,QACxC,IAAIud,EAAgB7G,IAAavgI,EAAKsP,QAAQw7C,MAE9C,GAAIq8E,GAAgBC,EAChBpnI,EAAKsP,QAAQxN,QAAQ4nC,GAGzB,GAAIw9F,EAAa,CACblnI,EAAK8nH,KAAO/gH,EACZ/G,EAAKgiI,SAAWhiI,EAAKsP,QAAQw7C,MAE7B9qD,EAAK8B,QAAQ4nC,GAGjB1pC,EAAK6pH,QAAU,OAGnB5oB,SAAU,SAASl/F,GACf,IAAI/B,EAAOP,KACP8mI,EAAWvmI,EAAKumI,SAChBx/H,EAAQ/G,EAAKsP,QAAQw7C,MACrBs8C,EAAU,MAEd,IAAKm/B,EAASj8B,MAAMz4E,WAAa9vB,EAAE8+B,SAAW7Z,EAAKK,OAAStgB,IAAU/G,EAAKgiI,SACvEhiI,EAAKy0D,QAAQ1tD,OACV,CACHqgG,EAAUm/B,EAASlyG,KAAKtyB,GACxB/B,EAAKwmI,YAAYD,EAAS3Z,UAE1B,IAAKxlB,EACDpnG,EAAK6pH,QAAU,UACZ,GAAI7pH,EAAK+mI,YAAchlI,EAAE4hF,yBAC5B5hF,EAAE4hF,6BAKdkb,MAAO,WACH,IAAI7+F,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QACfs+F,EAEJA,EAAOluF,EAAQ8rD,KAAK,yBAEpB,IAAKoiC,EAAK,GACNA,EAAO7gG,EAAEgH,EAAK27F,aAAa,oGAAqG,CAC5H9B,KAAM,WACN/rF,KAAMvS,EAAQuS,KACdib,SAAUxtB,EAAQwtB,SAClBoxE,MAAO,KACPpxF,QAAS,QACTo4E,YAAYx1E,GAGpBtP,EAAK8mI,UAAYtpC,EAAK5nF,KAAK,CACvByT,KAAQ,SACRigG,gBAAiBtpH,EAAKumI,SAASR,eAIvCiB,kBAAmB,WACf,IAAIhnI,EAAOP,KAEX,KAAMO,EAAKumI,SAAS99H,SAChBzI,EAAKumI,SAAS99H,SAAS/G,OAAOy0H,GAAUn1H,KAAKm1H,EAAS,WAClDvjG,WAAW,WACP5yB,EAAKsP,QAAQsG,KAAKysG,EAAuBriH,EAAKumI,SAAS99H,SAAS4wH,OAAOzjH,KAAKysG,SAM5FkX,QAAS,SAAS/qG,EAAQznB,GACtB,IAAI/G,EAAOP,KACPP,EAAUc,EAAKd,QAEnB,GAAI6H,IAAUjK,EACV,OAAOoC,EAAQsvB,GAGnBznB,EAAQo1C,EAAMp1C,EAAO7H,EAAQymI,aAAczmI,EAAQiJ,SAEnD,IAAKpB,EACD,OAGJ7H,EAAQsvB,GAAU,IAAIsoG,GAAM/vH,GAC5B/G,EAAKumI,SAAS/3G,GAAQznB,IAG1B6/H,QAAS,SAAS7/H,GACd,IAAI/G,EAAOP,KACPP,EAAUc,EAAKd,QACfsP,EAAMtP,EAAQsP,IACd7B,EAAMzN,EAAQyN,IACdrE,EAAUtI,EAAKipH,OACfzgH,EAAO2zC,EAAMp1C,EAAO7H,EAAQymI,aAAczmI,EAAQiJ,SAClDk/H,EAAc7+H,IAAS,MAAQF,IAAY,MAAUE,aAAgBpD,MAAQkD,aAAmBlD,KAChGkiI,EAEJ,GAAIpoI,EAAQm4H,aAAa7uH,GAAO,CAC5BA,EAAO,KACP,IAAKxI,EAAK8nH,OAAS9nH,EAAKsP,QAAQw7C,MAC5B/jD,EAAQ,KAIhB,IAAKyB,KAAUF,GAAW++H,EAAY,CAClCC,EAAiBvqI,EAAMoI,SAASqD,EAAMtJ,EAAQoF,OAAQpF,EAAQiJ,SAE9D,GAAIm/H,IAAmBvgI,KAAW/G,EAAK+mI,aAAev+H,GAClDxI,EAAKsP,QAAQw7C,IAAItiD,IAAS,KAAOzB,EAAQugI,GAG7C,OAAO9+H,EAGX,GAAIA,IAAS,MAAQw3H,EAAgBx3H,EAAMgG,GACvChG,EAAO0vH,EAAc1vH,EAAMgG,EAAK7B,QAC7B,IAAKiuH,EAAUpyH,EAAMgG,EAAK7B,GAC7BnE,EAAO,KAGXxI,EAAKipH,OAASzgH,EACdxI,EAAKumI,SAASx/H,MAAMyB,GACpB,GAAIxI,EAAK+mI,YAAcv+H,EACnBxI,EAAK+mI,WAAWhgI,MAAMyB,GAAQzB,QAE9B/G,EAAKsP,QAAQw7C,IAAI/tD,EAAMoI,SAASqD,GAAQzB,EAAO7H,EAAQoF,OAAQpF,EAAQiJ,UAE3EnI,EAAKwmI,YAAYh+H,GAEjB,OAAOA,GAGXizE,SAAU,WACN,IAAIz7E,EAAOP,KACP6P,EAAUtP,EAAKsP,QACf2G,EAEJA,EAAU3G,EAAQyiB,QAAQ,iBAE1B,IAAK9b,EAAQ,GACTA,EAAU3G,EAAQuF,KAAK0wH,GAAMvwH,SAGjCiB,EAAQ,GAAGZ,MAAMqE,QAAUpK,EAAQ,GAAG+F,MAAMqE,QAC5CpK,EAAQgF,IAAI,CACRgB,OAAQhG,EAAQ,GAAG+F,MAAMC,SAG7BtV,EAAKiW,QAAUA,EAAQN,SAAS,wBAC3BA,SAASrG,EAAQ,GAAG+I,WAAWnD,YAAY,2BAGpDgtD,OAAQ,WACJ,IAAIliE,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfsgH,EAAStgH,EAAQsG,KAAK,QACtB1W,EAAUc,EAAKd,QACfmnI,EAAennI,EAAQm4H,aACvBsO,EAAezmI,EAAQymI,aAAapmI,OAASL,EAAQymI,aAAe,KACpE4B,EAAevnI,EAAKsmI,gBAAgBv/H,MACpC25B,EAAOkvF,EAASjzH,EAAE,IAAMizH,GAAUtgH,EAAQ0K,QAAQ,QAClDmpH,EAAe7zH,EAAQ,GAAGq0C,aAE9B,GAAI4jF,IAAiBlB,GAAgBA,EAAakB,IAC9CA,EAAe,KAGnB,KAAMpE,IAAiBpmI,EAAMmc,UAAUiqH,EAAcwC,EAAczmI,EAAQiJ,WAAao/H,EACpFj4H,EAAQsG,KAAK,QAAS7Y,EAAMoI,SAASoiI,EAAcroI,EAAQoF,OAAQpF,EAAQiJ,UAG/E,GAAIu4B,EAAK,GAAI,CACT1gC,EAAK+oH,cAAgB,WACjB/oH,EAAK+G,MAAMwgI,GAAgBj4H,EAAQ,GAAGq0C,cACtC3jD,EAAK2M,IAAI3M,EAAKsmI,gBAAgB35H,KAC9B3M,EAAKwO,IAAIxO,EAAKsmI,gBAAgB93H,MAGlCxO,EAAK8oH,MAAQpoF,EAAK7a,GAAG,QAAS7lB,EAAK+oH,iBAI3C9qB,UAAW,WACPx+F,KAAKwnG,cAAgBxjG,EAAShE,KAAKP,QAAQ6mG,cAAc/kG,KAAKvB,OAGlEknI,iBAAkB,SAASznI,GACvB,GAAIO,KAAKsnI,WAAY,CACjBtnI,KAAKsnI,WAAWr7G,UAChBjsB,KAAKsnI,WAAa,KAGtB,GAAI7nI,EAAQ2nI,UACRpnI,KAAKsnI,WAAa,IAAIrgH,EAAGm6G,UAAUphI,KAAK6P,QAAS,CAC7CnH,QAASjJ,EAAQiJ,QACjB7D,OAAQpF,EAAQoF,OAChBmN,KAAMvS,EAAQuS,KACdib,SAAUxtB,EAAQwtB,SAClBhgB,QAASxN,EAAQwN,QACjB8B,IAAKtP,EAAQsP,IACb7B,IAAKzN,EAAQyN,OAKzB65H,YAAa,SAASh+H,GAClB,IAAIxI,EAAOP,KACX,IAAIgJ,EAAWzI,EAAKumI,SAAS99H,SAE7B,GAAIzI,EAAKsP,SAAWtP,EAAKsP,QAAQ/P,OAC7BS,EAAKsP,QAAQ,GAAGqyB,gBAAgB0gF,GAGpC,GAAI55G,EACAzI,EAAKsP,QAAQsG,KAAKysG,EAAuB55G,EAASo+F,YAAY7mG,EAAKinG,cAAez+F,QAgBlG,OAXIzL,EAAMqvB,cAAc0Y,eAAe,aAAc,YAEjD/nC,EAAMqvB,cAAc4Y,eAAe,aAAc,CAAC,CAC9C/Y,KAAM,UACNtd,OAAQ5R,EAAMqvB,cAAc2X,cAAchwB,OAAO,CAAC,CAAC,OAAQ,aAG/D2S,EAAG+J,OAAOu1G,GAIPnpI,OAAOE,QA11Bd,CA41BoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,oBAAoB,CAAE,cAC9B,WAEH,IAAIC,EAAW,CACXC,GAAI,cACJC,KAAM,cACNC,SAAU,YACVqtC,QAAS,CAAE,QACXC,OAAQ,MAGF9sC,EAqyDPE,OAAOE,MAAMH,OAryDHE,OAAb,EACQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM2pB,GACXH,EAASG,EAAGH,OACZiH,EACA2yF,EAAuB,kBACvBqnB,EAAe,mCACfC,EAAgB,gCAChBC,EAAS,6BACTC,EAAY,cACZC,EAAa,cACbC,EAAkB,qBAClBC,EAAY,0BACZnnB,EAAU,YACVC,EAAa,eAEbnnB,EAAW,aACXhb,EAAU,UACV2hC,EAAQ,UACR12E,EAAS,SACT02D,EAAQ,QACR2nC,EAAY,YACZC,EAAa,aAEbvgC,EAAW,WACXD,EAAa,aAEbsb,EAAgB,qBAEhBmlB,EAAkB,eAEtB,SAASC,EAASl3H,GACd,OAAOA,EAAMA,EAAMzR,OAAS,GAGhC,SAASgqD,EAAQxiD,GACb,OAAOA,aAAiB3J,MAAQ2J,EAAQ,CAACA,GAG7C,SAASohI,EAAYp6G,GACjB,cAAcA,IAAa,iBAAmBA,IAAa,iBAAmBA,IAAa,UAG/F,SAASq6G,EAAahtH,EAAcitH,EAAalU,GAC7C,OAAO52H,KAAKy+D,KAAK5gD,EAAeitH,EAAclU,GAGlD,SAASt6G,EAAY7E,EAAQqD,EAAWqR,GACpC,IAAIpa,EAAUL,SAASwK,cAAciQ,GAAW,OAChD,GAAIrR,EACA/I,EAAQ+I,UAAYA,EAExBrD,EAAO6E,YAAYvK,GAEnB,OAAOA,EAGX,SAASg5H,EAAqB/iB,GAC1B,IAAIgjB,EAAW5rI,EAAE,sBAAwB4oH,EAAW,oBAC5C,iDACI,yBACI,2BACI,6CACJ,QACJ,QACJ,SACJ,UACJ,IAAIijB,EAEJD,EAASj0H,IAAI,CACT8B,SAAU,WACV1B,KAAM,YACN28E,WAAY,WAEhBk3C,EAAS5jG,SAAS11B,SAAS2K,MAC3B4uH,EAAal1H,WAAWvW,EAAM6a,kBAAkB2wH,EAAS/4G,KAAK,gBAAgB,GAAI,CAAC,WAAWla,QAC9FizH,EAAS/3G,SAET,OAAOg4G,EAGX,SAASC,EAAYrtH,EAAcitH,EAAaK,GAC5C,MAAO,CACHtmH,KAAMhH,EAAestH,EACrBrmH,GAAIjH,GAAgBitH,EAAc,EAAIK,IAI9C,SAASC,EAAczpI,EAASkc,GAC5B,IAAIwtH,GAAiB1pI,EAAQmpI,YAAc,EAAInpI,EAAQkhB,WAAahF,EACpE,IAAIytH,EAAc3pI,EAAQkhB,UAAYhF,EAEtC,OAAO,SAASmmD,EAAMnxC,EAAW04G,GAC7B,GAAI14G,EAAY04G,EACZ,OAAO14G,EAAYmxC,EAAK/hD,IAAMopH,OAE9B,OAAOrnE,EAAK/hD,MAAQ,GAAK4Q,EAAYmxC,EAAK/hD,IAAMqpH,GAK5D,SAASE,EAAez5H,EAASsW,GAC7B,OAAO,SAASuF,GACZ,OAAOvF,EAAStW,EAAQ8gB,UAAWjF,IAI3C,SAAS69G,EAASC,GACd,OAAO,SAAS1nE,EAAMp2C,GAClB89G,EAAQ1nE,EAAKzzC,MAAOyzC,EAAK3yD,MAAOuc,GAChC,OAAOo2C,GAIf,SAASnrD,EAAS9G,EAAS1B,GACvB0B,EAAQ+F,MAAM6zH,gBAAkB,cAAgBt7H,EAAI,MACpD0B,EAAQ+F,MAAM07D,UAAY,cAAgBnjE,EAAI,MAGlD,SAASu7H,EAAKvjH,EAAUm8E,GACpB,OAAO,SAASqnC,EAAMC,GAClB,IAAK,IAAI/pI,EAAI,EAAGsqB,EAAMw/G,EAAK7pI,OAAQD,EAAIsqB,EAAKtqB,IAAK,CAC7CsmB,EAASwjH,EAAK9pI,GAAI+pI,EAAK/pI,GAAIyiG,GAC3B,GAAIsnC,EAAK/pI,GAAGopC,KACRjpC,KAAKqC,QAAQkmI,EAAY,CAAEt/F,KAAM/rC,EAAEysI,EAAK9pI,IAAKoE,KAAM2lI,EAAK/pI,GAAGopC,KAAMpgB,GAAIvrB,EAAM2pB,OAM3F,SAAS4iH,EAAQx7G,EAAOgL,GACpB,IAAI0wB,EAEJ,GAAI1wB,EAAO,EAAG,CACV0wB,EAAQ17B,EAAM5rB,OAAO,EAAG42B,GACxBhL,EAAMnsB,KAAKxB,MAAM2tB,EAAO07B,OACrB,CACHA,EAAQ17B,EAAM5rB,OAAO42B,GAAOA,GAC5BhL,EAAMjsB,QAAQ1B,MAAM2tB,EAAO07B,GAG/B,OAAOA,EAGX,SAAShmD,EAAO8L,EAAS5L,EAAMq+F,GAC3B,IAAIW,EAAeX,EAAUt+F,SACzBgxH,EAAah1H,KAAKP,QAAQkkH,SAAW3jH,KAAKP,QAAQkkH,QAAQ7jH,OAC1Dm1H,EAAShxH,EAAKkL,MAAQ,IAAM,EAAI,kBAAoB,GAExDU,EAAU3S,EAAE2S,GAEZ,IAAK5L,EAAKglC,KACNg6D,EAAeX,EAAUwnC,oBAG7B,GAAI7lI,EAAKkL,QAAU,GAAKnP,KAAK26C,QAAU12C,EAAKqmD,MACxCtqD,KAAK26C,OAAOz2C,KAAKo+F,EAAUujB,mBAAmB5hH,EAAKqmD,QAGvDtqD,KAAK0qB,QAAQ,UAAW,WACpB,MAAO,CAAE0D,SAAU,CAAEve,MAGzBA,EACKsG,KAAK,WAAYlS,EAAKglC,KAAOhlC,EAAKglC,KAAKsZ,IAAM,IAC7CpsC,KAAK,oBAAqBlS,EAAKkL,OAEpC,GAAI6lH,GAAc/wH,EAAKglC,KAAM,CACzB,GAAIgsF,EAAOn1H,OAAS,EAChB+P,EAAQqG,SAAS++G,QAEjBplH,EAAQ4F,YAAY,mBAExB5F,EAAQ3L,KAAK6lI,EAAc/pI,KAAKP,QAASwE,EAAKglC,KAAMq5D,QACjD,CACHzyF,EAAQkgB,KAAK,IAAMs4G,GAAWt3G,SAC9BlhB,EAAQkgB,KAAK,qBAAqB7rB,KAAK++F,EAAah/F,EAAKglC,MAAQ,KAGrEp5B,EAAQgU,YAAYm7D,EAAS/6E,EAAK4E,SAClCgH,EAAQgU,YAAYm2E,EAAU/1F,EAAK+jE,UACnCn4D,EAAQgU,YAAY,UAAW5f,EAAK+pD,UACpCn+C,EAAQgU,YAAY,SAAU5f,EAAKixH,mBACnCrlH,EAAQgU,YAAY,kBAAmB5f,EAAKglC,MAE5C,GAAIhlC,EAAKkL,QAAU,GAAKlL,EAAK+pD,SACzB,GAAIgnE,EACA93H,EAAE,mDAAqDolG,EAAUsjB,cAAc3hH,EAAKqmD,OAAS,kBACxFplB,SAASr1B,QAEd3S,EAAE,cAAgBmrI,EAAY,WACzBnjG,SAASr1B,GACT3L,KAAKo+F,EAAUsjB,cAAc3hH,EAAKqmD,aAExC,GAAIrmD,EAAKqmD,OAAS0qE,EACrBnlH,EAAQkxD,OAAO7jE,EAAE,uDAGrB,GAAI+G,EAAK8b,MAAQ1iB,EACbsZ,EAAS9G,EAAQ,GAAI5L,EAAK8b,KAG9B/f,KAAK0qB,QAAQ,UAAW,WACpB,MAAO,CAAE0D,SAAU,CAAEve,GAAW5L,KAAM,CAAE,CAAEqqB,SAAUrqB,EAAKglC,KAAMqhB,MAAOrmD,EAAKqmD,MAAO0D,SAAU/pD,EAAK+pD,cAIzG,SAAS+7E,EAActqI,EAAS6uB,EAAUg0E,GACtC,IAAIr5D,EAAO,GAEX,IAAK,IAAIppC,EAAI,EAAGA,EAAIJ,EAAQkkH,QAAQ7jH,OAAQD,IAAK,CAC7C,IAAIklH,EAAetlH,EAAQkkH,QAAQ9jH,GAAG8V,MACtC,IAAIqvG,EAAkB31G,SAAS01G,EAAc,IAC7C,IAAIE,EAAa,GAEjB,GAAGF,EAAa,CACZE,GAAc,gBACdA,GAAcD,EACdC,GAAcvE,EAAqB/5G,KAAKo+G,GAAgB,IAAM,KAC9DE,GAAc,KAElBh8E,GAAQ,4BAA8Bg8E,EAAa,IACnDh8E,GAAQq5D,EAAU,SAAUziG,GAAGyuB,GAC/B2a,GAAQ,UAGZ,OAAOA,EAGX,SAASwsF,EAAgBztD,EAAU6tD,GAC/B,IAAIj9D,EAAci9D,EAAa/1H,OAC/B,IAAIg2H,EAAiB9tD,EAASloE,OAC9B,IAAIwuB,EACJ,IAAI2lC,EACJ,IAAIp0D,EAAG2lC,EAEP,IAAIkwF,EAAU,GACd,IAAIC,EAAY,GAEhB,GAAIG,EACA,IAAKj2H,EAAI,EAAGA,EAAIi2H,EAAgBj2H,IAAK,CACjCyuB,EAAW05C,EAASnoE,GACpBo0D,EAAQ,MAER,IAAKzuB,EAAI,EAAGA,EAAIozB,EAAapzB,IACzB,GAAIlX,IAAaunG,EAAarwF,GAAI,CAC9ByuB,EAAQ,KACRyhE,EAAQxzH,KAAK,CAAEiN,MAAOtP,EAAGopC,KAAM3a,IAC/B,MAIR,IAAK2lC,EACD0hE,EAAUzzH,KAAKosB,GAK3B,MAAO,CACHonG,QAASA,EACTC,UAAWA,GAInB,SAASqU,EAAgBpmH,GACrB,OAAOA,GAAWA,EAAQ6lC,UAAY,WAG1C,IAAI08D,EAxQkBl/F,EAAG8G,gBAwQSvwB,OAAO,CACrCiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACPw5H,EAAiB/5H,EAAQkkH,SAAWlkH,EAAQkkH,QAAQ7jH,OAASkoI,EAAgBD,EAEjFxnI,EAAK2oE,MAAM,OACX3oE,EAAK0pI,UAAY,MAEjBnjH,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnC,IAAKc,EAAKd,QAAQi1H,WACdn0H,EAAKd,QAAQi1H,WAAamU,EAAqBppI,EAAQqmH,UAG3DrmH,EAAUc,EAAKd,QAEfc,EAAKsP,QAAQsG,KAAK,OAAQ,WAE1B5V,EAAKs6C,QAAUt6C,EAAKiW,QAAUjW,EAAKsP,QAAQuF,KAAK,iCAAmCokH,EAAiB,YAAYjkH,SAEhH,GAAGhV,EAAKd,QAAQkkH,SAAWpjH,EAAKd,QAAQkkH,QAAQ7jH,OAAQ,CACpD,IAAIsxH,EAAQ7wH,EAAKsP,QAAQ0K,QAAQ,iBAAiBwV,KAAK,kBACvD,IAAI60F,EAAM1nH,EAAE,iCACR,mCAAqCqD,EAAKd,QAAQkkH,QAAQ7jH,OAAS,UACvE,SAEAsxH,EAAMrwD,OAAO6jD,GAEbrkH,EAAKo6C,OAASiqE,EAAI70F,KAAK,eACvBxvB,EAAKsP,QAAQqG,SAASirG,EAAa,wBAChC,CACH5gH,EAAKo6C,OAASp6C,EAAKs6C,QAAQ08C,OAAO,eAAiB0wC,EAAS,YAAY96F,OACxE5sC,EAAKsP,QAAQqG,SAASgrG,GAG1B,GAAGzhH,EAAQ8tB,UACPvtB,KAAK6P,QAAQsG,KAAK,aAAc1W,EAAQ8tB,gBACrC,GAAG9tB,EAAQ+tB,eACdxtB,KAAK6P,QAAQsG,KAAK,kBAAmB1W,EAAQ+tB,gBAGjDjtB,EAAKsP,QAAQuW,GAAG,aAAeoiH,EAAiB,0BAA2B,WAAatrI,EAAE8C,MAAMkW,SAASyqG,KAC5Fv6F,GAAG,aAAeoiH,EAAiB,KAAM,WAAatrI,EAAE8C,MAAMyV,YAAYkrG,KAEvFpgH,EAAKixH,QAAU1nE,EAAQvpD,EAAKd,QAAQ6H,OACpC/G,EAAK2pI,mBAAqB,GAC1B3pI,EAAK4pI,iBAAmB,GACxB5pI,EAAK6pI,YAAc,GACnB7pI,EAAK8pI,cAAgB,GACrB9pI,EAAK8wH,UAAY/zH,EAAMksB,OAEvBjpB,EAAKmxH,aAELnxH,EAAKomG,cAAclnG,EAAQkrB,YAE3BpqB,EAAKs6C,QAAQz0B,GAAG,SAAWoiH,EAAiBlrI,EAAMqhC,SAAS,WACvDp+B,EAAK+pI,eACL/pI,EAAKgqI,qBACN9qI,EAAQm/B,QAEXr+B,EAAKu3H,eAGTr4H,QAAS,CACLhD,KAAM,cACN+qE,SAAU,KACV5oC,MAAO,IACP/oB,OAAQ,KACR+yH,YAAa,EACbjoH,UAAW,GACX+zG,WAAY,KACZ8V,eAAgB,EAChBjjI,KAAM,OACN81F,WAAY,MACZ/1F,MAAO,GACP4/D,eAAgB,KAChBljE,SAAU,UACV8lI,oBAAqB,aACrBlkB,cAAe,UACfC,mBAAoB,UACpB4kB,WAAY,QACZzd,YAAa,KACbz/F,UAAW,KACXC,eAAgB,MAGpBxrB,OAAQ,CACJioC,EACA02D,EACA2nC,EACAC,EACAvgC,EACAD,GAGJz8E,WAAY,SAAS7rB,GACjB,IAAIirI,EAAY1qI,KAAKP,QAAQkkH,SAAW3jH,KAAKP,QAAQkkH,QAAQ7jH,OAASqoI,EAAaD,EAEnFphH,EAAOnmB,GAAG2qB,WAAW9oB,KAAKxC,KAAMP,GAEhC,GAAIO,KAAK2qI,cAAgB3qI,KAAKP,QAAQ49F,aAAe,MACjDr9F,KAAK6P,QAAQwjB,IAAIstE,EAAO,IAAM+pC,EAAW1qI,KAAK2qI,mBAC3C,IAAK3qI,KAAK2qI,cAAgB3qI,KAAKP,QAAQ49F,WAC1Cr9F,KAAK83H,cAGT93H,KAAK0xH,aACL1xH,KAAK8Z,WAGTuU,MAAO,WACH,OAAOnxB,EAAE8C,KAAK65F,SAGlB5tE,QAAS,WACLjsB,KAAKwW,QAAQ6c,IAAIm1G,GACjBxoI,KAAK2qB,WAAW1oB,OAAOgoC,EAAQjqC,KAAKklG,iBACpCp+E,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,OAG3B2mG,cAAe,SAAS7vF,GACpB,IAAIvW,EAAOP,KACX,IAAI2qB,EAAa7T,GAAU,GAC3B,IAAIxP,EAEJqjB,EAAahtB,MAAMD,QAAQitB,GAAc,CAAC1mB,KAAM0mB,GAAcA,EAC9DA,EAAartB,EAAM2G,KAAKgT,WAAWimC,OAAOvyB,GAE1C,GAAIpqB,EAAKoqB,WAAY,CACjBpqB,EAAKoqB,WAAW1oB,OAAOgoC,EAAQ1pC,EAAK2kG,iBAEpC3kG,EAAKqqI,SACLrqI,EAAK2oE,MAAM,OAEX3oE,EAAKsqI,eAAiB,KACtBvjI,EAAQ/G,EAAK+G,QAEb/G,EAAK+G,MAAM,IACX/G,EAAKuqI,KAAK,WACNvqI,EAAK+G,MAAMA,UAGf/G,EAAK2kG,gBAAkB3kG,EAAKuZ,QAAQvY,KAAKhB,GAG7CA,EAAKoqB,WAAaA,EAAWppB,KAAK0oC,EAAQ1pC,EAAK2kG,iBAE/C3kG,EAAKunH,YAAYn9F,EAAWsF,UAE5B,GAAItF,EAAW+G,OAAO5xB,SAAW,EAC7BS,EAAKuZ,eACF,GAAIvZ,EAAKd,QAAQ+nE,SACpB78C,EAAW8wC,SAInB/nB,KAAM,WACF,OAAO1zC,KAAK2qB,WAAWqtC,qBAG3BuyE,kBAAmB,WACf,IAAIhqI,EAAOP,KACX,IAAI0zC,EAAOnzC,EAAKmzC,OAEhB,GAAInzC,EAAK2oE,UAAY3oE,EAAKwqI,iBAAmBxqI,EAAKm2D,QAAUhjB,EAAM,CAC9DnzC,EAAKm2D,MAAQhjB,EACbnzC,EAAK8B,QAAQimI,KAIrB5V,WAAY,SAAS1kG,GACjB,IAAI7E,EAASnpB,KAAK2yH,aAElB,OAAOz1H,EAAEgU,IAAI8c,EAAW,SAASM,GAC7B,OAAOnF,EAAOmF,MAItB08G,wBAAyB,WACrB,IAAK,IAAInrI,EAAI,EAAGA,EAAIG,KAAKkqI,mBAAmBpqI,OAAQD,IAAK,CACrD,IAAIopC,EAAOjpC,KAAKirI,sBAAsBjrI,KAAKkqI,mBAAmBrqI,IAC9D,GAAGopC,EAAKnpC,OACJmpC,EAAK/yB,SAAS8jF,KAK1BlgF,QAAS,SAASxX,GACd,IAAI/B,EAAOP,KACX,IAAI+kC,EAASziC,GAAKA,EAAEyiC,OACpB,IAAIywF,EAAezwF,IAAW,aAC9B,IAAIsuF,EAAWrzH,KAAKmqH,aACpB,IAAI5gH,EAEJ,GAAIhJ,EAAK2qI,MAAS,OAElB3qI,EAAKsqI,eAAiB,MAEtB,IAAKtqI,EAAK0pI,UAAW,CACjB,GAAI5W,EACA9yH,EAAK8+B,MAAM,GAGf9+B,EAAK4qI,cACL,IAAKpmG,GAAUxkC,EAAKixH,QAAQ1xH,SAAWuzH,IACjC9yH,EAAKd,QAAQ81H,mBAAqBh1H,EAAK2oH,aAAc,CACvD3oH,EAAKwqI,gBAAkB,KAEvBxqI,EAAK2oE,MAAM,MACX3oE,EAAK+G,MAAM/G,EAAKixH,QAAS,MAAMvqF,KAAK,WAChC1mC,EAAKwqI,gBAAkB,MACvBxqI,EAAKgqI,0BAEN,CACHhqI,EAAK2oE,MAAM,MACX3oE,EAAKyqI,0BACLzqI,EAAKgqI,yBAEN,CACH,GAAIhqI,EAAK+pI,aACL/pI,EAAK+pI,aAAa,MAGtB/pI,EAAKgqI,oBAGT,GAAI/U,GAAgBzwF,IAAW,SAAU,CACrCx7B,EAASksH,EAAgBl1H,EAAK2pI,mBAAoB5nI,EAAE+rB,OACpD,GAAI9kB,EAAOmsH,QAAQ51H,OACf,GAAI01H,EACAj1H,EAAK8B,QAAQ,qBAAsB,CAC/BgsB,MAAO9kB,EAAOmsH,eAGlBn1H,EAAK+G,MAAM/G,EAAKmyH,WAAWnpH,EAAOosH,YAK9Cp1H,EAAK0pI,UAAY,OAGrBxW,SAAU,SAAS98G,GACf,IAAIrP,EAAQtH,KAAKwxH,QAAQ/uH,OAAOkU,EAAU,GAAG,GAE7C,MAAO,CACHA,SAAUA,EACV2X,SAAUtuB,KAAKorI,wBAAwB9jI,KAI/C8jI,wBAAyB,SAAU9jI,GAC/B,IAAI/G,EAAOP,KACPqrI,EAAc9qI,EAAKoyH,aAEvB,IAAK,IAAIhxH,KAAOpB,EAAK2pI,mBACjB,GAAGmB,EAAY9qI,EAAK2pI,mBAAmBvoI,MAAU2F,EAAO,CACpD/G,EAAK4pI,iBAAiB1nI,OAAOd,EAAK,GAClC,OAAOpB,EAAK2pI,mBAAmBznI,OAAOd,EAAK,GAAG,KAK1D+xH,SAAU,SAASpsH,GACftH,KAAKwxH,QAAU1nE,EAAQxiD,IAG3BA,MAAO,SAASA,EAAOgkI,GACnB,IAAI/qI,EAAOP,KAEX,GAAIsH,IAAUjK,EACV,OAAOkD,EAAKixH,QAAQryH,QAGxB,GAAImI,IAAU,KACVA,EAAQ,GAGZA,EAAQwiD,EAAQxiD,GAEhB,IAAK/G,EAAKozH,gBAAkBpzH,EAAKozH,eAAelqE,UAAY,WACxDlpD,EAAKozH,eAAiBz2H,EAAEupC,WAG5B,IAAI8kG,EAAchrI,EAAKd,QAAQ49F,aAAe,YAAc98F,EAAKs/B,SAAS//B,QAAUwH,EAAMxH,OAE1F,GAAIyrI,IAAgBjkI,EAAMxH,OACtBS,EAAKs/B,QAAQ,GAGjBt/B,EAAKixH,QAAUlqH,EAEf,GAAK/G,EAAK2oE,UAAY3oE,EAAK2qI,QAAU3qI,EAAKsqI,gBAAmBS,EACzD/qI,EAAKirI,iBAAiBlkI,GAG1B,OAAO/G,EAAKozH,gBAGhB8X,kBAAmB,SAAUnkI,GACzB,GAAItH,KAAK0rI,sBACL1rI,KAAK0rI,qBAAqB5rI,SAAWwH,EAAMxH,OAAQ,CAC/C,IAAI6pE,EAAW3pE,KAAK0rI,qBAAqBvsI,QACzCa,KAAK0rI,qBAAuB,KAChC,OAAO/hE,EAGX,OAAOriE,GAGXkkI,iBAAkB,SAASlkI,GACvB,IAAI/G,EAAOP,KACP2rI,EAAWprI,EAAKqrI,UAChBP,EAAc9qI,EAAKoyH,aACnB8X,EAAalqI,EAAKd,QAAQgrI,WAC1BxhG,EAAM3kC,EAAQ,MACdunI,EAAe,GAGnB,IAAK,IAAIhsI,EAAI,EAAGA,EAAIyH,EAAMxH,OAAQD,IAC9B,IAAK,IAAI8B,EAAM,EAAGA,EAAMgqI,EAAS7rI,OAAQ6B,IAAO,CAC5CsnC,EAAO0iG,EAAShqI,GAAKsnC,KACrB,GAAIA,EAAM,CACN3kC,EAAQokI,EAAYz/F,GAAQ3hC,EAAMzH,KAAOopC,EAAO3hC,EAAMzH,KAAOwrI,EAAYpiG,GAEzE,GAAI3kC,EACAunI,EAAa3pI,KAAKypI,EAAShqI,GAAKwN,QAMhD,GAAI08H,EAAa/rI,SAAWwH,EAAMxH,OAAQ,CACtCS,EAAKixH,QAAU,GACfjxH,EAAKs/B,OAAOgsG,GACZ,OAIJ,UAAWtrI,EAAKd,QAAQutH,cAAgB,WACpCzsH,EAAKd,QAAQutH,YAAY,CACrB1lH,MAAQtH,KAAKP,QAAQ49F,aAAe,WAAc/1F,EAAQA,EAAM,GAChEm2C,QAAS,SAASC,GACd,GAAI+sF,IAAe,QACflqI,EAAKurI,gBAAgBpuF,QAClB,GAAI+sF,IAAe,WACtBlqI,EAAKwrI,mBAAmBruF,WAKnC,IAAKn9C,EAAK+G,QAAQ,GACd/G,EAAKs/B,OAAO,EAAE,QACX,CACJt/B,EAAKwqI,gBAAkB,MACvBxqI,EAAKgqI,sBAKjBuB,gBAAiB,SAAS7wE,GACtB,GAAIA,IAAY59D,GAAa49D,KAAa,GAAKA,IAAY,KACvDA,EAAU,QAEVA,EAAUnR,EAAQmR,GAGtB,IAAKA,EAAQn7D,OACTm7D,EAAU,EAAE,OACT,CACH,IAAIssD,EAAUvnH,KAAKuzH,UAAU,IAAIhM,QACjC,GAAIA,EAAQznH,OACRE,KAAK2sH,eAAepF,EAAS,IAIrCvnH,KAAK6/B,OAAOo7B,IAGhB8wE,mBAAoB,SAAS/9G,GACzB,IAAIu5F,EAAS6L,EAEb,GAAIplG,IAAc3wB,GAAa2wB,IAAc,KACzCA,EAAY,QAEZA,EAAY87B,EAAQ97B,GAGxB,IAAKA,EAAUluB,OACXE,KAAK6/B,OAAO,EAAE,QACX,CACH0nF,EAAUrqH,EAAEgU,IAAIlR,KAAKkqI,mBAAoB,SAASjhG,EAAM95B,GACpD,MAAO,CAAEA,MAAOA,EAAOmf,SAAU2a,KAGrCmqF,EAAQl2H,EAAEgU,IAAI8c,EAAW,SAASib,EAAM95B,GACpC,MAAO,CAAEA,MAAOA,EAAOmf,SAAU2a,KAGrCjpC,KAAKkqI,mBAAqBl8G,EAE1BhuB,KAAKmqI,iBAAmB,GAExB,IAAK,IAAItqI,EAAI,EAAGA,EAAIG,KAAKkqI,mBAAmBpqI,OAAQD,IAAK,CACrD,IAAIopC,EAAOjpC,KAAKirI,sBAAsBjrI,KAAKkqI,mBAAmBrqI,IAC9DG,KAAKmqI,iBAAiBjoI,KAAKlC,KAAKgsI,aAAa/iG,GAAM,IACnDA,EAAK/yB,SAAS8jF,GAGlBh6F,KAAK2sH,eAAepF,EAAS6L,GAE7B,GAAIpzH,KAAK2zH,eACL3zH,KAAK2zH,eAAexhE,YAKhC85E,cAAe,SAAS98H,GACpB,IAAIwb,EAAa3qB,KAAK2qB,WACtB,IAAIwuB,EAAOn5C,KAAK2qD,UAChB,IAAIoE,EAAS/uD,KAAKoqI,YAClB,IAAI7gI,EAASrM,EAAEupC,WACf,IAAIylG,EAAO,GAEX,IAAIC,EAAMruI,KAAK6G,MAAMwK,EAAQgqC,GAAQA,EACrC,IAAIizF,EAAOtuI,KAAKy+D,KAAKptD,EAAQgqC,GAAQA,EAErC,IAAIkzF,EAAQD,IAASD,EAAM,CAAEC,GAAS,CAAED,EAAKC,GAE7ClvI,EAAEO,KAAK4uI,EAAO,SAAS7mH,EAAGkuB,GACtB,IAAI9vC,EAAM8vC,EAAOyF,EACjB,IAAImzF,EAAgBv9E,EAAOrb,GAC3B,IAAIlN,EAEJ,IAAK8lG,GAAkBA,EAAc1oI,MAAQA,EAAM,CAC/C4iC,EAAWtpC,EAAEupC,WACbsoB,EAAOrb,GAAQ,CAAE9vC,IAAKA,EAAK4iC,SAAUA,GAErC7b,EAAWk0C,kBAAkBnrB,EAAMyF,EAAM,WACrC3S,EAAS2rB,iBAGb3rB,EAAW8lG,EAAc9lG,SAG7B0lG,EAAKhqI,KAAKskC,KAGdtpC,EAAE03D,KAAKl0D,MAAMxD,EAAGgvI,GAAMr3E,KAAK,WACvBtrD,EAAO4oD,YAGX,OAAO5oD,GAGX6zD,SAAU,SAASnC,GACf,IAAI16D,EAAOP,KACPm5C,EAAOn5C,KAAK2qD,UACZ4hF,GAAehsI,EAAK8pI,cAAcvqI,OAEtC,IAAKkqI,EAAgBzpI,EAAKisI,iBAAkB,CACxCjsI,EAAKisI,gBAAkBtvI,EAAEupC,WACzBlmC,EAAK8pI,cAAgB,GAGzBntI,EAAEO,KAAKw9D,EAAS,SAASz1C,EAAGrW,GACxB5O,EAAK8pI,cAAcnoI,KAAK3B,EAAK0rI,cAAc1rI,EAAKksI,SAASt9H,EAAOgqC,OAGpE,GAAIozF,EACArvI,EAAE03D,KAAKl0D,MAAMxD,EAAGqD,EAAK8pI,eAAepjG,KAAK,WACrC1mC,EAAK8pI,cAAgB,GACrB9pI,EAAKisI,gBAAgBr6E,YAI7B,OAAO5xD,EAAKisI,iBAGhBE,cAAe,SAASh7G,EAAMviB,GAC1B,IAAIm7C,EAGJ,GAAItqD,KAAKP,QAAQ8H,OAAS,QACtB,IAAK,IAAI1H,EAAI,EAAGA,EAAI6xB,EAAK5xB,OAAQD,IAAK,CAClCyqD,EAAQ54B,EAAK7xB,GAAGwuB,MAChB,GAAIi8B,EAAMxqD,QAAUqP,EAChBA,EAAQA,EAAQm7C,EAAMxqD,YAEtB,OAAOwqD,EAAMn7C,GAMzB,OAAOuiB,EAAKviB,IAGhBw9H,UAAW,SAASj5F,EAAMyF,GACtB,OAAOn5C,KAAK2qB,WAAW8xC,WAAW/oB,EAAM51C,KAAKiR,IAAI2kC,EAAOyF,EAAMn5C,KAAK2qB,WAAWmyB,WAGlFkyE,gBAAiB,SAAS7/G,GACtB,IAAI5O,EAAOP,KACX,IAAIm5C,EAAO54C,EAAKoqD,UAChB,IAAIjX,EAAOnzC,EAAKksI,SAASt9H,EAAOgqC,GAChC,IAAIznB,EAAO1xB,KAAK2sI,UAAUj5F,EAAMyF,GAGhC,IAAK54C,EAAKosI,UAAUj5F,EAAMyF,GAAMr5C,OAC5B,OAAO,KAGX,GAAIS,EAAKd,QAAQ8H,OAAS,QAAS,CAC/BjK,EAAM2pB,GAAGoJ,SAASnzB,EAAEqD,EAAKiW,SAAU,MACnCjW,EAAKuqI,KAAK,WACNvqI,EAAKoqB,WAAWo/B,MAAMrW,EAAMyF,EAAM,WAC9B77C,EAAM2pB,GAAGoJ,SAASnzB,EAAEqD,EAAKiW,SAAU,SAEvCkb,EAAOnxB,EAAKoqB,WAAW+G,SAI/B,OAAOnxB,EAAKmsI,cAAch7G,EAAM,CAACviB,EAAQukC,KAG7C61E,kBAAmB,WACf,OAAOvpH,KAAKkqI,mBAAmB/qI,SAGnCywH,WAAY,SAAStoH,GACjBtH,KAAK66C,QAAQlqB,UAAU3wB,KAAK66C,QAAQlqB,YAAcrpB,IAGtDorF,SAAU,SAASvkF,GACfnO,KAAK66C,QAAQlqB,UAAUxiB,IAG3Bo9G,cAAe,SAASp8G,GACpBnP,KAAK0yF,SAASvjF,EAAQnP,KAAKP,QAAQi1H,aAGvCr1F,MAAO,SAASu9E,GACZ,IAAI/sG,EACAV,EACAlL,EACA4E,EACA6rH,EAAa10H,KAAKP,QAAQi1H,WAC1Bl4H,EAAKwD,KAAKqxH,UACVub,EAAe,KAEnB,GAAIhwB,IAAcv/G,EAAW,CACzBwL,EAAU7I,KAAK6P,QAAQkgB,KAAK,IAAMivD,GAClC,OAAOn2E,EAAQ/I,OAAS+I,EAAU,KAGtC,UAAW+zG,IAAc,WAAY,CACjC34G,EAAOjE,KAAK2qB,WAAWsD,WACvB,IAAK,IAAItsB,EAAM,EAAGA,EAAMsC,EAAKnE,OAAQ6B,IACjC,GAAIi7G,EAAU34G,EAAKtC,IAAO,CACtBi7G,EAAYj7G,EACZ,OAKZ,GAAIi7G,aAAqBj/G,MACrBi/G,EAAY6rB,EAAS7rB,GAGzB,GAAI9oG,MAAM8oG,GAAY,CAClB/sG,EAAU3S,EAAE0/G,GACZztG,EAAQE,SAASnS,EAAE2S,GAASsG,KAAK,qBAAsB,QACpD,CACHhH,EAAQytG,EACR/sG,EAAU7P,KAAK6sI,mBAAmB19H,GAGtC,GAAIA,KAAW,EAAG,CACdnP,KAAK6P,QAAQkgB,KAAK,IAAMivD,GAASvpE,YAAYupE,GAC7Ch/E,KAAK8sI,cAAgBzvI,EACrB,OAGJ,GAAIwS,EAAQ/P,OAAQ,CAChB,GAAI+P,EAAQ6F,SAASspE,GACjB4tD,EAAe,MAEnB,GAAI5sI,KAAK8sI,gBAAkBzvI,EAAW,CAClCwL,EAAU7I,KAAK6sI,mBAAmB7sI,KAAK8sI,eACvCjkI,EACK4M,YAAYupE,GACZ3zD,WAAW,MAEhB,GAAIuhH,EACA5sI,KAAKqC,QAAQ0lG,GAIrB/nG,KAAK8sI,cAAgB39H,EAErBU,EACKqG,SAAS8oE,GACT7oE,KAAK,KAAM3Z,GAEhB,IAAIma,EAAW3W,KAAK+sI,oBAAoB59H,GAExC,GAAIwH,IAAa,MACb3W,KAAK0yF,SAASvjF,EAAQulH,QACnB,GAAI/9G,IAAa,SACpB3W,KAAK0yF,SAAUvjF,EAAQulH,EAAaA,EAAc10H,KAAKgtI,oBACpD,GAAIr2H,IAAa,YACpB3W,KAAK0yF,SAASvjF,EAAQulH,GAG1B,GAAIkY,EACA5sI,KAAKqC,QAAQ2lG,OAEd,CACHhoG,KAAK8sI,cAAgB39H,EACrBnP,KAAKquB,QAAQ5Y,YAAYupE,GACzBh/E,KAAKurH,cAAcp8G,KAI3B0jH,WAAY,WACR,OAAO7yH,KAAK8sI,eAGhB1e,WAAY,WACRpuH,KAAK0yF,SAAS,GACd1yF,KAAKq/B,MAAM,IAGfivF,UAAW,WACP,IAAI5nH,EAAY1G,KAAK2qB,WAAWmyB,QAChC98C,KAAK0yF,SAAS1yF,KAAKitI,gBAAgBx+G,cACnCzuB,KAAKq/B,MAAM34B,EAAY,IAG3BgoH,UAAW,WACP,IAAIv/G,EAAQnP,KAAK8sI,cACjB,IAAIjkI,EAEJ,IAAKiL,MAAM3E,IAAUA,EAAQ,EAAG,CAC5BA,GAAS,EACTnP,KAAKq/B,MAAMlwB,GAEXtG,EAAU7I,KAAKq/B,QACf,GAAIx2B,GAAWA,EAAQ6M,SAAS,kBAAmB,CAC/CvG,GAAS,EACTnP,KAAKq/B,MAAMlwB,GAGf,OAAOA,MACJ,CACHA,EAAQnP,KAAK2qB,WAAWmyB,QAAU,EAClC98C,KAAKq/B,MAAMlwB,GACX,OAAOA,IAIfq/G,UAAW,WACP,IAAIr/G,EAAQnP,KAAK8sI,cACjB,IAAIpmI,EAAY1G,KAAK2qB,WAAWmyB,QAAU,EAC1C,IAAIj0C,EAEJ,IAAKiL,MAAM3E,IAAUA,EAAQzI,EAAW,CACpCyI,GAAS,EACTnP,KAAKq/B,MAAMlwB,GAEXtG,EAAU7I,KAAKq/B,QACf,GAAIx2B,GAAWA,EAAQ6M,SAAS,kBAAmB,CAC/CvG,GAAS,EACTnP,KAAKq/B,MAAMlwB,GAGf,OAAOA,MACJ,CACHA,EAAQ,EACRnP,KAAKq/B,MAAMlwB,GACX,OAAOA,IAIfw9G,eAAgB,SAASpF,EAAS6L,GAC9B7L,EAAUA,GAAW,GACrB6L,EAAQA,GAAS,GAEjB,GAAI7L,EAAQznH,QAAUszH,EAAMtzH,OACxBE,KAAKqC,QAAQ4nC,EAAQ,CACjBs9E,QAASA,EACT6L,MAAOA,KAKnBvzF,OAAQ,SAAS+8E,GACb,IAAIr8G,EAAOP,KACPgzH,EACAka,EACAja,EAAkB1yH,EAAKd,QAAQ49F,aAAe,WAC9C8vC,EAAkBnD,EAAgBzpI,EAAKisI,iBACvCnZ,EAAWrzH,KAAKmqH,aAChBijB,EACA5mG,EACAj9B,EACAg+G,EAAU,GAEd,GAAI3K,IAAcv/G,EACd,OAAOkD,EAAK4pI,iBAAiBhrI,QAGjC,IAAKoB,EAAK8sI,iBAAmB9sI,EAAK8sI,gBAAgB5jF,UAAY,WAC1DlpD,EAAK8sI,gBAAkBnwI,EAAEupC,WAG7BusF,EAAUzyH,EAAKyrI,aAAapvB,GAC5BwwB,EAAoBna,IAAoBI,GAAYoV,EAASzV,KAAayV,EAASzoI,KAAKmqI,kBACxF5iB,EAAUhnH,EAAK+sI,uBAAuBta,GAEtC,GAAIzL,EAAQznH,SAAWkzH,EAAQlzH,QAAUstI,EAAmB,CACxD7sI,EAAKosH,eAAepF,GAEpB,GAAIhnH,EAAKozH,eACLpzH,EAAKozH,eAAexhE,UAAUvuC,UAGlC,OAAOrjB,EAAK8sI,gBAAgBl7E,UAAUvuC,UAG1C,GAAIovG,EAAQlzH,SAAW,GAAKkzH,EAAQ,MAAQ,EACxCA,EAAU,GAGdka,EAAiBla,EACjBzpH,EAAShJ,EAAKgzH,UAAUP,GACxBzL,EAAUh+G,EAAOg+G,QACjByL,EAAUzpH,EAAOypH,QAEjB,GAAIC,EAAiB,CACjBka,EAAkB,MAClB,GAAIna,EAAQlzH,OACRkzH,EAAU,CAACyV,EAASzV,IAI5B,IAAI/rF,EAAO,WACP,IAAImsF,EAAQ7yH,EAAKk1C,QAAQu9E,GAEzB,GAAIka,EAAeptI,SAAWkzH,EAAQlzH,QAAUmzH,EAC5C1yH,EAAK8+B,MAAM2zF,GAGfzyH,EAAKosH,eAAepF,EAAS6L,GAE7B,GAAI7yH,EAAKozH,eACLpzH,EAAKozH,eAAexhE,UAGxB5xD,EAAK8sI,gBAAgBl7E,WAGzB3rB,EAAWjmC,EAAK68D,SAAS41D,GAEzB,IAAKma,EACD,GAAI3mG,EACAA,EAASS,KAAKA,QAEdA,IAIR,OAAO1mC,EAAK8sI,gBAAgBzpH,WAGhCslD,MAAO,SAASA,GACZ,GAAIA,IAAU7rE,EACV,OAAO2C,KAAKutI,aAGhBvtI,KAAKutI,aAAerkE,GAGxB4hE,KAAM,SAAS3kH,GACXnmB,KAAKkrI,MAAQ,KACb/kH,IACAnmB,KAAKkrI,MAAQ,OAGjBpjB,YAAa,SAAS73F,GAClBjwB,KAAKs1H,cAAgBp4H,EAAEM,OAAO,GAAIyyB,IAGtCk6F,WAAY,WACR,IAAKnqH,KAAKs1H,cACNt1H,KAAK8nH,YAAY9nH,KAAK2qB,WAAWsF,UAGrC,OAAQ3yB,EAAM2G,KAAKyhD,MAAMgD,eAAe1oD,KAAK2qB,WAAWsF,SAAUjwB,KAAKs1H,gBAG3ExC,WAAY51H,EAAEU,KAEdivI,mBAAoB,SAAS19H,GACzB,OAAOnP,KAAKquB,QAAQ4B,OAAO,SAAStuB,EAAKkO,GACrC,OAAOV,IAAUE,SAASnS,EAAE2S,GAASsG,KAAK,qBAAsB,OAIxE80H,sBAAuB,SAAS38G,GAC5B,IAAIq9G,EAAW3rI,KAAK4rI,UACpBP,EAAcrrI,KAAK2yH,aACf9iH,EAASvL,EAEb,IAAK,IAAIzE,EAAI,EAAGA,EAAI8rI,EAAS7rI,OAAQD,IAAK,CACtCyE,EAAQqnI,EAAS9rI,GAAGopC,MAAQy/F,EAAYiD,EAAS9rI,GAAGopC,MAAQ0iG,EAAS9rI,GAAGopC,OAAS3a,EAAWq9G,EAAS9rI,GAAGopC,MAAQ3a,GAAY+8G,EAAYM,EAAS9rI,GAAGopC,OAASoiG,EAAY/8G,GACzK,GAAIhqB,EAAO,CACPuL,EAAU87H,EAAS9rI,GACnB,OAIR,OAAOgQ,EAAU7P,KAAK6sI,mBAAmBh9H,EAAQV,OAASjS,KAG9D0tI,OAAQ,WACJ5qI,KAAKuJ,OAASlM,EACd2C,KAAKwtI,eAAiBnwI,EACtB2C,KAAK02D,MAAQr5D,EACbH,EAAE8C,KAAKitI,iBAAiBl8G,SACxB/wB,KAAKitI,gBAAkB5vI,EACvB2C,KAAK6P,QAAQ8xC,SAGjB8oE,QAAS,WACL,IAAIgjB,IAAYztI,KAAK2qB,WAAW+G,OAAO5xB,OACnC+V,EAAS7V,KAAKP,QAAQoW,OACtB6+G,EAAa10H,KAAKP,QAAQi1H,WAC1B53E,EAAQ98C,KAAK2qB,WAAWmyB,QAE5B,IAAK2wF,EACD53H,EAAS,OACN,GAAIA,EAAO6+G,EAAa53E,EAC3BjnC,EAASinC,EAAQ43E,EAGrB,OAAO7+G,GAGX63H,gBAAiB,WACb,IAAI73H,EAAS7V,KAAKyqH,UAElBzqH,KAAK66C,QAAQhlC,OAAOA,GACpB7V,KAAKgtI,cAAgBn3H,GAGzB8F,aAAc,WACV,OAAO3b,KAAKgtI,eAGhBD,oBAAqB,SAAS59H,GAC1B,IAAIwhB,EAAY3wB,KAAK66C,QAAQlqB,YACzBhV,EAAe3b,KAAKgtI,cACpBtY,EAAa10H,KAAKP,QAAQi1H,WAC1BiZ,EAAYx+H,EAAQulH,EACpBkZ,EAAeD,EAAYjZ,EAC3BmZ,EAAYl9G,EAAYhV,EACxBhF,EAEJ,GAAIg3H,IAAeh9G,EAAY+jG,GAAgBkZ,EAAej9G,GAAag9G,EAAYh9G,EACnFha,EAAW,WACR,GAAIg3H,IAAcE,GAAcF,EAAYE,GAAaA,EAAYD,EACxEj3H,EAAW,cACR,GAAKg3H,GAAah9G,GAAeg9G,GAAah9G,GAAahV,EAAe+4G,GAC7E/9G,EAAW,gBAEXA,EAAW,YAGf,OAAOA,GAGX+6G,WAAY,WACR,IAAIjyH,EAAUO,KAAKP,QACnB,IAAI6iG,EAAY,CACZt+F,SAAUvE,EAAQuE,SAClB8lI,oBAAqBrqI,EAAQqqI,oBAC7BlkB,cAAenmH,EAAQmmH,cACvBC,mBAAoBpmH,EAAQomH,oBAGhC,GAAIpmH,EAAQkkH,QACR,IAAK,IAAI9jH,EAAI,EAAGA,EAAIJ,EAAQkkH,QAAQ7jH,OAAQD,IAAK,CAC7C,IAAIglH,EAAgBplH,EAAQkkH,QAAQ9jH,GACpC,IAAIy0H,EAAezP,EAAchkG,MAAQgkG,EAAchkG,MAAMnb,WAAY,OAEzE48F,EAAU,SAAUziG,GAAKglH,EAAc7gH,UAAY,MAAQswH,EAAe,IAIlF,IAAK,IAAIttH,KAAOs7F,EACZ,UAAWA,EAAUt7F,KAAS,WAC1Bs7F,EAAUt7F,GAAO1J,EAAM0G,SAASs+F,EAAUt7F,IAAQ,IAI1DhH,KAAKsiG,UAAYA,GAGrBwrC,eAAgB,SAASj+H,EAASqD,GAC9B,IAAImb,EAAQ,GACR4a,EAAM7I,EACNs0F,EAAa10H,KAAKP,QAAQi1H,WAAa,KACvCgW,EAAY1qI,KAAKP,QAAQkkH,SAAW3jH,KAAKP,QAAQkkH,QAAQ7jH,OAASqoI,EAAaD,EAEnF,MAAMh1H,KAAU,EAAG,CACfktB,EAAO5wB,SAASwK,cAAc,QAC9BomB,EAAKxnB,UAAY,mBAEjBqwB,EAAOz5B,SAASwK,cAAc,MAC9BivB,EAAKwkE,UAAY,EACjBxkE,EAAKrwB,UAAY8xH,EACjBzhG,EAAKzoB,aAAa,OAAQ,UAC1ByoB,EAAKrzB,MAAMC,OAAS6+G,EACpBzrF,EAAKrzB,MAAMm4H,UAAYrZ,EACvBzrF,EAAK7uB,YAAYgmB,GAEjBvwB,EAAQuK,YAAY6uB,GAEpB5a,EAAMnsB,KAAK+mC,GAGf,OAAO5a,GAGX2/G,mBAAoB,WAChB,IAAIj/E,EAAS/uD,KAAK2qB,WAAWmlC,QAC7B,IAAItpB,EAAWtpC,EAAEupC,WACjBD,EAAS2rB,UAETnyD,KAAKoqI,YAAc,GACnB,IAAK,IAAIvqI,EAAI,EAAGA,EAAIkvD,EAAOjvD,OAAQD,IAC/BG,KAAKoqI,YAAYr7E,EAAOlvD,GAAGsM,OAAS,CAAEvI,IAAKmrD,EAAOlvD,GAAG+D,IAAK4iC,SAAUA,IAI5E2kG,YAAa,WACT,IAAI5qI,EAAOP,KACP66C,EAAUt6C,EAAKs6C,QAAQvxB,IAAI,GAC3B7pB,EAAUc,EAAKd,QACfkrB,EAAapqB,EAAKoqB,WAEtB,GAAIpqB,EAAK2oE,QACL3oE,EAAKqqI,SAGTrqI,EAAKytI,qBACLztI,EAAK0tI,oBACL1tI,EAAKmtI,kBACLntI,EAAKoqD,UAAYg+E,EAAapoI,EAAKysI,cAAevtI,EAAQmpI,YAAanpI,EAAQi1H,YAE/E,GAAIn0H,EAAKoqD,UAAYhgC,EAAWmyB,QAC5Bv8C,EAAKoqD,UAAYhgC,EAAWmyB,QAGhCv8C,EAAKs5F,OAASt5F,EAAKutI,eAAevtI,EAAKsP,QAAQ,GAAItP,EAAKoqD,WAExDpqD,EAAK2tI,WAAWzuI,EAAQi1H,WAAa/pG,EAAWmyB,SAChDv8C,EAAKd,QAAQ8H,MAAQojB,EAAW2/B,SAAW,IAAIxqD,OAAS,QAAU,OAElE,GAAIS,EAAKd,QAAQ8H,OAAS,OACtB,GAAIhH,EAAKo6C,OAAOpgC,QAAQ8oG,GAAevjH,OACnCS,EAAKo6C,OAAOpgC,QAAQ8oG,GAAe9/F,YAEnChjB,EAAKo6C,OAAOp3B,YAGhB,GAAIhjB,EAAKo6C,OAAOpgC,QAAQ8oG,GAAevjH,OACnCS,EAAKo6C,OAAOpgC,QAAQ8oG,GAAe5wC,YAEnClyE,EAAKo6C,OAAO83B,OAIpBlyE,EAAK4oB,OAAS5oB,EAAKkxH,QAAQ,WACvBlxH,EAAK+pI,aAAa,QAGtB/pI,EAAKwzH,UAAY,SAASpjG,EAAWjF,GACjC,IAAIyiH,EAAU5tI,EAAK6tI,WAAW7tI,EAAK4oB,QACnC,OAAO5oB,EAAKqxH,aAAajhG,EAAWw9G,EAAQx9G,EAAWjF,KAG3DnrB,EAAK+pI,aAAe/pI,EAAK8tI,aACrB/E,EAAezuF,EAASt6C,EAAKwzH,WAC7BwV,EAAShpI,EAAK+tI,aAAa/tI,EAAKs5F,OAAQ91F,EAAOxC,KAAKhB,MAGxDA,EAAK+pI,eACL/pI,EAAKirH,uBAAuBjrH,EAAKysI,eACjCzsI,EAAKorH,kCAGTuiB,WAAY,SAASr4H,GACjB,IAAI04H,EACAtB,EAAkBjtI,KAAKitI,gBAE3B,IAAKA,EACDA,EAAkBjtI,KAAKitI,gBAAkB7yH,EAAYpa,KAAK66C,QAAQ,GAAIutF,QAEtEmG,EAAgBtB,EAAgBx+G,aAGpC,GAAI5Y,IAAW04H,EAAe,CAC1BtB,EAAgB/yH,UAAY,GAE5B,MAAOrE,EAAS,EAAG,CACf,IAAI24H,EAAY1wI,KAAKiR,IAAI8G,EAAQ,MACjCuE,EAAY6yH,GAAiBr3H,MAAMC,OAAS24H,EAAY,KACxD34H,GAAU24H,KAKtB/c,QAAS,WACL,IAAIgd,EAAqB,KACrB9jH,EAAa3qB,KAAK2qB,WAClB+jH,EAAiB/jH,EAAW+oB,OAC5BnsC,EAAOvH,KAAKP,QAAQ8H,KACpBmxC,EAAW14C,KAAK2qD,UAChBkB,EAAa,GAEjB,GAAIlhC,EAAW+tB,WAAaA,EACxB14C,KAAK8qI,KAAK,WACNngH,EAAW+tB,SAASA,KAI5B,OAAO,SAASvpC,EAAOw/H,GACnB,IAAIpuI,EAAOP,KACX,IAAK2qB,EAAW6xC,QAAQmyE,EAAYj2F,GAAW,CAC3C,GAAI+1F,IAAuBE,EAAY,CACnCF,EAAqBE,EACrBD,EAAiBC,EAEjB,GAAIpuI,EAAKquI,gBACLruI,EAAKquI,gBAAgB94E,SAGzBv1D,EAAKquI,gBAAkBruI,EAAK0rI,cAAc0C,GAC1CpuI,EAAKquI,gBAAgB/5E,KAAK,WACtB,IAAIg6E,EAAiBtuI,EAAKuuI,iBAAiBvuI,EAAKs6C,QAAQ,GAAGlqB,WAE3DpwB,EAAKquI,gBAAkB,KAEvB,GAAID,GAAcE,GAAkBA,GAAmBF,EAAaj2F,EAAW,CAC3En4C,EAAK0pI,UAAY,KACjBt/G,EAAWo/B,MAAM4kF,EAAYj2F,MAKzC,OAAO,SACJ,CACH,GAAIg2F,IAAmBC,EACnB3uI,KAAK8qI,KAAK,WACNngH,EAAWo/B,MAAM4kF,EAAYj2F,GAC7Bg2F,EAAiBC,IAIzB,IAAIplI,EACJ,GAAIhC,IAAS,QAAS,CAClB,IAAKskD,EAAW8iF,GAAa,CACzB,IAAII,EAAYljF,EAAW8iF,GAAc,GACzC,IAAI9qG,EAASlZ,EAAW+G,OACxB,IAAK,IAAI7xB,EAAI,EAAGsqB,EAAM0Z,EAAO/jC,OAAQD,EAAIsqB,EAAKtqB,IAAK,CAC/C,IAAIyqD,EAAQzmB,EAAOhkC,GACnB,IAAK,IAAI2lC,EAAI,EAAGwpG,EAAc1kF,EAAMj8B,MAAMvuB,OAAQ0lC,EAAIwpG,EAAaxpG,IAC/DupG,EAAU7sI,KAAK,CAAE+mC,KAAMqhB,EAAMj8B,MAAMmX,GAAI8kB,MAAOA,EAAMhjD,SAKhEiC,EAASsiD,EAAW8iF,GAAYx/H,EAAQw/H,QAExCplI,EAASohB,EAAW+G,OAAOviB,EAAQw/H,GAGvC,OAAOplI,KAKnBqoH,aAAc,SAASjhG,EAAWmxC,GAC9B,IAAIxX,EAAQtqD,KAAKivI,oBACbva,EAAa10H,KAAKP,QAAQi1H,WAC1Bwa,EAA4BpxI,KAAK6G,OAAOgsB,EAAYmxC,EAAK/hD,KAAO20G,GAChEya,EAAuBrtE,EAAKzzC,MAAM6gH,GAEtC,GAAIC,GAAwBA,EAAqBlmG,KAAM,CACnD,IAAImmG,EAAoBD,EAAqB7kF,MAE7C,GAAI8kF,IAAsB9kF,EAAO,CAC7B,IAAI+kF,EAAiBD,GAAqB,GAC1CpvI,KAAK26C,OAAOz2C,KAAKlE,KAAKsiG,UAAUujB,mBAAmBwpB,IACnDrvI,KAAKivI,oBAAsBG,GAInC,OAAOttE,GAGXwtE,YAAa,SAASrmG,EAAM95B,EAAO7H,GAC/B,IAAIioI,EAAWvvI,KAAKP,QAAQ8H,KACxBmtH,EAAa10H,KAAKP,QAAQi1H,WAC1B8a,EAAexvI,KAAK8sI,cACpB9kE,EAAW,MACXn/D,EAAU,MACVmlD,EAAW,MACX1D,EAAQ,KACRhmD,EAAQ,MACR+mI,EAAcrrI,KAAK2yH,aAEvB,GAAI4c,IAAa,QAAS,CACtB,GAAItmG,EAAM,CACN+kB,EAAW7+C,IAAU,GAAMnP,KAAKyvI,gBAAkB,OAASzvI,KAAKyvI,gBAAkBxmG,EAAKqhB,MACvFtqD,KAAKyvI,cAAgBxmG,EAAKqhB,MAG9BA,EAAQrhB,EAAOA,EAAKqhB,MAAQ,KAC5BrhB,EAAOA,EAAOA,EAAKA,KAAO,KAG9B,GAAIjpC,KAAKP,QAAQgrI,aAAe,YAAczqI,KAAKkqI,mBAAmBpqI,QAAUmpC,EAC5E,IAAK,IAAIppC,EAAI,EAAGA,EAAIG,KAAKkqI,mBAAmBpqI,OAAQD,IAAK,CACrDyE,EAAQ+mI,EAAYrrI,KAAKkqI,mBAAmBrqI,MAAQwrI,EAAYpiG,GAChE,GAAI3kC,EAAO,CACP0jE,EAAW,KACX,YAGL,IAAKhoE,KAAKmqH,cAAgB7iH,EAAMxH,QAAUmpC,EAC7C,IAAK,IAAIzD,EAAI,EAAGA,EAAIl+B,EAAMxH,OAAQ0lC,IAAK,CACnClhC,EAAQokI,EAAYz/F,GAAQ3hC,EAAMk+B,KAAOyD,EAAO3hC,EAAMk+B,KAAO6lG,EAAYpiG,GACzE,GAAI3kC,EAAO,CACPgD,EAAM7E,OAAO+iC,EAAI,GACjBwiC,EAAW,KACX,OAKZ,GAAIwnE,IAAiBrgI,EACjBtG,EAAU,KAGd,MAAO,CACHogC,KAAMA,EAAOA,EAAO,KACpBqhB,MAAOA,EACP0D,SAAUA,EACVga,SAAUA,EACVn/D,QAASA,EACTsG,MAAOA,EACP4Q,IAAK5Q,EAAQulH,IAIrBnsD,OAAQ,SAASp5D,GACb,IAAIw7C,EAAY3qD,KAAK2qD,UACjBrjD,EAAQtH,KAAKwxH,QAAQryH,QACrBkvB,EAAQ,GACR4a,EAEJjpC,KAAK+vD,MAAQ,GACb/vD,KAAKyvI,cAAgB,MAErB,IAAK,IAAI5vI,EAAIsP,EAAOrP,EAASqP,EAAQw7C,EAAW9qD,EAAIC,EAAQD,IAAK,CAC7DopC,EAAOjpC,KAAKsvI,YAAYtvI,KAAKmpB,OAAOtpB,EAAGsP,GAAQtP,EAAGyH,GAClD,GAAG+mB,EAAMA,EAAMvuB,OAAS,GACpBuuB,EAAMA,EAAMvuB,OAAS,GAAGo1H,kBAAoBjsF,EAAK+kB,SAErD3/B,EAAMnsB,KAAK+mC,GACXjpC,KAAK+vD,MAAM9mB,EAAK95B,OAAS85B,EAG7BjpC,KAAK4rI,UAAYv9G,EACjB,OAAOA,GAGXqhH,wBAAyB,SAAS/+G,EAAW04G,GACzC,IAAIh7G,EAAQruB,KAAKuoE,OAAOvoE,KAAK2vI,WAAWh/G,EAAW04G,IACnD,MAAO,CACHl6H,MAAOkf,EAAMvuB,OAASuuB,EAAM,GAAGlf,MAAQ,EACvC4Q,IAAKsO,EAAMvuB,OAASuuB,EAAM,GAAGtO,IAAM,EACnCsO,MAAOA,IAIf+/G,WAAY,WACR,IAAIzyH,EAAe3b,KAAKgtI,cACpBvtI,EAAUO,KAAKP,QAEnB,IAAImwI,EAAe1G,EAAczpI,EAASkc,GAE1C,OAAO,SAAUrU,EAAOokB,GACpB,IAAIniB,EAASvJ,KAAKuJ,OACd8/H,EAAgBrpI,KAAKwtI,eAEzB,GAAI9hH,IAAUniB,IAAWqmI,EAAarmI,EAAQjC,EAAO+hI,GACjD9/H,EAASvJ,KAAK0vI,wBAAwBpoI,EAAO+hI,GAGjDrpI,KAAKwtI,eAAiBlmI,EACtBtH,KAAKuJ,OAASA,EAEd,OAAOA,GACRhI,KAAKvB,OAGZquI,aAAc,SAASllH,EAAQhD,GAC3B,IAAItd,EAEJ,OAAO,SAAS6iB,GACZ,IAAImkH,EAAS1mH,EAAOuC,GAEpB,GAAImkH,IAAWhnI,EAAS,CACpBA,EAAUgnI,EACV1pH,EAAS0pH,EAAQnkH,MAK7B4iH,aAAc,SAASxsE,EAAM0nE,GACzB,IAAIjpI,EAAOP,KACX,IAAIF,EAASgiE,EAAKhiE,OAClB,IAAIgwI,GAAiB9xC,SACrBwrC,EAAUE,EAAKF,EAASxpI,KAAKsiG,WAAW/gG,KAAKvB,MAE7C,OAAO,SAAS+vI,EAAO97H,EAAQyX,GAC3B,IAAI2N,EAAOplB,EAAS67H,EACpB,IAAI/lF,EAAOimF,EAEX,GAAItkH,GAAS5tB,KAAKwM,IAAI+uB,IAASv5B,EAAQ,CACnCiqD,EAAQ+X,EACRkuE,EAASD,MACN,CACHhmF,EAAQ8/E,EAAQ/nE,EAAMzoC,GACtB22G,EAAS32G,EAAO,EAAI02G,EAAM5wI,OAAOk6B,GAAQ02G,EAAM5wI,MAAM,GAAIk6B,GAG7DmwG,EAAQz/E,EAAOimF,EAAQzvI,EAAK2oE,SAE5B4mE,EAAgB77H,IAIxBg8H,aAAc,WACV,IAAIxwI,EAAUO,KAAKP,QAEnB,OAAOupI,EAAYhpI,KAAKgtI,cAAevtI,EAAQmpI,YAAanpI,EAAQ+qI,iBAGxEsE,iBAAkB,SAASn4H,GACvB,IAAIg0C,EAAY3qD,KAAK2qD,UACjB+pE,EAAa10H,KAAKP,QAAQi1H,WAC1B53E,EAAQ98C,KAAK2qB,WAAWmyB,QAE5B,OAAOh/C,KAAKiR,IAAIjR,KAAKoP,IAAI4vC,EAAQ6N,EAAW,GAAI7sD,KAAKoP,IAAI,EAAGpP,KAAK6G,MAAMgS,EAAW+9G,MAGtFib,WAAY,SAASh/G,EAAW04G,GAC5B,IAAI6G,EAAUlwI,KAAKiwI,eACft5H,EAEJA,EAAWga,GAAcA,EAAY04G,EAAiB6G,EAAQvtH,KAAOutH,EAAQttH,IAE7E,OAAO5iB,KAAK8uI,iBAAiBn4H,IAGjCmhH,YAAa,WACT,IAAI4S,EAAY1qI,KAAKP,QAAQkkH,SAAW3jH,KAAKP,QAAQkkH,QAAQ7jH,OAASqoI,EAAaD,EAEnF,GAAIloI,KAAKP,QAAQ49F,WAAY,CACzBr9F,KAAK2qI,aAAe3qI,KAAKmwI,cAAc5uI,KAAKvB,MAC5CA,KAAK6P,QAAQuW,GAAGu6E,EAAQ6nC,EAAiB,IAAMkC,EAAW1qI,KAAK2qI,gBAIvE5b,gBAAiB,SAASl/G,GACtB,KAAMA,aAAmB1S,QACrB,OAAOE,EAGX,OAAOgS,SAASQ,EAAQsG,KAAK,qBAAsB,KAGvD61H,aAAc,SAASpvB,GACnB,IAAIrzG,EAAS,GAAItF,EAEjB,UAAW24G,IAAc,WAAY,CACjC34G,EAAOjE,KAAK2qB,WAAWsD,WACvB,IAAK,IAAItsB,EAAM,EAAGA,EAAMsC,EAAKnE,OAAQ6B,IACjC,GAAIi7G,EAAU34G,EAAKtC,IAAO,CACtB4H,EAAOrH,KAAKP,GACZ,OAKZ,UAAWi7G,IAAc,SACrBrzG,EAAOrH,KAAK06G,GAGhB,IAAIwzB,EAAepwI,KAAK+uH,gBAAgBnS,GACxC,IAAK9oG,MAAMs8H,GACP7mI,EAAOrH,KAAKkuI,GAGhB,GAAIxzB,aAAqBj/G,MACrB4L,EAASqzG,EAGb,OAAOrzG,GAGXgqH,UAAW,SAASP,GAChB,IAAIzL,EAAU,GACVx/C,EACAz5C,EACA+hH,EAAkBrwI,KAAKmqI,iBACvB5gB,EAAoBvpH,KAAKkqI,mBACzBvzH,EAAW,EACX0mF,EAAar9F,KAAKP,QAAQ49F,WAC1BizC,EAAwB,EACxBjF,EAAcrrI,KAAK2yH,aACnB1pF,EAAM3kC,EACNiF,EAAS,KAEbypH,EAAUA,EAAQ7zH,QAElB,GAAIk+F,IAAe,OAAS21B,EAAQlzH,OAAQ,CACxC,IAAK,IAAI6B,EAAM,EAAGA,EAAM0uI,EAAgBvwI,OAAQ6B,IAAO,CACnD,GAAI0uI,EAAgB1uI,KAAStE,EACzB2C,KAAK6sI,mBAAmBwD,EAAgB1uI,IAAM8T,YAAYukF,QACvD,GAAIuvB,EAAkB5nH,GACzB3B,KAAKirI,sBAAsB1hB,EAAkB5nH,IAAM8T,YAAYukF,GAGnEutB,EAAQrlH,KAAK,CACTiN,MAAOkhI,EAAgB1uI,GACvBgV,SAAUhV,EACV2sB,SAAUi7F,EAAkB5nH,KAIpC3B,KAAKwxH,QAAU,GACfxxH,KAAKkqI,mBAAqB,GAC1BlqI,KAAKmqI,iBAAmB,QACrB,GAAI9sC,IAAe,WACtB,IAAK,IAAIx9F,EAAI,EAAGA,EAAImzH,EAAQlzH,OAAQD,IAAK,CACrC0J,EAAS,KACToN,EAAWzZ,EAAEmyB,QAAQ2jG,EAAQnzH,GAAIwwI,GACjC/hH,EAAWtuB,KAAKgvH,gBAAgBgE,EAAQnzH,IAExC,GAAI8W,KAAc,GAAK2X,EACnB,IAAK,IAAIkX,EAAI,EAAGA,EAAI+jF,EAAkBzpH,OAAQ0lC,IAAK,CAC/ClhC,EAAQokI,EAAYp6G,GAAYi7F,EAAkB/jF,KAAOlX,EAAW+8G,EAAY9hB,EAAkB/jF,MAAQ6lG,EAAY/8G,GACtH,GAAIhqB,EAAO,CACP2kC,EAAOjpC,KAAK6sI,mBAAmB7Z,EAAQnzH,IACvC0J,EAASvJ,KAAKuwI,oBAAoBtnG,EAAMzD,EAAGwtF,EAAQnzH,GAAIywI,QAG5D,CACHvoE,EAAgBsoE,EAAgB15H,GAEhC,GAAIoxD,IAAkB1qE,EAAW,CAC7B4rC,EAAOjpC,KAAK6sI,mBAAmB9kE,GAC/Bx+D,EAASvJ,KAAKuwI,oBAAoBtnG,EAAMtyB,EAAUoxD,EAAeuoE,IAIzE,GAAI/mI,EAAQ,CACRypH,EAAQvwH,OAAO5C,EAAG,GAClB0nH,EAAQrlH,KAAKqH,GAEb+mI,IACAzwI,KAKZ,MAAO,CACHmzH,QAASA,EACTzL,QAASA,IAIjBgpB,oBAAqB,SAAStnG,EAAMtyB,EAAUoxD,EAAeuoE,GACzD,IAAIhiH,EAEJ,IAAK2a,EAAKvzB,SAASskF,GACf,OAGJ/wD,EAAKxzB,YAAYukF,GACjBh6F,KAAKwxH,QAAQ/uH,OAAOkU,EAAU,GAC9B3W,KAAKmqI,iBAAiB1nI,OAAOkU,EAAU,GACvC2X,EAAWtuB,KAAKkqI,mBAAmBznI,OAAOkU,EAAU,GAAG,GAEvD,MAAO,CACHxH,MAAO44D,EACPpxD,SAAUA,EAAW25H,EACrBhiH,SAAUA,IAIlBg/G,uBAAwB,SAASta,GAC7B,IAAI3xE,EAAWrhD,KAAK6P,QAAQ,GAAGwxC,SAC/B,IAAI/5C,EAAO6H,EAAOwH,EAClB,IAAIzH,EAASlP,KAAKwxH,QAClB,IAAIjK,EAAU,GACd,IAAI5lH,EAAM,EACV,IAAI6jC,EAEJ,GAAIxlC,KAAKP,QAAQ49F,aAAe,aAAer9F,KAAKmqH,aAChD,MAAO,GAGX,GAAI6I,EAAQ,MAAQ,EAAG,CACnB91H,EAAEmkD,GAAU5rC,YAAYukF,GACxButB,EAAUrqH,EAAEgU,IAAIlR,KAAKkqI,mBAAmB/qI,MAAM,GAAI,SAASmvB,EAAU3sB,GAClE,MAAO,CACJ2sB,SAAUA,EACV3X,SAAUhV,KAGhB3B,KAAKmqI,iBAAmB,GACxBnqI,KAAKkqI,mBAAqB,GAC1BlqI,KAAKwxH,QAAU,GACf,OAAOjK,EAGX,KAAO5lH,EAAMqxH,EAAQlzH,OAAQ6B,IAAO,CAChCgV,GAAY,EACZxH,EAAQ6jH,EAAQrxH,GAChB,GAAI3B,KAAKgvH,gBAAgB7/G,GACrB7H,EAAQtH,KAAK2yH,aAAa3yH,KAAKgvH,gBAAgB7/G,IAGnD,IAAKq2B,EAAI,EAAGA,EAAIt2B,EAAOpP,OAAQ0lC,IAC3B,GAAIl+B,GAAS4H,EAAOs2B,GAAI,CACpB7uB,EAAW6uB,EACX,MAIR,GAAI7uB,GAAY,EAAG,CACf4wG,EAAQrlH,KAAKlC,KAAKyzH,SAAS98G,IAC3BzZ,EAAEmkD,EAASlyC,IAAQsG,YAAYukF,IAIvC,OAAOutB,GAGXklB,SAAU,SAASt9H,EAAOgqC,GACtB,IAAIR,EAAOxpC,EAAQgqC,EAAO,EAAIr7C,KAAK6G,MAAMwK,EAAQgqC,GAAQ,EAEzD,OAAQR,EAAO,GAAKQ,GAGxB1D,QAAS,SAASwlB,GACd,IAAI16D,EAAOP,KACPizH,EAAkBjzH,KAAKP,QAAQ49F,aAAe,WAC9C1yE,EAAa3qB,KAAK2qB,WAClB2D,EAAUkiH,EACVr3F,EAAOn5C,KAAK2qD,UACZ0gF,EAAcrrI,KAAK2yH,aACnBS,EAAQ,GAEZ,GAAIH,EAAiB,CACjB1yH,EAAK4pI,iBAAmB,GACxB5pI,EAAK2pI,mBAAqB,GAC1B3pI,EAAKixH,QAAU,GAGnBgf,EAAU7lH,EAAW+oB,OAErBx2C,EAAEO,KAAKw9D,EAAS,SAASz1C,EAAGrW,GACxB,IAAIukC,EAAOnzC,EAAKksI,SAASt9H,EAAOgqC,GAEhC54C,EAAKuqI,KAAK,WACNngH,EAAWo/B,MAAMrW,EAAMyF,GAEvB7qB,EAAW/tB,EAAKmsI,cAAc/hH,EAAW+G,OAAQ,CAACviB,EAAQukC,IAC1DnzC,EAAK4pI,iBAAiBjoI,KAAKiN,GAC3B5O,EAAK2pI,mBAAmBhoI,KAAKosB,GAC7B/tB,EAAKixH,QAAQtvH,KAAKwmI,EAAYp6G,GAAYA,EAAW+8G,EAAY/8G,IAEjE8kG,EAAMlxH,KAAK,CACPiN,MAAOA,EACPmf,SAAUA,IAGd/tB,EAAKssI,mBAAmB19H,GAAO+G,SAAS8jF,GAExCrvE,EAAWo/B,MAAMymF,EAASr3F,OAIlC54C,EAAKixH,QAAUjxH,EAAKkrI,kBAAkBlrI,EAAKixH,SAE3C,OAAO4B,GAGX+c,cAAe,SAAS7tI,GACpB,IAAI2mC,EAAO/rC,EAAEoF,EAAEivC,eAEf,IAAKjvC,EAAElB,sBAAwB6nC,EAAK9yB,KAAK,YACrCnW,KAAKqC,QAAQs+F,EAAO,CAAE13D,KAAMA,KAIpCglG,kBAAmB,WACfjuI,KAAK2yH,aAAer1H,EAAM6rB,OAAOnpB,KAAKP,QAAQynE,iBAGlDskD,uBAAwB,SAAU31G,GAC9B,IAAI+jD,EAAY55D,KAAKquB,QAAQlsB,QACzBgmH,EAAcnoH,KAAK26C,OACnB8wE,EAAU,EAEd,GAAItD,EAAY,IAAMA,EAAY,GAAGvyG,MAAMc,UAAY,OAAQ,CAC3D,GAAIb,IAAW,OACX41G,EAAUnuH,EAAMW,QAAQ4b,YAG5B4xG,GAAW53G,WAAW+lD,EAAU/kD,IAAI,sBAAuB,IAAMhB,WAAW+lD,EAAUvY,SAAS,YAAYxsC,IAAI,SAAU,IAEzHszG,EAAYtzG,IAAI,gBAAiB42G,KAIzCE,+BAAgC,WAC5B,GAAG3rH,KAAKP,QAAQkkH,SAAW3jH,KAAKP,QAAQkkH,QAAQ7jH,OAAO,CACnD,IAAIuZ,EAAQ/b,EAAMW,QAAQob,MAAMrZ,KAAKwW,SACrC,IAAIqD,EAAYvc,EAAMW,QAAQ4b,YAC9B,IAAI6qG,EAAgB1kH,KAAK66C,QAAQtlC,SAASA,SAASwa,KAAK,mBACxD,IAAI+sB,EAAQ98C,KAAK2qB,WAAWmyB,QAE5B4nE,EAAc7vG,IAAKwE,EAAQ,eAAiB,gBAAkByjC,EAAQjjC,EAAY,OAWlG,OALIvc,EAAM2pB,GAAGk/F,YAAcA,EACvB7oH,EAAM2pB,GAAG+J,OAAOm1F,GAIb/oH,OAAOE,QAnzDd,CAqzDoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,qBAAqB,CAAE,aAAc,wBAAyB,qBACtE,WAEH,IAAIC,EAAW,CACXC,GAAI,eACJC,KAAM,eACNC,SAAU,MACVC,YAAa,kHACbotC,QAAS,CAAE,QACXuV,SAAU,CAAE,CACR9iD,GAAI,kBACJC,KAAM,kBACNE,YAAa,iDACbotC,QAAS,CAAE,oBACZ,CACCvtC,GAAI,iBACJC,KAAM,cACNE,YAAa,6BACbotC,QAAS,CAAE,kBAIR7sC,EAizBRE,OAAOE,MAAMH,OAjzBFE,OAAd,EACQC,EAAQF,OAAOE,MACfW,EACAghC,EAAQ3hC,EAAM2hC,MACdxvB,EAAgBnS,EAAMiS,eACtBkhI,EAHUnzI,EAAMW,QAGeoiB,YAC/B4G,EAAK3pB,EAAM2pB,GACXq8F,EAAOr8F,EAAGq8F,KACV/7F,EAAOjqB,EAAMiqB,KACbtQ,EAAa3Z,EAAM2G,KAAKgT,WACxBmgG,EAAgB,gBAChB6uB,EAAgB,gBAChBh8F,EAAS,SACT82D,EAAW,WACXmgC,EAAW,WACXliD,EAAU,UACVgb,EAAW,aACX8nB,EAAc,WACd7iC,EAAgB,aAChByxD,EAAoB,MACpB/vB,EAAQ,UACR93F,EAAK,qBACLk9G,EAAc,aAAel9G,EAAK,cAAgBA,EAEtD,SAAS8nH,EAAmBC,EAAUxwG,EAAMk8E,GACxC,OAAOA,EAAYl8E,EAAKn9B,UAAU,EAAG2tI,GAAU/tI,MAAMy5G,GAAWx8G,OAAS,EAAI,EAGjF,SAAS+wI,EAAYD,EAAUxwG,EAAMk8E,GACjC,OAAOl8E,EAAKv9B,MAAMy5G,GAAWq0B,EAAmBC,EAAUxwG,EAAMk8E,IAGpE,SAASw0B,EAAmBF,EAAUxwG,EAAMuzC,EAAM2oC,EAAWy0B,GACzD,IAAIC,EAAQ5wG,EAAKv9B,MAAMy5G,GAEvB00B,EAAMvuI,OAAOkuI,EAAmBC,EAAUxwG,EAAMk8E,GAAY,EAAG3oC,GAE/D,GAAI2oC,GAAa00B,EAAMA,EAAMlxI,OAAS,KAAO,GACzCkxI,EAAM9uI,KAAK,IAGf,OAAO8uI,EAAMluI,KAAKiuI,GAGtB,IAAIE,EAAe3tB,EAAK9lH,OAAO,CAC3BiD,KAAM,SAAUoP,EAASpQ,GACrB,IAAIc,EAAOP,KAAMwW,EAAS0b,EAE1B3xB,EAAKsoB,GAAKA,EACVppB,EAAU9B,MAAMD,QAAQ+B,GAAW,CAAEkrB,WAAYlrB,GAAWA,EAE5D6jH,EAAK3iH,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEjCoQ,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QAEfA,EAAQ4gB,YAAc5gB,EAAQ4gB,aAAexQ,EAAQsG,KAAK,eAC1D,GAAIs6H,EACA5gI,EAAQsG,KAAK,cAAe1W,EAAQ4gB,aAGxC9f,EAAKy7E,WACLz7E,EAAK2wI,UACL3wI,EAAKooH,eAELpoH,EAAK6hE,cACL7hE,EAAK+nH,cAELz4G,EAAQ,GAAGtI,KAAO,OAClBiP,EAAUjW,EAAKiW,QAEfjW,EAAK0rH,SAELp8G,EACKqG,SAAS,iBACTkQ,GAAG,UAAYyC,EAAItoB,EAAKihG,SAASjgG,KAAKhB,IACtC6lB,GAAG,WAAayC,EAAItoB,EAAK4wI,UAAU5vI,KAAKhB,IACxC6lB,GAAG,QAAUyC,EAAItoB,EAAK6wI,QAAQ7vI,KAAKhB,IACnC6lB,GAAG,QAAUyC,EAAItoB,EAAK6wI,QAAQ7vI,KAAKhB,IACnC6lB,GAAG,QAAUyC,EAAI,WACdtoB,EAAK8wI,MAAQ9wI,EAAKumH,YAClBvmH,EAAKgiI,SAAWhiI,EAAK8wI,MACrB9wI,EAAK82F,aAAa,OAClB7gF,EAAQN,SAAS8oE,KAEpB54D,GAAG,WAAayC,EAAI,WACjBtoB,EAAKy0D,UACLz0D,EAAK82F,eACL92F,EAAK05C,QACLzjC,EAAQf,YAAYupE,KAEvB7oE,KAAK,CACFuzG,aAAcgnB,EACd9mH,KAAM,WACNo9G,gBAAiB,QAGzBzmI,EAAKmmH,OAAOtgG,GAAG,QAAUyC,EAAK,YAAcA,EAAItoB,EAAKqmH,YAAYrlH,KAAKhB,IACtEA,EAAK+pH,UAEL/pH,EAAK8nH,KAAO9nH,EAAKumH,YAEjB,GAAIj3G,EAAQ,GAAGrT,GACXqT,EAAQsG,KAAK,YAAa5V,EAAKkjH,GAAG,GAAGjnH,IAGzC+D,EAAKkpH,QAELlpH,EAAK82F,eAEL92F,EAAKwlH,YAEL7zF,EAAWh1B,EAAEqD,EAAKsP,SAASyiB,QAAQ,YAAYrc,GAAG,aAElD,GAAIic,EACA3xB,EAAK6jB,OAAO,OAGhB7jB,EAAK0oE,SAAS1nE,KAAK,QAAS,SAASe,GAAKA,EAAEpB,mBAE5CX,EAAK+wI,uBAAyB/wI,EAAKgxI,gBAAgBhwI,KAAKhB,GAExDjD,EAAMoxB,OAAOnuB,GACbA,EAAKixI,yBACLjxI,EAAKkrB,oBAGThsB,QAAS,CACLhD,KAAM,eACNunB,QAAS,KACT2lG,QAAS,MACT3lH,SAAU,GACV4hH,cAAe,UACfC,mBAAoB,UACpBj9C,cAAe,GACfogD,UAAW,EACXhC,iBAAkB,MAClBpoF,MAAO,IACP/oB,OAAQ,IACRoa,OAAQ,aACR8d,WAAY,KACZk5E,eAAgB,MAChB3K,UAAW,KACXj8F,YAAa,GACb8oF,UAAW,GACXp9C,QAAS,MACTzkD,MAAO,KACPuhH,YAAa,KACboC,UAAW,MACXpgB,MAAO,KACP74F,KAAM,SACNib,SAAU,QACVhgB,QAAS,UAGbm1D,YAAa,WACT,IAAI7hE,EAAOP,KAEX,GAAIO,EAAKoqB,YAAcpqB,EAAK2kG,gBACxB3kG,EAAK6oH,wBACF,CACH7oH,EAAKkxI,iBAAmBlxI,EAAKytH,UAAUzsH,KAAKhB,GAC5CA,EAAKusH,cAAgBvsH,EAAKstH,UAAUtsH,KAAKhB,GAG7CA,EAAKoqB,WAAa1T,EAAWimC,OAAO38C,EAAKd,QAAQkrB,YAC5CppB,KAAK,WAAYhB,EAAKkxI,kBACtBlwI,KAAK,QAAShB,EAAKusH,gBAG5BnmB,cAAe,SAASh8E,GACpB3qB,KAAKP,QAAQkrB,WAAaA,EAC1B3qB,KAAKoiE,cAELpiE,KAAKipE,SAAS09B,cAAc3mG,KAAK2qB,aAGrC3oB,OAAQ,CACJ,OACA,QACAioC,EACA,SACA,YACA,cACA,aAGJ3e,WAAY,SAAS7rB,GACjB,IAAIumH,EAAchmH,KAAKmlH,aAAa1lH,GAEpC6jH,EAAK3iH,GAAG2qB,WAAW9oB,KAAKxC,KAAMP,GAE9BO,KAAKipE,SAAS39C,WAAW06F,GACzBhmH,KAAKgkH,aACLhkH,KAAKypH,QACLzpH,KAAK2oH,gBAGTxD,aAAc,SAAS1lH,GACnB,IAAIumH,EAAc1C,EAAK3iH,GAAGwkH,aAAa3iH,KAAKxC,KAAM9C,EAAEM,OAAOiC,EAAS,CAChE81H,iBAAkB,QAGtBvP,EAAY9+C,eAAiB8+C,EAAYp9C,cACzCo9C,EAAYC,mBAAqB,KAEjC,OAAOD,GAGX3mC,UAAW,SAAS5/E,GAChB,IAAIc,EAAOP,KACP6P,EAAUtP,EAAKsP,QACf2G,EAAUjW,EAAKiW,QAAQ6c,IAAIxK,GAC3Bs+C,EAAW1nE,EAAQ0nE,SACnBjjD,EAAUzkB,EAAQykB,QAEtB,IAAKijD,IAAajjD,EAAS,CACvB1N,EACKf,YAAYwpE,GACZ74D,GAAG2/G,EAAaxlI,EAAK2rH,cAE1Br8G,EAAQ2c,KAAKu0E,EAAU,OACfv0E,KAAK00G,EAAU,OACf/qH,KAAKihG,EAAe,OACpBjhG,KAAK8vH,EAAe,WACzB,CACHzvH,EACKN,SAASgO,EAAU+6D,EAAgB,IACnCxpE,YAAYyO,EAAU,GAAK+6D,GAEhCpvE,EAAQsG,KAAK4qF,EAAU78E,GACf/N,KAAK+qH,EAAU/5D,GACfhxD,KAAKihG,EAAelzF,GACpB/N,KAAK8vH,EAAe9+D,KAIpCltB,MAAO,WACH,IAAI15C,EAAOP,KACX,IAAI6I,EAAUtI,EAAK0oE,SAAS5pC,QAE5B,GAAIx2B,EACAA,EAAQ4M,YAAYukF,GAGxBz5F,EAAKsqG,MAAM5wD,QACX15C,EAAKolH,mBAGT15F,QAAS,WACL,IAAI1rB,EAAOP,KAEXO,EAAKsP,QAAQwjB,IAAIxK,GACjBtoB,EAAKmmH,OAAOrzF,IAAIxK,GAChBtoB,EAAKiW,QAAQ6c,IAAIxK,GAEjBy6F,EAAK3iH,GAAGsrB,QAAQzpB,KAAKjC,IAGzBuZ,QAAS,WACL9Z,KAAKipE,SAASnvD,WAGlB+lB,OAAQ,SAAU47E,GACdz7G,KAAKy1C,QAAQgmE,IAGjBnlF,OAAQ,SAAUq9C,GACd,IAAIpzE,EAAOP,KACXP,EAAUc,EAAKd,QACfsuC,EAAatuC,EAAQsuC,WACrBuuE,EAAY/7G,EAAKmxI,aACjB5xI,EACAmlD,EAAyB1kD,EAAKoqB,WAAWlrB,QAAQwlD,uBAEjD0uB,EAAOA,GAAQpzE,EAAKumH,YAEpBtyF,aAAaj0B,EAAKwoH,gBAElB,GAAIzM,EACA3oC,EAAOk9D,EAAY5xG,EAAM1+B,EAAKsP,SAAS,GAAI8jE,EAAM2oC,GAGrDx8G,EAAS6zE,EAAK7zE,OAEd,IAAML,EAAQunH,mBAAqBlnH,GAAWA,GAAUL,EAAQupH,UAAW,CACvEzoH,EAAKmoH,MAAQ,KAEbnoH,EAAK2qI,MAAM,WACPlrI,KAAKipE,SAAS3hE,MAAM,MAGxB/G,EAAK4mH,cAAc,CACf7/G,MAAOymC,EAAckX,EAAyB0uB,EAAKzuB,kBAAkBD,GAA0B0uB,EAAKrnE,cAAiBqnE,EACrHj6B,SAAUj6C,EAAQwwB,OAClBpP,MAAOphB,EAAQmpE,cACf76B,WAAYA,IAGhBxtC,EAAKmB,IAAI,QAASnB,EAAKoxI,iBAAiBpwI,KAAKhB,IAEjDA,EAAKixI,0BAGT7nB,QAAS,SAAUh2C,GACf,IAAIpzE,EAAOP,KACPgH,EAAMzG,EAAKqxI,MACXtqI,EAAQ/G,EAAKumH,YACbj3G,EAAUtP,EAAKsP,QAAQ,GACvB+gI,EAAW3xG,EAAMpvB,GAAS,GAC1BysG,EAAY/7G,EAAKmxI,aACjBV,EAAQ1pI,EAAMzE,MAAMy5G,GACpBu1B,EAAYlB,EAAmBC,EAAUtpI,EAAOg1G,GAChD/8E,EAAeqxG,EACfjvI,EACAsjD,EAAyB1kD,EAAKoqB,WAAWlrB,QAAQwlD,uBAErD,GAAIj+C,GAAOugB,EAAKG,WAAa1gB,GAAOugB,EAAKE,OAAQ,CAC7ClnB,EAAKqxI,MAAQv0I,EACb,OAGJs2E,EAAOA,GAAQ,GAEf,UAAWA,IAAS,SAAU,CAC1B,GAAIA,EAAK,GACLA,EAAOpzE,EAAKoqB,WAAW+G,OAAO4xF,EAAKj0F,QAAQskD,EAAK,GAAIpzE,EAAKkjH,GAAG,KAGhE9vC,EAAOA,EAAOpzE,EAAKg+F,MAAM5qB,GAAQ,GAGrC,GAAIi9D,GAAY,EACZA,GAAY3rF,EAAyB39C,EAAM49C,kBAAkBD,GAA0B39C,EAAMgF,eAAeO,QAAQo4C,EAAyB0uB,EAAKzuB,kBAAkBD,GAA0B0uB,EAAKrnE,eAAiB,EAGxN3K,EAAM2F,EAAMrE,UAAU,EAAG2tI,GAAU5jI,YAAYsvG,GAC/C36G,EAAMA,GAAO,EAAIivI,GAAYjvI,EAAM26G,EAAUx8G,QAAU8wI,EACvDtpI,EAAQ0pI,EAAMa,GAAW5uI,UAAU,EAAGtB,GAEtC,GAAIgyE,EAAM,CACNA,EAAOA,EAAKjuE,WACZ/D,GAAOsjD,EAAyB0uB,EAAKzuB,kBAAkBD,GAA0B0uB,EAAKrnE,eAAeO,QAAQo4C,EAAyB39C,EAAM49C,kBAAkBD,GAA0B39C,EAAMgF,eAC9L,GAAI3K,GAAO,EAAG,CACVgyE,EAAOA,EAAK1wE,UAAUtB,EAAM2F,EAAMxH,QAElCy/B,EAAeqxG,EAAWj9D,EAAK7zE,OAE/BwH,GAASqsE,EAGb,GAAI2oC,GAAa00B,EAAMA,EAAMlxI,OAAS,KAAO,GACzCkxI,EAAM9uI,KAAK,IAKnB8uI,EAAMa,GAAavqI,EAEnB/G,EAAKumH,UAAUkqB,EAAMluI,KAAKw5G,GAAa,KAEvC,GAAIzsG,IAAYJ,IACZwvB,EAAMpvB,EAAS+gI,EAAUrxG,IAIjCj4B,MAAO,SAAUA,GACb,GAAIA,IAAUjK,EAAW,CACrB2C,KAAKipE,SAAS3hE,MAAMA,GAEpBtH,KAAK8mH,UAAUx/G,GACftH,KAAKqoH,KAAOroH,KAAK8mH,YACjB9mH,KAAKuiI,SAAWviI,KAAK8mH,iBAErB,OAAO9mH,KAAK8mH,YAEhB9mH,KAAKwxI,0BAGT17F,OAAQ,SAASxzC,GACb,IAAI2mC,EAAO3mC,EAAE2mC,KACb,IAAI1oC,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QACnB,IAAIye,EAAW/tB,EAAK0oE,SAAS+lD,gBAAgBzuH,EAAK0oE,SAAS8lD,gBAAgB9lF,IAE3E3mC,EAAEpB,iBAEFX,EAAKo4H,QAAU,KAEf,GAAIp4H,EAAK8B,QAAQ,SAAU,CAAEisB,SAAUA,EAAU2a,KAAMA,IAAS,CAC5D1oC,EAAK05C,QACL,OAEJ15C,EAAKgiI,SAAW1yH,EAAQw7C,MACxB9qD,EAAKk1C,QAAQxM,GAAMhC,KAAK,WACpB1mC,EAAKghG,QAELtiE,EAAMpvB,EAASA,EAAQw7C,MAAMvrD,WAIrC+mH,WAAY3pH,EAAEU,KAEd2zI,gBAAiB,WACb,IAAIpiI,EAAQnP,KAAKP,QAAQwnH,eAAiB,GAAK,EAE/C,GAAIjnH,KAAKP,QAAQssD,QACb/rD,KAAKipE,SAASypB,SAAS,GAG3B1yF,KAAKipE,SAAS5pC,MAAMlwB,IAGxBo2G,WAAY,WACR,IAAIhlH,EAAOP,KACX,IAAI6qG,EAAQtqG,EAAKsqG,MACjB,IAAIprG,EAAUc,EAAKd,QACnB,IAAIwE,EAAO1D,EAAKoqB,WAAWsD,WAC3B,IAAInuB,EAASmE,EAAKnE,OAClB,IAAIwuD,EAAe/tD,EAAKoqB,WAAW2lC,OAAS/vD,EAAKoqB,WAAW2lC,OAAOxwD,OAAS,EAC5E,IAAIgyI,EAAWvxI,EAAKsP,QAAQ,KAAOJ,IACnC,IAAIs1B,EAEJxkC,EAAK+jH,gBACL/jH,EAAKgkH,gBACLhkH,EAAK0nH,eAAenoH,GACpBS,EAAK2nH,gBAAgB55D,KAAkBxuD,GAEvCS,EAAKyrH,eAELnhB,EAAMl0F,WAEN,GAAI7W,EACA,GAAIL,EAAQkqH,SAAWmoB,GAAYvxI,EAAKuoH,cACpCvoH,EAAKopH,QAAQ1lH,EAAK,IAI1B,GAAI1D,EAAKmoH,MAAO,CACZnoH,EAAKmoH,MAAQ,MACb3jF,EAASxkC,EAAK6nH,gBAAkB,OAAS,QAEzC,GAAI7nH,EAAKwoH,iBAAmB+oB,EACxB/sG,EAAS,QAGb,GAAIjlC,EAAQ,CACRS,EAAKgxI,kBAEL,GAAI9xI,EAAQssD,QACRxrD,EAAKsqG,MACA5oG,OAAO,WAAY1B,EAAK+wI,wBACxB5vI,IAAI,WAAYnB,EAAK+wI,wBAIlCzmC,EAAM9lE,KACNxkC,EAAKwoH,eAAiB1rH,EAG1B,GAAIkD,EAAKwxI,eACLxxI,EAAKwxI,eAAe1tE,QAGxB9jE,EAAKstH,YAELttH,EAAK8B,QAAQ,cAGjB6oI,MAAO,SAAS/kH,GACZnmB,KAAKgyI,OAAS,KACd7rH,EAAS3jB,KAAKxC,MACdA,KAAKgyI,OAAS,OAGlB3sB,YAAa,WACT,IAAIysB,EAAW9xI,KAAK24H,SAAW34H,KAAK6P,QAAQ,KAAOJ,IAEnD,GAAIqiI,IAAa9xI,KAAKgyI,OAClBhyI,KAAKiyI,aAAajyI,KAAKipE,SAASsgD,oBAAoB,KAI5D0oB,aAAc,SAAS3jH,GACnB,IAAIguF,EAAYt8G,KAAK0xI,aACrB,IAAItxG,EAAO,GAEX,GAAI9R,EACA8R,EAAOpgC,KAAKu+F,MAAMjwE,GAGtB,GAAI8R,IAAS,KACTA,EAAO,GAGX,GAAIk8E,EACAl8E,EAAO0wG,EAAmB7xG,EAAMj/B,KAAK6P,SAAS,GAAI7P,KAAK8mH,YAAa1mF,EAAMk8E,EAAWt8G,KAAKkyI,qBAG9FlyI,KAAKqxI,MAAQjxG,EACbpgC,KAAK8mH,UAAU1mF,GACfpgC,KAAKq3F,gBAGTs6C,iBAAkB,WACd3xI,KAAK8mH,UAAU9mH,KAAKsH,QAAQzE,MAAM7C,KAAK0xI,cAAc5uI,KAAK9C,KAAKkyI,sBAC/D,OAAOlyI,MAGXmpE,WAAY,SAAS7hE,EAAO84B,GACxBpgC,KAAK8oH,YAAY1oF,GACjBpgC,KAAK8mH,UAAUx/G,GAEftH,KAAKqoH,KAAOroH,KAAKwlI,QAAWxlI,KAAK8mH,YAEjC9mH,KAAKipE,SAASyqD,SAASpsH,GACvBtH,KAAKq3F,gBAGTriC,QAAS,WACL,IAAIz0D,EAAOP,KACX,IAAIsH,EAAQ/G,EAAKoxI,mBAAmBrqI,QACpC,IAAIjF,EAAUiF,IAAUg8G,EAAK0G,UAAUzpH,EAAK8nH,YAAa/gH,GAEzD,IAAIogI,EAAerlI,IAAY9B,EAAK6pH,QACpC,IAAI+nB,EAAe5xI,EAAKgiI,WAAaj7H,EAErC/G,EAAK8nH,KAAO/gH,EACZ/G,EAAKgiI,SAAWj7H,EAEhB,GAAIogI,GAAgByK,EAEhB5xI,EAAKsP,QAAQxN,QAAQ4nC,GAGzB,GAAI5nC,EACA9B,EAAK8B,QAAQ4nC,GAGjB1pC,EAAK8pH,OAAS,MACd9pH,EAAKixI,0BAGT1qB,UAAW,SAAUx/G,GACjB,IAAI/G,EAAOP,KACP6P,EAAUtP,EAAKsP,QAAQ,GAE3B,GAAIvI,IAAUjK,EAAW,CACrBwS,EAAQvI,MAAQA,IAAU,KAAO,GAAKA,EACtC/G,EAAK82F,mBACF,CACH/vF,EAAQuI,EAAQvI,MAEhB,GAAIuI,EAAQ+I,UAAU/L,QAAQ,eAAiB,EAC3C,GAAIvF,IAAU/G,EAAKd,QAAQ4gB,YACvB,MAAO,QAEP,OAAO/Y,EAIf,OAAOA,IAIfk6F,SAAU,SAAUl/F,GAChB,IAAI/B,EAAOP,KACX,IAAIgH,EAAM1E,EAAE8+B,QACZ,IAAI6nC,EAAW1oE,EAAK0oE,SACpB,IAAI72C,EAAU7xB,EAAKsqG,MAAMz4E,UACzB,IAAIvpB,EAAUogE,EAAS5pC,QAEvB9+B,EAAKqxI,MAAQ5qI,EAEb,GAAIA,IAAQugB,EAAKU,KAAM,CACnB,GAAImK,EACApyB,KAAK21C,MAAM9sC,EAAU,YAAc,mBAChC,GAAItI,EAAK+G,QACZ/G,EAAK4mH,cAAc,CACf7/G,MAAO/G,EAAKwtC,WAAaxtC,EAAK+G,QAAQgF,cAAgB/L,EAAK+G,QAC3DoyC,SAAUn5C,EAAKd,QAAQwwB,OACvBpP,MAAOtgB,EAAKd,QAAQmpE,cACpB76B,WAAYxtC,EAAKwtC,aAClB9G,KAAK,WACJ,GAAI1mC,EAAK6nH,gBAAiB,CACtB7nH,EAAKgxI,kBACLhxI,EAAKsqG,MAAMzB,UAIvB9mG,EAAEpB,sBACC,GAAI8F,IAAQugB,EAAKQ,GAAI,CACxB,GAAIqK,EACApyB,KAAK21C,MAAM9sC,EAAU,YAAc,aAEvCvG,EAAEpB,sBACC,GAAI8F,IAAQugB,EAAKY,KACpBnoB,KAAK21C,MAAM,mBACR,GAAI3uC,IAAQugB,EAAKW,IACpBloB,KAAK21C,MAAM,kBACR,GAAI3uC,IAAQugB,EAAKK,OAAS5gB,IAAQugB,EAAKI,IAAK,CAE/C,GAAI3gB,IAAQugB,EAAKK,OAASwK,EACtB9vB,EAAEpB,iBAGN,GAAIkxB,GAAWvpB,EAAS,CACpB,IAAIylB,EAAW26C,EAAS+lD,gBAAgB/lD,EAAS8lD,gBAAgBlmH,IACjE,GAAItI,EAAK8B,QAAQ,SAAU,CAAEisB,SAAUA,EAAU2a,KAAMpgC,IACnD,OAGJ7I,KAAKy1C,QAAQ5sC,GAGjB7I,KAAKuhG,aACF,GAAIv6F,IAAQugB,EAAKM,IAAK,CACzB,GAAIuK,EACA9vB,EAAEpB,sBAEFX,EAAKqmH,cAETrmH,EAAK05C,aACF,GAAI15C,EAAKsqG,MAAMz4E,YAAcprB,IAAQugB,EAAKe,UAAYthB,IAAQugB,EAAKc,QAAS,CAC/E/lB,EAAEpB,iBAEF,IAAIo2C,EAAYtwC,IAAQugB,EAAKe,SAAW,GAAK,EAC7C2gD,EAAS2mD,WAAWt4E,EAAY2xB,EAASttD,oBACtC,CAGHpb,EAAKsqG,MAAM5B,SAAW,KACtB1oG,EAAK6wI,YAIbD,UAAW,WACPnxI,KAAKuiI,SAAWviI,KAAK6P,QAAQw7C,MAC7BrrD,KAAKoqH,QAAU,MAGnBz0E,MAAO,SAAU5Q,GACb/kC,KAAKipE,SAASlkC,KAEd,GAAI/kC,KAAKP,QAAQkqH,QACb3pH,KAAK2pH,QAAQ3pH,KAAKipE,SAAS5pC,UAInCwuF,UAAW,WACP,IAAIttH,EAAOP,KACXw0B,aAAaj0B,EAAKutH,OAClBvtH,EAAK0gD,SAAS/qC,SAAS4rG,GACvBvhH,EAAKsP,QAAQsG,KAAK,YAAa,OAC/B5V,EAAKutH,MAAQ,KACbvtH,EAAKomH,cAGTqH,UAAW,WACP,IAAIztH,EAAOP,KAEX,GAAIO,EAAKutH,MACL,OAGJvtH,EAAKutH,MAAQ36F,WAAW,WACpB5yB,EAAKsP,QAAQsG,KAAK,YAAa,MAC/B5V,EAAK0gD,SAASxrC,YAAYqsG,GAC1BvhH,EAAKkmH,cACN,MAGPpvB,aAAc,SAAS5kB,GACnB,GAAIg+D,EACA,OAGJ,IAAIlwI,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfwQ,EAAc9f,EAAKd,QAAQ4gB,YAC3B/Y,EAEJ,GAAI+Y,EAAa,CACb/Y,EAAQuI,EAAQw7C,MAEhB,GAAIonB,IAASp1E,EACTo1E,GAAQnrE,EAGZ,IAAKmrE,EACD,GAAInrE,IAAU+Y,EACVA,EAAc/Y,OAEd+Y,EAAc,GAItB,GAAI/Y,IAAU/G,EAAK8nH,OAAS51C,EACxB,OAGJ5iE,EAAQgU,YAAY,aAAc4uD,GAC1BpnB,IAAIhrC,GAEZ,IAAKA,GAAexQ,EAAQ,KAAOL,SAASC,cACxCwvB,EAAMpvB,EAAQ,GAAI,EAAG,KAKjC6hI,WAAY,WACR,IAAIp1B,EAAYt8G,KAAKP,QAAQ68G,UAC7B,GAAIA,aAAqB3+G,MACtB,OAAO,IAAIuU,OAAOoqG,EAAUx5G,KAAK,KAAM,MAE1C,OAAOw5G,GAGX41B,kBAAmB,WACf,IAAI51B,EAAYt8G,KAAKP,QAAQ68G,UAC7B,GAAIA,aAAqB3+G,MACrB,OAAO2+G,EAAU,GAErB,OAAOA,GAGXwM,YAAa,WACT,OAAO9oH,KAAK6P,QAAQw7C,OAGxB+lF,QAAS,WACL,IAAI7wI,EAAOP,KACXw0B,aAAaj0B,EAAKwoH,gBAElBxoH,EAAKwoH,eAAiB51F,WAAW,WAC7B,GAAI5yB,EAAK8wI,QAAU9wI,EAAKumH,YAAa,CACjCvmH,EAAK8wI,MAAQ9wI,EAAKumH,YAClBvmH,EAAK+1B,WAEV/1B,EAAKd,QAAQm/B,QAGpB6W,QAAS,SAASmnE,GACd,IAAIr8G,EAAOP,KACXO,EAAKo4H,QAAU,KAEf,OAAOp4H,EAAK0oE,SAASppC,OAAO+8E,GAAW31E,KAAK,WACxC1mC,EAAKo4H,QAAU,SAIvBuY,QAAS,WACLlxI,KAAKihD,SAAW/jD,EAAE,wDAA0D4kH,EAAc,aAAaz8B,YAAYrlF,KAAK6P,UAG5H84G,aAAc,WACVrF,EAAK3iH,GAAGgoH,aAAanmH,KAAKxC,MAE1B,GAAIA,KAAKP,QAAQopH,YAAa,CAC1B7oH,KAAK0mH,OAAOrhC,YAAYrlF,KAAK6P,SAC7B7P,KAAKwW,QAAQN,SAAS,8BAI9Bg2G,aAAc,SAAS5pH,GACnBpF,EAAEoF,EAAEivC,eAAe1tB,YAAY88F,EAAOr+G,EAAEiF,OAAS,eAGrDiqI,uBAAwB,WACpB,GAAIxxI,KAAKsH,QACLtH,KAAK2mH,kBAEL3mH,KAAKymH,cAIbzqC,SAAU,WACN,IAAIz7E,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfuiI,EAAaviI,EAAQ,GACrB2G,EAEJA,EAAU3G,EAAQ0F,SAElB,IAAKiB,EAAQP,GAAG,uBACZO,EAAU3G,EAAQuF,KAAK,YAAYG,SAGvCiB,EAAQL,KAAK,YAAa,GAE1BK,EAAQ,GAAGZ,MAAMqE,QAAUm4H,EAAWx8H,MAAMqE,QAC5CpK,EAAQgF,IAAI,CACRc,MAAO,GACPE,OAAQu8H,EAAWx8H,MAAMC,SAG7BtV,EAAKikH,SAAWjkH,EAAKsP,QACrBtP,EAAKiW,QAAUA,EACVN,SAAS,0BACTA,SAASk8H,EAAWx5H,WACpBnD,YAAY,2BAGrBmxG,YAAa,WACTtD,EAAK3iH,GAAGimH,YAAYpkH,KAAKxC,MACzBA,KAAK6P,QAAQwvB,WAczB,OAVIpY,EAAG+J,OAAOigH,GAEV3zI,EAAMqvB,cAAc0Y,eAAe,eAAgB,YAEnD/nC,EAAMqvB,cAAc4Y,eAAe,eAAgB,CAAC,CAChD/Y,KAAM,UACNtd,OAAQ5R,EAAMqvB,cAAc2X,cAAchwB,OAAO,CAAC,CAAC,OAAQ,aAI5DlX,OAAOE,QA10Bd,CA40BoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,qBAAqB,CAAE,aAAc,wBAAyB,oBAAqB,qBAC3F,WAEH,IAAIC,EAAW,CACXC,GAAI,eACJC,KAAM,eACNC,SAAU,MACVC,YAAa,8GACbotC,QAAS,CAAE,OAAQ,eACnBuV,SAAU,CAAE,CACR9iD,GAAI,kBACJC,KAAM,kBACNE,YAAa,iDACbotC,QAAS,CAAE,oBACZ,CACCvtC,GAAI,iBACJC,KAAM,cACNE,YAAa,6BACbotC,QAAS,CAAE,kBAIT7sC,EA07CPE,OAAOE,MAAMH,OA17CHE,OAAb,EACQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM2pB,GACX/iB,EAAO5G,EAAM4G,KACbo/G,EAAOr8F,EAAGq8F,KACVz8C,EAAS5/C,EAAG4/C,OACZ5oE,EAAUX,EAAMW,QAChBwR,EAAgBnS,EAAMiS,eACtBixC,EAAmBljD,EAAM2G,KAAKu8C,iBAC9Bj5B,EAAOjqB,EAAMiqB,KACbsB,EAAK,qBACLwpH,EAAexpH,EAAK,aACpBk4E,EAAW,WACXmgC,EAAW,WACXj3F,EAAS,SACT+0C,EAAU,UACVC,EAAgB,aAChBm4B,EAAgB,gBAChB6uB,EAAgB,gBAChBqM,EAAc,QAAUzpH,EAAK,YAAcA,EAC3Ck9G,EAAc,aAAel9G,EAAK,cAAgBA,EAClDsC,EAAW,WACXonH,EAAe,SACfC,EAAe,SACfC,EAA2B,mMAC3B5qC,EAAO,OACPC,EAAQ,QAERhC,EAAej/B,EAAOrpE,OAAQ,CAC9BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACX,IAAImP,EAAQ1P,GAAWA,EAAQ0P,MAC/B,IAAI2/G,EAAa1uF,EAAMlO,EAEvB3xB,EAAKsoB,GAAKA,EACVppB,EAAU9B,MAAMD,QAAQ+B,GAAW,CAAEkrB,WAAYlrB,GAAYA,EAE7DonE,EAAOlmE,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCA,EAAUc,EAAKd,QACfoQ,EAAUtP,EAAKsP,QAAQuW,GAAG,QAAUyC,EAAItoB,EAAKmyI,cAAcnxI,KAAKhB,IAEhEA,EAAKoyI,mBAAqBpyI,EAAKqyI,YAAYrxI,KAAKhB,GAEhDA,EAAKuuH,YAAc5xH,IACnBqD,EAAKsyI,eAELtyI,EAAKuyI,iBAELvyI,EAAKkiE,SAELliE,EAAK8wI,MAAQ,GACb9wI,EAAKwyI,MAAQ,GAEbxyI,EAAKy7E,WAELz7E,EAAK2qB,YACL3qB,EAAKiW,QAAQvS,KAAKknB,EAAU5qB,EAAKiW,QAAQL,KAAKgV,IAE9C5qB,EAAKyyI,QAELzyI,EAAK0rH,SAEL1rH,EAAK0yI,UAEL1yI,EAAK6hE,cAEL7hE,EAAK+nH,cAEL/nH,EAAK2yI,gBAEL3yI,EAAKkpH,QAELlpH,EAAK+pH,UAEL/pH,EAAK4yI,uBAEL5yI,EAAK2pH,UAAY3pH,EAAKwnE,eAAiB,EAEvC,GAAI54D,IAAU9R,EACVoC,EAAQ0P,MAAQA,EAGpB5O,EAAK2sH,cAAgBztH,EAAQ0P,MAE7B5O,EAAKwsH,mBAAmBxsH,EAAKd,SAC7Bc,EAAKwlH,YACLxlH,EAAK0oE,SAASvnE,IAAI,YAAanB,EAAK6yI,4BAA4B7xI,KAAKhB,IAErEA,EAAK6vH,WAEL7vH,EAAKmB,IAAI,MAAO,SAASY,GACrB,IAAKA,EAAEC,OAAO0mE,SAASC,SAAW3oE,EAAKsuH,iBACnCtuH,EAAK8yI,cAAc9yI,EAAK+yI,sBAIhC,GAAI7zI,EAAQ+nE,SACRjnE,EAAKoqB,WAAW8wC,aACb,GAAIl7D,EAAKwnE,iBAAmB,EAAG,CAClC3nC,EAAO3gC,EAAQ2gC,MAAQ,GACvB,IAAKA,EAAM,CACP0uF,EAAcrvH,EAAQqvH,YAEtB,GAAIA,GAAervH,EAAQ0P,QAAU,EACjCixB,EAAO0uF,OACJ,GAAIvuH,EAAKgjH,UACZnjF,EAAOvwB,EAAQwxC,SAAS,aAAajhB,OAI7C7/B,EAAK8yI,cAAcjzG,GAGvBlO,EAAWh1B,EAAEqD,EAAKsP,SAASyiB,QAAQ,YAAYrc,GAAG,aAElD,GAAIic,EACA3xB,EAAK6jB,OAAO,OAGhB7jB,EAAK0oE,SAAS1nE,KAAK,QAAS,SAASe,GAAKA,EAAEpB,mBAE5C5D,EAAMoxB,OAAOnuB,GACbA,EAAKkrB,oBAGThsB,QAAS,CACLhD,KAAM,eACNunB,QAAS,KACTwjD,SAAU,KACVr4D,MAAO,EACPixB,KAAM,KACN94B,MAAO,KACPs3B,MAAO,IACP/oB,OAAQ,IACR+yD,cAAe,GACf1B,eAAgB,GAChB4nD,YAAa,GACb9lD,YAAa,GACbgoD,iBAAkB,GAClBD,uBAAwB,GACxBhjF,WAAY,KACZo7D,UAAW,GACXl5E,OAAQ,OACR+4F,UAAW,EACXhC,iBAAkB,MAClBj7D,QAAS,MACT/nD,SAAU,KACVuvI,cAAe,KACfC,oBAAqB,KACrB5tB,cAAe,UACfC,mBAAoB,UACpBoF,UAAW,MACXpgB,MAAO,KACP4oC,YAAa,KACbzhI,KAAM,SACNib,SAAU,QACVhgB,QAAS,UAGbjL,OAAQ,CACJ,OACA,QACAioC,EACA,SACA,YACA,cACA,YACA,UACA,MACA,gBAGJ3e,WAAY,SAAS7rB,GACjBonE,EAAOlmE,GAAG2qB,WAAW9oB,KAAKxC,KAAMP,GAEhCO,KAAKipE,SAAS39C,WAAWtrB,KAAKmlH,aAAa1lH,IAE3CO,KAAK6yI,eACL7yI,KAAK8yI,iBACL9yI,KAAKgkH,aACLhkH,KAAKkzI,gBACLlzI,KAAKsqH,UACLtqH,KAAKypH,QAEL,IAAKzpH,KAAKsH,SAAWtH,KAAK6uH,iBACtB7uH,KAAK6/B,OAAO,IAIpB5T,QAAS,WACL,IAAI1rB,EAAOP,KAEX6mE,EAAOlmE,GAAGsrB,QAAQzpB,KAAKjC,GAEvBA,EAAKiW,QAAQ6c,IAAIxK,GACjBtoB,EAAKiW,QAAQ6c,IAAIg/G,GACjB9xI,EAAKsP,QAAQwjB,IAAIxK,GAEjBtoB,EAAKmzI,OAAOrgH,MACZ9yB,EAAKmzI,OAAS,KACdnzI,EAAKwtH,WAAa,KAElBxtH,EAAKuuH,YAAYz7F,MAEjB,GAAG9yB,EAAKgmH,YACJhmH,EAAKgmH,YAAYlzF,IAAIg/G,IAI7BjpC,KAAM,WACF,IAAI7oG,EAAOP,KACX,IAAImqH,EAAa5pH,EAAKoqB,WAAWsF,SAAW1vB,EAAKoqB,WAAWsF,SAAS0pB,QAAQ75C,OAAS,EAAI,MAC1F,IAAImpE,EAAWjpE,KAAKipE,SAEpB,GAAI1oE,EAAKsqG,MAAMz4E,UACX,OAGJ,IAAK7xB,EAAK0oE,SAASC,SAAW3oE,EAAK0oH,SAAWupB,EAAc,CACxDjyI,EAAKmoH,MAAQ,KACbnoH,EAAK0oH,OAAS,SAEd,GAAI1oH,EAAKgmH,YAAa,CAClBhmH,EAAKgmH,YAAYl7D,IAAI,IACrB9qD,EAAK8wI,MAAQ,GAGjB,GAAI9wI,EAAKgmH,aAAehmH,EAAKd,QAAQupH,YAAc,IAAMmB,EAAY,CACjE5pH,EAAKuZ,UACLvZ,EAAKsqG,MAAMnpG,IAAI,WAAYnB,EAAKoyI,oBAChCpyI,EAAKiW,QAAQL,KAAK,wBAAyB8yD,EAASooD,WACpD9wH,EAAKsqG,MAAMzB,OACX7oG,EAAKozI,0BAELpzI,EAAK4mH,qBAEN,GAAI5mH,EAAK6nH,gBAAiB,CAC7B7nH,EAAKqzI,aAAe,KACpBrzI,EAAKsqG,MAAMnpG,IAAI,WAAYnB,EAAKoyI,oBAGhCpyI,EAAKsqG,MAAM5B,SAAW,KACtB1oG,EAAKiW,QAAQL,KAAK,wBAAyB8yD,EAASooD,WACpD9wH,EAAKsqG,MAAMzB,OACX7oG,EAAKozI,qBACLpzI,EAAK8qH,eAIbpxE,MAAO,WACHj6C,KAAKozI,8BACLpzI,KAAK6qG,MAAM5wD,SAGfm5F,4BAA6B,WACzB,IAAI58H,EAAUxW,KAAKwW,QACf6W,EAAU7W,EAAQuZ,KAAK,kBAAkB5Z,KAAK,MAElDK,EAAQL,KAAK,mBAAoBkX,IAGrCulH,YAAa,WACT5yI,KAAK0vH,cAAc1vH,KAAKumH,cAG5BotB,mBAAoB,WAChB,IAAIptB,EAAcvmH,KAAKumH,YACvB,IAAIstB,EAAkB7zI,KAAKssH,SAE3B,IAAK/F,EACD,OAGJ,IAAIutB,EAAgB9zI,KAAKumH,YAAY,KAAO92G,IAC5C,IAAIwvB,EAAQ3hC,EAAM2hC,MAAMj/B,KAAKumH,YAAY,IAAI,GAE7CvmH,KAAKssH,SAAW,KAEhB/F,EAAYrwG,SAAS,YACrBqwG,EAAYhsG,QAAQ,kBAAkB1F,IAAI,QAAS7U,KAAK6qG,MAAMh7F,QAAQgF,IAAI,UAC1E0xG,EAAY9wG,YAAY,YAExB,GAAIq+H,EAAe,CACfvtB,EAAYlkH,QAAQ,SACpB/E,EAAM2hC,MAAMsnF,EAAY,GAAItnF,GAGhCj/B,KAAKssH,SAAWunB,GAGpBzrB,cAAe,WACX,OAAOpoH,KAAK6uH,kBAAoB7uH,KAAKumH,aAAe1/C,EAAOlmE,GAAGynH,cAAc5lH,KAAKxC,OAGrF8kB,OAAQ,SAASA,GACb9kB,KAAK0+G,QAAQ55F,EAAQ,OAGzBjc,QAAS,SAAS+zG,GACd,IAAI/zG,EAEJ,GAAI+zG,IAAcv/G,EAAW,CACzBwL,EAAU7I,KAAKipE,SAAS5pC,QAExB,IAAKx2B,GAAW7I,KAAK+nE,gBAAkB,GAAK/nE,KAAK6uH,iBAC7C,OAAO7uH,KAAK8uH,YAGhB,OAAOjmH,EAGX7I,KAAKshG,OAAOsb,IAGhBtuF,SAAU,SAASnf,GACf,IAAI5O,EAAOP,KACX,IAAIsuB,EAAW,KAEf,GAAInf,IAAU,KAAQ,OAAOA,EAE7B,GAAIA,IAAU9R,EACVixB,EAAW/tB,EAAK0oE,SAASsgD,oBAAoB,OAC1C,CACH,UAAWp6G,IAAU,SAAU,CAC3B,GAAI5O,EAAKd,QAAQssD,QACb,OAAOxrD,EAAKoqB,WAAWioC,SAAS11D,EAAEiS,GAAOlL,KAAK,QAElD,GAAIkL,EAAMuG,SAAS,sBACfvG,GAAS,OAETA,EAAQjS,EAAEqD,EAAK8tB,SAASlf,MAAMA,QAE/B,GAAI5O,EAAKsuH,iBACZ1/G,GAAS,EAGbmf,EAAW/tB,EAAKoqB,WAAWsD,WAAW9e,GAG1C,IAAKmf,EACDA,EAAW/tB,EAAKwzI,uBAGpB,OAAOzlH,GAGXxU,QAAS,WACL9Z,KAAKipE,SAASnvD,WAGlBsmB,KAAM,SAAUA,GACZ,IAAI7/B,EAAOP,KACX,IAAIg0I,EACJ,IAAIjmG,EAAaxtC,EAAKd,QAAQsuC,WAE9B3N,EAAOA,IAAS,KAAO,GAAKA,EAE5B,GAAIA,IAAS/iC,EAAW,CACpB,UAAW+iC,IAAS,SAAU,CAC1B7/B,EAAK8yI,cAAcjzG,GACnB,OAGJ4zG,EAAcjmG,EAAa3N,EAAK9zB,cAAgB8zB,EAEhD7/B,EAAKk1C,QAAQ,SAASxxC,GAClBA,EAAO1D,EAAKg+F,MAAMt6F,GAElB,GAAI8pC,EACA9pC,GAAQA,EAAO,IAAIqI,cAGvB,OAAOrI,IAAS+vI,IACjB/sG,KAAK,WACJ1mC,EAAK8yI,cAAc9yI,EAAK+tB,YAAc8R,UAI1C,OAAO7/B,EAAK8yI,iBAIpBnsB,aAAc,WACVhqH,EAAE8C,KAAKumH,aAAal7D,IAAI,IACxBwb,EAAOlmE,GAAGumH,aAAa1kH,KAAKxC,OAGhCsH,MAAO,SAASA,GACZ,IAAI/G,EAAOP,KACX,IAAIipE,EAAW1oE,EAAK0oE,SACpB,IAAIt+C,EAAapqB,EAAKoqB,WACtB,IAAIspH,EAAU,WAAa1zI,EAAK+G,MAAMA,IAEtC,GAAIA,IAAUjK,EAAW,CACrBiK,EAAQ/G,EAAKumH,aAAevmH,EAAK0oE,SAAS3hE,QAAQ,GAClD,OAAOA,IAAUjK,GAAaiK,IAAU,KAAO,GAAKA,EAGxD/G,EAAKwsH,mBAAmBxsH,EAAKd,QAAS6H,GAEtC,GAAIA,IAAU/G,EAAKsuH,iBACftuH,EAAK2sH,cAAgB,KAGzBltH,KAAKqC,QAAQ,MAAO,CAAEiF,MAAOA,IAE7B,GAAI/G,EAAK0tH,UAAY1tH,EAAKd,QAAQupE,aAAezoE,EAAK0oE,SAASC,QAAS,CACpE,GAAI3oE,EAAK2zI,aACLvpH,EAAW1oB,OAAOgoC,EAAQ1pC,EAAK2zI,cAGnC3zI,EAAK2zI,aAAeD,EAAQ1yI,KAAKhB,GAEjCoqB,EAAWjpB,IAAIuoC,EAAQ1pC,EAAK2zI,cAC5B,OAGJ,GAAI3zI,EAAKimH,oBAAsBv9C,EAASC,SAAWD,EAASkhD,aACxD5pH,EAAK2mH,oBAEL3mH,EAAKsvH,aAGT5mD,EAAS3hE,MAAMA,GAAO2/B,KAAK,WACvB1mC,EAAK8nH,KAAO9nH,EAAK0pH,oBAAsB1pH,EAAKumH,YAC5CvmH,EAAK2pH,UAAY3pH,EAAKwnE,iBAI9B8mD,eAAgB,WACZ,OAAO7uH,KAAK8uH,eAAiB9uH,KAAK8uH,YAAY,IAGlD+jB,aAAc,WACV,IAAItyI,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAIqvH,EAAcrvH,EAAQqvH,YAC1B,IAAI9qH,EAAWvE,EAAQ+zI,oBAEvB,IAAK1kB,EAAa,CACdvuH,EAAKuuH,YAAYz7F,MAAMtC,SACvBxwB,EAAKuuH,YAAc5xH,IACnB,OAGJ,IAAK8G,EAAU,CACXA,EAAW,KAEX,UAAW8qH,IAAgB,SACvB9qH,GAAY,YAEZA,GAAY1G,EAAM0rB,KAAKvpB,EAAQmpE,cAAe,QAGlD5kE,GAAY,IAGhB,UAAWA,IAAa,WACpBA,EAAW1G,EAAM0G,SAASA,GAG9BzD,EAAKizI,oBAAsBxvI,EAE3B,IAAKzD,EAAKsuH,iBACNtuH,EAAKuuH,YAAc5xH,EAAE,wDAAwD4zB,UAAUvwB,EAAKuhE,MAGhGvhE,EAAKuuH,YAAY5qH,KAAKF,EAAS8qH,IACdz7F,MACAjN,GAAGksH,EAAa/xI,EAAKu1C,OAAOv0C,KAAKhB,IACjC6lB,GAAG2/G,EAAaxlI,EAAK2rH,cAEtC3rH,EAAKmqB,QAAQ,UAAW,WACpB,MAAO,CAAE0D,SAAU7tB,EAAKuuH,YAAa7qH,KAAM,CAAC,CAAEqqB,SAAU/tB,EAAKwzI,6BAIrET,iBAAkB,WACd,IAAIxkB,EAAc9uH,KAAKP,QAAQqvH,YAC/B,cAAeA,IAAgB,SAAYA,EAAc9uH,KAAKu+F,MAAMuwB,IAGxEilB,qBAAsB,WAClB,IAAIxzI,EAAOP,KACX,IAAI8uH,EAAcvuH,EAAKd,QAAQqvH,YAE/B,GAAIvuH,EAAKsuH,iBACL,OAAO3xH,EAAE+C,cAAc6uH,GAAe,IAAItuE,EAAiBsuE,GAAevuH,EAAK4zI,gBAAgB5zI,EAAK+yI,mBAAoB,IAG5H,OAAOj2I,GAGX+2I,cAAe,SAASnwI,GACpB,IAAI1D,EAAOP,KACX,IAAKO,EAAKgjH,UACN,OAGJ,IAAIj8G,EAAQ/G,EAAK0oE,SAAS3hE,QAAQ,GAClC,IAAIwnH,EAAcvuH,EAAKwzI,uBACvB,IAAIM,EAAmBvlB,GAAevuH,EAAKipH,OAAOsF,GAElD,GAAIxnH,IAAUjK,GAAaiK,IAAU,KACjCA,EAAQ,GAGZ,GAAIwnH,EAAa,CACb,GAAIulB,IAAqBh3I,GAAag3I,IAAqB,KACvDA,EAAmB,GAGvBvlB,EAAc,kBAAoBulB,EAAmB,KAAO9zI,EAAKg+F,MAAMuwB,GAAe,YAG1FvuH,EAAKwvH,SAAS9rH,EAAM6qH,EAAaxnH,GAEjC,GAAIA,IAAUg8G,EAAK0G,UAAUzpH,EAAKumH,mBAAoBx/G,GAAQ,CAC1D/G,EAAKwmH,cAAgB,KACrBxmH,EAAKmtH,QAAQpmH,KAIrBi+G,WAAY,WAER,IAAIhlH,EAAOP,KACX,IAAIs0I,EAAe/zI,EAAK2sH,cACxB,IAAImG,EAAW9yH,EAAK0oH,SAAWspB,EAE/B,IAAItuI,EAAO1D,EAAKoqB,WAAWsD,WAC3B,IAAIK,EAEJ/tB,EAAKg0I,aAAe,MAEpBh0I,EAAK+jH,gBACL/jH,EAAKgkH,gBACLhkH,EAAK0nH,eAAehkH,EAAKnE,QAEzBS,EAAKyrH,aAAa,MAElBzrH,EAAKsqG,MAAMl0F,WAEXpW,EAAK6zI,cAAcnwI,GAEnB,IAAKovH,EAAU,CACX,GAAI9yH,EAAKmoH,MACLnoH,EAAKukB,OAAOvkB,EAAK6nH,iBAGrB7nH,EAAKmoH,MAAQ,MAEb,IAAKnoH,EAAK+uH,OACN,GAAIrrH,EAAKnE,OAAQ,CACb,IAAKS,EAAK0oE,SAAS3hE,QAAQxH,QAAUw0I,GAAgB,GAAKA,IAAiB,KACvE/zI,EAAKs/B,OAAOy0G,GAGhB/zI,EAAK2sH,cAAgB,KACrB5+F,EAAW/tB,EAAK0oE,SAASsgD,oBAAoB,GAC7C,GAAIj7F,GAAY/tB,EAAK6/B,SAAW7/B,EAAKg+F,MAAMjwE,GACvC/tB,EAAK0xI,aAAa3jH,QAEnB,GAAI/tB,EAAK8yI,kBAAoB9yI,EAAK+yI,mBAAoB,CACzD/yI,EAAK0oE,SAAS3hE,MAAM,IACpB/G,EAAK0xI,aAAa,MAClB1xI,EAAK2pH,UAAY3pH,EAAKwnE,eAKlCxnE,EAAKstH,YACLttH,EAAK8B,QAAQ,cAGjBgjH,YAAa,WACTrlH,KAAKiyI,aAAajyI,KAAKipE,SAASsgD,oBAAoB,IAEpD,GAAIvpH,KAAKu0I,cAAiBv0I,KAAKqoH,MAAQroH,KAAKkqH,aAAe,EACvDlqH,KAAKkqH,UAAYlqH,KAAK+nE,eAI9BysE,aAAc,WACVx0I,KAAKoxI,WAGT+B,qBAAsB,WAClB,IAAI5yI,EAAOP,KACX,IAAIwW,EAAUjW,EAAKiW,QAEnBA,EAAQ4P,GAAG,UAAYisH,EAAc9xI,EAAKk0I,gBAAgBlzI,KAAKhB,IACvD6lB,GAAG,WAAaisH,EAAc9xI,EAAKm0I,iBAAiBnzI,KAAKhB,IACjE,GAAGA,EAAKgmH,YACJhmH,EAAKgmH,YAAYngG,GAAG,UAAYisH,EAAc9xI,EAAKk0I,gBAAgBlzI,KAAKhB,IACpE6lB,GAAG,WAAaisH,EAAc9xI,EAAKm0I,iBAAiBnzI,KAAKhB,KAIrEmyI,cAAe,WACX1yI,KAAKwW,QAAQnU,QAAQ,UAGzBoyI,gBAAiB,WACbz0I,KAAKwW,QAAQN,SAAS8oE,GACtBh/E,KAAKssH,SAAW,OAGpBooB,iBAAkB,WACd,IAAIn0I,EAAOP,KACX,IAAI20I,EAAWv3I,OAAOw3I,OAASx3I,OAAO2iB,IAEtC,IAAKxf,EAAK+rH,SAAU,CAChB93F,aAAaj0B,EAAKwoH,gBAElB,GAAI9qH,EAAQsgB,SAASrB,KAAOy3H,EACxBp0I,EAAKy0D,eAELz0D,EAAKghG,QAGThhG,EAAKiW,QAAQf,YAAYupE,GACzBz+E,EAAK+rH,SAAW,KAChB/rH,EAAKmoH,MAAQ,MACbnoH,EAAKsP,QAAQxN,QAAQ,UAI7BwyI,kBAAmB,WACf70I,KAAKssH,WAAatsH,KAAKumH,aAG3BuuB,cAAe,SAASxyI,GACpBA,EAAEpB,iBACFlB,KAAK6qG,MAAM5oG,OAAO,WAAYjC,KAAK2yI,oBACnC3yI,KAAKwkH,SAAWxkH,KAAKwW,QACrBxW,KAAKssH,SAAW,MAChBtsH,KAAK0+G,WAGTr/B,UAAW,SAAS5/E,GAChB,IAAIc,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QACnB,IAAIqU,EAAUzkB,EAAQykB,QACtB,IAAIijD,EAAW1nE,EAAQ0nE,SACvB,IAAI3wD,EAAUjW,EAAKiW,QAAQuN,IAAIxjB,EAAKgmH,aAAalzF,IAAIxK,GACrD,IAAIksH,EAAkBx0I,EAAKiW,QAAQ6c,IAAI0yG,GAEvC,IAAK5+D,IAAajjD,EAAS,CACvBrU,EAAQ2c,KAAKu0E,EAAU,OAAOv0E,KAAK00G,EAAU,OAE7C6T,EACKt/H,YAAYwpE,GACZ74D,GAAG2/G,EAAaxlI,EAAK2rH,cAE1B11G,EACKL,KAAKgV,EAAU3U,EAAQvS,KAAKknB,IAC5BhV,KAAKihG,EAAe,OACpBjhG,KAAK8vH,EAAe,OACpB7/G,GAAG,UAAYyC,EAAItoB,EAAMA,EAAKihG,SAASjgG,KAAKhB,IAC5C6lB,GAAG9oB,EAAMW,QAAQooB,UAAYwC,EAAItoB,EAAKs0I,kBAAkBtzI,KAAKhB,IAC7D6lB,GAAG,QAAUyC,EAAItoB,EAAKi0I,aAAajzI,KAAKhB,IAE7CA,EAAKiW,QAAQ4P,GAAG,QAAUyC,EAAItoB,EAAKu0I,cAAcvzI,KAAKhB,IAEtD,IAAKA,EAAKgmH,YACN/vG,EAAQ4P,GAAG,WAAayC,EAAItoB,EAAK4wI,UAAU5vI,KAAKhB,SAEhDiW,EAAQ4P,GAAG,QAAUyC,EAAItoB,EAAK6wI,QAAQ7vI,KAAKhB,SAG5C,GAAI2jB,EAAS,CAChB1N,EAAQ6U,WAAWF,GACnB4pH,EAAgB7+H,SAAS+oE,QAEzB81D,EAAgBt/H,YAAYwpE,GAGhCpvE,EAAQsG,KAAK4qF,EAAU78E,GACf/N,KAAK+qH,EAAU/5D,GAEvB3wD,EAAQL,KAAKihG,EAAelzF,GACnB/N,KAAK8vH,EAAe9+D,IAGjCq6B,SAAU,SAASl/F,GACf,IAAI/B,EAAOP,KACX,IAAIgH,EAAM1E,EAAE8+B,QACZ,IAAIs6E,EAASp5G,EAAEo5G,OACf,IAAIo4B,EACJ,IAAInsC,EAEJ,IAAIqtC,EAAiBz0I,EAAKsqG,MAAMz4E,UAEhC,GAAI7xB,EAAKgmH,YACLutB,EAAgBvzI,EAAKgmH,YAAY,KAAO92G,IAG5C,GAAIzI,IAAQugB,EAAKO,KAAM,CACnB9gB,EAAMugB,EAAKQ,GACX4/E,EAAU,UACP,GAAI3gG,IAAQugB,EAAKS,MAAO,CAC3BhhB,EAAMugB,EAAKU,KACX0/E,EAAU,KAGd,GAAIA,GAAWmsC,EACX,OAGJxxI,EAAE8+B,QAAUp6B,EAEZ,GAAK00G,GAAU10G,IAAQugB,EAAKQ,IAAO/gB,IAAQugB,EAAKM,IAC5CtnB,EAAKmvH,cAAcnvH,EAAKiW,SAG5B,GAAIjW,EAAK0oH,SAAWspB,GAAgBvrI,IAAQugB,EAAKM,IAAK,CAClDtnB,EAAK2mH,eACL3mH,EAAKmoH,MAAQ,MACbnoH,EAAK0oH,OAASupB,EAGlB,GAAIxrI,IAAQugB,EAAKK,OAASrnB,EAAKwoH,gBAAkBxoH,EAAKgmH,aAAeyuB,EAAgB,CACjF1yI,EAAEpB,iBACF,OAGJ,GAAI8F,IAAQugB,EAAKa,WAAa0rH,EAAe,CACzCvzI,EAAKukB,QAAQkwH,GACb1yI,EAAEpB,iBAGNymG,EAAUpnG,EAAKo1C,MAAMrzC,GAErB,GAAIqlG,EACA,OAGJ,IAAKqtC,IAAmBz0I,EAAKgmH,YAAa,CACtC,IAAI19G,EAAUtI,EAAK+gG,SAEnB,GAAIt6F,IAAQugB,EAAKY,KAAM,CACnBw/E,EAAU,KACVpnG,EAAK4tH,kBACF,GAAInnH,IAAQugB,EAAKW,IAAK,CACzBy/E,EAAU,KACVpnG,EAAK8tH,YAGT,GAAI1mB,EAAS,CACT,GAAIpnG,EAAK8B,QAAQ,SAAU,CAAEisB,SAAU/tB,EAAK00I,oBAAoB10I,EAAK+gG,UAAWr4D,KAAM1oC,EAAK+gG,WAAa,CACpG/gG,EAAK+gG,OAAOz4F,GACZ,OAGJtI,EAAKk1C,QAAQl1C,EAAK+gG,SAAU,MAAMr6D,KAAK,WACnC,IAAK+tG,EACDz0I,EAAKghG,UAGbj/F,EAAEpB,kBAIV,IAAKw6G,IAAW/T,GAAWpnG,EAAKgmH,YAC5BhmH,EAAK6wI,WAIb8D,WAAY,SAAS90G,EAAMuzC,GACvB,IAAI5lC,EAAa/tC,KAAKP,QAAQsuC,WAE9B,GAAI3N,IAAS/iC,GAAa+iC,IAAS,KAC/B,OAAO,MAGXA,EAAOA,EAAO,GAEd,GAAI2N,EACA3N,EAAOA,EAAK9zB,cAGhB,OAAO8zB,EAAKvzB,QAAQ8mE,KAAU,GAGlCwhE,aAAc,SAASlxI,EAAMmxI,GACzB,IAAIC,EAAiBr1I,KAAK+zI,uBAE1B,GAAIsB,EACApxI,EAAO,CAACoxI,GAAgB/gI,OAAOrQ,GAGnC,OAAOA,EAAK9E,MAAMi2I,GAAY9gI,OAAOrQ,EAAK9E,MAAM,EAAGi2I,KAGvDE,YAAa,WACT,IAAI/0I,EAAOP,KACX,IAAIiE,EAAO1D,EAAKoqB,WAAWsD,WAC3B,IAAI+sC,EAAa/2D,EAAKnE,QAAUS,EAAKsuH,iBAAmB,EAAI,GAC5D,IAAI0mB,EAAWC,EAAcj1I,EAAKwyI,MAAOxyI,EAAKqxI,OAC9C,IAAIr0E,EAAah9D,EAAKwnE,cACtB,IAAI0tE,EACJ,IAAIr1G,EAEJ,GAAIm9B,KAAgB,EAChBA,EAAa,MACV,CACHA,GAAcg4E,EAAW,EAAI,EAC7Bh4E,EAAam4E,EAAen4E,EAAYvC,GAG5C/2D,EAAOA,EAAK2B,OAAS3B,EAAK2B,SAAW3B,EAAK9E,QAC1C8E,EAAO1D,EAAK40I,aAAalxI,EAAMs5D,GAE/B,IAAK,IAAI57D,EAAM,EAAGA,EAAMq5D,EAAYr5D,IAAO,CACvCy+B,EAAO7/B,EAAKg+F,MAAMt6F,EAAKtC,IAEvB,GAAI4zI,GAAYh1I,EAAK20I,WAAW90G,EAAM7/B,EAAKqxI,OACvC,WACG,GAAIrxI,EAAK20I,WAAW90G,EAAM7/B,EAAKwyI,OAClC,MAIR,GAAIpxI,IAAQq5D,EAAY,CACpBy6E,EAAiBl1I,EAAK+gG,SAEtB/gG,EAAKk1C,QAAQigG,EAAen4E,EAAa57D,EAAKq5D,IAAa/zB,KAAK,WAC5D,IAAIA,EAAO,WACP,IAAK1mC,EAAKsqG,MAAMz4E,UACZ7xB,EAAKy0D,WAIb,GAAIz0D,EAAK8B,QAAQ,SAAU,CAAEisB,SAAU/tB,EAAK00I,oBAAoB10I,EAAK+gG,UAAWr4D,KAAM1oC,EAAK+gG,WACvF/gG,EAAKk1C,QAAQggG,GAAgBxuG,KAAKA,QAElCA,QAMhBkqG,UAAW,SAAS7uI,GAChB,IAAI/B,EAAOP,KAEX,GAAIsC,EAAEozC,QAAU,GAAKpzC,EAAE8+B,UAAY9jC,EAAMiqB,KAAKK,MAC1C,OAGJ,IAAI+tH,EAAYtvI,OAAOsf,aAAarjB,EAAEszI,UAAYtzI,EAAE8+B,SAEpD,GAAI7gC,EAAKd,QAAQsuC,WACb4nG,EAAYA,EAAUrpI,cAG1B,GAAIqpI,IAAc,IACdrzI,EAAEpB,iBAGNX,EAAKwyI,OAAS4C,EACdp1I,EAAKqxI,MAAQ+D,EAEbp1I,EAAK6wI,WAGTyE,WAAY,WACR,IAAIhrC,EAAQ7qG,KAAK6qG,MAEjBA,EAAMr0F,QAAUlZ,EAAM8X,KAAKy1F,EAAMh7F,SAEjC,GAAIg7F,EAAMh7F,QAAQ0K,QAAQ,YAAY,GAAI,CACtCswF,EAAMr0F,QAAQN,SAAS,sBACvBlW,KAAKwW,QAAQN,SAAS,eAI9B+1G,OAAQ,WACJplD,EAAOlmE,GAAGsrH,OAAOzpH,KAAKxC,MACtBA,KAAK6qG,MAAMnpG,IAAI,OAAQ1B,KAAK61I,WAAWt0I,KAAKvB,QAGhDi1I,oBAAqB,SAASplI,GAC1B,IAAKA,IAAYA,EAAQ,GACrB,OAAO,KAGX,GAAIA,EAAQ,KAAO7P,KAAK8uH,YAAY,GAChC,OAAO9uH,KAAK+zI,uBAGhB,OAAO/zI,KAAKipE,SAAS+lD,gBAAgBhvH,KAAKipE,SAAS8lD,gBAAgBl/G,KAGvEimC,OAAQ,SAAUxzC,GACd,IAAI/B,EAAOP,KACX,IAAIipC,EAAO3mC,EAAE2mC,MAAQ/rC,EAAEoF,EAAEivC,eAEzBjvC,EAAEpB,iBAEF,GAAIX,EAAK8B,QAAQ,SAAU,CAAEisB,SAAU/tB,EAAK00I,oBAAoBhsG,GAAOA,KAAMA,IAAS,CAClF1oC,EAAK05C,QACL,OAGJ15C,EAAKupH,eAAiB,KAEtBvpH,EAAKk1C,QAAQxM,GAAMhC,KAAK,WACpB1mC,EAAKghG,QACLhhG,EAAKmvH,cAAcnvH,EAAKiW,YAIhCk5G,cAAe,SAAS7/G,GACpB,IAAIotH,EAASxtH,IACb,IAAI+G,EAAUxW,KAAKwW,QACnB,IAAI+vG,EAAcvmH,KAAKumH,YACvB,IAAIuvB,EAAiBjmI,IAAY02G,EAAc/vG,EAAU+vG,EACzD,IAAI6F,EAAenuH,EAAQsgB,WAAatgB,EAAQyc,OAASzc,EAAQouH,YAAcpuH,EAAQkkB,UAEvF,GAAIokG,GAAeA,EAAY,KAAO12G,EAAQ,IAAMu8G,EAChD,OAGJ,GAAI7F,IAAgBuvB,EAAe,KAAO7Y,GAAUj9H,KAAK4zI,cAAe,CACpE5zI,KAAK4zI,aAAe,MACpB5zI,KAAKssH,SAAW,KAChBtsH,KAAKwkH,SAAW30G,EAAQxN,QAAQ,WAIxC8mH,cAAe,SAASx1C,GACpB,IAAKA,EACD,OAGJ,IAAIpzE,EAAOP,KACX,IAAI+tC,EAAaxtC,EAAKd,QAAQsuC,WAE9B,GAAIA,EACA4lC,EAAOA,EAAKrnE,cAGhB/L,EAAKk1C,QAAQ,SAASnnB,GAClB,OAAO/tB,EAAK20I,WAAW30I,EAAKg+F,MAAMjwE,GAAWqlD,MAIrDm1C,YAAa,WACT,OAAO9oH,KAAKogC,QAGhBgxG,QAAS,WACL,IAAI7wI,EAAOP,KACX,IAAI2qB,EAAapqB,EAAKoqB,WAEtB6J,aAAaj0B,EAAKwoH,gBAElB,GAAIxoH,EAAKimH,mBACLjmH,EAAKwoH,eAAiB51F,WAAW,WAC7B,IAAI7rB,EAAQ/G,EAAKgmH,YAAYl7D,MAE7B,GAAI9qD,EAAK8wI,QAAU/pI,EAAO,CACtB/G,EAAK8wI,MAAQ/pI,EACb/G,EAAK+1B,OAAOhvB,GACZ/G,EAAKozI,qBAGTpzI,EAAKwoH,eAAiB,MACvBxoH,EAAKd,QAAQm/B,WACb,CACHr+B,EAAKwoH,eAAiB51F,WAAW,WAC7B5yB,EAAKwyI,MAAQ,IACdxyI,EAAKd,QAAQm/B,OAEhB,IAAKr+B,EAAK0oE,SAASC,QAAS,CACxBv+C,EAAW8wC,QAAQx0B,KAAK,WACpB1mC,EAAK+0I,gBAET,OAGJ/0I,EAAK+0I,gBAIb/lB,KAAM,SAAS3S,GACX,IAAI34G,EAAMgwD,EAAOtyD,EACjB,IAAIV,SAAoB27G,IAAc,WACtC,IAAIm5B,GAAmB90I,EAAa/D,EAAE0/G,GAAa1/G,IAEnD,GAAI8C,KAAK6uH,iBACL,UAAWjS,IAAc,UACrB,GAAIA,GAAa,EACbA,GAAa,OAEd,GAAIm5B,EAAgBrgI,SAAS,sBAChCknG,GAAa,EAIrB,GAAI37G,EAAY,CACZgD,EAAOjE,KAAK2qB,WAAWsD,WAEvB,IAAKtsB,EAAM,EAAGA,EAAMsC,EAAKnE,OAAQ6B,IAC7B,GAAIi7G,EAAU34G,EAAKtC,IAAO,CACtBi7G,EAAYj7G,EACZsyD,EAAQ,KACR,MAIR,IAAKA,EACD2oD,GAAa,EAIrB,OAAOA,GAGXuR,WAAY,WACR,GAAInuH,KAAK6uH,iBACL7uH,KAAKshG,OAAOthG,KAAK8uH,kBAEjB9uH,KAAKipE,SAASmlD,cAItBC,UAAW,WACPruH,KAAKg2I,oBACLh2I,KAAKipE,SAASqlD,aAGlBC,UAAW,WACP,IAAIsE,EAEJ,GAAI7yH,KAAK8uH,YAAYp5G,SAAS,WAAY,CACtC1V,KAAKg2I,oBACLh2I,KAAKipE,SAASmlD,aACdyE,EAAa,OAEbA,EAAa7yH,KAAKipE,SAASulD,YAG/B,OAAOqE,GAGXpE,UAAW,WACP,IAAIoE,EAEJ,GAAI7yH,KAAK8uH,YAAYp5G,SAAS,WAC1B,OAGJm9G,EAAa7yH,KAAKipE,SAASylD,YAE3B,IAAK1uH,KAAKipE,SAAS5pC,UAAYr/B,KAAKP,QAAQssD,QACxC/rD,KAAKshG,OAAOthG,KAAK8uH,aAGrB,OAAO+D,GAGXxH,WAAY,WACR,IAAI5rH,EAAUO,KAAKP,QACnB,IAAIwpE,EAAWjpE,KAAKipE,SACpB,IAAIgtE,EAAchtE,EAAS5pC,QAC3B,IAAIlwB,EAAQ85D,EAASppC,SAErB1wB,EAAQA,EAAMA,EAAMrP,OAAS,GAE7B,GAAIqP,IAAU9R,GAAaoC,EAAQwnH,iBAAmBgvB,EAClD9mI,EAAQ,EAGZ,GAAIA,IAAU9R,EACV4rE,EAAS5pC,MAAMlwB,QAEf,GAAI1P,EAAQqvH,eAAiBrvH,EAAQssD,SAAWtsD,EAAQssD,QAAQ0+E,aAAe,YAAa,CACxFzqI,KAAKshG,OAAOthG,KAAK8uH,aACjB9uH,KAAKy1C,QAAQz1C,KAAK8uH,aAClB9uH,KAAKipE,SAASpuB,QAAQlqB,UAAU,QAEhCs4C,EAASsiD,cAAc,IAKnCyqB,kBAAmB,SAASE,GACxBl2I,KAAK8uH,YAAYr5G,YAAY,WAAaygI,GAAmB,KAAK7qH,WAAW,OAGjFi2E,OAAQ,SAASsb,GACb,IAAI3zC,EAAWjpE,KAAKipE,SACpB,IAAI6lD,EAAc9uH,KAAK8uH,YAEvB,GAAIlS,IAAcv/G,EAAW,CACzBu/G,EAAY3zC,EAAS5pC,QAErB,IAAKu9E,GAAakS,EAAYp5G,SAAS,WACnCknG,EAAYkS,EAGhB,OAAOlS,EAGX58G,KAAKg2I,oBAELp5B,EAAY58G,KAAKuvH,KAAK3S,GAEtB3zC,EAAS5pC,MAAMu9E,GAEf,GAAIA,KAAe,EAAG,CAClBkS,EAAY54G,SAAS,WACTC,KAAK,KAAM8yD,EAASooD,WAEhC,GAAIrxH,KAAKumH,YACLvmH,KAAKumH,YACAl7F,WAAW,yBACXlV,KAAK,wBAAyB8yD,EAASooD,aAKxD57E,QAAS,SAASmnE,EAAWu5B,GACzB,IAAI51I,EAAOP,KAEX48G,EAAYr8G,EAAKgvH,KAAK3S,GAEtB,OAAOr8G,EAAK0oE,SAASppC,OAAO+8E,GAAW31E,KAAK,WACxC,IAAKkvG,GAAa51I,EAAK0oH,SAAWspB,EAC9BhyI,EAAK0oH,OAASupB,EAGlB,GAAI51B,KAAe,EACfr8G,EAAK0xI,aAAa,SAK9BA,aAAc,SAAS3jH,GACnB,IAAI/tB,EAAOP,KACX,IAAI8uH,EAAcvuH,EAAKd,QAAQqvH,YAC/B,IAAIntH,EAAMpB,EAAK0oE,SAASppC,SAExB,IAAIv4B,EAAQ,GACZ,IAAI84B,EAAO,GAEXz+B,EAAMA,EAAIA,EAAI7B,OAAS,GACvB,GAAI6B,IAAQtE,EACRsE,GAAO,EAGX3B,KAAKg2I,kBAAkB,eAEvB,GAAI1nH,GAAYA,IAAa,EAAG,CAC5B8R,EAAO9R,EACPhnB,EAAQ/G,EAAKgqH,WAAWj8F,GACxB,GAAIwgG,EACAntH,GAAO,OAER,GAAImtH,EAAa,CACpBvuH,EAAK+gG,OAAO/gG,EAAKuuH,YAAY54G,SAAS,eAEtCkqB,EAAO7/B,EAAK+yI,mBAEZ,UAAWxkB,IAAgB,SACvBxnH,EAAQ,QAERA,EAAQ/G,EAAKipH,OAAOsF,GAGxBntH,EAAM,EAGVpB,EAAKwnE,cAAgBpmE,EAErB,GAAI2F,IAAU,KACVA,EAAQ,GAGZ/G,EAAK8yI,cAAcjzG,GACnB7/B,EAAKumH,UAAUx/G,EAAO3F,GAEtBpB,EAAKgsH,mBAGT0mB,QAAS,WACL,IAAI1yI,EAAOP,KACP6qG,EAAQtqG,EAAKsqG,MACbtsF,EAAWtgB,EAAQsgB,SACnBwsB,EAAO8/D,EAAMh7F,QAAQyiB,QAAQ,YAAYR,GAAG,GAEhD,GAAIiZ,EAAKjrC,QAAUye,EACfssF,EAAMprG,QAAQ0pG,UAAUC,KAAKpmF,QAAWzE,EAASjC,SAAWiC,EAAS9B,MAAS,SAAY8B,EAASrB,KAAOqB,EAASnC,GAAM,aAAeyuF,EAAMprG,QAAQ0pG,UAAUC,KAAKpmF,SAI7KkwH,cAAe,WACX,IAAIkD,EAAiB,8BACjB,0GACI,uDACJ,UACJ,SAEA,GAAIp2I,KAAKumH,YAAa,CAClBvmH,KAAKumH,YACAlzF,IAAIxK,GACJtO,QAAQ,kBACRwW,SAEL/wB,KAAKumH,YAAc,KAGvB,GAAIvmH,KAAKwmH,mBAAoB,CACzBxmH,KAAKumH,YAAcrpH,EAAE,+CAChBiZ,KAAK,CACFkK,YAAargB,KAAK6P,QAAQsG,KAAK,eAC/Bm1B,MAAOtrC,KAAKP,QAAQg0I,aAAezzI,KAAK6P,QAAQsG,KAAK,SACrDyT,KAAM,YACNysH,aAAcr2I,KAAKP,QAAQg0I,YAC3BxM,gBAAiB,UACjBqP,oBAAqB,SAG7Bt2I,KAAK8hE,KACAvsD,SACAu8E,QAAQ50F,EAAEk5I,IACVrmH,KAAK,gBACLgxC,OAAO/gE,KAAKumH,eAIzBysB,MAAO,WACH,IAAIzyI,EAAOP,KACPwW,EAAUjW,EAAKiW,QACf+/H,EAAW,0BACX/5I,EAAKc,EAAMksB,OACX/pB,EAAUc,EAAKd,QACf2gG,EAAMo2C,EAEVp2C,EAAO5pF,EAAQuZ,KAAKwmH,GAEpB,IAAKn2C,EAAK,GAAI,CACVo2C,EAAWtyI,EAAK27F,aAAa,6GAA8G,CACvI9B,KAAM,UACN/rF,KAAMvS,EAAQuS,KACdib,SAAUxtB,EAAQwtB,SAClBoxE,MAAO,KACPpxF,QAAS,OAGbuJ,EAAQuqD,OAAO,aAAevkE,EAAK,6CACvB,2CACJ,WACHukE,OAAOy1E,GACPz1E,OAAOxgE,EAAKsP,SAEjBuwF,EAAO5pF,EAAQuZ,KAAKwmH,GAGxBh2I,EAAK6/F,KAAOA,EACZ7/F,EAAKmzI,OAASl9H,EAAQuZ,KAAK,mBAC3BxvB,EAAKwtH,WAAaxtH,EAAKmzI,OAAO3jH,KAAK,YAGvCisD,SAAU,WACN,IAAIz7E,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfuiI,EAAaviI,EAAQ,GACrB2G,EAEJA,EAAU3G,EAAQ0F,SAElB,IAAKiB,EAAQP,GAAG,iBAAkB,CAC9BO,EAAU3G,EAAQuF,KAAK,YAAYG,SACnCiB,EAAQ,GAAGZ,MAAMqE,QAAUm4H,EAAWx8H,MAAMqE,QAC5CzD,EAAQ,GAAG80B,MAAQ8mG,EAAW9mG,MAGlC/qC,EAAKikH,SAAWjkH,EAAKiW,QAAUA,EAC1BN,SAAS,2BACTA,SAASk8H,EAAWx5H,WACpBnD,YAAY,0BACZZ,IAAI,UAAW,IACfsB,KAAK,CACFsgI,UAAW5mI,EAAQsG,KAAK,aACxBugI,aAAc,KACd9sH,KAAM,WACNq9G,gBAAiB,UACjBD,gBAAiB,QAGzBn3H,EAAQ0T,OAAO8H,WAAW,cAG9BulG,gBAAiB,SAASr7G,GACtBvV,KAAK6/B,OAAOtqB,EAAOjO,QAAU,GAAK,IAGtCujH,aAAc,SAASvoH,GACnBtC,KAAK8qH,mBAEL,GAAI9qH,KAAKqC,QAAQwlG,GACbvlG,EAAEpB,qBACC,CACHlB,KAAKwW,QAAQL,KAAK,gBAAiB,MACnCnW,KAAKyjH,GAAGttG,KAAK,cAAe,SAIpCi1G,cAAe,SAAS9oH,GACpB,GAAItC,KAAKqC,QAAQylG,GACbxlG,EAAEpB,qBACC,CACHlB,KAAKwW,QAAQL,KAAK,gBAAiB,OACnCnW,KAAKyjH,GAAGttG,KAAK,cAAe,QAIpC28H,eAAgB,WACZ,IAAIvyI,EAAOP,KACPgE,EAAWzD,EAAKd,QAAQ8zI,cAG5B,IAAKvvI,EACDA,EAAW1G,EAAM0G,SAAS,sBAAuB,CAAEF,aAAc,QAASvC,KAAKhB,QAE/EyD,EAAW1G,EAAM0G,SAASA,GAG9BzD,EAAKgzI,cAAgBvvI,EAErB,GAAIzD,EAAKsuH,mBAAqBtuH,EAAKd,QAAQ+zI,oBACvC,IACIjzI,EAAKgzI,cAAchzI,EAAKwzI,wBAC1B,MAAMzxI,GACJ,MAAM,IAAIsC,MAAM6tI,KAK5BY,cAAe,SAASjzG,GACpB,IAAI9R,EAAW,KACf,IAAItqB,EAAWhE,KAAKuzI,cACpB,IAAIoD,EAAkB32I,KAAKszI,mBAC3B,IAAIlzC,EAAOpgG,KAAKogG,KAEhB,GAAIhgE,IAAS/iC,EACT,OAAO+iG,EAAKhgE,OAGhB,GAAIljC,EAAE+C,cAAcmgC,IAASA,aAAgBogB,EACzClyB,EAAW8R,OACR,GAAIu2G,GAAmBA,IAAoBv2G,EAC9C9R,EAAWtuB,KAAKP,QAAQqvH,YAG5B,IAAKxgG,EACDA,EAAWtuB,KAAKm0I,gBAAgB/zG,EAAMpgC,KAAK8mH,aAG/C,GAAI9mH,KAAK6uH,iBACL,GAAIvgG,IAAaqoH,GAAmB32I,KAAKu+F,MAAMjwE,KAAcqoH,EAAiB,CAC1E3yI,EAAWhE,KAAKwzI,oBAEhB,UAAWxzI,KAAKP,QAAQqvH,cAAgB,WAAa9uH,KAAKP,QAAQ+zI,oBAC9DllH,EAAWqoH,EAKvB,IAAIC,EAAc,WACd,MAAO,CACHxoH,SAAUgyE,EAAK92E,MACfrlB,KAAM,CAAE,CAAEqqB,SAAUA,MAI5BtuB,KAAK0qB,QAAQ,UAAWksH,GAExB,IACIx2C,EAAKl8F,KAAKF,EAASsqB,IACrB,MAAMhsB,GAEJ89F,EAAKl8F,KAAK,IAGdlE,KAAK0qB,QAAQ,UAAWksH,IAG5BztE,WAAY,SAAS7hE,EAAO84B,GACxB,IAAK94B,IAAU84B,EACXA,EAAOpgC,KAAKszI,mBAGhBtzI,KAAK8mH,UAAUx/G,GACftH,KAAKqzI,cAAcjzG,GAEnBpgC,KAAKqoH,KAAOroH,KAAK8mH,YACjB9mH,KAAKkqH,UAAYlqH,KAAK+nE,cAEtB/nE,KAAKipE,SAASyqD,SAASpsH,GAEvBtH,KAAKktH,cAAgB,KACrBltH,KAAKu0I,aAAe,MAGxBJ,gBAAiB,SAAS/zG,EAAM94B,GAC5B,IAAIshE,EAAgB5oE,KAAKP,QAAQmpE,cACjC,IAAIt6C,EAAW,GAEf,GAAIs6C,EAAe,CACfiuE,EAAOvoH,EAAUs6C,EAAc/lE,MAAM,KAAMu9B,GAC3Cy2G,EAAOvoH,EAAUtuB,KAAKP,QAAQynE,eAAerkE,MAAM,KAAMyE,GACzDgnB,EAAW,IAAIkyB,EAAiBlyB,QAEhCA,EAAW8R,EAGf,OAAO9R,KAIf,SAASuoH,EAAOnzH,EAAUw6B,EAAQ52C,GAC9B,IAAI3F,EAAM,EACN+E,EAAYw3C,EAAOp+C,OAAS,EAC5B+gB,EAEJ,KAAOlf,EAAM+E,IAAa/E,EAAK,CAC3Bkf,EAAQq9B,EAAOv8C,GAEf,KAAMkf,KAAS6C,GACXA,EAAS7C,GAAS,GAGtB6C,EAAWA,EAAS7C,GAGxB6C,EAASw6B,EAAOx3C,IAAcY,EAGlC,SAASouI,EAAevmI,EAAOrP,GAC3B,GAAIqP,GAASrP,EACTqP,GAASrP,EAEb,OAAOqP,EAGX,SAASqmI,EAAc7hE,EAAMgiE,GACzB,IAAK,IAAIh0I,EAAM,EAAGA,EAAMgyE,EAAK7zE,OAAQ6B,IACjC,GAAIgyE,EAAK5wE,OAAOpB,KAASg0I,EACrB,OAAO,MAGf,OAAO,KAaf,OAVI1uH,EAAG+J,OAAO80E,GAEVxoG,EAAMqvB,cAAc0Y,eAAe,eAAgB,aAEnD/nC,EAAMqvB,cAAc4Y,eAAe,eAAgB,CAAC,CAChD/Y,KAAM,UACNtd,OAAQ5R,EAAMqvB,cAAc2X,cAAchwB,OAAO,CAAC,CAAC,OAAQ,aAI5DlX,OAAOE,QAn9Cd,CAq9CoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,iBAAiB,CAAE,aAAc,wBAAyB,oBAAqB,qBACvF,WAEH,IAAIC,EAAW,CACXC,GAAI,WACJC,KAAM,WACNC,SAAU,MACVC,YAAa,4FACbotC,QAAS,CAAE,OAAQ,eACnBuV,SAAU,CAAE,CACR9iD,GAAI,kBACJC,KAAM,kBACNE,YAAa,iDACbotC,QAAS,CAAE,oBACZ,CACCvtC,GAAI,iBACJC,KAAM,cACNE,YAAa,6BACbotC,QAAS,CAAE,kBAIT7sC,EAwqCPE,OAAOE,MAAMH,OAxqCHE,OAAb,EACQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM2pB,GACX/iB,EAAO5G,EAAM4G,KACbo/G,EAAOr8F,EAAGq8F,KACVz8C,EAAS5/C,EAAG4/C,OACZ5nC,EAAQ3hC,EAAM2hC,MACdhhC,EAAUX,EAAMW,QAChBwyI,EAAuBxyI,EAAQoiB,YAC/B5Q,EAAgBnS,EAAMiS,eACtBgY,EAAOjqB,EAAMiqB,KACbsB,EAAK,iBACLwpH,EAAexpH,EAAK,aACpB83E,EAAQ,QAAU93E,EAClB+3E,EAAY,YAAc/3E,EAC1Bk4E,EAAW,WACXmgC,EAAW,WACXj3F,EAAS,SACT42E,EAAU,mCACV7hC,EAAU,UACVC,EAAgB,aAChBm4B,EAAgB,gBAChB6uB,EAAgB,gBAChByK,EAAoB,MACpB6B,EAAe,SACfC,EAAe,SACfsE,EAAe,SACf/Q,EAAc,aAAel9G,EAAK,cAAgBA,EAClDkuH,EAAe,iBACfC,EAAqB,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,KAE9D70B,EAAWt7C,EAAOrpE,OAAO,CACzBiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAAMogC,EAAMlO,EAEvB3xB,EAAKsoB,GAAKA,EAEVppB,EAAU9B,MAAMD,QAAQ+B,GAAW,CAAEkrB,WAAYlrB,GAAYA,EAE7DonE,EAAOlmE,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCA,EAAUc,EAAKd,QACfoQ,EAAUtP,EAAKsP,QAAQuW,GAAG,QAAUyC,EAAItoB,EAAKmyI,cAAcnxI,KAAKhB,IAEhEd,EAAQ4gB,YAAc5gB,EAAQ4gB,aAAexQ,EAAQsG,KAAK,eAE1D5V,EAAKkiE,SAELliE,EAAKy7E,WAELz7E,EAAKmiI,SAELniI,EAAKooH,eAELpoH,EAAK2qB,UAAU3qB,EAAK6f,OAEpB7f,EAAK0rH,SAEL1rH,EAAK6hE,cACL7hE,EAAK+nH,cAEL/nH,EAAK+pH,UAEL/pH,EAAK02I,qBAEL12I,EAAK2pH,UAAY3pH,EAAKwnE,eAAiB,EAEvCxnE,EAAKkpH,QAELlpH,EAAK2sH,cAAgBztH,EAAQ0P,MAE7B5O,EAAKwsH,mBAAmBxsH,EAAKd,SAC7Bc,EAAKwlH,YAELxlH,EAAK6vH,WAEL,GAAI3wH,EAAQ+nE,SACRjnE,EAAK4mH,oBACF,CACH/mF,EAAO3gC,EAAQ2gC,KAEf,IAAKA,GAAQ7/B,EAAKgjH,UACdnjF,EAAOvwB,EAAQwxC,SAAS,aAAajhB,OAGzC,GAAIA,EACA7/B,EAAK22I,SAAS92G,GAItB,IAAKA,EACD7/B,EAAK82F,eAGTnlE,EAAWh1B,EAAEqD,EAAKsP,SAASyiB,QAAQ,YAAYrc,GAAG,aAElD,GAAIic,EACA3xB,EAAK6jB,OAAO,OAGhB9mB,EAAMoxB,OAAOnuB,GACbA,EAAKixI,yBACLjxI,EAAKkrB,oBAGThsB,QAAS,CACLhD,KAAM,WACNunB,QAAS,KACT7U,OAAQ,EACRixB,KAAM,KACN94B,MAAO,KACPkgE,SAAU,KACV5oC,MAAO,IACPgqC,cAAe,GACf1B,eAAgB,GAChB8hD,UAAW,EACXhC,iBAAkB,MAClBnxG,OAAQ,IACRoxG,eAAgB,KAChBh3F,OAAQ,OACR5P,YAAa,GACbspG,QAAS,MACT3gD,YAAa,GACbgoD,iBAAkB,GAClBD,uBAAwB,GACxBhjF,WAAY,KACZo7D,UAAW,GACXp9C,QAAS,MACT/nD,SAAU,KACV4hH,cAAe,UACfC,mBAAoB,UACpBgD,YAAa,KACbsuB,iBAAkB,KAClBlsB,UAAW,MACXpgB,MAAO,KACP74F,KAAM,SACNib,SAAU,QACVhgB,QAAS,UAGbjL,OAAO,CACH,OACA,QACAioC,EACA,SACA,YACA,cACA,YACA,UACA,OAGJ3e,WAAY,SAAS7rB,GACjB,IAAIumH,EAAchmH,KAAKmlH,aAAa1lH,GAEpConE,EAAOlmE,GAAG2qB,WAAW9oB,KAAKxC,KAAMP,GAEhCO,KAAKipE,SAAS39C,WAAW06F,GAEzBhmH,KAAKgkH,aACLhkH,KAAKypH,QACLzpH,KAAK2oH,gBAGT18F,QAAS,WACL,IAAI1rB,EAAOP,KAEXO,EAAK6f,MAAMiT,IAAIxK,GACftoB,EAAK6f,MAAMiT,IAAIg/G,GACf9xI,EAAKsP,QAAQwjB,IAAIxK,GACjBtoB,EAAKiW,QAAQ6c,IAAIxK,GACjB2L,aAAaj0B,EAAK62I,eAElB72I,EAAKmzI,OAAOrgH,IAAIstE,EAAQ,IAAMC,GAC9BrgG,EAAKmmH,OAAOrzF,IAAIstE,EAAQ,IAAMC,GAE9B/5B,EAAOlmE,GAAGsrB,QAAQzpB,KAAKjC,IAG3BwpH,gBAAiB,SAASziH,GACtB,OAAOA,IAAUg8G,EAAK0G,UAAUhqH,KAAKqoH,YAAa/gH,IAC9CA,IAAUg8G,EAAK0G,UAAUhqH,KAAKuiI,gBAAiBj7H,IAGvD0tD,QAAS,WACL,IAAIz0D,EAAOP,KACX,IAAIogC,EAAO7/B,EAAK6/B,OAChB,IAAIi3G,EAAUj3G,GAAQA,IAAS7/B,EAAKgiI,UAAYniG,IAAS7/B,EAAKd,QAAQ4gB,YACtE,IAAIlR,EAAQ5O,EAAKwnE,cACjB,IAAIuvE,EAAWnoI,KAAW,EAE1B,IAAK5O,EAAKd,QAAQ03I,mBAAqB52I,EAAK+G,SAAWgwI,GAAYD,EAAS,CACxE92I,EAAK8nH,KAAO,GACZ9nH,EAAK2pH,UAAY/6G,EACjB5O,EAAKgiI,SAAWniG,EAEhB,IAAK7/B,EAAK6pH,QAEN7pH,EAAKsP,QAAQxN,QAAQ4nC,GAGzB1pC,EAAK8B,QAAQ4nC,GACb1pC,EAAK6pH,QAAU,MACf,OAGJvjD,EAAOlmE,GAAGq0D,QAAQxyD,KAAKjC,GAEvBA,EAAKgiI,SAAWhiI,EAAK6/B,MAAQ7/B,EAAK6/B,OAElC7/B,EAAKixI,0BAGTyF,mBAAoB,WAChB,IAAI12I,EAAOP,KACXO,EAAK6f,MAAMgG,GAAG,QAAUisH,EAAc9xI,EAAKg3I,YAAYh2I,KAAKhB,IACjD6lB,GAAG,WAAaisH,EAAc9xI,EAAKi3I,eAAej2I,KAAKhB,KAGtEmyI,cAAe,SAASpwI,GACpB,GAAGA,EAAE3C,SAAWK,KAAK6P,QAAQ,GACzB7P,KAAKogB,MAAM/d,QAAQ,UAI3Bo1I,YAAa,WACTz3I,KAAK0+G,WAGT64B,YAAa,WACTv3I,KAAKwW,QAAQN,SAAS8oE,GACtBh/E,KAAKq3F,aAAa,QAGtBmgD,eAAgB,SAASl1I,GACrB,IAAI/B,EAAOP,KACX,IAAIsH,EAAQ/G,EAAK+G,QACjB,IAAIowI,GAAiBx6I,EAAEoF,EAAEkzB,eAAejb,QAAQ,kBAAkBza,OAElES,EAAKupH,eAAiB,KACtBvpH,EAAKiW,QAAQf,YAAYupE,GACzBxqD,aAAaj0B,EAAKwoH,gBAClBxoH,EAAKwoH,eAAiB,KAEtB,GAAI2uB,EACFn3I,EAAK6/B,KAAK7/B,EAAK6/B,QAGjB,IAAI6I,EAAO1oC,EAAK+gG,SAChB,IAAIhzE,EAAWtuB,KAAKipE,SAAS+lD,gBAAgBhvH,KAAKipE,SAAS8lD,gBAAgB9lF,IAE3E,GAAI3hC,IAAU/G,EAAK+G,SAAW/G,EAAK8B,QAAQ,SAAU,CAAEisB,SAAUA,EAAU2a,KAAMA,IAAS,CACtF1oC,EAAK+G,MAAMA,GACX,OAGJ/G,EAAK82F,eACL92F,EAAK0pH,oBAAsB1pH,EAAK8nH,KAEhC,GAAIqvB,EAAe,CACfn3I,EAAKghG,QAELhhG,EAAKsP,QAAQxN,QAAQ,UAI7Bs1I,YAAa,WACT,IAAIp3I,EAAOP,KACXw0B,aAAaj0B,EAAK62I,eAClB72I,EAAK62I,cAAgB,KAErB72I,EAAK62I,cAAgBjkH,WAAW,WAC5B5yB,EAAK+1B,YAIb+oD,UAAW,SAAS5/E,GAChB,IAAIc,EAAOP,KACPkkB,EAAUzkB,EAAQykB,QAClBijD,EAAW1nE,EAAQ0nE,SACnB3wD,EAAUjW,EAAKiW,QAAQ6c,IAAIxK,GAC3BzI,EAAQ7f,EAAKsP,QAAQkU,IAAIxjB,EAAK6f,MAAMiT,IAAIxK,IACxC4qF,EAAQlzG,EAAKmzI,OAAOrgH,IAAIstE,EAAQ,IAAMC,GACtCr0C,EAAQhsD,EAAKmmH,OAEjB,IAAKv/C,IAAajjD,EAAS,CACvB1N,EACKf,YAAYwpE,GACZ74D,GAAG2/G,EAAaxlI,EAAK2rH,cAE1B9rG,EAAMoM,KAAKu0E,EAAU,OACfv0E,KAAK00G,EAAU,OACf/qH,KAAKihG,EAAe,OACpBjhG,KAAK8vH,EAAe,OAE1BxyB,EAAMrtF,GAAGu6E,EAAOpgG,EAAKk3I,YAAYl2I,KAAKhB,IAChC6lB,GAAGw6E,EAAW,SAASt+F,GAAKA,EAAEpB,mBAEpCqrD,EAAMnmC,GAAGu6E,EAAQ,YAAc93E,EAAItoB,EAAKqmH,YAAYrlH,KAAKhB,IAEzDA,EAAK6f,MACAgG,GAAG,UAAYyC,EAAItoB,EAAKihG,SAASjgG,KAAKhB,IACtC6lB,GAAG,QAAUyC,EAAItoB,EAAK6wI,QAAQ7vI,KAAKhB,IACnC6lB,GAAG,QAAUyC,EAAItoB,EAAKo3I,YAAYp2I,KAAKhB,IAE5CA,EAAKiW,QAAQ4P,GAAGu6E,EAAQ93E,EAAItoB,EAAKmyI,cAAcnxI,KAAKhB,QACjD,CACHiW,EACKN,SAASgO,EAAU+6D,EAAgB,IACnCxpE,YAAYyO,EAAU,GAAK+6D,GAEhC7+D,EAAMjK,KAAK4qF,EAAU78E,GACf/N,KAAK+qH,EAAU/5D,GACfhxD,KAAKihG,EAAelzF,GACpB/N,KAAK8vH,EAAe9+D,GAG9B5mE,EAAKixI,0BAGTpoC,KAAM,WACF,IAAI7oG,EAAOP,KACX,IAAIypD,EAAQlpD,EAAK0oH,OACjB,IAAIkB,EAAa5pH,EAAKoqB,WAAWsF,SAAW1vB,EAAKoqB,WAAWsF,SAAS0pB,QAAQ75C,OAAS,EAAI,MAC1F,IAAI83I,GAAiBr3I,EAAKkjH,GAAG1zF,KAAKxvB,EAAK0oE,SAAS5pC,SAASv/B,OAEzD,GAAIS,EAAKsqG,MAAMz4E,UACX,OAGJ,IAAM7xB,EAAK0oE,SAASC,SAAWzf,IAAU8oF,GAAiB9oF,IAAU+oF,EAAc,CAC9EjyI,EAAKmoH,MAAQ,KACbnoH,EAAK0oH,OAAS6tB,EAEd,GAAKv2I,EAAKd,QAAQupH,YAAc,IAAMmB,GAAgBA,GAAc5pH,EAAK+G,SAAW/G,EAAKwnE,iBAAmB,EAAK,CAC7GxnE,EAAKuZ,UACLvZ,EAAKg0G,aACL,IAAKv0G,KAAKP,QAAQssD,QACdxrD,EAAK0oE,SAASC,MAAM,YAGxB3oE,EAAK4mH,qBAEN,GAAI5mH,EAAK6nH,gBAAiB,CAG7B7nH,EAAKsqG,MAAM5B,SAAW,KACtB1oG,EAAKg0G,aACL,GAAGh0G,EAAKd,QAAQssD,QACZxrD,EAAK8qH,kBACF,GAAIusB,GAAiBr3I,EAAKd,QAAQwnH,eACrC1mH,EAAK0oE,SAAS5pC,MAAM,KAKhCw4G,qBAAsB,WAClB,IAAI5uE,EAAWjpE,KAAKipE,SAEpBA,EAASsiD,cAActiD,EAAS8lD,gBAAgB9lD,EAAS5pC,WAG7Dk1E,WAAY,WACRv0G,KAAK6qG,MAAMnpG,IAAI,WAAY1B,KAAK63I,qBAAqBt2I,KAAKvB,OAC1DA,KAAK6qG,MAAMzB,QAGfid,sBAAuB,WACnB,IAAI9lH,EAAOP,KACX,IAAIogC,EAAO7/B,EAAKd,QAAQ2gC,KACxB,IAAI94B,EAAQ/G,EAAKd,QAAQ6H,MAEzB,GAAI/G,EAAK0oE,SAASkhD,aACd,OAGJ,GAAI5pH,EAAKwnE,iBAAmB,EAAG,CAC3B,GAAI3nC,IAAS/iC,GAAa+iC,IAAS,KAC/BA,EAAO94B,EAGX/G,EAAKumH,UAAUx/G,GACf/G,EAAK6f,MAAMirC,IAAIjrB,GAAQ7/B,EAAK6f,MAAMirC,OAClC9qD,EAAK82F,oBACF,GAAI92F,EAAK2pH,aAAe,EAC3B3pH,EAAK2pH,UAAY3pH,EAAKwnE,eAI9BqsE,cAAe,SAASnwI,GACpB,IAAI1D,EAAOP,KACX,IAAKO,EAAKgjH,UACN,OAGJ,IAAIqK,EAASrtH,EAAKwmH,cAElB,GAAIxmH,EAAK0oH,SAAW6tB,EAChBv2I,EAAK0oH,OAAS,GAGlB1oH,EAAKwmH,cAAgB1pH,EACrBkD,EAAKwvH,SAAS9rH,EAAM,GAAI1D,EAAK+G,SAE7B,GAAIsmH,GAAUA,EAAO,GAAG5lD,WAAaznE,EAAK0oE,SAASigD,aAC/C3oH,EAAKmtH,QAAQE,EAAOviE,QAI5BysF,iBAAkB,WACd,IAAIv3I,EAAOP,KACX,IAAIipE,EAAW1oE,EAAK0oE,SACpB,IAAIqrE,EAAe/zI,EAAK2sH,cACxB,IAAI6qB,EAAkBzD,IAAiB,MAAQA,GAAgB,EAC/D,IAAIjhB,EAAW9yH,EAAK0oH,SAAWspB,EAE/B,GAAIlf,EAAU,CACVn2H,EAAE+rE,EAAS5pC,SAAS5pB,YAAY,cAChC,OAGJ,GAAIlV,EAAK+uH,OACL,OAGJ,IAAKrmD,EAAS3hE,QAAQxH,OAClB,GAAIi4I,EACAx3I,EAAKs/B,OAAOy0G,QACT,GAAI/zI,EAAKumH,YACZ79C,EAAS3hE,MAAM/G,EAAKumH,aAI5BvmH,EAAK2sH,cAAgB,KACrB,IAAI5+F,EAAW26C,EAASsgD,oBAAoB,GAE5C,IAAKj7F,EACD,OAGJ,GAAI/tB,EAAKipH,OAAOl7F,KAAc/tB,EAAK+G,QAC/B/G,EAAKmtH,QAAQntH,EAAKipH,OAAOl7F,SACtB,GAAI/tB,EAAKipH,OAAOl7F,KAAc/tB,EAAKsP,QAAQ,GAAGvI,MACjD/G,EAAKumH,UAAUvmH,EAAKipH,OAAOl7F,IAG/B,GAAI/tB,EAAK6/B,QAAU7/B,EAAK6/B,SAAW7/B,EAAKg+F,MAAMjwE,GAC1C/tB,EAAK0xI,aAAa3jH,IAI1B0pH,iBAAkB,WACd,IAAI/uE,EAAWjpE,KAAKipE,SAEpB,IAAKjpE,KAAKP,QAAQwnH,eACdh+C,EAAS5pC,OAAO,QACb,IAAK4pC,EAAS5pC,UAAY4pC,EAAS4pD,aACtC5pD,EAAS5pC,MAAM,IAIvBkmF,WAAY,WACR,IAAIhlH,EAAOP,KACX,IAAI8xI,EAAWvxI,EAAK6f,MAAM,KAAO3Q,IAEjC,IAAIxL,EAAO1D,EAAKoqB,WAAWsD,WAC3B,IAAIylB,EAAOnzC,EAAK0oE,SAASv1B,OACzB,IAAI5zC,EAASmE,EAAKnE,OAClB,IAAIwuD,EAAe/tD,EAAKoqB,WAAW2lC,OAAS/vD,EAAKoqB,WAAW2lC,OAAOxwD,OAAS,EAC5E,IAAIm4I,EAAcvkG,IAASr2C,GAAaq2C,IAAS,EAEjDnzC,EAAKg0I,aAAe,MAEpBh0I,EAAK+jH,gBACL/jH,EAAKgkH,gBACLhkH,EAAK0nH,eAAenoH,GACpBS,EAAK2nH,gBAAgB55D,KAAkBxuD,GAEvCS,EAAKyrH,eAELzrH,EAAKsqG,MAAMl0F,WAEXpW,EAAK6zI,cAAcnwI,GAEnB1D,EAAKu3I,mBAEL,GAAI7zI,EAAKnE,QAAUm4I,EAAa,CAC5B13I,EAAKy3I,mBAEL,GAAIz3I,EAAKd,QAAQkqH,SAAWmoB,GAAYvxI,EAAK6f,MAAMirC,MAC/C9qD,EAAKopH,QAAQ1lH,EAAK,IAI1B,GAAI1D,EAAKmoH,MAAO,CACZnoH,EAAKmoH,MAAQ,MAEb,GAAInoH,EAAKwoH,iBAAmB+oB,EACxBvxI,EAAKsqG,MAAM5wD,aAEX15C,EAAKukB,OAAOvkB,EAAK6nH,iBAGrB7nH,EAAKwoH,eAAiB,KAG1BxoH,EAAKstH,YACLttH,EAAK8B,QAAQ,cAGjBgjH,YAAa,WACTrlH,KAAKiyI,aAAajyI,KAAKipE,SAASsgD,oBAAoB,IAEpD,GAAIvpH,KAAKu0I,aACLv0I,KAAKkqH,UAAYlqH,KAAK+nE,eAI9BwnD,KAAM,SAAS3S,GACX,IAAI34G,EAAMgwD,EAAOtyD,EAEjB,UAAWi7G,IAAc,WAAY,CACjC34G,EAAOjE,KAAK2qB,WAAWsD,WAEvB,IAAKtsB,EAAM,EAAGA,EAAMsC,EAAKnE,OAAQ6B,IAC7B,GAAIi7G,EAAU34G,EAAKtC,IAAO,CACtBi7G,EAAYj7G,EACZsyD,EAAQ,KACR,MAIR,IAAKA,EACD2oD,GAAa,EAIrB,IAAK58G,KAAK2qB,WAAWmyB,UAAY8/D,EAC7BA,GAAa,EAGjB,OAAOA,GAGXnnE,QAAS,SAASmnE,EAAWu5B,GACzB,IAAI51I,EAAOP,KAEX48G,EAAYr8G,EAAKgvH,KAAK3S,GAEtB,GAAIA,KAAe,EAAG,CAClBr8G,EAAK6f,MAAM,GAAG9Y,MAAQ,GACtB/G,EAAKumH,UAAU,IAGnB,OAAOvmH,EAAK0oE,SAASppC,OAAO+8E,GAAW31E,KAAK,WACxC,IAAKkvG,GAAa51I,EAAK0oH,SAAWspB,EAC9BhyI,EAAK0oH,OAASupB,EAElBjyI,EAAKixI,4BAIbS,aAAc,SAAS3jH,GACnB,IAAI3sB,EAAM3B,KAAKipE,SAASppC,SACxB,IAAIv4B,EAAQ,GACZ,IAAI84B,EAAO,GAEXz+B,EAAMA,EAAIA,EAAI7B,OAAS,GACvB,GAAI6B,IAAQtE,EACRsE,GAAO,EAGX3B,KAAK+nE,cAAgBpmE,EAErB,GAAI3B,KAAKipE,SAASkhD,cAAgBxoH,KAAS,EACvC3B,KAAKiqH,oBAAsBjqH,KAAKqoH,KAGpC,GAAI1mH,KAAS,IAAM2sB,EAAU,CACzB,GAAItuB,KAAKP,QAAQ03I,iBAAkB,CAC/B,GAAIn3I,KAAKP,QAAQmpE,gBAAkB5oE,KAAKP,QAAQynE,eAC5C9mC,EAAOpgC,KAAK8mH,iBAEZ1mF,EAAOpgC,KAAKogB,MAAM,GAAG9Y,MAEzBA,EAAQ84B,OAGRA,EAAOpgC,KAAKogC,OAEhBpgC,KAAKipE,SAAS5pC,OAAO,OAClB,CACH,GAAI/Q,GAAYA,IAAa,EAAG,CAC5BhnB,EAAQtH,KAAKuqH,WAAWj8F,GACxB8R,EAAOpgC,KAAKu+F,MAAMjwE,GAGtB,GAAIhnB,IAAU,KACVA,EAAQ,GAIhBtH,KAAKk4I,kBAAkB93G,GACvBpgC,KAAK8mH,UAAUx/G,IAAUjK,EAAYiK,EAAQ84B,EAAMz+B,GAEnD3B,KAAKq3F,eACLr3F,KAAKusH,mBAGT2rB,kBAAmB,SAAS93G,GACxB,IAAI7/B,EAAOP,KACX,IAAIm4I,EAAel5G,EAAMj/B,KAAKogB,OAC9B,IAAIg4H,EAEJ,GAAGD,GAAgBA,EAAar4I,OAC5Bs4I,EAAaD,EAAa,GAG9Bn4I,KAAKqxI,MAAQrxI,KAAKogB,MAAM,GAAG9Y,MAAQ84B,EAEnC,GAAGg4G,GAAcp4I,KAAK+nE,iBAAmB,EAAE,CACvC,IAAI7gD,EAASjpB,EAAQsgB,SACrB,GAAG2I,EAAO9K,IAAM8K,EAAO5K,QACnB6W,WAAW,WAAa5yB,EAAK6f,MAAM,GAAGkf,kBAAkB84G,EAAYA,IAAgB,QAGpFp4I,KAAKogB,MAAM,GAAGkf,kBAAkB84G,EAAYA,KAKxDt+H,QAAS,WACL9Z,KAAKipE,SAASnvD,WAGlB03H,uBAAwB,WACpB,IAAI6G,EAAcr4I,KAAK6P,QAAQoG,GAAG,cAAgBjW,KAAK6P,QAAQoG,GAAG,cAElE,GAAIjW,KAAKogC,SAAWi4G,EAChBr4I,KAAK2mH,kBAEL3mH,KAAKymH,cAIbkD,QAAS,SAASh2C,GACd,IAAIpzE,EAAOP,KACX,IAAI6P,EAAUtP,EAAK6f,MAAM,GACzB,IAAI9Y,EAAQ/G,EAAK6/B,OACjB,IAAIwwG,EAAW3xG,EAAMpvB,GAAS,GAC9B,IAAI7I,EAAMzG,EAAKqxI,MACf,IAAIjwI,EACJ,IAAIsjD,EAAyB1kD,EAAKoqB,WAAWlrB,QAAQwlD,uBAErD,GAAIj+C,GAAOugB,EAAKG,WAAa1gB,GAAOugB,EAAKE,OAAQ,CAC7ClnB,EAAKqxI,MAAQv0I,EACb,OAGJs2E,EAAOA,GAAQ,GAEf,UAAWA,IAAS,SAAU,CAC1B,GAAIA,EAAK,GACLA,EAAOpzE,EAAKoqB,WAAW+G,OAAO4xF,EAAKj0F,QAAQskD,EAAK,GAAIpzE,EAAKkjH,GAAG,KAGhE9vC,EAAOA,EAAOpzE,EAAKg+F,MAAM5qB,GAAQ,GAGrC,GAAIi9D,GAAY,EACZA,GAAY3rF,EAAyB39C,EAAM49C,kBAAkBD,GAA0B39C,EAAMgF,eAAeO,QAAQo4C,EAAyB0uB,EAAKzuB,kBAAkBD,GAA0B0uB,EAAKrnE,eAAiB,EAGxN,GAAIqnE,EAAM,CACNA,EAAOA,EAAKjuE,WACZ/D,GAAOsjD,EAAyB0uB,EAAKzuB,kBAAkBD,GAA0B0uB,EAAKrnE,eAAeO,QAAQo4C,EAAyB39C,EAAM49C,kBAAkBD,GAA0B39C,EAAMgF,eAC9L,GAAI3K,GAAO,EACP2F,GAASqsE,EAAK1wE,UAAUtB,EAAM2F,EAAMxH,aAGxCwH,EAAQA,EAAMrE,UAAU,EAAG2tI,GAG/B,GAAItpI,EAAMxH,SAAW8wI,IAAaj9D,EAAM,CACpC9jE,EAAQvI,MAAQA,EAChB,GAAIuI,IAAYJ,IACZwvB,EAAMpvB,EAAS+gI,EAAUtpI,EAAMxH,UAK3CsgC,KAAM,SAAUA,GACZA,EAAOA,IAAS,KAAO,GAAKA,EAE5B,IAAI7/B,EAAOP,KACX,IAAIogB,EAAQ7f,EAAK6f,MAAM,GACvB,IAAI2tB,EAAaxtC,EAAKd,QAAQsuC,WAC9B,IAAIimG,EAAc5zG,EAClB,IAAI9R,EACJ,IAAIhnB,EAEJ,GAAI84B,IAAS/iC,EACT,OAAO+iB,EAAM9Y,MAGjB,GAAI/G,EAAKd,QAAQ+nE,WAAa,QAAUjnE,EAAK0oE,SAASC,QAAS,CAC3D3oE,EAAK22I,SAAS92G,GACd,OAGJ9R,EAAW/tB,EAAK+tB,WAEhB,GAAIA,GAAY/tB,EAAKg+F,MAAMjwE,GAAUnuB,SAAWI,EAAKg+F,MAAMjwE,GAAUnuB,QAAQ42I,EAAa,MAAQ32G,EAAM,CACpG94B,EAAQ/G,EAAKipH,OAAOl7F,GAEpB,GAAIhnB,IAAUg8G,EAAK0G,UAAUzpH,EAAK8nH,YAAa/gH,GAAQ,CACnD/G,EAAKgsH,kBACL,QAIR,GAAIx+E,EACAimG,EAAcA,EAAY1nI,cAG9B,GAAG/L,EAAK+tB,YAAc/tB,EAAKg+F,MAAMh+F,EAAK+tB,cAAgB8R,EAClD,OAGJ7/B,EAAKk1C,QAAQ,SAASxxC,GAClBA,EAAO1D,EAAKg+F,MAAMt6F,GAClB,GAAI8pC,EACA9pC,GAAQA,EAAO,IAAIqI,cAGvB,OAAOrI,IAAS+vI,IACjB/sG,KAAK,WACJ,GAAI1mC,EAAKwnE,cAAgB,EAAG,CACxB3nD,EAAM9Y,MAAQ84B,EAEd,GAAI7/B,EAAKd,QAAQ03I,iBACb52I,EAAKumH,UAAU1mF,GAGnB7/B,EAAKisH,kBAAoB,KACzBjsH,EAAKgsH,kBAGThsH,EAAK8wI,MAAQjxH,EAAM9Y,QAGvB/G,EAAKixI,0BAGT1sH,OAAQ,SAASA,GACb9kB,KAAK0+G,QAAQ55F,EAAQ,OAGzBxd,MAAO,SAASA,GACZ,IAAI/G,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAIwpE,EAAW1oE,EAAK0oE,SAEpB,GAAI3hE,IAAUjK,EAAW,CACrBiK,EAAQ/G,EAAKumH,aAAevmH,EAAK0oE,SAAS3hE,QAAQ,GAClD,OAAOA,IAAUjK,GAAaiK,IAAU,KAAO,GAAKA,EAGxD/G,EAAKwsH,mBAAmBxsH,EAAKd,QAAS6H,GAEtC/G,EAAK8B,QAAQ,MAAO,CAAEiF,MAAOA,IAE7B,GAAIA,IAAU7H,EAAQ6H,OAAS/G,EAAK6f,MAAMirC,QAAU5rD,EAAQ2gC,OAC3D7/B,EAAKd,QAAQupE,YACV,OAGJzoE,EAAKumH,UAAUx/G,GAEf,GAAI/G,EAAKimH,oBAAsBv9C,EAASC,SAAWD,EAASkhD,aACxD5pH,EAAK2mH,oBAEL3mH,EAAKsvH,aAGT5mD,EACK3hE,MAAMA,GACN2/B,KAAK,WACF,GAAI1mC,EAAKwnE,iBAAmB,KAAOkB,EAASihE,qBAAuBjhE,EAASihE,mBAAmBpqI,QAAS,CACpGS,EAAKumH,UAAUx/G,GACf/G,EAAK6f,MAAMirC,IAAI/jD,GACf/G,EAAK82F,aAAa,MAGtB,GAAG92F,EAAKupH,eACHvpH,EAAK8nH,KAAO9nH,EAAKumH,iBAEjBvmH,EAAK8nH,KAAO9nH,EAAK0pH,oBAAsB1pH,EAAKumH,YAGjDvmH,EAAK2pH,UAAY3pH,EAAKwnE,cAEtBxnE,EAAK8wI,MAAQ9wI,EAAKgiI,SAAWhiI,EAAK6f,MAAMirC,MAExC,GAAI9qD,EAAK0oH,SAAWspB,EAChBhyI,EAAK0oH,OAASupB,EAElBjyI,EAAKixI,4BAIjB3jB,UAAW,WACP,IAAIttH,EAAOP,KACXw0B,aAAaj0B,EAAKutH,OAClBvtH,EAAKwtH,WAAWt4G,YAAYorG,GAC5BtgH,EAAKikH,SAASruG,KAAK,YAAa,OAChC5V,EAAKutH,MAAQ,KACbvtH,EAAKixI,0BAGT17F,OAAQ,SAASxzC,GACb,IAAI/B,EAAOP,KACX,IAAIipC,EAAO3mC,EAAE2mC,KACb,IAAI3a,EAAW/tB,EAAK0oE,SAAS+lD,gBAAgBzuH,EAAK0oE,SAAS8lD,gBAAgB9lF,IAC3E,IAAIwmF,EAAgB,KACpBntH,EAAEpB,iBAEF,GAAGotB,EAAS,CACRmhG,EAAgBlvH,EAAKipH,OAAOl7F,KAAeg1F,EAAK0G,UAAUzpH,EAAK+G,eAAgB/G,EAAKipH,OAAOl7F,IAE3F,IAAImhG,EACDlvH,EAAK6f,MAAMirC,IAAI9qD,EAAKg+F,MAAMjwE,IAIjC,GAAImhG,GAAiBlvH,EAAK8B,QAAQ,SAAU,CAAEisB,SAAUA,EAAU2a,KAAMA,IAAS,CAC7E1oC,EAAK05C,QACL,OAGJ15C,EAAKupH,eAAiB,KAEtBvpH,EAAKk1C,QAAQxM,GAAMhC,KAAK,WACpB1mC,EAAKghG,WAIbosB,kBAAmB,WACf,OAAO3tH,KAAKP,QAAQ03I,kBAGxBruB,YAAa,WACT,OAAO9oH,KAAKogC,QAGhB+oF,cAAe,SAASx1C,GACpB,IAAIpzE,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAIkrB,EAAapqB,EAAKoqB,WACtB,IAAIojB,EAAatuC,EAAQsuC,WACzB,IAAIsc,EAAY,SAAU/7B,GACtB,IAAI8R,EAAO7/B,EAAKg+F,MAAMjwE,GACtB,GAAI8R,IAAS/iC,EAAW,CACpB+iC,EAAOA,EAAO,GACd,GAAIA,IAAS,IAAMuzC,IAAS,GACxB,OAAO,MAGX,GAAI5lC,EACA3N,EAAOA,EAAK9zB,cAGhB,OAAO8zB,EAAKvzB,QAAQ8mE,KAAU,IAItC,GAAI5lC,EACA4lC,EAAOA,EAAKrnE,cAGhB,IAAK/L,EAAKkjH,GAAG,GAAG1kE,WAAY,CACxBp0B,EAAWjpB,IAAIuoC,EAAQ,WACnB,GAAItf,EAAW+G,OAAO,GAClBnxB,EAAK+1B,OAAOq9C,KAEjBlY,QACH,OAGJz7D,KAAKipE,SAAS5pC,MAAMr/B,KAAKuvH,KAAKllE,IAE9B,IAAIxhD,EAAU7I,KAAKipE,SAAS5pC,QAE5B,GAAIx2B,EAAS,CACT,GAAIpJ,EAAQkqH,QACRppH,EAAKopH,QAAQ9gH,GAGjB7I,KAAKopG,OAGT,GAAIppG,KAAKP,QAAQwnH,iBAAmBtzC,EAChC3zE,KAAKipE,SAASmlD,cAItBsU,OAAQ,WACJ,IAAIniI,EAAOP,KACP6P,EAAUtP,EAAKsP,QAAQ4F,YAAY,iBAAiB,GACpD6iI,EAAYzoI,EAAQyoI,UACpB9hI,EAAUjW,EAAKiW,QACf+/H,EAAW,sBACX95I,EAAOoT,EAAQpT,MAAQ,GACvBgD,EAAUc,EAAKd,QACf2gB,EACAm4H,EACA/B,EAEJ,GAAI/5I,EACAA,EAAO,SAAWA,EAAO,WAG7B2jB,EAAQ5J,EAAQuZ,KAAKwmH,GAErB,IAAKn2H,EAAM,GAAI,CACXo2H,EAAWtyI,EAAK27F,aAAa,sFAAuF,CAChH9B,KAAM,UACN/rF,KAAMvS,EAAQuS,KACdib,SAAUxtB,EAAQwtB,SAClBoxE,MAAO,KACPpxF,QAAS,OAGbuJ,EAAQuqD,OAAO,UAAYtkE,EAAO,mDAAqDi0I,EAAmB,OACrG3vE,OAAOy1E,GACPz1E,OAAOxgE,EAAKsP,SAEjBuQ,EAAQ5J,EAAQuZ,KAAKwmH,GAGzBn2H,EAAM,GAAGxK,MAAMqE,QAAUpK,EAAQ+F,MAAMqE,QACvCmG,EAAM,GAAGkrB,MAAQz7B,EAAQy7B,MAEzBitG,EAAYlpI,SAASrP,KAAK6P,QAAQ2c,KAAK,cAAgBxsB,KAAK6P,QAAQsG,KAAK,aAAc,IACvF,GAAIoiI,GAAa,EACbn4H,EAAM,GAAGm4H,UAAYA,EAGzBn4H,EAAMlK,SAASrG,EAAQ+I,WAClB/D,IAAI,CACDc,MAAO,GACPE,OAAQhG,EAAQ+F,MAAMC,OACtBc,SAAU,KAEbR,KAAK,CACFyT,KAAQ,WACRo9G,gBAAiB,QAEpBv0D,OAEL,GAAIg+D,EACArwH,EAAMjK,KAAK,cAAe5V,EAAKd,QAAQ4gB,aAG3C,GAAIi4H,EAAW,CACXzoI,EAAQyoI,UAAY,GACpBl4H,EAAM,GAAGk4H,UAAYA,EAGzB/3I,EAAKikH,SAAWjkH,EAAK6f,MAAQA,EAC7B7f,EAAKmzI,OAASl9H,EAAQuZ,KAAK,mBACtB5Z,KAAK,CACFyT,KAAQ,SACR6jF,UAAa,IAErBltG,EAAKwtH,WAAaxtH,EAAKmzI,OAAO3jH,KAAK,WAEnC,GAAIlgB,EAAQrT,GACR+D,EAAKmzI,OAAOv9H,KAAK,gBAAiB5V,EAAKkjH,GAAG,GAAGjnH,KAIrDmsH,aAAc,WACVrF,EAAK3iH,GAAGgoH,aAAanmH,KAAKxC,MAE1B,GAAIA,KAAKP,QAAQopH,YAAa,CAC1B7oH,KAAK0mH,OAAOrhC,YAAYrlF,KAAKogB,OAC7BpgB,KAAKwW,QAAQN,SAAS,0BAI9BsrF,SAAU,SAASl/F,GACf,IAAI/B,EAAOP,KACPgH,EAAM1E,EAAE8+B,QACR2gC,EAAYxhE,EAAKd,QAAQmpE,eAAiB,OAC1C4vE,EAASxxI,GAAO,KAAOA,GAAO,IAC9ByxI,EAAoBzB,EAAmBnqI,QAAQ7F,IAAQ,EAE3DzG,EAAKqxI,MAAQ5qI,EAEbwtB,aAAaj0B,EAAKwoH,gBAClBxoH,EAAKwoH,eAAiB,KAEtB,GAAI/hH,IAAQugB,EAAKY,KACb5nB,EAAK4tH,kBACF,GAAInnH,IAAQugB,EAAKW,IACpB3nB,EAAK8tH,iBACF,GAAIrnH,IAAQugB,EAAKK,OAAU5gB,IAAQugB,EAAKI,KAAOpnB,EAAKsqG,MAAMz4E,UAAY,CACzE,IAAIvpB,EAAUtI,EAAK0oE,SAAS5pC,QAC5B,IAAI/Q,EAAW/tB,EAAK+tB,WACpB,IAAImhG,EAAgB,KAEpB,IAAKlvH,EAAKsqG,MAAMz4E,aAAe9D,GAAY/tB,EAAK6/B,SAAW7/B,EAAKg+F,MAAMjwE,IAClEzlB,EAAU,KAGd,GAAIA,EAAS,CACT,GAAItI,EAAKsqG,MAAMz4E,UACX9vB,EAAEpB,iBAGNotB,EAAW/tB,EAAK0oE,SAAS+lD,gBAAgBzuH,EAAK0oE,SAAS8lD,gBAAgBlmH,IAEvE,GAAGylB,EACCmhG,EAAgBlvH,EAAKipH,OAAOl7F,KAAeg1F,EAAK0G,UAAUzpH,EAAK+G,eAAgB/G,EAAKipH,OAAOl7F,IAG/F,GAAImhG,GAAiBlvH,EAAK8B,QAAQ,SAAU,CAAEisB,SAAUA,EAAU2a,KAAMpgC,IACpE,OAGJtI,EAAKupH,eAAiB,KAEtBvpH,EAAKk1C,QAAQ5sC,GAASo+B,KAAK,WACvB1mC,EAAKghG,QACLhhG,EAAK0pH,oBAAsB1pH,EAAK8nH,KAAO9nH,EAAK+G,cAE7C,CACH,GAAG/G,EAAKotH,qBAAuBptH,EAAKgjH,UAChC,IAAIhjH,EAAK+tB,YAAc/tB,EAAK+tB,WAAWyzC,KAAexhE,EAAK6f,MAAMirC,MAC7D9qD,EAAKumH,UAAUvmH,EAAK6f,MAAMirC,OAIlC,GAAI9qD,EAAKd,QAAQwnH,eAAgB,CAC7B1mH,EAAK0oE,SAAS3hE,MAAM/G,EAAK6f,MAAMirC,OAC/B9qD,EAAKghG,aAELhhG,EAAKgiI,SAAWhiI,EAAK6/B,aAG1B,GAAIp5B,GAAOugB,EAAKI,MAAQpnB,EAAKo1C,MAAMrzC,KAAOm2I,IAAsBD,IAAWl2I,EAAE8wF,QACjF7yF,EAAK6wI,eACD,GAAIpqI,IAAQugB,EAAKM,MAAQtnB,EAAKsqG,MAAMz4E,WAAa7xB,EAAK6/B,OACzD7/B,EAAKqmH,eAIbvvB,aAAc,SAAS5kB,GACnB,GAAIg+D,EACA,OAGJ,IAAIlwI,EAAOP,KACPogB,EAAQ7f,EAAK6f,MACbC,EAAc9f,EAAKd,QAAQ4gB,YAC3B/Y,EAEJ,GAAI+Y,EAAa,CACb/Y,EAAQ/G,EAAK+G,QAEb,GAAImrE,IAASp1E,EACTo1E,GAAQnrE,EAGZ8Y,EAAMyD,YAAY,aAAc4uD,GAEhC,IAAKA,EACD,IAAKnrE,EACD+Y,EAAc,QAEd,OAIRD,EAAMirC,IAAIhrC,GAEV,IAAKA,GAAeD,EAAM,KAAO3Q,IAC7BwvB,EAAM7e,EAAM,GAAI,EAAG,KAK/BgxH,QAAS,WACL,IAAI7wI,EAAOP,KAEXw0B,aAAaj0B,EAAKwoH,gBAElBxoH,EAAKwoH,eAAiB51F,WAAW,WAC7B,IAAI7rB,EAAQ/G,EAAK6/B,OAEjB,GAAI94B,IAAU,IAAM/G,EAAK8wI,QAAU/pI,EAAO,CACtC/G,EAAK8wI,MAAQ/pI,EAEb,GAAI/G,EAAKd,QAAQwwB,SAAW,QAAU1vB,EAAKd,QAAQssD,QAC/CxrD,EAAK0oE,SAASppC,QAAQ,GAG1Bt/B,EAAK+1B,OAAOhvB,GAEZ/G,EAAKixI,8BAEJ,GAAIlqI,IAAU,IAAM/G,EAAK8wI,QAAU,IAAM9wI,EAAK8wI,QAAUh0I,EAAW,CACpEkD,EAAKqmH,cACLrmH,EAAKmoH,MAAQ,KACbnoH,EAAK0oH,OAAS6tB,EAGlBv2I,EAAKwoH,eAAiB,MACvBxoH,EAAKd,QAAQm/B,QAGpBs4G,SAAU,SAAS92G,GACfpgC,KAAKogB,MAAMirC,IAAIjrB,GACfpgC,KAAKqxI,MAAQjxG,GAGjB47C,SAAU,WACN,IAAIz7E,EAAOP,KACP6P,EAAUtP,EAAKsP,QACf2G,EAAU3G,EAAQ0F,SAEtB,IAAKiB,EAAQP,GAAG,gBAAiB,CAC7BO,EAAU3G,EAAQ0T,OAAOnO,KAAK,YAAYG,SAC1CiB,EAAQ,GAAGZ,MAAMqE,QAAUpK,EAAQ,GAAG+F,MAAMqE,QAGhD1Z,EAAKiW,QAAUA,EAAQN,SAAS,sBAC3BA,SAASrG,EAAQ,GAAG+I,WACpBnD,YAAY,0BACZZ,IAAI,UAAW,KAGxB+7G,gBAAiB,SAASr7G,EAAQ40G,GAC9B,IAAI5pH,EAAOP,KACX,IAAIyqE,EAAWl1D,EAAOjO,QACtB,IAAIsmH,EAASnjD,GAAYl1D,EAAOwyD,iBAAmB,EAEnD,GAAI/nE,KAAK+nE,gBAAkB,GAAK/nE,KAAKsH,QACjC,OAGJ,GAAI6iH,IAAe1/C,GAAYmjD,EAAQ,CACnCrtH,EAAKd,QAAQ6H,MAAQ,GACrB/G,EAAK+G,MAAM,MAInB6hE,WAAY,SAAS7hE,EAAO84B,GACxBpgC,KAAKogB,MAAMirC,IAAIjrB,GACfpgC,KAAK8mH,UAAUx/G,GAEftH,KAAKqoH,KAAOroH,KAAK8mH,YACjB9mH,KAAKkqH,UAAYlqH,KAAK+nE,cAEtB/nE,KAAKipE,SAASyqD,SAASpsH,GACvBtH,KAAKq3F,eAELr3F,KAAKktH,cAAgB,KACrBltH,KAAKu0I,aAAe,KACpBv0I,KAAKwxI,0BAGT3qB,WAAY,WACR7mH,KAAKqoH,KAAOroH,KAAKsH,QACjBtH,KAAKogC,KAAK,KAGdwmF,YAAa,WACT//C,EAAOlmE,GAAGimH,YAAYpkH,KAAKxC,MAC3BA,KAAKogB,MAAM/d,QAAQ,YAc/B,OAVI4kB,EAAG+J,OAAOmxF,GAEV7kH,EAAMqvB,cAAc0Y,eAAe,WAAY,YAE/C/nC,EAAMqvB,cAAc4Y,eAAe,WAAY,CAAC,CAC5C/Y,KAAM,UACNtd,OAAQ5R,EAAMqvB,cAAc2X,cAAchwB,OAAO,CAAC,CAAC,OAAQ,aAI5DlX,OAAOE,QAjsCd,CAmsCoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,kBAAkB,CACrB,mBAEL,WAEH,IAAIC,EAAW,CACXC,GAAI,YACJC,KAAM,YACNC,SAAU,MACVC,YAAa,kDACbotC,QAAS,CAAE,aACXuV,SAAU,IAGHpiD,EAgERE,OAAOE,MAAMH,OAhEFE,OAAd,EACQC,EAAQF,OAAOE,MACfgiG,EAAWhiG,EAAM4G,KAAKo7F,SAEtBo5C,EAAa,SAAU7oI,EAASpQ,GAChC,IAAKoQ,GAAW3S,EAAE+C,cAAc4P,GAAU,CACtCpQ,EAAUoQ,EACVA,EAAU3S,EAAE,iBAGhB,OAAO,IAAKy7I,EAAS9oI,EAASpQ,GAAUyE,QAGxCy0I,EAAWr5C,EAAS9hG,OAAO,CAC3BiD,KAAM,SAAUoP,EAASpQ,GACrB,IAAIc,EAAOP,KACXs/F,EAAS3+F,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GACrCc,EAAKy7E,YAETv8E,QAAS,CACLhD,KAAM,WACNuV,KAAM,SACN/E,QAAS,SACTggB,SAAU,QACVY,WAAY,OACZ1X,KAAM,GACN4nF,KAAM,GACN66C,SAAU,GACVC,UAAW,MACXC,cAAe,GACfC,WAAY,WACZl+F,QAAS,GACTza,KAAM,GACNm/D,eAAgB,CAAE,OAAQ,UAAW,WAAY,eAErDvjB,SAAU,WACN,IAAIz7E,EAAOP,KACPP,EAAUc,EAAKd,QAEnBc,EAAKiW,QAAUjW,EAAKsP,QAAQuF,KAAK,gCAAgCG,SAASY,KAAK1W,EAAQ0W,MACvF5V,EAAKi/F,cAEL,GAAI//F,EAAQs+F,KACRx9F,EAAKiW,QAAQs7E,QAAQ50F,EAAE,uCAAyCuC,EAAQs+F,KAAO,aAAa5nF,KAAK1W,EAAQm5I,WAG7Gr4I,EAAKsP,QAAQqG,SAAS,kBACtB,GAAIzW,EAAQ2gC,KACR7/B,EAAKsP,QAAQ3L,KAAK,8BAAgCzE,EAAQ2gC,KAAO,WAGrE,GAAI3gC,EAAQo5I,UACRt4I,EAAKiW,QAAQuqD,OAAO7jE,EAAE,4EAA8EuC,EAAQs5I,WAAa,oBAAoB5iI,KAAK1W,EAAQq5I,mBAc1K,OATI57I,EAAEM,OAAOF,EAAM4G,KAAM,CACjBw0I,WAAYA,EACZC,SAAUA,IAGdr7I,EAAMqvB,cAAc0Y,eAAe,WAAY,WAI5CjoC,OAAOE,QAjFd,CAmFoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,sBAAsB,CACzB,mBAEL,WAEH,IAAIC,EAAW,CACXC,GAAI,gBACJC,KAAM,gBACNC,SAAU,MACVC,YAAa,kDACbotC,QAAS,CAAE,aACXuV,SAAU,IAGHpiD,EAkCRE,OAAOE,MAAMH,OAlCFE,OAAd,EACQC,EAAQF,OAAOE,MACfgiG,EAAWhiG,EAAM4G,KAAKo7F,SAEtB05C,EAAiB,SAAUnpI,EAASpQ,GACpC,GAAIG,UAAU,KAAOvC,GAAaH,EAAE+C,cAAcL,UAAU,IAAK,CAC7DH,EAAUoQ,EACVA,EAAU3S,EAAE,eAGhB,OAAO,IAAK+7I,EAAappI,EAASpQ,GAAUyE,QAG5C+0I,EAAe35C,EAAS9hG,OAAO,CAC/BiD,KAAM,SAAUoP,EAASpQ,GACrB,IAAIc,EAAOP,KACXs/F,EAAS3+F,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GACrCc,EAAKiW,QAAUjW,EAAKsP,QAAQqG,SAAS,eACrC3V,EAAKi/F,eAET//F,QAAS,CACLhD,KAAM,eACNuV,KAAM,SACNutF,eAAgB,CAAE,WAa9B,OATIriG,EAAEM,OAAOF,EAAM4G,KAAM,CACjB80I,eAAgBA,EAChBC,aAAcA,IAGlB37I,EAAMqvB,cAAc0Y,eAAe,eAAgB,gBAIhDjoC,OAAOE,QAnDd,CAqDoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,oBAAoB,CAAE,aAAc,wBAAyB,oBAAqB,kBAAmB,sBAAuB,qBACpI,WAEH,IAAIC,EAAW,CACXC,GAAI,cACJC,KAAM,cACNC,SAAU,MACVC,YAAa,uEACbotC,QAAS,CAAE,OAAQ,YAAa,gBAAiB,eACjDuV,SAAU,CAAE,CACR9iD,GAAI,kBACJC,KAAM,kBACNE,YAAa,iDACbotC,QAAS,CAAE,oBACZ,CACCvtC,GAAI,iBACJC,KAAM,cACNE,YAAa,6BACbotC,QAAS,CAAE,kBAIT7sC,EAonDPE,OAAOE,MAAMH,OApnDHE,OAAb,EACQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM2pB,GACXq8F,EAAOr8F,EAAGq8F,KACVp/G,EAAO5G,EAAM4G,KACbqjB,EAAOrqB,EAAEM,OAAO,CAAE07I,EAAG,IAAM57I,EAAMiqB,MACjC9X,EAAgBnS,EAAMiS,eACtBwH,EAAkBzZ,EAAM2G,KAAK8S,gBAC7B4hG,EAAK,KACLwgC,EAAO,UACPC,EAAS,SACTC,EAAS,SACTC,EAAS,SACTzxC,EAAO,OACPC,EAAQ,QACR79D,EAAS,SACT+V,EAAW,WACXtQ,EAAS,SACT6pG,EAAW,WACXniC,EAAgB,gBAChB6uB,EAAgB,gBAChBuT,EAAe,UACfC,EAAgB,aAChB33B,EAAc,WACd43B,EAAa,UACbz6D,EAAgB,aAChBC,EAAe,aACf6hB,EAAW,WACXmgC,EAAW,WACXwP,EAAoB,MACpB7nH,EAAK,oBACL83E,EAAQ,QAAU93E,EAClBw7E,EAAU,UAAYx7E,EACtB44F,EAAa,aAAe54F,EAC5B24F,EAAa,aAAe34F,EAC5Bk9G,EAActkB,EAAa,IAAMD,EACjCS,EAAa,KACbvkH,EAAUC,MAAMD,QAChB2a,EAAS,CAAC,cACA,YACA,eACA,aACA,cACA,iBACA,iBACA,eAEVyuD,EAAcw8C,EAAK9lH,OAAO,CAC1BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAAMxD,EAAI01B,EAErB3xB,EAAKsoB,GAAKA,EACVy6F,EAAK3iH,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEjCc,EAAKo5I,YAAc,GACnBp5I,EAAKq5I,eAAiB,GAEtBr5I,EAAKy7E,WACLz7E,EAAKs5I,WACLt5I,EAAKmiI,SACLniI,EAAKu5I,iBACLv5I,EAAK2wI,UACL3wI,EAAKooH,eACLpoH,EAAKw5I,eAELx5I,EAAK2qB,UAAU3qB,EAAK6f,OAEpBvQ,EAAUtP,EAAKsP,QAAQsG,KAAK,WAAY,YAAYoN,OACpD9jB,EAAUc,EAAKd,QAEf,IAAKA,EAAQ4gB,YACT5gB,EAAQ4gB,YAAcxQ,EAAQ5L,KAAK,eAGvCzH,EAAKqT,EAAQsG,KAAKwiG,GAElB,GAAIn8G,EAAI,CACJ+D,EAAKy5I,OAASx9I,EAAK,cAEnBA,EAAKA,EAAK,WACV+D,EAAK05I,QAAQ9jI,KAAKwiG,EAAIn8G,GAEtB+D,EAAK6f,MAAMjK,KAAK,mBAAoB3Z,GAGxC+D,EAAK25I,aAAe,KACpB35I,EAAKkpH,QACLlpH,EAAK45I,eACL55I,EAAK6hE,cACL7hE,EAAK+nH,cACL/nH,EAAK0rH,SAEL1rH,EAAK65I,eACL75I,EAAKwsH,mBAAmBxsH,EAAKd,SAC7Bc,EAAKwlH,YAELxlH,EAAKkiE,SACLliE,EAAK+pH,UACL/pH,EAAK82F,eAEL,GAAI53F,EAAQ+nE,SACRjnE,EAAKoqB,WAAW8wC,aACb,GAAIh8D,EAAQ6H,MACf/G,EAAK4oE,WAAW1pE,EAAQ6H,OAG5B4qB,EAAWh1B,EAAEqD,EAAKsP,SAASyiB,QAAQ,YAAYrc,GAAG,aAElD,GAAIic,EACA3xB,EAAK6jB,OAAO,OAGhB9mB,EAAMoxB,OAAOnuB,GACbA,EAAKixI,yBACLjxI,EAAKkrB,oBAGThsB,QAAS,CACLhD,KAAM,cACN49I,QAAS,WACTr2H,QAAS,KACTwjD,SAAU,KACV8yE,UAAW,KACXrzB,eAAgB,KAChBr+C,cAAe,GACf1B,eAAgB,GAChBj3C,OAAQ,aACR8d,WAAY,KACZi7E,UAAW,EACX1hG,SAAU,CACNizH,UAAa,mBACbhuF,MAAS,QACTiuF,UAAa,SACbn2B,OAAU,iBACVo2B,UAAa,UAEjBzzB,iBAAkB,MAClBpoF,MAAO,IACPt3B,MAAO,KACPozI,iBAAkB,KAClBr6H,YAAa,GACbxK,OAAQ,IACRszF,UAAW,GACXp9C,QAAS,MACTk3C,aAAc,GACd03C,YAAa,GACb/0B,cAAe,UACfC,mBAAoB,UACpBgD,YAAa,KACboC,UAAW,MACXpgB,MAAO,KACP74F,KAAM,SACNib,SAAU,QACVhgB,QAAS,UAGbjL,OAAQ,CACJ6lG,EACAC,EACA79D,EACAyF,EACA6pG,EACA,YACA,cACA,aAGJ5yC,cAAe,SAASh8E,GACpB3qB,KAAKP,QAAQkrB,WAAaA,EAE1B3qB,KAAKipH,OAAS,GACdjpH,KAAKoiE,cAELpiE,KAAK46I,eAAiB,MACtB56I,KAAKipE,SAAS09B,cAAc3mG,KAAK2qB,YAEjC,GAAI3qB,KAAKP,QAAQ+nE,SACbxnE,KAAK2qB,WAAW8wC,SAIxBnwC,WAAY,SAAS7rB,GACjB,IAAIumH,EAAchmH,KAAKmlH,aAAa1lH,GAEpC6jH,EAAK3iH,GAAG2qB,WAAW9oB,KAAKxC,KAAMP,GAE9BO,KAAKipE,SAAS39C,WAAW06F,GAIzBhmH,KAAKgkH,aACLhkH,KAAKypH,QACLzpH,KAAKo6I,eACLp6I,KAAKq3F,eACLr3F,KAAK2oH,eACL3oH,KAAK+5I,gBAGTc,WAAY,SAASj+B,GACjB,IAAIr8G,EAAOP,KAEX,GAAI48G,IAAcv/G,EAAW,CACzB,GAAIkD,EAAKu6I,YAAa,CAClBv6I,EAAKu6I,YACArlI,YAAY+jI,GACZnuH,WAAWstF,GAEhBp4G,EAAKu6I,YAAY/qH,KAAK,kBAAkB5Z,KAAK,cAAe,MAE5D5V,EAAK6f,MAAMiL,WAAW,yBAG1B,GAAIuxF,EAAW,CACXA,EAAU1mG,SAASsjI,GAAcrjI,KAAKwiG,EAAIp4G,EAAKy5I,QAE/Cp9B,EAAU7sF,KAAK,kBAAkB1E,WAAW,eAE5C9qB,EAAK6f,MAAMjK,KAAK,wBAAyB5V,EAAKy5I,QAGlDz5I,EAAKu6I,YAAcl+B,OAEnB,OAAOr8G,EAAKu6I,aAIpB9sH,UAAW,WACP,OAAOhuB,KAAKipE,SAASsgD,qBAGzBt9F,QAAS,WACL,IAAI1rB,EAAOP,KACP6oB,EAAKtoB,EAAKsoB,GAEd2L,aAAaj0B,EAAKutH,OAClBt5F,aAAaj0B,EAAKwoH,gBAElBxoH,EAAKiW,QAAQ6c,IAAIxK,GACjBtoB,EAAK05I,QAAQ5mH,IAAIxK,GACjBtoB,EAAK6f,MAAMiT,IAAIxK,GACftoB,EAAKmmH,OAAOrzF,IAAIxK,GAEhBy6F,EAAK3iH,GAAGsrB,QAAQzpB,KAAKjC,IAGzBkpH,MAAO,WACH,IAAIlpH,EAAOP,KACPxD,EAAK+D,EAAKkjH,GAAG,GAAGjnH,GAEpB+D,EAAKiW,QAAQL,KAAK,CACdyzG,YAAaptH,EACbqtH,gBAAiBrtH,IAErB+D,EAAKkjH,GAAGttG,KAAK,CACT4kI,aAAcx6I,EAAKimH,mBAAqB,MAAQ,SAChDw0B,uBAAwB,OAE5Bz6I,EAAK6f,MAAMjK,KAAK,gBAAiB3Z,GACjC+D,EAAK4sB,WAAW5sB,EAAKikH,WAGzBkB,cAAe,WACX,GAAI1lH,KAAK6qG,MAAMz4E,UACXkxF,EAAK3iH,GAAG+kH,cAAcljH,KAAKxC,MAE/BA,KAAK66I,WAAW,OAGpB11B,aAAc,SAAS1lH,GACnB,IAAIc,EAAOP,KACX,IAAIgmH,EAAc1C,EAAK3iH,GAAGwkH,aAAa3iH,KAAKjC,EAAMrD,EAAEM,OAAOiC,EAAS,CAChEwmH,mBAAoB1lH,EAAK06I,oBAAoB15I,KAAKhB,GAClD88F,WAAY,cAGhB,IAAI4F,EAAejjG,KAAKP,QAAQwjG,cAAgBjjG,KAAKP,QAAQuE,SAC7D,IAAIA,EAAWgiH,EAAY/iB,cAAgBA,GAAgB+iB,EAAYhiH,SAEvE,IAAKA,EACDA,EAAW,KAAO1G,EAAM0rB,KAAKg9F,EAAYp9C,cAAe,QAAU,IAGtEo9C,EAAYhiH,SAAWA,EAEvB,OAAOgiH,GAGXI,cAAe,WACX9C,EAAK3iH,GAAGylH,cAAc5jH,KAAKxC,KAAMA,KAAKk7I,eAAe/7I,MAAM,KAG/DkmH,YAAa,SAAS/iH,GAClB,IAAI2B,EAAOjE,KAAK2qB,WAAWsD,WAC3B,IAAIktH,EAAan7I,KAAK25I,YACtB,IAAItO,EAAcrrI,KAAKwpH,OAEvB,GAAIxpH,KAAKipH,SAAWqwB,EAChBt5I,KAAKipH,OAAS,GAGlB,IAAK,IAAIppH,EAAI,EAAGA,EAAIyC,EAAE8wH,MAAMtzH,OAAQD,IAChC,GAAIs7I,EAAW9P,EAAY/oI,EAAE8wH,MAAMvzH,GAAGyuB,aAAejxB,EAAW,CAC5D2C,KAAKkyH,QAAQjuH,GACb,MAIRjE,KAAKiyI,aAAa3vI,EAAE8wH,MAAO9wH,EAAEilH,UAGjC0zB,oBAAqB,SAAS34I,GAC1B,IAAI+rB,EAAQ/rB,EAAE+rB,MACd,IAAI6H,EACJ,IAAIv0B,EAEJ,IAAKA,EAAM,EAAGA,EAAM0sB,EAAMvuB,OAAQ6B,IAAO,CACrCu0B,EAAU7H,EAAM1sB,GAChB3B,KAAKi6I,QAAQ54F,SAAS83F,GAAMrnH,GAAGoE,EAAQ/mB,OAAOkyC,SAAS,QAAQl/C,QAAQ+B,KAAKlE,KAAKo7I,gBAAgBllH,EAAQ+S,SAIjH4rG,kBAAmB,SAASvyI,GACxB,IAAI/B,EAAOP,KACX,IAAIq7I,EAAW/4I,EAAE3C,OAAOsyB,SAAS3lB,gBAAkB,QACnD,IAAI3M,EAASzC,EAAEoF,EAAE3C,QACjB,IAAI2xG,EAAc3xG,EAAO4a,QAAQ,yCAAyC8mC,SAAS,gBAAgB,GACnG,IAAIi6F,EAAe37I,EAAO4a,QAAQ,iBAAiB,GAEnD,GAAI8gI,KAAcC,GAAgBh+I,EAAMW,QAAQsgB,WAAajc,EAAEi5I,WAC3Dj5I,EAAEpB,iBAGN,IAAKo6I,EACD,GAAGhqC,GAAe/wG,EAAKsqG,MAAMz4E,UACzB7xB,EAAKukB,OAAO,WACT,CACH,GAAIvkB,EAAK6f,MAAM,KAAO3Q,KAAmB4rI,EACrC96I,EAAK6f,MAAM/d,QAAQ,SAGvB,GAAI9B,EAAKd,QAAQupH,YAAc,IAAMzoH,EAAKsqG,MAAMz4E,UAC5C7xB,EAAK6oG,SAOrBmuC,YAAa,WACTv3I,KAAKq3F,aAAa,MAAO,MACzBr3F,KAAKwW,QAAQN,SAASsjI,IAG1BhC,eAAgB,WACZ,IAAIj3I,EAAOP,KAEXw0B,aAAaj0B,EAAKwoH,gBAElBxoH,EAAKiW,QAAQf,YAAY+jI,GAEzBj5I,EAAK82F,cAAc92F,EAAK0oE,SAASsgD,oBAAoB,GAAI,MACzDhpH,EAAK05C,QAEL,GAAI15C,EAAK0oH,SAAWowB,EAAQ,CACxB94I,EAAK0oH,OAASmwB,EACd74I,EAAK0oE,SAAS6pD,WAAW,MAG7B,GAAGvyH,EAAK0oE,SAASC,SAAW3oE,EAAK0oE,SAASkhD,aAAc,CACpD5pH,EAAKq6I,eAAiB,KACtBr6I,EAAK2mH,eAGT3mH,EAAKsP,QAAQxN,QAAQ,SAGzBm5I,WAAY,SAASC,EAAKhsB,GACtB,IAAIlvH,EAAOP,KACX,IAAIypD,EAAQlpD,EAAK0oH,OACjB,IAAItyG,EAAW8kI,EAAItsI,QACnB,IAAI85D,EAAW1oE,EAAK0oE,SACpB,IAAI3hE,EAAQ2hE,EAAS3hE,QAAQqP,GAC7B,IAAI2X,EAAW/tB,EAAK0oE,SAASsgD,oBAAoB5yG,GACjD,IAAI+kI,EAAcn7I,EAAKq5I,eAAetyI,GACtC,IAAIq0I,EAAmB1yE,EAASp5D,QAAQ,GAAGwxC,SAC3C,IAAItyB,EACJ,IAAI6sH,EAEJ,GAAIr7I,EAAK8B,QAAQk3I,EAAU,CAAEjrH,SAAUA,EAAU2a,KAAMwyG,IAAQ,CAC3Dl7I,EAAKs7I,SACL,OAGJ,GAAIH,IAAgBr+I,IAAcosD,IAAU2vF,GAAU3vF,IAAU4vF,GAC5DqC,EAAcn7I,EAAKo5I,YAAYryI,GAGnC,IAAI2/B,EAAO,WACP1mC,EAAKs6I,WAAW,MAChB,GAAIprB,EACAlvH,EAAKy0D,UAETz0D,EAAKs7I,UAGT,GAAIH,IAAgBr+I,GAAa4rE,EAASppC,SAAS//B,OAAQ,CACvDS,EAAKq6I,eAAiB,MACtB3xE,EAASppC,OAAOopC,EAASppC,SAASlpB,IAAWswB,KAAKA,OAC/C,CACHlY,EAASxuB,EAAKsP,QAAQ,GAAGwxC,SAASq6F,GAClC,GAAI3sH,EACAA,EAAOi5C,SAAW,MAGtBiB,EAASwqD,SAAS98G,GAElB,GAAGsyD,EAASyiE,qBACRziE,EAASyiE,qBAAqBjpI,OAAOkU,EAAU,GAGnDilI,EAAgBD,EAAiBD,GACjC,GAAIE,EACAD,EAAiBD,GAAah7C,UAAU3vE,OAAO,cAEnD,GAAIxwB,EAAKd,QAAQ46I,UAAY,SACzBoB,EAAI1qH,cAEJxwB,EAAKu7I,qBAET70G,MAIR80G,cAAe,SAASz5I,GACpBA,EAAEpB,iBACFoB,EAAEgyB,kBACF,IAAI30B,EAASzC,EAAEoF,EAAEivC,eAEjB,GAAI5xC,EAAOsW,GAAG,iBACVjW,KAAKw7I,WAAW77I,EAAO4a,QAAQ4+H,GAAO,OAI9CvyB,YAAa,WACT,IAAIrmH,EAAOP,KAEX,GAAIO,EAAKd,QAAQ46I,UAAY,SACzB95I,EAAKy7I,4BAELz7I,EAAK05I,QAAQ54F,SAAS83F,GAAM17I,KAAK,SAAS0R,EAAOssI,GAC7Cl7I,EAAKi7I,WAAWt+I,EAAEu+I,GAAM,SAIhCl7I,EAAK6f,MAAMirC,IAAI,IACf9qD,EAAK6wI,UACL7wI,EAAKy0D,UACLz0D,EAAK8+B,QACL9+B,EAAKkmH,aAEL,GAAIlmH,EAAK0oH,SAAWowB,EAChB94I,EAAK0oH,OAASmwB,GAItB4C,qBAAsB,WAClB,IAAIz7I,EAAOP,KACX,IAAIquB,EAAQ9tB,EAAKytB,YACjB,IAAIiuH,EAAO17I,EAAK05I,QAAQ54F,SAAS83F,GACjC,IAAIyB,EAAiBr6I,EAAKq6I,eAE1B,IAAK,IAAI/6I,EAAI,EAAGA,EAAIwuB,EAAMvuB,OAAQD,GAAK,EACnC,GAAIU,EAAK8B,QAAQk3I,EAAU,CAAEjrH,SAAUD,EAAMxuB,GAAIopC,KAAMgzG,EAAK95I,UAAY,CACpE5B,EAAKs7I,SACL,OAIR,GAAIjB,EACAr6I,EAAKq6I,eAAiB,MAG1Br6I,EAAK0oE,SAAS3hE,MAAM,IACpB/G,EAAKq6I,eAAiBA,GAG1BlI,cAAe,WACX,IAAItyH,EAAQpgB,KAAKogB,MACjB,IAAI68G,EAASxtH,IACb,IAAIqiI,EAAW1xH,EAAM,KAAO68G,EAE5B,IAAI6U,EACA9xI,KAAKogB,MAAM/d,QAAQ,UAI3Bg9E,UAAW,SAAS5/E,GAChB,IAAIc,EAAOP,KACPkkB,EAAUzkB,EAAQykB,QAClBijD,EAAW1nE,EAAQ0nE,SACnB3wD,EAAUjW,EAAKiW,QAAQ6c,IAAIxK,GAC3BoxH,EAAU15I,EAAK05I,QAAQ5mH,IAAIxK,GAC3BzI,EAAQ7f,EAAK6f,MAAMiT,IAAIxK,GAE3B,IAAKs+C,IAAajjD,EAAS,CACvB1N,EACKf,YAAYwpE,GACZxpE,YAAYypE,GACZ94D,GAAG2/G,EAAaxlI,EAAK2rH,cACrB9lG,GAAG,YAAcyC,EAAK,YAAcA,EAAItoB,EAAKs0I,kBAAkBtzI,KAAKhB,IACpE6lB,GAAGu6E,EAAOpgG,EAAKmyI,cAAcnxI,KAAKhB,IAEvCA,EAAK6f,MAAMgG,GAAGi+E,EAAS9jG,EAAKihG,SAASjgG,KAAKhB,IACrC6lB,GAAG,QAAUyC,EAAItoB,EAAK6wI,QAAQ7vI,KAAKhB,IACnC6lB,GAAG,QAAUyC,EAAItoB,EAAK6wI,QAAQ7vI,KAAKhB,IACnC6lB,GAAG,QAAUyC,EAAItoB,EAAKg3I,YAAYh2I,KAAKhB,IACvC6lB,GAAG,WAAayC,EAAItoB,EAAKi3I,eAAej2I,KAAKhB,IAElDA,EAAKmmH,OAAOtgG,GAAGu6E,EAAQ,YAAc93E,EAAItoB,EAAKqmH,YAAYrlH,KAAKhB,IAE/D6f,EAAMoM,KAAKu0E,EAAU,OACfv0E,KAAK00G,EAAU,OACf/qH,KAAKihG,EAAe,OACpBjhG,KAAK8vH,EAAe,OAE1B1lI,EAAKsP,QAAQ2c,KAAKu0E,EAAU,OAE5Bk5C,EACK7zH,GAAGq7F,EAAY03B,EAAM,WAAaj8I,EAAE8C,MAAMkW,SAASwjI,KACnDtzH,GAAGo7F,EAAY23B,EAAM,WAAaj8I,EAAE8C,MAAMyV,YAAYikI,KACtDtzH,GAAGu6E,EAAQ,YAAc93E,EAAI,kBAAmBtoB,EAAKw7I,cAAcx6I,KAAKhB,QAC1E,CAEHiW,EAAQqN,YAAYo7D,EAAe/6D,GAC3BL,YAAYq7D,EAAc/X,GAElC/mD,EAAMjK,KAAK4qF,EAAU78E,GACf/N,KAAK+qH,EAAU/5D,GACfhxD,KAAKihG,EAAelzF,GACpB/N,KAAK8vH,EAAe9+D,GAE1B5mE,EAAKsP,QAAQ2c,KAAKu0E,EAAU78E,KAIpC23H,OAAQ,WACJ,IAAIt7I,EAAOP,KACX,GAAIO,EAAKd,QAAQ66I,UACb/5I,EAAK05C,aAEL15C,EAAKsqG,MAAMl0F,YAInBwwG,cAAe,SAASl3F,EAAQvE,GAC5B,IAAIA,EACAA,EAAQ1rB,KAAKk8I,cAEjBl8I,KAAKk8I,cAAgB,MACrB54B,EAAK3iH,GAAGwmH,cAAc3kH,KAAKxC,KAAMiwB,EAAQvE,IAG7CuuB,MAAO,WACHj6C,KAAKm8I,YAAc,KACnBn8I,KAAKogB,MAAMiL,WAAW,yBAEtBrrB,KAAK6qG,MAAM5wD,SAGfmvD,KAAM,WACF,IAAI7oG,EAAOP,KACP8wH,EAAcvwH,EAAK6f,MAAMirC,MAAM/+C,cAC/B8vI,EAAiB77I,EAAK0oE,SAASt+C,WAAWsF,SAC1CosH,EAEJ,GAAGD,GAAkBA,EAAeziG,QAAQ75C,OAAS,EACjDu8I,GAAuBD,EAAeziG,QAAQ,GAAGryC,OAAS,IAAI5B,WAAW4G,cAG7E,GAAI/L,EAAK0tH,SACL1tH,EAAK27I,cAAgB,MAGzB,GAAI37I,EAAK27I,gBAAkB37I,EAAK0oE,SAASC,SAAY3oE,EAAK0oH,SAAWmwB,GAAUtoB,IAAgBurB,EAAsB,CACjH97I,EAAKmoH,MAAQ,KACbnoH,EAAK0oH,OAASqwB,EAEd/4I,EAAK0oE,SAAS6pD,WAAW,MAEzBvyH,EAAKq6I,eAAiBr6I,EAAK25I,eAAiB35I,EAAK0oE,SAASC,QAAU,MAAQ,KAC5E3oE,EAAK4mH,gBACL5mH,EAAK8qH,kBACF,GAAI9qH,EAAK6nH,gBAAiB,CAG7B,GAAI7nH,EAAK25I,eAAiB35I,EAAKd,QAAQ+nE,WAAajnE,EAAKd,QAAQssD,SAAWxrD,EAAKd,QAAQ6H,QAAUpK,EAAE+C,cAAcM,EAAKd,QAAQ6H,MAAM,IAClI/G,EAAK+G,MAAM/G,EAAK+G,SAAW/G,EAAK26I,gBAKpC36I,EAAKsqG,MAAM5B,SAAW,KACtB1oG,EAAK25I,aAAe,MACpB35I,EAAKsqG,MAAMzB,OACX7oG,EAAK8qH,eAIbvmG,OAAQ,SAASA,GACbA,EAASA,IAAWznB,EAAYynB,GAAU9kB,KAAK6qG,MAAMz4E,UAErDpyB,KAAK8kB,EAAS+iF,EAAOC,MAGzBhuF,QAAS,WACL9Z,KAAKipE,SAASnvD,WAGlByrG,WAAY,WACR,IAAIhlH,EAAOP,KACX,IAAIiE,EAAO1D,EAAKoqB,WAAWsD,WAE3B1tB,EAAK2xH,QAAQjuH,GACb1D,EAAK+jH,gBACL/jH,EAAKgkH,gBACLhkH,EAAK0nH,eAAehkH,EAAKnE,QACzBS,EAAKyrH,eAEL,GAAIzrH,EAAKmoH,MAAO,CACZnoH,EAAKmoH,MAAQ,MACbnoH,EAAKukB,OAAOvkB,EAAK6nH,iBAGrB7nH,EAAKsqG,MAAMl0F,WACXpW,EAAKy3I,mBAEL,GAAIz3I,EAAKwxI,eACLxxI,EAAKwxI,eAAe1tE,QAGxB9jE,EAAKstH,YAELttH,EAAK8B,QAAQ,cAGjB21I,iBAAkB,WACd,IAAIz3I,EAAOP,KACPiE,EAAO1D,EAAKoqB,WAAWsD,WACvBylB,EAAOnzC,EAAK0oE,SAASv1B,OACrBukG,EAAcvkG,IAASr2C,GAAaq2C,IAAS,EAEjD,GAAIzvC,EAAKnE,QAAUm4I,EACf,IAAK13I,EAAKd,QAAQwnH,eACd1mH,EAAK0oE,SAAS5pC,OAAO,QAErB9+B,EAAK0oE,SAASmlD,cAK1BtF,YAAa,WACT,IAAIvoH,EAAOP,KACX,IAAIs8I,EAAa/7I,EAAK6f,MAAMirC,MAE5B,GAAI9qD,EAAKd,QAAQ4gB,cAAgBi8H,EAC7BA,EAAa,GAEjB,OAAOA,GAGXh1I,MAAO,SAASA,GACZ,IAAI/G,EAAOP,KACX,IAAIipE,EAAW1oE,EAAK0oE,SACpB,IAAI63D,EAAW73D,EAAS3hE,QAAQnI,QAChC,IAAIu7I,EAAmBn6I,EAAKd,QAAQi7I,iBACpC,IAAI6B,EAAetzE,EAASC,SAAWD,EAASkhD,aAEhD,GAAI7iH,IAAUjK,EACV,OAAOyjI,EAGXvgI,EAAKq6I,eAAiB,MACtBr6I,EAAKwsH,mBAAmBxsH,EAAKd,QAAS6H,GAEtCA,EAAQ/G,EAAKi8I,iBAAiBl1I,GAE9B,GAAIozI,IAAqB,MAAQpzI,EAAMxH,OAAS46I,EAC5CpzI,EAAQA,EAAMnI,MAAM,EAAGu7I,GAG3B,GAAI6B,EACAh8I,EAAK2mH,eAGTj+C,EAAS3hE,MAAMA,GACf/G,EAAK8nH,KAAO9nH,EAAK0pH,oBAAsB3iH,EAAMnI,QAE7C,IAAKo9I,EACDh8I,EAAKsvH,aAGTtvH,EAAKixI,0BAGTroE,WAAY,SAASllE,EAAMqD,GACvB,IAAI/G,EAAOP,KAEX,IAAKtC,EAAQuG,MAAWA,aAAgB3G,EAAM2G,KAAK8S,iBAC/C9S,EAAO,CAACA,GAGZ,GAAI/G,EAAE+C,cAAcgE,EAAK,KAAOA,EAAK,aAAc3G,EAAM2G,KAAKu8C,mBAAqBjgD,EAAKd,QAAQynE,eAAgB,CAC5G3mE,EAAKoqB,WAAW1mB,KAAKA,GACrB1D,EAAK+G,MAAMA,GAAS/G,EAAK26I,gBACzB36I,EAAK27I,cAAgB,OAI7BO,WAAY,SAASn1I,EAAO0gE,GACxB,IAAIj5C,EAAS/uB,KAAK6P,QAAQ,GAAGwxC,SAASrhD,KAAK25I,YAAYryI,IAEvD,GAAIynB,EACAA,EAAOi5C,SAAWA,GAI1B6nD,WAAY,WACR,IAAItvH,EAAOP,KACX,IAAI8vH,IAAavvH,EAAKoqB,WAAW+G,OAAO5xB,OACxC,IAAI48I,EAAen8I,EAAK0oE,SAAS3hE,QAAQxH,SAAW,EAEpD,GAAI48I,GAAgBn8I,EAAK0tH,SACrB,OAGJ,GAAI1tH,EAAK27I,gBAAmB37I,EAAK+uH,SAAWQ,EAAW,CACnDvvH,EAAK+uH,OAAS,KACd/uH,EAAK27I,cAAgB,MACrB37I,EAAKoqB,WAAW2uB,OAAOrS,KAAK,WACxB1mC,EAAK+uH,OAAS,UAK1BvlD,SAAU,WACN,OAAO/pE,KAAKipE,SAASC,UAAYlpE,KAAKk8I,eAG1C95E,YAAa,WACT,IAAI7hE,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QACfkrB,EAAalrB,EAAQkrB,YAAc,GAEvCA,EAAajtB,EAAQitB,GAAc,CAAC1mB,KAAM0mB,GAAcA,EAExDA,EAAWkV,OAAShwB,EACpB8a,EAAWuzB,OAAS,CAAC,CAAEr9B,MAAOphB,EAAQmpE,eACjB,CAAE/nD,MAAOphB,EAAQynE,iBAEtC,GAAI3mE,EAAKoqB,YAAcpqB,EAAK2kG,gBACxB3kG,EAAK6oH,wBACF,CACH7oH,EAAKkxI,iBAAmBlxI,EAAKytH,UAAUzsH,KAAKhB,GAC5CA,EAAKusH,cAAgBvsH,EAAKstH,UAAUtsH,KAAKhB,GAG7CA,EAAKoqB,WAAartB,EAAM2G,KAAKgT,WAAWimC,OAAOvyB,GACvBppB,KAAKy+C,EAAUz/C,EAAKkxI,kBACpBlwI,KAAK,QAAShB,EAAKusH,gBAG/CrqD,OAAQ,WACJ,IAAIliE,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfsgH,EAAStgH,EAAQsG,KAAK,QACtB8qB,EAAOkvF,EAASjzH,EAAE,IAAMizH,GAAUtgH,EAAQ0K,QAAQ,QAEtD,GAAI0mB,EAAK,GAAI,CACT1gC,EAAK+oH,cAAgB,WACjBn2F,WAAW,WACP5yB,EAAK+G,MAAM/G,EAAK26I,gBAChB36I,EAAK82F,kBAIb92F,EAAK8oH,MAAQpoF,EAAK7a,GAAG,QAAS7lB,EAAK+oH,iBAI3CrF,WAAY,WACR,IAAI38G,EAAQtH,KAAKP,QAAQ6H,OAAStH,KAAK6P,QAAQw7C,MAE/CrrD,KAAKqoH,KAAOroH,KAAKk7I,eAAiBl7I,KAAKw8I,iBAAiBl1I,IAG5Dk1I,iBAAkB,SAASl1I,GACvB,IAAI/G,EAAOP,KAEX,GAAIsH,IAAU,KACVA,EAAQ,QACL,GAAIA,GAASpK,EAAE+C,cAAcqH,GAChCA,EAAQ,CAAC/G,EAAKipH,OAAOliH,SAClB,GAAIA,GAASpK,EAAE+C,cAAcqH,EAAM,IACtCA,EAAQpK,EAAEgU,IAAI5J,EAAO,SAASgnB,GAAY,OAAO/tB,EAAKipH,OAAOl7F,UAC1D,IAAK5wB,EAAQ4J,MAAYA,aAAiByP,GAC7CzP,EAAQ,CAACA,QACN,GAAI5J,EAAQ4J,GACfA,EAAQA,EAAMnI,QAGlB,OAAOmI,GAGX0tD,QAAS,WACL,IAAIz0D,EAAOP,KACPsH,EAAQ/G,EAAK+G,QAEjB,IAAK68C,EAAQ78C,EAAO/G,EAAK8nH,MAAO,CAC5B9nH,EAAK8nH,KAAO/gH,EAAMnI,QAElBoB,EAAK8B,QAAQ4nC,GAGb1pC,EAAKsP,QAAQxN,QAAQ4nC,GAEzB1pC,EAAKsqG,MAAMl0F,WAEXpW,EAAKixI,0BAGT17F,OAAQ,SAASxzC,GACb,IAAI/B,EAAOP,KACX,IAAIipC,EAAO3mC,EAAE2mC,KAEb3mC,EAAEpB,iBAEFX,EAAKk1C,QAAQxM,GAAMhC,KAAK,WACpB1mC,EAAK47I,YAAclzG,EACnB1oC,EAAKy0D,UACLz0D,EAAKs7I,YAIbc,eAAgB,WACZ,OAAO38I,KAAKm8I,aAAej/I,EAAE8C,KAAKipE,SAAS56C,QAAQruB,KAAK48I,sBAAsB98I,OAAS,KAAOE,KAAKipE,SAAS5pC,SAGhHu9G,oBAAqB,WACjB,OAAO58I,KAAKipE,SAASqoD,kBAAoBtxH,KAAKipE,SAASkhE,kBAG3D3oC,SAAU,SAASl/F,GACf,IAAI/B,EAAOP,KACX,IAAIgH,EAAM1E,EAAE8+B,QACZ,IAAIq6G,EAAMl7I,EAAKu6I,YACf,IAAI7xE,EAAW1oE,EAAK0oE,SACpB,IAAIwB,EAAWlqE,EAAK6f,MAAMirC,MAC1B,IAAIhyC,EAAQ/b,EAAMW,QAAQob,MAAM9Y,EAAKiW,SACrC,IAAI4b,EAAU7xB,EAAKsqG,MAAMz4E,UACzB,IAAIwH,EAAM,EACV,IAAIijH,EAEJ,GAAG71I,IAAQugB,EAAKK,MACZ5nB,KAAK88I,mBAAqB,MAG7B,GAAI91I,IAAQugB,EAAKU,KAAM,CACpB3lB,EAAEpB,iBAEF,IAAKkxB,EAAS,CACV7xB,EAAK6oG,OAEL,IAAKngC,EAAS5pC,QACV4pC,EAASmlD,aAEb,OAGJ,GAAInlD,EAAS5pC,QAAS,CAClB,IAAK9+B,EAAK47I,aAAe75I,EAAE++B,SAAU,CACjC9gC,EAAK47I,YAAclzE,EAAS5pC,QAC5BzF,GAAO,EAEXijH,EAAgB5zE,EAAS8lD,gBAAgBxuH,EAAKo8I,iBAAiBx6I,SAE/D8mE,EAASulD,YACT,IAAKvlD,EAAS5pC,QACV4pC,EAASqlD,iBAET,GAAIhsH,EAAE++B,WAAa9gC,EAAKd,QAAQssD,QAAS,CACrC/rD,KAAK88I,mBAAqB,KAC1Bv8I,EAAKw8I,aAAaF,EAAe5zE,EAAS8lD,gBAAgB9lD,EAAS5pC,QAAQl9B,SAAWy3B,SAI9FqvC,EAASmlD,kBAGV,GAAIpnH,IAAQugB,EAAKQ,GAAI,CACxB,GAAIqK,EAAS,CACT,IAAK7xB,EAAK47I,aAAe75I,EAAE++B,SAAU,CACjC9gC,EAAK47I,YAAclzE,EAAS5pC,QAC5BzF,EAAM,EAEVijH,EAAgB5zE,EAAS8lD,gBAAgBxuH,EAAKo8I,iBAAiBx6I,SAC/D8mE,EAASylD,YACT,IAAKzlD,EAAS5pC,QACV9+B,EAAK05C,aAEL,GAAI33C,EAAE++B,WAAa9gC,EAAKd,QAAQssD,QAAS,CACrC/rD,KAAK88I,mBAAqB,KAC1Bv8I,EAAKw8I,aAAaF,EAAe5zE,EAAS8lD,gBAAgB9lD,EAAS5pC,QAAQl9B,SAAWy3B,IAIlGt3B,EAAEpB,sBACC,GAAK8F,IAAQugB,EAAKO,OAASzO,GAAWrS,IAAQugB,EAAKS,OAAS3O,GAC/D,IAAKoxD,EAAU,CACXgxE,EAAMA,EAAMA,EAAItuG,KAAKgsG,GAAQ54I,EAAK05I,QAAQ54F,SAAS83F,GAAMl/G,OACzD,GAAIwhH,EAAI,GACJl7I,EAAKs6I,WAAWY,SAGrB,GAAKz0I,IAAQugB,EAAKS,QAAU3O,GAAWrS,IAAQugB,EAAKO,MAAQzO,GAC/D,IAAKoxD,GAAYgxE,EAAK,CAClBA,EAAMA,EAAI9/E,KAAKw9E,GACf54I,EAAKs6I,WAAWY,EAAI,GAAKA,EAAM,YAEhC,GAAIn5I,EAAE8wF,UAAY9wF,EAAEo5G,QAAU10G,IAAQugB,EAAK2xH,GAAK9mH,IAAY7xB,EAAKd,QAAQssD,QAAS,CACrF/rD,KAAK88I,mBAAqB,KAC1B,GAAI98I,KAAK48I,sBAAsB98I,SAAWmpE,EAAS56C,QAAQvuB,OACvDS,EAAK47I,YAAc,KAGvB,GAAIlzE,EAAS56C,QAAQvuB,OACjBS,EAAKw8I,aAAa,EAAG9zE,EAAS56C,QAAQvuB,OAAQ,QAE/C,GAAIkH,IAAQugB,EAAKK,OAASwK,EAAS,CACtC,IAAK62C,EAAS5pC,QACV,OAGJ/8B,EAAEpB,iBAEF,GAAIlB,KAAK88I,mBAAoB,CACzB98I,KAAK88I,mBAAqB,MACzB,GAAI7zE,EAAS5pC,QAAQ3pB,SAAS+jI,GAAgB,CAC3Cl5I,EAAKs7I,SACL,QAIRt7I,EAAKk1C,QAAQwzB,EAAS5pC,SAAS4H,KAAK,WAChC1mC,EAAKy0D,UACLz0D,EAAKs7I,gBAEN,GAAI70I,IAAQugB,EAAKa,UAAY9lB,EAAE8wF,SAAWhhE,EAAS,CACtD,GAAI7xB,EAAK47I,aAAelzE,EAAS5pC,SAAW4pC,EAAS5pC,QAAQ,KAAO9+B,EAAK47I,YAAY,GACjF57I,EAAK47I,YAAc,KAEvB,IAAKj/I,EAAE+rE,EAAS5pC,SAAS3pB,SAAS+jI,GAC9Bl5I,EAAK47I,YAAclzE,EAAS5pC,QAEhC9+B,EAAKk1C,QAAQwzB,EAAS5pC,SAAS4H,KAAK,WAChC1mC,EAAKy0D,YAET1yD,EAAEpB,sBACC,GAAI8F,IAAQugB,EAAKa,UAAY9lB,EAAE++B,UAAYjP,IAAY7xB,EAAKd,QAAQssD,QAAS,CAChF,IAAIixF,EAAc/zE,EAAS8lD,gBAAgBxuH,EAAKo8I,kBAChD,IAAInN,EAAevmE,EAAS8lD,gBAAgB9lD,EAAS5pC,SAErD,GAAI29G,IAAgB3/I,GAAamyI,IAAiBnyI,EAC9CkD,EAAKw8I,aAAaC,EAAaxN,GAGnCltI,EAAEpB,sBACC,GAAI8F,IAAQugB,EAAKM,IAAK,CACzB,GAAIuK,EACA9vB,EAAEpB,qBACC,CACHX,EAAK05I,QAAQ54F,SAAS83F,GAAM17I,KAAK,SAAS0R,EAAOssI,GAC7Cl7I,EAAKi7I,WAAWt+I,EAAEu+I,GAAM,SAE5Bl7I,EAAKy0D,UAGTz0D,EAAK05C,aACF,GAAIjzC,IAAQugB,EAAKY,MACpB,GAAIiK,EACA,IAAK62C,EAAS5pC,QACV9+B,EAAK05C,YACF,CACH,GAAI33C,EAAE8wF,SAAW9wF,EAAE++B,WAAa9gC,EAAKd,QAAQssD,QACzCxrD,EAAKw8I,aAAa9zE,EAAS8lD,gBAAgB9lD,EAAS5pC,QAAQ,IAAK,GAErE4pC,EAASmlD,kBAEV,IAAK3jD,EAAU,CAClBgxE,EAAMl7I,EAAK05I,QAAQ54F,SAAS83F,GAAMh3I,QAAQ,GAE1C,GAAIs5I,EACAl7I,EAAKs6I,WAAW39I,EAAEu+I,UAGvB,GAAIz0I,IAAQugB,EAAKW,KACpB,GAAIkK,EACA,IAAK62C,EAAS5pC,QACV9+B,EAAK05C,YACF,CACH,GAAI33C,EAAE8wF,SAAW9wF,EAAE++B,WAAa9gC,EAAKd,QAAQssD,QACzCxrD,EAAKw8I,aACD9zE,EAAS8lD,gBAAgB9lD,EAAS5pC,QAAQ,IAC1C4pC,EAASp5D,QAAQwxC,WAAWvhD,OAAS,GAG7CmpE,EAASqlD,iBAEV,IAAK7jD,EAAU,CAClBgxE,EAAMl7I,EAAK05I,QAAQ54F,SAAS83F,GAAMl/G,OAAO,GAEzC,GAAIwhH,EACAl7I,EAAKs6I,WAAW39I,EAAEu+I,UAGvB,IAAKz0I,IAAQugB,EAAKE,QAAUzgB,IAAQugB,EAAKG,aAAe+iD,EAAU,CACrElqE,EAAK0oH,OAASmwB,EAEd,GAAI74I,EAAKd,QAAQ46I,UAAY,SAAU,CACnC95I,EAAKy7I,uBAELz7I,EAAKy0D,UACLz0D,EAAKs7I,SACL,OAGJ,GAAI70I,IAAQugB,EAAKG,YAAc+zH,EAC3BA,EAAMl7I,EAAK05I,QAAQ54F,SAAS83F,GAAMl/G,OAGtC,GAAIwhH,GAAOA,EAAI,GACXl7I,EAAKi7I,WAAWC,EAAK,WAEtB,GAAIl7I,EAAKsqG,MAAMz4E,YAAcprB,IAAQugB,EAAKe,UAAYthB,IAAQugB,EAAKc,QAAS,CAC/E/lB,EAAEpB,iBAEF,IAAIo2C,EAAYtwC,IAAQugB,EAAKe,SAAW,GAAI,EAC5C2gD,EAAS2mD,WAAWt4E,EAAY2xB,EAASttD,oBACtC,CACH6Y,aAAaj0B,EAAKwoH,gBAClBxoH,EAAK6wI,YAIbvjB,UAAW,WACP,IAAIttH,EAAOP,KACXw0B,aAAaj0B,EAAKutH,OAClBvtH,EAAK6f,MAAMjK,KAAK,YAAa,OAC7B5V,EAAK0gD,SAAS/qC,SAAS4rG,GACvBvhH,EAAK0tH,SAAW,MAChB1tH,EAAKutH,MAAQ,KAEbvtH,EAAKixI,0BAGTyL,iBAAkB,WACdj9I,KAAKogB,MAAMjK,KAAK,YAAa,MAC7BnW,KAAKihD,SAASxrC,YAAYqsG,GAC1B9hH,KAAKymH,cAGTuH,UAAW,WACP,IAAIztH,EAAOP,KAEXO,EAAK0tH,SAAW,KAEhB,GAAI1tH,EAAKutH,MACL,OAGJvtH,EAAKutH,MAAQ36F,WAAW5yB,EAAK08I,iBAAiB17I,KAAKhB,GAAO,MAG9D82F,aAAc,SAAS5kB,EAAMyqE,GACzB,IAAI38I,EAAOP,KACX,IAAIogB,EAAQ7f,EAAK6f,MACjB,IAAI68G,EAASxtH,IACb,IAAI4Q,EAAc9f,EAAKd,QAAQ4gB,YAC/B,IAAIi8H,EAAal8H,EAAMirC,MACvB,IAAIymF,EAAW1xH,EAAM,KAAO68G,EAC5B,IAAIkgB,EAAWb,EAAWx8I,OAE1B,IAAKgyI,GAAYvxI,EAAKd,QAAQ66I,WAAagC,IAAej8H,EAAa,CACnE88H,EAAW,EACXb,EAAa,GAGjB,GAAI7pE,IAASp1E,EAAW,CACpBo1E,EAAO,MACP,GAAIryD,EAAM,KAAO68G,EACbxqD,GAAQlyE,EAAK0oE,SAASsgD,oBAAoB,GAIlDhpH,EAAK8wI,MAAQiL,EACbl8H,EAAMyD,YAAY,aAAc4uD,GAAMpnB,IAAIonB,EAAOpyD,EAAci8H,GAE/D,GAAIxK,IAAaoL,EACb5/I,EAAM2hC,MAAM7e,EAAM,GAAI+8H,EAAUA,IAIxCrjB,QAAS,SAAS5J,EAAWD,EAAUjoD,GACnC,IAAIj5C,EAAS,UAEb,GAAImhG,IAAc7yH,EAAW,CACzB6yH,GAAa,GAEb,GAAIA,EAAUrjH,QAAQ,QAAU,EAC5BqjH,EAAYA,EAAU/vH,QAAQ8hH,EAAY,UAG9ClzF,GAAU,WAAamhG,EAAY,IAGvC,GAAIloD,EACAj5C,GAAU,YAGdA,GAAU,IAEV,GAAIkhG,IAAa5yH,EACb0xB,GAAUzxB,EAAM8nB,WAAW6qG,GAG/B,OAAOlhG,GAAU,aAGrBmjG,QAAS,SAASjuH,GACd,IAAIm5I,EAAgBp9I,KAAKipE,SAASsgD,oBAClC,IAAIr6G,EAASlP,KAAKipE,SAAS3hE,QAC3B,IAAIxH,EAASmE,EAAKnE,OAClB,IAAIioE,EACJ,IAAItoE,EAAU,GACd,IAAI6uB,EACJ,IAAIhnB,EACJ,IAAI3F,EAEJ,GAAIuN,EAAOpP,SAAWs9I,EAAct9I,OAChCs9I,EAAgBp9I,KAAKq9I,oBAAoBnuI,GAG7C,IAAI0+G,EAAS,GACb,IAAIutB,EAAa,GAEjB,IAAKx5I,EAAM,EAAGA,EAAM7B,EAAQ6B,IAAO,CAC/B2sB,EAAWrqB,EAAKtC,GAChB2F,EAAQtH,KAAKwpH,OAAOl7F,GAEpBy5C,EAAgB/nE,KAAKs9I,mBAAmBh2I,EAAO81I,GAC/C,GAAIr1E,KAAmB,EACnBq1E,EAAc36I,OAAOslE,EAAe,GAGxCozE,EAAW7zI,GAAS3F,EACpBlC,GAAWO,KAAK85H,QAAQxyH,EAAOtH,KAAKu+F,MAAMjwE,GAAWy5C,KAAmB,GAG5E,GAAIq1E,EAAct9I,OACd,IAAK6B,EAAM,EAAGA,EAAMy7I,EAAct9I,OAAQ6B,IAAO,CAC7C2sB,EAAW8uH,EAAcz7I,GAEzB2F,EAAQtH,KAAKwpH,OAAOl7F,GACpBs/F,EAAOtmH,GAASxH,EAChBq7I,EAAW7zI,GAASxH,EAEpBA,GAAU,EACVL,GAAWO,KAAK85H,QAAQxyH,EAAOtH,KAAKu+F,MAAMjwE,GAAW,MAI7DtuB,KAAK45I,eAAiBhsB,EACtB5tH,KAAK25I,YAAcwB,EAEnBn7I,KAAK6P,QAAQ3L,KAAKzE,IAGtB49I,oBAAqB,SAASnuI,GAC1B,IAAIu4D,EAAaznE,KAAKP,QAAQynE,eAC9B,IAAInF,EAAY/hE,KAAKP,QAAQmpE,cAC7B,IAAIr/D,EAAS,GACb,IAAI0/B,EAEJ,IAAK,IAAItnC,EAAM,EAAGA,EAAMuN,EAAOpP,OAAQ6B,IAAO,CAC1CsnC,EAAO,GACPA,EAAKw+B,GAAcv4D,EAAOvN,GAC1BsnC,EAAK84B,GAAa7yD,EAAOvN,GAEzB4H,EAAOrH,KAAK+mC,GAGhB,OAAO1/B,GAGX+zI,mBAAoB,SAASh2I,EAAO81I,GAChC,IAAI/R,EAAcrrI,KAAKwpH,OACvB,IAAI7nH,EAAM,EAEV,KAAOA,EAAMy7I,EAAct9I,OAAQ6B,IAC/B,GAAI2F,IAAU+jI,EAAY+R,EAAcz7I,IACpC,OAAOA,EAIf,OAAQ,GAGZyvI,QAAS,WACL,IAAI7wI,EAAOP,KAEXw0B,aAAaj0B,EAAKwoH,gBAElBxoH,EAAKwoH,eAAiB51F,WAAW,WAC7B,IAAI7rB,EAAQ/G,EAAKuoH,cACjB,GAAIvoH,EAAK8wI,QAAU/pI,EAAO,CACtB/G,EAAK8wI,MAAQ/pI,EACb/G,EAAK+1B,OAAOhvB,GACZ/G,EAAKixI,2BAEVjxI,EAAKd,QAAQm/B,QAGpB4yG,uBAAwB,WACpB,GAAIxxI,KAAKsH,QAAQxH,QAAWE,KAAKogB,MAAMirC,OAASrrD,KAAKogB,MAAMirC,QAAUrrD,KAAKP,QAAQ4gB,YAC9ErgB,KAAK2mH,kBAEL3mH,KAAKymH,cAIb2B,cAAe,WACX,OAAOpoH,KAAKm7F,mBAAqBmoB,EAAK3iH,GAAGynH,cAAc5lH,KAAKxC,OAGhEm7F,gBAAiB,WACb,IAAIjuF,EAAMlN,KAAKP,QAAQi7I,iBACvB,OAAOxtI,IAAQ,MAAQA,EAAMlN,KAAKipE,SAAS3hE,QAAQxH,QAGvDy9I,iBAAkB,SAASpvH,GACvB,IAAI5tB,EAAOP,KAEXO,EAAKmqB,QAAQyD,EAAK,WACd,MAAO,CACHC,SAAU7tB,EAAK05I,QAAQ,GAAG54F,SAC1Bp9C,KAAM/G,EAAEgU,IAAI3Q,EAAKytB,YAAa,SAASM,GACnC,MAAO,CAAEA,SAAUA,SAMnCkvH,qBAAsB,SAASpqB,EAAO7L,GAClC,GAAGvnH,KAAK46I,eAAexnB,OACnBpzH,KAAK46I,eAAexnB,MAAMtzH,SAAWynH,EAAQznH,QAC7CE,KAAK46I,eAAerzB,SACpBvnH,KAAK46I,eAAerzB,QAAQznH,SAAWszH,EAAMtzH,OACzCE,KAAK46I,eAAiB,UACxB,CACD56I,KAAKipE,SAASyiE,qBAAuB1rI,KAAKqoH,KAAKlpH,QAC/Ca,KAAK46I,eAAiB,CAClBxnB,MAAOA,EACP7L,QAASA,KAKtB0qB,aAAc,SAAU7e,EAAO7L,GAC3B,IAAIhnH,EAAOP,KACX,IAAI88C,EAAQv8C,EAAKoqB,WAAWmyB,QAC5B,IAAIm9F,EAAU15I,EAAK05I,QACnB,IAAI9wH,EAAS5oB,EAAKipH,OAClB,IAAIi0B,EACJ,IAAIC,EACJ,IAAI/7I,EAEJ,GAAG3B,KAAK46I,eAAe,CACnB56I,KAAKw9I,qBAAqBpqB,EAAO7L,GAEjC,OAGJhnH,EAAKg9I,iBAAiB,WAEtB,GAAIh9I,EAAKd,QAAQ46I,UAAY,WAAY,CACrC,IAAK14I,EAAM4lH,EAAQznH,OAAS,EAAG6B,GAAO,EAAGA,IAAO,CAC5C87I,EAAcl2B,EAAQ5lH,GAEtB,GAAIs4I,EAAQ54F,SAAS83F,GAAMr5I,OAAQ,CAC/Bm6I,EAAQ,GAAG3/H,YAAY2/H,EAAQ,GAAG54F,SAASo8F,EAAY9mI,WACvDpW,EAAKk8I,WAAWtzH,EAAOs0H,EAAYnvH,UAAW,QAItD,IAAK3sB,EAAM,EAAGA,EAAMyxH,EAAMtzH,OAAQ6B,IAAO,CACrC+7I,EAAYtqB,EAAMzxH,GAElBpB,EAAK6f,MAAMm3E,OAAOh3F,EAAKo6I,YAAY+C,EAAUpvH,WAE7C/tB,EAAKk8I,WAAWtzH,EAAOu0H,EAAUpvH,UAAW,WAE7C,CACH,IAAK/tB,EAAKo9I,WAAap9I,EAAKo9I,UAAY7gG,EACpCv8C,EAAKo9I,UAAY7gG,EAGrB98C,KAAK87I,qBAEL,IAAKn6I,EAAM4lH,EAAQznH,OAAS,EAAG6B,GAAO,EAAGA,IACrCpB,EAAKk8I,WAAWtzH,EAAOo+F,EAAQ5lH,GAAK2sB,UAAW,OAGnD,IAAK3sB,EAAM,EAAGA,EAAMyxH,EAAMtzH,OAAQ6B,IAC9BpB,EAAKk8I,WAAWtzH,EAAOiqG,EAAMzxH,GAAK2sB,UAAW,MAIrD/tB,EAAKg9I,iBAAiB,WACtBh9I,EAAK82F,gBAGTykD,mBAAoB,WAChB,IAAIv7I,EAAOP,KACX,IAAIkP,EAAS3O,EAAK+G,QAClB,IAAIw1C,EAAQv8C,EAAKoqB,WAAWmyB,QAC5B,IAAIm9F,EAAU15I,EAAK05I,QAEnBA,EAAQ54F,SAAS83F,GAAM17I,KAAK,SAAS0R,EAAOssI,GACxCv+I,EAAEu+I,GAAK1qH,WAGX,GAAI7hB,EAAOpP,OACPS,EAAK6f,MAAMm3E,OAAOh3F,EAAKo6I,YAAY,CAC/BzrI,OAAQA,EACR8e,UAAWztB,EAAKytB,YAChB4vH,SAAUr9I,EAAKo9I,UACfE,aAAc/gG,MAK1BrH,QAAS,SAASmnE,GACd,IAAIrsC,EAAWrzE,EAAEupC,WAAW0rB,UAE5B,IAAKyqD,EACD,OAAOrsC,EAGX,IAAIhwE,EAAOP,KACX,IAAIipE,EAAW1oE,EAAK0oE,SACpB,IAAI36C,EAAW26C,EAAS+lD,gBAAgB/lD,EAAS8lD,gBAAgBnS,IACjE,IAAIkhC,EAAalhC,EAAUlnG,SAAS,cAEpC,GAAInV,EAAK0oH,SAAWqwB,EAChB/4I,EAAK0oH,OAAS,GAGlB,IAAK1oH,EAAK46F,oBAAsB2iD,EAC5B,OAAOvtE,EAGX,GAAIhwE,EAAK8B,QAAQy7I,EAAavE,EAAW7pG,EAAQ,CAAEphB,SAAUA,EAAU2a,KAAM2zE,IAAc,CACvFr8G,EAAKs7I,SACL,OAAOtrE,EAGXhwE,EAAKq6I,eAAiB,MACtB,OAAO3xE,EAASppC,OAAO+8E,GAAW31E,KAAK,WACnC1mC,EAAK82F,eAEL,GAAI92F,EAAK0oH,SAAWowB,EAAQ,CACxB94I,EAAK0oH,OAASmwB,EACdnwE,EAAS6pD,WAAW,UAKhCiqB,aAAc,SAAUx/E,EAAYC,GAChC,IAAIj9D,EAAOP,KACX,IAAIipE,EAAWjpE,KAAKipE,SACpB,IAAIyxE,EAAmB16I,KAAKP,QAAQi7I,iBACpC,IAAI1nB,EAAUhzH,KAAK48I,sBAAsBz9I,QACzC,IAAI4+I,EAAkB,GACtB,IAAIl+I,EAEJ,IAAIm+I,EAAgB,SAAShrB,GACzB/pD,EAASppC,OAAOmzF,GAAS/rF,KAAK,WAC1B+rF,EAAQtqF,QAAQ,SAASv5B,GACrB,IAAImf,EAAY26C,EAAS+lD,gBAAgB7/G,GACzC,IAAIytG,EAAY3zC,EAASp5D,QAAQwxC,WAAWlyC,GAC5C,IAAI2uI,EAAa5gJ,EAAE0/G,GAAWlnG,SAAS,cAEvCnV,EAAK8B,QAAQy7I,EAAapuG,EAAS6pG,EAAU,CAACjrH,SAAUA,EAAU2a,KAAM/rC,EAAE0/G,OAE9Er8G,EAAKy0D,aAIb,GAAIg+D,EAAQlzH,OAAS,IAAM09D,EAAWD,EAClC,OAAOygF,EAAchrB,GAGzB,GAAIz1D,EAAaC,EACb,IAAK39D,EAAI09D,EAAY19D,GAAK29D,EAAU39D,IAChCk+I,EAAgB77I,KAAKrC,QAGzB,IAAKA,EAAI09D,EAAY19D,GAAK29D,EAAU39D,IAChCk+I,EAAgB77I,KAAKrC,GAI7B,GAAI66I,IAAqB,MAAQqD,EAAgBj+I,OAAS46I,EACtDqD,EAAkBA,EAAgB5+I,MAAM,EAAGu7I,GAG/C,IAAK76I,EAAI,EAAGA,EAAIk+I,EAAgBj+I,OAAQD,IAAK,CACzC,IAAIsP,EAAQ4uI,EAAgBl+I,GAE5B,GAAIG,KAAK48I,sBAAsB/vI,QAAQsC,KAAW,EAC9C6jH,EAAQ9wH,KAAKiN,QAEb6jH,EAAQvwH,OAAOuwH,EAAQnmH,QAAQsC,GAAQ,GAI/C,IAAK6jH,EAAQlzH,OACT,OAGJS,EAAKq6I,eAAiB,MACtB,OAAOoD,EAAchrB,IAGzB0P,OAAQ,WACJ,IAAIniI,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QACnB,IAAIyoI,EAAYzoI,EAAQ,GAAGyoI,UAC3B,IAAIl4H,EAAQ7f,EAAK05I,QAAQ54F,SAAS,uBAClC,IAAIqoE,EAAe1pH,KAAKP,QAAQwwB,SAAW,OAAS,OAAS,OAE7D,IAAK7P,EAAM,GACPA,EAAQljB,EAAE,mCAAmCgoC,SAAS3kC,EAAK05I,SAG/DpqI,EAAQwb,WAAW,aAEnB9qB,EAAKikH,SAAWjkH,EAAK6f,MAAQA,EAAMjK,KAAK,CACpCuzG,aAAgBgnB,EAChB9mH,KAAQ,UACR0hB,MAASz7B,EAAQ,GAAGy7B,MACpBgrG,oBAAqB5sB,IAGzB,GAAG4uB,EACC/3I,EAAKikH,SAASruG,KAAK,YAAamiI,IAIxCuB,SAAU,WACN,IAAIt5I,EAAOP,KACPP,EAAUc,EAAKd,QACfw6I,EAAU15I,EAAKiW,QAAQ6qC,SAAS,mBAEpC,IAAK44F,EAAQ,GACTA,EAAU/8I,EAAEgH,EAAK80I,eAAe,wEAAyE97I,EAAEM,OAAO,GAAIiC,KAAWylC,SAAS3kC,EAAKiW,SAGnJjW,EAAK05I,QAAUA,GAGnBG,aAAc,WACV,IAAI75I,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAIk7I,EAAcl7I,EAAQk7I,YAC1B,IAAIsD,EAAgBx+I,EAAQkrB,WAC5B,IAAIuzH,EAAaz+I,EAAQ46I,UAAY,WACrC,IAAIE,EAAY96I,EAAQ6nB,SAASizH,UACjC,IAAI4D,EAEJ,GAAI59I,EAAKsP,QAAQ,GAAG/P,SAAWm+I,EAAe,CAC1Cx+I,EAAQmpE,cAAgBnpE,EAAQmpE,eAAiB,OACjDnpE,EAAQynE,eAAiBznE,EAAQynE,gBAAkB,QAGvDi3E,EAAkBD,EAAa5gJ,EAAM0G,SAAS,KAAO1G,EAAM0rB,KAAKvpB,EAAQmpE,cAAe,QAAU,IAAK,CAAE9kE,aAAc,QAAWxG,EAAM0G,SAAS,oBAAsBu2I,GAEtKh6I,EAAK66I,gBAAkBT,EAAcA,EAAcr9I,EAAM0G,SAAS22I,GAAewD,EAEjF59I,EAAKo6I,YAAc,SAAS12I,GACxB,OAAOC,EAAKw0I,WAAW,2BACvB,UAAWx7I,EAAEM,OAAO,GAAIiC,EAAS,CACzBwtB,SAAU,QACVhgB,QAAS,SACT4gB,WAAY,OACZuS,KAAMu6G,EAAY12I,GAClBkS,KAAM,CACFugI,aAAc,MAElBmC,UAAWqF,EACXpF,cAAe,CACXpC,aAAc,KACdhzB,cAAe,KACf2yB,aAAc91I,EAAKd,QAAQ6nB,SAASkzH,UACpClvG,MAAO/qC,EAAKd,QAAQ6nB,SAASkzH,WAEjCz8C,MAAOmgD,EAAa,UAAY,GAChCtF,SAAU,CACNlC,aAAc,KACdhzB,cAAe,KACf2yB,aAAc,aAOlCnF,QAAS,WACLlxI,KAAKihD,SAAW/jD,EAAE,wDAA0D4kH,EAAc,aAAaz8B,YAAYrlF,KAAKi6I,UAG5HtxB,aAAc,WACVrF,EAAK3iH,GAAGgoH,aAAanmH,KAAKxC,MAE1B,GAAIA,KAAKP,QAAQopH,YAAa,CAC1B7oH,KAAK0mH,OAAOrhC,YAAYrlF,KAAKi6I,SAC7Bj6I,KAAKwW,QAAQN,SAAS,6BAI9B6jI,aAAc,WACV,IAAIlqI,EAAU7P,KAAK6P,QACfuuI,EAAap+I,KAAKP,QAAQ6nB,SAASmzH,UACnChnC,EAAQv2G,EAAEgH,EAAK27F,aAAa,gCAAkCu+C,EAAa,iEAAkElhJ,EAAEM,OAAO,GAAIwC,KAAKP,QAAS,CACpKs+F,KAAM,cAGd,GAAG/9F,KAAK0zI,OAAQ,CACZ1zI,KAAK0zI,OAAO3iH,SACZ/wB,KAAK0zI,OAAS,KAGlB,GAAI1zI,KAAKP,QAAQg7I,UAAW,CACxBz6I,KAAK0zI,OAASjgC,EAAMt9F,KAAK,CACrBs3F,UAAa,IAGjB,GAAI59F,EAAQrT,GACRwD,KAAK0zI,OAAOv9H,KAAK,gBAAiBnW,KAAKyjH,GAAG,GAAGjnH,IAGjDwD,KAAK0zI,OAAOxuG,SAASllC,KAAKwW,WAIlCsjI,eAAgB,WACZ,IAAIuE,EAAiB/gJ,EAAM6a,kBAAkBnY,KAAKogB,MAAM,GAAI/H,GAE5DgmI,EAAe1nI,SAAW,WAC1B0nI,EAAezsD,WAAa,SAC5BysD,EAAet+H,KAAO,KACtBs+H,EAAeppI,MAAQ,KAEvBjV,KAAKgzI,MAAQ91I,EAAE,WAAW2X,IAAIwpI,GAAgBn5G,SAASllC,KAAKwW,UAGhEwlE,SAAU,WACN,IAAIz7E,EAAOP,KACP6P,EAAUtP,EAAKsP,QACf2G,EAAU3G,EAAQ0F,OAAO,sBAE7B,IAAKiB,EAAQ,GAAI,CACbA,EAAU3G,EAAQuF,KAAK,4EAA4EG,SACnGiB,EAAQ,GAAGZ,MAAMqE,QAAUpK,EAAQ,GAAG+F,MAAMqE,QAC5CzD,EAAQ,GAAG80B,MAAQz7B,EAAQ,GAAGy7B,MAGlC/qC,EAAKiW,QAAUA,EACEN,SAASrG,EAAQ,GAAG+I,WACpBnD,YAAY,0BAA0BZ,IAAI,UAAW,IACrDsB,KAAK,CACF6wH,gBAAiB,SAIzCmT,aAAc,WACV,IAAI55I,EAAOP,KAEXO,EAAKkjH,GAAGttG,KAAK,aAAc5V,EAAKimH,mBAAqB,MAAQ,WAGjE4E,cAAe,SAAS9oH,GACpB,GAAItC,KAAKqC,QAAQylG,GACbxlG,EAAEpB,qBACC,CACHlB,KAAKwW,QAAQL,KAAK,gBAAiB,OACnCnW,KAAKyjH,GAAGttG,KAAK,cAAe,QAIpC00G,aAAc,SAASvoH,GACnBtC,KAAK8qH,mBAEL,GAAI9qH,KAAKqC,QAAQwlG,GACbvlG,EAAEpB,qBACC,CACHlB,KAAKwW,QAAQL,KAAK,gBAAiB,MACnCnW,KAAKyjH,GAAGttG,KAAK,cAAe,WAKxC,SAASguC,EAAQv9C,EAAGma,GAChB,IAAIjhB,EAEJ,GAAK8G,IAAM,MAAQma,IAAM,MAAUna,IAAM,MAAQma,IAAM,KACnD,OAAO,MAGXjhB,EAAS8G,EAAE9G,OACX,GAAIA,IAAWihB,EAAEjhB,OACb,OAAO,MAGX,MAAOA,IACH,GAAI8G,EAAE9G,KAAYihB,EAAEjhB,GAChB,OAAO,MAIf,OAAO,KAcf,OAXImnB,EAAG+J,OAAO81C,GAEVxpE,EAAMqvB,cAAc0Y,eAAe,cAAe,YAElD/nC,EAAMqvB,cAAc4Y,eAAe,cAAe,CAAC,CAC/C/Y,KAAM,UACNtd,OAAQ5R,EAAMqvB,cAAc2X,cAAchwB,OAAO,CAAC,CAAC,OAAQ,aAK5DlX,OAAOE,QA7oDd,CA+oDoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAQrF,SAAavtC,QACTA,OAAO,cAAc,CAAE,cACxB,WAEC,IAAIC,EAAW,CACXC,GAAI,QACJC,KAAM,cACNC,SAAU,YACV83F,SAAU,KACV73F,YAAa,yCACbotC,QAAS,CAAE,SAOf7pC,GAFJ9C,OAAOE,MAAQF,OAAOE,OAAS,GAEnBA,MAAM4C,OACdjC,EAAUX,MAAMW,QAEhBqgJ,EAAc,CACdC,UAAW,SAAUC,aAAc,SAAUC,KAAM,SACnDC,WAAY,SAAUC,MAAO,SAAUC,MAAO,SAC9CC,OAAQ,SAAUC,MAAO,SAAUC,eAAgB,SACnDC,KAAM,SAAUC,WAAY,SAAUC,MAAO,SAC7CC,UAAW,SAAUC,UAAW,SAAUC,WAAY,SACtDC,UAAW,SAAUC,MAAO,SAAUC,eAAgB,SACtDC,SAAU,SAAUC,QAAS,SAAUC,KAAM,SAC7CC,SAAU,SAAUC,SAAU,SAAUC,cAAe,SACvDC,SAAU,SAAUC,SAAU,SAAUC,UAAW,SACnDC,UAAW,SAAUC,YAAa,SAAUC,eAAgB,SAC5DC,WAAY,SAAUC,WAAY,SAAUC,QAAS,SACrDC,WAAY,SAAUC,aAAc,SAAUC,cAAe,SAC7DC,cAAe,SAAUC,cAAe,SAAUC,cAAe,SACjEC,WAAY,SAAUC,SAAU,SAAUC,YAAa,SACvDC,QAAS,SAAUC,QAAS,SAAUC,WAAY,SAClDC,UAAW,SAAUC,YAAa,SAAUC,YAAa,SACzDC,QAAS,SAAUC,UAAW,SAAUC,WAAY,SACpDC,KAAM,SAAUC,UAAW,SAAUC,KAAM,SAC3CC,KAAM,SAAUC,MAAO,SAAUC,YAAa,SAC9CC,SAAU,SAAUC,QAAS,SAAUC,UAAW,SAClDC,OAAQ,SAAUC,MAAO,SAAUC,MAAO,SAC1CC,SAAU,SAAUC,cAAe,SAAUC,UAAW,SACxDC,aAAc,SAAUC,UAAW,SAAUC,WAAY,SACzDC,UAAW,SAAUC,qBAAsB,SAAUC,UAAW,SAChEC,UAAW,SAAUC,WAAY,SAAUC,UAAW,SACtDC,YAAa,SAAUC,cAAe,SAAUC,aAAc,SAC9DC,eAAgB,SAAUC,eAAgB,SAAUC,eAAgB,SACpEC,YAAa,SAAUC,KAAM,SAAUC,UAAW,SAClDC,MAAO,SAAUC,QAAS,SAAUC,OAAQ,SAC5CC,iBAAkB,SAAUC,WAAY,SAAUC,aAAc,SAChEC,aAAc,SAAUC,eAAgB,SAAUC,gBAAiB,SACnEC,kBAAmB,SAAUC,gBAAiB,SAAUC,gBAAiB,SACzEC,aAAc,SAAUC,UAAW,SAAUC,UAAW,SACxDC,SAAU,SAAUC,YAAa,SAAUC,KAAM,SACjDC,QAAS,SAAUC,MAAO,SAAUC,UAAW,SAC/CC,OAAQ,SAAUC,UAAW,SAAUC,OAAQ,SAC/CC,cAAe,SAAUC,UAAW,SAAUC,cAAe,SAC7DC,cAAe,SAAUC,WAAY,SAAUC,UAAW,SAC1DC,KAAM,SAAUC,KAAM,SAAUC,KAAM,SACtCC,WAAY,SAAUC,OAAQ,SAAUC,IAAK,SAC7CC,UAAW,SAAUC,UAAW,SAAUC,YAAa,SACvDC,OAAQ,SAAUC,WAAY,SAAUC,SAAU,SAClDC,SAAU,SAAUC,OAAQ,SAAUC,OAAQ,SAC9CC,QAAS,SAAUC,UAAW,SAAUC,UAAW,SACnDC,UAAW,SAAUC,KAAM,SAAUC,YAAa,SAClDC,UAAW,SAAUC,IAAK,SAAUC,KAAM,SAC1CC,QAAS,SAAUC,OAAQ,SAAUC,UAAW,SAChDC,OAAQ,SAAUC,MAAO,SAAUC,MAAO,SAC1CC,WAAY,SAAUC,OAAQ,SAAUC,YAAa,UAGrDzuI,EAAU/a,EAAQ+a,QAElB0uI,EAAkB,SAAUroD,GAC5B,IAAIsoD,EAAa7mJ,OAAOymB,KAAK+2H,GAC7BqJ,EAAWzlJ,KAAK,eAEhB,IAAI0lJ,EAAS,IAAI11I,OAAO,KAAOy1I,EAAW7kJ,KAAK,KAAO,WAAY,KAClE4kJ,EAAkB,SAAUroD,GAAS,OAAOuoD,EAAOv7I,KAAKgzF,IAExD,OAAOuoD,EAAOv7I,KAAKgzF,IAGnBwoD,EAAY3nJ,EAAM1C,OAAO,CACzBiD,KAAM,aAENqnJ,MAAO,WAAa,OAAO9nJ,MAE3B+nJ,MAAO,WAAa,OAAO/nJ,MAE3BgoJ,MAAO,SAASvoJ,GAAW,OAAOO,KAAKioJ,UAAUD,MAAMvoJ,IAEvDwoJ,QAAS,WAAa,OAAOjoJ,MAE7BkoJ,MAAO,SAASzoJ,GAAW,MAAO,IAAMO,KAAKgoJ,MAAMvoJ,IAEnD0oJ,UAAW,WACP,IAAIC,EAAMpoJ,KAAKioJ,UACf,MAAQ,QAAWG,EAAK,EAAI,KAAQA,EAAK,EAAI,KAAQA,EAAK,EAAI,KAAQv0I,WAAYvN,OAAOtG,KAAK4G,GAAIkI,QAAQ,IAAO,KAGrHu5I,UAAW,WACP,GAAIrvI,EAAQiG,MAAQjG,EAAQhc,QAAU,EAClC,OAAOgD,KAAKkoJ,QAEhB,OAAOloJ,KAAKmoJ,aAGhB1hG,OAAQ,SAAS5/C,GACb,OAAOA,IAAM7G,MAAQ6G,IAAM,MAAQ7G,KAAKmoJ,cAAgBG,EAAWzhJ,GAAGshJ,aAG1E9uH,KAAM,SAASkvH,GACX,GAAIA,IAAU,KACV,OAAOC,IAGX,IAAIC,EAAKzoJ,KAAKioJ,UACd,IAAIS,EAAKH,EAAMN,UAEf,OAAOnqJ,KAAKuzC,KAAKvzC,KAAKmmC,KAAKwkH,EAAGE,EAAID,EAAGC,GAAK,GAAM,GAC/B7qJ,KAAKmmC,KAAKwkH,EAAG96I,EAAI+6I,EAAG/6I,GAAK,IAAM,GAC/B7P,KAAKmmC,KAAKwkH,EAAG1nI,EAAI2nI,EAAG3nI,GAAK,IAAM,KAGpDrhB,MAAO,WACH,IAAImH,EAAI7G,KAAKioJ,UACb,GAAIphJ,IAAM7G,KACN6G,EAAI,IAAI+hJ,EAAM/hJ,EAAE8hJ,EAAG9hJ,EAAE8G,EAAG9G,EAAEka,EAAGla,EAAED,GAGnC,OAAOC,KAIXgiJ,EAAMhB,EAAUrqJ,OAAO,CACvBiD,KAAM,SAASkoJ,EAAGh7I,EAAGoT,EAAGna,GACpBihJ,EAAUlnJ,GAAGF,KAAK+B,KAAKxC,MAEvBA,KAAK2oJ,EAAIA,EACT3oJ,KAAK2N,EAAIA,EACT3N,KAAK+gB,EAAIA,EACT/gB,KAAK4G,EAAIA,GAGbkhJ,MAAO,WACH,IAAIgB,EAAM9oJ,KACV,IAAI2oJ,EAAIG,EAAIH,EACZ,IAAIh7I,EAAIm7I,EAAIn7I,EACZ,IAAIoT,EAAI+nI,EAAI/nI,EACZ,IAAIhS,EAAMjR,KAAKiR,IAAI45I,EAAGh7I,EAAGoT,GACzB,IAAI7T,EAAMpP,KAAKoP,IAAIy7I,EAAGh7I,EAAGoT,GACzB,IAAIud,EAAQpxB,EAAM6B,EAClB,IAAI5H,EAAI+F,EACR,IAAI67I,EAAGh7I,EAEP,GAAIuwB,IAAU,EACV,OAAO,IAAI0qH,EAAI,EAAG,EAAG7hJ,EAAGnH,KAAK4G,GAGjC,GAAIsG,IAAQ,EAAG,CACXa,EAAIuwB,EAAQpxB,EACZ,GAAIy7I,IAAMz7I,EACN67I,GAAKp7I,EAAIoT,GAAKud,OACX,GAAI3wB,IAAMT,EACb67I,EAAI,GAAKhoI,EAAI4nI,GAAKrqH,OAElByqH,EAAI,GAAKJ,EAAIh7I,GAAK2wB,EAGtByqH,GAAK,GACL,GAAIA,EAAI,EACJA,GAAK,QAEN,CACHh7I,EAAI,EACJg7I,GAAK,EAGT,OAAO,IAAIC,EAAID,EAAGh7I,EAAG5G,EAAGnH,KAAK4G,IAGjCqiJ,MAAO,WACH,IAAIH,EAAM9oJ,KACV,IAAI2oJ,EAAIG,EAAIH,EACZ,IAAIh7I,EAAIm7I,EAAIn7I,EACZ,IAAIoT,EAAI+nI,EAAI/nI,EACZ,IAAI7T,EAAMpP,KAAKoP,IAAIy7I,EAAGh7I,EAAGoT,GACzB,IAAIhS,EAAMjR,KAAKiR,IAAI45I,EAAGh7I,EAAGoT,GACzB,IAAIgoI,EAAGh7I,EAAGm7I,GAAKh8I,EAAM6B,GAAO,EAE5B,GAAI7B,IAAQ6B,EACRg6I,EAAIh7I,EAAI,MACL,CACH,IAAIP,EAAIN,EAAM6B,EACdhB,EAAIm7I,EAAI,GAAM17I,GAAK,EAAIN,EAAM6B,GAAOvB,GAAKN,EAAM6B,GAC/C,OAAQ7B,GACJ,KAAKy7I,EAAGI,GAAKp7I,EAAIoT,GAAKvT,GAAKG,EAAIoT,EAAI,EAAI,GAAI,MAC3C,KAAKpT,EAAGo7I,GAAKhoI,EAAI4nI,GAAKn7I,EAAI,EAAG,MAC7B,KAAKuT,EAAGgoI,GAAKJ,EAAIh7I,GAAKH,EAAI,EAAG,MAC7B,QAAS,OAIjB,OAAO,IAAI27I,EAAIJ,EAAI,GAAIh7I,EAAI,IAAKm7I,EAAI,IAAKlpJ,KAAK4G,IAGlDqhJ,QAAS,WACL,OAAO,IAAIW,EAAM5oJ,KAAK2oJ,EAAI,IAAK3oJ,KAAK2N,EAAI,IAAK3N,KAAK+gB,EAAI,IAAK/gB,KAAK4G,MAIpEgiJ,EAAQC,EAAIrrJ,OAAO,CACnBiD,KAAM,SAASkoJ,EAAGh7I,EAAGoT,EAAGna,GACpBiiJ,EAAIloJ,GAAGF,KAAK+B,KAAKxC,KAAMlC,KAAK6O,MAAMg8I,GAAI7qJ,KAAK6O,MAAMgB,GAAI7P,KAAK6O,MAAMoU,GAAIna,IAGxEmhJ,MAAO,WACH,OAAO,IAAIc,EAAI7oJ,KAAK2oJ,EAAI,IAAK3oJ,KAAK2N,EAAI,IAAK3N,KAAK+gB,EAAI,IAAK/gB,KAAK4G,IAGlEkhJ,MAAO,WACH,OAAO9nJ,KAAK+nJ,QAAQD,SAGxBmB,MAAO,WACH,OAAOjpJ,KAAK+nJ,QAAQkB,SAGxBjB,MAAO,SAASvoJ,GACZ,IAAI6H,EAAQ8hJ,EAAIppJ,KAAK2oJ,EAAG,GAAKS,EAAIppJ,KAAK2N,EAAG,GAAKy7I,EAAIppJ,KAAK+gB,EAAG,GAE1D,GAAIthB,GAAWA,EAAQ4pJ,MACnB/hJ,GAAS8hJ,EAAItrJ,KAAK6O,MAAM3M,KAAK4G,EAAI,KAAM,GAG3C,OAAOU,GAGX2gJ,QAAS,WACL,OAAOjoJ,QAIf,SAASopJ,EAAI7jG,EAAG5vC,EAAOlS,GACnB,GAAIA,SAAa,EAAKA,EAAM,IAE5B,IAAI8F,EAASg8C,EAAE7/C,SAAS,IACxB,MAAOiQ,EAAQpM,EAAOzJ,OAClByJ,EAAS9F,EAAM8F,EAGnB,OAAOA,EAGX,IAAIy/I,EAAMnB,EAAUrqJ,OAAO,CACvBiD,KAAM,SAASsoJ,EAAGh7I,EAAG5G,EAAGP,GACpBihJ,EAAUlnJ,GAAGF,KAAK+B,KAAKxC,MAEvBA,KAAK+oJ,EAAIA,EACT/oJ,KAAK+N,EAAIA,EACT/N,KAAKmH,EAAIA,EACTnH,KAAK4G,EAAIA,GAGbmhJ,MAAO,WACH,IAAIe,EAAM9oJ,KACV,IAAI+oJ,EAAID,EAAIC,EACZ,IAAIh7I,EAAI+6I,EAAI/6I,EACZ,IAAI5G,EAAI2hJ,EAAI3hJ,EACZ,IAAIwhJ,EAAGh7I,EAAGoT,EAEV,GAAIhT,IAAM,EACN46I,EAAIh7I,EAAIoT,EAAI5Z,MACT,CACH4hJ,GAAK,GAEL,IAAIlpJ,EAAI/B,KAAK6G,MAAMokJ,GACnB,IAAItmG,EAAIsmG,EAAIlpJ,EACZ,IAAIypJ,EAAIniJ,GAAK,EAAI4G,GACjB,IAAIw7I,EAAIpiJ,GAAK,EAAI4G,EAAI00C,GACrB,IAAIz0C,EAAI7G,GAAK,EAAI4G,GAAK,EAAI00C,IAE1B,OAAQ5iD,GACJ,KAAK,EAAG8oJ,EAAIxhJ,EAAGwG,EAAIK,EAAG+S,EAAIuoI,EAAG,MAC7B,KAAK,EAAGX,EAAIY,EAAG57I,EAAIxG,EAAG4Z,EAAIuoI,EAAG,MAC7B,KAAK,EAAGX,EAAIW,EAAG37I,EAAIxG,EAAG4Z,EAAI/S,EAAG,MAC7B,KAAK,EAAG26I,EAAIW,EAAG37I,EAAI47I,EAAGxoI,EAAI5Z,EAAG,MAC7B,KAAK,EAAGwhJ,EAAI36I,EAAGL,EAAI27I,EAAGvoI,EAAI5Z,EAAG,MAC7B,QAASwhJ,EAAIxhJ,EAAGwG,EAAI27I,EAAGvoI,EAAIwoI,EAAG,OAItC,OAAO,IAAIV,EAAIF,EAAGh7I,EAAGoT,EAAG/gB,KAAK4G,IAGjCqiJ,MAAO,WACH,OAAOjpJ,KAAK+nJ,QAAQkB,SAGxBhB,QAAS,WACL,OAAOjoJ,KAAK+nJ,QAAQE,aAIxBkB,EAAMtB,EAAUrqJ,OAAO,CACvBiD,KAAM,SAASsoJ,EAAGh7I,EAAGm7I,EAAGtiJ,GACpBihJ,EAAUlnJ,GAAGF,KAAK+B,KAAKxC,MAEvBA,KAAK+oJ,EAAIA,EACT/oJ,KAAK+N,EAAIA,EACT/N,KAAKkpJ,EAAIA,EACTlpJ,KAAK4G,EAAIA,GAGbmhJ,MAAO,WACH,IAAIgB,EAAI/oJ,KAAK+oJ,EAAI,IACjB,IAAIh7I,EAAI/N,KAAK+N,EAAI,IACjB,IAAIm7I,EAAIlpJ,KAAKkpJ,EAAI,IACjB,IAAIP,EAAGh7I,EAAGoT,EAEV,GAAIhT,IAAM,EACN46I,EAAIh7I,EAAIoT,EAAImoI,MACT,CACH,IAAIK,EAAIL,EAAI,GAAMA,GAAK,EAAIn7I,GAAKm7I,EAAIn7I,EAAIm7I,EAAIn7I,EAC5C,IAAIu7I,EAAI,EAAIJ,EAAIK,EAChBZ,EAAIa,EAAQF,EAAGC,EAAGR,EAAI,EAAI,GAC1Bp7I,EAAI67I,EAAQF,EAAGC,EAAGR,GAClBhoI,EAAIyoI,EAAQF,EAAGC,EAAGR,EAAI,EAAI,GAG9B,OAAO,IAAIF,EAAIF,EAAGh7I,EAAGoT,EAAG/gB,KAAK4G,IAGjCkhJ,MAAO,WACH,OAAO9nJ,KAAK+nJ,QAAQD,SAGxBG,QAAS,WACL,OAAOjoJ,KAAK+nJ,QAAQE,aAI5B,SAASuB,EAAQF,EAAGC,EAAGx7I,GACnB,IAAIC,EAAID,EAER,GAAIC,EAAI,EACJA,GAAK,EAGT,GAAIA,EAAI,EACJA,GAAK,EAGT,GAAIA,EAAI,EAAI,EACR,OAAOs7I,GAAKC,EAAID,GAAK,EAAIt7I,EAG7B,GAAIA,EAAI,EAAI,EACR,OAAOu7I,EAGX,GAAIv7I,EAAI,EAAI,EACR,OAAOs7I,GAAKC,EAAID,IAAM,EAAI,EAAIt7I,GAAK,EAGvC,OAAOs7I,EAGX,SAASG,EAAa7iJ,GAClB,OAAOiN,WAAWA,WAAWxE,SAASzI,EAAG,IAAM,KAAMkI,QAAQ,IAGjE,SAASw5I,EAAWhhJ,EAAO4hB,GACvB,IAAIrb,EAAGynB,EAEP,GAAIhuB,GAAS,MAAQA,IAAU,OAC3B,OAAO,KAGX,GAAIA,aAAiBugJ,EACjB,OAAOvgJ,EAGX,IAAI+3F,EAAQ/3F,EAAMgF,cAClB,GAAKuB,EAAI65I,EAAgBroD,GAAS,CAC9B,GAAIxxF,EAAE,KAAO,cACTwxF,EAAQ,IAAIwpD,EAAI,EAAG,EAAG,EAAG,QAEzBxpD,EAAQipD,EAAWhK,EAAYzwI,EAAE,IAAKqb,GAE1Cm2E,EAAM/6F,MAAQ,CAAEuJ,EAAE,IAClB,OAAOwxF,EAEX,GAAKxxF,EAAI,gDAAgDxB,KAAKgzF,GAC1D/pE,EAAM,IAAIszH,EAAMv5I,SAASxB,EAAE,GAAI,IACfwB,SAASxB,EAAE,GAAI,IACfwB,SAASxB,EAAE,GAAI,IAAK,QACjC,GAAKA,EAAI,uCAAuCxB,KAAKgzF,GACxD/pE,EAAM,IAAIszH,EAAMv5I,SAASxB,EAAE,GAAKA,EAAE,GAAI,IACtBwB,SAASxB,EAAE,GAAKA,EAAE,GAAI,IACtBwB,SAASxB,EAAE,GAAKA,EAAE,GAAI,IAAK,QACxC,GAAKA,EAAI,iDAAiDxB,KAAKgzF,GAClE/pE,EAAM,IAAIszH,EAAMv5I,SAASxB,EAAE,GAAKA,EAAE,GAAI,IACtBwB,SAASxB,EAAE,GAAKA,EAAE,GAAI,IACtBwB,SAASxB,EAAE,GAAKA,EAAE,GAAI,IACtB47I,EAAa57I,EAAE,GAAKA,EAAE,UACnC,GAAKA,EAAI,6DAA6DxB,KAAKgzF,GAC9E/pE,EAAM,IAAIszH,EAAMv5I,SAASxB,EAAE,GAAI,IACfwB,SAASxB,EAAE,GAAI,IACfwB,SAASxB,EAAE,GAAI,IACf47I,EAAa57I,EAAE,UAC5B,GAAKA,EAAI,uDAAuDxB,KAAKgzF,GACxE/pE,EAAM,IAAIszH,EAAMv5I,SAASxB,EAAE,GAAI,IACfwB,SAASxB,EAAE,GAAI,IACfwB,SAASxB,EAAE,GAAI,IAAK,QACjC,GAAKA,EAAI,wEAAwExB,KAAKgzF,GACzF/pE,EAAM,IAAIszH,EAAMv5I,SAASxB,EAAE,GAAI,IACfwB,SAASxB,EAAE,GAAI,IACfwB,SAASxB,EAAE,GAAI,IAAKgG,WAAWhG,EAAE,UAC9C,GAAKA,EAAI,qFAAqFxB,KAAKgzF,GACtG/pE,EAAM,IAAIuzH,EAAIh1I,WAAWhG,EAAE,IAAM,IACnBgG,WAAWhG,EAAE,IAAM,IACnBgG,WAAWhG,EAAE,IAAM,IAAK,QACnC,GAAKA,EAAI,sGAAsGxB,KAAKgzF,GACvH/pE,EAAM,IAAIuzH,EAAIh1I,WAAWhG,EAAE,IAAM,IACnBgG,WAAWhG,EAAE,IAAM,IACnBgG,WAAWhG,EAAE,IAAM,IAAKgG,WAAWhG,EAAE,KAGvD,GAAIynB,EACAA,EAAIhxB,MAAQuJ,OACT,IAAKqb,EACR,MAAM,IAAItkB,MAAM,uBAAyBy6F,GAG7C,OAAO/pE,EAGX,IAAIo0H,EAAgB,IAEhBC,EAAQzpJ,EAAM1C,OAAO,CACrBiD,KAAM,SAAS6G,GACX,IAAIsiJ,EAAS5pJ,KAEb,GAAIJ,UAAUE,SAAW,EAAG,CACxB,IAAIuU,EAAUs1I,EAAMt1I,QACpB,IAAIw1I,EAAgB7pJ,KAAK8pJ,aAAaxiJ,GAEtC,IAAK,IAAI3F,EAAM,EAAGA,EAAM0S,EAAQvU,OAAQ6B,IAAO,CAC3C,IAAIooJ,EAAc11I,EAAQ1S,GAAKqoJ,GAC/B,IAAIC,EAAY51I,EAAQ1S,GAAK2pD,QAC7B,IAAI9mD,EAAQulJ,EAAY19I,KAAKw9I,GAE7B,GAAIrlJ,EAAO,CACP,IAAI0lJ,EAAWD,EAAUzlJ,GACzBolJ,EAAOjB,EAAIuB,EAAS,GACpBN,EAAOj8I,EAAIu8I,EAAS,GACpBN,EAAO7oI,EAAImpI,EAAS,SAGzB,CACHlqJ,KAAK2oJ,EAAI/oJ,UAAU,GACnBI,KAAK2N,EAAI/N,UAAU,GACnBI,KAAK+gB,EAAInhB,UAAU,GAGvBI,KAAK2oJ,EAAI3oJ,KAAKmqJ,cAAcnqJ,KAAK2oJ,GACjC3oJ,KAAK2N,EAAI3N,KAAKmqJ,cAAcnqJ,KAAK2N,GACjC3N,KAAK+gB,EAAI/gB,KAAKmqJ,cAAcnqJ,KAAK+gB,IAGrCinI,MAAO,WACH,IAAIvkJ,EAAMzD,KAAKoqJ,SACf,IAAIzB,EAAI3oJ,KAAK2oJ,EAAEjjJ,SAAS,IACxB,IAAIiI,EAAI3N,KAAK2N,EAAEjI,SAAS,IACxB,IAAIqb,EAAI/gB,KAAK+gB,EAAErb,SAAS,IAExB,MAAO,IAAMjC,EAAIklJ,GAAKllJ,EAAIkK,GAAKlK,EAAIsd,IAGvC+oI,aAAc,SAASxiJ,GACnB,IAAI+3F,EAAQ/3F,GAAS,QAErB,GAAI+3F,EAAMt8F,OAAO,KAAO,IACpBs8F,EAAQA,EAAMltF,OAAO,EAAG,GAG5BktF,EAAQA,EAAMl/F,QAAQ,KAAM,IAC5Bk/F,EAAQA,EAAM/yF,cACd+yF,EAAQsqD,EAAMrL,YAAYj/C,IAAUA,EAEpC,OAAOA,GAGX8qD,cAAe,SAAS7iJ,GACpB,GAAIA,EAAQ,GAAKwM,MAAMxM,GACnB,OAAO,EAGX,OAAOA,EAAQ,IAAM,IAAMA,GAG/B8iJ,SAAU,SAAS9iJ,GACf,OAAQA,EAAMxH,SAAW,EAAK,IAAMwH,EAAQA,GAGhD+iJ,WAAY,SAAS/iJ,GACjB,IAAIqF,EAAQ7O,KAAK6O,MAEjB3M,KAAK2oJ,EAAIh8I,EAAM3M,KAAKmqJ,cAAcnqJ,KAAK2oJ,EAAIrhJ,IAC3CtH,KAAK2N,EAAIhB,EAAM3M,KAAKmqJ,cAAcnqJ,KAAK2N,EAAIrG,IAC3CtH,KAAK+gB,EAAIpU,EAAM3M,KAAKmqJ,cAAcnqJ,KAAK+gB,EAAIzZ,IAE3C,OAAOtH,MAGXsqJ,eAAgB,WACZ,OAAOxsJ,KAAKuzC,KAAK,KAAQrxC,KAAK2oJ,EAAI3oJ,KAAK2oJ,EAAI,KAAQ3oJ,KAAK2N,EAAI3N,KAAK2N,EAAI,KAAQ3N,KAAK+gB,EAAI/gB,KAAK+gB,IAG/FwpI,OAAQ,WACJ,OAAOvqJ,KAAKsqJ,iBAAmBZ,KAIvCC,EAAMa,UAAY,SAAS7B,EAAGh7I,EAAGoT,EAAGna,GAChC,OAAO,IAAIgiJ,EAAMD,EAAGh7I,EAAGoT,EAAGna,GAAK,KAAOA,EAAI,IAG9C+iJ,EAAMc,QAAU,SAAS9B,EAAGh7I,EAAGoT,EAAGna,GAC9B,OAAO,IAAIiiJ,EAAIF,EAAGh7I,EAAGoT,EAAGna,GAAK,KAAOA,EAAI,IAG5C+iJ,EAAMe,QAAU,SAAS3B,EAAGh7I,EAAG5G,EAAGP,GAC9B,OAAO,IAAIoiJ,EAAID,EAAGh7I,EAAG5G,EAAGP,GAAK,KAAOA,EAAI,IAG5C+iJ,EAAMgB,QAAU,SAAS5B,EAAGh7I,EAAGm7I,EAAGtiJ,GAC9B,OAAO,IAAIuiJ,EAAIJ,EAAGh7I,EAAGm7I,EAAGtiJ,GAAK,KAAOA,EAAI,IAG5C+iJ,EAAMt1I,QAAU,CAAE,CACd21I,GAAI,+CACJ1+F,QAAS,SAAS9mD,GACd,MAAO,CACH6K,SAAS7K,EAAM,GAAI,IAAK6K,SAAS7K,EAAM,GAAI,IAAK6K,SAAS7K,EAAM,GAAI,OAG5E,CACCwlJ,GAAI,0BACJ1+F,QAAS,SAAS9mD,GACd,MAAO,CACH6K,SAAS7K,EAAM,GAAI,IAAK6K,SAAS7K,EAAM,GAAI,IAAK6K,SAAS7K,EAAM,GAAI,OAG5E,CACCwlJ,GAAI,0BACJ1+F,QAAS,SAAS9mD,GACd,MAAO,CACH6K,SAAS7K,EAAM,GAAKA,EAAM,GAAI,IAC9B6K,SAAS7K,EAAM,GAAKA,EAAM,GAAI,IAC9B6K,SAAS7K,EAAM,GAAKA,EAAM,GAAI,QAK1CmlJ,EAAMrL,YAAcA,EAEpBhhJ,MAAM0D,WAAW1D,MAAO,CACpBgrJ,WAAYA,EACZhK,YAAaA,EACbqL,MAAOA,MA7jBX,CAgkBoB,mBAAVrtJ,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OACrF,SAAavtC,QACTA,OAAO,eAAe,CAAE,qBACzB,WAEH,IAAIC,EAAW,CACXC,GAAI,SACJC,KAAM,SACNC,SAAU,MACVC,YAAa,oFACbotC,QAAS,CAAE,gBAGL7sC,EAutDPE,OAAOE,MAAMH,OAvtDHE,OAAb,EACQC,EAAQF,OAAOE,MACfwpB,EAASxpB,EAAM2pB,GAAGH,OAClB4lE,EAAYpvF,EAAM2pB,GAAGylE,UACrB38E,EAAazS,EAAMsS,YACnBK,EAAc3S,EAAM0S,aACpBxS,EAASN,EAAEM,OACXqH,EAASvH,EAAMuH,OACf63C,EAAQp/C,EAAMuW,WACdnW,EAAUC,MAAMD,QAChBG,EAAOC,KACPG,EAAUX,EAAMW,QAChBkkB,EAAWlkB,EAAQkkB,SACnBC,EAAankB,EAAQmkB,WACrB6nB,EAAS,SACTssF,EAAQ,QACRz3C,EAAK,UACL8rE,EAAa,aAAe9rE,EAAK,aAAeA,EAChD+rE,EAAmB1oI,EAAW,cAAgB28D,EAAM18D,EAAa,gBAAkB08D,EAAK8rE,EACxFE,EAAW,WAAahsE,EAAK,WAAaA,EAC1CisE,EAAiB5oI,EAAW,YAAeC,EAAa,cAAgB08D,EAAKgsE,EAC7EE,EAAiB,gBACjBC,EAAW,UAAYnsE,EACvB6hB,EAAQ,QAAU7hB,EAClBosE,EAAa,YAAcpsE,EAC3By4B,EAAQ,QAAUz4B,EAClBiC,EAAO,OAASjC,EAChBqsE,EAAc,gBACdC,EAAiB,kBACjBC,EAAgB,UAChBh1C,EAAiB,mBACjBi1C,EAAgB,kBAChBh1C,EAAiB,mBACjBvV,EAAW,WACXniG,EAAY,YACZusB,EAAW,WACXmmB,EAAah0C,EAAMg0C,WAEnBi6G,EAAiB,iBACjBC,EAAgB,gBAEhBC,EAAa3kI,EAAOtpB,OAAO,CAC3BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCA,EAAUc,EAAKd,QACfc,EAAKmrJ,cAAgBjsJ,EAAQo1F,aAAe,aAC5Ct0F,EAAKmuG,OAASnuG,EAAKmrJ,eAAiBpuJ,EAAMW,QAAQob,MAAMxJ,GACxDtP,EAAKw0F,UAAYx0F,EAAKmrJ,cAAgB,OAAS,SAC/CnrJ,EAAKorJ,QAAUprJ,EAAKmrJ,cAAgB,QAAU,SAC9CnrJ,EAAKqrJ,WAAarrJ,EAAKmrJ,cAAgB37I,EAAaE,EAEpDxQ,EAAQosJ,QAAQhnJ,OAASpF,EAAQosJ,QAAQ7nI,QAAUvkB,EAAQosJ,QAAQhnJ,QAAU,MAAQ,MAErF,GAAIpF,EAAQqsJ,WAAa,EACrB,MAAM,IAAIlnJ,MAAM,wDAGpBrE,EAAKwrJ,cACLxrJ,EAAKyrJ,UAAYzrJ,EAAKiW,QAAQuZ,KAAKq7H,GAEnC7qJ,EAAK0rJ,cAAgB1rJ,EAAKyrJ,UAAUzrJ,EAAKorJ,WAEzCprJ,EAAK2rJ,mBAEL3rJ,EAAKkiE,SAELliE,EAAK2qB,UAAU3qB,EAAKiW,QAAQuZ,KAAKo7H,IACjC5qJ,EAAKd,EAAQukB,QAAU,SAAW,aAElC,IAAImoI,EAAmB7uJ,EAAMW,QAAQob,MAAM9Y,EAAKiW,UAAY,EAAI,EAEhEjW,EAAK6rJ,QAAU,CACXC,GAAIh9E,GAAM,EAAI88E,EAAmB1sJ,EAAQqsJ,WACzCQ,GAAIj9E,GAAM5vE,EAAQqsJ,WAClBS,GAAIl9E,GAAM,EAAI88E,EAAmB1sJ,EAAQqsJ,WACzCU,GAAIn9E,GAAM5vE,EAAQqsJ,WAClBW,GAAI/4B,EAASj0H,EAAQyN,KACrBw/I,GAAIh5B,EAASj0H,EAAQsP,KACrB49I,GAAIt9E,GAAM5vE,EAAQmtJ,WAClBC,GAAIx9E,GAAM5vE,EAAQmtJ,YAGtBtvJ,EAAMoxB,OAAOnuB,IAGjByB,OAAQ,CACJioC,EACAssF,GAGJ92H,QAAS,CACLukB,QAAS,KACTjV,IAAK,EACL7B,IAAK,GACL4+I,UAAW,EACXc,UAAW,EACX/3D,YAAa,aACbi4D,cAAe,OACfjB,QAAS,CAAE7nI,QAAS,KAAMnf,OAAQ,QAGtCkoJ,UAAW,WACP,OAAOpgJ,EAAM3M,KAAKP,QAAQyN,IAAMlN,KAAKP,QAAQsP,MAGjD+c,QAAS,WACL9rB,KAAKwW,QAAQuZ,KAAK,mBAAmBgB,SAErC/wB,KAAKisJ,cAAgBjsJ,KAAKgsJ,UAAUhsJ,KAAK2rJ,WACzC3rJ,KAAKksJ,mBACLlsJ,KAAKgtJ,WAEL,GAAIhtJ,KAAKP,QAAQukB,QACbhkB,KAAKokB,OAAO,OAIpB8nI,iBAAkB,WACd,IAAI3rJ,EAAOP,KACPP,EAAUc,EAAKd,QAGnB,IAAIwtJ,GAAoB1sJ,EAAK0rJ,cAAgB,KAAMxsJ,EAAQyN,IAAMzN,EAAQsP,KAAOtP,EAAQqsJ,WAExF,IAAIoB,EAAc3sJ,EAAK4sJ,qBAAqBtvJ,EAAK8G,MAAMyoJ,EAAe7sJ,EAAKwsJ,aAAeK,EAAe3tJ,EAAQqsJ,aAEjH,GAAIrsJ,EAAQqtJ,eAAiB,QAAUG,GAAoB,EAAG,CAC1D/vJ,EAAE8C,KAAK6P,SAAS0F,SAASwa,KAAK,mBAAmBgB,SACjDxwB,EAAKyrJ,UAAUz0D,OAAO81D,EAAkB5tJ,EAASc,EAAKwsJ,cACtDxsJ,EAAK+sJ,iBAGT/sJ,EAAKgtJ,gBAAgBL,GAErB,GAAIztJ,EAAQqtJ,eAAiB,QAAUG,GAAoB,GACvDxtJ,EAAQmtJ,WAAantJ,EAAQqsJ,UAAW,CACxCvrJ,EAAKitJ,qBACLjtJ,EAAKiW,QAAQuZ,KAAKs7H,GAAelpJ,QAAQ+T,SAAS,WAClD3V,EAAKiW,QAAQuZ,KAAKs7H,GAAepxH,OAAO/jB,SAAS,YAIzDyV,QAAS,WACL,OAAOruB,EAAMyuB,WAAW/rB,KAAKwW,UAGjC82I,eAAgB,WACZ,IAAI/sJ,EAAOP,KACPP,EAAUc,EAAKd,QACf4uB,EAAQ9tB,EAAKiW,QAAQuZ,KAAKs7H,GAC1BoC,EAAchuJ,EAAQsP,IACtBmE,EAAQmb,EAAMvuB,OAElB,IAAK,IAAID,EAAI,EAAGA,GAAKqT,EAAOrT,GAAK,EAAG,CAChC3C,EAAEmxB,EAAMxuB,IAAIsW,KAAK,QAAStR,EAAOpF,EAAQosJ,QAAQhnJ,OAAQ8H,EAAM8gJ,KAC/DA,GAAehuJ,EAAQqsJ,YAI/B0B,mBAAoB,WAChB,IAAIjtJ,EAAOP,KACPP,EAAUc,EAAKd,QACf4uB,EAAQ9tB,EAAKiW,QAAQuZ,KAAKs7H,GAC1BxrJ,EAAI,EAAGopC,EAAM3hC,EAEjB,GAAI8lJ,EAAe3tJ,EAAQmtJ,WAAaQ,EAAe3tJ,EAAQqsJ,aAAe,GAAKvrJ,EAAKwsJ,YAActtJ,EAAQmtJ,WAAa,EAAG,CAC1H,IAAKrsJ,EAAKmrJ,gBAAkBnrJ,EAAKmuG,OAC7BrgF,EAAQnxB,EAAEizB,UAAU9B,GAAOxf,UAG/B,IAAKhP,EAAI,EAAGA,EAAIwuB,EAAMvuB,OAAQD,IAAK,CAC/BopC,EAAO/rC,EAAEmxB,EAAMxuB,IACfyH,EAAQ/G,EAAKixH,QAAQ3xH,GACrB,IAAI6tJ,EAAuB/gJ,EAAMygJ,EAAe9lJ,EAAQtH,KAAKP,QAAQsP,MACrE,GAAI2+I,EAAuBN,EAAe3tJ,EAAQqsJ,aAAe,GAAK4B,EAAuBN,EAAe3tJ,EAAQmtJ,aAAe,EAAG,CAClI3jH,EAAK/yB,SAAS,gBACThS,KAAK,yBAA2B+kC,EAAK9yB,KAAK,SAAW,WAE1D,GAAItW,IAAM,GAAKA,IAAMwuB,EAAMvuB,OAAS,EAChCmpC,EAAKp0B,IAAI,cAAeo0B,EAAK1oC,EAAKorJ,WAAa,UAOnEwB,qBAAsB,SAASQ,GAC3B,IAAIptJ,EAAOP,KACPP,EAAUc,EAAKd,QACfmuJ,EAAe/5I,WAAWtT,EAAKyrJ,UAAUn3I,IAAItU,EAAKorJ,UAAY,EAC9Dv6G,EAAW7wC,EAAKwsJ,YAChBc,EAAoBT,EAAeh8G,GAAYg8G,EAAe3tJ,EAAQqsJ,WACtEgC,EAAYF,EAAeR,EAAeh8G,GAC1C28G,EACAb,EACArtJ,EAEJ,GAAIguJ,EAAoBF,EAAa,EACjCC,GAAkBR,EAAeh8G,GAAYg8G,EAAe3tJ,EAAQqsJ,WAAcgC,EAGtFC,EAAYH,EAAeD,EAC3BT,EAAc,GAEd,IAAKrtJ,EAAI,EAAGA,EAAI8tJ,EAAa,EAAG9tJ,IAC5BqtJ,EAAYrtJ,GAAKkuJ,EAGrBb,EAAYS,EAAa,GAAKT,EAAYS,GAAcI,EAAY,EACpE,OAAOxtJ,EAAKytJ,aAAad,IAG7Bc,aAAc,SAASC,GACnB,IAAIC,EAAU,EACVh7I,EAAQ+6I,EAAiBnuJ,OACzBD,EAEJ,IAAKA,EAAI,EAAGA,EAAIqT,EAAOrT,IAAK,CACxBquJ,GAAYD,EAAiBpuJ,GAAKhC,EAAK8G,MAAMspJ,EAAiBpuJ,IAC9DouJ,EAAiBpuJ,GAAKhC,EAAK8G,MAAMspJ,EAAiBpuJ,IAGtDquJ,EAAUrwJ,EAAK8O,MAAMuhJ,GAErB,OAAOluJ,KAAKmuJ,mBAAmBD,EAASD,IAG5CE,mBAAoB,SAASC,EAAgBH,GACzC,GAAIG,IAAmB,EACnB,OAAOH,EAIX,IAAI5+E,EAAOx7D,WAAWo6I,EAAiBnuJ,OAAS,GAAK+T,WAAWu6I,GAAkB,EAAIA,EAAiBA,EAAiB,GACpHvuJ,EAEJ,IAAKA,EAAI,EAAGA,EAAIuuJ,EAAgBvuJ,IAC5BouJ,EAAiB5+I,SAASxR,EAAK8O,MAAM0iE,EAAOxvE,GAAI,MAAQ,EAG5D,OAAOouJ,GAGXV,gBAAiB,SAASL,GACtB,IAAI3sJ,EAAOP,KACPP,EAAUc,EAAKd,QACf4rD,EAAM5rD,EAAQsP,IACdywB,EAAY,EACZ4R,EAAW7wC,EAAKwsJ,YAChBY,EAAa9vJ,EAAK0+D,KAAK6wF,EAAeh8G,GAAYg8G,EAAe3tJ,EAAQqsJ,YACzEjsJ,EAAI,EACJg6D,EAEJ8zF,GAAeP,EAAeh8G,GAAYg8G,EAAe3tJ,EAAQqsJ,WAAc,IAAM,EAAI,EAAI,EAC7FoB,EAAYzqJ,OAAO,EAAG,EAAGyqJ,EAAYS,EAAa,GAAK,GACvDT,EAAYzqJ,OAAOkrJ,EAAa,EAAG,EAAGT,EAAY72H,MAAQ,GAE1D91B,EAAK8tJ,YAAc,CAAC7uH,GACpBj/B,EAAKixH,QAAU,CAACnmE,GAEhB,GAAIsiG,IAAe,EACf,OAGJ,MAAO9tJ,EAAI8tJ,EAAY,CACnBnuH,IAAc0tH,EAAYrtJ,EAAI,GAAKqtJ,EAAYrtJ,IAAM,EACrDU,EAAK8tJ,YAAYxuJ,GAAK2/B,EACtB6rB,GAAO5rD,EAAQqsJ,UACfvrJ,EAAKixH,QAAQ3xH,GAAK8M,EAAM0+C,GAExBxrD,IAGJg6D,EAAYuzF,EAAeh8G,GAAYg8G,EAAe3tJ,EAAQqsJ,aAAgB,EAAI6B,EAAa,EAAIA,EAEnGptJ,EAAK8tJ,YAAYx0F,GAAYt5D,EAAK0rJ,cAClC1rJ,EAAKixH,QAAQ33D,GAAYp6D,EAAQyN,IAEjC,GAAI3M,EAAKmuG,OAAQ,CACbnuG,EAAK8tJ,YAAYx/I,UACjBtO,EAAKixH,QAAQ3iH,YAIrBy/I,sBAAuB,SAASC,EAAeC,GAC3C,IAAIjuJ,EAAOP,KACPP,EAAUc,EAAKd,QACf4vE,EAAOxxE,EAAKqP,IAAIzN,EAAQqsJ,WAAavrJ,EAAK0rJ,cAAgB1rJ,EAAKwsJ,aAAc,GAC7Ep2I,EAAW,EACX83I,EAAYp/E,EAAO,EACnBxvE,EAEJ,GAAIU,EAAKmrJ,cAAe,CACpB/0I,EAAW43I,EAAgBC,EAAcE,WACzC,GAAInuJ,EAAKmuG,OACL/3F,EAAWpW,EAAK0rJ,cAAgBt1I,OAGpCA,EAAW63I,EAAcE,WAAaH,EAG1C,GAAIhuJ,EAAK0rJ,eAAkB58I,SAAS9O,EAAK0rJ,cAAgB58E,EAAM,IAAM,GAAK,EAAK14D,EAC3E,OAAOlX,EAAQyN,IAGnB,IAAKrN,EAAI,EAAGA,EAAIU,EAAK8tJ,YAAYvuJ,OAAQD,IACrC,GAAIhC,EAAKyM,IAAI/J,EAAK8tJ,YAAYxuJ,GAAK8W,GAAY,GAAK83I,EAChD,OAAO9hJ,EAAMpM,EAAKixH,QAAQ3xH,KAKtC8uJ,mBAAoB,SAAStjG,EAAK6pC,GAC9B,IAAI30F,EAAOP,KACPkE,EAAO,GACP2nJ,EAAUtrJ,EAAKd,QAAQosJ,QACvB+C,EACAxvH,EACAG,EAEJ,GAAI7hC,EAAQ2tD,GAAM,CACdjsB,EAAiBisB,EAAI,GACrB9rB,EAAe8rB,EAAI,QAChB,GAAI6pC,GAAQA,EAAK3tF,KAAM,CAC1B63B,EAAiB81D,EAAK91D,eACtBG,EAAe21D,EAAK31D,aAGxB,GAAI21D,EACA05D,EAAkB15D,EAAK05D,gBAG3B,IAAKA,GAAmB/C,EAAQ7nJ,SAC5B4qJ,EAAkBtxJ,EAAM0G,SAAS6nJ,EAAQ7nJ,UAG7C,GAAItG,EAAQ2tD,IAAS6pC,GAAQA,EAAK3tF,KAE9B,GAAIqnJ,EACA1qJ,EAAO0qJ,EAAgB,CACnBxvH,eAAgBA,EAChBG,aAAcA,QAEf,CACHH,EAAiBv6B,EAAOgnJ,EAAQhnJ,OAAQu6B,GACxCG,EAAe16B,EAAOgnJ,EAAQhnJ,OAAQ06B,GACtCr7B,EAAOk7B,EAAiB,MAAQG,MAEjC,CACH,GAAI21D,EACAA,EAAK7pC,IAAMA,EAGf,GAAIujG,EACA1qJ,EAAO0qJ,EAAgB,CACnBtnJ,MAAO+jD,SAGXnnD,EAAOW,EAAOgnJ,EAAQhnJ,OAAQwmD,GAGtC,OAAOnnD,GAGX2qJ,kBAAmB,WACf,IAAItuJ,EAAOP,KACPiU,EAAS3W,EAAM2kB,UAAU1hB,EAAKyrJ,WAElC,MAAO,CACH0C,WAAYnuJ,EAAKmrJ,cAAgBz3I,EAAOgB,KAAOhB,EAAO8L,IAAMxf,EAAK0rJ,cACjE6C,SAAUvuJ,EAAKmrJ,cAAgBz3I,EAAOgB,KAAO1U,EAAK0rJ,cAAgBh4I,EAAO8L,MAIjFgsI,YAAa,WACT,IAAIxrJ,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QACf2kF,EAASv0E,EAAQkgB,KAAK,SAE1B,GAAIq0D,EAAOtkF,QAAU,EAAG,CACpBskF,EAAOtyD,GAAG,GAAGtF,KAAK,QAASuiI,EAAYtvJ,EAAQ2/B,iBAC/CglD,EAAOtyD,GAAG,GAAGtF,KAAK,QAASuiI,EAAYtvJ,EAAQ8/B,oBAE/C1vB,EAAQ2c,KAAK,QAASuiI,EAAYtvJ,EAAQ6H,QAG9C/G,EAAKiW,QAAU3G,EAAQuF,KAAK45I,EAAcvvJ,EAASoQ,EAAStP,EAAKmrJ,gBAAgBnoI,OAAO+O,QAAQ,aAEhG,GAAI7yB,EAAQwvJ,YACR1uJ,EAAKiW,QAAQuZ,KAAK,wBACVktD,MAAMiyE,EAAazvJ,EAAS,WAAYc,EAAKmrJ,cAAenrJ,EAAKmuG,SACjEnX,OAAO23D,EAAazvJ,EAAS,WAAYc,EAAKmrJ,cAAenrJ,EAAKmuG,SAG9E7+F,EAAQ0nF,OAAO43D,EAAY1vJ,EAASoQ,EAAStP,EAAKmrJ,iBAGtDpqD,OAAQ,SAASh/F,GACb,IAAI/B,EAAOP,KACPL,EAAS2C,EAAE3C,OACX0rD,EAAM9qD,EAAK+G,QACX4tF,EAAO30F,EAAKqsF,MAEhB,IAAKsI,EAAM,CACP,GAAIv1F,GAAUY,EAAKiW,QAAQuZ,KAAKo7H,GAAar5H,GAAG,GAAG,GAAI,CACnDojE,EAAO30F,EAAK6uJ,iBACZ7uJ,EAAK8uJ,cAAgB,MAClB,CACHn6D,EAAO30F,EAAK+uJ,gBACZ/uJ,EAAK8uJ,cAAgB,EAEzBhkG,EAAMA,EAAI9qD,EAAK8uJ,eAGnBnyJ,EAAEyC,GAAQuW,SAASo1I,EAAgB,IAAMj1C,GAEzC,GAAInhB,EAAM,CACN30F,EAAKgvJ,kBAAoBr6D,EAEzBA,EAAK91D,eAAiB7+B,EAAKd,QAAQ2/B,eACnC81D,EAAK31D,aAAeh/B,EAAKd,QAAQ8/B,aAEjC21D,EAAKs6D,eAAenkG,KAI5BokG,gBAAiB,SAAS9vJ,GACtBA,EAASzC,EAAEyC,GAEX,IAAIY,EAAOP,KACP2B,EAAMhC,EAAOsW,GAAGk1I,GAAexrJ,EAAOwP,QAAU,EAEpD/R,OAAO+1B,WAAW,WACd5yB,EAAKiW,QAAQuZ,KAAKo7H,GAAaxpJ,GAAO,EAAI,EAAI,GAAG09B,SAClD,GAEH9+B,EAAKmvJ,sBAGTnuD,MAAO,SAASj/F,GACZ,IAAI/B,EAAOP,KACPk1F,EAAO30F,EAAKgvJ,kBAEhBryJ,EAAEoF,EAAE3C,QAAQ8V,YAAY61I,EAAgB,IAAMj1C,GAE9C,GAAInhB,EAAM,CACNA,EAAKy6D,wBACEpvJ,EAAKgvJ,yBACLhvJ,EAAK8uJ,gBAIpBK,mBAAoB,WAChB,IAAInvJ,EAAOP,KACXO,EAAKqvJ,gBAAkBxyJ,OAAO+1B,WAAW,WACrC,IAAI+hE,EAAO30F,EAAKqsF,OAASrsF,EAAKgvJ,kBAC9B,GAAIr6D,EACAA,EAAKy6D,kBAEV,MAGPE,qBAAsB,WAClB,IAAItvJ,EAAOP,KACX5C,OAAOo3B,aAAax0B,KAAK4vJ,iBACzB,IAAI16D,EAAO30F,EAAKqsF,OAASrsF,EAAKgvJ,kBAC9B,GAAIr6D,GAAQA,EAAK46D,WACb56D,EAAK46D,WAAWrrI,KAAK,KAAM,OAAO5P,IAAI,UAAW,IAIzD4tD,OAAQ,WACJ,IAAIliE,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfsgH,EAAStgH,EAAQsG,KAAK,QACtB8qB,EAAOkvF,EAASjzH,EAAE,IAAMizH,GAAUtgH,EAAQ0K,QAAQ,QAEtD,GAAI0mB,EAAK,GACL1gC,EAAK8oH,MAAQpoF,EAAK7a,GAAG,QAAS7lB,EAAKwvJ,kBAAkBxuJ,KAAKhB,KAIlEwO,IAAK,SAASzH,GACV,IAAKA,EACD,OAAOtH,KAAKP,QAAQsP,IAExB/O,KAAKsrB,WAAW,CAAEvc,IAAOzH,KAG7B4F,IAAK,SAAS5F,GACV,IAAKA,EACD,OAAOtH,KAAKP,QAAQyN,IAExBlN,KAAKsrB,WAAW,CAAEpe,IAAO5F,KAG7BgkB,WAAY,SAAS7rB,GACjBqnB,EAAOnmB,GAAG2qB,WAAW9oB,KAAKxC,KAAMP,GAChCO,KAAKksJ,mBACLlsJ,KAAKgtJ,YAGT/gI,QAAS,WACL,GAAIjsB,KAAKqpH,MACLrpH,KAAKqpH,MAAMh2F,IAAI,QAASrzB,KAAK+vJ,mBAEjCjpI,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,SAI/B,SAASgvJ,EAAcvvJ,EAASoQ,EAASmgJ,GACrC,IAAIC,EAAsBD,EAAe,uBAAyB,qBAC9Dp6I,EAAQnW,EAAQmW,MAAQnW,EAAQmW,MAAQ/F,EAAQsG,KAAK,SACrD+5I,EAAargJ,EAAQsG,KAAK,SAAY,IAAMtG,EAAQsG,KAAK,SAAY,GACrEg6I,EAAwB,GAE5B,GAAI1wJ,EAAQqtJ,eAAiB,cACzBqD,EAAwB,6BACrB,GAAI1wJ,EAAQqtJ,eAAiB,UAChCqD,EAAwB,oBAG5Bv6I,EAAQA,EAAQ,WAAaA,EAAQ,IAAM,GAE3C,MAAO,gCAAkCq6I,EAAsBC,EAAa,IAAMt6I,EAAQ,IACnF,kCAAoCu6I,EACpC,iBAGX,SAASjB,EAAazvJ,EAAS8H,EAAMyoJ,GACjC,IAAII,EAAiB,GAErB,GAAIJ,EACA,GAAIzoJ,IAAS,WACT6oJ,EAAiB,mBAEjBA,EAAiB,mBAGrB,GAAI7oJ,GAAQ,WACR6oJ,EAAiB,mBAEjBA,EAAiB,cAIzB,MAAO,yHAA2H7oJ,EAAO,KACjI,UAAY9H,EAAQ8H,EAAO,eAAiB,KAC5C,eAAiB9H,EAAQ8H,EAAO,eAAiB,KACjD,qCAAuC6oJ,EAAiB,gBAGpE,SAAS/C,EAAkB5tJ,EAAS2xC,GAChC,IAAI7nC,EAAS,0DACT2J,EAAQrV,EAAK8G,MAAMgI,EAAMykC,EAAW3xC,EAAQqsJ,YAAc,EAC1DjsJ,EAEJ,IAAKA,EAAI,EAAGA,EAAIqT,EAAOrT,IACnB0J,GAAU,2BAGdA,GAAU,QAEV,OAAOA,EAGX,SAAS4lJ,EAAY1vJ,EAASoQ,EAASmgJ,GACnC,IAAIK,EAAkBxgJ,EAAQoG,GAAG,SAAW,EAAI,EAC5Cq6I,EAAuBD,GAAmB,EAAI5wJ,EAAQ8wJ,oBAAsB9wJ,EAAQ+wJ,gBACpFlpJ,EAAQ7H,EAAQ6H,MAChByH,EAAMtP,EAAQ2/B,eACdlyB,EAAMzN,EAAQ8/B,aACdkxH,EAAcC,EAAiBC,EAEnC,GAAIN,IAAoB,EAAG,CACvBI,EAAe5gJ,EAAQw7C,MAEvB,GAAIolG,IAAiB,MAAQA,IAAiBpzJ,GAAaozJ,IAAiB,OACxE,GAAInpJ,IAAU,MAAQA,IAAUjK,EAC5BiK,EAAQmpJ,MAGb,CACHC,EAAkB7gJ,EAAQkgB,KAAK,SAAS+B,GAAG,GAAGu5B,MAC9CslG,EAAkB9gJ,EAAQkgB,KAAK,SAAS+B,GAAG,GAAGu5B,MAE9C,GAAIqlG,IAAoB,MAAQA,IAAoBrzJ,GAAaqzJ,IAAoB,OACjF,GAAI3hJ,IAAQ,MAAQA,IAAQ1R,EACxB0R,EAAM2hJ,EAId,GAAIC,IAAoB,MAAQA,IAAoBtzJ,GAAaszJ,IAAoB,OACjF,GAAIzjJ,IAAQ,MAAQA,IAAQ7P,EACxB6P,EAAMyjJ,EAKlB,IAAIpnJ,EAAS,mFACN,kDAAoD+mJ,EAAuB,oBAC1EN,IAAiB,MAAQ,+BAAiC,IAC3D,kBAAoBvwJ,EAAQsP,IAAM,oBAAsBtP,EAAQyN,IAAM,qBAAuBmjJ,EAAkB,EAAKthJ,GAAOtP,EAAQsP,IAAOzH,GAAS7H,EAAQsP,KAAO,aACjKshJ,EAAkB,EAAI,kDAAoD5wJ,EAAQmxJ,qBAAuB,mBACzGZ,IAAiB,MAAQ,+BAAiC,IAC3D,kBAAoBvwJ,EAAQsP,IAAM,oBAAsBtP,EAAQyN,IAAM,qBAAuBA,GAAOzN,EAAQyN,KAAO,YAAc,IACjI,SAEP,OAAO3D,EAGX,SAAS8lE,EAAKwhF,GACV,OAAO,SAASvpJ,GACZ,OAAOA,EAAQupJ,GAIvB,SAASn9B,EAASpsH,GACd,OAAO,WACH,OAAOA,GAIf,SAASynJ,EAAYznJ,GACjB,OAAQA,EAAQ,IAAInH,QAAQ,IAAK7C,EAAMC,SAASsL,QAAQF,aAAa,MAGzE,SAASmoJ,EAAmBxpJ,GACxB,IAAI5D,EAAS4D,EAAM5B,WACnB,IAAI+E,EAAY,EAEhB/G,EAASA,EAAOb,MAAM,KAEtB,GAAIa,EAAO,GACP+G,EAAY/G,EAAO,GAAG5D,OAG1B2K,EAAYA,EAAY,GAAK,GAAKA,EAClC,OAAOA,EAGX,SAASkC,EAAMrF,GACX,IAAImD,EAAWsmJ,EAEfzpJ,EAAQuM,WAAWvM,EAAO,IAC1BmD,EAAYqmJ,EAAmBxpJ,GAC/BypJ,EAAQlzJ,EAAKomC,IAAI,GAAIx5B,GAAa,GAElC,OAAO5M,EAAK8O,MAAMrF,EAAQypJ,GAASA,EAGvC,SAASC,EAAUnhJ,EAASpT,GACxB,IAAI6K,EAAQo1C,EAAM7sC,EAAQmf,aAAavyB,IACvC,GAAI6K,IAAU,KACVA,EAAQjK,EAEZ,OAAOiK,EAGX,SAAS2pJ,EAAQ3pJ,GACb,cAAcA,IAAU1I,EAG5B,SAASwuJ,EAAe9lJ,GACpB,OAAOA,EAAQ,IAGnB,IAAI4pJ,GAASzF,EAAWjuJ,OAAO,CAC3BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACPmxJ,EAEJthJ,EAAQtI,KAAO,OACf9H,EAAUjC,EAAO,GAAI,CACjB8J,MAAO0pJ,EAAUnhJ,EAAS,SAC1Bd,IAAKiiJ,EAAUnhJ,EAAS,OACxB3C,IAAK8jJ,EAAUnhJ,EAAS,OACxBi8I,UAAWkF,EAAUnhJ,EAAS,SAC/BpQ,GAEHoQ,EAAU3S,EAAE2S,GAEZ,GAAIpQ,GAAWA,EAAQukB,UAAY3mB,EAC/BoC,EAAQukB,SAAWnU,EAAQoG,GAAG,cAGlCw1I,EAAW9qJ,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GACvCA,EAAUc,EAAKd,QACf,IAAKwxJ,EAAQxxJ,EAAQ6H,QAAU7H,EAAQ6H,QAAU,KAAM,CACnD7H,EAAQ6H,MAAQ7H,EAAQsP,IACxBc,EAAQ2c,KAAK,QAASuiI,EAAYtvJ,EAAQsP,MAE9CtP,EAAQ6H,MAAQzJ,EAAKqP,IAAIrP,EAAKkR,IAAItP,EAAQ6H,MAAO7H,EAAQyN,KAAMzN,EAAQsP,KAEvEoiJ,EAAa5wJ,EAAKiW,QAAQuZ,KAAKo7H,GAE/B5qJ,EAAK6wJ,WAAa,IAAIF,GAAOG,UAAUF,EAAY5wJ,EAAMd,GACzDc,EAAKqsF,MAAQ,IAAIskE,GAAOI,KAAKH,EAAY,GAAI5wJ,EAAMd,GAEnDc,EAAKgxJ,iBAAiB9xJ,EAAQ6H,QAGlC7H,QAAS,CACLhD,KAAM,SACNwyJ,YAAa,KACbuC,oBAAqB,WACrBC,oBAAqB,WACrBjB,gBAAiB,OACjB3E,QAAS,CAAEhnJ,OAAQ,cACnByC,MAAO,MAGX8c,OAAQ,SAASA,GACb,IAAI7jB,EAAOP,KACPP,EAAUc,EAAKd,QACfu6G,EACAplF,EAEJr0B,EAAK2jB,UACL,GAAIE,IAAW,MACX,OAGJ7jB,EAAKiW,QACAf,YAAY6gG,GAEjB/1G,EAAKiW,QAAQuZ,KAAK,SAASvD,KAAKu0E,EAAU,OAE1CiZ,EAAe,SAAS13G,GACpB,IAAIoY,EAAQ42B,EAAWhvC,GAAG,GAE1B,IAAKoY,EACD,OAGJ,IAAI6zI,EAAgBhuJ,EAAKmrJ,cAAgBhxI,EAAM2D,SAAS03B,MAAQr7B,EAAM2D,SAAS23B,MAC3Ew4G,EAAgBjuJ,EAAKsuJ,oBACrBlvJ,EAASzC,EAAEoF,EAAE3C,QAEjB,GAAIA,EAAO+V,SAAS,gBAAiB,CACjC/V,EAAOuW,SAASo1I,EAAgB,IAAMj1C,GACtC,OAGJ91G,EAAK4mI,QAAQ5mI,EAAK+tJ,sBAAsBC,EAAeC,IAEvDjuJ,EAAKkvJ,gBAAgBntJ,EAAE3C,QAEvBY,EAAKqsF,MAAMwI,UAAU9yF,GACrBA,EAAEpB,kBAGNX,EAAKiW,QACAuZ,KAAKs7H,EAAgB,KAAOD,GACxBhlI,GAAGykI,EAAkB7wC,GACrBp2G,MACAwiB,GAAGykI,EAAkB,WAClB3tJ,EAAEsS,SAASE,iBAAiBhO,IAAI,cAAepE,EAAM4D,kBAExDklB,GAAG2kI,EAAgB,WAChBxqJ,EAAKqsF,MAAM/2C,SAGvBt1C,EAAKiW,QACAuZ,KAAKo7H,GACLh1I,KAAKgV,EAAU,GACf/E,GAAG0kI,EAAU,WACVvqJ,EAAKmvJ,uBAERtpI,GAAGu6E,EAAO,SAASr+F,GAChB/B,EAAKkvJ,gBAAgBntJ,EAAE3C,QACvB2C,EAAEpB,mBAELklB,GAAGmxF,EAAOh3G,EAAK+gG,OAAO//F,KAAKhB,IAC3B6lB,GAAG26D,EAAMxgF,EAAKghG,MAAMhgG,KAAKhB,IAE9Bq0B,EAAO,SAAUprB,GACb,IAAIkoJ,EAASnxJ,EAAKoxJ,kBAAkBpxJ,EAAKqxJ,YAAepoJ,EAAO,GAC/DjJ,EAAKsxJ,iBAAiBH,GACtBnxJ,EAAKqsF,MAAM4iE,eAAekC,IAC3BnwJ,KAAKhB,GAER,GAAId,EAAQwvJ,YAAa,CACrB,IAAI6C,EAAmB,SAAUxvJ,EAAGkH,GAChCxJ,KAAK6vJ,uBACL,GAAIvtJ,EAAEozC,QAAU,GAAMz3C,EAAQyc,OAASpY,EAAEozC,QAAU,EAAI,CACnD9gB,EAAKprB,GAELxJ,KAAK6+B,QAAU1L,WAAW,WACtBnzB,KAAK+xJ,MAAQ3lH,YAAY,WACrBxX,EAAKprB,IACN,KACJjI,KAAKvB,MAAO,OAEpBuB,KAAKhB,GAERA,EAAKiW,QAAQuZ,KAAK,aACb3J,GAAG0kI,EAAU,SAAUxoJ,GACpBtC,KAAKgyJ,cACLzxJ,EAAKkvJ,gBAAgBntJ,EAAE3C,SACxB4B,KAAKhB,IACP6lB,GAAG8kI,EAAY,SAAS5oJ,GACrBpF,EAAEoF,EAAEivC,eAAer7B,SAAS,mBAE/BkQ,GAAG,WAAa04D,EAAI,SAAUx8E,GAC3BpF,EAAEoF,EAAEivC,eAAe97B,YAAY,iBAC/BzV,KAAKgyJ,eACNzwJ,KAAKhB,IACP6lB,GAAGwkI,EAAY,SAAUtoJ,GACtB,IAAIkH,EAAOtM,EAAEoF,EAAE3C,QAAQ4a,QAAQ,aAAatE,GAAG,sBAAwB,GAAK,EAC5E67I,EAAiBxvJ,EAAGkH,IACrBjI,KAAKhB,IACP6lB,GAAG,QAAS9oB,EAAM4D,gBAG3BX,EAAKiW,QACAuZ,KAAKo7H,GACL93H,IAAI43H,EAAU,OACd7kI,GAAG6kI,EAAUjrJ,KAAKwhG,SAASjgG,KAAKhB,IAErCd,EAAQukB,QAAU,MAGtBE,QAAS,WACL,IAAI3jB,EAAOP,KAEXO,EAAKiW,QACAN,SAASogG,GAEdp5G,EAAEqD,EAAKsP,SAAS2c,KAAKu0E,EAAUA,GAE/BxgG,EAAKiW,QACAuZ,KAAK,aACLsD,IAAIu3H,GACJxkI,GAAGwkI,EAAY,SAAStoJ,GACrBA,EAAEpB,iBACFhE,EAAE8C,MAAMkW,SAAS,oBAEpBmd,IAAIy3H,GACJ1kI,GAAG0kI,EAAU,SAASxoJ,GACnBA,EAAEpB,iBACFhE,EAAE8C,MAAMyV,YAAY,oBAEvB4d,IAAI,aAAeyrD,GACnB14D,GAAG,aAAe04D,EAAIxhF,EAAM4D,gBAC5BmyB,IAAI63H,GACJ9kI,GAAG8kI,EAAY5tJ,EAAM4D,gBAE1BX,EAAKiW,QACAuZ,KAAKs7H,EAAgB,KAAOD,GAAgB/3H,IAAIw3H,GAAkBx3H,IAAI03H,GAE3ExqJ,EAAKiW,QACAuZ,KAAKo7H,GACLh1I,KAAKgV,GAAW,GAChBkI,IAAIy3H,GACJz3H,IAAI43H,GACJ53H,IAAIstE,GACJttE,IAAIkkF,GACJlkF,IAAI0tD,GAETxgF,EAAKd,QAAQukB,QAAU,OAG3BmjH,QAAS,SAAS97E,GACd,IAAI9qD,EAAOP,KACP0rC,EAASnrC,EAAK+G,SAAW+jD,EAE7B9qD,EAAK+G,MAAM+jD,GAEX,GAAI3f,EACAnrC,EAAK8B,QAAQ4nC,EAAQ,CAAE3iC,MAAO/G,EAAKd,QAAQ6H,SAInDA,MAAO,SAASA,GACZ,IAAI/G,EAAOP,KACPP,EAAUc,EAAKd,QAEnB6H,EAAQqF,EAAMrF,GACd,GAAIwM,MAAMxM,GACN,OAAO7H,EAAQ6H,MAGnB,GAAIA,GAAS7H,EAAQsP,KAAOzH,GAAS7H,EAAQyN,IACzC,GAAIzN,EAAQ6H,OAASA,EAAO,CACxB/G,EAAKsP,QAAQ2c,KAAK,QAASuiI,EAAYznJ,IACvC7H,EAAQ6H,MAAQA,EAChB/G,EAAKgxJ,iBAAiBjqJ,GACtB/G,EAAKysJ,aAKjBA,SAAU,WACNhtJ,KAAKqC,QAAQ2oJ,EAAgB,CAAE1jJ,MAAOtH,KAAKP,QAAQ6H,SAGvDiqJ,iBAAkB,SAASjqJ,GACvB,IAAI/G,EAAOP,KACPk1F,EAAO30F,EAAKqsF,MACZi7C,EAEJ,GAAI3yC,GAAQA,EAAK+8D,YACbpqB,EAAiB3yC,EAAK+8D,YAAY7xH,YAElCynG,EAAiBtnI,EAAKouJ,mBAAmBrnJ,EAAO,MAEpDtH,KAAKwW,QAAQuZ,KAAKo7H,GAAah1I,KAAKq1I,EAAelkJ,GAAO6O,KAAKo1I,EAAgB1jB,IAGnFmqB,YAAa,WACTx9H,aAAax0B,KAAK6+B,SAClBwN,cAAcrsC,KAAK+xJ,QAGvBvwD,SAAU,SAASl/F,GACf,IAAI/B,EAAOP,KAEX,GAAIsC,EAAE8+B,WAAW7gC,EAAK6rJ,QAAS,CAC3B7rJ,EAAKsvJ,uBACLtvJ,EAAKsxJ,iBAAiBtxJ,EAAK6rJ,QAAQ9pJ,EAAE8+B,SAAS7gC,EAAKd,QAAQ6H,QAC3D/G,EAAKqsF,MAAM4iE,eAAejvJ,EAAK+G,SAC/BhF,EAAEpB,mBAIV2wJ,iBAAkB,SAASxmG,GACvB,IAAI9qD,EAAOP,KACPP,EAAUc,EAAKd,QAEnB4rD,EAAM1+C,EAAM0+C,GACZ,GAAIv3C,MAAMu3C,GAAM,CACZ9qD,EAAK4mI,QAAQ1nI,EAAQsP,KACrB,OAGJs8C,EAAMxtD,EAAKqP,IAAIrP,EAAKkR,IAAIs8C,EAAK5rD,EAAQyN,KAAMzN,EAAQsP,KACnDxO,EAAK4mI,QAAQ97E,IAGjBsmG,kBAAmB,SAASxiJ,GACxB,IAAI+D,EAAQlT,KAAKwxH,QAAQ1xH,OACzB,GAAIE,KAAK0uG,OACLv/F,EAAQ+D,EAAQ,EAAI/D,EAExB,OAAOnP,KAAKwxH,QAAQ3zH,EAAKqP,IAAI,EAAGrP,EAAKkR,IAAII,EAAO+D,EAAQ,MAG5D68I,kBAAmB,WACf,IAAIxvJ,EAAOP,KACP+O,EAAMxO,EAAKd,QAAQsP,IAEvBokB,WAAW,WACP,IAAI7rB,EAAQ/G,EAAKsP,QAAQ,GAAGvI,MAC5B/G,EAAK+G,MAAMA,IAAU,IAAMwM,MAAMxM,GAASyH,EAAMzH,MAIxD2kB,QAAS,WACL,IAAI1rB,EAAOP,KAEXyrJ,EAAW9qJ,GAAGsrB,QAAQzpB,KAAKjC,GAE3BA,EAAKiW,QAAQ6c,IAAIyrD,GACZ/uD,KAAK,aAAasD,IAAIyrD,GACtBl7E,MACAmsB,KAAKo7H,GAAa93H,IAAIyrD,GACtBl7E,MACAmsB,KAAKs7H,EAAgB,KAAOD,GAAgB/3H,IAAIyrD,GAChDl7E,MAELrD,EAAKqsF,MAAMX,UAAUhgE,UACrB1rB,EAAKqsF,MAAM+iE,eAAe,SA6W9BuC,IAzWJhB,GAAOG,UAAY,SAASF,EAAY5wJ,EAAMd,GAC1C,SAAS0yJ,EAAc9mG,GACnB,IAAI+mG,EAAiB/mG,EAAM5rD,EAAQsP,IAC/BI,EAAQ5O,EAAKqxJ,YAAc/zJ,EAAK0+D,KAAK5vD,EAAMylJ,EAAiB3yJ,EAAQqsJ,YACpEtsH,EAAYnwB,SAAS9O,EAAK8tJ,YAAYl/I,GAAQ,IAC9CkjJ,EAAe9xJ,EAAKyrJ,UAAUj8H,KAAK,uBACnCuiI,EAAgB/xJ,EAAKmuG,OAAS,EAAI,EAEtC2jD,EAAa9xJ,EAAKorJ,SAASprJ,EAAKmuG,OAASnuG,EAAK0rJ,cAAgBzsH,EAAYA,GAC1E2xH,EAAWt8I,IAAItU,EAAKw0F,UAAWv1D,EAAY8yH,GAG/CH,EAAc1yJ,EAAQ6H,OAEtB/G,EAAKgB,KAAK,CAACg1H,EAAOy0B,GAAiB,SAAS1oJ,GACxC6vJ,EAAct+I,WAAWvR,EAAEgF,MAAO,OAGtC/G,EAAKgB,KAAK0oC,EAAQ,SAAS3nC,GACvB6vJ,EAAct+I,WAAWvR,EAAEC,OAAO+E,QAAS,QAInD4pJ,GAAOI,KAAO,SAASzhJ,EAAStI,EAAMgrJ,EAAO9yJ,GACzC,IAAIc,EAAOP,KACXO,EAAKgyJ,MAAQA,EACbhyJ,EAAKd,QAAUA,EACfc,EAAKsP,QAAUA,EACftP,EAAKgH,KAAOA,EAEZhH,EAAK0rF,UAAY,IAAIS,EAAU78E,EAAS,CACpCuhC,SAAU,EACVgkD,UAAW70F,EAAKy2C,WAAWz1C,KAAKhB,GAChC20F,KAAM30F,EAAK20F,KAAK3zF,KAAKhB,GACrB80F,QAAS90F,EAAK80F,QAAQ9zF,KAAKhB,GAC3B40F,WAAY50F,EAAK40F,WAAW5zF,KAAKhB,KAGrCsP,EAAQ4W,MAAM,OAGd5W,EAAQuW,GAAG,YAAa,SAAS9jB,GAC7BA,EAAEpB,oBAIVgwJ,GAAOI,KAAK1wJ,UAAY,CACpBw0F,UAAW,SAAS9yF,GAEhBtC,KAAKuyJ,MAAMC,kBAAoBxyJ,KAE/BA,KAAKisF,UAAU/5C,WAAWrd,SAC1B70B,KAAKg3C,WAAW10C,GAChBtC,KAAKq1F,WAGTr+C,WAAY,SAAS10C,GACjB,IAAI/B,EAAOP,KACPuyJ,EAAQhyJ,EAAKgyJ,MACb9yJ,EAAUc,EAAKd,QAEnB,IAAKA,EAAQukB,QAAS,CAClB1hB,EAAEpB,iBACF,OAIJlB,KAAKuyJ,MAAMC,kBAAoBxyJ,KAE/BuyJ,EAAM1iJ,QAAQwjB,IAAI63H,GAClBqH,EAAM/7I,QAAQuZ,KAAK,IAAMu7H,GAAe71I,YAAY61I,EAAgB,IAAMj1C,GAC1E91G,EAAKsP,QAAQqG,SAASo1I,EAAgB,IAAMj1C,GAC5Cn5G,EAAEsS,SAASE,iBAAiBmF,IAAI,SAAU,WAE1CtU,EAAKiuJ,cAAgB+D,EAAM1D,oBAC3BtuJ,EAAK8uE,KAAOxxE,EAAKqP,IAAIzN,EAAQqsJ,WAAayG,EAAMtG,cAAgBsG,EAAMxF,aAAc,GAEpF,GAAIxsJ,EAAKgH,KAAM,CACXhH,EAAK6+B,eAAiB3/B,EAAQ2/B,eAC9B7+B,EAAKg/B,aAAe9/B,EAAQ8/B,aAC5BgzH,EAAME,WAAWlyJ,EAAKgH,WAEtBhH,EAAKmyJ,OAASnyJ,EAAK8qD,IAAM5rD,EAAQ6H,MAGrC/G,EAAKovJ,eAAe,MACpBpvJ,EAAKoyJ,kBAGTA,eAAgB,WACZ,IAAIpyJ,EAAOP,KACPuyJ,EAAQhyJ,EAAKgyJ,MACb1G,EAAUtrJ,EAAKd,QAAQosJ,QACvB3nJ,EAAO,GACP0uJ,EAAM11J,EAAEE,QACRwxJ,EAAiBiE,EAErB,IAAKhH,EAAQ7nI,QACT,OAGJ,GAAI6nI,EAAQ7nJ,SACR4qJ,EAAkBruJ,EAAKquJ,gBAAkBtxJ,EAAM0G,SAAS6nJ,EAAQ7nJ,UAGpE9G,EAAE,qBAAqB6zB,SACvBxwB,EAAKuvJ,WAAa5yJ,EAAE,gEAA0DgoC,SAAS11B,SAAS2K,MAEhGjW,EAAOquJ,EAAM5D,mBAAmBpuJ,EAAK8qD,KAAOknG,EAAMjrJ,QAAS/G,GAE3D,IAAKA,EAAKgH,KAAM,CACZsrJ,EAAkB,cAAgBN,EAAM7G,cAAgB,IAAM,KAC9DnrJ,EAAKuyJ,gBAAkB,yBAA2BD,EAAkB,yBACpE3uJ,GAAQ3D,EAAKuyJ,gBAGjBvyJ,EAAKuvJ,WAAW5rJ,KAAKA,GAErB3D,EAAKwyJ,cAAgB,CACjBhzI,IAAK6yI,EAAIjiI,YACT1b,KAAM3X,EAAMwb,WAAW85I,IAG3BryJ,EAAKyyJ,eAGT99D,KAAM,SAAS5yF,GACX,IAAI/B,EAAOP,KACPuyJ,EAAQhyJ,EAAKgyJ,MACbt0H,EAAI37B,EAAE27B,EAAE5f,SACRlQ,EAAI7L,EAAE6L,EAAEkQ,SACRqwI,EAAanuJ,EAAKiuJ,cAAcE,WAChCI,EAAWvuJ,EAAKiuJ,cAAcM,SAC9BmE,EAEJ3wJ,EAAEpB,iBAEF,GAAIqxJ,EAAM7G,cACN,GAAI6G,EAAM7jD,OACNnuG,EAAK8qD,IAAM9qD,EAAK2yJ,eAAej1H,EAAGywH,EAAYI,EAAU7wH,EAAI6wH,QAE5DvuJ,EAAK8qD,IAAM9qD,EAAK2yJ,eAAej1H,EAAGywH,EAAYI,EAAU7wH,GAAK6wH,QAGjEvuJ,EAAK8qD,IAAM9qD,EAAK2yJ,eAAe/kJ,EAAG2gJ,EAAUJ,EAAYvgJ,GAAK2gJ,GAGjE,GAAIvuJ,EAAKmyJ,QAAUnyJ,EAAK8qD,IAAK,CACzB9qD,EAAKmyJ,OAASnyJ,EAAK8qD,IAEnB,GAAI9qD,EAAKgH,KAAM,CACX,GAAIhH,EAAKgH,MAAQ,cACb,GAAIhH,EAAK8qD,IAAM9qD,EAAKg/B,aAChBh/B,EAAK6+B,eAAiB7+B,EAAK8qD,SAE3B9qD,EAAK6+B,eAAiB7+B,EAAKg/B,aAAeh/B,EAAK8qD,SAGnD,GAAI9qD,EAAK8qD,IAAM9qD,EAAK6+B,eAChB7+B,EAAKg/B,aAAeh/B,EAAK8qD,SAEzB9qD,EAAK6+B,eAAiB7+B,EAAKg/B,aAAeh/B,EAAK8qD,IAGvD4nG,EAAc,CACV/jJ,OAAQ,CAAC3O,EAAK6+B,eAAgB7+B,EAAKg/B,cACnCj4B,MAAO,CAAC/G,EAAK6+B,eAAgB7+B,EAAKg/B,oBAGtC0zH,EAAc,CAAE3rJ,MAAO/G,EAAK8qD,KAGhCknG,EAAMlwJ,QAAQk0H,EAAO08B,GAEzB1yJ,EAAKivJ,eAAejvJ,EAAK8qD,MAG7BmkG,eAAgB,SAASnkG,GACrB,IAAI9qD,EAAOP,KACPP,EAAUc,EAAKd,QACfosJ,EAAUpsJ,EAAQosJ,QAClB3nJ,EAAO,GAEX,IAAK2nJ,EAAQ7nI,QACT,OAGJ,IAAKzjB,EAAKuvJ,WACNvvJ,EAAKoyJ,iBAGTzuJ,EAAO3D,EAAKgyJ,MAAM5D,mBAAmBhiJ,EAAM0+C,GAAM9qD,GAEjD,IAAKA,EAAKgH,KACNrD,GAAQ3D,EAAKuyJ,gBAGjBvyJ,EAAKuvJ,WAAW5rJ,KAAKA,GACrB3D,EAAKyyJ,eAGT79D,WAAY,WACRn1F,KAAKuyJ,MAAMvF,WACX9vJ,EAAEsS,SAASE,iBAAiBmF,IAAI,SAAU,IAC1C,OAAO7U,KAAK61C,QAGhBw/C,QAAS,WACL,IAAI90F,EAAOP,KACPuyJ,EAAQhyJ,EAAKgyJ,MAEjBr1J,EAAEsS,SAASE,iBAAiBmF,IAAI,SAAU,IAE1C,GAAItU,EAAKgH,KACLgrJ,EAAMprB,QAAQ5mI,EAAK6+B,eAAgB7+B,EAAKg/B,kBACrC,CACHgzH,EAAMprB,QAAQ5mI,EAAK8qD,KACnB9qD,EAAK0rF,UAAU/5C,WAAWkD,cAG9B70C,EAAK0rF,UAAU/5C,WAAWrd,SAC1B,OAAOt0B,EAAKs1C,QAGhBA,KAAM,WACF,IAAIt1C,EAAOP,KACPuyJ,EAAQhyJ,EAAKgyJ,MAEjBA,EAAM9C,gBAAgBlvJ,EAAKsP,SAE3B0iJ,EAAM1iJ,QAAQuW,GAAG8kI,GAEjB,OAAO,OAGXyE,eAAgB,SAASwD,GACrB,IAAI5yJ,EAAOP,KACPuyJ,EAAQhyJ,EAAKgyJ,MAEjB,GAAIhyJ,EAAKuvJ,YAAcyC,EAAM9yJ,QAAQosJ,QAAQ7nI,SAAWuuI,EAAM9yJ,QAAQukB,QAClE,GAAImvI,EAAa,CACb5yJ,EAAKuvJ,WAAW/+H,SAChBxwB,EAAKuvJ,WAAa,UAElBvvJ,EAAKuvJ,WAAWsD,QAAQ,OAAQ,WAC5Bl2J,EAAE8C,MAAM+wB,SACRxwB,EAAKuvJ,WAAa,QAMlCkD,YAAa,WACT,IAAIzyJ,EAAOP,KACPuyJ,EAAQhyJ,EAAKgyJ,MACbxyI,EAAM,EACN9K,EAAO,EACPpF,EAAUtP,EAAKsP,QACfoE,EAAS3W,EAAM2kB,UAAUpS,GACzBulE,EAAS,EACTu0B,EAAWzsG,EAAEE,QACb41G,EAAUzyG,EAAKuvJ,WAAW//H,KAAK,cAC/Bpa,EAAQ5F,EAAWxP,EAAKuvJ,YACxBj6I,EAAS5F,EAAY1P,EAAKuvJ,YAC1BuD,EAAaC,EAAWj6H,EAAM+xE,EAElC,GAAI7qG,EAAKgH,KAAM,CACX8rJ,EAAcd,EAAM/7I,QAAQuZ,KAAKo7H,GACjCl3I,EAAS3W,EAAM2kB,UAAUoxI,EAAYvhI,GAAG,IACxCwhI,EAAYh2J,EAAM2kB,UAAUoxI,EAAYvhI,GAAG,IAE3C,GAAIygI,EAAM7G,cAAe,CACrB3rI,EAAMuzI,EAAUvzI,IAChB9K,EAAOhB,EAAOgB,MAASq+I,EAAUr+I,KAAOhB,EAAOgB,MAAQ,MACpD,CACH8K,EAAM9L,EAAO8L,KAAQuzI,EAAUvzI,IAAM9L,EAAO8L,KAAO,EACnD9K,EAAOq+I,EAAUr+I,KAGrBm2F,EAAar7F,EAAWsjJ,EAAYvhI,GAAG,IAAM,EAAIsjD,MAC9C,CACHr1D,EAAM9L,EAAO8L,IACb9K,EAAOhB,EAAOgB,KACdm2F,EAAar7F,EAAWF,GAAW,EAAIulE,EAG3C,GAAIm9E,EAAM7G,cAAe,CACrBz2I,GAAQ5F,UAAUsG,EAAQ48I,EAAM3G,WAAW/7I,IAAY,EAAG,IAC1DkQ,GAAOlK,EAASu/D,GAAU49B,EAAQlzG,OAASkzG,EAAQn9F,SAAW,OAC3D,CACHkK,GAAO1Q,UAAUwG,EAAS08I,EAAM3G,WAAW/7I,IAAY,EAAG,IAC1DoF,GAAQU,EAAQy/D,GAAU49B,EAAQlzG,OAASkzG,EAAQr9F,QAAU,GAGjE,GAAI48I,EAAM7G,cAAe,CACrBryH,EAAO94B,EAAK4qG,MAAMprF,EAAKlK,EAAQu1F,EAAYn7F,EAAY05F,GAAYppG,EAAKwyJ,cAAchzI,KACtFA,GAAOsZ,EACPpkB,GAAQ1U,EAAKyqG,KAAK/1F,EAAMU,EAAO5F,EAAW45F,GAAYppG,EAAKwyJ,cAAc99I,UACtE,CACHokB,EAAO94B,EAAK4qG,MAAMl2F,EAAMU,EAAOy1F,EAAYr7F,EAAW45F,GAAYppG,EAAKwyJ,cAAc99I,MACrF8K,GAAOxf,EAAKyqG,KAAKjrF,EAAKlK,EAAQ5F,EAAY05F,GAAYppG,EAAKwyJ,cAAchzI,KACzE9K,GAAQokB,EAGZ,GAAIA,EAAO,GAAK25E,EAAS,CACrBA,EAAQv9F,cACRu9F,EAAQ98F,SAAS,wBAA0Bq8I,EAAM7G,cAAgB,IAAM,MAG3EnrJ,EAAKuvJ,WAAWj7I,IAAI,CAAEkL,IAAKA,EAAK9K,KAAMA,KAG1C+1F,KAAM,SAASr0F,EAAU3E,EAAMuhJ,GAC3B,IAAIroD,EAAS,EAEb,GAAIv0F,EAAW3E,EAAOuhJ,EAClBroD,EAASqoD,GAAe58I,EAAW3E,GAGvC,GAAI2E,EAAW,EACXu0F,GAAUv0F,EAGd,OAAOu0F,GAGXC,MAAO,SAASl3F,EAAQjC,EAAMo5F,EAAYmoD,GACtC,IAAIroD,EAAS,EAEb,GAAIj3F,EAASjC,EAAOuhJ,EAChBroD,KAAYE,EAAap5F,GAG7B,GAAIiC,EAASi3F,EAAS,EAClBA,GAAUE,EAAap5F,EAG3B,OAAOk5F,GAGXgoD,eAAgB,SAASv8I,EAAU5H,EAAK7B,EAAKsmJ,GACzC,IAAIjzJ,EAAOP,KACPqrD,EAAM,EAEV,GAAIt8C,EAAM4H,GAAYA,EAAWzJ,EAC7Bm+C,EAAM9qD,EAAKgyJ,MAAMjE,sBAAsB33I,EAAUpW,EAAKiuJ,oBAEtD,GAAIgF,EACAnoG,EAAM9qD,EAAKd,QAAQyN,SAEnBm+C,EAAM9qD,EAAKd,QAAQsP,IAI3B,OAAOs8C,IAKf/tD,EAAM2pB,GAAG+J,OAAOkgI,IAEEzF,EAAWjuJ,OAAO,CAChCiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACPokF,EAASlnF,EAAE2S,GAASkgB,KAAK,SACzB0jI,EAAarvE,EAAOtyD,GAAG,GAAG,GAC1B4hI,EAActvE,EAAOtyD,GAAG,GAAG,GAE/B2hI,EAAWlsJ,KAAO,OAClBmsJ,EAAYnsJ,KAAO,OAEnB,GAAI9H,GAAWA,EAAQwvJ,YAAa,CAChC,GAAI7xJ,OAAOktB,QACPltB,OAAOktB,QAAQy5D,KAAK,sEAGxBtkF,EAAQwvJ,YAAc,MAG1BxvJ,EAAUjC,EAAO,GAAI,CACjB4hC,eAAgB4xH,EAAUyC,EAAY,SACtC1kJ,IAAKiiJ,EAAUyC,EAAY,OAC3BvmJ,IAAK8jJ,EAAUyC,EAAY,OAC3B3H,UAAWkF,EAAUyC,EAAY,SAClC,CACCl0H,aAAcyxH,EAAU0C,EAAa,SACrC3kJ,IAAKiiJ,EAAU0C,EAAa,OAC5BxmJ,IAAK8jJ,EAAU0C,EAAa,OAC5B5H,UAAWkF,EAAU0C,EAAa,SACnCj0J,GAEH,GAAIA,GAAWA,EAAQukB,UAAY3mB,EAC/BoC,EAAQukB,SAAWogE,EAAOnuE,GAAG,cAGjCw1I,EAAW9qJ,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GACvCA,EAAUc,EAAKd,QACf,IAAKwxJ,EAAQxxJ,EAAQ2/B,iBAAmB3/B,EAAQ2/B,iBAAmB,KAAM,CACrE3/B,EAAQ2/B,eAAiB3/B,EAAQsP,IACjCq1E,EAAOtyD,GAAG,GAAGtF,KAAK,QAASuiI,EAAYtvJ,EAAQsP,MAGnD,IAAKkiJ,EAAQxxJ,EAAQ8/B,eAAiB9/B,EAAQ8/B,eAAiB,KAAM,CACjE9/B,EAAQ8/B,aAAe9/B,EAAQyN,IAC/Bk3E,EAAOtyD,GAAG,GAAGtF,KAAK,QAASuiI,EAAYtvJ,EAAQyN,MAGnD,IAAImmJ,EAAc9yJ,EAAKiW,QAAQuZ,KAAKo7H,GAEpCnrJ,KAAKoxJ,WAAa,IAAIc,GAAYb,UAAUgC,EAAa9yJ,EAAMd,GAC/Dc,EAAK6uJ,iBAAmB,IAAI8B,GAAOI,KAAK+B,EAAYvhI,GAAG,GAAI,cAAevxB,EAAMd,GAChFc,EAAK+uJ,gBAAkB,IAAI4B,GAAOI,KAAK+B,EAAYvhI,GAAG,GAAI,aAAevxB,EAAMd,GAE/Ec,EAAKgxJ,iBAAiB9xJ,EAAQ2/B,eAAiB3/B,EAAQ8/B,eAG3D9/B,QAAS,CACLhD,KAAM,cACN8zJ,oBAAqB,OACrBK,qBAAsB,OACtB/E,QAAS,CAAEhnJ,OAAQ,cACnBu6B,eAAgB,KAChBG,aAAc,MAGlBnb,OAAQ,SAASA,GACb,IAAI7jB,EAAOP,KACPP,EAAUc,EAAKd,QACfu6G,EAEJz5G,EAAK2jB,UACL,GAAIE,IAAW,MACX,OAGJ7jB,EAAKiW,QACAf,YAAY6gG,GAEjB/1G,EAAKiW,QAAQuZ,KAAK,SAASvD,KAAKu0E,EAAU,OAE1CiZ,EAAe,SAAS13G,GACpB,IAAIoY,EAAQ42B,EAAWhvC,GAAG,GAE1B,IAAKoY,EACD,OAGJ,IAAI6zI,EAAgBhuJ,EAAKmrJ,cAAgBhxI,EAAM2D,SAAS03B,MAAQr7B,EAAM2D,SAAS23B,MAC3Ew4G,EAAgBjuJ,EAAKsuJ,oBACrBxjG,EAAM9qD,EAAK+tJ,sBAAsBC,EAAeC,GAChD7uJ,EAASzC,EAAEoF,EAAE3C,QACb+4B,EAAMC,EAAIu8D,EAEd,GAAIv1F,EAAO+V,SAAS,gBAAiB,CACjCnV,EAAKiW,QAAQuZ,KAAK,IAAMu7H,GAAe71I,YAAY61I,EAAgB,IAAMj1C,GACzE12G,EAAOuW,SAASo1I,EAAgB,IAAMj1C,GACtC,OAGJ,GAAIhrD,EAAM5rD,EAAQ2/B,eAAgB,CAC9B1G,EAAO2yB,EACP1yB,EAAKl5B,EAAQ8/B,aACb21D,EAAO30F,EAAK6uJ,sBACT,GAAI/jG,EAAM9qD,EAAKg/B,aAAc,CAChC7G,EAAOj5B,EAAQ2/B,eACfzG,EAAK0yB,EACL6pC,EAAO30F,EAAK+uJ,qBAEZ,GAAIjkG,EAAM5rD,EAAQ2/B,gBAAkB3/B,EAAQ8/B,aAAe8rB,EAAK,CAC5D3yB,EAAO2yB,EACP1yB,EAAKl5B,EAAQ8/B,aACb21D,EAAO30F,EAAK6uJ,qBACT,CACH12H,EAAOj5B,EAAQ2/B,eACfzG,EAAK0yB,EACL6pC,EAAO30F,EAAK+uJ,gBAIpBp6D,EAAKE,UAAU9yF,GACf/B,EAAKsxJ,iBAAiBn5H,EAAMC,GAC5Bp4B,EAAKkvJ,gBAAgBv6D,EAAKrlF,UAG9BtP,EAAKiW,QACAuZ,KAAKs7H,EAAgB,KAAOD,GACxBhlI,GAAGykI,EAAkB7wC,GACrBp2G,MACAwiB,GAAGykI,EAAkB,WAClB3tJ,EAAEsS,SAASE,iBAAiBhO,IAAI,cAAepE,EAAM4D,kBAExDklB,GAAG2kI,EAAgB,WAChB,GAAIxqJ,EAAKiyJ,kBACLjyJ,EAAKiyJ,kBAAkB38G,SAIvCt1C,EAAKiW,QACAuZ,KAAKo7H,GACLh1I,KAAKgV,EAAU,GACf/E,GAAG0kI,EAAU,WACVvqJ,EAAKmvJ,uBAERtpI,GAAGu6E,EAAO,SAASr+F,GAChB/B,EAAKkvJ,gBAAgBntJ,EAAE3C,QACvB2C,EAAEpB,mBAELklB,GAAGmxF,EAAOh3G,EAAK+gG,OAAO//F,KAAKhB,IAC3B6lB,GAAG26D,EAAMxgF,EAAKghG,MAAMhgG,KAAKhB,IAE9BA,EAAKiW,QAAQuZ,KAAKo7H,GACb93H,IAAI43H,EAAU3tJ,EAAM4D,gBACpB4wB,GAAG,GAAG1L,GAAG6kI,EACN,SAAU3oJ,GACNtC,KAAKwhG,SAASl/F,EAAG,gBAClBf,KAAKhB,IAEXqD,MACAkuB,GAAG,GAAG1L,GAAG6kI,EACN,SAAU3oJ,GACNtC,KAAKwhG,SAASl/F,EAAG,eAClBf,KAAKhB,IAGhBA,EAAKd,QAAQukB,QAAU,MAG3BE,QAAS,WACL,IAAI3jB,EAAOP,KAEXO,EAAKiW,QACAN,SAASogG,GAEd/1G,EAAKiW,QAAQuZ,KAAK,SAASvD,KAAKu0E,EAAUA,GAE1CxgG,EAAKiW,QACAuZ,KAAKs7H,EAAgB,KAAOD,GAAgB/3H,IAAIw3H,GAAkBx3H,IAAI03H,GAE3ExqJ,EAAKiW,QACAuZ,KAAKo7H,GACLh1I,KAAKgV,GAAW,GAChBkI,IAAIy3H,GACJz3H,IAAI43H,GACJ53H,IAAIstE,GACJttE,IAAIkkF,GACJlkF,IAAI0tD,GAETxgF,EAAKd,QAAQukB,QAAU,OAG3Bw9E,SAAU,SAASl/F,EAAG+yB,GAClB,IAAI90B,EAAOP,KACP2zJ,EAAsBpzJ,EAAKd,QAAQ2/B,eACnCw0H,EAAoBrzJ,EAAKd,QAAQ8/B,aACjCs0H,EACAC,EACAC,EAEJ,GAAIzxJ,EAAE8+B,WAAW7gC,EAAK6rJ,QAAS,CAE3B7rJ,EAAKsvJ,uBAEL,GAAIx6H,GAAU,cAAe,CACzB0+H,EAAmBxzJ,EAAKgvJ,kBAAoBhvJ,EAAK6uJ,iBACjDuE,EAAsBpzJ,EAAK6rJ,QAAQ9pJ,EAAE8+B,SAASuyH,GAE9C,GAAIA,EAAsBC,EACtBA,EAAoBD,MAErB,CACHI,EAAmBxzJ,EAAKgvJ,kBAAoBhvJ,EAAK+uJ,gBACjDsE,EAAoBrzJ,EAAK6rJ,QAAQ9pJ,EAAE8+B,SAASwyH,GAE5C,GAAID,EAAsBC,EACtBD,EAAsBC,EAI9BrzJ,EAAKsxJ,iBAAiBllJ,EAAMgnJ,GAAsBhnJ,EAAMinJ,IAExDC,EAAqB/1J,KAAKoP,IAAIymJ,EAAqBpzJ,EAAKd,QAAQ2/B,gBAChE00H,EAAmBh2J,KAAKiR,IAAI6kJ,EAAmBrzJ,EAAKd,QAAQ8/B,cAE5Dw0H,EAAiBx0H,aAAezhC,KAAKoP,IAAI4mJ,EAAkBvzJ,EAAKd,QAAQ2/B,gBACxE20H,EAAiB30H,eAAiBthC,KAAKiR,IAAI8kJ,EAAoBtzJ,EAAKd,QAAQ8/B,cAE5Ew0H,EAAiBvE,eAAejvJ,EAAK+G,QAAQ/G,EAAK8uJ,gBAElD/sJ,EAAEpB,mBAIVimI,QAAS,SAAS/nG,EAAgBG,GAC9B,IAAIh/B,EAAOP,KACPkP,EAAS3O,EAAK+G,QAElB,IAAIokC,EAASx8B,EAAO,IAAMkwB,GAAkBlwB,EAAO,IAAMqwB,EAEzDh/B,EAAK+G,MAAM,CAAC83B,EAAgBG,IAE5B,GAAImM,EACAnrC,EAAK8B,QAAQ4nC,EAAQ,CACjB/6B,OAAQ,CAACkwB,EAAgBG,GACzBj4B,MAAO,CAAC83B,EAAgBG,MAKpCj4B,MAAO,SAASA,GACZ,GAAIA,GAASA,EAAMxH,OACf,OAAOE,KAAKwpH,OAAOliH,EAAM,GAAIA,EAAM,SAEnC,OAAOtH,KAAKwpH,UAIpBA,OAAQ,SAASr9G,EAAOvI,GACpB,IAAIrD,EAAOP,KACPP,EAAUc,EAAKd,QACf2/B,EAAiB3/B,EAAQ2/B,eACzBG,EAAe9/B,EAAQ8/B,aAE3B,GAAIzrB,MAAM3H,IAAU2H,MAAMlQ,GACtB,MAAO,CAACw7B,EAAgBG,OACrB,CACHpzB,EAAQQ,EAAMR,GACdvI,EAAM+I,EAAM/I,GAGhB,GAAIuI,GAAS1M,EAAQsP,KAAO5C,GAAS1M,EAAQyN,KACzCtJ,GAAOnE,EAAQsP,KAAOnL,GAAOnE,EAAQyN,KAAOf,GAASvI,EACrD,GAAIw7B,GAAkBjzB,GAASozB,GAAgB37B,EAAK,CAChDrD,EAAKsP,QAAQkgB,KAAK,SACb+B,GAAG,GAAGtF,KAAK,QAASuiI,EAAY5iJ,IAChCvI,MACAkuB,GAAG,GAAGtF,KAAK,QAASuiI,EAAYnrJ,IAErCnE,EAAQ2/B,eAAiBjzB,EACzB1M,EAAQ8/B,aAAe37B,EACvBrD,EAAKysJ,WACLzsJ,EAAKgxJ,iBAAiBplJ,EAAOvI,KAKzCsL,OAAQ,SAAS/C,EAAOvI,GACpB,GAAIlG,EAAQyO,GACR,OAAOnM,KAAKwpH,OAAOr9G,EAAM,GAAIA,EAAM,SAEnC,OAAOnM,KAAKwpH,OAAOr9G,EAAOvI,IAIlCopJ,SAAU,WACN,IAAIzsJ,EAAOP,KACPP,EAAUc,EAAKd,QAEnBc,EAAK8B,QAAQ2oJ,EAAgB,CACzB97I,OAAQ,CAACzP,EAAQ2/B,eAAgB3/B,EAAQ8/B,cACzCj4B,MAAO,CAAC7H,EAAQ2/B,eAAgB3/B,EAAQ8/B,gBAG5C,GAAI9/B,EAAQ2/B,gBAAkB3/B,EAAQyN,KAAOzN,EAAQ8/B,cAAgB9/B,EAAQyN,IACzE3M,EAAKkyJ,WAAW,gBAIxBlB,iBAAkB,SAASplJ,EAAOvI,GAC9B,IAAIrD,EAAOP,KACPqzJ,EAAc9yJ,EAAKiW,QAAQuZ,KAAKo7H,GAChCj2D,EAAO30F,EAAKgvJ,kBACZ1nB,EAEJA,EAAiBtnI,EAAKouJ,mBAAmB,CAACxiJ,EAAOvI,GAAMsxF,GAEvDm+D,EAAYvhI,GAAG,GAAG3b,KAAKq1I,EAAer/I,GACtCknJ,EAAYvhI,GAAG,GAAG3b,KAAKq1I,EAAe5nJ,GACtCyvJ,EAAYl9I,KAAKo1I,EAAgB1jB,IAGrCgqB,iBAAkB,SAASzyH,EAAgBG,GACvC,IAAI9/B,EAAUO,KAAKP,QAEnB2/B,EAAiBvhC,EAAKqP,IAAIrP,EAAKkR,IAAIqwB,EAAgB3/B,EAAQyN,KAAMzN,EAAQsP,KAEzEwwB,EAAe1hC,EAAKqP,IAAIrP,EAAKkR,IAAIwwB,EAAc9/B,EAAQyN,KAAMzN,EAAQsP,KAErE,GAAIqwB,GAAkB3/B,EAAQyN,KAAOqyB,GAAgB9/B,EAAQyN,IACzDlN,KAAKyyJ,WAAW,eAGpBzyJ,KAAKmnI,QAAQtpI,EAAKkR,IAAIqwB,EAAgBG,GAAe1hC,EAAKqP,IAAIkyB,EAAgBG,KAGlFkzH,WAAY,SAASlrJ,GACjBvH,KAAKwW,QAAQuZ,KAAKo7H,GAAa1tJ,KAAK,SAAS0R,GACzCjS,EAAE8C,MAAM6U,IAAI,UAAWtN,GAAQ,cAAgB,EAAI4H,EAAQA,MAInE4gJ,kBAAmB,WACf,IAAIxvJ,EAAOP,KACPP,EAAUc,EAAKd,QAEnB0zB,WAAW,WACP,IAAIixD,EAAS7jF,EAAKsP,QAAQkgB,KAAK,SAC/B,IAAI5jB,EAAQi4E,EAAO,GAAG98E,MACtB,IAAI1D,EAAMwgF,EAAO,GAAG98E,MACpB/G,EAAK2O,OAAO/C,IAAU,IAAM2H,MAAM3H,GAAS1M,EAAQsP,IAAM5C,EAAOvI,IAAQ,IAAMkQ,MAAMlQ,GAAOnE,EAAQyN,IAAMtJ,MAIjHqoB,QAAS,WACL,IAAI1rB,EAAOP,KAEXyrJ,EAAW9qJ,GAAGsrB,QAAQzpB,KAAKjC,GAE3BA,EAAKiW,QAAQ6c,IAAIyrD,GACZ/uD,KAAKs7H,EAAgB,KAAOD,GAAgB/3H,IAAIyrD,GAChDl7E,MACAmsB,KAAKo7H,GAAa93H,IAAIyrD,GAE3Bv+E,EAAK6uJ,iBAAiBnjE,UAAUhgE,UAChC1rB,EAAK+uJ,gBAAgBrjE,UAAUhgE,cAkD3C,OA9CIimI,GAAYb,UAAY,SAASgC,EAAa9yJ,EAAMd,GAChD,SAAS0yJ,EAAc7qJ,GACnBA,EAAQA,GAAS,GACjB,IAAIqsJ,EAAsBrsJ,EAAM,GAAK7H,EAAQsP,IACzC6kJ,EAAoBtsJ,EAAM,GAAK7H,EAAQsP,IACvCilJ,EAAsBn2J,EAAK0+D,KAAK5vD,EAAMgnJ,EAAsBl0J,EAAQqsJ,YACpEmI,EAAoBp2J,EAAK0+D,KAAK5vD,EAAMinJ,EAAoBn0J,EAAQqsJ,YAChE1sH,EAAiB7+B,EAAK8tJ,YAAY2F,GAClCz0H,EAAeh/B,EAAK8tJ,YAAY4F,GAChC3B,EAAgB/xJ,EAAKmuG,OAAS,EAAI,EAEtC2kD,EAAYvhI,GAAG,GAAGjd,IAAItU,EAAKw0F,UAAW31D,EAAiBkzH,GAC3C1uJ,MACAkuB,GAAG,GAAGjd,IAAItU,EAAKw0F,UAAWx1D,EAAe+yH,GAErD4B,EAAc90H,EAAgBG,GAGlC,SAAS20H,EAAc90H,EAAgBG,GACnC,IAAIC,EACA20H,EACA9B,EAAe9xJ,EAAKyrJ,UAAUj8H,KAAK,uBAEvCyP,EAAY3hC,EAAKyM,IAAI80B,EAAiBG,GAEtC8yH,EAAa9xJ,EAAKorJ,SAASnsH,GAC3B,GAAIj/B,EAAKmuG,OAAQ,CACbylD,EAAoBt2J,EAAKqP,IAAIkyB,EAAgBG,GAC7C8yH,EAAax9I,IAAI,QAAStU,EAAK0rJ,cAAgBkI,EAAoB,OAChE,CACHA,EAAoBt2J,EAAKkR,IAAIqwB,EAAgBG,GAC7C8yH,EAAax9I,IAAItU,EAAKw0F,UAAWo/D,EAAoB,IAI7DhC,EAAc5xJ,EAAK+G,SAEnB/G,EAAKgB,KAAK,CAAE0oC,EAAQssF,EAAOy0B,GAAkB,SAAS1oJ,GAClD6vJ,EAAc7vJ,EAAE4M,WAIxB5R,EAAM2pB,GAAG+J,OAAOkhI,IAIb90J,OAAOE,QAruDd,CAuuDoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAOA,GAAMD,OAEtF,SAAcvtC,QACVA,OAAO,gBAAgB,CAAC,aAAc,uBACvC,WAEH,IAAIC,EAAW,CACXC,GAAI,UACJC,KAAM,UACNC,SAAU,MACVC,YAAa,uGACbotC,QAAS,CAAC,OAAQ,kBAGX7sC,EA8ORE,OAAOE,MAAMH,OA9OFE,OAAd,EACQC,EAAQF,OAAOE,MACfwpB,EAASxpB,EAAM2pB,GAAGH,OAClBG,EAAK3pB,EAAM2pB,GACXhnB,EAAgB/C,EAAE+C,cAClB6+E,EAAK,gBACL70C,EAAS,SACT82D,EAAW,WACXmgC,EAAW,WACXkzB,EAAQ,gBACRp1E,EAAU,UACVq1E,EAAe,wBACfp1E,EAAgB,aAChBC,EAAe,aACfk4B,EAAgB,gBAEhBk9C,EAAUxtI,EAAOtpB,OAAO,CACxBiD,KAAM,SAAUoP,EAASpQ,GACrB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GACnCA,EAAUvC,EAAEM,OAAO,KAAM,GAAIiC,GAE7Bc,EAAKd,QAAQ6H,MAAQ7H,EAAQ6H,OAAS/G,EAAKsP,QAAQw7C,MACnD9qD,EAAKd,QAAQ0nE,SAAW1nE,EAAQ0nE,WAAa9pE,EAAYoC,EAAQ0nE,SAAW5gE,QAAQhG,EAAKsP,QAAQsG,KAAK,aACtG5V,EAAKd,QAAQ2kB,OAAS3kB,EAAQ2kB,SAAW/mB,EAAYoC,EAAQ2kB,QAAW7d,QAAQhG,EAAKsP,QAAQsG,KAAK,aAClG5V,EAAKd,QAAQ4gB,YAAc5gB,EAAQ4gB,aAAe9f,EAAKsP,QAAQsG,KAAK,eAEpE5V,EAAK+G,MAAM/G,EAAKd,QAAQ6H,OACxB/G,EAAKy7E,WACLz7E,EAAKg0J,SACLh0J,EAAK8+E,UAAU,CACXlY,SAAU5mE,EAAKd,QAAQ0nE,SACvBjjD,SAAW3jB,EAAKd,QAAc,SAGlCc,EAAKsP,QACAqG,SAASk+I,GACTj+I,KAAK,cAAe5V,EAAKd,QAAQ4gB,aACjClK,KAAK,eAAgB,OAE1B7Y,EAAMoxB,OAAOnuB,GACbA,EAAKkrB,oBAGTzpB,OAAQ,CACJioC,GAGJxqC,QAAS,CACLhD,KAAM,UACN6K,MAAO,GACP6/D,SAAU,MACV/iD,OAAQ,KACR/D,YAAa,GACbyN,MAAO,KACP7gB,QAAS,SACT+E,KAAM,SACNib,SAAU,SAGd3lB,MAAO,SAASA,GACZ,IAAI/G,EAAOP,KAEX,GAAIsH,IAAUjK,EACV,OAAOkD,EAAKipH,OAGhBjpH,EAAKipH,OAASliH,EACd/G,EAAKsP,QAAQw7C,IAAI/jD,IAGrB6/D,SAAU,SAASA,GACf,IAAI5mE,EAAOP,KAEXA,KAAKq/E,UAAU,CACXlY,SAAUA,IAAa9pE,EAAY,KAAO8pE,EAC1CjjD,QAAS,QAGb,GAAI3jB,EAAKioE,cACLjoE,EAAKioE,cAAcrB,SAASA,IAAa9pE,EAAY,KAAO8pE,IAIpE/iD,OAAQ,SAASA,GACb,IAAI7jB,EAAOP,KAEXA,KAAKq/E,UAAU,CACXlY,SAAU,MACVjjD,UAAWE,EAASA,IAAW/mB,EAAY,KAAO+mB,KAGtD,GAAI7jB,EAAKioE,cACLjoE,EAAKioE,cAAcpkD,OAAOA,EAASA,IAAW/mB,EAAY,KAAO+mB,IAIzEib,MAAO,WACH,IAAI9+B,EAAOP,KAEXO,EAAKsP,QAAQ,GAAGwvB,SAGpBpT,QAAS,WACL,IAAI1rB,EAAOP,KAEX,GAAIO,EAAKioE,cACLjoE,EAAKioE,cAAcv8C,UAGvB1rB,EAAKsP,QAAQwjB,IAAIyrD,GACjBv+E,EAAKsP,QAAQ,GAAG+F,MAAMD,MAAQ,GAC9BpV,EAAKsP,QAAQ4F,YAAY2+I,GACzBttI,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,IAG3B+qB,WAAY,SAAS7rB,GACjBO,KAAKisB,UAELjsB,KAAK6P,QAAQytH,SACb,GAAIt9H,KAAKw0J,wBAAyB,CAC9Bx0J,KAAKylF,YAAY10D,SACjB/wB,KAAKylF,YAAc,KACnBzlF,KAAK6P,QAAQytH,SACbt9H,KAAKw0J,wBAA0B,KAGnCl3J,EAAM0D,WAAWhB,KAAKP,QAASA,GAC/BO,KAAKS,KAAKT,KAAK6P,QAAS7P,KAAKP,UAGjC4/E,UAAW,SAAS5/E,GAChB,IAAIc,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QACnB,IAAI2G,EAAUjW,EAAKiW,QACnB,IAAI0N,EAAUzkB,EAAQykB,QACtB,IAAIijD,EAAW1nE,EAAQ0nE,SAEvBt3D,EAAQwjB,IAAIyrD,GAEZ,IAAK3X,IAAajjD,EAAS,CACvBrU,EAAQ2c,KAAKu0E,EAAU,OACfv0E,KAAK00G,EAAU,OACf/qH,KAAKihG,EAAe,OAE5B5gG,EAAQf,YAAYwpE,GACXxpE,YAAYypE,GAErBrvE,EAAQuW,GAAG,UAAY04D,EAAIv+E,EAAKk0J,SAASlzJ,KAAKhB,IAC9CsP,EAAQuW,GAAG,WAAa04D,EAAIv+E,EAAKm0J,UAAUnzJ,KAAKhB,IAChDsP,EAAQuW,GAAG,SAAW04D,EAAIv+E,EAAKy0D,QAAQzzD,KAAKhB,QACzC,CACHsP,EAAQsG,KAAK4qF,EAAU78E,GACf/N,KAAK+qH,EAAU/5D,GACfhxD,KAAKihG,EAAelzF,GAE5B1N,EAAQqN,YAAYo7D,EAAe/6D,GAC1BL,YAAYq7D,EAAc/X,KAI3CotF,OAAQ,WACJ,IAAIh0J,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QACnB,IAAIpQ,EAAUc,EAAKd,QACnB,IAAIjD,EAAKqT,EAAQsG,KAAK,MACtB,IAAIw+I,EACJ,IAAIC,EAEJ,GAAIn1J,EAAQquB,QAAU,KAAM,CACxB6mI,EAAW10J,EAAcR,EAAQquB,OAASruB,EAAQquB,MAAM6mI,SAAW,MACnEC,EAAY30J,EAAcR,EAAQquB,OAASruB,EAAQquB,MAAM+sB,QAAUp7C,EAAQquB,MAE3E,GAAI6mI,EAAU,CACVp0J,EAAKi0J,wBAA0Bj0J,EAAKiW,QAAQpB,KAAK,iBAAiBG,SAClEhV,EAAKioE,cAAgB,IAAIlrE,EAAM2pB,GAAGm4D,cAAc7+E,EAAKi0J,wBAAyB,CAAEznI,OAAQxsB,IAG5F,GAAIjD,EAAM2D,WAAW2zJ,GACjBA,EAAYA,EAAUpyJ,KAAKjC,GAG/B,IAAKq0J,EACDA,EAAY,GAGhB,IAAKp4J,EAAI,CACLA,EAAKiD,EAAQhD,KAAO,IAAMa,EAAMksB,OAChC3Z,EAAQsG,KAAK,KAAM3Z,GAGvB+D,EAAKklF,YAAcvoF,EAAE,iBAAmBm3J,EAAe,UAAY73J,EAAK,KAAOo4J,EAAY,aAAahtF,aAAarnE,EAAKiW,WAIlIi+I,SAAU,WACN,IAAIl0J,EAAOP,KAEXO,EAAKiW,QAAQN,SAAS8oE,IAG1B01E,UAAW,WACP,IAAIn0J,EAAOP,KAEXO,EAAKiW,QAAQf,YAAYupE,IAG7BhqB,QAAS,SAAS1yD,GACd,IAAI/B,EAAOP,KACX,IAAI2pE,EAAWppE,EAAKsP,QAAQw7C,MAE5B9qD,EAAKipH,OAAS7/C,EAEdppE,EAAK8B,QAAQ4nC,EAAQ,CAAC3iC,MAAOqiE,EAAU7jD,cAAexjB,KAG1D05E,SAAU,WACN,IAAIz7E,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QACnB,IAAIglJ,EAAahlJ,EAAQ,GACzB,IAAI2G,EAEJA,EAAU3G,EAAQuF,KAAK,2CAA2CG,SAClEiB,EAAQ,GAAGZ,MAAMqE,QAAU46I,EAAWj/I,MAAMqE,QAC5C46I,EAAWj/I,MAAMD,MAAQ,OACzBpV,EAAKiW,QAAUA,EAAQN,SAAS2+I,EAAWj8I,WAAWnD,YAAY,6BAc9E,OAVInY,EAAMqvB,cAAc0Y,eAAe,UAAW,YAE9C/nC,EAAMqvB,cAAc4Y,eAAe,UAAW,CAAC,CAC3C/Y,KAAM,UACNtd,OAAQ5R,EAAMqvB,cAAc2X,cAAchwB,OAAO,CAAC,CAAC,OAAQ,aAG/D2S,EAAG+J,OAAOsjI,GAGPl3J,OAAOE,QA5Pd,CA8PoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAAUstC,EAAIC,EAAIC,IAAOA,GAAMD,OAEvF,SAAavtC,QACTA,OAAO,uBAAuB,CAAE,aAAc,mBAAoB,sBAAuB,qBAC1F,WAEH,IAAIC,EAAW,CACXC,GAAI,iBACJC,KAAM,iBACNC,SAAU,MACVC,YAAa,4FACbotC,QAAS,CAAE,OAAQ,aAAc,gBAAiB,gBAG5C7sC,EAm7BPE,OAAOE,MAAMH,OAn7BHE,OAAb,EACQC,EAAQF,OAAOE,MACf2hC,EAAQ3hC,EAAM2hC,MACd1X,EAAOjqB,EAAMiqB,KACbrjB,EAAO5G,EAAM4G,KACb+iB,EAAK3pB,EAAM2pB,GACXH,EAASG,EAAGH,OACZrX,EAAgBnS,EAAMiS,eACtBwmH,EAAgBz4H,EAAMgS,eACtBotC,EAAQp/C,EAAMuW,WACd48H,EAAuBnzI,EAAMW,QAAQoiB,YACrCzX,EAAatL,EAAMsL,WACnBqhC,EAAS,SACT82D,EAAW,WACXmgC,EAAW,WACXkzB,EAAQ,gBACRU,EAAO,OACPjsI,EAAK,uBACLksI,EAAW,WACXvzC,EACAukB,EAAc,aAAel9G,EAAK,KADrB,aAAeA,GAE5Bm2D,EAAU,UACV2hC,EAAQ,UACRpJ,EAAQ,QACRrvG,EAAQ,IACR8sJ,EAAS,SACTC,EAAa,SACbZ,EAAe,wBACfr6D,EAAW,aACX/a,EAAgB,aAChBgiD,EAAe,YACf7pB,EAAgB,gBAChB89C,EAAiB,cACjBx2J,EAAO,KACPuB,EAAgB/C,EAAE+C,cAClBzC,EAASN,EAAEM,OAEX23J,EAAiBruI,EAAOtpB,OAAO,CAC9BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACXo1J,EAAS31J,GAAWA,EAAQ4vE,OAAShyE,EACrC0R,EAAK7B,EAAKmiE,EAAM/nE,EAAO4qB,EACvB,IAAImjI,EAEJvuI,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCA,EAAUc,EAAKd,QACfoQ,EAAUtP,EAAKsP,QACAuW,GAAG,WAAayC,EAAItoB,EAAKm0J,UAAUnzJ,KAAKhB,IACxC4V,KAAK,OAAQ,cAE5B1W,EAAQ4gB,YAAc5gB,EAAQ4gB,aAAexQ,EAAQsG,KAAK,eAE1DpH,EAAMxO,EAAKwO,IAAIc,EAAQsG,KAAK,QAC5BjJ,EAAM3M,EAAK2M,IAAI2C,EAAQsG,KAAK,QAC5Bk5D,EAAO9uE,EAAKi+C,OAAO3uC,EAAQsG,KAAK,SAEhC,GAAI1W,EAAQsP,MAAQrQ,GAAQqQ,IAAQrQ,EAChCe,EAAQsP,IAAMA,EAGlB,GAAItP,EAAQyN,MAAQxO,GAAQwO,IAAQxO,EAChCe,EAAQyN,IAAMA,EAGlB,IAAKkoJ,GAAU/lF,IAAS3wE,EACpBe,EAAQ4vE,KAAOA,EAGnB9uE,EAAKsmI,gBAAkBrpI,EAAO,GAAIiC,GAElC41J,EAAYxlJ,EAAQsG,KAAK,QAEzB5V,EAAKkiE,SACLliE,EAAKy7E,WACLz7E,EAAK+0J,UACL/0J,EAAKg1J,cACLh1J,EAAKmiI,SAEL,IAAKplI,EAAMW,QAAQsgB,SACfhe,EAAKg+F,MAAMn4E,GAAGmxF,EAAQ1uF,EAAItoB,EAAKu1C,OAAOv0C,KAAKhB,SAE3CA,EAAKg+F,MAAMn4E,GAAG2uI,EAAWlsI,EAAK,IAAM0uF,EAAQ1uF,EAAI,WAC5C,GAAIvrB,EAAMW,QAAQ+a,QAAQ+F,KACtBxe,EAAKg+F,MAAM78F,IAAI61G,EAAQ1uF,EAAI,WACxBtoB,EAAKk0J,kBAGTl0J,EAAKk0J,WAERl0J,EAAKi1J,gBAIb3lJ,EAAQsG,KAAK,gBAAiB1W,EAAQsP,MAAQrQ,EAAOe,EAAQsP,IAAItP,EAAQg2J,OAASh2J,EAAQsP,KAClFoH,KAAK,gBAAiB1W,EAAQyN,MAAQxO,EAAOe,EAAQyN,IAAIzN,EAAQg2J,OAASh2J,EAAQyN,KAE1FzN,EAAQoF,OAASkxH,EAAct2H,EAAQoF,QAEvCyC,EAAQ7H,EAAQ6H,MAEhB,GAAIA,GAAS5I,EACT,GAAI22J,GAAa,SACd/tJ,EAAQuM,WAAWhE,EAAQw7C,YAE1B/jD,EAAQuI,EAAQw7C,MAIxB9qD,EAAK+G,MAAMA,GAEX4qB,GAAYzyB,EAAQ2kB,QAAUvU,EAAQoG,GAAG,eAAiB/Y,EAAEqD,EAAKsP,SAASyiB,QAAQ,YAAYrc,GAAG,aAEjG,GAAIic,EACA3xB,EAAK6jB,OAAO,YAEZ7jB,EAAK4mE,SAASt3D,EAAQoG,GAAG,eAG7B1V,EAAKmqB,QAAQ,UAAW,WACpB,MAAO,CACH0D,SAAU7tB,EAAKg+F,MAAMj1E,SAI7B/oB,EAAKg0J,SACLh0J,EAAK4sB,WAAW5sB,EAAKg+F,OACrBh+F,EAAKkrB,mBAELnuB,EAAMoxB,OAAOnuB,IAGlBd,QAAS,CACLhD,KAAM,iBACNiO,SAAUhM,EACV0lB,OAAQ,KACRsxI,iBAAkB,MAClB3mJ,IAAKrQ,EACLwO,IAAKxO,EACL4I,MAAO5I,EACP2wE,KAAM,EACN1iE,MAAO,KACPjE,QAAS,GACT7D,OAAQ,IACR8wJ,SAAU,KACVt1I,YAAa,GACbu1I,cAAe,MACfH,OAAQ,EACRI,YAAa,iBACbC,cAAe,iBACfhoI,MAAO,KACP9b,KAAM,SACNib,SAAU,QACVhgB,QAAS,UAEbjL,OAAQ,CACJioC,EACA6qH,GAGJz1E,UAAW,SAAS5/E,GAChB,IAAIc,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfqU,EAAUzkB,EAAQykB,QAClBijD,EAAW1nE,EAAQ0nE,SACnB/mC,EAAO7/B,EAAKg+F,MAAMx6E,IAAIlU,GACtB2G,EAAUjW,EAAKiW,QAAQ6c,IAAI0yG,GAE/BxlI,EAAKw1J,YAAY,MAEjBx1J,EAAKy1J,qBAAqB/zJ,OAAO,SACjC1B,EAAK01J,uBAAuBh0J,OAAO,SACnC4N,EACKwjB,IAAI,UAAYxK,GAChBwK,IAAI,QAAUxK,GACdwK,IAAI,QAAUxK,GACdwK,IAAI,QAAUxK,GAEnB,GAAItoB,EAAKklF,YACLllF,EAAKklF,YAAYpyD,IAAIxK,GAGzB,IAAKs+C,IAAajjD,EAAS,CACvB1N,EACKf,YAAYwpE,GACZ74D,GAAG2/G,EAAaxlI,EAAK2rH,cAE1B9rF,EAAK5T,KAAKu0E,EAAU,OACfv0E,KAAK00G,EAAU,OACf/qH,KAAKihG,EAAe,OAEzB72G,EAAKy1J,qBAAqBz0J,KAAK,QAAS,SAASe,GAC7CA,EAAEpB,iBACFX,EAAK21J,MAAM,GACX31J,EAAK41J,SAASjgJ,SAAS8jF,KAG3Bz5F,EAAK01J,uBAAuB10J,KAAK,QAAS,SAASe,GAC/CA,EAAEpB,iBACFX,EAAK21J,OAAO,GACZ31J,EAAK61J,WAAWlgJ,SAAS8jF,KAG7Bz5F,EAAKsP,QACAuW,GAAG,UAAYyC,EAAItoB,EAAKihG,SAASjgG,KAAKhB,IACtC6lB,GAAG,QAAUyC,EAAItoB,EAAK81J,OAAO90J,KAAKhB,IAClC6lB,GAAG,QAAUyC,EAAItoB,EAAKkiI,OAAOlhI,KAAKhB,IAClC6lB,GAAG,QAAUyC,EAAItoB,EAAK+1J,cAAc/0J,KAAKhB,IAE9C,GAAIA,EAAKklF,YACLllF,EAAKklF,YAAYr/D,GAAG,QAAUyC,EAAItoB,EAAK8+B,MAAM99B,KAAKhB,QAGnD,CACHiW,EACKN,SAASgO,EAAU+6D,EAAgB,IACnCxpE,YAAYyO,EAAS,GAAK+6D,GAE/B7+C,EAAKjqB,KAAK4qF,EAAU78E,GACf/N,KAAK+qH,EAAU/5D,GACfhxD,KAAKihG,EAAelzF,KAIjCijD,SAAU,SAASA,GACf,IAAI5mE,EAAOP,KAEXA,KAAKq/E,UAAU,CACXlY,SAAUA,IAAa9pE,EAAY,KAAO8pE,EAC1CjjD,QAAS,QAGb,GAAI3jB,EAAKioE,cACLjoE,EAAKioE,cAAcrB,SAASA,IAAa9pE,EAAY,KAAO8pE,IAIpE/iD,OAAQ,SAASA,GACb,IAAI7jB,EAAOP,KAEXA,KAAKq/E,UAAU,CACXlY,SAAU,MACVjjD,UAAWE,EAASA,IAAW/mB,EAAY,KAAO+mB,KAGtD,GAAI7jB,EAAKioE,cACLjoE,EAAKioE,cAAcpkD,OAAOA,EAASA,IAAW/mB,EAAY,KAAO+mB,IAIzEkH,WAAY,SAAU7rB,GAClB,IAAIc,EAAOP,KACX8mB,EAAOnmB,GAAG2qB,WAAW9oB,KAAKjC,EAAMd,GAEhCc,EAAKiW,QAAQqN,YAAY,oBAAqBtjB,EAAKd,QAAQk2J,UAC3Dp1J,EAAKg+F,MAAM/xE,KAAK,cAAejsB,EAAKd,QAAQ4gB,aAC5C9f,EAAK82F,aAAa92F,EAAKd,QAAQ4gB,aAC/B9f,EAAKsP,QAAQsG,KAAK,CACdogJ,gBAAiBh2J,EAAKd,QAAQsP,MAAQrQ,EAAO6B,EAAKd,QAAQsP,IAAIxO,EAAKd,QAAQg2J,OAASl1J,EAAKd,QAAQsP,IACjGynJ,gBAAiBj2J,EAAKd,QAAQyN,MAAQxO,EAAO6B,EAAKd,QAAQyN,IAAI3M,EAAKd,QAAQg2J,OAASl1J,EAAKd,QAAQyN,MAGrG3M,EAAKd,QAAQoF,OAASkxH,EAAcx1H,EAAKd,QAAQoF,QACjDtE,EAAKy1J,qBAAqB/pI,UAC1B1rB,EAAK01J,uBAAuBhqI,UAC5B1rB,EAAKk2J,YAAY1lI,SACjBxwB,EAAK+0J,UAEL/0J,EAAKkrB,mBAEL,GAAIhsB,EAAQ6H,QAAUjK,EAClBkD,EAAK+G,MAAM7H,EAAQ6H,QAI3B2kB,QAAS,WACL,IAAI1rB,EAAOP,KAEX,GAAIO,EAAKklF,YAAa,CAClBllF,EAAKklF,YAAYpyD,IAAIxK,GAErB,GAAItoB,EAAKioE,cACLjoE,EAAKioE,cAAcv8C,UAI3B1rB,EAAKsP,QACAkU,IAAIxjB,EAAKg+F,OACTx6E,IAAIxjB,EAAK41J,UACTpyI,IAAIxjB,EAAK61J,YACT/iI,IAAIxK,GAETtoB,EAAKy1J,qBAAqB/pI,UAC1B1rB,EAAK01J,uBAAuBhqI,UAE5B,GAAI1rB,EAAK8oH,MACL9oH,EAAK8oH,MAAMh2F,IAAI,QAAS9yB,EAAK+oH,eAGjCxiG,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,IAG3BwO,IAAK,SAASzH,GACV,OAAOtH,KAAK85H,QAAQ,MAAOxyH,IAG/B4F,IAAK,SAAS5F,GACV,OAAOtH,KAAK85H,QAAQ,MAAOxyH,IAG/B+nE,KAAM,SAAS/nE,GACX,OAAOtH,KAAK85H,QAAQ,OAAQxyH,IAGhCA,MAAO,SAASA,GACZ,IAAI/G,EAAOP,KAAM02J,EAEjB,GAAIpvJ,IAAUjK,EACV,OAAOkD,EAAKipH,OAGhBliH,EAAQ/G,EAAKi+C,OAAOl3C,GACpBovJ,EAAWn2J,EAAKo2J,QAAQrvJ,GAExB,GAAIA,IAAUovJ,EACV,OAGJn2J,EAAK4mI,QAAQ7/H,GACb/G,EAAK8nH,KAAO9nH,EAAKipH,QAGrBnqF,MAAO,WACHr/B,KAAKy0J,YAGTkC,QAAS,SAASrvJ,GACd,IAAI/G,EAAOP,KACXP,EAAUc,EAAKd,QACfsP,EAAMtP,EAAQsP,IACd7B,EAAMzN,EAAQyN,IAEd,GAAI5F,IAAU5I,EACV,OAAO4I,EAGX,GAAIyH,IAAQrQ,GAAQ4I,EAAQyH,EACxBzH,EAAQyH,OACL,GAAI7B,IAAQxO,GAAQ4I,EAAQ4F,EAC/B5F,EAAQ4F,EAGZ,OAAO5F,GAGXguJ,QAAS,WACL,IAAI/0J,EAAOP,KACX42J,EACA7tE,EAAW,WACPv0D,aAAcj0B,EAAKs2J,WACnBD,EAAOnhJ,YAAYukF,IAEvBv6F,EAAUc,EAAKd,QACfk2J,EAAWl2J,EAAQk2J,SACnB9lJ,EAAUtP,EAAKsP,QAEf+mJ,EAAS/mJ,EAAQi8F,SAAS,kBAE1B,IAAK8qD,EAAO,GAAI,CACZA,EAAS15J,EAAE45J,EAAW,WAAYr3J,EAAQo2J,YAAap2J,GAAWq3J,EAAW,WAAYr3J,EAAQq2J,cAAer2J,IACvGylC,SAAS3kC,EAAKiW,SAEvBjW,EAAKk2J,YAAcG,EAAOn2G,QAAQ,iDAAiDlrC,SAGvF,IAAKogJ,EAAU,CACXiB,EAAOrhJ,SAASuP,OAAO6wI,GACvBp1J,EAAKiW,QAAQN,SAAS,oBAG1B3V,EAAK41J,SAAWS,EAAO9kI,GAAG,GAC1BvxB,EAAKy1J,qBAAuB,IAAI14J,EAAM+1C,WAAW9yC,EAAK41J,SAAU,CAAE74C,QAASv0B,IAC3ExoF,EAAK61J,WAAaQ,EAAO9kI,GAAG,GAC5BvxB,EAAK01J,uBAAyB,IAAI34J,EAAM+1C,WAAW9yC,EAAK61J,WAAY,CAAE94C,QAASv0B,KAGnFwsE,YAAa,WACT,IAAIh1J,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QAEnBtP,EAAKghI,gBAAkBrkI,EAAE,wCAA0C+3J,EAAa,kCAAkC5vE,YAAYx1E,IAGlI0xF,MAAO,WACH,IAAIhhG,EAAOP,KAEXO,EAAKw1J,YAAY,MAEjBx1J,EAAKy0D,QAAQz0D,EAAKsP,QAAQw7C,QAG9BvV,OAAQ,SAASxzC,GACb,IAAI/B,EAAOP,KAEXw0B,aAAaj0B,EAAKw2J,WAClBx2J,EAAKw2J,UAAY5jI,WAAW,WACxB,IAAI/S,EAAQ9d,EAAE3C,OACVgC,EAAMs9B,EAAM7e,GAAO,GACnB9Y,EAAQ8Y,EAAM9Y,MAAMrE,UAAU,EAAGtB,GACjCkD,EAAStE,EAAKiiI,QAAQjiI,EAAKd,QAAQoF,QACnCylD,EAAQzlD,EAAO,KACf0E,EAAQytJ,EAAaC,EACrBC,EAAgB,EAEpB,GAAI5sG,EAAO,CACP0sG,EAAc,IAAI9kJ,OAAO,KAAOo4C,EAAO,KACvC2sG,EAAgB,IAAI/kJ,OAAO,QAAUrN,EAAOmwJ,GAAU,YAAc1qG,EAAQ,SAAWzlD,EAAOqD,GAAS,aAG3G,GAAI+uJ,EACA1tJ,EAAS0tJ,EAAc5qJ,KAAK/E,GAGhC,GAAIiC,EAAQ,CACR2tJ,EAAgB3tJ,EAAO,GAAGpJ,QAAQ62J,EAAa,IAAIl3J,OAEnD,GAAIwH,EAAMuF,QAAQ,OAAS,GAAKtM,EAAKipH,OAAS,EAC1C0tC,IAIR32J,EAAKk0J,WAELx1H,EAAM1+B,EAAKsP,QAAQ,GAAIqnJ,GACvB32J,EAAKi1J,iBAIbA,YAAa,WACT,GAAIx1J,KAAKP,QAAQm2J,cACb51J,KAAK6P,QAAQ,GAAGgwB,UAIxBs3H,gBAAiB,SAAU7vJ,GACvB,IAAI/G,EAAOP,KACPy1J,EAASl1J,EAAKd,QAAQg2J,OAE1B,GAAIA,GAAUA,IAAW,EAAG,CACxBnuJ,EAAQhK,EAAMuW,WAAWvM,GACzB,GAAIA,IAAU,KACVA,EAAQA,EAAMmuJ,EAItB,OAAOnuJ,GAGX0tD,QAAS,SAAS1tD,GACd,IAAI/G,EAAOP,KAEXsH,EAAQ/G,EAAK42J,gBAAgB7vJ,GAC7B/G,EAAK4mI,QAAQ7/H,GACbA,EAAQ/G,EAAKipH,OAEb,GAAIjpH,EAAK8nH,MAAQ/gH,EAAO,CACpB/G,EAAK8nH,KAAO/gH,EAEZ,IAAK/G,EAAK6pH,QAEN7pH,EAAKsP,QAAQxN,QAAQ4nC,GAGzB1pC,EAAK8B,QAAQ4nC,GAGjB1pC,EAAK6pH,QAAU,OAGnBgtC,SAAU,SAAS1uJ,GACf,OAAOA,GAAWE,EAAW5I,KAAKP,QAAQiJ,UAG9C+rJ,SAAU,WACN,IAAIl0J,EAAOP,KACXO,EAAKiW,QAAQN,SAAS8oE,GACtBz+E,EAAKw1J,YAAY,OACjBx1J,EAAKsP,QAAQ,GAAGwvB,SAGpBq1H,UAAW,WACP,IAAIn0J,EAAOP,KAEXw0B,aAAaj0B,EAAKw2J,WAClBx2J,EAAKiW,QAAQf,YAAYupE,GAASvpE,YAAYkrG,GAC9CpgH,EAAKghG,QACLhhG,EAAKgjI,uBAGTf,QAAS,SAAS39H,EAAQ6D,GACtB,IAAIC,EAAe3I,KAAKo3J,SAAS1uJ,GAASC,aAE1C9D,EAASA,EAAOyH,cAEhB,GAAIzH,EAAOgI,QAAQ,MAAQ,EACvBlE,EAAeA,EAAa4D,cACzB,GAAI1H,EAAOgI,QAAQ,MAAQ,EAC9BlE,EAAeA,EAAa6D,QAGhC,OAAO7D,GAGX+5H,OAAQ,WACJ,IAAIniI,EAAOP,KACPP,EAAUc,EAAKd,QACfoQ,EAAUtP,EAAKsP,QAAQqG,SAASk+I,GAAO3hF,OAAO,GAC9C6lE,EAAYzoI,EAAQyoI,UACpB9hI,EAAUjW,EAAKiW,QACf4tE,EAAS5tE,EAAQuZ,KAAK7nB,EAAQksJ,GAC9Bh0H,EAEJA,EAAOgkD,EAAOjiF,QAEd,GAAIi+B,EAAKtgC,OAAS,EACdsgC,EAAOljC,EAAE,wBACAiZ,KAAK7Y,EAAM6Y,KAAK,YAAa,OAC7ByxD,aAAa/3D,GAG1B,IACIA,EAAQ2Q,aAAa,OAAQ,QAC/B,MAAMle,GACJuN,EAAQtI,KAAO,OAGnB64B,EAAK,GAAGkL,MAAQz7B,EAAQy7B,MACxBlL,EAAK,GAAGqtE,SAAW59F,EAAQ49F,SAC3BrtE,EAAK,GAAGxqB,MAAMqE,QAAUpK,EAAQ+F,MAAMqE,QACtCmmB,EAAK5T,KAAK,cAAe/sB,EAAQ4gB,aAEjC,GAAIi4H,EAAW,CACXl4G,EAAKjqB,KAAK,YAAamiI,GACvBzoI,EAAQyoI,UAAY,GAIxB/3I,EAAKg+F,MAAQn+D,EAAKlqB,SAASrG,EAAQ+I,WACjBzC,KAAK,CACFyT,KAAQ,aACR2sI,gBAAiB92J,EAAQsP,MAAQrQ,EAAOe,EAAQsP,IAAItP,EAAQg2J,OAASh2J,EAAQsP,IAC7EynJ,gBAAiB/2J,EAAQyN,MAAQxO,EAAOe,EAAQyN,IAAIzN,EAAQg2J,OAASh2J,EAAQyN,IAC7Ew8G,aAAgB,SAIzCloB,SAAU,SAASl/F,GACf,IAAI/B,EAAOP,KACPgH,EAAM1E,EAAE8+B,QAEZ,GAAIp6B,IAAQugB,EAAKqB,WACbroB,EAAK82J,WAAa,KAGtB,GAAIrwJ,GAAOugB,EAAKU,KAAM,CAClB1nB,EAAK+2J,OAAO,GACZ,YACG,GAAItwJ,GAAOugB,EAAKQ,GAAI,CACvBxnB,EAAK+2J,MAAM,GACX,YACG,GAAItwJ,GAAOugB,EAAKK,MAAO,CAC1BrnB,EAAKy0D,QAAQz0D,EAAKsP,QAAQw7C,OAC1B,OAGJ,GAAIrkD,GAAOugB,EAAKI,IACZpnB,EAAK6pH,QAAU,KAEnB7pH,EAAKg3J,aAAet4H,EAAM1+B,EAAKsP,UAGnCwmJ,OAAQ,WACJr2J,KAAKujI,uBAGT+yB,cAAe,WACX,IAAIzmJ,EAAU7P,KAAK6P,QACnB,IAAIvI,EAAQuI,EAAQw7C,MACpB,IAAIt8C,EAAM/O,KAAKP,QAAQsP,IACvB,IAAIpG,EAAe3I,KAAKwiI,QAAQxiI,KAAKP,QAAQoF,QAC7C,IAAI2yJ,EAAmB7uJ,EAAaT,GACpC,IAAIuvJ,EAAc1oJ,IAAQ,MAAQA,GAAO,GAAKzH,EAAMvE,OAAO,KAAO,IAElE,GAAI/C,KAAKq3J,YAAcG,IAAqBtvJ,EAAO,CAC/CZ,EAAQA,EAAMnH,QAAQ+H,EAAOsvJ,GAC7Bx3J,KAAK6P,QAAQw7C,IAAI/jD,GACjBtH,KAAKq3J,WAAa,MAGtB,GAAIr3J,KAAK03J,WAAa13J,KAAKw+C,OAAOl3C,GAC9BA,EAAQtH,KAAKw+C,OAAOl3C,GACf5B,WACAvF,QAAQ+H,EAAOS,EAAaT,IAGrC,GAAIlI,KAAK23J,cAAchvJ,GAAchC,KAAKW,KAAWmwJ,EACjDz3J,KAAKuiI,SAAWj7H,MACb,CACHtH,KAAKojI,qBACLpjI,KAAK6P,QAAQw7C,IAAIrrD,KAAKuiI,UACtB,GAAIviI,KAAKu3J,aAAc,CACnBt4H,EAAMpvB,EAAS7P,KAAKu3J,aAAa,IACjCv3J,KAAKu3J,aAAe,MAI5Bv3J,KAAK03J,UAAY,OAGrBt0B,mBAAoB,WAChB,IAAI7iI,EAAOP,KAEXO,EAAK8iI,mBACL7uG,aAAaj0B,EAAK+iI,sBAClB/iI,EAAK+iI,qBAAuBnwG,WAAW5yB,EAAKgjI,oBAAoBhiI,KAAKhB,GAAO,MAGhF8iI,iBAAkB,WACd,IAAI9iI,EAAOP,KAEXO,EAAKiW,QAAQN,SAAS+qH,GACtB1gI,EAAKghI,gBAAgB9rH,YAAY,aAGrC8tH,oBAAqB,WACjB,IAAIhjI,EAAOP,KAEXO,EAAKiW,QAAQf,YAAYwrH,GACzB1gI,EAAKghI,gBAAgBrrH,SAAS,YAC9B3V,EAAK+iI,qBAAuB,MAGhCq0B,cAAe,SAAShvJ,GACpB,IAAIpI,EAAOP,KACX,IAAIs8G,EAAY3zG,EAAaT,GAC7B,IAAIuC,EAAYlK,EAAKd,QAAQiL,SAC7B,IAAIktJ,EAAe,IAEnB,GAAIt7C,IAAcp0G,EACdo0G,EAAY,KAAOA,EAGvB,GAAI7xG,IAAc/L,EACd+L,EAAY9B,EAAa+B,SAG7B,GAAID,IAAc,GAAKlK,EAAKd,QAAQi2J,iBAChC,OAAOR,EAGX,GAAI30J,EAAKd,QAAQi2J,iBACbkC,EAAe,MAAQntJ,EAAY,IAGvC,GAAIlK,EAAKmxI,aAAep1B,EAAW,CAC/B/7G,EAAKmxI,WAAap1B,EAClB/7G,EAAKs3J,aAAe,IAAI3lJ,OAAO,gBAAkBoqG,EAAY,MAAQs7C,EAAe,QAAUt7C,EAAY,MAAQs7C,EAAe,SAGrI,OAAOr3J,EAAKs3J,cAGhBp1B,OAAQ,SAASngI,GACb,IAAI/B,EAAOP,KACX,IAAI6P,EAAUvN,EAAE3C,OAChB,IAAI2H,EAAQuI,EAAQvI,MACpB,IAAIqB,EAAepI,EAAKiiI,QAAQjiI,EAAKd,QAAQoF,QAE7CtE,EAAKm3J,UAAY,KAElBvkI,WAAW,WACN,IAAI5pB,EAAShJ,EAAKi+C,OAAO3uC,EAAQvI,OAEjC,GAAIiC,IAAW7K,EACX6B,EAAK4mI,QAAQ7/H,OACV,CACHuI,EAAQvI,MAAQiC,EAAO7D,WAAWvF,QAAQ+H,EAAOS,EAAaT,IAC9D,GAAI3H,EAAKo2J,QAAQptJ,KAAYA,IAAWhJ,EAAKo3J,cAAchvJ,GAAchC,KAAKkJ,EAAQvI,OAAQ,CAC1FA,EAAQ/G,EAAK42J,gBAAgBtnJ,EAAQvI,OACrC/G,EAAK4mI,QAAQ7/H,QAM7BwyH,QAAS,SAAS/qG,EAAQznB,GACtB,IAAI/G,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QAEnB,GAAI6H,IAAUjK,EACV,OAAOoC,EAAQsvB,GAGnBznB,EAAQ/G,EAAKi+C,OAAOl3C,GAEpB,IAAKA,GAASynB,IAAW,OACrB,OAGJtvB,EAAQsvB,GAAUznB,EAClBuI,EACKkU,IAAIxjB,EAAKg+F,OACTpoF,KAAK,aAAe4Y,EAAQznB,GAEjCuI,EAAQsG,KAAK4Y,EAAQznB,IAGzB4uJ,MAAO,SAAS7mF,EAAMxwC,GAClB,IAAIt+B,EAAOP,KAEX6+B,EAAUA,GAAW,IAErBrK,aAAcj0B,EAAKs2J,WACnBt2J,EAAKs2J,UAAY1jI,WAAW,WACxB5yB,EAAK21J,MAAM7mF,EAAM,KAClBxwC,GAEHt+B,EAAK+2J,MAAMjoF,IAGfioF,MAAO,SAASjoF,GACZ,IAAI9uE,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfioJ,EAAgBv3J,EAAKipH,OACrBliH,EAAQ/G,EAAKi+C,OAAO3uC,EAAQw7C,QAAU,EACtC5gD,EAAYlK,EAAKd,QAAQiL,UAAY,EAEzC,GAAI+E,KAAmBI,EAAQ,GAC3BtP,EAAKk0J,WAGT,GAAGl0J,EAAKd,QAAQg2J,QAAUnuJ,EACtBA,EAAQA,EAAM/G,EAAKd,QAAQg2J,OAG/BnuJ,IAAWA,EAAQ/G,EAAKd,QAAQ4vE,KAAOA,GAAMvgE,QAAQrE,GACrDnD,EAAQ/G,EAAKo2J,QAAQrvJ,GACrB/G,EAAK4mI,QAAQ7/H,GACb/G,EAAK6pH,QAAU,MAEf,GAAI0tC,IAAkBxwJ,EAClB/G,EAAK8B,QAAQyyJ,IAIrB5oC,aAAc,SAAS5pH,GACnBpF,EAAEoF,EAAEivC,eAAe1tB,YAAY88F,EAAOr+G,EAAEiF,OAAS,eAGrDwuJ,YAAa,SAASjxI,GAClB,IAAIvkB,EAAOP,KAEXO,EAAKg+F,MAAMz5E,OAAOA,GAClB,GAAIA,EACAvkB,EAAKg+F,MAAMlzE,WAAW,oBAEtB9qB,EAAKg+F,MAAMpoF,KAAK,cAAe,QAEnC5V,EAAKsP,QAAQiV,QAAQA,IAGzB05B,OAAQ,SAASl3C,EAAOoB,GACpB,OAAOg0C,EAAMp1C,EAAOtH,KAAKo3J,SAAS1uJ,GAAU1I,KAAKP,QAAQoF,SAG7D8K,OAAQ,SAASrI,EAAOmD,GACpB,IAAIstJ,EAAU/3J,KAAKP,QAAQkN,MAAQrP,EAAMqS,OAASqoJ,EAElD,OAAOD,EAAQzwJ,EAAOmD,IAG1B08H,QAAS,SAAS7/H,GACd,IAAI/G,EAAOP,KACPP,EAAUc,EAAKd,QACfg2J,EAASh2J,EAAQg2J,OACjB5wJ,EAASpF,EAAQoF,OACjB6F,EAAWjL,EAAQiL,SACnBhC,EAAUnI,EAAK62J,WACfzuJ,EAAepI,EAAKiiI,QAAQ39H,EAAQ6D,GACpCovJ,EACAG,EAEJ,GAAIvtJ,IAAahM,EACbgM,EAAW/B,EAAa+B,SAG5BpD,EAAQ/G,EAAKi+C,OAAOl3C,EAAOoB,GAE3BuvJ,EAAY3wJ,IAAU5I,EAEtB,GAAIu5J,EACA3wJ,EAAQuM,WAAWtT,EAAKoP,OAAOrI,EAAOoD,GAAW,IAGrDnK,EAAKipH,OAASliH,EAAQ/G,EAAKo2J,QAAQrvJ,GACnC/G,EAAK82F,aAAa/5F,EAAMoI,SAAS4B,EAAOzC,EAAQ6D,IAEhD,GAAIuvJ,EAAW,CACX,GAAGxC,EACCnuJ,EAASuM,WAAWtT,EAAKoP,OAAOrI,EAAMmuJ,EAAQ/qJ,GAAW,IAE7DpD,EAAQA,EAAM5B,WACd,GAAI4B,EAAMuF,QAAQ,QAAU,EACxBvF,EAAQ/G,EAAKoP,QAAQrI,EAAOoD,GAEhCotJ,EAAgBxwJ,EAChBA,EAAQA,EAAMnH,QAAQ+H,EAAOS,EAAaT,QACvC,CACHZ,EAAQ,KACRwwJ,EAAgB,KAGpBv3J,EAAKsP,QAAQw7C,IAAI/jD,GACjB/G,EAAKgiI,SAAWj7H,EAChB/G,EAAKsP,QAAQkU,IAAIxjB,EAAKg+F,OAAOpoF,KAAK,gBAAiB2hJ,IAGvDzgE,aAAc,SAAS/vF,GACnB,IAAI8Y,EAAQpgB,KAAKu+F,MAEjBn+E,EAAMirC,IAAI/jD,GACV,IAAKmpI,IAAyBnpI,EAC1B8Y,EAAMirC,IAAIrrD,KAAKP,QAAQ4gB,aAG3BD,EAAMjK,KAAK,QAASnW,KAAK6P,QAAQsG,KAAK,UAAYiK,EAAMirC,QAG5DkpG,OAAQ,WACJ,IAAIh0J,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QACnB,IAAIpQ,EAAUc,EAAKd,QACnB,IAAIjD,EAAKqT,EAAQsG,KAAK,MACtB,IAAIw+I,EACJ,IAAIC,EAEJ,GAAIn1J,EAAQquB,QAAU,KAAM,CACxB6mI,EAAW10J,EAAcR,EAAQquB,OAASruB,EAAQquB,MAAM6mI,SAAW,MACnEC,EAAY30J,EAAcR,EAAQquB,OAASruB,EAAQquB,MAAM+sB,QAAUp7C,EAAQquB,MAE3E,GAAI6mI,EAAU,CACVp0J,EAAKi0J,wBAA0Bj0J,EAAKiW,QAAQpB,KAAK,iBAAiBG,SAClEhV,EAAKioE,cAAgB,IAAIlrE,EAAM2pB,GAAGm4D,cAAc7+E,EAAKi0J,wBAAyB,CAAEznI,OAAQxsB,IAG5F,GAAIjD,EAAM2D,WAAW2zJ,GACjBA,EAAYA,EAAUpyJ,KAAKjC,GAG/B,IAAKq0J,EACDA,EAAY,GAGhB,IAAKp4J,EAAI,CACLA,EAAKiD,EAAQhD,KAAO,IAAMa,EAAMksB,OAChC3Z,EAAQsG,KAAK,KAAM3Z,GAGvB+D,EAAKklF,YAAcvoF,EAAE,iBAAmBm3J,EAAe,UAAY73J,EAAK,KAAOo4J,EAAY,aAAahtF,aAAarnE,EAAKiW,SAE1H,GAAKjW,EAAKsP,QAAQsG,KAAK,cAAgB9Y,GAAekD,EAAKsP,QAAQsG,KAAK,cAAgB9Y,EACpFkD,EAAKklF,YAAYr/D,GAAG,QAAUyC,EAAItoB,EAAK8+B,MAAM99B,KAAKhB,MAK9Dy7E,SAAU,WACN,IAAIz7E,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfglJ,EAAahlJ,EAAQ,GACrB2G,EAEJA,EAAU3G,EAAQyiB,QAAQ,qBAE1B,IAAK9b,EAAQP,GAAG,yBACZO,EAAU3G,EAAQ0T,OAAOnO,KAAK,WAAWG,SAG7CiB,EAAQ,GAAGZ,MAAMqE,QAAU46I,EAAWj/I,MAAMqE,QAC5C46I,EAAWj/I,MAAMD,MAAQ,GACzBpV,EAAKiW,QAAUA,EAAQN,SAAS,4BACTA,SAAS2+I,EAAWj8I,WACpBnD,YAAY,0BACZZ,IAAI,UAAW,KAG1C4tD,OAAQ,WACJ,IAAIliE,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfsgH,EAAStgH,EAAQsG,KAAK,QACtB8qB,EAAOkvF,EAASjzH,EAAE,IAAMizH,GAAUtgH,EAAQ0K,QAAQ,QAEtD,GAAI0mB,EAAK,GAAI,CACT1gC,EAAK+oH,cAAgB,WACjBn2F,WAAW,WACP5yB,EAAK+G,MAAMuI,EAAQ,GAAGvI,OACtB/G,EAAK2M,IAAI3M,EAAKsmI,gBAAgB35H,KAC9B3M,EAAKwO,IAAIxO,EAAKsmI,gBAAgB93H,QAItCxO,EAAK8oH,MAAQpoF,EAAK7a,GAAG,QAAS7lB,EAAK+oH,mBAY/C,SAASwtC,EAAWx/G,EAAWlX,EAAM3gC,GACjC,IAAImZ,EAAY0+B,IAAc,WAAa,UAAY,UACvD,IAAI1d,EAAM0d,IAAc,WAAa,WAAa,WAElD,OAAOpzC,EAAK27F,aAAa,0EAA4EjmE,EAAM,iBAAmBwG,EAAO,YAAcA,EAAO,cAAe5iC,EAAO,GAAIiC,EAAS,CACzLs+F,KAAMnlF,EACNylF,MAAO,KACPpxF,QAAS,QAIjB,SAAS+qJ,EAAS1wJ,EAAOmD,GACrB,IAAIjG,EAAQqP,WAAWvM,EAAO,IAAI5B,WAAW7C,MAAMqF,GAEnD,GAAI1D,EAAM,GACNA,EAAM,GAAKA,EAAM,GAAGvB,UAAU,EAAGwH,GAGrC,OAAOjG,EAAM1B,KAAKoF,GAO1B,OAhCI5K,EAAMqvB,cAAc0Y,eAAe,iBAAkB,YAErD/nC,EAAMqvB,cAAc4Y,eAAe,iBAAkB,CAAC,CAClD/Y,KAAM,UACNtd,OAAQ5R,EAAMqvB,cAAc2X,cAAchwB,OAAO,CAAC,CAAC,OAAQ,aAyB/D2S,EAAG+J,OAAOmkI,GAGP/3J,OAAOE,QAj8Bd,CAm8BoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,4BAA4B,CAAE,cACtC,WAEH,IAAUY,EA6IPE,OAAOE,MAAMH,OA7IHE,OAAb,EAIQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM2pB,GACXH,EAASG,EAAGH,OACZwhI,EAAahrJ,EAAMgrJ,WAEnB9qJ,EAASN,EAAEM,OAEXshF,EAAK,mBACLiiB,EAAW,aAEXm3D,EAAgBpxI,EAAOtpB,OAAO,CAC9BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAAM+zG,EAEjBjtF,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GACnCoQ,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QACfc,EAAKipH,OAAS/pH,EAAQ6H,MAAQghJ,EAAW7oJ,EAAQ6H,OACjD/G,EAAK43J,UAAYtoJ,EAAQsG,KAAK,aAAe,EAE7C49F,EAASxzG,EAAK63J,QAAU34J,EAAQs0G,OAChC,GAAIA,EACAlkG,EAAQsG,KAAK,kBAAmB49F,GAGpC,GAAIt0G,EAAQ44J,YACR93J,EAAKkjG,eAAiBljG,EAAKosH,gBAGnCltH,QAAS,CACLhD,KAAM,gBACN6K,MAAO,KACP+wJ,YAAa,MAEjBr2J,OAAQ,CACJ,SACA,SACA,cACA,UAEJq9F,MAAO,SAAS/3F,GACZ,GAAIA,IAAUjK,EAAW,CAErB2C,KAAKwpH,OAAS8+B,EAAWhhJ,GACzBtH,KAAKs4J,UAAUt4J,KAAKwpH,QAGxB,OAAOxpH,KAAKwpH,QAEhBliH,MAAO,SAAS+3F,GACZA,EAAQr/F,KAAKq/F,MAAMA,GAEnB,GAAIA,EACA,GAAIr/F,KAAKP,QAAQmxB,QACbyuE,EAAQA,EAAM8oD,iBAEd9oD,EAAQA,EAAM6oD,QAItB,OAAO7oD,GAAS,MAEpBj7E,OAAQ,SAASA,GACb,GAAIxkB,UAAUE,SAAW,EACrBskB,EAAS,KAGbpkB,KAAKwW,QAAQqN,YAAYk9E,GAAW38E,GAEpCpkB,KAAKu4J,UAAUn0I,IAEnBqxB,QAAS,SAAS4pD,EAAOm5D,GACrB,IAAIrrH,EAAOntC,KAAKwpH,OAEhBnqB,EAAQr/F,KAAKq/F,MAAMA,GAEnB,IAAKm5D,EACD,GAAKn5D,IAAUA,EAAM54C,OAAOtZ,IAAWkyD,IAAU,MAAQA,IAAUlyD,EAAO,CACtEntC,KAAK6P,QAAQxN,QAAQ,UACrBrC,KAAKqC,QAAQ,SAAU,CAAEiF,MAAOtH,KAAKsH,eAClC,IAAKtH,KAAKq4J,YACbr4J,KAAKqC,QAAQ,WAIzBohG,eAAgB,SAASpE,GACrButC,EAAa5sI,KAAM,SAAUq/F,IAEjCstB,eAAgB,SAASttB,GACrButC,EAAa5sI,KAAM,SAAUq/F,IAEjCpzE,QAAS,WACL,GAAIjsB,KAAK6P,QACL7P,KAAK6P,QAAQwjB,IAAIyrD,GAErB,GAAI9+E,KAAKwW,QACLxW,KAAKwW,QAAQ6c,IAAIyrD,GAAI/uD,KAAK,KAAKsD,IAAIyrD,GAEvC9+E,KAAKwW,QAAU,KACfsQ,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,OAE3Bs4J,UAAWp7J,EAAEU,KACb66J,cAAe,WACX,OAAO,MAEX5rE,QAAS,WACL7sF,KAAKqC,QAAQ,aAIrB,SAASuqI,EAAagI,EAAMrtI,EAAM83F,GAC9BA,EAAQipD,EAAWjpD,GAEnB,GAAKA,IAAUA,EAAM54C,OAAOmuF,EAAKv1C,UAAaA,IAAUu1C,EAAKv1C,QAAS,CAClE,GAAI93F,GAAQ,SAIRqtI,EAAKprB,OAASnqB,EAElB,GAAIA,GAASA,EAAMz4F,GAAK,EACpBy4F,EAAQA,EAAM8oD,iBACX,GAAI9oD,EACPA,EAAQA,EAAM6oD,QAGlBtT,EAAKvyI,QAAQkF,EAAM,CAAED,MAAO+3F,KAaxC,OATI7hG,EAAOypB,EAAI,CACPyxI,YAAa,CACTR,cAAeA,KAOpB96J,OAAOE,QAnJd,CAqJoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OACrF,SAAavtC,QACTA,OAAO,gCAAgC,CACnC,cAEL,WAEH,IAAUY,EAgMPE,OAAOE,MAAMH,OAhMHE,OAAb,EACQq7J,EAAcp7J,MAAM2pB,GAAGyxI,YACvBl7J,EAASN,EAAEM,OACXmsJ,EAAQrsJ,MAAMqsJ,MACdrB,EAAahrJ,MAAMgrJ,WAEnBqQ,EAAc,IACdC,EAAe,EACfC,EAAa,GAIjB,SAASC,EAAYC,EAAYC,GAC7B,IAAIC,EAAYn7J,KAAKoP,IAAI6rJ,EAAYC,GACrC,IAAIE,EAAUp7J,KAAKiR,IAAIgqJ,EAAYC,GACnC,OAAQC,EAAY,MAASC,EAAU,KAG3C,SAASC,EAAwBvyJ,EAAGma,GAChC,OAAO+3I,EACHM,EAAaC,EAAezyJ,EAAGma,IAC/Bq4I,EAAaC,EAAet4I,EAAG,CAAE4nI,EAAG,EAAGh7I,EAAG,EAAGoT,EAAG,EAAGna,EAAG,MAG9D,SAASwyJ,EAAchR,GACnB,IAAIxhJ,EAAI,CAACwhJ,EAAIO,EAAGP,EAAIz6I,EAAGy6I,EAAIrnI,GAAG7P,IAAI,SAAU/J,GACxCA,GAAK,IACL,OAAOA,GAAK,OAAUA,EAAI,MAAQrJ,KAAKmmC,KAAK98B,EAAI,MAAS,MAAO,OAEpE,OAAOP,EAAE,GAAK,MAASA,EAAE,GAAK,MAASA,EAAE,GAAK,MAGlD,SAASyyJ,EAAeC,EAAiBC,GACrC,IAAIC,EAAKC,EAAcH,EAAgB3Q,EAAG,EAAG,KAC7C,IAAI1wI,EAAKwhJ,EAAcH,EAAgB3rJ,EAAG,EAAG,KAC7C,IAAI+rJ,EAAKD,EAAcH,EAAgBv4I,EAAG,EAAG,KAC7C,IAAI6oB,EAAK6vH,EAAcH,EAAgB1yJ,EAAG,EAAG,GAE7C,IAAI+yJ,EAAKF,EAAcF,EAAgB5Q,EAAG,EAAG,KAC7C,IAAIiR,EAAKH,EAAcF,EAAgB5rJ,EAAG,EAAG,KAC7C,IAAIksJ,EAAKJ,EAAcF,EAAgBx4I,EAAG,EAAG,KAE7C,MAAO,CACH4nI,EAAG7qJ,KAAK6O,OAAQ,EAAIi9B,GAAM+vH,EAAO/vH,EAAK4vH,GACtC7rJ,EAAG7P,KAAK6O,OAAQ,EAAIi9B,GAAMgwH,EAAOhwH,EAAK3xB,GACtC8I,EAAGjjB,KAAK6O,OAAQ,EAAIi9B,GAAMiwH,EAAOjwH,EAAK8vH,IAI9C,SAASD,EAAcK,EAAW/qJ,EAAK7B,GACnC,IAAK6sJ,EAAUD,IAAchmJ,MAAMgmJ,GAC/B,OAAO/qJ,EAGX,OAAO+qJ,GAAa/qJ,EAAMA,EAAM+qJ,GAAa5sJ,EAAMA,EAAM4sJ,EAG7D,SAASC,EAAUzyJ,GAAS,OAAOA,IAAU,MAAQA,IAAUjK,EAK/D,SAAS28J,EAAmBC,EAAqBC,EAAMX,GACnD,IAAIY,EAAY,SAAUC,EAAUC,EAAYluB,EAAKC,EAAMjiF,GACvD,IAAImwG,GAAOnuB,EAAMC,GAAQ,EACzB,IAAImuB,EAAc/8J,EAAO,GAAI08J,EAAM,CAAEnsJ,EAAGssJ,EAAaJ,EAAoBtkJ,MAAOxO,EAAG,EAAImzJ,EAAML,EAAoBpkJ,SACjH,IAAI2kJ,EAAkBrB,EAAwB7Q,EAAWmS,EAAgBF,IAActS,UAAWK,EAAWiR,GAAiBtR,WAE9H,GAAI9b,EAAM,GAAMC,EACZ,GAAIouB,EAAkBJ,EAAW,GAAKI,EAAkBJ,EAAW,EAC/D,OAAOE,OAEP,OAAO,KAIf,GAAInwG,EAASqwG,EAAiBJ,GAC1B,OAAOD,EAAUC,EAAUC,EAAYluB,EAAKC,GAAQA,EAAOD,GAAO,EAAGhiF,GAEzE,OAAOgwG,EAAUC,EAAUC,EAAYluB,GAAOC,EAAOD,GAAO,EAAGC,EAAMjiF,IAGzE,IAAIA,EAAW,SAAUvjD,EAAGma,GACxB,OAAOna,EAAIma,GAGf,IAAI25I,EAAmB,SAAU9zJ,EAAGma,GAChC,OAAOna,EAAIma,GAGf,IAAI45I,EAAW,SAAUP,EAAUQ,EAAWC,GAC1C,IAAIC,EAAS,GACb,IAAK,IAAIj7J,EAAI,EAAGA,GAAKo6J,EAAoBtkJ,MAAO9V,GAAKo6J,EAAoBtkJ,MAAMilJ,EAAW,CACvF,IAAItzJ,EAAQ6yJ,EAAUC,EAAUv6J,EAAG,EAAGo6J,EAAoBpkJ,OAAQglJ,EAAWH,EAAmBvwG,GAC/F,GAAI7iD,IAAU,KACVwzJ,EAAO54J,KAAK,CAACrC,EAAGyH,IAGxB,OAAOwzJ,GAGX,IAAIC,EAAoBC,EAAcC,EAAaC,IACnD,IAAIt4G,EAAQu4G,EAAQR,EAAShC,EAAaE,EAAY,OAAQkC,GACtDI,EAAQR,EAAShC,EAAaE,EAAY,MAAOkC,GACjDI,EAAQR,EAAS/B,EAAcC,EAAY,OAAQkC,GACnDI,EAAQR,EAAS/B,EAAcC,EAAY,MAAOkC,GAE1D,MAAO,kJACKn4G,EAAS,SAGzB,SAASu4G,EAAQL,EAAQzgH,GACrB,GAAIygH,EAAOh7J,SAAW,EAClB,MAAO,GAGX,IAAIs7J,EAAU,SAAUzrF,EAAK0rF,EAAOx7J,EAAG+G,GACnC,OAAO/G,IAAM,EAETvC,MAAMuH,OAAO,YAAaw2J,EAAM,GAAIA,EAAM,IAE1C/9J,MAAMuH,OAAO,UAAW8qE,EAAKt1B,EAAQghH,EAAOx7J,EAAG+G,KAIvD,IAAI4G,EAAIstJ,EAAOv5G,OAAO65G,EAAS,IAE/B,OAAO99J,MAAMuH,OAAO,8DAA+D2I,GAGvF,SAASwtJ,EAAcM,GACnB,OAAO,SAASD,EAAOx7J,EAAG+G,GAEtB,IAAI20J,EAAMD,EAAiB10J,EAAE/G,EAAI,GAAI+G,EAAE/G,EAAI,GAAIw7J,GAG/C,IAAIG,EAAMF,EAAiBD,EAAOz0J,EAAE/G,EAAI,GAAI+G,EAAE/G,EAAI,GAAI,MAEtD,OAAOvC,MAAMuH,OAAO,4BAA6B02J,EAAI,GAAIA,EAAI,GAAIC,EAAI,GAAIA,EAAI,GAAIH,EAAM,GAAIA,EAAM,KAIzG,SAASJ,EAAaQ,GAClB,OAAO,SAAU5yJ,EAASmsE,EAAUrZ,EAAM9sD,GAIlC,IAAIy6I,EAAIt0E,GAAYnsE,EACpB,IAAI08C,EAAIoW,GAAQ9yD,EAChB,IAAI6yJ,EAAS,GAGb,IAAIxS,EAAIuS,EAASnS,EAAG/jG,GAGpB,IAAIo2G,EAAQzS,EAAEyS,OAAS9sJ,EAAU/Q,KAAK89J,GAAK,GAC3C,IAAI97J,EAASopJ,EAAEppJ,OAAS47J,EAGxB,IAAIz9H,EAAIp1B,EAAQ,GAAK/K,KAAK+9J,IAAIF,GAAS77J,EACvC,IAAIqO,EAAItF,EAAQ,GAAK/K,KAAKg+J,IAAIH,GAAS77J,EAEvC,MAAO,CAACm+B,EAAG9vB,IAIvB,SAAS+sJ,EAAMa,EAAQC,GACnB,IAAIC,EAAUD,EAAO,GAAKD,EAAO,GACjC,IAAIG,EAAUF,EAAO,GAAKD,EAAO,GAEjC,MAAO,CACHj8J,OAAQhC,KAAKuzC,KAAKvzC,KAAKmmC,IAAIg4H,EAAS,GAAKn+J,KAAKmmC,IAAIi4H,EAAS,IAC3DP,MAAO79J,KAAK0zE,MAAM0qF,EAASD,IAInC,SAASxB,EAAiBP,GACtB,IAAIiC,EAAM1C,EAAcS,EAAKnR,EAAG,EAAG,OACnC,IAAIsR,EAAaZ,EAAcS,EAAKnsJ,EAAG,EAAG,GAC1C,IAAIzG,EAAQmyJ,EAAcS,EAAK/yJ,EAAG,EAAG,GACrC,IAAIkiJ,EAAQoQ,EAAcS,EAAKtzJ,EAAG,EAAG,GAErC,OAAO+iJ,EAAMe,QAAQyR,EAAK9B,EAAY/yJ,EAAO+hJ,GAAOlB,YAY5D,OATI3qJ,EAAOk7J,EAAa,CAChB0D,kBAAmB,CACfjD,wBAAyBA,EACzBa,mBAAoBA,KAMzB58J,OAAOE,QAxMd,CA0MoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OACrF,SAAavtC,QACTA,OAAO,4BAA4B,CAAE,aAAc,uBACpD,WAEH,IAAUY,EAwmBPE,OAAOE,MAAMH,OAxmBHE,OAAb,EAIQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM2pB,GACX5lB,EAAa/D,EAAM+D,WACnBinJ,EAAahrJ,EAAMgrJ,WACnB9qJ,EAASN,EAAEM,OACXmsJ,EAAQrsJ,EAAMqsJ,MACd0S,EAAO/+J,EAAMiqB,KACb+0I,EAAkB,mBAClBC,EAAQ,UACRC,EAAQ,UACR19E,EACAu3C,EAAa,UADR,mBAEL6hC,EAAgBjxI,EAAGyxI,YAAYR,cAE/BkE,EAAoBn1I,EAAGyxI,YAAY0D,kBAEvC,SAASl7J,EAAesiG,GAAMA,EAAGtiG,iBAEjC,SAASK,EAAK4kB,EAAUnE,GACpB,OAAO,WACH,OAAOmE,EAASzlB,MAAMshB,EAAKpiB,YAInC,IAAI68J,EAAap7J,EAAW7D,OAAO,CAC/BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEXO,EAAKsP,QAAUA,EACftP,EAAKd,QAAUA,EAEfc,EAAKm8J,WAAap/J,EAAMmrC,WAAW,CAC/Bk0H,WAAYp8J,EAAKo8J,WAAWp7J,KAAKhB,GACjCq8J,QAASr8J,EAAKq8J,QAAQr7J,KAAKhB,GAC3Bg9F,KAAM,SAAUA,GACZ,OAAOA,IAASv9F,KAAKspB,IAAI,WAE7BzkB,OAAQpF,EAAQoF,OAChBwP,QAAS5U,EAAQ4U,QACjB+zI,IAAK,KACLgB,IAAK,WACD,OAAOppJ,KAAKspB,IAAI,SAAW,MAAQtpB,KAAKspB,IAAI,OAAO4+H,MAAM,CAACmB,MAAO5pJ,EAAQmxB,aAIjFrwB,EAAKq2D,eAAiBr2D,EAAKmrC,OAAOnqC,KAAKhB,GAEvCA,EAAKm8J,WAAWn7J,KAAK,SAAUhB,EAAKq2D,gBAEpCr2D,EAAK2xH,UAEL3xH,EAAKsP,QAAQuW,GAAGiwG,EAAY91H,EAAKq8J,QAAQr7J,KAAKhB,IAE9Cc,EAAWV,GAAGF,KAAK+B,KAAKjC,IAG5Bi+F,UAAWlhG,EAAM0G,SACb,2DACA,yBACI,oPACD,YACH,SACA,QAIA,oEACA,0EACI,sLACA,yDACJ,SACA,QAGA,oEACA,kEACI,kSACA,uDACJ,SACA,kEACI,oSACA,uDACJ,SACA,kEACI,kSACA,uDACJ,SACA,yBACA,kEACI,uTACA,uDACJ,SACA,QACA,SACJioB,QAAS,WACL,IAAI1rB,EAAOP,KAGXO,EAAKm8J,WAAWz6J,OAAO,SAAU1B,EAAKq2D,gBACtCt5D,EAAM2E,OAAO1B,EAAKsP,SAClBvS,EAAM2uB,QAAQ1rB,EAAKsP,SACnBtP,EAAKsP,QAAQwjB,IAAIgjG,UACV91H,EAAKm8J,kBACLn8J,EAAKq2D,gBAEhBs7D,QAAS,WACL,IAAI3xH,EAAOP,KAEXO,EAAKsP,QACAkxD,OAAOxgE,EAAKi+F,UAAU,CAAE31E,GAAIvrB,EAAMurB,GAAIW,KAAMlsB,EAAMksB,OAAQ/pB,QAASc,EAAKd,WACxE8V,SAELjY,EAAMiE,KAAKhB,EAAKsP,QAAStP,EAAKm8J,YAC9Bn8J,EAAKsP,QAAQsG,KAAK,QAAU7Y,EAAMurB,GAAK,OAAQ,SAEnDvhB,MAAO,SAAU+3F,GACb,IAAI9+F,EAAOP,KAEXO,EAAKs8J,OAAUx9D,GAASA,EAAM4oD,WAAcK,EAAWkU,GACvDj8J,EAAKu8J,oBAAsB,KAC3Bv8J,EAAKm8J,WAAWnzI,IAAI,MAAOhpB,EAAKs8J,eACzBt8J,EAAKu8J,qBAEhBz4F,MAAO,WACH,IAAI9jE,EAAOP,KAEXO,EAAKu8J,oBAAsB,KAC3Bv8J,EAAKm8J,WAAWnzI,IAAI,MAAO++H,EAAWkU,WAC/Bj8J,EAAKu8J,qBAEhBH,WAAY,WACR,IAAIp8J,EAAOP,KACP69C,EAAQt9C,EAAKm8J,WACbK,EAAgBl/G,EAAMh5C,OACtBsK,EAAQ0uC,EAAMxpC,QAAQxH,QAAQkwJ,GAAiB,EAEnD5tJ,EAAQA,GAAS0uC,EAAMxpC,QAAQvU,OAAS,EAAIqP,EAE5C5O,EAAKu8J,oBAAsB,KAC3Bv8J,EAAKm8J,WAAWnzI,IAAI,SAAUs0B,EAAMxpC,QAAQlF,WACrC5O,EAAKu8J,qBAEhBpxH,OAAQ,SAAU83D,GACd,IAAIjjG,EAAOP,KAEX,GAAIwjG,EAAG3iF,MAAMhU,QAAQ,QAAU,EAAG,CAC9BtM,EAAKs8J,OAASt8J,EAAKy8J,eAAez8J,EAAKm8J,WAAWtU,IAAID,aACtD5nJ,EAAKm8J,WAAWnzI,IAAI,MAAOhpB,EAAKs8J,OAAO3U,MAAM,CAAEmB,MAAO9oJ,EAAKd,QAAQmxB,gBAChE,GAAI4yE,EAAG3iF,QAAU,MAAO,CAC3BtgB,EAAKs8J,OAASt8J,EAAKy8J,eAAex5D,EAAGjhG,OAAOihG,EAAG3iF,QAC/CtgB,EAAKm8J,WAAWnzI,IAAI,MAAOhpB,EAAKs8J,QAGpC,IAAKt8J,EAAKu8J,oBACNv8J,EAAK8B,QAAQ,SAAU,CAACiF,MAAO/G,EAAKs8J,UAG5CG,eAAgB,SAAU39D,GACtB,IAAI9+F,EAAOP,KAEX,IACIq/F,EAAQipD,EAAWjpD,IAAU9+F,EAAKs8J,OACpC,MAAOt3I,GACL85E,EAAQ9+F,EAAKs8J,OAGjB,OAAOx9D,GAEXu9D,QAAS,SAAUp5D,GACf,IAAIjjG,EAAOP,KACPi9J,EAAU//J,EAAEsmG,EAAG7jG,QAAQsE,KAAK,gBAEhC,GAAIu/F,EAAGpiE,UAAYi7H,EAAKz0I,OAAS1qB,EAAEsmG,EAAG7jG,QAAQsW,GAAG,SAAU,CACvD,GAAGgnJ,GAAWA,EAAQjoG,QAClBioG,EAAQjoG,UAGZz0D,EAAK8B,QAAQ,SAAU,CAACiF,MAAO/G,EAAKs8J,SACpCt8J,EAAK8B,QAAQ,SAAU,CAACiF,MAAO/G,EAAKs8J,aAK5CK,EAAgBhF,EAAc16J,OAAO,CACrCiD,KAAM,SAAUoP,EAASpQ,GACrB,IAAIc,EAAOP,KACPsH,EAEJ4wJ,EAAcv3J,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAE1CA,EAAUc,EAAKd,QAAUnC,EAAM0D,WAAW,GAAIT,EAAKd,QAASA,GAE5D,GAAGA,EAAQ6nB,SAAS61I,aAChB19J,EAAQ6nB,SAAS8hI,IAAM3pJ,EAAQ6nB,SAAS61I,aAG5C19J,EAAQ6nB,SAAW7nB,EAAQ6nB,SAAWpqB,EAAEM,OAAO+C,EAAKd,QAAQ6nB,SAAU7nB,EAAQ6nB,UAAY/mB,EAAKd,QAAQ6nB,SACvGzX,EAAUtP,EAAKsP,QAEftP,EAAKiW,QAAU3G,EAAQqG,SAAS,mBAC3B6qD,OAAOxgE,EAAKi+F,UAAU/+F,IAE3Bc,EAAK68J,aAAelgK,EAAE,oDAAqD2S,GAC3EtP,EAAK88J,qBAAuBngK,EAAE,0BAA2B2S,GACzDtP,EAAK+8J,cAAgBpgK,EAAE,kCAAmC2S,GAE1DtP,EAAKg9J,WAELh9J,EAAKi9J,WAELl2J,EAAQ/G,EAAKipH,OAEb,GAAGjpH,EAAK88J,qBAAqBv9J,OAAQ,CACjCS,EAAKk9J,YAAc,IAAIhB,EAAWl8J,EAAK88J,qBAAsB7/J,EAAO,GAAIiC,EAAS,CAC7E2rB,SAAUprB,KAAKm4J,aAGnB53J,EAAKk9J,YAAYl8J,KAAK,SAAU,SAASiiG,GACrCjjG,EAAK+3J,UAAU90D,EAAGl8F,MAAO,QAG7B/G,EAAKk9J,YAAYl8J,KAAK,SAAU,SAASiiG,GACrC,IAAInE,EAAQipD,EAAW9kD,EAAGl8F,OAC1B/G,EAAKk1C,QAAQ4pD,GACb9+F,EAAK8B,QAAQ,cAAe,CAAEiF,MAAO/G,EAAK+G,YAIlD/G,EAAK+3J,UAAUhxJ,IAEnB7H,QAAS,CACLhD,KAAO,gBACPm0B,QAAU,MACVxQ,MAAQ,KACRvb,OAAQ,MACRwP,QAAS,CAAC,MAAO,OACjBqpJ,aAAc,MACd1rJ,KAAM,SACNsV,SAAU,CACNq2I,cAAe,kBACfz2H,KAAM,OACN02H,KAAM,OACNxU,IAAK,MACLyU,aAAc,gBACd/X,IAAK,MACLhE,MAAO,QACP9C,KAAM,OACNqK,MAAO,UAGf7qD,UAAWlhG,EAAM0G,SACb,gDACI,yHAEA,wCACI,wDACA,qBACI,0DACJ,QACJ,SACJ,SAEA,mBACA,gDACA,SACA,QAEA,0BACI,sDACA,SACJ,SAEJu0J,UAAW,SAASn0I,GAChBpkB,KAAK89J,WAAW15I,OAAOA,GAEvB,GAAIpkB,KAAK+9J,eACL/9J,KAAK+9J,eAAe35I,OAAOA,GAG/BpkB,KAAKwW,QAAQuZ,KAAK,SAAS5Z,KAAK,YAAaiO,GAE7C,IAAIiR,EAASr1B,KAAKg+J,SAASjuI,KAAK,iBAEhC,GAAI3L,EACAiR,EAAOlf,KAAK,WAAYnW,KAAKm4J,gBAE7B9iI,EAAOhK,WAAW,aAG1BkyI,SAAU,WACN,IAAIh9J,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfouJ,EAAYpuJ,EAAQkgB,KAAK,iBACzBmuI,EAAgBruJ,EAAQkgB,KAAK,mBAEjC,SAASouI,EAAU77J,GACf/B,EAAK+3J,UAAU/3J,EAAK69J,QAAQ97J,EAAEgF,MAAO,KAAM,KAAM,OAGrD22J,EAAU9nJ,KAAK,aAAc,kBAC7B5V,EAAKu9J,WAAaG,EAAUI,YAAY,CACpCtvJ,IAAK,EACL7B,IAAK,IACL4/I,cAAe,OACfmC,YAAa,MACbp6D,YAAa,WACbypE,MAAOH,EACPzyH,OAAQyyH,IACTl6J,KAAK,eAER,SAASs6J,EAAcj8J,GACnB/B,EAAK+3J,UAAU/3J,EAAK69J,QAAQ,KAAM,KAAM,KAAM97J,EAAEgF,MAAQ,MAG5D42J,EAAc/nJ,KAAK,aAAc,WACjC5V,EAAKw9J,eAAiBG,EAAcG,YAAY,CAC5CtvJ,IAAK,EACL7B,IAAK,IACL4/I,cAAe,OACfmC,YAAa,MACbp6D,YAAa,WACbypE,MAAOC,EACP7yH,OAAQ6yH,IACTt6J,KAAK,gBAEZu5J,SAAU,WACN,IAAIj9J,EAAOP,KACP6P,EAAUtP,EAAKsP,QACf2uJ,EAAU3uJ,EAAQkgB,KAAK,oBACvB0uI,EAAYD,EAAQzuI,KAAK,iBAAiB5Z,KAAK,WAAY,GAAGiQ,GAAGiwG,EAAY90H,EAAKhB,EAAKihG,SAAUjhG,IAErG,SAAS08C,EAAOhf,EAAG9vB,GACf,IAAI8F,EAASjU,KAAKiU,OACdg9B,EAAKhT,EAAIhqB,EAAOgB,KAAMi8B,EAAK/iC,EAAI8F,EAAO8L,IACtC2+I,EAAK1+J,KAAK2V,MAAOgpJ,EAAK3+J,KAAK6V,OAE/Bo7B,EAAKA,EAAK,EAAI,EAAIA,EAAKytH,EAAKA,EAAKztH,EACjCC,EAAKA,EAAK,EAAI,EAAIA,EAAKytH,EAAKA,EAAKztH,EACjC3wC,EAAKq+J,UAAU3tH,EAAKytH,EAAI,EAAIxtH,EAAKytH,GAGrCp+J,EAAKs+J,WAAa,IAAIvhK,EAAM+1C,WAAWmrH,EAAS,CAC5ChqH,OAAQ,KACR7B,MAAO,SAASrwC,GACZtC,KAAKiU,OAAS3W,EAAM2kB,UAAUu8I,GAC9Bx+J,KAAK2V,MAAQ6oJ,EAAQ7oJ,QACrB3V,KAAK6V,OAAS2oJ,EAAQ3oJ,SACtB4oJ,EAAUp/H,QACV4d,EAAOz6C,KAAKxC,KAAMsC,EAAE27B,EAAE5f,SAAU/b,EAAE6L,EAAEkQ,WAExClS,MAAO,WACHqyJ,EAAQtoJ,SAAS,cACjBuoJ,EAAUp/H,SAEdzK,KAAM,SAAStyB,GACXA,EAAEpB,iBACF+7C,EAAOz6C,KAAKxC,KAAMsC,EAAE27B,EAAE5f,SAAU/b,EAAE6L,EAAEkQ,WAExCza,IAAK,WACD46J,EAAQ/oJ,YAAY,iBAI5BlV,EAAKy9J,SAAWQ,EAChBj+J,EAAKu+J,WAAaL,GAEtBM,mBAAoB,SAAU1/D,GAC1B,IAAI9+F,EAAOP,KAEX,GAAIO,EAAKd,QAAQi+J,aAAc,CAC3Bn9J,EAAKd,QAAQi+J,aAAexgK,EAAE+C,cAAcM,EAAKd,QAAQi+J,cAAgBlgK,EAAO,GAAI+C,EAAKd,QAAQi+J,aAAc,CAC3GnE,gBAAiBl6D,IAChB,CACDk6D,gBAAiBl6D,GAGrB9+F,EAAKy+J,qBAAqBz+J,EAAK8+F,SAAWipD,EAAWiU,MAG7DjE,UAAW,SAASj5D,EAAO4/D,GACvB,IAAI1+J,EAAOP,KAEX,IAAKq/F,EAAO,CACR9+F,EAAKkiE,SACL,OAGJ,IAAKw8F,GAAmB1+J,EAAKk9J,YACzBl9J,EAAKk9J,YAAYn2J,MAAM+3F,GAG3B9+F,EAAKkjG,eAAepE,GACpB9+F,EAAK2+J,WAAW7/D,GAEhB,GAAG9+F,EAAK+8J,cAAcx9J,OAClBS,EAAKy+J,qBAAqB3/D,IAGlC58B,OAAQ,WACJ,IAAIliE,EAAOP,KAEX,GAAIO,EAAKk9J,YACLl9J,EAAKk9J,YAAYp5F,QAGrB9jE,EAAK4+J,YACL5+J,EAAK6+J,uBAETD,UAAW,WACP,IAAI5+J,EAAOP,KACPq/F,EAAQipD,EAAWkU,GAEvBj8J,EAAK2+J,WAAW7/D,IAEpB6/D,WAAY,SAAU7/D,GAClB,IAAI9+F,EAAOP,KACPsvF,EAAO/uF,EAAKy9J,SAEhB3+D,EAAQA,EAAMyoD,QAEdvnJ,EAAKu+J,WAAWjqJ,IAAI,CAEhBI,KAAMoqF,EAAMtxF,EAAIuhF,EAAK35E,QAAU,KAE/BoK,KAAM,EAAIs/E,EAAMl4F,GAAKmoF,EAAKz5E,SAAW,OAGzCtV,EAAK68J,aAAavoJ,IAAIynJ,EAAiB3S,EAAMe,QAAQrrD,EAAM0pD,EAAG,EAAG,EAAG,GAAGb,SACvE3nJ,EAAKu9J,WAAWx2J,MAAM+3F,EAAM0pD,GAE5B,GAAIxoJ,EAAKw9J,eAAgB,CACrBx9J,EAAKw9J,eAAevnJ,QAAQuZ,KAAK,mBAAmBlb,IAAI,aAAc,wCAA0C80I,EAAMe,QAAQrrD,EAAM0pD,EAAG,EAAG,EAAG,GAAGb,SAChJ3nJ,EAAKw9J,eAAez2J,MAAM,IAAM+3F,EAAMz4F,KAG9Cw4J,oBAAqB,WACjB,IAAI7+J,EAAOP,KACPq/J,EAAkB9+J,EAAKd,QAAQi+J,aAEnC,GAAGn9J,EAAK+8J,cAAcx9J,OAClBS,EAAKy+J,qBAAqBK,EAAgB9F,gBAAkBjR,EAAW+W,EAAgB9F,iBAAmBjR,EAAWiU,KAG7HyC,qBAAsB,SAAU3/D,GAC5B,IAAI9+F,EAAOP,KACPq/J,EAAkB9+J,EAAKd,QAAQi+J,aAC/BnE,EAAkB8F,EAAgB9F,gBAAkBjR,EAAW+W,EAAgB9F,iBAAmBjR,EAAWiU,GAC7GoB,EAAgBvB,EAAkBjD,wBAAwB7Q,EAAWjpD,EAAM8oD,aAAcoR,GACzF+F,EAAwBhiK,EAAM0G,SAAS,iCACX,sGACA,sDACI,uBACI,yCACJ,MACA,qBACI,yCACJ,MACJ,iBAC5Bu7J,EAAgBjiK,EAAM0G,SAAS,QACH,mCACA,yBACA,oHACA,aACA,kHACA,MACA,UAC5BknG,EAAS,GAEbA,GAAUo0D,EAAsB,CAC5Bh4I,SAAU/mB,EAAKd,QAAQ6nB,SACvBk4I,MAAO7B,IAGXzyD,GAAUq0D,EAAc,CACpBj4I,SAAU/mB,EAAKd,QAAQ6nB,SACvBk4I,MAAO7B,EACP8B,MAAO,IACPx+F,MAAO,OAGXiqC,GAAUq0D,EAAc,CACpBj4I,SAAU/mB,EAAKd,QAAQ6nB,SACvBk4I,MAAO7B,EACP8B,MAAO,EACPx+F,MAAO,QAGX1gE,EAAK+8J,cAAcvtI,KAAK,0BAA0BgB,SAClDxwB,EAAK+8J,cAAcv8F,OAAOmqC,GAE1B3qG,EAAKm/J,mBAAmBnG,IAE5BmG,mBAAoB,SAAUnG,GAC1B,IAAIh5J,EAAOP,KACPw+J,EAAUj+J,EAAKy9J,SACf2B,EAAe,uBACfC,EAAU,CAAEjqJ,MAAO6oJ,EAAQ7oJ,QAASE,OAAQ2oJ,EAAQ3oJ,UACpDgqJ,EAEJ,IAAID,EAAQjqJ,QAAUiqJ,EAAQ/pJ,OAC1B,OAGJgqJ,EAAS3iK,EAAEk/J,EAAkBpC,mBAAmB4F,EAASr/J,EAAK69J,UAAW7E,IAAkBrjJ,SAASypJ,GAEpGnB,EAAQzuI,KAAK,IAAM4vI,GAAc5uI,SACjCytI,EAAQz9F,OAAO8+F,IAEnBr+D,SAAU,SAASgC,GACf,IAAIjjG,EAAOP,KACX,SAAS40B,EAAKpI,EAAMhf,GAChB,IAAI3G,EAAItG,EAAK69J,UACbv3J,EAAE2lB,IAAShf,GAAKg2F,EAAGniE,SAAW,IAAO,KACrC,GAAIx6B,EAAE2lB,GAAQ,EAAK3lB,EAAE2lB,GAAQ,EAC7B,GAAI3lB,EAAE2lB,GAAQ,EAAK3lB,EAAE2lB,GAAQ,EAC7BjsB,EAAK+3J,UAAUzxJ,GACf3F,EAAesiG,GAEnB,SAAS24D,EAAI3uJ,GACT,IAAI3G,EAAItG,EAAK69J,UACbv3J,EAAEkiJ,GAAKv7I,GAAKg2F,EAAGniE,SAAW,EAAI,GAC9B,GAAIx6B,EAAEkiJ,EAAI,EAAKliJ,EAAEkiJ,EAAI,EACrB,GAAIliJ,EAAEkiJ,EAAI,IAAOliJ,EAAEkiJ,EAAI,IACvBxoJ,EAAK+3J,UAAUzxJ,GACf3F,EAAesiG,GAEnB,OAAQA,EAAGpiE,SACX,KAAKi7H,EAAKv0I,KACN,GAAI07E,EAAGpQ,QACH+oE,GAAK,QAELvnI,EAAK,KAAM,GAEf,MACJ,KAAKynI,EAAKr0I,MACN,GAAIw7E,EAAGpQ,QACH+oE,EAAI,QAEJvnI,EAAK,IAAK,GAEd,MACJ,KAAKynI,EAAKt0I,GACN6M,EAAK4uE,EAAGpQ,SAAW7yF,EAAKw9J,eAAiB,IAAM,IAAK,GACpD,MACJ,KAAK1B,EAAKp0I,KACN2M,EAAK4uE,EAAGpQ,SAAW7yF,EAAKw9J,eAAiB,IAAM,KAAM,GACrD,MACJ,KAAK1B,EAAKz0I,MACNrnB,EAAKk1C,QAAQl1C,EAAK69J,WAClB,MACJ,KAAK/B,EAAK9zI,GACNhoB,EAAKk9J,YAAY5tJ,QAAQkgB,KAAK,SAAS1tB,QAAQ,SAASw9B,SACxD,MACJ,KAAKw8H,EAAKx0I,IACNtnB,EAAKssF,UACL,QAGRxtD,MAAO,WACHr/B,KAAK8+J,WAAWz/H,SAEpB++H,QAAS,SAASrV,EAAGh7I,EAAG5G,EAAGP,GACvB,IAAIrG,EAAOP,KACPsvF,EAAO/uF,EAAKy9J,SACZroJ,EAAQ25E,EAAK35E,QACbE,EAASy5E,EAAKz5E,SACdiqJ,EAAiB9/J,KAAK8+J,WAAWnoJ,WAErC,IAAIhB,IAAUE,EACV,OAAOtV,EAAK8+F,QAAU9+F,EAAK8+F,QAAQyoD,QAAUQ,EAAWkU,GAG5D,GAAIzT,GAAK,KACLA,EAAIxoJ,EAAKu9J,WAAWx2J,QAExB,GAAIyG,GAAK,KACLA,EAAI+xJ,EAAe7qJ,KAAOU,EAE9B,GAAIxO,GAAK,KACLA,EAAI,EAAI24J,EAAe//I,IAAMlK,EAEjC,GAAIjP,GAAK,KACLA,EAAIrG,EAAKw9J,eAAiBx9J,EAAKw9J,eAAez2J,QAAU,IAAM,EAElE,OAAOqiJ,EAAMe,QAAQ3B,EAAGh7I,EAAG5G,EAAGP,IAElCg4J,UAAW,SAAS7wJ,EAAG5G,GACnB,IAAIk4F,EAAQr/F,KAAKo+J,QAAQ,KAAMrwJ,EAAG5G,EAAG,MACrCnH,KAAKs4J,UAAUj5D,IAEnBpzE,QAAS,WACLjsB,KAAK6+J,WAAW5yI,UAEhBjsB,KAAK89J,WAAW7xI,UAChB,GAAIjsB,KAAK+9J,eACL/9J,KAAK+9J,eAAe9xI,UAGxB,GAAGjsB,KAAKy9J,YACJz9J,KAAKy9J,YAAYxxI,UAGrBjsB,KAAK89J,WAAa99J,KAAK+9J,eAAiB/9J,KAAKg+J,SAAWh+J,KAAK8+J,WACzD9+J,KAAKo9J,aAAep9J,KAAK+/J,eAAiB//J,KAAKggK,aAC/ChgK,KAAKs9J,cAAgB,KAEzBpF,EAAcv3J,GAAGsrB,QAAQzpB,KAAKxC,SAQ1C,OAJIinB,EAAG+J,OAAOksI,GAIP9/J,OAAOE,QA9mBd,CAgnBoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OACrF,SAAavtC,QACTA,OAAO,2BAA2B,CAC9B,cAEL,WAEH,IAAUY,EAgOPE,OAAOE,MAAMH,OAhOHE,OAAb,EAIQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM2pB,GACXqhI,EAAahrJ,EAAMgrJ,WACnB+T,EAAO/+J,EAAMiqB,KACb+0I,EAAkB,mBAClB2D,EAAoB,mBACpBC,EAAoB,gBACpBC,EAAgB,8IAChBC,EAAa,0+CACbthF,EAAK,mBACLuhF,EAAW,QAAUvhF,EACrBu3C,EAAa,UAAYv3C,EACzBwhF,EAAU,OAASxhF,EACnBo5E,EAAgBjxI,EAAGyxI,YAAYR,cAEnC,SAASh3J,EAAesiG,GAAMA,EAAGtiG,iBAEjC,SAASK,EAAK4kB,EAAUnE,GACpB,OAAO,WACH,OAAOmE,EAASzlB,MAAMshB,EAAKpiB,YAInC,SAAS2gK,EAAShvJ,EAAO1B,EAASyuB,GAC9B/sB,EAAQ5T,MAAMiD,UAAUzB,MAAMqD,KAAK+O,GACnC,IAAIg0C,EAAIh0C,EAAMzR,OACd,IAAIisG,EAAMx6F,EAAM1E,QAAQgD,GACxB,GAAIk8F,EAAM,EACN,OAAOztE,EAAQ,EAAI/sB,EAAMg0C,EAAI,GAAKh0C,EAAM,GAE5Cw6F,GAAOztE,EACP,GAAIytE,EAAM,EACNA,GAAOxmD,OAEPwmD,GAAOxmD,EAEX,OAAOh0C,EAAMw6F,GAGjB,IAAIy0D,EAAetI,EAAc16J,OAAO,CACpCiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACXk4J,EAAcv3J,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAC1CoQ,EAAUtP,EAAKiW,QAAUjW,EAAKsP,QAC9BpQ,EAAUc,EAAKd,QAEf,IAAIupC,EAASvpC,EAAQghK,SAAW,QAEhC,GAAIz3H,GAAU,UAAW,CACrBA,EAASo3H,EACT3gK,EAAQkkH,QAAU,QACf,GAAI36E,GAAU,QACjBA,EAASm3H,EAGb,UAAWn3H,GAAU,SACjBA,EAASA,EAAOnmC,MAAM,KAG1B,GAAIlF,MAAMD,QAAQsrC,GACdA,EAAS9rC,EAAEgU,IAAI83B,EAAQ,SAAS/K,GAAK,OAAOqqH,EAAWrqH,KAG3D19B,EAAKmgK,aAAejhK,EAAQs0G,QAAUz2G,EAAMksB,QAAU,YAEtD3Z,EAAQqG,SAAS,kBACZC,KAAK,OAAQ,QACbA,KAAK,gBAAiB,QACtB4qD,OAAO7jE,EAAEqD,EAAKi+F,UAAU,CACrBx1D,OAAWA,EACX26E,QAAWlkH,EAAQkkH,QACnBg9C,SAAWlhK,EAAQkhK,SACnBr5J,MAAW/G,EAAKipH,OAChBhtH,GAAWiD,EAAQs0G,WAEtB3tF,GAAGi6I,EAAU,uBAAwB,SAAS78D,GAC3CjjG,EAAKk1C,QAAQ+tD,EAAGjyD,iBAEnBp7B,KAAK,WAAY5V,EAAK43J,WACtB/xI,GAAGiwG,EAAY90H,EAAKhB,EAAKihG,SAAUjhG,IACnC6lB,GAAGk6I,EAAS,WACT//J,EAAKiW,QAAQuZ,KAAK,wBAAwBta,YAAYyqJ,KAG9D,IAAIS,EAAWlhK,EAAQkhK,SAAUhrJ,EAAOE,EACxC,GAAI8qJ,EAAU,CACV,GAAI,gBAAgBh6J,YAAYg6J,GAC5BhrJ,EAAQE,EAAShC,WAAW8sJ,QACzB,UAAWA,GAAY,SAAU,CACpChrJ,EAAQ9B,WAAW8sJ,EAAShrJ,OAC5BE,EAAShC,WAAW8sJ,EAAS9qJ,aAE7B,MAAM,IAAIjR,MAAM,iDAEpBiL,EAAQkgB,KAAK,wBAAwBlb,IAAI,CAAEc,MAAOA,EAAOE,OAAQA,MAGzEwpB,MAAO,WACH,GAAIr/B,KAAKwW,UAAYxW,KAAKwW,QAAQP,GAAG,uBACjCjW,KAAKwW,QAAQnU,QAAQ,UAG7B5C,QAAS,CACLhD,KAAM,eACNknH,QAAS,GACTg9C,SAAU,KACVF,QAAS,SAEblI,UAAW,SAASn0I,GAChB,GAAIA,EACApkB,KAAKwW,QAAQL,KAAK,WAAYnW,KAAKm4J,gBAEnCn4J,KAAKwW,QAAQ6U,WAAW,aAGhCm2E,SAAU,SAASl/F,GACf,IAAI0lE,EACAxxD,EAAUxW,KAAKwW,QACf6X,EAAQ7X,EAAQuZ,KAAK,wBACrBlnB,EAAUwlB,EAAM4B,OAAO,IAAMiwI,GAAmB52I,IAAI,IAAM+E,EAAM4B,OAAO,IAAMgwI,GAAmB32I,IAAI,GACpG8X,EAAU9+B,EAAE8+B,QAEhB,GAAIA,GAAWi7H,EAAKv0I,KAChBkgD,EAAWu4F,EAASlyI,EAAOxlB,GAAU,QAClC,GAAIu4B,GAAWi7H,EAAKr0I,MACvBggD,EAAWu4F,EAASlyI,EAAOxlB,EAAS,QACjC,GAAIu4B,GAAWi7H,EAAKp0I,KACvB+/C,EAAWu4F,EAASlyI,EAAOxlB,EAAS7I,KAAKP,QAAQkkH,cAC9C,GAAIviF,GAAWi7H,EAAKt0I,GACvBigD,EAAWu4F,EAASlyI,EAAOxlB,GAAU7I,KAAKP,QAAQkkH,cAC/C,GAAIviF,GAAWi7H,EAAKz0I,MAAO,CAC9B1mB,EAAeoB,GACf,GAAIuG,EAAS,CACT7I,KAAKy1C,QAAQ5sC,GACb7I,KAAKqC,QAAQ,cAAe,CAAEiF,MAAOtH,KAAKsH,UAC1C,aAED,GAAI85B,GAAWi7H,EAAKx0I,IACvB7nB,KAAK6sF,UAGT,GAAI7kB,EAAU,CACV9mE,EAAeoB,GAEftC,KAAKmtH,SAASnlD,GAEd,IACI,IAAIq3B,EAAQipD,EAAWtgF,EAASnzD,IAAIynJ,IACpCt8J,KAAKyjG,eAAepE,GACtB,MAAMuhE,OAGhBnrH,QAAS,SAASxM,GACd,IAAI1oC,EAAOP,KACPquB,EAAQ9tB,EAAKiW,QAAQuZ,KAAK,wBAE9BkZ,EAAO/rC,EAAE+rC,GAETivH,EAAcv3J,GAAG80C,QAAQjzC,KAAKjC,EAAM0oC,EAAKp0B,IAAIynJ,IAE7CjuI,EAAM5Y,YAAYwqJ,GAClBh3H,EAAK/yB,SAAS+pJ,IAElB9yC,SAAU,SAASlkF,GACfjpC,KAAKwW,QAAQuZ,KAAK,IAAMmwI,GACnBzqJ,YAAYyqJ,GACZ/pJ,KAAK,gBAAiB,OACtBkV,WAAW,MAEhBnuB,EAAE+rC,GACG/yB,SAASgqJ,GACT/pJ,KAAK,gBAAiB,MACtBA,KAAK,KAAMnW,KAAK0gK,aAErB1gK,KAAK6P,QACAwb,WAAW,yBACXlV,KAAK,wBAAyBnW,KAAK0gK,cAE5CpI,UAAW,SAASj5D,GAChB,IAAIp2D,EAAO,KACP5a,EAAQruB,KAAKwW,QAAQuZ,KAAK,wBAE9B/vB,KAAKwW,QAAQuZ,KAAK,wBAAwBtyB,KAAK,WAC3C,IAAIoJ,EAAIyhJ,EAAWprJ,EAAE8C,MAAM6U,IAAIynJ,IAE/B,GAAIz1J,GAAKA,EAAE4/C,OAAO44C,GAAQ,CACtBp2D,EAAOjpC,KAEP,OAAO,SAIfA,KAAKmtH,SAASlkF,GAEd5a,EAAM5Y,YAAYwqJ,GAElB,GAAGh3H,EACC/rC,EAAE+rC,GAAM/yB,SAAS+pJ,IAGzBzhE,UAAWlhG,EAAM0G,SACb,0CACA,oFACE,gDACE,8CACA,8DACA,wFACI,8CACA,iDACA,6CAA+Ci8J,EAAoB,aACnE,4CACN,QACF,yBAUZ,OALIh5I,EAAG+J,OAAOwvI,GAKPpjK,OAAOE,QAxOd,CA0OoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,8BAA8B,CACjC,kBACA,iBACA,qBAEL,WAEH,IAAUY,EAgUPE,OAAOE,MAAMH,OAhUHE,OAAb,EAIQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM2pB,GACX/iB,EAAO5G,EAAM4G,KACbylJ,EAAQrsJ,EAAMqsJ,MACdnsJ,EAASN,EAAEM,OACX8+J,EAAkB,mBAClBuE,EAkBA/hF,EAAK,mBACLuhF,EAAW,QAAUvhF,EACrBu3C,EAAa,UAAYv3C,EACzBo5E,EAAgBjxI,EAAGyxI,YAAYR,cAC/BmE,EAAO/+J,EAAMiqB,KAEbu5I,EAAW,aACX9mE,EAAW,aACX+mE,EAAe,wBAEfC,EAAQ,CACJC,SAAYh6I,EAAGi2I,cACfuD,QAAWx5I,EAAGu5I,cAGtB,SAASj/J,EAAK4kB,EAAUnE,GACpB,OAAO,WACH,OAAOmE,EAASzlB,MAAMshB,EAAKpiB,YAInC,IAAIshK,EAAkBhJ,EAAc16J,OAAO,CACvCiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEX,GAAIP,GAAWA,EAAQ0hK,aAAe,MAClC1hK,EAAQ44J,YAAc,MAG1BH,EAAcv3J,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAC1CA,EAAUc,EAAKd,QAAUnC,EAAM0D,WAAW,GAAIT,EAAKd,QAASA,GAC5DoQ,EAAUtP,EAAKsP,QAEftP,EAAKiW,QAAU3G,EAAQqG,SAAS,mCAC3B6qD,OAAOxgE,EAAKi+F,aAEjBj+F,EAAKw/J,eAAiB7iK,EAAE,+BAAgC2S,GACxDtP,EAAK6gK,eAAiBlkK,EAAE,+BAAgC2S,GACxDtP,EAAK8gK,gBAAkBnkK,EAAE,uBAAwB2S,GAEjDA,EAAQkgB,KAAK,uBAAyBxvB,EAAKd,QAAQiyB,KAAO,KAAKxb,SAAS8jF,GAExE,IAAI1yF,EAAQ/G,EAAK8+F,QAEjB9+F,EAAKi6H,YAAY/6H,EAAQiyB,MAEzBnxB,EAAK+gK,eAEL,GAAIh6J,EAAO,CACP/G,EAAK+3J,UAAUhxJ,GACf/G,EAAK6gK,eAAe//G,SAAS0/G,GAAclsJ,IAAIynJ,EAAiBh1J,EAAM+gJ,aACtE9nJ,EAAKw/J,eAAe1+G,SAAS0/G,GAAclsJ,IAAIynJ,EAAiBh1J,EAAM+gJ,iBACnE,CACH9nJ,EAAKw/J,eAAe7pJ,SAAS4qJ,GAC7BvgK,EAAK6gK,eAAelrJ,SAAS4qJ,GAGjCjxJ,EACKuW,GAAGiwG,EAAY90H,EAAKhB,EAAKihG,SAAUjhG,IACnC6lB,GAAGi6I,EAAU,uBAAwB,WAClC9/J,EAAKghK,YAAc,KACnBhhK,EAAK+3J,UAAU,MACf/3J,EAAKwvD,MAAMzoD,MAAM,QAEpB8e,GAAGi6I,EAAU,uBAAwB,WAClC,GAAG9/J,EAAKghK,YACJhhK,EAAKk1C,QAAQ,WAEbl1C,EAAKk1C,QAAQl1C,EAAKwvD,MAAMsvC,WAG/Bj5E,GAAGi6I,EAAU,wBAAyB,kBAC5B9/J,EAAKghK,YACZhhK,EAAK+3J,UAAU/3J,EAAK8+F,SACpB9+F,EAAKssF,YAERzmE,GAAGi6I,EAAU,uBAAwB,SAAS78D,GAC3C,IAAIg+D,EAActkK,EAAEsmG,EAAG7jG,QAAQ4a,QAAQ,eAEvC,GAAGinJ,EAAWvrJ,GAAG,IAAM+jF,GACnB,OAGJnqF,EAAQkgB,KAAK,wBAAwBta,YAAYukF,GACjDwnE,EAAWtrJ,SAAS8jF,GACpBz5F,EAAKi6H,YAAYgnC,EAAWv9J,KAAK,YAG7CgoB,QAAS,WACL,IAAI1rB,EAAOP,KAEXk4J,EAAcv3J,GAAGsrB,QAAQzpB,KAAKxC,MAE9B,GAAIO,EAAKwvD,MAAO,CACZxvD,EAAKwvD,MAAM9jC,UACX1rB,EAAK8gK,gBAAgB1/G,QAGzBphD,EAAKsP,QAAQwjB,IAAIyrD,GAEjBv+E,EAAKw/J,eAAiBx/J,EAAK6gK,eAAiB7gK,EAAK8gK,gBAAkB9gK,EAAKwvD,MAAQ,MAEpFtwD,QAAS,CACLhD,KAAM,kBACNm0B,QAAS,MACT+pF,QAAS,MACTv6F,MAAO,KACPqhJ,QAAS,KACT54C,YAAa,MACbhkH,OAAQ,MACRwP,QAAS,CAAC,MAAO,OACjBqd,KAAM,WACNgB,MAAO,CAAC,WAAY,WACpB+tI,QAAS,KACTU,WAAa,KACb5H,gBAAiB,KACjB51C,QAAS,GACTg9C,SAAU,GACVr5I,SAxIO,CACP5mB,MAAS,QACTm0B,OAAS,SACT6sI,QAAS,WACTC,WAAY,cACZxE,aAAc,KACdQ,cAAe,kBACfz2H,KAAM,OACN02H,KAAM,OACNxU,IAAK,MACLyU,aAAc,gBACd/X,IAAK,MACLhE,MAAO,QACP9C,KAAM,OACNqK,MAAO,QACP4X,SAAU,gBACVR,QAAS,gBAyHTzuJ,KAAM,UAEV+sJ,mBAAoB,SAAU1/D,GAC1B,IAAI9+F,EAAOP,KAEX,GAAGO,EAAKwvD,OAASxvD,EAAKwvD,MAAMgvG,mBACxBx+J,EAAKwvD,MAAMgvG,mBAAmB1/D,IAGtC5pD,QAAS,SAASnuC,GACd,IAAI/G,EAAOP,KAEXk4J,EAAcv3J,GAAG80C,QAAQjzC,KAAKjC,EAAM+G,GAEpC/G,EAAKqhK,qBAAqBt6J,IAE9Bs6J,qBAAsB,SAAUt6J,GAC5B,IAAI/G,EAAOP,KAEX,GAAIsH,EAAO,CACP/G,EAAK6gK,eAAe3rJ,YAAYqrJ,GAChCvgK,EAAK6gK,eAAe//G,SAAS0/G,GAAclsJ,IAAIynJ,EAAiBh1J,EAAM+gJ,iBACnE,CACH9nJ,EAAK6gK,eAAelrJ,SAAS4qJ,GAC7BvgK,EAAK6gK,eAAe//G,SAAS0/G,GAAclsJ,IAAIynJ,EAAiB,MAGxE9hC,YAAa,SAAUj9B,GACnB,IAAIh9F,EAAOP,KACPP,EAAUvC,EAAEM,OAAO,GAAI+C,EAAKd,SAC5B4hB,EAAY2/I,EAAMzjE,GAClBskE,EAAeC,EAEnB,GAAGvhK,EAAKwvD,OAASxvD,EAAKwvD,MAAM0tG,YACxBl9J,EAAKd,QAAQoF,OAAStE,EAAKwvD,MAAM0tG,YAAYf,WAAW73J,OAG5DtE,EAAKd,QAAQiyB,KAAO6rE,SAEb99F,EAAQhD,YACRgD,EAAQisC,cACRjsC,EAAQogC,cACRpgC,EAAQo1B,cACRp1B,EAAQ44J,YAEf,GAAI93J,EAAKwvD,MAAO,CACZ8xG,EAAgBthK,EAAKwvD,MAAMsvC,QAC3B9+F,EAAKwvD,MAAM9jC,UACX1rB,EAAK8gK,gBAAgB1/G,QAGzB,GAAIkgH,EAAe,CACfA,EAAgBA,EAAc/Z,QAC9Bga,EAAWnY,EAAMe,QAAQnqJ,EAAKwhK,YAAc,EAAGF,EAAc9zJ,EAAG8zJ,EAAc16J,EAAG06J,EAAcj7J,GAC/FrG,EAAKwhK,WAAaF,EAAc/Z,QAAQiB,EACxC8Y,EAAgBA,EAAcp7G,OAAOq7G,GAAYA,EAAWD,EAGhE,GAAIxgJ,EAAU,CACV9gB,EAAKwvD,MAAQ,IAAIixG,EAAMzjE,GAAMrgG,EAAE,eAAegoC,SAAS3kC,EAAK8gK,iBAAkB5hK,GAC9Ec,EAAKwvD,MAAMzoD,MAAMu6J,GAEjBthK,EAAKwvD,MAAMxuD,KAAK,SAAU,SAAUiiG,UACzBjjG,EAAKghK,YACZhhK,EAAK+3J,UAAU90D,EAAGjhG,OAAO88F,QAAS,QAGtC9+F,EAAKwvD,MAAMxuD,KAAK,cAAe,SAAUiiG,UAC9BjjG,EAAKghK,YACZhhK,EAAKk1C,QAAQ+tD,EAAGjhG,OAAO88F,aAInCk5D,UAAW,SAASn0I,GAChB,IAAI7jB,EAAOP,KAEX,GAAIO,EAAKwvD,MACLxvD,EAAKwvD,MAAMwoG,UAAUn0I,IAG7Bib,MAAO,WACH,IAAI9+B,EAAOP,KAEX,GAAIO,EAAKwvD,MACLxvD,EAAKwvD,MAAM1wB,SAGnBi5H,UAAW,SAASj5D,EAAO2iE,GACvB,IAAIzhK,EAAOP,KAEX,GAAIq/F,GAASA,EAAMgpD,UAAW,CAC1B9nJ,EAAKw/J,eAAetqJ,YAAYqrJ,GAChCvgK,EAAKw/J,eAAe1+G,SAAS0/G,GAAclsJ,IAAIynJ,EAAiBj9D,EAAMgpD,iBACnE,CACH9nJ,EAAKw/J,eAAe7pJ,SAAS4qJ,GAC7BvgK,EAAKw/J,eAAe1+G,SAAS0/G,GAAclsJ,IAAIynJ,EAAiB,IAGpE/7J,EAAKkjG,eAAepE,GAEpB,GAAI9+F,EAAKd,QAAQ0hK,WACb5gK,EAAKqhK,qBAAqBviE,GAG9B,IAAI2iE,EACAzhK,EAAKwvD,MAAMzoD,MAAM+3F,IAGzBiiE,aAAc,WACV,IAAI/gK,EAAOP,KACPwW,EAAUjW,EAAKiW,QAAQ,GACvByrJ,EAAe5yJ,SAAU9O,EAAKd,QAAQkhK,SAAShrJ,OAASpV,EAAKd,QAAQkhK,SAAW,IAChFuB,EAAgB7yJ,SAAU9O,EAAKd,QAAQkhK,SAAShrJ,OAASpV,EAAKd,QAAQkhK,SAAW,IACjFwB,EAAiB5hK,EAAKd,QAAQkkH,QAElCntG,EAAQZ,MAAMwsJ,YAAY,gCAAiCD,GAC3D3rJ,EAAQZ,MAAMwsJ,YAAY,8BAA+BH,EAAe,MACxEzrJ,EAAQZ,MAAMwsJ,YAAY,+BAAgCF,EAAgB,OAE9E1gE,SAAU,SAASl/F,GAEf,GAAIA,EAAE8+B,SAAWi7H,EAAKx0I,IAClB7nB,KAAK6sF,WAGb2R,UAAW,WACP,IAAIj+F,EAAOP,KACPP,EAAUc,EAAKd,QACf4iK,EAAgB7kK,EAAO,GAAIiC,EAAS,CAChCwtB,SAAU,OACVY,WAAY,OACZ5gB,QAAS,WAGjB,OAAO3P,EAAM0G,SACL,8CACI,uCACA,sDACI,mDACIE,EAAK27F,aAAa,uEAAwEriG,EAAO,CAAEugG,KAAM,gBAAkBskE,IAC3Hn+J,EAAK27F,aAAa,qEAAsEriG,EAAO,CAAEugG,KAAM,WAAaskE,IACxH,SACJ,SACA,QACA,+BACA,sDACI,yBACAn+J,EAAK27F,aAAa,+EAAgFriG,EAAO,CAAEugG,KAAM,eAAiBskE,IAClI,QACA,qBACA,+CACI,6DACI,6CACJ,UACA,6DACI,6CACJ,UACJ,SACA,QACJ,SACJ,SACA,mDACA,qBACA,8EACIn+J,EAAK27F,aAAa,gGAAiGriG,EAAO,GAAI6kK,EAAe,CAAEp1I,SAAU,WACzJ/oB,EAAK27F,aAAa,6FAA8FriG,EAAO,GAAI6kK,EAAe,CAAEp1I,SAAU,QAASY,WAAY,aAC/K,SACA,QAjCDvwB,CAkCDmC,MAOlB,OAHIwnB,EAAG+J,OAAOkwI,GAGP9jK,OAAOE,QA1Ud,CA4UoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,oBAAoB,CACvB,aACA,cACA,cACA,eACA,mBACA,eACA,eACA,gBACA,uBACA,oBAEA,8BACA,iCAEL,WAEH,IAAIC,EAAW,CACXC,GAAI,cACJC,KAAM,cACNC,SAAU,MACVC,YAAa,0BACbotC,QAAS,CAAE,OAAQ,QAAS,QAAS,SAAU,aAAc,SAAU,SAAU,UAAW,iBAAkB,gBAGxG7sC,EAoZPE,OAAOE,MAAMH,OApZHE,OAAb,EAIQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM2pB,GACXH,EAASG,EAAGH,OACZ6iI,EAAQrsJ,EAAMqsJ,MACdrB,EAAahrJ,EAAMgrJ,WACnB+T,EAAO/+J,EAAMiqB,KACb+0I,EAAkB,mBAClBuE,EAAW,CACPngK,MAAS,QACTm0B,OAAS,SACT6sI,QAAS,WACTC,WAAY,cACZxE,aAAc,KACdQ,cAAe,kBACfz2H,KAAM,OACN02H,KAAM,OACNxU,IAAK,MACLyU,aAAc,gBACd/X,IAAK,MACLhE,MAAO,QACP9C,KAAM,OACNqK,MAAO,QACP4X,SAAU,gBACVR,QAAS,gBAEb3hF,EAAK,mBACLuhF,EAAW,QAAUvhF,EACrBu3C,EAAa,UAAYv3C,EACzBo5E,EAAgBjxI,EAAGyxI,YAAYR,cAC/BgJ,EAAkBj6I,EAAGi6I,gBAIrBoB,EAAcx7I,EAAOtpB,OAAO,CAC5BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAGX,GAAGP,GAAWA,EAAQghK,UAAYhhK,EAAQiyB,KACtCjyB,EAAQiyB,KAAM,UAGlB5K,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GACnCA,EAAUc,EAAKd,QAAUnC,EAAM0D,WAAW,GAAIT,EAAKd,QAASA,GAC5DoQ,EAAUtP,EAAKsP,QAEf,IAAIvI,EAAQuI,EAAQsG,KAAK,UAAYtG,EAAQw7C,MAC7C,GAAI/jD,EACAA,EAAQghJ,EAAWhhJ,EAAO,WAE1BA,EAAQghJ,EAAW7oJ,EAAQ6H,MAAO,MAEtC/G,EAAKipH,OAAS/pH,EAAQ6H,MAAQA,EAE9B,IAAIi7J,EAAcjlK,EAAM4G,KAAK27F,aAAa,+FAAgG3iG,EAAEM,OAAO,GAAI+C,EAAKd,QAAS,CACjKs+F,KAAM,aAGV,IAAIljD,EAAUt6C,EAAK+kF,cAAgB/kF,EAAKiW,QAAUtZ,EAAEqD,EAAKi+F,UAAUthG,EAAEM,OAAO,GAAI+C,EAAKd,QAAS,CAC1F8iK,YAAaA,MAGjBhiK,EAAKkrB,mBACL5b,EAAQ0T,OAAO05D,MAAMpiC,GAErB,GAAIhrC,EAAQoG,GAAG,SAAU,CACrBpG,EAAQq1B,SAAS2V,GAOjB,IAAI/sB,EAAQje,EAAQ0K,QAAQ,SAC5B,IAAI/d,EAAKqT,EAAQsG,KAAK,MACtB,GAAI3Z,EACAsxB,EAAQA,EAAM/J,IAAI,cAAgBvnB,EAAK,MAE3CsxB,EAAM1H,GAAG,QAAS,SAASo9E,GACvBjjG,EAAK6oG,OACL5F,EAAGtiG,mBAIXX,EAAK43J,UAAYtoJ,EAAQsG,KAAK,aAAe,EAE7C5V,EAAK6jB,QAAQvU,EAAQsG,KAAK,aAE1B,IAAIsgI,EAAY5mI,EAAQsG,KAAK,aAC7B,GAAIsgI,EAAW,CACX5mI,EAAQsG,KAAK,YAAa,MAC1B0kC,EAAQ1kC,KAAK,YAAasgI,GAG9Bl2I,EAAKgB,KAAK,WAAY,SAASiiG,GAC3B,IAAKA,EAAGpiG,qBACJb,EAAKukB,WAIbvkB,EAAK+3J,UAAUhxJ,IAEnB2kB,QAAS,WACLjsB,KAAKwW,QAAQ6c,IAAIyrD,GAAI/uD,KAAK,KAAKsD,IAAIyrD,GACnC,GAAI9+E,KAAKisH,OAAQ,CACbjsH,KAAKwiK,UAAUv2I,UACfjsB,KAAKisH,OAAOhgG,UAEhBjsB,KAAKwiK,UAAYxiK,KAAKisH,OAASjsH,KAAKwW,QAAU,KAC9CsQ,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,OAE3BokB,OAAQ,SAASA,GACb,IAAI7jB,EAAOP,KACPwW,EAAUjW,EAAKiW,QACfi9F,EAAQj9F,EAAQuZ,KAAK,mBAEzB,GAAInwB,UAAUE,SAAW,EACrBskB,EAAS,KAGb7jB,EAAKsP,QAAQsG,KAAK,YAAaiO,GAC/B5N,EAAQL,KAAK,iBAAkBiO,GAE/BqvF,EAAMpgF,IAAIyrD,GAAI14D,GAAG,YAAc04D,EAAI59E,GAEnCsV,EAAQN,SAAS,cACZmV,WAAW,YACXtH,IAAI,IAAKvN,GAAS6c,IAAIyrD,GAE3B,GAAI16D,EACA5N,EAAQf,YAAY,cACfU,KAAK,WAAY5V,EAAK43J,WACtB/xI,GAAG,aAAe04D,EAAI,WAActoE,EAAQN,SAAS,aACrDkQ,GAAG,aAAe04D,EAAI,WAActoE,EAAQf,YAAY,aACxD2Q,GAAG,QAAU04D,EAAI,WAActoE,EAAQN,SAAS,aAChDkQ,GAAG,OAAS04D,EAAI,WAActoE,EAAQf,YAAY,aAClD2Q,GAAGiwG,EAAY90H,EAAKhB,EAAKihG,SAAUjhG,IACnC6lB,GAAGi6I,EAAU,kBAAmB9+J,EAAKhB,EAAKukB,OAAQvkB,IAClD6lB,GAAGi6I,EAAU,iBAAkB,WAC5B9/J,EAAK8B,QAAQ,mBAGrB9B,EAAK05C,SAIbukD,UAAWlhG,EAAM0G,SACb,0FACI,gCACI,0FACI,sBACA,kEACA,QACA,6CACJ,UACJ,WACA,mBACJ,WAGJvE,QAAS,CACLhD,KAAM,cACNgmK,cAAe,MACf/E,aAAc,MACd+C,QAAS,KACT98C,QAAS,GACT++C,SAAU,KACVp7J,MAAO,KACPggB,SAAUu5I,EACVjwI,QAAS,MACT+pF,QAAS,KACT8mD,QAAS,KACT54C,YAAa,MACbzoG,MAAa,KACbvb,OAAQ,MACRwP,QAAS,CAAC,MAAO,OACjBqd,KAAM,WACNgB,MAAO,CAAC,WAAY,WACpB6mI,gBAAiB,KACjBjzD,aAAc,0CACdt0F,KAAM,SACN/E,QAAS,SACTggB,SAAU,SAGdjrB,OAAQ,CAAE,WAAY,SAAU,SAAU,OAAQ,SAElDonG,KAAM,WACF,IAAKppG,KAAK6P,QAAQ2c,KAAK,YACnBxsB,KAAK2iK,YAAYv5D,QAGzBnvD,MAAO,WACH,IAAI2oH,EAAc5iK,KAAKwiK,WAAaxiK,KAAKwiK,UAAU/iK,SAAY,GAC/DmjK,EAAW34D,SAAW,KACtBjqG,KAAK2iK,YAAY1oH,eAEV2oH,EAAW34D,UAEtBnlF,OAAQ,WACJ,IAAK9kB,KAAK6P,QAAQ2c,KAAK,YACnBxsB,KAAK2iK,YAAY79I,UAGzBi6I,mBAAoB,SAAU1/D,GAC1B,IAAI9+F,EAAOP,KACP8B,EAAU,WAAcvB,EAAKiiK,UAAUzD,mBAAmB1/D,IAE9D9+F,EAAKd,QAAQi+J,aAAanE,gBAAkBl6D,EAE5C,GAAG9+F,EAAKiiK,YAAcjiK,EAAK0rH,QAAU1rH,EAAK0rH,OAAO75F,WAC7C7xB,EAAKiiK,UAAUzD,mBAAmB1/D,QAC/B,GAAI9+F,EAAK0rH,OAAQ,CACpB1rH,EAAK0rH,OAAOhqH,OAAO,WAAYH,GAC/BvB,EAAK0rH,OAAO1qH,KAAK,WAAYO,KAGrC+gK,aAAc,WACV,OAAO7iK,KAAKwW,QAAQuZ,KAAK,qBAE7BsvE,MAAO64D,EAAcv3J,GAAG0+F,MACxB/3F,MAAO4wJ,EAAcv3J,GAAG2G,MACxBmuC,QAASyiH,EAAcv3J,GAAG80C,QAC1BguD,eAAgBy0D,EAAcv3J,GAAG8iG,eACjCq/D,kBAAmB,WACf,IAAI1pJ,EAAKpZ,KAAK6P,QAAQ,GACtB,MAAO,WAAalJ,KAAKyS,EAAG6Q,UAAY,WAAatjB,KAAKyS,EAAG7R,OAGjE+wJ,UAAW,SAAShxJ,EAAOy7J,GACvB,IAAIl7B,EAAiB,GAErB,GAAIvgI,EAAO,CACP,GAAItH,KAAK8iK,qBAAuBx7J,EAAMV,GAAK,EAGvCihI,EAAiBvgI,EAAM4gJ,aAEvBrgB,EAAiBvgI,EAAM6gJ,YAG3BnoJ,KAAK6P,QAAQw7C,IAAIw8E,GAGrB,IAAK7nI,KAAKwnG,cACNxnG,KAAKwnG,cAAgBlqG,EAAM0G,SAAShE,KAAKP,QAAQ6mG,cAGrDtmG,KAAKwW,QAAQL,KAAK,aAAcnW,KAAKwnG,cAAcqgC,IAEnD7nI,KAAKyjG,eAAen8F,GACpBtH,KAAKwW,QAAQuZ,KAAK,yBAAyBlb,IACvCynJ,EACAh1J,EAAQA,EAAM+gJ,YAAc,IAGhCroJ,KAAK6iK,eAAeh/I,YAAY,cAAegkH,GAE/C,GAAI7nI,KAAKwiK,YAAcO,EACnB/iK,KAAKwiK,UAAUl7J,MAAMA,IAG7Bk6F,SAAU,SAASgC,GACf,IAAIx8F,EAAMw8F,EAAGpiE,QACb,GAAIphC,KAAK2iK,YAAYvwI,UAAW,CAC5B,GAAIprB,GAAOq1J,EAAKx0I,IACZ7nB,KAAKwiK,UAAU31E,eAEf7sF,KAAKwiK,UAAUhhE,SAASgC,GAE5BtiG,EAAesiG,QAEd,GAAIx8F,GAAOq1J,EAAKz0I,OAAS5gB,GAAOq1J,EAAKp0I,KAAM,CAC5CjoB,KAAKopG,OACLloG,EAAesiG,KAGvBm/D,UAAW,WACP,IAAIpiK,EAAOP,KAAM6qG,EAAQtqG,EAAK0rH,OAE9B,IAAKphB,EAAO,CACR,IAAIprG,EAAUc,EAAKd,QACnB,IAAIujK,EAEJA,EAAe9B,EAEfzhK,EAAQ0hK,WAAa1hK,EAAQk7G,UAAY,YAClCl7G,EAAQogC,cACRpgC,EAAQisC,cACRjsC,EAAQo1B,OAEf,IAAIr4B,EAAKc,EAAMksB,OAEf,IAAIy5I,EAAkB/lK,EAAE,YAAcV,EAAI,wCAAwC0oC,SAAS11B,SAAS2K,MACpG,IAAIkH,EAAW9gB,EAAKiiK,UAAY,IAAIQ,EAAa9lK,EAAE,eAAegoC,SAAS+9H,GAAkBxjK,GAE7Fc,EAAKiW,QAAQL,KAAK,YAAa3Z,GAE/B+D,EAAK0rH,OAASphB,EAAQo4D,EAAgBznD,WAAW,CAC7CjZ,OAAQhiG,EAAKiW,QACbszF,WAAY,CAAEn0F,MAAO,EAAGE,OAAQ,KACjC5R,KAAK,cAERod,EAAS9f,KAAK,CACVs+B,OAAQ,SAAS2jE,GACbjjG,EAAK+3J,UAAUhQ,EAAW9kD,EAAGl8F,OAAQ,OAEzCokC,OAAQ,SAAS83D,GACb,GAAIjjG,EAAKd,QAAQk7G,QACbp6G,EAAKk1C,QAAQp0B,EAASg+E,cAEtB9+F,EAAK+3J,UAAUhQ,EAAW9kD,EAAGl8F,OAAQ,MAGzC,GAAI/G,EAAKd,QAAQk7G,SAAYp6G,EAAKiiK,UAAU/iK,QAAQiyB,OAAS,WAAanxB,EAAKd,QAAQgjK,cACnFliK,EAAK05C,SAGbplB,OAAQ,WACJt0B,EAAK05C,WAGb4wD,EAAMtpG,KAAK,CACP04C,MAAO,SAASupD,GACZ,GAAIjjG,EAAK8B,QAAQ,SAAU,CACvBmhG,EAAGtiG,iBACH,OAEJX,EAAKiW,QAAQf,YAAY,WAEzB,IAAI4pF,EAAQh+E,EAASg+E,QAErB,IAAK9+F,EAAKd,QAAQk7G,QACdp6G,EAAKk1C,QAAQ4pD,QAEb9+F,EAAKk1C,QAAQl1C,EAAK8+F,SAGtBA,EAAQ9+F,EAAK8+F,QAEb,GAAIA,GAASA,EAAM0pD,EACfxoJ,EAAKwhK,WAAa1iE,EAAM0pD,EAG5B,IAAIma,EAAiB7nJ,OACjBA,iBAAiB8nJ,YACjBjmK,EAAEme,MAAM1b,QAAQ2yB,QAAQ,wBAAwBxyB,SAAW,EAE/D,IAAKojK,EACD/vI,WAAW,WACP,GAAI5yB,EAAKiW,UAAYjW,EAAKiW,QAAQP,GAAG,uBACjC1V,EAAKiW,QAAQnU,QAAQ,UAE1B,IAGX+mG,KAAM,SAAS5F,GACX,GAAIjjG,EAAK8B,QAAQ,QACbmhG,EAAGtiG,sBAEHX,EAAKiW,QAAQN,SAAS,YAG9Bo/F,SAAU,WACN,IAAIwsD,EACAD,EAAgBthK,EAAK8+F,QAEzB,GAAIwiE,EAAe,CACfA,EAAgBA,EAAc/Z,QAC9Bga,EAAWnY,EAAMe,QAAQnqJ,EAAKwhK,YAAc,EAAGF,EAAc9zJ,EAAG8zJ,EAAc16J,EAAG06J,EAAcj7J,GAC/Fi7J,EAAgBA,EAAcp7G,OAAOq7G,GAAYA,EAAWD,EAGhExgJ,EAAS/Z,MAAMu6J,GACfxgJ,EAASge,QACT9+B,EAAKiW,QAAQN,SAAS,cAIlC,OAAO20F,KAIf,SAAS3pG,EAAesiG,GAAMA,EAAGtiG,iBAEjC,SAASK,EAAK4kB,EAAUnE,GACpB,OAAO,WACH,OAAOmE,EAASzlB,MAAMshB,EAAKpiB,YAevC,OAXIqnB,EAAG+J,OAAOsxI,GAEVhlK,EAAMqvB,cAAc0Y,eAAe,cAAe,aAElD/nC,EAAMqvB,cAAc4Y,eAAe,cAAe,CAAC,CAC/C/Y,KAAM,UACNtd,OAAQ5R,EAAMqvB,cAAc2X,cAAchwB,OAAO,CAAC,CAAC,OAAQ,aAK5DlX,OAAOE,QAhbd,CAkboB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,wBAAwB,CAAE,cAClC,WAEH,IAAIC,EAAW,CACXC,GAAI,kBACJC,KAAM,kBACNC,SAAU,MACVC,YAAa,iCACbotC,QAAS,CAAE,SAGL7sC,EAuHPE,OAAOE,MAAMH,OAvHHE,OAAb,EACQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM2pB,GACXH,EAASG,EAAGH,OACZmjB,EAAS,SACT82D,EAAW,WACXr8B,EAAU,UAEV0+F,EAAkBt8I,EAAOtpB,OAAO,CAChCiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCc,EAAKy7E,WAELz7E,EAAK8iK,gBAEL9iK,EAAKsiF,gBAELvlF,EAAMoxB,OAAOnuB,EAAMjD,EAAM2pB,KAG7BjlB,OAAQ,CACJioC,GAGJxqC,QAAS,CACLhD,KAAM,mBAGVqiF,GAAI,wBACJwkF,aAAcpmK,EAAEU,KAEhB0qE,MAAO,SAASR,GACZ,IAAIvnE,EAAOP,KACP6P,EAAUtP,EAAKsP,QAAQ,GAE3B,GAAIi4D,IAAYzqE,EACZ,OAAOwS,EAAQi4D,QAGnB,GAAIj4D,EAAQi4D,UAAYA,EACpBvnE,EAAKd,QAAQqoE,QAAUj4D,EAAQi4D,QAAUA,EAG7C,GAAIA,EACAvnE,EAAKsP,QAAQsG,KAAKuuD,EAASA,QAE3BnkE,EAAKsP,QAAQ2c,KAAKk4C,EAAS,QAInCz4C,QAAS,WACLnF,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,MACvBA,KAAKwW,QAAQ6c,IAAIrzB,KAAK8+E,KAG1B16D,OAAQ,SAASA,GACb,IAAIvU,EAAU7P,KAAK6P,QAEnB,UAAUuU,GAAU,YAChBA,EAAS,KAGbpkB,KAAKP,QAAQukB,QAAUI,EAEvB,GAAGA,EACCvU,EAAQ2c,KAAKu0E,EAAU,YAEvBlxF,EAAQsG,KAAK4qF,EAAUA,IAI/Bj8E,OAAQ,WACJ,IAAIvkB,EAAOP,KAEXO,EAAK+nE,OAAO/nE,EAAKsP,QAAQ,GAAGi4D,UAGhC+a,cAAe,WACX7iF,KAAK6P,QAAQuW,GAAG6jB,EAASjqC,KAAK8+E,GAAI9+E,KAAKg1D,QAAQzzD,KAAKvB,QAGxDg1D,QAAS,WACL,IAAI8S,EAAU9nE,KAAK6P,QAAQ,GAAGi4D,QAE9B9nE,KAAKqC,QAAQ4nC,EAAQ,CAAE69B,QAASA,KAGpCu7F,cAAe,WACX,IAAI9iK,EAAOP,KACP6P,EAAUtP,EAAKsP,QAAQ,GACvBpQ,EAAUc,EAAKd,QAEnB,GAAIA,EAAQqoE,UAAY,KACpBroE,EAAQqoE,QAAUj4D,EAAQi4D,QAG9BvnE,EAAK+nE,MAAM7oE,EAAQqoE,SAEnBroE,EAAQukB,QAAUvkB,EAAQukB,UAAYzjB,EAAKsP,QAAQsG,KAAK4qF,GACxDxgG,EAAK6jB,OAAO3kB,EAAQukB,UAGxBg4D,SAAU,WACN,IAAIz7E,EAAOP,KACPP,EAAUc,EAAKd,QACf8jK,EAAchjK,EAAK+iK,aAGvBC,EAAYhjK,EAAKsP,QAAS3S,EAAEM,OAAO,GAAIiC,IACvCc,EAAKsP,QAAQ4F,YAAY,0BAEzBlV,EAAKiW,QAAUjW,EAAKsP,WAOhC,OAHIoX,EAAG+J,OAAOoyI,GAGPhmK,OAAOE,QArId,CAuIoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,mBAAmB,CACtB,mBAEL,WAEH,IAAIC,EAAW,CACXC,GAAI,aACJC,KAAM,aACNC,SAAU,MACVC,YAAa,kDACbotC,QAAS,CAAE,aACXuV,SAAU,IAGHpiD,EA+HRE,OAAOE,MAAMH,OA/HFE,OAAd,EACQC,EAAQF,OAAOE,MACfgiG,EAAWhiG,EAAM4G,KAAKo7F,SAEtBkkE,EAAiB,SAAU3zJ,EAASpQ,GACpC,GAAIG,UAAU,KAAOvC,GAAaH,EAAE+C,cAAcL,UAAU,IAAK,CAC7DH,EAAUoQ,EACVA,EAAU3S,EAAE,aAGhB,OAAO,IAAKumK,EAAa5zJ,EAASpQ,GAAUyE,QAG5Cw/J,EAAoB,SAAU7zJ,EAASpQ,GACvC,GAAIG,UAAU,KAAOvC,GAAaH,EAAE+C,cAAcL,UAAU,IAAK,CAC7DH,EAAUoQ,EACVA,EAAU3S,EAAE,aAGhB,OAAO,IAAKymK,EAAgB9zJ,EAASpQ,GAAUyE,QAG/C0/J,EAAYtkE,EAAS9hG,OAAO,CAC5BiD,KAAM,SAAUoP,EAASpQ,GACrB,IAAIc,EAAOP,KACXs/F,EAAS3+F,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GACrCc,EAAKy7E,WACLz7E,EAAKi/F,eAET//F,QAAS,CACLquB,MAAO,KACP+1I,cAAe,QACfxgE,QAAS,MAEbrnB,SAAU,WACN,IAAIz7E,EAAOP,KACP6P,EAAUtP,EAAKsP,QAAQ,GACvBpQ,EAAUc,EAAKd,QACf60F,EAAYzkF,EAAQrT,GAExB+D,EAAKiW,QAAUjW,EAAKsP,QACfqG,SAASzW,EAAQqkK,YACjBt3I,KAAK,OAAQ/sB,EAAQ8H,MAE1B,IAAI+sF,KAAe70F,EAAQquB,MACvBje,EAAQrT,GAAK83F,EAAYh3F,EAAMksB,OAGnC,KAAK/pB,EAAQquB,MAAO,CAChBvtB,EAAKwjK,QAAU7mK,EAAE,eAAiBo3F,EAAY,YAAc70F,EAAQukK,WAAa,MAEjF,GAAGvkK,EAAQ4jG,QACP9iG,EAAKwjK,QAAQ3jI,KAAK3gC,EAAQquB,YAE1BvtB,EAAKwjK,QAAQ7/J,KAAKzE,EAAQquB,OAG9BvtB,EAAKsP,QAAQpQ,EAAQokK,eAAetjK,EAAKwjK,WAGjD7/J,KAAM,WACF,IAAI3D,EAAOP,KACPi9E,EAAQ18E,EAAKd,QAAQokK,gBAAkB,QACvCI,EAAc3kE,EAAS3+F,GAAGuD,KAAK1B,KAAKjC,GAExC,IAAIA,EAAKwjK,QACL,OAAOE,EAGX,GAAGhnF,EACC,OAAOgnF,EAAc1jK,EAAKwjK,QAAQ,GAAGtkE,UAGzC,OAAOl/F,EAAKwjK,QAAQ,GAAGtkE,UAAYwkE,KAIvCR,EAAeG,EAAUpmK,OAAO,CAChCiD,KAAM,SAAUoP,EAASpQ,GACrB,IAAIc,EAAOP,KACX4jK,EAAUjjK,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GACtCc,EAAKi/F,eAET//F,QAAS,CACLhD,KAAM,eACNqnK,WAAY,aACZE,WAAY,mBACZz8J,KAAM,WACN0F,QAAS,SACT+E,KAAM,SACNutF,eAAgB,CAAE,OAAQ,cAI9BokE,EAAkBC,EAAUpmK,OAAO,CACnCiD,KAAM,SAAUoP,EAASpQ,GACrB,IAAIc,EAAOP,KACX4jK,EAAUjjK,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GACtCc,EAAKi/F,eAET//F,QAAS,CACLhD,KAAM,kBACNqnK,WAAY,UACZE,WAAY,gBACZz8J,KAAM,QACNyK,KAAM,SACNutF,eAAgB,CAAE,WAuB9B,OAnBIriG,EAAEM,OAAOF,EAAM4G,KAAM,CACjBs/J,eAAgBA,EAChBE,kBAAmBA,EACnBE,UAAWA,EACXH,aAAcA,EACdE,gBAAiBA,IAGrBrmK,EAAMqvB,cAAc0Y,eAAe,eAAgB,eAEnD/nC,EAAMqvB,cAAc4Y,eAAe,eAAgB,CAAC,CAChD/Y,KAAM,UACNtd,OAAQ5R,EAAMqvB,cAAc2X,cAAchwB,OAAO,CAAC,CAAC,OAAQ,aAG/DhX,EAAMqvB,cAAc0Y,eAAe,kBAAmB,YAInDjoC,OAAOE,QAhJd,CAkJoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,iBAAiB,CAAE,wBAAyB,oBACpD,WAEH,IAAIC,EAAW,CACXC,GAAI,WACJC,KAAM,WACNC,SAAU,MACVC,YAAa,8DACbotC,QAAS,CAAE,kBAAmB,eAGxB7sC,EAqCPE,OAAOE,MAAMH,OArCHE,OAAb,EACQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM2pB,GACXm8I,EAEAc,EAFkBj9I,EAAGm8I,gBAEM5lK,OAAO,CAClCiC,QAAS,CACLhD,KAAM,WACNqrE,QAAS,KACT9jD,QAAS,KACTq/E,QAAS,KACTv1E,MAAO,KACP7gB,QAAS,SACT+E,KAAM,UAGVsxJ,aAAchmK,EAAM4G,KAAKs/J,eACzB1kF,GAAI,iBAGJx3E,MAAO,SAASA,GACZ,UAAWA,IAAU,SACjBA,EAASA,IAAU,OAGvB,OAAOtH,KAAKsoE,MAAM5nE,MAAMV,KAAM,CAACsH,OAc3C,OAVIhK,EAAMqvB,cAAc0Y,eAAe,WAAY,eAE/C/nC,EAAMqvB,cAAc4Y,eAAe,WAAY,CAAC,CAC5C/Y,KAAM,UACNtd,OAAQ5R,EAAMqvB,cAAc2X,cAAchwB,OAAO,CAAC,CAAC,OAAQ,aAG/D2S,EAAG+J,OAAOkzI,GAGP9mK,OAAOE,QAnDd,CAqDoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,iBAAiB,CAAE,iBAAkB,qBAAsB,mBAAoB,uBAAwB,kBAAmB,gBAClI,WAEH,IAAIC,EAAW,CACXC,GAAI,WACJC,KAAM,WACNC,SAAU,YACVqtC,QAAS,CAAE,WAAY,eAAgB,aAAc,iBAAkB,YAAa,UACpFC,OAAQ,MAIF9sC,EA0dPE,OAAOE,MAAMH,OA1dHE,OAAb,EACQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM2pB,GACXH,EAASG,EAAGH,OACZtpB,EAASN,EAAEM,OACXyD,EAAa3D,EAAM2D,WACnBhB,EAAgB/C,EAAE+C,cAClBovB,EAAUnyB,EAAEmyB,QACZnnB,EAAQ,IACRwoI,EAAoB,MACpByzB,EAAwB,uFACxBC,EAKAn6H,EAAS,SACTo6H,EAAY,WACZC,EAAe,CAAC,MAAO,QAAS,SAAU,OAAQ,WAEtD,SAASC,EAAU1jJ,GACfA,EAAQA,GAAS,KAAOA,EAAQ,GAChC,OAAOA,EAAMtZ,MAAQjK,EAAMiK,KAAKsZ,IAAU,SAG9C,SAAS2jJ,EAAsBl0I,GAC3BA,EAAUP,KAAK,oGAAsGzyB,EAAM6Y,KAAK,QAAU,eAAiB7Y,EAAM6Y,KAAK,QAAU,cAAgB7Y,EAAM6Y,KAAK,QAAU,mBAAmB1Y,KAAK,WACzO,IAAIgnK,EAAWnnK,EAAM6Y,KAAK,QACtBovD,EAAUvlE,KAAKgvB,aAAay1I,IAAa,GACzC7+F,EAAc5lE,KAAKuH,OAAS,YAAcvH,KAAKuH,OAAS,QAAU,WAAa,SAC/Em9J,EAAqB1kK,KAAKgvB,aAAa,UAAY21I,EAASC,qBAC5DrhH,EAAYvjD,KAAKvD,KAErB,GAAI8oE,EAAQ14D,QAAQ+4D,MAAkB,GAAKriB,IAAcmhH,EAAoB,CACzEn/F,IAAYA,EAAQzlE,OAAS,IAAM,IAAM8lE,EAAcriB,EAEvDrmD,EAAE8C,MAAMmW,KAAKsuJ,EAAUl/F,MAKnC,SAASs/F,EAAiBplK,GACtB,IAAIohB,GAASphB,EAAQo+C,MAAMK,QAAUz+C,EAAQo+C,OAAOp+C,EAAQohB,OACxDtZ,EAAOg9J,EAAU1jJ,GACjBikJ,EAAajkJ,EAAQA,EAAMikJ,WAAa,GACxCjmH,EAAah+B,EAAQA,EAAMg+B,WAAa,GACxCkmH,EACAC,EAAW1nK,EAAM6Y,KAAK,QACtB8uJ,EAAU3nK,EAAM6Y,KAAK,QACrB2hB,EACA3hB,EAAO,CACH3Z,GAAIiD,EAAQjD,IAAMiD,EAAQohB,MAC1BpkB,KAAMgD,EAAQohB,MACdyqB,MAAO7rC,EAAQ6rC,MAAQ7rC,EAAQ6rC,MAAQ7rC,EAAQohB,OAGvD,IAAKkkJ,KAAYD,EAAY,CACzBhtI,EAAOgtI,EAAWC,GAElB,GAAI11I,EAAQ01I,EAAUT,IAAiB,EACnCnuJ,EAAK6uJ,GAAYD,OACd,IAAK9jK,EAAW62B,GAAO,CAC1B,IAAIpvB,EAAUpL,EAAMsL,aAEpB,UAAWkvB,IAAS,UAAYpvB,EAAQjM,KAAKqD,OAAQ,CACjD,IAAI6I,EAAeD,EAAQC,aAC3B,IAAIu8J,EAAaptI,EAAKpyB,WACjBvF,QAAQ+H,EAAOS,EAAaT,IAEjCiO,EAAK4uJ,GAAYG,OAEjB/uJ,EAAK4uJ,GAAY9kK,EAAc63B,GAAQA,EAAKxwB,OAASy9J,EAAWjtI,EAIxE3hB,EAAK7Y,EAAM6Y,KAAK4uJ,EAAW,SAAWjtI,EAAKzN,QAE3ClU,EAAKuzG,aAAegnB,EAGxB,IAAK,IAAIy0B,KAAiBtmH,EACtB1oC,EAAKgvJ,GAAiBtmH,EAAWsmH,GAGrC,GAAI91I,EAAQ9nB,EAAM+8J,IAAiB,EAC/BnuJ,EAAK6uJ,GAAYz9J,EAGrB4O,EAAK8uJ,IAAY19J,IAAS,UAAY,WAAa,UAAY9H,EAAQohB,MAEvE,OAAO1K,EAGX,SAASivJ,EAAe90I,EAAWna,GAC/B,IAAI3Z,EAAK8zB,EAAUna,KAAK,MAExB,GAAI3Z,EAAI,CACJ2Z,EAAK3Z,GAAKA,EACV8zB,EAAUjF,WAAW,MAGzB,OAAOlV,EAGX,SAASkvJ,EAAah3I,GAClB,IAAI1sB,EACA7B,EACAmpC,EACA3hC,EACA84B,EACA72B,EAEJ,GAAI8kB,GAASA,EAAMvuB,OAAQ,CACvByJ,EAAS,GACT,IAAK5H,EAAM,EAAG7B,EAASuuB,EAAMvuB,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACtDsnC,EAAO5a,EAAM1sB,GACby+B,EAAO6I,EAAK7I,MAAQ6I,EAAK3hC,OAAS2hC,EAClC3hC,EAAQ2hC,EAAK3hC,OAAS,KAAQ2hC,EAAK7I,MAAQ6I,EAAQA,EAAK3hC,MAExDiC,EAAO5H,GAAO,CAAEy+B,KAAMA,EAAM94B,MAAOA,IAG3C,OAAOiC,EAGX,SAAS+7J,EAAa/9J,EAAM9H,GACxB,IAAIg8I,EAEJ,IAAKl0I,EAAKzH,OAAU,OAEpB,GAAKyH,IAAS,gBAAkB9H,GAAWA,EAAQ8lK,YAAeh+J,IAAS,cACvEk0I,EAAM,kBACH,GAAIl0I,IAAS,cAAgBA,IAAS,gBACzCk0I,EAAM,cAENA,EAAMl0I,IAAS,UAAYA,IAAS,WAAa,eAAiB,YAGtE,OAAOk0I,EAGX,IAAI+pB,EAAe,CACf,eAAgB,WAAY,gBAAiB,cAAe,WAAY,YACxE,aAAc,iBAAkB,eAChC,SAAU,gBAAiB,sBAAsB,cACjD,iBAAkB,aAAc,SAAU,SAAU,SAAU,aAAc,eAC5E,UAAW,WAAY,WAGvBC,EA0DAC,EAAgB,CAChBhiK,OAAU,SAAU4sB,EAAW7wB,GAC3B,IAAI0W,EAAO0uJ,EAAiBplK,GAC5B0W,EAAOivJ,EAAe90I,EAAWna,GAEjCjZ,EAAE,0BAA0BiZ,KAAKA,GAAM+uB,SAAS5U,IAEpDvnB,KAAQ,SAAUunB,EAAW7wB,GACzB,IAAI0W,EAAO0uJ,EAAiBplK,GAC5B0W,EAAOivJ,EAAe90I,EAAWna,GAEjCjZ,EAAE,wBAAwBiZ,KAAKA,GAAM+uB,SAAS5U,IAElD7pB,OAAU,SAAU6pB,EAAW7wB,GAC3B,IAAI0W,EAAO0uJ,EAAiBplK,GAC5B0W,EAAOivJ,EAAe90I,EAAWna,GAEjCjZ,EAAE,yBAAyBiZ,KAAKA,GAAM+uB,SAAS5U,IAEnD8yB,QAAW,SAAU9yB,EAAW7wB,GAC5B,IAAI0W,EAAO0uJ,EAAiBplK,GAC5B0W,EAAOivJ,EAAe90I,EAAWna,GAEjCjZ,EAAE,6BAA6BiZ,KAAKA,GAAM+uB,SAAS5U,IAEvDphB,OAAU,SAAUohB,EAAW7wB,GAC3B,IAAI0W,EAAO0uJ,EAAiBplK,GAC5B,IAAI4uB,EAAQ5uB,EAAQyP,OACpB,IAAI2wB,EAAS3iC,EAAE,cAEfiZ,EAAOivJ,EAAe90I,EAAWna,GAEjC,IAAK,IAAIhH,KAASkf,EACdnxB,EAAE,kBAAoBmxB,EAAMlf,GAAO7H,MAAQ,KAAO+mB,EAAMlf,GAAOixB,KAAO,aAAa8E,SAASrF,GAGhGA,EAAO1pB,KAAKA,GAAM+uB,SAAS5U,KAInC,SAASq1I,EAAmBC,EAAYrtI,GACpC,IAAIusI,EAAac,EAAcA,EAAWd,YAAc,GAAM,GAC1DhtI,EACA8tB,EAEJ,IAAK9tB,KAAQgtI,EAAY,CACrBl/G,EAAak/G,EAAWhtI,GAExB,GAAI73B,EAAc2lD,IAAeA,EAAWt+C,MACxCs+C,EAAaA,EAAWt+C,MAG5B,GAAIrG,EAAW2kD,GACXrtB,EAAMT,GAAQ8tB,GAK1B,SAASigH,EAA2BpqB,EAAKnrH,EAAWzP,GAChD,IAAIilJ,EAAYjlJ,EAASA,EAAMklJ,oBAAsB,MAAS,MAE9D,GAAID,EAAW,CACXrqB,EAAIpwF,IAAI,MACR/6B,EAAUywC,OAAO7jE,EAAE,8BAAgC2jB,EAAMA,MAAO,8DAIxE,IAAI8jJ,EAAW79I,EAAOtpB,OAAO,CACzBiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEX,GAAIP,EAAQE,OAAQ,CAChBF,EAAQ2+E,SAAW3+E,EAAQE,OAAOF,QAAQ2+E,SAE1C,GAAI3+E,EAAQE,OAAO4yF,KACfhyF,EAAKylK,UAAY,KAGzBl/I,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GACnCc,EAAK0lK,eAAiB1lK,EAAK2lK,UAAU3kK,KAAKhB,GAC1CA,EAAKuZ,WAGT9X,OAAQ,CAACioC,GAETxqC,QAAS,CACLhD,KAAM,WACNgpK,QAjJM,CACVz7H,OAAU,SAAU1Z,EAAW7wB,GAC3B,IAAI0W,EAAO0uJ,EAAiBplK,GAC5BvC,EAAE,0BAA0BiZ,KAAKA,GAAM+uB,SAAS5U,IAEpD5sB,OAAU,SAAS4sB,EAAW7wB,GAC1B,IAAI0W,EAAO0uJ,EAAiBplK,GAC5BvC,EAAE,wBAAwBiZ,KAAKA,GAAM+uB,SAAS5U,GAAW61I,oBAAoB,CAAEthK,OAAQpF,EAAQoF,SAC/F3H,EAAE,SAAWI,EAAM6Y,KAAK,OAAS,KAAO1W,EAAQohB,MAAQ,sCAAsCqkB,SAAS5U,IAE3GvnB,KAAQ,SAASunB,EAAW7wB,GACxB,IAAI0W,EAAO0uJ,EAAiBplK,GACxBoF,EAASpF,EAAQoF,OAErB,GAAIA,EACAA,EAASvH,EAAMgS,eAAezK,GAGlCsR,EAAK7Y,EAAM6Y,KAAK,WAAatR,EAE7B3H,EAAE,wBAAwBiZ,KAAKA,GAAM+uB,SAAS5U,GAAW81I,gBAAgB,CAAEvhK,OAAQpF,EAAQoF,SAC3F3H,EAAE,SAAWI,EAAM6Y,KAAK,OAAS,KAAO1W,EAAQohB,MAAQ,sCAAsCqkB,SAAS5U,IAE3G7pB,OAAU,SAAS6pB,EAAW7wB,GAC1B,IAAI0W,EAAO0uJ,EAAiBplK,GAE5BvC,EAAE,wBAAwBiZ,KAAKA,GAAM+uB,SAAS5U,GAAW+1I,gBAE7DjjH,QAAW,SAAS9yB,EAAW7wB,GAC3B,IAAI0W,EAAO0uJ,EAAiBplK,GAC5B,IAAIoQ,EAAU3S,EAAE,6BAA6BiZ,KAAKA,GAAMmwJ,gBAAgBphI,SAAS5U,GAEjFu1I,EAA2Bh2J,EAASygB,EAAW7wB,IAEnDyP,OAAU,SAASohB,EAAW7wB,GAC1B,IAAI0W,EAAO0uJ,EAAiBplK,GAC5B,IAAI4uB,EAAQ/wB,EAAMmK,UAAU49J,EAAa5lK,EAAQyP,SACjDhS,EAAE,WAAaI,EAAM6Y,KAAK,cAAgB,UAAY7Y,EAAM6Y,KAAK,eAAiB,WAC9E7Y,EAAM6Y,KAAK,UAAY,MAASkY,EAAQA,EAAMluB,QAAQ,MAAM,UAAYkuB,GACxE,IAAO/wB,EAAM6Y,KAAK,QAAU,qBAAsBA,KAAKA,GAAM+uB,SAAS5U,GAC1EpzB,EAAE,SAAWI,EAAM6Y,KAAK,OAAS,KAAO1W,EAAQohB,MAAQ,uCAAuCqkB,SAAS5U,IAE5Gi2I,YAAe,SAAUj2I,EAAW7wB,GAChC,IAAI0W,EAAO0uJ,EAAiBplK,GAC5B,IAAI8H,EAAO9H,EAAQ+mK,OACnB,IAAIA,EAAS,QAAUj/J,EACvB,IAAIk/J,EAAgBhnK,EAAQgnK,cAC5B,IAAIC,EAAapB,EAAa/9J,EAAMk/J,GAEpC,IAAI52J,EAAU3S,EAAEwpK,GACXvwJ,KAAKA,GACL+uB,SAAS5U,GACTk2I,GAAQC,GAEbZ,EAA2Bh2J,EAASygB,EAAW7wB,KA4F/CimK,cAAeA,EACfiB,eAAgB,KAChB3iF,eAAgB,KAChBvB,kBAAmB,MACnBF,cAhSY,8DACZ,0DACA,sDACA,8CACJ,SA6RIqkF,UAAW,OAGfJ,OAAQ,SAAS3lJ,EAAO+kJ,GACpB,IAAIrlK,EAAOP,KACPylK,EAAUllK,EAAKylK,UAAYN,EAAgBnlK,EAAKd,QAAQgmK,QACxDoB,EAAW5mK,EAAc4gB,GACzB0iC,EAAYsjH,EAAWhmJ,EAAMA,MAAQA,EACrCg9B,EAAQt9C,EAAKd,QAAQo+C,OAAS,GAC9BipH,EAAiBD,GAAYhmJ,EAAM3R,OACnC3H,EAAOu/J,EAAiB,SAAWvC,EAAUqB,GAC7CmB,EAAWF,UAAmBhmJ,EAAM2lJ,SAAW,UAAY3lJ,EAAM2lJ,SAAW,SAC5EQ,EAAiBH,IAAaE,GAAYlmJ,EAAM2lJ,OAChDS,EAAgBJ,GAAY3pK,EAAEmyB,QAAQxO,EAAM2lJ,OAAQhB,MAAmB,EACvEgB,EAASQ,EAAiBnmJ,EAAM2lJ,OAASf,EAAQsB,EAAW,SAAWx/J,GACvE+oB,EAAY/vB,EAAKsP,QAAQkgB,KAAK,IAAMzyB,EAAM6Y,KAAK,iBAAmB,IAAMotC,EAAUpjD,QAAQgkK,EAAuB,QAAS,KAE9HqC,EAASA,EAASA,EAASf,EAAQh/J,OAEnC,GAAIwgK,EACAT,EAASf,EAAQc,iBACd,GAAIS,UAAyBnmJ,EAAM2lJ,SAAW,SACjDA,EAAS,SAASl2I,GACdA,EAAUywC,OAAOlgD,EAAM2lJ,SAI/Bl2I,EAAYA,EAAUxwB,OAASwwB,EAAY/vB,EAAKsP,QAChD22J,EAAOl2I,EAAW9yB,EAAO,KAAM,GAAIqpK,EAAWhmJ,EAAQ,CAAEA,MAAO0iC,GAAa,CAAE1F,MAAOA,MAGzFqoH,UAAW,SAAS5jK,GAChB,IAAI/B,EAAOP,KACPogB,EACA9Y,EAAQhF,EAAEgF,MACV4/J,EAAuB3mK,EAAK4mK,2BAC5Bj4J,EAAS,GACTk4J,EAAgB9pK,EAAM6Y,KAAK,QAC3BotC,EAAYjhD,EAAEue,MAAM1gB,QAAQgkK,EAAuB,QACnDkD,EAAe,IAAIn1J,OAAO,2BAA6BqxC,EAAY,aAEvEr0C,EAAO5M,EAAEue,OAASve,EAAEgF,MAEpB8Y,EAAQljB,EAAE,UAAYkqK,EAAgB,MAAQ7jH,EAAY,KAAMhjD,EAAKsP,SAChEogB,OAAO,IAAM3yB,EAAM6Y,KAAK,YAAc,cAAc8Z,OAAO,WACzD,OAAOo3I,EAAa1gK,KAAKzJ,EAAE8C,MAAMmW,KAAKixJ,MAE7C,GAAIhnJ,EAAMtgB,OAAS,EACfsgB,EAAQA,EAAM6P,OAAO,WACjB,IAAIpgB,EAAU3S,EAAE8C,MAChB,OAAQ6P,EAAQoG,GAAG,WAAapG,EAAQw7C,OAAS/jD,IAIzD,IACI/G,EAAK4mK,2BAA6B,KAElC,IAAK5mK,EAAK+mK,YAAYnjF,cAAc/jE,KAAY8mJ,GAAwB3mK,EAAK8B,QAAQ4nC,EAAQ,CAAE/6B,OAAQA,IACnG5M,EAAEpB,iBAGR,QACEX,EAAK4mK,2BAA6B,QAI1CvjK,IAAK,WACD,OAAO5D,KAAKsnK,YAAYtkF,YAG5B/2D,QAAS,WACL,IAAI1rB,EAAOP,KAEXO,EAAKmqB,QAAQ,UAAW,WACpB,MAAO,CAAE0D,SAAU7tB,EAAKsP,WAG5BiX,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,GAEvBA,EAAKd,QAAQo+C,MAAM57C,OAAO,MAAO1B,EAAK0lK,gBACtC1lK,EAAKd,QAAQo+C,MAAM57C,OAAOoiK,EAAW9jK,EAAK0lK,gBAE1C3oK,EAAM2E,OAAO1B,EAAKsP,SAElB,GAAItP,EAAK+mK,YACL/mK,EAAK+mK,YAAYr7I,UAErB3uB,EAAM2uB,QAAQ1rB,EAAKsP,SAEnBtP,EAAKsP,QAAQqc,WAAW,kBAExB,GAAI3rB,EAAKsP,QAAQoG,GAAG,IAAM3Y,EAAM6Y,KAAK,QAAU,cAC3C5V,EAAKsP,QAAQwb,WAAW/tB,EAAM6Y,KAAK,UAI3C2D,QAAS,WACL,IAAIvZ,EAAOP,KACP2B,EACA7B,EACAo+C,EAAS39C,EAAKd,QAAQy+C,QAAU,GAChC5tB,EAAY/vB,EAAKd,QAAQknK,eAAiBpmK,EAAKsP,QAAQ8xC,QAAUphD,EAAKsP,QACtEguC,EAAQt9C,EAAKd,QAAQo+C,OAAS,GAC9BtlB,EAAQ,GACR1X,EACAgmJ,EACAtjH,EACAqiH,EACA2B,EAEJ,IAAK5pK,MAAMD,QAAQwgD,GACfA,EAAS,CAACA,GAGd,IAAKv8C,EAAM,EAAG7B,EAASo+C,EAAOp+C,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACtDkf,EAAQq9B,EAAOv8C,GACfklK,EAAW5mK,EAAc4gB,GACzB0iC,EAAYsjH,EAAWhmJ,EAAMA,MAAQA,EACrC+kJ,GAAc/nH,EAAMK,QAAUL,GAAO0F,GAErCoiH,EAAmBC,EAAYrtI,GAE/Bh4B,EAAKimK,OAAO3lJ,EAAO+kJ,GAGxB,GAAIrlK,EAAKd,QAAQE,OACbY,EAAKmqB,QAAQ,UAAW,WACpB,MAAO,CACH0D,SAAUkC,EACVrsB,KAAMqsB,EAAUpf,IAAI,WAAa,MAAO,CAAEod,SAAUuvB,QAKhE,IAAK/9C,EAAQ,CACTynK,EAAc1pH,EAAMK,QAAUL,EAC9B,IAAK0F,KAAagkH,EACd5B,EAAmB4B,EAAYhkH,GAAYhrB,GAInDisI,EAAsBl0I,GAEtB,GAAI/vB,EAAK+mK,YACL/mK,EAAK+mK,YAAYr7I,UAGrB3uB,EAAMiE,KAAK+uB,EAAW/vB,EAAKd,QAAQo+C,OAEnC,GAAIt9C,EAAKd,QAAQukF,eAAgB,CAC7BzjF,EAAKd,QAAQo+C,MACR57C,OAAO,MAAO1B,EAAK0lK,gBACnB1kK,KAAK,MAAOhB,EAAK0lK,gBAEtB1lK,EAAKd,QAAQo+C,MACR57C,OAAOoiK,EAAW9jK,EAAK0lK,gBACvB1kK,KAAK8iK,EAAW9jK,EAAK0lK,gBAG9B1lK,EAAK+mK,YAAc,IAAIhqK,EAAM2pB,GAAGm7D,UAAU9xD,EAAW,CACjD0zD,eAAgBzjF,EAAKd,QAAQukF,eAC7BvB,kBAAmBliF,EAAKd,QAAQgjF,kBAChCF,cAAehiF,EAAKd,QAAQ8iF,eAAiBllF,EAC7Ck7B,MAAOA,IAEX,IAAKh4B,EAAKd,QAAQmnK,UACdt2I,EAAUP,KAAK,mBAAmB+B,GAAG,GAAGzvB,QAAQ,YAUhE,OALGsiK,EAASC,qBAAuB,6BAEhC39I,EAAG+J,OAAO2zI,GAGNvnK,OAAOE,QAzed,CA2eoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,iBAAiB,CAAE,aAAc,iBAAkB,mBAAoB,eAC/E,WAEH,IAAIC,EAAW,CACXC,GAAI,WACJC,KAAM,WACNC,SAAU,MACVC,YAAa,qEACbotC,QAAS,CAAE,QACXuV,SAAU,CAAE,CACR9iD,GAAI,mBACJC,KAAM,UACNE,YAAa,6BACbotC,QAAS,CAAE,aACZ,CACCvtC,GAAI,qBACJC,KAAM,YACNE,YAAa,wBACbotC,QAAS,CAAE,eACZ,CACCvtC,GAAI,kBACJC,KAAM,SACNE,YAAa,qBACbotC,QAAS,CAAE,YAIT7sC,EAs/BPE,OAAOE,MAAMH,OAt/BHE,OAAb,EACQC,EAAQF,OAAOE,MACf2sC,EAAS,SACTu9H,EACA33H,EAAS,SACT43H,EAAY,YACZC,EAAc,cACd5gJ,EAASxpB,EAAM2pB,GAAGH,OAClBS,EAAOjqB,EAAMiqB,KACbogJ,EAAe,GACf3lE,EAAM,IACN4lE,EAAgB,2BAChB5nH,EAAW,WACXF,EAAQ,QACRk/B,EAAU,kBACVgb,EAAW,mBACX6tE,EAAY,cACZC,EAAc,mBACdC,EAAa,kBACbC,EAAe,eACfC,EAAgB,gBAChBC,EAAY,OACZnpK,EAAa,aACbokH,EAAuB,uBACvBP,EAAwB,wBACxBulD,EAAO,OACPC,EAAS,SACTC,EAAO,OACPznE,EAAY,YACZD,EAAQ,QACR2nE,EAAa,aACbxpF,EAAK,iBACLrvE,EAAgBnS,EAAMiS,eACtB8gB,EAAW/yB,EAAM2pB,GAAGoJ,SACpBpZ,EAAa3Z,EAAM2G,KAAKgT,WAExBsxJ,EAAWjrK,EAAM2pB,GAAG8G,gBAAgBvwB,OAAQ,CAC5CiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEXP,EAAU9B,MAAMD,QAAQ+B,GAAW,CAAEkrB,WAAYlrB,GAAYA,EAE7DqnB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCA,EAAUc,EAAKd,QAEfc,EAAKiW,QAAU3G,EAAUtP,EAAKsP,QAE9B,GAAIA,EAAQ,GAAGrT,GACX+D,EAAKioK,QAAU34J,EAAQ,GAAGrT,GAAK,kBAE/B+D,EAAKioK,QAAUlrK,EAAMksB,OAAS,aAGlCjpB,EAAKm3E,WAELn3E,EAAKkoK,UAELloK,EAAK6hE,cAEL7hE,EAAKmoK,oBAELnoK,EAAKmxH,aAELnxH,EAAK8lG,eAEL9lG,EAAKu3H,cAELv3H,EAAKooK,YAELpoK,EAAKqoK,gBAELroK,EAAKsoK,cAEL,GAAItoK,EAAKd,QAAQ+nE,SACbjnE,EAAKoqB,WAAW8wC,QAGpBn+D,EAAMoxB,OAAOnuB,IAGjByB,OAAQ,CACJioC,EACA4F,EACA63H,EACAD,EACAU,EACAC,EACAC,EArFY,gBAyFhB5oK,QAAS,CACLhD,KAAM,WACN+qE,SAAU,KACV61B,WAAY,MACZmH,YAAa,MACbskE,SAAU,MACVjzJ,OAAQ,KACR7R,SAAU2jK,EACVoB,YAAapB,EACbqB,aAAcrB,EACdsB,gBAAiB,8BACjB3sF,eAAgB,MAChB4sF,SAAU,KACVC,QAAS,GACTC,OAAQ,GACRC,KAAM,CACF/xH,UAAW,MACXliC,KAAM,UAEV60D,KAAM,GACNq/F,WAAY,OAGhBh+I,WAAY,SAAS7rB,GACjBqnB,EAAOnmB,GAAG2qB,WAAW9oB,KAAKxC,KAAMP,GAEhCO,KAAKyoK,UAELzoK,KAAK0xH,aAEL,GAAI1xH,KAAKq9F,WAAY,CACjBr9F,KAAKq9F,WAAWpxE,UAChBjsB,KAAKq9F,WAAa,KAGtBr9F,KAAK83H,eAGTpG,WAAY,WACR,IAAIjyH,EAAUO,KAAKP,QAEnBO,KAAKgE,SAAW1G,EAAM0G,SAASvE,EAAQuE,UAAY2jK,GACnD3nK,KAAK+oK,YAAczrK,EAAM0G,SAASvE,EAAQspK,aAAetpK,EAAQuE,UACjEhE,KAAKgpK,aAAe1rK,EAAM0G,SAASvE,EAAQupK,cAAgBrB,IAG/D4B,MAAO,SAASxkI,GACZ,OAAO/kC,KAAK66C,QAAQwG,WAAWtc,MAGnC1W,MAAO,WACH,OAAOruB,KAAK66C,QAAQwG,SAAS,0BAGjC/yB,SAAU,SAASze,GACf,IAAIsG,EAAO7Y,EAAM6Y,KAAK,OACtB,IAAIosC,EAAMrlD,EAAE2S,GAAS0K,QAAQ,IAAMpE,EAAO,KAAKA,KAAKA,GAEpD,OAAOnW,KAAK2qB,WAAWioC,SAASrQ,IAGpCokD,cAAe,SAASh8E,GACpB3qB,KAAKP,QAAQkrB,WAAaA,EAC1B3qB,KAAKoiE,cAEL,GAAIpiE,KAAKP,QAAQ+nE,SACb78C,EAAW8wC,QAGf,GAAIz7D,KAAKP,QAAQ6pK,aAAe,UAC5BtpK,KAAKwpK,mBAIbpgD,kBAAmB,WACf,IAAI7oH,EAAOP,KAEXO,EAAKoqB,WAAW1oB,OAAOgoC,EAAQ1pC,EAAK2kG,iBACnBjjG,OAAO+9C,EAAUz/C,EAAKkxI,kBACtBxvI,OAAO69C,EAAOv/C,EAAKusH,gBAGxC1qD,YAAa,WACT,IAAI7hE,EAAOP,KACP8oK,EAAWvoK,EAAKd,QAAQqpK,SACxBn+I,EAAapqB,EAAKd,QAAQkrB,WAE9B,GAAIztB,EAAE+C,cAAc6oK,IAAaA,EAASpwH,WAAar7C,EACnDstB,EAAW+tB,SAAWowH,EAASpwH,SAGnC,GAAIn4C,EAAKoqB,YAAcpqB,EAAK2kG,gBACxB3kG,EAAK6oH,wBACF,CACH7oH,EAAK2kG,gBAAkB3kG,EAAKuZ,QAAQvY,KAAKhB,GACzCA,EAAKkxI,iBAAmBlxI,EAAKkpK,UAAUloK,KAAKhB,GAC5CA,EAAKusH,cAAgBvsH,EAAKmpK,OAAOnoK,KAAKhB,GAG1CA,EAAKoqB,WAAa1T,EAAWimC,OAAOvyB,GACfppB,KAAK0oC,EAAQ1pC,EAAK2kG,iBAClB3jG,KAAKy+C,EAAUz/C,EAAKkxI,kBACpBlwI,KAAKu+C,EAAOv/C,EAAKusH,gBAG1C28C,UAAW,SAAS3kJ,GAChB,IAAIjV,EAAU7P,KAAK66C,QACnBxqB,EAASxgB,EAASiV,EAAQ,CAAE8L,QAAS,QAGzC84I,OAAQ,WACJr5I,EAASrwB,KAAK66C,QAAS,QAG3B68B,SAAU,WACN,IAAIj4E,EAAUO,KAAKP,QACnB,IAAIoW,EAASpW,EAAQoW,OAErB7V,KAAK6P,QAAQqG,SAAS,uBAGtB,GAAIzW,EAAQ68E,eACRt8E,KAAK66C,QAAU39C,EAAEsS,SAASwK,cAAcva,EAAQ68E,iBAAiBp3C,SAASllC,KAAK6P,cAE/E7P,KAAK66C,QAAU76C,KAAK6P,QAGxB,GAAIgG,EACA7V,KAAK6P,QAAQgF,IAAI,SAAUgB,IAInC4yJ,QAAS,WACL,IAAIloK,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAI4pK,EAAO5pK,EAAQ4pK,KACnB,IAAIp/F,EAAOxqE,EAAQwqE,KACnB,IAAIp6D,EAAUtP,EAAKsP,QACnB,IAAI85J,EAAoB,CAAC,WAAY,cACrC,IAAI9uH,EAAUt6C,EAAKs6C,QACnB,IAAI+uH,EAAoB,CAAC,sBAEzB/5J,EAAQkU,IAAI82B,GAASplC,YAAY,SAAUtG,EAAOyJ,GAC9C,GAAIA,EAAU/L,QAAQ,OAAS,EAC3B,OAAO,OAKf,GAAIpN,EAAQypK,WAAa,KACrBS,EAAkBznK,KAAK,uBAG3B,UAAWzC,EAAQ0pK,UAAY,UAAY1pK,EAAQ0pK,UAAYxB,EAC3DgC,EAAkBznK,KAAK,sBAAwBzC,EAAQ0pK,SAK3D,UAAW1pK,EAAQoqK,iBAAmB,UAAYpqK,EAAQoqK,iBAAmBlC,EACzEiC,EAAkB1nK,KAAK,8BAAgCzC,EAAQoqK,gBAGnE,UAAWpqK,EAAQ2pK,SAAW,UAAY3pK,EAAQ2pK,SAAWzB,EACzDiC,EAAkB1nK,KAAK,OAASzC,EAAQ2pK,QAG5C,GAAI3pK,EAAQ2pK,SAAW,eAAiBC,IAAS,SAAU,CACvD,UAAWA,EAAK/xH,YAAc,UAAY+xH,EAAK/xH,YAAc,GACzDsyH,EAAkB1nK,KAAK,UAAYmnK,EAAK/xH,WAG5C,UAAW+xH,EAAKj0J,OAAS,UAAYi0J,EAAKj0J,OAAS,GAC/Cw0J,EAAkB1nK,KAAK,UAAYmnK,EAAKj0J,MAIhD,GAAI3V,EAAQ2pK,SAAW,eAAiBn/F,IAAS,SAAU,CACvD,UAAWA,EAAK6/F,OAAS,SACrBjvH,EAAQhmC,IAAI,wBAAyB,UAAYo1D,EAAK6/F,KAAO,eAC1D,UAAW7/F,EAAK6/F,OAAS,SAC5BjvH,EAAQhmC,IAAI,wBAAyBo1D,EAAK6/F,MAG9C,UAAW7/F,EAAKjK,OAAS,SACrBnlB,EAAQhmC,IAAI,qBAAsB,UAAYo1D,EAAKjK,KAAO,MAAQiK,EAAK8/F,YAAc1sK,EAAY4sE,EAAK8/F,UAAY,OAAS,UACxH,UAAW9/F,EAAKjK,OAAS,SAC5BnlB,EAAQhmC,IAAI,qBAAsBo1D,EAAKjK,MAG3C,UAAWiK,EAAK+/F,SAAW,SACvBnvH,EAAQhmC,IAAI,WAAYo1D,EAAK+/F,aAC1B,UAAW//F,EAAK+/F,SAAW,SAC9BnvH,EAAQhmC,IAAI,WAAYo1D,EAAK+/F,QAIrCzpK,EAAKsP,QAAQqG,SAASyzJ,EAAkB7mK,KAAK,MAC7CvC,EAAKs6C,QAAQ3kC,SAAS0zJ,EAAkB9mK,KAAK,OAIjD4lK,kBAAmB,WACf,IAAInoK,EAAOP,KACPP,EAAUc,EAAKd,QACfoW,EAEJ,GAAIpW,EAAQ6pK,YAAc/oK,EAAKiW,QAAQP,GAAG,YAAa,CAEnDJ,EAAStV,EAAKiW,QAAQqF,cACtBtb,EAAKs6C,QAAQhlC,OAAOA,KAI5BiE,QAAS,SAASxX,GACd,IAAI/B,EAAOP,KACP0xB,EAAOnxB,EAAKoqB,WAAW+G,OACvBztB,EACAoqB,EACA4a,EACA/kC,EAAO,GACPvC,EACA7B,EACAkE,EAAWzD,EAAKyD,SAChB+kK,EAAcxoK,EAAKwoK,YACnBtpK,EAAUc,EAAKd,QACfmqB,EAAQnqB,EAAQ49F,YAAc59F,EAAQ+kG,YAAe,SAAW,WAChEy4B,EAASxtH,IACTw6J,EAAiB1pK,EAAK2pK,wBACtB/6J,EAAQ86J,EAAgB1pK,EAAK4pK,wBAA0B,EACvDb,EAAa/oK,EAAKd,QAAQ6pK,WAE9BhnK,EAAIA,GAAK,GAET,GAAIA,EAAEyiC,SAAW,aAAc,CAC3B,IAAKxkC,EAAKyqB,sBAAwBzqB,EAAKojD,SAAU,CAC7C1/C,EAAO3B,EAAE+rB,MAAM,GACf4a,EAAO1oC,EAAK8tB,QAAQ4B,OAAO,IAAM3yB,EAAM6Y,KAAK,OAAS,IAAMlS,EAAKs+C,IAAM,KAEtE,GAAItZ,EAAKnpC,OAAS,EAAG,CACjB6B,EAAMsnC,EAAK95B,QAEX5O,EAAKmqB,QAAQ,UAAW,WACpB,MAAO,CAAE0D,SAAU,CAAE6a,MAGzBA,EAAK8yC,YAAY/3E,EAASC,IAC1BglC,EAAO1oC,EAAK8tB,QAAQyD,GAAGnwB,GACvBsnC,EAAK9yB,KAAK7Y,EAAM6Y,KAAK,OAAQlS,EAAKs+C,KAElChiD,EAAKmqB,QAAQ,UAAW,WACpB,MAAO,CAAE0D,SAAU,CAAE6a,GAAQhlC,KAAM,CAAE,CAAEqqB,SAAUrqB,OAGrD1D,EAAK8B,QAAQ,aAAc,CACvB4mC,KAAMA,EACNhlC,KAAMA,KAKlB,OAGJ,GAAI1D,EAAK8B,QAAQqlK,EAAa,CAAE3iI,OAAQziC,EAAEyiC,QAAU,SAAU1W,MAAO/rB,EAAE+rB,MAAOlf,MAAO7M,EAAE6M,QACnF,OAGJ5O,EAAK2tB,cAAc,WAEnB,IAAK+7I,EACD1pK,EAAK6pK,mBAGT,IAAKzoK,EAAMwN,EAAOrP,EAAS4xB,EAAK5xB,OAAQ6B,EAAM7B,EAAQ6B,IAClD,GAAIA,EAAM,EACNuC,GAAQ6kK,EAAYr3I,EAAK/vB,SAEzBuC,GAAQF,EAAS0tB,EAAK/vB,IAI9B,GAAIsoK,EACA1pK,EAAKs6C,QAAQkmB,OAAO78D,QAEpB3D,EAAKs6C,QAAQ32C,KAAKA,GAGtBmqB,EAAQ9tB,EAAK8tB,QAAQyrE,IAAI,mBAEzBv5F,EAAK8pK,gBAAgB34I,EAAK5xB,QAE1B,IAAK6B,EAAMwN,EAAOrP,EAAS4xB,EAAK5xB,OAAQ6B,EAAM7B,EAAQ6B,IAAO,CACzDsnC,EAAO5a,EAAMyD,GAAGnwB,GAEhBsnC,EAAK/yB,SAAS6xJ,GAEd9+H,EAAK9yB,KAAK7Y,EAAM6Y,KAAK,OAAQub,EAAK/vB,GAAK4gD,KAClCpsC,KAAK+xJ,EAAWt+I,GAErB,GAAIrpB,EAAKd,QAAQ49F,WACbp0D,EAAK9yB,KAAK,gBAAiB,SAG/B,GAAI5V,EAAKd,QAAQqpK,SAAU,CACvB7/H,EAAK9yB,KAAK6xJ,EAAcznK,EAAKoqB,WAAWmyB,SACxC7T,EAAK9yB,KAAK8xJ,EAAe1nK,EAAKoqB,WAAW9d,QAAQtM,EAAK+tB,SAAS2a,IAAS,IAIhF,GAAI1oC,EAAKs6C,QAAQ,KAAOoiF,GAAU18H,EAAKd,QAAQ+kG,YAC3C,GAAIjkG,EAAK+pK,WACL/pK,EAAKsI,QAAQtI,EAAKsI,UAAU8yD,aAE5B,IAAK2tG,EACD/oK,EAAKsI,QAAQwlB,EAAMyD,GAAG,IAKlC,GAAIvxB,EAAKsP,QAAQsG,KAAKysG,IAClBriH,EAAKsP,QAAQkgB,KAAK,IAAMxvB,EAAKsP,QAAQsG,KAAKysG,IAAwB9iH,SAAW,EACzES,EAAKsP,QAAQwb,WAAWu3F,GAGhCriH,EAAKmoK,oBACLnoK,EAAK2tB,cAAc,WAEnB3tB,EAAKkpK,UAAU,OACflpK,EAAK2pK,wBAA0B,KAE/B3pK,EAAK8B,QAAQolK,EAAW,CAAE1iI,OAAQziC,EAAEyiC,QAAU,SAAU1W,MAAO/rB,EAAE+rB,MAAOlf,MAAO7M,EAAE6M,SAGrFk7J,gBAAiB,SAASvqK,GACtB,IAAIsZ,EAAKpZ,KAAK6P,QACVpQ,EAAUO,KAAKP,QACf49F,EAAa59F,EAAQ49F,WAEzB,GAAIv9F,IAAW,EAAG,CACdsZ,EAAGiS,WAAW68I,GACd9uJ,EAAGiS,WAAW83F,GAEd,GAAI/pG,EAAGjD,KAAKpX,GAAa,CACrBiB,KAAKuqK,gBAAkBnxJ,EAAGjD,KAAKpX,GAC/Bqa,EAAGiS,WAAWtsB,QAEf,CACHqa,EAAGjD,KAAK+xJ,EAAY7qE,GAAc59F,EAAQ+kG,YAAe,UAAY,QAErE,GAAInH,GAAc//F,EAAM2pB,GAAGqzE,WAAWrrE,aAAaouE,GAAY3qB,SAC3Dt5D,EAAGjD,KAAKgtG,EAAsB,MAGlC,GAAInjH,KAAKuqK,gBACLnxJ,EAAGjD,KAAKpX,EAAYiB,KAAKuqK,mBAKrC5B,UAAW,WACP,IAAIpoK,EAAOP,KACP8oK,EAAWvoK,EAAKd,QAAQqpK,SACxBtkE,EAAcjkG,EAAKd,QAAQ+kG,YAC3BgmE,EACApmK,EAEJ,IAAK0kK,EACD,OAGJ0B,EAAYjqK,EAAKiW,QAAQuZ,KAAKiyE,EAAM8lE,GAEpC,IAAK0C,EAAU1qK,OACX0qK,EAAYttK,EAAE,WAAWgZ,SAAS4xJ,GAGtC,GAAIgB,EAASnyJ,WAAa,MACtB6zJ,EACKt0J,SAAS5Y,EAAMuH,OAAO,UAAWijK,EAAagB,EAASnyJ,WACvDma,UAAUvwB,EAAKiW,cAEpBg0J,EAAUtlI,SAAS3kC,EAAKiW,SAG5B,GAAIjW,EAAKkqK,MACLlqK,EAAKkqK,MAAMx+I,UAGf,UAAW68I,IAAa,UAAYA,aAAoBxrK,EAAM2pB,GAAG09E,MAC7DpkG,EAAKkqK,MAAQ3B,MACV,CACH0B,EAAY1B,EAAS4B,QAAUxtK,EAAE,IAAM4rK,EAAS4B,SAAWF,EAE3DpmK,EAAWlH,EAAEM,OAAO,GAAIsrK,EAAU,CAC9Bn+I,WAAYpqB,EAAKoqB,WACjB65E,YAAaA,EACbkmE,QAAS,OAGbnqK,EAAKkqK,MAAQ,IAAIntK,EAAM2pB,GAAG09E,MAAM6lE,EAAWpmK,KAInD0zH,YAAa,WACT,IAAIv3H,EAAOP,KACP2qK,EACA9hK,EACAw0F,EAAa98F,EAAKd,QAAQ49F,WAC1BmH,EAAcjkG,EAAKd,QAAQ+kG,YAE/B,GAAInH,EAAY,CACZstE,EAAQrtK,EAAM2pB,GAAGqzE,WAAWrrE,aAAaouE,GAAY3qB,SAErDnyE,EAAK88F,WAAa,IAAI//F,EAAM2pB,GAAGqzE,WAAW/5F,EAAKsP,QAAS,CACpDktF,KAAM,KACNrqB,SAAUi4F,EACV16I,OAAQ1vB,EAAKd,QAAQ68E,eAAiB,uBAAyBsrF,EAAgBA,EAC/El8H,OAAQ,WACJnrC,EAAK8B,QAAQ4nC,MAIrB,GAAIu6D,EACAjkG,EAAKsP,QAAQuW,GAAG,UAAY04D,EAAI,SAASx8E,GAErC,IAAKpF,EAAEoF,EAAE3C,QAAQsW,GAAG1V,EAAKsP,SAAY,OAErC,GAAIvN,EAAE8+B,UAAY7Z,EAAKa,SAAU,CAC7Bvf,EAAUtI,EAAKsI,UAEf,GAAIvG,EAAE3C,QAAU2C,EAAEivC,cACdjvC,EAAEpB,iBAGN,GAAIypK,GACA,IAAKroK,EAAE8wF,QACH7yF,EAAK88F,WAAW9wC,aAEhB,GAAI1jD,GAAWA,EAAQ6M,SAASskF,GAAW,CACvCnxF,EAAQ4M,YAAYukF,GACpBz5F,EAAK8B,QAAQ4nC,GACb,aAIR1pC,EAAK88F,WAAW9wC,QAGpBhsD,EAAK88F,WAAW/1F,MAAMuB,QAO1CggK,YAAa,WACT,IAAItoK,EAAOP,KACX,IAAIspK,EAAa/oK,EAAKd,QAAQ6pK,WAE9B,GAAIA,EAAY,CAEZ/oK,EAAKs6C,QAAQhmC,IAAI,CACb+1J,aAAc,SACdj0J,SAAY,WACZk0J,6BAA8B,UAGlC,GAAIvB,IAAe,UACf/oK,EAAKipK,oBAKjBA,gBAAiB,WACb,IAAIjpK,EAAOP,KACX,IAAI8qK,EAAmBvqK,EAAKwqK,iBAAmBxqK,EAAKoqB,WAAWlrB,QAAQi5C,SAEvEn4C,EAAKs6C,QACAxnB,IAAI,SAAWyrD,GACf14D,GAAG,SAAW04D,EAAI,WACf,GAAI9+E,KAAK2wB,UAAY3wB,KAAK8f,aAAe9f,KAAK6f,eAAiB,KAC9Dtf,EAAK2pK,yBACN3pK,EAAKwqK,iBAAmBxqK,EAAKoqB,WAAWmyB,QAAS,CAC7Cv8C,EAAK4pK,wBAA2B5pK,EAAKwqK,iBACrCxqK,EAAKwqK,iBAAmBxqK,EAAK4pK,wBAA2BW,EACxDvqK,EAAKoqB,WAAWlrB,QAAQk3D,QAAU,KAClCp2D,EAAK2pK,wBAA0B,KAC/B3pK,EAAKoqB,WAAW+tB,SAASn4C,EAAKwqK,sBAK9CliK,QAAS,SAAS+zG,GACd,IAAIr8G,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfhH,EAAUtI,EAAK4sH,SACf3wH,EAAK+D,EAAKioK,QAEd,GAAI5rD,IAAcv/G,EACd,OAAOwL,EAGX,GAAIA,GAAWA,EAAQ,GAAI,CACvB,GAAIA,EAAQ,GAAGrM,KAAOA,EAClBqM,EAAQwiB,WAAW,MAGvBxiB,EAAQ4M,YAAYupE,GACpBnvE,EAAQwb,WAAWu3F,GAGvB,GAAIhG,GAAaA,EAAU,GAAI,CAC3BpgH,EAAKogH,EAAU,GAAGpgH,IAAMA,EAExB+D,EAAKyqK,UAAUpuD,EAAU,IAEzB/sG,EAAQsG,KAAKysG,EAAuBpmH,GACpCogH,EAAU1mG,SAAS8oE,GAAS7oE,KAAK,KAAM3Z,GAG3C+D,EAAK4sH,SAAWvQ,GAGpBouD,UAAW,SAASn7J,GAChB,IAAItP,EAAOP,KACP66C,EAAUt6C,EAAKs6C,QACfvqB,EACA26I,EAAkB,MAClB76E,EAAS,SAEb,GAAIv1C,EAAQhmC,IAAI,cAAgB,QAAUgmC,EAAQhmC,IAAI,cAAgBu7E,GAAUv1C,EAAQhmC,IAAI,gBAAkBu7E,EAC1G9/D,EAAYuqB,EAAQ,OACjB,CACHvqB,EAAYlzB,OACZ6tK,EAAkB,KAGtB,IAAIC,EAAsB,SAAS5zH,EAAWkzC,GAE1C,IAAI8oB,EAAgB23D,EAAkB/tK,EAAE2S,GAASoE,SAASqjC,EAAUhrC,eAAiBuD,EAAQ,SAAWynC,GACpG6zH,EAAmBt7J,EAAQ,SAAW26E,GACtC4gF,EAAwBluK,EAAEozB,GAAW8/D,EAAS94C,KAC9C+zH,EAAqBnuK,EAAEozB,GAAWk6D,EAAUl+E,iBAEhD,GAAIgnG,EAAgB63D,EAAmBC,EAAwBC,EAC3DnuK,EAAEozB,GAAW8/D,EAAS94C,GAAWg8D,EAAgB63D,EAAmBE,QACjE,GAAI/3D,EAAgB83D,EACvBluK,EAAEozB,GAAW8/D,EAAS94C,GAAWg8D,IAIzC43D,EAAoB,MAAO,UAC3BA,EAAoB,OAAQ,UAGhC7kE,aAAc,WACV,IAAI9lG,EAAOP,KACPwkG,EAAcjkG,EAAKd,QAAQ+kG,YAC3B30F,EAAUtP,EAAKsP,QACfgrC,EAAUt6C,EAAKs6C,QACfywH,EAAgB,SAAShpK,GACrB/B,EAAKsI,QAAQ3L,EAAEoF,EAAEivC,gBACjB,IAAKr0C,EAAEoF,EAAE3C,QAAQsW,GAAG,6CAChB3Y,EAAMgkC,aAAazxB,IAI/B,GAAI20F,EAAa,CACbjkG,EAAK2qB,YAELrb,EACKuW,GAAG,QAAU04D,EAAI,WACd,IAAIj2E,EAAUtI,EAAK4sH,SAEnB,IAAKtkH,IAAYA,EAAQoN,GAAG,YACxBpN,EAAUtI,EAAKgpK,MAAM,SAGzBhpK,EAAKsI,QAAQA,KAEhBud,GAAG,WAAa04D,EAAI,WACjB,GAAIv+E,EAAK4sH,SACL5sH,EAAK4sH,SAAS13G,YAAYupE,KAGjC54D,GAAG,UAAY04D,EAAIv+E,EAAM,SAAS+B,GAC/B,IAAI0E,EAAM1E,EAAE8+B,QACRv4B,EAAUtI,EAAKsI,UACflJ,EAASzC,EAAEoF,EAAE3C,QACb4rK,GAAa5rK,EAAOsW,GAAG,4CACvBu1J,EAAY7rK,EAAOsW,GAAG,oBACtB/U,EAAiB5D,EAAM4D,eACvBuqK,EAAW5wH,EAAQ9qB,KAAK,IAAM83I,GAC9B5qC,EAASxtH,IAAiB9N,EAC1B2nK,EAAa/oK,EAAKd,QAAQ6pK,WAE9B,GAAI3pK,EAAO+V,SAASoyJ,KAAkByD,IAAcC,GAAaxkK,IAAQugB,EAAKM,KAAS2jJ,GAAaxkK,IAAQugB,EAAKM,KAAO7gB,IAAQugB,EAAKK,MACjI,OAGJ,GAAI5gB,IAAQugB,EAAKQ,IAAM/gB,IAAQugB,EAAKO,KAAM,CACtC,GAAIjf,GAAWA,EAAQ,GACnBA,EAAUA,EAAQskC,OAGtB,GAAItkC,GAAWA,EAAQ,GACnBtI,EAAKsI,QAAQA,QAEZ,IAAKygK,EACN/oK,EAAKsI,QAAQtI,EAAKgpK,MAAM,SAE5BroK,EAAeoB,GAGnB,GAAI0E,IAAQugB,EAAKU,MAAQjhB,IAAQugB,EAAKS,MAAO,CACzC,GAAIshJ,EACA,GAAI/oK,EAAKd,QAAQ6pK,aAAe,YAAczgK,EAAQ8yD,OAAO77D,OAAQ,CACjES,EAAKs6C,QAAQ,GAAGlqB,UAAYpwB,EAAKs6C,QAAQ,GAAGh7B,aAC5Ctf,EAAK+pK,WAAa,SACf,CACHzhK,EAAUA,EAAQ8yD,OAElB,GAAI9yD,GAAWA,EAAQ,GACnBtI,EAAKsI,QAAQA,OAIpB,CACDA,EAAUA,EAAQ8yD,OAClBp7D,EAAKsI,SAASA,IAAYA,EAAQ,GAAKtI,EAAKgpK,MAAM,SAAW1gK,GAEjE3H,EAAeoB,GAGnB,GAAI0E,IAAQugB,EAAKc,OAAQ,CACrB9nB,EAAKsI,QAAQ,MACbtI,EAAKoqB,WAAWguB,KAAKp4C,EAAKoqB,WAAWguB,OAAS,GAC9Cz3C,EAAeoB,GAGnB,GAAI0E,IAAQugB,EAAKe,SAAU,CACvB/nB,EAAKsI,QAAQ,MACbtI,EAAKoqB,WAAWguB,KAAKp4C,EAAKoqB,WAAWguB,OAAS,GAC9Cz3C,EAAeoB,GAGnB,GAAI0E,IAAQugB,EAAKY,KAAM,CACnB5nB,EAAKsI,QAAQtI,EAAKgpK,MAAM,UACxBroK,EAAeoB,GAGnB,GAAI0E,IAAQugB,EAAKW,IAAK,CAClB3nB,EAAKsI,QAAQtI,EAAKgpK,MAAM,SACxBroK,EAAeoB,GAGnB,GAAI0E,IAAQugB,EAAKK,MACb,GAAI6jJ,EAAS3rK,SAAW,IAAMyrK,GAAaC,GAAY,CACnD7pK,EAAMpB,EAAK8tB,QAAQlf,MAAMs8J,GAEzB,GAAIxuC,EACAA,EAAOjoH,OAGXzU,EAAK+nC,OAEL,IAAIojI,EAAa,WACbnrK,EAAKsP,QAAQxN,QAAQ,SACrB9B,EAAKsI,QAAQtI,EAAK8tB,QAAQyD,GAAGnwB,KAGjCpB,EAAKmB,IAAI,YAAagqK,QACnB,GAAInrK,EAAKd,QAAQupK,eAAiB,GACrCzoK,EAAKorK,KAAK9iK,GAIlB,GAAI7B,IAAQugB,EAAKM,IAAK,CAClB4jJ,EAAW5wH,EAAQ9qB,KAAK,IAAM83I,GAE9B,GAAI4D,EAAS3rK,SAAW,EACpB,OAGJ6B,EAAMpB,EAAK8tB,QAAQlf,MAAMs8J,GACzBlrK,EAAKs0B,SACLt0B,EAAKsP,QAAQxN,QAAQ,SACrB9B,EAAKsI,QAAQtI,EAAK8tB,QAAQyD,GAAGnwB,OAIzCkO,EAAQuW,GAAGw6E,EAAY9hB,EAAK,IAAMwpF,EAAaxpF,EAAIv+E,EAAKd,QAAQ68E,eAAiB,uBAAyBsrF,EAAgBA,EAAe0D,EAAc/pK,KAAKhB,MAIpKqrK,eAAgB,WACZ,IAAIrrK,EAAOP,KACXO,EAAK88F,WAAW9wC,QAChBhsD,EAAK8B,QAAQ4nC,IAGjBpK,OAAQ,SAASxR,GACb,IAAI9tB,EAAOP,KACPq9F,EAAa98F,EAAK88F,WAEtBhvE,EAAQnxB,EAAEmxB,GAEV,GAAIA,EAAMvuB,OAAQ,CACd,IAAKu9F,EAAW59F,QAAQizE,SAAU,CAC9B2qB,EAAW9wC,QACXl+B,EAAQA,EAAMlsB,QAElBk7F,EAAW/1F,MAAM+mB,GACjB,OAGJ,OAAOgvE,EAAW/1F,SAGtB8iK,iBAAkB,WACd,IAAI7pK,EAAOP,KACX,GAAIO,EAAKojD,SAAU,CACfpjD,EAAKojD,SAAS13B,iBACP1rB,EAAKojD,WAIpBkoH,kBAAmB,SAASh8J,GACxB,IAAI0yC,EAAM1yC,EAAQsG,KAAK7Y,EAAM6Y,KAAK,QAElC,OAAOnW,KAAK2qB,WAAWioC,SAASrQ,IAGpCupH,eAAgB,WACZ,IAAIvrK,EAAOP,KACP2jD,EAAWpjD,EAAKojD,SAChBlkD,EAAUc,EAAKd,QACfmqB,EAAQnqB,EAAQ49F,YAAc59F,EAAQ+kG,YAAe,SAAW,WAChEvgG,EACAglC,EACA95B,EACAnL,EAAWzD,EAAKyD,SAEpB,GAAI2/C,EAAU,CACV,GAAIA,EAAS9zC,QAAQV,QAAU,EAC3BnL,EAAWzD,EAAKwoK,YAGpBxoK,EAAKmqB,QAAQ,UAAW,WACpB,MAAO,CAAE0D,SAAU,CAAEu1B,EAAS9zC,YAGlC5L,EAAO1D,EAAKsrK,kBAAkBloH,EAAS9zC,SACvCtP,EAAK6pK,mBAELj7J,EAAQw0C,EAAS9zC,QAAQV,QACzBw0C,EAAS9zC,QAAQksE,YAAY/3E,EAASC,IACtCglC,EAAO1oC,EAAK8tB,QAAQyD,GAAG3iB,GACvB85B,EAAK/yB,SAAS6xJ,GACd9+H,EAAK9yB,KAAK7Y,EAAM6Y,KAAK,OAAQlS,EAAKs+C,KAClCtZ,EAAK9yB,KAAK+xJ,EAAWt+I,GAErB,GAAIrpB,EAAKyqB,oBACL1tB,EAAMiE,KAAK0nC,EAAMhlC,GAGrB1D,EAAKmqB,QAAQ,UAAW,WACpB,MAAO,CAAE0D,SAAU,CAAE6a,GAAQhlC,KAAM,CAAE,CAAEqqB,SAAUrqB,OAGzD,OAAO,MAGX0nK,KAAM,SAAS1iI,GACX,IAAI1oC,EAAOP,KACPiE,EAAO1D,EAAKsrK,kBAAkB5iI,GAC9B3Y,EACAiyB,EAAMt+C,EAAKs+C,IACXpzC,EAEJ5O,EAAKs0B,SAELoU,EAAO1oC,EAAK8tB,QAAQ4B,OAAO,IAAM3yB,EAAM6Y,KAAK,OAAS,IAAMosC,EAAM,KACjEpzC,EAAQ85B,EAAK95B,QACb85B,EAAK8yC,YAAYx7E,EAAKyoK,aAAa/kK,IACnCqsB,EAAY/vB,EAAK8tB,QAAQyD,GAAG3iB,GAAO+G,SAAS2xJ,GAAW1xJ,KAAK7Y,EAAM6Y,KAAK,OAAQlS,EAAKs+C,KACpFhiD,EAAKojD,SAAWrzB,EAAUy7I,cAAc,CACpCluH,MAAO55C,EACP0iK,eAAgB,MAChBpkF,cAAe,MACf5iF,OAAQY,IACT0D,KAAK,iBAER1D,EAAK8B,QAAQ8lK,EAAM,CAAEtqH,MAAO55C,EAAMglC,KAAM3Y,KAG5CgY,KAAM,WACF,IAAI/nC,EAAOP,KACP2jD,EAAWpjD,EAAKojD,SAChB9F,EAEJ,IAAK8F,EACD,OAGJ,IAAIrzB,EAAYqzB,EAAS9zC,QACzBguC,EAAQt9C,EAAKsrK,kBAAkBv7I,GAE/B,GAAIqzB,EAAS//C,QAAUrD,EAAK8B,QAAQgmK,EAAM,CAAExqH,MAAOA,EAAO5U,KAAM3Y,IAAe,CAC3E/vB,EAAKurK,iBACLvrK,EAAKoqB,WAAWunC,SAIxBnhC,OAAQ,SAASkY,GACb,IAAI1oC,EAAOP,KACP2qB,EAAapqB,EAAKoqB,WAClB1mB,EAAO1D,EAAKsrK,kBAAkB5iI,GAElC,GAAI1oC,EAAKojD,SAAU,CACfh5B,EAAWsqC,cAAc10D,EAAKsrK,kBAAkBtrK,EAAKojD,SAAS9zC,UAC9DtP,EAAKurK,iBAGT,IAAKvrK,EAAK8B,QAAQ+lK,EAAQ,CAAEvqH,MAAO55C,EAAMglC,KAAMA,IAAS,CACpD,GAAIA,EAAK9yB,KAAK,QAAU5V,EAAKsP,QAAQsG,KAAKysG,GACtCriH,EAAKsP,QAAQwb,WAAWu3F,GAG5B35E,EAAK1lB,OACLoH,EAAWoG,OAAO9sB,GAClB0mB,EAAWunC,SAInBnuC,IAAK,WACD,IAAIxjB,EAAOP,KACPsuB,EACA3D,EAAapqB,EAAKoqB,WAClBxb,EAAQwb,EAAW9d,SAAS8d,EAAW+G,QAAU,IAAI,IAEzD,GAAIviB,EAAQ,EACRA,EAAQ,EAGZ5O,EAAKs0B,SACLvG,EAAW3D,EAAWuoC,OAAO/jD,EAAO,IACpC5O,EAAKorK,KAAKprK,EAAKsP,QAAQkgB,KAAK,cAAgBzB,EAASi0B,IAAM,QAG/D1tB,OAAQ,WACJ,IAAIt0B,EAAOP,KACP2qB,EAAapqB,EAAKoqB,WAEtB,GAAIpqB,EAAKojD,SAAU,CACf,IAAIrzB,EAAY/vB,EAAKojD,SAAS9zC,QAC9B,IAAIguC,EAAQt9C,EAAKsrK,kBAAkBv7I,GAEnC,IAAK/vB,EAAK8B,QAAQwtC,EAAQ,CAAEgO,MAAOA,EAAOvtB,UAAWA,IAAa,CAC9D3F,EAAWsqC,cAAcpX,GACzBt9C,EAAKurK,oBAKjBlD,cAAe,WACX,IAAIroK,EAAOP,KACPgsK,EAAe1D,EAAaxpF,EAC5BmtF,EAAUtrE,EAAQ7hB,EAEtBv+E,EAAKs6C,QAAQz0B,GAAG4lJ,EAAe,IAAMC,EAAS,iBAAkB,SAAS3pK,GACrEA,EAAEpB,iBACF,IAAI+nC,EAAO/rC,EAAE8C,MAAMua,QAAQ,IAAMjd,EAAM6Y,KAAK,OAAS,KACrDgd,WAAW,WACP5yB,EAAKorK,KAAK1iI,OAKlB1oC,EAAKs6C,QAAQz0B,GAAG4lJ,EAAe,IAAMC,EAAS,mBAAoB,SAAS3pK,GACvEA,EAAEpB,iBACF,IAAI+nC,EAAO/rC,EAAE8C,MAAMua,QAAQ,IAAMjd,EAAM6Y,KAAK,OAAS,KACpDgd,WAAW,WACR5yB,EAAKwwB,OAAOkY,OAIpB1oC,EAAKs6C,QAAQz0B,GAAG6lJ,EAAS,mBAAoB,SAAS3pK,GAClD/B,EAAK+nC,OACLhmC,EAAEpB,mBAGNX,EAAKs6C,QAAQz0B,GAAG6lJ,EAAS,mBAAoB,SAAS3pK,GAClD/B,EAAKs0B,SACLvyB,EAAEpB,oBAIV+qB,QAAS,WACL,IAAI1rB,EAAOP,KAEX8mB,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,GAEvBA,EAAK6oH,oBAEL7oH,EAAK6pK,mBAEL7pK,EAAKsP,QAAQwjB,IAAIyrD,GACjBv+E,EAAKs6C,QAAQxnB,IAAIyrD,GAEjBv+E,EAAK2pK,wBAA0B3pK,EAAKwqK,iBAAmBxqK,EAAK4pK,wBAA0B5pK,EAAK+pK,WAAa,KAExG,GAAI/pK,EAAKkqK,MACLlqK,EAAKkqK,MAAMx+I,UAGf3uB,EAAM2uB,QAAQ1rB,EAAKsP,YAO/B,OAHIvS,EAAM2pB,GAAG+J,OAAOu3I,GAGbnrK,OAAOE,QAphCd,CAshCoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAGrF,SAAavtC,QACTA,OAAO,gBAAgB,CAAE,oBAAqB,aAAc,oBAC7D,WAEH,IAAIC,EAAW,CACXC,GAAI,UACJC,KAAM,UACNC,SAAU,MACVqtC,QAAS,CAAC,cAAe,OAAQ,eAG3B7sC,EAojDPE,OAAOE,MAAMH,OApjDHE,OAAb,EACQC,EAAQF,OAAOE,MACf4uK,EAAY5uK,EAAM6Y,KAClBlS,EACAsjB,EAAOjqB,EAAMiqB,KACb0nF,EAAgB3xG,EAAM0G,SACtB8iB,EAASxpB,EAAM2pB,GAAGH,OAClB7P,EAJO3Z,EAAM2G,KAIKgT,WAClBqjF,EAAah9F,EAAM2pB,GAAGqzE,WACtBvsE,EAAkBzwB,EAAM2pB,GAAG8G,gBAC3B7tB,EAAQ5C,EAAM4C,MAEd1C,EAASN,EAAEM,OACXI,EAAOV,EAAEU,KAETuuK,EAAO,IACPnqE,EAAM,IACNoqE,EAAQ,IACRC,EAAO,IAEPC,EAAgB,eAChBxtF,EAAKkjB,EAAMsqE,EACXC,EAAuB,aACvBC,EAAuB,aACvBC,EAAwB,gCACxBC,EAAyB,gCAAkCD,EAC3DE,EAAgB,oBAChBC,EAAgB,mCAChBC,EAAgB,UAChBC,EAAkB,cAClBC,EAAkB,cAClBC,EAAa,YACbC,EAAgB,aAEhBtsE,EAAQ,QAAU7hB,EAClBulB,EAAU,UAAYvlB,EACtBiC,EAAO,OAASjC,EAChB/uE,EAAazS,EAAMsS,YACnBK,EAAc3S,EAAM0S,aACpBi6B,EAAS,SACTw9H,EAAY,YACZyF,EAAM,MACN9E,EAAS,SACT+E,EAAU,UACVC,EAAU,SACVC,EAAY,WACZC,EAAc,aACdC,EAAgB,eAChBC,EAAkB,gBAClBC,EAAoB,kBACpBC,EAAe,UACfC,EAAY,MACZh1D,EAAK,KACLxtF,EAAW,WACXyiJ,EAAU,UAEVC,IAAkB,EAClBC,GAAmB,EACnBxmF,GAAY,YACZC,GAAO,OACPM,GAAO,OACPL,GAAU,UACVgP,GAAiB,8BAEjBxuE,GAAQ,QACRmgF,GAAS,SAET4lE,GAA+B,CAC/BpB,EAAgBR,EAAO,OACvBQ,EAAgBR,EAAOnkJ,GACvB2kJ,EAAgBR,EAAO,MACvBQ,EAAgBR,EAAOhkE,IAG3B,SAAS6lE,GAAoB3/I,GACzB,IAAI2kG,EAAU91H,EAAEgU,IAAImd,EAAO,SAAS4a,GAChC,OAAO/rC,EAAE+rC,GAAM95B,UAGnB,OAAO6jH,EAGX,SAASi7C,GAAY3mK,GACjB,cAAeA,IAAU,YAG7B,SAASqvF,GAAY9mF,GACjB,OAAOA,EAAQnQ,QACVyW,KAAK,QAAS,IACdD,SAAS42J,GAGlB,SAASl2E,KACL,OAAO15F,EAAE,QAAQgZ,SAAS62J,GAG9B,IAAImB,GAAUngJ,EAAgBvwB,OAAO,CACjCiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCc,EAAKy7E,WACLz7E,EAAK4tK,QACL5tK,EAAK4sB,WAAW5sB,EAAK6tK,YACrBv+J,EAAUtP,EAAKsP,QAAQsG,KAAK,WAAY,YAAYoN,OAEpD,GAAI1T,EAAQ,KAAOtP,EAAKd,QAAQkrB,WAAY,CACxCpqB,EAAKd,QAAQmpE,cAAgBroE,EAAKd,QAAQmpE,eAAiB,OAC3DroE,EAAKd,QAAQynE,eAAiB3mE,EAAKd,QAAQynE,gBAAkB,QAEjE3mE,EAAKmxH,aACLnxH,EAAKu3H,cACLv3H,EAAK6hE,cACL7hE,EAAK8tK,iBACL9tK,EAAKu2F,mBACLv2F,EAAK+tK,sBAGTriJ,QAAS,WACL,IAAI1rB,EAAOP,KAEX+tB,EAAgBptB,GAAGsrB,QAAQzpB,KAAKjC,GAChC,IAAKuT,MAAMvT,EAAKguK,eAAgB,CAC5BhuK,EAAK6tK,WAAW/6I,MAChB9yB,EAAKguK,cAAgB,KAEzBhuK,EAAK6oH,oBACL7oH,EAAKm5H,qBACLn5H,EAAKiuK,kBACLjuK,EAAKiW,QAAQ6c,IAAIyrD,GACjB,GAAIv+E,EAAKkuK,QACLluK,EAAKkuK,QAAU,KAEnB,GAAIluK,EAAKmuK,WAAY,CACjBnuK,EAAKmuK,WAAWziJ,UAChB1rB,EAAK8f,YAAc,KAGvB/iB,EAAM2uB,QAAQ1rB,EAAKsP,UAGvByb,WAAY,SAAS7rB,GACjBqnB,EAAOnmB,GAAG2qB,WAAW9oB,KAAKxC,KAAMP,GAChCO,KAAK0xH,aACL1xH,KAAKoiE,eAGTpgE,OAAQ,CACJioC,EACAw9H,EACAyF,EACA9E,EACA+E,EACA7lF,GACAC,GACAM,GACAL,IAGJ/nF,QAAS,CACLhD,KAAM,UACN+qE,SAAU,KACVxjE,SAAU,GACV4kE,cAAe,GACf1B,eAAgB,GAChBm2B,WAAY,SACZpR,UAAW,KACX0iF,YAAa,GACb53E,YAAa,GACbyN,YAAa,KACbqU,QAAS,CACLliG,SAAUqR,GACV4mJ,MAAO,IAEXtnJ,SAAU,CACNsnJ,MAAO,CACH79I,OAAQ,SACR89I,OAAQ,UACRC,SAAU,YACVC,WAAY,cACZC,aAAc,gBACdC,cAAe,kBACfC,gBAAiB,uBAK7BnrJ,IAAK,SAASiK,GACV,IAAIztB,EAAOP,KACX,IAAIquB,EAAQL,GAAaA,EAAUluB,OAASkuB,EAAY,CAACA,GACzD,IAAI4qC,EAAcvqC,EAAMvuB,OACxB,IAAIgiE,EAAOvhE,EAAK6tK,WAChB,IAAIvuK,EAEJU,EAAK6oH,oBACL7oH,EAAK4uK,oBACL,IAAKtvK,EAAI,EAAGA,EAAI+4D,EAAa/4D,IACzBU,EAAK6uK,SAAS/gJ,EAAMxuB,GAAIiiE,GAE5BvhE,EAAK8uK,kBACL9uK,EAAK+uK,kBACL/uK,EAAKgvK,gBAGTH,SAAU,SAAS9gJ,EAAUwzC,GACzB,IAAIvhE,EAAOP,KACX,IAAIipC,EAAO/rC,EAAEqD,EAAK+hG,UAAUW,aAAa,CAAEh6D,KAAM3a,EAAUq6H,EAAGpoJ,EAAK+hG,UAAUktE,eAE7EjvK,EAAKkvK,WAAWxmI,EAAM3a,EAASi0B,KAE/BtZ,EAAK/D,SAAS48B,GAEd,UAAWxzC,UAAoB,GAC3B/tB,EAAKoqB,WAAWilC,MAAM1tD,KAAKosB,QAE3B/tB,EAAKoqB,WAAW5G,IAAIuK,IAI5BohJ,WAAY,SAASphJ,EAAUnf,GAC3B,IAAI5O,EAAOP,KACX,IAAIipC,EAAO/rC,EAAEqD,EAAK+hG,UAAUW,aAAa,CAAEh6D,KAAM3a,EAAUq6H,EAAGpoJ,EAAK+hG,UAAUktE,eAC7EjvK,EAAK6oH,oBACL,UAAW96F,UAAoB,GAAI,CAC/B/tB,EAAKovK,iBAAiB1mI,EAAM95B,GAC5B5O,EAAKoqB,WAAWilC,MAAM1tD,KAAKosB,OACxB,CACH/tB,EAAKkvK,WAAWxmI,EAAM3a,EAASi0B,KAC/BhiD,EAAKovK,iBAAiB1mI,EAAM95B,GAC5B5O,EAAKoqB,WAAW5G,IAAIuK,GAExB/tB,EAAK+uK,kBACL/uK,EAAKgvK,gBAGTI,iBAAkB,SAAS1mI,EAAM95B,GAC7B,IAAI5O,EAAOP,KACX,IAAI8hE,EAAOvhE,EAAK6tK,WAEhB,GAAIj/J,EAAQ,EACRjS,EAAE+rC,GAAMo8C,YAAYvjB,EAAKzgB,WAAWvvB,GAAG3iB,EAAQ,SAE/CjS,EAAE4kE,GAAMgwB,QAAQ7oD,IAIxBqlI,mBAAoB,WAChB,IAAI/tK,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QAEnB,GAAIA,EAAQ+kG,YACRjkG,EAAK6tK,WAAWhoJ,GAAGu6E,EAAO8rE,EAAuBlsK,EAAKu1C,OAAOv0C,KAAKhB,IACrD6lB,GAAGi+E,EAAS9jG,EAAKknG,SAASlmG,KAAKhB,IAC/B6lB,GAAG26D,EAAMxgF,EAAKghG,MAAMhgG,KAAKhB,KAI9CqvK,aAAc,WACV,IAAIrvK,EAAOP,KACX,IAAIorB,EAEJ,IAAKtX,MAAMvT,EAAKguK,eAEZ,OAAOhuK,EAAKguK,cAGhBnjJ,EAAW7qB,EAAKsP,QAAQsG,KAAKgV,GAC7B5qB,EAAKguK,eAAiBz6J,MAAMsX,GAAYA,EAAW,EAEnD7qB,EAAKsP,QAAQwb,WAAWF,GAExB,OAAO5qB,EAAKguK,eAGhBhtE,MAAO,WACH,GAAIvhG,KAAKyuK,QAAS,CACdzuK,KAAKyuK,QAAQh5J,YAAYo3J,GACzB7sK,KAAKouK,WAAW/iJ,WAAW,yBAE/BrrB,KAAKyuK,QAAU,MAGnB34H,OAAQ,SAASxzC,GACb,IAAI/B,EAAOP,KACX,IAAIL,EAASzC,EAAEoF,EAAEivC,eACjB,IAAIs+H,EAAYtvK,EAAKkuK,QACrB,IAAIqB,EAAWxyK,EAAMiS,iBACrB,IAAIwgK,EAAc7yK,EAAEiyB,SAAS5uB,EAAKiW,QAAQ,GAAIs5J,GAE9C,GAAID,EACAA,EAAUp6J,YAAYo3J,GAG1BtsK,EAAKkuK,QAAU9uK,EACfA,EAAOuW,SAAS22J,GAChBtsK,EAAK6tK,WAAWj4J,KAAK,wBAAyBxW,EAAOwW,KAAKwiG,IAE1D,GAAIp4G,EAAK6tK,WAAW,KAAO9wK,EAAMiS,oBAAsBwgK,IAAgBC,GAAeF,IAClFvvK,EAAK8+B,SAIb4wI,oBAAqB,SAASjpK,GAC1B,IAAIzG,EAAOP,KACX,IAAI6I,EAEJ,IAAKtI,EAAKkuK,QACN5lK,EAAUtI,EAAK8tB,QAAQ4B,OAAOw8I,GAAuBtqK,aAErD0G,EAAUtI,EAAKkuK,QAGnB,GAAIznK,IAAQugB,EAAKQ,IAAMxnB,EAAKkuK,QACxB5lK,EAAUtI,EAAKkuK,QAAQ/uD,QAAQ+sD,GAAuBtqK,QAG1D,GAAI6E,IAAQugB,EAAKU,MAAQ1nB,EAAKkuK,QAC1B5lK,EAAUtI,EAAKkuK,QAAQyB,QAAQzD,GAAuBtqK,QAG1D,OAAO0G,EAAQ/I,OAAS+I,EAAU,MAGtCsnK,gBAAiB,SAASlnI,GACtB,IAAKA,EACD,OAGJ,GAAIA,EAAK,GACLA,EAAOA,EAAK,GAGhB,IAAI64B,EAAO9hE,KAAKouK,WAAW74J,SAAS,GACpC,IAAI88G,EAAgBppF,EAAK0hF,UACzB,IAAI4H,EAAmBzwD,EAAKnxC,UAC5B,IAAI6hG,EAAsB1wD,EAAKhiD,aAC/B,IAAI2yG,EAAiBJ,EAAgBppF,EAAKxa,aAE1C,GAAI8jG,EAAmBF,EACnBE,EAAmBF,OAChB,GAAII,EAAkBF,EAAmBC,EAC5CD,EAAoBE,EAAiBD,EAGzC1wD,EAAKnxC,UAAY4hG,GAGrB9qB,SAAU,SAASnlG,GACf,IAAI/B,EAAOP,KACX,IAAIgH,EAAM1E,EAAE8+B,QACZ,IAAIv4B,EAAUtI,EAAK0vK,oBAAoBjpK,GACvC,IAAIopK,EAEJ,GAAI7vK,EAAKkuK,QACLluK,EAAKkuK,QAAQh5J,YAAYo3J,GAG7B,KAAMvqK,EAAE++B,WAAa/+B,EAAE8wF,UAAYpsF,IAAQugB,EAAKU,MAAQjhB,IAAQugB,EAAKQ,KACjExnB,EAAK8vK,gBAAkB,MAG3B,GAAIrpK,GAAOugB,EAAKE,OAAQ,CACpBlnB,EAAK+vK,gBAAgBlI,GACrB,GAAI7nK,EAAKkuK,QAAS,CACdluK,EAAKkuK,QAAQh5J,YAAYo3J,GACzBtsK,EAAK6tK,WAAW/iJ,WAAW,yBAC3B9qB,EAAKkuK,QAAU,KAEnB2B,EAAuB,UACpB,GAAIppK,IAAQugB,EAAKU,MAAQjhB,IAAQugB,EAAKQ,GAAI,CAC7C,IAAKlf,EAAS,CACVvG,EAAEpB,iBACF,OAEJ,GAAIoB,EAAE++B,WAAa/+B,EAAE8wF,QAAS,CAC1B,IAAK7yF,EAAK8vK,gBAAiB,CACvB9vK,EAAKqrK,iBACLrrK,EAAK8vK,gBAAkB,KAE3B,GAAI9vK,EAAKkuK,SAAW5lK,EAAQ6M,SAAS,cAAe,CAChDnV,EAAKkuK,QAAQh5J,YAAY+2J,GACzBjsK,EAAK8B,QAAQ4nC,QACV,GAAI1pC,EAAKd,QAAQ49F,YAAc,SACnC98F,EAAKs/B,OAAOh3B,QAEZtI,EAAKs/B,OAAOh3B,EAAQkb,IAAIxjB,EAAKkuK,eAE7B,GAAInsK,EAAE++B,UAAY/+B,EAAE8wF,QAAS,CAChC7yF,EAAK+vK,gBAAgBtpK,IAAQugB,EAAKU,KAAOolJ,EAAYD,GACrD7sK,EAAK4vK,gBAAgB5vK,EAAKkuK,SAC1BnsK,EAAEpB,iBACF,YACG,IAAKoB,EAAE++B,WAAa/+B,EAAE8wF,QAAS,CAClC,GAAI7yF,EAAKd,QAAQ49F,aAAe,WAC5B98F,EAAKqrK,iBAETrrK,EAAKs/B,OAAOh3B,GAGhBtI,EAAKkuK,QAAU5lK,EACf,GAAItI,EAAKkuK,QAAS,CACdluK,EAAKkuK,QAAQv4J,SAAS22J,GACtBtsK,EAAK4vK,gBAAgB5vK,EAAKkuK,SAC1BluK,EAAK6tK,WAAWj4J,KAAK,wBAAyB5V,EAAKkuK,QAAQt4J,KAAKwiG,SAEhEp4G,EAAK6tK,WAAW/iJ,WAAW,yBAE/B+kJ,EAAuB,UACpB,GAAIppK,GAAOugB,EAAKa,SAAU,CAC7B,GAAI9lB,EAAE8wF,SAAW7yF,EAAKkuK,QACnB,GAAIluK,EAAKkuK,QAAQ/4J,SAAS82J,GAAuB,CAC7CjsK,EAAKkuK,QAAQh5J,YAAY+2J,GACzBjsK,EAAK8B,QAAQ4nC,QAEb1pC,EAAKs/B,OAAOt/B,EAAKkuK,aAEjB,CACJluK,EAAKqrK,iBACLrrK,EAAKs/B,OAAOt/B,EAAKkuK,SAEpB2B,EAAuB,UACpB,GAAI9tK,EAAE8wF,SAAWpsF,GAAOugB,EAAKS,MAAO,CACvC,GAAI1lB,EAAE++B,SACH9gC,EAAK+vK,gBAAgB9C,QAErBjtK,EAAK+vK,gBAAgBhD,GAExB/sK,EAAKkuK,QAAUluK,EAAKs/B,SAAS//B,OAASS,EAAKs/B,SAAW,KACtDuwI,EAAuB,UACpB,GAAI9tK,EAAE8wF,SAAWpsF,GAAOugB,EAAKO,KAAM,CACtC,GAAIxlB,EAAE++B,SACH9gC,EAAK+vK,gBAAgB7C,QAErBltK,EAAK+vK,gBAAgB/C,GAExB6C,EAAuB,KAG3B,GAAIA,EACA9tK,EAAEpB,kBAIVm+B,MAAO,WACH/hC,EAAMgkC,aAAathC,KAAKouK,aAG5Bt3E,iBAAkB,WACd,IAAIv2F,EAAOP,KACX,IAAIisF,EAAY1rF,EAAKd,QAAQwsF,UAC7B,IAAIuB,EAEJ,GAAIvB,EAAW,CACXuB,EAAOvB,EAAUuB,KACjB,IAAKjtF,EAAKd,QAAQ49F,WACd,MAAM,IAAIz4F,MAAM,6CAGpB,IAAK4oF,EACDA,EAAOmJ,GAGXp2F,EAAKmuK,WAAa,IAAIpxK,EAAM2pB,GAAGylE,UAAUnsF,EAAKiW,QAAS,CACnDyZ,OAAQg8D,EAAUh8D,OAASg8D,EAAUh8D,OAASumE,GAC9ChJ,KAAMlwF,EAAM2D,WAAWusF,GAAQA,EAAOtwF,EAAEswF,GACxC4H,UAAW70F,EAAKy2C,WAAWz1C,KAAKhB,GAChC40F,WAAY50F,EAAKmmH,OAAOnlH,KAAKhB,GAC7B20F,KAAM30F,EAAKqsF,MAAMrrF,KAAKhB,GACtB80F,QAAS90F,EAAK42F,SAAS51F,KAAKhB,OAKxCy2C,WAAY,SAAS10C,GACjB,IAAI/B,EAAOP,KACX,IAAIo3F,EAAiB72F,EAAK62F,eAAiB90F,EAAEivC,cAC7C,IAAIlxB,EAAc9f,EAAKd,QAAQwsF,UAAU5rE,YACzC,IAAIiO,EAAW/tB,EAAK+tB,SAAS8oE,GAC7B,IAAI74B,EAAY,CAAEvwC,UAAWM,EAAUD,MAAOnxB,EAAEk6F,GAAiBE,eAAgBh1F,GAEjF,GAAI/B,EAAKd,QAAQwsF,UAAUjoE,UAAY,MAAO,CAC1C1hB,EAAEpB,iBACF,OAGJ,IAAKmf,EACDA,EAAcu2E,GAGlBr2F,EAAK8f,YAAc/iB,EAAM2D,WAAWof,GAAenjB,EAAEmjB,EAAY7d,KAAKjC,EAAM62F,IAAmBl6F,EAAEmjB,GAEjG,GAAI+2E,EAAenhF,GAAG+rF,EAAMuqE,GACxBjqK,EAAEpB,sBAEF,GAAIX,EAAK8B,QAAQilF,GAAW/oB,GACxBj8D,EAAEpB,qBACC,CACHX,EAAKqrK,iBACLrrK,EAAKs/B,OAAOu3D,GACZA,EAAelhF,SAASw3J,KAKpChnD,OAAQ,WACJ1mH,KAAKo3F,eAAe3hF,YAAYi4J,GAChC1tK,KAAKqgB,YAAY0Q,UAGrB8nE,wBAAyB,SAASv2F,GAC9B,IAAI07B,EAAqB1gC,EAAM0gC,mBAAmB17B,GAClD,IAAI2pF,EAAY3pF,EAAEC,OAElB,GAAIrF,EAAEiyB,SAAS88D,EAAUuB,KAAK,GAAIxvD,IAAuBiuD,EAAUuB,KAAK,KAAOxvD,EAAoB,CAC/FiuD,EAAUuB,KAAKjqE,OACfya,EAAqB1gC,EAAM0gC,mBAAmB17B,GAC9C2pF,EAAUuB,KAAK/a,OAGnB,OAAOz0C,GAGX05D,YAAa,SAASp1F,GAClB,IAAI/B,EAAOP,KACX,IAAI6P,EAAUtP,EAAKs4F,wBAAwBv2F,GAC3C,IAAIiuK,EAAcrzK,EAAE2S,GACpB,IAAIiyD,EAAOvhE,EAAK6tK,WAChB,IAAI//I,EACJ,IAAIoO,EAEJ,GAAIv/B,EAAEiyB,SAAS2yC,EAAK,GAAIjyD,GAAU,CAC9Bwe,EAAQ9tB,EAAK8tB,QACbxe,EAAU0gK,EAAYt6J,GAAG,MAAQpG,EAAU0gK,EAAYh2J,QAAQ,MAAM,GACrEkiB,EAAOpO,EAAM4B,OAAOpgB,GAAS,IAAMwe,EAAMyqE,IAAIjpF,GAAS,GACtD,GAAI4sB,EAAM,CACNA,EAAOv/B,EAAEu/B,GACT,OAAQA,EAAK/mB,SAAS62J,GAAwB,CAAE18J,QAAS4sB,EAAM+zI,QAASjwK,GAAS,UAEjF,OAAO,UAER,GAAIuhE,EAAK,IAAMjyD,GAAWiyD,EAAKvsD,SAAS,IAAM1F,EACjD,MAAO,CAAEA,QAAS3S,EAAE4kE,GAAOo2B,eAAgB,KAAMs4E,QAASjwK,QAE1D,OAAOA,EAAKkwK,wBAAwBF,IAI5Ct4E,kBAAmB,SAASpoF,GACxB,IAAIshC,EAASthC,EAAQ/P,OAASxC,EAAM2kB,UAAUpS,GAAW,KACzD,GAAIshC,EAAQ,CACRA,EAAOpxB,KAAO9P,EAAYJ,GAAW,EACrCshC,EAAOl8B,MAAQlF,EAAWF,GAAW,EAGzC,OAAOshC,GAGXs/H,wBAAyB,SAAS5gK,GAC9B,IAAI6gK,EACJ,IAAIriJ,EACJ,IAAIoO,EACJ,IAAIk0I,EAAkB9gK,EACtB,IAAI+gK,EAEJ,GAAI/gK,EAAQ6F,SAAS,gCACjBk7J,EAAmB/gK,OAEnB+gK,EAAmB/gK,EAAQ0K,QAAQ,iCAGvC,GAAIq2J,EAAiB9wK,OACjB4wK,EAAmBE,EAAiBr7J,SAASwa,KAAK,yBAAyB8gJ,uBAE3E,OAAO,KAGX,GAAIH,GAAoBxzK,EAAEmyB,QAAQrvB,KAAK6P,QAAQ,GAAGrT,GAAIk0K,EAAiBjxK,QAAQkvK,gBAAkB,EAAG,CAChGtgJ,EAAQqiJ,EAAiBriJ,QACzBxe,EAAUA,EAAQoG,GAAG,MAAQpG,EAAQ,GAAKA,EAAQ0K,QAAQ,MAAM,GAChEkiB,EAAOpO,EAAM4B,OAAOpgB,GAAS,IAAMwe,EAAMyqE,IAAIjpF,GAAS,GACtD,GAAI4sB,EAAM,CACNA,EAAOv/B,EAAEu/B,GACT,OAAQA,EAAK/mB,SAAS62J,GAAwB,CAAE18J,QAAS4sB,EAAM+zI,QAASE,GAAqB,UAC1F,IAAKriJ,EAAMvuB,QACN6wK,EAAgBj7J,SAAS,iCACzBi7J,EAAgBj7J,SAAS,kBACjC,MAAO,CAAE7F,QAAS6gK,EAAiBtC,WAAYoC,QAASE,EAAkBx4E,eAAgB,WAE1F,OAAO,KAGf,OAAO,MAGXtL,MAAO,SAAStqF,GACZ,IAAI/B,EAAOP,KACX,IAAIo3F,EAAiB72F,EAAK62F,eAC1B,IAAIz3F,EAASY,EAAKm3F,YAAYp1F,GAC9B,IAAI2qF,EAAe,CAAEh4E,KAAM3S,EAAE27B,EAAE5f,SAAU0B,IAAKzd,EAAE6L,EAAEkQ,UAClD,IAAIiQ,EAAW/tB,EAAK+tB,SAAS8oE,GAC7B,IAAI74B,EAAY,CAAEvwC,UAAW,CAACM,GAAWD,MAAOnxB,EAAEk6F,GAAiBE,eAAgBh1F,GACnF,IAAIq1F,EACJ,IAAIC,EACJ,IAAItgD,EAEJ,GAAI/2C,EAAK8B,QAAQklF,GAAMhpB,GAAY,CAC/Bj8D,EAAEpB,iBACF,OAGJ,GAAIvB,EAAQ,CACRg4F,EAAe33F,KAAKi4F,kBAAkBt4F,EAAOkQ,SAE7C+nF,EAAc,CACV3iF,KAAMnX,KAAK6O,MAAMsgF,EAAah4E,KAAO0iF,EAAa1iF,MAClD8K,IAAKjiB,KAAK6O,MAAMsgF,EAAaltE,IAAM43E,EAAa53E,MAGpD,GAAIpgB,EAAOu4F,eAAgB,CACvB33F,EAAK43F,iBAAiBx4F,EAAQ,KAAOy3F,GACrC,OAGJ,GAAIQ,EAAY73E,IAAM,EAClBu3B,EAAY,YACT,GAAIsgD,EAAY73E,IAAM,EACzBu3B,EAAY,OAGhB,GAAIA,EACA,GAAI33C,EAAOkQ,QAAQ,IAAMtP,EAAK8f,YAAY,GACtC9f,EAAK43F,iBAAiBx4F,EAAQ23C,EAAW8/C,QAI/C,GAAI72F,EAAK8f,YAAY9K,SAASzV,OAChCS,EAAK8f,YAAY0Q,UAIzBonE,iBAAkB,SAASx4F,EAAQ23C,EAAW8/C,GAC1C,IAAI72F,EAAOP,KACX,IAAIqgB,EAAc9f,EAAK8f,YACvB,IAAIywJ,EAAmBnxK,EAAO6wK,QAAQ/wK,QAAQwsF,UAE9C,GAAI5rE,EAAY9K,SAASzV,OAAQ,CAC7BS,EAAK8f,YAAY0Q,SACjB,GAAI+/I,GAAoBA,EAAiBzwJ,YACrC9f,EAAK8f,YAAc/iB,EAAM2D,WAAW6vK,EAAiBzwJ,aAAenjB,EAAE4zK,EAAiBzwJ,YAAY7d,KAAKjC,EAAM62F,IAAmBl6F,EAAE4zK,EAAiBzwJ,kBAEpJ9f,EAAK8f,YAAcnjB,EAAE05F,GAAmBp0F,KAAKjC,EAAM62F,IAI3D,IAAK9/C,EACD33C,EAAOkQ,QAAQkxD,OAAOxgE,EAAK8f,kBACxB,GAAIi3B,IAAc,OACrB33C,EAAOkQ,QAAQ0nF,OAAOh3F,EAAK8f,kBACxB,GAAIi3B,IAAc,OACrB33C,EAAOkQ,QAAQotE,MAAM18E,EAAK8f,cAIlC82E,SAAU,SAAS70F,GACf,IAAI/B,EAAOP,KACX,IAAI+wK,EAAcxwK,EAAK62F,eACvB,IAAI/oE,EAAQ9tB,EAAK8tB,QACjB,IAAIkqE,EAAmBlqE,EAAMyrE,IAAIv5F,EAAK62F,gBAAgBjoF,MAAM5O,EAAK8f,aACjE,IAAIi4E,EAAejqE,EAAMyrE,IAAIv5F,EAAK8f,aAAalR,MAAM5O,EAAK62F,gBAC1D,IAAI9oE,EAAW/tB,EAAK+tB,SAASyiJ,GAC7B,IAAIxyG,EAAY,CAAEvwC,UAAW,CAACM,GAAWD,MAAOnxB,EAAE6zK,IAClD,IAAIL,EAAmBnwK,EAAK8f,YAAY9F,QAAQ,uBAAuBwV,KAAK,yBAAyB8gJ,kBAErG,GAAItwK,EAAK8B,QAAQwlF,GAAMrqF,EAAO,GAAI+gE,EAAW,CAAE+4B,eAAgBh1F,KAAO,CAClEA,EAAEpB,iBACFlB,KAAK0mH,SACL,OAGJ,GAAInuB,GAAoB,GACpB,GAAIA,IAAqBD,IAAiB/3F,EAAK8B,QAAQ8qK,EAAS3vK,EAAO,GAAI+gE,EAAW,CAAEtqD,OAAQskF,EAAmBD,KAAkB,CACjIy4E,EAAYt7J,YAAYi4J,GACxBntK,EAAKipI,QAAQunC,EAAax4E,SAE3B,GAAIm4E,EAAkB,CACzB,IAAKnwK,EAAK8B,QAAQ+lK,EAAQ7pG,GACtBh+D,EAAKwwB,OAAO7zB,EAAE6zK,IAGlB,IAAKL,EAAiBruK,QAAQ6qK,EAAK3uG,GAC/BmyG,EAAiBhB,WAAWphJ,EAAUoiJ,EAAiBriJ,QAAQlf,MAAM5O,EAAK8f,cAIlF9f,EAAKmmH,SACLnmH,EAAKmuK,WAAWpiF,QAAU,KAE1B/rF,EAAK8B,QAAQmlF,GAAShqF,EAAO,GAAI+gE,EAAW,CAAE+4B,eAAgBh1F,KAE9D/B,EAAKywK,iBACLzwK,EAAK0wK,sBAGTznC,QAAS,SAASvgG,EAAM95B,GACpB,IAAI5O,EAAOP,KACX,IAAI2qB,EAAapqB,EAAKoqB,WACtB,IAAI2D,EAAW/tB,EAAK+tB,SAAS2a,GAC7B,IAAIioI,EAAkBvmJ,EAAWi2B,GAAGzxC,GACpC,IAAIgiK,EAAc5wK,EAAK8tB,QAAQlf,GAC/B,IAAIiiK,EAAWl0K,EAAE+rC,GAEjB,GAAI3a,GAAY6iJ,GAAeD,EAAiB,CAC5C3wK,EAAK8wK,eAAeD,GACpB7wK,EAAKovK,iBAAiByB,EAAUjiK,GAChC5O,EAAKywK,mBAIbjgJ,OAAQ,SAAS1C,GACb,IAAI9tB,EAAOP,KACX,IAAIsxK,EAAY/wK,EAAKgxK,UAAUljJ,GAC/B,IAAIuqC,EAAc04G,EAAUxxK,OAC5B,IAAID,EAEJU,EAAK6oH,oBACL7oH,EAAK4uK,oBACL,IAAKtvK,EAAI,EAAGA,EAAI+4D,EAAa/4D,IACzBU,EAAKixK,YAAYt0K,EAAEo0K,EAAUzxK,KAEjCU,EAAK8uK,kBACL9uK,EAAK+uK,kBACL/uK,EAAKgvK,eACLhvK,EAAKywK,iBACLzwK,EAAK0wK,sBAGTO,YAAa,SAASvoI,GAClB,IAAI1oC,EAAOP,KACX,IAAI2qB,EAAapqB,EAAKoqB,WACtB,IAAI2D,EAAW/tB,EAAK+tB,SAAS2a,GAC7B,IAAIkR,EAAYxvB,EAAWwvB,UAE3B,IAAK7rB,IAAa3D,EACd,OAEJ,UAAW2D,UAAoB,GAAI,CAC/B,IAAIrqB,EAAO0mB,EAAWilC,MACtB,IAAK,IAAI/vD,EAAI,EAAGA,EAAIoE,EAAKnE,OAAQD,IAC7B,GAAIyuB,IAAarqB,EAAKpE,GAAI,CACtBoE,EAAKpE,GAAKoE,EAAKA,EAAKnE,OAAS,GAC7BmE,EAAKoyB,MACL,WAGL,CACH1L,EAAWoG,OAAOzC,GAClB,GAAI6rB,IAAcA,EAAUluB,UAAYkuB,EAAU16C,SAAW,IAAIwsB,YAC3DqC,EAASu1B,QAAUv1B,EAASu1B,SAC9Bl5B,EAAWuqB,WAAWhzC,KAAKosB,GAGnC/tB,EAAK8wK,eAAepoI,IAGxBooI,eAAgB,SAASpoI,GACrB3rC,EAAM2uB,QAAQgd,GACd/rC,EAAE+rC,GAAM5V,MAAMtC,UAGlBzC,SAAU,SAASze,GACf,IAAI4hK,EAAevF,EAAUyB,GAC7B,IAAIprH,EAAMrlD,EAAE2S,GAASsG,KAAKs7J,IAAiBv0K,EAAE2S,GAAS0K,QAAQ,IAAMk3J,EAAe,KAAKt7J,KAAKs7J,GAC7F,GAAIlvH,EACA,OAAOviD,KAAK2qB,WAAWioC,SAASrQ,QAGhC,OAAOrlD,EAAE2S,GAAS3L,QAI1BqtH,WAAY,SAASljG,GACjB,IAAIL,EAAY,GAChB,IAAIsjJ,EAAYp0K,EAAEmxB,GAClB,IAAIuqC,EAAc04G,EAAUxxK,OAC5B,IAAID,EAEJ,IAAKA,EAAI,EAAGA,EAAI+4D,EAAa/4D,IACzBmuB,EAAU9rB,KAAKlC,KAAKsuB,SAASgjJ,EAAUx/I,GAAGjyB,KAG9C,OAAOmuB,GAGXK,MAAO,WACH,IAAIyzC,EAAO9hE,KAAKouK,WAChB,OAAOtsG,EAAKzgB,YAGhBxhB,OAAQ,SAASxR,GACb,IAAI9tB,EAAOP,KACX,IAAIq9F,EAAa98F,EAAK88F,WACtB,IAAIq0E,EAEJ,GAAIzD,GAAY5/I,GACZ,OAAOgvE,EAAW/1F,QAGtBoqK,EAAenxK,EAAK8tB,QAAQ4B,OAAO5B,GAAO4B,OAAOy8I,GAEjD,IAAKrvE,EAAW59F,QAAQizE,SAAU,CAC9B2qB,EAAW9wC,QACXmlH,EAAeA,EAAavvK,QAGhC,OAAOk7F,EAAW/1F,MAAMoqK,IAG5B9F,eAAgB,WACZ,IAAIrrK,EAAOP,KACX,IAAIq9F,EAAa98F,EAAK88F,WAEtB,GAAIA,EACAA,EAAW9wC,SAInBnoC,OAAQ,SAASiK,EAAOjK,GACpB,IAAI7jB,EAAOP,KACX,IAAIgkB,EAAUiqJ,GAAY7pJ,GAAU,OAASA,EAC7C,IAAIktJ,EAAY/wK,EAAKgxK,UAAUljJ,GAC/B,IAAIuqC,EAAc04G,EAAUxxK,OAC5B,IAAID,EAEJ,IAAKA,EAAI,EAAGA,EAAI+4D,EAAa/4D,IACzBU,EAAKoxK,YAAYz0K,EAAEo0K,EAAUzxK,IAAKmkB,GAGtCzjB,EAAK0wK,sBAGTU,YAAa,SAAS1oI,EAAM7kB,GACxB,IAAI7jB,EAAOP,KACX,IAAIsuB,EAAW/tB,EAAK+tB,SAAS2a,GAE7B,GAAI3a,EACA,GAAIlK,EACAlnB,EAAE+rC,GAAMxzB,YAAY82J,QAEpBrvK,EAAE+rC,GACG/yB,SAASq2J,GACT92J,YAAY+2J,IAK7B7lE,cAAe,SAASh8E,GACpB,IAAIpqB,EAAOP,KAEXO,EAAKd,QAAQkrB,WAAaA,EAE1BpqB,EAAK6hE,eAGTA,YAAa,WACT,IAAI7hE,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAIkrB,EAAalrB,EAAQkrB,YAAc,GAEvCA,EAAahtB,MAAMD,QAAQitB,GAAc,CAAE1mB,KAAM0mB,GAAeA,EAChEA,EAAWkV,OAASt/B,EAAKsP,QACzB8a,EAAWuzB,OAAS,CAChB,CAAEr9B,MAAOphB,EAAQmpE,eACjB,CAAE/nD,MAAOphB,EAAQynE,iBAErB3mE,EAAK6oH,oBACL7oH,EAAKoqB,WAAa1T,EAAWimC,OAAOvyB,GACpCpqB,EAAK+uK,kBAEL,GAAI/uK,EAAKd,QAAQ+nE,SAAU,CACvBjnE,EAAKiW,QAAQL,KAAK,YAAa,MAC/B5V,EAAKoqB,WAAW8wC,UAIxB4zG,gBAAiB,WACb,IAAI1kJ,EAAa3qB,KAAK2qB,WACtB,GAAIA,EAAWilC,OAASjlC,EAAWisC,eAAgB,CAC/CjsC,EAAWilC,MAAMruD,KAAK0oC,EAAQtf,EAAWisC,gBACzCjsC,EAAWilC,MAAMvtD,QAAQ4nC,KAIjCklI,kBAAmB,WACf,IAAIxkJ,EAAa3qB,KAAK2qB,WACtB,GAAIA,EAAWilC,OAASjlC,EAAWisC,eAC/BjsC,EAAWilC,MAAM3tD,OAAOgoC,EAAQtf,EAAWisC,iBAInD04G,gBAAiB,WACb,IAAI/uK,EAAOP,KACX,IAAI2qB,EAAapqB,EAAKoqB,WAEtBpqB,EAAKqxK,mBAAqBrxK,EAAKuZ,QAAQvY,KAAKhB,GAE5C,GAAIoqB,EACAA,EAAWppB,KAAK0oC,EAAQ1pC,EAAKqxK,qBAIrCxoD,kBAAmB,WACf,IAAI7oH,EAAOP,KACX,IAAI2qB,EAAapqB,EAAKoqB,WAEtB,GAAIA,EACAA,EAAW1oB,OAAOgoC,EAAQ1pC,EAAKqxK,qBAIvC51F,SAAU,WACN,IAAIz7E,EAAOP,KACP6P,EAAUtP,EAAKsP,QACf2G,EAAU3G,EAAQ0F,OAAO,iBAE7B,IAAKiB,EAAQ,GAAI,CACbA,EAAU3G,EAAQuF,KAAK,wDAAwDG,SAC/EiB,EAAQ,GAAGZ,MAAMqE,QAAUpK,EAAQ,GAAG+F,MAAMqE,QAC5CzD,EAAQ,GAAG80B,MAAQz7B,EAAQ,GAAGy7B,MAC9BpuC,EAAE,6GAA6G0qE,aAAa/3D,GAGhItP,EAAKiW,QAAUA,EAAQN,SAASrG,EAAQ,GAAG+I,WAAW/D,IAAI,UAAW,IACrEtU,EAAKsxK,cAAgB30K,EAAEsZ,EAAQ,GAAGuoC,aAGtCovH,MAAO,WACH,IAAI5tK,EAAOP,KACP8hE,EAAO5kE,EAAE,cAAgB8vK,EAAa,0BACtC3vE,EAAa98F,EAAKd,QAAQ49F,WAC1Bg+B,EAAoB/gC,EAAWrrE,aAAaouE,GAEhD,GAAIg+B,EAAkB3oD,SAClB5Q,EAAK3rD,KAAK,uBAAwB,QAGtC2rD,EAAK58B,SAAS3kC,EAAKiW,QAAQuZ,KAAK,oBAEhC,GAAIxvB,EAAKd,QAAQ+kG,YACbjkG,EAAK6tK,WAAWj4J,KAAKgV,EAAU5qB,EAAKqvK,iBAI5Cl+C,WAAY,WACR,IAAInxH,EAAOP,KACX,IAAIP,EAAUO,KAAKP,QACnB,IAAIuE,EAEJ,GAAIvE,EAAQuE,iBAAmBvE,EAAQuE,UAAY,SAC/CA,EAAW1G,EAAM0G,SAASvE,EAAQuE,eAC/B,IAAKvE,EAAQuE,SAChBA,EAAW1G,EAAM0G,SAAS,KAAO1G,EAAM0rB,KAAKvpB,EAAQmpE,cAAe,QAAU,IAAK,CAAE9kE,aAAc,aAElGE,EAAWvE,EAAQuE,SAGvBzD,EAAK+hG,UAAY,CACbW,aAAc3lG,EAAM0G,SAAS,0JAA2J,CAAEF,aAAc,QACxM0rK,YAAaxrK,EACb60G,QAAS,eAAiB8zD,EAAgB,aAIlD7yJ,QAAS,WACL,IAAIvZ,EAAOP,KACX,IAAI0xB,EAAOnxB,EAAKoqB,WAAW+G,OAC3B,IAAI1tB,EAAWzD,EAAK+hG,UAAUW,aAC9B,IAAI/+F,EAAO,GAEX,IAAK,IAAIvC,EAAM,EAAGA,EAAM+vB,EAAK5xB,OAAQ6B,IACjCuC,GAAQF,EAAS,CAAEilC,KAAMvX,EAAK/vB,GAAMgnJ,EAAGpoJ,EAAK+hG,UAAUktE,cAE1DjvK,EAAK6tK,WAAWlqK,KAAKA,GACrB3D,EAAKuxK,cACLvxK,EAAK8tK,iBACL9tK,EAAKgvK,eACLhvK,EAAKywK,iBACLzwK,EAAK0wK,qBACL1wK,EAAK8B,QAAQolK,GAEblnK,EAAKiW,QAAQL,KAAK,YAAa,QAGnCo5J,aAAc,WACV,IAAI9vK,EAAU,GACd,IAAIiyB,EAAO1xB,KAAK2qB,WAAW+G,OAC3B,IAAK,IAAI/vB,EAAM,EAAGA,EAAM+vB,EAAK5xB,OAAQ6B,IACjClC,GAAWO,KAAK85H,QAAQpoG,EAAK/vB,GAAK3B,KAAKP,QAAQynE,iBAAmBx1C,EAAK/vB,GAAM+vB,EAAK/vB,GAAK3B,KAAKP,QAAQmpE,gBAAkBl3C,EAAK/vB,GAAM,MAErI3B,KAAK6P,QAAQ3L,KAAKzE,IAGtBq6H,QAAS,SAAS5J,EAAWD,GACzB,IAAIlhG,EAAS,UAEb,GAAImhG,IAAc7yH,EAAW,CACzB6yH,GAAa,GAEb,GAAIA,EAAUrjH,QAAQ,QAAU,EAC5BqjH,EAAYA,EAAU/vH,QAAQ,KAAM,UAGxC4uB,GAAU,WAAamhG,EAAY,IAEvCnhG,GAAU,aAEV,GAAIkhG,IAAa5yH,EACb0xB,GAAUzxB,EAAM8nB,WAAW6qG,GAG/B,OAAOlhG,GAAU,aAGrB0gJ,WAAY,SAASxmI,EAAMzsC,GACvB,IAAKysC,EAAKnpC,OACN,OAGJmpC,EAAK9yB,KAAK+1J,EAAUyB,GAAYnxK,GAAI2Z,KAAKwiG,EAAIn8G,IAGjDs1K,YAAa,WACT,IAAIvxK,EAAOP,KACX,IAAIquB,EAAQ9tB,EAAK8tB,QACjB,IAAIqD,EAAOnxB,EAAKoqB,WAAW+G,OAC3B,IAAIqgJ,EAAargJ,EAAK5xB,OACtB,IAAID,EAEJ,IAAKA,EAAI,EAAGA,EAAIkyK,EAAYlyK,IACxBU,EAAKkvK,WAAWphJ,EAAMyD,GAAGjyB,GAAI6xB,EAAK7xB,GAAG0iD,MAI7Cu1E,YAAa,WACT,IAAIv3H,EAAOP,KACX,IAAIq9F,EAAa98F,EAAKd,QAAQ49F,WAC9B,IAAIg+B,EAAoB/gC,EAAWrrE,aAAaouE,GAEhD98F,EAAK88F,WAAa,IAAI/C,EAAW/5F,EAAKsxK,cAAe,CACjD90E,KAAM,KACNhC,cAAe,aACfroB,SAAU2oD,EAAkB3oD,SAC5BziD,OAAQw8I,EACR/gI,OAAQnrC,EAAK+6H,UAAU/5H,KAAKhB,MAIpC+6H,UAAW,WACP,IAAI/6H,EAAOP,KAEXO,EAAKywK,iBACLzwK,EAAK0wK,qBACL1wK,EAAK8B,QAAQ4nC,IAGjByvF,mBAAoB,WAChB,IAAIn5H,EAAOP,KAEX,GAAIO,EAAK88F,YAAc98F,EAAK88F,WAAWxtF,QAAS,CAC5CtP,EAAK88F,WAAWpxE,UAChB1rB,EAAK88F,WAAa,OAI1B+wE,SAAU,WACN,OAAOpuK,KAAKwW,QAAQuZ,KAAKk9I,IAG7BsE,UAAW,SAASljJ,GAChB,OAAOruB,KAAKquB,QAAQ4B,OAAO5B,IAG/BggJ,eAAgB,WACZ,IAAI9tK,EAAOP,KACX,IAAIgyK,EAAiBzxK,EAAKd,QAAQo5G,QAClC,IAAIliG,EAAWq7J,EAAer7J,UAAYqR,GAC1C,IAAIiqJ,EAAmBt7J,IAAawxF,GAAS,cAAgB,eAC7D,IAAIymE,EAAQoD,EAAepD,OAAS,GACpC,IAAItnJ,EAAW/mB,EAAKd,QAAQ6nB,SAE5B/mB,EAAKiuK,kBACLjuK,EAAKiW,QAAQf,YAAYs4J,GAA6BjrK,KAAKspK,IAE3D,GAAIwC,EAAM9uK,QAAU8uK,EAAM9uK,OAAS,EAAG,CAClC,IAAIoyK,EAAiBh1K,EAAEqD,EAAK+hG,UAAUuW,SAASo5D,GAAkB1xK,EAAKsxK,eACtEtxK,EAAKs4G,QAAU,IAAIiE,GAAQo1D,EAAgB10K,EAAO,GAAIw0K,EAAgB,CAAExB,QAASjwK,EAAM+mB,SAAUA,KACjG/mB,EAAKiW,QAAQN,SAASy2J,EAAgBR,EAAOx1J,KAIrD63J,gBAAiB,WACb,IAAIjuK,EAAOP,KAEX,GAAIO,EAAKs4G,QAAS,CACdt4G,EAAKs4G,QAAQ5sF,UACb1rB,EAAKs4G,QAAU,OAIvBy3D,gBAAiB,SAAS6B,GACtB,IAAI5xK,EAAOP,KACX,IAAIq6C,EAAU+3H,EAAevpK,QAAQq0C,OAAOi1H,EAAa,CAAE3B,QAASjwK,IAEpE,GAAI85C,EAAS,CACTA,EAAQg4H,UACR9xK,EAAKywK,iBACLzwK,EAAK0wK,uBAIbD,eAAgB,WACZ,IAAIn4D,EAAU74G,KAAK64G,QAEnB,GAAIA,EACAA,EAAQy5D,qBAIhBrB,mBAAoB,WAChB,IAAIsB,EAAkBr1K,EAAE,+BACxB,IAAIs1K,EAAiBD,EAAgBzyK,OACrC,IAAI0wK,EACJ,IAAI3wK,EAEJ,IAAKA,EAAI,EAAGA,EAAI2yK,EAAgB3yK,IAAK,CACjC2wK,EAAUtzK,EAAEq1K,EAAgB1yK,IAAIoE,KAAKqoK,GAErC,GAAIkE,EACAA,EAAQQ,qBAQpBoB,GAFJ90K,EAAM2pB,GAAG+J,OAAOk9I,IAEKhuK,EAAM1C,OAAO,CAC9BiD,KAAM,WACFT,KAAKyyK,UAAY,IAGrBxhJ,SAAU,SAASkhJ,EAAaO,GAC5B1yK,KAAKyyK,UAAUvwK,KAAK,CAChBiwK,YAAaA,EACbO,YAAaA,KAIrBx1H,OAAQ,SAASi1H,EAAa1yK,GAC1B,IAAI4f,EAAWrf,KAAKyyK,UACpB,IAAI75G,EAAcv5C,EAASvf,OAC3B,IAAIrD,EAAO01K,EAAcA,EAAY7lK,cAAgB,GACrD,IAAIhI,EACJ,IAAI+1C,EACJ,IAAIx6C,EAEJ,IAAKA,EAAI,EAAGA,EAAI+4D,EAAa/4D,IAAK,CAC9Bw6C,EAAUh7B,EAASxf,GAEnB,GAAIw6C,EAAQ83H,YAAY7lK,gBAAkB7P,EAAM,CAC5C6H,EAAQ+1C,EACR,OAIR,GAAI/1C,EACA,OAAO,IAAIA,EAAMouK,YAAYjzK,OAMrCkzK,IAFJP,EAAevpK,QAAU,IAAIupK,EAERlyK,EAAM1C,OAAO,CAC9BiD,KAAM,SAAShB,GACX,IAAIc,EAAOP,KAEXO,EAAKd,QAAUjC,EAAO,GAAI+C,EAAKd,QAASA,GACxCc,EAAKiwK,QAAUjwK,EAAKd,QAAQ+wK,SAGhC/wK,QAAS,CACL+wK,QAAS,MAGboC,SAAU,WACN,OAAO11K,EAAE8C,KAAKwwK,QAAQ3wI,WAG1BwyI,QAASz0K,EACTi1K,WAAYj1K,KAGZk1K,GAAqBH,GAAen1K,OAAO,CAC3C60K,QAAS,WACL,IAAI9xK,EAAOP,KACX,IAAIwwK,EAAUjwK,EAAKiwK,QACnB,IAAIniJ,EAAQ9tB,EAAKqyK,WAEjB,IAAKpC,EAAQnuK,QAAQ+lK,EAAQ,CAAEp6I,UAAWwiJ,EAAQj/C,WAAWljG,GAAQA,MAAOA,IACxEmiJ,EAAQz/I,OAAO1C,IAIvBwkJ,WAAY,WACR,OAAO7yK,KAAKwwK,QAAQ3wI,SAAS//B,OAAS,KAK1CizK,IAFJX,EAAevpK,QAAQooB,SAASm3I,EAAQ0K,IAEjBH,GAAen1K,OAAO,CACzC60K,QAAS,WACL,IAAI9xK,EAAOP,KAEX,GAAIO,EAAKsyK,aACLtyK,EAAKyyK,aAIbH,WAAYj1K,EAEZo1K,UAAW,WACP,IAAIzyK,EAAOP,KACX,IAAIwwK,EAAUjwK,EAAKiwK,QACnB,IAAI/wK,EAAUc,EAAKd,QACnB,IAAI4uB,EAAQ9tB,EAAKqyK,WACjB,IAAI3+J,EAASxU,EAAQwU,OACrB,IAAIg/J,EAAejF,GAAoB3/I,GACvC,IAAI6kJ,EAAah2K,EAAEizB,UAAU9B,EAAMvN,KAAKvgB,EAAK4yK,eAC7C,IAAIC,EAAa3zK,EAAQ2zK,WACzB,IAAIC,EAEJ,IAAK7C,EAAQnuK,QAAQ8qK,EAAS,CAAEn/I,UAAWwiJ,EAAQj/C,WAAW2hD,GAAa7kJ,MAAOnxB,EAAEg2K,GAAaj/J,OAAQA,IACrG,MAAOi/J,EAAWpzK,OAAS,GAAKmzK,EAAanzK,OAAS,EAAG,CACrDuzK,EAAYH,EAAWE,KAEvB5C,EAAQhnC,QAAQ6pC,EAAWJ,EAAaG,KAAgBn/J,KAKpExU,QAAS,CACLwU,OAAQ,EACRm/J,WAAY,OAGhBD,aAAc,SAASG,EAAOC,GAC1B,IAAIC,EAAat2K,EAAEo2K,GAAOnkK,QAC1B,IAAIskK,EAAav2K,EAAEq2K,GAAOpkK,QAE1B,GAAIqkK,IAAeC,EACf,OAAO,OAEP,OAAQD,EAAaC,EAAa,GAAM,MAKhDC,GAAqBX,GAAiBv1K,OAAO,CAC7CiC,QAAS,CACLwU,OAAQ45J,GACRuF,WAAY,SAGhBP,WAAY,WACR,IAAIxkJ,EAAQruB,KAAK4yK,WACjB,IAAIe,EAAa3F,GAAoB3/I,GAErC,OAAQslJ,EAAW7zK,OAAS,GAAK6zK,EAAW,GAAK,KAKrDC,IAFJxB,EAAevpK,QAAQooB,SAASm8I,EAASsG,IAEdX,GAAiBv1K,OAAO,CAC/CiC,QAAS,CACLwU,OAAQ65J,GACRsF,WAAY,OAGhBP,WAAY,WACR,IAAItyK,EAAOP,KACX,IAAIquB,EAAQ9tB,EAAKqyK,WACjB,IAAIe,EAAa3F,GAAoB3/I,GAErC,OAAQslJ,EAAW7zK,OAAS,GAAK5C,EAAEy2K,GAAY15I,OAAO,GAAM15B,EAAKiwK,QAAQniJ,QAAQvuB,OAAS,MAK9F+zK,IAFJzB,EAAevpK,QAAQooB,SAASo8I,EAAWuG,IAEhBjB,GAAen1K,OAAO,CAC7CiC,QAAS,CACLwwB,OAAQw8I,GAGZ4F,QAAS,WACL,IAAI9xK,EAAOP,KACX,IAAI8zK,EAAgBvzK,EAAKwzK,mBACzB,IAAI1lJ,EAAQ9tB,EAAKqyK,WAAW3iJ,OAAO1vB,EAAKd,QAAQwwB,QAChD,IAAIjC,EAAY8lJ,EAAgBA,EAAcviD,WAAWljG,GAAS,GAClE,IAAI2lJ,EAAqBzzK,EAAK0zK,wBAC9B,IAAIC,EAAmB3zK,EAAK4zK,oBAAoB9lJ,GAEhD,GAAI2lJ,GAAsB3lJ,EAAMvuB,OAAS,EAAG,CACxC,IAAKk0K,EAAmB3xK,QAAQ6qK,EAAK,CAAEl/I,UAAWA,EAAWK,MAAOA,IAChE2lJ,EAAmBjwJ,IAAIiK,GAG3B,IAAK8lJ,EAAczxK,QAAQ+lK,EAAQ,CAAEp6I,UAAWA,EAAWK,MAAOA,IAAU,CACxEylJ,EAAc/iJ,OAAO1C,GACrB9tB,EAAK6zK,gBAAgBF,MAKjCC,oBAAqB,SAAS9lJ,GAE1B,GAAIA,EAAMvuB,SAAW,EACjB,OAAO,KAEX,IAAIS,EAAOP,KACX,IAAIq0K,EAAa9zK,EAAKd,QAAQwwB,OAC9B,IAAI6jJ,EAAgBvzK,EAAKwzK,mBACzB,IAAIO,EAAkBR,EAAgBA,EAAczlJ,QAAQ4B,OAAOokJ,GAAYp6I,OAAS,KACxF,IAAIs6I,EAAmBr3K,EAAEmxB,GAAO4B,OAAOqkJ,GAAiBx0K,OAAS,EACjE,IAAI00K,EAAeD,EAAmBr3K,EAAEmxB,GAAOqxF,QAAQ20D,GAAY,GAAKn3K,EAAEmxB,GAAO6hJ,QAAQmE,GAAY,GAErG,GAAIG,EACA,OAAOA,OAEP,OAAO,MAIfJ,gBAAiB,SAASnrI,GACtB,IAAI6qI,EAAgB9zK,KAAK+zK,mBAEzB,GAAID,GAAiB7qI,EAAM,CACvB/rC,EAAE42K,EAAcj0I,OAAO3iC,EAAE+rC,KACzB6qI,EAAc3D,gBAAgBlnI,KAItC8qI,iBAAkBn2K,EAClBq2K,sBAAuBr2K,KAGvB62K,GAAyBZ,GAAqBr2K,OAAO,CACrDq1K,WAAY,WACR,IAAIiB,EAAgB9zK,KAAK+zK,mBAEzB,OAAQD,EAAgBA,EAAcj0I,SAAS//B,OAAS,EAAI,OAGhEi0K,iBAAkB,WACd,OAAO/zK,KAAKwwK,SAGhByD,sBAAuB,WACnB,IAAIH,EAAgB9zK,KAAK+zK,mBACzB,OAAOD,GAAiBA,EAAcr0K,QAAQs3F,YAAc75F,EAAEmvK,EAAOyH,EAAcr0K,QAAQs3F,aAAa9yF,KAAKqoK,GAAiB,MAGlIsG,SAAU,WACN,IAAIkB,EAAgB9zK,KAAK+zK,mBACzB,OAAOD,EAAgB52K,EAAE42K,EAAcj0I,UAAY3iC,OAKvDw3K,IAFJtC,EAAevpK,QAAQooB,SAASq8I,EAAamH,IAEdZ,GAAqBr2K,OAAO,CACvDq1K,WAAY,WACR,IAAIiB,EAAgB9zK,KAAK+zK,mBAEzB,OAAQD,EAAgBA,EAAcj0I,SAAS//B,OAAS,EAAI,OAGhEi0K,iBAAkB,WACd,IAAIC,EAAqBh0K,KAAKi0K,wBAC9B,OAAQD,GAAsBA,EAAmBv0K,QAAQs3F,YAAe75F,EAAEmvK,EAAO2H,EAAmBv0K,QAAQs3F,aAAa9yF,KAAKqoK,GAAiB,MAGnJ2H,sBAAuB,WACnB,OAAOj0K,KAAKwwK,SAGhBoC,SAAU,WACN,IAAIkB,EAAgB9zK,KAAK+zK,mBACzB,OAAOD,EAAgB52K,EAAE42K,EAAcj0I,UAAY3iC,QAKvDy3K,IAFJvC,EAAevpK,QAAQooB,SAASs8I,EAAemH,IAEfD,GAAuBj3K,OAAO,CAC1Dq1K,WAAY,WACR,IAAIiB,EAAgB9zK,KAAK+zK,mBAEzB,OAAQD,EAAgBA,EAAct9J,QAAQuZ,KAAK28I,GAAwB5sK,OAAS,EAAI,OAG5F8yK,SAAU,WACN,IAAIkB,EAAgB9zK,KAAK+zK,mBACzB,OAAOD,EAAgBA,EAAczlJ,QAAUnxB,KAGnDi3K,oBAAqBv2K,EACrBw2K,gBAAiBx2K,KAIjBg3K,IAFJxC,EAAevpK,QAAQooB,SAASu8I,EAAiBmH,IAEfD,GAAyBl3K,OAAO,CAC9Dq1K,WAAY,WACR,IAAIiB,EAAgB9zK,KAAK+zK,mBAEzB,OAAQD,EAAgBA,EAAct9J,QAAQuZ,KAAK28I,GAAwB5sK,OAAS,EAAI,OAG5F8yK,SAAU,WACN,IAAIkB,EAAgB9zK,KAAK+zK,mBACzB,OAAOD,EAAgBA,EAAczlJ,QAAUnxB,KAGnDi3K,oBAAqBv2K,EACrBw2K,gBAAiBx2K,KAIjBk/G,IAFJs1D,EAAevpK,QAAQooB,SAASw8I,EAAmBmH,IAErC10K,EAAM1C,OAAO,CACvBiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEXO,EAAKsP,QAAU3S,EAAE2S,GAASqG,SAASy2J,GACnCpsK,EAAKd,QAAUjC,EAAO,GAAI+C,EAAKd,QAASA,GACxCc,EAAKiwK,QAAUjwK,EAAKd,QAAQ+wK,QAE5BjwK,EAAKs0K,iBACLt0K,EAAKu0K,eACLv0K,EAAK+xK,oBACL/xK,EAAKw0K,wBAGT9oJ,QAAS,WACL,IAAI1rB,EAAOP,KAEXO,EAAKy0K,uBACL13K,EAAM2uB,QAAQ1rB,EAAKsP,SACnBtP,EAAKsP,QAAQkhB,SACbxwB,EAAKsP,QAAU,MAGnBpQ,QAAS,CACLkX,SAAUqR,GACV4mJ,MAAO,IAGXiG,eAAgB,WACZ70K,KAAKsiG,UAAY,CACbmb,KAAMxO,EACF,OACI,iMACI,4DACJ,OACJ,WAIZ6lE,aAAc,WACV,IAAIv0K,EAAOP,KACX,IAAI4uK,EAAQruK,EAAKd,QAAQmvK,MACzB,IAAIqG,EAAcrG,EAAM9uK,OACxB,IAAIo1K,EAAgB30K,EAAKd,QAAQ6nB,SAASsnJ,MAC1C,IAAIuG,EAAW50K,EAAK60K,kBACpB,IAAI33D,EACJ,IAAI59G,EAEJ,IAAKA,EAAI,EAAGA,EAAIo1K,EAAap1K,IAAK,CAC9B49G,EAAOjgH,EAAO,GAAIs/G,GAAQu4D,aAAazG,EAAM/uK,IAAK,CAAEugC,KAAM80I,EAActG,EAAM/uK,MAE9E,GAAI49G,EACA03D,EAASp0G,OAAO7jE,EAAEqD,EAAK+hG,UAAUmb,KAAKA,KAI9Cl9G,EAAKsP,QAAQkxD,OAAOo0G,IAGxBC,gBAAiB,WACb,OAAOl4K,EAAE,2BAGb63K,qBAAsB,WAClB,IAAIx0K,EAAOP,KAEXO,EAAKsP,QAAQuW,GAAGu6E,EAAOisE,EAAersK,EAAK+0K,aAAa/zK,KAAKhB,KAGjEy0K,qBAAsB,WAClBh1K,KAAK6P,QAAQwjB,IAAIyrD,GAAI/uD,KAAK,KAAKsD,IAAIyrD,IAGvCw2F,aAAc,SAAShzK,GACnBA,EAAEpB,iBAEFlB,KAAKu1K,oBAAoBr4K,EAAEoF,EAAEivC,eAAettC,KAAK2pK,KAGrD2H,oBAAqB,SAASl7H,GAC1B,IAAI95C,EAAOP,KACX,IAAIwwK,EAAUjwK,EAAKiwK,QAEnB,GAAIA,EACAA,EAAQF,gBAAgBj2H,IAIhCi4H,kBAAmB,WACf,IAAI/xK,EAAOP,KACX,IAAI4uK,EAAQruK,EAAKd,QAAQmvK,MACzB,IAAIqG,EAAcrG,EAAM9uK,OACxB,IAAID,EAEJ,IAAKA,EAAI,EAAGA,EAAIo1K,EAAap1K,IACzBU,EAAKi1K,iBAAiB5G,EAAM/uK,KAIpC21K,iBAAkB,SAASC,GACvB,IAAIl1K,EAAOP,KACX,IAAIq6C,EAAU+3H,EAAevpK,QAAQq0C,OAAOu4H,EAAU,CAAEjF,QAASjwK,EAAKiwK,UACtE,IAAI/yD,EAAOl9G,EAAKsP,QAAQkgB,KAAK,kBAAoB0lJ,EAAW,MAC5D,IAAIC,EAAcj4D,EAAK,GAEvB,GAAIi4D,GAAer7H,GAAWA,EAAQw4H,WAClC,GAAIx4H,EAAQw4H,aACRp1D,EAAKhoG,YAAY82J,GAAsBlhJ,WAAWF,QAElDsyF,EAAKvnG,SAASq2J,GAAsBp2J,KAAKgV,EAAU,UAyCnE,SAAS6kJ,GAAengK,GACpB,OAAO3S,EAAE2S,GAASoG,GAAG,8MAK7B,OAzCI6mG,GAAQu4D,aAAe,CACnBtkJ,OAAQ,CACJspB,QAAS+tH,EACTnoE,UAAW,SAEf4uE,OAAQ,CACJx0H,QAAS+yH,EACTntE,UAAW,mBAEf6uE,SAAU,CACNz0H,QAASgzH,EACTptE,UAAW,qBAEf8uE,WAAY,CACR10H,QAASizH,EACTrtE,UAAW,sBAEf+uE,aAAc,CACV30H,QAASkzH,EACTttE,UAAW,qBAEfgvE,cAAe,CACX50H,QAASmzH,EACTvtE,UAAW,6BAEfivE,gBAAiB,CACb70H,QAASozH,EACTxtE,UAAW,6BAInBziG,EAAO0wK,GAAS,CACZpxD,QAASA,KASV1/G,OAAOE,QAjkDd,CAmkDoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAOA,GAAMD,OAEtF,SAAcvtC,QACVA,OAAO,eAAe,CAAC,cACxB,WAEH,IAAIC,EAAW,CACXC,GAAI,SACJC,KAAM,SACNC,SAAU,MACVC,YAAa,uFACbotC,QAAS,CAAC,SAGH7sC,EAqLRE,OAAOE,MAAMH,OArLFE,OAAd,EACQC,EAAQF,OAAOE,MACfwpB,EAASxpB,EAAM2pB,GAAGH,OAClBG,EAAK3pB,EAAM2pB,GAEXgnD,EAAS,WACT4pC,EAAO,OACP94G,EAAa,aACbkkH,EAAc,cACdF,EAAY,YAEZ4yD,EAAgB,CAChBl3F,OAAQ,oBACRm3F,OAAQ,kBACRC,QAAS,oBAGTC,EAAc,CACdC,QAAW,CAAEn9J,UAAW,YAAao9J,SAAU,GAC/CC,mBAAoB,CAAEr9J,UAAW,YAAao9J,SAAU,GACxDE,qBAAsB,CAAEt9J,UAAW,YAAao9J,SAAU,IAG1DG,EAASrvJ,EAAOtpB,OAAO,CACvBiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCc,EAAK2xH,UAEL3xH,EAAKs9F,cAELvgG,EAAMoxB,OAAOnuB,IAGjB0rB,QAAS,WACL,IAAI1rB,EAAOP,KAEX8mB,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,IAG3Bd,QAAS,CACLhD,KAAM,SACNoxB,WAAY,UACZmW,MAAO,CACHk6D,MAAS,KACTC,OAAU,KACVC,MAAS,MAEbpsF,KAAM,SACNzK,KAAM,UACN6qB,QAAS,KACT9K,SAAU,CACNuJ,QAAW,WAEfytE,YAAa,IAGjB4zB,QAAS,WACL,IAAI3xH,EAAOP,KACPwW,EAAUjW,EAAKsP,QACftI,EAAOhH,EAAKd,QAAQ8H,KACpB6uK,EAAWN,EAAYvuK,KAAUlK,EAAYkK,EAAOuuK,EAAYvuK,GAChEyuK,EAAW,GAEfx/J,EACKmrC,QACAxrC,KAAKpX,EAAYwB,EAAKd,QAAQ6nB,SAASuJ,SACvC1a,KAAK0hG,EAAM,SACX1hG,KAAK4sG,EAAW,UAErB,GAAIqzD,EAASJ,SACT,IAAK,IAAIn2K,EAAI,EAAGA,EAAIu2K,EAASJ,SAAUn2K,GAAK,EACxCm2K,EAAS9zK,KAAKhF,EAAE,WAAWgZ,SAASy/J,EAAcE,UAI1D34K,EAAE,SAASgZ,SAASy/J,EAAcC,QAC7B70G,OAAOi1G,GACP9wI,SAAS1uB,IAGlBqnF,YAAa,WACT,IAAIt9F,EAAOP,KAEXO,EAAKk+F,YAAcl+F,EAAKd,QAAQouB,WAChCttB,EAAKo+F,OAASp+F,EAAKd,QAAQukC,MAC3BzjC,EAAKsrB,MAAQtrB,EAAKd,QAAQuS,KAC1BzR,EAAK81K,MAAQ91K,EAAKd,QAAQ8H,KAC1BhH,EAAKw+F,SAAWx+F,EAAKd,QAAQ2yB,QAE7B7xB,EAAKy+F,qBAGTA,kBAAmB,WACf,IAAIz+F,EAAOP,KACPm6E,EAAa,CAACw7F,EAAcl3F,QAC5BwgB,EAAiB1+F,EAAKd,QAAQ6+F,YAC9BzwE,EAAattB,EAAKk+F,YAClBz6D,EAAQzjC,EAAKo+F,OACb3sF,EAAOzR,EAAKsrB,MACZtkB,EAAOhH,EAAK81K,MACZD,EAAWN,EAAYvuK,KAAUlK,EAAYkK,EAAOuuK,EAAYvuK,GAChE23F,EAAWl7D,EAAMhyB,KAAU3U,EAAY2U,EAAOgyB,EAAMhyB,GACpDogB,EAAU7xB,EAAKw+F,SAGnBx+F,EAAKsP,QAAQ4F,YAAY,SAAStG,EAAOyJ,GACrC,GAAIA,EAAU/L,QAAQ,QAAU,GAAKoyF,EAAepyF,QAAQ+L,MAAgB,EACxErY,EAAKsP,QAAQ4F,YAAYmD,KAKjC,UAAWiV,IAAe,UAAYA,IAAe,IAAMA,IAAe,UACtEssD,EAAWj4E,KAAK,YAAc2rB,GAIlC,UAAW7b,IAAS,UAAYA,IAAS,IAAMktF,IAAa,GACxD/kB,EAAWj4E,KAAK,YAAcg9F,GAIlC,UAAW33F,IAAS,UAAYA,IAAS,GACrC4yE,EAAWj4E,KAAK,aAAehF,EAAE+C,cAAcm2K,GAAYA,EAASx9J,UAAYrR,IAIpF,GAAI6qB,IAAY,MACZ+nD,EAAWj4E,KAAK+rE,GAGpB1tE,EAAKsP,QAAQsG,KAAK8sG,GAAc7wF,GAGhC7xB,EAAKsP,QAAQqG,SAASikE,EAAWr3E,KAAK,OAG1CwoB,WAAY,SAAS7rB,GACjB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAG2qB,WAAW9oB,KAAKjC,EAAMd,GAEhCc,EAAK2xH,UAEL3xH,EAAKs9F,eAGThwE,WAAY,SAASwxE,GACjB,IAAI9+F,EAAOP,KAEX,GAAIJ,UAAUE,SAAW,GAAKu/F,IAAUhiG,EACpC,OAAOkD,EAAKk+F,YAGhBl+F,EAAKk+F,YAAcY,EAEnB9+F,EAAKy+F,qBAGTz7E,KAAM,WACF,IAAIhjB,EAAOP,KAEXO,EAAKw+F,SAAW,MAEhBx+F,EAAKy+F,qBAGTvsB,KAAM,WACF,IAAIlyE,EAAOP,KAEXO,EAAKw+F,SAAW,KAEhBx+F,EAAKy+F,uBAQjB,OAJI/3E,EAAG+J,OAAOmlJ,GAIP/4K,OAAOE,QAnMd,CAqMoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAAUstC,EAAIC,EAAIC,IACrEA,GAAMD,OAEX,SAAcvtC,QACVA,OAAO,iBAAiB,CAAC,aAAc,uBACxC,WAEH,IAAIC,EAAW,CACXC,GAAI,WACJC,KAAM,WACNC,SAAU,MACVC,YAAa,oKACbotC,QAAS,CAAC,OAAQ,kBAGX7sC,EA+RRE,OAAOE,MAAMH,OA/RFE,OAAd,EACQC,EAAQF,OAAOE,MACfwpB,EAASxpB,EAAM2pB,GAAGH,OAClBG,EAAK3pB,EAAM2pB,GACXhnB,EAAgB/C,EAAE+C,cAClB6+E,EAAK,iBACL70C,EAAS,SACT82D,EAAW,WACXmgC,EAAW,WACXkzB,EAAQ,gBACRp1E,EAAU,UACVq1E,EAAe,wBACfp1E,EAAgB,aAChBE,EAAgB,aAChBi4B,EAAgB,gBAChBk/D,EAAoB,uBAEpBC,EAAWzvJ,EAAOtpB,OAAO,CACzBiD,KAAM,SAAUoP,EAASpQ,GACrB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GACnCA,EAAUvC,EAAEM,OAAO,KAAM,GAAIiC,GAE7Bc,EAAKd,QAAQ6H,MAAQ7H,EAAQ6H,OAAS/G,EAAKsP,QAAQw7C,MACnD9qD,EAAKd,QAAQ0nE,SAAW1nE,EAAQ0nE,WAAa9pE,EAAYoC,EAAQ0nE,SAAW5gE,QAAQhG,EAAKsP,QAAQsG,KAAK,aACtG5V,EAAKd,QAAQ2kB,OAAS3kB,EAAQ2kB,SAAW/mB,EAAYoC,EAAQ2kB,QAAW7d,QAAQhG,EAAKsP,QAAQsG,KAAK,aAClG5V,EAAKd,QAAQ4gB,YAAc5gB,EAAQ4gB,aAAe9f,EAAKsP,QAAQsG,KAAK,eAEpE,IAAI5V,EAAKd,QAAQ6H,MAAMnH,QAAQ,MAAO,IAAIL,OAAO,CAC7CS,EAAKd,QAAQ6H,MAAQ,GACrB/G,EAAKsP,QAAQw7C,IAAI,IAGrB9qD,EAAK+G,MAAM/G,EAAKd,QAAQ6H,OACxB/G,EAAKy7E,WACLz7E,EAAKg0J,SACLh0J,EAAK8+E,UAAU,CACXlY,SAAU5mE,EAAKd,QAAQ0nE,SACvBjjD,SAAW3jB,EAAKd,QAAc,SAElCc,EAAKi2K,mBACLj2K,EAAKkrB,mBACLlrB,EAAKsP,QACAqG,SAASk+I,GACTv/I,IAAI,SAAUtU,EAAKd,QAAQk6G,WAC3BxjG,KAAK,eAAgB,OAE1B7Y,EAAMoxB,OAAOnuB,IAGjByB,OAAQ,CACJioC,GAGJ4U,WAAY,CACR,YACA,OACA,eAGJp/C,QAAS,CACLhD,KAAM,WACN6K,MAAO,GACP6/D,SAAU,MACV/iD,OAAQ,KACR/D,YAAa,GACbyN,MAAO,KACP6rF,UAAW,OACX4+B,UAAW,KACXuxB,KAAM,GACN9pG,KAAM,EACN/yD,QAAS,SACT+E,KAAM,SACNib,SAAU,QACVvG,OAAQ,OACR7N,SAAU,QAGd4S,iBAAkB,SAAUsZ,GACxB,IAAIxkC,EAAOP,KACPP,EAAUc,EAAKd,QACfinB,EAASppB,EAAMqvB,cAAcG,cAAc,CACvCC,OAAQttB,EAAQhD,KAChBuwB,SAAU,SACV1lB,MAAO7H,EAAQinB,SAEnB7N,EAAWvb,EAAMqvB,cAAcG,cAAc,CACzCC,OAAQttB,EAAQhD,KAChBuwB,SAAU,WACV1lB,MAAO7H,EAAQoZ,WAGvBiO,EAAOnmB,GAAG8qB,iBAAiBjpB,KAAKjC,GAEhCwkC,EAASA,GAAU,WAEnB,GAAItlC,EAAQoZ,WAAa,OACrBA,EAAW,qBAGftY,EAAKiW,QAAQuuB,GAAQre,GACrBnmB,EAAKsP,QAAQk1B,GAAQlsB,IAGzB29J,iBAAkB,WACd,IAAIj2K,EAAOP,KACX,IAAI2R,EACJ,IAAIktC,EAAa,GAEjB,IAAKltC,KAAYpR,EAAKs+C,WAClBA,EAAWt+C,EAAKs+C,WAAWltC,IAAapR,EAAKd,QAAQc,EAAKs+C,WAAWltC,IAGzEpR,EAAKsP,QAAQsG,KAAK0oC,IAGtBv3C,MAAO,SAASA,GACZ,IAAI/G,EAAOP,KAEX,GAAIsH,IAAUjK,EACV,OAAOkD,EAAKipH,OAGhBjpH,EAAKipH,OAASliH,EACd/G,EAAKsP,QAAQw7C,IAAI/jD,IAGrB6/D,SAAU,SAASA,GACf,IAAI5mE,EAAOP,KAEXA,KAAKq/E,UAAU,CACXlY,SAAUA,IAAa9pE,EAAY,KAAO8pE,EAC1CjjD,QAAS,QAGb,GAAI3jB,EAAKioE,cACLjoE,EAAKioE,cAAcrB,SAASA,IAAa9pE,EAAY,KAAO8pE,IAIpE/iD,OAAQ,SAASA,GACb,IAAI7jB,EAAOP,KAEXA,KAAKq/E,UAAU,CACXlY,SAAU,MACVjjD,UAAWE,EAASA,IAAW/mB,EAAY,KAAO+mB,KAGtD,GAAI7jB,EAAKioE,cACLjoE,EAAKioE,cAAcpkD,OAAOA,EAASA,IAAW/mB,EAAY,KAAO+mB,IAIzEib,MAAO,WACH,IAAI9+B,EAAOP,KAEXO,EAAKsP,QAAQ,GAAGwvB,SAGpBpT,QAAS,WACL,IAAI1rB,EAAOP,KAEX,GAAIO,EAAKioE,cACLjoE,EAAKioE,cAAcv8C,UAGvB1rB,EAAKsP,QAAQwjB,IAAIyrD,GACjBh4D,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,IAG3B+qB,WAAY,SAAS7rB,GACjB,IAAIc,EAAOP,KACXO,EAAKkrB,iBAAiB,eACtB3E,EAAOnmB,GAAG2qB,WAAW9oB,KAAKjC,EAAMd,IAGpC4/E,UAAW,SAAS5/E,GAChB,IAAIc,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QACnB,IAAI2G,EAAUjW,EAAKiW,QACnB,IAAI0N,EAAUzkB,EAAQykB,QACtB,IAAIijD,EAAW1nE,EAAQ0nE,SAEvBt3D,EAAQwjB,IAAIyrD,GAEZ,IAAK3X,IAAajjD,EAAS,CACvBrU,EAAQ2c,KAAKu0E,EAAU,OACfv0E,KAAK00G,EAAU,OACf/qH,KAAKihG,EAAe,OAE5B5gG,EAAQf,YAAYwpE,GACXxpE,YAAY0pE,GAErBtvE,EAAQuW,GAAG,UAAY04D,EAAIv+E,EAAKk0J,SAASlzJ,KAAKhB,IAC9CsP,EAAQuW,GAAG,WAAa04D,EAAIv+E,EAAKm0J,UAAUnzJ,KAAKhB,QAC7C,CACHsP,EAAQsG,KAAK4qF,EAAU78E,GACf/N,KAAK+qH,EAAU/5D,GACfhxD,KAAKihG,EAAelzF,GAE5B1N,EAAQqN,YAAYo7D,EAAe/6D,GAC1BL,YAAYs7D,EAAehY,KAI5CotF,OAAQ,WACJ,IAAIh0J,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QACnB,IAAIpQ,EAAUc,EAAKd,QACnB,IAAIjD,EAAKqT,EAAQsG,KAAK,MACtB,IAAIw+I,EACJ,IAAIC,EAEJ,GAAIn1J,EAAQquB,QAAU,KAAM,CACxB6mI,EAAW10J,EAAcR,EAAQquB,OAASruB,EAAQquB,MAAM6mI,SAAW,MACnEC,EAAY30J,EAAcR,EAAQquB,OAASruB,EAAQquB,MAAM+sB,QAAUp7C,EAAQquB,MAE3E,GAAI6mI,EAAU,CACVp0J,EAAKi0J,wBAA0Bj0J,EAAKiW,QAAQpB,KAAK,iBAAiBG,SAClEhV,EAAKioE,cAAgB,IAAIlrE,EAAM2pB,GAAGm4D,cAAc7+E,EAAKi0J,wBAAyB,CAAEznI,OAAQxsB,EAAM++E,iBAAkB,OAChH/+E,EAAKi0J,wBAAwBt+I,SAASogK,GAG1C,GAAIh5K,EAAM2D,WAAW2zJ,GACjBA,EAAYA,EAAUpyJ,KAAKjC,GAG/B,IAAKq0J,EACDA,EAAY,GAGhB,IAAKp4J,EAAI,CACLA,EAAKiD,EAAQhD,KAAO,IAAMa,EAAMksB,OAChC3Z,EAAQsG,KAAK,KAAM3Z,GAGvB+D,EAAKklF,YAAcvoF,EAAE,iBAAmBm3J,EAAe,UAAY73J,EAAK,KAAOo4J,EAAY,aAAahtF,aAAarnE,EAAKiW,WAIlIi+I,SAAU,WACN,IAAIl0J,EAAOP,KAEXO,EAAKiW,QAAQN,SAAS8oE,IAG1B01E,UAAW,WACP,IAAIn0J,EAAOP,KACX,IAAIsH,EAAQ/G,EAAKipH,OACjB,IAAI7/C,EAAWppE,EAAKsP,QAAQw7C,MAE5B9qD,EAAKiW,QAAQf,YAAYupE,GAEzB,GAAG13E,IAAU,KACTA,EAAQ,GAGZ,GAAIA,IAAUqiE,EAAU,CACpBppE,EAAKipH,OAAS7/C,EAEdppE,EAAK8B,QAAQ4nC,KAIrB+xC,SAAU,WACN,IAAIz7E,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QACnB,IAAIglJ,EAAahlJ,EAAQ,GACzB,IAAI2G,EAEJA,EAAU3G,EAAQuF,KAAK,4CAA4CG,SACnEiB,EAAQ,GAAGZ,MAAMqE,QAAU46I,EAAWj/I,MAAMqE,QAC5C46I,EAAWj/I,MAAMD,MAAQ,OAEzBpV,EAAKiW,QAAUA,EAAQN,SAAS2+I,EAAWj8I,WAAWnD,YAAY,6BAc9E,OAVInY,EAAMqvB,cAAc0Y,eAAe,WAAY,YAE/C/nC,EAAMqvB,cAAc4Y,eAAe,WAAY,CAAC,CAC5C/Y,KAAM,UACNtd,OAAQ5R,EAAMqvB,cAAc2X,cAAchwB,OAAO,CAAC,CAAC,OAAQ,aAG/D2S,EAAG+J,OAAOulJ,GAGPn5K,OAAOE,QA7Sd,CA+SoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAAUstC,EAAIC,EAAIC,IAAOA,GAAMD,OAEvF,SAAavtC,QACTA,OAAO,sBAAsB,CAAE,aAAc,uBAC9C,WAEH,IAAIC,EAAW,CACXC,GAAI,gBACJC,KAAM,gBACNC,SAAU,MACVC,YAAa,4EACbotC,QAAS,CAAC,OAAQ,kBAGZ7sC,EAqsBPE,OAAOE,MAAMH,OArsBHE,OAAb,EACQm3C,EAASp3C,OACT2R,EAAMylC,EAAO12C,KAAKiR,IAClBzR,EAAQk3C,EAAOl3C,MACf2hC,EAAQ3hC,EAAM2hC,MACd1X,EAAOjqB,EAAMiqB,KACbN,EAAK3pB,EAAM2pB,GACXH,EAASG,EAAGH,OACZg4D,EAAK,sBACL7+E,EAAgB/C,EAAE+C,cAClBkzB,EAAa/1B,OAAO+1B,WAEpBkhI,EAAe,wBACfp1E,EAAgB,aAChBgiD,EAAe,YACfjiD,EAAU,UACV+hB,EAAW,WACXmgC,EAAW,WACXj3F,EAAS,SACT42D,EAAU,UACVhZ,EAAO,OACPwc,EAAU,UACVoyE,EAAQ,QACRriB,EAAQ,QAEZ,SAASvrI,EAAGpsB,GAAQ,OAAOA,EAAOqiF,EAElC,IAAIkiD,EAAmBn4G,EAAGvrB,EAAMW,QAAQqiB,oBAAsB,iBAAmB8zI,GAEjF,SAASsiB,EAAgBC,EAAMC,GAC3B,IAAI/2K,EAAI,EACR,MAAOA,EAAI+2K,EAAK92K,OAAQ,CACpB,GAAI62K,EAAK92K,KAAO+2K,EAAK/2K,GACjB,MAEJA,IAGJ,OAAOA,EAEX,IAAIg3K,EAAgB/vJ,EAAOtpB,OAAO,CAC9BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACX,IAAI60J,EAEJ/tI,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCc,EAAKu2K,OAAS55K,EAAEM,OAAO,GAAI+C,EAAKg4B,MAAOh4B,EAAKd,QAAQ84B,OAEpD1oB,EAAUtP,EAAKsP,QACfglJ,EAAahlJ,EAAQ,GAErBtP,EAAKy7E,WACLz7E,EAAKw2K,YACLx2K,EAAK8oH,QAEL9oH,EAAKsP,QACAqG,SAAS,iBACTC,KAAK,eAAgB,OACrBiQ,GAAG,QAAU04D,EAAI,WACd,IAAIx3E,EAAQutJ,EAAWvtJ,MAEvB,IAAKA,EACDutJ,EAAWvtJ,MAAQ/G,EAAK8nH,KAAO9nH,EAAKy2K,gBAEpCz2K,EAAK02K,cAAc,MAGvB12K,EAAK6hI,UAAY96H,EACjB/G,EAAKiW,QAAQN,SAAS8oE,GAEtBz+E,EAAK22K,WAAa/jJ,EAAW,WACzB8L,EAAMpvB,EAAS,EAAGvI,EAAQ/G,EAAK42K,YAAc,OAGpD/wJ,GAAG,WAAa04D,EAAI,WACjB,IAAIx3E,EAAQuI,EAAQw7C,MAEpB72B,aAAaj0B,EAAK22K,YAClBriB,EAAWvtJ,MAAQ/G,EAAK8nH,KAAO,GAE/B,GAAI/gH,IAAU/G,EAAKy2K,WACfniB,EAAWvtJ,MAAQ/G,EAAK8nH,KAAO/gH,EAGnC/G,EAAKiW,QAAQf,YAAYupE,GACzBz+E,EAAKy0D,UACLz0D,EAAK02K,kBAGb,IAAI/kJ,EAAWriB,EAAQoG,GAAG,eAAiB/Y,EAAEqD,EAAKsP,SAASyiB,QAAQ,YAAYrc,GAAG,aAElF,GAAIic,EACA3xB,EAAK6jB,OAAO,YAEZ7jB,EAAK4mE,SAASt3D,EAAQoG,GAAG,eAG7B1V,EAAK+G,MAAM/G,EAAKd,QAAQ6H,OAASuI,EAAQw7C,OAEzC9qD,EAAKghI,gBAAkBrkI,EAAE,6EAA6EmoF,YAAYx1E,GAElHtP,EAAKg0J,SACLh0J,EAAKkrB,mBACLnuB,EAAMoxB,OAAOnuB,IAGjBd,QAAS,CACLhD,KAAM,gBACN26K,gBAAiB,MACjBC,aAAc,MACdC,WAAY,IACZ5uK,QAAS,GACT6vB,MAAO,GACPjxB,MAAO,GACPipB,KAAM,GACNzC,MAAO,KACP9b,KAAM,SACNib,SAAU,QACVhgB,QAAS,UAGbjL,OAAQ,CACJioC,GAGJ1R,MAAO,CACHg/I,EAAK,KACLC,EAAK,QACLC,IAAK,cACLC,EAAK,WACLC,IAAK,cACLC,IAAK,KACLC,EAAK,IACL3+B,EAAK,cACLtyI,EAAK,kBAGT0kB,WAAY,SAAS7rB,GACjB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAG2qB,WAAW9oB,KAAKjC,EAAMd,GAEhCc,EAAKu2K,OAAS55K,EAAEM,OAAO,GAAI+C,EAAKg4B,MAAOh4B,EAAKd,QAAQ84B,OAEpDh4B,EAAKw2K,YAEL/2K,KAAK6hI,eACL7hI,KAAK8hI,aAELvhI,EAAK+G,MAAM/G,EAAKsP,QAAQw7C,QAG5Bp/B,QAAS,WACL,IAAI1rB,EAAOP,KAEX,GAAIO,EAAKioE,cACLjoE,EAAKioE,cAAcv8C,UAGvB1rB,EAAKsP,QAAQwjB,IAAIyrD,GAEjB,GAAIv+E,EAAKyhI,aAAc,CACnBzhI,EAAKyhI,aAAa3uG,IAAI,QAAS9yB,EAAK+oH,eACpC/oH,EAAKyhI,aAAa3uG,IAAI,SAAU9yB,EAAKu3K,gBAGzChxJ,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,IAG3B6+C,IAAK,WACD,IAAI24H,EAAW/3K,KAAKg4K,QAAQh4K,KAAK6P,QAAQw7C,MAAO,GAChD,OAAO0sH,EAAS53K,QAAQ,IAAI+R,OAAOw7B,EAAa1tC,KAAKP,QAAQ63K,YAAa,KAAM,KAGpFhwK,MAAO,SAASA,GACZ,IAAIuI,EAAU7P,KAAK6P,QACnB,IAAIooK,EAAYj4K,KAAKg3K,WAErB,GAAI1vK,IAAUjK,EACV,OAAO2C,KAAK6P,QAAQw7C,MAGxB,GAAI/jD,IAAU,KACVA,EAAQ,GAGZ,IAAK2wK,EAAW,CACZj4K,KAAKoiI,UAAY96H,EACjBuI,EAAQw7C,IAAI/jD,GACZ,OAGJA,EAAQtH,KAAKg4K,QAAQ1wK,EAAQ,IAE7BuI,EAAQw7C,IAAI/jD,EAAQ2wK,EAAY,IAEhCj4K,KAAKk4K,MAAM,EAAGl4K,KAAKm3K,YAAa7vK,GAChCtH,KAAKm4K,eAAiB,KAEtB7wK,EAAQuI,EAAQw7C,MAChBrrD,KAAKoiI,UAAY96H,EAEjB,GAAIhK,EAAMiS,mBAAqBM,EAC3B,GAAIvI,IAAU2wK,EACVpoK,EAAQw7C,IAAI,SAEZrrD,KAAKi3K,iBAKjBA,cAAe,SAASxkG,GACpB,IAAIoiF,EAAa70J,KAAK6P,QAAQ,GAC9B,IAAIvI,EAAQutJ,EAAWvtJ,MAEvB,GAAItH,KAAKP,QAAQ23K,gBAAiB,CAC9B,IAAK3kG,EACDnrE,EAAQA,EAAMnH,QAAQ,IAAI+R,OAAOw7B,EAAa1tC,KAAKP,QAAQ63K,YAAa,KAAM,UAE9EhwK,EAAQtH,KAAKoiI,UAGjByyB,EAAWvtJ,MAAQtH,KAAKqoH,KAAO/gH,IAIvC6/D,SAAU,SAASA,GACf,IAAI5mE,EAAOP,KAEXA,KAAKq/E,UAAU,CACXlY,SAAUA,IAAa9pE,EAAY,KAAO8pE,EAC1CjjD,QAAS,QAGb,GAAI3jB,EAAKioE,cACLjoE,EAAKioE,cAAcrB,SAASA,IAAa9pE,EAAY,KAAO8pE,IAIpE/iD,OAAQ,SAASA,GACb,IAAI7jB,EAAOP,KAEXA,KAAKq/E,UAAU,CACXlY,SAAU,MACVjjD,UAAWE,EAASA,IAAW/mB,EAAY,KAAO+mB,KAGtD,GAAI7jB,EAAKioE,cACLjoE,EAAKioE,cAAcpkD,OAAOA,EAASA,IAAW/mB,EAAY,KAAO+mB,IAIzE09G,WAAY,WACR,IAAIvhI,EAAOP,KAEX,GAAIO,EAAK42K,YAAa,CAClB,GAAG52K,EAAKd,QAAQ2+E,SACZ79E,EAAKsP,QAAQwjB,IAAI+gI,GAErB7zJ,EAAKsP,QACAuW,GAAGyC,EAAGw7E,GAAU9jG,EAAKihG,SAASjgG,KAAKhB,IACnC6lB,GAAGyC,EAAGg/D,GAAOtnF,EAAK8rF,MAAM9qF,KAAKhB,IAC7B6lB,GAAGyC,EAAGohB,GAAS1pC,EAAK63K,aAAa72K,KAAKhB,IACtC6lB,GAAG46G,EAAkBzgI,EAAK+1J,cAAc/0J,KAAKhB,IAGlD,GAAIjD,EAAMW,QAAQ+a,QAAQiG,KAAM,CAC5B,IAAIjiB,EAAUM,EAAMW,QAAQ+a,QAAQhc,QACpC,GAAIA,EAAU,GAAKA,EAAU,GAAI,CAC7B,IAAIgF,EAAS,CAAC6mB,EAAGg4E,GAAUh4E,EAAGg/D,GAAOh/D,EAAGw7E,GAAUx7E,EAAG4tJ,IAAQ3zK,KAAK,KAClEvC,EAAKsP,QAAQuW,GAAGpkB,EAAQzB,EAAK83K,sBAAsB92K,KAAKhB,QAMxEshI,aAAc,WACV,IAAI7/H,EAAS,CAACg/H,EAAkBn4G,EAAGw7E,GAAUx7E,EAAGg4E,GAAUh4E,EAAGg/D,GAAOh/D,EAAG4tJ,IAAQ3zK,KAAK,KAEpF9C,KAAK6P,QAAQwjB,IAAIrxB,IAGrBq9E,UAAW,SAAS5/E,GAChB,IAAIc,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QACnB,IAAI2G,EAAUjW,EAAKiW,QACnB,IAAI0N,EAAUzkB,EAAQykB,QACtB,IAAIijD,EAAW1nE,EAAQ0nE,SAEvB5mE,EAAKshI,eAEL,IAAK16D,IAAajjD,EAAS,CACvBrU,EAAQ2c,KAAKu0E,EAAU,OACfv0E,KAAK00G,EAAU,OAEvB1qH,EAAQf,YAAYwpE,GAEpB1+E,EAAKuhI,iBACF,CACHjyH,EAAQsG,KAAK4qF,EAAU78E,GACf/N,KAAK+qH,EAAU/5D,GAEvB3wD,EAAQqN,YAAYo7D,EAAe/6D,KAI3C8wC,QAAS,WACL,IAAIz0D,EAAOP,KACX,IAAIsH,EAAQ/G,EAAK+G,QAEjB,GAAIA,IAAU/G,EAAK6hI,UAAW,CAC1B7hI,EAAK6hI,UAAY96H,EAEjB/G,EAAK8B,QAAQ4nC,GACb1pC,EAAKsP,QAAQxN,QAAQ4nC,QAEpB,GAAI3iC,IAAU,IAAM/G,EAAK+3K,WAC1B/3K,EAAKsP,QAAQxN,QAAQ4nC,IAI7BsuI,YAAa,SAASC,GAClB,IAAIj4K,EAAOP,KACX,IAAIypE,EAAMlpE,EAAK8nH,KACf,IAAIx4G,EAAUtP,EAAKsP,QAAQ,GAC3B,IAAIvI,EAAQuI,EAAQvI,MACpB,IAAIk4B,EAAYP,EAAMpvB,GACtB,IAAImnF,EAASx3D,EAAU,GACvB,IAAIi5I,EAAanxK,EAAMxH,OAAS2pE,EAAI3pE,OACpC,IAAIonB,EAAS5pB,EAAMW,QAAQsgB,SAE3B,GAAIhe,EAAKm4K,YAAcD,EAAa,EAChC,OAGJ,GAAIA,KAAgB,GAAKvxJ,EAAO5K,SAAW4K,EAAOlO,UAAY,SAC1Dw/J,EAAW,KAGf,IAAIG,EAAe5pK,EAAIioF,EAAQ0/E,EAAgBpvK,EAAOmiE,IACtD,IAAI5uB,EAAUvzC,EAAMrE,UAAU01K,EAAc3hF,GAE5CnnF,EAAQvI,MAAQA,EAAMrE,UAAU,EAAG01K,GAAgBp4K,EAAKy2K,WAAW/zK,UAAU01K,GAE7E,IAAIx7B,EAAW58I,EAAK23K,MAAMS,EAAc3hF,EAAQn8C,GAChD,IAAI+9H,EAAar4K,EAAKs4K,sBAAsBvxK,EAAMrE,UAAU+zF,GAASjoF,EAAI0pK,EAAYt7B,EAAWw7B,IAEhG,IAAIZ,EAAWx3K,EAAKy3K,QAAQY,EAAYnvG,EAAI3pE,OAAS84K,EAAW94K,QAChES,EAAK23K,MAAM/6B,EAAUA,EAAU46B,GAE/B,GAAIS,EACAr7B,EAAW58I,EAAKu4K,uBAAuBH,GAG3C15I,EAAMpvB,EAASstI,GAGf58I,EAAKm4K,WAAa,OAGtBG,sBAAuB,SAASh+H,EAAS3nC,GACrC,IAAIokK,EAAat3K,KAAKP,QAAQ63K,WAE9B,MAAOpkK,KAAU,GAAK2nC,EAAQhuC,QAAQyqK,KAAgB,EAClDz8H,EAAUA,EAAQ53C,UAAU,GAGhC,OAAO43C,GAGXi+H,uBAAwB,SAAS/sE,GAC7B,IAAIqsC,EAAap4I,KAAK4hE,MAAMmqC,EAAK,MACjC,GAAIqsC,EAAarsC,EACbqsC,GAAc,EAGlB,OAAOA,GAGXke,cAAe,WACX,GAAIh5J,EAAMiS,mBAAqBvP,KAAK6P,QAAQ,GACxC,OAGJ7P,KAAKu4K,YAAYv4K,KAAK+4K,aAG1BV,sBAAuB,SAAS/1K,GAC5B,IAAI/B,EAAOP,KACX,IAAIogB,EAAQ7f,EAAKsP,QAAQ,GACzB,IAAIvI,EAAQ8Y,EAAM9Y,MAClB,IAAIC,EAAOjF,EAAEiF,KAEbhH,EAAKy4K,UAAazxK,IAAS,QAE3B4rB,EAAW,WACP,GAAG5rB,IAAS,WAAahH,EAAKy4K,UAC1B,OAEJ,GAAI54J,EAAM9Y,OAAS8Y,EAAM9Y,QAAUA,EAC/B/G,EAAKg4K,YAAYh4K,EAAKw4K,eAKlCX,aAAc,WACV,IAAI73K,EAAOP,KAEXO,EAAK+3K,WAAa,KAClBnlJ,EAAW,WAAa5yB,EAAK+3K,WAAa,SAG9CjvD,MAAO,WACH,IAAI9oH,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QACnB,IAAIsgH,EAAStgH,EAAQsG,KAAK,QAC1B,IAAI8qB,EAAOkvF,EAASjzH,EAAE,IAAMizH,GAAUtgH,EAAQ0K,QAAQ,QAEtD,GAAI0mB,EAAK,GAAI,CACT1gC,EAAK+oH,cAAgB,WACjBn2F,EAAW,WACP5yB,EAAK+G,MAAMuI,EAAQ,GAAGvI,UAI9B/G,EAAKu3K,eAAiB,WAClBv3K,EAAKsP,QAAQ,GAAGvI,MAAQ/G,EAAK8nH,KAAO9nH,EAAK6+C,OAG7C,GAAI7+C,EAAKd,QAAQ43K,aACbp2I,EAAK7a,GAAG,SAAU7lB,EAAKu3K,gBAG3Bv3K,EAAKyhI,aAAe/gG,EAAK7a,GAAG,QAAS7lB,EAAK+oH,iBAIlD9nB,SAAU,SAASl/F,GACf,IAAI0E,EAAM1E,EAAE8+B,QAEZphC,KAAK+4K,WAAa/xK,IAAQugB,EAAKG,UAE/B,GAAI1gB,IAAQugB,EAAKK,MACb5nB,KAAKg1D,WAIbq3B,MAAO,WACHrsF,KAAK04K,WAAa,MAGtB92G,MAAO,SAASjgE,EAAK62K,GACjB,IAAIlxK,EAAQtH,KAAK6P,QAAQw7C,OAASrrD,KAAKg3K,WACvC,IAAI3nG,EAAO,EAEX,GAAImpG,IAAa,KACbnpG,GAAQ,EAGZ,MAAO1tE,GAAO,GAAKA,GAAO3B,KAAKm3K,YAAa,CACxC,GAAI7vK,EAAMvE,OAAOpB,KAAS3B,KAAK6gC,OAAOl/B,GAClC,OAAOA,EAGXA,GAAO0tE,EAGX,OAAQ,GAGZ6oG,MAAO,SAAS/rK,EAAOvI,EAAK0D,EAAOkxK,GAC/B,IAAI3oK,EAAU7P,KAAK6P,QAAQ,GAC3B,IAAIhH,EAAUgH,EAAQvI,OAAStH,KAAKg3K,WACpC,IAAIr1H,EAAQ3hD,KAAKP,QAAQ63K,WACzB,IAAIxuG,EACJ,IAAImwG,EAAS,EACb,IAAIlB,EACJ,IAAImB,EACJ,IAAIv3K,EAEJwK,EAAQnM,KAAK4hE,MAAMz1D,EAAOqsK,GAE1B,GAAIrsK,EAAQvI,EACRA,EAAMuI,EAGV4rK,EAAW/3K,KAAKg4K,QAAQnvK,EAAQ5F,UAAUW,GAAMA,GAChD0D,EAAQtH,KAAKg4K,QAAQ1wK,EAAO6E,GAC5B28D,EAAcxhE,EAAMxH,OAEpB,GAAIwH,EACAywK,EAAWA,EAAS53K,QAAQ,IAAI+R,OAAO,QAAU42D,EAAc,KAAM,IAGzExhE,GAASywK,EACTlvK,EAAUA,EAAQhG,MAAM,IACxBq2K,EAAM5xK,EAAMvE,OAAOk2K,GAEnB,MAAO9sK,EAAQnM,KAAKm3K,YAAa,CAC7BtuK,EAAQsD,GAAS+sK,GAAOv3H,EACxBu3H,EAAM5xK,EAAMvE,SAASk2K,GAErB,GAAIt3K,IAAQtE,GAAa47K,EAASnwG,EAC9BnnE,EAAMwK,EAGVA,EAAQnM,KAAK4hE,MAAMz1D,EAAQ,GAG/B0D,EAAQvI,MAAQtH,KAAKqoH,KAAOx/G,EAAQ/F,KAAK,IAEzC,GAAIxF,EAAMiS,mBAAqBM,EAAS,CACpC,GAAIlO,IAAQtE,EACRsE,EAAM3B,KAAKm3K,YAGfl4I,EAAMpvB,EAASlO,GAGnB,OAAOA,GAGXq2K,QAAS,SAAS1wK,EAAO3F,GACrB,IAAK2F,EACD,MAAO,GAGX,GAAItH,KAAKm4K,iBAAmB7wK,EACxB,OAAOtH,KAAKm4K,eAEhB7wK,GAASA,EAAQ,IAAIzE,MAAM,IAE3B,IAAIq2K,EACJ,IAAI3tG,EACJ,IAAI0tG,EAAS,EACb,IAAIE,EAAWx3K,GAAO,EAEtB,IAAIggD,EAAQ3hD,KAAKP,QAAQ63K,WAEzB,IAAIxuG,EAAcxhE,EAAMxH,OACxB,IAAIs5K,EAAep5K,KAAK6gC,OAAO/gC,OAE/B,IAAIyJ,EAAS,GAEb,MAAO4vK,EAAWC,EAAc,CAC5BF,EAAM5xK,EAAM2xK,GACZ1tG,EAAQvrE,KAAK6gC,OAAOs4I,GAEpB,GAAID,IAAQ3tG,GAAS2tG,IAAQv3H,EAAO,CAChCp4C,GAAU2vK,IAAQv3H,EAAQA,EAAQ,GAElCs3H,GAAU,EACVE,GAAY,OACT,UAAW5tG,IAAU,SAAU,CAClC,GAAKA,GAASA,EAAM5kE,MAAQ4kE,EAAM5kE,KAAKuyK,IAAU57K,EAAM2D,WAAWsqE,IAAUA,EAAM2tG,GAAO,CACrF3vK,GAAU2vK,EACVC,GAAY,OAEZ,GAAIrwG,IAAgB,EAChB9oE,KAAKojI,qBAIb61C,GAAU,OAEVE,GAAY,EAGhB,GAAIF,GAAUnwG,EACV,MAGR9oE,KAAKm4K,eAAiB5uK,EACtB,OAAOA,GAGXgrJ,OAAQ,WACJ,IAAIh0J,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QACnB,IAAIpQ,EAAUc,EAAKd,QACnB,IAAIjD,EAAKqT,EAAQsG,KAAK,MACtB,IAAIw+I,EACJ,IAAIC,EAEJ,GAAIn1J,EAAQquB,QAAU,KAAM,CACxB6mI,EAAW10J,EAAcR,EAAQquB,OAASruB,EAAQquB,MAAM6mI,SAAW,MACnEC,EAAY30J,EAAcR,EAAQquB,OAASruB,EAAQquB,MAAM+sB,QAAUp7C,EAAQquB,MAE3E,GAAI6mI,EAAU,CACVp0J,EAAKi0J,wBAA0Bj0J,EAAKiW,QAAQpB,KAAK,iBAAiBG,SAClEhV,EAAKioE,cAAgB,IAAIlrE,EAAM2pB,GAAGm4D,cAAc7+E,EAAKi0J,wBAAyB,CAAEznI,OAAQxsB,IAG5F,GAAIjD,EAAM2D,WAAW2zJ,GACjBA,EAAYA,EAAUpyJ,KAAKjC,GAG/B,IAAKq0J,EACDA,EAAY,GAGhB,IAAKp4J,EAAI,CACLA,EAAKiD,EAAQhD,KAAO,IAAMa,EAAMksB,OAChC3Z,EAAQsG,KAAK,KAAM3Z,GAGvB+D,EAAKklF,YAAcvoF,EAAE,iBAAmBm3J,EAAe,UAAY73J,EAAK,KAAOo4J,EAAY,aAAahtF,aAAarnE,EAAKiW,WAIlIwlE,SAAU,WACN,IAAIz7E,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QACnB,IAAIglJ,EAAahlJ,EAAQ,GAEzB,IAAI2G,EAAU3G,EAAQuF,KAAK,iDAAiDG,SAC5EiB,EAAQ,GAAGZ,MAAMqE,QAAU46I,EAAWj/I,MAAMqE,QAC5C46I,EAAWj/I,MAAMD,MAAQ,OACzBpV,EAAKiW,QAAUA,EAAQN,SAAS2+I,EAAWj8I,WAAWnD,YAAY,2BAGtE2tH,mBAAoB,WAChB,IAAI7iI,EAAOP,KAEXO,EAAK8iI,mBACL7uG,aAAaj0B,EAAK+iI,sBAClB/iI,EAAK+iI,qBAAuBnwG,EAAW5yB,EAAKgjI,oBAAoBhiI,KAAKhB,GAAO,MAGhF8iI,iBAAkB,WACd,IAAI9iI,EAAOP,KAEXO,EAAKiW,QAAQN,SAAS+qH,GACtB1gI,EAAKghI,gBAAgB9rH,YAAY,aAGrC8tH,oBAAqB,WACjB,IAAIhjI,EAAOP,KAEXO,EAAKiW,QAAQf,YAAYwrH,GACzB1gI,EAAKghI,gBAAgBrrH,SAAS,YAC9B3V,EAAK+iI,qBAAuB,MAGhCyzC,UAAW,WACP,IAAIl2I,EAAS,GACb,IAAIs4I,EAAW,EAEf,IAAI5oJ,EAAOvwB,KAAKP,QAAQ8wB,MAAQ,GAChC,IAAI8oJ,EAAY9oJ,EAAK1tB,MAAM,IAC3B,IAAI/C,EAASu5K,EAAUv5K,OACvB,IAAI6B,EAAM,EACV,IAAIu3K,EACJ,IAAIphJ,EAEJ,IAAImgJ,EAAY,GAChB,IAAIX,EAAat3K,KAAKP,QAAQ63K,WAC9B,IAAI3uK,EAAerL,EAAMsL,WAAW5I,KAAKP,QAAQiJ,SAASC,aAC1D,IAAI4vB,EAAQv4B,KAAK82K,OAEjB,KAAOn1K,EAAM7B,EAAQ6B,IAAO,CACxBu3K,EAAMG,EAAU13K,GAChBm2B,EAAOS,EAAM2gJ,GAEb,GAAIphJ,EAAM,CACN+I,EAAOs4I,GAAYrhJ,EACnBmgJ,GAAaX,EACb6B,GAAY,MACT,CACH,GAAID,IAAQ,KAAOA,IAAQ,IACvBA,EAAMvwK,EAAauwK,QAChB,GAAIA,IAAQ,IACfA,EAAMvwK,EAAa4D,SAAS1B,YACzB,GAAIquK,IAAQ,KAAM,CACrBv3K,GAAO,EACPu3K,EAAMG,EAAU13K,GAGpBu3K,EAAMA,EAAIr2K,MAAM,IAEhB,IAAK,IAAIhD,EAAI,EAAGqpJ,EAAIgwB,EAAIp5K,OAAQD,EAAIqpJ,EAAGrpJ,IAAK,CACxCghC,EAAOs4I,GAAYD,EAAIr5K,GACvBo4K,GAAaiB,EAAIr5K,GACjBs5K,GAAY,IAKxBn5K,KAAK6gC,OAASA,EAEd7gC,KAAKg3K,WAAaiB,EAClBj4K,KAAKm3K,YAAcc,EAAUn4K,UAIrC,SAAS4tC,EAAatN,GAClB,OAAOA,EAAKjgC,QAAQ,2BAA4B,QAcxD,OAXI7C,EAAMqvB,cAAc0Y,eAAe,gBAAiB,YAEpD/nC,EAAMqvB,cAAc4Y,eAAe,gBAAiB,CAAC,CACjD/Y,KAAM,UACNtd,OAAQ5R,EAAMqvB,cAAc2X,cAAchwB,OAAO,CAAC,CAAC,OAAQ,aAG/D2S,EAAG+J,OAAO6lJ,GAIPz5K,OAAOE,QAntBd,CAqtBoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,aAAa,CAAE,cAAe,cACtC,WAEH,IAAIC,EAAW,CACXC,GAAI,OACJC,KAAM,OACNC,SAAU,MACVC,YAAa,oEACbotC,QAAS,CAAE,QAAS,OAAQ,eAGrB7sC,EAorFRE,OAAOE,MAAMH,OAprFFE,OAAd,EACQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM2pB,GACXxX,EAAgBnS,EAAMiS,eACtBmL,EAASpd,EAAMW,QAAQyc,OAASpd,EAAMW,QAAQsgB,SAC9C7gB,EAAUC,MAAMD,QAChBwZ,EAAyB5Z,EAAM2G,KAAKiT,uBACpC0pF,EAAY,YACZD,EAAQ,QACR24E,EAAQ,GACRC,EAAc,GACd/7K,EAASN,EAAEM,OACXC,EAAOP,EAAEO,KACTuG,EAAW1G,EAAM0G,SACjBujB,EAAOjqB,EAAMiqB,KACbT,EAASG,EAAGH,OACZ0yJ,EAAsB,gBACtB16F,EAAK,aACL26F,EAAM,MACN5xE,EAAO,OACP6xE,EAAO,SACPC,EAAO,qBACPC,EAAgB,UAChBC,EAAgB,4BAChB71E,EAAO,SACP8D,EAAQ,QACRgyE,EAAQ,QACR/1E,EAAQ,UACRg2E,EAAQ,UACRrqI,EAAS,SACTsqI,EAAS,SACThyE,EAAW,WACXD,EAAa,aACbkyE,EAAc,aAAen7F,EAAK,iBAAmBA,EAAK,eAAiBA,EAC3E38D,EAAW7kB,EAAMW,QAAQkkB,SACzBC,EAAa9kB,EAAMW,QAAQmkB,WAC3B83J,EAAc93J,GAAcD,EAC5B8nB,EAAS,SACT6V,EAAQ,QACRwoH,EAAahrK,EAAMW,QAAQyc,MAAQ,aAAe,GAClD+mG,EAAat/F,EAAW,cAAiBC,EAAa,gBAAkB,aACxEo/F,EAAar/F,EAAW,aAAgBC,EAAa,eAAiB,aACtE+3J,EAAa,iBAAmBr7F,EAAK,cAAgBA,EACrDqR,EAAS7yF,EAAMW,QAAQyoB,OAASo4D,EAChCs7F,EAAc,cACdC,EAAe,eACfC,EAAc,cACdC,EAAe,eACfC,GAAgB,QAChBC,GAAoB,cACpB7xE,GAAmB1rG,EAAEsS,SAASE,iBAC9BgrK,GAAa,aACbC,GAAa,UACb15E,GAAe,UACfD,GAAgB,aAChB45E,GAAgB,aAChBC,GAAe,UACfC,GAAgB,gBAChBC,EAA6B,yBAC7BC,GAAgBF,GAAgB,IAAMC,EACtCE,EAAmB,iDACnBC,GAAmB,qBACnBC,EAAe,UACfC,GAAyB,2BACzBC,GAAe,qCACfC,GAAoB,4BACpBC,GAAmB,oDACnBC,GAAuB,wBACvBC,GAAoB,CAAE/qK,EAAK,EAAGgK,MAAS,GACvCnc,GAAS,SACTkpK,GAAY,YACZzkD,GAAgB,gBAChBnL,GAAO,OAEPvyC,GAAW,CACPllC,KAAM,gBACNrX,IAAK,eACLm3E,eAAgB,0BAChBC,SAAU,oBACVu7E,UAAW,qBACX7gI,QAAS,oBAGb8gI,GAAY,CACRC,gBAAiB,SAAStxH,EAAOrhB,GAC7B,IAAI1/B,EAAS,qBACT4F,EAAQ85B,EAAK95B,MAEjB,GAAI85B,EAAKjlB,UAAY,MACjBza,GAAU,cAGd,GAAI+gD,EAAMuxH,YAAc1sK,IAAU,EAC9B5F,GAAU,WAGd,GAAI4F,GAASm7C,EAAMxqD,OAAS,EACxByJ,GAAU,UAGd,GAAI0/B,EAAKjpB,SACLzW,GAAU,IAAM0/B,EAAKjpB,SAGzB,GAAIipB,EAAK9yB,MAAQ8yB,EAAK9yB,KAAK3O,eAAe,SACtC+B,GAAU,IAAM0/B,EAAK9yB,KAAK,SAG9B,GAAI8yB,EAAK++B,SACLz+D,GAAU,IAAMqxK,GAGpB,OAAOrxK,GAGXuyK,kBAAmB,SAAU7yI,GACzB,IAAI1/B,EAAS,GACb,IAAIs1C,EAAa5V,EAAK9yB,MAAQ,GAE9B,IAAK,IAAIA,KAAQ0oC,EACb,GAAGA,EAAWr3C,eAAe2O,IAASA,IAAS,QAC3C5M,GAAU4M,EAAO,KAAQ0oC,EAAW1oC,GAAQ,KAIpD,OAAO5M,GAGXwyK,mBAAoB,SAAUC,GAC1B,IAAIzyK,EAAS,GACb,IAAIs1C,EAAam9H,GAAiBA,EAAcp2K,OAASo2K,EAAcp2K,SAAW,GAElF,IAAKi5C,EAAW,SACZA,EAAW,SAAWk7H,OAEtBl7H,EAAW,UAAY,IAAMk7H,EAGjC,IAAK,IAAI5jK,KAAQ0oC,EACb,GAAGA,EAAWr3C,eAAe2O,GACzB5M,GAAU4M,EAAO,KAAQ0oC,EAAW1oC,GAAQ,KAIpD,OAAO5M,GAGX0yK,qBAAsB,SAAUhzI,GAC5B,IAAI1/B,EAAS,GACb,IAAIs1C,EAAa5V,EAAKizI,aAAe,GACrC,IAAIC,EAAiB,iDAErB,IAAKt9H,EAAW,SACZA,EAAW,SAAWs9H,OAEtBt9H,EAAW,UAAY,IAAMs9H,EAGjC,IAAK,IAAIhmK,KAAQ0oC,EACb,GAAGA,EAAWr3C,eAAe2O,GACzB5M,GAAU4M,EAAO,KAAQ0oC,EAAW1oC,GAAQ,KAIpD,OAAO5M,GAGX6yK,UAAW,WACP,OAAOzC,GAGX0C,WAAY,SAASpzI,EAAMqhB,GACvB,IAAI/gD,EAAS,kCAEb,GAAI+gD,EAAM2kB,WACN1lE,GAAU,oBAEVA,GAAU,eAGd,OAAOA,GAGX+yK,gBAAiB,SAAShyH,GACtB,OAAOA,EAAMiyH,WAAa,KAAO,wBAA0B,IAG/DC,cAAe,WACX,MAAO,wCAGX3hI,QAAS,SAAS5R,GACd,OAAOA,EAAK4R,QAAU5R,EAAK4R,QAAU,WAIjD,SAAS4hI,GAAmBnlI,EAAWvM,GACnCuM,EAAYA,EAAUz0C,MAAM,MAAMkoC,EAAK,IAAMuM,EAC7C,OAAOA,EAAUn3C,QAAQ,MAAO,MAAMA,QAAQ,SAAU,QAG5D,SAASu8K,GAAeplI,EAAWvM,EAAM1xB,GACrCi+B,EAAYA,EAAUz0C,MAAM,MAAMkoC,EAAK,IAAMuM,EAC7C,IAAI4zD,EAAS,CAAE/1B,OAAQ,CAAC,SAAW97D,EAAQ,QAAU,QAAU1C,SAAU,CAAC,MAAQ0C,EAAQ,QAAU,SAChG41D,EAAa,aAAatoE,KAAK2wC,GAEnC,GAAI23B,EAAY,CACZi8B,EAAO/1B,OAAS,CAAE,MAAO79B,GACzB4zD,EAAOv0F,SAAS,GAAKrZ,EAAMolB,WAAW40B,GAAWzoC,YAC9C,CACHq8F,EAAO/1B,OAAO,GAAK79B,EACnB4zD,EAAOv0F,SAAS,GAAKrZ,EAAMolB,WAAW40B,GAAWzoC,QAGrDq8F,EAAO/1B,OAAS+1B,EAAO/1B,OAAOryE,KAAK,KACnCooG,EAAOv0F,SAAWu0F,EAAOv0F,SAAS7T,KAAK,KAEvC,OAAOooG,EAGX,SAAS/7E,EAAS5Z,EAAQ0nB,GACtB,IACI,OAAO//B,EAAEiyB,SAAS5Z,EAAQ0nB,GAC5B,MAAO36B,GACL,OAAO,OAIf,SAASq6K,GAAkB1zI,GACvBA,EAAO/rC,EAAE+rC,GACT,IAAI2zI,EAAW3zI,EAAK9yB,KAAK7Y,EAAM6Y,KAAK,cAEpC,GAAIymK,EACA,OAGJ3zI,EAAK/yB,SAAS,sBACTmrC,SAASo4H,GACTvjK,SAAS6jK,GAEd9wI,EACKoY,SAAS,KACTnrC,SAASyjK,GACTt4H,SAASo4H,GACTvjK,SAAS6jK,GAEd9wI,EACKhZ,OAAO,oBAEZgZ,EACKhZ,OAAO,gBACPxa,YAAY,eACZS,SAAS,oBACTyrC,QACAof,OAAO,UAEZ93B,EACKhZ,OAAO,gBACP/Z,SAAS8qF,IACTx0E,KAAK,WAAY,OACjBrW,KAAK,gBAAiB,MAE3B,IAAK8yB,EAAKhZ,OAAO,UAAUnwB,OACvBmpC,EAAK9yB,KAAK0hG,GAAM,YAGpB,IAAK5uE,EAAKoY,SAASu4H,GAAe95K,OAC9BmpC,EAAK6yC,WACA7rD,OAAO,WAAa,OAASjwB,KAAKiyB,SAAS3tB,MAAMk1K,MAA0Bx5K,KAAK0vB,WAAa,IAAMpyB,EAAMy/B,KAAK/8B,KAAKk9B,cACnHujB,QAAQ,gBAAkBk5H,EAAO,aACjC1pJ,OAAO,SAAStuB,EAAKwhG,GAAO,OAAOA,EAAIzzE,WAAa,IACpDta,KAAK,0CAGdynK,GAAY5zI,GACZ6zI,GAAgB7zI,GAGpB,SAAS4zI,GAAY5zI,GACjBA,EAAO/rC,EAAE+rC,GAETA,EAAKlZ,KAAK,wEAAwExa,SAASwb,SAE3FkY,EAAKhZ,OAAO,uBACPoxB,SAAS,wDACT5jD,KAAK,WACF,IAAIwrC,EAAO/rC,EAAE8C,MACT+8K,EAAgBC,GAAiB/zI,GAErCA,EAAK83B,OAAO,kFAAoFg8G,EAAgB,sBAI5H,SAASC,GAAiB/zI,GACtB,IAAI8zI,EACAxnK,EAAS0zB,EAAK1zB,SAASA,SACvB8D,EAAQ/b,EAAMW,QAAQob,MAAM9D,GAEhC,GAAIA,EAAOG,SAASgkK,EAAO,eACvBqD,EAAgB,mBAEhB,GAAI1jK,EACA0jK,EAAgB,mBAGhBA,EAAgB,cAGxB,OAAOA,EAGX,SAASD,GAAiB7zI,GACtBA,EAAO/rC,EAAE+rC,GAETA,EAAKhZ,OAAO,8BAA8Bxa,YAAYsuF,GACtD96D,EAAKhZ,OAAO,4BAA4Bxa,YAAYuuF,GACpD/6D,EAAKhZ,OAAO,gBAAgB/Z,SAAS6tF,GACrC96D,EAAKhZ,OAAO,eAAe/Z,SAAS8tF,GAGxC,SAASi5E,GAAoB3qJ,GACzB,GAAIA,GAAWA,EAAQxyB,OACnB,IAAK,IAAIqP,KAASmjB,EAAS,CACvB,IAAI4qJ,EAAW5qJ,EAAQR,GAAG3iB,GAC1B,GAAI+tK,EAASntJ,KAAK,MAAMjwB,OACpBo9K,EAAS/mK,KAAK,gBAAiB,WAE/B+mK,EAAS7xJ,WAAW,kBAMpC,SAAS8xJ,GAAiB7yH,GACtB,IAAKA,EAAM50C,SAASgkK,GAChB,OAAOpvH,EAAM7oB,aAAa,IAAMi4I,EAAM,MAI9C,SAAS0D,GAA6BvtK,EAASpQ,GAC3C,IAAI49K,EAAgBC,GAA0B79K,GAC9C,GAAG49K,EACCE,GAAY1tK,EAASwtK,GAGzB,GAAI59K,EAAQ4uB,MACRnxB,EAAE2S,GAASwxC,SAAS,MAAMA,SAAS,MAAM5jD,KAAK,SAASoC,GACnDu9K,GAA4Bp9K,KAAMP,EAAQ4uB,MAAMxuB,MAK5D,SAAS09K,GAAa1tK,EAASwtK,GAC3BngL,EAAE2S,GAASwxC,SAAS,WAAWp9C,KAAK,CAChCo5K,cAAgBA,IAIxB,SAASC,GAA2B79K,GAChC,IAAI49K,EAAgB59K,EAAQogC,OACxB5+B,EAAa3D,EAAM2D,WAEvB,GAAIo8K,GAAiBp8K,EAAWo8K,GAC5B,OAAOA,EAEX,OAAO,KAGX,SAASG,GAAoBhhL,GACzB,OAAOA,EAAK,wBAA0BA,EAAK,KAAO,uBAEtD,SAASihL,GAAmBjhL,GACxB,IAAI6kB,EAAW7kB,EAAK,gBAAkBA,EAAK,KAAO,eAClD,MAAO,KAAO6kB,EAAW,OAASA,EAEtC,SAASq8J,GAAgBC,EAAcC,GACnC,IAAIC,EAAmBF,EAAa5tJ,KAAKytJ,MACzC,IAAIj0K,EAAS,GACbs0K,EAAiBpgL,KAAK,SAASoC,EAAGi+K,GAC9BA,EAAS5gL,EAAE4gL,GACX,IAAIC,EAAUD,EAAO75K,KAAKw2K,IAC1B,IAAI5vE,EAAQ8yE,EACZ,MAAMI,EAAS,CACXlzE,EAAQ+yE,EAAgB7tJ,KAAK0tJ,GAAmBM,GAAW,YAC3D,GAAIlzE,EAAM/qG,OACNyJ,EAAOrH,KAAK2oG,GAEhBizE,EAASjzE,EAAM96E,KAAKytJ,MACpBO,EAAUD,EAAO75K,KAAKw2K,OAI9B,OAAOlxK,EAGX,SAASy0K,GAAgB7iE,EAAcyiE,GACnC,IAAIG,EAAU5iE,EAAal3G,KAAKu2K,IAChC,OAAOuD,EAAUH,EAAgB7tJ,KAAKytJ,GAAoBO,IAAY7gL,EAAE,IAG5E,SAAS+gL,GAAUh1I,EAAM20I,GACrB,IAAIG,EAAU90I,EAAKhlC,KAAKw2K,IACxB,OAAOsD,EAAUH,EAAgBv8H,SAAS05H,GAA4B15H,SAASo8H,GAAmBM,IAAY7gL,EAAE,IAGpH,SAASghL,GAAoBr1K,EAAS+0K,GAClC,IAAItrJ,EAAU,GACd,IAAI6rJ,EAAa,SAASl1I,GACtB,MAAOA,EAAKznB,aAAeo8J,EAAgB3nK,GAAGgzB,EAAKznB,YAAa,CAC5D8Q,EAAQpwB,KAAK+mC,EAAKznB,YAClBynB,EAAOA,EAAKznB,aAGpB,IAAI8tD,EAAOzmE,EAAQ,IAAMA,EACzBs1K,EAAW7uG,GACX,IAAIr1C,EAAO3H,EAAQA,EAAQxyB,OAAS,GACpC,MAAM5C,EAAE+8B,GAAMhkB,GAAG8kK,GAA4B,CACzC,IAAI5/D,EAAej+G,EAAE+8B,GAAMonB,SAAS,MACpCiuB,EAAO0uG,GAAgB7iE,EAAcyiE,GAAiB,GACtD,IAAKtuG,EACD,MAEJh9C,EAAQpwB,KAAKotE,GACb6uG,EAAW7uG,GACXr1C,EAAO3H,EAAQA,EAAQxyB,OAAS,GAEpC,OAAOwyB,EAGX,SAAS8rJ,GAAgB97K,GACrB,IAAIg8B,EAAQ,EAEZ,GAAIh8B,EAAEi8B,WAAY,CACdD,GAASh8B,EAAEi8B,WAAa,IACxBD,EAAQA,EAAQ,EAAIxgC,KAAKy+D,KAAKj+B,GAASxgC,KAAK6G,MAAM25B,GAGtD,GAAIh8B,EAAEk8B,OACFF,EAAQxgC,KAAK6O,MAAMrK,EAAEk8B,OAAS,GAGlC,OAAOF,EAGX,SAAS+/I,GAAcx1K,EAASy1K,GAC5B,IAAIlsD,EAAS,EACb,IAAI78G,EAAS1M,EAAQ2Y,WACrB,MAAMjM,IAAWzB,MAAMyB,EAAO+oK,IAAmB,CAC7ClsD,GAAU78G,EAAO+oK,GACjB/oK,EAASA,EAAOiM,WAEpB,OAAO4wG,EAGX,SAASmsD,GAAej8K,GACpB,OAAO43K,GAAe53K,EAAEwjB,eAAiBxjB,EAAEwjB,cAAc04J,eAAe/C,GAG5E,SAASgD,GAAQn8K,GACb,IAAIkhG,EAAKlhG,EAAEwjB,cACX,OAAOpL,GAAS,SAAS/T,KAAK68F,EAAGj8F,MAAQ,IAG7C,SAASm3K,GAAyBj7D,GAC9BA,EAAG3nC,WAAW7rD,OAAO,WAAY,OAAOjwB,KAAKiyB,UAAY,OAASlB,SAGtE,IAAI4tJ,GAAOrhL,EAAM2pB,GAAG8G,gBAAgBvwB,OAAO,CACvCiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCoQ,EAAUtP,EAAKiW,QAAUjW,EAAKsP,QAC9BpQ,EAAUc,EAAKd,QACfc,EAAKyjH,aACLzjH,EAAKmxH,aACLnxH,EAAK6hE,cAEL7hE,EAAKq+K,iBAELr+K,EAAKs+K,YAAYp/K,GAEjBc,EAAKu+K,eAAiB,IAEtBv+K,EAAK2qB,YAEL3qB,EAAKw+K,cAAct/K,GAEnBc,EAAKy+K,4BAEL,GAAIv/K,EAAQw/K,YACR1+K,EAAK2+K,QAAU,MAGnBrvK,EAAQsG,KAAK0hG,GAAM,WAEnB,GAAIhoG,EAAQ,GAAGrT,GACX+D,EAAK63J,QAAU96J,EAAMuH,OAAO,gBAAiBgL,EAAQ,GAAGrT,IAG5Dc,EAAMoxB,OAAOnuB,IAGjByB,OAAQ,CACJ6lG,EACAC,EACAE,EACAD,EACAr4D,EACA+3H,IAGJhoK,QAAS,CACLhD,KAAM,OACN0sG,UAAW,CACPC,KAAM,CACFhmF,SAAU,KAEd62B,MAAO,CACH72B,SAAU,MAGlByxE,YAAa,aACbv9C,UAAW,UACX2nI,YAAa,MACbE,aAAc,KACdC,WAAY,IACZ9V,WAAY,MACZ+V,eAAgBhiL,GAGpBiiL,UAAW,WACP,IAAI/+K,EAAOP,KAEX,GAAIO,EAAKoqB,WAAY,CACjBpqB,EAAKmqB,QAAQ,UAAW,WACpB,MAAO,CACH0D,SAAU7tB,EAAKsP,QAAQwxC,cAG/B9gD,EAAKsP,QAAQ8xC,QAEbphD,EAAKwgE,OAAOxgE,EAAKoqB,WAAW+G,OAAQnxB,EAAKsP,SACzCtP,EAAKmqB,QAAQ,UAAW,WACpB,MAAO,CACH0D,SAAU7tB,EAAKsP,QAAQwxC,gBAMvC29H,0BAA2B,WACvB,IAAIz+K,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QACnB,IAAIpQ,EAAUc,EAAKd,QACnB,IAAIm+K,EAAkBr9K,EAAKg/K,mBAE3Bh/K,EAAKi/K,kBAAoBj/K,EAAKk/K,oBAAoBl+K,KAAKhB,IAEtDq9K,GAAmB/tK,GAASuW,GAAG6zJ,EAAakB,EAAc56K,EAAKmyI,cAAcnxI,KAAKhB,IAC3E6lB,GAAGu6E,EAAQ7hB,EAAIo8F,GAAkB,OACjC90J,GAAGu6E,EAAQ7hB,EAAIq8F,EAAc56K,EAAKu1C,OAAOv0C,KAAKhB,IAC9C6lB,GAAG6zJ,EAAc,IAAMr5E,EAAY9hB,EAAI,aAAcv+E,EAAKm/K,cAAcn+K,KAAKhB,IAC7E6lB,GAAGq7F,EAAa3iC,EAAIs8F,GAAwB76K,EAAKo0G,YAAYpzG,KAAKhB,IAClE6lB,GAAGo7F,EAAa1iC,EAAIs8F,GAAwB76K,EAAKs0G,YAAYtzG,KAAKhB,IAClE6lB,GAAGw6E,EAAY9hB,EAAIs8F,GAAwB76K,EAAKgpG,WAAWhoG,KAAKhB,IAChE6lB,GAAGkiJ,EAAaxpF,EAAK,IAAM2iC,EAAa3iC,EAAK,IAAM0iC,EAAa1iC,EAAK,IAClE8hB,EAAY9hB,EAAK,IAAM6hB,EAAQ7hB,EAAIu8F,GAAc96K,EAAK2rH,aAAa3qH,KAAKhB,IAEnFsP,EAAQuW,GAAG,UAAY04D,EAAIv+E,EAAKihG,SAASjgG,KAAKhB,IACtC6lB,GAAG,QAAU04D,EAAIv+E,EAAK+gG,OAAO//F,KAAKhB,IAClC6lB,GAAG,QAAU04D,EAAI,aAAcv+E,EAAK+gG,OAAO//F,KAAKhB,IAChD6lB,GAAG,OAAS04D,EAAIv+E,EAAKo/K,iBAAiBp+K,KAAKhB,IAC3C6lB,GAAG,OAAS04D,EAAI,aAAcv+E,EAAKi/K,mBAE3C,GAAI5B,EACAA,EACKx3J,GAAGo7F,EAAa1iC,EAAIk8F,GAAez6K,EAAKq/K,iBAAiBr+K,KAAKhB,IAC9D6lB,GAAGq7F,EAAa3iC,EAAIk8F,GAAez6K,EAAKs/K,iBAAiBt+K,KAAKhB,IAGvE,GAAId,EAAQw/K,YAAa,CACrB1+K,EAAKu/K,sBAAwBv/K,EAAKw/K,eAAex+K,KAAKhB,GACtDrD,EAAEsS,UAAU4W,GAAG,QAAS7lB,EAAKu/K,yBAIrCE,0BAA2B,WACvB,IAAIz/K,EAAOP,KACX,IAAI49K,EAAkBr9K,EAAKg/K,mBAE3B,GAAI3B,EACAA,EAAgBvqJ,IAAIyrD,GAGxBv+E,EAAKsP,QAAQwjB,IAAIyrD,GAEjB,GAAIv+E,EAAKu/K,sBACL5iL,EAAEsS,UAAU6jB,IAAI,QAAS9yB,EAAKu/K,wBAItCf,cAAe,SAASt/K,GACpB,IAAIc,EAAOP,KACX,IAAIgwJ,EAAevwJ,EAAQo1F,aAAe,aAC1C,IAAIorF,EAAaC,EAEjB,GAAIzgL,EAAQ6pK,WAAY,CACpB/oK,EAAK4/K,cAAgB,GACrB5/K,EAAK6/K,eAAiB7/K,EAAKsP,QAAQuF,KAAK,uCAAyC3V,EAAQo1F,YAAc,YAAYt/E,SACnH,GAAIy6I,EACA0uB,GAAyBn+K,EAAKsP,SAGlCowK,EAAc/iL,EAAEqD,EAAK+hG,UAAU+9E,aAAa,CAAC/oI,UAAW04G,EAAe,OAAS,QAChFkwB,EAAahjL,EAAEqD,EAAK+hG,UAAU+9E,aAAa,CAAC/oI,UAAW04G,EAAe,QAAS,UAC/EiwB,EAAYl8J,IAAIm8J,GAAYh7I,SAAS3kC,EAAK6/K,gBAE1C7/K,EAAK+/K,eAAe//K,EAAKsP,QAASowK,EAAaC,EAAYlwB,GAE3D,IAAIuwB,EAAehgL,EAAKsP,QAAQE,aAChC,IAAIywK,EAAkBjgL,EAAKsP,QAAQ,GAAG+F,MAAMD,MAC5C6qK,EAAkBA,IAAoB,OAAS,GAAKA,EAEpD,GAAIxwB,EACA9yJ,EAAEE,QAAQgpB,GAAG+pE,EAAQ,WACjBh9D,WAAW,WACP5yB,EAAKkgL,yBAAyBF,EAAcC,GAC5CjgL,EAAKmgL,qBAAqBngL,EAAKsP,QAASowK,EAAaC,EAAYlwB,IAClE,OAIXzvJ,EAAKkgL,yBAAyBF,EAAcC,GAC5CjgL,EAAKmgL,qBAAqBngL,EAAKsP,QAASowK,EAAaC,EAAYlwB,KAIzEuvB,iBAAkB,WACd,OAAOv/K,KAAKogL,gBAAkBpgL,KAAK2gL,gBAGvCF,yBAA0B,SAASF,EAAcC,GAC7C,IAAIjgL,EAAOP,KACX,IAAI4gL,EAAkBrgL,EAAK6/K,eAAevrK,IAAI,SAE9CtU,EAAK6/K,eAAevrK,IAAI,CAACc,MAAO,KAChC,IAAIkrK,EAAetgL,EAAK6/K,eAAerwK,aACvCxP,EAAK6/K,eAAevrK,IAAI,CAAEc,MAAOirK,IAEjC,IAAIE,EAAYvgL,EAAKsP,QAAQE,aAC7B,IAAIo5J,EAAU5oK,EAAKsP,QAAQ,GAAGwK,YAAc9Z,EAAKsP,QAAQ,GAAG2J,YAE5D,GAAIsnK,GAAaD,GAAgBA,EAAe,EAAG,CAC/C,IAAIlrK,EAAQ6qK,EAAkB1iL,KAAKiR,IAAIwxK,EAAcM,GAAgBA,EACrEtgL,EAAKsP,QAAQ8F,MAAMA,EAAQwzJ,GAC3B5oK,EAAK6/K,eAAezqK,MAAMA,KAIlCorK,gBAAiB,SAASthL,GACtB,IAAIc,EAAOP,KACX,IAAIghL,EAAoBvhL,EAAQ6pK,aAAe/oK,EAAKd,QAAQ6pK,aAAiB7pK,EAAQ6pK,YAAc/oK,EAAKd,QAAQ6pK,YAC3G7pK,EAAQ6pK,YAAc/oK,EAAKd,QAAQ6pK,YAAc7pK,EAAQ6pK,WAAWl4H,UAAY7wC,EAAKd,QAAQ6pK,WAAWl4H,UACzG3xC,EAAQo1F,aAAet0F,EAAKd,QAAQo1F,YAExC,GAAImsF,EAAiB,CACjBzgL,EAAKy/K,4BACLz/K,EAAK0gL,mBACL1gL,EAAKw+K,cAAct/K,GACnBc,EAAKy+K,8BAIbiC,iBAAkB,WACd,IAAI1gL,EAAOP,KACX,IAAI49K,EAAkBr9K,EAAKg/K,mBAC3B,GAAG3B,EAAiB,CAChBA,EAAgBvqJ,IAAIyrD,GACpB8+F,EAAgB7tJ,KAAKyrJ,IAAsBnoJ,IAAIyrD,GAAI/tD,SACnD6sJ,EAAgBv8H,SAAS05H,GAA4Bt9K,KAAK,SAASoC,EAAGqhL,GAClE,IAAIz9D,EAAKvmH,EAAEgkL,GAAc7/H,SAASy5H,IAClCr3D,EAAGpwF,IAAI8mJ,GACP,IAAIgH,EAAgBnD,GAAgBv6D,EAAIm6D,GACxC,GAAIuD,EAAcrhL,OACdqhL,EAAcpgH,OAAOmgH,KAI7BtD,EAAgB7tJ,KAAKytJ,MAAuBnyJ,WAAW,oBACvDuyJ,EAAgB7tJ,KAAK0tJ,MAAsBpyJ,WAAW,cACtD9qB,EAAKsP,QAAQwjB,IAAI8mJ,GACjBj9K,EAAEE,QAAQi2B,IAAI88D,GACdytF,EAAgB9hG,WAAWwhD,SAE3B/8H,EAAK6/K,eAAiB7/K,EAAKogL,eAAiBpgL,EAAK4/K,cAAgB9iL,IAIzEijL,eAAgB,SAASvuF,EAAekuF,EAAaC,EAAYlwB,GAC7D,IAAIzvJ,EAAOP,KACX,IAAIspK,EAAa/oK,EAAKd,QAAQ6pK,WAC9B,IAAIl4H,EAAY7wC,EAAK6gL,UAAU9X,EAAWl4H,UAAYk4H,EAAWl4H,SAAWmoI,EAC5E,IAAI8H,EAAqBjwI,EAAW,EACpC,IAAIonI,EAAW,KAAOpnI,EACtB,IAAIlG,EAAU,KAAOkG,EACrB,IAAIkwI,EAAiB,KAAOlwI,EAAW,EACvC,IAAImwI,EAAgB,KAAOnwI,EAAW,EACtC,IAAIowI,EAAY,MAChB,IAAIC,EAAc,MAElB,IAAIrvD,EAAS,SAAS9qH,GAClB,IAAIo6K,EAAc1xB,EAAe,CAACl3I,WAAcxR,GAAS,CAAEqpB,UAAarpB,GACxEyqF,EAAc4vF,SAASl+J,QAAQi+J,EAAa,OAAQ,SAAU,WAC1D,GAAIF,EACApvD,EAAO9qH,KAGf/G,EAAKmgL,qBAAqB3uF,EAAekuF,EAAaC,EAAYlwB,IAGtE,IAAI4xB,EAAoB,SAASt/K,GAC7B,IAAKk/K,IAAcC,EAAa,CAC5BrvD,EAAO9vH,EAAE2B,KAAKqzC,WACdkqI,EAAY,OAIpB,IAAIK,EAAmB,SAASv/K,GAC5B,IAAIo/K,EAAc1xB,EAAe,CAACl3I,WAAcxW,EAAE2B,KAAKqzC,WAAa,CAAE3mB,UAAaruB,EAAE2B,KAAKqzC,WAC1FmqI,EAAchD,GAAQn8K,IAAMi8K,GAAej8K,GAC3CyvF,EAActtE,OAAOhB,QAAQi+J,EAAa,OAAQ,SAAU,WACxD,IAAKD,EACDvkL,EAAEoF,EAAEivC,eAAelvC,QAAQo/G,OACxB,CACFlhH,EAAKmgL,qBAAqB3uF,EAAekuF,EAAaC,EAAYlwB,GAClEwxB,EAAY,QAGrBA,EAAY,MAEZl/K,EAAEgyB,kBACFhyB,EAAEpB,kBAGN++K,EAAY75J,GAAGq7F,EAAa3iC,EAAI,CAACxnC,UAAWkhI,GAAWoJ,GAClDx7J,GAAG9oB,EAAMq3B,SAAShS,KAAOm8D,EAAI,CAACxnC,UAAWgqI,GAAiBO,GAE/D3B,EAAW95J,GAAGq7F,EAAa3iC,EAAI,CAACxnC,UAAWpM,GAAU02I,GAChDx7J,GAAG9oB,EAAMq3B,SAAShS,KAAOm8D,EAAI,CAACxnC,UAAWiqI,GAAgBM,GAE9D5B,EAAYl8J,IAAIm8J,GACX95J,GAAGo7F,EAAa1iC,EAAI,WACjBiT,EAActtE,OACd+8J,EAAY,MACZjhL,EAAKmgL,qBAAqB3uF,EAAekuF,EAAaC,EAAYlwB,KAG1Ej+D,EAAc3rE,GAAG+zJ,EAAY,SAAS73K,GAClC,IAAKA,EAAE8wF,UAAY9wF,EAAE++B,WAAa/+B,EAAEo5G,OAAQ,CACxC,IAAIn9E,EAAa6/I,GAAgB97K,EAAEwjB,eACnC,IAAIg8J,EAAchkL,KAAKwM,IAAIi0B,GAAc8iJ,EACzC,IAAI/5K,GAASi3B,EAAa,EAAI,KAAO,MAAQujJ,EAC7C,IAAIJ,EAAc1xB,EAAe,CAACl3I,WAAcxR,GAAS,CAACqpB,UAAarpB,GAEvE/G,EAAKwhL,kBAAkBhwF,GAEvBA,EAAc4vF,SAASl+J,QAAQi+J,EAAa,OAAQ,SAAU,WAC1DnhL,EAAKmgL,qBAAqB3uF,EAAekuF,EAAaC,EAAYlwB,KAEtE1tJ,EAAEpB,qBAKdkgL,UAAW,SAAS77H,GAChB,OAAQzxC,MAAMD,WAAW0xC,KAAO1/C,SAAS0/C,IAG7Cm7H,qBAAsB,SAAS3uF,EAAekuF,EAAaC,EAAYjxG,GACnE,IAAI+yG,EAAgB/yG,EAAa3xE,EAAMwb,WAAWi5E,GAAiBA,EAAcphE,YACjF,IAAI24D,EAAara,EAAamrG,EAAcC,EAC5C,IAAIpmK,EAASg7D,EAAaqrG,EAAcC,EAExC0F,EAAYn7J,OAAOk9J,IAAkB,GACrC9B,EAAWp7J,OAAOk9J,EAAgBjwF,EAAc,GAAGzI,GAAcyI,EAAc,GAAG99E,GAAU,IAGhGqX,WAAY,SAAS7rB,GACjB,IAAI0pG,EAAYnpG,KAAKP,QAAQ0pG,UAE7BnpG,KAAK6+K,YAAYp/K,GAEjBA,EAAQ0pG,UAAY3rG,EAAO,KAAM2rG,EAAW1pG,EAAQ0pG,WAEpD,GAAI,eAAgB1pG,EAChBO,KAAKoiE,YAAY3iE,GAGrBO,KAAK4+K,iBACL5+K,KAAK+gL,gBAAgBthL,GAErBqnB,EAAOnmB,GAAG2qB,WAAW9oB,KAAKxC,KAAMP,IAGpCwsB,QAAS,WACL,IAAI1rB,EAAOP,KAEX8mB,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,GAEvBA,EAAKy/K,4BAELz/K,EAAK0gL,mBAEL3jL,EAAM2uB,QAAQ1rB,EAAKsP,UAGvBuU,OAAQ,SAAUvU,EAASuU,GACvBpkB,KAAKiiL,gBAAgBpyK,EAASuU,IAAW,OAEzC,OAAOpkB,MAGXkkB,QAAS,SAAUrU,GACf7P,KAAKiiL,gBAAgBpyK,EAAS,OAE9B,OAAO7P,MAGXkiL,eAAgB,SAAUtlE,GACtBA,EAAYA,GAAa58G,KAAK6P,QAC9B,IAAIo5B,EAAOjpC,KAAK6P,QAAQkgB,KAAK6sF,GAC7B,IAAIghE,EAAkB59K,KAAKu/K,mBAE3B,GAAIt2I,EAAKnpC,QAAU88G,IAAc58G,KAAK6P,QAClC,OAAOo5B,OACJ,GAAI20I,EACP,OAAOA,EAAgB7tJ,KAAK6sF,QAE5B,OAAO1/G,KAIf6jE,OAAQ,SAAU93B,EAAMk5I,GACpBA,EAAgBniL,KAAKkiL,eAAeC,GAEpC,IAAIC,EAAWpiL,KAAKqiL,QAAQp5I,EAAMk5I,EAAeA,EAAcriL,OAASE,KAAKsiL,mBAAmBH,GAAiB,MAEjH1kL,EAAK2kL,EAAS/zJ,MAAO,SAAUxuB,GAC3BuiL,EAAS93H,MAAMyW,OAAO/gE,MACtB68K,GAAY78K,MACZo9K,GAA4Bp9K,KAAMipC,EAAKppC,IAAMopC,KAGjD4zI,GAAYsF,GACZrF,GAAgBsF,EAAS93H,MAAMv6B,KAAK,qBAAqBhM,IAAIq+J,EAAS/zJ,QACtE4uJ,GAAmBE,GAAiBiF,EAAS93H,QAE7C,OAAOtqD,MAGX4nE,aAAc,SAAU3+B,EAAMk5I,GAC1BA,EAAgBniL,KAAKkiL,eAAeC,GAEpC,IAAIC,EAAWpiL,KAAKqiL,QAAQp5I,EAAMk5I,EAAeA,EAAc5sK,UAE/D9X,EAAK2kL,EAAS/zJ,MAAO,SAAUxuB,GAC3BsiL,EAAc5qF,OAAOv3F,MACrB68K,GAAY78K,MACZ88K,GAAgB98K,MAChBo9K,GAA4Bp9K,KAAMipC,EAAKppC,IAAMopC,KAGjD6zI,GAAgBqF,GAEhB,OAAOniL,MAGXqlF,YAAa,SAAUp8C,EAAMk5I,GACzBA,EAAgBniL,KAAKkiL,eAAeC,GAEpC,IAAIC,EAAWpiL,KAAKqiL,QAAQp5I,EAAMk5I,EAAeA,EAAc5sK,UAE/D9X,EAAK2kL,EAAS/zJ,MAAO,SAAUxuB,GAC3BsiL,EAAcllG,MAAMj9E,MACpB68K,GAAY78K,MACZ88K,GAAgB98K,MAChBo9K,GAA4Bp9K,KAAMipC,EAAKppC,IAAMopC,KAGjD6zI,GAAgBqF,GAEhB,OAAOniL,MAGXqiL,QAAS,SAAUp5I,EAAMk5I,EAAe5sK,GACpC,IAAIhV,EAAOP,KACPquB,EAAOwV,EAEX,IAAKs+I,IAAkBA,EAAcriL,OACjCyV,EAAShV,EAAKsP,QAGlB,IAAI0yK,EAAQrlL,EAAE+C,cAAcgpC,IAASA,aAAgB3rC,EAAM2G,KAAKu8C,iBAC5DgiI,EAAY,CACR3G,WAAYtmK,EAAOG,SAASgkK,GAC5BzqG,WAAY15D,EAAOG,SAASgkK,EAAO,eACnC6C,SAAU,KACVz8K,OAAQyV,EAAO8rC,WAAWvhD,QAGlC,GAAIqiL,IAAkB5sK,EAAOzV,OACzByV,EAASrY,EAAEqD,EAAKkiL,YAAY,CAAEn4H,MAAOk4H,EAAW/iL,QAASc,EAAKd,WAAYylC,SAASi9I,GAGvF,GAAII,GAAS7kL,EAAQurC,IAASA,aAAgB3rC,EAAM2G,KAAK8S,gBACrDsX,EAAQnxB,EAAEA,EAAEgU,IAAIqxK,EAAQ,CAAEt5I,GAASA,EAAM,SAAU3hC,EAAO3F,GAC9C,UAAW2F,IAAU,SACjB,OAAOpK,EAAEoK,GAAOgiB,WAEhB,OAAOpsB,EAAEqD,EAAKmiL,WAAW,CACrBp4H,MAAOk4H,EACPv5I,KAAMzrC,EAAO8J,EAAO,CAAE6H,MAAOxN,OAC7B2nB,aAGjB,CACH,UAAW2f,GAAQ,UAAYA,EAAKlmC,OAAO,IAAM,IAC7CsrB,EAAQ9tB,EAAKsP,QAAQkgB,KAAKkZ,QAE1B5a,EAAQnxB,EAAE+rC,GAGdpF,EAASxV,EAAM0B,KAAK,QACH7Z,SAAS,gCACTC,KAAK0hG,GAAM,QAE5BxpF,EAAQA,EAAM4B,OAAO,MAErB5B,EAAMtK,IAAI8f,EAAO9T,KAAK,SAAStyB,KAAK,WAChCk/K,GAAkB38K,QAI1B,MAAO,CAAEquB,MAAOA,EAAOi8B,MAAO/0C,IAGlCwb,OAAQ,SAAUlhB,GACdA,EAAU7P,KAAKkiL,eAAeryK,GAE9B,IAAItP,EAAOP,KACPuV,EAAS1F,EAAQ4xB,aAAalhC,EAAKsP,QAASorK,GAC5C3wH,EAAQz6C,EAAQ0F,OAAO,mBAE3B1F,EAAQkhB,SAER,GAAIu5B,IAAUA,EAAMjJ,SAAS45H,GAAkBn7K,OAAQ,CACnD,IAAI6iL,EAAcxF,GAAiB7yH,GAEnC,IAAIh6B,EAAYg6B,EAAM/0C,OAAOwlK,GAE7B,GAAIzqJ,EAAUxwB,OACVwwB,EAAUS,cAEVu5B,EAAMv5B,SAGVksJ,GAAmB0F,GAGvB,GAAIptK,EAAOzV,OAAQ,CACfyV,EAASA,EAAOuc,GAAG,GAEnB+qJ,GAAYtnK,GACZunK,GAAgBvnK,GAGpB,OAAOhV,GAGXqiL,eAAgB,SAAU/yK,EAASye,GAC/B,IAAI/tB,EAAOP,KACX,GAAGsuB,EAAS0yC,SAAU,CAClBzgE,EAAK6oG,KAAKv5F,GACVtP,EAAK0gD,SAAW,WAEhB3yB,EAAS5sB,IAAIuoC,EAAQ,WACjBp6B,EAAQkgB,KAAK8pJ,GAAepkK,YAAY,eACxC,GAAGlV,EAAK0gD,SAAU,CACd1gD,EAAK6oG,KAAKv5F,GACVtP,EAAK0gD,SAAW,UAMhCmoD,KAAM,SAAUv5F,GACZ,IAAItP,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAIwvE,EAAaxvE,EAAQo1F,aAAe,aACxC,IAAIv9C,EAAY73C,EAAQ63C,UACxB,IAAIj+B,EAAQ/b,EAAMW,QAAQob,MAAM9Y,EAAKiW,SACrC,IAAIonK,EAAkBr9K,EAAKg/K,mBAC3B1vK,GAAW+tK,GAAmBr9K,EAAKsP,SAASkgB,KAAKlgB,GAEjD,IAAIye,EAAW/tB,EAAKoqB,YAAcpqB,EAAKoqB,WAAWioC,SAAS/iD,EAAQ5L,KAAK3G,EAAMurB,GAAK,QAEnF,GAAGyF,GAAYA,EAASiyC,cAAgBjyC,EAAS0yC,WAAazgE,EAAK0gD,SAAS,CACxE1gD,EAAK0gD,SAAW,KAChBpxC,EAAQkgB,KAAK8pJ,GAAe3jK,SAAS,eACrCoY,EAAS6yC,OACT5gE,EAAKqiL,eAAe/yK,EAASye,GAC7B,OAGJ,GAAI,yBAAyB3nB,KAAK2wC,GAC9B,GAAIj+B,EACAi+B,EAAY23B,GAAc33B,EAAY,SAASn3C,QAAQ,UAAW,UAAY,YAE9Em3C,EAAY23B,GAAc33B,EAAY,UAAUn3C,QAAQ,UAAW,UAAY,QAIvF,IAAI0iL,EAAgB,6DACpB,IAAIC,EAAa,WACb,IAAIj4E,EAAQ3tG,EAAE8C,MAAMiE,KAAKy2K,IACzB,GAAI7vE,EAEAtqG,EAAK05C,MAAM/8C,EAAE8C,MAAMua,QAAQ,aAAc,OAIjD1K,EAAQi8F,WACA/7E,KAAK8yJ,GACLplL,KAAKqlL,GAEb,GAAIlF,EACA/tK,EAAQkgB,KAAK8yJ,GAAeplL,KAAKqlL,GAGrC,GAAIviL,EAAKd,QAAQw/K,YACb1+K,EAAK2+K,QAAU,KAGnBrvK,EAAQpS,KAAK,WACT,IAAIg+G,EAAKv+G,EAAE8C,MAEXw0B,aAAainF,EAAGx3G,KAAK61K,IAErBr+D,EAAGx3G,KAAK61K,EAAO3mJ,WAAW,WACtB,IAAIswF,EAAKhI,EAAG1rF,KAAK,6DAA6DE,OAAO,WAAW9tB,QAChG,IAAI0oG,EACJ,IAAIk4E,EAEJ,IAAMt/D,EAAG,IAAMm6D,EAAiB,CAC5BmF,EAAgBxiL,EAAKoiK,UAAUlnD,GAC/BgI,EAAKs/D,GAAiBA,EAAclzK,QAExC,GAAI4zG,EAAGxtG,GAAG,YACN,OAGJ,GAAIwtG,EAAG,IAAMljH,EAAKyiL,cAAc,CAAE/5I,KAAMwyE,EAAG,GAAIl0G,KAAMsgG,MAAY,MAAO,CAEpE,IAAK4b,EAAG1zF,KAAK,iBAAiB,IAAM0zF,EAAGpiE,SAAS,WAAWvhD,OAAS,EAAG,CACnE,IAAImjL,EAAe/lL,EAAEE,QAAQyY,SACzBqtK,EAAe,WACXz/D,EAAG5uG,IAAI,CAACsuK,UAAWF,GAAgB3lL,EAAM0S,aAAayzG,GAAMA,EAAG5tG,UAAYvY,EAAMqX,WAAW8uG,GAAItuG,OAAQ0D,SAAU,UAG1HqqK,SAEAz/D,EAAG5uG,IAAI,CAACsuK,UAAW,GAAItqK,SAAU,KAGrC4iG,EAAGx3G,KAAK+1K,EAAQv+D,EAAG5mG,IAAImlK,IACvB,IAAIoJ,EAAa7iL,EAAKu+K,iBACtBrjE,EAAG5mG,IAAImlK,EAAQoJ,GAEf,GAAI7iL,EAAKd,QAAQ6pK,WACb7tD,EAAGlmG,SAASu2F,SAAS0vE,IAAsB3mK,IAAI,CAACshE,SAAUitG,IAG9Dv4E,EAAQ4Y,EAAGx/G,KAAKy2K,IAChB,IAAI3vI,EAAO0wE,EAAGlmG,SAASG,SAASgkK,GAC5B2J,EAAmBt4I,GAAQkkC,EAC3BvsD,EAAag6J,GAAeplI,EAAWvM,EAAM1xB,GAC7C2J,EAAUvjB,EAAQ0pG,UAAUC,KAAKpmF,QACjC2nF,EAAc3nF,IAAY3lB,EAAY2lB,EAAU,WAAay5J,GAAmBnlI,EAAWvM,GAE/F,IAAK8/D,EAAO,CACRA,EAAQ4Y,EAAGjI,WAAW,CAClBlG,SAAU,WAAa/0G,EAAKyiL,cAAc,CAAE/5I,KAAMjpC,KAAKwW,QAAQjB,SAAUhO,KAAMygG,KAC/EyI,WAAY,SAASnuG,GACjB/B,EAAK0pG,SAAW,MAChB3nG,EAAEC,OAAOsN,QACJqc,WAAW,mBACXrX,IAAI,CAAE+b,QAAS,KACpBrwB,EAAKyiL,cAAc,CAAE/5I,KAAMjpC,KAAKwW,QAAQjB,SAAUhO,KAAMwgG,KAE5D5yB,OAAQzyD,EAAWyyD,OACnBx+D,SAAU+L,EAAW/L,SACrBqlF,UAAWv8F,EAAQ4/K,iBAAmBhiL,EAAYoC,EAAQ4/K,eAAkBgE,EAAmB,MAAQ,WACvG9gF,OAAQkZ,EACRv2E,SAAU04I,GAAmBniE,EAC7BtS,UAAW,CACPC,KAAM5rG,EAAO,KAAM,CAAEwlB,QAAS2nF,GAAelrG,EAAQ0pG,UAAUC,MAC/DnvD,MAAOx6C,EAAQ0pG,UAAUlvD,OAE7BmvD,KAAM7oG,EAAKs1I,WAAWt0I,KAAKhB,GAC3B05C,MAAO,SAAU33C,GACb/B,EAAK0pG,SAAW3nG,EAAEC,OAAOsN,QACzB,IAAI4rG,EAAKn5G,EAAEC,OAAOiU,QAAQjB,SAE1B,GAAIqoK,EAAiB,CACjB,IAAIG,EAAUz7K,EAAEC,OAAOsN,QAAQ5L,KAAKu2K,IACpC,GAAIuD,EACAtiE,GAAMmiE,GAAmBr9K,EAAKsP,SAASkgB,KAAKytJ,GAAoBO,IAEpEz7K,EAAEC,OAAOiU,QAAQ6qC,SAASm6H,IAAsBj4J,OAGpD,IAAKhjB,EAAKyiL,cAAc,CAAE/5I,KAAMwyE,EAAG,GAAIl0G,KAAMugG,IAAU,CACnD2T,EAAG5mG,IAAImlK,EAAQv+D,EAAGx3G,KAAK+1K,IACvBv+D,EAAGvvF,WAAW8tJ,GAEd,GAAIz5K,EAAKd,QAAQ6pK,WACb7tD,EAAGlmG,SAASu2F,SAAS0vE,IAAsB3mK,IAAI,CAACshE,OAAQ,KAG5D,GAAIz7D,GAASw/J,GAAe58K,EAAMW,QAAQ2gB,qBAAsB,CAC5D68F,EAAGhmG,YAAYklK,IACfp6K,EAAKo/K,yBAGTr9K,EAAEpB,oBAGX+C,KAAKy2K,IAERj3D,EAAGlpG,QAAQwgK,GAA4B1vJ,WAAWwsF,QAC/C,CACHhN,EAAQ4Y,EAAGx/G,KAAKy2K,IAChB7vE,EAAMprG,QAAQ01E,OAASzyD,EAAWyyD,OAClC01B,EAAMprG,QAAQkX,SAAW+L,EAAW/L,SACpCk0F,EAAMprG,QAAQ0pG,UAAUC,KAAKpmF,QAAU2nF,EAE3C8Y,EAAGp4F,WAAW,eACdowF,EAAGtlG,KAAK6sG,GAAe,MAEvBziH,EAAK+iL,wBAAwBz4E,EAAO4Q,GAEpC5Q,EAAM5B,SAAW,KACjB4B,EAAMzB,OAEN7oG,EAAKgjL,oBAAoB14E,KAG9BtqG,EAAKd,QAAQ2/K,eAGpB,OAAO7+K,GAGX+iL,wBAAyB,SAASz4E,EAAO24E,GACrC,IAAIjjL,EAAOP,KACZ,GAAIO,EAAKd,QAAQ6pK,WAAY,CACxB/oK,EAAKkjL,kBAAkB54E,GACvB,IAAK24E,EAAYrtK,KAAK,oBAAqB,CACvC,IAAIutK,GAAU,IAAI/9K,MAAO6R,UACzBgsK,EAAYrtK,KAAK,mBAAoButK,GACrC74E,EAAMh7F,QAAQsG,KAAK,aAAcutK,MAK7CD,kBAAmB,SAAS54E,GACxB,IAAKA,EAAMh7F,QAAQ0F,SAASU,GAAG8kK,GAC3BlwE,EAAMr0F,QAAUlZ,EAAM8X,KAAKy1F,EAAMh7F,QAASg7F,EAAMprG,QAAQ4V,UACnDR,IAAI,CACDgE,SAAU,SACVnC,QAAS,QACTC,SAAU,cAK1B4sK,oBAAqB,SAAS14E,EAAOmlD,EAAc2zB,GAC/C,IAAIpjL,EAAOP,KAEX,GAAIO,EAAKd,QAAQ6pK,YAAcz+D,EAAMh7F,QAAQ,GAAGgQ,aAAegrF,EAAMh7F,QAAQ,GAAG4e,aAC5EluB,EAAKqjL,wBAAwB/4E,EAAOmlD,EAAc2zB,IAI1DC,wBAAyB,SAAS/4E,EAAOmlD,EAAc2zB,GACnD,IAAIpjL,EAAOP,KACX,IAAI6jL,EAAgBh5E,EAAMr0F,QAAQ6qC,SAASm6H,IAC3C,IAAIryE,EAAY5oG,EAAKd,QAAQ0pG,UAC7B,IAAItqE,GAAYsqE,GAAaA,EAAUC,MAAQD,EAAUC,KAAKhmF,UAAa,GAAKk2J,EAChFnmJ,WAAW,WACP,IAAK0wJ,EAAc/jL,OAAQ,CACvB,IAAImgL,EAAc/iL,EAAEqD,EAAK+hG,UAAU+9E,aAAa,CAAC/oI,UAAW04G,EAAe,OAAS,QACpF,IAAIkwB,EAAahjL,EAAEqD,EAAK+hG,UAAU+9E,aAAa,CAAC/oI,UAAW04G,EAAe,QAAS,UAEnF6zB,EAAgB5D,EAAYl8J,IAAIm8J,GAAYh7I,SAAS2lE,EAAMr0F,SAE3DjW,EAAK+/K,eAAez1E,EAAMh7F,QAASowK,EAAaC,EAAYlwB,GAC5D,IAAK2zB,EACDE,EAAcz9J,GAAGq7F,EAAa3iC,EAAI,WAC9B,IAAI8+F,EAAkBr9K,EAAKg/K,mBAC3BriL,EAAEwgL,GAAe7yE,EAAMh7F,QAAS+tK,IAAkBngL,KAAK,SAASoC,EAAGypJ,GAC/D,IAAIk6B,EAAc5F,EAAgB7tJ,KAAKytJ,GAAoBl0B,EAAErlJ,KAAKu2K,MAClEj6K,EAAK05C,MAAMupI,OAGlBp9J,GAAGo7F,EAAa1iC,EAAI,WACjB3rD,WAAW,WACP,GAAIj2B,EAAE0yB,cAAcrvB,EAAK4/K,eACrB5/K,EAAKujL,mBAAmBj5E,EAAMh7F,UAEnCypK,KAIf/4K,EAAKmgL,qBAAqB71E,EAAMh7F,QAASg0K,EAAc1hL,QAAS0hL,EAAc5pJ,OAAQ+1H,IACvFnxH,IAGPg3G,WAAY,SAASvzI,GACjB,IAAKtC,KAAK+jL,cACNzhL,EAAEC,OAAOsN,QAAQwxC,SAAS,IAAM4/C,IAAcxrF,YAAYwrF,IAE9D,GAAIjhG,KAAKP,QAAQ6pK,WACbtpK,KAAKgkL,gBAAgB1hL,EAAEC,SAI/ByhL,gBAAiB,SAASn5E,EAAOj4B,GAC7B,IAAIuoC,EAAetQ,EAAMh7F,QACzB,IAAI+6G,EAASzP,EAAap3F,IAAIo3F,EAAa5lG,OAAOwlK,IAElDnwD,EAAO/0G,OAAQslG,EAAazlG,SAASgkK,IAAS15K,KAAKikL,gBAAmB,IAEtE,IAAI5lK,EAAWwsF,EAAML,UAAU53B,GAC/B,IAAIqwG,EAAe/lL,EAAEE,QAAQyY,SAC7B,IAAIquK,EAAmB7lK,EAASxI,OAChC,IAAIsuK,EAAiBvxG,EAAU,EAAI90E,KAAKoP,IAAImR,EAAS0B,IAAK,GAC1D,IAAI4Q,EAAYiiD,EAAU,EAAIyrG,GAAcr+K,KAAKu/K,mBAAmB,GAAI,aACxE,IAAI6E,EAAkBhnL,OAAOye,YAAconK,EAC3C,IAAIE,EAAYF,EAAe3lL,EAAMqX,WAAWwmG,GAAchmG,OAASivK,EACvE,IAAIC,EAASlB,EAAYxyJ,EAAYuzJ,EAAmBC,EAExD,IAAKE,EAAQ,CACT,IAAIxuK,EAAS/X,KAAKiR,IAAIo0K,EAAWA,EAAYgB,EAAiBxzJ,GAC9Di6F,EAAO/1G,IAAI,CAACgE,SAAU,SAAUhD,OAAQA,EAAS,SAIzDokC,MAAO,SAAU5rB,EAAOi2J,GACpB,IAAI/jL,EAAOP,KACX,IAAI49K,EAAkBr9K,EAAKg/K,mBAC3B,IAAI1vK,EAAW+tK,GAAmBr9K,EAAKsP,QAEvCwe,EAAQxe,EAAQkgB,KAAK1B,GAErB,IAAKA,EAAMvuB,OACPuuB,EAAQxe,EAAQkgB,KAAK,YAGzB,IAAIw0J,EAAwB,SAAS5G,GACjC,IAAIp0K,EAAS,MACb,GAAIrM,EAAE0yB,cAAcrvB,EAAK4/K,eACrB,OAAO52K,EAEXrM,EAAEwgL,GAAeC,EAAcC,IAAkBngL,KAAK,SAASoC,EAAGgrG,GAC9DthG,IAAWhJ,EAAK4/K,cAAct1E,EAAM5mG,KAAKu2K,IAAe90K,YACxD,OAAQ6D,IAEZ,OAAOA,GAGX,IAAIi7K,EAAqB,SAAS1G,GAC9B,IAAI4F,EAAU5F,EAAO75K,KAAKw2K,IAC1B,OAASmD,IAAoB8F,IAAYnjL,EAAK4/K,cAAcuD,EAAQh+K,aAGxE2oB,EAAM5wB,KAAK,WACP,IAAIg+G,EAAKv+G,EAAE8C,MAEXy7G,EAAGtlG,KAAK6sG,GAAe,OAEvB,IAAKshE,GAAkB/jL,EAAKkkL,YAAYhpE,GACpCl7G,EAAK2+K,QAAU,MAGnB1qJ,aAAainF,EAAGx3G,KAAK61K,IAErBr+D,EAAGx3G,KAAK61K,EAAO3mJ,WAAW,WACtB,IAAI03E,EAAQtqG,EAAKoiK,UAAUlnD,GAC3B,GAAI5Q,IAAU25E,EAAmB/oE,IAAOl7G,EAAKmkL,aAAc,CACvD,IAAKnkL,EAAKmkL,aAAeH,EAAsB15E,EAAMh7F,SACjD,OAGJg7F,EAAM5wD,QACN4wD,EAAMh7F,QAAQsG,KAAK,cAAe,MAElC,GAAIynK,EACA,GAAIr9K,EAAKmkL,aAAer2J,EAAM4L,OAAOhkB,GAAGwlG,EAAG,WAChCl7G,EAAKmkL,cAIzBnkL,EAAKd,QAAQ2/K,eAGpB,OAAO7+K,GAGXoiK,UAAW,SAASlnD,GAChB,IAAIl7G,EAAOP,KACX,IAAI6qG,EAAQ4Q,EAAG1rF,KAAK,2EAA2E5tB,QAAQ8B,KAAKy2K,IAC5G,IAAIkD,EAAkBr9K,EAAKg/K,mBAE3B,IAAK10E,GAAS+yE,EAAiB,CAC3B,IAAI8F,EAAUjoE,EAAGx3G,KAAKw2K,IACtB,GAAIiJ,EAAS,CACT,IAAIvoE,EAAeyiE,EAAgB7tJ,KAAK0tJ,GAAmBiG,IAC3D74E,EAAQsQ,EAAal3G,KAAKy2K,KAGlC,OAAO7vE,GAGXo3E,gBAAiB,SAAU5zJ,EAAOjK,GAC9BpkB,KAAK6P,QAAQkgB,KAAK1B,GAAO5wB,KAAK,WAC1BP,EAAE8C,MACG6jB,YAAYm9E,IAAgB58E,GAC5BjO,KAAK,iBAAkBiO,MAIpC8nG,aAAc,SAAS5pH,GACnB,IAAI3C,EAASzC,EAAEI,EAAMsoB,YAAYtjB,IAAMA,EAAE3C,QAAQ4a,QAAQ0gK,GACrD0J,EAAUriL,EAAEiF,MAAQk6G,GAAc7gB,EAAU/zF,QAAQvK,EAAEiF,SAAW,EAErE5H,EAAOmsG,WAAWr2F,YAAYklK,IAE9B,IAAKh7K,EAAO2yB,QAAQ,MAAQ0uE,IAAelhG,OACvCH,EAAOkkB,YAAY82J,GAAYgK,GAAWriL,EAAEiF,MAAQ,aAAejF,EAAEiF,MAAQ,eAAiBjF,EAAEiF,MAAQ+gK,GAG5GtoK,KAAK2/K,oBAGTD,cAAe,WACX,IAAK1/K,KAAKP,QAAQ0/K,aACdn/K,KAAK4kL,kBAAoB,MAIjCnF,oBAAqB,SAASn9K,GAC1B,IAAI/B,EAAOP,KACP6kL,EAAY3nL,EAAEoF,EAAIA,EAAEivC,cAAgBvxC,KAAK8kL,cACzCnlL,EAASY,EAAKwkL,gBAAgBF,GAAW,GAE7C,IAAK7kL,KAAK4kL,kBACNzxJ,WAAW,WACP,IAAK3jB,SAASw1K,aAAgB71J,EAASxvB,EAAQrC,EAAMiS,mBAAqBjN,IAAM6sB,EAASxvB,EAAQ2C,EAAEivC,eAC/FhxC,EAAK05C,MAAMt6C,IAEhB,GAGPK,KAAK4kL,kBAAoB,OAG7BjF,iBAAkB,WACd,IAAIsF,EAAejlL,KAAK8kL,aAExB,GAAIG,GAAgBA,EAAavvK,SAASurF,IAAe,CACrDgkF,EAAaxvK,YAAYwrF,IACzBjhG,KAAKklL,cAAgB,OAI7BtG,eAAgB,WACZ,IAAI/uK,EAAU7P,KAAK6P,QACfs1K,EAA2B,sBAC3B92J,EAEJxe,EAAQ4F,YAAY,qCACpB5F,EAAQqG,SAAS,gCAAkCwjK,GAAMxjK,SAASwjK,EAAO,IAAM15K,KAAKP,QAAQo1F,aAE5F,GAAG70F,KAAKP,QAAQo1F,cAAgB,WAC5BhlF,EAAQsG,KAAK,mBAAoB,iBAEjCtG,EAAQsG,KAAK,mBAAoB,cAGrCtG,EAAQkgB,KAAK,WACLE,OAAO,WACJ,OAAQ3yB,EAAMW,QAAQ+iB,gBAAgBxe,KAAKxC,KAAMmlL,KAEpDjvK,SAAS,wCACTC,KAAK0hG,GAAM,QACXt0F,OACApN,KAAK,cAAetG,EAAQoG,GAAG,aAC/BV,OAAO,MACPY,KAAK,gBAAiB,QACtBvS,MACAmsB,KAAK,YACL7Z,SAAS,aACTC,KAAK,WAAY,MAEzBtG,EAAQkgB,KAAK,qBAAqB5Z,KAAK6sG,GAAe,OAEtD30F,EAAQxe,EAAQkgB,KAAK,2BAErBlgB,EAAQ4F,YAAY,eAEpB4Y,EAAM5wB,KAAK,WACPk/K,GAAkB38K,SAI1B20G,YAAa,SAAUryG,GACnB,IAAI/B,EAAOP,KACX,IAAI6P,EAAU3S,EAAEoF,EAAEivC,eAClB,IAAIgvB,EAAchgE,EAAK6kL,iBAAiBv1K,GACxC,IAAIkuK,EAAUluK,EAAQ5L,KAAKw2K,KAAsB5qK,EAAQ0F,SAAStR,KAAKu2K,IACvE,IAAI6K,EAAe9G,GAAej8K,GAClC,IAAIgjL,EAAkB,MAEtB,GAAIvH,EACAx9K,EAAK4/K,cAAcpC,EAAQr4K,YAAc,KAG7C,GAAGnF,EAAK0pG,SACJq7E,IAAoB/kL,EAAK0pG,SAASl6E,KAAKlgB,GAAS/P,OAGpD,GAAIwlL,GAAoBhjL,EAAEijL,gBAAkB11K,EAAQyiB,QAAQuoJ,IAAc,IAAMv4K,EAAEijL,gBAAkB11K,EAAQyiB,QAAQ,4CAA4C,GAC5J,OAGJ/xB,EAAKwjL,cAAgB,MAErB,GAAKxjL,EAAKd,QAAQw/K,YAAYuG,eAAiBjlL,EAAKkkL,YAAY50K,EAAQ0K,QAAQ0gK,KAC3E16K,EAAKd,QAAQw/K,YAAYwG,eAAiBllL,EAAKkkL,YAAY50K,EAAQ0K,QAAQ0gK,IAC5E,OAGJ,IAAK16K,EAAKd,QAAQw/K,cAAgB,OAC7B1+K,EAAKd,QAAQw/K,YAAYuG,gBAAkB,OAASjlL,EAAKkkL,YAAY50K,EAAQ0K,QAAQ0gK,KACrF16K,EAAKd,QAAQw/K,YAAYwG,eAAiB,QAAUllL,EAAKkkL,YAAY50K,EAAQ0K,QAAQ0gK,KAAuB16K,EAAK2+K,WAAaxkK,KAC7H2qK,GAAgB9kL,EAAKkkL,YAAY50K,EAAQ0K,QAAQ0gK,KAEnD,IAAK9rJ,EAAS7sB,EAAEivC,cAAejvC,EAAEkzB,gBAAkB+qC,EAC/ChgE,EAAK6oG,KAAKv5F,GAIlB,GAAItP,EAAKd,QAAQw/K,cAAgB,MAAQ1+K,EAAK2+K,SAAWxkK,EACrD7K,EAAQi8F,WAAWruG,KAAK,SAAU+nB,EAAGsyE,GACjCv3F,EAAK05C,MAAM69C,EAAS,SAKhCyR,WAAY,SAAUjnG,GAClB,IAAI/B,EAAOP,KACX,IAAI6P,EAAU3S,EAAEoF,EAAEivC,eAElB,GAAIhxC,EAAKd,QAAQw/K,YAAYwG,eAAiBllL,EAAKkkL,YAAY50K,IAAY6K,EACvE7K,EAAQi8F,WAAWruG,KAAK,SAAU+nB,EAAGsyE,GACjCv3F,EAAK05C,MAAM69C,EAAS,SAKhC+c,YAAa,SAAUvyG,GACnB,IAAI/B,EAAOP,KACX,IAAI6P,EAAU3S,EAAEoF,EAAEivC,eAClB,IAAIiyI,EAAc3zK,EAAQ5L,KAAKw2K,IAC/B,IAAIl6G,EAAe1wD,EAAQwxC,SAAS05H,GAA4Bj7K,QAAU+P,EAAQwxC,SAASy5H,IAAeh7K,QAAW0jL,EACrH,IAAIx8F,EAAU9pF,EAAEE,QAEhB,GAAIomL,SACOjjL,EAAK4/K,cAAcqD,EAAY99K,YAG1C,GAAImK,EAAQ4xB,aAAas5I,EAA4B,2CAA2C,GAAI,CAChGz4K,EAAE4hF,2BACF,OAGJ,IAAK3jF,EAAKd,QAAQw/K,cAAgB,QAAW1+K,EAAKd,QAAQw/K,YAAYuG,eAAiBjlL,EAAKkkL,YAAY50K,KAClGtP,EAAKd,QAAQw/K,YAAYwG,eAAiBllL,EAAKkkL,YAAY50K,MAAe6K,IAAU6jK,GAAej8K,KACpG6sB,EAAS7sB,EAAEivC,cAAejvC,EAAEkzB,eAAiBlzB,EAAE3C,SAAW4gE,IAC1DpxC,EAAS7sB,EAAEivC,cAAej0C,EAAMiS,kBAAmB,CAChDhP,EAAK05C,MAAMpqC,EAAS,MACpBtP,EAAK0gD,SAAW,MAChB,OAIR,GAAK3jD,EAAMW,QAAQ+a,QAAQiG,OAAS3c,EAAEojL,YAAcpjL,EAAEkzB,gBAAkB+oJ,GAAej8K,IACnFA,EAAE2jB,QAAU,GAAK3jB,EAAE4jB,QAAU,GAC7B5jB,EAAE4jB,QAAU8gE,EAAQnxE,UACpBvT,EAAE2jB,QAAU+gE,EAAQrxE,QACpBpV,EAAK05C,MAAMpqC,IAInBgwK,iBAAkB,SAASv9K,GACvB,IAAI/B,EAAOP,KACX,IAAIm7G,EAAej+G,EAAEoF,EAAEivC,eAEvB,GAAI4pE,EAAa5lG,SAASU,GAAG8kK,GACxB,OAGL5/D,EAAeA,EAAa95D,SAAS,MACrC,IAAI08H,EAAU5iE,EAAal3G,KAAKu2K,IAEhC,GAAIuD,EACAx9K,EAAK4/K,cAAcpC,EAAQr4K,YAAc,MAIjDk6K,iBAAkB,SAAUt9K,GACxB,IAAI/B,EAAOP,KACX,IAAIm7G,EAAej+G,EAAEoF,EAAEivC,eAEvB,IAAKgtI,GAAej8K,IAAM64G,EAAallG,GAAG8kK,GACtCx6K,EAAKolL,aAAaxqE,EAAa95D,SAAS,QAIhDskI,aAAc,SAASC,GACnB,IAAIrlL,EAAOP,KACX,IAAI49K,EAAkBr9K,EAAKg/K,mBAC3B,IAAIxB,EAAU6H,EAAU3hL,KAAKu2K,IAE7B,GAAIuD,EAAS,QACFx9K,EAAK4/K,cAAcpC,EAAQr4K,YAClC,IAAImgL,EAAcjI,EAAgB7tJ,KAAKytJ,GAAoBO,IAE3D5qJ,WAAW,WACP,GAAI5yB,EAAKd,QAAQw/K,YACb1+K,EAAKwhL,kBAAkB6D,QAEvB,GAAI1oL,EAAE0yB,cAAcrvB,EAAK4/K,eAAgB,CACrC,IAAI2F,EAAavlL,EAAKwlL,YAAYH,GAClCrlL,EAAKujL,mBAAmBgC,QAExBvlL,EAAK05C,MAAM4rI,EAAa,OAGjC,KAIX9D,kBAAmB,SAASl5K,GACxB,IAAItI,EAAOP,KACX,IAAI49K,EAAkBr9K,EAAKg/K,mBAC3BriL,EAAEwgL,GAAe70K,EAAS+0K,IAAkBngL,KAAK,WAC7C,IAAI+lL,EAAc5F,EAAgB7tJ,KAAKytJ,GAAoBx9K,KAAKiE,KAAKu2K,MACrEj6K,EAAK05C,MAAMupI,EAAa,SAIhCuC,YAAa,SAASl9K,GAClB,IAAI+0K,EAAkB59K,KAAKu/K,mBAC3B,IAAI30D,EAAS8yD,GAAe70K,EAAS+0K,GACrC,OAAOhzD,EAAOA,EAAO9qH,OAAS,IAAM+I,GAGxCi7K,mBAAoB,SAAUj7K,GAC1B,IAAItI,EAAOP,KACX,IAAI49K,EAAkBr9K,EAAKg/K,mBAC3B,IAAIxB,EAAUl1K,EAAQ5E,KAAKu2K,IAC3B,IAAIgJ,EAAc5F,EAAgB7tJ,KAAKytJ,GAAoBO,IAC3DA,EAAUyF,EAAYjuK,SAAStR,KAAKu2K,IACpCj6K,EAAK05C,MAAMupI,EAAa,MACxB,MAAOzF,IAAYx9K,EAAK4/K,cAAcpC,GAAU,CAC5C,GAAIyF,EAAYjuK,SAASU,GAAG4kK,IACxB,MAEJ2I,EAAc5F,EAAgB7tJ,KAAKytJ,GAAoBO,IACvDx9K,EAAK05C,MAAMupI,EAAa,MACxBzF,EAAUyF,EAAYjuK,SAAStR,KAAKu2K,MAI5C1kI,OAAQ,SAAUxzC,GACd,IAAI/B,EAAOP,KAAMgmL,EACbvmL,EAAUc,EAAKd,QACfE,EAASzC,EAAEI,EAAMsoB,YAAYtjB,IAC7BsmF,EAAgBjpF,EAAO,GACvBsyB,EAAWtyB,EAAO,GAAKA,EAAO,GAAGsyB,SAAS/Z,cAAgB,GAC1D+tK,EAAYh0J,GAAY,SAAWA,GAAY,UAAYA,GAAY,UAAYA,GAAY,QAC/F40D,EAAOlnF,EAAO4a,QAAQq/J,GACtB/pK,EAAUlQ,EAAO4a,QAAQ0gK,GACzBiL,EAAcr2K,EAAQ,GACtBsiB,EAAO00D,EAAK1wE,KAAK,QAASgwK,EAAYC,EACtCC,EAAa1mL,EAAOwW,KAAK,QACzBmwK,EAAappL,EAAE,kBAAkBiZ,KAAK,QACtC+sF,IAAY/wE,GAAQA,IAASm0J,EAC7BC,EAAcrjF,KAAY/wE,EAAK7tB,MAAM,MACrCkiL,IAAkBH,GAAcA,IAAeC,EAC/C1I,EAAkBr9K,EAAKg/K,mBACvBkH,EAEJ,GAAG79F,KAAmBA,EAAcpnE,aAAe0kK,GAC/C,OAGJ,GAAGhpL,EAAEyC,GAAQ+V,SAAS,4BAClB1V,KAAK0mL,oBAAsBR,EAG/B,MAAOt9F,GAAiBA,EAAcpnE,YAAc0kK,EAChDt9F,EAAgBA,EAAcpnE,WAGlC,GAAItkB,EAAE0rF,GAAe3yE,GAAGslK,IACpB,OAGJ,GAAI1rK,EAAQ6F,SAASsrF,IAAgB,CACjC1+F,EAAEpB,iBACF,OAGJ,IAAKoB,EAAEqlG,SAAWpnG,EAAKkjG,eAAe9jG,EAAQumL,KAAiBD,EAC3D3jL,EAAEpB,iBAGNoB,EAAEqlG,QAAU,KAEZw+E,EAAat2K,EAAQwxC,SAAS25H,IAC9B,GAAI4C,EAAiB,CACjB,IAAI+I,EAAe92K,EAAQ5L,KAAKw2K,IAChC,GAAIkM,EACAR,EAAavI,EAAgB7tJ,KAAK0tJ,GAAmBkJ,IAG7DP,EAAoBD,EAAWlwK,GAAG,YAClCwwK,EAAyBhnL,EAAQw/K,aAAemH,GAAqB7lL,EAAKkkL,YAAY50K,GAEtF,GAAIpQ,EAAQ0/K,gBAAkBj8E,GAAUqjF,MAAkBJ,EAAWrmL,QAAU2mL,GAAyB,CACpG52K,EAAQ4F,YAAYklK,IAAY9lK,IAAI,UACpCtU,EAAK2kL,cAAgB3kL,EAAKwkL,gBAAgBl1K,GAC1C,IAAIo5B,EAAO1oC,EAAKqmL,cAAc//F,EAAMtmF,EAAKsP,QAASorK,GAClD16K,EAAKmkL,cAAgB9G,EACrBr9K,EAAK05C,MAAMhR,GACX1oC,EAAK2+K,QAAU,MACf,GAAI,cAAcryK,QAAQvK,EAAEiF,QAAU,EAClCjF,EAAEpB,iBAEN,OAGJ,GAAIgiG,GAAU5gG,EAAEukL,SACZhgG,EAAK,GAAGpgE,QAGZ,KAAOlmB,EAAKkkL,YAAY50K,IAAYpQ,EAAQw/K,cAAgB,SAAWx/K,EAAQw/K,YAAYwG,eAAkBnoL,EAAMW,QAAQyc,SAAW6jK,GAAej8K,IAAM/B,EAAKkkL,YAAY50K,EAAQ0K,QAAQ0gK,KACxL,OAGJ,IAAK/3E,IAAW+iF,IAAaO,EACzBlkL,EAAEpB,iBAGNX,EAAK2+K,QAAU,KACf8G,EAAaG,EAAWlwK,GAAG,YAAc6xF,EAAQD,EACjD,IAAKpoG,EAAQ0/K,cAAgB6G,GAAcl+E,EACvC,OAEJvnG,EAAKylL,GAAYn2K,IAGrB+2K,cAAe,SAAS1wJ,EAASnW,EAAKsB,GAClC,IAAIu8J,EAAkB59K,KAAKu/K,mBAC3B,IAAK3B,EACD,OAAO1nJ,EAAQuL,aAAa1hB,EAAKsB,OAC9B,CACH,IAAIiR,EAAU4rJ,GAAoBhoJ,EAAS0nJ,GAC3C,IAAIr0K,EAAS,GACbrM,EAAEo1B,GAAS70B,KAAK,WACZ,IAAI8X,EAASrY,EAAE8C,MACf,GAAIuV,EAAOU,GAAG8J,GACV,OAAO,MAEX,GAAIxK,EAAOU,GAAGoL,GACV9X,EAAOrH,KAAKlC,QAGpB,OAAO9C,EAAEqM,KAIjBk6F,eAAgB,SAAU9jG,EAAQumL,GAC9BvmL,EAASA,EAAOsW,GAAG,WAAatW,EAASA,EAAO4a,QAAQ,WAExD,IAAI8iK,EAAgB19K,EAAOsE,KAAK,iBAC5B6iL,EAEJ,GAAIzJ,EAAe,CACfyJ,EAAsB9mL,KAAK+mL,cAAcpnL,GACzC09K,EAAc76K,KAAKxC,KAAM8mL,GAG7B,IAAIE,EAA+BF,GAAuBA,EAAoB1lL,qBAC9E,IAAI6lL,EAA2BjnL,KAAKgjL,cAAc,CAAE/5I,KAAMi9I,EAAa3+K,KAAMmoC,IAC7E,OAAOs3I,GAAgCC,GAG3CF,cAAe,SAAUpnL,GACrB,IAAI4+D,EAAY,CACZh8D,OAAQvC,KACRL,OAAQA,EACRwB,kBAAmB,MACnBD,eAAgB,WACZlB,KAAKmB,kBAAoB,MAE7BC,mBAAoB,WAChB,OAAOpB,KAAKmB,oBAGpB,OAAOo9D,GAGXwhH,eAAgB,SAAUz9K,GACtB,IAAI/B,EAAOP,KACX,IAAIL,EAASzC,EAAEoF,EAAE3C,QAAQ+V,SAAS,4BAA8BnV,EAAKmmL,oBAAsBpkL,EAAE3C,OAE7F,GAAIwvB,GAAU5uB,EAAKg/K,oBAAsBh/K,EAAKsP,SAAS,GAAIlQ,GAAS,CAChEY,EAAKmmL,oBAAsBrpL,EAC3B,OAGJkD,EAAK2+K,QAAU,OAGnB59E,OAAQ,SAAUh/F,GACd,IAAI/B,EAAOP,KACPL,EAAS2C,EAAE3C,OACXklL,EAAYtkL,EAAKukL,aACjB7nD,EAASxtH,IAEb,GAAI9P,GAAUY,EAAKiW,QAAQ,KAAOtZ,EAAEyC,GAAQsW,GAAG,mBAAoB,CAC/D3T,EAAEgyB,kBACFp3B,EAAEyC,GAAQ4a,QAAQ,cAAcA,QAAQ,iBAAiBA,QAAQ,WAAWrE,SAAS+qF,IACrF1gG,EAAKiW,QAAQnU,QAAQ,SACrB,OAGJ,GAAI46H,IAAW36H,EAAEivC,cACb,GAAIszI,EAAU/kL,OACVS,EAAK2mL,WAAW,GAAIrC,QACjB,IAAKtkL,EAAK2kL,cACb3kL,EAAK2mL,WAAW,GAAI3mL,EAAKiW,QAAQ6qC,WAAWl/C,UAKxDq/F,SAAU,SAAUl/F,GAChB,IAAI/B,EAAOP,KACPgH,EAAM1E,EAAE8+B,QACRyjJ,EAAYtkL,EAAK2kL,cACjBvlL,EACAwnL,EACA5mH,EACAlnD,EAAQ/b,EAAMW,QAAQob,MAAM9Y,EAAKiW,SAErC,GAAIlU,EAAE3C,QAAU2C,EAAEivC,eAAiBvqC,GAAOugB,EAAKM,IAC3C,OAGJ,IAAKg9J,EACDA,EAAatkL,EAAK2kL,cAAgB3kL,EAAKukL,aAG3CqC,EAAoB5mL,EAAK6mL,uBAAuBvC,GAChDtkH,EAAchgE,EAAK6kL,iBAAiBP,GACpCtkL,EAAKwjL,cAAgB,KAErB,GAAI/8K,GAAOugB,EAAKS,MACZroB,EAASY,EAAK8Y,EAAQ,YAAc,cAAcwrK,EAAWsC,EAAmB5mH,QAC7E,GAAIv5D,GAAOugB,EAAKO,KACnBnoB,EAASY,EAAK8Y,EAAQ,aAAe,aAAawrK,EAAWsC,EAAmB5mH,QAC7E,GAAIv5D,GAAOugB,EAAKU,KACnBtoB,EAASY,EAAK8mL,UAAUxC,EAAWsC,EAAmB5mH,QACnD,GAAIv5D,GAAOugB,EAAKQ,GACnBpoB,EAASY,EAAK+mL,QAAQzC,EAAWsC,EAAmB5mH,QACjD,GAAIv5D,GAAOugB,EAAKY,KAAM,CACzB5nB,EAAK2mL,WAAWrC,EAAWA,EAAUtvK,SAAS8rC,WAAWl/C,SACzDG,EAAEpB,sBACC,GAAI8F,GAAOugB,EAAKW,IAAK,CACxB3nB,EAAK2mL,WAAWrC,EAAWA,EAAUtvK,SAAS8rC,WAAWpnB,QACzD33B,EAAEpB,sBACC,GAAI8F,GAAOugB,EAAKM,IACnBloB,EAASY,EAAKgnL,SAAS1C,EAAWsC,QAC/B,GAAIngL,GAAOugB,EAAKK,OAAS5gB,GAAOugB,EAAKa,SAAU,CAClDzoB,EAASklL,EAAUxjI,SAAS,WAC5B,GAAI1hD,EAAOG,OAAS,EAAG,CACnBS,EAAKu1C,OAAO,CAAEn2C,OAAQA,EAAO,GAAIuB,eAAgB,aAAgB2lL,SAAU,OAC3E,GAAItmH,IAAgBskH,EAAUnvK,SAASsrF,IAAgB,CACnDzgG,EAAK6oG,KAAKy7E,GACVtkL,EAAK2mL,WAAWrC,EAAWtkL,EAAK+hL,mBAAmBuC,GAAWxjI,WAAWl/C,cACtE,GAAI0iL,EAAU5uK,GAAG,OAAS4uK,EAAU1uK,KAAK,UAAY,mBACxD0uK,EAAU90J,KAAK,eAAe5Z,KAAK,UAAW,WAE9C5V,EAAKinL,iBAAiB3C,EAAWtkL,EAAKwkL,gBAAgBF,UAG3D,GAAI79K,GAAOugB,EAAKI,IAAK,CACxBhoB,EAASY,EAAKwkL,gBAAgBF,GAC9BtkL,EAAK2mL,WAAWrC,EAAWllL,GAC3BY,EAAKk/K,sBACL,OAGJ,GAAI9/K,GAAUA,EAAO,GAAI,CACrB2C,EAAEpB,iBACFoB,EAAEgyB,oBAIVwwJ,WAAY,WACR,OAAO9kL,KAAKwW,QAAQuZ,KAAK,mCAAmCE,OAAO,aAGvEm3J,uBAAwB,SAAUn+I,GAC9B,IAAIw+I,EAAiBznL,KAAKwW,QAAQd,SAAS,mBAE3C,IAAKuzB,EAAKnpC,OACN,OAAO2nL,EAEX,OAAOx+I,EAAK1zB,SAASG,SAAS,iBAAmB+xK,GAGrDrC,iBAAkB,SAAUn8I,GACxB,IAAKA,IAASA,EAAKnpC,SAAWmpC,EAAK,GAAGvZ,SAClC,OAAO,MAEX,OAAOuZ,EAAKoY,SAAS,4CAA4CvhD,OAAS,KACnEmpC,EAAKhlC,KAAKw2K,OAAwBz6K,KAAKu/K,mBAAmBl+H,SAASo8H,GAAmBx0I,EAAKhlC,KAAKw2K,OAG3GyM,WAAY,SAAUj+I,EAAMy+I,GACxB,IAAInnL,EAAOP,KACPxD,EAAK+D,EAAK63J,QAEd,GAAInvH,EAAKnpC,QAAU4nL,EAAS5nL,OACxBmpC,EAAKxzB,YAAYwrF,IAGrB,GAAIymF,EAAS5nL,OAAQ,CACjB,GAAI4nL,EAAS,GAAGlrL,GACZA,EAAKkrL,EAAS,GAAGlrL,GAGrBkrL,EAASxxK,SAAS+qF,IAClB1gG,EAAK2kL,cAAgBwC,EAErB,GAAIlrL,EAAI,CACJ+D,EAAKsP,QAAQwb,WAAW,yBACxBnuB,EAAE,IAAMV,GAAI6uB,WAAW,MACvBq8J,EAASvxK,KAAK,KAAM3Z,GACpB+D,EAAKsP,QAAQsG,KAAK,wBAAyB3Z,GAE/C+D,EAAKonL,cAAcD,KAI3BF,iBAAkB,SAAUv+I,EAAMy+I,GAC9B1nL,KAAKknL,WAAWj+I,EAAMy+I,IAG1B3C,gBAAiB,SAAU97I,GACvB,GAAIjpC,KAAKykL,YAAYx7I,GACjB,OAAOA,OAEP,OAAOjpC,KAAK4mL,cAAc39I,EAAM4xI,GAAc,aAAa5gJ,QAInEwqJ,YAAa,SAAUx7I,GACnB,OAAOA,EAAK1zB,SAASG,SAASgkK,IAGlCkO,WAAY,SAAU3+I,EAAMk+I,EAAmB5mH,GAC3C,IAAIhgE,EAAOP,KACP0nL,EACAG,EACAjK,EAEJ,IAAKuJ,EAAmB,CACpBO,EAAWz+I,EAAKinI,QAAQiL,EAAeG,IAAmBxpJ,GAAG,GAC7D,IAAK41J,EAAS5nL,OACV4nL,EAAWz+I,EAAKy2E,QAAQy7D,EAAeG,IAAmBrhJ,OAE9D15B,EAAK05C,MAAMhR,QACR,GAAIs3B,IAAgBt3B,EAAKvzB,SAASsrF,IAAgB,CACrDzgG,EAAK6oG,KAAKngE,GACVy+I,EAAWnnL,EAAK+hL,mBAAmBr5I,GAAMoY,WAAWl/C,aACjD,GAAI5B,EAAKd,QAAQo1F,aAAe,aAAc,CACjDgzF,EAAatnL,EAAKwkL,gBAAgB97I,GAClC20I,EAAkBr9K,EAAKg/K,mBACvB,GAAI3B,EAAiB,CACjB,IAAIgI,EAAY3H,GAAU4J,EAAYjK,GACtCr9K,EAAKwhL,kBAAkB6D,GAE3BrlL,EAAK05C,MAAM4tI,GACXH,EAAWG,EAAW3X,QAAQiL,EAAeG,IAAmBxpJ,GAAG,GAGvE,GAAI41J,IAAaA,EAAS5nL,OACtB4nL,EAAWnnL,EAAKiW,QAAQ6qC,SAAS,WAAWl/C,aACzC,IAAKulL,EACRA,EAAW,GAGfnnL,EAAK2mL,WAAWj+I,EAAMy+I,GACtB,OAAOA,GAGXI,UAAW,SAAU7+I,EAAMk+I,GACvB,IAAI5mL,EAAOP,KACP0nL,EACA9J,EAEJ,IAAKuJ,EAAmB,CACpBO,EAAWz+I,EAAKy2E,QAAQy7D,EAAeG,IAAmBxpJ,GAAG,GAC7D,IAAK41J,EAAS5nL,OACV4nL,EAAWz+I,EAAKinI,QAAQiL,EAAeG,IAAmBrhJ,OAE9D15B,EAAK05C,MAAMhR,OACR,CACHy+I,EAAWz+I,EAAK1zB,SAASgF,QAAQ,WACjCqjK,EAAkBr9K,EAAKg/K,mBACvB,IAAKmI,EAAS5nL,QAAU89K,EACpB8J,EAAW1J,GAAgB/0I,EAAK1zB,SAAUqoK,GAE9Cr9K,EAAK05C,MAAMytI,GACX,GAAInnL,EAAKkkL,YAAYiD,IAAannL,EAAKd,QAAQo1F,aAAe,aAC1D6yF,EAAWA,EAAShoE,QAAQy7D,EAAeG,IAAmBxpJ,GAAG,GAIzE,IAAK41J,EAAS5nL,OACV4nL,EAAWnnL,EAAKiW,QAAQ6qC,SAAS,WAAWpnB,OAGhD15B,EAAK2mL,WAAWj+I,EAAMy+I,GACtB,OAAOA,GAGXL,UAAW,SAAUp+I,EAAMk+I,EAAmB5mH,GAC1C,IAAIhgE,EAAOP,KACP0nL,EAEJ,IAAKP,EACD,IAAK5mH,GAAet3B,EAAKvzB,SAASsrF,IAC9B,WACG,CACHzgG,EAAK6oG,KAAKngE,GACVy+I,EAAWnnL,EAAK+hL,mBAAmBr5I,GAAMoY,WAAWl/C,aAGxDulL,EAAWz+I,EAAKinI,QAAQiL,EAAeG,IAAmBxpJ,GAAG,GAGjE,IAAK41J,EAAS5nL,QAAUmpC,EAAKnpC,OACzB4nL,EAAWz+I,EAAK1zB,SAAS8rC,WAAWl/C,aACjC,IAAK8mC,EAAKnpC,OACb4nL,EAAWnnL,EAAKiW,QAAQ6qC,SAAS,WAAWl/C,QAGhD5B,EAAK2mL,WAAWj+I,EAAMy+I,GACtB,OAAOA,GAGXJ,QAAS,SAAUr+I,EAAMk+I,GACrB,IAAI5mL,EAAOP,KACP0nL,EAEJ,IAAKP,EACD,YAEAO,EAAWz+I,EAAKy2E,QAAQy7D,EAAeG,IAAmBxpJ,GAAG,GAGjE,IAAK41J,EAAS5nL,QAAUmpC,EAAKnpC,OACzB4nL,EAAWz+I,EAAK1zB,SAAS8rC,WAAWpnB,YACjC,IAAKgP,EAAKnpC,OACb4nL,EAAWnnL,EAAKiW,QAAQ6qC,SAAS,WAAWpnB,OAGhD15B,EAAK2mL,WAAWj+I,EAAMy+I,GACtB,OAAOA,GAGXC,cAAe,SAAS1+I,GACpB,IAAI1oC,EAAOP,KACX,GAAIO,EAAKd,QAAQ6pK,YAAcrgI,GAAQA,EAAKnpC,OAAQ,CAChD,IAAI2jH,EAAKx6E,EAAK1zB,SACd,IAAIy6I,EAAevsC,EAAG/tG,SAASgkK,GAAQn5K,EAAKd,QAAQo1F,aAAe,aAAe,MAClF,IAAIkzF,EAAY/3B,EAAe,aAAe,YAC9C,IAAIrkI,EAAUqkI,EAAe1yJ,EAAMsS,YAActS,EAAM0S,aACvD,IAAIg4K,EAAsBvkE,EAAGskE,KAC7B,IAAIE,EAAWt8J,EAAQsd,GACvB,IAAIi/I,EAAaj/I,EAAK,GAAG+mH,EAAe,aAAe,aACvD,IAAIm4B,EAASx8J,EAAQ83F,GACrB,IAAIogE,EAAgBpgE,EAAG3X,SAAS0vE,IAChC,IAAI4M,EAAmBvE,EAAc/jL,OAAS6rB,EAAQk4J,EAAc1hL,SAAW,EAC/E,IAAIkmL,EAEJ,GAAIL,EAAsBG,EAASD,EAAaD,EAAWG,EACvDC,EAAeH,EAAaD,EAAWE,EAASC,OAC7C,GAAIJ,EAAsBE,EAAaE,EAC1CC,EAAeH,EAAaE,EAGhC,IAAKt0K,MAAMu0K,GAAe,CACtB,IAAI7G,EAAY,GAChBA,EAAUuG,GAAaM,EACvB5kE,EAAGk+D,SAASl+J,QAAQ+9J,EAAW,OAAQ,SAAU,WAC7CjhL,EAAKmgL,qBAAqBj9D,EAAIogE,EAAc1hL,QAAS0hL,EAAc5pJ,OAAQ+1H,QAM3Fu3B,SAAU,SAAUt+I,EAAMk+I,GACtB,IAAI5mL,EAAOP,KACP0nL,EAEJ,IAAKP,EACD,OAAOl+I,MACJ,CACHy+I,EAAWz+I,EAAK1zB,SAASgF,QAAQ,WACjCha,EAAK05C,MAAMytI,GACXnnL,EAAK2mL,WAAWj+I,EAAMy+I,GAG1B,OAAOA,GAGXpF,mBAAoB,SAASr5I,GACzB,IAAIkyE,EAAelyE,EAAKlZ,KAAK,iBAC7B,IAAIvZ,EAAUxW,KAAKu/K,mBACnB,IAAKpkE,EAAar7G,QAAU0W,EACxB2kG,EAAe8iE,GAAUh1I,EAAMzyB,GAEnC,OAAO2kG,GAGX6nE,cAAe,SAAS1gL,GACpB,IAAI/B,EAAOP,KAEX,OAAOO,EAAK8B,QAAQC,EAAEiF,KAAM,CAAEA,KAAMjF,EAAEiF,KAAM0hC,KAAM3mC,EAAE2mC,QAGxDypG,cAAe,SAAUpwI,GACrB,IAAI/B,EAAOP,KACPipC,EAAO/rC,EAAEI,EAAMsoB,YAAYtjB,IAAIiY,QAAQ0gK,GAE3C,GAAIhyI,EAAKvzB,SAASsrF,IACd,OAGJ7tE,WAAW,WACP5yB,EAAK2mL,WAAW,GAAIj+I,GACpB,GAAIA,EAAKoY,SAAS,cAAc,GAC5BpY,EAAK1zB,SAASgF,QAAQ,WAAW9E,YAAYwrF,KAElD,MAGP49E,YAAa,SAASp/K,GAClB,GAAIA,GAAY,cAAeA,IAAaA,EAAQ0pG,UAChD1pG,EAAQ0pG,UAAY,CAAEC,KAAM,CAAEpmF,QAAS,IAAMi3B,MAAO,CAAE12B,KAAM,KAAMP,QAAS,MAGnFo/C,YAAa,SAAS3iE,GAClB,IAAIc,EAAOP,KACP2qB,EAAalrB,EAAUA,EAAQkrB,WAAapqB,EAAKd,QAAQkrB,WAE7D,IAAKA,EACD,OAGJA,EAAajtB,EAAQitB,GAAc,CAAE1mB,KAAM0mB,GAAeA,EAE1DpqB,EAAK6oH,oBAEL,IAAKz+F,EAAWuzB,OACZvzB,EAAWuzB,OAAS,CAChB,CAAEr9B,MAAO,OACT,CAAEA,MAAO,QACT,CAAEA,MAAO,OACT,CAAEA,MAAO,YACT,CAAEA,MAAO,kBACT,CAAEA,MAAO,YACT,CAAEA,MAAO,aACT,CAAEA,MAAO,QACT,CAAEA,MAAO,eACT,CAAEA,MAAO,WACT,CAAEA,MAAO,WACT,CAAEA,MAAO,SACT,CAAEA,MAAO,WAIjBtgB,EAAKoqB,WAAazT,EAAuBgmC,OAAOvyB,GAEhDpqB,EAAK+uK,kBAEL/uK,EAAKoqB,WAAW8wC,SAGpB6zG,gBAAiB,WACbtvK,KAAKklG,gBAAkBllG,KAAK8Z,QAAQvY,KAAKvB,MACzCA,KAAK8sH,cAAgB9sH,KAAK0pK,OAAOnoK,KAAKvB,MAEtCA,KAAK2qB,WAAWppB,KAAK0oC,EAAQjqC,KAAKklG,iBAClCllG,KAAK2qB,WAAWppB,KAAKu+C,EAAO9/C,KAAK8sH,gBAGrC1D,kBAAmB,WACf,IAAIz+F,EAAa3qB,KAAK2qB,WAEtB,GAAIA,EAAY,CACZA,EAAW1oB,OAAOgoC,EAAQjqC,KAAKklG,iBAC/Bv6E,EAAW1oB,OAAO69C,EAAO9/C,KAAK8sH,iBAItC48C,OAAQ,aAIR4e,UAAW,SAAU/lI,GACjB,IAAIgmI,EAAiBvoL,KAAKu/K,oBAAsBv/K,KAAK6P,QACrD,OAAO04K,EAAex4J,KAAK,IAAMzyB,EAAM6Y,KAAK,OAAS,IAAMosC,EAAM,MAGrEzoC,QAAS,SAAU0pF,GACf,IAAIjjG,EAAOP,KACX,IAAIy8B,EAAO+mE,EAAG/mE,KACd,IAAIsI,EAASy+D,EAAGz+D,OAChB,IAAIogD,EAAgB1oD,EAAOl8B,EAAK+nL,UAAU7rJ,EAAK8lB,KAAOhiD,EAAKsP,QAC3D,IAAI24K,EAAgBhlF,EAAGn1E,MACvB,IAAIlf,EAAQq0F,EAAGr0F,MACf,IAAIs5K,EAAcloL,EAAKmoL,YAAYnnL,KAAKhB,GACxC,IAAIooL,EAAcpoL,EAAKixK,YAAYjwK,KAAKhB,GAExC,GAAIwkC,GAAU,MACVxkC,EAAKqoL,aAAaJ,EAAer5K,EAAOg2E,QACrC,GAAIpgD,GAAU,SACjByjJ,EAAc9/I,QAAQigJ,QACnB,GAAI5jJ,GAAU,aACjByjJ,EAAc9/I,QAAQ+/I,QACnB,GAAI1jJ,IAAW,aAClBxkC,EAAKwgE,OAAOyiC,EAAGn1E,MAAO82D,QAEtBnlF,KAAKs/K,YAGTt/K,KAAKqC,QAAQolK,GAAW,CAAEx+H,KAAMk8C,EAAe72D,SAAUmO,KAG7DmsJ,aAAc,SAASv6J,EAAOlf,EAAOoG,GACjC,IAAIhV,EAAOP,KACX,IAAImiL,EAAgB5sK,EAAOwa,KAAKorJ,GAAcrpJ,GAAG3iB,GAEjD,GAAGgzK,EAAcriL,OACbS,EAAKqnE,aAAav5C,EAAO8zJ,QAEzB5hL,EAAKwgE,OAAO1yC,EAAO9Y,IAI3Bi8J,YAAa,SAASvoI,GAClB,IAAI1oC,EAAOP,KACX,IAAI6P,EAAUtP,EAAK+nL,UAAUr/I,EAAKsZ,KAClChiD,EAAKwwB,OAAOlhB,IAGhB64K,YAAa,SAASz/I,GAClB,IAAI1oC,EAAOP,KACX,IAAI6P,EAAUtP,EAAK+nL,UAAUr/I,EAAKsZ,KAClC,IAAI1gB,EAAchyB,EAAQ8rD,OAC1B,IAAIn6C,EAAaynB,EAAKznB,aAEtBjhB,EAAKwwB,OAAOlhB,GAEZ,GAAGgyB,EAAY/hC,OACXS,EAAKqnE,aAAa3+B,EAAMpH,QAExBthC,EAAKwgE,OAAO93B,EAAMznB,GAAcjhB,EAAK+nL,UAAU9mK,EAAW+gC,OAIlEyhE,WAAY,WACR,IAAIzjH,EAAOP,KACPP,EAAUc,EAAKd,QACfI,EAAGghB,EAAOkhD,EACVlyD,EAAUtP,EAAKsP,QAEnB,IAAKhQ,KAAKylE,GAAU,CAChBzkD,EAAQphB,EAAQ6lE,GAASzlE,IACzBkiE,EAAYlyD,EAAQsG,KAAK7Y,EAAM6Y,KAAKtW,EAAI,WAExC,IAAKghB,GAASkhD,EACVlhD,EAAQkhD,EAGZ,IAAKlhD,EACDA,EAAQhhB,EAGZ,IAAKnC,EAAQmjB,GACTA,EAAQ,CAACA,GAGbphB,EAAQ6lE,GAASzlE,IAAMghB,IAI/BgoK,eAAgB,SAAStlI,GACrB,IAAIulI,EAAgB9oL,KAAKP,QAAQ6lE,GAAS/hB,KAAe,GACrDrwC,EAAQ41K,EAAchpL,OACtByJ,EAAS,oBAEb,GAAI2J,IAAU,EACV3J,GAAU,gBAAkBg6C,EAAY,UACrC,CACHh6C,GAAU,iBACErM,EAAEgU,IAAI43K,EAAe,SAAS7qJ,GAC1B,MAAO,uBAAyB3gC,EAAM0rB,KAAKiV,GAAK,MACjDn7B,KAAK,KAAO,KAC3ByG,GAAU,uDAAyD2J,EAAQ,mBAC3E3J,GAAU,kBAAmB2J,EAAQ,aAGzC3J,GAAU,KAEV,OAAOA,GAGXmoH,WAAY,WACR,IAAInxH,EAAOP,KACPP,EAAUc,EAAKd,QACfspL,EAAgBxoL,EAAKsoL,eAAetnL,KAAKhB,GAE7C,GAAId,EAAQuE,iBAAmBvE,EAAQuE,UAAYzF,GAC3CkB,EAAQuE,SAAWA,EAASvE,EAAQuE,eACrC,IAAKvE,EAAQuE,SACZvE,EAAQuE,SAAWA,EACnB,kCACA,gBAAkB+kL,EAAc,QAAU,iBAC1C,mFACI,YACJ,eACI,YACJ,gBAIRxoL,EAAK+hG,UAAY,CACbznD,QAAS72C,EACL,sBAAwB+kL,EAAc,WAAa,WACnD,iHAEJz+H,MAAOtmD,EACH,mGACI,yBACJ,SAEJglL,YAAahlL,EACT,eAAiB+kL,EAAc,OAAS,YACxC,oBAAsBA,EAAc,YAAc,YAClD,yBAA2BA,EAAc,aAAe,WACxD,mCACA,uEAEA,sBACU,6EACV,QAEA,oBACA,wCACA,mBACA,eAEJ9/I,KAAMjlC,EACF,sBAAwB+kL,EAAc,WAAa,WACnD,2KACI,4DACAzrL,EAAM6Y,KAAK,OAAS,oBACpB,iDACI,2BACI,wBACJ,eACI,yBACJ,QACJ,QACJ,IACI,yBACA,2CACI,uFACJ,mEACI,2BACJ,QACJ,SAEJkqK,aAAcr8K,EACV,mKACI,yEACJ,WAEJyvG,MAAOzvG,EAAS,+FAChBilL,OAAQjlL,EAAS,0BAA4B+kL,EAAc,kBAAoB,sFAC/EpnI,MAAO39C,EAAS,MAIxB0+K,WAAY,SAAUjjL,GAClB,IAAIc,EAAOP,KACXP,EAAUjC,EAAO,CAAE0rL,KAAM3oL,EAAM+pD,MAAO,IAAM7qD,GAE5C,IAAIkiD,EAAQphD,EAAK+hG,UAAU3gD,MACvB1Y,EAAOxpC,EAAQwpC,KAEnB,OAAO1oC,EAAK+hG,UAAUr5D,KAAKzrC,EAAOiC,EAAS,CACvCwpL,OAAQ1oL,EAAK+hG,UAAU2mF,OACvBD,YAAazoL,EAAK+hG,UAAU0mF,YAC5BG,cAAe5oL,EAAK4oL,cACpB11E,MAAOxqE,EAAK5a,OAAS4a,EAAK4R,SAAW5R,EAAK1oC,EAAKd,QAAQ2pL,iBAAiB,IAAM7oL,EAAK+hG,UAAUmR,MAAQ9xD,EACrG6X,SAAUj5D,EAAKkiL,aAChB9G,MAGP8G,YAAa,SAAUhjL,GACnB,IAAIc,EAAOP,KACX,IAAIsiG,EAAY/hG,EAAK+hG,WAAa7iG,EAAQypL,KAAK5mF,UAE/C,OAAOA,EAAUh4C,MAAM9sD,EAAO,CAC1B6rL,YAAa,SAAS5pL,GAClB,IAAIyE,EAAO,GACPrE,EAAI,EACJwuB,EAAQ5uB,EAAQ4uB,MAChBlE,EAAMkE,EAAQA,EAAMvuB,OAAS,EAC7BwqD,EAAQ9sD,EAAO,CAAEsC,OAAQqqB,GAAO1qB,EAAQ6qD,OAE5C,KAAOzqD,EAAIsqB,EAAKtqB,IACZqE,GAAQzE,EAAQypL,KAAKxG,WAAWllL,EAAOiC,EAAS,CAC5C6qD,MAAOA,EACPrhB,KAAMzrC,EAAO,CAAE2R,MAAOtP,GAAKwuB,EAAMxuB,OAIzC,OAAOqE,IAEZzE,EAASk8K,MAGhBwN,cAAe,SAAU1pL,GACrB,OAAOA,EAAQypL,KAAK5mF,UAAUznD,QAAQr9C,EAAOiC,EAASk8K,QAI1D2N,GAAc3K,GAAKnhL,OAAO,CAC1BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEX2+K,GAAKh+K,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEjCc,EAAKsP,QAAQsG,KAAK0hG,GAAM,QAExBt3G,EAAKgpL,QAAUjsL,EAAMksB,OAAOvmB,UAAU,EAAG,GAEzC1C,EAAKZ,OAASzC,EAAEqD,EAAKd,QAAQE,QAE7BY,EAAK0rH,SACL1rH,EAAKipL,SAGTzK,cAAe,SAASt/K,GACpB,IAAIc,EAAOP,KACX,GAAIP,EAAQ6pK,aAAe/oK,EAAKg/K,mBAAoB,CAChDh/K,EAAK4/K,cAAgB,GAErB5/K,EAAKogL,gBAAkBpgL,EAAKsP,QAAQ0F,SAASU,GAAG8kK,GAA8Bx6K,EAAKsP,QAAQ0F,SAAWhV,EAAKsP,SACtGuF,KAAK,gCAAkC3V,EAAQo1F,YAAc,YAAYt/E,SAE9E,GAAIhV,EAAKd,QAAQo1F,aAAe,aAC5B6pF,GAAyBn+K,EAAKsP,SAGlC,GAAIpQ,EAAQylC,SAAU,CAClBzlC,EAAQylC,SAAWhoC,EAAEuC,EAAQylC,UAC7BzlC,EAAQylC,SAAS67B,OAAOxgE,EAAKogL,gBAGjCpgL,EAAK0jL,eAAiB1jL,EAAKsP,QAAQ,GAAG+F,MAAMC,OAC5CtV,EAAKkpL,cAAgBlpL,EAAKsP,QAAQ,GAAG+F,MAAMD,QAInDlW,QAAS,CACLhD,KAAM,cACNwzB,OAAQ,KACR4iF,OAAQ,cACRhe,YAAa,WACb60F,cAAe,MACf9/E,iBAAmB,KACnBjqG,OAAQ,QAGZqC,OAAQ,CACJ6lG,EACAC,EACAE,EACAD,EACAr4D,GAGJpkB,WAAY,SAAS7rB,GACjB,IAAIc,EAAOP,KAEX2+K,GAAKh+K,GAAG2qB,WAAW9oB,KAAKjC,EAAMd,GAE9Bc,EAAKZ,OAAO0zB,IAAI9yB,EAAKsyG,OAAS/zB,EAAKv+E,EAAKgpL,QAAShpL,EAAKopL,YAEtD,GAAIppL,EAAK2xC,WACL3xC,EAAK2xC,WAAWjmB,UAGpB1rB,EAAKZ,OAASzC,EAAEqD,EAAKd,QAAQE,QAC7B,GAAIF,EAAQo1F,aAAet0F,EAAKsqG,MAAMr0F,QAAQ,GAC1CjW,EAAKsqG,MAAMh7F,QAAQytH,SAGvB/8H,EAAKipL,QAEL7K,GAAKh+K,GAAG2qB,WAAW9oB,KAAKxC,KAAMP,IAGlCwsB,QAAS,WACL,IAAI1rB,EAAOP,KAEXO,EAAKZ,OAAO0zB,IAAI9yB,EAAKd,QAAQozG,OAAS/zB,EAAKv+E,EAAKgpL,SAChD3gF,GAAiBv1E,IAAI/1B,EAAMW,QAAQooB,UAAYy4D,EAAKv+E,EAAKgpL,QAAShpL,EAAKqpL,aAEvE,GAAIrpL,EAAK2xC,WACL3xC,EAAK2xC,WAAWjmB,UAGpB0yJ,GAAKh+K,GAAGsrB,QAAQzpB,KAAKjC,IAGzB6oG,KAAM,SAASnrE,EAAG9vB,GACd,IAAI5N,EAAOP,KAEXi+B,EAAI/gC,EAAE+gC,GAAG,GAET,GAAI9O,EAAS5uB,EAAKsP,QAAQ,GAAI3S,EAAE+gC,GAAG,KAAO19B,EAAK6kL,iBAAiBloL,EAAE+gC,IAC9D0gJ,GAAKh+K,GAAGyoG,KAAK5mG,KAAKjC,EAAM09B,QAExB,GAAI19B,EAAKyiL,cAAc,CAAE/5I,KAAM1oC,EAAKsP,QAAStI,KAAMsgG,MAAY,MAAO,CAClE,GAAItnG,EAAKsqG,MAAMz4E,WAAa7xB,EAAKd,QAAQwwB,OAAQ,CAC7C1vB,EAAKsqG,MAAM5wD,MAAM,MACjB15C,EAAKsqG,MAAMh7F,QAAQyU,UAAU,MAGjC,GAAInW,IAAM9Q,EAAW,CACjB,IAAIugL,EAAkBr9K,EAAKg/K,mBAC3B,GAAI3B,EAAiB,CACjB,IAAI3pK,EAAS2pK,EAAgB3pK,SAC7BgqB,GAAKhqB,EAAOgB,KACZ9G,GAAK8F,EAAO8L,IAEhBxf,EAAKsqG,MAAMr0F,QAAQ+M,OACnBhjB,EAAKspL,yBAAyB5rJ,EAAG9vB,GACjC5N,EAAKsqG,MAAMzB,KAAKnrE,EAAG9vB,OAChB,CACH5N,EAAKsqG,MAAMprG,QAAQ8iG,QAAUtkE,EAAIA,EAAI19B,EAAKsqG,MAAMtI,SAAWhiG,EAAKZ,OAChEY,EAAKsqG,MAAMh7F,QAAQyU,UAAU,MAC7B/jB,EAAKspL,2BACLtpL,EAAKsqG,MAAMzB,OAGfR,GAAiBv1E,IAAI9yB,EAAKsqG,MAAM1F,UAAW5kG,EAAKsqG,MAAMvB,iBACtDV,GACKxiF,GAAG9oB,EAAMW,QAAQooB,UAAYy4D,EAAKv+E,EAAKgpL,QAAShpL,EAAKqpL,aAE1DrpL,EAAKsP,QAAQxN,QAAQ,SAI7B,OAAO9B,GAGXspL,yBAA0B,SAAS5rJ,EAAG9vB,GAClC,IAAI5N,EAAOP,KACX,IAAI6qG,EAAQtqG,EAAKsqG,MACjB,IAAImlD,EAAezvJ,EAAKd,QAAQo1F,aAAe,aAE/C,GAAIt0F,EAAKd,QAAQ6pK,WAAY,CACzB/oK,EAAKkjL,kBAAkB54E,GAEvBA,EAAMh7F,QAAQ0F,SAASV,IAAI,CACvB8B,SAAU,GACVd,OAAQ,KAGZg1F,EAAMh7F,QAAQgF,IAAI,CACd+8E,WAAY,SACZl7E,QAAS,GACTC,SAAU,KAGd,GAAIq5I,EACAzvJ,EAAKupL,eAAej/E,EAAO/2F,MAAMmqB,GAAK5gC,EAAY,CAACu1E,QAAS,KAAM30C,EAAGA,EAAG9vB,EAAGA,SAE3E5N,EAAKyjL,gBAAgBn5E,EAAO/2F,MAAMmqB,GAAK5gC,EAAY,CAACu1E,QAAS,KAAM30C,EAAGA,EAAG9vB,EAAGA,IAGhF08F,EAAMh7F,QAAQgF,IAAI,CACd+8E,WAAY,GACZl7E,QAAS,OACTC,SAAU,aAGdpW,EAAKqjL,wBAAwB/4E,EAAOmlD,EAAc,MAClDnlD,EAAMh7F,QAAQi8F,SAAS0vE,IAAsBj4J,SAIrDumK,eAAgB,SAASj/E,EAAOj4B,GAC5B,IAAIuoC,EAAetQ,EAAMh7F,QACzB,IAAI+6G,EAASzP,EAAap3F,IAAIo3F,EAAa5lG,OAAOwlK,IAElDnwD,EAAOj1G,MAAM3V,KAAKypL,eAAiB,IAEnC,IAAIprK,EAAWwsF,EAAML,UAAU53B,GAC/B,IAAIm3G,EAAc7sL,EAAEE,QAAQuY,QAC5B,IAAIq0K,EAAkB3rK,EAAS1I,MAC/B,IAAIs0K,EAAkBnsL,KAAKoP,IAAImR,EAASpJ,KAAM,GAC9C,IAAI6D,EAAa85D,EAAU,EAAIyrG,GAAcr+K,KAAKu/K,mBAAmB,GAAI,cACzE,IAAI3qK,EAAStX,EAAMqX,WAAWwmG,GAC9B,IAAI+uE,EAAWH,EAAcn1K,EAAOK,KAAOL,EAAOM,MAClD,IAAImvK,EAAS6F,EAAWpxK,EAAakxK,EAAkBC,EAEvD,IAAK5F,EACDz5D,EAAO/1G,IAAI,CAACgE,SAAU,SAAUlD,MAAQu0K,EAAWD,EAAkBnxK,EAAc,QAI3FmhC,MAAO,WACH,IAAI15C,EAAOP,KAEX,GAAImvB,EAAS5uB,EAAKsP,QAAQ,GAAI3S,EAAE0C,UAAU,IAAI,KAAOW,EAAK6kL,iBAAiBxlL,UAAU,IACjF++K,GAAKh+K,GAAGs5C,MAAMz3C,KAAKjC,EAAMX,UAAU,SAEnC,GAAIW,EAAKsqG,MAAMz4E,UACX,GAAI7xB,EAAKyiL,cAAc,CAAE/5I,KAAM1oC,EAAKsP,QAAStI,KAAMugG,MAAa,MAAO,CACnEvnG,EAAKo/K,mBACLp/K,EAAKsP,QAAQkgB,KAAK,IAAMxvB,EAAK63J,SAAS/sI,WAAW,MACjD9qB,EAAKsqG,MAAM5wD,QACX2uD,GAAiBv1E,IAAI/1B,EAAMW,QAAQooB,UAAYy4D,EAAKv+E,EAAKgpL,QAAShpL,EAAKqpL,aACvErpL,EAAK0B,OAAOytC,EAAQnvC,EAAK4pL,oBACzB5pL,EAAKsqG,MAAMprG,QAAQ8iG,OAAOljE,UAM1C+qJ,aAAc,SAAU9nL,GACpB,IAAIkhG,EAAKlhG,EAAG2R,EACR1T,EAAOP,KACPP,EAAUc,EAAKd,QACfE,EAASrC,EAAMW,QAAQsgB,SAAWrhB,EAAEsmG,EAAG7jG,QAAUzC,EAAEsmG,EAAGjyD,eAE1D,GAAIjvC,EAAE+Y,MAAO,CACTmoF,EAAKlhG,EAAE+Y,MACPmoF,EAAGztD,MAAQzzC,EAAE27B,EAAE5f,SACfmlF,EAAGxtD,MAAQ1zC,EAAE6L,EAAEkQ,SAGnB,GAAI8Q,EAAS5uB,EAAKsP,QAAQ,GAAIvN,EAAEkzB,eAAiBlzB,EAAE3C,QAC/C,OAGJY,EAAK8pL,aAAe7mF,EAEpBA,EAAGtiG,iBACHsiG,EAAGtf,2BAEH3jF,EAAKsP,QAAQkgB,KAAK,IAAMkxE,IAAcxrF,YAAYwrF,IAElD,GAAKxhG,EAAQwwB,QAAUtwB,EAAOsW,GAAGxW,EAAQwwB,UAAaxwB,EAAQwwB,OAC1D,GAAIxwB,EAAQiqL,cAAe,CACvBnpL,EAAKsqG,MAAMprG,QAAQ8iG,OAASiB,EAAGjyD,cAC/BhxC,EAAK6oG,KAAK5F,EAAGjyD,mBACV,CACHhxC,EAAKsqG,MAAMprG,QAAQ8iG,OAASiB,EAAGjyD,cAE/B,GAAIhxC,EAAK+pL,aAAc,CACnBr2K,EAAS1T,EAAKZ,OAAOsU,SACrB1T,EAAK6oG,KAAK5F,EAAGztD,MAAQ9hC,EAAOgB,KAAMuuF,EAAGxtD,MAAQ/hC,EAAO8L,UAEpDxf,EAAK6oG,KAAK5F,EAAGztD,MAAOytD,EAAGxtD,SAMvCo1E,cAAe,SAAU9oH,GACrB,IAAI/B,EAAOP,KACPL,EAASzC,EAAEoF,EAAEkzB,eAAiBlzB,EAAE3C,QAChC4qL,EAAa5qL,EAAO4a,QAAQha,EAAKZ,OAAO0hB,UAAU,IAAM9gB,EAAKZ,OAAO,GACpEspC,EAAOtpC,EAAO4a,QAAQ4gK,GACtB95H,EAAW9gD,EAAK6kL,iBAAiBn8I,GACjC20I,EAAkBr9K,EAAKg/K,mBACvBiL,EAAcr7J,EAAS5uB,EAAKsP,QAAQ,GAAIlQ,EAAO,KAAQi+K,GAAmBzuJ,EAASyuJ,EAAgB,GAAIj+K,EAAO,IAElHY,EAAK8pL,aAAe/nL,EAEpB,IAAImoL,EAAcnoL,EAAEozC,QAAU,EAE9B,GAAIn1C,EAAKsqG,MAAMz4E,YAAeq4J,GAAeF,IAAgBA,KAAiBhqL,EAAKd,QAAQ0/K,eAAiB99H,GAAYmpI,IAAiBA,GACrI,GAAIA,EAAa,CACbxqL,KAAKiC,OAAOytC,EAAQ1vC,KAAKmqL,oBACzB5pL,EAAKgB,KAAKmuC,EAAQnvC,EAAK4pL,yBAEvB5pL,EAAK05C,SAKjBuvI,MAAO,WACH,IAAIjpL,EAAOP,KACPP,EAAUc,EAAKd,QACfE,EAASY,EAAKZ,OAElBY,EAAKmqL,cAAgB,KACrBnqL,EAAKopL,WAAappL,EAAK6pL,aAAa7oL,KAAKhB,GACzCA,EAAKqpL,YAAcrpL,EAAK6qH,cAAc7pH,KAAKhB,GAC3CA,EAAK4pL,mBAAqB5pL,EAAK05C,MAAM14C,KAAKhB,GAE1C,GAAIZ,EAAO,GAAI,CACX,GAAIrC,EAAMW,QAAQsgB,UAAY9e,EAAQozG,QAAU,cAAe,CAC3DtyG,EAAK2xC,WAAa,IAAI50C,EAAM+1C,WAAW1zC,EAAQ,CAC3CswB,OAAQxwB,EAAQwwB,OAChBkkB,eAAgB,QAGpB5zC,EAAKmqL,cAAgB,WAAa,OAAO,OAEzCnqL,EAAK2xC,WAAW3wC,KAAK,OAAQhB,EAAKopL,YAGtC,GAAIlqL,EAAQwwB,OACRtwB,EAAOymB,GAAG3mB,EAAQozG,OAAS/zB,EAAKv+E,EAAKgpL,QAAS9pL,EAAQwwB,OAAQ1vB,EAAKmqL,eAAiBnqL,EAAKopL,iBAEzFhqL,EAAOymB,GAAG3mB,EAAQozG,OAAS/zB,EAAKv+E,EAAKgpL,QAAShpL,EAAKmqL,eAAiBnqL,EAAKopL,cAKrF3G,cAAe,SAAS1gL,GACpB,IAAI/B,EAAOP,KACPuiG,EAASrlG,EAAEqD,EAAKsqG,MAAMprG,QAAQ8iG,QAAQ,GACtCptB,EAAS50E,EAAK8pL,aAElB9pL,EAAK8pL,aAAehtL,EAEpB,OAAOkD,EAAK8B,QAAQC,EAAEiF,KAAM/J,EAAO,CAAE+J,KAAMjF,EAAEiF,KAAM0hC,KAAM3mC,EAAE2mC,MAAQjpC,KAAK6P,QAAQ,GAAIlQ,OAAQ4iG,GAAUptB,EAAS,CAAE95D,MAAO85D,GAAW,MAGvI82C,OAAQ,WACJ,IAAI1rH,EAAOP,KACX,IAAI49K,EAAkBr9K,EAAKg/K,mBAE3Bh/K,EAAKoqL,cAAgBpqL,EAAKyiL,cAAczhL,KAAKhB,GAE7CA,EAAKsqG,MAAQtqG,EAAKsP,QACDqG,SAAS,kBACTslG,WAAW,CACRnmG,SAAU9U,EAAKd,QAAQo1F,cAAgB,aACvC0N,OAAQhiG,EAAKZ,QAAU,OACvBiqG,iBAAkBrpG,EAAKd,QAAQmqG,iBAC/B5N,UAAWz7F,EAAKd,QAAQ4/K,gBAAkB,MAC1Cl2E,UAAW5oG,EAAKd,QAAQ0pG,UACxBmM,SAAU/0G,EAAKoqL,cACfl6E,WAAYlwG,EAAKoqL,cACjBzlJ,SAAU04I,GAAmBr9K,EAAKd,QAAQylC,SAC1C+U,OAAQ2jI,EAAkB1gL,EAAEU,KAAO,SAAS0E,GACxCpF,EAAEwgL,GAAep7K,EAAEC,OAAOsN,QAAS+tK,IAAkBngL,KAAK,SAASoC,EAAGypJ,GAClE,IAAIz+C,EAAQy+C,EAAErlJ,KAAKy2K,IACnB,GAAI7vE,EACAA,EAAM5wD,MAAM,WAIzBh2C,KAAKy2K,IAExBn6K,EAAK+pL,aAAen7J,EAAS5uB,EAAKZ,OAAO,GAAIY,EAAKsqG,MAAMh7F,QAAQ,KAGpE23K,iBAAkB,SAAUv+I,EAAMy+I,GAC9B1nL,KAAKknL,WAAWj+I,EAAMy+I,GACtB1nL,KAAKi6C,SAGTqnD,OAAQ,SAAUh/F,GACd,IAAIuiL,EAAa7kL,KAAKklL,cAAgBllL,KAAK8kL,cAAgB,GAE3DnG,GAAKh+K,GAAG2gG,OAAO9+F,KAAKxC,KAAMsC,GAE1B,GAAImN,MAAoBnN,EAAEivC,cACtBvxC,KAAKknL,WAAWrC,EAAW7kL,KAAKwW,QAAQ6qC,WAAWl/C,YAUnE,OALI8kB,EAAG+J,OAAO2tJ,IACV13J,EAAG+J,OAAOs4J,IAIPlsL,OAAOE,QAlsFd,CAosFoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,iBAAiB,CAAE,cAC3B,WAEH,IAAIC,EAAW,CACXC,GAAI,WACJC,KAAM,WACNC,SAAU,MACVC,YAAa,wFACbotC,QAAS,CAAE,OAAQ,OAAQ,eAGrB7sC,EA6tDPE,OAAOE,MAAMH,OA7tDHE,OAAb,EACQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM2pB,GACXM,EAAOjqB,EAAMiqB,KACb/pB,EAASN,EAAEM,OACXC,EAAOP,EAAEO,KACTC,EAAUC,MAAMD,QAChBsG,EAAW1G,EAAM0G,SACjB8iB,EAASG,EAAGH,OACZ5P,EAAyB5Z,EAAM2G,KAAKiT,uBACpCsiK,EAAsB,gBACtB16F,EAAK,iBACL26F,EAAM,MACN7hE,EAAO,OACP5T,EAAO,SACP21E,EAAO,SACPiR,EAAe,IAAMjR,EACrB75H,EAAQ,QACR+qI,EAAO,UACPC,EACAC,EADQ,WACe,WACvBhR,EAAQ,UACRh2E,EAAQ,UACR95D,EAAS,SACT+gJ,EAAS,SACTt7I,EAAS,SACTixD,EAAQ,QACRsqF,EAAU,YACVjjF,EAAW,WACXkjF,EAAW,WACXzjB,EAAY,YACZhmD,EAAa,aACbD,EAAa,aACb1P,EAAc,cACdlzG,EAAY,YACZusL,EAAc,iBACdC,EAAS,aACTC,EAAW,eACX9sL,EAAS,SACTi7I,EAAe,kBACf8xC,EAAgB,mBAChB7xC,EAAgB,mBAChB8xC,EAAmB,IAAM9xC,EACzB+xC,EAAiB,oBACjBC,EAAqBZ,EAAO,0BAC5Ba,EAAiB,KAAOD,EAAqB,MAAQb,EAAe,gBAAkBa,EAAqB,MAAQb,EACnHe,EAAgBd,EAAO,8BACvBe,EAAkB,UAAYL,EAAmB,qBAAuBA,EACxEn0E,EAAgB,gBAChB4L,EAAgB,gBAChBC,EAAc,cACdG,EAAgB,gBAChB7a,GAAU,WACVtgG,GAAQ,SACR4jL,GAAS,SACTvmH,GAAW,CACPllC,KAAM,gBACNrX,IAAK,eACLm3E,eAAgB,0BAChBC,SAAU,qBAEd2rF,GACAnQ,GAAY,CACZ5+E,KAAM,SAAS9zD,GACX,IAAI9yB,EAAO,GAEX,GAAI8yB,EAAK5a,OAAS4a,EAAK4R,SAAW5R,EAAK8iJ,YAAc9iJ,EAAKszI,SACtDpmK,GAAQ6sG,EAAgB,MAAQ/5E,EAAKszI,SAAW,OAAS,SAAW,KAGxE,GAAItzI,EAAKjlB,UAAY,MACjB7N,GAAQihG,EAAgB,UAG5B,OAAOjhG,GAGfylK,gBAAiB,SAAUtxH,EAAOrhB,GAC9B,IAAI1/B,EAAS,SACT4F,EAAQ85B,EAAK95B,MAEjB5F,GAAU+gD,EAAMuxH,WAAa,qBAAuB,mBAEpD,GAAI5yI,EAAKjlB,UAAY,MACjBza,GAAU,IAAM+hL,OACb,GAAIriJ,EAAKszI,WAAa,KACzBhzK,GAAU,IAAM4hL,EAGpB,GAAIh8K,IAAU,EACV5F,GAAU,WAGd,GAAI4F,GAASm7C,EAAMxqD,OAAS,EACxByJ,GAAU,UAGd,GAAI0/B,EAAKjpB,SACLzW,GAAU,IAAM0/B,EAAKjpB,SAGzB,GAAIipB,EAAKg4B,MACL13D,GAAU,YAAc0/B,EAAKg4B,QAGjC,OAAO13D,GAGX6yK,UAAW,SAASnzI,GAChB,IAAI1/B,EAASowK,EAEb,GAAI1wI,EAAK++B,SACLz+D,GAAU,IAAMkwI,EAGpB,OAAOlwI,GAEXyiL,eAAgB,SAASjjK,GACrB,OAAOA,EAAM,UAAYA,EAAM,IAAM,IAEzCszJ,WAAY,SAASpzI,GACjB,IAAI1/B,EAAS,SAEbA,GAAU0/B,EAAKszI,SAAW,8DAAgE,8DAE1F,OAAOhzK,GAEX62B,KAAM,SAAS6I,GACV,OAAOA,EAAKo6D,UAAY,MAAQp6D,EAAK7I,KAAO9iC,EAAM8nB,WAAW6jB,EAAK7I,OAEvEk8I,gBAAiB,SAAShyH,GACtB,OAAOA,EAAMiyH,WAAa,KAAO,wBAA0B,IAE/D0P,WAAY,SAAS3hI,GACjB,OAAOA,EAAMiyH,WAAa,MAE9BC,cAAe,WACX,MAAO,oCAEX0P,kBAAmB,SAASrxI,GACxB,OAAOA,EAAQ5R,KAAKszI,WAAa,KAAO,wBAA0B,IAEtE1hI,QAAS,SAAS5R,GACd,OAAOA,EAAK4R,QAAU5R,EAAK4R,QAAU5R,EAAK8iJ,WAAa,GAAK,UAEhEA,WAAY,SAAS9iJ,GACjB,OAAOA,EAAK8iJ,WAAa,SAAW9iJ,EAAK8iJ,WAAa,IAAM,KAIhE,SAASjP,GAAiBzuJ,GACtBA,EAAQnxB,EAAEmxB,GAEVA,EAAM4B,OAAO,8BAA8Bxa,YAAYsuF,GACvD11E,EAAM4B,OAAO,4BAA4Bxa,YAAYuuF,GACrD31E,EAAM4B,OAAO,gBAAgB/Z,SAAS6tF,GACtC11E,EAAM4B,OAAO,eAAe/Z,SAAS8tF,GAGzC,SAASmoF,GAAaljJ,GAClBA,EAAO/rC,EAAE+rC,GAETA,EAAK/yB,SAAS,WAAa+yB,EAAKxH,aAAa,cAAe,MAAM3hC,QAGrE,SAASssL,GAAenjJ,GACrB,IAAIzyB,EAAUyyB,EACVqhB,EAAQrhB,EAAKoY,SAAS,MACtBgrI,EAAe71K,EAAQ6qC,SAAS,WAAWA,SAAS,WAExD,GAAIpY,EAAKvzB,SAAS,cACd,OAGJ,IAAK22K,EAAavsL,QAAUwqD,EAAMxqD,OAC9BusL,EAAenvL,EAAE,2BAA2BgoC,SAAS1uB,QAClD,IAAK8zC,EAAMxqD,SAAWwqD,EAAMjJ,WAAWvhD,OAAQ,CAClDusL,EAAat7J,SACbu5B,EAAMv5B,UAId+6J,GAAW,SAAS7iJ,GAChB,OAAOA,EAAKoY,SAAS,QAAQA,SAAS,YAG1C,IAAIirI,GAAWhvL,EAAM2pB,GAAG8G,gBAAgBvwB,OAAO,CAC3CiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACP66C,EACAojG,EAEL,GAAIvgJ,EAAQ+B,GACPA,EAAU,CAAEkrB,WAAYlrB,GAG5Bw+I,EAAgBx+I,KAAaA,EAAQkrB,WAErC7D,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCoQ,EAAUtP,EAAKiW,QAAUjW,EAAKsP,QAAQqG,SAAS,cAC/CzW,EAAUc,EAAKd,QAEf,GAAIoQ,EAAQ,GAAGrT,GACX+D,EAAKioK,QAAU34J,EAAQ,GAAGrT,GAAK,aAGnC+D,EAAK2qB,YAEL3qB,EAAKyjH,aAELzjH,EAAK6hE,cAEL7hE,EAAKmxH,aAELnxH,EAAK++K,UAAUrhC,GAEf19I,EAAKq+K,iBAELr+K,EAAKs+K,YAAYp/K,GAEjBoQ,EACKuW,GAAGu6E,EAAQ7hB,EAAI4sG,EAAgBnrL,EAAKu1C,OAAOv0C,KAAKhB,IAChD6lB,GAAGq7F,EAAc3iC,EAAK,IAAM0iC,EAAa1iC,EAAI4sG,EAAgBnrL,EAAK2rH,cAClE9lG,GAAGu6E,EAAQ7hB,EAAI6sG,EAAe,OAC9BvlK,GAAGu6E,EAAQ7hB,EAAI,mBAAoBv+E,EAAKgsL,cAAchrL,KAAKhB,IAC3D6lB,GAAG,UAAY04D,EAAIv+E,EAAKihG,SAASjgG,KAAKhB,IACtC6lB,GAAG,QAAU04D,EAAI,WACd,IAAI71C,EAAO1oC,EAAKs/B,SAChBt/B,EAAK4sH,SAASlkF,EAAK,GAAKA,EAAO1oC,EAAKisL,YAEvCpmK,GAAG,OAAS04D,EAAI,WACbv+E,EAAK4sH,SAAS,QAEjBh3G,KAAK,OAAQ,QAElB0kC,EAAUhrC,EAAQkgB,KAAK,MAAQo7J,EAAc,OAASF,GAEtD,GAAIpwI,EAAQ,GACRt6C,EAAKksL,OAAO5xI,EAAQtlC,SAAU,OAGlC,IAAK9V,EAAQkrB,WACTpqB,EAAKmsL,kBAGTpvL,EAAMoxB,OAAOnuB,IAGjByB,OAAQ,CACJgpL,EACAE,EACAx7I,EACAs4D,EACA/9D,EACA6V,EACA2nH,EACA31D,GAEJryG,QAAS,CACLhD,KAAM,WACNkuB,WAAY,GACZw+E,UAAW,CACPsjF,OAAQ,CACJzpK,QAAS,kBACTI,SAAU,KAEdsc,SAAU,CACNtc,SAAU,MAGlBkE,SAAU,CACNuJ,QAAS,aACT87J,cAAe,kBACfC,MAAO,SAEXplH,SAAU,KACVqlH,aAAc,KACdC,WAAY,WACZ9oL,SAAU,GACV4kE,cAAe,MAGnB8jH,gBAAiB,WACb,IAAInsL,EAAOP,KACXO,EAAKmqB,QAAQ,UAAW,WACpB,MAAO,CACH0D,SAAU7tB,EAAKsP,QAAQwxC,SAAS,MAChCp9C,KAAM,CAAC,CAAEqqB,SAAU/tB,EAAKd,QAAQ2+E,eAK5C2uG,wBAAyB,SAAS7oL,EAAMmqB,GACpC,IAAI9tB,EAAOP,KACXO,EAAKmqB,QAAQ,UAAW,WACpB,MAAO,CACH0D,SAAUlqB,EACVD,KAAM/G,EAAEgU,IAAImd,EAAO,SAAS4a,GACxB,MAAO,CAAC,CAAE3a,SAAU2a,UAMpC+jJ,gBAAiB,WACb,IAAIzsL,EAAOP,KAEXO,EAAKmqB,QAAQ,UAAW,WACpB,MAAO,CAAE0D,SAAU7tB,EAAKsP,QAAQwxC,SAAS,UAIjDp1B,QAAS,WACLnF,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,MAEvBA,KAAK6P,QAAQwjB,IAAIyrD,GAEjB9+E,KAAKgtL,kBAEL1vL,EAAM2uB,QAAQjsB,KAAK6P,UAGvByvK,UAAW,SAASrhC,GAChB,IAAI19I,EAAOP,KAEX,GAAIi+I,EAAe,CACf19I,EAAKsP,QAAQ8xC,QACZ,GAAIphD,EAAKd,QAAQ+nE,SAAU,CACxBjnE,EAAKkpK,UAAU,MAEflpK,EAAKoqB,WAAW8wC,WAK5Bi2D,WAAY,WACR,IAAInxH,EAAOP,KACPP,EAAUc,EAAKd,QACfspL,EAAgBxoL,EAAKsoL,eAAetnL,KAAKhB,GAE3C,GAAId,EAAQuE,iBAAmBvE,EAAQuE,UAAYzF,EAC7CkB,EAAQuE,SAAWA,EAASvE,EAAQuE,eACnC,IAAKvE,EAAQuE,SACbvE,EAAQuE,SAAWA,EAChB,gBAAkB+kL,EAAc,QAAU,iBAC1C,mFACI,sDACJ,eACI,sDACJ,SAIZxoL,EAAK+hG,UAAY,CACbznD,QAAS72C,EACL,kGAEJsmD,MAAOtmD,EACH,sHACI,yBACJ,SAEJglL,YAAahlL,EACR,eAAiB+kL,EAAc,OAAS,YACxC,oBAAsBA,EAAc,YAAc,YAClD,0BAA4BA,EAAc,kBAAoB,YAC9D,yCACA,gDAED,kFACI,sBACM,0EACN,QAEA,4BACI,qDACJ,QACF,4CACA,mBACF,eAGJ9/I,KAAMjlC,EACF,6EACK1G,EAAM6Y,KAAK,OAAS,oBACrB,yBACA,iDACA,+FACA,oDACA,2BACA,QACJ,SAEJ0a,QAAS7sB,EAAS,+FAClB4oL,MAAO5oL,EACH,sBACI,oCACA,4KACJ,SAEJyvG,MAAOzvG,EAAS,+CAChB29C,MAAO39C,EAAS,MAIxBsnB,WAAY,SAAS7rB,GACjB,IAAI0pG,EAAYnpG,KAAKP,QAAQ0pG,UAE7BnpG,KAAK6+K,YAAYp/K,GAEjBA,EAAQ0pG,UAAY3rG,EAAO,KAAM2rG,EAAW1pG,EAAQ0pG,WAEpD,GAAI,eAAgB1pG,EAChBO,KAAK2mG,cAAclnG,EAAQkrB,YAG/B7D,EAAOnmB,GAAG2qB,WAAW9oB,KAAKxC,KAAMP,IAGpCgtL,OAAQ,SAAU58K,EAASo9K,GACvB,IAAI1sL,EAAOP,KACPktL,EAAa,GAEjBr9K,EAAU7P,KAAK6P,QAAQkgB,KAAKlgB,GAE5B,GAAItP,EAAK4sL,YAAct9K,EAAQkgB,KAAK,MAAM9Z,GAAG,YAAa,CACtD1V,EAAKmB,IAAI,WAAY,WACjByxB,WAAW,WACP5yB,EAAKksL,OAAO58K,OAGpB,OAEJtP,EAAK4sL,WAAa,KAElBF,EAAeA,IAAiB,MAEhCp9K,EAAQpS,KAAK,SAAU0R,EAAO85B,GAC1BA,EAAO/rC,EAAE+rC,GACT,IAAIzyB,EAAU3G,EAAQwxC,SAAS,uBAE/B,IAAK7qC,EAAQ1W,OACT0W,EAAWjW,EAAK6sL,iBAAiBv9K,GAGpC,IAAIg0B,EAASrtB,EAAQuN,IAAIklB,EAAKlZ,KAAKs7J,IAEpC,IAAKpiJ,EAAKvzB,SAAS41K,IAAkBznJ,EAAO/jC,OAAS,EAAG,CAEpD,GAAIS,EAAKd,QAAQqtL,YAAcjB,IAAUtrL,EAAK8sL,qBAAqBpkJ,GAC/D,OAAO1oC,EAGXsP,EAAQkgB,KAAK,IAAMy7J,GAAgB/1K,YAAY+1K,GAC/CviJ,EAAK/yB,SAASs1K,GAEd,IAAKyB,EAAc,CACfC,EAAa3sL,EAAKd,QAAQ0pG,UAC1B5oG,EAAKd,QAAQ0pG,UAAY,CAAEsjF,OAAQ,CAAEzpK,QAAS,IAAM0c,SAAU,CAAEnc,KAAM,KAAMP,QAAS,KAGzF,IAAKziB,EAAKyiL,cAAcgI,EAAQ/hJ,GAC5B1oC,EAAK+sL,YAAYrkJ,EAAM,MAAO,OAGlC,IAAKgkJ,EACD1sL,EAAKd,QAAQ0pG,UAAY+jF,KAKrC,OAAO3sL,GAGXm/B,SAAU,SAAU7vB,EAASo9K,GACzB,IAAI1sL,EAAOP,KACPktL,EAAa,GAEjB3sL,EAAK4sL,WAAa,KAElBF,EAAeA,IAAiB,MAChCp9K,EAAUtP,EAAKsP,QAAQkgB,KAAKlgB,GAE5BA,EAAQpS,KAAK,SAAU0R,EAAO85B,GAC1BA,EAAO/rC,EAAE+rC,GACT,IAAIpF,EAASoF,EAAKlZ,KAAKq7J,GAAQrnK,IAAIklB,EAAKlZ,KAAKs7J,IAE7C,IAAKpiJ,EAAKvzB,SAAS41K,IAAkBznJ,EAAO5tB,GAAGsyF,IAAU,CACrDt/D,EAAKxzB,YAAY+1K,GAEjB,IAAKyB,EAAc,CACfC,EAAa3sL,EAAKd,QAAQ0pG,UAC1B5oG,EAAKd,QAAQ0pG,UAAY,CAAEsjF,OAAQ,CAAEzpK,QAAS,IAAM0c,SAAU,CAAEnc,KAAM,KAAMP,QAAS,KAGzF,IAAKziB,EAAKyiL,cAAckI,EAAUjiJ,GAC9B1oC,EAAK+sL,YAAYrkJ,EAAM,MAG3B,IAAKgkJ,EACD1sL,EAAKd,QAAQ0pG,UAAY+jF,KAKrC,OAAO3sL,GAGVs8K,YAAa,SAASxuJ,GACf,IAAI9tB,EAAOP,KAEXquB,EAAQnxB,EAAEmxB,GACVA,EAAMgzB,SAASupI,GAAcvpI,SAAS,4CAA4CtwB,SAElF1C,EACK4B,OAAO,WACJ,IAAI3B,EAAW/tB,EAAK+tB,SAAStuB,MAE7B,IAAKsuB,EACD,OAAOpxB,EAAE8C,MAAM+vB,KAAK,YAAYjwB,OAAS,GACrC5C,EAAE8C,MAAM+vB,KAAK,cAAcjwB,OAAS,EAG5C,OAAOwuB,EAASiyC,aAAejyC,EAASusB,SAAWvsB,EAASy9J,aAE/D1qI,SAAS,yCACT5jD,KAAK,WACF,IAAIwrC,EAAO/rC,EAAE8C,MACTuV,EAAS0zB,EAAK1zB,SAElB0zB,EAAK83B,OAAO,wBAA0BxrD,EAAOG,SAASy1K,GAAe,8DAAgE,+DAAiE,UAItNnnE,WAAY,WACR,IAAIzjH,EAAOP,KACPP,EAAUc,EAAKd,QACfI,EAAGghB,EAAOkhD,EACVlyD,EAAUtP,EAAKsP,QAEnB,IAAKhQ,KAAKylE,GAAU,CAChBzkD,EAAQphB,EAAQ6lE,GAASzlE,IACzBkiE,EAAYlyD,EAAQsG,KAAK7Y,EAAM6Y,KAAKtW,EAAI,WAExC,IAAKghB,GAASkhD,EACVlhD,EAAQkhD,EAGZ,IAAKlhD,EACDA,EAAQhhB,EAGZ,IAAKnC,EAAQmjB,GACTA,EAAQ,CAACA,GAGbphB,EAAQ6lE,GAASzlE,IAAMghB,IAI/B4oJ,UAAW,SAASxgI,EAAMskJ,GACtB,IAAI19K,EAAU7P,KAAK6P,QACnB,IAAI29K,EAAcxtL,KAAKsiG,UAAUzxE,QAAQ,CAAEvJ,SAAUtnB,KAAKP,QAAQ6nB,WAElE,GAAI1nB,UAAUE,QAAU,EAAG,CACvBytL,EAAetkJ,EAEf,GAAIskJ,EACA19K,EAAQ3L,KAAKspL,QAEb39K,EAAQ8xC,aAIZmqI,GAAS7iJ,GAAMplB,YAAY,cAAe0pK,GAAc93K,YAAY,gBAI5Eg4K,aAAc,SAASp/J,GACnB,IAAI9tB,EAAOP,KACX,IAAIuV,EAAShV,EAAKsP,QAClB,IAAK2yK,EAAY,CACb3G,WAAY,KACZU,SAAU,KACVz8K,OAAQyV,EAAO8rC,WAAWvhD,QAG9BE,KAAK6P,QAAQ8xC,QAEb,IAAI+rI,EAAgBxwL,EAAEgU,IAAImd,EAAO,SAAS/mB,EAAO3F,GACzC,UAAW2F,IAAU,SACjB,OAAOpK,EAAEoK,OACN,CACHA,EAAM+mB,MAAQ,GACd,OAAOnxB,EAAEqD,EAAKmiL,WAAW,CACrBp4H,MAAOk4H,EACPv5I,KAAMzrC,EAAO8J,EAAO,CAAE6H,MAAOxN,UAK7C3B,KAAK6P,QAAQkxD,OAAO2sH,GACpB,IAAIt/J,EAAWpuB,KAAK6P,QAAQwxC,SAAS,WACrC,IAAK,IAAIxhD,EAAI,EAAGA,EAAIwuB,EAAMvuB,OAAQD,IAC9BG,KAAKqC,QAAQ,aAAc,CACvB4mC,KAAM7a,EAAS0D,GAAGjyB,GAAGkwB,KAAK,WAAW5tB,QACrC8B,KAAMoqB,EAAMxuB,GACZgpB,GAAI5B,IAGZjnB,KAAK+sL,wBAAwBW,EAAer/J,IAGhDs/J,iBAAkB,SAAS1kJ,EAAMznB,GAC7B,IAAI3hB,EAAGwhD,EAAUpkB,EAEjBzb,EAAW6/B,SAAS,YAAYM,QAChC,IAAItzB,EAAQ4a,EAAKoY,SAASp9C,OAC1B,IAAKoqB,EAAMvuB,OAAQ,CACfssL,GAAe5qK,GACf6/B,EAAW7/B,EAAW6/B,SAAS,YAAYA,SAAS,MACpDrhD,KAAK+sL,wBAAwB1rI,EAAUhzB,OACpC,CACHruB,KAAK+gE,OAAO93B,EAAKoY,SAAU7/B,GAE3B,GAAGxhB,KAAKP,QAAQotL,aACZ7sL,KAAK4tL,aAAapsK,EAAW6/B,SAAS,YAAa,OAEvDA,EAAW7/B,EAAW6/B,SAAS,YAAYA,SAAS,MAEpD,IAAKxhD,EAAI,EAAGA,EAAIwhD,EAASvhD,OAAQD,IAAK,CAClCo9B,EAAQokB,EAASvvB,GAAGjyB,GACpBG,KAAKqC,QAAQ,aAAc,CACvB4mC,KAAMhM,EAAMlN,KAAK,WAAW5tB,QAC5B8B,KAAMjE,KAAKsuB,SAAS2O,GACpBpU,GAAI5B,OAMpBqhK,UAAW,SAAS/lI,GAChB,IAAIl0B,EAAQruB,KAAK6P,QAAQkgB,KAAK,WAC9B,IAAI89J,EAAUvwL,EAAM6Y,KAAK,OACzB,IAAI5M,EAEJ,IAAK,IAAI1J,EAAI,EAAGA,EAAIwuB,EAAMvuB,OAAQD,IAC9B,GAAIwuB,EAAMxuB,GAAGmvB,aAAa6+J,IAAYtrI,EAAK,CACvCh5C,EAAS8kB,EAAMxuB,GACf,MAIR,OAAO3C,EAAEqM,IAGbuQ,QAAS,SAASxX,GACd,IAAI7C,EAAUO,KAAKP,QACnB,IAAIg9B,EAAOn6B,EAAEm6B,KACb,IAAIsI,EAASziC,EAAEyiC,OACf,IAAI1W,EAAQ/rB,EAAE+rB,MACd,IAAI7M,EAAaxhB,KAAKwW,QACtB,IAAIq2K,EAAeptL,EAAQotL,aAE3B,GAAIvqL,EAAEue,MAAO,CACT,IAAKwN,EAAM,KAAOA,EAAM,GAAG4yC,MACvB,OAGJ,OAAOjhE,KAAK8tL,aAAaz/J,EAAO/rB,EAAEue,OAGtC,GAAI4b,EAAM,CACNjb,EAAaxhB,KAAKsoL,UAAU7rJ,EAAK8lB,KACjCviD,KAAKypK,UAAUjoJ,EAAY,OAE/B,GAAIujB,GAAU,MACV/kC,KAAK4oL,aAAatmL,EAAE6M,MAAOkf,EAAO7M,QAC/B,GAAIujB,GAAU,SACjB/kC,KAAK+wB,OAAO/wB,KAAKsoL,UAAUj6J,EAAM,GAAGk0B,WACjC,GAAIxd,GAAU,aACjB/kC,KAAK8tL,aAAaz/J,QACf,GAAI0W,GAAU,aACjB/kC,KAAK2tL,iBAAiBlxJ,EAAMjb,QAE5BxhB,KAAKytL,aAAap/J,GAGtB,GAAI0W,GAAU,SACV,IAAK,IAAI79B,EAAI,EAAGA,EAAImnB,EAAMvuB,OAAQoH,IAE9B,IAAK2lL,GAAgBx+J,EAAMnnB,GAAGq1K,SAAU,CACpC,IAAIwR,EAAW1/J,EAAMnnB,GACrB,GAAIlH,KAAKguL,eAAeD,GAChBA,EAAS5sH,OAM7BnhE,KAAKqC,QAAQolK,EAAW,CAAEhrI,KAAMA,EAAOjb,EAAankB,KAGxDqsK,OAAQ,SAASpnK,GACb,IAAIm6B,EAAOn6B,EAAEm6B,MAAQz8B,KAAKsoL,UAAUhmL,EAAEm6B,KAAK8lB,KAC3C,IAAI0rI,EAAYjuL,KAAKsiG,UAAUsqF,MAAM,CAAEtlK,SAAUtnB,KAAKP,QAAQ6nB,WAE9D,GAAImV,EAAM,CACNz8B,KAAKypK,UAAUhtI,EAAM,OACrBz8B,KAAKkuL,UAAUzxJ,EAAM,OACrBqvJ,GAASrvJ,GAAMvmB,SAAS,eACxB5T,EAAEm6B,KAAKukC,OAAO,WACX,CACHhhE,KAAKypK,UAAU,OACfzpK,KAAK6P,QAAQ3L,KAAK+pL,KAI1B1B,cAAe,SAASjqL,GACpBA,EAAEpB,iBAEFlB,KAAK2qB,WAAW8wC,SAGnBptC,MAAO,WACJ,OAAOruB,KAAK6P,QAAQkgB,KAAK,+BAG7B42E,cAAe,SAASh8E,GACpB,IAAIlrB,EAAUO,KAAKP,QAEnBA,EAAQkrB,WAAaA,EAErB3qB,KAAKoiE,cAEL,GAAIpiE,KAAKP,QAAQ+nE,SAAU,CACvBxnE,KAAKypK,UAAU,MACfzpK,KAAK2qB,WAAW8wC,UAIxB6zG,gBAAiB,WACbtvK,KAAKklG,gBAAkBllG,KAAK8Z,QAAQvY,KAAKvB,MACzCA,KAAK8sH,cAAgB9sH,KAAK0pK,OAAOnoK,KAAKvB,MAEtCA,KAAK2qB,WAAWppB,KAAK0oC,EAAQjqC,KAAKklG,iBAClCllG,KAAK2qB,WAAWppB,KAAKu+C,EAAO9/C,KAAK8sH,gBAGrC1D,kBAAmB,WACf,IAAIz+F,EAAa3qB,KAAK2qB,WAEtB,GAAIA,EAAY,CACZA,EAAW1oB,OAAOgoC,EAAQjqC,KAAKklG,iBAC/Bv6E,EAAW1oB,OAAO69C,EAAO9/C,KAAK8sH,iBAKtC+7D,eAAgB,SAAStlI,GACrB,IAAIulI,EAAgB9oL,KAAKP,QAAQ6lE,GAAS/hB,KAAe,GACrDrwC,EAAQ41K,EAAchpL,OACtByJ,EAAS,oBAEb,GAAI2J,IAAU,EACV3J,GAAU,gBAAkBg6C,EAAY,UACrC,CACHh6C,GAAU,iBACErM,EAAEgU,IAAI43K,EAAe,SAAS7qJ,GAC1B,MAAO,uBAAyB3gC,EAAM0rB,KAAKiV,GAAK,MACjDn7B,KAAK,KAAO,KAC3ByG,GAAU,uDAAyD2J,EAAQ,mBAC3E3J,GAAU,kBAAmB2J,EAAQ,aAGzC3J,GAAU,KAEV,OAAOA,GAGX64D,YAAa,WACT,IAAI7hE,EAAOP,KACPP,EAAUc,EAAKd,QACfkrB,EAAalrB,EAAQkrB,WAEzB,IAAKA,EACD,OAGJA,EAAajtB,EAAQitB,GAAc,CAAE1mB,KAAM0mB,GAAeA,EAE1DpqB,EAAK6oH,oBAEL,IAAKz+F,EAAWuzB,OACZvzB,EAAWuzB,OAAS,CAChB,CAAEr9B,MAAO,QACT,CAAEA,MAAO,OACT,CAAEA,MAAO,kBACT,CAAEA,MAAO,aAIjBtgB,EAAKoqB,WAAazT,EAAuBgmC,OAAOvyB,GAEhDpqB,EAAK+uK,mBAGTsZ,aAAc,SAASz5K,EAAOkf,EAAO7M,GACjC,IAAIjhB,EAAOP,KAAMqhD,EAAU7qC,EAEzB,GAAIgL,EAAW9L,SAAS,cAAe,CACnC2rC,EAAW7/B,EAAW6/B,SAAS,MAC/B7qC,EAAUgL,MACP,CACHhL,EAAUgL,EAAW6/B,SAAS,YAC9B,IAAK7qC,EAAQ1W,OACT0W,EAAWjW,EAAK6sL,iBAAiB5rK,GAGrC6/B,EAAW7qC,EAAQ6qC,SAAS,MAGjC,IAAKmhI,EAAY,CACd3G,WAAYr6J,EAAW9L,SAAS,cAChC6mK,SAAU,KACVz8K,OAAQuhD,EAASvhD,QAGpB,IAAIquL,EAAYjxL,EAAEgU,IAAImd,EAAO,SAAS/mB,EAAO3F,GACtC,UAAW2F,IAAU,SACjB,OAAOpK,EAAEoK,QAET,OAAOpK,EAAEqD,EAAKmiL,WAAW,CACrBp4H,MAAOk4H,EACPv5I,KAAMzrC,EAAO8J,EAAO,CAAE6H,MAAOxN,SAK3C,UAAWwN,GAASvQ,EACfuQ,EAAQkyC,EAASvhD,OAGtB,IAAK,IAAID,EAAI,EAAGA,EAAIsuL,EAAUruL,OAAQD,IAClC,GAAIwhD,EAASvhD,SAAW,GAAKqP,IAAU,EACnCqH,EAAQuqD,OAAOotH,EAAUtuL,SAExBsuL,EAAUtuL,GAAGwlF,YAAYhkC,EAASlyC,EAAQ,IAIrD5O,EAAKwsL,wBAAwBoB,EAAW9/J,GACtC,GAAI9tB,EAAK+tB,SAAS9M,GAAa,CAC3BjhB,EAAK+tB,SAAS9M,GAAY++C,YAAc,KACxChgE,EAAKs8K,YAAYr7J,KAI3BssK,aAAc,SAAUz/J,EAAOxN,GAC3B,IAAItgB,EAAOP,KACX,IAAIH,EAAG48B,EAAM2xJ,EAAanlJ,EAC1B,IAAI/S,EAAU,CAAEm4J,SAAU9tL,EAAKd,QAASwpC,KAAMA,EAAMqhB,MAAO,IAC3D,IAAIvmD,EAAS8c,GAAS,WAEtB,GAAIA,GAAS,WACT,GAAGwN,EAAM,GAAGxN,GAAO,CACf,IAAIytK,EAAc/tL,EAAK+nL,UAAUj6J,EAAM,GAAGk0B,KAE1C,IAAK+rI,EAAY54K,SAAS41K,GACtB/qL,EAAKs/B,OAAOyuJ,EAAa,WAG7B/tL,EAAKqrK,qBAEN,CACH,IAAIx9I,EAAWlxB,EAAEgU,IAAImd,EAAO,SAAS4a,GACjC,OAAO1oC,EAAK+nL,UAAUr/I,EAAKsZ,OAG/B,GAAIx+C,EACAxD,EAAKmqB,QAAQ,UAAW,WAAa,MAAO,CAAE0D,SAAUA,KAG5D,IAAKvuB,EAAI,EAAGA,EAAIwuB,EAAMvuB,OAAQD,IAAK,CAC/Bq2B,EAAQ+S,KAAOA,EAAO5a,EAAMxuB,GAC5Bq2B,EAAQm4J,SAAW9tL,EACnB6tL,EAAchgK,EAASvuB,GACvB48B,EAAO2xJ,EAAY74K,SACnB,GAAIxR,EAAQ,CACRmyB,EAAQo0B,MAAQ,CACZuxH,WAAYp/I,EAAK/mB,SAAS,cAC1B6mK,SAAU6R,EAAY74K,SAASG,SAASy1K,GACxCrrL,OAAQsuL,EAAY/sI,WAAWvhD,QAGnCsuL,EAAY/sI,SAAS,WAAWtwB,SAChCq9J,EAAYt8F,QAAQvxF,EAAK+hG,UAAU0mF,YAAYxrL,EAAO04B,EAClD,CACIu9E,MAAOxqE,EAAKs3B,aAAet3B,EAAK4R,SAAW5R,EAAK8iJ,WAAaxrL,EAAK+hG,UAAUmR,MAAQlzG,EAAK+hG,UAAU3gD,OAEvGg6H,MAGR,GAAI96J,GAAS,WACTtgB,EAAK+sL,YAAYc,GAAcnlJ,EAAKpoB,GAAQooB,EAAKpoB,GAAS,OAAQ,WAC/D,GAAIA,GAAS,UAAW,CAC3BtgB,EAAK6jB,OAAOgqK,EAAanlJ,EAAKpoB,IAC7B,IAAKooB,EAAKpoB,GACP,GAAIooB,EAAK++B,SACL/+B,EAAK1f,IAAI,WAAY,OAKjC,GAAI6kK,EAAYtuL,OACZE,KAAKqC,QAAQ,aAAc,CAAE4mC,KAAMmlJ,EAAYr+J,KAAK,WAAW5tB,QAAS8B,KAAMglC,EAAMpgB,GAAI5B,IAIhG,GAAIljB,EACAxD,EAAKmqB,QAAQ,UAAW,WACpB,MAAO,CACH0D,SAAUA,EACVnqB,KAAM/G,EAAEgU,IAAImd,EAAO,SAAS4a,GACxB,MAAO,CAAC,CAAE3a,SAAU2a,WAQ5Cg5I,gBAAiB,SAASpyK,EAASuU,GAC/BvU,EAAU7P,KAAK6P,QAAQkgB,KAAKlgB,GAC5BA,EACKgU,YAAYynK,GAAgBlnK,GAC5BjO,KAAKihG,GAAgBhzF,IAG/BkK,SAAU,SAAS2a,GACd,IAAIsZ,EAAMrlD,EAAE+rC,GAAM1uB,QAAQswK,GAAM10K,KAAK7Y,EAAM6Y,KAAK,QAC5CwU,EAAa3qB,KAAK2qB,WAEtB,OAAOA,GAAcA,EAAWioC,SAASrQ,IAG9C1iB,OAAQ,SAAUhwB,EAAS0+K,GACvB,IAAIhuL,EAAOP,KAEV,GAAI6P,IAAYxS,EACZ,OAAOkD,EAAKsP,QAAQkgB,KAAK67J,GAAiBr2K,SAG9C1F,EAAUtP,EAAKsP,QAAQkgB,KAAKlgB,GAE5B,IAAKA,EAAQ/P,OACTE,KAAKwuL,gBAAgB3+K,QAErBA,EACKpS,KAAK,WACF,IAAIwrC,EAAO/rC,EAAE8C,MACT6mF,EAAO59C,EAAKoY,SAASupI,GAEzB,GAAI3hJ,EAAKvzB,SAAS41K,GACd,OAAO/qL,EAGXA,EAAKiuL,gBAAgB3nG,EAAM0nG,KAIvC,OAAOhuL,GAGXqrK,eAAgB,WACZ5rK,KAAK6/B,OAAO3iC,MAGhBknB,OAAQ,SAAUvU,EAAS45C,GACvBzpD,KAAKiiL,gBAAgBpyK,EAAS45C,IAAU,OAExC,OAAOzpD,MAGXkkB,QAAS,SAAUrU,GACf7P,KAAKiiL,gBAAgBpyK,EAAS,OAE9B,OAAO7P,MAGX+gE,OAAQ,SAAU93B,EAAMk5I,GACpBA,EAAgBniL,KAAK6P,QAAQkgB,KAAKoyJ,GAElC,IAAIC,EAAWpiL,KAAKqiL,QAAQp5I,EAAMk5I,EAAeA,EAAcriL,OAASqiL,EAAcpyJ,KAAKq7J,GAAU,MAErG3tL,EAAK2kL,EAAS/zJ,MAAO,WACjB+zJ,EAAS93H,MAAMyW,OAAO/gE,MACtB88K,GAAgB98K,MAChBmsL,GAAYnsL,QAGhBA,KAAK68K,YAAYsF,GACjBrF,GAAgBsF,EAAS93H,MAAMv6B,KAAK,sBACpCqyJ,EAAS93H,MAAMz0C,OAAO,QAEtB,OAAO7V,MAGX4nE,aAAc,SAAU3+B,EAAMk5I,GAC1BA,EAAgBniL,KAAK6P,QAAQkgB,KAAKoyJ,GAElC,IAAIC,EAAWpiL,KAAKqiL,QAAQp5I,EAAMk5I,EAAeA,EAAc5sK,UAE/D9X,EAAK2kL,EAAS/zJ,MAAO,WACjB8zJ,EAAc5qF,OAAOv3F,MACrB88K,GAAgB98K,MAChBmsL,GAAYnsL,QAGhB88K,GAAgBqF,GAChBC,EAAS93H,MAAMz0C,OAAO,QAEtB,OAAO7V,MAGXqlF,YAAa,SAAUp8C,EAAMk5I,GACzBA,EAAgBniL,KAAK6P,QAAQkgB,KAAKoyJ,GAElC,IAAIC,EAAWpiL,KAAKqiL,QAAQp5I,EAAMk5I,EAAeA,EAAc5sK,UAE/D9X,EAAK2kL,EAAS/zJ,MAAO,WACjB8zJ,EAAcllG,MAAMj9E,MACpB88K,GAAgB98K,MAChBmsL,GAAYnsL,QAGhB88K,GAAgBqF,GAChBC,EAAS93H,MAAMz0C,OAAO,QAEtB,OAAO7V,MAGX+wB,OAAQ,SAAUlhB,GACdA,EAAU7P,KAAK6P,QAAQkgB,KAAKlgB,GAE5B,IAAItP,EAAOP,KACPuV,EAAS1F,EAAQ4xB,aAAalhC,EAAKsP,QAASg7K,GAC5CvgI,EAAQz6C,EAAQ0F,OAAO,MAE3B1F,EAAQkhB,SAER,GAAIu5B,IAAUA,EAAM50C,SAAS,gBAAkB40C,EAAMjJ,SAASwpI,GAAM/qL,OAChEwqD,EAAMv5B,SAGV,GAAIxb,EAAOzV,OAAQ,CACfyV,EAASA,EAAOuc,GAAG,GAEnBvxB,EAAKs8K,YAAYtnK,GACjBunK,GAAgBvnK,GAGpB,OAAOhV,GAGXw9E,OAAQ,SAAUluE,GACd,IAAItP,EAAOP,KACX6P,EAAUtP,EAAKsP,QAAQkgB,KAAKlgB,GAE5BA,EAAQpS,KAAK,WACT,IAAIwrC,EAAO/rC,EAAE8C,MAEbO,EAAK20G,aAAajsE,EAAMA,EAAKoY,SAAS,IAAM4pI,IAAWhiJ,EAAKhzB,GAAGsyF,QAIvEikF,OAAQ,WACJ,OAAOxsL,KAAK6P,QAAQwxC,SAASoqI,GAAoBtpL,SAGrDyvI,MAAO,WACH,IAAI3oG,EAAOjpC,KAAK6P,QAAQwxC,SAASoqI,GAAoBxxJ,OACjDqwB,EAAQrhB,EAAKoY,SAAS0pI,GAE1B,GAAIzgI,EAAM,GACN,OAAOA,EAAMjJ,SAASoqI,GAAoBxxJ,OAE9C,OAAOgP,GAGXkkF,SAAU,SAASvQ,GACf,IAAIr8G,EAAOP,KACPyuL,EAAUluL,EAAKikH,SACfhoH,EAAK+D,EAAKioK,QAEd,GAAI5rD,IAAcv/G,EACd,OAAOoxL,EAGXluL,EAAKsP,QAAQwb,WAAW,yBAExB,GAAIojK,GAAWA,EAAQ3uL,OAAQ,CAC3B,GAAI2uL,EAAQ,GAAGjyL,KAAOA,EAClBiyL,EAAQpjK,WAAW,MAGvBojK,EACKptI,SAASupI,GACTn1K,YAAY+jI,GAGrB,GAAIt8I,EAAE0/G,GAAW98G,OAAQ,CACrBtD,EAAKogH,EAAU,GAAGpgH,IAAMA,EAExBogH,EAAUzmG,KAAK,KAAM3Z,GACX6kD,SAASupI,GACT10K,SAASsjI,GAEnBj5I,EAAKsP,QAAQsG,KAAK,wBAAyB3Z,GAG/C+D,EAAKikH,SAAW5H,GAGpBpb,SAAU,SAASl/F,GACf,IAAI/B,EAAOP,KACPgH,EAAM1E,EAAE8+B,QACRv4B,EAAUtI,EAAK4sH,WAEnB,GAAI7qH,EAAE3C,QAAU2C,EAAEivC,cACd,OAGJ,GAAIvqC,GAAOugB,EAAKU,MAAQjhB,GAAOugB,EAAKS,MAAO,CACvCznB,EAAK4sH,SAAS5sH,EAAKguH,UAAU1lH,IAC7BvG,EAAEpB,sBACC,GAAI8F,GAAOugB,EAAKQ,IAAM/gB,GAAOugB,EAAKO,KAAM,CAC3CvnB,EAAK4sH,SAAS5sH,EAAKkuH,UAAU5lH,IAC7BvG,EAAEpB,sBACC,GAAI8F,GAAOugB,EAAKK,OAAS5gB,GAAOugB,EAAKa,SAAU,CAClD7nB,EAAKu1C,OAAOxzC,GACZA,EAAEpB,sBACC,GAAI8F,GAAOugB,EAAKY,KAAM,CACzB5nB,EAAK4sH,SAAS5sH,EAAKisL,UACnBlqL,EAAEpB,sBACC,GAAI8F,GAAOugB,EAAKW,IAAK,CACxB3nB,EAAK4sH,SAAS5sH,EAAKqxI,SACnBtvI,EAAEpB,mBAIVqtH,UAAW,SAAStlF,GAChB,IAAKA,EACD,OAAOjpC,KAAKwsL,SAGhB,IAAIliI,EAAQrhB,EAAKoY,SAAS0pI,GACtBpvH,EAAO1yB,EAAKinI,QAAQ,YAAY/tK,QAEpC,GAAImoD,EAAM,GACNqR,EAAOrR,EAAMjJ,SAAS,IAAM0iD,GAGhC,IAAKpoC,EAAK,GACNA,EAAO1yB,EAAK1zB,OAAOw1K,GAAcx1K,OAAOs1K,GAAMlvH,OAGlD,IAAKA,EAAK,GACNA,EAAO37D,KAAKwsL,SAGhB,GAAI7wH,EAAKjmD,SAAS41K,GACd3vH,EAAO37D,KAAKuuH,UAAU5yD,GAG1B,OAAOA,GAGX8yD,UAAW,SAASxlF,GAChB,IAAKA,EACD,OAAOjpC,KAAK4xI,QAGhB,IAAIzkG,EAAOlE,EAAKy2E,QAAQ,YAAYv9G,QAChCoH,EAEJ,IAAK4jC,EAAK,GAAI,CACVA,EAAOlE,EAAK1zB,OAAOw1K,GAAcx1K,OAAOs1K,GACxC,IAAK19I,EAAK,GACNA,EAAOntC,KAAK4xI,YAEb,CACHroI,EAAS4jC,EACT,MAAO5jC,EAAO,GAAI,CACdA,EAASA,EAAO83C,SAAS0pI,GAAc1pI,SAAS,IAAM2iD,GACtD,GAAIz6F,EAAO,GACP4jC,EAAO5jC,GAKnB,GAAI4jC,EAAKz3B,SAAS41K,GACdn+I,EAAOntC,KAAKyuH,UAAUthF,GAG1B,OAAOA,GAGXk1I,QAAS,SAAUp5I,EAAMk5I,EAAe5sK,GACpC,IAAIhV,EAAOP,KACPquB,EACAk0J,EAAQrlL,EAAE+C,cAAcgpC,GACxBylJ,EAAkBvM,GAAiBA,EAAc,GACjDK,EAEJ,IAAKkM,EACDn5K,EAAShV,EAAKsP,QAGlB2yK,EAAY,CACR3G,WAAYtmK,EAAOG,SAAS,cAC5B6mK,SAAUr/K,EAAEilL,GAAezsK,SAASy1K,GACpCrrL,OAAQyV,EAAO8rC,WAAWvhD,QAG9B,GAAI4uL,IAAoBn5K,EAAOzV,OAC3ByV,EAASrY,EAAEqD,EAAKkiL,YAAY,CAAEn4H,MAAOk4H,EAAW/iL,QAASc,EAAKd,WAAYylC,SAASi9I,GAGvF,GAAII,GAAS5kL,MAAMD,QAAQurC,IAASA,aAAgB/xB,EAAwB,CACxE,GAAI+xB,aAAgB/xB,EACjB+xB,EAAOA,EAAKhlC,OAGfoqB,EAAQnxB,EAAEgU,IAAIqxK,EAAQ,CAACt5I,GAAQA,EAAM,SAAS3hC,EAAO3F,GACjD,UAAW2F,IAAU,SACjB,OAAOpK,EAAEoK,QAET,OAAOpK,EAAEqD,EAAKmiL,WAAW,CACrBp4H,MAAOk4H,EACPv5I,KAAMzrC,EAAO8J,EAAO,CAAE6H,MAAOxN,SAIzC,GAAI+sL,EAAiB,CACjB,IAAIpgK,EAAW/tB,EAAK+tB,SAAS6zJ,GAE7B,GAAI7zJ,EAAU,CACVA,EAASiyC,YAAc,KACvB4hH,EACKhsK,KAAK6sG,EAAe10F,EAASiuJ,UAC7BziF,IAAI,IAAMqxF,GACV9pI,SAAS,MACTlrC,KAAK8sG,GAAc30F,EAASiuJ,eAEjC4F,EAAchsK,KAAK6sG,EAAe,YAGvC,CACH,UAAW/5E,GAAQ,UAAYA,EAAKlmC,OAAO,IAAM,IAC7CsrB,EAAQ9tB,EAAKsP,QAAQkgB,KAAKkZ,QAE1B5a,EAAQnxB,EAAE+rC,GAEd1oC,EAAKouL,oBAAoBtgK,GAG7B,IAAK4a,EAAKnpC,OACNmpC,EAAO,CAACA,GAGZ1oC,EAAKwsL,wBAAwB1+J,EAAO4a,GACpC,MAAO,CAAE5a,MAAOA,EAAOi8B,MAAO/0C,IAGlC22G,aAAc,SAAS5pH,GACnB,IAAI3C,EAASzC,EAAEoF,EAAEivC,eAEjB,IAAK5xC,EAAO2yB,QAAQ,MAAQg5J,GAAexrL,OACvCH,EAAOkkB,YAAY,gBAAiBvhB,EAAEiF,MAAQk6G,IAItDm9D,eAAgB,WACZ,IAAIr+K,EAAOP,KACP4uL,EAAQvgK,EAAOkuJ,EAAUsS,EAAcvgK,EAE3CsgK,EAASruL,EAAKsP,QACAkgB,KAAK,WACL+pE,IAAI,WAAc,OAAO58F,EAAE8C,MAAMyhC,aAAa,cAAe,OAAO3hC,SACpEoW,SAAS,oCACTC,KAAK,OAAQ,SAE3B04K,EAAeD,EAAOr5K,SACtB+Y,EAAW/tB,EAAK+tB,SAASugK,GACzBtS,EAAYjuJ,GAAYA,EAASiuJ,UAAa,MAE9CqS,EAAOr5K,SACAukF,IAAI,IAAMkpB,EAAgB,KAC1B7sG,KAAK6sG,EAAeu5D,GACpBziF,IAAI,IAAMqxF,GACV9pI,SAAS,MACTlrC,KAAK8sG,GAAcs5D,GACnBh5J,OAEP8K,EAAQ9tB,EAAKsP,QAAQkU,IAAI6qK,GAAQvtI,WAEjC9gD,EAAKouL,oBAAoBtgK,GACzB9tB,EAAKs8K,YAAYxuJ,GACjByuJ,GAAgBzuJ,IAGpBsgK,oBAAqB,SAAStgK,GAC1B,IAAIvuB,EAASuuB,EAAMvuB,OACf6B,EAAM,EAEV,KAAMA,EAAM7B,EAAQ6B,IAChB3B,KAAK8uL,mBAAmBzgK,EAAM1sB,GAAMA,IAI5CmtL,mBAAoB,SAAS7lJ,EAAM95B,GAC/B,IAAI64D,EAAWhoE,KAAKq1H,UAChB05D,EAAc/uL,KAAKP,QAAQsvL,YAC3BhmK,EAAMgmK,GAAeA,EAAY5/K,GACjC47B,EAAO/qC,KAAK6P,QAAQ,GACpBm/K,EAAanoG,EAEjB59C,EAAO/rC,EAAE+rC,GAAM/yB,SAAS,UAAUC,KAAK,OAAQ,YAE/C,GAAI7Y,EAAMW,QAAQ+a,QAAQiG,KACtBgqB,EAAKp0B,IAAI,sBAAuB,UAC3BA,IAAI,sBAAuB,IAGpCo0B,EACKoY,SAASo4H,GACTvjK,SAAS6jK,GAEdlzF,EAAO59C,EACEoY,SAAS,KACTnrC,SAASyjK,GAElB,GAAI9yF,EAAK,GAAI,CACTA,EAAK1wE,KAAK,OAAQ4S,GAElB89D,EAAKxlC,SAASo4H,GACTvjK,SAAS6jK,GAGlB9wI,EACKhZ,OAAO,gBACP/Z,SAAS,oBACTC,KAAKihG,EAAe,MACpB5qF,KAAK,WAAY,OAEtByc,EACKoY,SAAS,OACTnrC,SAAS+0K,EAAU,uBACnB90K,KAAK8sG,EAAa,MAClB1/F,OACAhO,SACAY,KAAK6sG,EAAe,OAEzBn8B,EAAO59C,EAAKoY,SAASkqI,GACrB,GAAI1kG,EAAK,GAAI,CACT,GAAI7e,EACAA,EAAS38C,WAAW+3F,GACX/hE,SAASkqI,GACT91K,YAAYgkI,GAGzB5yD,EAAK3wE,SAASujI,GACdz5I,KAAKq1H,UAAYpsF,EAAK9yB,KAAKitG,EAAe,MAG9C,IAAKn6E,EAAKoY,SAASupI,GAAc,GAAI,CACjCoE,EAAc,gBAAkBrV,EAAO,sDACvC,GAAIoV,GAAeA,EAAY5/K,IAAU85B,EAAK,GAAGznB,YAAcupB,EAC3DikJ,EAAc,2BAA6BD,EAAY5/K,GAAS,SAGpE85B,EACK6yC,WACA7rD,OAAO,WAAa,OAASjwB,KAAKiyB,SAAS3tB,MAAMk1K,MAA0Bx5K,KAAK0vB,UAAY,IAAMpyB,EAAMy/B,KAAK/8B,KAAKk9B,UAAUH,SAC5H0jB,QAAQuuI,GAIjB,GAAI/lJ,EAAK1zB,OAAO,eAAe,GAC3B0zB,EAAK/yB,SAAS,0BAEd+yB,EAAK/yB,SAAS,mBAGlB,IAAK,iBAAiBvP,KAAKsiC,EAAK9yB,KAAK,UACjC8yB,EAAK/yB,SAAS,WAAa+yB,EAAKxH,aAAazhC,KAAK6P,QAAS,MAAM/P,SAIzEg2C,OAAQ,SAAUxzC,GACd,IAAI/B,EAAOP,KACPL,EAAS2C,EAAEiF,MAAQo5F,EAAQzjG,EAAEoF,EAAE3C,QAAUY,EAAK4sH,WAAW9rE,SAASupI,GAClE/6K,EAAUtP,EAAKsP,QACf8sH,EAAS7gD,EAAU3pD,EAAM88J,EAE7B,GAAItvL,EAAO2yB,QAAQ,MAAQg5J,GAAexrL,OACtC,OAGJ,GAAIH,EAAO4a,QAAQ,eAAe,IAAM1K,EAAQ,GAC5C,OAGJ,GAAIlQ,EAAOsW,GAAG,qBAAuBtW,EAAO+V,SAASikK,GACjD,OAGJ,IAAI9yF,EAAOlnF,EAAO4a,QAAQqwK,GACtB3hJ,EAAO49C,EAAKtsE,QAAQswK,GAExBtqL,EAAKiuL,gBAAgB3nG,GAErB,IAAIrwE,EAAUyyB,EAAKoY,SAAS,uBAC5B,IAAI/yB,EAAWtuB,KAAKsuB,SAAS2a,GAE7B,IAAKzyB,EAAQ1W,SAAYS,EAAKd,QAAQotL,cAAgBv+J,GAAYA,EAASiyC,aAC1EvgE,KAAKguL,eAAe/kJ,IAASA,EAAK4R,SAAW5R,EAAK8iJ,YAC/Cv1K,EAAWjW,EAAK6sL,iBAAiBnkJ,GAGrC6yC,EAAW7yC,EAAKlZ,KAAKq7J,GAAQrnK,IAAIklB,EAAKlZ,KAAKs7J,IAC3Cl5J,EAAO00D,EAAK1wE,KAAKyhG,GACjBq3E,EAAW98J,IAASA,EAAKpvB,OAAOovB,EAAKryB,OAAS,IAAM,KAAOqyB,EAAKtlB,QAAQ,IAAMtM,EAAKsP,QAAQ,GAAGrT,GAAK,OAAS,GAC5GmgI,KAAasyD,GAAYnzG,EAASh8E,QAElC,GAAIg8E,EAAS73E,KAAK,cAAgB04H,EAAS,CACvCr6H,EAAEpB,iBACF,OAGJ,GAAIX,EAAKyiL,cAActzI,EAAQzG,GAC3B0zF,EAAU,KAGd,GAAIA,IAAY,MACZ,OAGJ,GAAIp8H,EAAKd,QAAQqtL,YAAcjB,GAC3B,GAAItrL,EAAK8sL,qBAAqBpkJ,IAAS0zF,EAAS,CAC5Cr6H,EAAEpB,iBACF,OAIR,GAAI46E,EAASh8E,OAAQ,CACjB,IAAI8xF,EAAa9V,EAAS7lE,GAAGsyF,IAE7B,IAAKhoG,EAAKyiL,eAAepxF,EAAao5F,EAASE,EAAUjiJ,GACrD0zF,EAAUp8H,EAAK+sL,YAAYrkJ,EAAM2oD,GAIzC,GAAI+qC,EACAr6H,EAAEpB,kBAGV8sL,eAAgB,SAAU/kJ,GACtB,OAAQA,EAAK5a,OAAS4a,EAAK5a,MAAMvuB,OAAS,GAAMmpC,EAAKs3B,aAGzD+sH,YAAa,SAAUz9K,EAASq/K,EAAW3S,GACvC,IAAIh8K,EAAOP,KACPmmL,EAAat2K,EAAQkgB,KAAKq7J,GAC1BvkG,EAAOh3E,EAAQkgB,KAAK66J,GACpB7hK,EAAM89D,EAAK1wE,KAAKyhG,GAChB+kB,EAAS9hF,EACTvsB,EAAW/tB,EAAK+tB,SAASze,GACzBs/K,GAAcD,EAElB,IAAIluH,EAAS1yC,GAAYA,EAAS0yC,SAElC,GAAI1yC,IAAaiuJ,GAAYjuJ,EAASiuJ,WAAa4S,EAAY,CAC3D7gK,EAAS/E,IAAI,WAAY4lK,GACzBxyD,EAAUruG,EAASiyC,eAAiBjyC,EAASusB,WAAavsB,EAASy9J,WACnE,OAAOpvD,EAGX,GAAIruG,KAAciuJ,GAAYA,IAAa,UAAav7G,IAAW1yC,EAASusB,UAAYvsB,EAASy9J,WAAY,CACxG,GAAIxrL,EAAKd,QAAQotL,aACb7sL,KAAKypK,UAAU55J,EAAS,MAG5BA,EAAQwxC,SAAS,uBAAuBtwB,SACxC4rG,EAAUruG,EAASiyC,YAEnBjyC,EAAS6yC,YAEP,GAAIglH,EAAWrmL,OAAQ,CAClBE,KAAK4tL,aAAazH,EAAY+I,GAC9BvyD,EAAU,SACR,CACF9hF,EAAUhrC,EAAQwxC,SAAS,IAAO4pI,GAElC,GAAIpwI,EAAQ/6C,OAAQ,CAChB68H,EAAU,KAEV,IAAK9hF,EAAQ5kC,GAAGhO,KAAU8gB,IAAQ1rB,EAC9BkD,EAAKqtL,aAAa/yI,EAASq0I,QAE3B3uL,EAAK20G,aAAarlG,EAASgrC,EAASq0I,IAMxD,OAAOvyD,GAGXixD,aAAc,SAAU/9K,EAAS+hF,GAC7B,IAAIrxF,EAAOP,KACPovL,EAAoB7uL,EAAKd,QAAQ0pG,UACjCA,EAAYimF,EAAkB3C,OAC9B4C,EAAuBD,EAAkB1vJ,UAAY,YAAa0vJ,EAAkB1vJ,SACpFA,EAAWliC,EAAO,GAAI4xL,EAAkB3C,OAAQ2C,EAAkB1vJ,UAEtE,IAAK2vJ,EACD3vJ,EAAWliC,EAAOkiC,EAAU,CAAC7wB,QAAS,OAG1C,GAAIgB,EAAQoG,GAAGsyF,KAAY3W,EAAY,CACnCrxF,EAAK4sL,WAAa,MAClB,OAGJt9K,EAAQsG,KAAK8sG,IAAerxB,GAE5B/hF,EAAQ0F,SACHY,KAAK6sG,GAAgBpxB,GACrB/tE,YAAYsnK,GAAcv5F,GAC1B7hE,KAAK,mEACDlM,YAAY,wBAAyB+tE,GACrC/tE,YAAY,uBAAwB+tE,GACpC/tE,YAAY,yBAA0B+tE,GACtC/tE,YAAY,oBAAqB+tE,GAC1C,GAAIA,EAAY,CACZuX,EAAY3rG,EAAOkiC,EAAU,CAAEnc,KAAM,OAErC4lF,EAAU9lF,SAAW,WACjB9iB,EAAK+uL,2BAGTnmF,EAAY3rG,EAAQ,CAAE6lB,SAAU,SAAUxT,GAClCtP,EAAKyiL,cAAch7E,EAAUn4F,EAAQ0K,QAAQswK,IAC7CtqL,EAAK+uL,uBACJnmF,GAGbt5F,EACKiV,OAAO,GACPR,UAAU,KAAM,MAChBI,aAAcykF,IAGvBmmF,mBAAoB,WAChB,IAAI/uL,EAAOP,KACXO,EAAK8B,QAAQ,YACb9B,EAAK4sL,WAAa,OAGtBC,iBAAkB,SAASv9K,GACvB,IAAIy6C,EAAQptD,EAAE,2GAEd2S,EAAQkxD,OAAOzW,GACf,OAAOA,GAGX+iI,qBAAsB,SAAUpkJ,GAC5B,IAAI1oC,EAAOP,KAAMqhD,EAAUkuI,EAAa,MAExC,IAAI1rJ,EAASoF,EAAKlZ,KAAKq7J,GAAQrnK,IAAIklB,EAAKlZ,KAAKs7J,IAE7C,GAAIxnJ,EAAO5tB,GAAGsyF,IACVgnF,EAAa,KAGjB,KAAM1rJ,EAAO5tB,GAAGsyF,KAAY1kE,EAAO/jC,SAAW,GAAI,CAC9CuhD,EAAWpY,EAAK6iE,WAChBzqD,EAAStxB,KAAKq7J,GAAQrnK,IAAIs9B,EAAStxB,KAAKs7J,IAC/Bp7J,OAAO,WAAc,OAAO/yB,EAAE8C,MAAMiW,GAAGsyF,MACvC9qG,KAAK,SAAU0R,EAAO0rC,GACnBA,EAAU39C,EAAE29C,GAEZ00I,EAAahvL,EAAKyiL,cAAckI,EAAUrwI,EAAQtgC,QAAQswK,IAC1D,IAAK0E,EACDhvL,EAAKqtL,aAAa/yI,EAAS,QAI1Ct6C,EAAKmB,IAAI,WAAY,WAClByxB,WAAW,WACPkuB,EAAS5jD,KAAK,SAAU0R,EAAO8tB,GAC3B,IAAI3O,EAAW/tB,EAAK+tB,SAAS2O,GAE7B,GAAG3O,EACCA,EAAS/E,IAAI,WAAY,aAO7C,OAAOgmK,GAGXr6E,aAAc,SAAUrlG,EAASysE,EAAgB4yG,GAE7C,IAAI3uL,EAAOP,KACPwvL,EAAa3/K,EAAQkgB,KAAK,4CAC1B82D,EAAOh3E,EAAQkgB,KAAK66J,GACpB6E,EAAqBt8J,WAAW,WAC5Bq8J,EAAWt5K,SAAS,gBACrB,KACHjS,EAAO,GACP8kB,EAAM89D,EAAK1wE,KAAKyhG,GAEpB16G,EAAEsgD,KAAK,CACHj2C,KAAM,MACN2wB,MAAO,MACPnP,IAAKA,EACLwwB,SAAU,OACVt1C,KAAMA,EAENshB,MAAO,SAAUgyC,EAAKnb,GAClBozI,EAAW/5K,YAAY,eACvB,GAAIlV,EAAK8B,QAAQy9C,EAAO,CAAEyX,IAAKA,EAAKnb,OAAQA,IACxCp8C,KAAKqjB,YAIbA,SAAU,WACNmR,aAAai7J,GACbD,EAAW/5K,YAAY,gBAG3BgoC,QAAS,SAAUx5C,GACf,SAAS2yI,IACL,MAAO,CAAExoH,SAAUkuD,EAAehzD,OAEtC,IACI/oB,EAAKmqB,QAAQ,UAAWksH,GACxBt6D,EAAep4E,KAAKD,GACpB1D,EAAKmqB,QAAQ,UAAWksH,GAC1B,MAAOt0I,GACL,IAAIgoB,EAAUltB,OAAOktB,QAErB,GAAIA,GAAWA,EAAQ/E,MACnB+E,EAAQ/E,MAAMjjB,EAAE7F,KAAO,KAAO6F,EAAE+nB,QAAU,OAAStB,GAEvD/oB,KAAKulB,MAAMvlB,KAAKu3D,IAAK,SAGzBh3D,EAAKqtL,aAAatxG,EAAgB4yG,GAElC3uL,EAAK8B,QAAQyvG,EAAa,CAAE7oE,KAAMp5B,EAAQ,GAAIysE,eAAgBA,EAAe,SAKzF0mG,cAAe,SAAUxhL,EAAWqO,GAChC,IAAItP,EAAOP,KAEX,OAAOO,EAAK8B,QAAQb,EAAW,CAAEynC,KAAMp5B,EAAQ,MAGnD2+K,gBAAiB,SAAS3nG,EAAM0nG,GAC5B,IAAIhuL,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfo5B,EAAO49C,EAAKtxE,OAAOs1K,GACnB7iH,EAAWznE,EAAK80H,UAChB/mG,EAAW/tB,EAAK+tB,SAAS2a,GAE7B,GAAI++B,EACAA,EAAS38C,WAAW+3F,GAGxB7iH,EAAK80H,UAAYpsF,EAAK9yB,KAAKitG,EAAe,MAE1CvzG,EAAQkgB,KAAK67J,GAAiBn2K,YAAYgkI,GAC1C5pI,EAAQkgB,KAAK,MAAQy7J,EAAiB,iBAAmBA,GAAgB/1K,YAAY+1K,GAErF3kG,EAAK3wE,SAASujI,GACd5yD,EAAKplD,aAAa5xB,EAASg7K,GAAM56J,OAAO,iBAAiB/Z,SAASs1K,GAClEjrL,EAAK4sH,SAASlkF,EAAK,GAAKA,EAAO,MAC/B,GAAG3a,EACEA,EAAS/E,IAAI,WAAY,MAG9B,IAAIglK,EACAhuL,EAAK8B,QAAQ4nC,IAIrB40I,YAAa,SAASp/K,GAClB,GAAIA,GAAY,cAAeA,IAAaA,EAAQ0pG,UAChD1pG,EAAQ0pG,UAAY,CAAEsjF,OAAQ,CAAEzpK,QAAS,IAAM0c,SAAU,CAAEnc,KAAM,KAAMP,QAAS,MAIxF0/J,WAAY,SAAUjjL,GAClB,IAAIc,EAAOP,KACPP,EAAUjC,EAAO,CAAE6wL,SAAU9tL,EAAM+pD,MAAO,IAAM7qD,GAEpD,IAAIkiD,EAAQphD,EAAK+hG,UAAU3gD,MACvB1Y,EAAOxpC,EAAQwpC,KAEnB,OAAO1oC,EAAK+hG,UAAUr5D,KAAKzrC,EAAOiC,EAAS,CACvCupL,YAAazoL,EAAK+hG,UAAU0mF,YAC5BG,cAAe5oL,EAAK4oL,cACpB11E,MAAOlzG,EAAKytL,eAAe/kJ,IAASA,EAAK4R,SAAW5R,EAAK8iJ,WAAaxrL,EAAK+hG,UAAUmR,MAAQ9xD,EAC7F6X,UAAW/5D,EAAQotL,cAAgB5jJ,EAAKszI,SAAWh8K,EAAKkiL,YAAc9gI,GACvEg6H,MAGP8G,YAAa,SAAShjL,GAClB,IAAIc,EAAOP,KACX,IAAIsiG,EAAY/hG,EAAK+hG,WAAa7iG,EAAQ4uL,SAAS/rF,UAEnD,OAAOA,EAAUh4C,MAAM9sD,EAAO,CAC1B6rL,YAAa,SAAS5pL,GAClB,IAAIyE,EAAO,GACPrE,EAAI,EACJwuB,EAAQ5uB,EAAQ4uB,MAChBlE,EAAMkE,EAAQA,EAAMvuB,OAAS,EAC7BwqD,EAAQ9sD,EAAO,CAAEsC,OAAQqqB,GAAO1qB,EAAQ6qD,OAE5C,KAAOzqD,EAAIsqB,EAAKtqB,IACZqE,GAAQzE,EAAQ4uL,SAAS3L,WAAWllL,EAAOiC,EAAS,CAChD6qD,MAAOA,EACPrhB,KAAMzrC,EAAO,CAAE2R,MAAOtP,GAAKwuB,EAAMxuB,OAIzC,OAAOqE,IAEZzE,EAASk8K,MAGhBwN,cAAe,SAAS1pL,GACpB,OAAOA,EAAQ4uL,SAAS/rF,UAAUznD,QAAQr9C,EAAOiC,EAASk8K,QAQtE,OAJAr+K,EAAM2pB,GAAG+J,OAAOs7J,IAITlvL,OAAOE,QA3uDd,CA6uDoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,oBAAoB,CAAE,cAC9B,WAEH,IAAIC,EAAW,CACXC,GAAI,cACJC,KAAM,cACNC,SAAU,MACVC,YAAa,iFACbotC,QAAS,CAAE,SAGJ7sC,EAmfRE,OAAOE,MAAMH,OAnfFE,OAAd,EACQC,EAAQF,OAAOE,MACf2pB,EACAH,EADKxpB,EAAM2pB,GACCH,OACZ2tE,EAAa,aACbC,EAAW,WACXg7F,EACAC,EACAC,EACAC,EACAC,EAAe,gBACfC,EAAsB,wBACtBC,EAA4B,8BAC5BC,EAAuB,aACvBC,EAAmB,mBACnBC,EAAkB,oBAClBC,EACAC,EAAkB,mBAClBpxG,EAAgB,mBAChBqxG,EAAe,CACX/rH,MAAO,QACPgsH,QAAS,UACTC,MAAO,SAEXvmJ,EAAS,SACTwmJ,EAAW,WACX9xL,EAAU,UACVd,EAAOC,KACPN,EAASN,EAAEM,OACXkzL,EAAiB,IACjBC,EAA2B,IAC3BC,EAAY,EACZtuF,EAAY,CACRuuF,eAAgB,uCAjBC,iBAiB6D,mDAC9EC,gBAAiB,0EAGrBC,EAAcjqK,EAAOtpB,OAAO,CAC5BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKxC,KAAM6P,EAASpQ,GAEnCA,EAAUc,EAAKd,QAEfc,EAAKywL,kBAAqBvxL,EAAQo1F,cAAgBJ,EAAc,QAAU,SAE1El0F,EAAK0wL,UAELxxL,EAAQ6H,MAAQ/G,EAAK06H,eAAex7H,EAAQ6H,OAE5C/G,EAAK2wL,cAAczxL,EAAQ8H,MAE3BhH,EAAKy7E,WAEL,GAAGv8E,EAAQ0xL,SACP5wL,EAAKkpH,QAGTlpH,EAAK6wL,qBAEL,GAAK3xL,EAAQ6H,QAAU7H,EAAQsP,KAAStP,EAAQ6H,QAAU,MACvD/G,EAAK8wL,mBAIZ/lK,WAAY,SAAS7rB,GACjB,IAAIc,EAAOP,KACPwW,EAAUjW,EAAKiW,QAEnBsQ,EAAOnmB,GAAG2qB,WAAW9oB,KAAKjC,EAAMd,GAEhC,GAAIA,EAAQ+H,eAAe,WACvBgP,EAAQqN,YAAY,wBAAyBpkB,EAAQoP,SAGzD,GAAIpP,EAAQ+H,eAAe,UACvBjH,EAAK6jB,OAAO3kB,EAAQ2kB,QAGxB,GAAG3kB,EAAQ0xL,SACP5wL,EAAKkpH,QAGTlpH,EAAK6wL,qBAEL7wL,EAAK06H,iBAEL16H,EAAK8wL,mBAGTrvL,OAAQ,CACJioC,EACAwmJ,GAGJhxL,QAAS,CACLhD,KAAM,cACNo4F,YAAaJ,EACb5lF,QAAS,MACTE,IA9FS,EA+FT7B,IA9FS,IA+FT5F,MA9FW,EA+FX8c,OAAQ,KACR7c,KAAM+oL,EAAa/rH,MACnB+sH,WAhGgB,EAiGhBC,WAAY,KACZpoF,UAAW,GACXr7E,MAAO,KACPL,QAAS,KACT0jK,SAAU,OAGd1nE,MAAO,WACH,IAAIlpH,EAAOP,KACPP,EAAUc,EAAKd,QACf+W,EAAUjW,EAAKiW,QAEnBA,EAAQL,KAAK,CACTyT,KAAQ,cACR2sI,gBAAiB92J,EAAQsP,IACzBynJ,gBAAiB/2J,EAAQyN,MAG7B,KAAKzN,EAAQguB,QACTjX,EAAQL,KAAK,kBAAmB1W,EAAQguB,cACrC,KAAKhuB,EAAQquB,MAChBtX,EAAQL,KAAK,aAAc1W,EAAQquB,OAGvCvtB,EAAKixL,SAAWt0L,EAAEolG,EAAUwuF,iBAC5BvwL,EAAKixL,SAAStsJ,SAAShoC,EAAE,SAEzB,GAAGuC,EAAQ6H,QAAU,MAAO,CACxBkP,EAAQL,KAAK,gBAAiB1W,EAAQ6H,OAEtC/G,EAAKixL,SAASpxJ,KAAK7/B,EAAKkxL,uBAAuB3iL,UAAY,OAInEmiL,QAAS,WACL,IAAI1wL,EAAOP,KAEXO,EAAKmxL,WAAa,MAElBnxL,EAAKoxL,gBAAkBpxL,EAAKswL,eAAiB3zL,KAGjDg0L,cAAe,SAASU,GACpB,IAAIjuG,EAAU,MAEdzmF,EAAEO,KAAK6yL,EAAc,SAASppL,EAAGK,GAC7B,GAAIA,IAASqqL,EAAa,CACtBjuG,EAAU,KACV,OAAO,SAIf,IAAKA,EACD,MAAM,IAAI/+E,MAAMtH,EAAMuH,OAAO,iCAAkC+sL,KAIvE51G,SAAU,WACN,IAAIz7E,EAAOP,KACX,IAAIswB,EAAY/vB,EAAKiW,QAAUjW,EAAKsP,QACpC,IAAIpQ,EAAUc,EAAKd,QACnB,IAAIo1F,EAAcp1F,EAAQo1F,YAC1B,IAAI6uC,EAAgBjkI,EAAQ6H,QAAU,MAAS7H,EAAQ6H,MAAQ7H,EAAQsP,IAEvEuhB,EAAUpa,SAAS,YAAc45K,GAEjCx/J,EAAUpa,SAAS45K,EAAe,KAAQj7F,IAAgBJ,EAAcA,EAAaC,IAErF,GAAGj1F,EAAQ2kB,SAAW,MAClBkM,EAAUpa,SAAS+oE,GAGvB,GAAIx/E,EAAQoP,QACRyhB,EAAUpa,SAAS65K,GAGvB,GAAItwL,EAAQ6H,QAAU,MAClBgpB,EAAUpa,SAAS85K,GAGvB,GAAIvwL,EAAQ8H,OAAS+oL,EAAaE,MAC9BjwL,EAAKsxL,gCAEL,GAAIpyL,EAAQ8xL,WAAW,CACnBhxL,EAAKswL,eAAiBtwL,EAAKiW,QAAQs7E,QAAQwQ,EAAUuuF,gBAC1B9gK,KAAK,IAAMogK,GAEtC,GAAI1wL,EAAQ8H,OAAS+oL,EAAa/rH,MAC9BhkE,EAAKswL,eAAezwJ,KAAKsjG,QAEzBnjI,EAAKswL,eAAezwJ,KAAK7/B,EAAKkxL,qBAAqB/tD,GAAc50H,UAAY,OAM7FxH,MAAO,SAASA,GACZ,OAAOtH,KAAKwpH,OAAOliH,IAGvBkiH,OAAQ,SAASliH,GACb,IAAI/G,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAIqyL,EAEJ,GAAIxqL,IAAUjK,EACV,OAAOoC,EAAQ6H,WAEf,UAAWA,IAAU3I,EAAS,CAC1B2I,EAAQ/G,EAAKwxL,YAAYzqL,GAEzB,IAAIwM,MAAMxM,GAAQ,CACdwqL,EAAYvxL,EAAK06H,eAAe3zH,GAEhC,GAAIwqL,IAAcryL,EAAQ6H,MAAO,CAC7B/G,EAAKiW,QAAQf,YAAYu6K,GAEzBvwL,EAAQ6H,MAAQwqL,EAEhBvxL,EAAKmxL,WAAa,KAElBnxL,EAAK8wL,yBAGV,IAAK/pL,EAAO,CACf/G,EAAKiW,QAAQN,SAAS85K,GACtBzvL,EAAKiW,QAAQ6U,WAAW,iBACxB5rB,EAAQ6H,MAAQ,MAEhB,GAAG/G,EAAKixL,SACJjxL,EAAKixL,SAASpxJ,KAAK,MAMnC2xJ,YAAa,SAASzqL,GACjBA,EAAQuM,WAAWvM,GAEnB,IAAIypJ,EAAQlzJ,EAAKomC,IAAI,GAAI2sJ,GAEzB,OAAOtzL,EAAMqS,OAAOrI,EAAQypJ,GAASA,GAG1C91B,eAAgB,SAAS3zH,GACrB,IAAI/G,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QAEnB,GAAI6H,IAAU,OACV,GAAIA,GAAS7H,EAAQsP,KAAOzH,IAAU,KAClC,OAAO7H,EAAQsP,SACZ,GAAIzH,GAAS7H,EAAQyN,IACxB,OAAOzN,EAAQyN,SAEhB,GAAI5F,IAAU,MACjB,OAAO,MAGX,GAAGwM,MAAMvT,EAAKwxL,YAAYzqL,IACtB,OAAO7H,EAAQsP,IAGnB,OAAOzH,GAGX+pL,gBAAiB,WACb,IAAI9wL,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAI6V,EAAa/U,EAAKkxL,uBAEtB,GAAIhyL,EAAQ8H,OAAS+oL,EAAaE,MAAO,CACrCjwL,EAAKyxL,cAAc18K,GACnB/U,EAAK0xL,wBAAwBxyL,EAAQ6H,YAErC/G,EAAK2xL,uBAAuB58K,GAGhC,GAAG7V,EAAQ0xL,SAAU,CACjB5wL,EAAKiW,QAAQL,KAAK,gBAAiB5V,EAAKd,QAAQ6H,OAEhD,GAAG/G,EAAKixL,SACJjxL,EAAKixL,SAASpxJ,KAAK9qB,EAAWxG,UAAY,OAKtDkjL,cAAe,SAAS18K,GACpB,IAAI/U,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAI6xL,EAAa7xL,EAAQ6xL,WACzB,IAAIa,EAAuB9iL,SAAUqhL,EAAiBY,EAAc,IAAK,IAAM,IAC/E,IAAIc,EAAmB/iL,SAASiG,EAAa,IAAK,IAAM,IACxD,IAAI+8K,EAAuBx0L,EAAK8G,MAAMytL,EAAmBD,GACzD,IAAIG,EAEJ,GAAI7yL,EAAQo1F,cAAgBJ,IAAgBh1F,EAAe,SACvDA,EAAQo1F,cAAgBH,GAAYj1F,EAAQoP,QAC5CyjL,EAAkB/xL,EAAKiW,QAAQuZ,KAAK,aAAa5wB,MAAM,EAAGkzL,QACvD,GAAGA,IAAyB,EAC/BC,EAAkBh1L,EAAMH,cAExBm1L,EAAkB/xL,EAAKiW,QAAQuZ,KAAK,aAAa5wB,MAAMkzL,GAAwB,GAGnF9xL,EAAKiW,QAAQuZ,KAAK,IAAMsgK,GACX56K,YAAY46K,GAEzBiC,EAAgBp8K,SAASm6K,IAG7B6B,uBAAwB,SAAS58K,GAC7B,IAAI/U,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAIkyL,EAAkBpxL,EAAKiW,QAAQuZ,KAAK,IAAMmgK,GAC9C,IAAIqC,EAAoBhyL,EAAKmxL,WAAanxL,EAAKiyL,WAAWpvK,SAAW,EACrE,IAAIqvK,EAAsB,GAE1B,GAAId,EAAgB7xL,SAAW,EAC3BS,EAAKmyL,6BAGTD,EAAoBlyL,EAAKywL,mBAAqB17K,EAAa,IAC3D/U,EAAKoxL,gBAAgBluK,QAAQgvK,EAAqB,CAC9CrvK,SAAUmvK,EACVpmL,MAAO5L,EAAKoyL,wBAAwBpxL,KAAKhB,GACzC8vB,SAAU9vB,EAAKqyL,mBAAmBrxL,KAAKhB,GACvC8iB,SAAU9iB,EAAKsyL,2BAA2BtxL,KAAKhB,EAAMd,EAAQ6H,OAC7DwrL,OAAQvyL,EAAK0xL,wBAAwB1wL,KAAKhB,EAAMd,EAAQ6H,UAIhEqrL,wBAAyB,WACrB3yL,KAAK2xL,gBAAgBl/G,QAGzBmgH,mBAAoB,SAAStwL,GACzB,IAAI/B,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAIszL,EAAoBl/K,WAAWvR,EAAEgtE,KAAK15D,MAAMrV,EAAKywL,mBAAoB,IACzE,IAAIgC,EAEJ,GAAIvzL,EAAQ8xL,WAAY,CACpByB,EAAyB,IAAQn/K,WAAWtT,EAAKoxL,gBAAgB,GAAG/7K,MAAMrV,EAAKywL,oBAE/EzwL,EAAKoxL,gBAAgB5hK,KAAK,2BAA2Blb,IAAItU,EAAKywL,kBAAmBgC,EAAyB,KAG9G,GAAIvzL,EAAQ8H,OAAS+oL,EAAaE,OAASuC,GAAqB,GAC5DxyL,EAAKoxL,gBAAgBl8K,YAAYw6K,IAIzC4C,2BAA4B,SAASntJ,GACjC,IAAInlC,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAIwzL,EAAsBp/K,WAAWtT,EAAKoxL,gBAAgB,GAAG/7K,MAAMrV,EAAKywL,oBACxE,IAAIkC,EAEJ,GAAIzzL,EAAQ8H,OAAS+oL,EAAaE,OAASyC,EAAsB,GAC7D1yL,EAAKoxL,gBAAgBz7K,SAAS+5K,GAGlC,GAAIxwL,EAAQ8xL,WAAY,CACpB,GAAI9xL,EAAQ8H,OAAS+oL,EAAa/rH,MAC9B2uH,EAAgBxtJ,OACb,GAAIjmC,EAAQ8H,MAAQ+oL,EAAaC,QACpC2C,EAAgB3yL,EAAKkxL,qBAAqB/rJ,GAAc52B,UAAY,SAEpEokL,EAAgBr1L,EAAK8G,MAAMpE,EAAKkxL,qBAAqB/rJ,IAAiB,IAE1EnlC,EAAKswL,eAAezwJ,KAAK8yJ,GAG7B,GAAIxtJ,IAAiBjmC,EAAQsP,IACzBxO,EAAKoxL,gBAAgBpuK,QAI7B0uK,wBAAyB,SAASvsJ,GAC9B,IAAInlC,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QAEnB,GAAIc,EAAKmxL,WACLnxL,EAAK8B,QAAQ4nC,EAAQ,CAAE3iC,MAAOo+B,IAGlC,GAAIA,IAAiBjmC,EAAQyN,KAAO3M,EAAKmxL,WACrCnxL,EAAK8B,QAAQouL,EAAU,CAAEnpL,MAAO7H,EAAQyN,OAIhDkX,OAAQ,SAASA,GACb,IAAI7jB,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QAEnBA,EAAQ2kB,cAAe,IAAa,YAAc,KAAOA,EACzD7jB,EAAKiW,QAAQqN,YAAYo7D,GAAgBx/E,EAAQ2kB,SAGrD6H,QAAS,WACL,IAAI1rB,EAAOP,KAEX,GAAGO,EAAKixL,SACJjxL,EAAKixL,SAASzgK,SAGlBjK,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,IAG3BsxL,yBAA0B,WACtB,IAAItxL,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAI6wB,EAAY/vB,EAAKiW,QACrB,IAAI28K,EAAYzC,EAAiBjxL,EAAQ6xL,WACzC,IAAIptL,EAAO,GAEX,GAAIzE,EAAQ6xL,YAAc,EACtB7xL,EAAQ6xL,WAAa,EAGzBptL,GAAQ,uBACR,IAAK,IAAIrE,EAAIJ,EAAQ6xL,WAAa,EAAGzxL,GAAK,EAAGA,IACzCqE,GAAQ,2BAEZA,GAAQ,QAERosB,EAAUywC,OAAO78D,GAAM6rB,KAAK,WAAWlb,IAAItU,EAAKywL,kBAAmBmC,EAAY,KACrEhxL,QAAQ+T,SAAS,WACjBtS,MACAq2B,OAAO/jB,SAAS,UAE1B3V,EAAK6yL,uBAGTA,oBAAqB,WACjB,IAAI7yL,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAI4zL,EAAY9yL,EAAKiW,QAAQuZ,KAAK,WAAWkK,OAC7C,IAAIrO,EAAc/X,WAAWw/K,EAAU,GAAGz9K,MAAMrV,EAAKywL,oBACrD,IAAIv1J,EAAai1J,EAAkBjxL,EAAQ6xL,WAAa1lK,EAExD,GAAI6P,EAAa,EACb43J,EAAUx+K,IAAItU,EAAKywL,kBAAoBplK,EAAc6P,EAAc,MAI3Ei3J,2BAA4B,WACxB,IAAInyL,EAAOP,KAEXO,EAAKoxL,gBAAkBz0L,EAAE,eAAiBgzL,EAAmB,YAAYhrJ,SAAS3kC,EAAKiW,SAEvF,GAAIjW,EAAKd,QAAQ8xL,WAAY,CACzBhxL,EAAKoxL,gBAAgB5wH,OAAOuhC,EAAUuuF,gBAEtCtwL,EAAKswL,eAAiBtwL,EAAKiW,QAAQuZ,KAAK,IAAMogK,KAItDmD,oBAAqB,WACjB,IAAI/yL,EAAOP,KACX,IAAIsxL,EAAa/wL,EAAKd,QAAQ6xL,WAC9B,IAAIiC,EAAiBhzL,EAAKiW,QAAQuZ,KAAK,cAEvC,OAAQ1gB,SAASkkL,EAAe1+K,IAAItU,EAAKywL,mBAAoB,KAAOM,EAAa,IAAMA,GAG3FG,qBAAsB,SAAS/rJ,GAC3B,IAAInlC,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAI6H,EAASo+B,IAAiBroC,EAAaqoC,EAAejmC,EAAQ6H,MAClE,IAAIyH,EAAMtP,EAAQsP,IAClB,IAAI7B,EAAMzN,EAAQyN,IAClB3M,EAAKizL,YAAc31L,EAAKyM,KAAK4C,EAAM6B,GAAO,KAE1C,OAAOlR,EAAKyM,KAAKhD,EAAQyH,GAAOxO,EAAKizL,cAGzCpC,mBAAoB,WAChB,IAAI7wL,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAI0pG,EAAY1pG,EAAQ0pG,UAExB,GAAIA,IAAc,MACd5oG,EAAKiyL,WAAa,CAAEpvK,SAAU,QAE9B7iB,EAAKiyL,WAAah1L,EAAO,CACrB4lB,SAAUutK,GACXlxL,EAAQ0pG,cAQ3B,OAHI7rG,EAAM2pB,GAAG+J,OAAO+/J,GAGb3zL,OAAOE,QAjgBd,CAmgBoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,wBAAwB,CAAE,cAClC,WAEH,IAAIC,EAAW,CACXC,GAAI,mBACJC,KAAM,mBACNC,SAAU,MACVC,YAAa,2HACbotC,QAAS,CAAE,SAGJ7sC,EAmJRE,OAAOE,MAAMH,OAnJFE,OAAd,EACQyhF,EAAK,wBACL+oB,EAAO,OACPC,EAAQ,QACR2rF,EAAkB,QAAU30G,EAAI,cAAgBA,EAAK,YAAcA,EACnEh4D,EAASxpB,MAAM2pB,GAAGH,OAClB4sK,EAAkB5sK,EAAOtpB,OAAO,CAChCiD,KAAM,SAASoP,EAASpQ,GACpBqnB,EAAOnmB,GAAGF,KAAK+B,KAAKxC,KAAM6P,EAASpQ,GAEnCO,KAAKyuG,MAAQ,IAAMnxG,MAAMksB,OAEzBxpB,KAAK2zL,eAAiB3zL,KAAK4zL,mBAAmBryL,KAAKvB,MACnDA,KAAKorH,cAAgBprH,KAAK67I,OAAOt6I,KAAKvB,MAEtC9C,EAAEsS,SAASE,iBAAiB0W,GAAGqtK,EAAiBzzL,KAAKP,QAAQ4sL,aAAcrsL,KAAK2zL,gBAEhF3zL,KAAK6zL,sBAEL,GAAI7zL,KAAKP,QAAQo7C,QAAS,CACtBv9C,MAAM2uB,QAAQjsB,KAAK6P,QAAQwxC,YAC3BrhD,KAAK6P,QAAQ3L,KAAKlE,KAAKP,QAAQo7C,SAGnC76C,KAAK6P,QACAqG,SAAS,qBAAuBlW,KAAKP,QAAQo1F,YAAc,IAAM70F,KAAKyuG,OAE3EzuG,KAAKmmG,eAAiBnmG,KAAK0mB,OAAOnlB,KAAKvB,KAAM,MAC7C9C,EAAEE,QAAQgpB,GAAG,SAAW04D,EAAI9+E,KAAKmmG,iBAErC2tF,YACI,4CACI,6CACA,+CACI,sDACA,8CACA,sCACJ,KACA,4BACI,oBACJ,IACA,6CACI,6CACA,yCACA,qCACJ,IACJ,KACA,0CACI,wCACA,6CACA,+CACA,wDACI,sBACA,oCACA,gCACA,4BACA,kDACA,8CACA,0CACJ,KACA,gDACA,gDACJ,IACJD,oBAAqB,WACjB,IAAIp0L,EAAUO,KAAKP,QAEnBO,KAAK+zL,eAAez2L,MAAM0G,SAAShE,KAAK8zL,YAApBx2L,CAAiC,CACjD02L,WAAYv0L,EAAQu0L,WACpB3H,aAAc5sL,EAAQ4sL,aACtB7iK,KAAMxpB,KAAKyuG,UAGnBslF,eAAgB,SAAS95K,GACrB,IAAIg6K,EAAO/2L,EAAE,aAAa,GAC1B,IAAI0Y,EAAQpG,SAASwK,cAAc,SAEnCi6K,EAAK75K,YAAYxE,GAEjB,GAAIA,EAAMs+K,WACNt+K,EAAMs+K,WAAWj6K,QAAUA,OAE3BrE,EAAMwE,YAAY5K,SAASgxF,eAAevmF,KAGlDxa,QAAS,CACLhD,KAAM,kBACNo+C,QAAQ,GACRg6C,YAAa,OACbw3F,aAAc,mBACd2H,WAAY,IACZ15C,UAAW,MAEft4I,OAAQ,CACJ6lG,EACAC,GAEJh8E,QAAS,WACL9rB,KAAK6P,QAAQ4F,YAAY,sCAEzBvY,EAAEsS,SAASE,iBAAiB2jB,IAAIogK,EAAiBzzL,KAAKorH,gBAE1DwoE,mBAAoB,SAAStxL,GACzBA,EAAEpB,iBAEF,GAAGoB,EAAEiF,MAAQ,WACT,OAGJ,GAAIvH,KAAK6P,QAAQ6F,SAAS,qBACtB1V,KAAKi6C,aAELj6C,KAAKopG,QAGbA,KAAM,WACF,IAAKppG,KAAKqC,QAAQwlG,GAAO,CACrB7nG,KAAK6P,QAAQqG,SAAS,sCAEtB,GAAIlW,KAAKP,QAAQ66I,UACbp9I,EAAEsS,SAASE,iBAAiB0W,GAAGqtK,EAAiBzzL,KAAKorH,iBAIjEnxE,MAAO,WACH,IAAKj6C,KAAKqC,QAAQylG,GAAQ,CACtB9nG,KAAK6P,QAAQqG,SAAS,oBAAoBT,YAAY,qBAEtDvY,EAAEsS,SAASE,iBAAiB2jB,IAAIogK,EAAiBzzL,KAAKorH,iBAG9DywB,OAAQ,SAASv5I,GACb,IAAI6xL,EAAY7xL,EAAElB,qBAClB,IAAIkvB,EAAYpzB,EAAEoF,EAAE3C,QAAQ4a,QAAQva,KAAKP,QAAQ4sL,aAAe,cAEhE,IAAK/7J,EAAUxwB,SAAWq0L,EACtBn0L,KAAKi6C,SAGbhuB,QAAS,WACLnF,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,MAEvB9C,EAAEE,QAAQi2B,IAAI,SAAWyrD,EAAI9+E,KAAKmmG,gBAClCjpG,EAAEsS,SAASE,iBAAiB2jB,IAAIogK,EAAiBzzL,KAAKorH,kBAOlE,OAHI9tH,MAAM2pB,GAAG+J,OAAO0iK,GAGbt2L,OAAOE,QAjKd,CAmKoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,iBAAiB,CAAE,cAC3B,WAEH,IAAIC,EAAW,CACXC,GAAI,WACJC,KAAM,WACNC,SAAU,MACVC,YAAa,iFACbotC,QAAS,CAAE,QACXuV,SAAU,CAAE,CACR9iD,GAAI,cACJC,KAAM,YACNE,YAAa,wBACbotC,QAAS,CAAE,SAIT7sC,EA2hDPE,OAAOE,MAAMH,OA3hDHE,OAAb,EACQC,EAAQF,OAAOE,MACf2pB,EACAM,EAAOjqB,EAAMiqB,KACbrW,EAAMhU,EAAEgU,IACRzT,EAAOP,EAAEO,KACTs/B,EAAOz/B,EAAMy/B,KACbv/B,EAASN,EAAEM,OACXyD,EAAa3D,EAAM2D,WACnB+C,EAAW1G,EAAM0G,SACjB+L,EAAazS,EAAMsS,YACnBK,EAAc3S,EAAM0S,aACpB8W,EAVKxpB,EAAM2pB,GAUCH,OACZ0yJ,EAAsB,aACtB16F,EAAK,iBACL26F,EAAM,MACN7hE,EAAO,OACP3T,EAAO,OACPC,EAAO,OACP5qB,EAAO,OACPqgG,EAAO,SACP31E,EAAO,SACPrD,EAAQ,QACR7gD,EAAQ,QACR73C,EAAQ,SACR8xK,EAAQ,UACRh2E,EAAQ,UACRr0D,EAAS,SACTs4D,EAAW,WACXijF,EAAU,+BACVmJ,EAAa,aACb3yE,EAAa,aACbD,EAAa,aACb1P,EAAc,cACd9Q,EAAgB,mBAChBE,EAAc,iBACdD,EAAe,kBACf05E,EAAa,gBACb0Z,EAAW,eACXC,EAAmB,gBAAkBtzF,EAAgB,IACrDuzF,EAA2B,UAC3BC,EAAiB,uBAAyBF,EAAmB,SAAWpzF,EAAc,IACtFuzF,EAAkB,IAElBnyF,EAAY,CACRznD,QAAS72C,EACL,gHAEJglL,YAAahlL,EACT,kFACI,mDACJ,qBAEJilC,KAAMjlC,EACF,2GACI,yBACJ,SAEJi/B,MAAOj/B,EAAS,sDAChBilL,OAAQjlL,EAAS,sDACjB29C,MAAO39C,EAAS,KAGpB23K,EAAY,CACRC,gBAAiB,SAAStxH,EAAOrhB,GAC7B,IAAI1/B,EAAS,CAAC,kBAAmB,UAC7B4F,EAAQ85B,EAAK95B,MAEjB,GAAI85B,EAAKjlB,UAAY,MACjBza,EAAOrH,KAAK,oBAGhB,GAAIiN,IAAU,EACV5F,EAAOrH,KAAK,WAGhB,GAAIiN,GAASm7C,EAAMxqD,OAAS,EACxByJ,EAAOrH,KAAK,UAGhB,OAAOqH,EAAOzG,KAAK,MAEvBkpL,eAAgB,SAAS/iJ,GACrB,OAAOA,EAAKlgB,IAAM,UAAYkgB,EAAKlgB,IAAM,IAAM,IAEnDqX,KAAM,SAAS6I,GACX,OAAOA,EAAKo6D,UAAY,MAAQp6D,EAAK7I,KAAO9iC,EAAM8nB,WAAW6jB,EAAK7I,OAEtEq7G,IAAK,SAASxyG,GACV,OAAOA,EAAKlgB,IAAM,IAAM,QAE5BmjK,kBAAmB,SAASrxI,GACxB,OAAOA,EAAQoiF,SAAW,KAAO,iEAAmE,IAExGpiF,QAAS,SAAS5R,GACd,OAAOA,EAAK4R,QAAU5R,EAAK4R,QAAU5R,EAAK8iJ,WAAa,GAAK,UAEhEA,WAAY,SAAS9iJ,GACjB,OAAOA,EAAK8iJ,WAAazuL,EAAM6Y,KAAK,eAAiB,KAAO8yB,EAAK8iJ,WAAa,IAAM,KAIhG,SAAS2I,EAAiBC,GACtBA,EAAKtzI,SAASo4H,GACTvjK,SAAS6jK,GAEd4a,EAAKtzI,SAAS,KACTnrC,SAASyjK,GACTt4H,SAASo4H,GACTvjK,SAAS6jK,GAEd4a,EAAK1kK,OAAO,gBACP/Z,SAAS8qF,GACT7qF,KAAK,gBAAiB,QACtBqW,KAAK,WAAY,OAEtBmoK,EAAK1kK,OAAO,0BACPoxB,SAAS,KACTpxB,OAAO,UACP1a,SACAW,SAASgrF,EAAc,IAAMmzF,GAElCM,EAAKx+K,KAAK,OAAQ,OAClBw+K,EAAK1kK,OAAO,IAAMixE,GACb/qF,KAAK,gBAAiB,MAG3Bw+K,EAAKl3L,KAAK,WACN,IAAIwrC,EAAO/rC,EAAE8C,MAEb,IAAKipC,EAAKoY,SAAS,IAAMs4H,GAAM75K,OAC3BmpC,EACK6yC,WACA7rD,OAAO,WAAa,OAASjwB,KAAKiyB,SAAS3tB,MAAMk1K,MAA0Bx5K,KAAK0vB,UAAY,IAAMqN,EAAK/8B,KAAKk9B,cAC5GujB,QAAQ,kCAAoCk5H,EAAO,SAMpE,SAASmD,EAAgB8X,GACrB,IAAID,EAAOC,EAASvzI,SAAS,WAE7BszI,EAAK1kK,OAAO,8BAA8Bxa,YAAYsuF,GACtD4wF,EAAK1kK,OAAO,4BAA4Bxa,YAAYuuF,GACpD2wF,EAAK1kK,OAAO,gBAAgB/Z,SAAS6tF,GACrC4wF,EAAK1kK,OAAO,eAAe/Z,SAAS8tF,GAGxC,SAAS6wF,EAAiBC,EAAa70F,GACnC,MAAO,4GAA8G60F,EAAc,yDAA2D70F,EAAY,mBAG9M,IAAI80F,EAAWjuK,EAAOtpB,OAAO,CACzBiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAAMsH,EAEjBwf,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCc,EAAKs+K,YAAYt+K,EAAKd,SAEtBA,EAAUc,EAAKd,QAEfc,EAAKy0L,aAAev1L,EAAQsvL,aAAe,GAE3CxuL,EAAKy7E,WAELz7E,EAAKmuG,OAASpxG,EAAMW,QAAQob,MAAM9Y,EAAKiW,SAEvCjW,EAAK2qB,YACL3qB,EAAKq+K,iBACLr+K,EAAK6hE,cAEL7hE,EAAKq0L,SAASz+K,KAAK,OAAQ,QAC3B5V,EAAKiW,QAAQL,KAAK,OAAQ,WAE1B,GAAI1W,EAAQkrB,WACRpqB,EAAKoqB,WAAW8wC,QAGpBl7D,EAAK00L,eACL10L,EAAKsoK,cACLtoK,EAAK20L,sBACL30L,EAAKsiF,gBAEL,GAAItiF,EAAKd,QAAQ6H,MACbA,EAAQ/G,EAAKd,QAAQ6H,MAGzB/G,EAAK40L,mBACL50L,EAAK+G,MAAMA,GACXhK,EAAMoxB,OAAOnuB,IAGjByB,OAAQ,CACJ0tC,EACAs4D,EACA1uB,EACAx5B,EACAgyD,EACA,SACA,cACA,aAGJryG,QAAS,CACLhD,KAAM,WACN24L,iBAAkB,GAClBxsH,cAAe,GACfwgH,iBAAkB,GAClBiM,kBAAmB,GACnBC,aAAc,GACdC,mBAAoB,GACpBC,oBAAqB,GACrBC,YAAa,MACbtsF,UAAW,CACPC,KAAM,CACFpmF,QAAS,yBACTI,SAAU,KAEd62B,MAAO,CACH72B,SAAU,MAGlBsyK,YAAa,MACblxF,YAAa,KACbuqF,YAAa,MACbzlB,WAAY,CACRl4H,SAAUqjJ,IAIlB9tF,cAAe,SAASh8E,GACpB,IAAIpqB,EAAOP,KAEXO,EAAKd,QAAQkrB,WAAaA,EAC1BpqB,EAAK6hE,cACL7hE,EAAKoqB,WAAW8wC,SAGpBnwC,WAAY,SAAS7rB,GACjB,IAAIc,EAAOP,KACPmpG,EAAY5oG,EAAKd,QAAQ0pG,UAE7B5oG,EAAKs+K,YAAYp/K,GAEjB,GAAIA,EAAQsvL,YACRxuL,EAAKy0L,aAAev1L,EAAQsvL,YAGhCtvL,EAAQ0pG,UAAY3rG,EAAO,KAAM2rG,EAAW1pG,EAAQ0pG,WAEpD,GAAI1pG,EAAQ+kG,YACRjkG,EAAKiW,QAAQ4P,GAAG,UAAY04D,EAAIv+E,EAAKo1L,oBAErCp1L,EAAKiW,QAAQ6c,IAAI,UAAYyrD,EAAIv+E,EAAKo1L,eAG1C7uK,EAAOnmB,GAAG2qB,WAAW9oB,KAAKjC,EAAMd,IAGpCm2L,YAAa,SAAS3sJ,GAClB,GAAIjpC,KAAK40L,SAASvzI,SAAS,oBAAoBvhD,OAAU,OAEzDmpC,EAAOjpC,KAAK40L,SAAS7kK,KAAKkZ,GAE1B,IAAI1oC,EAAOP,KACPovL,EAAoB7uL,EAAKd,QAAQ0pG,UACjCA,EAAYimF,EAAkBhmF,KAC9BnvD,EAAQz8C,EAAO,GAAI4xL,EAAkBn1I,OACrC47I,EAAoB57I,GAAS,YAAaA,EAC1C67I,EAAa7sJ,EAAK1zB,SAAS8rC,WAC3B00I,EAASD,EAAW7lK,OAAO,IAAMixE,GACjCzyC,EAAYqnI,EAAW3mL,MAAM85B,GAC7B+sJ,EAAqB7sF,GAAa,aAAcA,GAAa,YAAaA,EAE9ElvD,EAAQz8C,EAAQq4L,EAAoB57I,EAAQz8C,EAAO,CAAEqR,QAAS,MAAQs6F,GAAY,CAAE5lF,KAAM,OAE1F,GAAIjmB,EAAM0U,KAAKm3F,EAAUnmF,SAAU,CAC/B+yK,EAAOnxK,iBAAiBs8E,EAAa,CAAE99E,SAAU62B,EAAM72B,WACvD6lB,EAAKrkB,iBAAiB+1J,EAAY,CAAEv3J,SAAU62B,EAAM72B,eACjD,CACH2yK,EAAOtgL,YAAYyrF,GACnBj4D,EAAKxzB,YAAYklK,GAIrB,IAAIsb,EAAmB11L,EAAK01L,iBAE5B,GAAI11L,EAAK21L,UAAW,CAChB31L,EAAKg3D,IAAI4+H,QACT51L,EAAK21L,UAAY,MAGrB,GAAID,EAAiBn2L,SAAW,EAAG,CAC/BS,EAAKq0L,SAAS7kK,KAAK,IAAMskK,GAAU5+K,YAAY4+K,GAC/CprJ,EAAK/yB,SAASm+K,GACTx/K,IAAI,WAETo0B,EAAK/yB,SAASgrF,GACd3gG,EAAK4sH,SAASlkF,GAEd1oC,EAAK8B,QAAQ,UAEb,GAAI9B,EAAK61L,sBACL71L,EAAK81L,kBAAkBptJ,GAG3B,OAAO,MAGX,IAAIqtJ,EAAkBL,EAAiBhmK,OAAO,IAAMixE,GAChDq1F,EAAgBh2L,EAAKg2L,cAAc9nI,GACnC6tB,EAAiBi6G,EAAch8K,QAAQ,cAE3Cha,EAAKi2L,WAAavmL,EAAY1P,EAAKq0L,UACjBvlL,SAAS9O,EAAKiW,QAAQ3B,IAAI,oBAAqB,IAC/CxF,SAAS9O,EAAKiW,QAAQ3B,IAAI,uBAAwB,IAEpE,GAAI0hL,EAAcz2L,SAAW,EAAG,CAC5Bw2L,EACK7gL,YAAayrF,GACb/qF,KAAK,cAAe,MACpBmO,UAAU,KAAM,MAChBI,aAAcu1B,GACnB,OAAO,MAGXhR,EAAK9yB,KAAK,iBAAkB,MAE5B,IAAIsgL,GAAiBxtJ,EAAKoY,SAAS,IAAMs4H,GAAM11K,KAAKmwL,IAAe7zL,EAAKy0L,aAAavmI,IAAc,QAAU8nI,EAActgL,GAAGhO,GAC1HyuL,EAAqB,WACjBX,EAAO1qK,WAAW,iBAClB4d,EAAK9yB,KAAK,gBAAiB,MAE3B5V,EAAK4sH,SAASlkF,GAEdqzC,EACKpmE,SAASgrF,GACT71E,WAAW,eACX/G,UAAU,KAAM,MAChBnO,KAAK,gBAAiB,MACtBuO,aAAclnB,EAAO,CAAEiD,KAAM,WAC1BF,EAAK8B,QAAQi3E,EAAM,CAAErwC,KAAMA,EAAK,GAAIqzC,eAAgBi6G,EAAc,KAClEj5L,EAAMopB,OAAO6vK,KACZptF,EAAW,CACZ9lF,SAAU,WACN4lB,EAAK5d,WAAW,kBAEhB9qB,EAAK8B,QAAQ2lG,EAAU,CAAE/+D,KAAMA,EAAK,GAAIqzC,eAAgBi6G,EAAc,KACtEj5L,EAAMopB,OAAO6vK,GAGb,GAAIP,IAAuB14L,EAAMW,QAAQ+a,QAAQiG,MAAQ3hB,EAAMW,QAAQ+a,QAAQ+F,MAC3Ew3K,EAAc5U,SAASl+J,QAAQ,CAC3BmN,QAAS,IACX,OAAQ,SAAU,WAChB2lK,EAAc5U,SAASl+J,QAAQ,CAC3BmN,QAAS,GACX,OAAQ,iBAMlC+lK,EAAc,WACV,IAAKF,EAAe,CAChBC,IACAn2L,EAAK8B,QAAQ,cACV,CACH4mC,EAAK5d,WAAW,kBAChB9qB,EAAKq2L,YAAY3tJ,EAAMstJ,EAAe,WAClCttJ,EAAK9yB,KAAK,iBAAkB,MAC5BugL,IACAn2L,EAAK8B,QAAQ,YAIrB,GAAI9B,EAAK61L,sBACL71L,EAAK81L,kBAAkBptJ,IAMnC,IAAI4tJ,EAAet2L,EAAKsP,QAAQgF,IAAI,cACpCtU,EAAKsP,QAAQgF,IAAI,aAActU,EAAKsP,QAAQI,eAE5CqmL,EACS7gL,YAAYyrF,GAErB3gG,EAAKq0L,SAAS7kK,KAAK,IAAMskK,GAAU5+K,YAAY4+K,GACvCprJ,EAAK/yB,SAASm+K,GACTx/K,IAAI,WAEjB,GAAIvX,EAAM0U,KAAKm3F,EAAUnmF,SACrBimB,EAAKtkB,cAAcu8E,EAAa,CAAE99E,SAAU+lF,EAAU/lF,gBAEtD6lB,EAAK/yB,SAASgrF,GAGlBo1F,EAAgBngL,KAAK,cAAe,MACpCmgL,EAAgBngL,KAAK,gBAAiB,OAEtC,GAAImgL,EAAgBx2L,OAChBw2L,EACKhyK,UAAU,KAAM,MAChBI,aAAalnB,EAAQ,CAClB6lB,SAAUszK,GACZ18I,SAEN08I,IAGJp2L,EAAKsP,QAAQgF,IAAI,aAAcgiL,GAE/B,OAAO,MAGXD,YAAa,SAAS/mL,EAASgrC,EAASx3B,EAAU0F,GAC9ClZ,EAAU7P,KAAK40L,SAAS7kK,KAAKlgB,GAE7B,IAAItP,EAAOP,KACPu3D,EAAMr6D,EAAE45L,aAAav/H,IACrBsvB,EAAOh3E,EAAQkgB,KAAK,IAAM4pJ,GAC1B11K,EAAO,GACP8yL,EAAYlnL,EAAQ8F,QAAU,EAC9BqhL,EAAe,MACfxH,EAAa3/K,EAAQkgB,KAAK,cAActa,YAAY,cAExD,IAAK+5K,EAAW,GACZA,EAAatyL,EAAE,6BAA6B4zB,UAAUjhB,GAG1D,IAAIonL,EAAWF,EAAY,EAAIvH,EAAW75K,QAE1C,IAAIuhL,EAAuB,WACvB1H,EAAW/rK,QAAQ,CAAEuvD,YAAa3jE,SAASmgL,EAAW36K,IAAI,cAAe,KAAO,GAAKkiL,EAAYE,EAAW,GAAK,IAAKC,IAG1H,GAAI55L,EAAMW,QAAQ+a,QAAQiG,MAAQ3hB,EAAMW,QAAQ+a,QAAQhc,QAAU,GAC9Dm2B,WAAW+jK,EAAsB,IAGpCnuK,EAAMA,GAAO89D,EAAK5iF,KAAKmwL,IAAe7zL,EAAKy0L,aAAanlL,EAAQV,UAAY03E,EAAK1wE,KAAKyhG,GACvFr3G,EAAK21L,UAAY,KAEjB,IAAIiB,EAAc,CACd5vL,KAAM,MACN2wB,MAAO,MACPnP,IAAKA,EACLwwB,SAAU,OACVt1C,KAAMA,EACNszD,IAAK,WACD,IAAI1uD,EAAU7I,KACVo3L,EAAU7/H,IACVl8C,EAAQxS,EAAQwuL,eAAiB,iBAAmBxuL,EAAQwnB,SAAW,WAAa,MAExF,GAAI+mK,EACAl6L,EAAEO,KAAK,CAAE25L,EAASA,EAAQE,QAAU,WAChC,GAAIt3L,KAAKmgB,iBACLngB,KAAKmgB,iBAAiB,WAAY,SAASo3K,GACvC,GAAIl8K,EACAxS,EAAQwS,GAAOk8K,IAEpB,SAKf1uL,EAAQ2uL,aAAep6L,OAAOq6L,gBAAmB,WAAY,IAAIA,gBACjE,OAAOL,GAGX/mK,SAAU,SAASknK,GACf,GAAIA,EAAIG,iBAAkB,CACtB,IAAIlrL,EAAU6C,SAAUkoL,EAAIv2H,OAASu2H,EAAIz6I,MAAQ,IAAM,IAAM,IAC7D0yI,EACK/qK,KAAK,MACLvO,SAAS,cACTrB,IAAI,CACDc,MAASnJ,EACTwmE,WAAc,MAK9BztD,MAAO,SAASgyC,EAAKnb,GACjB,GAAI77C,EAAK8B,QAAQ,QAAS,CAAEk1D,IAAKA,EAAKnb,OAAQA,IAC1Cp8C,KAAKqjB,YAIbs0K,aAAc,WACVtrJ,cAAc2qJ,GACdxH,EACK/qK,KAAK,MACLvO,SAAS,cACT,GAAGN,MAAMqE,QAAU,IAG5BoJ,SAAU,SAASk0C,GACfh3D,EAAK21L,UAAY,MACjB,GAAIl2L,KAAKw3L,WACLrkK,WAAWnzB,KAAK23L,aAAc,UAE9B33L,KAAK23L,eAGT,GAAIpgI,EAAIqgI,YAAc,QAClBpI,EAAWz+J,UAInB0sB,QAAS,SAASx5C,GACdurL,EAAWt5K,SAAS,cACpB,IACI,IAAIrN,EAAU7I,KACVghE,EAAS,GAEb,GAAIn4D,EAAQ2uL,WAAY,CACpBhI,EAAW75K,MAAMqrD,EAAS,KAC1Bg2H,EAAe5qJ,YAAY,WACvBvjC,EAAQwnB,SAAS,CAAEqnK,iBAAkB,KAAM12H,OAAQljE,KAAKiR,IAAIiyD,EAAQ,KAAMlkB,MAAO,MACjFkkB,GAAU,IACX,IAGPzgE,EAAKmqB,QAAQ,UAAW,WAAa,MAAO,CAAE0D,SAAUysB,EAAQvxB,SAChEhsB,EAAM2uB,QAAQ4uB,GACdA,EAAQ32C,KAAKD,GACf,MAAO3B,GACL,IAAIgoB,EAAUltB,OAAOktB,QAErB,GAAIA,GAAWA,EAAQ/E,MACnB+E,EAAQ/E,MAAMjjB,EAAE7F,KAAO,KAAO6F,EAAE+nB,QAAU,OAAStB,GAEvD/oB,KAAKulB,MAAMvlB,KAAKu3D,IAAK,SAGzB,GAAIl0C,EACAA,EAAS7gB,KAAKjC,EAAMs6C,GAGxBt6C,EAAKmqB,QAAQ,UAAW,WAAa,MAAO,CAAE0D,SAAUysB,EAAQvxB,SAEhE/oB,EAAK8B,QAAQyvG,EAAa,CAAE7oE,KAAMp5B,EAAQ,GAAIysE,eAAgBzhC,EAAQ,OAI9E,UAAW9xB,IAAQ,SAAU,CACzBouK,EAAcj6L,EAAEM,OAAO,KAAM,GAAI25L,EAAapuK,GAE9C,GAAI9nB,EAAWk2L,EAAYpuK,KACvBouK,EAAYpuK,IAAMouK,EAAYpuK,MAItCxoB,EAAKg3D,IAAMr6D,EAAEsgD,KAAK25I,IAGtBp2H,OAAQ,SAAS82H,GACb,IAAIt3L,EAAOP,KACPoiL,EAAW7hL,EAAKu3L,QAAQD,GAE5Bp6L,EAAK2kL,EAASuS,KAAM,SAAShzL,GACzB,IAAIm6E,EAAWsmG,EAAStmG,SAASn6E,GACjCpB,EAAKq0L,SAAS7zH,OAAO/gE,MACrB,GAAIO,EAAKd,QAAQg2L,aAAe,SAC5Bl1L,EAAKw3L,WAAWxgG,OAAOzb,QAEvBv7E,EAAKiW,QAAQuqD,OAAO+a,GAExBv7E,EAAKmqB,QAAQ,UAAW,WAAa,MAAO,CAAE0D,SAAU,CAAE0tD,QAG9DghG,EAAgBv8K,EAAKq0L,UACrBr0L,EAAKy3L,yBACLz3L,EAAKmmB,OAAO,MAEZ,OAAOnmB,GAGX+7E,eAAgB,SAAS7tB,GACrB,GAAI36C,MAAM26C,EAAY,GAClB,OAAOpxD,EAGX,IAAI46L,EAAkBj4L,KAAKi4L,iBAAmBj4L,KAAKi4L,gBAAgB,KAAO36L,EAAMmlB,oBAAsBziB,KAAKi4L,gBAAkBj4L,KAAKi2L,iBAClI,IAAIz5L,EAAKU,EAAE8C,KAAK40L,SAASvzI,WAAWoN,IAAYt4C,KAAK,iBAErD,GAAI8hL,EACA,IAAK,IAAIp4L,EAAI,EAAGsqB,EAAM8tK,EAAgBn4L,OAAQD,EAAIsqB,EAAKtqB,IACnD,GAAIo4L,EAAgBnmK,GAAGjyB,GAAG0a,QAAQ,cAAc,GAAG/d,IAAMA,EACrD,OAAOy7L,EAAgBp4L,GAKnC,OAAOxC,GAGXk5L,cAAe,SAAS9nI,GACpB,IAAI6tB,EAAiBp/E,EAAE8C,KAAKs8E,eAAe7tB,IACvCypI,EAAkB57G,EAAej7B,SAAS,wBAE9C,OAAO/jD,EAAMW,QAAQyc,OAASw9K,EAAgB,GAAKA,EAAkB57G,GAGzE67G,cAAe,SAASlvJ,GACpB,IAAI1oC,EAAOP,KACPovL,EAAoB7uL,EAAKd,QAAQ0pG,UACjCA,EAAYimF,EAAkBhmF,KAC9BnvD,EAAQz8C,EAAO,GAAI4xL,EAAkBn1I,OACrC47I,EAAoB57I,GAAS,YAAaA,EAC9ChR,EAAO1oC,EAAKq0L,SAAS7kK,KAAKkZ,GAE1BgR,EAAQz8C,EAAQq4L,EAAoB57I,EAAQz8C,EAAO,CAAEqR,QAAS,MAAQs6F,GAAY,CAAE5lF,KAAM,OAE1F,GAAIjmB,EAAM0U,KAAKm3F,EAAUnmF,SACrBimB,EAAKrkB,iBAAiBs8E,EAAa,CAAE99E,SAAU+lF,EAAU/lF,gBAEzD6lB,EAAKxzB,YAAYyrF,GAGrBj4D,EAAK5d,WAAW,iBAEhB9qB,EAAK01L,iBACIhmK,OAAO,IAAMixE,GACb58E,UAAU,KAAM,MAChBI,aAAcu1B,GACdxkC,YAAYyrF,GACZ/qF,KAAK,cAAe,OAGjC8V,QAAS,WACL,IAAI1rB,EAAOP,KAEX8mB,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,GAEvB,GAAIA,EAAK2kG,gBACL3kG,EAAKoqB,WAAW1oB,OAAO,SAAU1B,EAAK2kG,iBAG1C3kG,EAAKiW,QAAQ6c,IAAIyrD,GACjBv+E,EAAKq0L,SAASvhK,IAAIyrD,GAElB,GAAIv+E,EAAK61L,sBAAuB,CAC5B71L,EAAK63L,kBAAkB/kK,MAAMtC,SAC7BxwB,EAAK83L,kBAAkBhlK,MAAMtC,SAGjCzzB,EAAM2uB,QAAQ1rB,EAAKiW,UAGvB0N,QAAS,SAASrU,GACd7P,KAAKiiL,gBAAgBpyK,EAAS,OAE9B,OAAO7P,MAGXokB,OAAQ,SAASvU,EAAS45C,GACtBzpD,KAAKiiL,gBAAgBpyK,EAAS45C,IAAU,OAExC,OAAOzpD,MAGXqlF,YAAa,SAASwyG,EAAKS,GACvB,GAAIp7L,EAAE26L,GAAK5hL,GAAG/Y,EAAEo7L,IACZA,EAAet4L,KAAK40L,SAAS7kK,KAAKuoK,GAAcnrJ,YAEhDmrJ,EAAet4L,KAAK40L,SAAS7kK,KAAKuoK,GAGtC,IAAI/3L,EAAOP,KACPoiL,EAAW7hL,EAAKu3L,QAAQD,GACxBU,EAAmBh4L,EAAKsP,QAAQkgB,KAAK,QAAUuoK,EAAaniL,KAAK,iBAAmB,MAExF1Y,EAAK2kL,EAASuS,KAAM,SAAShzL,GACzB,IAAIm6E,EAAWsmG,EAAStmG,SAASn6E,GACjC,IAAI62L,EAAYpW,EAASqW,eAAiBl4L,EAAKy0L,aAAal1L,QAAUsiL,EAASuS,KAAK70L,OAAS6B,GAAOzE,EAAE4+E,GAAU3sE,QAAU,EAE1HmpL,EAAar7G,MAAMj9E,MACnBu4L,EAAiBt7G,MAAMnB,GAEvBv7E,EAAKm4L,aAAaF,EAAWt7L,EAAE8C,MAAMmP,SACrC5O,EAAKmqB,QAAQ,UAAW,WAAa,MAAO,CAAE0D,SAAU,CAAE0tD,QAG9DghG,EAAgBv8K,EAAKq0L,UACrBr0L,EAAKy3L,uBAAuB5V,EAASqW,gBACrCl4L,EAAKmmB,OAAO,MAEZ,OAAOnmB,GAGXqnE,aAAc,SAASiwH,EAAKS,GACxB,GAAIp7L,EAAE26L,GAAK5hL,GAAG/Y,EAAEo7L,IACZA,EAAet4L,KAAK40L,SAAS7kK,KAAKuoK,GAAc38H,YAEhD28H,EAAet4L,KAAK40L,SAAS7kK,KAAKuoK,GAGtC,IAAI/3L,EAAOP,KACPoiL,EAAW7hL,EAAKu3L,QAAQD,GACxBU,EAAmBh4L,EAAKsP,QAAQkgB,KAAK,QAAUuoK,EAAaniL,KAAK,iBAAmB,MAExF1Y,EAAK2kL,EAASuS,KAAM,SAAShzL,GACzB,IAAIm6E,EAAWsmG,EAAStmG,SAASn6E,GACjC,IAAI62L,EAAYpW,EAASqW,eAAiBl4L,EAAKy0L,aAAal1L,QAAUsiL,EAASuS,KAAK70L,OAAS6B,GAAOzE,EAAE4+E,GAAU3sE,QAAU,EAE1HmpL,EAAa/gG,OAAOv3F,MACpBu4L,EAAiBhhG,OAAOzb,GAExBv7E,EAAKm4L,aAAaF,EAAWt7L,EAAE8C,MAAMmP,SACrC5O,EAAKmqB,QAAQ,UAAW,WAAa,MAAO,CAAE0D,SAAU,CAAE0tD,QAG9DghG,EAAgBv8K,EAAKq0L,UACrBr0L,EAAKy3L,uBAAuB5V,EAASqW,gBACrCl4L,EAAKmmB,OAAO,MAEZ,OAAOnmB,GAGX8tB,MAAO,WACH,OAAOruB,KAAK40L,SAAS,GAAGvzI,UAG5BvnC,QAAS,SAASxX,GACd,IAAI/B,EAAOP,KACPP,EAAUc,EAAKd,QACf4jG,EAAU/lG,EAAM6rB,OAAO1pB,EAAQ21L,kBAC/Bh1J,EAAO9iC,EAAM6rB,OAAO1pB,EAAQmpE,eAC5B/tB,EAAUv9C,EAAM6rB,OAAO1pB,EAAQ2pL,kBAC/B2C,EAAazuL,EAAM6rB,OAAO1pB,EAAQ+1L,qBAClCvyJ,EAAQ3lC,EAAM6rB,OAAO1pB,EAAQ41L,mBAC7BtsK,EAAMzrB,EAAM6rB,OAAO1pB,EAAQ61L,cAC3BrM,EAAS3rL,EAAM6rB,OAAO1pB,EAAQ81L,oBAC9B5zL,EACAgzL,EAAO,GACPkD,EACA9yJ,EACArT,EAAOnxB,EAAKoqB,WAAW+G,OACvB5xB,EAGJwC,EAAIA,GAAK,GACTyiC,EAASziC,EAAEyiC,OAEX,GAAIA,EACDrT,EAAOpvB,EAAE+rB,MAGZ,IAAK1sB,EAAM,EAAG7B,EAAS4xB,EAAK5xB,OAAQ6B,EAAM7B,EAAQ6B,IAAQ,CACtDk2L,EAAM,CACFz3J,KAAMA,EAAK1O,EAAK/vB,KAGpB,GAAIlC,EAAQ21L,iBACRyC,EAAIx0F,QAAUA,EAAQ3xE,EAAK/vB,IAG/B,GAAIlC,EAAQ2pL,iBACRyO,EAAIh9I,QAAUA,EAAQnpB,EAAK/vB,IAG/B,GAAIlC,EAAQ+1L,oBACRqC,EAAI9L,WAAaA,EAAWr6J,EAAK/vB,IAGrC,GAAIlC,EAAQ61L,aACRuC,EAAI9uK,IAAMA,EAAI2I,EAAK/vB,IAGvB,GAAIlC,EAAQ41L,kBACRwC,EAAI13F,SAAWl9D,EAAMvR,EAAK/vB,IAG9B,GAAIlC,EAAQ81L,mBACRsC,EAAI33F,eAAiB+oF,EAAOv3J,EAAK/vB,IAGrCgzL,EAAKhzL,GAAOk2L,EAGhB,GAAIv1L,EAAEyiC,QAAU,MACZ,GAAIziC,EAAE6M,MAAQ5O,EAAKq0L,SAASvzI,WAAWvhD,OACnCS,EAAKqnE,aAAa+sH,EAAMp0L,EAAKq0L,SAASvzI,WAAWvvB,GAAGxvB,EAAE6M,aAEtD5O,EAAKwgE,OAAO4zH,QAEb,GAAIryL,EAAEyiC,QAAU,SACnB,IAAKpjC,EAAM,EAAGA,EAAM+vB,EAAK5xB,OAAQ6B,IAC9BpB,EAAKwwB,OAAOzuB,EAAE6M,YAEd,GAAI7M,EAAEyiC,QAAU,aAAc,CACjCpjC,EAAMpB,EAAKoqB,WAAW+G,OAAO7kB,QAAQ6kB,EAAK,IAC1C,GAAIpvB,EAAEue,QAAUphB,EAAQmpE,cACpBroE,EAAKq0L,SAASvzI,WAAWvvB,GAAGnwB,GAAKouB,KAAK,WAAWqQ,KAAK1O,EAAK,GAAGpI,IAAIhnB,EAAEue,QAGxE,GAAIve,EAAEue,QAAUphB,EAAQ61L,aACpB/0L,EAAKy0L,aAAarzL,GAAO+vB,EAAK,GAAGpI,IAAIhnB,EAAEue,WAExC,CACHtgB,EAAK8B,QAAQ,eACb9B,EAAKwwB,OAAO,MACZxwB,EAAKy0L,aAAe,GACpBz0L,EAAKwgE,OAAO4zH,GACZp0L,EAAK8B,QAAQ,eAIrB07E,OAAQ,SAASluE,GACbA,EAAU7P,KAAK40L,SAAS7kK,KAAKlgB,GAC7B,IAAItP,EAAOP,KACX,IAAI+uL,EAAcxuL,EAAKy0L,aAEvBnlL,EAAQpS,KAAK,WACT,IAAIwrC,EAAO/rC,EAAE8C,MACT+rL,EAAa9iJ,EAAKlZ,KAAK,IAAM4pJ,GAAM11K,KAAKmwL,IAAerF,EAAY9lJ,EAAK95B,SACxE0rC,EAAUt6C,EAAKg2L,cAActtJ,EAAK95B,SAEtC,GAAI48K,EACAxrL,EAAKq2L,YAAY3tJ,EAAM4R,EAAS,KAAMkxI,KAI9C,OAAOxrL,GAGXwwB,OAAQ,SAAS3C,GACb,IAAI7tB,EAAOP,KACX,IAAIuH,SAAc6mB,EAClB,IAAI0tD,EAEJ,GAAIv0E,IAAS,SACT6mB,EAAW7tB,EAAKq0L,SAAS7kK,KAAK3B,QAC3B,GAAI7mB,IAAS,SAChB6mB,EAAW7tB,EAAKq0L,SAASvzI,WAAWvvB,GAAG1D,GAG3C0tD,EAAW1tD,EAASld,IAAI,WACpB,IAAIvP,EAAMzE,EAAE8C,MAAMmP,QAClB,IAAI0rC,EAAUt6C,EAAK+7E,eAAe36E,GAElCrE,EAAM2uB,QAAQ4uB,GACdt6C,EAAKo4L,eAAeh3L,GAEpB,OAAOk5C,IAGXzsB,EAAS2C,SACT+qD,EAASn6B,QACTm6B,EAAS/qD,SAETxwB,EAAKy3L,yBACLz3L,EAAKmmB,OAAO,MAEZ,OAAOnmB,GAGXs/B,OAAQ,SAAShwB,GACb,IAAItP,EAAOP,KAEX,GAAIJ,UAAUE,SAAW,EACrB,OAAOS,EAAKq0L,SAASvzI,SAAS,MAAQ6/C,GAG1C,IAAKptF,MAAMjE,GACPA,EAAUtP,EAAKq0L,SAASvzI,WAAW/3B,IAAIzZ,GAG3CA,EAAUtP,EAAKq0L,SAAS7kK,KAAKlgB,GAC7B3S,EAAE2S,GAASpS,KAAK,SAAS0R,EAAO85B,GAC5BA,EAAO/rC,EAAE+rC,GACT,IAAKA,EAAKvzB,SAASwrF,KAAiB3gG,EAAK8B,QAAQqtC,EAAQ,CAAEzG,KAAMA,EAAK,GAAIqzC,eAAgB/7E,EAAKg2L,cAActtJ,EAAK95B,SAAS,KACvH5O,EAAKq1L,YAAY3sJ,KAIzB,OAAO1oC,GAGX+G,MAAO,SAASA,GACZ,IAAI/G,EAAOP,KAEX,GAAIsH,IAAUjK,GACV,GAAIiK,GAAS/G,EAAK+G,QACf/G,EAAKq0L,SAASvzI,WAAW5jD,KAAK,WACzB,GAAIH,EAAMy/B,KAAK7/B,EAAE8C,MAAMogC,SAAW94B,EAC9B/G,EAAKs/B,OAAO7/B,aAKxB,OAAOO,EAAKs/B,SAASO,QAI7Bu4F,QAAS,WACL,IAAI1vF,EAAOjpC,KAAK40L,SAASvzI,WAAWpxB,OAAO,IAAMixE,GAEjDj4D,EAAOA,EAAK,GAAKA,EAAOjpC,KAAK44L,SAAS,SACtC,GAAI3vJ,EAAK,GACLjpC,KAAKmtH,SAASlkF,IAItB41I,YAAa,SAASp/K,GAClB,GAAIA,GAAY,cAAeA,IAAaA,EAAQ0pG,UAChD1pG,EAAQ0pG,UAAY,CAAEC,KAAM,CAAEpmF,QAAS,IAAMi3B,MAAO,CAAEj3B,QAAS,MAIvE61K,eAAgB,SAAS9vK,GACrB/oB,KAAKg1L,aAAa9yL,KAAK6mB,IAG3B85D,cAAe,WACX,IAAItiF,EAAOP,KACPP,EAAUc,EAAKd,QAEnBc,EAAKiW,QACA4P,GAAGq7F,EAAa3iC,EAAK,IAAM0iC,EAAa1iC,EAAI01G,EAAgBj0L,EAAK2rH,cACjE9lG,GAAG,QAAU04D,EAAIv+E,EAAKo4H,QAAQp3H,KAAKhB,IACnC6lB,GAAG,OAAS04D,EAAI,WAAav+E,EAAK4sH,SAAS,QAEhD5sH,EAAKo1L,cAAgBp1L,EAAKihG,SAASjgG,KAAKhB,GAExC,GAAId,EAAQ+kG,YACRjkG,EAAKiW,QAAQ4P,GAAG,UAAY04D,EAAIv+E,EAAKo1L,eAGzCp1L,EAAKq0L,SACAxuK,GAAGu6E,EAAQ7hB,EAAI,4BAA6B,OAC5C14D,GAAGu6E,EAAQ7hB,EAAI,MAAQw1G,EAAkB/zL,EAAKu4L,WAAWv3L,KAAKhB,KAGvEu1C,OAAQ,SAAS7M,GACb,IAAI1oC,EAAOP,KACP6mF,EAAO59C,EAAKlZ,KAAK,IAAM4pJ,GACvBxnJ,EAAO00D,EAAK1wE,KAAKyhG,GACjBl4E,EAAWn/B,EAAKd,QAAQi2L,YACxBvmL,EAAQ85B,EAAK95B,QACbonL,EAAgBh2L,EAAKg2L,cAAcpnL,GACnCwtH,EAASsyD,EACT6G,EAAa7sJ,EAAK1zB,SAAS8rC,WAC3B03I,EAAgBjD,EAAW7lK,OAAO,IAAMgxE,GAE5C,GAAIh4D,EAAK1uB,QAAQ,aAAa,IAAMha,EAAKiW,QAAQ,GAC7C,OAGJ,GAAIyyB,EAAKhzB,GAAG,IAAM+qF,IAAkBthE,EAAW,KAAOwhE,EAAc,KAAM,CACtE63F,EAActjL,YAAYwrF,GAC1B1gG,EAAKikH,SAAWv7E,EAEhBA,EAAK/yB,SAAS+qF,GACd1gG,EAAK4sH,SAASlkF,GAEd,GAAI1oC,EAAK61L,sBACL71L,EAAK81L,kBAAkBptJ,GAE3B,OAAO,KAGXgmJ,EAAWpoG,EAAK5iF,KAAKmwL,IAAe7zL,EAAKy0L,aAAa7lL,IAAWgjB,IAASA,EAAKpvB,OAAOovB,EAAKryB,OAAS,IAAM,KAAOqyB,EAAKtlB,QAAQ,IAAMtM,EAAKsP,QAAQ,GAAGrT,GAAK,OAAS,GAClKmgI,GAAWxqG,GAAQ88J,EAEnB,GAAI1uL,EAAKq0L,SAASvzI,SAAS,oBAAoBvhD,OAC3C,OAAO68H,EAGX,GAAIp8H,EAAK8B,QAAQqtC,EAAQ,CAAEzG,KAAMA,EAAK,GAAIqzC,eAAgBi6G,EAAc,KACpE,OAAO,KAGX,GAAI55D,IAAY,MACZ,OAGJ,GAAIj9F,GAAYuJ,EAAKhzB,GAAG,IAAMirF,GAAc,CACxC3gG,EAAK43L,cAAclvJ,GACnB,OAAO,KAGX,GAAI1oC,EAAKq1L,YAAY3sJ,GACjB0zF,EAAU,KAGd,OAAOA,GAGXm7D,QAAS,SAASD,GACd,IAAIt3L,EAAOP,KACX20L,EACA74G,EACAjhC,EACA49I,EAAiB,MAEjBZ,EAAMA,aAAev6L,EAAM2G,KAAK8S,gBAAkB8gL,EAAIjyL,SAAWiyL,EAEjE,GAAI36L,EAAE+C,cAAc43L,IAAQl6L,MAAMD,QAAQm6L,GAAM,CAC5CA,EAAMl6L,MAAMD,QAAQm6L,GAAOA,EAAM,CAACA,GAClCY,EAAiB,KAEjB9D,EAAOzjL,EAAI2mL,EAAK,SAASvwL,EAAO3F,GACpBpB,EAAKs4L,eAAehB,EAAIl2L,GAAKoqL,YAAc,MAE3C,OAAO7uL,EAAE63L,EAASrS,WAAW,CACzBp4H,MAAO/pD,EAAKq0L,SACZ3rJ,KAAMzrC,EAAO8J,EAAO,CAAE6H,MAAOxN,SAI7Cm6E,EAAW5qE,EAAK2mL,EAAK,SAASvwL,EAAO3F,GACzB,UAAW2F,EAAMuzC,SAAW,UAAYvzC,EAAMykL,WAC1C,OAAO7uL,EAAE63L,EAAS5L,cAAc,CAC5BlgJ,KAAMzrC,EAAO8J,EAAO,CAAE6H,MAAOxN,aAI9C,CACH,UAAWk2L,GAAO,UAAYA,EAAI,IAAM,IACpClD,EAAOp0L,EAAKsP,QAAQkgB,KAAK8nK,QAEzBlD,EAAOz3L,EAAE26L,GAEb/7G,EAAW5+E,IACXy3L,EAAKl3L,KAAK,WACN,GAAI,mBAAmBkJ,KAAK3G,KAAKwhB,WAAW5I,WAAY,CACpD,IAAI/I,EAAUtP,EAAKsP,QAAQkgB,KAAK,QAAU/vB,KAAKgvB,aAAa,iBAAmB,MAC/E6rB,EAAUhrC,OAEVgrC,EAAU39C,EAAE,eAAiB+tL,EAAU,OAG3CnvG,EAAWA,EAAS/3D,IAAI82B,KAG5B65I,EAAiBC,GAGrB,MAAO,CAAEA,KAAMA,EAAM74G,SAAUA,EAAU28G,eAAgBA,IAG7DtrE,SAAU,SAASvQ,GACf,IAAIr8G,EAAOP,KACPyuL,EAAUluL,EAAKikH,SAEnB,GAAI5H,IAAcv/G,EACd,OAAOoxL,EAGX,GAAIA,EACAA,EAAQh5K,YAAYwrF,GAGxB,GAAI2b,EAAW,CACX,IAAKA,EAAUlnG,SAASwrF,GACpB0b,EAAU1mG,SAAS+qF,GAGvB,GAAI2b,EAAU,GAAGpgH,GACb+D,EAAKsP,QAAQsG,KAAK,wBAAyBymG,EAAU,GAAGpgH,IAIhE+D,EAAKikH,SAAW5H,GAGpBx6C,YAAa,WACT,IAAI7hE,EAAOP,KAEX,GAAIO,EAAKoqB,YAAcpqB,EAAK2kG,gBACxB3kG,EAAKoqB,WAAW1oB,OAAO,SAAU1B,EAAK2kG,sBAEtC3kG,EAAK2kG,gBAAkB3kG,EAAKuZ,QAAQvY,KAAKhB,GAG7CA,EAAKoqB,WAAartB,EAAM2G,KAAKgT,WAAWimC,OAAO38C,EAAKd,QAAQkrB,YACvCppB,KAAK,SAAUhB,EAAK2kG,kBAG7C8zF,WAAY,SAASnpL,EAASlO,EAAKk2L,GAC/B,IAAIvjG,EAAYzkF,EAAQsG,KAAK,MACzB8iL,EAAYj5L,KAAK6P,QAAQsG,KAAK,MAC9BqT,EAAOlsB,EAAMksB,OAEjB,IAAK8qE,GAAaA,EAAUznF,QAAQosL,EAAY,MAAQ,EAAG,CACvD,IAAIC,GAAcD,GAAazvK,GAAQ,IAEvC,GAAIquK,EACAqB,GAAc,OAGlB,OAAOA,GAAcv3L,EAAM,GAG/B,OAAO2yF,GAGXskG,SAAU,SAAS7zJ,GACf,OAAO/kC,KAAK40L,SAASvzI,SAASizI,GAAkBvvJ,MAGpD84E,SAAU,SAAS94E,GACf,OAAO/kC,KAAK40L,SAASvzI,SAASkzI,GAA0BxvJ,MAG5DowJ,iBAAkB,WACd,IAAI50L,EAAOP,KACPo9I,EAAgB78I,EAAKq0L,SAASvzI,SAAS,MAAQ6/C,GAC/CrmD,EAAUt6C,EAAKg2L,cAAcn5C,EAAcjuI,SAE/C,GAAIiuI,EAAc,IAAMviG,EAAQ/6C,OAAS,GAAK+6C,EAAQ,GAAG7d,WAAWl9B,SAAW,EAC3ES,EAAKq1L,YAAYx4C,EAActrH,GAAG,KAI1Cy3I,MAAO,SAAStgI,EAAMlE,GAClB,IAAIo0J,EACJ,GAAIp0J,IAAWk/D,EACXk1F,EAAU,YAEVA,EAAU,QAGd,IAAKlwJ,EACD,OAAOjpC,KAAK44L,SAASO,GAGzBlwJ,EAAOA,EAAKlE,KAEZ,IAAKkE,EAAK,GACNA,EAAOjpC,KAAK40L,SAASvzI,SAASkzI,GAA0B4E,KAG5D,GAAIlwJ,EAAKvzB,SAASsrF,GACd/3D,EAAK/yB,SAAS+qF,GAElB,GAAIh4D,EAAKvzB,SAASsrF,IAAkB/3D,EAAKvzB,SAASwrF,GAC9ClhG,KAAKwkH,SAAWv7E,EAGpB,OAAOA,GAGX6vJ,WAAY,SAASx2L,GACjB,IAAI/B,EAAOP,KACPo5L,EAAK74L,EAAKiW,QAAQ,GAEtB,GAAI4iL,IAAO5pL,SAASC,cAAe,CAC/B,IAAIwP,EAAO3hB,EAAMW,QAAQ+a,QAAQiG,KACjC,GAAIA,EACA,IAEIm6K,EAAG13J,YACL,MAAO8D,GACL4zJ,EAAG/5J,aAGP+5J,EAAG/5J,QAIX,GAAI9+B,EAAKu1C,OAAO54C,EAAEoF,EAAEivC,gBAChBjvC,EAAEpB,kBAIVsgG,SAAU,SAASl/F,GACf,IAAI/B,EAAOP,KACPgH,EAAM1E,EAAE8+B,QACRv4B,EAAUtI,EAAK4sH,WACfksE,EAAM94L,EAAKmuG,OACXshD,EAAe,aAAarpJ,KAAKpG,EAAKd,QAAQg2L,aAC9C1wJ,EAEJ,GAAIziC,EAAE3C,QAAU2C,EAAEivC,gBAAkB1oC,EAChC,OAGJ,GAAI7B,IAAQugB,EAAKU,OAAS+nI,EACtBjrH,EAASm/D,OACN,GAAIl9F,IAAQugB,EAAKQ,KAAOioI,EAC3BjrH,EAASk/D,OACN,GAAIj9F,IAAQugB,EAAKS,OAASgoI,EAC7BjrH,EAASs0J,EAAMp1F,EAAOC,OACnB,GAAIl9F,IAAQugB,EAAKO,MAAQkoI,EAC5BjrH,EAASs0J,EAAMn1F,EAAOD,OACnB,GAAIj9F,GAAOugB,EAAKK,OAAS5gB,GAAOugB,EAAKa,SAAU,CAClD7nB,EAAKu1C,OAAOjtC,GACZvG,EAAEpB,sBACC,GAAI8F,GAAOugB,EAAKY,KAAM,CACzB5nB,EAAKu1C,OAAOv1C,EAAKs9G,SAAS,UAC1Bv7G,EAAEpB,iBACF,YACG,GAAI8F,GAAOugB,EAAKW,IAAK,CACxB3nB,EAAKu1C,OAAOv1C,EAAKs9G,SAAS,SAC1Bv7G,EAAEpB,iBACF,OAGJ,GAAI6jC,EAAQ,CACRxkC,EAAKu1C,OAAOv1C,EAAKgpK,MAAM1gK,EAASk8B,IAChCziC,EAAEpB,mBAIVw3L,aAAc,SAAShgK,EAAMC,GACzB34B,KAAKg1L,aAAavyL,OAAOk2B,EAAI,EAAG34B,KAAKg1L,aAAavyL,OAAOi2B,EAAM,GAAG,KAGtEw8J,oBAAqB,WACjB,IAAI30L,EAAOP,KAEX,GAAIO,EAAKy0L,aAAal1L,OAClBS,EAAKq0L,SAASvzI,SAAS,WAClB5jD,KAAK,SAAS0R,EAAO85B,GAClB,IAAIlgB,EAAMxoB,EAAKy0L,aAAa7lL,GAE5B,UAAW4Z,IAAQ,SACf7rB,EAAE+rC,GAAMlZ,KAAK,KAAO4pJ,GAAM11K,KAAKmwL,EAAYrrK,UAIvDxoB,EAAKy0L,aAAal1L,OAASS,EAAKq0L,SAAS7kK,KAAK,aAAajwB,QAInE64L,eAAgB,SAASxpL,GACrBnP,KAAKg1L,aAAavyL,OAAO0M,EAAO,IAGpC2c,QAAS,WACL9rB,KAAK6oK,eAGTA,YAAa,WACT,IAAItoK,EAAOP,KACPP,EAAUc,EAAKd,QACf65L,EACAC,EACAC,EACAC,EAEJ,GAAIl5L,EAAKm5L,qBAAsB,CAE3Bn5L,EAAKiW,QAAQN,SAAS,yBAEtBojL,EAAqB/4L,EAAKiW,QAAQ,GAAG6D,YACrCk/K,EAAsBh5L,EAAKq0L,SAAS,GAAGr7K,YAEvC,GAAIggL,EAAsBD,IAAuB/4L,EAAK61L,sBAAuB,CACzE71L,EAAKo5L,kBAAoB,MACzBp5L,EAAKmuG,OAASpxG,EAAMW,QAAQob,MAAM9Y,EAAKsP,SACvC,IAAI+pL,EAAYt8L,EAAMW,QAAQyc,MAAQ,aAAe,YACrD,IAAIm/K,EAAUv8L,EAAMW,QAAQyc,MAAQ,WAAa,UACjD,IAAI1B,EAAU1b,EAAMW,QAAQ+a,QAC5B,IAAI8gL,EAAuBv5L,EAAKmuG,SAAW11F,EAAQiG,OAASjG,EAAQ+F,KAEpExe,EAAKw3L,WAAWjmG,QAAQ+iG,EAAiB,OAAQ,sBACjDt0L,EAAKw3L,WAAWh3H,OAAO8zH,EAAiB,OAAQ,uBAEhD2E,EAAmBj5L,EAAK63L,kBAAoB73L,EAAKw3L,WAAW12I,SAAS,oBACrEo4I,EAAmBl5L,EAAK83L,kBAAoB93L,EAAKw3L,WAAW12I,SAAS,oBAErEm4I,EAAiBpzK,GAAGwzK,EAAY96G,EAAI,WAChCv+E,EAAKo5L,kBAAoB,KACzBp5L,EAAKw5L,mBAAmBt6L,EAAQ6pK,WAAWl4H,UAAY0oJ,EAAuB,GAAK,MAGvFL,EAAiBrzK,GAAGwzK,EAAY96G,EAAI,WAChCv+E,EAAKo5L,kBAAoB,KACzBp5L,EAAKw5L,mBAAmBt6L,EAAQ6pK,WAAWl4H,UAAY0oJ,GAAwB,EAAI,MAGvFN,EAAiBz1K,IAAI01K,GAAkBrzK,GAAGyzK,EAAU/6G,EAAI,WACpDv+E,EAAKo5L,kBAAoB,QAG7Bp5L,EAAK61L,sBAAwB,KAE7B71L,EAAKmgL,4BACF,GAAIngL,EAAK61L,uBAAyBmD,GAAuBD,EAAoB,CAChF/4L,EAAK61L,sBAAwB,MAE7B71L,EAAKiW,QAAQf,YAAY,yBAEzBlV,EAAK63L,kBAAkB/kK,MAAMtC,SAC7BxwB,EAAK83L,kBAAkBhlK,MAAMtC,cAC1B,IAAKxwB,EAAK61L,sBACb71L,EAAKiW,QAAQf,YAAY,8BAEzBlV,EAAKmgL,yBAKjBgZ,mBAAoB,WAChB,IAAIj6L,EAAUO,KAAKP,QAEnB,GAAIA,EAAQ6pK,aAAe7pK,EAAQ6pK,WAAWl4H,SAC1C3xC,EAAQ6pK,WAAa,CAAEl4H,SAAUqjJ,GAGrC,OAAOh1L,EAAQ6pK,aAAex1J,MAAMrU,EAAQ6pK,WAAWl4H,YAAc3xC,EAAQg2L,aAAe,OAASh2L,EAAQg2L,aAAe,WAGhIY,kBAAmB,SAASptJ,GACxB,IAAI1oC,EAAOP,KACP40L,EAAWr0L,EAAKq0L,SAChB5M,EAAsB1qL,EAAMwb,WAAW87K,GACvC7mC,EAAYh+I,EAAWk5B,GACvBi/I,EAAa3nL,EAAKmuG,OAASzlE,EAAKtyB,WAAW1B,KAAOg0B,EAAKtyB,WAAW1B,KAAO2/K,EAASvzI,WAAWl/C,QAAQwU,WAAW1B,KAChH+kL,EAAgBpF,EAAS,GAAGv6K,YAC5BrB,EAAU1b,EAAMW,QAAQ+a,QACxBqvK,EAEJ,GAAI9nL,EAAKmuG,SAAW11F,EAAQE,SAAYF,EAAQD,QAAUC,EAAQhc,SAAW,IACzEgrL,EAAsBA,GAAuB,EAGjD,GAAIznL,EAAKmuG,QACL,GAAIw5E,EAAa,EACbG,EAAeL,EAAsBE,GAAc8R,EAAgBhS,QAChE,GAAIE,EAAan6B,EAAYisC,EAChC3R,EAAeL,EAAsBE,EAAan6B,OAGtD,GAAIi6B,EAAsBgS,EAAgB9R,EAAan6B,EACnDs6B,EAAeH,EAAan6B,EAAYisC,OACrC,GAAIhS,EAAsBE,EAC7BG,EAAeH,EAIvB0M,EAASjT,SAASl+J,QAAQ,CAAE3K,WAAcuvK,GAAgB,OAAQ,SAAU,WACxE9nL,EAAKmgL,0BAIbqZ,mBAAoB,SAASz7J,GACzB,IAAI/9B,EAAOP,KACX,IAAI40L,EAAWr0L,EAAKq0L,SACpB,IAAIqF,EAAU38L,EAAMwb,WAAW87K,GAC/B,IAAI57K,EAAU1b,EAAMW,QAAQ+a,QAE5B,GAAIzY,EAAKmuG,SAAW11F,EAAQE,SAAYF,EAAQD,QAAUC,EAAQhc,SAAW,IACzEi9L,EAAUA,GAAW,EAGzBrF,EAASjT,SAASl+J,QAAQ,CAAE3K,WAAcmhL,EAAU37J,GAAS,OAAQ,SAAU,WAC3E,GAAI/9B,EAAKo5L,oBAAsBx8L,OAAO8lB,GAAGoQ,IACrC9yB,EAAKw5L,mBAAmBz7J,QAExB/9B,EAAKmgL,0BAKjBuU,aAAc,WACV,IAAI10L,EAAOP,KACPy1L,EAAcl1L,EAAKd,QAAQg2L,YAE/Bl1L,EAAKiW,QAAQN,SAAS,0BAA4Bu/K,GAElD,GAAIA,GAAe,SACfl1L,EAAKw3L,WAAW7yJ,SAAS3kC,EAAKiW,SAGlC,GAAIi/K,IAAgB,QAAUA,IAAgB,QAC1Cl1L,EAAKiW,QAAQL,KAAK,mBAAoB,YAG1C5V,EAAKmmB,OAAO,OAGhBwlG,aAAc,SAAS5pH,GACnBpF,EAAEoF,EAAEivC,eAAe1tB,YAAY82J,EAAYr4K,EAAEiF,MAAQk6G,IAGzDwgE,gBAAiB,SAASpyK,EAASuU,GAC/BvU,EAAU7P,KAAK40L,SAAS7kK,KAAKlgB,GAC7BA,EAAQpS,KAAK,WACTP,EAAE8C,MACG6jB,YAAYm9E,GAAgB58E,GAC5BjO,KAAK,iBAAkBiO,MAIpCs8J,qBAAsB,WAClB,IAAIngL,EAAOP,KACPyjH,EAAKljH,EAAKq0L,SACV97K,EAAaxb,EAAMwb,WAAW2qG,GAE9BljH,EAAK63L,kBAAkBv0K,YAAY,aAAc/K,IAAe,GAChEvY,EAAK83L,kBAAkBx0K,YAAY,aAAc/K,IAAe2qG,EAAG,GAAGlqG,YAAckqG,EAAG,GAAGppG,cAGlGukK,eAAgB,WACZ,IAAIr+K,EAAOP,KACP20L,EAAMuF,EAAYC,EACtB,IAAInqC,EAAe,aAAarpJ,KAAKpG,EAAKd,QAAQg2L,aAElDl1L,EAAKiW,QAAQN,SAAS,uBAEtB,IAAK3V,EAAKq0L,SAAU,CAChBr0L,EAAKq0L,SAAWr0L,EAAKiW,QAAQ6qC,SAAS,MACtC9gD,EAAKq0L,SAASx/K,KAAK,WACnB7U,EAAKw3L,WAAax3L,EAAKq0L,SAASr/K,SAGpC,IAAKhV,EAAKq0L,SAAS,GAAI,CACnBr0L,EAAKq0L,SAAW13L,EAAE,UAAU4zB,UAAUvwB,EAAKiW,SAC3CjW,EAAKq0L,SAASx/K,KAAK,WACnB7U,EAAKw3L,WAAax3L,EAAKq0L,SAASr/K,SAGpChV,EAAKw3L,WAAW7hL,SAAS,4BACzB3V,EAAKw3L,WAAW7hL,SAAS85I,EAAe,WAAa,YACrDzvJ,EAAKq0L,SAAS1+K,SAAS,4BAEvBy+K,EAAOp0L,EAAKq0L,SAAS7kK,KAAK,MAAM7Z,SAAS,0BAEzC,GAAIy+K,EAAK70L,OAAQ,CACbo6L,EAAavF,EAAK1kK,OAAO,IAAMixE,GAAa/xF,QAC5CgrL,EAAYD,GAAc,EAAIA,EAAa78L,EAE3CkD,EAAKq0L,SACA94G,WACA7rD,OAAO,WAAa,OAAQjwB,KAAK0vB,UAAY,IAAMqN,EAAK/8B,KAAKk9B,aAC7DnM,SAGT,GAAImpK,GAAc,EACdvF,EAAK7iK,GAAGooK,GAAYhkL,SAASm+K,GAGjC9zL,EAAK03L,gBAAkB13L,EAAKiW,QAAQ6qC,SAAS,sCAE7C9gD,EAAK03L,gBACA/hL,SAAS+0K,GACTn5J,GAAGqoK,GACHjkL,SAASgrF,GACTrsF,IAAI,CAAE6B,QAAS,UAEpB,GAAIi+K,EAAK70L,OAAQ,CACb40L,EAAiBC,GAEjB7X,EAAgBv8K,EAAKq0L,UACrBr0L,EAAKy3L,uBAAuB,QAIpCA,uBAAwB,SAASoC,GAC7B,IAAI75L,EAAOP,KACP+uL,EAAcxuL,EAAKy0L,aACnB3mK,EAAQ9tB,EAAKq0L,SAASvzI,SAAS,WAC/B42I,EAAkB13L,EAAKiW,QAAQ6qC,SAAS,sCACxC23I,EAAaz4L,EAAKy4L,WAAWz3L,KAAKhB,GAEtC,GAAI03L,EAAgBn4L,QAAWuuB,EAAMvuB,OAASm4L,EAAgBn4L,OAC1Dm4L,EAAgBx6L,KAAK,SAASkE,GAE1B,IAAIwvG,EAAY6nF,EAAW97L,EAAE8C,MAAO2B,GAChCsnC,EAAO5a,EAAM4B,OAAO,mBAAqBkhF,GAAa,GAAK,KAAK,GAChEkpF,EAEJ,IAAKpxJ,GAAQmxJ,EAETnxJ,EAAO5a,EAAM1sB,GAGjB,GAAIsnC,EAAM,CAENA,EAAKzoB,aAAa,gBAAiB2wF,GACnCkpF,EAAQpxJ,EAAKzsC,GAAKw8L,EAAW97L,EAAE+rC,GAAOtnC,EAAK,MAC3C3B,KAAKwgB,aAAa,kBAAmB65K,GAIzCr6L,KAAKwgB,aAAa,KAAM2wF,UAG5B9iF,EAAM5wB,KAAK,SAASkE,GAChB,IAAI24L,EAAiBrC,EAAgBnmK,GAAGnwB,GACpCwvG,EAAY6nF,EAAWsB,EAAgB34L,GACvC04L,EAGJr6L,KAAKwgB,aAAa,gBAAiB2wF,GAEnCkpF,EAAQr6L,KAAKxD,GAAKw8L,EAAW97L,EAAE8C,MAAO2B,EAAK,MAE3C,IAAK24L,EAAex6L,QAAUivL,EAAYptL,GAEtCzE,EAAE,eAAiB+tL,EAAU,OAAO/lJ,SAAS3kC,EAAKiW,SAASL,KAAK,KAAMg7F,OACnE,CAEHmpF,EAAenkL,KAAK,KAAMg7F,GAE1B,IAAKj0G,EAAE8C,MAAMqhD,SAAS,cAAc,KAAO0tI,EAAYptL,GACnDzE,EAAE,wCAAwC4zB,UAAU9wB,MAI5Ds6L,EAAenkL,KAAK,OAAQ,YAC5BmkL,EAAenkL,KAAK,WAAY,KAChCmkL,EAAenkL,KAAK,kBAAmBkkL,GACvCC,EAAerqK,OAAO,SAAWixE,EAAc,KAAK/qF,KAAK,cAAe,MAAMA,KAAK,gBAAiB,OACpGmkL,EAAerqK,OAAO,IAAMixE,GAAa/qF,KAAK,gBAAiB,QAIvE5V,EAAK03L,gBAAkB13L,EAAK01L,iBAAmB11L,EAAKiW,QAAQ6qC,SAAS,sCAErE9gD,EAAKi2L,WAAavmL,EAAY1P,EAAKq0L,UACjBvlL,SAAS9O,EAAKiW,QAAQ3B,IAAI,oBAAqB,IAC/CxF,SAAS9O,EAAKiW,QAAQ3B,IAAI,uBAAwB,IAEpE,GAAIvX,EAAMmlB,qBAAuBnlB,EAAM4pB,OAAOD,GAAG4L,SAAU,CACvDv1B,EAAMq1B,cAAcpyB,EAAK03L,iBACzB13L,EAAK03L,gBAAkB13L,EAAK03L,gBAAgB52I,SAAS,0BAI7D26B,SAAU,WACN,IAAIz7E,EAAOP,KAEX,GAAIO,EAAKsP,QAAQoG,GAAG,MAChB1V,EAAKiW,QAAUjW,EAAKsP,QAAQ4wC,QAAQ,WAAWlrC,cAE/ChV,EAAKiW,QAAUjW,EAAKsP,WA6BpC,OAvBIrS,EAAOu3L,EAAU,CACbrS,WAAY,SAASjjL,GACjBA,EAAUjC,EAAO,CAAE+8L,SAAU,GAAIjwI,MAAO,IAAM7qD,GAE9C,IAAIkiD,EAAQ2gD,EAAU3gD,MAClB1Y,EAAOxpC,EAAQwpC,KAEnB,OAAOq5D,EAAUr5D,KAAKzrC,EAAOiC,EAAS,CAClCwjC,MAAOgG,EAAKk3D,SAAWmC,EAAUr/D,MAAQ0e,EACzCsnI,OAAQhgJ,EAAKi3D,eAAiBoC,EAAU2mF,OAAStnI,EACjDqnI,YAAa1mF,EAAU0mF,aACxBrN,KAGPwN,cAAe,SAAS1pL,GACpB,OAAO6iG,EAAUznD,QAAQr9C,EAAOiC,EAASk8K,OAIjDr+K,EAAM2pB,GAAG+J,OAAO+jK,GAIb33L,OAAOE,QA/iDd,CAijDoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAOA,GAAMD,OAEtF,SAAavtC,QACTA,OAAO,mBAAmB,CAAE,cAAe,kBAAmB,qBAC/D,WAEH,IAAIC,EAAW,CACXC,GAAI,aACJC,KAAM,aACNC,SAAU,MACVC,YAAa,uHACbotC,QAAS,CAAE,QAAS,gBAGd7sC,EAq7DPE,OAAOE,MAAMH,OAr7DHE,OAAb,EACQC,EAAQF,OAAOE,MACfiqB,EAAOjqB,EAAMiqB,KACbrjB,EAAO5G,EAAM4G,KACbw4C,EAAQp/C,EAAMmc,UACdhK,EAAgBnS,EAAMiS,eACtBwmH,EAAgBz4H,EAAMgS,eACtBrR,EAAUX,EAAMW,QAChB+a,EAAU/a,EAAQ+a,QAClBiO,EAAK3pB,EAAM2pB,GACXH,EAASG,EAAGH,OACZ+gF,EAAO,OACPC,EAAQ,QACR79D,EAAS,SACTphB,EAAK,mBACL83E,EAAQ,QAAU93E,EAClBk4E,EAAW,WACXmgC,EAAW,WACXs5D,EAAK,KACL10D,EAAO,gBACP9mD,EAAU,UACV2hC,EAAQ,UACRolB,EAAc,aAAel9G,EAAK,cAAgBA,EAClD+3E,EAAY,YAAc/3E,EAC1B4Q,EAAgB,IAChBC,EAAa,MACbsgE,EAAW,aACX/a,EAAgB,aAChBmkC,EAAgB,gBAChBJ,EAAgB,gBAChBC,EAAc,cACd7L,EAAgB,gBAChB6uB,EAAgB,gBAChBrjB,EAAwB,wBACxBjK,EAAK,KACLj7G,EAAUC,MAAMD,QAChBF,EAASN,EAAEM,OACX65H,EAAO1xH,KACPkC,EAAmB,kLACnB4yL,EAAU,UACVjkE,EAAQ,QACRkkE,EAAO,OACPC,EAAO,OACPC,EAAU,UACVC,EAAU,UACVC,EAAiB,CACbltL,EAAK,MACLO,EAAK,OACLo7I,EAAKsxC,EACLE,EAAKF,EACL/sL,EAAK0oH,EACLkhD,EAAKlhD,EACLhpH,EAAK,MACLwtL,EAAKJ,EACL/zL,EAAK+zL,EACLt4L,EAAKs4L,EACL7xC,EAAK2xC,EACLO,EAAKP,EACLxzL,EAAKwzL,EACLQ,EAAKR,EACL7sL,EAAK,SACLE,EAAK,SACLnH,EAAK,YACLq3B,EAAK08J,EACLQ,EAAKR,EACLS,EAAKT,EACLU,EAAKV,GAETW,EAAa,CACTzoL,MAAO,CACHtL,KAAM,SACNyhH,UAAW,EACXuyE,WAAY,KAGhBC,QAAS,CACLj0L,KAAM,WACNyhH,UAAW,EACXuyE,WAAY,KAGhB/5D,QAAS,CACLj6H,KAAM,OACNyhH,UAAW,CACPgyE,EAAG,EACHn0L,EAAG,EACHvE,EAAG,GAEPi5L,WAAY,KAGhB35D,UAAW,CACPr6H,KAAM,aACNyhH,UAAW,GAGfyyE,IAAK,CACDl0L,KAAM,OACNyhH,UAAW,IAGnB6N,EAAQ,IAAIQ,EACZqkE,EAA4B,wDACxB,8BACI,gCACA,yMACJ,SACA,sCACI,yCACJ,SACJ,SACAC,EAAuB,+CACnB,yNACA,6MACA,SACJC,GAAqB,yCAIrBC,IAFAhlE,EAAQ,IAAIlxH,KAAKkxH,EAAM/sH,cAAe+sH,EAAMhtH,WAAYgtH,EAAMptH,UAAW,EAAG,EAAG,GAEpE,SAAShK,GACpB,IAAIc,EAAOP,KACXxD,EAAKiD,EAAQjD,GAEb+D,EAAKd,QAAUA,EACfc,EAAKu7L,OAAS,GAEdv7L,EAAK4qI,YAAY1rI,EAAQs8L,UAAYt8L,EAAQs8L,SAASj6H,OAAS,UAE/D,GAAItlE,EAAI,CACJ+D,EAAKy7L,YAAcx/L,EAAK,YACxB+D,EAAK8wH,UAAY70H,EAAK,mBAEtB+D,EAAKkjH,GAAGttG,KAAKwiG,EAAIp4G,EAAKy7L,aAG1Bz7L,EAAK07L,eAAiB17L,EAAKkqH,QAAQlpH,KAAKhB,GACxCA,EAAK0rH,WA+hCT,SAASiwE,KACL,IAAIxgK,EAAQ,IAAI27F,EACZ8kE,EAAW,IAAI9kE,EAAK37F,EAAM5xB,cAAe4xB,EAAM7xB,WAAY6xB,EAAMjyB,UAAW,EAAG,EAAG,GAClF2yL,EAAO,IAAI/kE,EAAK37F,EAAM5xB,cAAe4xB,EAAM7xB,WAAY6xB,EAAMjyB,UAAW,GAAI,EAAG,GAEnF,OAAQ,GAAK0yL,EAAS9xL,oBAAsB+xL,EAAK/xL,qBAGrD,SAASH,EAAgBnB,GACrB,OAAOA,EAAKgB,WAAa,GAAK0vB,EAAgB1wB,EAAKiB,aAAeyvB,EAAgB1wB,EAAKkB,aAAe,IAAOlB,EAAKmB,kBAGtH,SAASmyL,GAAe14D,GACpB,IAAI56H,EAAO,IAAIpD,KAAK,KAAM,EAAG,GAC7BoD,EAAK+7H,YAAYnB,GACjB,OAAO56H,EAGX,SAASoyH,GAAU7zH,EAAOyH,EAAK7B,GAC3B,IAAIiuB,EAAQjxB,EAAgB6E,GACxBqsB,EAAQlxB,EAAgBgD,GACxBmuB,EAEJ,IAAK/zB,GAAS6zB,GAASC,EACnB,OAAO,KAGXC,EAAUnxB,EAAgB5C,GAE1B,GAAI6zB,EAAQE,EACRA,GAAW3B,EAGf,GAAI0B,EAAQD,EACRC,GAAS1B,EAGb,OAAO2B,GAAWF,GAASE,GAAWD,EAjkC1CygK,GAASj7L,UAAY,CACjBuqI,YAAa,SAAU/Y,GACnB,GAAIA,EACApyH,KAAKs8L,yBAELt8L,KAAKu8L,+BAGbD,kBAAmB,WACf,IAAIE,EAAkBt/L,EAAEM,OAAO,GAAIwC,KAAKP,QAAS,CAC7Cg9L,SAAUn/L,EAAM8oC,iBAAiB,kBAAmB,OAAQpmC,KAAKP,QAAQuS,MAAQ,UACjF0qL,WAAYp/L,EAAM8oC,iBAAiB,YAAa,OAAQpmC,KAAKP,QAAQuS,MAAQ,YAEjFhS,KAAK8hE,KAAO5kE,EAAEI,EAAM0G,SAAS03L,EAAfp+L,CAA0Ck/L,IACnDp2K,GAAGw6E,EAAW1/F,IAEnB,IAAKlB,KAAKP,QAAQ2mI,UACdpmI,KAAK8hE,KAAKf,OAAOzjE,EAAM0G,SAAS23L,EAAfr+L,CAAqCk/L,IAG1Dx8L,KAAKyjH,GAAKzjH,KAAK8hE,KAAK/xC,KAAK,0BACzB/vB,KAAK8hE,KAAK17C,GAAG,QAAQyC,EAAI,mCAAoC7oB,KAAK28L,iBAAiBp7L,KAAKvB,OACxFA,KAAK8hE,KAAK17C,GAAG,QAAQyC,EAAI,sCAAuC7oB,KAAK48L,oBAAoBr7L,KAAKvB,OAC9FA,KAAK8hE,KAAK17C,GAAG,QAAQyC,EAAI,sCAAuC7oB,KAAK68L,iBAAiBt7L,KAAKvB,OAC3FA,KAAK8hE,KAAK17C,GAAG,YAAYyC,EAAI,uBAAwB7oB,KAAK88L,kBAAkBv7L,KAAKvB,OACjFA,KAAK8hE,KAAK17C,GAAG,UAAUyC,EAAI7oB,KAAK+8L,wBAAwBx7L,KAAKvB,QAGjE+8L,wBAAyB,SAAUz6L,GAC/B,IAAI/B,EAAOP,KACPgH,EAAM1E,EAAE8+B,QACR0gC,EAAO5kE,EAAEoF,EAAEivC,eAAexhB,KAAK,gCAC/BitK,EAAQz8L,EAAKuhE,KAAK/xC,KAAK,wBACvBjwB,EAASk9L,EAAMl9L,OACfqP,EAAQ6tL,EAAM7tL,MAAM2yD,GACpBzoD,EAAQ/b,EAAMW,QAAQob,MAAM9Y,EAAKiW,SACjCk+G,EAAauoE,EAAcn7H,EAAK/xC,KAAK,mBAAmB+B,GAAG,IAC3DxB,EAAYwxC,EAAK/xC,KAAK,4CAE1B,IAAK+xC,EAAKhiE,OACN,OAGJ,GAAIkH,GAAOugB,EAAKS,QAAU3O,GAASrS,GAAOugB,EAAKO,MAAQzO,GACnD,GAAIlK,EAAQ,EAAIrP,EACZS,EAAK28L,WAAWF,EAAMlrK,GAAG3iB,EAAQ,SAGlC,GAAInI,GAAOugB,EAAKO,OAASzO,GAASrS,GAAOugB,EAAKS,OAAS3O,GAC1D,GAAIlK,EAAQ,GAAK,EACb5O,EAAK28L,WAAWF,EAAMlrK,GAAG3iB,EAAQ,SAElC,GAAInI,GAAOugB,EAAKQ,GAAI,CACvBuI,EAAUK,UAAUL,EAAUK,YAAc+jG,GAC5CpyH,EAAEpB,sBACC,GAAI8F,GAAOugB,EAAKU,KAAM,CACzBqI,EAAUK,UAAUL,EAAUK,YAAc+jG,GAC5CpyH,EAAEpB,sBACC,GAAI8F,IAAQugB,EAAKK,MACpBrnB,EAAKs8L,wBACF,GAAI71L,IAAQugB,EAAKM,IACpBtnB,EAAKq8L,uBAIbE,kBAAmB,SAAUx6L,GACzBtC,KAAKk9L,WAAWhgM,EAAEoF,EAAEivC,iBAGxB2rJ,WAAY,SAASp7H,GACjB9hE,KAAK8hE,KAAK/xC,KAAK,wBAAwBta,YAAYupE,GACnDld,EAAK5rD,SAAS8oE,GACdh/E,KAAK8hE,KAAKz/D,QAAQ,SAClBrC,KAAKm9L,WAAar7H,EAAK/xC,KAAK,iBAAiBY,aAEjD4rK,4BAA6B,WACzB,IAAIh8L,EAAOP,KACX,IAAIo9L,EAAalgM,EAAE,sBAAwBI,EAAM8oC,iBAAiB,UAAW,OAAQ7lC,EAAKd,QAAQuS,MAAQ,qGAE1GzR,EAAKkjH,GAAK25E,EAAWrtK,KAAK,MACrBlb,IAAI,CACDgE,SAAU5a,EAAQwkB,oBAAsB,GAAK,SAEhD2D,GAAGu6E,EAAO65F,EAAIj6L,EAAKu1C,OAAOv0C,KAAKhB,IAC/B6lB,GAAG,aAAeyC,EAAI2xK,EAAI,WACvBt9L,EAAE8C,MAAMkW,SAASyqG,KAEpBv6F,GAAG,aAAeyC,EAAI2xK,EAAI,WACvBt9L,EAAE8C,MAAMyV,YAAYkrG,KAG5BpgH,EAAKuhE,KAAO5kE,EAAE,qEACT6jE,OAAOq8H,GACPh3K,GAAGw6E,EAAW1/F,IAEnBX,EAAKyD,SAAW1G,EAAM0G,SAAS,2HAA4H,CACvJF,aAAc,SAItB+E,QAAS,SAAS+zG,GACd,IAAIr8G,EAAOP,KACPi9H,EAAS18H,EAAKd,QAAQw9H,OAE1B,GAAIrgB,IAAcv/G,EAAW,CACzB,GAAIkD,EAAK4sH,SAAU,CACf5sH,EAAK4sH,SACA13G,YAAYukF,GACb,GAAGz5F,EAAK4sH,UAAY5sH,EAAK4sH,SAASrtH,OAAQ,CACtCS,EAAK4sH,SAAS,GAAGjrF,gBAAgBy2E,GACjCp4G,EAAK4sH,SAAS,GAAGjrF,gBAAgBkhF,IAI7C,GAAIxG,EAAW,CACXA,EAAY1/G,EAAE0/G,GAAW1mG,SAAS8jF,GACT7jF,KAAKwiG,EAAIp4G,EAAK8wH,WACdl7G,KAAKitG,EAAe,MAE7C7iH,EAAK6xH,OAAOxV,EAAU,IAG1Br8G,EAAK4sH,SAAWvQ,EAEhB,GAAIqgB,EACAA,EAAOrgB,QAGX,OAAOr8G,EAAK4sH,UAIpBkwE,aAAc,WACVr9L,KAAK8hE,KAAK/xC,KAAK,6BAA6B7rB,KAAK5G,EAAMoI,SAAS1F,KAAKwpH,OAAQxpH,KAAKP,QAAQoF,OAAQ7E,KAAKP,QAAQiJ,WAGnH40L,WAAY,SAAUh2L,GAClB,IAAKA,EACD,OAGJ,IAAIi2L,EAAiBC,GAASx9L,KAAKP,QAAQoF,OAAOyH,cAAe,KACjE,IAAI8E,EAAQ9J,EAAMyC,WAClB,IAAIT,EAAUhC,EAAM0C,aACpB,IAAI+I,EAAUzL,EAAM2C,aACpB,IAAI8G,EACJ,IAAI0sL,EAAYngM,EAAM6Y,KAAK,SAC3B,IAAIunL,EAAY19L,KAAKyjH,GAAG1zF,KAAK,IAAM0tK,EAAY,SAC/C,IAAIE,EAAe39L,KAAKyjH,GAAG1zF,KAAK,IAAM0tK,EAAY,SAClD,IAAIG,EAAc59L,KAAKyjH,GAAG1zF,KAAK,IAAM0tK,EAAY,SACjD,IAAII,EAAiB79L,KAAKyjH,GAAG1zF,KAAK,IAAM0tK,EAAY,SAEpD,GAAIF,EACA,GAAInsL,GAAS,GAAI,CACbL,EAAa,KACb,GAAIK,EAAQ,GACRA,GAAS,OAEV,CACHL,EAAa,KACb,GAAIK,IAAU,EACVA,EAAQ,GAKpBpR,KAAK89L,gBAAkB,KACvB,GAAIJ,EAAU59L,OACVE,KAAK+9L,sBAAsBL,EAAWtsL,GAG1C,GAAIusL,EAAa79L,OACbE,KAAK+9L,sBAAsBJ,EAAcr0L,GAG7C,GAAIs0L,EAAY99L,OACZE,KAAK+9L,sBAAsBH,EAAa7qL,GAG5C,GAAI8qL,EAAe/9L,OACfE,KAAK+9L,sBAAsBF,EAAgB9sL,GAE/C/Q,KAAK89L,gBAAkB,OAG3BC,sBAAuB,SAASj8H,EAAMx6D,GAClC,IAAI2hC,EAAO64B,EAAK/xC,KAAK,uBAAyBtsB,GAAI6D,GAAS,MAC3D,IAAIotH,EAAauoE,EAAch0J,GAE/B64B,EAAKnxC,UAAUmxC,EAAK/xC,KAAK,mBAAmB5gB,MAAM85B,GAAQyrF,IAG9Dz6E,MAAO,WACHj6C,KAAK6qG,MAAM5wD,SAGfhuB,QAAS,WACL,IAAI1rB,EAAOP,KAEXO,EAAKkjH,GAAGpwF,IAAIxK,GACZtoB,EAAKuhE,KAAKzuC,IAAIxK,GACd,GAAI7oB,KAAK6qG,MACLtqG,EAAKsqG,MAAM5+E,WAInBm9E,KAAM,WACF,IAAI7oG,EAAOP,KACX,IAAI0mI,EAEJ,IAAKnmI,EAAKkjH,GAAG,GAAG1kE,YAAex+C,EAAKkjH,GAAG1zF,KAAK,MAAMjwB,OAAS,EACvDS,EAAKgB,OAMTmlI,EAAenmI,EAAKsqG,MAAM5B,SAC1B1oG,EAAKsqG,MAAM5B,SAAW,KAEtB1oG,EAAKsqG,MAAMzB,OAEXj2E,WAAW,WACP5yB,EAAKsqG,MAAM5B,SAAWy9B,GACvB,GAEH,GAAInmI,EAAK4sH,SACL5sH,EAAK6xH,OAAO7xH,EAAK4sH,SAAS,KAIlC6wE,SAAU,SAAS7kE,GACf,IAAI54H,EAAOP,KACPP,EAAUc,EAAKd,QACfoF,EAASpF,EAAQoF,OACjBa,EAAWpI,EAAMoI,SACjB1B,EAAWzD,EAAKyD,SAChBlE,EAASq5H,EAAMr5H,OACf6B,EAAM,EACNoH,EACA7E,EAAO,GAEX,KAAOvC,EAAM7B,EAAQ6B,IAAO,CACxBoH,EAAOowH,EAAMx3H,GAEb,GAAIw5H,GAAUpyH,EAAMtJ,EAAQsP,IAAKtP,EAAQyN,KACrChJ,GAAQF,EAAS0B,EAASqD,EAAMlE,EAAQpF,EAAQiJ,UAIxDnI,EAAK09L,MAAM/5L,IAGf4V,QAAS,WACL,IAAIvZ,EAAOP,KACPP,EAAUc,EAAKd,QACfoF,EAASpF,EAAQoF,OACjBoP,EAASioL,KACT1gK,EAAYvnB,EAAS,EACrB3M,EAAQhK,EAAMmc,UAAUlZ,EAAKipH,QAC7B/jD,EAAcn+D,EAAQ42L,GAAiB52L,EAAO7H,EAAQsP,KAAOmvL,GAAiB,IAAIv4L,KAAQlG,EAAQsP,KAClGA,EAAMtP,EAAQsP,IACd7B,EAAMzN,EAAQyN,IACdiuB,EAAQjxB,EAAgB6E,GACxBqsB,EAAQlxB,EAAgBgD,GACxBixL,EAAaj0L,EAAgBmyL,GAAe58L,EAAQkkI,WACpDy6D,EAAa3+L,EAAQkkI,SAAWlqG,EAChC/zB,EAAWpI,EAAMoI,SACjB1B,EAAWzD,EAAKyD,SAChBmI,EAAQ1M,EAAQ4+L,iBAAmB54H,EAAc,IAAI9/D,MAAMlG,EAAQsP,KACnEypE,EAAY,IAAI6+C,EAAKlrH,GACrBmyL,EACAx+L,EACAoE,EAAO,GAEX,GAAIs3B,EACA17B,GAAU45B,EAAczlB,EAASwlB,GAAkB2kK,OAEnDt+L,EAAS45B,EAAa0kK,EAG1B,GAAIjjK,GAASC,GAAS+iK,IAAe/iK,EAAO,CACxC,GAAID,EAAQC,EACRA,GAAS1B,EAGb55B,GAAWs7B,EAAQD,GAASijK,EAAc,EAG9C,GAAI3+L,EAAQs8L,UAAYt8L,EAAQs8L,SAASj6H,OAAS,SAC9C59D,EAAO3D,EAAKg+L,mBAAmBC,GAAgB35L,SAE/CtE,EAAKk+L,gBAAgBH,EAASljK,EAAOo9C,EAAWtrE,EAAKkxL,EAAYjyL,GAAOu8B,QAAQ,SAAU3/B,GACtF7E,GAAQF,EAAS0B,EAASqD,EAAMlE,EAAQpF,EAAQiJ,YAIxDnI,EAAK09L,MAAM/5L,IAGfw6L,oBAAqB,WACjB,IAAIrwK,EAAQruB,KAAK8hE,KAAK/xC,KAAK,qBAC3B,IAAIjwB,EAASuuB,EAAMvuB,OACnB,IAAImpC,EAEJ,IAAK,IAAIppC,EAAI,EAAGA,EAAIC,EAAQD,IAAK,CAC7BopC,EAAO/rC,EAAEmxB,EAAMxuB,IACfopC,EAAKlZ,KAAK,kBAAkB0iD,OAC5BzyE,KAAK2+L,wBAAwB11J,KAIrC01J,wBAAyB,SAAU78H,GAC/B,IAAI4yD,EAAauoE,EAAcn7H,EAAK/xC,KAAK,mBAAmB+B,GAAG,IAC/D,IAAI8sK,EAAa98H,EAAK7xD,cACtB,IAAI4uL,EAAeD,EAAalqE,EAChC5yD,EAAK/xC,KAAK,6BAA6Blb,IAAI,CACvCgB,OAAQisD,EAAK/xC,KAAK,MAAMla,SAAWgpL,KAI3CC,kBAAmB,WACf,IAAIv+L,EAAOP,KACX,IAAIy9L,EAAYngM,EAAM6Y,KAAK,SAC3B,IAAIunL,EAAY19L,KAAKyjH,GAAG1zF,KAAK,IAAM0tK,EAAY,SAC/C,IAAIsB,EAAW/+L,KAAKg/L,UACpB,IAAIC,EAAWj/L,KAAKk/L,UACpB,IAAI3B,EAAiBC,GAASx9L,KAAKP,QAAQoF,OAAOyH,cAAe,KACjE,IAAI6yL,EACJ,IAAIC,EACJ,IAAIC,EAAqBr/L,KAAKs/L,mBAAmBt/L,KAAKyjH,GAAG1zF,KAAK,IAAM0tK,EAAY,UAEhF,IAAKC,EAAU59L,OACX,OAGJ,GAAIy9L,GAAkB8B,EAAoB,CAEtC,GAAIA,IAAuB,KAAM,CAC7B,GAAIN,EAAW,GACXK,EAAS,KAGb,GAAIH,EAAW,GACXE,EAAS,UAEV,GAAIE,IAAuB,KAAM,CAEpC,GAAIN,EAAW,GAAI,CACfK,EAAS,KACTL,GAAY,GAGhB,GAAIE,EAAW,GAAI,CACfE,EAAS,KACTF,GAAY,IAIpBvB,EAAU3tK,KAAK,WAAWtyB,KAAK,SAAU+nB,EAAGyjB,GACxCA,EAAO/rC,EAAE+rC,GACT,IAAI3hC,GAAS2hC,EAAK9yB,KAAK,cACvB,GAAK5V,EAAKg/L,cAAgBH,GAAU93L,EAAQy3L,GAAcx+L,EAAKi/L,cAAgBL,GAAU73L,EAAQ23L,EAC7Fh2J,EAAK1lB,YAEL0lB,EAAKwpC,cAIbirH,EAAU3tK,KAAK,WAAWtyB,KAAK,SAAU+nB,EAAGyjB,GACxCA,EAAO/rC,EAAE+rC,GACT,IAAI3hC,GAAS2hC,EAAK9yB,KAAK,cACvB,GAAK5V,EAAKg/L,cAAgBj4L,EAAQy3L,GAC7Bx+L,EAAKi/L,cAAgBl4L,EAAQ23L,EAC9Bh2J,EAAK1lB,YAEL0lB,EAAKwpC,SAKjBzyE,KAAK2+L,wBAAwBjB,IAGjC+B,oBAAqB,WACjB,IAAIl/L,EAAOP,KACX,IAAIy9L,EAAYngM,EAAM6Y,KAAK,SAC3B,IAAIupL,EAAc1/L,KAAKyjH,GAAG1zF,KAAK,IAAM0tK,EAAY,SACjD,IAAIsB,EAAW/+L,KAAKg/L,UACpB,IAAIC,EAAWj/L,KAAKk/L,UACpB,IAAIS,EAAa3/L,KAAK4/L,YACtB,IAAIC,EAAa7/L,KAAK8/L,YACtB,IAAIC,GAAgB//L,KAAKs/L,mBAAmBt/L,KAAKyjH,GAAG1zF,KAAK,IAAM0tK,EAAY,UAC3E,IAAIF,EAAiBC,GAASx9L,KAAKP,QAAQoF,OAAOyH,cAAe,KACjE,IAAI+yL,EAAqBr/L,KAAKs/L,mBAAmBt/L,KAAKyjH,GAAG1zF,KAAK,IAAM0tK,EAAY,UAEhF,GAAIF,GAAkB8B,IAAuB,KACzCU,GAAgB,GAGpB,IAAKL,EAAY5/L,OACb,OAGJ4/L,EAAY3vK,KAAK,WAAWtyB,KAAK,SAAU+nB,EAAGyjB,GAC1CA,EAAO/rC,EAAE+rC,GACT,IAAI3hC,GAAS2hC,EAAK9yB,KAAK,cACvB,GAAK5V,EAAKg/L,cAAgBj4L,EAAQq4L,GAAcZ,GAAYgB,IAAiBhB,GACxEx+L,EAAKi/L,cAAgBl4L,EAAQu4L,GAAcZ,GAAYc,IAAiBd,EACzEh2J,EAAK1lB,YAEL0lB,EAAKwpC,SAIbzyE,KAAK2+L,wBAAwBe,IAGjCM,oBAAqB,WACjB,IAAIz/L,EAAOP,KACX,IAAIy9L,EAAYngM,EAAM6Y,KAAK,SAC3B,IAAIynL,EAAc59L,KAAKyjH,GAAG1zF,KAAK,IAAM0tK,EAAY,SACjD,IAAIwC,EAAajgM,KAAKkgM,YACtB,IAAIC,EAAangM,KAAKkgM,YACtB,IAAIP,EAAa3/L,KAAK4/L,YACtB,IAAIC,EAAa7/L,KAAK8/L,YACtB,IAAIM,GAAmBpgM,KAAKs/L,mBAAmBt/L,KAAKyjH,GAAG1zF,KAAK,IAAM0tK,EAAY,UAE9E,IAAKG,EAAY99L,OACb,OAGJ89L,EAAY7tK,KAAK,WAAWtyB,KAAK,SAAU+nB,EAAGyjB,GAC1CA,EAAO/rC,EAAE+rC,GACT,IAAI3hC,GAAS2hC,EAAK9yB,KAAK,cACvB,GAAK5V,EAAKg/L,cAAgBj4L,EAAQ24L,GAAcN,GAAcS,IAAoBT,GAC7Ep/L,EAAKi/L,cAAgBl4L,EAAQ64L,GAAcN,GAAcO,IAAoBP,EAC9E52J,EAAK1lB,YAEL0lB,EAAKwpC,SAIbzyE,KAAK2+L,wBAAwBf,IAGjCyC,uBAAwB,WACpB,IAAItB,EAAW/+L,KAAKg/L,UACpB,IAAIC,EAAWj/L,KAAKk/L,UACpB,IAAIzB,EAAYngM,EAAM6Y,KAAK,SAC3B,IAAI0nL,EAAiB79L,KAAKyjH,GAAG1zF,KAAK,IAAM0tK,EAAY,SAEpD,IAAKI,EAAe/9L,OACjB,OAGH,GAAIE,KAAKu/L,cAAgBR,GAAY,GACjClB,EAAe9tK,KAAK,4BAA4BxM,YAEhDs6K,EAAe9tK,KAAK,4BAA4B0iD,OAGpD,GAAIzyE,KAAKw/L,cAAgBP,EAAW,GAChCpB,EAAe9tK,KAAK,4BAA4BxM,YAEhDs6K,EAAe9tK,KAAK,4BAA4B0iD,QAKxD6tH,cAAe,WACX,IAAKtgM,KAAKP,QAAQ8gM,eACd,OAEJ,IAAKvgM,KAAKwgM,mBACNxgM,KAAKwgM,mBAAqB,IAAI76L,KAGlC,IAAIuH,EAAMlN,KAAKP,QAAQyN,IACvB,IAAI6B,EAAM/O,KAAKP,QAAQsP,IAEvB,GAAI/O,KAAKP,QAAQghM,aAAc,CAC3B,GAAIvzL,EAAIpD,gBAAkB9J,KAAKwgM,mBAAmB12L,eAC9CoD,EAAIrD,aAAe7J,KAAKwgM,mBAAmB32L,YAC3CqD,EAAIzD,YAAczJ,KAAKwgM,mBAAmB/2L,UAC1CzJ,KAAKw/L,aAAe,UAEpBx/L,KAAKw/L,aAAe,MAGxB,GAAIzwL,EAAIjF,gBAAkB9J,KAAKwgM,mBAAmB12L,eAC9CiF,EAAIlF,aAAe7J,KAAKwgM,mBAAmB32L,YAC3CkF,EAAItF,YAAczJ,KAAKwgM,mBAAmB/2L,UAC1CzJ,KAAKu/L,aAAe,UAEpBv/L,KAAKu/L,aAAe,MAGxB,IAAKv/L,KAAKw/L,eAAiBx/L,KAAKu/L,aAAc,CAC1Cv/L,KAAK0+L,sBACL,YAED,CACH1+L,KAAKw/L,aAAe,KACpBx/L,KAAKu/L,aAAe,KAGxBv/L,KAAK4/L,YAAc7wL,EAAI/E,aACvBhK,KAAK8/L,YAAc5yL,EAAIlD,aACvBhK,KAAKg/L,UAAYjwL,EAAIhF,WACrB/J,KAAKk/L,UAAYhyL,EAAInD,WACrB/J,KAAKkgM,YAAcnxL,EAAI9E,aACvBjK,KAAK0gM,YAAcxzL,EAAIjD,aAEvBjK,KAAKqgM,yBACLrgM,KAAK8+L,oBACL9+L,KAAKy/L,sBACLz/L,KAAKggM,uBAGTW,aAAc,WACV,IAAI3D,EAAQh9L,KAAKyjH,GAAG1zF,KAAK,4CACzB,IAAIjwB,EAASk9L,EAAMl9L,OACnB,IAAIgiE,EACJ,IAAI4yD,EACJ,IAAIkqE,EACJ,IAAIgC,EACJ,IAAIn0H,EACJ,IAAIoyH,EAEJ,IAAK,IAAIh/L,EAAI,EAAGA,EAAIC,EAAQD,IAAK,CAC7BiiE,EAAOk7H,EAAMlrK,GAAGjyB,GAChB60H,EAAauoE,EAAcn7H,EAAK/xC,KAAK,mBAAmB+B,GAAG,IAC3D8sK,EAAa98H,EAAK7xD,cAClB2wL,GAAahC,EAAalqE,GAAc,EACxCjoD,EAAY,cAAgBm0H,EAAY,MACxC/B,EAAeD,EAAalqE,EAC5B5yD,EAAK/xC,KAAK,MAAMlb,IAAI,CAChBy8D,UAAW7E,EACXo0H,gBAAiBp0H,IAErB3K,EAAK/xC,KAAK,6BAA6Blb,IAAI,CACvCgB,OAAQisD,EAAK/xC,KAAK,MAAMla,SAAWgpL,IAEvC/8H,EAAKzuC,IAAIxK,GACJzC,GAAG,QAAUyC,EAAI,UAAW7oB,KAAK8gM,kBAAkBv/L,KAAKvB,OACxDomB,GAAG,SAAWyC,EAAI7oB,KAAK+gM,mBAAmBx/L,KAAKvB,SAI5D28L,iBAAkB,SAAUr6L,GACxBA,EAAEpB,iBAEF,IAAIguC,EAAM,IAAIvpC,KACd3F,KAAKsH,MAAM4nC,GACXlvC,KAAKP,QAAQisC,OAAOpuC,EAAMoI,SAASwpC,EAAKlvC,KAAKP,QAAQoF,OAAQ7E,KAAKP,QAAQiJ,SAAU,OAGxFk0L,oBAAqB,SAAUt6L,GAC3BA,EAAEpB,iBACFlB,KAAKsH,MAAMtH,KAAKwpH,QAChBxpH,KAAK6qG,MAAM5wD,SAGf4iJ,iBAAkB,SAAUv6L,GACxBA,EAAEpB,iBACFlB,KAAKwpH,OAAS,IAAI7jH,KAAK3F,KAAKwgM,oBAE5BxgM,KAAKP,QAAQisC,OAAOpuC,EAAMoI,SAAS1F,KAAKwgM,mBAAoBxgM,KAAKP,QAAQoF,OAAQ7E,KAAKP,QAAQiJ,SAAU,MACxG1I,KAAK6qG,MAAM5wD,SAGf8mJ,mBAAoB,SAAUz+L,GAC1B,IAAI/B,EAAOP,KACX,IAAI00H,EAAauoE,EAAc//L,EAAEoF,EAAEivC,eAAexhB,KAAK,mBAAmB+B,GAAG,IAE7E,GAAIvxB,EAAKu9L,gBACL,OAGJ,GAAIv9L,EAAKygM,kBACLxsK,aAAaj0B,EAAKygM,mBAGtBzgM,EAAKygM,kBAAoB7tK,WAAW,WAChC,GAAI7wB,EAAEivC,cAAc5gB,UAAY+jG,EAAa,EACzCpyH,EAAEivC,cAAc5gB,WAAa+jG,EAAapyH,EAAEivC,cAAc5gB,UAAY+jG,EAE1En0H,EAAK48L,WAAa76L,EAAEivC,cAAc5gB,UAClCpwB,EAAK0gM,2BACL1gM,EAAK+/L,iBACN,MAGPW,yBAA0B,WACtB,IAAI1D,EAAiBC,GAASx9L,KAAKP,QAAQoF,OAAOyH,cAAe,KACjE,IAAImxL,EAAYngM,EAAM6Y,KAAK,SAC3B,IAAIunL,EAAY19L,KAAKyjH,GAAG1zF,KAAK,IAAM0tK,EAAY,SAC/C,IAAIiC,EAAc1/L,KAAKyjH,GAAG1zF,KAAK,IAAM0tK,EAAY,SACjD,IAAIG,EAAc59L,KAAKyjH,GAAG1zF,KAAK,IAAM0tK,EAAY,SACjD,IAAII,EAAiB79L,KAAKyjH,GAAG1zF,KAAK,IAAM0tK,EAAY,SACpD,IAAIsC,EACJ,IAAIK,EACJ,IAAIc,EACJ,IAAI7B,EAEJ,IAAKr/L,KAAKyjH,GAAGxtG,GAAG,YACZ,OAGJ,IAAKjW,KAAKwgM,mBACNxgM,KAAKwgM,mBAAqBxgM,KAAKwpH,OAAS,IAAI7jH,KAAK3F,KAAKwpH,QAAU,IAAI7jH,KAGxE,GAAI+3L,EAAU59L,OACVigM,GAAgB//L,KAAKs/L,mBAAmB5B,GAG5C,GAAIgC,EAAY5/L,OACZsgM,GAAmBpgM,KAAKs/L,mBAAmBI,GAG/C,GAAI9B,EAAY99L,OACZohM,GAAmBlhM,KAAKs/L,mBAAmB1B,GAG/C,GAAIC,EAAe/9L,OACfu/L,EAAqBr/L,KAAKs/L,mBAAmBzB,GAGjD,GAAIN,EAAgB,CAChB,GAAI8B,GAAsB,KAAM,CAC5BU,GAAgB,GAChB,GAAIA,GAAgB,GAChBA,EAAe,GAIvB,GAAIV,IAAuB,MAAQU,IAAiB,GAChDA,EAAe,EAIvB,GAAIA,IAAiB1iM,EACjB2C,KAAKwgM,mBAAmBnvL,SAAS0uL,GAGrC,GAAIK,IAAoB/iM,EACpB2C,KAAKwgM,mBAAmB17D,WAAWs7D,GAGvC,GAAIc,IAAoB7jM,EACpB2C,KAAKwgM,mBAAmBz7D,WAAWm8D,IAI3C5B,mBAAoB,SAASx9H,GAC1B,IAAIq/H,EAAiBtyD,GAAe/sE,EAAKnxC,YAAassK,EAAcn7H,EAAK/xC,KAAK,mBAAmB+B,GAAG,KACpG,OAAOgwC,EAAK/xC,KAAK,mBAAmB+B,GAAGqvK,GAAgBhrL,KAAK,eAG/D2qL,kBAAmB,SAAUx+L,GACzB,IAAIw/D,EAAO5kE,EAAEoF,EAAEwjB,cAAcyrB,eAC7B,IAAIpiC,EAAQ2yD,EAAK/xC,KAAK,mBAAmB5gB,MAAMjS,EAAEoF,EAAEivC,gBACnD,IAAImjF,EAAauoE,EAAcn7H,EAAK/xC,KAAK,mBAAmB+B,GAAG,IAE/DgwC,EAAKnxC,UAAUxhB,EAAQulH,IAG3B+pE,gBAAiB,SAAUH,EAASljK,EAAOo9C,EAAWtrE,EAAKkxL,EAAYjyL,GACnE,IAAI5C,EAAS,GAEb,MAAO,KAAM,CACT,GAAI6xB,IAAUlxB,EAAgBiC,IAAUivB,GAASo9C,EAAU/uE,WAAa0C,EAAM1C,WAAY,CACtF60L,EAAUp0L,EAAgBiC,GAC1B,GAAIqsE,EAAYrsE,EACZmyL,GAAW5kK,EAEf,GAAI4kK,EAAUljK,EACVjvB,EAAQ,IAAIkrH,GAAMnqH,GAEtB,GAAIhD,EAAgBiC,GAAS,EACzB5C,EAAOrH,KAAK,IAAIyD,KAAKwG,IAEzB,MAEJ,GAAIqsE,EAAU/uE,WAAa0C,EAAM1C,UAC7B,MAEJF,EAAOrH,KAAK,IAAIyD,KAAKwG,IACrBA,EAAMovB,QAAQpvB,EAAMqL,UAAY4mL,GAChC,IAAKhjK,GAASp7B,KAAKP,QAAQ2hM,OACvB,MAIR,OAAO73L,GAGXg1L,mBAAoB,SAAU/5L,GAC1B,IAAI1E,EAAS0E,EAAM1E,OACnB,IAAIyJ,EAAS,GACb,IAAI5G,EACJ,IAAIuM,EAEJ,IAAK,IAAIrP,EAAI,EAAGA,EAAIC,EAAQD,IAAK,CAC7B8C,EAAO6B,EAAM3E,GAEb,GAAI8C,EAAK4E,OAAS,UACdgC,GAAUvJ,KAAKqhM,iBAAiB1+L,OAC7B,CACHuM,EAASlP,KAAK0yH,WAAW/vH,EAAM,MAC/B4G,GAAUvJ,KAAKshM,cAAcpyL,EAAOA,OAAQvM,EAAM3C,KAAKP,QAAQ6nB,SAAS3kB,EAAK4E,MAAO2H,EAAOC,QAInG,OAAO5F,GAGX+3L,cAAe,SAAUpyL,EAAQvM,EAAM2oC,EAAOn8B,GAC1C,IAAI5F,EAAQ,GACZ,IAAIzJ,EAASoP,EAAOpP,OACpB,IAAI29L,EAAYngM,EAAM6Y,KAAK,SAE3B5M,GAAU,wDACE,0BAA4B+hC,GAAS3oC,EAAK4E,MAAQ,UAClD,4BACI,4EAA8Ek2L,EAAY,KAAOtuL,EAAQ,KACrG,uBAEpB,IAAK,IAAItP,EAAI,EAAEA,EAAIC,EAAQD,IACvB0J,GAAU,kCAAoC2F,EAAOrP,GAAK,KAC1C,SAAWqP,EAAOrP,GAAK,UAC5B,QAGf0J,GAAU,QACA,+CACF,SACJ,SACJ,SAEA,OAAOA,GAGXmpH,WAAY,SAAU/vH,EAAM4+L,GACxB,IAAIh4L,EAAS,GACb,IAAI4F,EACJ,IAAIhD,EAAQ,EACZ,IAAIvI,EAEJ,GAAIjB,EAAK4E,OAAS,OAAQ,CACtB4E,EAAQxJ,EAAK6+L,OAAS,EAAI,EAC1BryL,EAAQ,EACRvL,EAAMjB,EAAK6+L,OAAS,GAAK,QACtB,GAAI7+L,EAAK4E,OAAS,SAAU,CAC/B4H,EAAQ,EACRvL,EAAM,QACH,GAAIjB,EAAK4E,OAAS,SAAU,CAC/B4H,EAAQ,EACRvL,EAAM,GAGV,KAAOuI,GAASvI,EAAKuI,IACjB5C,EAAOrH,KAAKq/L,EAAY99L,GAAI0I,GAASA,GAGzC,MAAO,CACH+C,OAAQ3F,EACR4F,MAAOA,IAIfkyL,iBAAkB,SAAU1+L,GACxB,IAAI4G,EAAS,kCACR5G,EAAKgI,UAAY,MAAQ,IAAMhI,EAAKgI,SACrC,SAEJ,GAAIhI,EAAKgI,UAAY,MACjBpB,GAAUvJ,KAAKshM,cAAc,CAAC,KAAM,MAAO3+L,EAAM,QAAS,GAG9D,OAAO4G,GAGXhI,KAAM,WACF,IAAIhB,EAAOP,KACPm5H,EAAQ54H,EAAKd,QAAQ05H,MAEzB,GAAIA,GAASA,EAAM,GACf54H,EAAKy9L,SAAS7kE,QAEd54H,EAAKuZ,WAIbmkL,MAAO,SAAS/5L,GACZ,IAAI3D,EAAOP,KAEX,GAAIO,EAAKd,QAAQs8L,UAAYx7L,EAAKd,QAAQs8L,SAASj6H,OAAS,SAAU,CAClE59D,EAAO03L,GAAqB13L,EAC5B3D,EAAKkjH,GAAGv/G,KAAKA,OACV,CACH3D,EAAKkjH,GAAG,GAAGvpG,UAAYhW,EACvB3D,EAAKsqG,MAAM5oG,OAAO4lG,EAAMtnG,EAAK07L,gBAC7B17L,EAAKsqG,MAAMnpG,IAAImmG,EAAMtnG,EAAK07L,gBAE1B17L,EAAKsI,QAAQ,MACbtI,EAAKs/B,OAAOt/B,EAAKipH,UAIzB4I,OAAQ,SAASnpF,GACb,IAAKA,EACD,OAGJ,GAAIA,EAAKw4J,uBACLx4J,EAAKw4J,8BAELA,GAAuBx4J,IAI/BpJ,OAAQ,SAAS47E,GACb,IAAIl7G,EAAOP,KACPP,EAAUc,EAAKd,QACfoJ,EAAUtI,EAAK4sH,SACf3tF,EAEJ,GAAIi8E,aAAc91G,KACd81G,EAAKn+G,EAAMoI,SAAS+1G,EAAIh8G,EAAQoF,OAAQpF,EAAQiJ,SAGpD,UAAW+yG,IAAO,SACd,IAAK5yG,GAAWA,EAAQu3B,SAAWq7E,EAAI,CACnCA,EAAKv+G,EAAEu7B,KAAKl4B,EAAKkjH,GAAG,GAAGzmF,WAAY,SAASP,GACxC,OAAQA,EAAKK,aAAeL,EAAKilK,YAAcjmF,IAGnDA,EAAKA,EAAG,GAAKA,EAAK,UAElBA,EAAK5yG,EAGb22B,EAAYj/B,EAAKohM,mBAAmBlmF,GACpCl7G,EAAKsI,QAAQ22B,IAGjBmiK,mBAAoB,SAASniK,GACzB,IAAIj/B,EAAOP,KACP0lC,EACAk8J,EAEJ,GAAIpiK,GAAaA,EAAU1/B,OAAS,EAAG,CACnC4lC,EAAex7B,EAAgB3J,EAAKipH,QACpCo4E,EAAiB1kM,EAAEmyB,QAAQqW,EAAcnlC,EAAKu7L,QAC9Ct8J,EAAYj/B,EAAKkjH,GAAGpiE,WAAWugJ,GAGnC,OAAOpiK,GAGXlU,WAAY,SAAS7rB,GACjB,IAAIgqE,EAAMzpE,KAAKP,QAEfA,EAAQsP,IAAM2tC,EAAMj9C,EAAQsP,KAC5BtP,EAAQyN,IAAMwvC,EAAMj9C,EAAQyN,KAE5BlN,KAAKP,QAAUjC,EAAOisE,EAAKhqE,EAAS,CAChCw9H,OAAQxzD,EAAIwzD,OACZvxF,OAAQ+9B,EAAI/9B,OACZuO,MAAOwvB,EAAIxvB,MACXmvD,KAAM3/B,EAAI2/B,OAGdppG,KAAKuB,QAGTujB,OAAQ,WACJ,IAAIvkB,EAAOP,KAEX,GAAIO,EAAKsqG,MAAMz4E,UACX7xB,EAAK05C,aAEL15C,EAAK6oG,QAIb9hG,MAAO,SAASA,GACZ,IAAI/G,EAAOP,KAEXO,EAAKipH,OAASliH,EACd,GAAI/G,EAAKkjH,GAAG,GAAG1kE,WACX,GAAIx+C,EAAKd,QAAQs8L,UAAYx7L,EAAKd,QAAQs8L,SAASj6H,OAAS,SACxDvhE,EAAK+8L,WAAWh2L,QAEhB/G,EAAKs/B,OAAOv4B,IAKxBwuC,OAAQ,SAASxzC,GACb,IAAI/B,EAAOP,KACPy7G,EAAKv+G,EAAEoF,EAAEivC,eACTxoC,EAAO0yG,EAAGr7E,OACV+4F,EAAQ54H,EAAKd,QAAQ05H,MAEzB,GAAIA,GAASA,EAAMr5H,OAAS,EACxBiJ,EAAOowH,EAAM1d,EAAGtsG,SAGpB,IAAK7M,EAAElB,qBAAsB,CACzBb,EAAKs/B,OAAO47E,GACZl7G,EAAKd,QAAQisC,OAAO3iC,EAAM,MAC1BxI,EAAK05C,UAIbwwE,QAAS,WACL,IAAIlqH,EAAOP,KACX,IAAI8hE,EAAOvhE,EAAKuhE,KAChB,IAAIvsD,EAASusD,EAAKvsD,OAAO,0BACzB,IAAIM,EAAStV,EAAKd,QAAQoW,OAE1B,GAAItV,EAAKkjH,GAAG,GAAGpiE,SAASvhD,OACpBgiE,EAAK/9C,IAAIxO,GACJk9D,OACA58D,OAAOtV,EAAKkjH,GAAG,GAAG5jG,aAAehK,EAASA,EAAS,QACnD0N,QAIbi7B,OAAQ,SAASl3C,GACb,IAAI/G,EAAOP,KACPP,EAAUc,EAAKd,QACfsP,EAAM7E,EAAgBzK,EAAQsP,MAAQ7E,EAAgB2sH,GAASp3H,EAAQsP,IAAM,KAC7E7B,EAAMhD,EAAgBzK,EAAQyN,MAAQhD,EAAgB2sH,GAASp3H,EAAQyN,IAAM,KAC7ErE,EAAUtI,EAAKipH,QAAUz6G,GAAO7B,GAAO2pH,EAE3C,GAAIvvH,aAAiB+vH,EACjB,OAAO/vH,EAGXA,EAAQo1C,EAAMp1C,EAAO7H,EAAQymI,aAAczmI,EAAQiJ,SAEnD,GAAIpB,EACAA,EAAQ,IAAI+vH,EAAKxuH,EAAQiB,cACRjB,EAAQgB,WACRhB,EAAQY,UACRnC,EAAMyC,WACNzC,EAAM0C,aACN1C,EAAM2C,aACN3C,EAAM4C,mBAG3B,OAAO5C,GAGXwjH,iBAAkB,WACd,IAAIhpD,EAAO9hE,KAAK8hE,KACZnsD,EAAQmsD,EAAK,GAAGlsD,MAAMD,MACtBa,EAAUxW,KAAKP,QAAQ8iG,OACvBjqF,EAAe2jG,EACflsG,EAAazS,EAAMsS,YAEvB,IAAKkyD,EAAK79D,KAAK,UAAY0R,EACvB,OAGJ2C,EAAgBlb,OAAOob,iBAAmBpb,OAAOob,iBAAiBhC,EAAQ,GAAI,MAAQ,EACtFylG,EAAgB3jG,EAAgBzE,WAAWyE,EAAc3C,OAAS5F,EAAWyG,GAE7E,GAAI8B,IAAkBU,EAAQE,SAAWF,EAAQiG,MAC7Cg9F,GAAiBpoG,WAAWyE,EAAcs3F,aAAe/7F,WAAWyE,EAAco3F,cAAgB77F,WAAWyE,EAAcyyG,iBAAmBl3G,WAAWyE,EAAc0yG,kBAG3Kr1G,EAAQsmG,GAAiBlsG,EAAW+xD,GAAQA,EAAKnsD,SAEjDmsD,EAAKjtD,IAAI,CACLqnG,WAAY1lG,EAAQ3B,IAAI,eACxBc,MAAOA,IAEV1R,KAAK,QAAS0R,IAGnBs2G,OAAQ,WACJ,IAAI1rH,EAAOP,KACP8hE,EAAOvhE,EAAKuhE,KACZriE,EAAUc,EAAKd,QACf8iG,EAAS9iG,EAAQ8iG,OAErB,IAAIviG,KAAKP,QAAQ2mI,UAEb7lI,EAAKsqG,MAAQ,IAAI5jF,EAAG6hF,MAAMhnC,EAAMtkE,EAAOiC,EAAQorG,MAAO,CAClDtI,OAAQA,EACR6G,KAAM3pG,EAAQ2pG,KACdnvD,MAAOx6C,EAAQw6C,MACfkvD,UAAW1pG,EAAQ0pG,UACnB9vF,MAAOpb,EAAQob,MAAM5Z,EAAQ8iG,QAC7B+S,SAAU,WACN,GAAI/0G,EAAKd,QAAQs8L,UAAYx7L,EAAKd,QAAQs8L,SAASj6H,OAAS,SAAU,CAClEvhE,EAAKogM,eACL,GAAIpgM,EAAKipH,OACLjpH,EAAK+8L,WAAW/8L,EAAKipH,aAErBjpH,EAAK0gM,2BAET1gM,EAAK+/L,gBACL//L,EAAK28L,WAAW38L,EAAKuhE,KAAK/xC,KAAK,wBAAwB+B,GAAG,cAKtEgwC,EAAK58B,SAASzlC,EAAQoiM,UAI9BjtK,KAAM,SAAStyB,GACX,IAAI/B,EAAOP,KACPgH,EAAM1E,EAAE8+B,QACRqiF,EAAKljH,EAAKkjH,GAAG,GACb56G,EAAUtI,EAAK4sH,SACfxqG,EAAO3b,IAAQugB,EAAKU,KAExB,GAAIjhB,IAAQugB,EAAKQ,IAAMpF,EAAM,CACzB,GAAIrgB,EAAEo5G,OAAQ,CACVn7G,EAAKukB,OAAOnC,GACZ,YACG,GAAIA,EACP9Z,EAAUA,EAAUA,EAAQ,GAAGm2C,YAAcykE,EAAG1kE,gBAEhDl2C,EAAUA,EAAUA,EAAQ,GAAG+rH,gBAAkBnR,EAAGkR,UAGxD,GAAI9rH,EACAtI,EAAKs/B,OAAOh3B,GAGhBtI,EAAKd,QAAQisC,OAAOnrC,EAAK4sH,SAAS/sF,QAClC99B,EAAEpB,sBAEC,GAAI8F,IAAQugB,EAAKK,OAAS5gB,IAAQugB,EAAKI,KAAO3gB,IAAQugB,EAAKM,IAAK,CACnEvlB,EAAEpB,iBACF,GAAI2H,EACAtI,EAAKd,QAAQisC,OAAO7iC,EAAQu3B,OAAQ,MAExC7/B,EAAK05C,WA6CjB4hJ,GAAS3xL,gBAAkBA,EAE3B5M,EAAMu+L,SAAWA,GAEjB,IAAIiG,GAAah7K,EAAOtpB,OAAO,CAC3BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAAMyjH,EAAIs4E,EAAU7pK,EAE/BzyB,EAAUA,GAAW,GACrBA,EAAQqrB,cAAgBrrB,EAAQqrB,eAAiB,UAEjDhE,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCoQ,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QAEfA,EAAQsP,IAAM2tC,EAAM7sC,EAAQsG,KAAK,SAAWumC,EAAMj9C,EAAQsP,KAC1DtP,EAAQyN,IAAMwvC,EAAM7sC,EAAQsG,KAAK,SAAWumC,EAAMj9C,EAAQyN,KAE1D,IAAKzN,EAAQyN,MAAQ2pH,IAAUp3H,EAAQsP,MAAQ8nH,EAC3C72H,KAAK+hM,gBAAkB,KAG3Bv2J,GAAU/rC,GAEVc,EAAKsmI,gBAAkBrpI,EAAO,GAAIiC,GAElCc,EAAKy7E,WAEL,GAAIz7E,EAAKd,QAAQs8L,UAAYx7L,EAAKd,QAAQs8L,SAASj6H,OAAS,SACxDvhE,EAAKd,QAAQoW,OAAS,KAG1BtV,EAAKw7L,SAAWA,EAAW,IAAIF,GAASr+L,EAAO,GAAIiC,EAAS,CACxDjD,GAAIqT,EAAQsG,KAAKwiG,GACjBpW,OAAQhiG,EAAKiW,QACb3R,OAAQpF,EAAQoF,OAChB6mC,OAAQ,SAASpkC,EAAOjF,GACpB,GAAIA,EACA9B,EAAKy0D,QAAQ1tD,QAEbuI,EAAQw7C,IAAI/jD,IAGpB8hG,KAAM,SAAS9mG,GACX,GAAI/B,EAAKd,QAAQs8L,UAAYx7L,EAAKd,QAAQs8L,SAASj6H,OAAS,SACxDvhE,EAAKw7L,SAASjxE,wBAEdvqH,EAAKw7L,SAASsB,eAGlB,GAAI98L,EAAK8B,QAAQwlG,GACbvlG,EAAEpB,qBACC,CACH2O,EAAQsG,KAAK6sG,EAAe,MAC5BS,EAAGttG,KAAK8sG,EAAa,OAErB,GAAI84E,EAASlzL,UACTgH,EAAQsG,KAAKysG,EAAuBm5E,EAAS1qE,aAIzDp3E,MAAO,SAAS33C,GACZ,GAAI/B,EAAK8B,QAAQylG,GACbxlG,EAAEpB,qBACC,CACH2O,EAAQsG,KAAK6sG,EAAe,OAC5BS,EAAGttG,KAAK8sG,EAAa,MACrBpzG,EAAQ,GAAGqyB,gBAAgB0gF,KAGnCqa,OAAQ,SAASp0H,GACb,GAAGgH,GAAWA,EAAQ/P,OAClB+P,EAAQ,GAAGqyB,gBAAgB0gF,GAE/B,GAAI/5G,EACAgH,EAAQsG,KAAKysG,EAAuBm5E,EAAS1qE,YAGrDkvE,eAAgBhgM,EAAKwhM,gBACrBX,QAAS3hM,EAAQyN,MAAQ2pH,KAE7BpT,EAAKs4E,EAASt4E,GAEdljH,EAAK4sB,WAAWs2F,GAEhBljH,EAAK6+F,QACL7+F,EAAKkiE,SAEL,IACI5yD,EAAQ,GAAG2Q,aAAa,OAAQ,QAClC,MAAMle,GACJuN,EAAQ,GAAGtI,KAAO,OAGtBsI,EAAQqG,SAAS,iBACTC,KAAK,CACDyT,KAAQ,WACRo9G,gBAAiB,MACjBpd,YAAamyE,EAASC,YACtBtyE,aAAgB,QAG5Bx3F,EAAWriB,EAAQoG,GAAG,eAAiB/Y,EAAEqD,EAAKsP,SAASyiB,QAAQ,YAAYrc,GAAG,aAC9E,GAAIic,EACA3xB,EAAK6jB,OAAO,YAEZ7jB,EAAK4mE,SAASt3D,EAAQoG,GAAG,eAE7B,GAAIxW,EAAQ2nI,UAAW,CACnB,IAAIr4H,EAAMtP,EAAQsP,IAClB,IAAI7B,EAAMzN,EAAQyN,IAClB,IAAIwuB,EAAQ,IAAI27F,EAChB,GAAIntH,EAAgB6E,IAAQ7E,EAAgBgD,GAAM,CAC9C6B,EAAM,IAAIsoH,EAAK37F,EAAM5xB,cAAe4xB,EAAM7xB,WAAY6xB,EAAMjyB,UAAW,EAAG,EAAG,GAC7EyD,EAAM,IAAImqH,EAAK37F,EAAM5xB,cAAe4xB,EAAM7xB,WAAY6xB,EAAMjyB,UAAW,GAAI,EAAG,GAGlFlJ,EAAK+mI,WAAa,IAAIrgH,EAAGm6G,UAAUvxH,EAAS,CACxCnH,QAASjJ,EAAQiJ,QACjB7D,OAAQpF,EAAQoF,OAChBkK,IAAKA,EACL7B,IAAKA,EACL5F,MAAO7H,EAAQ6H,MACfq8H,SAAUlkI,EAAQkkI,SAClB3xH,KAAMvS,EAAQuS,KACdib,SAAUxtB,EAAQwtB,SAClBhgB,QAASxN,EAAQwN,UAGzB1M,EAAK8nH,KAAO9nH,EAAK4mI,QAAQ1nI,EAAQ6H,OAAS/G,EAAKsP,QAAQw7C,OACvD9qD,EAAKgiI,SAAW1yH,EAAQw7C,MACxB9qD,EAAKkrB,mBAELnuB,EAAMoxB,OAAOnuB,IAGjBd,QAAS,CACLhD,KAAM,aACNsS,IAAK8nH,EACL3pH,IAAK2pH,EACLhyH,OAAQ,GACRs0H,MAAO,GACP+M,aAAc,GACd5+H,MAAO,KACPq8H,SAAU,GACV9tH,OAAQ,IACRszF,UAAW,GACXi+B,UAAW,MACX9/G,SAAU,CACNiC,IAAK,MACLsL,OAAQ,SACR4sG,KAAM,OACNC,OAAQ,SACRC,OAAQ,SACRqgE,YAAa,cACb9yJ,IAAK,OAETpkB,cAAe,UACf9Y,KAAM,SACNib,SAAU,QACVhgB,QAAS,UAGbjL,OAAQ,CACP6lG,EACAC,EACA79D,GAGDpf,eAAgB,CACZyuG,QAAW,CACPyiE,SAAU,CACNj6H,KAAM,SAGd23D,OAAU,CACNsiE,SAAU,CACNj6H,KAAM,YAKlBx2C,WAAY,SAAS7rB,GACjB,IAAIc,EAAOP,KACX,IAAIsH,EAAQ/G,EAAKipH,OAEjB1iG,EAAOnmB,GAAG2qB,WAAW9oB,KAAKjC,EAAMd,GAChCA,EAAUc,EAAKd,QAEf,IAAKA,EAAQyN,MAAQ2pH,IAAUp3H,EAAQsP,MAAQ8nH,EAC3C72H,KAAK+hM,gBAAkB,KAG3BxhM,EAAKmzI,OAAOrgH,IAAIxK,GAChBtoB,EAAKmzI,OAAO3iH,SAEZya,GAAU/rC,GAEVc,EAAKw7L,SAASzwK,WAAW7rB,GAEzBc,EAAK6+F,QACL7+F,EAAK8+E,UAAU5/E,GAEf,GAAI6H,EACA/G,EAAKsP,QAAQw7C,IAAI/tD,EAAMoI,SAAS4B,EAAO7H,EAAQoF,OAAQpF,EAAQiJ,WAIvEs1L,SAAU,SAAS7kE,GACf,GAAIz7H,EAAQy7H,GACRn5H,KAAK+7L,SAASiC,SAAS7kE,IAI/B95C,UAAW,SAAS5/E,GAChB,IAAIc,EAAOP,KACPkkB,EAAUzkB,EAAQykB,QAClBijD,EAAW1nE,EAAQ0nE,SACnBssC,EAAQlzG,EAAKmzI,OAAOrgH,IAAIxK,GACxBhZ,EAAUtP,EAAKsP,QAAQwjB,IAAIxK,GAC3BrS,EAAUjW,EAAKiW,QAAQ6c,IAAIxK,GAE/B,GAAItoB,EAAK+mI,WACL/mI,EAAK+mI,WAAWzF,eAGpB,IAAK16D,IAAajjD,EAAS,CACvB1N,EACKf,YAAYwpE,GACZ74D,GAAG2/G,EAAaxlI,EAAK2rH,cAE1B,GAAGr8G,GAAWA,EAAQ/P,OAAQ,CAC1B+P,EAAQ,GAAGqyB,gBAAgB6+D,GAC3BlxF,EAAQ,GAAGqyB,gBAAgBg/F,GAE/BrxH,EAAQsG,KAAKihG,EAAe,OACpBjhG,KAAK8vH,EAAe,OACpB7/G,GAAG,UAAYyC,EAAItoB,EAAKihG,SAASjgG,KAAKhB,IACtC6lB,GAAG,WAAayC,EAAItoB,EAAKghG,MAAMhgG,KAAKhB,IACpC6lB,GAAG,QAAUyC,EAAI,WACdtoB,EAAKiW,QAAQN,SAAS8oE,KAGjC,GAAIz+E,EAAK+mI,WACL/mI,EAAK+mI,WAAWxF,aAErBruB,EAAMrtF,GAAGu6E,EAAOpgG,EAAKu1C,OAAOv0C,KAAKhB,IAC5B6lB,GAAGw6E,EAAW1/F,QACf,CACHsV,EACKN,SAASgO,EAAU+6D,EAAgB,IACnCxpE,YAAYyO,EAAU,GAAK+6D,GAEhCpvE,EAAQsG,KAAK4qF,EAAU78E,GACf/N,KAAK+qH,EAAU/5D,GACfhxD,KAAKihG,EAAelzF,GACpB/N,KAAK8vH,EAAe9+D,KAIpCA,SAAU,SAASA,GACfnnE,KAAKq/E,UAAU,CACXlY,SAAUA,IAAa9pE,EAAY,KAAO8pE,EAC1CjjD,QAAS,SAIjBE,OAAQ,SAASA,GACbpkB,KAAKq/E,UAAU,CACXlY,SAAU,MACVjjD,UAAWE,EAASA,IAAW/mB,EAAY,KAAO+mB,MAI1D6H,QAAS,WACL,IAAI1rB,EAAOP,KAEX8mB,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,GAEvBA,EAAKw7L,SAAS9vK,UAEd1rB,EAAKsP,QAAQwjB,IAAIxK,GACjBtoB,EAAKmzI,OAAOrgH,IAAIxK,GAChBtoB,EAAKiW,QAAQ6c,IAAIxK,GAEjB,GAAItoB,EAAK8oH,MACL9oH,EAAK8oH,MAAMh2F,IAAI,QAAS9yB,EAAK+oH,gBAIrCrvE,MAAO,WACHj6C,KAAK+7L,SAAS9hJ,SAGlBmvD,KAAM,WACFppG,KAAK+7L,SAAS3yF,QAGlBr6F,IAAK,SAAUzH,GACX,GAAIA,EACAtH,KAAK+hM,gBAAkB,KAG3B,OAAO/hM,KAAK85H,QAAQ,MAAOxyH,IAG/B4F,IAAK,SAAU5F,GACX,GAAIA,GAAStH,KAAK+7L,SAAU,CACxB/7L,KAAK+hM,gBAAkB,KACvB/hM,KAAK+7L,SAASt8L,QAAQ2hM,OAAS,UAC5B,GAAIphM,KAAK+7L,SACZ/7L,KAAK+7L,SAASt8L,QAAQ2hM,OAAS,MAEnC,OAAOphM,KAAK85H,QAAQ,MAAOxyH,IAG/BA,MAAO,SAASA,GACZ,IAAI/G,EAAOP,KAEX,GAAIsH,IAAUjK,EACV,OAAOkD,EAAKipH,OAGhBjpH,EAAK8nH,KAAO9nH,EAAK4mI,QAAQ7/H,GAEzB,GAAI/G,EAAK8nH,OAAS,KACd9nH,EAAKsP,QAAQw7C,IAAI,IAGrB9qD,EAAKgiI,SAAWhiI,EAAKsP,QAAQw7C,OAGjCk2C,MAAO,WACH,IAAIhhG,EAAOP,KACPsH,EAAQ/G,EAAKsP,QAAQw7C,MAE1B,KAAM9qD,EAAKd,QAAQs8L,UAAYx7L,EAAKd,QAAQs8L,SAASj6H,OAAS,UAC1DvhE,EAAK05C,QAGR,GAAI3yC,IAAU/G,EAAKgiI,SACfhiI,EAAKy0D,QAAQ1tD,GAEjB/G,EAAKiW,QAAQf,YAAYupE,IAG7BlpC,OAAQ,WACJ,IAAIv1C,EAAOP,KACP6P,EAAUtP,EAAKsP,QAEnBtP,EAAKw7L,SAASj3K,SAEd,IAAK7mB,EAAQyc,OAAS7K,EAAQ,KAAOJ,IACjCI,EAAQxN,QAAQ,UAIxB2yD,QAAS,SAAS1tD,GACd,IAAI/G,EAAOP,KACX8gI,EAAWvgI,EAAKsP,QAAQw7C,MACxBo8E,EAEAngI,EAAQ/G,EAAK4mI,QAAQ7/H,GACrBmgI,GAAenqI,EAAM0L,SAASmxH,YAAY55H,EAAK8nH,KAAM/gH,GAErD,IAAIogI,EAAeD,IAAgBlnI,EAAK6pH,QACxC,IAAIud,EAAgB7G,IAAavgI,EAAKsP,QAAQw7C,MAE9C,GAAIq8E,GAAgBC,EAChBpnI,EAAKsP,QAAQxN,QAAQ4nC,GAGzB,GAAIw9F,EAAa,CACblnI,EAAK8nH,KAAO/gH,EACZ/G,EAAKgiI,SAAWhiI,EAAKsP,QAAQw7C,MAE7B9qD,EAAK8B,QAAQ4nC,GAGjB1pC,EAAK6pH,QAAU,OAGnBhrB,MAAO,WACH,IAAI7+F,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QACfg0G,EAEJA,EAAQ5jG,EAAQ8rD,KAAK,yBAErB,IAAK83C,EAAM,GACPA,EAAQv2G,EAAEgH,EAAK27F,aAAa,+FAAgG,CACxH9B,KAAM,QACN/rF,KAAMvS,EAAQuS,KACdib,SAAUxtB,EAAQwtB,SAClBoxE,MAAO,KACPpxF,QAAS,QACTo4E,YAAYx1E,GAGpBtP,EAAKmzI,OAASjgC,EAAMt9F,KAAK,CACrByT,KAAQ,SACRigG,gBAAiBtpH,EAAKw7L,SAASC,eAIvCx6F,SAAU,SAASl/F,GACf,IAAI/B,EAAOP,KACPgH,EAAM1E,EAAE8+B,QACR26J,EAAWx7L,EAAKw7L,SAChBz0L,EAAQ/G,EAAKsP,QAAQw7C,MAEzB,GAAI0wI,EAASlxF,MAAMz4E,WAAa9vB,EAAEo5G,OAAQ,CACtCqgF,EAASnnK,KAAKtyB,GACd,GAAI/B,EAAK+mI,YAAchlI,EAAE4hF,yBACrB5hF,EAAE4hF,gCAEH,GAAIl9E,IAAQugB,EAAKK,OAAStgB,IAAU/G,EAAKgiI,SAC5ChiI,EAAKy0D,QAAQ1tD,QAEb/G,EAAK6pH,QAAU,MAIvB0P,QAAS,SAAS/qG,EAAQznB,GACtB,IAAI/G,EAAOP,KACPP,EAAUc,EAAKd,QAEnB,GAAI6H,IAAUjK,EACV,OAAOoC,EAAQsvB,GAGnBznB,EAAQ/G,EAAKw7L,SAASv9I,OAAOl3C,GAE7B,IAAKA,EACD,OAGJA,EAAQ,IAAI+vH,GAAM/vH,GAElB7H,EAAQsvB,GAAUznB,EAClB/G,EAAKw7L,SAASt8L,QAAQsvB,GAAUznB,EAChC/G,EAAKw7L,SAASx6L,QAGlB2qH,aAAc,SAAS5pH,GACnBpF,EAAEoF,EAAEivC,eAAe1tB,YAAY88F,EAAOr+G,EAAEiF,OAAS,eAGrD4/H,QAAS,SAAS7/H,GACd,IAAI/G,EAAOP,KACPP,EAAUc,EAAKd,QACfs8L,EAAWx7L,EAAKw7L,SAChBhzL,EAAOgzL,EAASv9I,OAAOl3C,GAE3B,IAAK6zH,GAAUpyH,EAAMtJ,EAAQsP,IAAKtP,EAAQyN,KACtCnE,EAAO,KAGXxI,EAAKipH,OAASzgH,EACdxI,EAAKigM,mBAAqBz3L,EAC1B,GAAIxI,EAAK+mI,YAAcv+H,EACnBxI,EAAK+mI,WAAWhgI,MAAMyB,GAAQzB,QAE9B/G,EAAKsP,QAAQw7C,IAAI/tD,EAAMoI,SAASqD,GAAQzB,EAAO7H,EAAQoF,OAAQpF,EAAQiJ,UAE3EqzL,EAASz0L,MAAMyB,GAEf,OAAOA,GAGXizE,SAAU,WACN,IAAIz7E,EAAOP,KACP6P,EAAUtP,EAAKsP,QACf2G,EAEJA,EAAU3G,EAAQyiB,QAAQ,iBAE1B,IAAK9b,EAAQ,GACTA,EAAU3G,EAAQuF,KAAK0wH,GAAMvwH,SAGjCiB,EAAQ,GAAGZ,MAAMqE,QAAUpK,EAAQ,GAAG+F,MAAMqE,QAC5C1Z,EAAKiW,QAAUA,EAAQN,SAAS,wBAC3BA,SAASrG,EAAQ,GAAG+I,WAEzB/I,EAAQgF,IAAI,CACRgB,OAAQhG,EAAQ,GAAG+F,MAAMC,UAIjC4sD,OAAQ,WACJ,IAAIliE,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfsgH,EAAStgH,EAAQsG,KAAK,QACtB8qB,EAAOkvF,EAASjzH,EAAE,IAAMizH,GAAUtgH,EAAQ0K,QAAQ,QAEtD,GAAI0mB,EAAK,GAAI,CACT1gC,EAAK+oH,cAAgB,WACjB/oH,EAAK+G,MAAMuI,EAAQ,GAAGq0C,cACtB3jD,EAAK2M,IAAI3M,EAAKsmI,gBAAgB35H,KAC9B3M,EAAKwO,IAAIxO,EAAKsmI,gBAAgB93H,MAGlCxO,EAAK8oH,MAAQpoF,EAAK7a,GAAG,QAAS7lB,EAAK+oH,mBAK/C,SAAS99E,GAAU/rC,GACf,IAAIymI,EAAezmI,EAAQymI,aAE3BzmI,EAAQoF,OAASkxH,EAAct2H,EAAQoF,QAAUvH,EAAMsL,WAAWnJ,EAAQiJ,SAASO,UAAUC,SAASG,SAAS2E,GAE/Gk4H,EAAexoI,EAAQwoI,GAAgBA,EAAe,CAACA,GACvDA,EAAazjI,OAAO,EAAG,EAAGhD,EAAQoF,QAClCpF,EAAQymI,aAAeA,EAG3B,SAAShlI,GAAeoB,GACpBA,EAAEpB,iBAGN,SAASg9L,GAAiBn1L,EAAMkvB,GAC5B,OAAO,IAAItyB,KAAKoD,EAAKe,cACjBf,EAAKc,WACLd,EAAKU,UACLwuB,EAAKluB,WACLkuB,EAAKjuB,aACLiuB,EAAKhuB,aACLguB,EAAK/tB,mBAGb,SAAS+3L,GAAYp9L,EAAQo0B,GACzB,IAAIjwB,EAAWiwB,EAAKjwB,SACpB,IAAIO,EACJ,UAAW1E,IAAW,SAClB,GAAImE,EAASK,SAASxE,GAClB0E,EAASP,EAASK,SAASxE,QAE3B0E,EAAS1E,EAIjB,IAAK0E,EACDA,EAASP,EAASK,SAASmE,EAG/B,OAAOjE,EAGX,SAAS24L,GAAW19L,EAAO8C,GACvB,IAAI66L,EAAW39L,EAAMA,EAAM1E,OAAS,GACpC,GAAIqiM,GAAYA,EAAS56L,OAAS,UAC9B46L,EAASx3L,SAAWrD,OAEpB9C,EAAMtC,KAAK,CACPqF,KAAMkzL,EACN9vL,QAASrD,IAKrB,SAAS86L,GAASz3L,GACd,OAAOA,IAAY,KAAOA,IAAY,IAG1C,SAAS03L,GAAaC,GAClB,IAAIC,EACJ,GAAID,GAAgB,EAChBC,EAAW,mBACR,GAAID,IAAiB,EACxBC,EAAW,YACR,GAAID,IAAiB,EACxBC,EAAW,cACR,GAAID,IAAiB,EACxBC,EAAW,QAGf,OAAOA,EAGX,SAASC,GAAWpiK,EAAMqiK,EAAc9rL,GACpCA,EAAWA,GAAY,EACvB,OAAOypB,EAAKvzB,QAAQ41L,EAAc9rL,KAAcA,EAGpD,SAAS6mL,GAASp9J,EAAMsiK,GACpB,IAAIj/D,EAAc,MAElB,GAAIrjG,EAAKvzB,QAAQ61L,MAAa,EAC1Bj/D,EAAc,KAGlB,OAAOA,EAGX,SAAS+6D,GAAgB35L,GACrB,IAAIo0B,EAAO37B,EAAMoL,UACjB,IAAIiC,EAAUs3L,GAAYp9L,EAAQo0B,GAClC,IAAIz0B,EAAQ,GACZ,IAAIkC,EAAYmB,EAAiBnB,UAAY,EAC7C,IAAIpC,EAAQuD,EAAiBwE,KAAK1B,GAClC,IAAIg4L,EACJ,IAAIp7L,EACJ,IAAI5E,EACJ,IAAIiH,EACJ,IAAIo/G,EACJ,IAAI45E,EAEJ,MAAOt+L,EAAO,CACV,IAAIgD,EAAQhD,EAAM,GAElB,GAAIoC,EAAYpC,EAAM6K,MAClB+yL,GAAW19L,EAAOmG,EAAQ1H,UAAUyD,EAAWpC,EAAM6K,QAGzD,GAAIqzL,GAAWl7L,EAAO,MAAQk7L,GAAWl7L,EAAO,KAC5C46L,GAAW19L,EAAO8C,OACf,CACHq7L,EAAYr7L,EAAM,GAClBC,EAAOuzL,EAAe6H,GACtBhgM,EAAO,CACH4E,KAAMA,EACNoD,QAASrD,GAGb,GAAIC,IAAS,OACT5E,EAAK6+L,OAASY,GAAS96L,GAG3BsC,EAAQ0xL,EAAW/zL,GAEnB,GAAIqC,EAAO,CACPo/G,SAAmBp/G,EAAMo/G,YAAc,SAAWp/G,EAAMo/G,UAAYp/G,EAAMo/G,UAAU25E,GACpFC,EAAgBt7L,EAAMxH,OAEtB,GAAI8iM,GAAiB55E,EACjBrmH,EAAKiH,MAAQ,CACTrC,KAAMqC,EAAMrC,KACZg7L,SAAUF,GAAaO,GACvBrH,WAAY3xL,EAAM2xL,aAAeoH,GAK7Cn+L,EAAMtC,KAAKS,GAGf+D,EAAYmB,EAAiBnB,UAC7BpC,EAAQuD,EAAiBwE,KAAK1B,GAGlC,GAAIjE,EAAYiE,EAAQ7K,OACpBoiM,GAAW19L,EAAOmG,EAAQ1H,UAAUyD,IAGxC,OAAOlC,EAGX,SAASf,GAAI6D,EAAO0K,GAChB,IAAIjE,EAAI1H,OAAOiB,GACf,MAAOyG,EAAEjO,QAAUkS,GAAQ,GACvBjE,EAAI,IAAMA,EAEd,OAAOA,EAGX,SAAS8gI,GAAel+G,EAAW+jG,GAC/B,OAAO52H,KAAKoP,IAAIpP,KAAK6O,MAAMgkB,EAAY+jG,GAAa,GAGxD,SAASuoE,EAAeh0J,GACpB,OAAOA,EAAKnpC,QAAUmpC,EAAK,GAAGozD,wBAAwBxmF,OAG1D,SAAS4rL,GAAuB5xL,EAASgzL,GAErC,SAASC,EAAU32L,EAAOrM,GACtB,MAAO,CAACqM,MAAOA,EAAOrM,OAAQA,EAAQ8D,IAAKuI,EAAQrM,GAGvD,SAASijM,EAAW/pH,EAAOC,GACvB,GAAI,QAAU4pH,GACT5pH,EAAM9sE,MAAQ6sE,EAAMp1E,KAAOo1E,EAAM7sE,MAAQ8sE,EAAMr1E,IAEhD,OAAO9F,KAAKiR,IACRiqE,EAAM7sE,MAAOrO,KAAKoP,IAAI+rE,EAAM9sE,MAAO6sE,EAAMp1E,IAAMq1E,EAAMn5E,SAG7D,OAAQk5E,EAAM7sE,MAAQ6sE,EAAMp1E,IAAMq1E,EAAMn5E,QAAU,EAGtD,SAASkjM,EAAU/kK,EAAG9vB,GAClB,MAAO,CACH8vB,EAAGA,EAAG9vB,EAAGA,EACTs+D,UAAW,SAASA,EAAUqG,EAAIC,GAC9B,OAAOiwH,EAAU/kK,EAAI60C,EAAI3kE,EAAI4kE,KAKzC,SAASkwH,EAAS3zH,EAAM4zH,GACpB,MAAO5zH,EAAM,CACT4zH,EAAKA,EAAGz2H,UAAU6C,EAAK6zH,WAAY7zH,EAAKq7C,WACxCr7C,EAAOA,EAAK08B,aAEhB,OAAOk3F,EAGX,IAAIvjM,EAASsjM,EAASpzL,EAASmzL,EAAU,EAAG,IACxCI,EAASJ,EAAUnzL,EAAQwK,YAAaxK,EAAQ4e,cAChD6gD,EAAOz/D,EAAQ2R,WACf2zD,EAEJ,MAAO7F,aAAgBx0D,YAAa,CAChCq6D,EAAS8tH,EAAS3zH,EAAM0zH,EAAU1zH,EAAK+zH,WAAY/zH,EAAKg0H,YACxDh0H,EAAKx2D,WAAaiqL,EACdD,EAAUnjM,EAAOs+B,EAAIk3C,EAAOl3C,EAAGmlK,EAAOnlK,GACtC6kK,EAAUxzH,EAAKx2D,WAAYw2D,EAAK91D,cAEpC81D,EAAK3+C,UAAYoyK,EACbD,EAAUnjM,EAAOwO,EAAIgnE,EAAOhnE,EAAGi1L,EAAOj1L,GACtC20L,EAAUxzH,EAAK3+C,UAAW2+C,EAAKxvD,eAGnCngB,EAASA,EAAO8sE,WAAW6C,EAAKx2D,YAAaw2D,EAAK3+C,WAClD2+C,EAAOA,EAAK9tD,YAgBxB,OAXIlkB,EAAMqvB,cAAc0Y,eAAe,aAAc,YAEjD/nC,EAAMqvB,cAAc4Y,eAAe,aAAc,CAAC,CAC9C/Y,KAAM,UACNtd,OAAQ5R,EAAMqvB,cAAc2X,cAAchwB,OAAO,CAAC,CAAC,OAAQ,aAG/D2S,EAAG+J,OAAO8wK,IAIP1kM,OAAOE,QAn8Dd,CAq8DoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,uBAAuB,CAAE,mBAAoB,mBAAoB,qBACzE,WAEH,IAAIC,EAAW,CACXC,GAAI,iBACJC,KAAM,iBACNC,SAAU,MACVC,YAAa,qGACbotC,QAAS,CAAE,aAAc,eAGnB7sC,EAsnCPE,OAAOE,MAAMH,OAtnCHE,OAAb,EAEQC,EAAQF,OAAOE,MACfu+L,EAAWv+L,EAAMu+L,SACjB33L,EAAO5G,EAAM4G,KACbw4C,EAAQp/C,EAAMmc,UACdxb,EAAUX,EAAMW,QAChBwR,EAAgBnS,EAAMiS,eACtBwmH,EAAgBz4H,EAAMgS,eACtBtG,EAAW1L,EAAM0L,SACjBmyH,EAAYnyH,EAASmyH,UACrB1C,EAAgBzvH,EAASyvH,cACzB8H,EAAkBv3H,EAASu3H,gBAC3Br2H,EAAkB2xL,EAAS3xL,gBAC3B+c,EAAK3pB,EAAM2pB,GACXH,EAASG,EAAGH,OACZ+gF,EAAO,OACPC,EAAQ,QACR79D,EAAS,SACTphB,EAAK,uBACL83E,EAAQ,QAAU93E,EAClBd,EAAK9pB,EAAQ2gB,qBAAuBthB,EAAMu4B,cAAc,KAAMhN,EAAG1pB,MAAM,IAAMwhG,EAC7EI,EAAW,WACXmgC,EAAW,WACXliD,EAAU,UACV2hC,EAAQ,UACR1hC,EAAgB,aAChB8mD,EAAc,aAAel9G,EAAK,cAAgBA,EAClD+3E,EAAY,YAAc/3E,EAC1B2tG,EAAQ,QACRsP,EAAO,UACPljB,EAAwB,wBACxBI,EAAgB,gBAChBC,EAAc,cACdsgF,EAAY,YACZnsF,EAAgB,gBAChB6uB,EAAgB,gBAChB5O,EAAO1xH,KACP2wH,EAAM,IAAIe,EAAK,KAAM,EAAG,GACxB2O,EAAM,IAAI3O,EAAK,KAAM,GAAI,IACzBmsE,EAAiB,CAAE9xK,KAAM,QACzB+xK,EAAiB,CAAE/xK,KAAM,QACzBl0B,EAASN,EAAEM,OACXkmM,EAAwB,2CACI,uCACI,wDACI,mHACI,sDACJ,YACA,sGACI,sDACJ,YACJ,SACJ,SACA,oCACI,yCACA,SACA,qCACA,SACJ,SACA,mDACI,2IACI,wDACJ,YACA,wIACI,qDACJ,YACJ,SACJ,SACxBrtF,EAAiB,aAEjBstF,EAAiB78K,EAAOtpB,OAAO,CAC/BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAAMkyB,EAAUwxG,EAE3BjkI,EAAUA,GAAW,GACrBA,EAAQqrB,cAAgBrrB,EAAQqrB,eAAiB,UACjDhE,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCoQ,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QAEfA,EAAQm4H,aAAet6H,EAAM0L,SAASkpB,SAASzyB,EAAQm4H,cACvDn4H,EAAQsP,IAAM2tC,EAAM7sC,EAAQsG,KAAK,SAAWumC,EAAMj9C,EAAQsP,KAC1DtP,EAAQyN,IAAMwvC,EAAM7sC,EAAQsG,KAAK,SAAWumC,EAAMj9C,EAAQyN,KAE1D,IAAKzN,EAAQyN,MAAQ84H,IAAQvmI,EAAQsP,MAAQunH,EACzCt2H,KAAK+hM,gBAAkB,KAG3Bv2J,EAAU/rC,GAEVc,EAAKsmI,gBAAkBrpI,EAAO,GAAIiC,GAElCc,EAAKy7E,WAEL,GAAGv8E,EAAQmkM,YACPrjM,EAAK0rH,SAGT1rH,EAAKsjM,SAELtjM,EAAKujM,SAELvjM,EAAKkiE,SACLliE,EAAKi+F,YAEL,IACI3uF,EAAQ,GAAG2Q,aAAa,OAAQ,QAClC,MAAMle,GACJuN,EAAQ,GAAGtI,KAAO,OAGtBsI,EAAQqG,SAAS,iBACTC,KAAK,CACFyT,KAAQ,WACRo9G,gBAAiB,MACjBtd,aAAgB,QAI3BnpH,EAAKwjM,UAAYxjM,EAAKyjM,mBAAmBvkM,EAAQsP,IAAKtP,EAAQyN,KAE9DglB,EAAWriB,EAAQoG,GAAG,eAAiB/Y,EAAEqD,EAAKsP,SAASyiB,QAAQ,YAAYrc,GAAG,aAC9E,GAAIic,EACA3xB,EAAK6jB,OAAO,YAEZ7jB,EAAK4mE,SAASt3D,EAAQoG,GAAG,eAG7BytH,EAAehnF,EAAMj9C,EAAQ6H,OAAS/G,EAAKsP,QAAQw7C,MAAO5rD,EAAQymI,aAAczmI,EAAQiJ,SAExFnI,EAAK2mI,iBAAiBznI,GAEtBc,EAAK8nH,KAAO9nH,EAAK4mI,QAAQzD,GAAgBnjI,EAAKsP,QAAQw7C,OACtD9qD,EAAKgiI,SAAW1yH,EAAQw7C,MACxB9qD,EAAKkrB,mBAELnuB,EAAMoxB,OAAOnuB,IAGjBd,QAAS,CACLhD,KAAM,iBACN6K,MAAO,KACPzC,OAAQ,GACRo/L,WAAY,GACZv7L,QAAS,GACTw9H,aAAc,GACd/M,MAAO,GACPvB,aAAc,KACd7oH,IAAK,IAAIsoH,EAAKf,GACdppH,IAAK,IAAImqH,EAAK2O,GACdrC,SAAU,GACV9tH,OAAQ,IACRwkE,OAAQ,GACRluE,MAAOqqH,EACP4C,MAAO5C,EACPrtB,UAAW,GACXt2F,MAAQ,GACRyzF,aAAc,oDACd49F,eAAgB,qBAChBC,eAAgB,qBAChB/8D,UAAW,MACXrsG,WAAY,MACZzT,SAAU,CACNiC,IAAK,MACLsL,OAAQ,SACR4sG,KAAM,OACNC,OAAQ,SACRC,OAAQ,SACRqgE,YAAa,cACb9yJ,IAAK,MACLnmC,KAAM,OACNkvB,KAAM,OACNyD,MAAO,QACP29F,iBAAkB,IAEtBvuG,cAAe,UACf9Y,KAAM,SACNib,SAAU,QACVhgB,QAAS,UAGbjL,OAAQ,CACJ6lG,EACAC,EACA79D,GAGJpf,eAAgB,CACZyuG,QAAW,CACPsqE,YAAa,MACb7H,SAAU,CACNj6H,KAAM,SAGd23D,OAAU,CACNmqE,YAAa,KACb7H,SAAU,CACNj6H,KAAM,YAKlBx2C,WAAY,SAAS7rB,GACjB,IAAIc,EAAOP,KACPsH,EAAQ/G,EAAKipH,OACbz6G,EAAK7B,EAAKw4B,EAEd5e,EAAOnmB,GAAG2qB,WAAW9oB,KAAKjC,EAAMd,GAEhCA,EAAUc,EAAKd,QAEfA,EAAQsP,IAAMA,EAAM2tC,EAAMj9C,EAAQsP,KAClCtP,EAAQyN,IAAMA,EAAMwvC,EAAMj9C,EAAQyN,KAElCs+B,EAAU/rC,GAEVc,EAAKwjM,UAAYxjM,EAAKyjM,mBAAmBvkM,EAAQsP,IAAKtP,EAAQyN,KAE9Dw4B,EAAejmC,EAAQ6H,OAAS/G,EAAKipH,QAAUjpH,EAAKumI,SAAS3Z,SAE7D,GAAIp+G,IAAQwxH,EAAgBxxH,EAAK22B,GAC7B32B,EAAM,IAAIsoH,EAAKf,GAGnB,GAAIppH,IAAQqzH,EAAgBrzH,EAAKw4B,GAC7Bx4B,EAAM,IAAImqH,EAAK2O,GAGnBzlI,EAAK8mI,UAAUh0G,IAAIxK,GACnBtoB,EAAK8mI,UAAUt2G,SACfxwB,EAAK6jM,UAAU/wK,IAAIxK,GACnBtoB,EAAK6jM,UAAUrzK,SAEfxwB,EAAKumI,SAASx7G,WAAW7rB,GAEzBc,EAAKw7L,SAASzwK,WAAW9tB,EAAO,GAAIiC,EAAS,CACzCoF,OAAQpF,EAAQwkM,WAChBl1L,IAAKA,EACL7B,IAAKA,KAGT3M,EAAKujM,SACLvjM,EAAK8+E,UAAU5/E,GACfc,EAAK2mI,iBAAiBznI,GAEtB,IAAKc,EAAK+mI,WACN/mI,EAAKsP,QAAQw7C,IAAI/tD,EAAMoI,SAAS4B,EAAO7H,EAAQoF,OAAQpF,EAAQiJ,UAGnE,GAAIpB,EACA/G,EAAKwmI,YAAYz/H,IAIzB+3E,UAAW,SAAS5/E,GAChB,IAAIc,EAAOP,KACP6P,EAAUtP,EAAKsP,QAAQwjB,IAAIxK,GAC3Bw7K,EAAW9jM,EAAK8mI,UAAUh0G,IAAIxK,GAC9By7K,EAAW/jM,EAAK6jM,UAAU/wK,IAAIxK,GAC9BrS,EAAUjW,EAAKiW,QAAQ6c,IAAIxK,GAC3Bs+C,EAAW1nE,EAAQ0nE,SACnBjjD,EAAUzkB,EAAQykB,QAEtB,IAAKijD,IAAajjD,EAAS,CACvB1N,EACKf,YAAYwpE,GACZ74D,GAAG2/G,EAAaxlI,EAAK2rH,cAC1B,GAAGr8G,GAAWA,EAAQ/P,OAAQ,CAC1B+P,EAAQ,GAAGqyB,gBAAgB6+D,GAC3BlxF,EAAQ,GAAGqyB,gBAAgBg/F,EAAU,OACrCrxH,EAAQ,GAAGqyB,gBAAgBk1E,EAAe,OAC1CvnG,EAAQ,GAAGqyB,gBAAgB+jG,EAAe,OAE9Cp2H,EAAQuW,GAAG,UAAYyC,EAAItoB,EAAKihG,SAASjgG,KAAKhB,IACtC6lB,GAAG,QAAUyC,EAAI,WACdtoB,EAAKiW,QAAQN,SAAS8oE,KAEzB54D,GAAG,WAAayC,EAAI,WACjBtoB,EAAKiW,QAAQf,YAAYupE,GACzB,GAAInvE,EAAQw7C,QAAU9qD,EAAKgiI,SAAU,CACjChiI,EAAKy0D,QAAQnlD,EAAQw7C,OACrB,IAAKx7C,EAAQw7C,MACT9qD,EAAKumI,SAASj+H,QAAQvL,EAAM0L,SAAS+vH,YAG7C,GAAIx4H,EAAKd,QAAQmkM,YACb,OAEJrjM,EAAK05C,MAAM,QACX15C,EAAK05C,MAAM,UAGvBoqJ,EAASj+K,GAAGw6E,EAAW1/F,GACbklB,GAAG2B,EAAI,SAASzlB,GACb/B,EAAKukB,OAAO,QACZvkB,EAAKmvH,cAAcptH,EAAEiF,QAGlC+8L,EAASl+K,GAAGw6E,EAAW1/F,GACbklB,GAAG2B,EAAI,SAASzlB,GACb/B,EAAKukB,OAAO,QACZvkB,EAAKmvH,cAAcptH,EAAEiF,YAG9B,CACHiP,EACKN,SAASgO,EAAU+6D,EAAgB,IACnCxpE,YAAYyO,EAAU,GAAK+6D,GAEhCpvE,EAAQsG,KAAK4qF,EAAU78E,GACf/N,KAAK+qH,EAAU/5D,GACfhxD,KAAKihG,EAAelzF,GACpB/N,KAAK8vH,EAAe9+D,KAIpCuoD,cAAe,SAAS8X,GACpB,IAAI33H,EAAU7P,KAAK6P,QAEnB,KAAM5R,EAAQyc,OAAUzc,EAAQ2gB,wBAA0B4oH,GAAa,IAAIljI,MAAM,YAAeuL,EAAQ,KAAOJ,IAC3GI,EAAQxN,QAAQ,UAIxB8kE,SAAU,SAASA,GACfnnE,KAAKq/E,UAAU,CACXlY,SAAUA,IAAa9pE,EAAY,KAAO8pE,EAC1CjjD,QAAS,SAIjBE,OAAQ,SAASA,GACbpkB,KAAKq/E,UAAU,CACXlY,SAAU,MACVjjD,UAAWE,EAASA,IAAW/mB,EAAY,KAAO+mB,MAI1D6H,QAAS,WACL,IAAI1rB,EAAOP,KAEX8mB,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,GACvBA,EAAKumI,SAAS76G,UACd1rB,EAAKw7L,SAAS9vK,UAEd,GAAI1rB,EAAKd,QAAQmkM,YAAa,CAC1BrjM,EAAKsqG,MAAMh7F,QAAQwjB,IAAIxK,GACvBtoB,EAAKsqG,MAAM5+E,UAGf1rB,EAAKsP,QAAQwjB,IAAIxK,GACjBtoB,EAAK8mI,UAAUh0G,IAAIxK,GACnBtoB,EAAK6jM,UAAU/wK,IAAIxK,GACnBtoB,EAAKiW,QAAQ6c,IAAIxK,GAEjB,GAAItoB,EAAK8oH,MACL9oH,EAAK8oH,MAAMh2F,IAAI,QAAS9yB,EAAK+oH,gBAIrCrvE,MAAO,SAASvoB,GACZ,IAAInxB,EAAOP,KAEX,GAAIO,EAAKd,QAAQmkM,YACbrjM,EAAKsqG,MAAM5wD,YACR,CACH,GAAIvoB,IAAS,OACTA,EAAO,OAGXnxB,EAAKmxB,EAAO,QAAQuoB,QAGxB9mB,WAAW,WACP5yB,EAAKsP,QAAQwb,WAAW,4BAIhC+9E,KAAM,SAAS13E,GACX,IAAInxB,EAAOP,KACX,IAAI0mI,EAEJ,GAAInmI,EAAKd,QAAQmkM,YAAa,CAE1BrjM,EAAKumI,SAASN,YAEd,GAAIjmI,EAAKw7L,SAASt4E,GAAG1zF,KAAK,MAAMjwB,OAAS,EACrCS,EAAKw7L,SAASx6L,OAMlBmlI,EAAenmI,EAAKsqG,MAAM5B,SAC1B1oG,EAAKsqG,MAAM5B,SAAW,KAEtB1oG,EAAKsqG,MAAMzB,OAEX,GAAI13E,IAAS,OACTnxB,EAAKgkM,yBAELhkM,EAAKikM,oBAGTxkM,KAAKqnI,UAAUviH,OAAO4M,IAAS,QAC/B1xB,KAAKokM,UAAUt/K,OAAO4M,IAAS,QAE/ByB,WAAW,WACP5yB,EAAKsqG,MAAM5B,SAAWy9B,GACvB,OAEA,CACH,GAAIh1G,IAAS,OACTA,EAAO,OAGX1xB,KAAK0xB,EAAO,QAAQ03E,SAI5Br6F,IAAK,SAASzH,GACV,OAAOtH,KAAK85H,QAAQ,MAAOxyH,IAG/B4F,IAAK,SAAS5F,GACV,OAAOtH,KAAK85H,QAAQ,MAAOxyH,IAG/Bwd,OAAQ,SAAS4M,GACb,GAAI1xB,KAAKP,QAAQmkM,YACb,GAAI5jM,KAAK6qG,MAAMz4E,UACXpyB,KAAKi6C,aAELj6C,KAAKopG,KAAK13E,OAEX,CACH,IAAI+yK,EAAa,WAEjB,GAAI/yK,IAAS,OACTA,EAAO,YAEP+yK,EAAa,WAGjBzkM,KAAK0xB,EAAO,QAAQ5M,SACpB9kB,KAAKykM,GAAYxqJ,UAKzB3yC,MAAO,SAASA,GACZ,IAAI/G,EAAOP,KAEX,GAAIsH,IAAUjK,EACV,OAAOkD,EAAKipH,OAGhBjpH,EAAK8nH,KAAO9nH,EAAK4mI,QAAQ7/H,GACzB,GAAI/G,EAAK8nH,OAAS,KACd,GAAI9nH,EAAK+mI,WACL/mI,EAAK+mI,WAAWhgI,MAAM/G,EAAK8nH,WAE3B9nH,EAAKsP,QAAQw7C,IAAI,IAIzB9qD,EAAKgiI,SAAWhiI,EAAKsP,QAAQw7C,OAGjC2J,QAAS,SAAS1tD,GACd,IAAI/G,EAAOP,KACX8gI,EAAWvgI,EAAKsP,QAAQw7C,MACxBo8E,EAEAngI,EAAQ/G,EAAK4mI,QAAQ7/H,GACrBmgI,GAAelnI,EAAK8nH,OAAS/gH,EAE7B,IAAIogI,EAAeD,IAAgBlnI,EAAK6pH,QACxC,IAAIud,EAAgB7G,IAAavgI,EAAKsP,QAAQw7C,MAE9C,GAAIq8E,GAAgBC,EAChBpnI,EAAKsP,QAAQxN,QAAQ4nC,GAGzB,GAAIw9F,EAAa,CACblnI,EAAK8nH,KAAO/gH,EACZ/G,EAAKgiI,SAAWhiI,EAAKsP,QAAQw7C,MAE7B9qD,EAAK8B,QAAQ4nC,GAGjB1pC,EAAK6pH,QAAU,OAGnB0P,QAAS,SAAS/qG,EAAQznB,GACtB,IAAI/G,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAIs8L,EAAWx7L,EAAKw7L,SACpB,IAAI2I,EAAkB3I,EAASt8L,QAC/B,IAAIoJ,EAAUtI,EAAKipH,QAAUjpH,EAAK8nH,KAClC,IAAIs8E,EACJ,IAAIC,EAEJ,GAAIt9L,IAAUjK,EACV,OAAOoC,EAAQsvB,GAGnBznB,EAAQo1C,EAAMp1C,EAAO7H,EAAQymI,aAAczmI,EAAQiJ,SACnDg8L,EAAgBtD,OAAS,MAEzB,IAAK95L,EACD,OAGJ,GAAI7H,EAAQsP,IAAIyI,YAAc/X,EAAQyN,IAAIsK,UACtCktL,EAAgBvrE,MAAQ,GAG5B15H,EAAQsvB,GAAU,IAAIsoG,EAAK/vH,EAAMkQ,WACjCjX,EAAKumI,SAAS/3G,GAAQznB,GAEtB/G,EAAKwjM,UAAYxjM,EAAKyjM,mBAAmBvkM,EAAQsP,IAAKtP,EAAQyN,KAE9D,GAAIrE,EAAS,CACT87L,EAAepkE,EAAgB9gI,EAAQsP,IAAKlG,GAC5C+7L,EAAerkE,EAAgB9gI,EAAQyN,IAAKrE,GAGhD,GAAI87L,GAAgBC,EAAc,CAC9BF,EAAgB31K,GAAUznB,EAE1B,GAAIq9L,IAAiBC,EACjBF,EAAgBx3L,IAAMmvL,EAAe58L,EAAQkkI,UAGjD,GAAIihE,EACA,GAAIrkM,EAAKwjM,UAAW,CAChBhI,EAASiC,SAAS,CAACh4D,IACnB,YACG,IAAK2+D,EAAc,CACtBD,EAAgB31L,IAAMunH,EACtBouE,EAAgBtD,OAAS,UAG9B,CACHsD,EAAgBx3L,IAAM84H,EACtB0+D,EAAgB31L,IAAMunH,EAG1BylE,EAASx6L,QAGb2qH,aAAc,SAAS5pH,GACnBpF,EAAEoF,EAAEivC,eAAe1tB,YAAY88F,EAAOr+G,EAAEiF,OAAS,eAGrD4/H,QAAS,SAAS7/H,GACd,IAAI/G,EAAOP,KACPP,EAAUc,EAAKd,QACfsP,EAAMtP,EAAQsP,IACd7B,EAAMzN,EAAQyN,IACdisH,EAAQ15H,EAAQ05H,MAChB4iE,EAAWx7L,EAAKw7L,SAChBlzL,EAAUtI,EAAKipH,OACfzgH,EAAO2zC,EAAMp1C,EAAO7H,EAAQymI,aAAczmI,EAAQiJ,SAClDk/H,EAAc7+H,IAAS,MAAQF,IAAY,MAAUE,aAAgBpD,MAAQkD,aAAmBlD,KAChGk/L,EAAQH,EAAiBj7H,EAAK/1B,EAAMm0F,EAExC,GAAIpoI,EAAQm4H,cAAgBn4H,EAAQm4H,aAAa7uH,GAAO,CACpDA,EAAO,KACP,IAAKxI,EAAK8nH,OAAS9nH,EAAKsP,QAAQw7C,MAC5B/jD,EAAQ,KAIhB,IAAKyB,KAAUF,GAAW++H,EAAY,CAClCC,EAAiBvqI,EAAMoI,SAASqD,EAAMtJ,EAAQoF,OAAQpF,EAAQiJ,SAE9D,GAAIm/H,IAAmBvgI,EAAQ,CAC3B/G,EAAKsP,QAAQw7C,IAAItiD,IAAS,KAAOzB,EAAQugI,GACzC,GAAIvgI,aAAiBjB,OACjB9F,EAAKsP,QAAQxN,QAAQ4nC,GAI7B,OAAOlhC,EAGX,GAAIA,IAAS,MAAQw3H,EAAgBx3H,EAAMgG,GACvChG,EAAO0vH,EAAc1vH,EAAMgG,EAAK7B,QAC7B,IAAKiuH,EAAUpyH,EAAMgG,EAAK7B,GAC7BnE,EAAO,KAGXxI,EAAKipH,OAASzgH,EACdgzL,EAASz0L,MAAMyB,GACfxI,EAAKumI,SAASx/H,MAAMyB,GAEpB,GAAIA,EAAM,CACN0gE,EAAMlpE,EAAK8nH,KACXq8E,EAAkB3I,EAASt8L,QAC3BilM,EAAgBtD,OAAS,MAEzB,GAAIjoE,EAAM,GAAI,CACVA,EAAQj8H,EAAEu7B,KAAK0gG,EAAO,SAAS3rH,GAAK,OAAO+yH,EAAgBx3H,EAAMyE,KAEjE,GAAI2rH,EAAM,GAAI,CACV4iE,EAASiC,SAAS7kE,GAClBzlF,EAAO,MAIf,IAAKA,EAAM,CACP,GAAI6sF,EAAgBx3H,EAAMgG,GAAM,CAC5B21L,EAAgB31L,IAAMA,EACtB21L,EAAgBx3L,IAAMmvL,EAAe58L,EAAQkkI,UAC7CkhE,EAAS,KAGb,GAAItkE,EAAgBx3H,EAAMmE,GACtB,GAAI3M,EAAKwjM,UAAW,CAChBhI,EAASiC,SAAS,CAACh4D,IACnBtyF,EAAO,SACJ,CACHgxJ,EAAgBx3L,IAAMA,EACtBw3L,EAAgBtD,OAAS,KACzB,IAAKyD,EACDH,EAAgB31L,IAAMunH,EAE1BuuE,EAAS,MAKrB,IAAKnxJ,KAAW+1B,GAAOo7H,GAAYp7H,IAAQ82D,EAAgB92D,EAAK1gE,IAAS,CACrE,IAAK87L,EAAQ,CACTH,EAAgBx3L,IAAM84H,EACtB0+D,EAAgB31L,IAAMunH,EAG1BylE,EAASx6L,QAGjB,GAAIhB,EAAK+mI,YACL,GAAIv+H,EACAxI,EAAK+mI,WAAWhgI,MAAMyB,QAG1BxI,EAAKsP,QAAQw7C,IAAI/tD,EAAMoI,SAASqD,GAAQzB,EAAO7H,EAAQoF,OAAQpF,EAAQiJ,UAE3EnI,EAAKwmI,YAAYh+H,GAEjB,OAAOA,GAGXy4F,SAAU,SAASl/F,GACf,IAAI/B,EAAOP,KACP8mI,EAAWvmI,EAAKumI,SAChBi1D,EAAWx7L,EAAKw7L,SAChBz0L,EAAQ/G,EAAKsP,QAAQw7C,MACrBy5I,EAAoBvkM,EAAKd,QAAQmkM,YAAcrjM,EAAKsqG,MAAMz4E,UAAY00G,EAASj8B,MAAMz4E,UACzF,IAAIkC,EAAkB/zB,EAAK+mI,YAAchlI,EAAE4hF,yBAC3C,GAAI5hF,EAAEo5G,QAAUp5G,EAAE8+B,UAAY9jC,EAAMiqB,KAAKU,KACrC1nB,EAAKukB,OAAOggL,EAAoB,OAAS,aACtC,GAAIA,EAAmB,CAC1Bh+D,EAASlyG,KAAKtyB,GACd/B,EAAKwmI,YAAYD,EAAS3Z,eACvB,IAAK5sH,EAAKd,QAAQmkM,aAAe7H,EAASlxF,MAAMz4E,UACnD2pK,EAASnnK,KAAKtyB,QACX,GAAIA,EAAE8+B,UAAY9jC,EAAMiqB,KAAKK,OAAStgB,IAAU/G,EAAKgiI,SACxDhiI,EAAKy0D,QAAQ1tD,OACV,CACH/G,EAAK6pH,QAAU,KACf91F,EAAkB,MAEtB,GAAIA,EACAhyB,EAAE4hF,4BAIV2/G,OAAQ,WACJ,IAAItjM,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QACfjD,EAAKqT,EAAQsG,KAAK,MAClB2wH,EAAUi1D,EACVhiL,EAAK0pG,EAAItoF,EACTpyB,EACA84L,EACAz7D,EACAs+D,EAEJ,GAAIjlM,EAAQmkM,YAAa,CACrBnkM,EAAQ4mI,QAAU9lI,EAAKsqG,MAAMh7F,QAAQkgB,KAAK,6BAC1C8xK,EAAUthM,EAAKsqG,MAAMh7F,QAAQkgB,KAAK,yBAClCtwB,EAAQ2mI,UAAYA,EAAY,KAChCs+D,EAAkBjlM,EAAQs8L,SAG9Bx7L,EAAKumI,SAAWA,EAAW,IAAIxpI,EAAM6oI,SAAS3oI,EAAO,GAAIiC,EAAS,CAC9DjD,GAAIA,EACJ+lG,OAAQhiG,EAAKiW,QACbk1B,OAAQ,WACJ,IAAIpkC,EAAQ/G,EAAKwkM,kBAEjB,GAAGtlM,EAAQmkM,YAAY,CACnB,IAAKrjM,EAAKw7L,SAASyE,mBACfjgM,EAAKw7L,SAASyE,mBAAqB,IAAI76L,KAE3CpF,EAAKw7L,SAASyE,mBAAmBzsL,YAAYzM,EAAMwC,eACnDvJ,EAAKw7L,SAASyE,mBAAmB7gE,SAASr4H,EAAMuC,YAChDtJ,EAAKw7L,SAASyE,mBAAmB3mK,QAAQvyB,EAAMmC,WAC/ClJ,EAAKgkM,oBACLhkM,EAAKykM,mBACF,CACHzkM,EAAKy0D,QAAQ1tD,GACb/G,EAAK05C,MAAM,UAGnBA,MAAO,SAAS33C,GACZ,GAAI/B,EAAK8B,QAAQylG,EAAO07F,GACpBlhM,EAAEpB,qBACC,CACH2O,EAAQsG,KAAK6sG,EAAe,OAC5BjpG,EAAI5D,KAAK8sG,EAAa,MAEtB,IAAK1iH,EAAKd,QAAQmkM,cAAgB7H,EAASlxF,MAAMz4E,UAC7C,GAAGviB,GAAWA,EAAQ/P,OAClB+P,EAAQ,GAAGqyB,gBAAgBqhK,KAK3Cn6F,KAAO,SAAS9mG,GACZ,GAAI/B,EAAK8B,QAAQwlG,EAAM27F,GACnBlhM,EAAEpB,qBACC,CAEH,GAAI2O,EAAQw7C,QAAU9qD,EAAKgiI,SAAU,CACjCx5H,EAAO2zC,EAAM7sC,EAAQw7C,MAAO5rD,EAAQymI,aAAczmI,EAAQiJ,SAE1DnI,EAAKumI,SAAS/9H,EAAO,UAAY,SAASA,GAG9CgR,EAAI5D,KAAK8sG,EAAa,OACtBpzG,EAAQsG,KAAK6sG,EAAe,MACpB7sG,KAAKotL,EAAWz8D,EAASR,aAEjC/lI,EAAKwmI,YAAYh+H,QAI7BgR,EAAM+sH,EAAS/sH,IAEfohB,EAAQ17B,EAAQsP,IAAIyI,UACpBjX,EAAKw7L,SAAWA,EAAW,IAAIF,EAAS,CACpCr/L,GAAIA,EACJ8K,MAAO7H,EAAQ6H,MACf0K,KAAMvS,EAAQuS,KACduwF,OAAQhiG,EAAKiW,QACb2yF,UAAW1pG,EAAQ0pG,UACnBtkG,OAAQpF,EAAQwkM,WAChBv7L,QAASjJ,EAAQiJ,QACjBmN,OAAQpW,EAAQqrB,gBAAkB,SAAW,KAAOrrB,EAAQoW,OAC5D8tH,SAAUlkI,EAAQkkI,SAClB50H,IAAKtP,EAAQqrB,gBAAkB,SAAWrrB,EAAQsP,IAAM,IAAIsoH,EAAKf,GACjEppH,IAAKzN,EAAQqrB,gBAAkB,SAAWrrB,EAAQyN,IAAM,IAAImqH,EAAK2O,GACjE7M,MAAOh+F,IAAU17B,EAAQyN,IAAIsK,UAAY,CAAC,IAAI7R,KAAKw1B,IAAU,GAC7D+qG,aAAczmI,EAAQymI,aACtBu6D,aAAc,KACd/0J,OAAQ,SAASpkC,EAAOjF,GACpBiF,EAAQ/G,EAAK0kM,gBAAgB39L,GAE7B,GAAIjF,EAAS,CACT9B,EAAK2kM,cAAgB,KACrB3kM,EAAKy0D,QAAQ1tD,OACV,CACHuI,EAAQw7C,IAAI/tD,EAAMoI,SAAS4B,EAAO7H,EAAQoF,OAAQpF,EAAQiJ,UAC1Do+H,EAASx/H,MAAMA,GACf/G,EAAKwmI,YAAYz/H,KAGzB2yC,MAAO,SAAS33C,GACZ,GAAI/B,EAAK8B,QAAQylG,EAAO27F,GACpBnhM,EAAEpB,qBACC,CACHuiH,EAAGttG,KAAK8sG,EAAa,MACrBpzG,EAAQsG,KAAK6sG,EAAe,OAE5B,IAAK8jB,EAASj8B,MAAMz4E,UAChB,GAAGviB,GAAWA,EAAQ/P,OAClB+P,EAAQ,GAAGqyB,gBAAgBqhK,KAK3Cn6F,KAAO,SAAS9mG,GACZ,GAAI/B,EAAKd,QAAQqrB,gBAAiB,SAC9BixK,EAASjxE,wBAETvqH,EAAKw7L,SAASsB,eAGlB,GAAI98L,EAAK8B,QAAQwlG,EAAM47F,GACnBnhM,EAAEpB,qBACC,CACH,GAAI2O,EAAQw7C,QAAU9qD,EAAKgiI,SAAU,CACjCx5H,EAAO2zC,EAAM7sC,EAAQw7C,MAAO5rD,EAAQymI,aAAczmI,EAAQiJ,SAE1DnI,EAAKw7L,SAASz0L,MAAMyB,GAGxB06G,EAAGttG,KAAK8sG,EAAa,OACrBpzG,EAAQsG,KAAK6sG,EAAe,MACpB7sG,KAAKotL,EAAWxH,EAASC,aAEjCD,EAASt8L,QAAQw9H,OAAO8+D,EAASlzL,aAGzCo0H,OAAQ,SAASp0H,GACb,GAAGgH,GAAWA,EAAQ/P,OAClB+P,EAAQ,GAAGqyB,gBAAgB0gF,GAE/B,GAAI/5G,EACAgH,EAAQsG,KAAKysG,EAAuBm5E,EAAS1qE,YAGrDxmB,MAAOprG,EAAQorG,MACfwzF,iBAAkB,KAClBkC,eAAgBhgM,EAAKwhM,gBACrB37D,UAAWA,EACXy7D,QAASA,EACT9F,SAAU2I,EACVp9K,SAAU/mB,EAAKd,QAAQ6nB,WAE3Bm8F,EAAKs4E,EAASt4E,IAGlBshF,gBAAiB,WACb,IAAIxkM,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAIqnI,EAAWvmI,EAAKumI,SACpB,IAAIx/H,EAAQw/H,EAAS99H,SAAS1B,QAC9B,IAAI+zB,GAAW/zB,EACf,IAAI6zB,GAAS17B,EAAQsP,IACrB,IAAIqsB,GAAS37B,EAAQyN,IACrB,IAAIrE,EAASs8L,EAEb,GAAI9pK,IAAYF,GAASE,IAAYD,EAAO,CACxCvyB,EAAUwyB,IAAYF,EAAQA,EAAQC,EACtCvyB,EAAU,IAAIwuH,EAAK92H,EAAKipH,QAAU3gH,GAClCA,EAAQkL,YAAYzM,EAAMwC,cAAexC,EAAMuC,WAAYvC,EAAMmC,WAEjE,GAAI0xH,EAAUtyH,EAASsyB,EAAOC,GAC1B9zB,EAAQuB,EAIhB,GAAItI,EAAKipH,OAAQ,CAEb27E,EAAe7nM,EAAMyL,KAAKsI,SAAS,IAAI1L,KAAK2B,GAAQ/G,EAAKipH,QAEzD,GAAI2R,EAAUgqE,EAAchqK,EAAOC,GAC/B9zB,EAAQ69L,EAIhB,OAAO79L,GAGX29L,gBAAiB,SAAS39L,GACtB,IAAIy0L,EAAW/7L,KAAK+7L,SACpB,IAAIt8L,EAAUO,KAAKP,QAEnB6H,EAAQy0L,EAASv9I,OAAOl3C,GAExB,GAAIA,EAAQ7H,EAAQsP,IAAK,CACrBzH,EAAQ,IAAI+vH,GAAM53H,EAAQsP,KAC1BgtL,EAASt8L,QAAQsP,IAAMzH,OACpB,GAAIA,EAAQ7H,EAAQyN,IAAK,CAC5B5F,EAAQ,IAAI+vH,GAAM53H,EAAQyN,KAC1B6uL,EAASt8L,QAAQyN,IAAM5F,EAG3B,OAAOA,GAGXw8L,OAAQ,WACJ,IAAIvjM,EAAOP,KACX,IAAI6P,EAAUtP,EAAKsP,QACnB,IAAIpQ,EAAUc,EAAKd,QACnB,IAAI2lM,EAEJA,EAAQ7kM,EAAKiW,QAAQuZ,KAAK,yBAE1B,IAAKq1K,EAAM,GAAI,CACX7kM,EAAK8mI,UAAYnqI,EAAEgH,EAAK27F,aAAa,8EAAgFpgG,EAAQykM,eAAiB,cAAe,CACzJnmG,KAAM,WACN/rF,KAAMvS,EAAQuS,KACdib,SAAUxtB,EAAQwtB,SAClBoxE,MAAO,KACPpxF,QAAS,QACTo4E,YAAYx1E,GAChBtP,EAAK6jM,UAAYlnM,EAAEgH,EAAK27F,aAAa,8EAAgFpgG,EAAQ0kM,eAAiB,cAAe,CACzJpmG,KAAM,QACN/rF,KAAMvS,EAAQuS,KACdib,SAAUxtB,EAAQwtB,SAClBoxE,MAAO,KACPpxF,QAAS,QACTo4E,YAAYx1E,GAGpBtP,EAAK8mI,UAAUlxH,KAAK,gBAAiB5V,EAAKumI,SAASR,aACnD/lI,EAAK6jM,UAAUjuL,KAAK,gBAAiB5V,EAAKw7L,SAASC,aAEnD,GAAIv8L,EAAQmkM,YACRrjM,EAAK6jM,UAAU7gL,QAIvBy4D,SAAU,WACN,IAAIz7E,EAAOP,KACX6P,EAAUtP,EAAKsP,QACf2G,EAEAA,EAAU3G,EAAQyiB,QAAQ,qBAE1B,IAAK9b,EAAQ,GACTA,EAAU3G,EAAQuF,KAAK0wH,GAAMvwH,SAGjCiB,EAAQ,GAAGZ,MAAMqE,QAAUpK,EAAQ,GAAG+F,MAAMqE,QAC5CpK,EAAQgF,IAAI,CACRc,MAAO,OACPE,OAAQhG,EAAQ,GAAG+F,MAAMC,SAG7BtV,EAAKiW,QAAUA,EAAQN,SAAS,4BAC3BA,SAASrG,EAAQ,GAAG+I,WAAWnD,YAAY,2BAGpDgtD,OAAQ,WACJ,IAAIliE,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfsgH,EAAStgH,EAAQsG,KAAK,QACtB8qB,EAAOkvF,EAASjzH,EAAE,IAAMizH,GAAUtgH,EAAQ0K,QAAQ,QAClD9a,EAAUc,EAAKd,QACfmnI,EAAennI,EAAQm4H,aACvBsO,EAAezmI,EAAQymI,aAAapmI,OAASL,EAAQymI,aAAe,KACpE4B,EAAevnI,EAAKsmI,gBAAgBv/H,MACpCo8H,EAAe7zH,EAAQ,GAAGq0C,aAE9B,GAAI4jF,IAAiBlB,GAAgBA,EAAakB,IAC9CA,EAAe,KAGnB,KAAMpE,IAAiBpmI,EAAMmc,UAAUiqH,EAAcwC,EAAczmI,EAAQiJ,WAAao/H,EACpFj4H,EAAQsG,KAAK,QAAS7Y,EAAMoI,SAASoiI,EAAcroI,EAAQoF,OAAQpF,EAAQiJ,UAG/E,GAAIu4B,EAAK,GAAI,CACT1gC,EAAK+oH,cAAgB,WACjB/oH,EAAK+G,MAAMwgI,GAAgBj4H,EAAQ,GAAGq0C,cACtC3jD,EAAK2M,IAAI3M,EAAKsmI,gBAAgB35H,KAC9B3M,EAAKwO,IAAIxO,EAAKsmI,gBAAgB93H,MAGlCxO,EAAK8oH,MAAQpoF,EAAK7a,GAAG,QAAS7lB,EAAK+oH,iBAI3C9qB,UAAW,WACPx+F,KAAKwnG,cAAgBlqG,EAAM0G,SAAShE,KAAKP,QAAQ6mG,cAAc/kG,KAAKvB,OAGxEknI,iBAAkB,SAASznI,GACvB,GAAIO,KAAKsnI,WAAY,CACjBtnI,KAAKsnI,WAAWr7G,UAChBjsB,KAAKsnI,WAAa,KAGtB,GAAI7nI,EAAQ2nI,UACRpnI,KAAKsnI,WAAa,IAAIrgH,EAAGm6G,UAAUphI,KAAK6P,QAAS,CAC7CnH,QAASjJ,EAAQiJ,QACjB7D,OAAQpF,EAAQoF,OAChBmN,KAAMvS,EAAQuS,KACdib,SAAUxtB,EAAQwtB,SAClBhgB,QAASxN,EAAQwN,QACjB8B,IAAKtP,EAAQsP,IACb7B,IAAKzN,EAAQyN,IACby2H,SAAUlkI,EAAQkkI,YAK9BqgE,mBAAoB,SAASj1L,EAAK7B,GAC9B,OAAOhD,EAAgB6E,GAAO7E,EAAgBgD,KAAS,GAG3D65H,YAAa,SAASh+H,GAClB,IAAIxI,EAAOP,KACX,IAAIgJ,EAAWzI,EAAKumI,SAAS99H,SAE7B,GAAIzI,EAAKsP,SAAWtP,EAAKsP,QAAQ/P,OAC7BS,EAAKsP,QAAQ,GAAGqyB,gBAAgB0gF,GAGpC,GAAI55G,EACAzI,EAAKsP,QAAQsG,KAAKysG,EAAuB55G,EAASo+F,YAAY7mG,EAAKinG,cAAez+F,KAG1FkjH,OAAQ,WACJ,IAAI1rH,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAIsa,EAAM7c,EAAE,eAAeiZ,KAAK8sG,EAAa,QACxC/sG,SAAS,wCACTgvB,SAAS11B,SAAS2K,MAEvBJ,EAAIgnD,OAAOzjE,EAAM0G,SAAS0/L,EAAfpmM,CAAsCE,EAAO,GAAI+C,EAAKd,QAAS,CACtEi9L,WAAYp/L,EAAM8oC,iBAAiB,YAAa,OAAQ7lC,EAAKd,QAAQuS,UAEzEzR,EAAKsqG,MAAQ,IAAI5jF,EAAG6hF,MAAM/uF,EAAKvc,EAAOiC,EAAQorG,MAAOprG,EAAS,CAC1DhD,KAAM,QACN4c,MAAO/b,EAAMW,QAAQob,MAAM9Y,EAAKiW,SAChC+rF,OAAQhiG,EAAKiW,QACb8+F,SAAU,WACN,GAAI/0G,EAAKd,QAAQs8L,UAAYx7L,EAAKd,QAAQs8L,SAASj6H,OAAS,SAAU,CAClEvhE,EAAKw7L,SAAS4E,eACdpgM,EAAKw7L,SAASuB,WAAW/8L,EAAKipH,QAC9BjpH,EAAKw7L,SAASuE,kBAGtBl3F,KAAM,SAAS9mG,GACX,GAAI/B,EAAK8B,QAAQwlG,EAAM,CAACn2E,KAAM1xB,KAAK6P,QAAQkgB,KAAK,eAAejwB,OAAS,OAAS,OAAQyC,OAAQhC,IAC7F+B,EAAEpB,iBAENX,EAAKw7L,SAASsB,mBAItBtjL,EAAIqM,GAAGu6E,EAAQ93E,EAAI,oCAAqCtoB,EAAK8kM,kBAAkB9jM,KAAKhB,IACpFwZ,EAAIqM,GAAGu6E,EAAQ93E,EAAI,0CAA2CtoB,EAAKq8L,oBAAoBr7L,KAAKhB,IAC5FwZ,EAAIqM,GAAGu6E,EAAQ93E,EAAI,0CAA2CtoB,EAAKs8L,iBAAiBt7L,KAAKhB,KAG7F8kM,kBAAmB,SAAS/iM,GACxBpB,EAAeoB,GACf,IAAI44F,EAAUh+F,EAAEoF,EAAEivC,eAClB,IAAIpiC,EAAQ+rF,EAAO/rF,QAEnB,GAAIA,EACAnP,KAAKukM,yBAELvkM,KAAKwkM,oBAETxkM,KAAKglM,gBAGTR,kBAAmB,WACfxkM,KAAK6qG,MAAMh7F,QAAQkgB,KAAK,gCAAgCta,YAAY4gG,GAAgBvkF,GAAG,GAAG5b,SAASmgG,GACnGr2G,KAAK6qG,MAAMh7F,QAAQkgB,KAAK,oBAAoBta,YAAY,cAAcS,SAAS,eAGnFquL,kBAAmB,WACfvkM,KAAK+7L,SAAS4E,eACd3gM,KAAK+7L,SAASuB,WAAWt9L,KAAKwpH,QAC9BxpH,KAAK+7L,SAASuE,gBACdtgM,KAAK6qG,MAAMh7F,QAAQkgB,KAAK,gCAAgCta,YAAY4gG,GAAgBvkF,GAAG,GAAG5b,SAASmgG,GACnGr2G,KAAK6qG,MAAMh7F,QAAQkgB,KAAK,oBAAoBta,YAAY,cAAcS,SAAS,eAGnF8uL,aAAc,WACVhlM,KAAKqnI,UAAUviH,SACf9kB,KAAKokM,UAAUt/K,UAGnB83K,oBAAqB,SAAUt6L,GAC3BpB,EAAeoB,GACf,GAAItC,KAAKwpH,OAAQ,CACbxpH,KAAKsH,MAAMtH,KAAKwpH,QAChBxpH,KAAK8mI,SAASx/H,MAAMtH,KAAKwpH,QAE7BxpH,KAAK6qG,MAAM5wD,SAGf4iJ,iBAAkB,SAASv6L,GACvBpB,EAAeoB,GACf,IAAIgF,EAAQtH,KAAK+kM,kBACjB,IAAI9sK,EAEJ3wB,EAAQA,GAAS,IAAI3B,KACrBsyB,EAAOj4B,KAAK+7L,SAASyE,oBAAsBl5L,EAC3CtH,KAAK+7L,SAASkF,2BACd35L,EAAM+J,SAAS4mB,EAAKluB,YACpBzC,EAAMw9H,WAAW7sG,EAAKjuB,cACtB1C,EAAMy9H,WAAW9sG,EAAKhuB,cACtB3C,EAAQtH,KAAKilM,gBAAgB39L,GAE7BtH,KAAKg1D,QAAQ1tD,GACbtH,KAAK6qG,MAAM5wD,WAInB,SAASoiJ,EAAe14D,GACpB,IAAI56H,EAAO,IAAIpD,KAAK,KAAM,EAAG,GAC7BoD,EAAK+7H,YAAYnB,GACjB,OAAO56H,EAGX,SAAS7H,EAAeoB,GACpBA,EAAEpB,iBAGN,SAASsqC,EAAU/rC,GACf,IAAI4J,EAAW/L,EAAMsL,WAAWnJ,EAAQiJ,SAASO,UAAUC,SAASG,SAChE68H,GAAgBzmI,EAAQymI,aAAapmI,OACrCmkM,EAEJxkM,EAAQoF,OAASkxH,EAAct2H,EAAQoF,QAAUwE,EAASsE,GAC1DlO,EAAQwkM,WAAaA,EAAaluE,EAAct2H,EAAQwkM,YAAc56L,EAAS2E,GAC/E1Q,EAAM6oI,SAAS36F,UAAU/rC,GAEzB,GAAIymI,EACDzmI,EAAQymI,aAAa9jI,QAAQ,uBAGhC,GAAIlF,EAAEmyB,QAAQ40K,EAAYxkM,EAAQymI,iBAAmB,EACjDzmI,EAAQymI,aAAahkI,KAAK+hM,GAetC,OAXI3mM,EAAMqvB,cAAc0Y,eAAe,iBAAkB,YAErD/nC,EAAMqvB,cAAc4Y,eAAe,iBAAkB,CAAC,CAClD/Y,KAAM,UACNtd,OAAQ5R,EAAMqvB,cAAc2X,cAAchwB,OAAO,CAAC,CAAC,OAAQ,aAG/D2S,EAAG+J,OAAO2yK,GAIPvmM,OAAOE,QApoCd,CAsoCoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,iBAAiB,CAAE,mBAC3B,WAEH,IAAIC,EAAW,CACXC,GAAI,WACJC,KAAM,WACNC,SAAU,MACVC,YAAa,0GACbotC,QAAS,CAAE,cAGJ7sC,EAwxBRE,OAAOE,MAAMH,OAxxBFE,OAAd,EACQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM2pB,GACXM,EAAOjqB,EAAMiqB,KACb/pB,EAASN,EAAEM,OACXspB,EAASG,EAAGH,OACZw+K,EAAe,mBACf5kF,EAAuB,kBACvB5hC,EAAK,iBACLksG,EAAS,SACTE,EAAW,WACXp5E,EAAc,cACdhyD,EAAQ,QACRqwC,EACAo1G,EAAe,eACf9wG,EAAa,aACbC,EAAW,WACX+sB,EAAa,aACb9gB,EAAQ,QACR6kG,EAAO,OACPhkF,EAAa,aACbxiC,EAAU,kBACVymH,EAAQ,KAAOD,EACfE,EAAY,IAAMD,EAClBt6K,EAAW,WACXw6K,EAAgB,gBAChBC,EAAgB,gBAChBp6C,EAAgB,gBAChB1oC,EAAgB,gBAChB/jH,EAAa,aACbD,EAAkB,kBAClB+mM,EAAmB,mBAEvB,SAASC,EAAiB9zL,GACtB,OAAO0uG,EAAqB/5G,KAAKqL,GAGrC,SAAS+zL,EAAY/zL,GACjB,OAAOszL,EAAa3+L,KAAKqL,IAAS,QAAQrL,KAAKqL,GAGnD,SAASg0L,EAAQh0L,GACb,OAAQ8zL,EAAiB9zL,KAAU+zL,EAAY/zL,GAGnD,SAASi0L,EAAcj0L,EAAM8qC,GACzB,IAAIouD,EAAS77F,SAAS2C,EAAM,IAE5B,GAAI8zL,EAAiB9zL,GACjBk5F,EAASptG,KAAK6G,MAAMumG,EAASpuD,EAAQ,KAGzC,OAAOouD,EAGX,SAASg7F,EAAqBt2H,EAAcu2H,GACxC,OAAO,SAAS5zG,EAAMjrF,GAClB,IAAI8+L,EAAapmM,KAAK6P,QAAQkgB,KAAKwiE,GAAMtuF,KAAKuhM,GAE9C,GAAI5lM,UAAUE,QAAU,EACpB,OAAOsmM,EAAWx2H,GAGtBw2H,EAAWx2H,GAAgBtoE,EAE3B,GAAI6+L,EAAgB,CAChB,IAAIE,EAAWrmM,KAAK6P,QAAQ5L,KAAK,QAAUjE,KAAKP,QAAQhD,MACxD4pM,EAAS3/K,OAAO,QAK5B,IAAI4/K,EAAWx/K,EAAOtpB,OAAO,CACzBiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACPgwJ,EAEJlpI,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCc,EAAKiW,QAAUjW,EAAKsP,QAEpB,GAAGtP,EAAKd,QAAQo1F,YACZm7D,EAAezvJ,EAAKd,QAAQo1F,YAAYvoF,eAAiBooF,EAG7Dn0F,EAAKs0F,YAAcm7D,EAAev7D,EAAaC,EAC/Cn0F,EAAKgmM,WAAav2C,EAAe,QAAU,SAC3CzvJ,EAAKimM,MAAQ,CACTC,SAAUz2C,EAAezoI,EAAKO,KAAOP,EAAKQ,GAC1C2+K,SAAU12C,EAAezoI,EAAKS,MAAQT,EAAKU,MAG/C1nB,EAAKomM,YAAc,GAEnBpmM,EAAKgpL,QAAUjsL,EAAMksB,OAAOvmB,UAAU,EAAG,GAEzC1C,EAAKqmM,aAELrmM,EAAK21F,SAAW,IAAI2wG,EAAatmM,GAEjCA,EAAKsP,QAAQi3L,eAAe,OAAShoH,IAEzC98E,OAAQ,CACJgpL,EACAE,EACAp5E,EACAhyD,EA7FK,SA+FLylJ,GAGJwB,aAAc,WACV/mM,KAAKgnM,SAASjmI,OAAO,iDAGzBkmI,gBAAiB,WACbjnM,KAAKgnM,SAAS3lJ,SAAS,uBAAuBtwB,UAGlD8xD,cAAe,WACX,IAAItiF,EAAOP,KACP60F,EAAct0F,EAAKd,QAAQo1F,YAG/Bt0F,EAAKsP,QACAwxC,SAAS,yBAA2BwzC,GAChCzuE,GAAG,UAAY04D,EAAIv+E,EAAKihG,SAASjgG,KAAKhB,IACtC6lB,GAAG,YAAc04D,EAAI,SAASx8E,GAAKA,EAAEivC,cAAclS,UACnDjZ,GAAG,QAAU04D,EAAI,SAASx8E,GAAKpF,EAAEoF,EAAEivC,eAAer7B,SAAS8oE,KAC3D54D,GAAG,OAAS04D,EAAI,SAASx8E,GAAKpF,EAAEoF,EAAEivC,eAAe97B,YAAYupE,GAC1D,GAAIz+E,EAAK21F,SACL31F,EAAK21F,SAAStyF,QAGrBwiB,GAAGq7F,EAAa3iC,EAAI,WAAa5hF,EAAE8C,MAAMkW,SAAS,cAAgB3V,EAAKs0F,YAAc,YACrFzuE,GAAGo7F,EAAa1iC,EAAI,WAAa5hF,EAAE8C,MAAMyV,YAAY,cAAgBlV,EAAKs0F,YAAc,YACxFzuE,GAAG,YAAc04D,EAAIv+E,EAAKwmM,aAAaxlM,KAAKhB,IAChDqD,MACAy9C,SAAS,eACLj7B,GAAG,WAAa04D,EAAIv+E,EAAK2mM,YAAY3lM,KAAKhB,IAC1C8gD,SAAS,sCAAsCj7B,GAAGu6E,EAAQ7hB,EAAIv+E,EAAKk3I,YAAYyzC,IAAWtnL,MAC1Fy9C,SAAS,kCAAkCj7B,GAAGu6E,EAAQ7hB,EAAIv+E,EAAKk3I,YAAYuzC,IAASpnL,MACxFA,MAEL1G,EAAEE,QAAQgpB,GAAG,SAAW04D,EAAKv+E,EAAKgpL,QAAShpL,EAAKmmB,OAAOnlB,KAAKhB,EAAM,QAClErD,EAAEsS,UAAU4W,GAAG,UAAY04D,EAAKv+E,EAAKgpL,QAAShpL,EAAK0mM,gBAAgB1lM,KAAKhB,KAG5E4mM,cAAe,WACX,IAAI5mM,EAAOP,KAEXO,EAAKsP,QACAwxC,SAAS,yBAA2B9gD,EAAKs0F,aAAaxhE,IAAIyrD,GAAIl7E,MAC9Dy9C,SAAS,eAAehuB,IAAI,WAAayrD,GACrCz9B,SAAS,sEAAsEhuB,IAAIyrD,GAE5F5hF,EAAEE,QAAQi2B,IAAIyrD,EAAKv+E,EAAKgpL,SACxBrsL,EAAEsS,UAAU6jB,IAAIyrD,EAAKv+E,EAAKgpL,UAG9B9pL,QAAS,CACLhD,KAAM,WACNo4F,YAAaJ,EACb2yG,MAAO,IAGXn7K,QAAS,WACLnF,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,MAEvBA,KAAKmnM,gBAEL,GAAInnM,KAAKk2F,SACLl2F,KAAKk2F,SAASjqE,UAGlB3uB,EAAM2uB,QAAQjsB,KAAK6P,SAEnB7P,KAAKwW,QAAUxW,KAAK6P,QAAU,MAGlC2xF,SAAU,SAASl/F,GACf,IAAI/B,EAAOP,KACPgH,EAAM1E,EAAE8+B,QACR80D,EAAW31F,EAAK21F,SAChBv2F,EAASzC,EAAEoF,EAAEivC,eACb81J,EAAiB9mM,EAAKimM,MACtBE,EAAW1/L,IAAQqgM,EAAeX,SAClCD,EAAWz/L,IAAQqgM,EAAeZ,SAClCl0G,EAEJ,GAAIm0G,GAAYD,EAAU,CACtB,GAAInkM,EAAE8wF,QAAS,CACXb,EAAO5yF,EAAO8mM,EAAW,OAAS,UAElC,GAAIvwG,GAAYA,EAASoxG,aACrBpxG,EAAStyF,MAGb,IAAK2uF,EAAKhyF,EAAKgmM,cACXhmM,EAAKgnM,eAAevc,EAAQz4F,QAE5BhyF,EAAKgnM,eAAerc,EAAUvrL,EAAO8mM,EAAW,OAAS,gBAE1D,GAAIvwG,EACPA,EAASthE,MAAM6xK,GAAY,EAAI,GAAKlmM,EAAKomM,YAAahnM,GAE1D2C,EAAEpB,sBACC,GAAI8F,IAAQugB,EAAKY,KAAM,CAC1BoqE,EAAO5yF,EAAOwtC,OACd5sC,EAAKm/B,SAAS6yD,GACdjwF,EAAEpB,sBACC,GAAI8F,IAAQugB,EAAKW,IAAK,CACzBqqE,EAAO5yF,EAAOwtC,OACd5sC,EAAKksL,OAAOl6F,GACZjwF,EAAEpB,sBACC,GAAI8F,IAAQugB,EAAKK,OAASsuE,EAAU,CACvCA,EAAStyF,MACTtB,EAAEpB,mBAIV0lM,WAAY,WACR,IAAIY,EAAcxnM,KAAKP,QAAQ2nM,OAAS,GACxC,IAAI7mM,EAAOP,KAEXA,KAAK6P,QACAqG,SAAS,YAAYA,SAAS,cAC9BmrC,WACI5jD,KAAK,SAASoC,EAAG0yF,GACd,GAAIA,EAAKtgE,SAAS3lB,eAAiB,SAC/B/L,EAAKknM,UAAUl1G,EAAMi1G,EAAY3nM,MAIjDG,KAAK0mB,UAGT+gL,UAAW,SAASl1G,EAAMjvD,GACtBivD,EAAOr1F,EAAEq1F,GACJp8E,KAAK,OAAQ,SACbD,SAASuvL,GAEdlzG,EAAKtuF,KAAKuhM,EAAMliK,EAASA,EAAS,IAC7Bzf,YAAY,eAAgByf,EAASA,EAAOgmI,aAAe,MAAQ,MAExEtpK,KAAK42L,YAAYrkG,IAGrBqkG,YAAa,SAASrkG,EAAMxpE,EAAK9kB,GAC7B,IAAI1D,EAAOP,KACPomM,EAEJ7zG,EAAOhyF,EAAKsP,QAAQkgB,KAAKwiE,GACzB6zG,EAAa7zG,EAAKtuF,KAAKuhM,GAEvBz8K,EAAMA,GAAOq9K,EAAWra,WAExB,GAAIhjK,EAAK,CACLwpE,EAAKxxB,OAAO,sDAEZ,GAAIzjE,EAAMwrB,WAAWC,GACjB5rB,OAAOqgD,KAAK,CACRz0B,IAAKA,EACL9kB,KAAMA,GAAQ,GACdsD,KAAM,MACNgyC,SAAU,OACVkE,QAAS,SAAUx5C,GACf1D,EAAKmqB,QAAQ,UAAW,WAAY,MAAO,CAAE0D,SAAUmkE,EAAKjpE,SAC5DipE,EAAKruF,KAAKD,GACV1D,EAAKmqB,QAAQ,UAAW,WAAY,MAAO,CAAE0D,SAAUmkE,EAAKjpE,SAE5D/oB,EAAK8B,QAAQyvG,EAAa,CAAEvf,KAAMA,EAAK,MAE3ChtE,MAAO,SAAUgyC,EAAKnb,GAClB77C,EAAK8B,QAAQy9C,EAAO,CAChByyC,KAAMA,EAAK,GACXn2C,OAAQA,EACRmb,IAAKA,YAKjBg7B,EAAK98E,YAAY,gBACZvR,KAAK,gBAAkB6kB,EAAM,6CACtB,qDACF,eAKtBw+K,eAAgB,SAAShgM,EAAMgrF,GAC3B,IAAKvyF,KAAKqC,QAAQkF,EAAM,CAAEgrF,KAAMA,EAAK,KACjCvyF,KAAKuH,GAAMgrF,EAAK,KAIxB20G,YAAa,SAAS5kM,GAClB,IAAI/B,EAAOP,KACPL,EAASzC,EAAEoF,EAAE3C,QACb8zG,EAEJ,GAAI9zG,EAAO4a,QAAQ,eAAe,IAAMha,EAAKsP,QAAQ,GACjD,OAGJ4jG,EAAQ9zG,EAAO0hD,SAAS,iCAExB,GAAIoyD,EAAM3zG,SAAW,EACjB,OAGJ,GAAI2zG,EAAMx9F,GAAG,oBACT1V,EAAKgnM,eAAerc,EAAUvrL,EAAOwtC,aAClC,GAAIsmE,EAAMx9F,GAAG,oBAChB1V,EAAKgnM,eAAerc,EAAUvrL,EAAOg8D,aAClC,GAAI83C,EAAMx9F,GAAG,kBAChB1V,EAAKgnM,eAAevc,EAAQrrL,EAAOwtC,aAChC,GAAIsmE,EAAMx9F,GAAG,kBAChB1V,EAAKgnM,eAAevc,EAAQrrL,EAAOg8D,SAG3C87E,YAAa,SAAUiwD,GACnB,IAAInnM,EAAOP,KAEX,OAAO,SAASsC,GACZ,IAAI3C,EAASzC,EAAEoF,EAAE3C,QACb4yF,EAEJ,GAAI5yF,EAAO4a,QAAQ,eAAe,IAAMha,EAAKsP,QAAQ,GACjD,OAGJ,GAAIlQ,EAAOsW,GAAG,MAAQyxL,EAAY,SAC9Bn1G,EAAO5yF,EAAO4V,SAAS43B,YAEvBolD,EAAO5yF,EAAO4V,SAASomD,OAE3Bp7D,EAAKgnM,eAAeG,EAAWn1G,KAGvCo1G,gBAAiB,SAASC,EAAUC,EAAcC,EAAUC,GACxD,IAAIC,EAAY,SAASC,EAAUC,GAC5B,OAAOA,EAAY,sBAAwBD,EAAW,WAAa,IAEtEpzG,EAAc70F,KAAK60F,YACnB5I,EAAa47G,EAAaluF,YAAc,OAAWmuF,EAASnuF,YAAc,MAC1EwuF,EAAkBN,EAAanS,YAC/B0S,EAAgBP,EAAaQ,UAC7BC,EAAkBR,EAASpS,YAC3B6S,EAAgBT,EAASO,UACzBG,EAAiBT,EAAe5xL,KAAK,MAEzC,IAAIqyL,EAAgB,CAChBA,EAAiBlrM,EAAMksB,OACvBu+K,EAAe5xL,KAAK,KAAMqyL,GAG9BZ,EAAS1xL,SAAS,yBAA2B2+E,GACpC1+E,KAAK,OAAQ,aACbA,KAAKwvL,EAAe,KACpBxvL,KAAKyvL,EAAe,OACpBzvL,KAAK2sG,EAAe0lF,GACpB/yL,YAAY,cAAgBo/E,EAAc,UAC1ChxE,YAAY,wBAA0BgxE,EACnC5I,IAAcm8G,IAAkBG,GACnC1kL,YAAY,qBAAuBgxE,GAC/B5I,IAAck8G,IAAoBG,GACtCpkM,KACG8jM,EAAU,kCAAmCG,IAAoBC,IAAkBG,GAAiB1zG,GAAeH,GACnHszG,EAAU,oCAAqCG,IAAoBC,IAAkBG,GAAiB1zG,GAAeJ,GACrHuzG,EAAU,kCAAmCG,GAAmBC,IAAkBG,GAAiB1zG,GAAeH,GAClHszG,EAAU,mCAAoCG,GAAmBC,IAAkBG,GAAiB1zG,GAAeJ,GACnHuzG,EAAU,2BAA4B/7G,GAAa4I,GAAeH,GAClEszG,EAAU,2BAA4B/7G,GAAa4I,GAAeJ,GAClEuzG,EAAU,oCAAqCM,IAAoBC,IAAkBH,GAAiBvzG,GAAeH,GACrHszG,EAAU,qCAAsCM,IAAoBC,IAAkBH,GAAiBvzG,GAAeJ,GACtHuzG,EAAU,gCAAiCM,GAAmBC,IAAkBH,GAAiBvzG,GAAeH,GAChHszG,EAAU,kCAAmCM,GAAmBC,IAAkBH,GAAiBvzG,GAAeJ,IAG9H,GAAGozG,EAAap6K,QACZm6K,EAASzxL,KAAKrX,EAAiB+oM,EAAap6K,cACzC,GAAGo6K,EAAa/5K,MACnB85K,EAASzxL,KAAKpX,EAAY8oM,EAAa/5K,OAG3C,GAAG+mE,GAAeJ,EACdmzG,EAASzxL,KAAK0vL,EAAkBnxG,GAGpC,IAAKzI,IAAck8G,IAAoBG,EACnCV,EAASv8K,WAAWF,IAG5Bs9K,iBAAkB,WACd,IAAIloM,EAAOP,KAEXA,KAAK6P,QAAQwxC,SAAS,eAAe5jD,KAAK,WACtC,IAAImqM,EAAW1qM,EAAE8C,MACb+nM,EAAiBH,EAASloF,QAAQgmF,GAAWvjM,QAC7C0lM,EAAeE,EAAe9jM,KAAKuhM,GACnCsC,EAAWF,EAAS13B,QAAQw1B,GAAWvjM,QAAQ8B,KAAKuhM,GAExD,IAAKsC,EACD,OAGJvnM,EAAKonM,gBAAgBC,EAAUC,EAAcC,EAAUC,MAG/DW,iBAAkB,WACd1oM,KAAK6P,QAAQwxC,SAAS,eAAetwB,UAEzCi2K,OAAQ,WACJ,IAAKhnM,KAAK6P,QACN,OAAO3S,IAEX,OAAO8C,KAAK6P,QAAQwxC,SAASqkJ,IAGjCiD,mBAAoB,SAASC,EAAWC,GACpC,IAAIhpM,EAAG+nM,EAAUkB,EAAUC,EAE3B,IAAIlpM,EAAI,EAAGA,EAAI+oM,EAAU9oM,OAAQD,IAAK,CAClCkpM,EAAiBF,EAAWhpM,GAAKgpM,EAAWhpM,EAAI,IAAO,EACvDipM,EAAWhrM,KAAK6O,MAAMk8L,EAAWhpM,GAAKkpM,EAAgB,KACtDnB,EAAWgB,EAAU/oM,GACrB+nM,EAASpnL,aAAagrI,EAAes9C,KAI7Ch9K,QAAS,WACL,IAAIvrB,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfu3L,EAAQv3L,EAAQwxC,SAASqkJ,GACzB11C,EAAezvJ,EAAKs0F,aAAeJ,EACnCm0G,EAAY/4L,EAAQwxC,SAAS,eAC7B2nJ,EAAiBJ,EAAU9oM,OAC3BmpM,EAAiBj5C,EAAe,QAAU,SAC1Ck5C,EAAYr5L,EAAQo5L,KACpBJ,EAAa,GAEjBtoM,EAAKiW,QAAQN,SAAS,uBAEtB,GAAI8yL,IAAmB,EAAG,CACtBA,EAAiB5B,EAAMtnM,OAAS,EAChCsnM,EAAMjoM,MAAM,EAAG6pM,GACT/rH,MAAM,qDAAuD18E,EAAKgpL,QAAU,QAElFhpL,EAAKkoM,mBACLG,EAAY/4L,EAAQwxC,SAAS,oBAE7B9gD,EAAKkoM,mBAITG,EAAUnrM,KAAK,WACXyrM,GAAalpM,KAAKgwJ,EAAe,cAAgB,kBAGrD,IAAIm5C,EAAkB,EAClBC,EAAkB,EAClBC,EAAiBnsM,IAErBkqM,EAAMvyL,IAAI,CAAE8B,SAAU,WAAYoJ,IAAK,IAClCkpL,GAAgB,WACb,IAAIp5L,EAAU3S,EAAE8C,MACZsjC,EAASzzB,EAAQ5L,KAAKuhM,IAAS,GAAIxzL,EAEvCnC,EAAQ4F,YAAY,qBACpB,GAAI6tB,EAAO+kK,UAAW,CAClBr2L,EAAOsxB,EAAOgmK,cAAgBrD,EAAc3iK,EAAOgmK,cAAeJ,GAAa,EAC/Er5L,EAAQgF,IAAI,WAAY,UAAUqB,SAAS,0BACxC,GAAI8vL,EAAQ1iK,EAAOtxB,MAAO,CAC7Bq3L,EAAiBA,EAAetlL,IAAI/jB,MACpC6oM,EAAW3mM,KAAK,OAChB,YAEA8P,EAAOi0L,EAAc3iK,EAAOtxB,KAAMk3L,GAGtCE,IACAD,GAAmBn3L,EACnB62L,EAAW3mM,KAAK8P,GAEhB,OAAOA,IAGfk3L,GAAaC,EAEb,IAAII,EAAqBF,EAAevpM,OACpC0pM,EAAoB1rM,KAAK6G,MAAMukM,EAAYK,GAE/CF,EACKlqM,MAAM,EAAGoqM,EAAqB,GAC1B10L,IAAIo0L,EAAgBO,GACxB5lM,MACAkuB,GAAGy3K,EAAqB,GACpB10L,IAAIo0L,EAAgBC,GAAaK,EAAqB,GAAKC,GAEpEX,EAAWngK,QAAQ,SAAS12B,EAAMnS,GAC9B,GAAGmS,IAAS,MACR62L,EAAWhpM,GAAK2pM,IAIxBjpM,EAAKooM,mBAAmBC,EAAWC,GAGnC,IAAI59I,EAAM,EACNw+I,EAA0Bz5C,EAAe,SAAW,QACpD05C,EAAsB15C,EAAe,OAAS,MAC9C25C,EAAoB35C,EAAe,cAAgB,eAEvD,GAAIu5C,IAAuB,EAAG,CAC1B,IAAIK,EAAuBxC,EAAMn3K,OAAO,WACpC,QAAU/yB,EAAE8C,MAAMiE,KAAKuhM,IAAS,IAAa,YAC9CvrK,OAEH2vK,EAAqBX,GAAgBC,EAAYU,EAAqB,GAAGD,IAG7E95L,EAAQwxC,WACHxsC,IAAI40L,EAAyB55L,EAAQ45L,MACrChsM,KAAK,SAAUoC,EAAGo9B,GACf,GAAIA,EAAMhT,QAAQ3d,eAAiB,SAAU,CACzC2wB,EAAMrnB,MAAM8zL,GAAuB5rM,KAAK6G,MAAMsmD,GAAO,KACrDA,GAAOhuB,EAAM0sK,MAIzBppM,EAAK4mM,gBACL5mM,EAAKsiF,gBAELtiF,EAAKiW,QAAQf,YAAY,uBAEzBnY,EAAMopB,OAAO0gL,GACb7mM,EAAK8B,QAAQkjM,IAGjBzgL,OAAQ,SAASytE,EAAMk6F,GACnB,IAAIlsL,EAAOP,KACPomM,EAEJ7zG,EAAOhyF,EAAKsP,QAAQkgB,KAAKwiE,GACzB6zG,EAAa7zG,EAAKtuF,KAAKuhM,GAEvB,IAAK/Y,IAAW2Z,EAAW1Q,YACvB,OAGJ,GAAI91L,UAAUE,QAAU,EACpB2sL,EAAS2Z,EAAWiC,YAAchrM,EAAY,MAAQ+oM,EAAWiC,UAGrEjC,EAAWiC,WAAa5b,EAExB,GAAI2Z,EAAWiC,UACX91G,EAAK19E,IAAI,WAAY,eAErB09E,EAAK19E,IAAI,WAAY,IAGzBtU,EAAKmmB,OAAO,OAGhBgZ,SAAU,SAAS6yD,GACfvyF,KAAK8kB,OAAOytE,EAAM,QAGtBk6F,OAAQ,SAASl6F,GACbvyF,KAAK8kB,OAAOytE,EAAM,OAGtBs3G,SAAU,SAASvmK,EAAQ3hC,EAAKmoM,GAC5B,IAAIvpM,EAAOP,KAEX,GAAI8pM,EAAYhqM,OAAQ,CACpBS,EAAKd,QAAQ2nM,MAAM3kM,OAAOd,EAAK,EAAG2hC,GAClC/iC,EAAKknM,UAAUqC,EAAaxmK,GAE5B/iC,EAAKmoM,mBAELnoM,EAAKmmB,OAAO,MAGhB,OAAOojL,GAGX/oI,OAAQ,SAASz9B,GACbA,EAASA,GAAU,GAEnB,IAAI/iC,EAAOP,KACP8pM,EAAc5sM,EAAE,WAAWgoC,SAAS3kC,EAAKsP,SAE7C,OAAOtP,EAAKspM,SAASvmK,EAAQ/iC,EAAKd,QAAQ2nM,MAAMtnM,OAAQgqM,IAG5DliI,aAAc,SAAStkC,EAAQymK,GAC3BA,EAAgB7sM,EAAE6sM,GAClBzmK,EAASA,GAAU,GAEnB,IAAI/iC,EAAOP,KACP2B,EAAMpB,EAAKiW,QAAQ6qC,SAAS,WAAWlyC,MAAM46L,GAC7CD,EAAc5sM,EAAE,WAAW0qE,aAAa1qE,EAAE6sM,IAE9C,OAAOxpM,EAAKspM,SAASvmK,EAAQ3hC,EAAKmoM,IAGtCzkH,YAAa,SAAS/hD,EAAQymK,GAC1BA,EAAgB7sM,EAAE6sM,GAClBzmK,EAASA,GAAU,GAEnB,IAAI/iC,EAAOP,KACP2B,EAAMpB,EAAKiW,QAAQ6qC,SAAS,WAAWlyC,MAAM46L,GAC7CD,EAAc5sM,EAAE,WAAWmoF,YAAYnoF,EAAE6sM,IAE7C,OAAOxpM,EAAKspM,SAASvmK,EAAQ3hC,EAAM,EAAGmoM,IAG1C/4K,OAAQ,SAASwhE,GACb,IAAIhyF,EAAOP,KACXuyF,EAAOhyF,EAAKiW,QAAQuZ,KAAKwiE,GAEzB,GAAIA,EAAKzyF,OAAQ,CACbxC,EAAM2uB,QAAQsmE,GACdA,EAAK90F,KAAK,SAASkE,EAAKkO,GACpBtP,EAAKd,QAAQ2nM,MAAM3kM,OAAOlC,EAAKiW,QAAQ6qC,SAAS,WAAWlyC,MAAMU,GAAU,GAC3E3S,EAAE2S,GAASkhB,WAGfxwB,EAAKmoM,mBAEL,GAAInoM,EAAKd,QAAQ2nM,MAAMtnM,OACnBS,EAAKmmB,OAAO,MAIpB,OAAOnmB,GAGXyR,KAAMk0L,EAAqB,OAAQ,MAEnCn3L,IAAKm3L,EAAqB,OAE1Bh5L,IAAKg5L,EAAqB,SAK1B8D,GAFJ/iL,EAAG+J,OAAOs1K,GAEa,CACf2C,eAAgB,SAChBU,kBAAmB,eACnBF,wBAAyB,QACzBC,oBAAqB,MACrBO,yBAA0B,UAG9BC,EAAqB,CACjBjB,eAAgB,QAChBU,kBAAmB,cACnBF,wBAAyB,SACzBC,oBAAqB,OACrBO,yBAA0B,SAGlC,SAASpD,EAAaR,GAClB,IAAI9lM,EAAOP,KACP60F,EAAcwxG,EAASxxG,YAE3Bt0F,EAAKgyJ,MAAQ8zC,EACb9lM,EAAKm3E,SAAW2uH,EAASx2L,QACzBtP,EAAKs0F,YAAcA,EAEnBr3F,EAAO+C,EAAMs0F,IAAgBJ,EAAay1G,EAAqBF,GAE/DzpM,EAAK4pM,WAAa,IAAI7sM,EAAM2pB,GAAG2tE,UAAUyxG,EAASx2L,QAAS,CACvDglF,YAAaA,EACbx/D,OAAQ,yBAA2Bw/D,EAAc,gBAAkBwxG,EAAS9c,QAAU,IACtF/7F,KAAMjtF,EAAK6pM,YAAY7oM,KAAKhB,GAC5B4L,MAAO5L,EAAK+yC,OAAO/xC,KAAKhB,GACxB2M,IAAK3M,EAAKg1F,KAAKh0F,KAAKhB,GACpBwO,IAAKxO,EAAKm1F,KAAKn0F,KAAKhB,GACpB01F,aAAa,qBAAuBpB,EACpCw1G,UAAW9pM,EAAK+0F,MAAM/zF,KAAKhB,KA8GvC,OA1GIsmM,EAAajmM,UAAY,CACrB+xC,MAAO,SAAShzC,GACZK,KAAKmqM,WAAWx3J,MAAMhzC,IAG1Bi1B,KAAM,SAAS0J,EAAO3+B,GAClB,IAAKK,KAAK00C,QAAS,CACf10C,KAAK2yC,MAAMhzC,GACXK,KAAK00C,QAAU,KAGnB,IAAK10C,KAAKmqM,WAAWxqM,OACjBK,KAAKmqM,WAAWx3J,MAAMhzC,GAG1BK,KAAKmqM,WAAWv1K,KAAK0J,IAGzB16B,IAAK,WACD5D,KAAKmqM,WAAWvmM,MAChB5D,KAAK00C,QAAU,OAGnBzoB,QAAS,WACLjsB,KAAKmqM,WAAWl+K,UAChBjsB,KAAKmqM,WAAanqM,KAAK03E,SAAW13E,KAAKuyJ,MAAQ,MAGnD+0C,WAAY,WACR,OAAOtnM,KAAKmqM,WAAWj0G,UAG3Bk0G,YAAa,SAAS/0K,GAClB,IAAI90B,EAAOP,KACX,OAAO9C,EAAE,iDAAmDqD,EAAKs0F,YAAc,QAClEhgF,IAAItU,EAAKkpM,wBAAyBp0K,EAAO90B,EAAKkpM,6BAG/Dn2J,OAAQ,SAAShxC,GACb,IAAI/B,EAAOP,KACP4nM,EAAW1qM,EAAEoF,EAAEivC,eACfs2J,EAAeD,EAASz6J,OACxB26J,EAAWF,EAASjsI,OACpB2uI,EAAqBzC,EAAa5jM,KAAKuhM,GACvC+E,EAAiBzC,EAAS7jM,KAAKuhM,GAC/BgF,EAAen7L,SAASw4L,EAAa,GAAGjyL,MAAMrV,EAAKmpM,qBAAsB,IACzEe,EAAep7L,SAASy4L,EAAS,GAAGlyL,MAAMrV,EAAKmpM,qBAAsB,IAAM5B,EAAS,GAAGvnM,EAAKopM,mBAAqB/B,EAAS,GAAGrnM,EAAKopM,mBAClIT,EAAY75L,SAAS9O,EAAKm3E,SAAS7iE,IAAItU,EAAK0oM,gBAAiB,IAC7DyB,EAAO,SAAUpjM,GACb,IAAI+jD,EAAMh8C,SAAS/H,EAAO,IAC1B,OAAQy+L,EAAYz+L,GAAS+jD,EAAO69I,EAAY79I,EAAO,MAAQ,GAEnEs/I,EAAcD,EAAKJ,EAAmBv7L,KACtC67L,EAAcF,EAAKJ,EAAmBp9L,MAAQu9L,EAAeD,EAC7DK,EAAcH,EAAKH,EAAex7L,KAClC+7L,EAAcJ,EAAKH,EAAer9L,MAAQu9L,EAAeD,EAE7DjqM,EAAKsnM,aAAeA,EACpBtnM,EAAKunM,SAAWA,EAChBvnM,EAAKq1F,aAAe93F,KAAKiR,IAAI07L,EAAeI,EAAaL,EAAeI,GACxErqM,EAAKs1F,aAAe/3F,KAAKoP,IAAIs9L,EAAeG,EAAaF,EAAeK,IAE5Ev1G,KAAM,WACF,OAAOv1F,KAAK41F,cAEhBF,KAAM,WACF,OAAO11F,KAAK61F,cAEhBP,MAAO,SAAShzF,GACZ,IAAI/B,EAAOP,KACP4nM,EAAW1qM,EAAEoF,EAAEivC,eACfghH,EAAQhyJ,EAAKgyJ,MAEjBA,EAAMy0C,SAAS3lJ,SAAS,uBAAuBtwB,SAE/C,GAAIzuB,EAAE8+B,UAAY9jC,EAAMiqB,KAAKM,IAAK,CAC9B,IAAIkjL,EAAgBzoM,EAAEqU,SAClBkxL,EAAeD,EAASz6J,OACxB26J,EAAWF,EAASjsI,OACpB2uI,EAAqBzC,EAAa5jM,KAAKuhM,GACvC+E,EAAiBzC,EAAS7jM,KAAKuhM,GAC/BwF,EAAsBD,EAAgB17L,SAASw4L,EAAa,GAAGjyL,MAAMrV,EAAKmpM,qBAAsB,IAChGuB,EAAkB57L,SAASy4L,EAAS,GAAGlyL,MAAMrV,EAAKmpM,qBAAsB,IAAM5B,EAAS,GAAGvnM,EAAKopM,mBAAqBoB,EAAgBnD,EAAS,GAAGrnM,EAAKopM,mBACrJuB,EAAkB3qM,EAAKm3E,SAASr2B,SAASqkJ,GAAWz1K,OAAO,WAAa,OAAO+1K,EAAQ9oM,EAAE8C,MAAMiE,KAAKuhM,GAAMxzL,QAAUlS,OAExH,IAAKkmM,EAAQsE,EAAmBt4L,OAASk5L,EAAkB,EAAG,CAC1D,GAAIlF,EAAQsE,EAAmBt4L,MAC3Bk5L,IAGJZ,EAAmBt4L,KAAOg5L,EAAsB,KAGpD,IAAKhF,EAAQuE,EAAev4L,OAASk5L,EAAkB,EACnDX,EAAev4L,KAAOi5L,EAAkB,KAG5C14C,EAAM7rI,OAAO,MAGjB,OAAO,QAMZtpB,OAAOE,QAtyBd,CAwyBoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,eAAe,CAAC,aAAc,cAAe,iBACrD,WAEC,IAAIC,EAAW,CACXC,GAAI,SACJC,KAAM,SACNC,SAAU,MACVC,YAAa,0EACbotC,QAAS,CAAC,OAAQ,QAAS,YAGrB7sC,EA6lCPE,OAAOE,MAAMH,OA7lCHE,OAAb,EACQC,EAAQF,OAAOE,MACfwpB,EAASxpB,EAAM2pB,GAAGH,OAClBkmF,EAAa1vG,EAAM2pB,GAAG6hF,MAAMkE,WAC5BhpG,EAAW1G,EAAM0G,SACjBujB,EAAOjqB,EAAMiqB,KACbtmB,EAAa3D,EAAM2D,WACnB69E,EAAK,cACLqsH,EAAU,YACVC,EAAU,YACVC,EAAa,kBACbC,EAAgB,oCAChBC,EAAmB,oBACnBC,EAAU,WACVC,EAAa,qBACbC,EAAe,kBACfC,EAAiB,qBACjBC,EAAe,wBAEflsG,EAAU,YACVmsG,EAAS,UACTC,EAAW,YACXC,EAAU,WACVC,EAAW,iBACXC,EAAW,aACX1jG,EAAU,WACVyxE,EAAS,SACT3xE,EAAO,OACP6jG,EAAW,WACX5jC,EAAa,aACb6jC,EAAY,YACZtkG,EAAO,OACPC,EAAQ,QACRxuB,EAAO,OACPC,EAAO,OACP4qB,EAAO,CACHjG,MAAO,cACPC,OAAQ,cACRC,MAAO,eAEXnwB,EAAS,SACTG,EAAW,WACXg+H,EAAsB,yBACtBC,EAAmB,QACnB/kL,EAAW,CACPglL,OAAU,KACVz3K,OAAS,SACT03K,YAAa,SAEjBhwI,EAAOz+D,KAAKy+D,KACZ+lC,EACAkqG,EAAkB,+BAEtB,SAASv7C,EAAQhzH,GACb,cAAeA,GAAK,YAGxB,SAASwuK,EAAUnlM,EAAO6kI,EAAKC,GAC3B,OAAOtuI,KAAKoP,IAAIpP,KAAKiR,IAAIM,SAAS/H,EAAO,IAAK8kI,IAASpuC,SAAWouC,EAAO/8H,SAAS+8H,EAAM,KAAM/8H,SAAS88H,EAAK,KAGhH,SAASugE,EAAiBpqM,GACtB,OAAOA,EAAE8+B,SAAW7Z,EAAKK,OAAStlB,EAAE8+B,SAAW7Z,EAAKa,SAGxD,IAAIukL,EAAa7lL,EAAOtpB,OAAO,CAC3BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GACnCc,EAAKqsM,MAAMrsM,EAAKsP,QAAStP,EAAKd,SAC9BnC,EAAMoxB,OAAOnuB,IAGjBqsM,MAAO,SAAS/8L,EAASpQ,GACrB,IAAIc,EAAOP,KACPwW,EAEJjW,EAAKssM,gBAAkBtsM,EAAKusM,QAAQvrM,KAAKhB,GAEzCA,EAAK2kC,SAAWhoC,EAAEmrG,GAClB,IAAK4oD,EAAQxxJ,EAAQ2yB,UAAY3yB,EAAQ2yB,UAAY,KACjD3yB,EAAQ2yB,QAAUviB,EAAQoG,GAAGsyF,GAGjC,GAAIhoG,EAAKwsM,kBAAoB1vM,EACzBkD,EAAKwsM,gBAAkBzqG,EAAU9rF,QAGrCjW,EAAKysM,gBACLx2L,EAAUjW,EAAKiW,QAAU3G,EAAQ0K,QAAQ4wL,GAEzC,GAAI1rM,EAAQwtM,gBAAkB5vM,EAC1BkD,EAAK0sM,cAAgBp9L,EAAQ,GAGjCtP,EAAK2qB,UAAUrb,GACftP,EAAK2sM,cAELltM,KAAKmtM,YAAc,IAAIngG,EAAWx2F,GAElC,IAAKjW,EAAKd,QAAQ2yB,QACd7xB,EAAKiW,QAAQ+M,YAEbhjB,EAAK6sM,gBAIb9hL,WAAY,SAAS7rB,GACjB,IAAIc,EAAOP,KACX,IAAIqtM,EAAY9sM,EAAKd,QAAQuS,KAE7BvS,EAAUvC,EAAEM,OAAO+C,EAAKd,QAASA,GAEjCqnB,EAAOnmB,GAAG2qB,WAAW9oB,KAAKjC,EAAMd,GAEhC,GAAIA,EAAQ6rC,QAAUjuC,EAClBkD,EAAK+qC,MAAM7rC,EAAQ6rC,OAGvB,GAAI7rC,EAAQo7C,QAAS,CACjBv9C,EAAM2uB,QAAQ1rB,EAAKsP,QAAQwxC,YAC3B9gD,EAAKsP,QAAQ3L,KAAKzE,EAAQo7C,SAG9B,GAAIp7C,EAAQ6tM,QAAS,CACjB/sM,EAAKiW,QAAQ6qC,SAASuqJ,GAAc76K,SACpCxwB,EAAKgtM,iBAAiBhtM,EAAKiW,SAG/BjW,EAAKiW,QAAQi8D,OACblyE,EAAKitM,UAAUjtM,EAAKiW,SAEpBjW,EAAKiW,QAAQf,YAAY0uF,EAAKkpG,IAC9B9sM,EAAK2sM,cAEL,IAAKztM,EAAQ2yB,QACT7xB,EAAKiW,QAAQ+M,YAEbhjB,EAAK6sM,eAGT,UAAW3tM,EAAQoqG,QAAU,YAAa,CACtC,IAAIz3E,EAAU7xB,EAAKd,QAAQ2yB,UAAY,MACvC7xB,EAAKktM,2BACLltM,EAAKmtM,SAASjuM,EAAQoqG,OAASz3E,KAIvC86K,YAAa,WACT,IAAI3sM,EAAOP,KACPwW,EAAUjW,EAAKiW,QACf/W,EAAUc,EAAKd,QACfkW,EAAQlW,EAAQkW,MAChBE,EAASpW,EAAQoW,OACjBw3L,EAAY5tM,EAAQuS,KACpB+Z,EAAa,CAAC,WAAY,YAAa,WAAY,aAEvD,IAAK,IAAIlsB,EAAI,EAAGA,EAAIksB,EAAWjsB,OAAQD,IAAK,CACxC,IAAIyH,EAAQ7H,EAAQssB,EAAWlsB,IAC/B,GAAIyH,GAASA,GAAS02F,SAClBxnF,EAAQ3B,IAAIkX,EAAWlsB,GAAIyH,GAInCtH,KAAK2tM,uBAEL,GAAIh4L,EACA,GAAIA,EAAMjQ,WAAWmH,QAAQ,KAAO,EAChC2J,EAAQb,MAAMA,QAEda,EAAQzG,WAAW08L,EAAU92L,EAAOlW,EAAQyrH,SAAUzrH,EAAQyqL,WAItE,GAAIr0K,EAAQ,CACR,GAAIA,EAAOnQ,WAAWmH,QAAQ,KAAO,EACjC2J,EAAQX,OAAOA,QAEfW,EAAQvG,YAAYw8L,EAAU52L,EAAQpW,EAAQsuI,UAAWtuI,EAAQ0jL,YAGrEnjL,KAAK4tM,oBAGT,GAAIP,GAAalpG,EAAKkpG,GAClB72L,EAAQN,SAASiuF,EAAKkpG,KAI9BM,qBAAsB,WAClB,IAAIptM,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfszK,EAAY5iL,EAAKd,QAAQ0jL,UACzB0qB,EAEJ,GAAI1qB,GAAanlF,SAAU,CACvB6vG,EAAmBh6L,WAAWsvK,EAAW,IAAM5iL,EAAKutM,YACpD,GAAID,EAAmB,EACnBh+L,EAAQgF,IAAI,CACRsuK,UAAW5mH,EAAKsxI,GAAoB,SAOpDD,kBAAmB,WACf,IAAIrtM,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfgG,EAAStV,EAAKiW,QAAQvG,YAAY,MAClCm8F,EAAgBv4F,WAAWgC,EAAQ,IAAMtV,EAAKutM,YAElD,GAAI1hG,EAAgB,EAChBA,EAAgB,EAGpBv8F,EAAQgF,IAAI,CACRgB,OAAQ0mD,EAAK6vC,GAAiB,OAGlCpsG,KAAK+tM,sBAAsBl+L,IAI/Bk+L,sBAAuB,SAASl+L,GACxB,IAAIm+L,EAAYn+L,EAAQyZ,IAAI,GAAGzJ,aAAehQ,EAAQI,cAEtD,GAAI+9L,EACAn+L,EAAQqG,SAASs1L,QAEjB37L,EAAQ4F,YAAY+1L,IAIhCsC,UAAW,WACP,IAAIvtM,EAAOP,KACPwW,EAAUjW,EAAKiW,QACfy3L,EAAYz3L,EAAQ6qC,SAASuqJ,GAC7BsC,EAAkBD,EAAU,IAAMA,EAAU,GAAGx/K,cAAgB,EAC/D0/K,EAAW33L,EAAQ6qC,SAASsqJ,GAC5ByC,EAAiBD,EAAS,IAAMA,EAAS,GAAG1/K,cAAgB,EAEhE,OAAOy/K,EAAkBE,GAG7BV,SAAU,SAASt7K,GACf,IAAIi8K,EAAUruM,KAAKklC,SAASmc,SAAS4qJ,GACjCz1L,EAAUxW,KAAKwW,QAGnB,IAAK63L,EAAQvuM,OACTuuM,EAAUnxM,EAAEolG,EAAU+rG,SAG1BA,EACKzmI,aAAapxD,EAAQ,IACrBsO,OAAOsN,GACPvd,IAAImlK,EAAQ3qK,SAASmH,EAAQ3B,IAAImlK,GAAS,IAAM,GAErD,GAAI5nJ,EACApyB,KAAKsuM,uBAGLtuM,KAAKuuM,wBAGT,GAAIvuM,KAAKP,QAAQoqG,MAAM2kG,cACnBxuM,KAAKyuM,yBAGT,OAAOJ,GAGXC,gBAAiB,WACb,IAAI7xK,EAAOz8B,KAAKwW,QAEhBxW,KAAK0uM,gBAAkBjyK,EAAKijF,QAAQ8sF,GAAiBzoL,IAAI0Y,EAAKyzI,QAAQs8B,IACjE/uM,KAAK,WACF,IAAIkxM,EAAQzxM,EAAE8C,MACd2uM,EAAM1qM,KAAK,aAAc0qM,EAAMx4L,KAAK,gBACpCw4L,EAAMx4L,KAAK,cAAe,WAItCo4L,sBAAuB,WACnB,OAAOvuM,KAAK0uM,iBAAmB1uM,KAAK0uM,gBAAgBjxM,KAAK,WACrD,IAAIg/B,EAAOv/B,EAAE8C,MACb,IAAI4uM,EAAcnyK,EAAKx4B,KAAK,cAC5B,GAAI2qM,EACAnyK,EAAKtmB,KAAK,cAAey4L,QAGzBnyK,EAAKpR,WAAW,kBAK5BwjL,YAAa,SAASvsM,GAClBA,EAAEpB,iBACFlB,KAAKi6C,MAAM,QAGf60J,iBAAkB,SAASxsM,GACvB,GAAIoqM,EAAiBpqM,IAAMA,EAAE8+B,SAAW7Z,EAAKM,IACzC7nB,KAAKi6C,MAAM,QAInBunD,SAAU,SAASl/F,GACf,IAAI/B,EAAOP,KACPP,EAAUc,EAAKd,QACf2hC,EAAU9+B,EAAE8+B,QAEhB,GAAIA,GAAW7Z,EAAKM,MAAQtnB,EAAK0pG,UAAYxqG,EAAQsvM,SACjDxuM,EAAK05C,MAAM,QAInB+yJ,cAAe,WACX,IAAIzsM,EAAOP,KACP66C,EAAUt6C,EAAKsP,QACfpQ,EAAUc,EAAKd,QACf4Z,EAAQ/b,EAAMW,QAAQob,MAAMwhC,GAC5BszJ,EAAWjxM,EAAEolG,EAAU6rG,SAAS1uM,IAChCuvM,GAAWn0J,EAAQr+C,IAAMc,EAAMksB,QAAU,SACzChT,EAAUtZ,EAAEqD,EAAKwsM,gBAAgBttM,IAErC+W,EAAQqN,YAAY,QAASxK,GAE7BwhC,EAAQ3kC,SAASo1L,GACjB/qM,EAAK2kC,SAAS67B,OAAOvqD,GAErB,GAAI/W,EAAQ6rC,QAAU,MAAO,CACzB90B,EAAQuqD,OAAOotI,GACfA,EAASh4L,KAAK,KAAM64L,GACpBx4L,EAAQL,KAAK,kBAAmB64L,QAEhCx4L,EAAQN,SAASu1L,GAGrBlrM,EAAKitM,UAAUh3L,GAEfA,EAAQuqD,OAAOlmB,GAEf,GAAIp7C,EAAQo7C,QAAS,CACjBv9C,EAAM2uB,QAAQ4uB,EAAQwG,YACtBxG,EAAQ32C,KAAKzE,EAAQo7C,SAGzB,GAAIp7C,EAAQ6tM,QAAQxtM,OAChBS,EAAKgtM,iBAAiB/2L,IAI9Bg3L,UAAW,SAAUh3L,GACjB,IAAIjW,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAI0uM,EAAW33L,EAAQ6qC,SAASsqJ,GAChC,IAAIsD,EAAkBd,EAASp+K,KAAK,qBACpC,IAAIm/K,EAAcD,EAAgBnvM,OAASmvM,EAAgBl/K,KAAK,mBAAqBvZ,EAAQuZ,KAAK,mBAElGm/K,EAAYn+K,SAEZ,GAAItxB,EAAQsvM,WAAa,MAAO,CAC5B,GAAItvM,EAAQ6rC,QAAU,OAAS2jK,EAAgBnvM,OAC3CmvM,EAAgBluI,OAAOuhC,EAAUroD,MAAMx6C,SAGvC+W,EAAQs7E,QAAQwQ,EAAUroD,MAAMx6C,IAGpC+W,EAAQgb,YAAYstD,GACpBv+E,EAAKsP,QAAQ2hB,YAAYstD,GAEzBtoE,EAAQuZ,KAAKs7K,GACRjlL,GAAG,QAAS7lB,EAAKsuM,YAAYttM,KAAKhB,IAClC6lB,GAAG,UAAW7lB,EAAKuuM,iBAAiBvtM,KAAKhB,IAE9CA,EAAKsP,QAAQuW,GAAG,UAAW7lB,EAAKihG,SAASjgG,KAAKhB,MAItDgtM,iBAAkB,SAAS/2L,GACvB,IAAI24L,EAAqBnvM,KAAKP,QAAQ2vM,eAAiB,YACvD,IAAIA,EAAeD,EAAoB,UAAY,MACnD,IAAIlB,EAAY/wM,EAAEolG,EAAU2rG,UAAU,CAAEmB,aAAcA,KAEtDpvM,KAAKqvM,YAAYpB,GACjBz3L,EAAQuqD,OAAOktI,IAGnBoB,YAAa,SAASpB,GAClB,IAAI1tM,EAAOP,KACPsvM,EAAc/uM,EAAKgvM,aAAahuM,KAAKhB,GACrCivM,EAAmBjvM,EAAKkvM,kBAAkBluM,KAAKhB,GAC/C+sM,EAAU/sM,EAAKd,QAAQ6tM,QACvBxtM,EAASwtM,EAAQxtM,OACjBilC,EACA3E,EAEJ,IAAK,IAAIvgC,EAAI,EAAGA,EAAIC,EAAQD,IAAK,CAC7BklC,EAASuoK,EAAQztM,GACjBugC,EAAO7/B,EAAKmvM,sBAAsB3qK,GAElC7nC,EAAEolG,EAAUv9D,OAAOA,IACdvT,YAAYstD,GACZ56E,KAAKk8B,GACL8E,SAAS+oK,GACT/3L,SAAS6uB,EAAO/kB,UAChB/b,KAAK,SAAU8gC,EAAOA,QACtB3e,GAAG,QAASkpL,GACZlpL,GAAG,UAAWopL,KAI3BE,sBAAwB,SAAS3qK,GAC7B,IAAI3E,EAAO2E,EAAO3E,KAClB,OAAOA,EAAOp8B,EAASo8B,EAATp8B,CAAehE,KAAKP,SAAW,IAGjDyrB,UAAW,SAASvrB,GAChB,IAAIY,EAAOP,KACX,IAAIwW,EAAUjW,EAAKiW,QACnB,IAAIm5L,EAAWn5L,EAAQuZ,KAAKs7K,GAC5B,IAAIuE,EAAgBp5L,EAAQuZ,KAAK67K,EAAe,IAAMlsG,GAEtD54E,EAAOnmB,GAAGuqB,UAAU1oB,KAAKxC,KAAML,GAE/B,IAAI8tG,EAAW9tG,EAAOwW,KAAK,YAE3Bw5L,EAASx5L,KAAK,WAAYs3F,GAC1BmiG,EAAcz5L,KAAK,WAAYs3F,IAGnC8hG,aAAc,SAASjtM,GACnB,GAAItC,KAAKwW,QAAQP,GAAGsyF,GAChBvoG,KAAK6vM,cAAcvtM,EAAEivC,gBAI7Bk+J,kBAAmB,SAASntM,GACxB,GAAIoqM,EAAiBpqM,GAAI,CACrBA,EAAEpB,iBACFlB,KAAK6vM,cAAcvtM,EAAEivC,oBAClB,GAAIjvC,EAAE8+B,SAAW7Z,EAAKM,IACzB7nB,KAAKi6C,MAAM,QAInB41J,cAAe,SAASlwM,GACpB,IAAIY,EAAOP,KACX,GAAIO,EAAK0pG,SACL,OAGJ,IAAIllE,EAAS7nC,EAAEyC,GAAQsE,KAAK,UACxB6rM,EAAgB7uM,EAAW8jC,IAAWA,EAAO,CAAExiC,OAAQhC,MAAY,MAEvE,IAAKuvM,EACDvvM,EAAK05C,MAAM,QAInBmzJ,aAAc,WACV,IAAI7sM,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAI+W,EAAUjW,EAAKiW,QAEnBjW,EAAKwvM,UACLxvM,EAAKyvM,mBACLzvM,EAAK8B,QAAQwlG,GACb,GAAIpoG,EAAQoqG,MAAO,CACftpG,EAAKmtM,SAASl3L,EAAQP,GAAGsyF,IAAU1zF,IAAI,CAAE+b,QAAS,KAClDrwB,EAAK0vM,iBAIb7mG,KAAM,WACF,IAAI7oG,EAAOP,KACPwW,EAAUjW,EAAKiW,QACf05L,EAAclwM,KAAKmwM,kBAAkBtoG,GACrCpoG,EAAUc,EAAKd,QACf4uM,EAAS+B,EAEbpwM,KAAKgwM,mBAEL,IAAKzvM,EAAK8B,QAAQwlG,GAAO,CACrB,GAAItnG,EAAK0pG,SACLzzF,EAAQ8N,UAAU,KAAM,MAG5B/jB,EAAK0pG,SAAW,MAEhB1pG,EAAKwvM,UACLtwM,EAAQ2yB,QAAU,KAClB,GAAI3yB,EAAQoqG,MAAO,CACfumG,IAAuB7vM,EAAK8vM,UAAUvwM,OACtCuuM,EAAU9tM,EAAKmtM,SAAS0C,GAExB/B,EAAQ/pL,UAAU,KAAM,MAExB,GAAI4rL,EAAY9sL,UAAY9lB,EAAM0lB,QAAQstL,OAASF,EAAoB,CACnE,IAAIG,EAAYjzM,EAAM2lB,GAAGorL,GAASmC,SAClCD,EAAUntL,SAAS8sL,EAAY9sL,UAAY,GAC3CmtL,EAAU97H,SAAS,IACnB87H,EAAUl9H,YAEVg7H,EAAQx5L,IAAI,UAAW,IAG3Bw5L,EAAQ57H,OAGZj8D,EAAQi8D,OAAOnuD,YAAYI,aAAa,CACpC1B,QAASktL,EAAYltL,QACrBI,SAAU8sL,EAAY9sL,SACtBC,SAAU9iB,EAAKkwM,kBAAkBlvM,KAAKhB,KAE1CiW,EAAQi8D,OAIZ,OAAOlyE,GAGX4vM,kBAAmB,SAAS3zM,GACxB,IAAI2sG,EAAYnpG,KAAKP,QAAQ0pG,UAC7B,IAAIunG,EAAiB,CACjBtnG,KAAM,CAAEpmF,QAAS,IACjBi3B,MAAO,CAAE12B,KAAM,KAAMP,QAAS,KAGlC,OAAOmmF,GAAaA,EAAU3sG,IAAOk0M,EAAel0M,IAGxDi0M,kBAAmB,WACf,GAAIzwM,KAAKP,QAAQoqG,MACb7pG,KAAKiwM,eAETjwM,KAAKqC,QAAQi3E,IAGjB02H,iBAAkB,WACd,IAAK/+C,EAAQjxJ,KAAK2wM,oBAAqB,CACnC3wM,KAAK2wM,mBAAqB,KAC1B3wM,KAAKqC,QAAQ6pM,KAIrB6D,QAAS,WACL,IAAIxvM,EAAOP,KACPwW,EAAUjW,EAAKiW,QACf2/D,GAAU3/D,EAAQ3B,IAAImlK,GACtB42B,EAAiBz6H,EAErB51E,EAAK4wC,SAELj0C,EAAEkuM,GAAS3tM,KAAK,SAASoC,EAAGgQ,GACxB,IAAIghM,EAAe3zM,EAAE2S,GACjBihM,EAAYD,EAAah8L,IAAImlK,GAEjC,IAAKlmK,MAAMg9L,GACP36H,EAASr4E,KAAKoP,KAAK4jM,EAAW36H,KAItC,IAAK3/D,EAAQ,GAAGZ,MAAMugE,QAAUy6H,EAAiBz6H,EAC7C3/D,EAAQ3B,IAAImlK,EAAQ7jG,EAAS,GAGjC51E,EAAKsP,QAAQkgB,KAAK,gBAAgBgB,SAClCva,EAAU,KAEV,OAAOjW,GAGX05C,MAAO,SAAS82J,GACZ,IAAInxM,UAAUE,OACVixM,EAAkB,KAGtB/wM,KAAK67I,OAAOk1D,GACZ/wM,KAAKgxM,sBACL,OAAOhxM,MAGX67I,OAAQ,SAASk1D,GACb,IAAIxwM,EAAOP,KACPwW,EAAUjW,EAAKiW,QACf/W,EAAUc,EAAKd,QACfywM,EAAclwM,KAAKmwM,kBAAkB,QACrCc,EAAcjxM,KAAKmwM,kBAAkB,SAEzC,GAAI35L,EAAQP,GAAGsyF,KAAahoG,EAAK8B,QAAQylG,EAAO,CAAE4kB,eAAgBqkF,IAAoB,CAClF,GAAIxwM,EAAK0pG,SACL,OAEJ1pG,EAAK0pG,SAAW,KAEhBxqG,EAAQ2yB,QAAU,MAClBpyB,KAAKkxM,iBAEL16L,EAAQ8N,YAAYI,aAAa,CAC7B1B,QAASiuL,EAAYjuL,SAAWktL,EAAYltL,QAC5CnU,QAASoiM,EAAYpiM,UAAY,KACjCuU,SAAU6tL,EAAY7tL,SACtBC,SAAUrjB,KAAKmxM,mBAAmB5vM,KAAKvB,QAI/C,OAAOO,GAGX4wC,OAAQ,WACJnxC,KAAK8sM,UACL9sM,KAAKoxM,mBAGTtE,QAAS,WACL,IAAIvsM,EAAOP,KACPwW,EAAUjW,EAAKiW,QACf66L,EAAiBn0M,EAAEE,QACnBuzB,EAAY,EACZ7X,EAAa,EACbw4L,EAAUx4L,EAAahb,KAAKoP,IAAI,GAAImkM,EAAe17L,QAAUa,EAAQb,SAAW,GAChF47L,EAAS5gL,EAAY7yB,KAAKoP,IAAI,GAAImkM,EAAex7L,SAAWW,EAAQX,SAAWxG,SAASmH,EAAQ3B,IAAI,cAAe,KAAO,GAE9H2B,EAAQ3B,IAAI,CACRI,KAAMq8L,EACNvxL,IAAKwxL,IAGT,OAAOhxM,GAGX6wM,gBAAiB,WACb,GAAIpxM,KAAKwxM,aACL,OAGJl0M,EAAM41B,SAASlzB,KAAK6sM,iBACpB7sM,KAAKwxM,aAAe,MAGxBR,oBAAqB,WACjB1zM,EAAM81B,aAAapzB,KAAK6sM,iBACxB7sM,KAAKwxM,aAAe,OAGxBN,eAAgB,WACZ,IAAIO,EAASzxM,KAAKqwM,UAClB,IAAI5wM,EAAUO,KAAKP,QACnB,IAAIiyM,EAAcjyM,EAAQoqG,QAAU4nG,EAAO3xM,OAE3C,GAAI4xM,EAAa,CACb1xM,KAAK0tM,SAAS,OAAO38K,SAErB,GAAItxB,EAAQoqG,MAAM2kG,cACdxuM,KAAKytM,gCAEN,GAAIgE,EAAO3xM,OAAQ,CACtBE,KAAK2xM,QAAQF,EAAOx3K,QAAQyzK,SAAS,MAErC,GAAIjuM,EAAQoqG,MAAM2kG,cACdxuM,KAAKyuM,2BAKjBA,uBAAwB,WACpB,IAAIluM,EAAOP,KAEX,IAAI4xM,EAAQ10M,EAAE,QACdqD,EAAKsxM,mBAAmBD,GACxBA,EAAM/8L,IAAIu5D,EAAUH,GAEpB,IAAI6jI,EAAQ50M,EAAE,QACd,IAAIgH,EAAO4tM,EAAM,GACjBvxM,EAAKsxM,mBAAmBC,GACxBA,EAAMj9L,IAAIu5D,EAAUH,GAGpB,GAAI3wE,EAAMW,QAAQsgB,SAASrB,IAAK,CAC5BhZ,EAAKic,iBAAiBmoJ,EAAY/nK,EAAKwxM,YAAa,CAAEC,QAAS,QAC/D9tM,EAAKic,iBAAiBgsL,EAAW5rM,EAAK0xM,WAAY,CAAED,QAAS,UAIrED,YAAa,SAAUzvM,GACnBpF,EAAE8C,MAAMiE,KAAKooM,EAAkB/pM,EAAEyjB,eAAe,GAAGiwB,QAGvDi8J,WAAY,SAAU3vM,GAClB,IAAI3C,EAAS2C,EAAE3C,OACf,IAAIuyM,EAAUh1M,EAAEoF,EAAE3C,QAClB,IAAIwyM,EAAW7vM,EAAEyjB,eAAe,GAAGiwB,MAAQ94C,EAAE8C,MAAMiE,KAAKooM,GAAoB,EAC5E,IAAI+F,EAAiBF,EAAQj8L,GAAGs1L,KAC3B4G,GAAYD,EAAQvhL,cAAgB,KACnCwhL,GAAYD,EAAQvhL,cAAgBhxB,EAAOkgB,aAAelgB,EAAOmgB,aACvE,IAAKoyL,EAAQj8L,GAAGs1L,IAAqB6G,EACjC9vM,EAAEpB,kBAIVusM,yBAA0B,WACtB,IAAIltM,EAAOP,KACX,IAAI4xM,EAAQ10M,EAAEsS,SAAS2K,MACvB,IAAI23L,EAAQ50M,EAAE,QACd,IAAIgH,EAAO4tM,EAAM,GAEjBvxM,EAAK8xM,qBAAqBT,GAC1BrxM,EAAK8xM,qBAAqBP,GAE1B,GAAIx0M,EAAMW,QAAQsgB,SAASrB,IAAK,CAC5B40L,EAAM5lL,WAAWmgL,GACjBnoM,EAAKixC,oBAAoBmzH,EAAY/nK,EAAKwxM,YAAa,CAAEC,QAAS,QAClE9tM,EAAKixC,oBAAoBg3J,EAAW5rM,EAAK0xM,WAAY,CAAED,QAAS,UAIxEH,mBAAoB,SAASS,GACzB,GAAGtyM,KAAKuyM,kBAAkBD,GACtB,OAGJ,IAAIE,EAAeF,EAAShpL,IAAI,GAAG1T,MAAMiD,SAEzC,UAAU25L,IAAiB,SACvBF,EAASruM,KAAKmoM,EAAqBoG,IAI3CD,kBAAmB,SAAUD,GACzB,cAAcA,EAASruM,KAAKmoM,KAAyB,UAGzDiG,qBAAsB,SAASC,GAC3B,IAAIE,EAAeF,EAASruM,KAAKmoM,GAEjC,GAAGoG,IAAiB,MAAQA,IAAiBn1M,EAAU,CACnDi1M,EAASz9L,IAAIu5D,EAAUokI,GACvBF,EAASpmL,WAAWkgL,QAEpBkG,EAASz9L,IAAIu5D,EAAU,KAI/B+iI,mBAAoB,WAChB,IAAI5wM,EAAOP,KAEXO,EAAK0pG,SAAW,MAChB1pG,EAAKiW,QAAQ+M,OAAO1O,IAAI,UAAW,IACnCtU,EAAK8B,QAAQk3E,GAEb,GAAIh5E,EAAKd,QAAQoqG,MAAO,CACpB,IAAI4oG,EAAYlyM,EAAKoxM,QAAQpxM,EAAK8vM,UAAUp2K,QAC5C,GAAIw4K,EACAA,EAAU1C,YAKtBM,QAAS,WACL,IAAI9vM,EAAOP,KAEX,IAAI0yM,EAASx1M,EAAEkuM,GAASn7K,OAAO,WAC3B,IAAI45E,EAAQtpG,EAAKoxM,QAAQz0M,EAAE8C,OAE3B,OAAO6pG,GACHA,EAAMpqG,SACNoqG,EAAMpqG,QAAQoqG,OACdA,EAAMpqG,QAAQ2yB,SACdy3E,EAAMpqG,QAAQylC,WAAa3kC,EAAKd,QAAQylC,WACvC2kE,EAAM2gF,aACPttL,EAAE2sG,EAAMh6F,SAASoG,GAAGsyF,KACzBznF,KAAK,SAASla,EAAGma,GAChB,OAAQ7jB,EAAE0J,GAAGiO,IAAI,WAAa3X,EAAE6jB,GAAGlM,IAAI,YAG3CtU,EAAO,KAEP,OAAOmyM,GAGXf,QAAS,SAAS9hM,GACd,IAAIgrC,EAAUhrC,EAAQwxC,SAASkqJ,GAC/B,IAAIx+K,EAASzvB,EAAM8yB,eAAeyqB,GAElC,GAAI9tB,EACA,OAAOA,EAGX,OAAO1vB,GAGX4uB,QAAS,WACL,IAAI1rB,EAAOP,KACXO,EAAK4rB,WAELrF,EAAOnmB,GAAGsrB,QAAQzpB,KAAKjC,GAEvBjD,EAAM2uB,QAAQ1rB,EAAKiW,SAEnBjW,EAAKiW,QAAQua,SACbxwB,EAAKiW,QAAUjW,EAAKsP,QAAU3S,KAGlCivB,SAAU,WACN,IAAI5rB,EAAOP,KACX,IAAI6oB,EAAK,IAAMi2D,EAEfv+E,EAAKiW,QAAQ6c,IAAIxK,GACjBtoB,EAAKsP,QAAQwjB,IAAIxK,GACjBtoB,EAAKiW,QAAQuZ,KAAKs7K,EAAa,IAAMO,EAAe,MAAQlsG,GAASrsE,IAAIxK,GACzEtoB,EAAKywM,uBAGT1lK,MAAO,SAASpnC,GACZ,IAAI3D,EAAOP,KACPwW,EAAUjW,EAAKiW,QACf/W,EAAUc,EAAKd,QACf0uM,EAAW33L,EAAQ6qC,SAASsqJ,GAC5BrgK,EAAQ6iK,EAAS9sJ,SAASqqJ,GAC1BiH,EAAcr1M,EAAM8nB,WAAWlhB,GAEnC,IAAKtE,UAAUE,OACX,OAAOwrC,EAAMpnC,OAGjB,GAAIA,IAAS,MAAO,CAChBiqM,EAASp9K,SACTva,EAAQN,SAASu1L,OACd,CACH,IAAK0C,EAASruM,OAAQ,CAClBquM,EAAWjxM,EAAEolG,EAAU6rG,SAAS1uM,IAAUqxB,UAAUta,GACpD80B,EAAQ6iK,EAAS9sJ,SAASqqJ,GAC1Bl1L,EAAQf,YAAYg2L,GAExBngK,EAAMpnC,KAAKyuM,GAGfpyM,EAAKd,QAAQ6rC,MAAQqnK,EAErB,OAAOpyM,GAGXs6C,QAAS,SAAS32C,EAAMD,GACpB,IAAI1D,EAAOP,KACP66C,EAAUt6C,EAAKiW,QAAQ6qC,SAASkqJ,GAEpC,IAAKt6C,EAAQ/sJ,GACT,OAAO22C,EAAQ32C,OAGnBlE,KAAK0qB,QAAQ,UAAW,WACpB,MAAO,CAAE0D,SAAUysB,EAAQwG,cAG/B/jD,EAAM2uB,QAAQ4uB,EAAQwG,YACtBxG,EAAQ32C,KAAKA,GAEblE,KAAK0qB,QAAQ,UAAW,WACpB,IAAI9jB,EAAI,GACR,IAAK,IAAI/G,EAAIg7C,EAAQ/6C,SAAUD,GAAK,GAChC+G,EAAE1E,KAAK,CAAEosB,SAAUrqB,IAEvB,MAAO,CACHmqB,SAAUysB,EAAQwG,WAClBp9C,KAAM2C,KAIdrG,EAAKd,QAAQo7C,QAAU32C,EAEvB,OAAO3D,GAGX0vM,aAAc,WACV,GAAIjwM,KAAKitM,cACLjtM,KAAKshG,OAAOthG,KAAKitM,eAErBjtM,KAAKmtM,YAAYlgG,QAGrB3L,OAAQ,SAAS7kE,GACb,GAAIA,EACAA,EAAK4C,SAIbr9B,OAAQ,CACJkqM,EACArkG,EACAC,EACAxuB,EACAC,GAGJ95E,QAAS,CACL6rC,MAAO,GACP8jK,aAAc,YACd9B,QAAS,GACTzjG,MAAO,KACP73F,KAAM,OACN2D,MAAO,KACPE,OAAQ,KACRq1G,SAAU,EACV6iB,UAAW,EACXm8C,SAAUlsF,SACVmlF,UAAWnlF,SACXnjD,QAAS,KACTzoB,QAAS,KACT8S,SAAUmjE,EACV0mG,SAAU,QAId6D,EAASjG,EAAWnvM,OAAO,CAC3BiC,QAAS,CACLhD,KAAM,SACN6qB,SAAU,CACN2yB,MAAO,YAOf44J,GAFJv1M,EAAM2pB,GAAG+J,OAAO4hL,GAEDjG,EAAWnvM,OAAO,CAC7BovM,MAAO,SAAS/8L,EAASpQ,GACrB,IAAIc,EAAOP,KAEXO,EAAKwsM,gBAAkBzqG,EAAUwwG,aACjCrzM,EAAQwtM,cAAgB,KACxB1sM,EAAKwyM,iBAAiBljM,GAEtB88L,EAAWhsM,GAAGisM,MAAMpqM,KAAKjC,EAAMsP,EAASpQ,GAExCc,EAAKgB,KAAKg4E,EAAMh5E,EAAK0rB,QAAQ1qB,KAAKhB,IAElCA,EAAKyyM,mBACLzyM,EAAK0yM,cAGTF,iBAAkB,SAASljM,GACvB,IAAI4sB,EAAOv/B,EAAE2S,GACb,IAAI4sB,EAAKtmB,KAAK,MACVsmB,EAAKtmB,KAAK,KAAM7Y,EAAMksB,OAAS,aAIvCwpL,iBAAkB,WACdhzM,KAAKwW,QAAQL,KAAK,mBAAoBnW,KAAK6P,QAAQsG,KAAK,QAG5D88L,WAAY,WACR,IAAI3yJ,EAAItgD,KAAKP,QAEbO,KAAKitM,cAAgBjtM,KAAKkzM,oBAC1B,GAAIlzM,KAAKitM,eAAiB3sJ,EAAEluB,SAAWkuB,EAAEupD,MACrC7pG,KAAKiwM,gBAIbiD,kBAAmB,WACf,OAAOlzM,KAAKwW,QAAQuZ,KAAK67K,EAAe,MAAQlsG,GAAS,IAG7DjgG,QAAS,CACL6rC,MAAOluC,OAAOihB,SAASqsB,KACvBqkK,SAAU,MACVznL,SAAUA,MAId6rL,EAAQN,EAASr1M,OAAO,CACxBovM,MAAO,SAAS/8L,EAASpQ,GACrB,IAAIc,EAAOP,KACX6yM,EAASlyM,GAAGisM,MAAMpqM,KAAKjC,EAAMsP,EAASpQ,GACtCc,EAAKiW,QAAQN,SAAS21L,IAG1BpsM,QAAS,CACLhD,KAAM,QACNotG,MAAO,KACPyjG,QAAS,CAAC,CACNltK,KAAM,4BAOdgzK,GAFJ91M,EAAM2pB,GAAG+J,OAAOmiL,GAEC,SAAS/yK,GACtB,OAAOljC,EAAEolG,EAAU+wG,OAAOD,WAAW,CAAEv4J,QAASza,IAAQn8B,KAAK,cAAcmlG,SAG3EkqG,EAAUT,EAASr1M,OAAO,CAC1BovM,MAAO,SAAS/8L,EAASpQ,GACrB,IAAIc,EAAOP,KACX6yM,EAASlyM,GAAGisM,MAAMpqM,KAAKjC,EAAMsP,EAASpQ,GACtCc,EAAKiW,QAAQN,SAAS41L,GACtBvrM,EAAKgJ,OAASrM,EAAEupC,YAGpBhnC,QAAS,CACLhD,KAAM,UACNotG,MAAO,KACPyjG,QAAS,CAAC,CACNltK,KAAM,uBACNy5E,QAAS,KACT90E,OAAQ,SAASziC,GACbA,EAAEC,OAAOgH,OAAO4oD,YAErB,CACC/xB,KAAM,uBACN2E,OAAQ,SAASziC,GACbA,EAAEC,OAAOgH,OAAOusD,eAQ5By9I,IAFJj2M,EAAM2pB,GAAG+J,OAAOsiL,GAEG,SAASlzK,GACxB,IAAIozK,EAAgBt2M,EAAEolG,EAAUmxG,SAASF,aAAa,CAAE14J,QAASza,IAAQn8B,KAAK,gBAAgBmlG,OAC9F,OAAOoqG,EAAcjqM,SAGrBmqM,GAASb,EAASr1M,OAAO,CACzBovM,MAAO,SAAS/8L,EAASpQ,GACrB,IAAIc,EAAOP,KACX6yM,EAASlyM,GAAGisM,MAAMpqM,KAAKjC,EAAMsP,EAASpQ,GACtCc,EAAKiW,QAAQN,SAAS61L,GACtBxrM,EAAKozM,gBACLpzM,EAAKgJ,OAASrM,EAAEupC,YAGpBktK,cAAe,WACX,IAAIrsM,EAAQtH,KAAKP,QAAQ6H,MACrBssM,EAAkB12M,EAAEolG,EAAUuxG,qBAAqB7zM,KAAKP,UAAU4lF,YAAYrlF,KAAK6P,SAEvF7P,KAAKogB,MAAQ,IAAI9iB,EAAM2pB,GAAGqtI,QAAQs/C,EAAgB7jL,KAAK,UAEvD,GAAIzoB,EACAtH,KAAKogB,MAAM9Y,MAAMA,GAGrBtH,KAAKitM,cAAgBjtM,KAAKkzM,oBAC1BlzM,KAAKiwM,gBAGTiD,kBAAmB,WACf,OAAOlzM,KAAKwW,QAAQuZ,KAAKi8K,GAAU,IAGvCvsM,QAAS,CACLhD,KAAM,SACNotG,MAAO,KACPviG,MAAO,GACPgmM,QAAS,CAAC,CACNltK,KAAM,uBACNy5E,QAAS,KACT90E,OAAQ,SAASziC,GACb,IAAIC,EAASD,EAAEC,OACX+E,EAAQ/E,EAAO6d,MAAM9Y,QAEzB/E,EAAOgH,OAAO4oD,QAAQ7qD,KAE3B,CACC84B,KAAM,uBACN2E,OAAQ,SAASziC,GACb,IAAIC,EAASD,EAAEC,OACX+E,EAAQ/E,EAAO6d,MAAM9Y,QAEzBhF,EAAEC,OAAOgH,OAAOusD,OAAOxuD,SAQnCwsM,IAFJx2M,EAAM2pB,GAAG+J,OAAO0iL,IAEE,SAAStzK,EAAM94B,GAC7B,IAAIysM,EAAe72M,EAAEolG,EAAU0xG,QAAQF,YAAY,CAC/Cj5J,QAASza,EACT94B,MAAOA,IACRrD,KAAK,eAAemlG,OAEvB,OAAO2qG,EAAaxqM,SA6B5B,OA1BI+4F,EAAY,CACR9rF,QAASxS,EAAS,gEAClB+gC,OAAQ/gC,EAAS,gMACjBmqM,SAAUnqM,EACN,6DACI,gEACA,iEACJ,UAEJi2C,MAAOj2C,EAAS,kPACZ,4DACJiqM,UAAWjqM,EAAS,kHACpBqqM,QAAS,gCACTyE,aAAc9uM,EAAS,qEACvBqvM,MAAO,cACPI,QAAS,cACTO,OAAQ,cACRH,qBAAsB7vM,EAAS,yIAGnC1G,EAAM+1M,MAAQD,EACd91M,EAAMm2M,QAAUF,GAChBj2M,EAAM02M,OAASF,GAIZ12M,OAAOE,QA3mClB,CA6mCoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAOA,GAAMD,OAEtF,SAAavtC,QACTA,OAAO,eAAe,CAAE,oBAAqB,eAC9C,WAEC,IAAIC,EAAW,CACXC,GAAI,SACJC,KAAM,SACNC,SAAU,MACVC,YAAa,0EACbotC,QAAS,CAAE,cAAe,SAC1BuV,SAAU,CAAE,CACR9iD,GAAI,YACJC,KAAM,YACNE,YAAa,wBACbotC,QAAS,CAAE,SAIT7sC,EA+lEPE,OAAOE,MAAMH,OA/lEHE,OAAb,EACQC,EAAQF,OAAOE,MACfwpB,EAASxpB,EAAM2pB,GAAGH,OAClBkmF,EAAa1vG,EAAM2pB,GAAG6hF,MAAMkE,WAC5BtgB,EAAYpvF,EAAM2pB,GAAGylE,UACrBzsF,EAAgB/C,EAAE+C,cAClBwP,EAAgBnS,EAAMiS,eACtBQ,EAAazS,EAAMsS,YACnBK,EAAc3S,EAAM0S,aACpBxS,EAASN,EAAEM,OACXC,EAAOP,EAAEO,KACTuG,EAAW1G,EAAM0G,SACjBqkG,EAAO,OACP/F,EACAxjB,EAAK,eACLm1H,EAAW,oBAEX7I,EAAU,YACV8I,EAAe,kBACfC,EAAkBD,EAAe,MACjCE,EAAiB,oBACjBC,EAAiB,oBACjBC,EAAuB,mBACvBrI,EAAW,aACXl6F,EAAgB,kBAChB8O,EAAU,cACV0zF,EAAc,UACdC,EAAgB,kBAChBC,EAAiB,qBACjBC,EAAc,wBAEdnsG,EAAU,WACVt6B,EAAS,SACT0mI,EAAS,SAET9sG,EAAO,OACPG,EAAW,WACXD,EAAa,aACbD,EAAQ,QACR8sG,EAAU,UACVC,EACAC,EACAC,EAAc,cACd5kH,EACAwE,EAAY,YACZrN,EAAY,YACZE,EAAU,UACVwtH,EAAU,UACVC,EACAn1J,EAAQ,QACRsuB,EAAW,WACXg+H,EAAsB,yBACtBpyB,EAAS,SACTk7B,GAAoB,gFACpBC,GAAO,WACPC,GAAS,aACTC,GAAYF,GAAO,IAAMC,GACzBE,GAAmB,sCACnBC,GAAc,kCACdC,GAAsB,sBACtBC,GAAO,aACP3sL,GAAaxrB,EAAMwrB,WACnBq7E,GAAO,CACHjG,MAAO,cACPC,OAAQ,cACRC,MAAO,eAGf,SAAS6yD,GAAQhzH,GACb,cAAeA,GAAK,YAGxB,SAASy3K,EAAM7lM,EAAS8B,GACpB,OAAOtC,SAASQ,EAAQgF,IAAIlD,GAAW,KAAO,EAGlD,SAAS86L,EAAUnlM,EAAO6kI,EAAKC,GAC3B,IAAIupE,EAEJ,GAAIruM,GAASwM,MAAMxM,IAAUA,EAAM5B,WAAWmH,QAAQ,MAAQ,EAC1D8oM,EAAkBruM,OAElBquM,EAAkB73M,KAAKoP,IACnBpP,KAAKiR,IAAIM,SAAS/H,EAAO,IAAK8kI,IAASpuC,SAAWouC,EAAO/8H,SAAS+8H,EAAM,KACxED,KAASnuC,SAAWmuC,EAAM98H,SAAS88H,EAAK,KAIhD,OAAOwpE,EAGX,SAASC,KACL,OAAQ51M,KAAKuH,MAAQvH,KAAKuH,KAAK+E,cAAcO,QAAQ,WAAa,EAItE,SAASgpM,GAAYvmI,GACjB,IAAI/lE,EAAS,CAAEwW,IAAKuvD,EAAKq7C,UAAW11G,KAAMq6D,EAAK6zH,YAC3C5tL,EAAS+5D,EAAK08B,aAElB,MAAOz2F,EAAQ,CACXhM,EAAOwW,KAAOxK,EAAOo1G,UACrBphH,EAAO0L,MAAQM,EAAO4tL,WAEtB,IAAI2S,EAAkB54M,EAAEqY,GAAQV,IAAI,aACpC,IAAIkhM,EAAkB74M,EAAEqY,GAAQV,IAAI,aAEpC,GAAIkhM,IAAoB,QAAUA,IAAoB,SAClDxsM,EAAOwW,KAAOxK,EAAOob,UAGzB,GAAImlL,IAAoB,QAAUA,IAAoB,SAClDvsM,EAAO0L,MAAQM,EAAOuD,WAG1BvD,EAASA,EAAOy2F,aAGpB,OAAOziG,EAGX,IAAIysM,GAASlvL,EAAOtpB,OAAO,CACvBiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACPwW,EACAvC,EAAS,GACT29E,EAAYl7E,EAASC,EACrBu4K,EAAY,MACZr0I,EACAo7J,EACAC,EACAC,EACAC,EAAkB32M,GAAWA,EAAQ6tM,UAAY7tM,EAAQ6tM,QAAQxtM,OACjEtD,EAEJsqB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GACnCA,EAAUc,EAAKd,QACfkX,EAAWlX,EAAQkX,SACnB9G,EAAUtP,EAAKsP,QACfgrC,EAAUp7C,EAAQo7C,QAClBs7J,EAAej5M,EAAEE,QAEjB,GAAIg5M,EACA32M,EAAQ6tM,QAAU,GAGtB/sM,EAAK2kC,SAAWhoC,EAAEuC,EAAQylC,UAE1B3kC,EAAKiqL,YAAc/qL,EAAQwsF,UAAUu+F,YAActtL,EAAEuC,EAAQwsF,UAAUu+F,aAAaroL,QAAU,KAE9F,GAAI04C,IAAY56C,EAAc46C,GAC1BA,EAAUp7C,EAAQo7C,QAAU,CAAE9xB,IAAK8xB,GAIvChrC,EAAQkgB,KAAK,UAAUE,OAAO2lL,IAAkB7kL,SAEhD,IAAKlhB,EAAQ0F,SAASU,GAAG1V,EAAK2kC,YAAc3kC,EAAKiqL,cAAgB7zK,EAASoJ,MAAQ1iB,GAAasZ,EAAS1B,OAAS5X,GAAY,CACzH,GAAIwS,EAAQoG,GAAGsyF,GAAU,CACrBt0F,EAASpE,EAAQoE,SACjBi7K,EAAY,SACT,CACHt9F,EAAa/hF,EAAQgF,IAAI,cACzB6B,EAAU7G,EAAQgF,IAAI,WAEtBhF,EAAQgF,IAAI,CAAE+8E,WAAY3jB,EAAQv3D,QAAS,KAE3C,GAAIlH,SAAS2K,KAAKgV,SAAStf,EAAQ,IAC/BoE,EAASpE,EAAQoE,cAEjBA,EAAS,CAAE8L,IAAK,EAAG9K,KAAM,GAG7BpF,EAAQgF,IAAI,CAAE+8E,WAAYA,EAAYl7E,QAASA,IAGnD,GAAIC,EAASoJ,MAAQ1iB,EACjBsZ,EAASoJ,IAAM9L,EAAO8L,IAE1B,GAAIpJ,EAAS1B,OAAS5X,EAClBsZ,EAAS1B,KAAOhB,EAAOgB,KAI/B,IAAKg8I,GAAQxxJ,EAAQ2yB,UAAY3yB,EAAQ2yB,UAAY,KACjD3yB,EAAQ2yB,QAAUviB,EAAQoG,GAAGsyF,GAGjC/xF,EAAUjW,EAAKiW,QAAU3G,EAAQ0K,QAAQ6wL,GAEzC,IAAKv7L,EAAQoG,GAAG,uBAAyBO,EAAQ,GAAI,CACjD3G,EAAQqG,SAAS,oBACjB3V,EAAK81M,cAAcxmM,EAASpQ,GAC5B+W,EAAUjW,EAAKiW,QAAU3G,EAAQ0K,QAAQ6wL,GAEzC7qM,EAAK+qC,MAAM/qC,EAAKd,QAAQ6rC,OACxB/qC,EAAK2sM,cAGT3sM,EAAK+1M,OAAS/1M,EAAKg2M,SAAWv4G,SAC9Bz9F,EAAKi2M,OAASj2M,EAAKk2M,QAAUz4G,SAC7Bz9F,EAAKw0F,YAEL,GAAIl6C,EACAt6C,EAAKuZ,QAAQ+gC,GAGjB,GAAIp7C,EAAQ2yB,QACR7xB,EAAKwvM,QAAQ,MAAOtwM,EAAQoqG,OAGhCosG,EAAgBz/L,EAAQ6qC,SAAS+yJ,GAEjC,GAAI30M,EAAQ2yB,SAAW3yB,EAAQoqG,MAC3BtpG,EAAKmtM,SAASl3L,EAAQP,GAAGsyF,IAAU1zF,IAAI,CAAE+b,QAAS,KAGtDpa,EACK4P,GAAG,aAAe04D,EAAIw2H,GAAkB/0M,EAAKm2M,aAAan1M,KAAKhB,IAC/D6lB,GAAG,aAAe04D,EAAIw2H,GAAkB/0M,EAAKo2M,aAAap1M,KAAKhB,IAC/D6lB,GAAG,QAAU04D,EAAI,KAAOw2H,GAAkB/0M,EAAKq2M,qBAAqBr1M,KAAKhB,IACzE6lB,GAAG,UAAY04D,EAAIv+E,EAAMA,EAAKihG,SAASjgG,KAAKhB,IAC5C6lB,GAAG,QAAU04D,EAAIv+E,EAAK+gG,OAAO//F,KAAKhB,IAClC6lB,GAAG,OAAS04D,EAAIv+E,EAAKghG,MAAMhgG,KAAKhB,IAErC01M,EACK7vL,GAAG,UAAY04D,EAAIv+E,EAAMA,EAAKs2M,gBAAgBt1M,KAAKhB,IAExD21M,EAAcD,EAAclmL,KAAK,IAAMgiF,GAAe,GAEtD,GAAGmkG,IAAgBC,EAAalyM,KAAKuxM,IAAqB,CAEtDW,EAAa/vL,GAAG,OAAS04D,EAAI,WACzB,IAAIjvE,EAAU3S,EAAEsS,SAASC,eAAe8F,OAAO6+L,GAC/C,GAAIvkM,EAAQ/P,OAAQ,CAChB,IAAIg3M,EAAiBx5M,EAAM8yB,eAAevgB,GAC1CinM,EAAex1G,YAIvB60G,EAAa/vL,GAAG,QAAU04D,EAAI,WAC1B5hF,EAAEk3M,GAAgBt6G,IAAIu6G,GAAgB52M,KAAK,SAASoC,EAAGgQ,GACnDvS,EAAM8yB,eAAelzB,EAAE2S,IAAU0xF,YAIzC40G,EAAalyM,KAAKuxM,GAAqB,MAG3Cx1M,KAAKmqM,aAELnqM,KAAK0uK,aAEL,GAAIjvK,EAAQovG,QAAU7uG,KAAKwW,QAAQP,GAAG,YAClC1V,EAAKowG,MAGTn0G,EAAKqT,EAAQsG,KAAK,MAClB,GAAI3Z,EAAI,CACJA,EAAKA,EAAK,aACVga,EAAQL,KAAK,CACLyT,KAAQ,SACRmtL,kBAAmBv6M,IACpB6kD,SAAS8yJ,GACX9yJ,SAAS6yJ,GACT/9L,KAAK,KAAM3Z,GAGpBga,EAAQuN,IAAIvN,EAAQ6qC,SAAS,oBAAsB8yJ,IAC9C/tL,GAAG9oB,EAAMW,QAAQooB,UAAYy4D,EAAIv+E,EAAKwvM,QAAQxuM,KAAKhB,IAExDA,EAAKoyB,cAAgBr1B,EAAMq1B,cAAc9iB,GAEzCtP,EAAK4lG,eAAiB5lG,EAAKy2M,kBAAkBz1M,KAAKhB,GAElDA,EAAKgpL,QAAUjsL,EAAMksB,OAAOvmB,UAAU,EAAG,GAEzC/F,EAAEE,QAAQgpB,GAAG,SAAW04D,EAAKv+E,EAAKgpL,QAAShpL,EAAK4lG,gBAEhD,GAAI1mG,EAAQ2yB,QAAS,CACjB7xB,EAAK8B,QAAQwlG,GACbtnG,EAAK8B,QAAQ2lG,GAGjB1qG,EAAMoxB,OAAOnuB,GAEb,GAAGP,KAAKP,QAAQoqG,MAAO,CACnB7pG,KAAKmtM,YAAc,IAAIngG,EAAWx2F,GAClCxW,KAAKmtM,YAAYlgG,OACjBjtG,KAAKmtM,YAAY//F,WAAa,WAC1B,OAAO52F,EAAQvS,KAAK,cAKhCyyM,aAAc,SAASp0M,GACnBpF,EAAEoF,EAAEivC,eAAer7B,SAASq+L,IAGhCoC,aAAc,SAASr0M,GACnBpF,EAAEoF,EAAEivC,eAAe97B,YAAY8+L,IAGnCjzG,OAAQ,WACJthG,KAAKwW,QAAQN,SAASs+L,IAG1BjzG,MAAO,WACHvhG,KAAKwW,QAAQf,YAAY++L,IAG7BtH,YAAa,WACT,IAAI12L,EAAUxW,KAAKwW,QACnB,IAAI/W,EAAUO,KAAKP,QACnB,IAAIkW,EAAQlW,EAAQkW,MACpB,IAAIE,EAASpW,EAAQoW,OACrB,IAAIstK,EAAY1jL,EAAQ0jL,UACxB,IAAIkqB,EAAY5tM,EAAQuS,KACxB,IAAI+Z,EAAa,CAAC,WAAW,YAAY,WAAW,aACpD,IAAIkrL,EAAmBzgM,EAAQ3B,IAAI,eAAiB,cAEpD,IAAIqiM,EAAgBD,EAAmBvB,EAAMl/L,EAAS,qBAAuBk/L,EAAMl/L,EAAS,sBAAwB,EACpH,IAAI2gM,EAAgBF,EAAmBvB,EAAMl/L,EAAS,oBAAsBk/L,EAAMl/L,EAAS,uBAAyB,EACpH,IAAIi5F,EAAawnG,EAAmBvB,EAAMl/L,EAAS,eAAiB,EAEpE,GAAIxW,KAAKwqL,cAAgBxqL,KAAKo3M,UAAW,CACrCp3M,KAAKq3M,oBACL53M,EAAQ0jL,UAAYrlL,KAAKiR,IAAI/O,KAAKwqL,YAAY30K,QAAUshM,EAAgB1nG,GAAa0zE,GACrF1jL,EAAQyqL,SAAWpsL,KAAKiR,IAAI/O,KAAKwqL,YAAY70K,MAAQuhM,EAAez3M,EAAQyqL,UAGhF,IAAK,IAAIrqL,EAAI,EAAGA,EAAIksB,EAAWjsB,OAAQD,IAAK,CACxC,IAAIyH,EAAQ7H,EAAQssB,EAAWlsB,KAAO,GACtC,GAAIyH,GAAS02F,SACTxnF,EAAQ3B,IAAIkX,EAAWlsB,GAAIyH,GAInC,GAAI67K,GAAanlF,SACbh+F,KAAK6P,QAAQgF,IAAI,YAAasuK,GAGlC,GAAIxtK,EACAa,EAAQzG,WAAW08L,EAAU92L,EAAOlW,EAAQyrH,SAAUzrH,EAAQyqL,gBAG9D1zK,EAAQzG,WAAW,IAGvB,GAAI8F,EACAW,EAAQvG,YAAYw8L,EAAU52L,EAAQpW,EAAQsuI,UAAWtuI,EAAQ0jL,iBAGjE3sK,EAAQvG,YAAY,IAGxB,IAAKxQ,EAAQ2yB,QACT5b,EAAQf,YAAYi/L,GAAanxL,OAGrC,GAAI8pL,GAAalpG,GAAKkpG,GAClB72L,EAAQN,SAASiuF,GAAKkpG,KAI9Bt4G,UAAW,WACP,IAAIv+E,EAAUxW,KAAKwW,QACfG,EAAW3W,KAAKP,QAAQkX,SACxB2gM,EAAgBC,EAEpBv3M,KAAKq3M,oBAEL,GAAIr3M,KAAKwqL,YAAa,CAClB7zK,EAASoJ,IAAMpJ,EAASoJ,KAAO,EAC/BpJ,EAAS1B,KAAO0B,EAAS1B,MAAQ,EAEjCqiM,EAAiB3gM,EAASoJ,IAAIra,WAAWmH,QAAQ,KAAO,EACpDwC,SAASrP,KAAKwqL,YAAY30K,QAAUhC,WAAW8C,EAASoJ,KAAO,KAAM,IACrEpJ,EAASoJ,IAEbw3L,EAAkB5gM,EAAS1B,KAAKvP,WAAWmH,QAAQ,KAAO,EACtDwC,SAASrP,KAAKwqL,YAAY70K,OAAS9B,WAAW8C,EAAS1B,MAAQ,KAAM,IACrE0B,EAAS1B,KAEb0B,EAASoJ,IAAM0sL,EAAU6K,EAAgBt3M,KAAKs2M,OAAQt2M,KAAKw2M,QAC3D7/L,EAAS1B,KAAOw3L,EAAU8K,EAAiBv3M,KAAKu2M,QAASv2M,KAAKy2M,SAGlE,GAAI9/L,EAASoJ,KAAOpJ,EAASoJ,IAAIra,WAAWmH,QAAQ,MAAQ,EACxD8J,EAASoJ,IAAMzZ,OAAOqQ,EAASoJ,IAAI5f,QAAQ,KAAM,KAGrD,GAAIwW,EAAS1B,MAAQ0B,EAAS1B,KAAKvP,WAAWmH,QAAQ,MAAQ,EAC1D8J,EAAS1B,KAAO3O,OAAOqQ,EAAS1B,KAAK9U,QAAQ,KAAM,KAGvD,GAAIwW,EAASoJ,MAAQ,EACjBpJ,EAASoJ,IAAMpJ,EAASoJ,IAAIra,WAGhC,GAAIiR,EAAS1B,OAAS,EAClB0B,EAAS1B,KAAO0B,EAAS1B,KAAKvP,WAGlC8Q,EAAQ3B,IAAI,CACRkL,IAAKpJ,EAASoJ,KAAO,GACrB9K,KAAM0B,EAAS1B,MAAQ,MAI/BoiM,kBAAmB,WACf,IAAI7sB,EAAcxqL,KAAKwqL,YAEvB,IAAKA,EACD,OAAO,KAGXA,EAAY70K,MAAQ60K,EAAY9uK,aAChC8uK,EAAY30K,OAAS20K,EAAY3uK,cAEjC,GAAIxM,SAASm7K,EAAY70K,MAAO,IAAM60K,EAAY,GAAGhxK,YACjDgxK,EAAY70K,OAASrY,EAAMW,QAAQ4b,YAGvC,GAAIxK,SAASm7K,EAAY30K,OAAQ,IAAM20K,EAAY,GAAG1qK,aAClD0qK,EAAY30K,QAAUvY,EAAMW,QAAQ4b,YAGxC2wK,EAAY7zK,SAAWk/L,GAAYrrB,EAAY,IAE/C,GAAIxqL,KAAKo3M,UAAW,CAChBp3M,KAAKs2M,OAASt2M,KAAKu2M,SAAWv4G,SAC9Bh+F,KAAKw2M,OAASx2M,KAAKy2M,QAAUz4G,aAC1B,CACHh+F,KAAKs2M,OAAS9rB,EAAY75J,YAC1B3wB,KAAKu2M,QAAU/rB,EAAY1xK,aAC3B9Y,KAAKy2M,QAAUz2M,KAAKu2M,QAAU/rB,EAAY70K,MAAQ5F,EAAW/P,KAAKwW,QAAS,MAC3ExW,KAAKw2M,OAASx2M,KAAKs2M,OAAS9rB,EAAY30K,OAAS5F,EAAYjQ,KAAKwW,QAAS,QAInF25L,kBAAmB,SAAS3zM,GACxB,IAAI2sG,EAAYnpG,KAAKP,QAAQ0pG,UAC7B,IAAIunG,EAAiB,CACjBtnG,KAAM,CAAEpmF,QAAS,IACjBi3B,MAAO,CAAE12B,KAAM,KAAMP,QAAS,KAGlC,OAAOmmF,GAAaA,EAAU3sG,IAAOk0M,EAAel0M,IAGxDsvB,QAAS,WACLxuB,EAAMopB,OAAO1mB,KAAK6P,QAAQwxC,aAG9B8oJ,WAAY,WACR,IAAIxwF,EAAY35G,KAAKP,QAAQk6G,UAC7B,IAAInjG,EAAUxW,KAAKwW,QAEnB,GAAIxW,KAAKk2F,SAAU,CACf1/E,EACK6c,IAAI,WAAayrD,GACjBz9B,SAASizJ,GAAsBvjL,SAEpC/wB,KAAKk2F,SAASjqE,UACdjsB,KAAKk2F,SAAW,KAGpB,GAAIyjB,EAAW,CACXnjG,EAAQ4P,GAAG,WAAa04D,EAAIq1H,EAAiB,SAAU7xM,GACnD,IAAKpF,EAAEoF,EAAE3C,QAAQ4a,QAAQ,oBAAoBza,OACzCE,KAAKw3M,sBAEVj2M,KAAKvB,OAERvC,EAAK,sBAAsBoF,MAAM,KAAM,SAASsM,EAAOrN,GACnD0U,EAAQuqD,OAAOuhC,EAAUm1G,aAAa31M,MAG1C9B,KAAKk2F,SAAW,IAAIwhH,GAAe13M,MAGvCwW,EAAU,MAGdk4J,WAAY,WACR,IAAIziF,EAAYjsF,KAAKP,QAAQwsF,UAE7B,GAAIjsF,KAAK23M,SAAU,CACf33M,KAAK23M,SAAS1rL,UACdjsB,KAAK23M,SAAW,KAEpB,GAAI1rH,EACAjsF,KAAK23M,SAAW,IAAIC,GAAe53M,KAAMisF,EAAUklE,YAAcgjD,IAIzE0D,SAAU,WACN,IAAIp4M,EAAUO,KAAKP,QACnB,IAAI6tM,EAAU7tM,EAAQ6tM,QACtB,IAAIz+F,EAASpvG,EAAQovG,OACrB,IAAIs/F,EAAWnuM,KAAKwW,QAAQ6qC,SAAS8yJ,GACrC,IAAI7jL,EAAY69K,EAASp+K,KAAK,qBAC9B,IAAI+nL,EAAyB,CAAE,WAAY,YAE3CxK,EAAUpwM,EAAEgU,IAAIo8L,EAAS,SAASvoK,GAC9BA,EAAS8pE,GAAU9pE,EAAOz4B,gBAAkB,MAAQ,QAAUy4B,EAC9D,MAAO,CAAEtoC,KAAOq7M,EAAuBjrM,QAAQk4B,EAAOz4B,gBAAmB,EAAK,UAAYy4B,EAASA,KAGvGzU,EAAUpsB,KAAK5G,EAAMyG,OAAOu+F,EAAUv9D,OAAQuoK,KAGlDhiL,WAAY,SAAS7rB,GACjB,IAAIc,EAAOP,KACX,IAAIqtM,EAAY9sM,EAAKd,QAAQuS,KAC7B,IAAI+lM,EAAM/3M,KAAKwqL,cAAgBjqL,EAAK62M,UAAYp3M,KAAKwqL,YAActtL,EAAEsS,UAErE,IAAIwoM,EAAgBh6M,KAAK0+C,MAAM1+C,KAAKyJ,UAAUhI,IAC9CjC,EAAOiC,EAAQkX,SAAUpW,EAAKd,QAAQkX,UACtCnZ,EAAOiC,EAAQkX,SAAUqhM,EAAcrhM,UAEvCpW,EAAK03M,oBAAsBF,EAAIpnL,YAC/BpwB,EAAK23M,qBAAuBH,EAAIj/L,aAEhCgO,EAAOnmB,GAAG2qB,WAAW9oB,KAAKjC,EAAMd,GAChC,IAAI6pK,EAAa/oK,EAAKd,QAAQ6pK,aAAe,MAE7C/oK,EAAKmxE,UAEL,UAAWjyE,EAAQ6rC,QAAU,YACzB/qC,EAAK+qC,MAAM7rC,EAAQ6rC,OAGvB/qC,EAAKiW,QAAQf,YAAY0uF,GAAKkpG,IAC9B9sM,EAAK2sM,cAEL3sM,EAAKw0F,YACLx0F,EAAK4pM,aACL5pM,EAAKmuK,aACLnuK,EAAKs3M,WACL,UAAWp4M,EAAQoqG,QAAU,YAAa,CACtC,IAAIz3E,EAAU7xB,EAAKd,QAAQ2yB,UAAY,MACvC7xB,EAAKktM,2BACLltM,EAAKmtM,SAASjuM,EAAQoqG,OAASz3E,GAGnC7xB,EAAKsP,QAAQgF,IAAIu5D,EAAUk7F,EAAa,GAAK,WAGjDtnK,OAAO,CACH6lG,EACAG,EACAD,EACAD,EAlgBO,WACA,WAogBP8sG,EACAI,EACAD,EApgBK,SAsgBLpgH,EACArN,EACAE,EAngBW,eAqgBX1nC,GAGJrgD,QAAS,CACLhD,KAAM,SACN0sG,UAAW,CACPC,KAAM,CACFpmF,QAAS,CAAE8pD,KAAM,CAAEx1B,UAAW,MAAQ6gK,KAAM,CAAE7gK,UAAW,OACzDl0B,SAAU,KAEd62B,MAAO,CACHj3B,QAAS,CAAE8pD,KAAM,CAAEx1B,UAAW,MAAOl/B,WAAY,CAAEg0D,MAAO,KAAS+rI,KAAM,CAAE7gK,UAAW,QACtFl0B,SAAU,IACVG,KAAM,OAGd+nB,MAAO,GACPgiK,QAAS,CAAC,SACV8K,UAAW,KACXvuG,MAAO,MACP73F,KAAM,OACN2nG,UAAW,KACX1tB,UAAW,KACXi/B,SAAU,GACV6iB,UAAW,GACXm8C,SAAUlsF,SACVmlF,UAAWnlF,SACX6Q,OAAQ,MACRy6D,WAAY,KACZ3yJ,SAAU,GACVkkC,QAAS,KACTzoB,QAAS,KACTvc,OAAQ,KACRF,MAAO,KACPuvB,SAAU,OACVmzK,YAAa,MACbC,YAAa,OAGjB9K,UAAW,WACP,OAAOtwM,EAAEmyB,QAAQ,QAASnyB,EAAEgU,IAAIlR,KAAKP,QAAQ6tM,QAAS,SAASrvK,GAAK,OAAOA,EAAE3xB,kBAAsB,GAGvGuqM,gBAAiB,SAASv0M,GACtB,IAAI/B,EAAOP,KACPunB,EAAOjqB,EAAMiqB,KACb6Z,EAAU9+B,EAAE8+B,QAEhB,GAAIA,GAAW7Z,EAAKM,KAAOtnB,EAAKitM,YAAa,CACzClrM,EAAEgyB,kBACF/zB,EAAKs7I,OAAO,SAIpBr6C,SAAU,SAASl/F,GACf,IAAI/B,EAAOP,KACPP,EAAUc,EAAKd,QACf8nB,EAAOjqB,EAAMiqB,KACb6Z,EAAU9+B,EAAE8+B,QACZ5qB,EAAUjW,EAAKiW,QACfvC,EAAQ0zF,EACRv2D,EAAW,GACXinK,EAAc54M,EAAQ44M,YACtBC,EAAc74M,EAAQ64M,YACtBC,EAAUC,EAAWC,EAAG1vD,EAE5B,GAAI3nH,GAAW7Z,EAAKM,KAAOtnB,EAAKitM,YAAa,CACzClrM,EAAEgyB,kBACF/zB,EAAKs7I,OAAO,OAGhB,GAAIv5I,EAAE3C,QAAU2C,EAAEivC,eAAiBhxC,EAAK0pG,SACpC,OAIJ,GAAI3nG,EAAEo5G,QAAUt6E,GAAW,GACvB7gC,EAAKuZ,UAIT,GAAIxX,EAAEo5G,QAAUt6E,GAAW,GACvB,GAAG7gC,EAAKd,QAAQovG,OACZtuG,EAAKm4M,aAELn4M,EAAKowG,MAKb,GAAGruG,EAAEo5G,QAAUt6E,GAAW7Z,EAAKQ,IAC3B,GAAIuwL,EAAa,CACb/3M,EAAKmxE,UACLnxE,EAAKiW,QAAQnU,QAAQ,cAClB,IAAKg2M,EAAa,CACrB93M,EAAKo4M,WACLp4M,EAAKiW,QAAQnU,QAAQ,eAEtB,GAAIC,EAAEo5G,QAAUt6E,GAAW7Z,EAAKU,KACnC,IAAKqwL,IAAgBD,EAAa,CAC9B93M,EAAKq4M,WACLr4M,EAAKiW,QAAQnU,QAAQ,cAClB,GAAIg2M,EAAa,CACpB93M,EAAKmxE,UACLnxE,EAAKiW,QAAQnU,QAAQ,SAI7B4R,EAAS3W,EAAM2kB,UAAUzL,GAEzB,GAAIjW,EAAKiqL,cAAgBjqL,EAAK62M,UAC1BnjM,EAAS1T,EAAKd,QAAQkX,SAG1B,GAAIlX,EAAQwsF,YAAc3pF,EAAE8wF,UAAY9wF,EAAEo5G,SAAW28F,EAAa,CAC9D93M,EAAK82M,oBACL,GAAIj2K,GAAW7Z,EAAKQ,GAAI,CACpB9T,EAAO8L,IAAM0sL,EAAUx4L,EAAO8L,IAAMqxB,EAAU7wC,EAAK+1M,OAAQ/1M,EAAKi2M,QAChE7uG,EAAUnxF,EAAQ3B,IAAI,MAAOZ,EAAO8L,UACjC,GAAIqhB,GAAW7Z,EAAKU,KAAM,CAC7BhU,EAAO8L,IAAM0sL,EAAUx4L,EAAO8L,IAAMqxB,EAAU7wC,EAAK+1M,OAAQ/1M,EAAKi2M,QAChE7uG,EAAUnxF,EAAQ3B,IAAI,MAAOZ,EAAO8L,UACjC,GAAIqhB,GAAW7Z,EAAKO,KAAM,CAC7B7T,EAAOgB,KAAOw3L,EAAUx4L,EAAOgB,KAAOm8B,EAAU7wC,EAAKg2M,QAASh2M,EAAKk2M,SACnE9uG,EAAUnxF,EAAQ3B,IAAI,OAAQZ,EAAOgB,WAClC,GAAImsB,GAAW7Z,EAAKS,MAAO,CAC9B/T,EAAOgB,KAAOw3L,EAAUx4L,EAAOgB,KAAOm8B,EAAU7wC,EAAKg2M,QAASh2M,EAAKk2M,SACnE9uG,EAAUnxF,EAAQ3B,IAAI,OAAQZ,EAAOgB,OAI7C,GAAIxV,EAAQk6G,WAAar3G,EAAE8wF,UAAYilH,IAAgBC,EAAa,CAChE,GAAIl3K,GAAW7Z,EAAKQ,GAAI,CACpB4/E,EAAU,KACV6wG,EAAYhiM,EAAQvG,cAAgBmhC,OACjC,GAAIhQ,GAAW7Z,EAAKU,KAAM,CAC7B0/E,EAAU,KACV,GAAIpnG,EAAKiqL,cAAgBjqL,EAAK62M,UAC1BoB,EAAY16M,KAAKiR,IAAIyH,EAAQvG,cAAgBmhC,EACzC7wC,EAAKiqL,YAAY30K,OAAS5B,EAAO8L,IAAM21L,EAAMl/L,EAAS,eACtDk/L,EAAMl/L,EAAS,qBAAuBk/L,EAAMl/L,EAAS,wBAEzDgiM,EAAYhiM,EAAQvG,cAAgBmhC,EAE1C,GAAIhQ,GAAW7Z,EAAKO,KAAM,CACxB6/E,EAAU,KACV4wG,EAAW/hM,EAAQzG,aAAeqhC,OAC/B,GAAIhQ,GAAW7Z,EAAKS,MAAO,CAC9B2/E,EAAU,KACV,GAAIpnG,EAAKiqL,cAAgBjqL,EAAK62M,UAC1BmB,EAAWz6M,KAAKiR,IAAIyH,EAAQzG,aAAeqhC,EACvB7wC,EAAKiqL,YAAY70K,MAAQ1B,EAAOgB,KAChCygM,EAAMl/L,EAAS,mBAAqBk/L,EAAMl/L,EAAS,0BAEvE+hM,EAAW/hM,EAAQzG,aAAeqhC,EAI1C,GAAIu2D,EAAS,CACT8wG,EAAIhM,EAAU8L,EAAU94M,EAAQyrH,SAAUzrH,EAAQyqL,UAClDnhC,EAAI0jD,EAAU+L,EAAW/4M,EAAQsuI,UAAWtuI,EAAQ0jL,WAEpD,IAAKrvK,MAAM2kM,GAAI,CACXjiM,EAAQzG,WAAW0oM,GACnBl4M,EAAKd,QAAQkW,MAAQ8iM,EAAI,KAE7B,IAAK3kM,MAAMi1I,GAAI,CACXvyI,EAAQvG,YAAY84I,GACpBxoJ,EAAKd,QAAQoW,OAASkzI,EAAI,KAG9BxoJ,EAAKmmB,UAIb,GAAIihF,EACArlG,EAAEpB,kBAIVwsM,SAAU,SAAUt7K,GAChB,IAAIi8K,EAAUruM,KAAKwqL,YAAcxqL,KAAKwqL,YAAYnpI,SAAS4qJ,GAAYjsM,KAAKklC,SAASmc,SAAS4qJ,GAC1Fz1L,EAAUxW,KAAKwW,QACfE,EAAU0b,EAAU,QAAU,OAC9B+jD,EAAS9mE,SAASmH,EAAQ3B,IAAImlK,GAAS,IAAM,EAEjD,IAAKq0B,EAAQvuM,OACTuuM,EAAUnxM,EAAE,6BAGhBmxM,EACKzmI,aAAapxD,EAAQ,IACrB3B,IAAI,CACDshE,OAAQA,EACRz/D,QAASA,IAGjB,GAAI1W,KAAKP,QAAQoqG,MAAM2kG,gBAAkBxuM,KAAKwqL,YAC1CxqL,KAAKyuM,yBAGT,OAAOJ,GAGXwK,eAAgB,SAAS96G,GACrB,IAAIkC,EAAY,iBAAiB5zF,KAAK0xF,EAAK,GAAGnlF,WAAW,GACzD,MAAO,CACHkgM,YAAa,SACbC,sBAAuB,WACvBC,sBAAuB,WACvBC,qBAAsB,UACtBC,cAAe,UACfC,UAAW,MACXC,YAAa,SACfn5G,IAGN22G,qBAAsB,SAAUt0M,GAC5B,GAAItC,KAAKiqG,SACL,OAEJ,IAAIlM,EAAO7gG,EAAEoF,EAAE3C,QAAQ4a,QAAQ,oBAAoBwV,KAAK,WACxD,IAAIgV,EAAS/kC,KAAK64M,eAAe96G,GAEjC,GAAIh5D,EAAQ,CACRziC,EAAEpB,iBACFlB,KAAK+kC,KACL,OAAO,QAIfsrK,QAAS,WACL,IAAI9vM,EAAOP,KACPq5M,EAAiBn8M,EAAEkuM,EAAU7iG,GAC7BuuG,EACArF,EAAS,GAEb,IAAK,IAAI5xM,EAAI,EAAGA,EAAIw5M,EAAev5M,OAAQD,GAAK,EAAG,CAC/Ci3M,EAAiBv2M,EAAKoxM,QAAQz0M,EAAEm8M,EAAex5M,KAE/C,GAAIi3M,GACAA,EAAer3M,SACfq3M,EAAer3M,QAAQoqG,OACvBitG,EAAer3M,QAAQ2yB,SACvB0kL,EAAer3M,QAAQylC,WAAa3kC,EAAKd,QAAQylC,YAC/C4xK,EAAetsB,aAAgBjqL,EAAKiqL,aAAessB,EAAetsB,YAAY,KAAOjqL,EAAKiqL,YAAY,IACpGinB,EAAOvvM,KAAK40M,EAAetgM,QAAQ,IAI/Ci7L,EAAO3wL,KAAK,SAASla,EAAGma,GACpB,OAAOna,EAAEgP,MAAMugE,OAASp1D,EAAEnL,MAAMugE,SAGpC51E,EAAO,KAEP,OAAOrD,EAAEu0M,IAGbE,QAAS,SAAS9hM,GACd,IAAIgrC,EAAUhrC,EAAQwxC,SAAS+yJ,GAC/B,IAAIrnL,EAASzvB,EAAM8yB,eAAeyqB,GAElC,GAAI9tB,EACA,OAAOA,EAGX,OAAO1vB,GAGX8zC,OAAQ,WACJ,IAAI5wC,EAAOP,KACP2W,EAAWpW,EAAKd,QAAQkX,SACxBH,EAAUjW,EAAKiW,QACf66L,EAAiBn0M,EAAEE,QACnBuzB,EAAY,EACZ7X,EAAa,EACby4L,EAAQD,EAEZ,GAAI/wM,EAAKd,QAAQ44M,YACb,OAAO93M,EAGX,GAAGA,EAAKd,QAAQovG,SAAWtuG,EAAK62M,UAC5B72M,EAAKowG,MAGT,IAAKpwG,EAAKd,QAAQovG,OAAQ,CACtBl+E,EAAY0gL,EAAe1gL,YAC3B7X,EAAau4L,EAAev4L,aAGhC,GAAI9Y,KAAKwqL,cAAgBjqL,EAAKd,QAAQovG,OAAQ,CAC1C0iG,EAASvxM,KAAKs2M,QAAUt2M,KAAKw2M,OAASx2M,KAAKs2M,QAAU,EACrDhF,EAAUtxM,KAAKu2M,SAAWv2M,KAAKy2M,QAAUz2M,KAAKu2M,SAAW,MACtD,CACHh2M,EAAK+4M,kBAAoB,KACzBhI,EAAUx4L,EAAahb,KAAKoP,IAAI,GAAImkM,EAAe17L,QAAUa,EAAQzG,cAAgB,GACrFwhM,EAAS5gL,EAAY7yB,KAAKoP,IAAI,GAAImkM,EAAex7L,SAAWW,EAAQvG,cAAgBylM,EAAMl/L,EAAS,eAAiB,GAGxHA,EAAQ3B,IAAI,CACRI,KAAMq8L,EACNvxL,IAAKwxL,IAGT56L,EAASoJ,IAAMwxL,EACf56L,EAAS1B,KAAOq8L,EAEhB,OAAO/wM,GAGX+qC,MAAO,SAAUA,GACb,IAAI/qC,EAAOP,KACPsH,EACA+7F,EAAU,KACV7sF,EAAUjW,EAAKiW,QACf+iM,EAAW/iM,EAAQ6qC,SAAS8yJ,GAC5BqF,EAAeD,EAASl4J,SAAS6yJ,GAErC,IAAKt0M,UAAUE,OACX,OAAO05M,EAAat1M,OAGxB,GAAIhH,EAAE+C,cAAcqrC,GAAQ,CACxBhkC,SAAegkC,EAAMlL,OAAS,YAAckL,EAAMlL,KAAQ,GAC1DijE,EAAU/3D,EAAM+3D,UAAY,WAE5B/7F,EAAQgkC,EAGZ,GAAIhkC,IAAU,MAAO,CACjBkP,EAAQN,SAAS,sBACjBM,EAAQ3B,IAAI,cAAe,GAC3B0kM,EAASxoL,cAET,IAAKwoL,EAASz5M,OAAQ,CAClB0W,EAAQs7E,QAAQwQ,EAAU6rG,SAAS,CAC/B7iK,MAAO+3D,EAAU/lG,EAAM8nB,WAAW9d,GAASA,KAE/C/G,EAAKs3M,WACL0B,EAAW/iM,EAAQ6qC,SAAS8yJ,QAE5BqF,EAAat1M,KAAKm/F,EAAU/lG,EAAM8nB,WAAW9d,GAASA,GAI9D/G,EAAKd,QAAQ6rC,MAAQhkC,EAErB,OAAO/G,GAGXs6C,QAAS,SAAU32C,EAAMD,GACrB,IAAI42C,EAAU76C,KAAKwW,QAAQ6qC,SAAS+yJ,GAChClc,EAAkBr9I,EAAQwG,SAAS,wBAEvCxG,EAAUq9I,EAAgB,GAAKA,EAAkBr9I,EAEjD,IAAKo2G,GAAQ/sJ,GACT,OAAO22C,EAAQ32C,OAGnBlE,KAAK0qB,QAAQ,UAAW,WACpB,MAAO,CAAE0D,SAAUysB,EAAQwG,cAG/B/jD,EAAM2uB,QAAQjsB,KAAK6P,QAAQwxC,YAE3BxG,EAAQ8G,QAAQz9C,KAAKA,GAErBlE,KAAK0qB,QAAQ,UAAW,WACpB,IAAI9jB,EAAI,GACR,IAAK,IAAI/G,EAAIg7C,EAAQ/6C,SAAUD,GAAK,GAChC+G,EAAE1E,KAAK,CAAEosB,SAAUrqB,IAEvB,MAAO,CACHmqB,SAAUysB,EAAQwG,WAClBp9C,KAAM2C,KAId,OAAO5G,MAGXopG,KAAM,WACF,IAAI7oG,EAAOP,KACPwW,EAAUjW,EAAKiW,QACf/W,EAAUc,EAAKd,QACfywM,EAAclwM,KAAKmwM,kBAAkB,QACrC7zH,EAAiB9lE,EAAQ6qC,SAAS+yJ,GAClC/F,EAAS+B,EACTqJ,EAAqBz5M,KAAKwqL,cAAgBjqL,EAAK62M,UAC/CW,EAAM0B,EAAqBz5M,KAAKwqL,YAActtL,EAAEsS,UAEpD,IAAKjP,EAAK8B,QAAQwlG,GAAO,CACrB,GAAItnG,EAAK0pG,SACLzzF,EAAQ8N,UAAU,KAAM,MAG5B/jB,EAAK0pG,SAAW,MAEhB1pG,EAAKwvM,UAEL,GAAItwM,EAAQ24M,UACR73M,EAAKiW,QAAQnU,QAAQ,SAGzB5C,EAAQ2yB,QAAU,KAElB,GAAI3yB,EAAQoqG,MAAO,CACfumG,IAAuB7vM,EAAK8vM,UAAUvwM,OACtCuuM,EAAU9tM,EAAKmtM,SAAS0C,GAExB/B,EAAQ/pL,UAAU,KAAM,MAExB,GAAI4rL,EAAY9sL,UAAY9lB,EAAM0lB,QAAQstL,OAASF,EAAoB,CACnE,IAAIG,EAAYjzM,EAAM2lB,GAAGorL,GAASmC,SAClCD,EAAUntL,SAAS8sL,EAAY9sL,UAAY,GAC3CmtL,EAAU97H,SAAS,IACnB87H,EAAUl9H,YAEVg7H,EAAQx5L,IAAI,UAAW,IAG3Bw5L,EAAQ57H,OAERv1E,EAAEE,QAAQgpB,GAAG,QAAU6tL,EAAU,WAC7B,GAAIz9L,EAAQvS,KAAK,aAAe/G,EAAEsS,SAASC,eAAe8K,QAAQ/D,GAAS1W,OACxES,EAAKiW,QAAQnU,QAAQ,WAKhC,IAAKmU,EAAQP,GAAGsyF,GAAU,CACtBjsB,EAAeznE,IAAIu5D,EAAUH,GAE7B1tE,EAAKiW,QAAQuZ,KAAKulL,IAAkBp/L,SAAS,iBAE7CM,EAAQN,SAASw+L,GAAapwL,YAAYI,aAAa,CACnD1B,QAASktL,EAAYltL,QACrBI,SAAU8sL,EAAY9sL,SACtBC,SAAUrjB,KAAK05M,UAAUn4M,KAAKvB,SAK1C,GAAIP,EAAQ44M,YAAa,CACrB93M,EAAK03M,oBAAsBF,EAAIpnL,YAC/BpwB,EAAK23M,qBAAuBH,EAAIj/L,aAChCvY,EAAKkuM,yBAGT,GAAGzuM,KAAKP,QAAQovG,SAAW7uG,KAAKo3M,UAC5Bp3M,KAAK2wG,MAGT,OAAOpwG,GAGXm5M,UAAW,WACP,IAAIpwC,EAAatpK,KAAKP,QAAQ6pK,aAAe,MAE7C,GAAItpK,KAAKP,QAAQ24M,UACbp4M,KAAKwW,QAAQnU,QAAQ,SAGzBrC,KAAK6P,QAAQgF,IAAIu5D,EAAUk7F,EAAa,GAAK,UAC7ChsK,EAAMopB,OAAO1mB,KAAK6P,QAAQwxC,YAE1BrhD,KAAKqC,QAAQ2lG,IAGjBkpG,eAAgB,SAASyI,GACrB,IAAIlI,EAASzxM,KAAKqwM,UAClB,IAAI5wM,EAAUO,KAAKP,QACnB,IAAIiyM,EAAcjyM,EAAQoqG,QAAU4nG,EAAO3xM,OAC3C,IAAImxM,EAAejxM,KAAKmwM,kBAAkB,SAE1C,GAAIuB,EAAa,CACb,IAAKiI,GAAqB1I,EAAY7tL,UAAY9lB,EAAM0lB,QAAQstL,KAAM,CAClE,IAAIC,EAAYjzM,EAAM2lB,GAAGxjB,EAAQoqG,MAAQ7pG,KAAK0tM,SAAS,MAAQxwM,EAAEG,IAAY+1J,UAC7Em9C,EAAUntL,SAAS6tL,EAAY7tL,UAAY,GAC3CmtL,EAAUh8H,WAAW,IACrBg8H,EAAUl9H,YAEVrzE,KAAK0tM,SAAS,OAAO38K,SAEzB,GAAItxB,EAAQoqG,MAAM2kG,cACdxuM,KAAKytM,gCAEN,GAAIgE,EAAO3xM,OAAQ,CACtBE,KAAK2xM,QAAQF,EAAOx3K,QAAQyzK,SAAS,MAErC,GAAIjuM,EAAQoqG,MAAM2kG,cACdxuM,KAAKyuM,2BAKjB5yD,OAAQ,SAASk1D,GACb,IAAIxwM,EAAOP,KACPwW,EAAUjW,EAAKiW,QACf/W,EAAUc,EAAKd,QACfywM,EAAclwM,KAAKmwM,kBAAkB,QACrCc,EAAejxM,KAAKmwM,kBAAkB,SACtCsJ,EAAqBz5M,KAAKwqL,cAAgBjqL,EAAK62M,UAC/CW,EAAM0B,EAAqBz5M,KAAKwqL,YAActtL,EAAEsS,UAChDoqM,EAEJ,GAAIr5M,EAAK0pG,SACL,OAGJ2vG,EAAmBr5M,EAAK8B,QAAQylG,EAAO,CAAE4kB,eAAgBqkF,IACzDxwM,EAAK0pG,UAAY2vG,EAEjB,GAAIpjM,EAAQP,GAAGsyF,KAAaqxG,EAAkB,CAC1Cn6M,EAAQ2yB,QAAU,MAElBl1B,EAAEkuM,GAAS3tM,KAAK,SAASoC,EAAGgQ,GACxB,IAAIysE,EAAiBp/E,EAAE2S,GAASwxC,SAAS+yJ,GAGzC,GAAIvkM,GAAW2G,GAAW8lE,EAAevsD,KAAK,MAAQgiF,GAAejyG,OAAS,EAC1Ew8E,EAAej7B,SAAS4qJ,GAAUl7K,WAI1C/wB,KAAKkxM,iBAGL3wM,EAAKiW,QAAQuZ,KAAKulL,IAAkB7/L,YAAY,iBAEhDe,EAAQ8N,YAAYI,aAAa,CAC7B1B,QAASiuL,EAAYjuL,SAAWktL,EAAYltL,QAC5CnU,QAASoiM,EAAYpiM,UAAY,KACjCuU,SAAU6tL,EAAY7tL,SACtBC,SAAUrjB,KAAK65M,YAAYt4M,KAAKvB,QAEpC9C,EAAEE,QAAQi2B,IAAI4gL,GAGlB,GAAI1zM,EAAKd,QAAQ44M,YAAa,CAC1B93M,EAAKktM,2BACL,GAAIltM,EAAK03M,qBAAuB13M,EAAK03M,oBAAsB,EACvDF,EAAIpnL,UAAUpwB,EAAK03M,qBAEvB,GAAI13M,EAAK23M,sBAAwB33M,EAAK23M,qBAAuB,EACzDH,EAAIj/L,WAAWvY,EAAK23M,sBAI5B,GAAI33M,EAAKd,QAAQw1G,OACb10G,EAAKiW,QAAQnU,QAAQ,SAI7Bw3M,YAAa,WACT,IAAIt5M,EAAOP,KAEXO,EAAKiW,QACAf,YAAYi/L,GACZnxL,OACA1O,IAAI,UAAW,IAEpBtU,EAAK8B,QAAQ0lG,GAEb,GAAIxnG,EAAKd,QAAQoqG,MAAO,CACpB,IAAI4oG,EAAYlyM,EAAKoxM,QAAQpxM,EAAK8vM,UAAUp2K,QAC5C,GAAIw4K,EACAA,EAAU1C,YAKtB91J,MAAO,WACHj6C,KAAK67I,OAAO,MACZ,OAAO77I,MAGX85M,YAAa,SAASjqM,GAClB,OAAO3S,EAAE2S,GAASoG,GAAGq/L,GAAmB,IAAMA,GAAmB,8DAGrEyE,aAAc,SAASp6M,GACnB,IAAIs9H,EAASxtH,IACTI,EAAU7P,KAAKwW,QAEnB,OAAOxW,KAAKP,QAAQ24M,YACfl7M,EAAE+/H,GAAQhnH,GAAGpG,KACb7P,KAAK85M,YAAYn6M,MAChBkQ,EAAQkgB,KAAKktG,GAAQn9H,SAAW+P,EAAQkgB,KAAKpwB,GAAQG,SAG/DiwM,QAAS,SAAUztM,EAAG03M,GAClB,IAAIz5M,EAAOP,KACPwW,EAAUjW,EAAKiW,QACfyjM,EAAgBzjM,EAAQ,GACxBijM,EAAqBl5M,EAAKiqL,cAAgBjqL,EAAK62M,UAC/C8C,EAAgBl6M,KAAKmwM,kBAAkB,QACvCh6H,GAAU3/D,EAAQ3B,IAAImlK,GACtB42B,EAAiBz6H,EACjBx2E,EAAU2C,GAAKA,EAAE3C,QAAW,KAEhCzC,EAAEkuM,GAAS3tM,KAAK,SAASoC,EAAGgQ,GACxB,IAAIghM,EAAe3zM,EAAE2S,GACjBihM,EAAYD,EAAah8L,IAAImlK,GAC7B19F,EAAiBu0H,EAAaxvJ,SAAS+yJ,GAE3C,IAAKtgM,MAAMg9L,GACP36H,EAASr4E,KAAKoP,KAAK4jM,EAAW36H,GAGlC3/D,EAAQvS,KAAK,UAAW4L,GAAWoqM,GAInC,GAAIpqM,GAAWoqM,GACX39H,EAAevsD,KAAK,IAAMgiF,GAAejyG,SACxCw8E,EAAevsD,KAAKk8K,GAAUnsM,OAC/Bw8E,EAAevb,OAAOuhC,EAAU+rG,WAIxC,IAAK73L,EAAQ,GAAGZ,MAAMugE,QAAUy6H,EAAiBz6H,EAC7C3/D,EAAQ3B,IAAImlK,EAAQ7jG,EAAS,GAEjC51E,EAAKsP,QAAQkgB,KAAK,gBAAgBgB,SAElC,GAAIxwB,EAAKw5M,aAAap6M,GAAS,CAC3B,IAAIq6M,EACA7mL,WAAW,WACP5yB,EAAKiW,QAAQ6oB,SACd66K,EAAgBA,EAAc92L,SAAW,GAGhD,IAAIuN,EAAY8oL,EAAqBl5M,EAAKiqL,YAAY75J,YAAczzB,EAAEE,QAAQuzB,YAC1EwpL,EAAY9qM,SAASmH,EAAQG,WAAWoJ,IAAK,IAEjD,IAAKxf,EAAKd,QAAQovG,QAAUsrG,EAAY,GAAKA,EAAYxpL,EACrD,GAAIA,EAAY,EACZzzB,EAAEE,QAAQuzB,UAAUwpL,QAEpB3jM,EAAQ3B,IAAI,MAAO8b,GAK/Bna,EAAU,KAEV,OAAOjW,GAGXi3M,mBAAoB,WAChB,GAAIx3M,KAAKiqG,SACL,OAAOjqG,KAGX,OAAOA,KAAKA,KAAKP,QAAQ44M,YAAc,UAAY,eAGvD3mI,QAAS,WACL,IAAInxE,EAAOP,KACX,IAAIP,EAAUc,EAAKd,QACnB,IAAIsuI,EAAYtuI,EAAQsuI,UACxB,IAAIqsE,EAAiB75M,EAAK65M,eAC1B,IAAIC,EACJ,IAAI/pL,EAAY/vB,EAAKiqL,cAAgBjqL,EAAK62M,UAAY72M,EAAKiqL,YAActtL,EAAEsS,UAE3E,IAAK/P,EAAQ44M,cAAgB54M,EAAQ64M,YACjC,OAAO/3M,EAGX,GAAIwtI,GAAaA,GAAa/vC,SAC1Bz9F,EAAKiW,QAAQ3B,IAAI,aAAck5H,GAGnC,GAAIqsE,IAAmB36M,EAAQ44M,YAAa,CACxC+B,EAAevkM,OAAS42L,EAAU2N,EAAevkM,OAAQtV,EAAKd,QAAQsuI,UAAWxtI,EAAKd,QAAQ0jL,WAE9Fk3B,EAAoB56M,EAAQkX,SAASoJ,IAAM1Q,SAAS+qM,EAAevkM,OAAQ,IAAMtV,EAAKi2M,OAEtF,GAAI6D,EAAmB,CACnB56M,EAAQkX,SAASoJ,IAAM0sL,EAAUhtM,EAAQkX,SAASoJ,IAAKxf,EAAK+1M,OAAQ/1M,EAAKi2M,OAASnnM,SAAS+qM,EAAevkM,OAAQ,KAElHrY,EAAO48M,EAAgB,CACnBnlM,KAAMxV,EAAQkX,SAAS1B,KACvB8K,IAAKtgB,EAAQkX,SAASoJ,OAKlCxf,EAAKiW,QACA3B,IAAI,CACD8B,SAAUlX,EAAQovG,OAAS,QAAU,WACrC55F,KAAMmlM,EAAenlM,KACrB8K,IAAKq6L,EAAer6L,IACpBpK,MAAOykM,EAAezkM,MACtBE,OAAQukM,EAAevkM,SAE1BJ,YAAYg/L,GACZ1kL,KAAK,sCAAsC0iD,OAAO7uE,MAClDmsB,KAAK,0CAA0Cxa,SAASwb,SAASntB,MAAMA,MACvEmsB,KAAKmlL,IAAmB3/L,SAASk9D,OAAO7uE,MAAMA,MAC9CmsB,KAAKslL,IAAW9/L,SAASk9D,OAE9B,GAAIhzE,EAAQ44M,YACR93M,EAAKiW,QAAQuZ,KAAK,wBAAwBxa,SAASlT,QAAQ,cACxD,GAAI5C,EAAQ64M,YACf/3M,EAAKiW,QAAQuZ,KAAK,wBAAwBxa,SAASlT,QAAQ,SAG/D9B,EAAKd,QAAQkW,MAAQykM,EAAezkM,MACpCpV,EAAKd,QAAQoW,OAASukM,EAAevkM,OAErC,IAAKtV,EAAKd,QAAQoqG,MAAM2kG,cACpBjuM,EAAKktM,2BAGT,GAAIltM,EAAK03M,qBAAuB13M,EAAK03M,oBAAsB,EACvD3nL,EAAUK,UAAUpwB,EAAK03M,qBAE7B,GAAI13M,EAAK23M,sBAAwB33M,EAAK23M,qBAAuB,EACzD5nL,EAAUxX,WAAWvY,EAAK23M,sBAG9Bz4M,EAAQ44M,YAAc54M,EAAQ64M,YAAc,MAE5C/3M,EAAKiW,QAAQ6U,WAAW,oBAExB9qB,EAAKmmB,SAELnmB,EAAK8B,QAAQ2yM,GAEb,OAAOz0M,GAGX+5M,cAAe,SAASC,EAAUp0L,GAC9B,IAAI5lB,EAAOP,KACPwW,EAAUjW,EAAKiW,QACfZ,EAAQY,EAAQ,GAAGZ,MACnBnW,EAAUc,EAAKd,QAEnB,GAAIA,EAAQ44M,aAAe54M,EAAQ64M,YAC/B,OAAO/3M,EAGXA,EAAK65M,eAAiB,CAClBzkM,MAAOC,EAAMD,MACbE,OAAQD,EAAMC,QAGlBW,EACK6qC,SAASizJ,GAAsB/wL,OAAO3f,MACtCy9C,SAAS8yJ,GAAiBpkL,KAAKmlL,IAAmB3/L,SAASgO,OAC3DuO,GAAG,GAAGylE,OAAO+K,EAAUv9D,OAAO,CAAEtoC,KAAM,oBAE3C0pB,EAAS3jB,KAAKjC,GAEdA,EAAKiW,QAAQ6qC,SAAS8yJ,GAAiBpkL,KAAKslL,IAAW9/L,SAASuP,OAAOy1L,IAAa,YAEpFh6M,EAAK8B,QAAQk4M,GAEb/jM,EAAQuZ,KAAK,uBAAuBxa,SAASlT,QAAQ,SAErD,OAAO9B,GAGXo4M,SAAU,WACN34M,KAAKs6M,cAAc,WAAY,WAC3B,IAAI/5M,EAAOP,KACPwW,EAAUjW,EAAKiW,QACfijM,EAAqBz5M,KAAKwqL,cAAgBjqL,EAAK62M,UAC/CzgM,EAAWH,EAAQG,WACnBohM,EAAM76M,EAAEsS,UAEZhS,EAAO+C,EAAK65M,eAAgB,CACxBnlM,KAAM0B,EAAS1B,MAAQwkM,EAAqBz5M,KAAKwqL,YAAY1xK,aAAe,GAC5EiH,IAAKpJ,EAASoJ,KAAO05L,EAAqBz5M,KAAKwqL,YAAY75J,YAAc,KAG7E3wB,KAAKi4M,oBAAsBwB,EAAqBz5M,KAAKwqL,YAAY75J,YAAconL,EAAIpnL,YACnF3wB,KAAKk4M,qBAAuBuB,EAAqBz5M,KAAKwqL,YAAY1xK,aAAei/L,EAAIj/L,aAErFvY,EAAKkuM,yBAELj4L,EACK3B,IAAI,CACDkL,IAAK05L,EAAqBz5M,KAAKwqL,YAAY75J,YAAc,EACzD1b,KAAMwkM,EAAqBz5M,KAAKwqL,YAAY1xK,aAAe,EAC3DnC,SAAU8iM,EAAqB,WAAa,UAE/CvjM,SAASu+L,GAEdl0M,EAAKd,QAAQ44M,YAAc,KAE3B93M,EAAKy2M,sBAGT,OAAOh3M,MAGXyuM,uBAAwB,WACpB,IAAIluM,EAAOP,KACX,IAAIwqL,EAAcjqL,EAAKiqL,YAEvB,GAAIA,IAAgBjqL,EAAK62M,UAAW,CAChC72M,EAAKsxM,mBAAmBrnB,GACxBA,EAAY31K,IAAIu5D,EAAUH,GAC1B1tE,EAAKiW,QAAQ3B,IAAI,CACbq1K,SAAUM,EAAY9uK,aACtBynK,UAAWqH,EAAY3uK,gBAE3B,OAGJ,IAAI+1L,EAAQ10M,EAAE,QACdqD,EAAKsxM,mBAAmBD,GACxBA,EAAM/8L,IAAIu5D,EAAUH,GAEpB,IAAI6jI,EAAQ50M,EAAE,QACdqD,EAAKsxM,mBAAmBC,GACxBA,EAAMj9L,IAAIu5D,EAAUH,IAGxBw/H,yBAA0B,WACtB,IAAIltM,EAAOP,KACX,IAAIwqL,EAAcjqL,EAAKiqL,YAEvB,GAAIA,IAAgBjqL,EAAK62M,UAAW,CAChC72M,EAAK8xM,qBAAqB7nB,GAC1BjqL,EAAKiW,QAAQ3B,IAAI,CACbq1K,SAAUM,EAAY70K,MACtBwtK,UAAWqH,EAAY30K,SAE3B,OAGJtV,EAAK8xM,qBAAqBn1M,EAAEsS,SAAS2K,OACrC5Z,EAAK8xM,qBAAqBn1M,EAAE,UAGhC20M,mBAAoB,SAASS,GACzB,GAAGtyM,KAAKuyM,kBAAkBD,GACtB,OAGJ,IAAIE,EAAeF,EAAShpL,IAAI,GAAG1T,MAAMiD,SAEzC,UAAU25L,IAAiB,SACvBF,EAASruM,KAAKmoM,EAAqBoG,IAI3CD,kBAAmB,SAAUD,GACzB,cAAcA,EAASruM,KAAKmoM,KAAyB,UAGzDiG,qBAAsB,SAASC,GAC3B,IAAIE,EAAeF,EAASruM,KAAKmoM,GAEjC,GAAGoG,IAAiB,MAAQA,IAAiBn1M,EAAU,CACnDi1M,EAASz9L,IAAIu5D,EAAUokI,GACvBF,EAASpmL,WAAWkgL,QAEpBkG,EAASz9L,IAAIu5D,EAAU,KAI/BiqI,YAAa,WACT,OAAOr4M,KAAKP,QAAQ44M,aAGxBO,SAAU,WACN54M,KAAKs6M,cAAc,WAAY,WAC3B,IAAI/5M,EAAOP,KAEXO,EAAKiW,QAAQ3B,IAAI,CACbgB,OAAQ,GACRk4H,UAAW,KAGfxtI,EAAKsP,QAAQ0T,OAEbhjB,EAAKd,QAAQ64M,YAAc,OAG/Bt4M,KAAKwW,QAAQL,KAAK,mBAAoBnW,KAAK6P,QAAQsG,KAAK,qBAExDnW,KAAKq3M,oBAEL,OAAOr3M,MAGXs4M,YAAa,WACT,OAAOt4M,KAAKP,QAAQ64M,aAGxB3nG,IAAK,WACD,IAAIpwG,EAAOP,KACP4wG,EAAM1zG,EAAEE,QACRoZ,EAAUjW,EAAKiW,QACf/W,EAAUc,EAAKd,QACfkX,EAAWlX,EAAQkX,SACnBoJ,EAAM/f,KAAKwqL,YAAcqrB,GAAYr/L,EAAQ,IAAIuJ,IAAM21L,EAAM11M,KAAKwqL,YAAa,kBAAoBkrB,EAAMl/L,EAAS,OAClHvB,EAAOjV,KAAKwqL,YAAcqrB,GAAYr/L,EAAQ,IAAIvB,KAAOygM,EAAM11M,KAAKwqL,YAAa,mBAAqBkrB,EAAMl/L,EAAS,QAEzH,IAAKjW,EAAKd,QAAQ44M,YAAa,CAC3B1hM,EAASoJ,IAAMA,EACfpJ,EAAS1B,KAAOA,EAEhB,GAAI1U,EAAK+4M,qBAAuBt5M,KAAKwqL,aAAexqL,KAAKwqL,YAAY31K,IAAI,cAAgB,SAAU,CAE/F8B,EAASoJ,KAAO6wF,EAAIjgF,YACpBha,EAAS1B,MAAQ27F,EAAI93F,aACrBvY,EAAK+4M,kBAAoB,MAG7B9iM,EAAQ3B,IAAIrX,EAAOmZ,EAAU,CAACA,SAAU,WACxCH,EAAQ6qC,SAAS8yJ,GAAiBpkL,KAAKolL,IAAMj/L,SAAS,aAAaT,YAAY,WAE/ElV,EAAK62M,UAAY,KACjB72M,EAAKd,QAAQovG,OAAS,KAEtB,GAAI7uG,KAAKwqL,YAAa,CAClB/qL,EAAQyqL,SAAWzqL,EAAQ0jL,UAAYnlF,SACvCxnF,EAAQ3B,IAAI,CACRq1K,SAAU,GACV/G,UAAW,QAM3Bu1B,MAAO,WACH,IAAIn4M,EAAOP,KACP4wG,EAAM1zG,EAAEE,QACRoZ,EAAUjW,EAAKiW,QACf/W,EAAUc,EAAKd,QACfkX,EAAWpW,EAAKd,QAAQkX,SACxB6zK,EAAcjqL,EAAKiqL,YACnBzqK,EAAM1Q,SAASmH,EAAQ3B,IAAI,OAAQ,IAAM+7F,EAAIjgF,YAC7C1b,EAAO5F,SAASmH,EAAQ3B,IAAI,QAAS,IAAM+7F,EAAI93F,aAEnD,IAAKvY,EAAKd,QAAQ44M,YAAa,CAC3B93M,EAAK62M,UAAY,MACjB72M,EAAK+4M,kBAAoB,KACzB/4M,EAAKd,QAAQovG,OAAS,MAEtB,GAAI27E,EAAa,CACbjqL,EAAK82M,oBAEL53M,EAAQyqL,SAAWpsL,KAAKiR,IAAIy7K,EAAY70K,MAAOlW,EAAQyqL,UACvDzqL,EAAQ0jL,UAAYrlL,KAAKiR,IAAIy7K,EAAY30K,OAAS6/L,EAAMl/L,EAAS,eAAgB/W,EAAQ0jL,WAEzF3sK,EAAQ3B,IAAI,CACRq1K,SAAUzqL,EAAQyqL,SAClB/G,UAAW1jL,EAAQ0jL,YAGvB,GAAIpjK,EAAMyqK,EAAY7zK,SAASoJ,IAC3BA,EAAMxf,EAAK+1M,YACR,GAAIv2L,EAAMyqK,EAAY7zK,SAASoJ,IAAMyqK,EAAY30K,OACpDkK,EAAMxf,EAAKi2M,YAEXz2L,EAAMA,EAAMyqK,EAAY75J,aAAe65J,EAAY7zK,SAASoJ,IAAM21L,EAAMlrB,EAAa,qBAGzF,GAAIv1K,EAAOu1K,EAAY7zK,SAAS1B,KAC5BA,EAAO1U,EAAKg2M,aACT,GAAIthM,EAAOu1K,EAAY7zK,SAAS1B,KAAOu1K,EAAY70K,MACtDV,EAAO1U,EAAKk2M,aAEZxhM,EAAOA,EAAOu1K,EAAY1xK,cAAgB0xK,EAAY7zK,SAAS1B,KAAOygM,EAAMlrB,EAAa,sBAKjG7zK,EAASoJ,IAAM0sL,EAAU1sL,EAAKxf,EAAK+1M,OAAQ/1M,EAAKi2M,QAChD7/L,EAAS1B,KAAOw3L,EAAUx3L,EAAM1U,EAAKg2M,QAASh2M,EAAKk2M,SAEnDjgM,EAAQ3B,IAAIrX,EAAOmZ,EAAU,CAACA,SAAU,MACxCH,EAAQ6qC,SAAS8yJ,GAAiBpkL,KAAKqlL,IAAQl/L,SAAS,WAAWT,YAAY,eAIvFuhM,kBAAmB,WACf,IAAIz2M,EAAOP,KACPwW,EAAUjW,EAAKiW,QACfo8I,EAAM11J,EAAEE,QACRsiB,EAAYpiB,EAAMW,QAAQyhB,YAC1Bu3L,EAAmBzgM,EAAQ3B,IAAI,eAAiB,cAChD4jM,EAAG1vD,EAEP,IAAKxoJ,EAAKd,QAAQ44M,YACd,OAGJ,IAAInB,EAAgBD,EAAmBvB,EAAMl/L,EAAS,qBAAuBk/L,EAAMl/L,EAAS,sBAAwB,EACpH,IAAI2gM,EAAgBF,EAAmBvB,EAAMl/L,EAAS,oBAAsBk/L,EAAMl/L,EAAS,uBAAyB,EACpH,IAAIi5F,EAAawnG,EAAmBvB,EAAMl/L,EAAS,eAAiB,EAEpE,GAAIjW,EAAKiqL,cAAgBjqL,EAAK62M,UAAW,CACrCqB,EAAIl4M,EAAKiqL,YAAY9uK,aAAew7L,EACpCnuD,EAAIxoJ,EAAKiqL,YAAY3uK,eAAiBs7L,EAAgB1nG,OACnD,CACHgpG,EAAI7lD,EAAIj9I,QAAU+J,EAAYw3L,EAC9BnuD,EAAI6J,EAAI/8I,SAAW6J,GAAay3L,EAAgB1nG,GAGpDj5F,EAAQ3B,IAAI,CACRc,MAAO8iM,EACP5iM,OAAQkzI,IAEZxoJ,EAAKd,QAAQkW,MAAQ8iM,EACrBl4M,EAAKd,QAAQoW,OAASkzI,EAEtBxoJ,EAAKmmB,UAGT5M,QAAS,SAAUra,GACf,IAAIc,EAAOP,KACPw6M,EAAcj6M,EAAKd,QACnBoQ,EAAU3S,EAAEqD,EAAKsP,SACjBolG,EACAD,EACAjsF,EAEJ,IAAK9oB,EAAcR,GACfA,EAAU,CAAEspB,IAAKtpB,GAGrBA,EAAUjC,EAAOg9M,EAAY3/J,QAASp7C,GAEtCu1G,EAAai8C,GAAQupD,EAAYvlG,QAAUulG,EAAYvlG,OAASx1G,EAAQw1G,OAExElsF,EAAMtpB,EAAQspB,IAEd,GAAIA,EAAK,CACL,IAAKkoI,GAAQj8C,GACTA,GAAclsF,GAAWC,GAG7B,IAAKisF,EAEDz0G,EAAK20G,aAAaz1G,OACf,CACHw1G,EAASplG,EAAQkgB,KAAK,IAAMgiF,GAAe,GAE3C,GAAIkD,EAEAA,EAAO31G,IAAMypB,GAAOksF,EAAO31G,SAG3BuQ,EAAQ3L,KAAKo+F,EAAUm4G,aAAaj9M,EAAO,GAAIg9M,EAAa,CAAE3/J,QAASp7C,MAG3EoQ,EAAQkgB,KAAK,IAAMgiF,GACd1+E,IAAI,OAASyrD,GACb14D,GAAG,OAAS04D,EAAI9+E,KAAK06M,gBAAgBn5M,KAAKvB,YAEhD,CACH,GAAIP,EAAQuE,SAERzD,EAAKs6C,QAAQ72C,EAASvE,EAAQuE,SAAjBA,CAA2B,KAG5CzD,EAAK8B,QAAQuyM,GAGjB/kM,EAAQgU,YAAY,2BAA4BmxF,GAEhD,OAAOz0G,GAGXm6M,gBAAiB,WACb16M,KAAKqC,QAAQuyM,IAGjB+F,cAAe,WACXnmL,aAAax0B,KAAK46M,qBAClB56M,KAAKwW,QAAQuZ,KAAKwlL,IAAa9/L,YAAYorG,IAG/Cg6F,WAAY,SAAUtjJ,EAAKnb,GACvBp8C,KAAKqC,QAAQy9C,EAAO,CAAE1D,OAAQA,EAAQmb,IAAKA,KAG/CujJ,aAAc,SAAU7xC,GACpB,OAAO,SAAUhlK,GACb,IAAIC,EAAOD,EACX,GAAIglK,EACA/kK,EAAOF,EAASilK,EAATjlK,CAA0BC,GAAQ,IAG7CjE,KAAK66C,QAAQ32C,EAAMD,GACnBjE,KAAK6P,QAAQ2c,KAAK,YAAa,GAE/BxsB,KAAKqC,QAAQuyM,KAIrBmG,aAAc,WACV/6M,KAAKwW,QAAQuZ,KAAKwlL,IAAar/L,SAAS2qG,IAG5C3L,aAAc,SAAUz1G,GACpBO,KAAK46M,oBAAsBznL,WAAWnzB,KAAK+6M,aAAax5M,KAAKvB,MAAO,KAEpE9C,EAAEsgD,KAAKhgD,EAAO,CACV+J,KAAM,MACNgyC,SAAU,OACVrhB,MAAO,MACP3S,MAAOvlB,KAAK66M,WAAWt5M,KAAKvB,MAC5BqjB,SAAUrjB,KAAK26M,cAAcp5M,KAAKvB,MAClCy9C,QAASz9C,KAAK86M,aAAar7M,EAAQuE,UAAUzC,KAAKvB,OACnDP,KAGP0sB,SAAU,WACN,GAAInsB,KAAKk2F,SACLl2F,KAAKk2F,SAASjqE,UAGlB,GAAIjsB,KAAK23M,SACL33M,KAAK23M,SAAS1rL,UAGlBjsB,KAAKwW,QAAQ6c,IAAIyrD,GACZz9B,SAAS+yJ,GAAgB/gL,IAAIyrD,GAAIl7E,MACjCmsB,KAAK,uCAAuCsD,IAAIyrD,GAErD5hF,EAAEE,QAAQi2B,IAAI,SAAWyrD,EAAK9+E,KAAKupL,SACnCrsL,EAAEE,QAAQi2B,IAAI4gL,GACd/2M,EAAEE,QAAQi2B,IAAIyrD,GAEdtqD,aAAax0B,KAAK46M,qBAElB9zL,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,MAEvBA,KAAKiC,OAAO5E,GAEZC,EAAM2uB,QAAQjsB,KAAKwW,UAGvByV,QAAS,WACLjsB,KAAKmsB,WAEL,GAAInsB,KAAKP,QAAQoqG,MACb7pG,KAAKkxM,eAAe,MAGxBlxM,KAAKwW,QAAQmrC,QAAQ5wB,SAErB/wB,KAAKwW,QAAUxW,KAAKklC,SAAWllC,KAAK6P,QAAU3S,KAGlDm5M,cAAe,WACX,IAAI2E,EAAch7M,KAAK6P,QACnBpQ,EAAUO,KAAKP,QACfw7M,EACAzkM,EACA6C,EAAQ/b,EAAMW,QAAQob,MAAM2hM,GAEhC,GAAIv7M,EAAQ6pK,aAAe,MACvB0xC,EAAYnmM,IAAI,WAAY,UAGhC2B,EAAUtZ,EAAEolG,EAAU9rF,QAAQ/W,IAI9Bw7M,EAAsBD,EAAYjrL,KAAK,gCAAgC7e,IAAI,WACvE,IAAI5R,EAAMU,KAAKgvB,aAAa,OAC5BhvB,KAAKV,IAAM,GACX,OAAOA,IAIXkX,EACKqN,YAAY,QAASxK,GACrBlD,KAAK,WAAY,GACjB4qD,OAAOi6I,GACPjrL,KAAK,gCAAgCtyB,KAAK,SAAS0R,GAEpDnP,KAAKV,IAAM27M,EAAoB9rM,KAGnC,GAAInP,KAAKwqL,YACLxqL,KAAKwqL,YAAY14F,QAAQt7E,QACtB,GAAIxW,KAAKklC,SACZ1uB,EAAQ0uB,SAASllC,KAAKklC,UAG1B1uB,EAAQuZ,KAAK,mBACRlb,IAAIwE,EAAQ,OAAS,QAAStJ,EAAWyG,EAAQuZ,KAAK,sBAAwB,IAEnFirL,EAAYnmM,IAAI,aAAc,IAAI49D,OAElCuoI,EAAYjrL,KAAK,sBAAsBtyB,KAAK,WACxC,IAAI+oK,EAAStpK,EAAE8C,MAAMiE,KAAK,eAE1B,GAAIuiK,EACAA,EAAO1sJ,YAIftD,EAAUwkM,EAAc,QA4BhC,SAAStD,GAAe9kD,GACpB,IAAIryJ,EAAOP,KACXO,EAAKgyJ,MAAQK,EACbryJ,EAAK26M,iBAAmB,MACxB36M,EAAKmuK,WAAa,IAAIhiF,EAAUkmE,EAAIp8I,QAAS,CACzCyZ,OAAQ,IAAMqkL,EACdhqJ,MAAOsoG,EAAIp8I,QAAQha,GAAK,YACxB44F,UAAW70F,EAAK60F,UAAU7zF,KAAKhB,GAC/B20F,KAAM30F,EAAK20F,KAAK3zF,KAAKhB,GACrB80F,QAAS90F,EAAK80F,QAAQ9zF,KAAKhB,KAG/BA,EAAKmuK,WAAWx8H,WAAW3wC,KAAK,QAAShB,EAAK46M,WAAW55M,KAAKhB,IAC9DA,EAAKmuK,WAAWx8H,WAAW3wC,KAAK,UAAWhB,EAAK66M,cAAc75M,KAAKhB,IAoLvE,SAASq3M,GAAehlD,EAAKzB,GACzB,IAAI5wJ,EAAOP,KACXO,EAAKgyJ,MAAQK,EACbryJ,EAAK26M,iBAAmB,MACxB36M,EAAKmuK,WAAa,IAAIhiF,EAAUkmE,EAAIp8I,QAAS,CACzCyZ,OAAQkhI,EACR7mG,MAAOsoG,EAAIp8I,QAAQha,GAAK,UACxB44F,UAAW70F,EAAK60F,UAAU7zF,KAAKhB,GAC/B20F,KAAM30F,EAAK20F,KAAK3zF,KAAKhB,GACrB80F,QAAS90F,EAAK80F,QAAQ9zF,KAAKhB,GAC3B40F,WAAY50F,EAAK40F,WAAW5zF,KAAKhB,KAGrCA,EAAKmuK,WAAWx8H,WAAW5d,gBAAkB,MA2IrD,OAjXIguE,EAAY,CACR9rF,QAASxS,EAAS,yCAClB+gC,OAAQ/gC,EACJ,+JACI,yEACJ,QAEJmqM,SAAUnqM,EACN,2CACI,iDACA,gDACJ,UAEJqqM,QAAS,gCACToM,aAAcz2M,EACV,qDAAuD+tG,EAAgB,KACvE,0BACA,qDACA,aAEJ0lG,aAAczzM,EAAS,8EAoB3B0zM,GAAe92M,UAAY,CACvBu6M,WAAY,WACRn7M,KAAKuyJ,MAAM/7I,QAAQuqD,OAAOuhC,EAAU+rG,UAExC+M,cAAe,WACXp7M,KAAKuyJ,MAAM/7I,QAAQuZ,KAAKk8K,GAAUl7K,UAEtCqkE,UAAW,SAAU9yF,GACjB,IAAI/B,EAAOP,KACX,IAAI4yJ,EAAMryJ,EAAKgyJ,MACf,IAAI/7I,EAAUo8I,EAAIp8I,QAElBjW,EAAK26M,iBAAmBtoD,EAAIvwJ,QAAQ0yM,GACpC,GAAIx0M,EAAK26M,iBACL,OAGJ36M,EAAK86M,eAAiBhsM,SAASmH,EAAQ3B,IAAI,eAAgB,IAC3DtU,EAAK+6M,gBAAkBh+M,EAAM2kB,UAAUzL,EAAS,YAEhDjW,EAAKg7M,gBAAkBj5M,EAAEivC,cAAc/kB,KAAK,aAAarsB,QAAQ,4BAA6B,IAE9FI,EAAKi7M,YAAc,CACf7lM,MAAOa,EAAQzG,aACf8F,OAAQW,EAAQvG,eAGpB2iJ,EAAIykD,oBAEJ92M,EAAKk7M,gBAAkB7oD,EAAI43B,YAAc53B,EAAI43B,YAAY7zK,SAAWrZ,EAAM2kB,UAAU2wI,EAAI1tH,UAExF,IAAI8mE,EAAex1F,EAAQw1F,eAE3B,GAAIA,EAAa/1F,GAAG,QAChB1V,EAAKk7M,gBAAgB17L,IAAMxf,EAAKk7M,gBAAgBxmM,KAAO,MACpD,CACH,IAAIg+D,EAAY+4B,EAAan3F,IAAI,cACjC,IAAIm+D,EAAag5B,EAAan3F,IAAI,eAClC,IAAI6mM,GAAajG,GAAK9uM,KAAKssE,KAAewiI,GAAK9uM,KAAKqsE,GACpD,GAAI0oI,EAAW,CACX,IAAIC,EAAkB9F,GAAYr/L,EAAQ,IAC1C,IAAIolM,EAAuBD,EAAgB1mM,KAAO1U,EAAKk7M,gBAAgBxmM,KAAO1U,EAAK+6M,gBAAgBrmM,KACnG,IAAI4mM,EAAsBF,EAAgB57L,IAAMxf,EAAKk7M,gBAAgB17L,IAAMxf,EAAK+6M,gBAAgBv7L,IAEhGxf,EAAKu7M,sBAAwBF,EAAuB,EAAIA,EAAuB,EAC/Er7M,EAAKw7M,qBAAuBF,EAAsB,EAAIA,EAAsB,EAE5Et7M,EAAK+6M,gBAAgBrmM,MAAQ1U,EAAKu7M,sBAClCv7M,EAAK+6M,gBAAgBv7L,KAAOxf,EAAKw7M,sBAIzCvlM,EACK6qC,SAASizJ,GAAsBx6G,IAAIx3F,EAAEivC,eAAehuB,OAEzDrmB,EAAEmrG,GAAMxzF,IAAI8/L,EAAQryM,EAAEivC,cAAc18B,IAAI8/L,KAE5Cz/G,KAAM,SAAU5yF,GACZ,GAAItC,KAAKk7M,iBACL,OAEJ,IAAI36M,EAAOP,KACP4yJ,EAAMryJ,EAAKgyJ,MACX/7I,EAAUo8I,EAAIp8I,QACd/W,EAAUmzJ,EAAInzJ,QACdkX,EAAWlX,EAAQkX,SACnB2gC,EAAY/2C,EAAKg7M,gBACjBE,EAAkBl7M,EAAKk7M,gBACvBH,EAAkB/6M,EAAK+6M,gBACvBE,EAAcj7M,EAAKi7M,YACnB/B,EAAqB7mD,EAAI43B,cAAgB53B,EAAIwkD,UAC7C/d,EAAM/7L,EAAMW,QAAQob,MAAMu5I,EAAI43B,aAC9BwxB,EAAgBvC,GAAsBpgB,GAAOzmC,EAAI43B,YAAY9uK,aAAek3I,EAAI43B,YAAY70K,MAAQrY,EAAMW,QAAQ4b,YAAc,EAChIoiM,EAAexC,EAAqB,CAAE15L,IAAK6yI,EAAI43B,YAAY75J,YAAa1b,KAAM29I,EAAI43B,YAAY1xK,cAAgB,CAAEiH,IAAK,EAAG9K,KAAM,GAC9HsjM,EAAUC,EACV0D,EAAcC,EACdl+K,EAAIngC,KAAKoP,IAAI5K,EAAE27B,EAAE5f,SAAU,GAC3BlQ,EAAIrQ,KAAKoP,IAAI5K,EAAE6L,EAAEkQ,SAAU,GAE3B,GAAIi5B,EAAUzqC,QAAQ,MAAQ,EAAG,CAE7B,GAAI+lJ,EAAI43B,aAAevsJ,EAAIu9K,EAAY7lM,OAASi9I,EAAI6jD,QAAUwF,EAAahnM,KAAOwmM,EAAgBxmM,KAAO+mM,EACrGzD,EAAW3lD,EAAI6jD,QAAUuF,EAAgBV,EAAgBrmM,KAAOumM,EAAY7lM,MAAQsmM,EAAahnM,UAEjGsjM,EAAWt6K,EAAIq9K,EAAgBrmM,KAAOwmM,EAAgBxmM,KAG1DuB,EAAQzG,WAAW08L,EAAU8L,EAAU94M,EAAQyrH,SAAUzrH,EAAQyqL,gBAC9D,GAAI5yI,EAAUzqC,QAAQ,MAAQ,EAAG,CACpCsvM,EAAcb,EAAgBrmM,KAAOumM,EAAY7lM,MAAQ8lM,EAAgBxmM,KACzEsjM,EAAW9L,EAAU0P,EAAcl+K,EAAGx+B,EAAQyrH,SAAUzrH,EAAQyqL,UAChEvzK,EAAS1B,KAAOknM,EAAc5D,EAAWkD,EAAgBxmM,KAAO+mM,GAAiBz7M,EAAKu7M,uBAAyB,GAAKG,EAAahnM,KAEjI,GAAI29I,EAAI43B,aAAe7zK,EAAS1B,MAAQ29I,EAAI2jD,QAAS,CACjD5/L,EAAS1B,KAAO29I,EAAI2jD,QACpBgC,EAAW9L,EAAU0P,EAAcH,EAAgBrlM,EAAS1B,KAAOwmM,EAAgBxmM,KAAOgnM,EAAahnM,KAAMxV,EAAQyrH,SAAUzrH,EAAQyqL,UAG3I1zK,EAAQ3B,IAAI,CACRI,KAAM0B,EAAS1B,KACfU,MAAO4iM,IAIf,IAAI6D,EAAejuM,EACnB,GAAIykJ,EAAInzJ,QAAQovG,OACZutG,GAAgBl/M,EAAEE,QAAQuzB,YAE9B,GAAI2mB,EAAUzqC,QAAQ,MAAQ,EAAG,CAC7B2rM,EAAY4D,EAAed,EAAgBv7L,IAAMxf,EAAK86M,eAAiBI,EAAgB17L,IAEvF,GAAIq8L,EAAeZ,EAAY3lM,OAAStV,EAAK86M,gBAAkBzoD,EAAI4jD,OAASiF,EAAgB17L,IAAMk8L,EAAal8L,IAC3Gy4L,EAAY5lD,EAAI4jD,OAAS8E,EAAgBv7L,IAAMy7L,EAAY3lM,OAASomM,EAAal8L,IAGrFvJ,EAAQvG,YAAYw8L,EAAU+L,EAAW/4M,EAAQsuI,UAAWtuI,EAAQ0jL,iBACjE,GAAI7rI,EAAUzqC,QAAQ,MAAQ,EAAG,CACpCqvM,EAAeZ,EAAgBv7L,IAAMy7L,EAAY3lM,OAAS4lM,EAAgB17L,IAC1Ey4L,EAAY/L,EAAUyP,EAAeE,EAAc38M,EAAQsuI,UAAWtuI,EAAQ0jL,WAC9ExsK,EAASoJ,IAAMm8L,EAAe1D,EAAYiD,EAAgB17L,KAAOxf,EAAKw7M,sBAAwB,GAAKE,EAAal8L,IAEhH,GAAIpJ,EAASoJ,KAAO6yI,EAAI0jD,QAAU1jD,EAAI43B,YAAa,CAC/C7zK,EAASoJ,IAAM6yI,EAAI0jD,OACnBkC,EAAY/L,EAAUyP,EAAevlM,EAASoJ,IAAM07L,EAAgB17L,IAAMk8L,EAAal8L,IAAKtgB,EAAQsuI,UAAWtuI,EAAQ0jL,WAG3H3sK,EAAQ3B,IAAI,CACRkL,IAAKpJ,EAASoJ,IACdlK,OAAQ2iM,IAIhB,GAAID,EACA3lD,EAAInzJ,QAAQkW,MAAQ4iM,EAAW,KAEnC,GAAIC,EACA5lD,EAAInzJ,QAAQoW,OAAS2iM,EAAY,KAGrC5lD,EAAIlsI,UAEZ2uE,QAAS,SAAU/yF,GACf,GAAItC,KAAKk7M,iBACL,OAGJ,IAAI36M,EAAOP,KACP4yJ,EAAMryJ,EAAKgyJ,MACX/7I,EAAUo8I,EAAIp8I,QAElBA,EACK6qC,SAASizJ,GAAsBx6G,IAAIx3F,EAAEivC,eAAekhC,OAEzDv1E,EAAEmrG,GAAMxzF,IAAI8/L,EAAQ,IAEpB,GAAI/hD,EAAIjgI,cACJigI,EAAIjgI,cAAc0xC,QAGtB,GAAI/hE,EAAE8+B,SAAW,GACb5qB,EAAQ3B,IAAItU,EAAK+6M,iBACZzmM,IAAItU,EAAKi7M,aAGlB5oD,EAAIvwJ,QAAQsyF,GAEZ,OAAO,OAEX1oE,QAAS,WACL,GAAIjsB,KAAK0uK,WACL1uK,KAAK0uK,WAAWziJ,UAGpBjsB,KAAK0uK,WAAa1uK,KAAKuyJ,MAAQ,OAoBvCqlD,GAAeh3M,UAAY,CACvBw0F,UAAW,SAAU9yF,GACjB,IAAIswJ,EAAM5yJ,KAAKuyJ,MACXtmE,EAAY2mE,EAAInzJ,QAAQwsF,UACxBp8E,EAAU+iJ,EAAI/iJ,QACdy9L,EAAUz9L,EAAQkgB,KAAK,qBACvB0rL,EAAkBn+M,EAAM2kB,UAAU2wI,EAAI1tH,UAE1CllC,KAAKk7M,iBAAmBtoD,EAAIvwJ,QAAQilF,KAAe2E,EACnD,GAAIjsF,KAAKk7M,kBAAoBtoD,EAAIylD,cAC7B,OAGJzlD,EAAIypD,sBAAwB/+M,EAAM2kB,UAAU2wI,EAAIp8I,QAAS,YAEzDo8I,EAAI0pD,uBAAyB,CACzBrnM,KAAM29I,EAAInzJ,QAAQkX,SAAS1B,KAC3B8K,IAAK6yI,EAAInzJ,QAAQkX,SAASoJ,KAG9B6yI,EAAI2pD,cAAgB,CAChBtnM,KAAM3S,EAAE27B,EAAEC,OAAS00H,EAAIypD,sBAAsBpnM,KAC7C8K,IAAKzd,EAAE6L,EAAE+vB,OAAS00H,EAAIypD,sBAAsBt8L,KAGhD6yI,EAAIykD,oBACJ,IAAKzkD,EAAI43B,YAAa,CAClB,GAAI8iB,EAAQxtM,OAAS,EACjB8yJ,EAAI2jD,QAAUxmM,EAAWu9L,GAAWj+L,SAASi+L,EAAQz4L,IAAI,SAAU,IAAM9E,EAAWF,QAEpF+iJ,EAAI2jD,QAAW,GAAKxmM,EAAWF,GAGnC+iJ,EAAI2jD,SAAWkF,EAAgBxmM,KAC/B29I,EAAI0jD,QAAUmF,EAAgB17L,IAGlC7iB,EAAEolG,EAAU+rG,SAASnpK,SAAS0tH,EAAIp8I,SAAS3B,IAAI,CAAE+b,QAAS,IAE1DgiI,EAAIp8I,QAAQ6qC,SAASizJ,GAAsB/wL,OAE3CrmB,EAAEmrG,GAAMxzF,IAAI8/L,EAAQryM,EAAEivC,cAAc18B,IAAI8/L,KAG5Cz/G,KAAM,SAAU5yF,GACZ,IAAIswJ,EAAM5yJ,KAAKuyJ,MACf,IAAI57I,EAAWi8I,EAAInzJ,QAAQkX,SAC3B,IAAI8nB,EAAOm0H,EAAInzJ,QAAQwsF,UAAUxtD,KACjC,IAAIxpB,EACJ,IAAI8K,EAEJ,GAAI/f,KAAKk7M,kBAAoBtoD,EAAIylD,cAC7B,OAGJ,IAAK55K,GAAQA,EAAKnyB,gBAAkB,IAAK,CACrC2I,EAAO3S,EAAE27B,EAAEC,OAAS00H,EAAI2pD,cAActnM,KAEtC,GAAI29I,EAAI43B,cAAgB53B,EAAIwkD,UACxBniM,GAAQ29I,EAAI43B,YAAY1xK,aAG5BnC,EAAS1B,KAAOw3L,EAAUx3L,EAAM29I,EAAI2jD,QAAS3jD,EAAI6jD,SAGrD,IAAKh4K,GAAQA,EAAKnyB,gBAAkB,IAAK,CACrCyT,EAAMzd,EAAE6L,EAAE+vB,OAAS00H,EAAI2pD,cAAcx8L,IAErC,GAAI6yI,EAAI43B,cAAgB53B,EAAIwkD,UACxBr3L,GAAO6yI,EAAI43B,YAAY75J,YAG3Bha,EAASoJ,IAAM0sL,EAAU1sL,EAAK6yI,EAAI0jD,OAAQ1jD,EAAI4jD,QAGlD,GAAIl5M,EAAMW,QAAQ2c,WACd1d,EAAE01J,EAAIp8I,SAAS3B,IACX,YAAa,cACZ8B,EAAS1B,KAAO29I,EAAI0pD,uBAAuBrnM,MAAQ,QACnD0B,EAASoJ,IAAM6yI,EAAI0pD,uBAAuBv8L,KAAO,YAGtD7iB,EAAE01J,EAAIp8I,SAAS3B,IAAI8B,IAK3B6lM,YAAa,WACT,IAAI5pD,EAAM5yJ,KAAKuyJ,MAEfK,EAAIp8I,QACC6qC,SAASizJ,GAAsBxvL,QAAQ8tI,EAAInzJ,QAAQ64M,aAAa10M,MAChEmsB,KAAKk8K,GAAUl7K,SAEpB7zB,EAAEmrG,GAAMxzF,IAAI8/L,EAAQ,KAGxBx/G,WAAY,SAAU7yF,GAClB,GAAItC,KAAKk7M,iBACL,OAEJl7M,KAAKw8M,cAELl6M,EAAEivC,cAAch3B,QAAQ6wL,GAASv2L,IAAI7U,KAAKuyJ,MAAM8pD,wBAGpDhnH,QAAS,WACL,IAAIu9D,EAAM5yJ,KAAKuyJ,MAEf,GAAIvyJ,KAAKk7M,kBAAoBtoD,EAAIylD,cAC7B,OAGJn7M,EAAE01J,EAAIp8I,SACD3B,IAAI+9I,EAAInzJ,QAAQkX,UAChB9B,IAAI,YAAa,IAEtB7U,KAAKw8M,cAEL5pD,EAAIvwJ,QAAQmlF,GAEZ,OAAO,OAEXv7D,QAAS,WACL,GAAIjsB,KAAK0uK,WACL1uK,KAAK0uK,WAAWziJ,UAGpBjsB,KAAK0uK,WAAa1uK,KAAKuyJ,MAAQ,OAIvCj1J,EAAM2pB,GAAG+J,OAAOglL,IAIb54M,OAAOE,QAnnElB,CAqnEoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,oBAAoB,CAAE,aAAc,WAAY,wBAAyB,cACjF,WAEH,IAAIC,EAAW,CACXC,GAAI,cACJC,KAAM,OACNC,SAAU,SACVC,YAAa,cACbotC,QAAS,CAAE,OAAQ,KAAM,kBAAmB,QAC5CC,OAAQ,MAGF9sC,EA2rBPE,OAAOE,MAAMH,OA3rBHE,OAAb,EACQC,EAAQF,OAAOE,MACf4pB,EAAS5pB,EAAM4pB,OACfD,EAAKC,EAAOD,GACZ9Q,EAAO7Y,EAAM6Y,KACb2Q,EAASG,EAAGH,OACZs0D,EAAY99E,EAAM89E,UAClB/tC,EAAO,OACPovK,EAAa,oHACbC,EAAc,aACdpjI,EAAO,OACPqjI,EAAa,YACbC,EAAc,aACdvjI,EAAiB,gBACjBD,EAAmB,kBACnBG,EAAO,OACP55B,EAAU,UACVrsB,EAAYh2B,EAAMg2B,UAClB3J,EAAersB,EAAMqsB,aACrBE,EAAoBvsB,EAAMusB,kBAC1BwW,EAAyB/iC,EAAM+iC,uBAEnC,SAASw8K,EAAahtM,GAClB,IAAIitM,EAAWjtM,EAAQkgB,KAAKpG,EAAa,YACrChoB,EAAK7B,EACLyvB,EAAQtI,EAAGsI,MAEf,IAAK5tB,EAAM,EAAG7B,EAASg9M,EAASh9M,OAAQ6B,EAAM7B,EAAQ6B,IAClDrE,EAAMgyB,WAAWwtL,EAASn7M,GAAM,GAAI4tB,GAI5C,SAASwtL,EAAwBz6M,GAC7B,IAAKhF,EAAM0sB,iBAAiB1nB,GACxBA,EAAEpB,iBAIV,IAAIo5E,EAAOxzD,EAAOtpB,OAAO,CACrBiD,KAAM,SAASoP,EAASpQ,GACpBqnB,EAAOnmB,GAAGF,KAAK+B,KAAKxC,KAAM6P,EAASpQ,GACnCO,KAAK89B,OAAS,GAEd5gC,EAAEM,OAAOwC,KAAMP,GAEfO,KAAK8uE,WAAa9uE,KAAK8uE,YAAc9uE,KAAKw+E,kBAE1Cx+E,KAAKksC,MAEL,IAAKlsC,KAAKP,QAAQ2+E,SAAU,CACxBp+E,KAAKyoK,UACLzoK,KAAK0tM,WACL1tM,KAAKg9M,YACLh9M,KAAKi9M,cAELj9M,KAAK0tM,YAIb1rM,OAAQ,CACJqrC,EACAqvK,EACApjI,EACAqjI,EACAC,EACArjI,EACA55B,EACAy5B,EACAC,GAGJ55E,QAAS,CACLhD,KAAM,OACN6uC,MAAO,GACP89H,OAAQ,KACR1qF,UAAWxhF,EAAEU,KACbmgF,OAAQ,MACRjP,WAAY,GACZ0P,kBAAmB,GACnB3sD,mBAAoB,MACpBqrL,QAAS,MACTpwI,KAAM,MACNjvB,MAAO,KACP+gC,WAAYxhF,OACZ+/M,SAAU,GACVC,YAAa,MAGjBh5L,OAAQ,SAASA,GACb,UAAUA,GAAU,YAChBA,EAAS,KAGb,GAAGA,EACCpkB,KAAKquM,QAAQ9qL,YAEbvjB,KAAKquM,QAAQ57H,QAIrBxmD,QAAS,WACL,GAAIjsB,KAAKopK,OACLppK,KAAKopK,OAAO1tF,OAAO17E,MAGvBA,KAAKqC,QAAQs9C,GAGb74B,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,MAEvB,GAAIA,KAAKm9M,SACLn9M,KAAKm9M,SAASlxL,UAGlB,GAAIjsB,KAAKP,QAAQ2+E,SACbp+E,KAAK6P,QAAQywB,QAAQ+8K,WAGzB//M,EAAM2uB,QAAQjsB,KAAK6P,UAGvB8rE,MAAO,WACH37E,KAAKisB,UACLjsB,KAAK6P,QAAQkhB,UAGjBsqD,kBAAmB,WACf,GAAIr7E,KAAKqC,QAAQq6M,EAAa,CAAEhrL,KAAM1xB,OAClC,OAAO,MAEX,OAAO,MAGXs7E,kBAAmB,WACf,GAAIt7E,KAAKqC,QAAQu6M,EAAa,CAAElrL,KAAM1xB,OAClC,OAAO,MAEX,OAAO,MAGXu7E,UAAW,WACP,IAAI1rE,EAAU7P,KAAK6P,QAEnBA,EAAQgF,IAAI,UAAW,IAEvB,IAAK7U,KAAKs9M,OAAQ,CACdt9M,KAAKs9M,OAAS,KACdt9M,KAAKqC,QAAQgrC,EAAM,CAAC3b,KAAM1xB,YAE1BA,KAAKu9M,sBAGT,GAAIv9M,KAAKopK,OACLppK,KAAKopK,OAAOvsF,OAAO78E,MAGvBA,KAAKw9M,wBACLx9M,KAAKqC,QAAQi3E,EAAM,CAAC5nD,KAAM1xB,OAC1B1C,EAAMopB,OAAO7W,IAGjB2rE,QAAS,WACLx7E,KAAKqC,QAAQs6M,EAAY,CAACjrL,KAAM1xB,OAChCA,KAAKw9M,yBAGT/hI,QAAS,WACL,IAAIl7E,EAAOP,KACXO,EAAKsP,QAAQ0T,OACbhjB,EAAK8B,QAAQk3E,EAAM,CAAC7nD,KAAMnxB,IAE1B,GAAIA,EAAK6oK,OACL7oK,EAAK6oK,OAAO/mK,QAAQk3E,EAAM,CAAE7nD,KAAOnxB,EAAM6oK,OAAQ7oK,EAAK6oK,UAI9D7xF,iBAAkB,SAAShwE,GACvBvH,KAAKqC,QAAQ+2E,EAAkB,CAAE7xE,KAAMA,KAG3CiwE,gBAAiB,SAASjwE,GACtBvH,KAAKqC,QAAQg3E,EAAgB,CAAE9xE,KAAMA,KAGzCi2M,sBAAuB,WACnB,GAAIt2L,EAAOqL,0BAA2B,CAClC,IAAIkrL,EAAYngN,EAAMW,QAAQsgB,UAAYjhB,EAAMW,QAAQsgB,SAASjC,QAC7DohM,EAAOx2L,EAAOsL,YAAYkrL,QAAU,GACpCC,EAAkBz2L,EAAOsL,YAAYxW,GAAGM,SAAYohM,EAAK7wM,QAAQ,YAAc,EAC/E+wM,EAA6BF,IAAS,QAAWA,EAAK7wM,QAAQ,aAAe,EAC7EgxM,GAAgBJ,GAAaE,KAAsBC,EAA8B,SAAW,SAC5FE,GAAmBL,GAAaE,KAAsBC,EAA8B,SAAW,SAEnG59M,KAAK66C,QAAQhmC,IAAI,CACb46F,WAAYzvG,KAAK69M,GAAchoM,SAC/B85F,cAAe3vG,KAAK89M,GAAiBjoM,aAKjDymE,eAAgB,WACZ,IAAI/7E,EAAOP,KAEX,OAAOO,EAAKd,QAAQy9M,QAAU38M,EAAKs6C,QAAUt6C,EAAKw9M,iBAGtDr+M,MAAO,WACH,OAAO,IAAI07E,EAAUp7E,OAGzBg9M,UAAW,WACP,IAAIz8M,EAAOP,KAEX,GAAIknB,EAAOqL,0BACP,OAEJ,GAAIhyB,EAAKd,QAAQy9M,QACb38M,EAAKs6C,QAAQ3kC,SAAS,yBACnB,CACH3V,EAAKs6C,QAAQ/nB,oBAAoB51B,EAAEM,OAAO+C,EAAKd,QAAQ09M,SAAU,CAAErwI,KAAMvsE,EAAKd,QAAQqtE,KAAMl6C,UAAWryB,EAAKd,QAAQoyB,sBAEpHtxB,EAAK48M,SAAW58M,EAAKs6C,QAAQ52C,KAAK,uBAClC1D,EAAKw9M,gBAAkBx9M,EAAK48M,SAASprH,cAIzC,GAAIz0F,EAAMW,QAAQwkB,oBAAqB,CACnCvlB,EAAEqD,EAAKsP,SAASuW,GAAG,YAAa,aAAc22L,GAC9C,IAAKx8M,EAAKd,QAAQoyB,qBAAuBtxB,EAAKd,QAAQy9M,QAClDhgN,EAAEqD,EAAKsP,SAASuW,GAAG,YAAa,cAAe22L,KAK3DE,OAAQ,WACJ,IAAI18M,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfguC,EAAQt9C,EAAKd,QAAQo+C,MAEzB,UAAWA,IAAU,SACjBA,EAAQvgD,EAAM6rB,OAAO00B,EAAbvgD,CAAoBiD,EAAKd,QAAQm/E,YAG7Cr+E,EAAKs9C,MAAQA,EAEbg/J,EAAahtM,GAEbtP,EAAKsP,QAAQgF,IAAI,UAAW,IAC5B,GAAItU,EAAKd,QAAQ29M,YACb,GAAIv/J,EACAvgD,EAAMiE,KAAKsO,EAASguC,EAAO52B,EAAI3pB,EAAM2pB,GAAI3pB,EAAM6pB,QAAQF,SAEvDC,EAAOzmB,KAAKoP,EAAQwxC,YAG5B9gD,EAAKsP,QAAQgF,IAAI,UAAW,SAGhCq3B,IAAK,WACD,IAAIr8B,EAAU7P,KAAK6P,QACfmuM,EAAcnuM,EAAQsG,KAAK,OAAS,GAExCnW,KAAKxD,GAAK82B,EAAUzjB,EAAS,QAAU,IAAMmuM,EAE7C,GAAIh+M,KAAKxD,IAAM,IAAK,CAChBwD,KAAKxD,GAAKc,EAAMksB,OAChB3Z,EAAQsG,KAAK,KAAMnW,KAAKxD,MAIhCisK,QAAS,WACL,IAAIrsF,EAAkBzyD,EAAa,WAC/B9Z,EAAU7P,KAAK6P,QAEnBA,EAAQqG,SAAS,WAEjBlW,KAAK26C,OAAS9qC,EAAQwxC,SAAS13B,EAAa,WAAWzT,SAAS,aAChElW,KAAKq6E,OAASxqE,EAAQwxC,SAAS13B,EAAa,WAAWzT,SAAS,aAEhE,IAAKrG,EAAQwxC,SAAS+6B,GAAiB,GACrCvsE,EAAQquE,UAAU,QAAU/nE,EAAK,QAAU,qBAG7CnW,KAAK66C,QAAUhrC,EAAQwxC,SAAS13B,EAAa,YACxBzT,SAAS,cAE9BlW,KAAK6P,QAAQiiF,QAAQ9xF,KAAK26C,QAAQomB,OAAO/gE,KAAKq6E,QAG9Cr6E,KAAKopK,OAASppK,KAAKP,QAAQi/E,UAAU1+E,KAAKopK,QAE1C,GAAIppK,KAAKopK,OACLppK,KAAKopK,OAAOj9G,MAAMnsD,OAI1B0tM,SAAU,WACN1tM,KAAKquM,QAAUnxM,EAAEu/M,GAAYv3K,SAASllC,KAAK6P,UAG/C0tM,oBAAqB,WACjB,IAAIU,EACA39K,EAEJ,GAAItgC,KAAKP,QAAQ2+E,SAAU,CACvB6/H,EAAaj+M,KAAK6P,QAAQouM,aAC1B39K,EAAQtgC,KAAKP,QAAQ2+E,SAAS,GAE9B,GAAI6/H,EAAY,CACZ,IAAI93L,EAAWnmB,KAAKk+M,gBAAgB38M,KAAKvB,KAAMi+M,EAAY39K,GAE3D,GAAI,qBAAqB35B,KAAK25B,EAAMI,SAChCva,SAEAma,EAAM69K,OAAOh4L,MAM7B+3L,gBAAiB,SAASD,EAAY39K,GAClCtgC,KAAK6P,QAAQ0wB,WAAWC,OAAOy9K,EAAWp9M,YAAao9M,EAAY,CAAEG,OAAQ99K,OAIrF,SAAS88K,EAAYriK,GACjBA,EAAWt9C,KAAK,WACZH,EAAMgyB,WAAWpyB,EAAE8C,MAAO,GAAIinB,EAAGsI,SAIzC,IAAIgtD,EAASz1D,EAAOtpB,OAAO,CACvBiD,KAAM,SAASoP,EAASpQ,GACpBqnB,EAAOnmB,GAAGF,KAAK+B,KAAKxC,KAAM6P,EAASpQ,GAEnCoQ,EAAU7P,KAAK6P,QAEf7P,KAAK26C,OAAS9qC,EAAQwxC,SAASrhD,KAAKm+E,QAAQ,WAAWjoE,SAAS,aAChElW,KAAKq6E,OAASxqE,EAAQwxC,SAASrhD,KAAKm+E,QAAQ,WAAWjoE,SAAS,aAChElW,KAAKouB,SAAWpuB,KAAK26C,OAAO52B,IAAI/jB,KAAKq6E,QAErCwiI,EAAahtM,GAEb,IAAK7P,KAAKP,QAAQ2+E,SACd9gF,EAAM4pB,OAAOzmB,KAAKT,KAAK6P,QAAQwxC,YAEnCrhD,KAAK6P,QAAQ6rE,SACb17E,KAAKqC,QAAQgrC,EAAM,CAAC+7H,OAAQppK,QAGhCm+E,QAAS,SAASp0D,GACd,OAAO/pB,KAAKP,QAAQ2+E,SAAWv0D,EAAkBE,GAAaJ,EAAaI,IAG/EtqB,QAAS,CACLhD,KAAM,SACND,GAAI,KACJ6hN,SAAU,MAGdr8M,OAAQ,CACJqrC,EACAisC,EACAC,GAGJptB,MAAO,SAASz6B,GACZ,IAAKA,EAAKipB,OAAO,GAAMjpB,EAAKipB,OAAS36C,KAAK26C,OAC1C,IAAKjpB,EAAK2oD,OAAO,GAAM3oD,EAAK2oD,OAASr6E,KAAKq6E,QAG9CqB,OAAQ,SAAShqD,GACb,IAAInxB,EAAOP,KACX,GAAI0xB,EAAKipB,SAAWp6C,EAAKo6C,QAAUp6C,EAAKo6C,OAAO,GAC3CjpB,EAAK7hB,QAAQiiF,QAAQvxF,EAAKo6C,OAAO+gC,SAAS,GAAGhU,UAAU,OAG3D,GAAIh2C,EAAK2oD,SAAW95E,EAAK85E,QAAU95E,EAAK85E,OAAOv6E,OAC3C4xB,EAAK7hB,QAAQkxD,OAAOxgE,EAAK85E,OAAOqB,SAAS,GAAGhU,UAAU,QAI9DmV,OAAQ,SAASnrD,GACb,IAAInxB,EAAOP,KACPs+M,EAAe/9M,EAAK+5H,YAExB,GAAIgkF,EACA/9M,EAAKm7E,OAAO4iI,GAGhB,GAAI5sL,EAAKipB,SAAWp6C,EAAKo6C,OAAQ,CAC7Bp6C,EAAKo6C,OAAO+gC,SACZhqD,EAAK7hB,QAAQwxC,SAAS13B,EAAa,WAAWoH,SAC9CW,EAAK7hB,QAAQiiF,QAAQvxF,EAAKo6C,QAG9B,GAAIjpB,EAAK2oD,SAAW95E,EAAK85E,OAAQ,CAC7B95E,EAAK85E,OAAOqB,SACZhqD,EAAK7hB,QAAQwxC,SAAS13B,EAAa,WAAWoH,SAC9CW,EAAK7hB,QAAQkxD,OAAOxgE,EAAK85E,QAG7B95E,EAAK8B,QAAQi3E,EAAM,CAAC8vF,OAAQ7oK,EAAMmxB,KAAMA,IACxCnxB,EAAK+5H,YAAc5oG,KAIvBrwB,EAAa/D,EAAM+D,WACnBs4E,EAAa,wDACbC,EAAa,YACbC,EAAgB,eAChBC,EAAa,YACbC,EAAsB,oBACtBC,EAAY,WACZC,EAAuB,qBACvBC,EAAQ,QAERoD,EAAaj8E,EAAW7D,OAAO,CAC/BiD,KAAM,SAAShB,GACX,IAAIc,EAAOP,KACP0yB,EACA6rL,EACAjuL,EACAyqB,EAEJ15C,EAAWV,GAAGF,KAAK+B,KAAKjC,GAExBrD,EAAEM,OAAO+C,EAAMd,GACfc,EAAKg9E,QAAUrgF,EAAE,WACjBozB,EAAY/vB,EAAK+vB,UAEjBoC,EAAQnyB,EAAKi9E,WAAWltD,GACxB/vB,EAAKk9E,SAAW/qD,EAAMvwB,QAEtB,IAAK5B,EAAKk9E,SAAS,IAAMh+E,EAAQ++M,WAAY,CACzC,GAAIluL,EAAU,IAAMhzB,EAAM4pB,OAAOsL,YAAY3iB,QAAQ,GACjD0uM,EAAe,gNAEfA,EAAe,oGAEnB,MAAM,IAAI35M,MAAM25M,GAGpBh+M,EAAKm9E,QAAU,GAEfn9E,EAAKo9E,cAAgB,IAAIrgF,EAAMq/E,cAAcp8E,EAAK+vB,WAElD/vB,EAAKo9E,cAAcp8E,KAAK,WAAY,SAASe,GACzCA,EAAEovB,KAAKoM,OAASv9B,EAAKu9B,SAGzBv9B,EAAKo9E,cAAcp8E,KAAK,WAAY,SAASe,GACzC/B,EAAK8B,QAAQ23E,EAAW,CAAEtoD,KAAMpvB,EAAEovB,SAGtCnxB,EAAKo9E,cAAcp8E,KAAK24E,EAAO,WAC3B35E,EAAK8B,QAAQ63E,KAGjBl6E,KAAK2+E,eAAiB3+E,KAAKy+M,WAAWl9M,KAAKvB,MAC3CO,EAAKm+M,cAAcpuL,GAEnByqB,EAAazqB,EAAU+wB,SAAS9gD,EAAK49E,QAAQ,qBAC7C,GAAI59E,EAAK69E,SAAU,CAEf79E,EAAK69E,SAAS,GAAGS,YAAc,CAC3BL,kBAAmBj+E,EAAKuuE,WACxB2P,OAAQl+E,EAAKk+E,OACbnuD,UAAW/vB,EAAK+vB,UAChBouD,UAAWn+E,EAAKo+E,gBAGpB5jC,EAAWt9C,KAAK,SAASkE,EAAKkO,GAC1BwwB,EAAuBnjC,EAAE2S,GAAUpQ,EAAQ2+E,SAAS,WAGxDg/H,EAAYriK,GAGhB/6C,KAAKuB,KAAKvB,KAAKgC,OAAQvC,IAG3BuC,OAAQ,CACJ83E,EACAI,EACAF,EACAJ,EACAC,EACAE,EACAE,GAGJhuD,QAAS,WACL3uB,EAAM2uB,QAAQjsB,KAAKswB,WAEnB,IAAK,IAAI9zB,KAAMwD,KAAK09E,QAChB19E,KAAK09E,QAAQlhF,GAAIyvB,WAIzByF,KAAM,WACF,OAAO1xB,KAAK29E,cAAcjsD,MAG9BksD,SAAU,SAAS70D,EAAK+lD,EAAYhxC,GAChC/U,EAAMA,EAAI5oB,QAAQ,IAAI+R,OAAO,IAAMlS,KAAK69E,qBAAsB,IAC9D,GAAI90D,IAAQ,IAAM/oB,KAAK69E,oBACnB90D,EAAM,IAGV,GAAIA,EAAI5oB,QAAQ,KAAM,MAAQH,KAAK+oB,IAAK,CACpC/oB,KAAKqC,QAAQ03E,GACb,OAAO,MAGX/5E,KAAKqC,QAAQy3E,GAEb,IAAIv5E,EAAOP,KACP2+M,EAAc,SAASjtL,GACnB,OAAOnxB,EAAKo9E,cAAclL,KAAK/gD,EAAMo9C,EAAY/lD,IAErDlZ,EAAUtP,EAAKu9E,iBAAiB/0D,GAChC2I,EAAOp0B,EAAM8yB,eAAevgB,GAEhCtP,EAAKwoB,IAAMA,EAAI5oB,QAAQ,KAAM,IAE7BI,EAAKu9B,OAASA,EAEd,GAAIpM,GAAQA,EAAKqsD,OAAQ,CACrBrsD,EAAKiqD,QACL9rE,EAAU,GAGd7P,KAAKqC,QAAQ43E,EAAsB,CAAEzhB,OAAQ3oD,EAAQ/P,SAAW,EAAGipB,IAAKA,IAExE,GAAIlZ,EAAQ,GAAI,CACZ,IAAK6hB,EACDA,EAAOnxB,EAAKy9E,YAAYnuE,GAG5B,OAAO8uM,EAAYjtL,OAChB,CACH,GAAI1xB,KAAK4+M,iBACLvgM,SAAS8T,KAAOpJ,OAEhBxoB,EAAKs+M,UAAU91L,EAAK41L,GAExB,OAAO,OAIf59I,OAAQ,SAAS78D,EAAM6kB,GACnB,IAAIw0D,EAAUv9E,KAAKu9E,QACfU,GAAWl1D,GAAO,IAAIlmB,MAAM,KAAK,GACjCytB,EAAYtwB,KAAKswB,UACjBoC,EACAosL,EACAptL,EAEJ,GAAIioD,EAAWhzE,KAAKzC,GAChBA,EAAOgO,OAAOs+D,GAGlB+M,EAAQ,GAAGrjE,UAAYhW,EAEvBosB,EAAUywC,OAAOwc,EAAQl8B,SAAS,kBAElC3uB,EAAQ1yB,KAAKw9E,WAAWD,GACxB7rD,EAAOgB,EAAMvwB,QAGb,IAAKuvB,EAAK5xB,OACN4yB,EAAQhB,EAAO6rD,EAAQW,UAAU,0BAA0B78B,WAG/D,GAAI48B,EACAvsD,EAAKnO,OAAOpN,KAAKA,EAAK,OAAQ8nE,GAGlCj+E,KAAK0+M,cAAcnhI,GAEnBuhI,EAAavhI,EAAQl8B,SAASrhD,KAAKm+E,QAAQ,qBAE3C7tD,EAAUywC,OAAOwc,EAAQl8B,SAASrhD,KAAKm+E,QAAQ,4BAA4Bp6D,IAAI2O,IAG/E0qL,EAAY0B,GAEZ,OAAO9+M,KAAKg+E,YAAYtsD,IAG5BysD,QAAS,SAASp0D,GACd,OAAO/pB,KAAKo+E,SAAWv0D,EAAkBE,GAAaJ,EAAaI,IAGvE+zD,iBAAkB,SAAS/0D,GACvB,IAAIlZ,EACAouE,EAAUl1D,EAAIlmB,MAAM,KAAK,GAE7B,IAAKo7E,EACD,OAAOj+E,KAAKy9E,SAGhB5tE,EAAU7P,KAAKswB,UAAU+wB,SAAS,IAAMlrC,EAAK,OAAS,KAAO8nE,EAAU,MAGvE,IAAKpuE,EAAQ,IAAMouE,EAAQpxE,QAAQ,QAAU,EACzCgD,EAAU7P,KAAKswB,UAAU+wB,SAAS48B,EAAQl7E,OAAO,KAAO,IAAMk7E,EAAU,IAAMA,GAGlF,OAAOpuE,GAGXmuE,YAAa,SAASnuE,GAClB,GAAI7P,KAAKo+E,SACL,OAAO/9C,EAAuBxwB,EAAS7P,KAAKo+E,SAAS,SAErD,OAAO9gF,EAAMgyB,WAAWzf,EAAS,CAC7B2uE,kBAAmBx+E,KAAK8uE,WACxB2P,OAAQz+E,KAAKy+E,OACbnuD,UAAWtwB,KAAKswB,UAChBouD,UAAW1+E,KAAK2+E,eAChBC,WAAY5+E,KAAK4+E,WACjBb,OAAQzqD,EAAUzjB,EAAS,WAC5BoX,EAAGsI,QAIdkvL,WAAY,SAAShiN,GACjB,GAAIA,IAAS,GACT,OAAO,KAGX,OAAOA,EAAOuD,KAAK09E,QAAQjhF,GAAQuD,KAAK09E,QAAQ19E,KAAKopK,SAGzDy1C,UAAW,SAAS91L,EAAK5C,GACrB,GAAInmB,KAAK++M,KACL/+M,KAAK++M,KAAK5oB,QAGdn2L,KAAKqC,QAAQu3E,GAEb55E,KAAK++M,KAAO7hN,EAAEosB,IAAIhsB,EAAMitC,YAAYxhB,EAAK/oB,KAAK69E,qBAAsB,QAC/Di1G,OAAO9yL,KAAKg/M,aAAaz9M,KAAKvB,KAAMmmB,EAAU4C,KAGvDi2L,aAAc,SAAS74L,EAAU4C,EAAK20B,GAClC,IAAID,EAAU,KAEd,UAAWC,IAAa,SACpB,GAAIA,EAAStB,SAAW,EACpB,GAAIsB,EAAS3B,cAAgB2B,EAAS3B,aAAaj8C,OAAS,EAAG,CAC3D29C,EAAU,KACVC,EAAWA,EAAS3B,kBAEpB,OAKZ/7C,KAAKqC,QAAQw3E,GAEb,GAAIp8B,EACAt3B,EAASnmB,KAAK+gE,OAAOrjB,EAAU30B,KAIvCy0D,WAAY,SAASltD,GACjB,OAAOA,EAAU+wB,SAASrhD,KAAKm+E,QAAQ,mBAAmB56D,QAG9Dm7L,cAAe,SAAS7uM,GACpB,IAAItP,EAAOP,KACPopK,EAEJv5J,EAAQwxC,SAAS9gD,EAAK49E,QAAQ,WAAW1gF,KAAK,WAC1C,GAAI8C,EAAK69E,SACLgrF,EAAS/oI,EAAuBnjC,EAAE8C,MAAOO,EAAK69E,SAAS,SAEvDgrF,EAAS9rK,EAAMgyB,WAAWpyB,EAAE8C,MAAO,GAAIinB,EAAGsI,OAG9C,IAAI8uL,EAAWj1C,EAAO3pK,QAAQ4+M,SAE9B,IAAKA,GAAYA,IAAan3L,EAAOsL,YAAYxW,GAAGvf,KAChD8D,EAAKm9E,QAAQ0rF,EAAO3pK,QAAQjD,IAAM4sK,OAElCA,EAAOn9I,eAa3B,OANI3uB,EAAM4pB,OAAOo2D,WAAaA,EAE1Br2D,EAAG+J,OAAOspD,GACVrzD,EAAG+J,OAAOurD,GAGPn/E,OAAOE,QA1sBd,CA4sBoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,sBAAsB,CAAE,cAChC,WAEH,IAAIC,EAAW,CACXC,GAAI,gBACJC,KAAM,SACNC,SAAU,SACVC,YAAa,gBACbotC,QAAS,CAAE,QACXC,OAAQ,MAGF9sC,EAgFPE,OAAOE,MAAMH,OAhFHE,OAAb,EACQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM4pB,OAAOD,GAClBH,EAASG,EAAGH,OACZm4L,EAAiB/hN,EAAEgU,IAAI5T,EAAMq3B,SAAU,SAASrtB,GAAS,OAAOA,IAAUxE,KAAK,KAAKD,MAAM,KAE1FszK,EAASrvJ,EAAOtpB,OAAO,CACvBiD,KAAM,SAAS6vB,EAAW7wB,GACtB,IAAIc,EAAOP,KACP6P,EAAU3S,EAAE,oJAEhB4pB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCc,EAAK+vB,UAAYA,EACjB/vB,EAAK2+M,cAAgB,MAErB3+M,EAAK4+M,iBAELtvM,EAAQkxD,OAAOxgE,EAAKd,QAAQoxB,SAAStN,OAAO2hB,SAAS5U,IAGzD7wB,QAAS,CACLhD,KAAM,SACNo0B,QAAS,sBACTgO,QAAS,KAGb4zC,KAAM,WACF,IAAIlyE,EAAOP,KAEXw0B,aAAaj0B,EAAK0gD,UAElB,GAAI1gD,EAAKd,QAAQoxB,UAAY,MACzB,OAGJtwB,EAAK2+M,cAAgB,KACrB3+M,EAAK0gD,SAAW9tB,WAAW,WACvB5yB,EAAKsP,QAAQ4iE,QACdlyE,EAAKd,QAAQo/B,UAGpBtb,KAAM,WACFvjB,KAAKk/M,cAAgB,MACrB1qL,aAAax0B,KAAKihD,UAClBjhD,KAAK6P,QAAQ0T,QAGjB67L,cAAe,SAAS/0L,GACpBrqB,KAAKP,QAAQoxB,QAAUxG,EACvBrqB,KAAK6P,QAAQkgB,KAAK,OAAO7rB,KAAKmmB,IAGlCykD,WAAY,WACR9uE,KAAKk/M,cAAgB,KACrBl/M,KAAKswB,UAAUzb,IAAI,iBAAkB,SAGzCwqM,eAAgB,WACZr/M,KAAKk/M,cAAgB,MACrBl/M,KAAKswB,UAAUzb,IAAI,iBAAkB,KAGzCsqM,eAAgB,WACZ,IAAI5+M,EAAOP,KACXO,EAAK2+M,cAAgB,MAErB,SAAS7pK,EAAQ/yC,GACb,GAAI/B,EAAK2+M,cACL58M,EAAEpB,iBAIV,IAAK,IAAIrB,EAAI,EAAGA,EAAIo/M,EAAen/M,OAAQD,IACvCU,EAAK+vB,UAAU,GAAGnQ,iBAAiB8+L,EAAep/M,GAAIw1C,EAAS,SAQ/E,OAHIpuB,EAAG+J,OAAOmlJ,GAGP/4K,OAAOE,QA/Fd,CAiGoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,oBAAoB,CAAE,oBAAqB,uBACnD,WAEH,IAAIC,EAAW,CACXC,GAAI,cACJC,KAAM,OACNC,SAAU,SACVC,YAAa,cACbotC,QAAS,CAAE,cAAe,iBAC1BC,OAAQ,MAGF9sC,EAgWPE,OAAOE,MAAMH,OAhWHE,OAAb,EACQC,EAAQF,OAAOE,MACf4pB,EAAS5pB,EAAM4pB,OACfyC,EAAersB,EAAMqsB,aACrB1C,EAAKC,EAAOD,GACZH,EAASG,EAAGH,OACZw2D,EAAap2D,EAAOo2D,WACpBhD,EAAOrzD,EAAGqzD,KACV67F,EAASjvJ,EAAOD,GAAGkvJ,OAEnBmpC,EAAW,WACX1nG,EAAO,OACP2nG,EAAa,KAEb7oF,EAAW,WACX18C,EAAY,WACZD,EAAsB,oBACtB5qC,EAAK7xC,EAAMW,QAAQsgB,SACnBihM,EAAiCrwK,EAAGjyB,MAAQiyB,EAAGhxB,SAAWgxB,EAAGnxB,aAAe,IAC5EyhM,EAAc,uCACdv1K,EAAO,SAEP5W,EAAYh2B,EAAMg2B,UAElBs3D,EAAO9jE,EAAOtpB,OAAO,CACrBiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCA,EAAUc,EAAKd,QACfoQ,EAAUtP,EAAKsP,QAEfA,EAAQqG,SAAS,WAEjB,GAAI3V,EAAKd,QAAQi2L,YACb7lL,EAAQqG,SAAS,uBAGrBlW,KAAK2hB,QAAU,GAEf3hB,KAAK0/M,gBAAkB,SAAS32L,EAAK+U,EAAQsP,GACzC,IAAI0hC,EAAavuE,EAAKuuE,WACtBvuE,EAAKuuE,WAAa,KAGlB,GAAI0wI,GAAkCpyK,EAClC0hC,EAAa,OAGjB,OAAOvuE,EAAKo/M,WAAW/hI,SAAS70D,EAAK+lD,EAAYhxC,IAGrD99B,KAAK4/M,iBAAmB,SAAS72L,GAC7B,GAAIA,IAAQmhB,EAAM,CACd,GAAI3pC,EAAKohB,QAAQ7hB,SAAW,EACxB,OAGJS,EAAKohB,QAAQ0U,MACbtN,EAAMxoB,EAAKohB,QAAQphB,EAAKohB,QAAQ7hB,OAAS,QAEzCS,EAAKohB,QAAQzf,KAAK6mB,GAGtBxoB,EAAKm/M,gBAAgB32L,EAAKzrB,EAAMsgC,uBAAuB7U,KAG3D/oB,KAAK6/M,gBAAkB,SAAS92L,GAC5B,IAAI+U,EAASxgC,EAAMsgC,uBAAuB7U,GAC1CxoB,EAAKohB,QAAQphB,EAAKohB,QAAQ7hB,OAAS,GAAKipB,EACxCxoB,EAAKm/M,gBAAgB32L,EAAK+U,IAG9Bv9B,EAAKk+E,OAAS,IAAI03F,EAAOtmK,EAAS,CAC9BghB,QAAStwB,EAAKd,QAAQoxB,UAG1BtwB,EAAKo/M,WAAa,IAAIriI,EAAW,CAC7BhtD,UAAWzgB,EACXi/D,WAAYrvE,EAAQqvE,WACpB8P,WAAYn/E,EAAQm/E,WACpB4/H,YAAa/+M,EAAQk5E,QACrBimI,iBAAkBn/M,EAAQm/M,iBAC1B/gI,oBAAqBp+E,EAAQsrC,MAAQ,GACrCq+H,OAAQ3pK,EAAQ2pK,OAChBhrF,SAAU3+E,EAAQ2+E,SAClBK,OAAQl+E,EAAKk+E,OAEblD,UAAW,WACPh7E,EAAKk+E,OAAO3P,aACZvuE,EAAKu/M,sBAGT7iI,MAAO,WACH18E,EAAKk+E,OAAO4gI,kBAGhBU,SAAU,SAASz9M,GACf/B,EAAK8B,QAAQ23E,EAAW13E,IAG5B09M,UAAW,WACPz/M,EAAKk+E,OAAOhM,QAGhBwtI,aAAc,WACV1/M,EAAKk+E,OAAOl7D,QAGhB28L,kBAAmB,WACf3/M,EAAK8B,QAAQ03E,IAGjBomI,mBAAoB,SAAS79M,GACzB,IAAKA,EAAEk2D,SAAWj4D,EAAKd,QAAQm/M,iBAC3Br+M,EAAK8B,QAAQq0H,EAAU,CAAE3tG,IAAKzmB,EAAEymB,SAM5C/oB,KAAKogN,oBAEL9iN,EAAM41B,SAAS,WACX3yB,EAAK6/M,sBAGT7/M,EAAK8/M,kBAGTP,mBAAoB,WAChB,IAAIQ,EAAUtgN,KAAK6P,QAAQkgB,KAAKpG,EAAa,kCAAkCsG,OAAO,YACtFqwL,EAAQ7iN,KAAK,WACTH,EAAM8yB,eAAelzB,EAAE8C,MAAOinB,GAAIgzB,WAI1CsmK,kBAAmB,WACf,IAAI5nI,EAAU34E,KAAKP,QAAQk5E,QAE3B,GAAIA,EACA34E,KAAKqrC,SAASstC,GAGlB,OAAOA,GAGXl5E,QAAS,CACLhD,KAAM,OACN+jN,cAAe,GACf1xI,WAAY,GACZs6F,OAAQ,GACRssB,YAAa,MACb/8G,QAAS,KACTiG,WAAYxhF,OACZyzB,QAAS,uBAGb7uB,OAAQ,CACJ00H,EACA18C,EACAD,GAGJhZ,OAAQ,SAAS78D,GACb,OAAOlE,KAAK2/M,WAAW5+I,OAAO78D,IAGlC+nB,QAAS,WACLnF,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,MACvBA,KAAK2/M,WAAW1zL,UAChBjsB,KAAKkyC,WAAWjmB,WAGpBof,SAAU,SAAStiB,EAAK+lD,GACpB,GAAI/lD,aAAeuxD,EACfvxD,EAAMA,EAAIvsB,GAGdwD,KAAK8uE,WAAaA,EAElB9uE,KAAK4/M,iBAAiB72L,IAG1B5oB,QAAS,SAAS4oB,EAAK+lD,GACnB,GAAI/lD,aAAeuxD,EACfvxD,EAAMA,EAAIvsB,GAGdwD,KAAK8uE,WAAaA,EAElB9uE,KAAK6/M,gBAAgB92L,IAGzB03L,aAAc,SAASC,GACnB,IAAIngN,EAAOP,KACP2hB,EAAU3hB,KAAK2hB,QACfg+L,EAAa3/M,KAAK2/M,WAEtBe,EAAOn/M,KAAK,OAAQ,SAASe,GACzB,IAAIymB,EAAMzmB,EAAEymB,IACR43L,EAAUD,EAAOh/L,UAAYqH,EAAM,IAEvC42L,EAAWliI,SAAStnE,KAAK7Y,EAAM6Y,KAAK,OAAQwqM,GAG5C,IAAI7gN,EAAS6hB,EAAQ7hB,OAErB,GAAIipB,IAAQ,KAAOjpB,EAAQ,CACvB4gN,EAAOr1K,SAAS1pB,EAAQ7hB,EAAS,GAAI,MACrCwC,EAAEpB,oBAIVw/M,EAAOn/M,KAAK,eAAgB,SAASe,GACjC,IAAK/B,EAAKm/M,gBAAgBp9M,EAAEymB,IAAKzmB,EAAEw7B,OAAQx7B,EAAE8qC,mBACzC9qC,EAAEpB,mBAIVw/M,EAAOn/M,KAAK,OAAQ,WAChBhB,EAAK8B,QAAQ03E,KAGjBx5E,EAAKq/M,iBAAmB,SAAS72L,GAC7B23L,EAAOr1K,SAAStiB,IAGpBxoB,EAAKs/M,gBAAkB,SAAS92L,GAC5B23L,EAAOvgN,QAAQ4oB,KAIvB63L,YAAa,WACT5gN,KAAKy+E,OAAOl7D,QAGhBs9L,YAAa,WACT7gN,KAAKy+E,OAAOhM,QAGhBquI,qBAAsB,SAASz2L,GAC3BrqB,KAAKy+E,OAAO2gI,cAAc/0L,IAG9BqH,KAAM,WACF,OAAO1xB,KAAK2/M,WAAWjuL,QAG3B0uL,kBAAmB,WACf,IAAIzqM,EACA6qM,EAAgBxgN,KAAKP,QAAQ+gN,cAEjC,GAAIA,EAAe,CACf7qM,EAAQrY,EAAM4pB,OAAOsL,YAAY3iB,QAAQoG,GAAG,gBAAkBuqM,EAAgB,OAC9ExgN,KAAK6P,QAAQgF,IAAI,QAASc,KAIlC0qM,eAAgB,WACZ,IAAI9/M,EAAOP,KACP+gN,EAAY,MACZC,EAAwB,SAAW1jN,EAAMurB,GAAK,qBAE9Co4L,EAAkB/jN,EAAEgU,IAAI,CAAC,SAAU,aAAc,eAAgB,iBAAmB,SAAS0Y,GACzF,OAAOD,EAAaC,GAAQ,QAAUo3L,EAAwB,MAC/Dl+M,KAAK,KAEZ9C,KAAK6P,QAAQ/N,QAAQ9B,MAChBomB,GAAG,OAAQuD,EAAao3L,GAAa,IAAMC,EAAuB,YAClE56L,GAAG,QAASuD,EAAao3L,GAAa,IAAME,EAAkB,IAAMD,EAAuB,iBAEhGhhN,KAAKkyC,WAAa,IAAI50C,EAAM+1C,WAAWrzC,KAAK6P,QAAS,CACjDwkC,QAAS,KACTpkB,OAAQgxL,EACRxqK,IAAK,SAASn0C,GACVA,EAAE+Y,MAAMk2B,cAAgBjvC,EAAEoY,MAAM62B,cAChChxC,EAAK2gN,SAAS5+M,EAAE+Y,UAKxBrb,KAAK6P,QAAQgF,IAAI,mBAAoB,KAGzCssM,cAAe,SAAU7+M,GACrB,IAAI6vB,EAAOj1B,EAAEoF,EAAEivC,eAAep7B,KAAK,QACnC,IAAIqiD,EAASrmC,GAAQA,EAAK,KAAO,KAAOnyB,KAAKP,QAAQm/M,iBAErD,IAAIpmJ,GAAUllC,EAAUp2B,EAAEoF,EAAEivC,eAAgB,QAAU+tK,EAClDh9M,EAAEpB,kBAIVggN,SAAU,SAAS5+M,GACf,GAAIA,EAAEozC,MAAQ,GAAKpzC,EAAElB,qBACjB,OAGJ,IAAImxF,EAAOvyF,KACP6mF,EAAO3pF,EAAEoF,EAAEivC,eACXu9B,EAAax7C,EAAUuzD,EAAM,cAC7Bu6H,EAAM9tL,EAAUuzD,EAAM,QAAU,GAChClnF,EAAS2zB,EAAUuzD,EAAM,UACzB10D,EAAO00D,EAAK1wE,KAAKyhG,GACjBypG,EAAkB7B,GAAkC34H,EAAK,GAAGp4D,eAAiB,EAC7E+pC,EAASrmC,GAAQA,EAAK,KAAO,KAAOnyB,KAAKP,QAAQm/M,iBAErD,GAAIyC,GAAmB7oJ,GAAU4oJ,IAAQ9B,UAAoBntL,IAAS,aAAgBA,IAASotL,EAC3F,OAIJ14H,EAAK1wE,KAAKyhG,EAAM2nG,GAChBpsL,WAAW,WAAa0zD,EAAK1wE,KAAKyhG,EAAMzlF,KAExC,GAAIivL,EAAI98M,MAAMm7M,GAAc,CACxBniN,EAAM8yB,eAAelzB,EAAEi1B,GAAOlL,GAAIq6L,QAAQz6H,GAG1C,GAAIu6H,IAAQ,eAAiBA,IAAQ,SACjC9+M,EAAEgyB,sBAEH,CACH,GAAI30B,IAAW,OACX4yF,EAAOrrE,EAAOsL,YAAY+/D,UAEzB,GAAI5yF,EACL4yF,EAAOr1F,EAAE,IAAMyC,GAAQsE,KAAK,mBAGhCsuF,EAAKlnD,SAASlZ,EAAM28C,GAGxBxsE,EAAEpB,oBAmBd,OAfI0pF,EAAKx1E,KAAO,SAASvF,GACjB,IAAKA,EAAQoG,GAAG0T,EAAa,SACzB9Z,EAAUA,EAAQuF,KAAK,aAAe9X,EAAMurB,GAAK,0CAA0CtT,SAG/F,IAAIgsM,EAAgB1xM,EAAQuF,KAAK,kDAAkDG,SAC/Eg9E,EAAO,IAAI3H,EAAK22H,GAEpBhvH,EAAKlnD,SAAS,IAEd,OAAOknD,GAEXtrE,EAAG+J,OAAO45D,GAGPxtF,OAAOE,QA/Wd,CAiXoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,uBAAuB,CAAE,cAAe,qBAChD,WAEH,IAAIC,EAAW,CACXC,GAAI,iBACJC,KAAM,UACNC,SAAU,SACVC,YAAa,+IACbotC,QAAS,CAAE,QAAS,gBAGd7sC,EAmQPE,OAAOE,MAAMH,OAnQHE,OAAb,EACQC,EAAQF,OAAOE,MACf4pB,EACAD,EADS3pB,EAAM4pB,OACHD,GACZsyD,EAAO,OACPsuB,EAAO,OACPC,EAAQ,QACRsG,EAAU,uCACVozG,EAAQ,qCACRC,EAAU,uCACVC,EAAoB,iCACpB56L,EAASG,EAAGH,OACZ66L,EAAa,CACTh/L,KAAQ,CACJwyD,OAAQ,gBACRx+D,SAAU,cAEdiM,GAAM,CACFuyD,OAAQ,aACRx+D,SAAU,iBAEd1B,KAAQ,CACJkgE,OAAQ,cACRx+D,SAAU,eACVqlF,UAAW,YAEf9mF,MAAS,CACLigE,OAAQ,eACRx+D,SAAU,cACVqlF,UAAW,aAInB4lH,EAAY,CACRz4G,UAAW,CACPC,KAAM,CACFpmF,QAAS,UACTI,SAAU,GAEd62B,MAAO,CACHj3B,QAAS,WACTI,SAAU,OAItBgvF,EAAa,CACTnjC,WAAc,CAAEh7D,OAAQ,MAAOjC,KAAM,UACrC+8D,SAAY,CAAE96D,OAAQ,OAAQjC,KAAM,UAGxCkgG,EAAU,CACNtvF,GAAM,OACND,KAAQ,KACR1N,KAAQ,QACRC,MAAS,QAGb4zF,EAAQhiF,EAAOtpB,OAAO,CACtBiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACP6hN,EAAiBhyM,EAAQ0K,QAAQ,yBACjCovF,EAAW95F,EAAQ0K,QAAQ,YAAY8mC,SAAS,YAAYl/C,QAC5DmuB,EAAYuxL,EAAe,GAAKA,EAAiBl4G,EACjDm4G,EACArjL,EAEJ,GAAIh/B,EAAQkqG,SACRA,EAAWlqG,EAAQkqG,cAChB,IAAKA,EAAS,GACjBA,EAAWvsG,OAGf,GAAIqC,EAAQ6wB,UACRA,EAAY7wB,EAAQ6wB,eACjB,IAAKA,EAAU,GAClBA,EAAY9gB,SAAS2K,KAGzB2nM,EAAe,CACXn4G,SAAUA,EACVC,iBAAkB,MAClBv0F,SAAU,KACV+zF,KAAM,WACF7oG,EAAK8tM,QAAQ57H,QAGjB6iC,SAAU/0G,EAAKm5M,UAAUn4M,KAAKhB,GAE9BkwG,WAAY,WACRlwG,EAAK8tM,QAAQ9qL,OACb,IAAKhjB,EAAKg1C,SACNh1C,EAAK8B,QAAQk3E,GAGjBh5E,EAAKg1C,SAAW,QAIxBzuB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCoQ,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QAEfoQ,EAAQuF,KAAKg5F,GAASl4F,SAAS,YAAYu8D,OAE3Ch0C,EAAOl+B,EAAKd,QAAQ63C,UAAUhzC,MAAM,cAAgB,aAAe,WAEnE/D,EAAKwrB,WAAaqmF,EAAW3zE,GAE7Bl+B,EAAKiW,QAAU3G,EAAQ0F,SAASV,IAAI,CAChCc,MAAOlW,EAAQkW,MACfE,OAAQpW,EAAQoW,SACjBK,SAAS,uBAAyBzW,EAAQ63C,WAAW/zB,OAExDhjB,EAAKkzG,MAAQv2G,EAAEskN,GAAO1wL,UAAUvwB,EAAKiW,SAAS+M,OAE9ChjB,EAAK8tM,QAAUnxM,EAAEukN,GAASv8K,SAAS5U,GAAW/M,OAC9Cu+L,EAAa58K,SAAW3kC,EAAK8tM,QAE7B,GAAI5uM,EAAQmZ,UACRrY,EAAK8tM,QAAQn4L,SAASzW,EAAQmZ,WAGlCrY,EAAKsqG,MAAQ,IAAIvtG,EAAM2pB,GAAG6hF,MAAMvoG,EAAKiW,QAAStZ,EAAEM,OAAO,KAAMskN,EAAcF,EAAWD,EAAWliN,EAAQ63C,cAG7G73C,QAAS,CACLhD,KAAM,QACNkZ,MAAO,IACPE,OAAQ,GACRyhC,UAAW,OACXhnB,UAAW,KACXq5E,SAAU,MAGd3nG,OAAQ,CACJu3E,GAGJ9G,KAAM,SAAS9yE,GACXK,KAAK6qG,MAAMprG,QAAQ8iG,OAASrlG,EAAEyC,GAC9BK,KAAK6qG,MAAMzB,QAGf7lF,KAAM,WACFvjB,KAAKu1C,SAAW,KAChBv1C,KAAK6qG,MAAM5wD,SAGfhuB,QAAS,WACLnF,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,MACvBA,KAAK6qG,MAAM5+E,UACXjsB,KAAKquM,QAAQt9K,UAGjBpxB,OAAQ,WACJ,OAAOK,KAAK6qG,MAAMprG,QAAQ8iG,QAG9Bm3G,UAAW,WACP,IAAIn5M,EAAOP,KACPs3C,EAAY/2C,EAAKd,QAAQ63C,UACzBvrB,EAAaxrB,EAAKwrB,WAClB9X,EAAS8X,EAAW9X,OACpB42F,EAAQtqG,EAAKsqG,MACbtI,EAASsI,EAAMprG,QAAQ8iG,OACvBmK,EAAexvG,EAAEqlG,GAAQtuF,SACzBq/F,EAAgBp2G,EAAE2tG,EAAMh7F,SAASoE,SACjC+L,EAAW6qF,EAAMR,QAAU6H,EAAQ56D,GAAaA,EAChDvoC,EAAMxO,EAAKkzG,MAAM1nF,EAAW/Z,QAAU,EACtC9E,EAAM3M,EAAKsP,QAAQkc,EAAW/Z,QAAUzR,EAAKkzG,MAAM1nF,EAAW/Z,QAC9DA,EAAO9U,EAAEqlG,GAAQx2E,EAAW/Z,QAC5BuhG,EAAe7G,EAAaz4F,GAAUq/F,EAAcr/F,GAAWjC,EAAO,EAE1E,GAAIuhG,EAAexkG,EACfwkG,EAAexkG,EAGnB,GAAIwkG,EAAermG,EACfqmG,EAAermG,EAGnB3M,EAAKiW,QAAQf,YAAYisM,GAAmBxrM,SAAS,MAAQ8J,GAC7Dzf,EAAKkzG,MAAM5+F,IAAIZ,EAAQs/F,GAAc9gC,UAIzCsvI,EAAUj7L,EAAOtpB,OAAO,CACxBiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACP8hN,EAEJvhN,EAAKyhN,YAAc,MAEnBl7L,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCqiN,EAAe5kN,EAAEM,OAAO,CACpBob,UAAW,kBACX2K,KAAM,WAAahjB,EAAK8B,QAAQylG,KACjC9nG,KAAKP,QAAQorG,OAEhBtqG,EAAKsqG,MAAQ,IAAI/B,EAAMvoG,EAAKsP,QAASiyM,GACrCvhN,EAAKsqG,MAAMwjG,QAAQjoL,GAAG,OAAQ,SAAS9jB,GACnC,GAAIA,EAAE3C,QAAUY,EAAKsqG,MAAMwjG,QAAQ,GAC/B/rM,EAAEpB,mBAIVX,EAAKgyF,KAAO,IAAItrE,EAAG2jE,KAAKrqF,EAAKsP,QAAS3S,EAAEM,OAAOwC,KAAKP,QAAQ8yF,KAAM,CAAEnU,SAAUp+E,KAAKP,QAAQ2+E,YAE3F9gF,EAAMoxB,OAAOnuB,EAAM0mB,IAGvBxnB,QAAS,CACLhD,KAAM,UACNouG,MAAO,GACPtY,KAAM,IAGVvwF,OAAQ,CACJ6lG,EACAC,GAGJsB,KAAM,SAASzpG,GACXK,KAAK6qG,MAAMp4B,KAAK9yE,GAEhB,IAAKK,KAAKgiN,YAAa,CACnB,IAAKhiN,KAAKuyF,KAAKguH,oBACXvgN,KAAKuyF,KAAKlnD,SAAS,IAGvBrrC,KAAK6qG,MAAMA,MAAM9V,YACjB/0F,KAAKgiN,YAAc,UAEnBhiN,KAAKuyF,KAAK7gE,OAAO6rL,uBAIzB+D,QAAS,SAAS3hN,GACdK,KAAKopG,KAAKzpG,GACVK,KAAKqC,QAAQwlG,EAAM,CAAEloG,OAAQK,KAAK6qG,MAAMlrG,YAG5Cs6C,MAAO,WACHj6C,KAAK6qG,MAAMtnF,QAGf0I,QAAS,WACLnF,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,MACvBA,KAAKuyF,KAAKtmE,UACVjsB,KAAK6qG,MAAM5+E,UAEX3uB,EAAM2uB,QAAQjsB,KAAK6P,YAQ/B,OAJIoX,EAAG+J,OAAO83E,GACV7hF,EAAG+J,OAAO+wL,GAGP3kN,OAAOE,QAjRd,CAmRoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,oBAAoB,CAAE,eAC9B,WAEH,IAAIC,EAAW,CACXC,GAAI,cACJC,KAAM,OACNC,SAAU,SACVC,YAAa,cACbotC,QAAS,CAAE,SACXC,OAAQ,MAGF9sC,EAkHPE,OAAOE,MAAMH,OAlHHE,OAAb,EACQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM4pB,OAAOD,GAClB6hF,EAAQxrG,EAAM2pB,GAAG6hF,MACjBm5G,EAAO,8BACP1oI,EAAO,OACPzyD,EAASG,EAAGH,OAEZo7L,EAAOp7L,EAAOtpB,OAAO,CACrBiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACPmiN,EAAM7kN,EAAM4pB,OAAOsL,YACnBxW,EAAK1e,EAAMW,QAAQsgB,SACnB6jM,EAASD,EAAMA,EAAInmM,GAAGvf,KAAQuf,EAAKA,EAAGvf,KAAO,MAC7C4lN,EAAQD,IAAW,OAASA,IAAW,OAASD,EAAMA,EAAInmM,GAAG0hM,KAAO,OACpE4E,EAAKF,IAAW,aAChBnkH,EAAQx+F,EAAQw+F,QAAUokH,EAAS,gBAAkBC,EAAK,eAAiB,iBAC3E3rM,EAAWlX,EAAQkX,WAAa0rM,EAAQ,gBAAkBC,EAAK,eAAiB,iBAChF5xI,EAASjxE,EAAQixE,SAAW2xI,EAAQ,aAAeC,EAAK,eAAiB,WACzEC,EAAOrlN,EAAE+kN,GAAMngN,QAAQvB,GAAMgjB,OAEjCuD,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCc,EAAKgiN,KAAOA,EACZ1yM,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QAEf,GAAIA,EAAQmZ,UACRrY,EAAKgiN,KAAKrsM,SAASzW,EAAQmZ,WAG/B,IAAKnZ,EAAQoqG,MACTtpG,EAAKgiN,KAAKn8L,GAAG,OAAQ,UAGxB+7L,EAAMA,EAAItyM,QAAU3S,EAAEsS,SAAS2K,OAAO4mD,OAAOwhJ,GAE9ChiN,EAAKsqG,MAAQ,IAAI/B,EAAMvoG,EAAKsP,QAAS,CACjC0yF,OAAQggH,EACR14G,MAAO,KACP3kE,SAAUq9K,EACVptI,OAAQ8oB,EACRtnF,SAAUA,EACVwyF,UAAW,CACPC,KAAM,CACFpmF,QAAS0tD,EACTttD,SAAU3jB,EAAQ2jB,UAEtB62B,MAAO,CACH72B,SAAU3jB,EAAQ2jB,WAI1B62B,MAAO,SAAS33C,GACZ,IAAI6xL,EAAY,MAEhB,IAAK5zL,EAAKg1C,SACN4+I,EAAY5zL,EAAK8B,QAAQk3E,GAG7B,GAAI46G,EACA7xL,EAAEpB,iBAGNX,EAAKg1C,SAAW,OAGpBk7D,WAAY,WACR8xG,EAAKh/L,QAGT6lF,KAAM,WACFm5G,EAAK9vI,UAIbn1E,EAAMoxB,OAAOnuB,IAGjByB,OAAQ,CAAEu3E,GAEV95E,QAAS,CACLhD,KAAM,OACNotG,MAAO,MACP5L,MAAO5gG,EACPsZ,SAAUtZ,EACVqzE,OAAQrzE,EACR+lB,SAAU,KAGdqvD,KAAM,WACFzyE,KAAK6qG,MAAMzB,QAGf7lF,KAAM,WACFvjB,KAAKu1C,SAAW,KAChBv1C,KAAK6qG,MAAM5wD,SAGfhuB,QAAS,WACLnF,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,MACvBA,KAAKuiN,KAAK9wL,eACVzxB,KAAK6qG,MAAM5+E,UACXjsB,KAAKuiN,KAAKxxL,UAGdyxL,MAAO,SAASlgN,GACZ,IAAKA,IAAMpF,EAAEiyB,SAASnvB,KAAKuiN,KAAKlhK,WAAWA,SAAS,YAAY,GAAI/+C,EAAE3C,QAClEK,KAAK6qG,MAAM5wD,WAQ3B,OAHIhzB,EAAG+J,OAAOkxL,GAGP9kN,OAAOE,QAjId,CAmIoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,yBAAyB,CAAE,oBAAqB,qBACxD,WAEH,IAAIC,EAAW,CACXC,GAAI,mBACJC,KAAM,YACNC,SAAU,SACVC,YAAa,0GACbotC,QAAS,CAAE,cAAe,gBAGpB7sC,EAkHPE,OAAOE,MAAMH,OAlHHE,OAAb,EACQC,EACA2pB,EADQ7pB,OAAOE,MACJ4pB,OAAOD,GAClBi7L,EAAOj7L,EAAGi7L,KACVp7L,EAASG,EAAGH,OACZ27L,EAAc,aACd56G,EAAO,OACPC,EAAQ,QACRz6D,EAAO,OACPq1K,EAAO,2CAEPC,EAAY17L,EAAGqzD,KAAK98E,OAAO,CAC3BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCc,EAAK2rC,MACL3rC,EAAKo6E,QACLp6E,EAAKqiN,QAEL,IAAK5iN,KAAKP,QAAQ2+E,SAAU,CACxB79E,EAAKkoK,UACLloK,EAAKy8M,YACLz8M,EAAK08M,SAGT18M,EAAKsP,QAAQgF,IAAI,UAAW,IAE5BtU,EAAK8B,QAAQgrC,IAGjBrrC,OAAQ,CACJqrC,EACAo1K,EACA56G,EACAC,GAGJroG,QAAS,CACLhD,KAAM,YACNotG,MAAO,KACPl0F,MAAO,KACPE,OAAQ,MAGZoW,QAAS,WACLnF,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,MACvBA,KAAKuiN,KAAKt2L,WAGdm9E,KAAM,SAASzpG,GACX,IAAIY,EAAOP,KACXO,EAAKZ,OAASzC,EAAEyC,GAChBY,EAAKgiN,KAAK9vI,OAEVlyE,EAAKg9M,sBAGLh9M,EAAK8B,QAAQ,OAAQ,CAAEqvB,KAAMnxB,KAIjC+gN,QAAS,SAAS3hN,GACd,IAAKK,KAAKqC,QAAQogN,EAAa,CAAE9iN,OAAQA,IAAW,CAChDK,KAAKopG,KAAKzpG,GACVK,KAAKqC,QAAQwlG,EAAM,CAAEloG,OAAQA,MAIrCs6C,MAAO,WACH,GAAIj6C,KAAK6P,QAAQoG,GAAG,cAAgBjW,KAAKqC,QAAQylG,GAC7C9nG,KAAKuiN,KAAKh/L,QAIlBo3D,MAAO,WACH,IAAIp6E,EAAOP,KACP6P,EAAUtP,EAAKsP,QACfpQ,EAAUc,EAAKd,QACfkW,EAAOE,EAEXF,EAAQ9F,EAAQ,GAAG+F,MAAMD,OAAS,OAClCE,EAAShG,EAAQ,GAAG+F,MAAMC,QAAU,OAEpChG,EAAQqG,SAAS,gBAAgBd,KAAKstM,GAEtCniN,EAAKiW,QAAU3G,EAAQ0F,SAASV,IAAI,CAChCc,MAAOlW,EAAQkW,OAASA,GAAS,IACjCE,OAAQpW,EAAQoW,QAAUA,GAAU,MACrCK,SAASL,GAAU,OAAS,kBAAoB,IAEnDhG,EAAQgF,IAAI,CAAEc,MAAO,GAAIE,OAAQ,MAGrC+sM,MAAO,WACH,IAAIriN,EAAOP,KAEXO,EAAKgiN,KAAO,IAAIL,EAAK3hN,EAAKiW,QAAS,CAC/BqzF,MAAOtpG,EAAKd,QAAQoqG,MACpBlzF,SAAU,gBACVsnF,MAAO,gBACPvtB,OAAQ,UACR93D,UAAW,oBACX2K,KAAM,SAASjhB,GACX,GAAI/B,EAAK8B,QAAQylG,GACbxlG,EAAEpB,uBAU1B,OAHI+lB,EAAG+J,OAAO2xL,GAGPvlN,OAAOE,QAhId,CAkIoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,sBAAsB,CAAE,oBAAqB,oBACrD,WAEH,IAAIC,EAAW,CACXC,GAAI,gBACJC,KAAM,SACNC,SAAU,SACVC,YAAa,qFACbotC,QAAS,CAAE,cAAe,eAGpB7sC,EAoTPE,OAAOE,MAAMH,OApTHE,OAAb,EACQC,EAAQF,OAAOE,MACf4pB,EAAS5pB,EAAM4pB,OACflL,EAAK1e,EAAMW,QAAQsgB,SACnB+5D,EAAah7E,EAAM0lB,QAAQs1D,WAC3B3uD,EAAersB,EAAMqsB,aACrBk5L,EAAO,IACP57L,EAAKC,EAAOD,GACZ67L,IAAkB9mM,EAAGkB,KAAOlB,EAAG+B,cAAgB,IAAM/B,EAAGmC,SACxDu+L,EAAc,aACdrvK,EAAO,OACPisC,EAAO,OACPC,EAAO,OACPwpI,EAAa,YACbC,EAAY,CAAE5+L,OAAQlnB,EAAEU,MAExBqlN,EAASh8L,EAAGqzD,KAAK98E,OAAO,CACxBiD,KAAM,SAASoP,EAASpQ,GAEpBvC,EAAE2S,GAAS0F,SAASu8E,QAAQjiF,GAE5BqX,EAAOD,GAAGH,OAAOnmB,GAAGF,KAAK+B,KAAKxC,KAAM6P,EAASpQ,GAE7C,IAAKO,KAAKP,QAAQ2+E,SAAU,CACxBp+E,KAAKyoK,UACLzoK,KAAKg9M,YAGTh9M,KAAKi9M,SAEL,IAAI1qH,EAAOvyF,KAAK6P,QAAQ0K,QAAQoP,EAAa,SAAS1lB,KAAK,mBACvDiuC,EAEJ,GAAIqgD,EAAM,CACNvyF,KAAKuyF,KAAOA,EACZvyF,KAAKuyF,KAAKhxF,KAAK,WAAY,SAASe,GAChC4gN,EAAOC,UAAU7gN,KAGrBtC,KAAKuyF,KAAKhxF,KAAK,oBAAqB,WAChC2hN,EAAO3/L,SAGX2uB,EAAalyC,KAAKkyC,WAAa,IAAI50C,EAAM+1C,WAAWk/C,EAAK1iF,QAAS,CAC9DwkC,QAAS,KACTpkB,OAAQtG,EAAa,kBACrBwqB,eAAgB,WAGjB,CACHn0C,KAAKs6H,YAAc0oF,EACnB,IAAI1yL,EAAYpzB,EAAE8C,KAAKP,QAAQ6wB,WAE/B,IAAKA,EACD,MAAM,IAAI1rB,MAAM,0DAGpBstC,EAAalyC,KAAKkyC,WAAa,IAAI50C,EAAM+1C,WAAW/iB,EAAW,CAAE+jB,QAAS,KAAMF,eAAgB,OAChGn0C,KAAKojN,kBAAkB9yL,GAG3B,IAAI4yL,EAASljN,KAEb,IAAIujB,EAAO,SAASjhB,GAChB,GAAI4gN,EAAO9wL,QAAS,CAChB8wL,EAAO3/L,OACPjhB,EAAEpB,mBAIV,GAAIlB,KAAKP,QAAQ4jN,aAAeP,EAAe,CAC3C5wK,EAAW3wC,KAAK,QAAS,WAAa2hN,EAAOp0I,WAAWj6C,WACxDqd,EAAW3wC,KAAK,QAAS,SAASe,GAAK4gN,EAAO5vK,OAAOhxC,KACrD4vC,EAAW3wC,KAAK,OAAQ,SAASe,GAAK4gN,EAAO/7E,QAAQ7kI,KACrD4vC,EAAW3wC,KAAK,MAAO,SAASe,GAAK4gN,EAAOrtK,KAAKvzC,KACjD4vC,EAAW3wC,KAAK,MAAOgiB,QAEvB2uB,EAAW3wC,KAAK,QAASgiB,GAG7BvjB,KAAKsjN,eAAiBtjN,KAAKP,QAAQkX,WAAa,OAEhD3W,KAAKoyB,QAAU,MAEfpyB,KAAK6P,QAAQ0T,OAAOrN,SAAS,aAAaA,SAASlW,KAAKsjN,eAAiB,iBAAmB,mBAC5FtjN,KAAKqC,QAAQgrC,IAGjB5tC,QAAS,CACLhD,KAAM,SACNka,SAAU,OACV+b,MAAO,GACP6wL,iBAAkB,GAClBF,YAAa,KACb/3K,MAAO,GACPhb,UAAW,MAGftuB,OAAQ,CACJ06M,EACAnjI,EACAwpI,EACA11K,EACAisC,GAGJ7G,KAAM,WACF,GAAIzyE,KAAK05M,YACL15M,KAAKkzG,SAIb3vF,KAAM,WACF,IAAKvjB,KAAKs6H,YACN,OAGJt6H,KAAKs6H,YAAYl2G,SAEjB6+L,EAAOp6M,QAAU,KACjB7I,KAAKwjN,YAAY,GACjBxjN,KAAKqC,QAAQk3E,EAAM,CAAE7nD,KAAM1xB,QAI/BshN,QAAS,WACL,GAAIthN,KAAKoyB,QACLpyB,KAAKujB,YAELvjB,KAAKyyE,QAIbxmD,QAAS,WACLhF,EAAGqzD,KAAK35E,GAAGsrB,QAAQzpB,KAAKxC,MACxBA,KAAKkyC,WAAWjmB,WAGpBytL,UAAW,WACP,GAAI15M,KAAKoyB,QACL,OAAO,KAGX,IAAIqxL,EAAuBzjN,KAAK0jN,uBAAuB1jN,KAAKP,QAAQizB,OAEpE,IAAK+wL,GAAwBzjN,KAAKqC,QAAQq6M,EAAa,CAAEhrL,KAAM1xB,OAC3D,OAAO,MAGXA,KAAK2jN,gBACL3jN,KAAK6P,QAAQ4iE,OAEbzyE,KAAKqC,QAAQi3E,EAAM,CAAE5nD,KAAM1xB,OAC3BA,KAAKu9M,sBACL,OAAO,MAGXmG,uBAAwB,SAAShxL,GAC7B,IAAK1yB,KAAKuyF,OAAS7/D,EAAM5yB,OACrB,OAAO,KAGX,IAAI4xB,EAAO1xB,KAAKuyF,KAAK7gE,OACrB,OAAOx0B,EAAEmyB,QAAQqC,EAAKl1B,GAAG2D,QAAQ,IAAK,IAAKuyB,IAAU,GAAKx1B,EAAEmyB,QAAQqC,EAAK7hB,QAAQsG,KAAK,MAAOuc,IAAU,GAG3GwgF,MAAO,WACHlzG,KAAKs6H,YAAYl2G,OAAO,OAExBpkB,KAAKoyB,QAAU,KACf,IAAIne,EAASjU,KAAK6P,QAAQ8F,QAE1B,IAAK3V,KAAKsjN,eACNrvM,GAAUA,EAGdjU,KAAKwjN,YAAYvvM,IAGrB0vM,cAAe,WACX,GAAIV,EAAOhpL,OAASj6B,KAAM,CACtB,GAAIijN,EAAOhpL,KACPgpL,EAAOhpL,KAAKpqB,QAAQ0T,OAExBvjB,KAAK6P,QAAQ4iE,OAGjBwwI,EAAOhpL,KAAOj6B,KACdijN,EAAOp6M,QAAU7I,MAGrBwjN,YAAa,SAASvvM,GAClBjU,KAAKkyC,WAAWrd,SAChB70B,KAAK8uE,WAAW2J,OAAO,CAAEp6D,SAAUpK,EAAQmP,SAAU,IAAKgtD,KAAMkI,EAAWQ,eAG/EqqI,UAAW,SAAS7gN,GAChB,GAAItC,KAAKs6H,YACLt6H,KAAKs6H,YAAYl2G,SAGrB,GAAIpkB,KAAKs6H,cAAgBh4H,EAAEovB,KAAM,CAC7B1xB,KAAKujB,OACL,OAGJvjB,KAAKs6H,YAAch4H,EAAEovB,KACrB1xB,KAAKojN,kBAAkB9gN,EAAEovB,KAAK7hB,UAGlCuzM,kBAAmB,SAASvzM,GACxB,IAAItP,EAAOP,KACP04E,EAAU14E,KAAK04E,QACfo3D,EAAgBp3D,GAAWA,EAAQz6C,EAGvC,GAAIj+B,KAAK8uE,WAAY,CACjB9uE,KAAK8uE,WAAWj6C,SAChB70B,KAAK04E,QAAQG,SAAS,IAAK,GAG/BH,EAAU14E,KAAK04E,QAAU,IAAIp7E,EAAM2pB,GAAGskE,QAAQ17E,GAE9C7P,KAAK8uE,WAAa,IAAIwJ,EAAW,CAC7B75C,KAAMokL,EACNnqI,QAAS14E,KAAK04E,QACdN,MAAO,WACH,GAAIM,EAAQmqI,KAAU,EAAG,CACrBhzM,EAAQ,GAAG+F,MAAMqE,QAAU,GAC3B1Z,EAAKsP,QAAQ0T,OACbhjB,EAAK8B,QAAQ0gN,GACbxiN,EAAK6xB,QAAU,UAK3B,GAAI09G,EAAe,CACfjgI,EAAQqG,SAAS,eACjB5Y,EAAM84B,eAAe,WACjBvmB,EAAQ4F,YAAY,eACpBlV,EAAKm4E,QAAQG,SAASgqI,EAAM/yE,GAC5BvvI,EAAKgjB,WAKjB+vB,OAAQ,SAAShxC,GACb,IAAI4vC,EAAa5vC,EAAEC,OAGnB,GAAIzE,KAAKwM,IAAIhI,EAAE27B,EAAE4T,UAAY/zC,KAAKwM,IAAIhI,EAAE6L,EAAE0jC,WAAav0C,EAAM0sB,iBAAiB1nB,EAAE+Y,SAAWrb,KAAK0jN,uBAAuB1jN,KAAKP,QAAQ8jN,kBAAmB,CACnJrxK,EAAWrd,SACX,OAGJ,IAAIyuL,EAAiBtjN,KAAKsjN,eACtBlxL,EAAUpyB,KAAKoyB,QACfwxL,EAAcN,GAAkBlxL,IAAYkxL,IAAmBL,EAAOp6M,QACtEg7M,GAAgBP,GAAkBlxL,GAAWkxL,IAAmBL,EAAOp6M,QACvEi7M,EAAYxhN,EAAE27B,EAAE4T,SAAW,EAE/B,GAAK+xK,GAAeE,GAAeD,IAAiBC,EAChD,GAAI9jN,KAAK05M,YAAa,CAClBxnK,EAAWmD,UACX,OAIRnD,EAAWrd,UAGfsyG,QAAS,SAAS7kI,GACd,IAAIo2E,EAAU14E,KAAK04E,QACfqrI,EAAcrrI,EAAQz6C,EAAI37B,EAAE27B,EAAEK,MAC9B0lL,EAEJ,GAAIhkN,KAAKsjN,eACLU,EAAkBlmN,KAAKiR,IAAIjR,KAAKoP,IAAI,EAAG62M,GAAc/jN,KAAK6P,QAAQ8F,cAElEquM,EAAkBlmN,KAAKoP,IAAIpP,KAAKiR,IAAI,EAAGg1M,IAAe/jN,KAAK6P,QAAQ8F,SAGvE3V,KAAK04E,QAAQG,SAASgqI,EAAMmB,GAC5B1hN,EAAE+Y,MAAMna,iBACRoB,EAAE+Y,MAAMiZ,mBAGZuhB,KAAM,SAASvzC,GACX,IAAIuvC,EAAWvvC,EAAE27B,EAAE4T,SACfoyK,EAAWnmN,KAAKwM,IAAItK,KAAK04E,QAAQz6C,GAAKj+B,KAAK6P,QAAQ8F,QAAU,EAC7DuuM,EAAoB,GACpBC,EAEJ,GAAInkN,KAAKsjN,eACLa,EAAatyK,GAAYqyK,IAAsBryK,EAAWqyK,GAAqBD,QAE/EE,EAAatyK,EAAWqyK,IAAsBryK,GAAYqyK,GAAqBD,GAGnF,GAAGE,EACCnkN,KAAKkzG,aAELlzG,KAAKujB,UAQrB,OAHI0D,EAAG+J,OAAOiyL,GAGP7lN,OAAOE,QAlUd,CAoUoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,yBAAyB,CAAE,qBACnC,WAEH,IAAIC,EAAW,CACXC,GAAI,mBACJC,KAAM,YACNC,SAAU,SACVC,YAAa,mGACbotC,QAAS,CAAE,gBAGL7sC,EAoIPE,OAAOE,MAAMH,OApIHE,OAAb,EACQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM4pB,OAAOD,GAClBH,EAASG,EAAGH,OACZs9L,EAAoB,4CACpB9pI,EAEA+pI,EAFOp9L,EAAGqzD,KAEO98E,OAAO,CACxBiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACXuyF,EAAMusH,EAENh4L,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GACnCoQ,EAAUtP,EAAKsP,QAEf3S,EAAEM,OAAO+C,EAAMd,GAEfc,EAAK2rC,MAEL,IAAK3rC,EAAKd,QAAQ2+E,SAAU,CACxB79E,EAAKkoK,UACLloK,EAAKmtM,gBAELntM,EAAKmtM,WAGTntM,EAAK+jN,SAELxF,EAAajvM,EAAQwxC,SAAS9gD,EAAK49E,QAAQ,cAE3C,IAAK59E,EAAKd,QAAQ2+E,SACd9gF,EAAM4pB,OAAOzmB,KAAKq+M,QAElBA,EAAWrhN,KAAK,SAASkE,EAAKkO,GAC1BvS,EAAM+iC,uBAAuBnjC,EAAE2S,GAAUpQ,EAAQ2+E,SAAS,MAIlE79E,EAAK6mM,MAAQ,GACb7mM,EAAKgkN,eAAiB,GAEtB,IAAKhkN,EAAKd,QAAQ2+E,SACd79E,EAAKs6C,QAAQwG,SAAS/jD,EAAMqsB,aAAa,SAASlsB,KAAK,WACnD80F,EAAOj1F,EAAMgyB,WAAWtvB,KAAM,GAAIinB,EAAGsI,OACrChvB,EAAK6mM,MAAMllM,KAAKqwF,SAEjB,CACHhyF,EAAKsP,QAAQwxC,SAAS/jD,EAAMusB,kBAAkB,SAASpsB,KAAK,WACxD80F,EAAOj1F,EAAM+iC,uBAAuBnjC,EAAE8C,MAAOP,EAAQ2+E,SAAS,IAC9D79E,EAAK6mM,MAAMllM,KAAKqwF,KAGpBhyF,EAAKsP,QAAQwxC,SAAS/jD,EAAMusB,kBAAkB,kBAAkBpsB,KAAK,WACjEH,EAAM+iC,uBAAuBnjC,EAAE8C,MAAOP,EAAQ2+E,SAAS,MAI/D79E,EAAKikN,iBAAmBtnN,EAAEknN,GAAmBl/K,SAAS3kC,EAAKsP,SAE3DtP,EAAKkkN,gBAAkB,IAAInnN,EAAM+1C,WAAW9yC,EAAKikN,iBAAkB,CAC/DnwK,QAAS,KACToC,IAAK,WACDl2C,EAAKmkN,oBAKjBvmI,QAAS,SAASp0D,GACd,OAAO/pB,KAAKP,QAAQ2+E,SAAW9gF,EAAMusB,kBAAkBE,GAAazsB,EAAMqsB,aAAaI,IAG3FtqB,QAAS,CACLhD,KAAM,YACNmZ,MAAO,cAGX+uM,YAAa,WACT3kN,KAAK6P,QAAQqG,SAAS,0BAG1BwuM,cAAe,WACX1kN,KAAK6P,QAAQ4F,YAAY,0BAI7BgzJ,QAAS,WACL,IAAIloK,EAAOP,KACP6P,EAAUtP,EAAKsP,QAEnBtP,EAAKuuE,WAAaxxE,EAAMg2B,UAAUzjB,EAAS,cAC3CvS,EAAM4pB,OAAOD,GAAGqzD,KAAK15E,UAAU6nK,QAAQjmK,KAAKxC,MAC5C1C,EAAM4pB,OAAOzmB,KAAKT,KAAK26C,OAAO52B,IAAI/jB,KAAKq6E,SACvC95E,EAAKsP,QAAQqG,SAAS,gBACtB3V,EAAKs6C,QAAQ3kC,SAAS,qBAG1BouM,OAAQ,WACJ,IAAI1uM,EAAQ5V,KAAKP,QAAQmW,MACrB/F,EAAU7P,KAAK6P,QACfwI,EAEJ,GAAIzC,EAAO,CACPyC,EAASzC,EAAM/S,MAAM,KACrB3F,EAAEO,KAAK4a,EAAQ,WACXxI,EAAQqG,SAAS,YAAclW,UAK3Cu7E,UAAW,WACP,IAAIh7E,EAAOP,KACXO,EAAKsP,QAAQgF,IAAI,UAAW,IAE5B,IAAKtU,EAAK+8M,OAAQ,CACd/8M,EAAK+8M,OAAS,KACdpgN,EAAEO,KAAK8C,EAAK6mM,MAAO,WACf,GAAIpnM,KAAKP,QAAQk5E,QACb34E,KAAKugN,yBAELvgN,KAAKqrC,SAAS,MAGtB9qC,EAAK8B,QAAQ,OAAQ,CAACqvB,KAAMnxB,SAE5BP,KAAKu9M,sBAGTh9M,EAAK8B,QAAQ,OAAQ,CAACqvB,KAAMnxB,OAOxC,OAHI0mB,EAAG+J,OAAOqzL,GAGPjnN,OAAOE,QAlJd,CAoJoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,2BAA2B,CAAE,oBAAqB,gBAC1D,WAEH,IAAIC,EAAW,CACXC,GAAI,qBACJC,KAAM,cACNC,SAAU,SACVC,YAAa,0GACbotC,QAAS,CAAE,cAAe,WAGpB7sC,EAuePE,OAAOE,MAAMH,OAveHE,OAAb,EACQC,EAAQF,OAAOE,MACf4pB,EAAS5pB,EAAM4pB,OACfjpB,EAAUX,EAAMW,QAChB6oB,EAASI,EAAOD,GAAGH,OACnB8jE,EAAO1jE,EAAOD,GAAG2jE,KAEjBg6H,EAAa,OACbz1K,EAAKlxC,EAAQsgB,SACbsmM,EAAgB11K,EAAGrxB,QAAU,cAAgBqxB,EAAGnxB,aAAe,KAAOmxB,EAAGnxB,YAAc,KAAQmxB,EAAGhxB,QAClG2mM,EAAiB,IACjBpwH,EAAW,cACXqwH,EAAU51K,EAAGn2B,UAAY,SACzBgsM,EAAwB71K,EAAGjyB,KAAOiyB,EAAGnxB,aAAe,KAAOmxB,EAAGnxB,YAAc,MAAQmxB,EAAGhxB,SAAW4mM,GAClGE,EAAwBnnN,KAAKwM,IAAIlN,OAAOy3F,aAAe,IAAM,EAC7DJ,EAAa,gBAEbywH,EAAmB,CACfC,KAAM,CAAEjoM,IAAK,KAAMlE,QAAS,UAAW8E,OAAQ,SAAUE,YAAa,MAAOD,aAAc,IAAK9B,aAAc,MAAOxf,KAAM,MAAO4gB,OAAQ,OAC1IH,IAAK,CAAEA,IAAK,KAAMlE,QAAS,UAAW8E,OAAQ,SAAUE,YAAa,MAAOD,aAAc,IAAK9B,aAAc,MAAOxf,KAAM,MAAO4gB,OAAQ,OACzIf,QAAS,CAAEA,QAAS,KAAMtD,QAAS,UAAW8E,OAAQ,UAAWE,YAAa,MAAOD,aAAc,IAAK9B,aAAc,MAAOxf,KAAM,UAAW4gB,OAAQ,OACtJV,WAAY,CAAEA,WAAY,KAAM3D,QAAS,UAAW8E,OAAQ,aAAcE,YAAa,MAAOD,aAAc,IAAK9B,aAAc,MAAOxf,KAAM,aAAc4gB,OAAQ,OAClKZ,MAAO,CAAEA,MAAO,KAAMzD,QAAS,UAAW8E,OAAQ,QAASE,YAAa,MAAOD,aAAc,IAAK9B,aAAc,MAAOxf,KAAM,QAAS4gB,OAAQ,OAC9IjB,GAAI,CAAEA,GAAI,KAAMpD,QAAS,UAAW8E,OAAQ,KAAME,YAAa,MAAOD,aAAc,IAAK9B,aAAc,MAAOxf,KAAM,KAAM4gB,OAAQ,QAGtI+nM,EAAmB9nN,EAAM0G,SAAS,kIAAmI,CAACqhN,cAAe,QACrLC,EAAahoN,EAAM0G,SAAS,+GACf,0FACA,4DAA6D,CAACqhN,cAAe,QAC1FE,EAAejoN,EAAM0G,SAAS,oFAAqF,CAACqhN,cAAe,QACnIG,EAAcr2K,EAAG7yB,SAAW6yB,EAAGn2B,SAAW,UAAYm2B,EAAGxyB,WAEzD8oM,EAAWnoN,EAAM0G,SAAS,+BAAiCmrC,EAAG7yB,QAAU,eAAiB,IAAM,wEAAyE,CAAC+oM,cAAe,QAExLK,GAAWv2K,EAAGrxB,QAAU,UAAYqxB,EAAGrxB,QAAU,SAAWqxB,EAAGpxB,aAAe,EAC9E4nM,EACAC,GAD4Bz2K,EAAGrxB,QAAU,UAAYqxB,EAAGrxB,QAAU,SAAWqxB,EAAGpxB,cAAgB,EAChD,OAAS,KACzD8nM,EAAkB12K,EAAGn2B,SAAW,eAAiB,GAAK,EACtD8sM,EAAoB,GACpBj9G,EAAS3rG,EAAEE,QACX2oN,EAAS3oN,OAAOoe,OAChBwqM,EAAO9oN,EAAE,QAGTmwC,EAAO,OAEX,SAAS44K,EAAWjqM,EAAIvc,GACpB,IAAIqkB,EAAU,GAEd,GAAIqrB,EACArrB,EAAQ5hB,KAAK,SAAWitC,EAAG1yC,MAG/B,GAAIuf,EAAG0hM,KACH55L,EAAQ5hB,KAAK,MAAQ8Z,EAAG0hM,WAExB,GAAI1hM,EAAGvf,MAAQ,OAASuf,EAAG+B,aAAe,EACtC+F,EAAQ5hB,KAAK,gBAEb4hB,EAAQ5hB,KAAK,MAAQ8Z,EAAGvf,MAGhC,GAAKuf,EAAGvf,MAAQ,OAASuf,EAAG+B,aAAe,GAAM/B,EAAGvf,MAAQ,MACxDqnB,EAAQ5hB,KAAK,MAAQ8Z,EAAGvf,KAAOuf,EAAG+B,cAEtC+F,EAAQ5hB,KAAK,MAAQ8Z,EAAG+B,cACxB+F,EAAQ5hB,KAAK,QAAU8Z,EAAGC,aAAeD,EAAGC,aAAa,GAAK,IAE9D,GAAID,EAAGkqM,UAAalqM,EAAG0hM,MAAQ1hM,EAAG0hM,OAAS1hM,EAAGvf,OAAUuf,EAAG0hM,MAAQ1hM,EAAGmqM,qBAAuB,OACzFriM,EAAQ5hB,KAAK,OAAS8Z,EAAG0hM,KAAO1hM,EAAG0hM,KAAO1hM,EAAGvf,MAAQ,IAAMuf,EAAGkqM,SAGlE,GAAIlqM,EAAGiC,QACH6F,EAAQ5hB,KAAK,cAEjB,GAAI8Z,EAAGmC,QACH2F,EAAQ5hB,KAAK,eAEb4hB,EAAQ5hB,KAAK,UAGjB,GAAIzC,GAAWA,EAAQ2mN,eACnBtiM,EAAQ5hB,KAAK,MAAQzC,EAAQ2mN,eAAiB,eAGlD,OAAOtiM,EAAQhhB,KAAK,KAGxB,SAASujN,EAAcrqM,GACnB,MAAO,UAAYA,EAAGsqM,aACDj3M,SAASnS,EAAE,0CAA0C2X,IAAI,oBAAoBhS,MAAM,KAAK,GAAI,MAAQ,EAAI,OAAS,QAClHmZ,EAAGkqM,QAAU,UAAYlqM,EAAGkqM,QAAU,UAG9D,SAASK,EAAwB12M,GAC7B,OAAOs/B,EAAG/yB,GAAKvM,EAAQgF,IAAI,mBAAqB,mBAAsB/W,KAAKwM,IAAIlN,OAAOy3F,aAAe,IAAM,EAG/G,SAAS2xH,EAAoB32M,GACzB,OAAO02M,EAAwB12M,GAAW4kF,EAAaC,EAG3D,SAAS+xH,EAAiBl0H,GACtBA,EAAKh9E,SAASya,UACNnb,IAAI,aAAczX,OAAOye,aAGrC,SAAS6qM,IACLxpN,EAAE,uBAAuB6zB,SACrBi1L,EAAKjlJ,OAAOqkJ,EAAiB,CAC7BvvM,OAAQ,wBACK0wM,IACG,YAAcnpN,OAAOye,YAAc,KAClC5d,EAAQsgB,SAASP,aAAe,KAAO/f,EAAQsgB,SAASP,YAAc,IACnE,YAAc5gB,OAAOse,WAAa,KAClC,6BAI5B,IAAIirM,EAAc7/L,EAAOtpB,OAAO,CAC5BiD,KAAM,SAASoP,EAASpQ,GAEpBynB,EAAOsL,YAAcxyB,KACrB9C,EAAE8C,KAAK4mN,UAAUrlN,KAAKvB,KAAM6P,EAASpQ,KAGzCmnN,UAAW,SAAS/2M,EAASpQ,GACzBoQ,EAAU3S,EAAE2S,GAEZ,IAAKA,EAAQ,GACTA,EAAU3S,EAAEsS,SAAS2K,MAGzB2M,EAAOnmB,GAAGF,KAAK+B,KAAKxC,KAAM6P,EAASpQ,GACnCO,KAAK6P,QAAQwb,WAAW,QAAU/tB,EAAMurB,GAAK,QAE7C7oB,KAAK6mN,iBACL7mN,KAAK8mN,cACL9mN,KAAK+mN,qBACL/mN,KAAKgnN,yBACL,IAAIC,EAAc/pN,EAAEM,OAAO,GAAIwC,KAAKP,gBAC7BwnN,EAAYxqN,KAEnB,IAAI8D,EAAOP,KACPknN,EAAe,WACX3mN,EAAKgyF,KAAO,IAAI3H,EAAKrqF,EAAKsP,QAASo3M,GACnC1mN,EAAKgyF,KAAKguH,oBAEV,GAAIhgN,EAAKd,QAAQ0nN,oBACb5mN,EAAK6mN,sBAGT7mN,EAAK8mN,gBACL9mN,EAAK8B,QAAQgrC,IAGrB,GAAIrtC,KAAKP,QAAQ2+E,SACbjrD,WAAW+zL,QAEXA,KAIRznN,QAAS,CACLhD,KAAM,cACN6qN,eAAgB,KAChBC,eAAgB,KAChBC,kBAAmB5B,EACnBhnI,WAAYxhF,OACZgpN,eAAgB,QAChBt3I,WAAY,GACZ24I,OAAQ,MACRpJ,SAAU,KACVX,KAAM,KACNyJ,oBAAqB,KACrBt1L,mBAAoB,OAGxB7vB,OAAQ,CACJqrC,GAGJhC,SAAU,SAAStiB,EAAK+lD,GACpB9uE,KAAKuyF,KAAKlnD,SAAStiB,EAAK+lD,IAG5B3uE,QAAS,SAAS4oB,EAAK+lD,GACnB9uE,KAAKuyF,KAAKpyF,QAAQ4oB,EAAK+lD,IAG3BquI,SAAU,WACN,OAAOn9M,KAAK0xB,OAAOyrL,UAGvByD,YAAa,WACT,GAAI5gN,KAAKuyF,KACLvyF,KAAKuyF,KAAKquH,mBAEV,MAAM,IAAIh8M,MAAM,yIAIxBi8M,YAAa,WACT,GAAI7gN,KAAKuyF,KACLvyF,KAAKuyF,KAAKsuH,mBAEV,MAAM,IAAIj8M,MAAM,yIAIxBk8M,qBAAsB,SAASz2L,GAC3B,GAAIrqB,KAAKuyF,KACLvyF,KAAKuyF,KAAKuuH,qBAAqBz2L,QAE/B,MAAM,IAAIzlB,MAAM,2IAIxB8sB,KAAM,WACF,OAAO1xB,KAAKuyF,KAAK7gE,QAGrBgsL,KAAM,SAASA,GACX,IAAIn9M,EAAOP,KAEX,IAAKJ,UAAUE,OACX,OAAOS,EAAKd,QAAQi+M,KAGxBn9M,EAAKd,QAAQi+M,KAAOA,GAAQ,GAC5Bn9M,EAAKsP,QAAQ,GAAG+I,UAAY,UAC5BrY,EAAKsmN,iBACLtmN,EAAKwmN,qBAEL,OAAOxmN,EAAKd,QAAQi+M,MAGxBzxL,QAAS,WACLnF,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,MACvBA,KAAKuyF,KAAKtmE,UACV,GAAIjsB,KAAKP,QAAQ8nN,eACbvnN,KAAK0gN,OAAOz0L,WAIpB46L,eAAgB,WACZ,IAAItmN,EAAOP,KACPq+M,EAAW99M,EAAKd,QAAQ4+M,SACxBX,EAAOn9M,EAAKd,QAAQi+M,KACpB76M,EAAQ,GACRmZ,EAAKmzB,GAAM+1K,EAAiBN,GAC5B8C,EAAsB,WAClB,GAAInnN,EAAKyb,GAAGkqM,UAAY3lN,EAAKyb,GAAG0hM,MAAQn9M,EAAKyb,GAAG0hM,OAASn9M,EAAKyb,GAAGvf,QAAU8D,EAAKyb,GAAG0hM,KAC/En9M,EAAKsP,QAAQ4F,YAAY,6DAA6DS,SAASmwM,EAAc9lN,EAAKyb,MAI9H,GAAIqiM,EAAU,CACVriM,EAAGmqM,mBAAqB,KACxB,UAAW9H,IAAa,SAAU,CAC9Bx7M,EAAQw7M,EAASx7M,MAAM,KACvBmZ,EAAK9e,EAAEM,OAAO,CAAE0oN,QAASrjN,EAAM,IAAMmZ,EAAIkpM,EAAiBriN,EAAM,UAEhEmZ,EAAKqiM,EAIb,GAAIX,EAAM,CACN76M,EAAQ66M,EAAK76M,MAAM,KACnB,IAAKssC,EACDnzB,EAAGmqM,mBAAqB,MAE5BnqM,EAAK9e,EAAEM,OAAO,GAAIwe,EAAI,CAAE0hM,KAAM76M,EAAM,GAAIqjN,QAASrjN,EAAM,KAG3D,IAAKmZ,EAAGkqM,QAAS,CACblqM,EAAGsqM,aAAe,KAClBtqM,EAAGkqM,QAAU,OAGjB3lN,EAAKyb,GAAKA,EAEVzb,EAAK0lN,WAAaA,EAAW1lN,EAAKyb,GAAIzb,EAAKd,SAE3C,GAAIuc,EAAGvf,MAAQ,KAAM,CACjB,IAAK8D,EAAKonN,4BACNpnN,EAAKonN,4BAA8BD,EAAoBnmN,KAAKhB,GAGhErD,EAAEsS,UAAU6jB,IAAI,mBAAoB9yB,EAAKonN,6BACzCzqN,EAAEsS,UAAU6jB,IAAI,SAAU9yB,EAAKonN,6BAE/B,IAAK3rM,EAAG0hM,KAAM,CACVn9M,EAAKsP,QAAQ0F,SAASV,IAAI,WAAY,UAEtC3X,EAAEsS,UAAU4W,GAAG,mBAAoB7lB,EAAKonN,6BACxCzqN,EAAEsS,UAAU4W,GAAG,SAAU7lB,EAAKonN,6BAE9BpnN,EAAKonN,iCAKjBN,cAAe,WACX,GAAIrnN,KAAKP,QAAQ8nN,eAAgB,CAC7BvnN,KAAK0gN,OAAS,IAAIpjN,EAAMgxC,OAAO,CAAE5sB,UAAW1hB,KAAKP,QAAQiiB,UAAWqpB,KAAM/qC,KAAKP,QAAQsrC,KAAMe,SAAU9rC,KAAKP,QAAQqsC,WACpH9rC,KAAKuyF,KAAKkuH,aAAazgN,KAAK0gN,QAC5B1gN,KAAK0gN,OAAOv0M,aAEZ,IAAKnM,KAAKP,QAAQk5E,QACd34E,KAAKuyF,KAAKlnD,SAAS,KAK/Bu8K,sBAAuB,WACnB,IAAIC,EAAmB3qN,EAAE,oDAAoDiZ,KAAK,WAAW7R,MAAM,4BAC/FuL,EAAU7P,KAAK6P,QACfgG,EAEJ,GAAIkvM,EACAlvM,EAASzY,OAAOye,iBAEhB,GAAI0qM,EAAwB12M,GACxB,GAAIg4M,EACA,GAAI5C,EACApvM,EAASkwM,EAAOtqM,WAAaqqM,OAE7BjwM,EAASkwM,EAAOtqM,gBAGpB,GAAIwpM,EACApvM,EAASkwM,EAAOtqM,gBAEhB5F,EAASkwM,EAAOtqM,WAAaqqM,OAIrC,GAAI+B,EACA,GAAI5C,EACApvM,EAASkwM,EAAOnqM,iBAEhB/F,EAASkwM,EAAOnqM,YAAckqM,OAGlC,GAAIb,EACApvM,EAASkwM,EAAOnqM,YAAckqM,OAE9BjwM,EAASkwM,EAAOnqM,YAMhC/L,EAAQgG,OAAOA,IAGnBkxM,mBAAoB,WAChB,IAAIxmN,EAAOP,KAAMgS,EACbnC,EAAUtP,EAAKsP,QAEnBA,EAAQ0F,SAASW,SAAS,eAAiB3V,EAAKyb,GAAGqB,OAAS,SAAW,UACvExN,EAAQqG,SAAS3V,EAAK0lN,WAAa,IAAMO,EAAoB32M,IAC7D,GAAI7P,KAAKP,QAAQoyB,mBACbhiB,EAAQ0F,SAASW,SAAS,uBAG9B,GAAI6uM,EACAl1M,EAAQqG,SAAS,iBAGrB,GAAIjY,EAAQwgB,mBACR5O,EAAQ0F,SAASV,IAAI,YAAa5W,EAAQwgB,mBAAqB,MAGnE,GAAIze,KAAKP,QAAQgoN,OAAQ,CACrB53M,EAAQ0F,SAASW,SAAS,aAC1BrG,EAAQ0F,SAASV,IAAI,YAAc5W,EAAQqd,iBAAmBwpM,EAAkB,MAGpF,GAAID,EACA6B,IAEJ,GAAInmN,EAAKd,QAAQoyB,mBACbhiB,EAAQ0F,SAASW,SAAS,4BACvB,GAAIsvM,EAAa,CACpBxzM,GAAQwJ,OAAOC,WAAaD,OAAOI,YAAcJ,OAAOC,WAAaD,OAAOI,aAAe,IAC3F1e,EAAEqoN,EAAa,CAAE5vM,MAAO3D,EAAM6D,OAAQ7D,KAASkzB,SAAS8gL,GAG5D,GAAIhB,EACAzkN,EAAKqnN,wBAGTtqN,EAAM41B,SAAS,WACXrjB,EACK4F,YAAY,6BACZS,SAASswM,EAAoB32M,IAElC,GAAItP,EAAKd,QAAQoyB,mBACb40L,EAAiB52M,GAGrB,GAAIm1M,EACAzkN,EAAKqnN,wBAGT,GAAI/C,EACA6B,IAGJppN,EAAMopB,OAAO7W,MAIrBi4M,mBAAoB,WAChB9B,EAAKj2L,KAAK,QACLE,OAAO,gFACPc,UAGT+1L,YAAa,WACT,IAAIrnN,EAAUO,KAAKP,QACfs+F,EAAOt+F,EAAQs+F,KAAM/rF,EAEzBhS,KAAK8nN,qBAEL,IAAKjD,EACDmB,EAAKl0H,QAAQszH,EAAiB,CAAEvvM,OAAQ,GAAIu2D,MAAQpsE,KAAKP,QAAQgoN,OAAS,EAAIxpN,EAAQqd,iBAAmB,SAG7G0qM,EAAKl0H,QAAQwzH,EAAW7lN,IAExB,GAAIs+F,EAAM,CACN,UAAWA,IAAS,SAChBA,EAAO,CAAEn2F,GAAKm2F,GAGlB,IAAI/rF,KAAQ+rF,EACRioH,EAAKl0H,QAAQ2zH,EAAS,CAAE1nH,KAAMA,EAAK/rF,GAAOA,KAAMA,KAIxD,GAAIvS,EAAQoyB,mBACR40L,EAAiBzmN,KAAK6P,UAI9Bm3M,uBAAwB,WACpB,IAAIzmN,EAAOP,KACP+nN,EAAUxnN,EAAKynN,SAASzmN,KAAKhB,GAEjC,GAAItC,EAAQsgB,SAASJ,UAAY5d,EAAKd,QAAQ6nN,iBAAmB5B,GAAWnlN,EAAKd,QAAQoyB,mBACrF,OAGJtxB,EAAK0jL,eAAiB,GAEtBp7E,EAAOziF,GAAG,OAAQ2hM,GAElBzqN,EAAM41B,SAAS,WACXC,WAAW/1B,OAAOs1F,SAAU,EAAG,EAAG,MAI1C00H,oBAAqB,WACjB,IAAI7mN,EAAOP,KACPioN,EAAez4M,SAAS87B,MAE5B/qC,EAAKgyF,KAAKhxF,KAAK,WAAY,SAASe,GAChC,IAAIgpC,EAAQhpC,EAAEovB,KAAK4Z,MACnB97B,SAAS87B,MAAQA,IAAUjuC,EAAYiuC,EAAQ28K,KAIvDD,SAAU,WACN,IAAIznN,EAAOP,KACP6P,EAAUtP,EAAKsP,QAEnBA,EAAQgG,OAAOvY,EAAMW,QAAQ2c,WAAW/F,IAAM,eAAiBgxM,EAAkB,OACjF3oN,EAAEE,QAAQiF,QAAQ/E,EAAMW,QAAQyoB,WAQ5C,OAJIppB,EAAM4pB,OAAOy/L,YAAcA,EAC3BrpN,EAAM2pB,GAAG+J,OAAO21L,EAAarpN,EAAM4pB,OAAQ,UAGxC9pB,OAAOE,QArfd,CAufoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,2BAA2B,CAAE,uBAAwB,qBAC7D,WAEH,IAAIC,EAAW,CACXC,GAAI,qBACJC,KAAM,cACNC,SAAU,SACVC,YAAa,gGACbotC,QAAS,CAAE,iBAAkB,gBAGvB7sC,EAwJPE,OAAOE,MAAMH,OAxJHE,OAAb,EACQC,EAAQF,OAAOE,MACfW,EAAUX,EAAMW,QAChBgpB,EAAK3pB,EAAM4pB,OAAOD,GAClBi7L,EAAOj7L,EAAGi7L,KACVp5G,EAAQ7hF,EAAG6hF,MACXhiF,EAASG,EAAGH,OACZ+gF,EAAO,OACPC,EAAQ,QACR8lE,EAAU,UACVs6C,EAAU,OACVC,EAAe,qBACfzF,EAAO,6CACP0F,EAAiB9qN,EAAM0G,SAAS,sEAEhCqkN,EAAcvhM,EAAOtpB,OAAO,CAC5BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACPsoN,EACAjrM,EACA9V,EACAyU,EAAK/d,EAAQsgB,SAEjBuI,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCA,EAAUc,EAAKd,QACf8H,EAAO9H,EAAQ8H,KACfsI,EAAUtP,EAAKsP,QAEf,GAAItI,IAAS,OACT8V,EAASrB,GAAMA,EAAGqB,YAElBA,EAAS9V,IAAS,SAGtB+gN,EAAYjrM,EAASyrF,EAAQo5G,EAE7B,GAAIziN,EAAQ2oN,eACRA,EAAiB9qN,EAAM0G,SAASvE,EAAQ2oN,gBAG5Cv4M,EACKqG,SAAS,kBACT6qD,OAAOqnJ,EAAe,CAACvzL,OAAQt0B,EAAKd,QAAQo1B,UAC5Czf,KAAKstM,GACLt8L,GAAG,KAAM8hM,EAAS,UAClB9hM,GAAG,QAAS8hM,EAAS5qN,EAAM4D,gBAEhCX,EAAKmxB,OAAOnwB,KAAK,UAAW,WACxBhB,EAAK0rB,YAGT1rB,EAAKiW,QAAU3G,EAAQ0F,SAASW,SAAS3O,EAAO,mBAAqBA,EAAO,IAE5EhH,EAAKgiN,KAAO,IAAI+F,EAAU/nN,EAAKiW,QAAStZ,EAAEM,OAAO,CAACqsG,MAAO7tF,EAAGkB,KAAOlB,EAAG+B,aAAe,EAAGnF,UAAW,uBAAwBrY,EAAKd,QAAQorG,QAExItqG,EAAKqpL,YAAcrpL,EAAKs7I,OAAOt6I,KAAKhB,GACpCA,EAAKgoN,eAAiBhoN,EAAKioN,UAAUjnN,KAAKhB,GAC1CA,EAAKgiN,KAAKhhN,KAAK,OAAQhB,EAAKgoN,gBAE5B,GAAIlrM,EACA/f,EAAM41B,SAAS3yB,EAAKqpL,aAGxBtsL,EAAMoxB,OAAOnuB,EAAM0mB,IAGvBjlB,OAAQ,CACJ6lG,EACAC,EACA8lE,GAGJnuK,QAAS,CACLhD,KAAM,cACNo4B,OAAQ,SACRttB,KAAM,OACNsjG,MAAO,CAAEh1F,OAAQ,SAGrBuzF,KAAM,SAASzpG,EAAQu2B,GACnB,IAAI31B,EAAOP,KACXO,EAAKZ,OAASzC,EAAEyC,GAChBY,EAAK21B,QAAUA,EACf31B,EAAKgiN,KAAK9vI,KAAK9yE,IAGnBs6C,MAAO,WACHj6C,KAAKk2B,QAAUl2B,KAAKL,OAAS,KAC7BK,KAAKuiN,KAAKh/L,QAGd+9L,QAAS,SAAS3hN,GACd,IAAIY,EAAOP,KACPk2B,EAAUv2B,EAAOsE,KAAKkkN,GAE1B5nN,EAAK6oG,KAAKzpG,EAAQu2B,GAClB31B,EAAK8B,QAAQwlG,EAAM,CAAEloG,OAAQA,EAAQu2B,QAASA,KAGlDjK,QAAS,WACLnF,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,MACvB1C,EAAM81B,aAAapzB,KAAK4pL,aACxB5pL,KAAKuiN,KAAKt2L,WAGd6pB,OAAQ,SAASxzC,GACb,GAAIA,EAAElB,qBACF,OAGJ,IAAImwC,EAAgBr0C,EAAEoF,EAAEivC,eACxB,IAAIxM,EAASwM,EAActtC,KAAK,UAEhC,GAAI8gC,EAAQ,CACR,IAAI0jL,EAAa,CACb9oN,OAAQK,KAAKL,OACbu2B,QAASl2B,KAAKk2B,SAElBkoD,EAAWp+E,KAAKP,QAAQ2+E,SAExB,GAAIA,EACAp+E,KAAK6P,QAAQ0wB,WAAWjX,IAAI,SAA5BtpB,CAAsC+kC,EAAtC/kC,CAA8Co+E,EAAS,GAAvDp+E,CAA2DyoN,QAE3DnrN,EAAM6rB,OAAO4b,EAAbznC,CAAqBF,OAArBE,CAA6BmrN,GAIrCzoN,KAAKqC,QAAQurK,EAAS,CAAEjuK,OAAQK,KAAKL,OAAQu2B,QAASl2B,KAAKk2B,QAASqb,cAAeA,IAEnFjvC,EAAEpB,iBACFlB,KAAK67I,UAGT2sE,UAAW,SAASlmN,GAChB,IAAKtC,KAAKqC,QAAQylG,GACd9nG,KAAKk2B,QAAUl2B,KAAKL,OAAS,UAE7B2C,EAAEpB,kBAIV26I,OAAQ,SAASv5I,GACb,IAAKtC,KAAKqC,QAAQylG,GACd9nG,KAAKi6C,aAEL33C,EAAEpB,oBAQlB,OAHI+lB,EAAG+J,OAAOq3L,GAGPjrN,OAAOE,QAtKd,CAwKoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,sBAAsB,CAAE,oBAChC,WAEH,IAAIC,EAAW,CACXC,GAAI,gBACJC,KAAM,SACNC,SAAU,SACVC,YAAa,6EACbotC,QAAS,CAAE,eAGL7sC,EA2PPE,OAAOE,MAAMH,OA3PHE,OAAb,EACQC,EAAQF,OAAOE,MACf4pB,EACAD,EADS3pB,EAAM4pB,OACHD,GACZH,EAASG,EAAGH,OACZ7oB,EACA+d,EADU1e,EAAMW,QACHsgB,SACbmqM,EAAa1sM,EAAGM,SAAWN,EAAGgC,aAAe,IAC7C2iF,EAAQ,QACRI,EAAW,WACXC,EAAgB,oBAEpB,SAAS2nH,EAAgB57L,EAAQ1R,EAAOutM,GACpC1rN,EAAEme,EAAM1b,QAAQ4a,QAAQ,yBAAyBsJ,YAAY,kBAAmB+kM,GAEhF,GAAIF,GAAc37L,EAAO87L,oBAAqB,CAC1Cr0L,aAAazH,EAAO87L,qBACpB97L,EAAO87L,oBAAsB,GAIrC,SAASC,EAAYxhN,GACjB,OAAOpK,EAAE,0BAA4BoK,EAAQ,WAGjD,IAAI85F,EAASt6E,EAAOtpB,OAAO,CACvBiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GACnC,IAAIspN,EAASxoN,EAAKd,QAAQupN,UAAY,KAEtCzoN,EAAKo6E,QACLp6E,EAAK+jN,SAEL,IAAKyE,EACDxoN,EAAKsP,QAAQsG,KAAK,yBAA0B,MAGhD5V,EAAKd,QAAQ2kB,OAAS7jB,EAAKd,QAAQ2kB,SAAW7jB,EAAKsP,QAAQsG,KAAK4qF,GAChExgG,EAAK6jB,OAAO7jB,EAAKd,QAAQ2kB,QAEzB7jB,EAAK0oN,YAAc,IAAI3rN,EAAM+1C,WAAW9yC,EAAKsP,QAAS,CAClDskC,gBAAiB40K,EACjB10K,QAAS,KACT1B,MAAO,SAASrwC,GACZ/B,EAAKm5M,UAAUp3M,IAEnBg7G,QAAS,SAASh7G,GACdqmN,EAAgBpoN,EAAM+B,EAAG,OACzB,IAAKymN,EAAUzmN,EAAE+Y,MAAMiZ,qBAI/B/zB,EAAK0oN,YAAY1nN,KAAKwnN,EAAS,MAAQ,QAAS,SAASzmN,GACrD/B,EAAKwoF,SAASzmF,KAIlB,GAAIomN,EACAnoN,EAAKsP,QAAQuW,GAAG,OAAQ,SAAS9jB,GAAK/B,EAAK2oN,mBAAmB5mN,MAItE2pB,QAAS,WACLnF,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,MACvBA,KAAKipN,YAAYh9L,WAGrBjqB,OAAQ,CACJ2+F,GAGJlhG,QAAS,CACLhD,KAAM,SACNshG,KAAM,GACNnoF,MAAO,GACPs0D,MAAO,GACP8+I,QAAS,KACT5kM,OAAQ,MAGZ8lD,MAAO,SAAU5iE,GACb,IAAI4iE,EAAQlqE,KAAKmpN,aAAenpN,KAAKmpN,cAAgBL,EAAYxhN,GAAO49B,SAASllC,KAAK6P,SAEtF,GAAIvI,GAASA,IAAU,EAAG,CACtB4iE,EAAMhmE,KAAKoD,GACX,OAAOtH,KAGX,GAAIsH,IAAU,MAAO,CACjB4iE,EAAMvoB,QAAQ5wB,SACd/wB,KAAKmpN,aAAe,MACpB,OAAOnpN,KAGX,OAAOkqE,EAAMhmE,QAGjBkgB,OAAQ,SAASA,GACb,IAAIvU,EAAU7P,KAAK6P,QAEnB,UAAUuU,GAAU,YAChBA,EAAS,KAGbpkB,KAAKP,QAAQ2kB,OAASA,EAEtB,GAAGA,EACCvU,EAAQ2c,KAAKu0E,EAAU,YAEvBlxF,EAAQsG,KAAK4qF,EAAUA,GAG3BlxF,EAAQgU,YAAYm9E,GAAgB58E,IAGxC8kM,mBAAoB,SAAS5mN,GACzB,IAAKtC,KAAK6oN,oBACN7oN,KAAK6oN,oBAAsB11L,WAAWw1L,EAAiB,IAAK3oN,KAAMsC,EAAG,QAI7Eo3M,UAAW,SAASp3M,GAChB,IAAImN,EAAgBD,SAASC,cACzBwiB,EAAWxiB,EAAgBA,EAAcwiB,SAAW,GAExD,GAAGjyB,KAAKP,QAAQ2kB,OAAQ,CACpBukM,EAAgB3oN,KAAMsC,EAAG,MAEzB,GAAI2vB,GAAY,SAAWA,GAAY,WACnCxiB,EAAcuF,SAK1B+zE,SAAU,SAASzmF,GACf,IAAI/B,EAAOP,KAEX,GAAIsC,EAAEozC,MAAQ,EACV,OAGJ,IAAIn1C,EAAKd,QAAQ2kB,OAAQ,CACrB9hB,EAAEpB,iBACF,OAGJ,GAAIX,EAAK8B,QAAQs+F,EAAO,CAAChhG,OAAQzC,EAAEoF,EAAE3C,QAASu7F,OAAQ36F,EAAKsP,UACvDvN,EAAEpB,kBAIVojN,OAAQ,WACJ,IAAI1uM,EAAQ5V,KAAKP,QAAQmW,MACrB/F,EAAU7P,KAAK6P,QACfwI,EAEJ,GAAIzC,EAAO,CACPyC,EAASzC,EAAM/S,MAAM,KACrB3F,EAAEO,KAAK4a,EAAQ,WACXxI,EAAQqG,SAAS,MAAQlW,UAKrC26E,MAAO,WACH,IAAIp6E,EAAOP,KACP+9F,EAAOx9F,EAAKd,QAAQs+F,KACpB7zB,EAAQ3pE,EAAKd,QAAQyqE,MACrBk/I,EAAW,2BAA6BrrH,EACxCluF,EAAUtP,EAAKsP,QAAQqG,SAAS,aAChCkqF,EAAOvwF,EAAQwxC,SAAS,sBAAsBnrC,SAAS,WACvD+sB,EAAQpzB,EAAQkgB,KAAK,OAAO7Z,SAAS,YAEzC,IAAKkqF,EAAK,IAAMvwF,EAAQ3L,OACpBk8F,EAAOvwF,EAAQquE,UAAU,4BAA4B78B,SAAS,gBAGlE,IAAKpe,EAAM,IAAM86D,EAAM,CACnB,IAAKqC,EAAK,GACNgpH,GAAY,aAEhB7oN,EAAKw/F,YAAclwF,EAAQiiF,QAAQ50F,EAAEksN,EAAW,SAGpD,GAAIl/I,GAASA,IAAU,EACnB3pE,EAAK4oN,aAAeL,EAAY5+I,GAAOhlC,SAASr1B,MAKxDw5M,EAAajoH,EAAO5jG,OAAO,CAC3BiC,QAAS,CACLhD,KAAM,aACNmZ,MAAO,QAGXnV,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACXohG,EAAOzgG,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnC,UAAWc,EAAKsP,QAAQsG,KAAK,UAAY,YACrC5V,EAAKsP,QAAQsG,KAAK,OAAQ,aAKlCmzM,EAAeloH,EAAO5jG,OAAO,CAC7BiC,QAAS,CACLhD,KAAM,eACNmZ,MAAO,IAGXnV,KAAM,SAASoP,EAASpQ,GACpB2hG,EAAOzgG,GAAGF,KAAK+B,KAAKxC,KAAM6P,EAASpQ,IAGvC6kN,OAAQ,WACJ,IAAI1uM,EAAQ5V,KAAKP,QAAQmW,MAAQ,UAC7B/F,EAAU7P,KAAK6P,QAEnB,GAAI+F,EAAO,CACP,IAAIyC,EAASzC,EAAM/S,MAAM,KACzB3F,EAAEO,KAAK4a,EAAQ,WACXxI,EAAQqG,SAAS,MAAQlW,UAKrC26E,MAAO,WACH,IAAIp6E,EAAOP,KACP+9F,EAAOx9F,EAAKd,QAAQs+F,KACpBqrH,EAAW,2BAA6BrrH,EACxCluF,EAAUtP,EAAKsP,QACfuwF,EAAOvwF,EAAQwxC,SAAS,QACxBpe,EAAQpzB,EAAQkgB,KAAK,OAAO7Z,SAAS,YAEzC,IAAK+sB,EAAM,IAAM86D,EAAM,CACnB,IAAKqC,EAAK,GACNgpH,GAAY,aAEhBv5M,EAAQiiF,QAAQ50F,EAAEksN,EAAW,aAW7C,OALIniM,EAAG+J,OAAOowE,GACVn6E,EAAG+J,OAAOq4L,GACVpiM,EAAG+J,OAAOs4L,GAGPlsN,OAAOE,QAzQd,CA2QoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,2BAA2B,CAAE,cACrC,WAEH,IAAIC,EAAW,CACXC,GAAI,qBACJC,KAAM,cACNC,SAAU,SACVC,YAAa,0EACbotC,QAAS,CAAE,SAGL7sC,EA2IPE,OAAOE,MAAMH,OA3IHE,OAAb,EACQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM4pB,OAAOD,GAClBH,EAASG,EAAGH,OACZmzE,EAAS,eACTsvH,EAAU,iBACV75K,EAAS,SACT6mG,EAAW,cAAgBt8C,EAAQ,IAEvC,SAASrhF,EAAUnc,GACf,MAAO,KAAOA,EAAO,OAASA,EAGlC,SAASqsN,EAAYxhN,GACjB,OAAOpK,EAAE,gBAAkB0b,EAAU,SAAW,KAAOtR,EAAQ,WAGnE,IAAIkzG,EAAc1zF,EAAOtpB,OAAO,CAC5BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCc,EAAKsP,QAAQqG,SAAS,0CAA0C6Z,KAAK,MAAMtyB,KAAK8C,EAAKipN,SAErFjpN,EAAKsP,QAAQuW,GAAG7lB,EAAKd,QAAQgqN,SAAUlzE,EAAU,WAEjDh2I,EAAK+pH,QAAU,KACf/pH,EAAKs/B,OAAOt/B,EAAKd,QAAQ0P,OAEzB,IAAI5O,EAAKd,QAAQ2kB,OAAQ,CACrB7jB,EAAK+pH,QAAU,MACf/pH,EAAKiW,QAAQN,SAAS0C,EAAU2wM,MAIxCvnN,OAAQ,CACJ0tC,GAGJjwC,QAAS,CACLhD,KAAM,cACNgtN,SAAU,OACVt6M,OAAQ,EACRiV,OAAQ,MAGZvb,QAAS,WACL,OAAO7I,KAAK6P,QAAQkgB,KAAK,OAASkqE,IAGtCp6D,OAAQ,SAAU47E,GACd,IAAIl7G,EAAOP,KACPmP,GAAS,EAEb,GAAIssG,IAAOp+G,GAAao+G,KAAQ,IAAMl7G,EAAK+pH,SAAWptH,EAAEu+G,GAAIxlG,GAAG,OAASszM,GACpE,OAGJhpN,EAAKsI,UAAU4M,YAAYmD,EAAUqhF,IAErC,UAAWwhB,IAAO,SAAU,CACxBtsG,EAAQssG,EACRA,EAAKv+G,EAAEqD,EAAKsP,QAAQ,GAAGwxC,SAASo6D,SAC7B,GAAIA,EAAG/rF,SAAU,CACpB+rF,EAAKv+G,EAAEu+G,GACPtsG,EAAQssG,EAAGtsG,QAGfssG,EAAGvlG,SAAS0C,EAAUqhF,IACtB15F,EAAKwnE,cAAgB54D,GAGzB+6D,MAAO,SAASjhC,EAAM3hC,GAClB,IAAIoiN,EAAc1pN,KAAK6P,QAASq6D,EAEhC,IAAKp2D,MAAMm1B,GACPA,EAAOygL,EAAYroK,WAAW/3B,IAAI2f,GAGtCA,EAAOygL,EAAY35L,KAAKkZ,GACxBihC,EAAQhtE,EAAE+rC,EAAKoY,SAAS,aAAa,IAAMynK,EAAYxhN,GAAO49B,SAAS+D,IAEvE,GAAI3hC,GAASA,IAAU,EAAG,CACtB4iE,EAAMhmE,KAAKoD,GACX,OAAOtH,KAGX,GAAIsH,IAAU,MAAO,CACjB4iE,EAAMvoB,QAAQ5wB,SACd,OAAO/wB,KAGX,OAAOkqE,EAAMhmE,QAGjBkgB,OAAQ,SAASA,GACb,UAAUA,GAAU,YAChBA,EAAS,KAGbpkB,KAAKwW,QAAQqN,YAAYjL,EAAU2wM,IAAWnlM,GAE9CpkB,KAAKsqH,QAAUtqH,KAAKP,QAAQ2kB,OAASA,GAGzColM,QAAS,WACL,IAAItuH,EAASh+F,EAAE8C,MAAMkW,SAAS0C,EAAU,WACpCmlF,EAAOzgG,EAAMg2B,UAAU4nE,EAAQ,QAC/BhxB,EAAQ5sE,EAAMg2B,UAAU4nE,EAAQ,SAChCkF,EAAOlF,EAAO75C,SAAS,QACvBpe,EAAQi4D,EAAOnrE,KAAK,OAAO7Z,SAAS0C,EAAU,UAElD,IAAKwnF,EAAK,GACNA,EAAOlF,EAAOhd,UAAU,WAAW78B,SAAS,QAGhD++C,EAAKlqF,SAAS0C,EAAU,SAExB,IAAKqqB,EAAM,IAAM86D,EACb7C,EAAOpJ,QAAQ50F,EAAE,gBAAkB0b,EAAU,QAAU,IAAMA,EAAUmlF,GAAQ,QAGnF,GAAI7zB,GAASA,IAAU,EACnB4+I,EAAY5+I,GAAOhlC,SAASg2D,IAIpCzlD,QAAS,SAASnzC,GACd,GAAIA,EAAEozC,MAAQ,GAAKpzC,EAAElB,uBAAyBpB,KAAKsqH,QAC/C,OAGJtqH,KAAK6/B,OAAOv9B,EAAEivC,eACdvxC,KAAKqC,QAAQqtC,EAAQ,CAAEvgC,MAAOnP,KAAK+nE,mBAO/C,OAHI9gD,EAAG+J,OAAOwpF,GAGPp9G,OAAOE,QAzJd,CA2JoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,2BAA2B,CAAE,cACrC,WAEH,IAAIC,EAAW,CACXC,GAAI,qBACJC,KAAM,cACNC,SAAU,SACVC,YAAa,mGACbotC,QAAS,CAAE,OAAQ,eAGb7sC,EA4KPE,OAAOE,MAAMH,OA5KHE,OAAb,EACQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM4pB,OAAOD,GAClBH,EAASG,EAAGH,OACZ6iM,EAAc,iBACd1hF,EACAgjD,EACA2+B,EAAQ,sBACRC,EAAiB,8CAHR,wBAGiE,WAC1EC,EAAkB,+CAHR,yBAGmE,WAE7EC,EAAY,eACZC,EAAW,cACXC,EAAW,cAGXniM,EAGAoiM,EAAS,SACTh/B,EAAW,WAEXi/B,EAAcrjM,EAAOtpB,OAAO,CAC5BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KACPswB,EAAYpzB,EAAE2S,GAElBiX,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAM+vB,EAAW7wB,GAErC6wB,EAAUpa,SAASyzM,GAEnBppN,EAAK6pN,eACL7pN,EAAKs6C,QAAUvqB,EAAU+wB,WAAWy4C,IAAIv5F,EAAKo6C,QAAQ8F,QAAQqpK,GAAiBv0M,SAE9EhV,EAAK0oN,YAAc,IAAI3rN,EAAM+1C,WAAW9yC,EAAKo6C,OAAQ,CACjDtG,QAAS,KACToC,IAAK,WAAal2C,EAAKukB,YAG3BwL,EAAUpa,SAAS3V,EAAKd,QAAQ4oM,UAAY0hB,EAAYC,GAExD,GAAIzpN,EAAKd,QAAQ4qN,MACb/5L,EAAUpa,SAAS0zM,GAGvB,GAAIrpN,EAAKd,QAAQ0pG,UAAW,CACxB5oG,EAAKs6C,QAAQ3kC,SAAS+zM,GACtB1pN,EAAKs6C,QAAQhlC,OAAO,GACpB,GAAItV,EAAKd,QAAQ4oM,UACb9nM,EAAKs6C,QAAQt3B,YAEd,GAAIhjB,EAAKd,QAAQ4oM,UACpB9nM,EAAKs6C,QAAQt3B,QAIrBvhB,OAAQ,CACJkoN,EACAh/B,GAGJzrL,QAAS,CACLhD,KAAM,cACN4rM,UAAW,KACXiiB,aAAc,UACdC,WAAY,UACZC,aAlDG,OAmDHrhH,UAAW,KACXkhH,MAAO,OAGXp+L,QAAS,WACLnF,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,MACvBA,KAAKipN,YAAYh9L,WAGrBwgK,OAAQ,SAASg+B,GACb,IAAI1sH,EAAO/9F,KAAKP,QAAQ6qN,aACpBzvK,EAAU76C,KAAK66C,QACf39B,EAAM5f,EAAMW,QAAQsgB,SAASrB,IAEjC,IAAKld,KAAKqC,QAAQ6nN,GAAS,CACvB,GAAInsH,EACA/9F,KAAK26C,OAAO5qB,KAAK,YAAYta,cAAcS,SAAS,cAAgB6nF,GAExE/9F,KAAK6P,QAAQ4F,YAAYs0M,GAAW7zM,SAAS8zM,GAE7C,GAAIhqN,KAAKP,QAAQ0pG,YAAcshH,EAAS,CACpC5vK,EAAQxnB,IAAI,iBACZwnB,EAAQ43B,OACR,GAAIv1D,EAAO29B,EAAQplC,YAAYw0M,GAC/BpvK,EAAQhlC,OAAO7V,KAAK0qN,qBACpB,GAAIxtM,EAAO29B,EAAQ3kC,SAAS+zM,GAE5B3sN,EAAMopB,OAAOm0B,QAEbA,EAAQ43B,SAKpB/yC,SAAU,SAAS+qL,GACf,IAAI1sH,EAAO/9F,KAAKP,QAAQ8qN,WACpB1vK,EAAU76C,KAAK66C,QAEnB,IAAK76C,KAAKqC,QAAQ6oL,GAAW,CACzB,GAAIntF,EACA/9F,KAAK26C,OAAO5qB,KAAK,YAAYta,cAAcS,SAAS,cAAgB6nF,GAExE/9F,KAAK6P,QAAQ4F,YAAYu0M,GAAU9zM,SAAS6zM,GAE5C,GAAI/pN,KAAKP,QAAQ0pG,YAAcshH,EAAS,CACpC5vK,EAAQn5C,IAAI,gBAAiB,WAAam5C,EAAQt3B,SAClDs3B,EAAQhlC,OAAO,QAEfglC,EAAQt3B,SAKpBuB,OAAQ,SAAS2lM,GACb,GAAIzqN,KAAK2qN,cACL3qN,KAAKysL,OAAOg+B,QAEZzqN,KAAK0/B,SAAS+qL,IAItBE,YAAa,WACT,OAAO3qN,KAAK6P,QAAQ6F,SAASq0M,IAGjCrjM,OAAQ,WACJ,IAAK1mB,KAAK2qN,eAAiB3qN,KAAKP,QAAQ0pG,UACpCnpG,KAAK66C,QAAQhlC,OAAO7V,KAAK0qN,sBAIjCN,aAAc,WACV,IAAIzvK,EAAS36C,KAAK6P,QAAQwxC,SAAS,WAAWZ,QAAQopK,GAClDT,EAAWlsN,EAAE,2BACb6gG,EAAO/9F,KAAKP,QAAQ4oM,UAAYroM,KAAKP,QAAQ8qN,WAAavqN,KAAKP,QAAQ6qN,aACvEE,EAAexqN,KAAKP,QAAQ+qN,aAEhC,GAAIzsH,EAAM,CACNpjD,EAAOm3C,QAAQs3H,GACfA,EAASlzM,SAAS,MAAQ6nF,GAG9B/9F,KAAK26C,OAASA,EAAOplC,SACrBvV,KAAK26C,OAAOzkC,SAAS,WAAas0M,IAGtCE,kBAAmB,WACf,IAAI90M,EAAQ5V,KAAK66C,QAAQ1kC,KAAK,SAC1BN,EAEJ7V,KAAK66C,QAAQhmC,IAAI,CACb8B,SAAY,WACZi7E,WAAY,SACZ/7E,OAAQ,SAGZA,EAAS7V,KAAK66C,QAAQhlC,SAEtB7V,KAAK66C,QAAQ1kC,KAAK,QAASP,EAAQA,EAAQ,IAE3C,OAAOC,KAOnB,OAHIoR,EAAG+J,OAAOm5L,GAGP/sN,OAAOE,QA1Ld,CA4LoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,wBAAwB,CAAE,aAAc,mBAAoB,uBACpE,WAEH,IAAIC,EAAW,CACXC,GAAI,kBACJC,KAAM,WACNC,SAAU,SACVC,YAAa,qFACbotC,QAAS,CAAE,OAAQ,aAAc,kBAG3B7sC,EA4xCPE,OAAOE,MAAMH,OA5xCHE,OAAb,EACQC,EAAQF,OAAOE,MACfgjE,EAAOljE,OAAOkjE,KACdp5C,EAAS5pB,EAAM4pB,OACfD,EAAKC,EAAOD,GACZhX,EAAc3S,EAAM0S,aACpBiH,EAAa3Z,EAAM2G,KAAKgT,WACxB6P,EAASG,EAAG8G,gBACZ68L,EAAgB,+CAChBC,EAAqB,wCACrBhxC,EAAgB,IAAMv8K,EAAM6Y,KAAK,QAAU,IAC3Cmd,EAAYh2B,EAAMg2B,UAClBw3L,EAAc,iBACdC,EAAe,kBACfC,EAAgB,eAAiBF,EAAc,sCAC/CG,EAAiB3tN,EAAM0G,SAAS,mBAAqB8mN,EAAc,8HACnE18G,EAAU,0CACV88G,EAAkB5tN,EAAM0G,SAAS,6PACjC86E,EAAK,uBACLqsI,EAAS,SACT1jD,EAAY,YACZC,EAAc,cACd0jD,EAAc,aACdzqH,EAAQ,QACR12D,EAAS,SACT+V,EAAW,WACX1hD,EAAW,WAEX+sN,EAAmB,QACnBC,EAAe,SAEnB,SAASC,IACL,OAAOvrN,KAAK0vB,WAAa4wC,EAAKkrJ,WAAaxrN,KAAKk9B,UAAU54B,MAAM+mN,GAGpE,SAASI,EAAQxiL,EAAM80D,GACnB,GAAIA,IAAS90D,EAAK,GAAGyiL,cAAc,YAC/BziL,EAAK6oD,QAAQ,2BAA6BiM,EAAO,OAIzD,SAAS4tH,EAAY1iL,GACjBwiL,EAAQxiL,EAAM3V,EAAU2V,EAAM,SAC9BwiL,EAAQxiL,EAAM3V,EAAU2V,EAAKoY,SAASw4H,GAAgB,SAG1D,SAAS+xC,EAAgB3iL,GACrB,IAAI1zB,EAAS0zB,EAAK1zB,SACds2M,EAAuB5iL,EAAKllB,IAAIxO,EAAO8rC,SAAS/jD,EAAMqsB,aAAa,kBACnEmiM,EAAav2M,EAAOumE,WAAWge,IAAI+xH,GAAsB/xH,IAAIyxH,GAEjE,GAAIO,EAAWhsN,OACX,OAGJmpC,EAAK/yB,SAAS,oBACTC,KAAK7Y,EAAM6Y,KAAK,QAAS,iBAE9Bs1M,EAAQxiL,EAAM3V,EAAU/d,EAAQ,SAChCk2M,EAAQxiL,EAAM3V,EAAU2V,EAAM,SAGlC,SAAS8iL,EAAoBj+L,GACzB,IAAKA,EAAM,GAAG49L,cAAc,0CACxB,OAGJ,IAAIziL,EAAOnb,EAAMvY,SAEjB,GAAI0zB,EAAK6yC,WAAWge,IAAIhsE,GAAOgsE,IAAI,WAAa,OAAO95F,KAAK0vB,UAAY,IAAM,GAC1E,OAGJ5B,EAAM5X,SAAS,qBAEf4X,EAAMuzB,SAAS,gCAAgCnrC,SAAS,8BAG5D,SAAS81M,EAAMn8M,EAASkQ,GACpB7iB,EAAE2S,GAASgF,IAAI,YAAa,oBAAsBkL,EAAM,YAG5D,IAAIksM,EAAc3uN,EAAM4C,MAAM1C,OAAO,CACjCiD,KAAM,SAASwoE,GACX,IAAIk0I,EAAWl0I,EAASk0I,WAExB,IAAKA,EACD,OAGJn9M,KAAKP,QAAUwpE,EAASxpE,QACxBO,KAAK6P,QAAUo5D,EAASp5D,QACxB7P,KAAKm9M,SAAWl0I,EAASk0I,WACzBn9M,KAAKksN,oBAEL,IAAIC,EAAcnsN,KAElB,IAAIosN,EAAe,WACfD,EAAYE,iBAGhBpjJ,EAAS1nE,KAAK,SAAU6qN,GAExBnjJ,EAAS1nE,KAAK4pN,EAAQiB,GACtBnjJ,EAAS1nE,KAAKkmK,EAAW2kD,GAEzBpsN,KAAKssN,eAAiB,SAAShqN,GAC3B6pN,EAAYI,WAAWjqN,IAE3B66M,EAAS57M,KAAK,SAAUvB,KAAKssN,iBAGjCrgM,QAAS,WACL,IAAI1rB,EAAOP,KACX,GAAIO,EAAK48M,SACL58M,EAAK48M,SAASl7M,OAAO,SAAU1B,EAAK+rN,iBAI5CC,WAAY,SAASjqN,GACjB,IAAKtC,KAAKwsN,aACN,OAGJ,IAAI3sN,EAAI,EACJs9M,EAAWn9M,KAAKm9M,SAChB1hK,EAAUz7C,KAAKy7C,QACf9qB,EAAYruB,EAAEquB,UACd87L,EACAx4M,EACA0mC,EAEJ,EAAG,CACC8xK,EAAahxK,EAAQ57C,KACrB,IAAK4sN,EAAY,CACb9xK,EAASz9C,EAAE,WACX,MAEJ+W,EAASw4M,EAAWx4M,OACpB0mC,EAAS8xK,EAAW9xK,aACf1mC,EAAS,EAAI0c,GAEtB,GAAI3wB,KAAK0sN,eAAiB7sN,EAAG,CACzBs9M,EAASnrH,eAAe9tF,KAAKy2C,EAAOj7C,SACpCM,KAAK0sN,cAAgB7sN,IAI7BqsN,kBAAmB,WACflsN,KAAKwsN,aAAexsN,KAAKP,QAAQ8H,OAAS,SAAWvH,KAAKP,QAAQ+sN,cAGtEH,cAAe,WACXrsN,KAAKksN,oBAEL,IAAKlsN,KAAKwsN,aACN,OAGJ,IAAI/wK,EAAU,GAAIxnC,EAASjU,KAAKm9M,SAASxsL,UAEzC3wB,KAAK6P,QAAQkgB,KAAK,IAAM+6L,GAAartN,KAAK,SAAS+nB,EAAGm1B,GAClDA,EAASz9C,EAAEy9C,GACXc,EAAQr5C,QAAQ,CACZ6R,OAAQ0mC,EAAOhkC,WAAWoJ,IAAM9L,EAChC0mC,OAAQA,MAIhB36C,KAAKy7C,QAAUA,EACfz7C,KAAKusN,WAAW,CAAE57L,UAAW1c,OAIjC04M,EAA0B,WAC1B,MAAO,CAAEh0K,KAAM,IAGfi0K,EAAiBtvN,EAAM4C,MAAM1C,OAAO,CACpCiD,KAAM,SAASwoE,GACX,IAAInnE,EAAU9B,KACVP,EAAUwpE,EAASxpE,QACnB09M,EAAWl0I,EAASk0I,WACpB0P,EAAiBptN,EAAQotN,gBAAkBF,EAE/C3sN,KAAKipE,SAAWA,EAChBjpE,KAAKm9M,SAAWA,EAEhBl0I,EAAS1nE,KAAK,cAAe,SAASe,GAClCR,EAAQ6kG,cAAcrkG,EAAEqoB,cAG5BwyL,EAAS7xL,WAAW,CAChB4nE,cAAe,KACf45H,KAAM,WACF,IAAKhrN,EAAQirN,QAAS,CAClBjrN,EAAQirN,QAAU,KAClBjrN,EAAQ6oB,WAAW2uB,KAAKuzK,EAAerqN,KAAKymE,EAAUnnE,EAAQ0qL,WAGtEllK,SAAU,CACNksE,aAAc/zF,EAAQ6nB,SAASksE,aAC/BC,gBAAiBh0F,EAAQ6nB,SAASmsE,gBAClCC,gBAAiBj0F,EAAQ6nB,SAASosE,oBAK9CiT,cAAe,SAASh8E,GACpB,IAAI7oB,EAAU9B,KAEdA,KAAKwsL,OAAS7hK,EAAW+G,OAAO,GAChC1xB,KAAK2qB,WAAaA,EAElBA,EAAWppB,KAAK,SAAU,WACtBO,EAAQkzD,YAGZrqC,EAAWppB,KAAK,QAAS,WACrBO,EAAQkzD,aAIhBA,QAAS,WACL,IAAImoJ,EAAWn9M,KAAKm9M,SAChBxyL,EAAa3qB,KAAK2qB,WAEtB,GAAI3qB,KAAK+sN,QACL5P,EAASppH,cAGb,GAAI/zF,KAAK+sN,UAAY/sN,KAAKwsL,OAAQ,CAC9B,IAAI96J,EAAO/G,EAAW+G,OAEtB,GAAIA,EAAK,GACL1xB,KAAKwsL,OAAS96J,EAAK,GAI3B1xB,KAAK+sN,QAAU,SAInB5mG,EAAc7oH,EAAM+D,WAAW7D,OAAO,CACtCiD,KAAM,SAAShB,GACX,IAAIqiE,EAAO9hE,KAEX1C,EAAM+D,WAAWV,GAAGF,KAAK+B,KAAKs/D,GAE9BA,EAAKn6B,OAASloC,EAAQkoC,OACtBm6B,EAAKjsD,OAASpW,EAAQoW,OACtBisD,EAAK74B,KAAOxpC,EAAQwpC,KACpB64B,EAAKzzC,MAAQ,GACbyzC,EAAKuY,OAAS56E,EAAQ46E,OAEtBvY,EAAKn6B,OAAOpmC,KAAK,QAAS,WACtBugE,EAAKhoD,aAKbA,QAAS,WACL,IAAI6tB,EAAS3nC,KAAK2nC,OACdtZ,EAAQruB,KAAKquB,MACb2+L,EAAa,MAEjB,MAAM3+L,EAAMvuB,OACRuuB,EAAMgI,MAAMpK,UAGhBjsB,KAAKiU,OAAS0zB,EAAO1zB,OAErB,IAAIg5M,EAAkBjtN,KAAKipC,KACvBikL,EACAjkL,EAEJ,IAAK,IAAItnC,EAAM,EAAGA,EAAMgmC,EAAO26B,SAAU3gE,IAAQ,CAC7C,GAAIA,IAAQgmC,EAAOmV,QAAS,CACxBkwK,EAAa,KACb,MAEJ/jL,EAAOgkL,EAAgBjtN,KAAK66C,QAAQ76C,KAAKiU,OAASoa,EAAMvuB,SACxDmpC,EAAKkkL,MAAMD,GACXA,EAAWjkL,EACX5a,EAAMnsB,KAAK+mC,GAGfjpC,KAAK2qD,UAAYt8B,EAAMvuB,OAEvBE,KAAKqC,QAAQ,SAEbrC,KAAK8rB,UAEL,GAAIkhM,EACAhtN,KAAKqC,QAAQ,eAIrB+qN,YAAa,WACT,IAAKptN,KAAKquB,MAAM,GACZ,OAAO,EAGX,IAAIyzC,EAAO9hE,KACPquB,EAAQyzC,EAAKzzC,MACbtO,EAAMsO,EAAM,GAAGtO,IACf5K,EAASkZ,EAAMA,EAAMvuB,OAAS,GAAGqV,OACjCk4M,GAAqBl4M,EAAS4K,GAAO+hD,EAAKnX,UAC1C2iK,EAAsBxrJ,EAAKn6B,OAAO7nC,OAASgiE,EAAK7tD,OAAS6tD,EAAKnX,UAElE,OAAQ3qD,KAAKq6E,OAASr6E,KAAKq6E,OAAOxkE,OAAS,GAAKV,EAASm4M,EAAsBD,GAGnFE,YAAa,SAASxtM,GAClB,IAAIlK,EAAS7V,KAAK6V,SACdwY,EAAQruB,KAAKquB,MACb4a,EACAukL,EAAgBxtN,KAAKiU,OAEzB,IAAKoa,EAAM,GACP,OAGJ,GAAIruB,KAAKytN,cACL,MAAMp/L,EAAMA,EAAMvuB,OAAS,GAAGqV,OAAS4K,EAAMlK,EAAS,EAAG,CACrD,GAAI7V,KAAKiU,SAAW,EAChB,MAGJjU,KAAKiU,SACLg1B,EAAO5a,EAAMgI,MACb4S,EAAKgU,OAAOj9C,KAAK66C,QAAQ76C,KAAKiU,SAC9Bg1B,EAAKykL,MAAMr/L,EAAM,IACjBA,EAAMjsB,QAAQ6mC,QAGlB,MAAO5a,EAAM,GAAGtO,IAAMA,EAAMlK,EAAQ,CAChC,IAAI83M,EAAY3tN,KAAKiU,OAASjU,KAAK2qD,UAEnC,GAAIgjK,IAAc3tN,KAAK2nC,OAAOmV,QAAS,CACnC98C,KAAKqC,QAAQ,cACb,MAGJ,GAAIsrN,IAAc3tN,KAAK2nC,OAAO7nC,OAC1B,MAGJmpC,EAAO5a,EAAM1f,QACbs6B,EAAKgU,OAAOj9C,KAAK66C,QAAQ76C,KAAKiU,OAASjU,KAAK2qD,YAC5C1hB,EAAKkkL,MAAM9+L,EAAMA,EAAMvuB,OAAS,IAChCuuB,EAAMnsB,KAAK+mC,GACXjpC,KAAKiU,SAIb,GAAIu5M,IAAkBxtN,KAAKiU,OACvBjU,KAAK8rB,WAIbmxB,OAAQ,SAASl9B,GACb,IAAI+hD,EAAO9hE,KACPquB,EAAQruB,KAAKquB,MACb4a,EACA2wB,EACAC,EACAhkD,EAAS7V,KAAK6V,SACd80C,EAAY3qD,KAAK2qD,UACjB8gE,EAAU51G,EAAS,EACnB+M,GAAM5iB,KAAK4tN,SAAW,GAAK7tM,EAC3B8tM,EAAY9tM,EAAM0rG,EAClBqiG,EAAe/tM,EAAMlK,EAAS41G,EAElC,IAAKp9F,EAAM,GACP,OAGJruB,KAAK4tN,QAAU7tM,EACf/f,KAAKytN,cAAgB7qM,EAErB,GAAIA,GACD,GAAIyL,EAAM,GAAGtO,IAAM8tM,GACfx/L,EAAMA,EAAMvuB,OAAS,GAAGqV,OAAS24M,EAAeriG,GAChDzrH,KAAKiU,OAAS,EAElB,CACKjU,KAAKiU,SACLg1B,EAAO5a,EAAMgI,MACbujC,EAAYvrC,EAAM,GAClB4a,EAAKgU,OAAOj9C,KAAK66C,QAAQ76C,KAAKiU,SAC9Boa,EAAMjsB,QAAQ6mC,GAEdA,EAAKykL,MAAM9zJ,GACXkI,EAAKh2C,gBAGT,GACIuC,EAAMA,EAAMvuB,OAAS,GAAGqV,OAAS24M,GACjCz/L,EAAM,GAAGtO,IAAM8tM,EAAYpiG,EAE/B,CACI,IAAIkiG,EAAY3tN,KAAKiU,OAAS02C,EAE9B,GAAIgjK,IAAc3tN,KAAK2nC,OAAOmV,QAC1B98C,KAAKqC,QAAQ,mBACV,GAAIsrN,IAAc3tN,KAAK2nC,OAAO7nC,OAAQ,CACzCmpC,EAAO5a,EAAM1f,QACbkrD,EAAWxrC,EAAMA,EAAMvuB,OAAS,GAChCuuB,EAAMnsB,KAAK+mC,GACXA,EAAKgU,OAAOj9C,KAAK66C,QAAQ76C,KAAKiU,OAASjU,KAAK2qD,YAC5CmX,EAAK7tD,SAELg1B,EAAKkkL,MAAMtzJ,GACXiI,EAAKh2C,aAMrB+uB,QAAS,SAAS1rC,GACd,OAAOnP,KAAK2nC,OAAOiZ,GAAGzxC,IAG1B8c,QAAS,WACLjsB,KAAKiC,UAGT6pB,QAAS,WACL,IAAIuC,EAAQruB,KAAKquB,MACbtO,EAAM,EACN5K,EAAS,EACTykD,EAAYvrC,EAAM,GAClBwrC,EAAWxrC,EAAMA,EAAMvuB,OAAS,GAEpC,GAAI85D,EAAW,CACX75C,EAAM65C,EAAU75C,IAChB5K,EAAS0kD,EAAS1kD,OAGtBnV,KAAKqC,QAAQ,SAAU,CAAE0d,IAAKA,EAAK5K,OAAQA,IAE3C,GAAInV,KAAKq6E,OACLr6E,KAAKq6E,OAAO8yI,MAAMtzJ,MAQ1Bk0J,GAFJzwN,EAAM4pB,OAAOD,GAAGk/F,YAAcA,EAEJ7oH,EAAM4C,MAAM1C,OAAO,CACzCiD,KAAM,SAASwoE,EAAU36C,GACrB,IAAIze,EAAUo5D,EAASlI,OAAO,CAACzyC,GAAW,MAAM,GAC5CzY,EAAShG,EAAQ4e,aAErBvxB,EAAEM,OAAOwC,KAAM,CACX+f,IAAK,EACLlQ,QAASA,EACTo5D,SAAUA,EACVpzD,OAAQA,EACRV,OAAQU,KAIhBonC,OAAQ,SAAS3uB,GACbtuB,KAAK6P,QAAU7P,KAAKipE,SAAS+kJ,YAAYhuN,KAAK6P,QAASye,IAG3Do/L,MAAO,SAASzkL,GACZ,GAAIA,EAAM,CACNjpC,KAAK6V,OAAS7V,KAAK6P,QAAQ4e,aAC3BzuB,KAAK+f,IAAMkpB,EAAKlpB,IAAM/f,KAAK6V,OAC3B7V,KAAKmV,OAAS8zB,EAAKlpB,IACnBisM,EAAMhsN,KAAK6P,QAAS7P,KAAK+f,OAIjCotM,MAAO,SAASlkL,GACZ,GAAIA,EAAM,CACNjpC,KAAK6V,OAAS7V,KAAK6P,QAAQ4e,aAC3BzuB,KAAK+f,IAAMkpB,EAAK9zB,OAChBnV,KAAKmV,OAASnV,KAAK+f,IAAM/f,KAAK6V,OAC9Bm2M,EAAMhsN,KAAK6P,QAAS7P,KAAK+f,OAIjCkM,QAAS,WACL3uB,EAAM2uB,QAAQjsB,KAAK6P,SACnB3S,EAAE8C,KAAK6P,SAASkhB,aAIpBk9L,EAAY,sHACZC,EAAkC5wN,EAAM4C,MAAM1C,OAAO,CACrDiD,KAAM,SAASwoE,GACXjpE,KAAK6P,QAAU3S,EAAE,4EAA4EgoC,SAAS+jC,EAASp5D,SAC/G7P,KAAKmuN,UAAYjxN,EAAE+wN,GAAW/oL,SAASllC,KAAK6P,UAGhDuU,OAAQ,WACJpkB,KAAK6P,QAAQ4iE,OACbzyE,KAAK6V,OAAS5F,EAAYjQ,KAAK6P,QAAS,OAG5CqU,QAAS,WACLlkB,KAAK6P,QAAQ0T,OACbvjB,KAAK6V,OAAS,GAGlBs3M,MAAO,SAASlkL,GACZ,GAAIA,EAAM,CACNjpC,KAAK+f,IAAMkpB,EAAK9zB,OAChBnV,KAAKmV,OAASnV,KAAK6V,OAAS7V,KAAK+f,IACjCisM,EAAMhsN,KAAK6P,QAAS7P,KAAK+f,SAKjCquM,EAAiCF,EAAgC1wN,OAAO,CACxEiD,KAAM,SAASwoE,EAAUthC,GAErB3nC,KAAKmuN,UAAYjxN,EAAE+wN,GAAW1qM,OAC9BvjB,KAAKquN,YAAcnxN,EAAE,sBAAwB+rE,EAASxpE,QAAQ6nB,SAASgnM,aAAe,QAAQ/qM,OAC9FvjB,KAAK6P,QAAU3S,EAAE,wDAAwD6jE,OAAO/gE,KAAKmuN,WAAWptJ,OAAO/gE,KAAKquN,aAAanpL,SAAS+jC,EAASp5D,SAE3I,IAAI0+M,EAAWvuN,KAEfA,KAAKquN,YAAYG,oBAAoBvqN,KAAK,qBAAqB1C,KAAK,QAAS,WACzEgtN,EAASE,kBACT9mL,EAAOg0B,SAGXh0B,EAAOpmC,KAAK,SAAU,WAClBgtN,EAASG,oBAGb1uN,KAAK6V,OAAS5F,EAAYjQ,KAAK6P,QAAS,MACxC7P,KAAKkkB,WAGTuqM,gBAAiB,WACbzuN,KAAKquN,YAAY9qM,OACjBvjB,KAAK6P,QAAQqG,SAAS,uBACtBlW,KAAKmuN,UAAUt5M,IAAI,UAAW,UAGlC65M,gBAAiB,WACb1uN,KAAKquN,YAAY57I,OACjBzyE,KAAK6P,QAAQ4F,YAAY,uBACzBzV,KAAKmuN,UAAU5qM,UAInBorM,EAA4BrxN,EAAM4C,MAAM1C,OAAO,CAC/CiD,KAAM,SAASwoE,GACX,IAAIiC,EAASlrE,KAEbA,KAAK4uN,aAAe3+M,EAAYg5D,EAASzyD,QAAQ6qC,WAAWy4C,IAAI7wB,EAASp5D,UACzE7P,KAAKipE,SAAWA,EAChBjpE,KAAKm9M,SAAWl0I,EAASk0I,WACzBn9M,KAAKP,QAAUwpE,EAASxpE,QAExBwpE,EAAS1nE,KAAK,cAAe,SAASe,GAClC4oE,EAAOy7B,cAAcrkG,EAAEqoB,WAAYroB,EAAEq/C,SAGzCsnB,EAAS1nE,KAAK,SAAU,WACpB,IAAK2pE,EAAOpJ,KAAKzzC,MAAMvuB,OACnB,OAGJorE,EAAOiyI,SAAS94I,QAChB6G,EAAOvjC,OAAOoiB,MAAM,GACpBmhB,EAAOpJ,KAAKhoD,YAGhB9Z,KAAKm9M,SAAS5zH,cAEdvpF,KAAK4iI,QAAU,SAAStgI,GACpB4oE,EAAOpJ,KAAK7kB,OAAO36C,EAAEquB,YAEzB3wB,KAAKm9M,SAAS57M,KAAK,SAAUvB,KAAK4iI,SAClC5iI,KAAK6uN,WAAa,SAASvsN,GACvB4oE,EAAOpJ,KAAKyrJ,YAAYjrN,EAAEquB,YAE9B3wB,KAAKm9M,SAAS57M,KAAK,YAAavB,KAAK6uN,aAGzC5iM,QAAS,WACLjsB,KAAK8hE,KAAK7/D,SACVjC,KAAK2nC,OAAO1lC,SACZjC,KAAKm9M,SAASl7M,OAAO,SAAUjC,KAAK4iI,SACpC5iI,KAAKm9M,SAASl7M,OAAO,YAAajC,KAAK6uN,aAG3CloH,cAAe,SAASh8E,EAAYg3B,GAChC,IAAIupB,EAASlrE,KACTP,EAAUO,KAAKP,QACfwpE,EAAWjpE,KAAKipE,SAChBk0I,EAAWl0I,EAASk0I,WACpB2R,EAAkBrvN,EAAQ8uN,SAC1B71K,EACA/Q,EACA0yC,EAEJr6E,KAAK2qB,WAAaA,EAElB+tB,EAAW/tB,EAAW+tB,YAAcj5C,EAAQsvN,gBAE5C,IAAKr2K,IAAaiJ,EACd,MAAM,IAAI/8C,MAAM,oJAGpB,GAAI5E,KAAK2nC,OACL3nC,KAAK2nC,OAAO1b,UAGhB0b,EAAS,IAAIrqC,EAAM2G,KAAKo+D,OAAO13C,EAAY7sB,KAAK6G,MAAM+zC,EAAW,GAAIo2K,GAErE,GAAIA,EACAz0I,EAAS,IAAI+zI,EAA+BnlJ,EAAUthC,QAEtD0yC,EAAS,IAAI6zI,EAAgCjlJ,GAGjD,GAAIjpE,KAAK8hE,KACL9hE,KAAK8hE,KAAK71C,UAGd,IAAI61C,EAAO,IAAIqkD,EAAY,CACvBx+E,OAAQA,EACR0yC,OAAQA,EACRpxC,KAAM,SAAS3a,GAAY,OAAO,IAAIy/L,EAAoB9kJ,EAAU36C,IACpEzY,OAAQ,WAAa,OAAOsnM,EAAStnM,YAGzCisD,EAAKvgE,KAAK,SAAU,WAChB2pE,EAAO8jJ,qBACP/lJ,EAASgmJ,eAGbntJ,EAAKvgE,KAAK,QAAS,WACf2pE,EAAOmP,OAAOj2D,WAGlB09C,EAAKvgE,KAAK,aAAc,WACpB84E,EAAOn2D,UACPgnD,EAAO8jJ,uBAGXrnL,EAAOpmC,KAAK,SAAU,WAClBugE,EAAK2rJ,cAAgB,MACrB3rJ,EAAKyrJ,YAAYpQ,EAASxsL,aAG9BzzB,EAAEM,OAAOwC,KAAM,CACX2nC,OAAQA,EACRw1K,SAAUA,EACVr7I,KAAMA,EACNuY,OAAQA,KAIhB20I,mBAAoB,WAChBhvN,KAAKm9M,SAASzzH,YAAY,EAAG1pF,KAAK8hE,KAAKsrJ,cAAgBptN,KAAK4uN,eAGhE90M,QAAS,WACL9Z,KAAK8hE,KAAKhoD,WAGduqD,MAAO,WACHrkE,KAAK2nC,OAAOoiB,MAAM,GAClB/pD,KAAK8hE,KAAKhoD,aAIdo1M,EAAqB5xN,EAAM4C,MAAM1C,OAAO,CACxCiD,KAAM,SAASwoE,GACX,IAAIiC,EAASlrE,KACbA,KAAKipE,SAAWA,EAChBjpE,KAAKP,QAAUwpE,EAASxpE,QAExB,IAAI0vN,EAAanvN,KAEjBA,KAAKklG,gBAAkB,SAAS5iG,GAC5B6sN,EAAWr1M,QAAQxX,IAGvBtC,KAAKyxI,iBAAmB,WACpBxoE,EAAS43I,eAGb53I,EAAS1nE,KAAK,cAAe,SAASe,GAClC4oE,EAAOy7B,cAAcrkG,EAAEqoB,eAI/BsB,QAAS,WACLjsB,KAAKopH,qBAGT/kD,MAAO,aAEPvqD,QAAS,SAASxX,GACd,IAAIyiC,EAASziC,GAAKA,EAAEyiC,OAChB/W,EAAY1rB,GAAKA,EAAE+rB,MACnB46C,EAAWjpE,KAAKipE,SAChBt+C,EAAa3qB,KAAK2qB,WAClBykM,EAAmBpvN,KAAKP,QAAQ4vN,gBAChC39L,EAAO/G,EAAW+G,OAClBmS,EAASlZ,EAAW2/B,QACpBglK,EAAczrL,GAAUA,EAAO,GAC/BoF,EAGJ,GAAIlE,IAAW,aAAc,CACzB,IAAIkkC,EAASj+C,oBAAqB,CAC9Bie,EAAOggC,EAASsmJ,eAAevhM,GAAW,GAC1C,GAAIib,EACAggC,EAAS+kJ,YAAY/kL,EAAMjb,EAAU,IAG7C,OAGJ,IAAIq4C,EAAcG,EAAYE,EAC9B,IAAI8oJ,EAAUzqL,IAAW,QAAUuqL,GAAiBF,IAAqBnmJ,EAAS5Y,QAClF,IAAIo/J,EAAW1qL,IAAW,WAAauqL,EAEvC,GAAIE,EAEAnpJ,EAAe,QACZ,GAAIopJ,EAEPppJ,EAAe4C,EAASsmJ,eAAevhM,GAG3C,GAAIi7C,EAAS5mE,QAAQqlK,EAAa,CAAE3iI,OAAQA,GAAU,SAAU1W,MAAOL,EAAWq4C,aAAcA,EAAcl3D,MAAO7M,GAAKA,EAAE6M,QAAU,CAClI,GAAInP,KAAK0vN,qBACLzmJ,EAAS23I,cAEb,OAGJ,GAAI77K,IAAW,QAAUuqL,EAAa,CAClC,IAAIngN,EAAQuiB,EAAK7kB,QAAQmhB,EAAU,IACnC,GAAI7e,GAAS,EAAG,CACZq3D,EAAayC,EAAS0mJ,SAAS3hM,EAAW7e,GAC1Cu3D,EAAiB14C,QAElB,GAAI+W,IAAW,WAAauqL,EAAa,CAC5C9oJ,EAAa,GACbyC,EAASl4C,OAAO/C,QACb,GAAIshM,EACPrmJ,EAAS2mJ,eAAel+L,QAEvB,GAAI09L,IAAqBnmJ,EAAS5Y,QAAS,CAC5CmW,EAAayC,EAAS6oB,QAAQpgE,GAC9Bg1C,EAAiBh1C,OAGjBu3C,EAAS9oE,QAAQuxB,GAGrB,GAAI1xB,KAAK0vN,qBACLzmJ,EAAS23I,cAGb33I,EAAS5mE,QAAQolK,EAAW,CAAE5+I,GAAI5B,EAAIu/C,WAAYA,EAAYE,eAAgBA,KAGlFigC,cAAe,SAASh8E,GACpB,GAAI3qB,KAAK2qB,WACL3qB,KAAKopH,oBAGTppH,KAAK2qB,WAAaA,EAClBA,EAAWppB,KAAK0oC,EAAQjqC,KAAKklG,iBAE7B,GAAIllG,KAAK0vN,qBACL1vN,KAAK2qB,WAAWppB,KAAKy+C,EAAUhgD,KAAKyxI,mBAI5CroB,kBAAmB,WACfppH,KAAK2qB,WAAW1oB,OAAOgoC,EAAQjqC,KAAKklG,iBAAiBjjG,OAAO+9C,EAAUhgD,KAAKyxI,mBAG/Ei+E,mBAAoB,WAChB,IAAIjwN,EAAUO,KAAKP,QACnB,OAAQA,EAAQyzF,gBAAkBzzF,EAAQ8uN,WAAa9uN,EAAQowN,iBAInEC,EAAiBxyN,EAAM4C,MAAM1C,OAAO,CACpCiD,KAAM,SAASwoE,GACX,IAAIh5C,EAASjwB,KACT+vN,EAAa9mJ,EAASxpE,QAAQswN,WAC9B/tN,EAAS,eACTzB,EAAOP,KAEXA,KAAKipE,SAAWA,EAChBjpE,KAAKP,QAAUswN,EAEf9mJ,EAASp5D,QAAQ0nF,OAAO2zH,EAAgB,CAAE7qM,YAAa0vM,EAAW1vM,aAAe,eAEjF,GAAI0vM,EAAWC,aAAe,MAC1BhuN,GAAU,SAGdhC,KAAK6P,QAAUo5D,EAASzyD,QAAQuZ,KAAK,mBAErC/vB,KAAKiwN,YAAchnJ,EAASzyD,QAAQuZ,KAAK,sBACpCxV,QAAQ,QAAQ6L,GAAG,SAAW04D,EAAI,SAASx8E,GACxCA,EAAEpB,mBAEL0C,MACAwiB,GAAG,QAAU04D,EAAI,WACd7uD,EAAOigM,WAAajgM,EAAOggM,YAAY5kK,QAE1CjlC,GAAGpkB,EAAOa,MAAM,KAAKC,KAAKg8E,EAAK,KAAOA,EAAI9+E,KAAKmwN,cAAc5uN,KAAKvB,OAEvEA,KAAK6oH,YAAc5/C,EAASzyD,QAAQuZ,KAAK,oBACpC3J,GAAGu6E,EAAO3gG,KAAKknH,aAAa3lH,KAAKvB,OACjCujB,OAEJvjB,KAAKowN,kBAAoBpwN,KAAKqwN,cAAc9uN,KAAKvB,MACjDipE,EAAS1nE,KAAK,cAAe,SAASe,GAClCA,EAAEqoB,WAAWppB,KAAK,SAAUhB,EAAK6vN,sBAI1CC,cAAe,WACX,IAAIC,EAAiBtwN,KAAKipE,SAASt+C,WAAWsF,SAC9C,IAAIggM,EAAcjwN,KAAKipE,SAAS5Y,QAAQ4/J,YAExC,IAAKK,GAAkBA,EAAe32K,QAAQ,GAAG94B,QAAU7gB,KAAKipE,SAASxpE,QAAQswN,WAAWlvM,MACxFovM,EAAY5kK,IAAI,SAEhB4kK,EAAY5kK,IAAIilK,EAAe32K,QAAQ,GAAGryC,QAIlD8pI,QAAS,SAASpoH,GACdhpB,KAAKqwD,QAAU,KACfrwD,KAAK6oH,YAAY7/F,EAAO,OAAS,UACjChpB,KAAKipE,SAASt+C,WAAWsF,OAAOjH,IAGpCmnM,cAAe,SAAS7tN,GACpB,IAAI2tB,EAASjwB,KACb,GAAIsC,EAAEiF,MAAQ,SAAWvH,KAAKP,QAAQuwN,aAAe,MACjD78L,WAAW,WACPlD,EAAOsgM,gBACR,QAEHvwN,KAAKuwN,gBAIbA,aAAc,WACV,IAAI9wN,EAAUO,KAAKP,QACf6H,EAAQtH,KAAKiwN,YAAY5kK,MACzBriC,EAAO1hB,EAAMxH,OAAS,CAClB+gB,MAAOphB,EAAQohB,MACf64B,SAAUj6C,EAAQi6C,UAAY,aAC9B3L,WAAYtuC,EAAQsuC,WACpBzmC,MAAOA,GACP,KAER,GAAIA,IAAUtH,KAAKkwN,WACf,OAGJlwN,KAAKkwN,WAAa5oN,EAClBtH,KAAKoxI,QAAQpoH,IAGjBk+F,aAAc,SAAS5kH,GACnBtC,KAAKiwN,YAAY5kK,IAAI,IACrBrrD,KAAKoxI,QAAQ,MAEb9uI,EAAEpB,oBAINqnK,EAAWzhJ,EAAOtpB,OAAO,CACzBiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIwpE,EAAWjpE,KAEf8mB,EAAOnmB,GAAGF,KAAK+B,KAAKxC,KAAM6P,EAASpQ,GAEnCoQ,EAAU7P,KAAK6P,QAEfpQ,EAAUO,KAAKP,QAGf,GAAIA,EAAQ+wN,eACR/wN,EAAQgxN,gBAAkBhxN,EAAQ+wN,eAGtC3gN,EACKuW,GAAG,OAAQykM,EAAoB,cAC/BzkM,GAAG,iBAAkBykM,EAAoB,QAE9C7qN,KAAKipN,YAAc,IAAI3rN,EAAM+1C,WAAWxjC,EAAS,CAC7CwkC,QAAS,KACTpkB,OAAQ26L,EACRz2K,eAAgB,KAChBsC,IAAK,SAASn0C,GACV2mE,EAASnzB,OAAOxzC,MAKxBuN,EAAQgF,IAAI,mBAAoB,QAEhChF,EAAQuF,KAAKg5F,GAEbpuG,KAAKwW,QAAUxW,KAAK6P,QAAQ0F,SAE5BvV,KAAK0wN,aAAe,IAAIzE,EAAYjsN,MAEpCA,KAAK2wN,YAAc,GACnB3wN,KAAK0xH,aAEL1xH,KAAK+rD,QAAUtsD,EAAQowN,eAAiBpwN,EAAQ8uN,SAEhDvuN,KAAKskN,SAEL,GAAItkN,KAAKP,QAAQ2+E,WAAap+E,KAAK+rD,SAAW/rD,KAAKP,QAAQyzF,eACvD//D,WAAWnzB,KAAKszC,OAAO/xC,KAAKvB,YAE5BA,KAAKszC,UAKbA,OAAQ,WACJ,IAAI7zC,EAAUO,KAAKP,QAEnB,GAAIO,KAAKP,QAAQswN,WACb/vN,KAAKqwD,QAAU,IAAIy/J,EAAe9vN,MAGtC,GAAIA,KAAK+rD,QACL/rD,KAAK4wN,YAAc,IAAIjC,EAA0B3uN,WAEjDA,KAAK4wN,YAAc,IAAI1B,EAAmBlvN,MAG9C,GAAIA,KAAKP,QAAQyzF,cACblzF,KAAK6wN,sBAAwB,IAAIjE,EAAe5sN,MAGpDA,KAAK2mG,cAAclnG,EAAQkrB,YAE3B3qB,KAAK8wN,cAAc9wN,KAAKquB,SAExB/wB,EAAMoxB,OAAO1uB,KAAMinB,IAGvBjlB,OAAQ,CACJ2+F,EACA+mE,EACAD,EACA2jD,GAGJ3rN,QAAS,CACLhD,KAAM,WACNmZ,MAAO,GACPrO,KAAM,OACNigE,SAAU,KACVglJ,aAAc,MACdxoN,SAAU,UACVmgH,eAAgB,wCAChBkrG,gBAAiB,MACjBd,SAAU,MACVsB,cAAe,MACfY,gBAAiB,GACjBv9H,cAAe,MACf5rE,SAAU,CACNgnM,aAAc,qBACd96H,aAAc,kBACdC,gBAAiB,qBACjBC,gBAAiB,cAErBJ,WAAY,IACZy8H,WAAY,MACZhB,gBAAiB,MAGrBj1M,QAAS,WACL9Z,KAAK4wN,YAAY92M,WAGrBuqD,MAAO,WACHrkE,KAAK4wN,YAAYvsJ,SAGrBsiC,cAAe,SAASh8E,GAEpB,IAAIomM,GAAmBpmM,EACvB3qB,KAAK2qB,WAAa1T,EAAWimC,OAAOvyB,GAEpC3qB,KAAKqC,QAAQ,cAAe,CAAEsoB,WAAY3qB,KAAK2qB,WAAYg3B,MAAOovK,IAElE,GAAI/wN,KAAKP,QAAQ+nE,WAAaupJ,EAAiB,CAC3C/wN,KAAKquB,QAAQ0C,SACb/wB,KAAK2qB,WAAW8wC,UAIxBxvC,QAAS,WACLnF,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,MACvB1C,EAAM2uB,QAAQjsB,KAAK6P,SACnB7P,KAAKipN,YAAYh9L,UACjB,GAAIjsB,KAAK4wN,YACL5wN,KAAK4wN,YAAY3kM,UAGrB,GAAGjsB,KAAK0wN,aACJ1wN,KAAK0wN,aAAazkM,UAGtBjsB,KAAK6P,QAAQytH,gBACNt9H,KAAK6P,eACL7P,KAAKwW,eACLxW,KAAKipN,aAGhB56L,MAAO,WACH,GAAIruB,KAAKP,QAAQ8H,OAAS,QACtB,OAAOvH,KAAK6P,QAAQkgB,KAAK,YAAYsxB,gBAErC,OAAOrhD,KAAK6P,QAAQwxC,WAAWy4C,IAAI,kBAI3CqjH,SAAU,WACN,IAAKn9M,KAAKgxN,kBACNhxN,KAAKgxN,kBAAoBhxN,KAAK6P,QAAQ0K,QAAQ,sBAAsBtW,KAAK,uBAG7E,OAAOjE,KAAKgxN,mBAGhBnQ,YAAa,WACT,IAAInvL,EAAO1xB,KAAK0xB,OAChB,GAAIA,GAAQA,EAAK+sD,OACb/sD,EAAK+sD,OAAOhM,QAIpBmuI,YAAa,WACT,IAAIlvL,EAAO1xB,KAAK0xB,OAChB,GAAIA,GAAQA,EAAK+sD,OACb/sD,EAAK+sD,OAAOl7D,QAIpBosM,SAAU,SAAS3hM,EAAW7e,EAAO8hN,GACjC,IAAIhoJ,EAAWjpE,KACf,OAAOipE,EAASqhE,aAAat8G,EAAW,SAASK,GAC7C,GAAIlf,IAAU,EACV85D,EAASp5D,QAAQiiF,QAAQzjE,QAExB,GAAIlf,KAAW,EAChB85D,EAASp5D,QAAQkxD,OAAO1yC,QAExB46C,EAAS56C,QAAQyD,GAAG3iB,EAAQ,GAAG8tE,MAAM5uD,GAGzC,GAAI4iM,EACA,IAAK,IAAIpxN,EAAI,EAAGA,EAAIwuB,EAAMvuB,OAAQD,IAC9BopE,EAAS5mE,QAAQ+oN,EAAa,CAAEniL,KAAM5a,EAAMyD,GAAGjyB,GAAIoE,KAAM+pB,EAAUnuB,GAAIgpB,GAAI5B,OAM3F85C,OAAQ,SAAS/yC,EAAWijM,GACxB,OAAOjxN,KAAK2vN,SAAS3hM,GAAY,EAAGijM,IAGxCn/H,QAAS,SAAS9jE,EAAWijM,GACzB,OAAOjxN,KAAK2vN,SAAS3hM,EAAW,EAAGijM,IAGvC9wN,QAAS,SAAS6tB,GACdhuB,KAAKP,QAAQ8H,KAAO,OACpBvH,KAAKkuB,cAAc,WACnB5wB,EAAM2uB,QAAQjsB,KAAK6P,QAAQwxC,YAC3BrhD,KAAK6P,QAAQ8xC,QACb3hD,KAAKipN,YAAYp0L,SACjB70B,KAAKskN,SACL,OAAOtkN,KAAK2vN,SAAS3hM,EAAW,IAGpC4hM,eAAgB,SAAS/rL,GACrB7jC,KAAKP,QAAQ8H,KAAO,QACpBvH,KAAKkuB,cAAc,WACnBluB,KAAK6P,QAAQ8xC,QACb,IAAItzB,EAAQnxB,EAAEI,EAAMyG,OAAO/D,KAAK4lH,cAAe/hF,IAE/C7jC,KAAK8wN,cAAcziM,EAAMgzB,SAAS,MAAMA,SAAS,OACjDrhD,KAAK6P,QAAQkxD,OAAO1yC,GACpBnH,EAAOzmB,KAAK4tB,GACZruB,KAAKskN,SACLtkN,KAAKkuB,cAAc,YAGvB6C,OAAQ,SAAS/C,GACb,IAAIK,EAAQruB,KAAKuvN,eAAevhM,GAChChuB,KAAK0qB,QAAQ,UAAW,WACpB,MAAO,CAAE0D,SAAUC,KAEvB/wB,EAAM2uB,QAAQoC,GACdA,EAAM0C,UAGVw+L,eAAgB,SAASvhM,GACrB,IAAIjE,EAAY,GAEhB,IAAK,IAAIpoB,EAAM,EAAG7B,EAASkuB,EAAUluB,OAAQ6B,EAAM7B,EAAQ6B,IACvDooB,EAAUpoB,GAAO,SAAWrE,EAAMurB,GAAK,OAASmF,EAAUrsB,GAAK4gD,IAAM,IAGzE,OAAOviD,KAAK6P,QAAQkgB,KAAKhG,EAAUjnB,KAAK,OAI5CkrN,YAAa,SAAS/kL,EAAM3a,GACxB,IAAI26C,EAAWjpE,KACXkxN,EAAc,SAAS7iM,GACnB,IAAI8iM,EAAUj0N,EAAEmxB,EAAM,IACtB/wB,EAAM2uB,QAAQgd,GACdggC,EAASv+C,QAAQ,UAAW,WAAY,MAAO,CAAE0D,SAAU,CAAElxB,EAAE+rC,OAC/D/rC,EAAE+rC,GAAM8yC,YAAYo1I,GACpBloJ,EAAS5mE,QAAQ+oN,EAAa,CAAEniL,KAAMkoL,EAASltN,KAAMqqB,EAAUzF,GAAI5B,KAG3E,OAAOjnB,KAAKsqI,aAAa,CAACh8G,GAAW4iM,GAAa,IAGtDjC,WAAY,WACRjvN,KAAK6rB,MAAQ7rB,KAAK2rB,WAGtB2+G,aAAc,SAASt8G,EAAW7H,GAC9B,IAAIkI,EAAQnxB,EAAEI,EAAMyG,OAAO/D,KAAKgE,SAAUgqB,IAE1C7H,EAASkI,GAETruB,KAAK0qB,QAAQ,UAAW,WACpB,MAAO,CACH0D,SAAUC,EACVpqB,KAAM+pB,EAAU9c,IAAI,SAASjN,GACzB,MAAO,CAAEqqB,SAAUrqB,QAK/BijB,EAAOzmB,KAAK4tB,GACZruB,KAAK8wN,cAAcziM,GAEnB,OAAOA,GAGX+iM,KAAM,SAAS9uN,GACXtC,KAAK0+G,QAAQp8G,EAAG,QAGpB+uN,WAAY,SAAS/uN,GACjBtC,KAAK0+G,QAAQp8G,EAAG,OAGpBo8G,QAAS,SAASp8G,EAAGsmN,GACjB,GAAItmN,EAAEozC,MAAQ,EACV,OAGJ,IAAIwpI,EAAUhiL,EAAEoF,EAAEivC,eACdtI,EAAOi2I,EAAQ3pK,SACfqU,EAAO0J,EAAU4rJ,EAAS,SAAW,GACrCoyC,GAAc1nM,EAAKtlB,MAAMgnN,GACzBn3B,EAAY7xL,EAAElB,qBAElB,GAAIkwN,EACAroL,EAAKplB,YAAYknM,EAAcnC,IAAcz0B,IAIrDziE,WAAY,WACR,IAAI1tH,EAAWhE,KAAKP,QAAQuE,SACxBmgH,EAAiBnkH,KAAKP,QAAQ0kH,eAC9BotG,EAAkB,wCAClBC,EAAgB,GAChBC,EAAqB,GAEzB,UAAWztN,IAAa1F,EAAU,CAC9BkzN,EAAcxtN,SAAWA,EACzBA,EAAW,yBAGfhE,KAAKgE,SAAW1G,EAAM0G,SAAS,MAAQutN,EAAkB,IAAMvtN,EAAW,SAASzC,KAAKiwN,GAExFC,EAAmBztN,SAAWhE,KAAKgE,SAEnC,UAAWmgH,IAAmB7lH,EAAU,CACpCmzN,EAAmBC,gBAAkBvtG,EACrCA,EAAiB,gCAGrBstG,EAAmBttG,eAAiB7mH,EAAM0G,SAASmgH,GAEnDnkH,KAAK4lH,cAAgBqlG,EAAe1pN,KAAKkwN,IAG7C37K,OAAQ,SAASxzC,GACb,GAAIA,EAAE+Y,MAAMq6B,MAAQ,GAAKpzC,EAAE+Y,MAAMja,qBAC7B,OAGJ,IAAIktB,EACA2a,EAAO3mC,EAAE3C,OACTA,EAASzC,EAAEoF,EAAE+Y,MAAM1b,QACnBgyN,EAAgBhyN,EAAO4a,QAAQjd,EAAMqsB,aAAa,SAAU,eAAgB,eAC5EuxE,EAAS59F,EAAM8yB,eAAeuhM,EAAe1qM,GAC7CzqB,EAAKysC,EAAK9yB,KAAK7Y,EAAM6Y,KAAK,QAE9B,GAAI3Z,EACA8xB,EAAWtuB,KAAK2qB,WAAWioC,SAASp2D,GAGxC,GAAIwD,KAAKqC,QAAQs+F,EAAO,CAAChhG,OAAQA,EAAQspC,KAAMA,EAAM3a,SAAUA,EAAU4sE,OAAQA,IAC7E54F,EAAEpB,kBAIV0wN,aAAc,WACV,IAAIC,EAAY7xN,KAAK6P,QAAQwxC,WAE7BwwK,EAAUxwK,SAAS,MAAMnrC,SAAS,WAElC27M,EAAUp0N,KAAK,WACX,IAAIg+G,EAAKv+G,EAAE8C,MACPmoH,EAAc1M,EAAG3/B,WAAW35E,QAEhCs5G,EAAGvlG,SAAS,sBACZ,IAAKiyG,EAAYlyG,GAAG,QAAUkyG,EAAYlyG,GAAG,OAAS60M,GAClD3iG,EAAY/yG,KAAK41M,MAK7B1G,OAAQ,WACJ,IAAI7kN,EAAUO,KAAKP,QACfqyN,EAAUryN,EAAQ8H,OAAS,QAC3BsI,EAAU7P,KAAK6P,QACfw6M,EAAQ5qN,EAAQmW,QAAU,QAE9B/F,EAAQqG,SAAS,eACZ2N,YAAY,WAAYiuM,GACxBjuM,YAAY,kBAAmB7jB,KAAK+rD,SACpCloC,YAAY,gBAAiBiuM,GAAWzH,GACxCxmM,YAAY,eAAgBiuM,IAAYzH,GACxCxmM,YAAY,oBAAqBiuM,GAAWzH,GAEjD,IAAKx6M,EAAQyiB,QAAQ,gBAAgB,GACjCziB,EAAQ0K,QAAQ,eAAesJ,YAAY,kBAAmBwmM,GAGlE,GAAIyH,EACA9xN,KAAK4xN,eAGT5xN,KAAKqC,QAAQ8oN,IAGjB2F,cAAe,SAASziM,GACpBA,EAAM5wB,KAAK,WACP,IAAIwrC,EAAO/rC,EAAE8C,MACTi9B,EACA80L,EAAW,MAEf9oL,EAAKoY,WAAW5jD,KAAK,WACjBw/B,EAAQ//B,EAAE8C,MACV,GAAIi9B,EAAMhnB,GAAG,KAAM,CACf21M,EAAgB3uL,GAChB80L,EAAW,UACR,GAAI90L,EAAMhnB,GAAG,SAAU,CAC1B81M,EAAoB9uL,GACpB80L,EAAW,QAInB,IAAKA,EACDpG,EAAY1iL,QAShC,OAHIhiB,EAAG+J,OAAOu3I,GAGPnrK,OAAOE,QA1yCd,CA4yCoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,sBAAsB,CAAE,cAChC,WAEH,IAAIC,EAAW,CACXC,GAAI,gBACJC,KAAM,SACNC,SAAU,SACVC,YAAa,iIACbotC,QAAS,CAAE,SAGL7sC,EAgEPE,OAAOE,MAAMH,OAhEHE,OAAb,EACQC,EAAQF,OAAOE,MACf4pB,EACAD,EADS3pB,EAAM4pB,OACHD,GACZH,EAASG,EAAGH,OAEhB,SAASkrM,EAAgB/zH,EAAOpuF,GAC5B,IAAIwe,EAAQxe,EAAQkgB,KAAK,IAAMzyB,EAAM6Y,KAAK,SAAW,IAAM8nF,EAAQ,KAEnE,GAAI5vE,EAAM,GACN,OAAOnxB,EAAE,kBAAoB+gG,EAAQ,YAAYl9B,OAAO1yC,GAAOyC,UAAUjhB,GAIjF,SAASoiN,EAAYC,GACjB,IAAIpmH,EAAWomH,EAAcpmH,WACzBqmH,IAAYD,EAAc7wK,SAAS,MAAM,GACzC+wK,IAAetmH,EAAS,IAAMxuG,EAAMy/B,KAAKm1L,EAAc9xL,UAAY,GACnE9jB,KAAahf,EAAM4pB,OAAOsL,aAAel1B,EAAM4pB,OAAOsL,YAAY3iB,QAAQoG,GAAG,gBAEjFi8M,EAAcxyG,UAAU77F,YAAY,cAAesuM,GACnDD,EAAcruM,YAAY,gBAAiBuuM,GAC3CF,EAAcruM,YAAY,gBAAiBuuM,IAAc90N,EAAMy/B,KAAKm1L,EAAchuN,SAClFguN,EAAcruM,YAAY,cAAesuM,GACzCD,EAAcruM,YAAY,gBAAiBvH,IAAYwvF,EAASzqD,WAAWprC,GAAG,aAGlF,IAAIo8M,EAASvrM,EAAOtpB,OAAO,CACvBiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCoQ,EAAUtP,EAAKsP,QAEftP,EAAK+vB,YAAY/uB,KAAK,OAAQvB,KAAK8Z,QAAQvY,KAAKvB,OAEhD6P,EAAQqG,SAAS,aAAagoE,UAAUhhF,EAAE,gDAC1CqD,EAAK+xN,YAAcN,EAAgB,OAAQniN,GAC3CtP,EAAKgyN,aAAeP,EAAgB,QAASniN,GAC7CtP,EAAK2xN,cAAgBriN,EAAQkgB,KAAK,mBAGtCtwB,QAAS,CACLhD,KAAM,UAGV6uC,MAAO,SAAShkC,GACZtH,KAAK6P,QAAQkgB,KAAKzyB,EAAMqsB,aAAa,eAAeyW,KAAK94B,GACzD2qN,EAAYjyN,KAAKkyN,gBAGrBp4M,QAAS,SAASxX,GACd,IAAIovB,EAAOpvB,EAAEovB,KACb1xB,KAAKsrC,MAAM5Z,EAAKjyB,QAAQ6rC,QAG5Brf,QAAS,WACLnF,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,MACvB1C,EAAM2uB,QAAQjsB,KAAK6P,YAO/B,OAHIoX,EAAG+J,OAAOqhM,GAGPj1N,OAAOE,QA9Ed,CAgFoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,0BAA0B,CAAE,WAAY,aAAc,qBAC9D,WAEH,IAAIC,EAAW,CACXC,GAAI,oBACJC,KAAM,aACNC,SAAU,SACVC,YAAa,6FACbotC,QAAS,CAAE,KAAM,OAAQ,gBAGnB7sC,EA23BPE,OAAOE,MAAMH,OA33BHE,OAAb,EACQC,EAAQF,OAAOE,MACf4pB,EACAD,EADS3pB,EAAM4pB,OACHD,GACZqxD,EAAah7E,EAAM0lB,QAAQs1D,WAC3BsS,EAAOttF,EAAM2pB,GAAG2jE,KAChBV,EAAiB5sF,EAAM2pB,GAAGijE,eAC1BpjE,EAASG,EAAG8G,gBACZ9W,EAAa3Z,EAAM2G,KAAKgT,WACxBorD,EAAS/kE,EAAM2G,KAAKo+D,OACpB0B,EAAczmE,EAAM2G,KAAK8/D,YAGzBlmE,EAAOC,KACPwM,EAAOzM,EAAKyM,IACZiyD,EAAO1+D,EAAK0+D,KACZ5vD,EAAQ9O,EAAK8O,MACbO,EAAMrP,EAAKqP,IACX6B,EAAMlR,EAAKkR,IACXpK,EAAQ9G,EAAK8G,MAEbslC,EAAS,SACTuoL,EAAW,WACX5d,EAAU,UACV6d,EAAqB,eACrBC,EAAqB,eACrBp0N,EAAW,WACX8sN,EAAc,aACduH,EAAU,UAEVC,EAAqB,EACrBC,GAAa,EACbC,EAAa,EACbC,EAAa,EAEbC,GAAc,EACdC,EAAQ,EACRC,EAAc,EAElB,SAASt6M,EAAUnc,GACf,MAAO,KAAOA,EAAO,OAASA,EAGlC,IAAIkoG,EAAQrnG,EAAM4C,MAAM1C,OAAO,CAC3BiD,KAAM,SAAS0yN,GACX,IAAI5yN,EAAOP,KACP6P,EAAU3S,EAAE,cAAgB0b,EAAU,SAAW,OAErDu6M,EAAWtjN,QAAQkxD,OAAOlxD,GAE1B7P,KAAKozN,aAAe7yN,EAAKy0D,QAAQzzD,KAAKhB,GACtCP,KAAKqzN,cAAgB9yN,EAAKysJ,SAASzrJ,KAAKhB,GACxC4yN,EAAW5xN,KAAK0oC,EAAQjqC,KAAKozN,cAC7BD,EAAW5xN,KAAKqzM,EAAS50M,KAAKqzN,eAE9Bn2N,EAAEM,OAAO+C,EAAM,CAAEsP,QAASA,EAASsjN,WAAYA,KAGnD9kM,MAAO,WACH,OAAOruB,KAAK6P,QAAQwxC,YAGxB2rG,SAAU,SAAS1qJ,GACf,IAAIgxN,EAAW,GAEf,IAAK,IAAI3xN,EAAM,EAAGA,EAAMW,EAAEixN,UAAW5xN,IACjC2xN,GAAY,YAGhBtzN,KAAK6P,QAAQ3L,KAAKovN,GAClBtzN,KAAKquB,QAAQyD,GAAGxvB,EAAEq2C,MAAMziC,SAAS0C,EAAU65M,KAG/Cz9J,QAAS,SAAS1yD,GACdtC,KAAKquB,QACA5Y,YAAYmD,EAAU65M,IACtB3gM,GAAGxvB,EAAEq2C,MAAMziC,SAAS0C,EAAU65M,KAGvCxmM,QAAS,WACLjsB,KAAKmzN,WAAWlxN,OAAOgoC,EAAQjqC,KAAKozN,cACpCpzN,KAAKmzN,WAAWlxN,OAAO2yM,EAAS50M,KAAKqzN,eACrCrzN,KAAK6P,QAAQkhB,YAMjBsoD,GAFJ/7E,EAAM4pB,OAAOD,GAAGusM,gBAAkB7uH,EAEb,iBACjB8uH,EAAa,YACbC,EAAW,UAEXC,EAAcr2N,EAAM+D,WAAW7D,OAAO,CACtCiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEX1C,EAAM+D,WAAWV,GAAGF,KAAK+B,KAAKxC,MAE9BA,KAAK6P,QAAUA,EACf7P,KAAKswB,UAAYzgB,EAAQ0F,SAEzB,IAAImjE,EACA5J,EACA58B,EACAnmB,EACAy+D,EACA+H,EAEJ7Z,EAAU,IAAIp7E,EAAM2pB,GAAGskE,QAAQhrF,EAAKsP,SAEpCi/D,EAAa,IAAIwJ,EAAW,CACxB75C,KAAM,IACNi6C,QAASA,EACTN,MAAO,WACH73E,EAAK8B,QAAQg3E,MAIrBnnC,EAAa,IAAI50C,EAAM+1C,WAAWxjC,EAAS,CACvCwkC,QAAS,KACTloC,MAAO,SAAS7J,GACZ,GAAIgI,EAAIhI,EAAE27B,EAAE4T,UAAY,GAAKvnC,EAAIhI,EAAE6L,EAAE0jC,UACjCK,EAAWmD,eAEXnD,EAAWrd,SAGft0B,EAAK8B,QAAQoxN,EAAYnxN,GACzBwsE,EAAWj6C,UAEfsf,eAAgB,KAChBvwC,IAAK,SAAStB,GACV/B,EAAK8B,QAAQqxN,EAAUpxN,MAI/BypB,EAAa,IAAIm+D,EAAe,CAC5Br6E,QAAStP,EAAKsP,QACdygB,UAAW/vB,EAAK+vB,YAGpBk6D,EAAYz+D,EAAWkS,EAEvBusD,EAAUjpF,KAAK0oC,EAAQ,WACnB1pC,EAAK8B,QAAQ4nC,KAGjBsoD,EAAO,IAAI3H,EAAK,CACZ7+D,WAAYA,EACZmmB,WAAYA,EACZwmC,QAASA,EACTmS,QAAS,OAGb3tF,EAAEM,OAAO+C,EAAM,CACX6iB,SAAU3jB,GAAWA,EAAQ2jB,UAAY,EACzCs1D,QAASA,EACT5J,WAAYA,EACZ58B,WAAYA,EACZnmB,WAAYA,EACZy+D,UAAWA,EACX+H,KAAMA,IAGVvyF,KAAKuB,KAAK,CAAC83E,EAAgBo6I,EAAYC,EAAUzpL,GAASxqC,IAG9DuS,KAAM,WACF,MAAO,CAAE2D,MAAO3V,KAAK+rB,WAAWkS,EAAEtS,UAAW9V,OAAQ7V,KAAK+rB,WAAW5d,EAAEwd,YAG3EmxB,MAAO,WACH,OAAO98C,KAAKwqF,UAAUX,YAG1B51E,OAAQ,WACJ,OAAQjU,KAAK04E,QAAQz6C,GAGzB21L,gBAAiB,WACb5zN,KAAKwqF,UAAUvtC,OAAO,OAG1BnjC,QAAS,WACL9Z,KAAK+rB,WAAWjS,WAGpB2+D,OAAQ,SAASxkE,GACbjU,KAAK04E,QAAQG,SAAS,KAAM5kE,IAGhC4/M,aAAc,SAAS5/M,EAAQm8D,EAAMq6I,GACjC,GAAIA,EACAzqN,KAAKy4E,QAAQxkE,QAEbjU,KAAK8uE,WAAW2J,OAAO,CAAEp6D,SAAUpK,EAAQmP,SAAUpjB,KAAKojB,SAAUgtD,KAAMA,OAOlF0jJ,GAFJx2N,EAAM4pB,OAAOD,GAAG8sM,sBAAwBJ,EAEhBr2N,EAAM+D,WAAW7D,OAAO,CAC5CiD,KAAM,SAASoP,EAAS0iF,EAAM9yF,GAC1B,IAAIc,EAAOP,KAEX1C,EAAM+D,WAAWV,GAAGF,KAAK+B,KAAKxC,MAC9BO,EAAKsP,QAAUA,EACftP,EAAKgyF,KAAOA,EACZhyF,EAAKyzN,YACLh0N,KAAK24C,KAAO,EACZ34C,KAAK04C,SAAWj5C,EAAQi5C,UAAY,EACpC14C,KAAKi0N,cAAgBx0N,EAAQw0N,cAC7Bj0N,KAAKk0N,YAAcz0N,EAAQy0N,YAC3Bl0N,KAAKm0N,aAAe10N,EAAQ00N,cAGhCzhI,SAAU,SAAS/5C,EAAM8xK,GACrBzqN,KAAK24C,KAAOA,EACZ34C,KAAKuyF,KAAKshI,cAAel7K,EAAO34C,KAAKuyF,KAAKvgF,OAAO2D,MAAO2iE,EAAWQ,YAAa2xI,IAGpF2J,UAAW,SAASC,EAAWC,EAAQnuM,EAAuBskM,GAC1D,IAAIlqN,EAAOP,KACPuyF,EAAOhyF,EAAKgyF,KACZ58E,EAAQ48E,EAAKvgF,OAAO2D,MAAQpV,EAAKm4C,SACjC67K,EAAS5nN,EACTyjE,EAAOkkJ,EAASh8I,EAAWS,YAAcT,EAAWQ,YACpD07I,EACAC,EAEJ,GAAIJ,IAAcrB,EACduB,EAASh4J,OACN,GAAI83J,IAAcnB,EACrBqB,EAAS5vN,EAGb8vN,EAAWF,EAAOhiI,EAAKt+E,SAAW0B,GAElC6+M,EAAOtnN,EAAI3M,EAAKm0N,QAAS3lN,GAAK0lN,EAAW9+M,EAAOpV,EAAKo0N,UAErD,GAAIF,GAAYl0N,EAAKo4C,KACjB,GAAIxyB,GAAYA,EAAS,CAAEyuM,YAAar0N,EAAKo4C,KAAM87K,SAAUA,IACzDD,GAAQj0N,EAAKo4C,KAAO45C,EAAKvgF,OAAO2D,MAIxC48E,EAAKshI,aAAaW,EAAMpkJ,EAAMq6I,IAGlCoK,WAAY,WACR,IAAItiI,EAAOvyF,KAAKuyF,KACZ55C,EAAOhsC,EAAM4lF,EAAKt+E,SAAWs+E,EAAKvgF,OAAO2D,OAE7C,GAAIgjC,GAAQ34C,KAAK24C,KAAM,CACnB34C,KAAK24C,KAAOA,EACZ,OAAO,KAGX,OAAO,OAGXm8K,gBAAiB,WACb,OAAO90N,KAAK60N,cAGhBE,SAAU,SAAS/iN,GACf,IAAIugF,EAAOvyF,KAAKuyF,KACZ58E,EAAQ3D,EAAK2D,MAEjB3V,KAAKg1N,aAAar/M,MAAMA,GAExB,GAAI3V,KAAKi0N,gBAAkB,OAAQ,CAC/B,IAAIgB,EAAkBj1N,KAAK6P,QAAQ0F,SAASM,SAE5C,GAAI7V,KAAKk0N,cAAgB,KAAM,CAC3B,IAAIzpD,EAAQzqK,KAAK6P,QAAQ0F,SAASwa,KAAK,eACvC,IAAK/vB,KAAKm0N,cAAgB1pD,EAAM3qK,OAC5Bm1N,GAAmB33N,EAAM0S,aAAay6J,EAAO,MAIrDzqK,KAAK6P,QAAQgF,IAAI,SAAUogN,GAC3Bj1N,KAAKg1N,aAAangN,IAAI,SAAUogN,GAIpC1iI,EAAKqhI,kBAEL,IAAK5zN,KAAKk1N,OACNl1N,KAAK24C,KAAOh0C,EAAM4tF,EAAKt+E,SAAW0B,GAGtC3V,KAAK0yF,SAAS1yF,KAAK24C,KAAM,MAEzB34C,KAAKuzN,UAAYh3J,EAAKg2B,EAAKz1C,QAAUnnC,GACrC3V,KAAK00N,UAAa10N,KAAKuzN,UAAY,GAAK59M,EACxC3V,KAAK20N,QAAU,GAGnBX,UAAW,WACPh0N,KAAKg1N,aAAeh1N,KAAK6P,QAAQkgB,KAAKzyB,EAAMqsB,aAAa,SACzD3pB,KAAKk1N,OAASl1N,KAAKg1N,aAAal1N,OAAS,MAM7Cq1N,GAFJ73N,EAAM4pB,OAAOD,GAAG6sM,kBAAoBA,EAELx2N,EAAM+D,WAAW7D,OAAO,CACnDiD,KAAM,SAASoP,EAAS0iF,EAAM9yF,GAC1B,IAAIc,EAAOP,KAEX1C,EAAM+D,WAAWV,GAAGF,KAAK+B,KAAKxC,MAE9BO,EAAKsP,QAAUA,EACftP,EAAKgyF,KAAOA,EACZhyF,EAAKd,QAAUA,EACfc,EAAKmxH,aACLnxH,EAAKo4C,KAAOl5C,EAAQk5C,MAAQ,EAC5Bp4C,EAAK8rI,MAAQ,GACb9rI,EAAK60N,aACL70N,EAAKw0N,SAASx0N,EAAKgyF,KAAKvgF,QAExBzR,EAAKgyF,KAAK/H,UAAUZ,gBAGxB+c,cAAe,SAASh8E,GACpB3qB,KAAK2qB,WAAa1T,EAAWimC,OAAOvyB,GACpC3qB,KAAKq1N,UACLr1N,KAAKs1N,oBAAsB,MAC3Bt1N,KAAKu1N,sBAAwB,OAGjCpS,UAAW,WACP,IAAI5iN,EAAOP,KACX,GAAIO,EAAKg1N,sBAAuB,CAC5BpiM,WAAW,WACP5yB,EAAKi1N,eACN,GACHj1N,EAAKg1N,sBAAwB,QAIrCF,QAAS,WACL,IAAIxvH,EAAe7lG,KAAKP,QAAQomG,aAEhC,GAAI7lG,KAAK2nC,OACL3nC,KAAK2nC,OAAO1b,UAGhB,GAAI45E,EAAe,EACf7lG,KAAK2nC,OAAS,IAAIo8B,EAAY/jE,KAAK2qB,WAAYk7E,QAE/C7lG,KAAK2nC,OAAS,IAAI06B,EAAOriE,KAAK2qB,WAAYk7E,EAAe,GAG7D7lG,KAAKwpG,aAAexpG,KAAKy1N,UAAUl0N,KAAKvB,MACxCA,KAAK01N,YAAc11N,KAAK21N,SAASp0N,KAAKvB,MACtCA,KAAK41N,iBAAmB51N,KAAK61N,cAAct0N,KAAKvB,MAEhDA,KAAK2nC,OAAOpmC,KAAK,CACbmlB,OAAU1mB,KAAKwpG,aACfnlC,MAASrkE,KAAK01N,YACdxxJ,WAAclkE,KAAK41N,oBAI3BlkG,WAAY,WACR,IAAI1tH,EAAWhE,KAAKP,QAAQuE,SACxB8xN,EAAgB91N,KAAKP,QAAQq2N,cAC7BtE,EAAgB,GAChBuE,EAAqB,GAEzB,UAAW/xN,IAAa1F,EAAU,CAC9BkzN,EAAcxtN,SAAWA,EACzBA,EAAW,yBAGfhE,KAAKgE,SAAW1G,EAAM0G,SAASA,GAAUzC,KAAKiwN,GAE9C,UAAWsE,IAAkBx3N,EAAU,CACnCy3N,EAAmBD,cAAgBA,EACnCA,EAAgB,8BAGpB91N,KAAK81N,cAAgBx4N,EAAM0G,SAAS8xN,GAAev0N,KAAKw0N,IAG5DX,WAAY,WACR,IAAI/oF,EAAQrsI,KAAKqsI,MACbx8H,EAAU7P,KAAK6P,QACf8oC,EAEJ,IAAK,IAAI94C,EAAI,EAAGA,EAAI+yN,EAAoB/yN,IAAK,CACzC84C,EAAO,IAAIq9K,EAAKnmN,GAChBw8H,EAAMnqI,KAAKy2C,GAGf34C,KAAKuyF,KAAKqhI,mBAGdmB,SAAU,SAAS/iN,GACf,IAAIq6H,EAAQrsI,KAAKqsI,MACb95C,EAAOvyF,KAAKuyF,KAEhB,IAAK,IAAI1yF,EAAI,EAAGA,EAAIwsI,EAAMvsI,OAAQD,IAC9BwsI,EAAMxsI,GAAGo2N,SAASjkN,EAAK2D,OAG3B,GAAI3V,KAAKP,QAAQw0N,gBAAkB,OAC/Bj0N,KAAK6P,QAAQgF,IAAI,SAAU7U,KAAKqsI,MAAM,GAAGx8H,QAAQgG,eAGhD,GAAI7V,KAAKP,QAAQw0N,gBAAkB,OAAQ,CAC5C,IAAIgB,EAAkBj1N,KAAK6P,QAAQ0F,SAASM,SAE5C,GAAI7V,KAAKP,QAAQy0N,cAAgB,KAAM,CACnC,IAAIzpD,EAAQzqK,KAAK6P,QAAQ0F,SAASwa,KAAK,eACvC,IAAK/vB,KAAKP,QAAQ00N,cAAgB1pD,EAAM3qK,OACpCm1N,GAAmB33N,EAAM0S,aAAay6J,EAAO,MAIrDzqK,KAAK6P,QAAQgF,IAAI,SAAUogN,GAC3B5oF,EAAM,GAAGx8H,QAAQgF,IAAI,SAAUogN,GAC/B5oF,EAAM,GAAGx8H,QAAQgF,IAAI,SAAUogN,GAC/B5oF,EAAM,GAAGx8H,QAAQgF,IAAI,SAAUogN,GAGnC1iI,EAAKqhI,kBAEL5zN,KAAKk2N,mBAELl2N,KAAK2V,MAAQ3D,EAAK2D,OAGtB+8E,SAAU,SAAS/5C,GACf,IAAIhR,EAAS3nC,KAAK2nC,OACdrZ,EAEJqZ,EAAO87B,iBACPn1C,EAAWqZ,EAAOiZ,GAAGjI,GAErB,IAAKrqB,EACD,OAGJtuB,KAAKm2N,oBAAoBx9K,GAEzB34C,KAAK24C,KAAOA,GAGhBy7K,UAAW,SAASC,EAAWC,EAAQnuM,EAAuBskM,GAC1D,IAAIlqN,EAAOP,KACPuyF,EAAOhyF,EAAKgyF,KACZ58E,EAAQ48E,EAAKvgF,OAAO2D,MACpB1B,EAASs+E,EAAKt+E,SACdmiN,EAAkBt4N,KAAKwM,IAAI2J,IAAW0B,EAAQ,EAC9Cy6D,EAAOkkJ,EAASh3N,EAAM0lB,QAAQs1D,WAAWS,YAAcz7E,EAAM0lB,QAAQs1D,WAAYQ,YACjFu9I,EAAe91N,EAAKo4C,KAAO,EAAIp4C,EAAKonC,OAAOmV,QAC3C23K,EACAn2L,EAAQ,EAEZ,GAAI+1L,IAAcnB,GACd,GAAI3yN,EAAKo4C,OAAS,EACdra,GAAS,OAEV,GAAI+1L,IAAcrB,IAAeqD,EACpC/3L,EAAQ,OACL,GAAIrqB,EAAS,IAAMmiN,IAAoBC,GAC1C/3L,EAAQ,OACL,GAAIrqB,EAAS,GAAKmiN,EACrB,GAAI71N,EAAKo4C,OAAS,EACdra,GAAS,EAIjBm2L,EAAWl0N,EAAKo4C,KAChB,GAAIra,EACAm2L,EAAYn2L,EAAQ,EAAKm2L,EAAW,EAAIA,EAAW,EAGvD,GAAItuM,GAAYA,EAAS,CAAEyuM,YAAar0N,EAAKo4C,KAAM87K,SAAUA,IACzDn2L,EAAQ,EAGZ,GAAIA,IAAU,EACV/9B,EAAK+1N,YAAYlmJ,EAAMq6I,QACpB,GAAInsL,KAAW,EAClB/9B,EAAKg2N,cAAc9L,QAChB,GAAInsL,IAAU,EACjB/9B,EAAKi2N,aAAa/L,IAI1BoK,WAAY,WACR,IAAIxoF,EAAQrsI,KAAKqsI,MAEjB,GAAIrsI,KAAKuyF,KAAKt+E,WAAa,EACvB,OAAO,MAGX,GAAIjU,KAAKuyF,KAAKt+E,SAAW,EAAG,CACxBo4H,EAAMnqI,KAAKlC,KAAKqsI,MAAM19H,SACtB3O,KAAK24C,OACL34C,KAAKy2N,eAAepqF,EAAM,GAAIrsI,KAAK24C,KAAO,OACvC,CACH0zF,EAAMjqI,QAAQpC,KAAKqsI,MAAMh2G,OACzBr2B,KAAK24C,OACL34C,KAAKy2N,eAAepqF,EAAM,GAAIrsI,KAAK24C,KAAO,GAG9C34C,KAAKk2N,mBAELl2N,KAAK02N,gBAEL,OAAO,MAGX5B,gBAAiB,WACb,IAAI7gN,EAASjU,KAAKuyF,KAAKt+E,SACnB0M,EAAa3gB,KAAKuyF,KAAKvgF,OAAO2D,MAAQ,EAAE,EAE5C,GAAIrL,EAAI2J,GAAU0M,EACd,OAAO3gB,KAAK60N,aAGhB,OAAO,OAGX6B,cAAe,WACX12N,KAAKuyF,KAAK9Z,OAAO,IAGrB+9I,aAAc,SAAS/L,GACnBzqN,KAAKuyF,KAAKshI,cAAc7zN,KAAK2V,MAAOrY,EAAM0lB,QAAQs1D,WAAWQ,YAAa2xI,IAG9E8L,cAAe,SAAS9L,GACpBzqN,KAAKuyF,KAAKshI,aAAa7zN,KAAK2V,MAAOrY,EAAM0lB,QAAQs1D,WAAWQ,YAAa2xI,IAG7E6L,YAAa,SAASlmJ,EAAmBq6I,GACrCzqN,KAAKuyF,KAAKshI,aAAa,EAAGzjJ,EAAMq6I,IAGpC+K,YAAa,WACTx1N,KAAK24C,KAAO34C,KAAKP,QAAQk5C,MAAQ,EAEjC34C,KAAKm2N,oBAAoBn2N,KAAK24C,MAC9B34C,KAAKk2N,mBAELl2N,KAAKqC,QAAQ,UAGjBozN,UAAW,WACPz1N,KAAKuzN,UAAYh3J,EAAKv8D,KAAK2qB,WAAWmyB,QAAU98C,KAAKP,QAAQomG,cAE7D,GAAI7lG,KAAKs1N,oBAAqB,CAC1Bt1N,KAAKm2N,oBAAoBn2N,KAAK24C,MAC9B34C,KAAKs1N,oBAAsB,MAG/Bt1N,KAAKqC,QAAQ,WAGjBszN,SAAU,WACN31N,KAAKuzN,UAAYh3J,EAAKv8D,KAAK2qB,WAAWmyB,QAAU98C,KAAKP,QAAQomG,cAC7D7lG,KAAKw1N,eAGTK,cAAe,WACX71N,KAAKs1N,oBAAsB,MAG/BY,iBAAkB,WACd,IAAI7pF,EAAQrsI,KAAKqsI,MAEjBA,EAAM,GAAG11H,SAASk8M,GAClBxmF,EAAM,GAAG11H,SAASm8M,GAClBzmF,EAAM,GAAG11H,SAASo8M,IAGtBoD,oBAAqB,SAASliN,GAC1B,IAAIo4H,EAAQrsI,KAAKqsI,MACbuoF,EAAc3gN,GAAU,EAE5BjU,KAAKy2N,eAAepqF,EAAM,GAAIuoF,EAAc,GAC5C50N,KAAKy2N,eAAepqF,EAAM,GAAIuoF,GAC9B50N,KAAKy2N,eAAepqF,EAAM,GAAIuoF,EAAc,IAGhD6B,eAAgB,SAAS99K,EAAMxpC,GAC3B,IAAIw4B,EAAS3nC,KAAK2nC,OACd3jC,EAAWhE,KAAKgE,SAChB8xN,EAAgB91N,KAAK81N,cACrBpkM,EAAO,KAEX,GAAIviB,GAAS,EAAG,CACZuiB,EAAOiW,EAAOiZ,GAAGzxC,GACjB,GAAIxR,MAAMD,QAAQg0B,KAAUA,EAAK5xB,OAC7B4xB,EAAO,KAIf1xB,KAAKqC,QAAQswN,EAAS,CAAE1pL,KAAM0P,EAAK9oC,UAEnC,GAAI6hB,IAAS,KACTinB,EAAKkC,QAAQ72C,EAAS0tB,SAEtBinB,EAAKkC,QAAQi7K,EAAc,KAG/Bx4N,EAAM4pB,OAAOzmB,KAAKk4C,EAAK9oC,SACvB7P,KAAKqC,QAAQ+oN,EAAa,CAAEniL,KAAM0P,EAAK9oC,QAAS5L,KAAMytB,EAAM7I,GAAIvrB,EAAM4pB,OAAOD,SAOjF+uM,GAFJ14N,EAAM4pB,OAAOD,GAAGkuM,yBAA2BA,EAEhC73N,EAAM4C,MAAM1C,OAAO,CAC1BiD,KAAM,SAAS6vB,GACXtwB,KAAK6P,QAAU3S,EAAE,eAAiB0b,EAAU85M,GAAsB,YAClE1yN,KAAK2V,MAAQ2a,EAAU3a,QACvB3V,KAAK6P,QAAQ8F,MAAM3V,KAAK2V,OACxB2a,EAAUywC,OAAO/gE,KAAK6P,UAG1BgrC,QAAS,SAAS87K,GACd32N,KAAK6P,QAAQ3L,KAAKyyN,IAGtBhgN,SAAU,SAASA,GACf3W,KAAK6P,QAAQgF,IAAI,YAAa,eAAiB7U,KAAK2V,MAAQgB,EAAW,cAG3Es/M,SAAU,SAAStgN,GACf3V,KAAK2V,MAAQA,EACb3V,KAAK6P,QAAQ8F,MAAMA,OAMvBihN,GAFJt5N,EAAM4pB,OAAOD,GAAG4vM,YAAcb,EAEblvM,EAAOtpB,OAAO,CAC3BiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCA,EAAUc,EAAKd,QACfoQ,EAAUtP,EAAKsP,QAEfvS,EAAM8+B,gBAAgBvsB,EAAQ,IAE9BA,EACKquE,UAAU,UACVhoE,SAAS,YAAc0C,EAAU,eAEtC,GAAI5Y,KAAKP,QAAQy0N,YAAa,CAC1Bl0N,KAAKyqK,MAAQ,IAAI9lE,EAAM3kG,MAEvB,GAAIA,KAAKP,QAAQ00N,aACbtkN,EAAQqG,SAAS0C,EAAU,uBAInCrY,EAAKy4E,MAAQnpE,EAAQwxC,WAAWl/C,QAChC5B,EAAKo4C,KAAO,EACZp4C,EAAKy4E,MAAMnkE,IAAI,SAAUpV,EAAQw0N,eAEjC1zN,EAAKgyF,KAAO,IAAIohI,EAAYpzN,EAAKy4E,MAAO,CACpC51D,SAAUpjB,KAAKP,QAAQ2jB,SACvB0zM,cAAe92N,KAAK+2N,eAAex1N,KAAKvB,MACxCg3N,UAAWh3N,KAAKi3N,WAAW11N,KAAKvB,MAChCk3N,QAASl3N,KAAKq0F,SAAS9yF,KAAKvB,MAC5B0rC,OAAQ1rC,KAAK40M,GAASrzM,KAAKvB,QAG/BO,EAAKgB,KAAK,SAAU,WAChBhB,EAAKgyF,KAAKz4E,YAGdvZ,EAAKo4C,KAAOl5C,EAAQk5C,KAEpB,IAAIgJ,EAAQ3hD,KAAKg5E,MAAM33B,WAAWvhD,SAAW,EAE7C,IAAI+6C,EAAU8G,EAAQ,IAAIwzK,EAAyB50N,EAAKy4E,MAAOz4E,EAAKgyF,KAAM9yF,GAAW,IAAIq0N,EAAkBvzN,EAAKy4E,MAAOz4E,EAAKgyF,KAAM9yF,GAElIo7C,EAAQlC,KAAOp4C,EAAKo4C,KAEpBkC,EAAQt5C,KAAK,QAAS,WAClBvB,KAAKs1N,oBAAsB,MAC3B/0N,EAAK42N,mBACL52N,EAAK8B,QAAQuyM,EAAS,CAAE2e,UAAW14K,EAAQ04K,UAAW56K,KAAMkC,EAAQlC,SAGxEkC,EAAQt5C,KAAK,SAAU,WACnBhB,EAAK8B,QAAQuyM,EAAS,CAAE2e,UAAW14K,EAAQ04K,UAAW56K,KAAMkC,EAAQlC,SAGxEkC,EAAQt5C,KAAK6pN,EAAa,SAAS9oN,GAC/B/B,EAAK8B,QAAQ+oN,EAAa9oN,GAE1B/B,EAAKmqB,QAAQ,UAAW,WACpB,MAAO,CAAE0D,SAAU9rB,EAAE2mC,KAAMhlC,KAAM,CAAE,CAAEqqB,SAAUhsB,EAAE2B,YAIzD42C,EAAQt5C,KAAKoxN,EAAS,SAASrwN,GAC3B/B,EAAKmqB,QAAQ,UAAW,WACpB,MAAO,CAAE0D,SAAU9rB,EAAE2mC,UAI7B1oC,EAAKq9F,SAAW/iD,EAChBt6C,EAAKomG,cAAclnG,EAAQkrB,YAE3B,IAAIysM,EAAkB72N,EAAK+vB,YAE3B,GAAI8mM,EAAgB9lM,WAAY,CAC5B/wB,EAAK82N,WACL92N,EAAKw/M,gBAELqX,EAAgB71N,KAAK,OAAQvB,KAAK+/M,SAASx+M,KAAKvB,OAAOuB,KAAK,OAAQvB,KAAKq3N,SAAS91N,KAAKvB,QAI/FP,QAAS,CACLhD,KAAM,aACNk8C,KAAM,EACNv1B,SAAU,IACV8gM,kBAAmB,GACnB+P,cAAe,OACfv7K,SAAU,EACVmtD,aAAc,EACdyxH,wBAAyB,IACzBpD,YAAa,KACbC,aAAc,MACd3sJ,SAAU,KACVxjE,SAAU,GACV8xN,cAAe,IAGnB9zN,OAAQ,CACJwwN,EACAvoL,EACA2qK,GAGJ3oL,QAAS,WACLnF,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,MACvB1C,EAAM2uB,QAAQjsB,KAAK6P,UAGvBwnN,SAAU,WACN,GAAIr3N,KAAKP,QAAQ+nE,SACbxnE,KAAK49F,SAASlL,SAAS1yF,KAAK49F,SAASjlD,KAAM,OAInDonK,SAAU,WACN//M,KAAKuyF,KAAKz4E,WAGdA,QAAS,WACL,IAAI+gC,EAAU76C,KAAK49F,SAEnB/iD,EAAQk6K,SAAS/0N,KAAKuyF,KAAKvgF,QAC3BhS,KAAK24C,KAAOkC,EAAQlC,KACpB34C,KAAKqC,QAAQuyM,EAAS,CAAE2e,UAAW14K,EAAQ04K,UAAW56K,KAAMkC,EAAQlC,QAGxEkC,QAAS,SAAS32C,GACflE,KAAK6P,QAAQwxC,WAAWl/C,QAAQ+B,KAAKA,GACrClE,KAAK49F,SAASo2H,YACdh0N,KAAKuyF,KAAKz4E,WAGbxS,MAAO,SAAS2hC,GACZ,IAAIte,EAAa3qB,KAAK2qB,WAEtB,GAAIse,EACAjpC,KAAK0yF,SAAS/nE,EAAW9d,QAAQo8B,GAAO,WAExC,OAAOte,EAAWi2B,GAAG5gD,KAAK24C,OAIlC+5C,SAAU,SAAS/5C,EAAM8xK,GACrBzqN,KAAK49F,SAASlL,SAAS/5C,EAAM8xK,GAC7BzqN,KAAKm3N,oBAGThqL,KAAM,WACF,IAAI5sC,EAAOP,KACPu3N,EAAWh3N,EAAKo4C,KAAO,EAE3B,GAAIp4C,EAAKq9F,oBAAoBu3H,EACzB50N,EAAKq9F,SAASw2H,UAAUlB,EAAa71N,EAAW,SAASkhE,GACrD,OAAOh+D,EAAK8B,QAAQmwN,EAAUj0J,UAE/B,GAAIg5J,GAAY,EACnBh3N,EAAKmyF,SAAS6kI,IAItB57J,KAAM,WACF,IAAIp7D,EAAOP,KACPy0N,EAAWl0N,EAAKo4C,KAAO,EAE3B,GAAIp4C,EAAKq9F,oBAAoBu3H,EACzB50N,EAAKq9F,SAASw2H,UAAUpB,EAAY31N,EAAW,SAASkhE,GACpD,OAAOh+D,EAAK8B,QAAQmwN,EAAUj0J,UAE/B,GAAIk2J,EAAWl0N,EAAKq9F,SAAS21H,UAChChzN,EAAKmyF,SAAS+hI,IAItB9tH,cAAe,SAASh8E,GACpB,KAAM3qB,KAAK49F,oBAAoBu3H,GAC3B,OAGJ,IAAIpE,GAAmBpmM,EACvB3qB,KAAK2qB,WAAa1T,EAAWimC,OAAOvyB,GAEpC3qB,KAAK49F,SAAS+I,cAAc3mG,KAAK2qB,YAEjC,GAAI3qB,KAAKP,QAAQ+nE,WAAaupJ,EAE1B/wN,KAAK2qB,WAAW8wC,SAIxBptC,MAAO,WACH,OAAOruB,KAAK6P,QAAQkgB,KAAK,OAAS2iM,IAGtCyE,iBAAkB,WACd,IAAI9qF,EAAQrsI,KAAK49F,SAASyuC,MACtB1kG,EAAS3nC,KAAK49F,SAASj2D,OACvB1jC,EACA4L,EAEJ7P,KAAK24C,KAAO34C,KAAK49F,SAASjlD,KAE1B10C,EAAO0jC,EAASA,EAAOiZ,GAAG5gD,KAAK24C,MAAQt7C,EACvC,KAAM4G,aAAgBtG,OAClBsG,EAAO,CAACA,GAEZ4L,EAAUw8H,EAAQA,EAAM,GAAGx8H,QAAUxS,EAErC2C,KAAKqC,QAAQ4nC,EAAQ,CAAE0O,KAAM34C,KAAK24C,KAAM9oC,QAASA,EAAS5L,KAAMA,KAGpEgzN,WAAY,WACR,GAAIj3N,KAAK49F,SAASk3H,kBACd90N,KAAKm3N,oBAIb9iI,SAAU,SAAS/xF,GACf,IAAI/B,EAAOP,KACP6xC,EAAWvvC,EAAE27B,EAAE4T,SACfqyK,EAAoBlkN,KAAKP,QAAQykN,kBACjCmQ,EAAYpB,EACZqB,EAAShqN,EAAIunC,GAAY7xC,KAAKP,QAAQ63N,wBAE1C,GAAIzlL,EAAWqyK,EACXmQ,EAAYnB,OACT,GAAIrhL,GAAYqyK,EACnBmQ,EAAYrB,EAGhBhzN,KAAK49F,SAASw2H,UAAUC,EAAWC,EAAQ,SAAS/1J,GAChD,OAAOh+D,EAAK8B,QAAQmwN,EAAUj0J,MAItCw4J,eAAgB,WACZ,GAAI/2N,KAAK49F,SAASi3H,aACd70N,KAAKm3N,uBASrB,OAJIlwM,EAAG+J,OAAO4lM,GAIPx5N,OAAOE,QAz4Bd,CA24BoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAGrF,SAAavtC,QACTA,OAAO,sBAAsB,CAAE,WAAY,oBAC5C,WAEH,IAAIC,EAAW,CACXC,GAAI,gBACJC,KAAM,SACNC,SAAU,SACVC,YAAa,qEACbotC,QAAS,CAAE,KAAM,eAGX7sC,EAsPPE,OAAOE,MAAMH,OAtPHE,OAAb,EACQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM4pB,OAAOD,GAClBlX,EAAazS,EAAMsS,YACnBkX,EAASG,EAAGH,OACZ7oB,EAAUX,EAAMW,QAChBgsC,EAAS,SACTutL,EAAW,YACXC,EAAY,aACZC,EAAa,cACbC,EAAe,eACfC,EAAiB,iBACjB72H,EAAW,WACX82H,EACAC,GADiB75N,EAAQ6W,YAAYD,MAAQxX,EAAY,GAAKY,EAAQ6W,YAAYD,KAChD,YAEtC,SAAS+D,EAAUnc,GACf,MAAO,MAAQA,EAGnB,SAASs7N,EAAWzwN,EAAO0wN,EAAUC,GACjC,OAAOn6N,KAAKoP,IAAI8qN,EAAUl6N,KAAKiR,IAAIkpN,EAAU3wN,IAGjD,IAAI4wN,EAAgB,gBAAkBt/M,EAAU,UAAY,IAAMA,EAAU,UAAY,0BACnEA,EAAU,kBAAoB,8BAC1BA,EAAU,qBAAuB,iDAErCA,EAAU,oBAAsB,8BAC5BA,EAAU,iBAAmB,mCACzBA,EAAU,mBAAqB,6CAC/BA,EAAU,oBAAsB,8DAKzDu/M,EAASrxM,EAAOtpB,OAAO,CACvBiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAAM8nE,EAEjBhhD,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GAEnCA,EAAUc,EAAKd,QAEfc,EAAKiW,QAAUtZ,EAAEI,EAAMuH,OAAOqzN,EAAez4N,EAAQ24N,QAAS34N,EAAQ44N,WACtE93N,EAAK80B,OAAS90B,EAAKiW,QAAQuZ,KAAK,qBAChCxvB,EAAK+3N,WAAa/3N,EAAKiW,QAAQuZ,KAAK,yBACpCxvB,EAAKiW,QAAQoxD,aAAarnE,EAAKsP,SAASiiF,QAAQvxF,EAAKsP,SAErDtP,EAAKqsF,QAELrsF,EAAK40E,OAAS9lE,SAAS9O,EAAK+3N,WAAWzjN,IAAI6iN,GAAa,IAExDn3N,EAAKksM,UAAY,EACjBlsM,EAAKg4N,UAAY,EAEjB1oN,EAAUtP,EAAKsP,QAAQ,GACvBA,EAAQtI,KAAO,WACfhH,EAAKi4N,mBAAqB,KAE1B1wJ,EAAUvnE,EAAKd,QAAQqoE,QAEvB,GAAIA,IAAY,KACZA,EAAUj4D,EAAQi4D,QAGtBvnE,EAAK+nE,MAAMR,GAEXvnE,EAAKd,QAAQ2kB,OAAS7jB,EAAKd,QAAQ2kB,SAAW7jB,EAAKsP,QAAQsG,KAAK4qF,GAChExgG,EAAK6jB,OAAO7jB,EAAKd,QAAQ2kB,QAEzB7jB,EAAKuZ,UACLxc,EAAMoxB,OAAOnuB,EAAMjD,EAAM4pB,OAAOD,KAGpCnN,QAAS,WACL,IAAIvZ,EAAOP,KACPy4N,EAAc1oN,EAAWxP,EAAK80B,OAAQ,MAE1C90B,EAAKoV,MAAQpV,EAAKiW,QAAQb,QAE1BpV,EAAKksM,UAAalsM,EAAKoV,MAAQ8iN,EAC/Bl4N,EAAKg4N,UAAYh4N,EAAKksM,UAAY,EAElC,UAAWlsM,EAAK40E,QAAU,SACtB50E,EAAK40E,OAAS9lE,SAAS9O,EAAK+3N,WAAWzjN,IAAI6iN,GAAa,IAG5Dn3N,EAAK+3N,WAAWr0N,KAAK,SAAU1D,EAAK40E,QAEpC50E,EAAK+nE,MAAM/nE,EAAKsP,QAAQ,GAAGi4D,UAG/B9lE,OAAQ,CACJioC,GAGJxqC,QAAS,CACLhD,KAAM,SACN27N,QAAS,KACTC,SAAU,MACVvwJ,QAAS,KACT1jD,OAAQ,MAGZkkD,MAAO,SAASA,GACZ,IAAI/nE,EAAOP,KACP6P,EAAUtP,EAAKsP,QAAQ,GAE3B,GAAIy4D,IAAUjrE,EACV,OAAOwS,EAAQi4D,QAGnBvnE,EAAKw0F,UAAUzsB,EAAQ/nE,EAAKksM,UAAY,GACxC58L,EAAQi4D,QAAUQ,EAClB/nE,EAAKiW,QACAqN,YAAYjL,EAAU4+M,GAAWlvJ,GACjCzkD,YAAYjL,EAAU6+M,IAAanvJ,IAI5ChhE,MAAO,WACH,OAAOtH,KAAKsoE,MAAM5nE,MAAMV,KAAMJ,YAGlCqsB,QAAS,WACLnF,EAAOnmB,GAAGsrB,QAAQzpB,KAAKxC,MACvBA,KAAKkyC,WAAWjmB,WAGpBnH,OAAQ,WACJ,IAAIvkB,EAAOP,KAEXO,EAAK+nE,OAAO/nE,EAAKsP,QAAQ,GAAGi4D,UAGhC1jD,OAAQ,SAASA,GACb,IAAIvU,EAAU7P,KAAK6P,QACf2G,EAAUxW,KAAKwW,QAEnB,UAAU4N,GAAU,YAChBA,EAAS,KAGbpkB,KAAKP,QAAQ2kB,OAASA,EAEtB,GAAGA,EACCvU,EAAQ2c,KAAKu0E,EAAU,YAEvBlxF,EAAQsG,KAAK4qF,EAAUA,GAG3BvqF,EAAQqN,YAAYjL,EAAUg/M,IAAkBxzM,IAGpD0H,QAAS,WACL9rB,KAAK8Z,WAGT67B,MAAO,SAASrzC,GACZ,IAAI/B,EAAOP,KACXsC,EAAEpB,iBACFX,EAAKw0F,UAAUgjI,EAAWx3N,EAAKoW,SAAWrU,EAAE27B,EAAEK,MAAO,EAAG/9B,EAAKoV,MAAQ5F,EAAWxP,EAAK80B,OAAQ,SAGjG0/D,UAAW,SAASp+E,GAChB,IAAIpW,EAAOP,KAEXO,EAAKoW,SAAWA,EAChBpW,EAAK80B,OAAOxgB,IAAIijN,EAAgB,cAAgBnhN,EAAW,OAE3D,GAAIpW,EAAKi4N,mBACLj4N,EAAK+3N,WAAWzjN,IAAI6iN,EAAYn3N,EAAK40E,OAASx+D,IAItD28B,OAAQ,WACJ,IAAItzC,KAAKP,QAAQ2kB,OACbpkB,KAAKkyC,WAAWrd,aACb,CACH70B,KAAKkyC,WAAWmD,UAChBr1C,KAAKq1B,OAAOnf,SAAS0C,EAAU++M,MAIvCriI,MAAO,WACH,IAAI/0F,EAAOP,KAEXO,EAAK80B,OAAO5f,YAAYmD,EAAU++M,IAClCp3N,EAAKm+G,QAAQn+G,EAAKoW,SAAWpW,EAAKg4N,YAGtC75G,QAAS,SAAU52C,GACf,IAAIvnE,EAAOP,KACPq1B,EAAS90B,EAAK80B,OACdxlB,EAAUtP,EAAKsP,QAAQ,GACvBvI,EAAQuI,EAAQi4D,QAChB1kD,EAAW9lB,EAAM4pB,OAAOsL,aAAel1B,EAAM4pB,OAAOsL,YAAYxW,GAAGI,GAAK,IAAM,IAC9Eg1B,EAEJ7wC,EAAKiW,QACAqN,YAAYjL,EAAU4+M,GAAW1vJ,GACjCjkD,YAAYjL,EAAU6+M,IAAa3vJ,GAExCvnE,EAAKoW,SAAWy6B,EAAW02B,EAAUvnE,EAAKksM,UAE1C,GAAIlsM,EAAKi4N,mBACLj4N,EAAK+3N,WACAh0M,UAAU,KAAM,MAChBI,aAAa,CAAE1B,QAAS,cAAe/O,OAAQm9B,EAAUizB,MAAO,KAAMx1D,SAAUi5D,EAASrpC,KAAM,OAAQrb,SAAUA,IAG1HiS,EACK/Q,UAAU,KAAM,MAChBI,aAAa,CACV1B,QAAS,UACTI,SAAUA,EACVnP,OAAQm9B,EAAW,OACnBizB,MAAO,KACPhhD,SAAU,WACN,GAAI/b,IAAUwgE,EAAS,CACnBj4D,EAAQi4D,QAAUA,EAClBvnE,EAAK8B,QAAQ4nC,EAAQ,CAAE69B,QAASA,SAMpD8kB,MAAO,WACH,IAAIrsF,EAAOP,KAEXO,EAAK2xC,WAAa,IAAI50C,EAAM+1C,WAAW9yC,EAAKiW,QAAS,CACjD69B,QAAS,KACToC,IAAK,WACD,GAAGl2C,EAAKd,QAAQ2kB,OACZ7jB,EAAKm+G,SAASn+G,EAAKsP,QAAQ,GAAGi4D,UAGtC37D,MAAO5L,EAAK+yC,OAAO/xC,KAAKhB,GACxBq0B,KAAMr0B,EAAKo1C,MAAMp0C,KAAKhB,GACtBqD,IAAKrD,EAAK+0F,MAAM/zF,KAAKhB,QAQrC,OAHI0mB,EAAG+J,OAAOmnM,GAGP/6N,OAAOE,QApQd,CAsQoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,wBAAwB,CAAE,cAClC,WAEH,IAAIC,EAAW,CACXC,GAAI,kBACJC,KAAM,WACNC,SAAU,SACVC,YAAa,+IACbotC,QAAS,CAAE,SAGL7sC,EAkKPE,OAAOE,MAAMH,OAlKHE,OAAb,EACQC,EAAQF,OAAOE,MACf2pB,EAAK3pB,EAAM4pB,OAAOD,GAClBH,EAASG,EAAGH,OACZ4xM,EAAqB,kBACrBhpL,EAAS,SAEb,SAASo5K,EAAYxhN,GACjB,OAAOpK,EAAE,0BAA4BoK,EAAQ,WAGjD,IAAIytL,EAAWjuK,EAAOtpB,OAAO,CACzBiD,KAAM,SAASoP,EAASpQ,GACpB,IAAIc,EAAOP,KAEX8mB,EAAOnmB,GAAGF,KAAK+B,KAAKjC,EAAMsP,EAASpQ,GACnCc,EAAK+vB,YAAY/uB,KAAK,OAAQvB,KAAK8Z,QAAQvY,KAAKvB,OAEhDO,EAAKsP,QACDqG,SAAS,eACT6Z,KAAK,KAAKtyB,KAAK8C,EAAKo4N,cACpB7mM,GAAGvxB,EAAKd,QAAQsoE,eAAe7xD,SAASwiN,GAE5Cn4N,EAAKsP,QAAQuW,GAAG,OAAQ,IAAK,aAGjCpkB,OAAQ,CACJ0tC,GAGJkpL,SAAU,SAAS7vM,GACf,IAAI4rK,EAAO30L,KAAK6P,QAAQkgB,KAAK,KACzB8nK,EACAxuJ,EACA1nC,EAAM,EACN7B,EAAS60L,EAAK70L,OAElB,GAAGgU,MAAMiV,GACL,KAAOpnB,EAAM7B,EAAQ6B,IAAQ,CACzBk2L,EAAMlD,EAAKhzL,GACX0nC,EAAOwuJ,EAAI1lK,KAAKhyB,QAAQ,gBAAiB,MAEzC,GAAIkpC,EAAKx8B,QAAQkc,EAAKsgB,EAAKvpC,OAASipB,EAAIjpB,WAAa,EAAG,CACpDE,KAAK64N,eAAe37N,EAAE26L,IACtB,OAAO,UAGZ,CACH73L,KAAK64N,eAAelkC,EAAK7iK,GAAG/I,IAC5B,OAAO,KAGX,OAAO,OAGX+vM,gBAAiB,SAAS/vM,GACtB,IAAI8uK,EAEJA,EAAM73L,KAAK6P,QAAQkgB,KAAK,YAAchH,EAAM,MAC5C/oB,KAAK64N,eAAehhC,IAGxBtrI,MAAO,WACHvsD,KAAK+4N,cAActjN,YAAYijN,IAGnCK,YAAa,WACT,OAAO/4N,KAAK6P,QAAQwxC,SAAS,IAAMq3K,IAGvCxuJ,MAAO,SAASjhC,EAAM3hC,GAClB,IAAI0xN,EAAWh5N,KAAK6P,QAASq6D,EAE7B,IAAKp2D,MAAMm1B,GACPA,EAAO+vL,EAAS33K,WAAW/3B,IAAI2f,GAGnCA,EAAO+vL,EAASjpM,KAAKkZ,GACrBihC,EAAQhtE,EAAE+rC,EAAKlZ,KAAK,aAAa,IAAM+4L,EAAYxhN,GAAO+9E,YAAYp8C,EAAKoY,SAAS,cAEpF,GAAI/5C,GAASA,IAAU,EAAG,CACtB4iE,EAAMhmE,KAAKoD,GACX,OAAOtH,KAGX,GAAIsH,IAAU,MAAO,CACjB4iE,EAAMvoB,QAAQ5wB,SACd,OAAO/wB,KAGX,OAAOkqE,EAAMhmE,QAGjB6kF,SAAU,SAASzmF,GACf,GAAIA,EAAEozC,MAAQ,EACV,OAGJ,IAAIn1C,EAAOP,KACPipC,EAAO/rC,EAAEoF,EAAEivC,eAEf,GAAItI,EAAK,KAAO1oC,EAAKw4N,cAAc,GAC/B,OAGJ,GAAIx4N,EAAK8B,QAAQqtC,EAAQ,CAACzG,KAAMA,IAC5B3mC,EAAEpB,sBAEFX,EAAKs4N,eAAe5vL,IAI5B4vL,eAAgB,SAAS5vL,GACrB,IAAKA,EAAK,GACN,OAEJjpC,KAAKusD,QACLtjB,EAAK/yB,SAASwiN,IAGlBC,aAAc,WACV,IAAIz9H,EAASh+F,EAAE8C,MACX+9F,EAAOzgG,EAAMg2B,UAAU4nE,EAAQ,QAC/BhxB,EAAQ5sE,EAAMg2B,UAAU4nE,EAAQ,SAChCj4D,EAAQi4D,EAAOnrE,KAAK,OACpBq5L,EAAWlsN,EAAE,2BAEjBg+F,EACKhlF,SAAS,aACTC,KAAK7Y,EAAM6Y,KAAK,QAAS,OACrB2lE,WAAWge,IAAI72D,GACfwd,QAAQ,2BAEjB,GAAIxd,EAAM,GACNA,EAAM/sB,SAAS,YAAY4a,UAAUoqE,OAClC,CACHA,EAAOpJ,QAAQs3H,GACf,GAAIrrH,EAAM,CACNqrH,EAASlzM,SAAS,MAAQ6nF,GAC1B,GAAI7zB,GAASA,IAAU,EACnB4+I,EAAY5+I,GAAOmb,YAAY+jI,MAM/CtvM,QAAS,SAASxX,GACd,IAAIymB,EAAMzmB,EAAEovB,KAAKl1B,GAEjB,GAAIusB,IAAQ/oB,KAAK44N,SAASt2N,EAAEovB,KAAKl1B,IAC7BwD,KAAK44N,SAAS7vM,IAItBtpB,QAAS,CACLhD,KAAM,WACNsrE,cAAe,EACf3jD,OAAQ,QAOpB,OAHI6C,EAAG+J,OAAO+jK,GAGP33L,OAAOE,QAhLd,CAkLoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,gBAAgB,CAAE,cAC1B,WAEH,IAAIC,EAAW,CACXC,GAAI,UACJC,KAAM,uBACNC,SAAU,YACVC,YAAa,yCACbotC,QAAS,CAAE,QACXkvL,MAAO,MAm8CX,OAh8CA,SAAW/7N,EAAGwtB,EAASrtB,gBAInB,IAAKqtB,IAAYA,EAAQ6V,SACrB,OAKJ,IAAI24L,EAASxuM,EAAQwuM,OAAO,mBAAoB,IAC5CC,EAAYzuM,EAAQ6V,SAAS,CAAC,OAC9B64L,EAASD,EAAU7vM,IAAI,UACvB+vM,EAAWF,EAAU7vM,IAAI,YACzBgwM,EACAC,EAAOJ,EAAU7vM,IAAI,QAEzB,SAASkwM,EAAe/2K,GACpB,IAAIna,EAAO+wL,EACX,IACIA,EAAW,SAAS52K,GAAI,OAAOA,KAC/B,OAAOA,IACT,QACE42K,EAAW/wL,GAInB,IAAImxL,EAEJ,IAAIC,EAAoB,WACpB,IAAIn5M,EAAQ,CACRo5M,SAAc,qBACdC,SAAc,yBACdC,UAAc,sBACdC,UAAc,kBACdC,kBAAsB,kBACtBztC,SAAc,yBACd3N,KAAc,SACd2K,YAAc,UAElB,IAAI0wC,EAAe,SAASrvM,EAAYpjB,GACpC,GAAIA,GAAQ,SACR,OAAOojB,EAEX,OAAOrtB,MAAM2G,KAAKsD,GAAM21C,OAAOvyB,IAEnC,OAAO,SAAS2V,EAAOzwB,EAAS+Z,EAAM9S,GAClC,IAAIvP,EAAOgZ,EAAMqJ,IAAS,aAC1B,IAAI/gB,EAAUy3B,EAAM25L,MAAMnjN,GAC1B,IAAIojN,EAAKF,EAAanxN,EAAStB,GAE/B+4B,EAAM65L,OAAOrjN,EAAQ,SAASsjN,GAC1B,IAAIrtM,EAASstM,EAAoBxqN,GAEjC,GAAIkd,UAAiBA,EAAO45E,eAAiB,WACzC,GAAIyzH,IAAQvxN,GAAWuxN,IAAQrtM,EAAOpC,WAAY,CAC9C,IAAIuvM,EAAKF,EAAaI,EAAK7yN,GAC3BwlB,EAAO45E,cAAcuzH,GACrBrxN,EAAUuxN,KAItB,OAAOF,GAjCQ,GAqCvB,IAAII,EAAoB,CACpBC,YAAc,KACdC,SAAc,KACdC,QAAc,KACdC,SAAc,KACdC,SAAc,MAGlB,IAAIC,EAAuB,CAEvBn+N,KAAU,KACV6uC,MAAU,KACV11B,MAAU,MAGd,SAASilN,EAAav6L,EAAOzwB,EAASirN,EAAO/tM,EAAQguM,EAAUC,GAE3D,KAAMnrN,aAAmB1S,QACrB,MAAM,IAAIyH,MAAM,kIAGpB,IAAI+1N,EAAWG,EAAMH,SACjBM,EAAa36L,EAAM25L,MAAMU,GAE7BK,EAAcA,GAAe,GAE7B,IAAIE,EAAUF,EAAY,GACtBG,EAASH,EAAY,GAEzB,IAAII,EAAOl+N,EAAE2S,GAASkd,GAEtB,IAAKquM,EAAM,CACPh+N,OAAOktB,QAAQ/E,MAAM,mBAAqBwH,GAC1C,OAAO,KAGX,IAAIsuM,EAASpsM,EAAaqR,EAAOzwB,EAASirN,EAAO/tM,EAAQquM,GAEzD,IAAI37N,EAAU47N,EAAO57N,QAErB,GAAI47N,EAAOC,WAAWx7N,OAAQ,CAC1B,IAAI20D,EAAW,GAEf,IAAK,IAAI50D,EAAI,EAAGsqB,EAAMkxM,EAAOC,WAAWx7N,OAAQD,EAAIsqB,EAAKtqB,IAAK,CAE1D,IAAIy7N,EAAaD,EAAOC,WAAWz7N,GAEnC,IAAI+jB,EAAU1mB,EAAEupC,SAAS,SAASj5B,GAC9B,IAAI+tN,EAAUj7L,EAAM65L,OAAOmB,EAAWjyL,KAAM,SAASsgC,GACjD,GAAIA,IAAatsE,EAAW,CACxBk+N,IACA/tN,EAAE2kD,eAGXvuC,UAEH6wC,EAASvyD,KAAK0hB,GAGlB1mB,EAAE03D,KAAKl0D,MAAM,KAAM+zD,GAAUI,KAAK2mK,GAElC,OAGJ,GAAIb,IAAaM,EAAY,CACzB,IAAIlwL,EAAOzK,EAAMm7L,OAASn7L,EAE1B,IAAIrP,EAAW,WACX,IAAIyqM,EAAap7L,EAAM65L,OAAOQ,EAAU,SAAShxJ,GACzC,GAAIA,IAAatsE,EAAW,CAC5Bq+N,IAEA7rN,EAAQwb,WAAWyvM,EAAMa,MAAMhB,UAC/BA,EAAW,KACXtB,EAASmC,OAOrB,GAAI,qBAAqB70N,KAAKokC,EAAKrK,SAC/BzP,SAEAqP,EAAM69K,OAAOltL,GAGjB,YAEA,OAAOuqM,IAGX,SAASA,IACL,IAAI7qD,EAEJ,GAAImqD,EAAML,QACN9pD,EAAkBzzK,EAAEA,EAAE2S,GAAS,GAAG63D,UAAU,OAIhDjoE,EAAUwvB,EAAaqR,EAAOzwB,EAASirN,EAAO/tM,EAAQquM,GAAM37N,QAE5D,GAAIoQ,EAAQoG,GAAG,WACV,SAASxW,GACN,GAAIA,EAAQK,OAAS,EAAG,CACpB,IAAIqC,EAAQjF,EAAEuC,EAAQ,IACtB,IAAK,KAAKkH,KAAKxE,EAAMi+B,SAAW,MAAMz5B,KAAKxE,EAAMkpD,OAC7ClpD,EAAM4uB,SAGV,IAAK,IAAIlxB,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAChC3C,EAAEuC,EAAQI,IAAIwzB,IAAI,cAR9B,CAWExjB,EAAQ,GAAGpQ,SAGjB,IAAIshD,EAASq6K,EAAK54N,KAAKqN,EAAS4pN,EAAch6N,GAASwE,KAAK8oB,GAE5D6uM,EAAa76K,EAAQzgB,EAAOw6L,EAAO/tM,EAAQguM,GAE3Cz6L,EAAMu7L,MAAM,qBAAsB96K,GAElC,IAAI+6K,EAAkBC,EAA4Bz7L,EAAOygB,GAEzD,GAAI+5K,EAAML,QACNuB,EAAYj7K,EAAQzgB,EAAOzwB,EAAS8gK,EAAiBmqD,EAAML,QAASqB,EAAiBhB,GAGzF,GAAIA,EAAMmB,YAAa,CACnB,IAAIA,EAAcnB,EAAMmB,YACxB,IAAIv/F,EAAap8F,EAAM25L,MAAMgC,GAC7B,GAAIv/F,EACA37E,EAAO38B,QAAQs4G,GAEnBw/F,EAAkBn7K,EAAQzgB,EAAOzwB,EAASosN,GAG9C,GAAInB,EAAMqB,YAAa,CACnB,IAAIA,EAAcrB,EAAMqB,YACxB,IAAIC,EAAa97L,EAAM25L,MAAMkC,GAC7B,GAAIC,EACAr7K,EAAOomB,SAASi1J,GAEpBC,EAAkBt7K,EAAQzgB,EAAOzwB,EAASssN,GAI9C,GAAIrB,EAAMJ,SACN4B,EAAev7K,EAAQzgB,EAAOw6L,EAAMJ,UAIxC,GAAIQ,EACAqB,EAAcx7K,EAAQzgB,EAAOzwB,EAASqrN,EAASC,GAGnD,GAAIp6K,EACAy7K,EAA8Bz7K,EAAQlxC,GAG1C,OAAOkxC,GAKf,SAAS9xB,EAAaqR,EAAOzwB,EAASirN,EAAO/tM,EAAQquM,GACjD,IAAIxxM,EAAOmD,EAAO5sB,QAAQ,SAAU,IACpC,IAAIm7N,EAAa,GACjB,IAAImB,EAAc3B,EAAMN,UAAYM,EAAMr7N,QAC1C,IAAIqoI,EAAexnG,EAAM25L,MAAMwC,GAE/B,GAAIA,GAAe30F,IAAiBzqI,EAChCi+N,EAAWp5N,KAAK,CAAE6sB,OAAQ,UAAWsa,KAAMozL,IAG/C,IAAIh9N,EAAUirB,EAAQltB,OAAO,GAAIs9N,EAAM4B,eAAgB50F,GAEvD,SAAS60F,EAAUlgO,EAAM6K,GACrB,IAAIs1N,EAAalyM,EAAQlrB,KAAK8gC,EAAM25L,MAAM3yN,IAC1C,GAAIs1N,IAAev/N,EACfi+N,EAAWp5N,KAAK,CAAE6sB,OAAQtyB,EAAM4sC,KAAM/hC,SAEtC7H,EAAQhD,GAAQmgO,EAKxB,IAAIr0G,EAAgB6yG,EAAKruM,OAAOnsB,UAAUnB,QAC1C,IAAIo9N,EAAezB,EAAKruM,OAAOnsB,UAAUoB,OAGzC9E,EAAEO,KAAKq9N,EAAO,SAASr+N,EAAM6K,GACzB,GAAI7K,IAAS,UAAYA,IAAS,eAAiBA,IAAS,eAAiBA,IAAS,aAClF,OAGJ,IAAIqgO,EAAW,OAASrgO,EAAKsG,OAAO,GAAGmV,cAAgBzb,EAAK0C,MAAM,GAElE,GAAI1C,EAAKoQ,QAAQ,QAAU,EAAG,CAC1B,IAAIkwN,EAAWtgO,EAAK0D,QAAQ,OAAQ,SAAS+a,GACzC,OAAOA,EAAOnY,OAAO,GAAGuJ,gBAG5B,GAAIuwN,EAAahwN,QAAQkwN,IAAa,EAClCt9N,EAAQs9N,GAAYz1N,EAI5B,GAAIihH,EAAc/gH,eAAes1N,GAC7BH,EAAUG,EAAUx1N,QACjB,GAAIihH,EAAc/gH,eAAe/K,KAAUm+N,EAAqBn+N,GACnEkgO,EAAUlgO,EAAM6K,QACb,IAAKgzN,EAAkB79N,GAAO,CACjC,IAAI6H,EAAQ7H,EAAK6H,MAAM,oBACvB,GAAIA,EAAO,CACP,IAAI04N,EAAa14N,EAAM,GAAGvB,OAAO,GAAGuJ,cAAgBhI,EAAM,GAAGnF,MAAM,GACnE,GAAImF,EAAM,IAAM7H,GAAQ,WAEpBgD,EAAQu9N,GAAc11N,MACnB,CACH,GAAI7K,GAAQ,WACRugO,EAAa,UAEjBL,EAAUK,EAAY11N,QAOtC,IAAIqjB,EAAamwM,EAAMP,aAAeO,EAAMhkN,OAE5C,GAAI6T,EACAlrB,EAAQkrB,WAAa+uM,EAAiBp5L,EAAOzwB,EAAS+Z,EAAMe,GAKhElrB,EAAQ2+E,SAAW,CAAE99C,GAErB,MAAO,CACH7gC,QAASA,EACT67N,WAAYA,GAIpB,SAASY,EAAkBnvM,EAAQuT,EAAOzwB,EAASosN,GAC/C,GAAK3+N,MAAM2pB,GAAGqlK,UAAYv/J,aAAkBzvB,MAAM2pB,GAAGqlK,UAAchvL,MAAM2pB,GAAG03J,MAAQ5xJ,aAAkBzvB,MAAM2pB,GAAG03J,KAAO,CAClH46C,EAAKx1I,KAAK,+EAAkFh3D,EAAOttB,QAAY,MAC/G,OAEJ6gC,EAAM65L,OAAO8B,EAAa,SAAStyJ,EAAUm3D,GACzC,GAAIn3D,GAAYm3D,EACZ/zG,EAAO3I,QAAQulD,KAK3B,SAAS0yJ,EAAkBtvM,EAAQuT,EAAOzwB,EAASssN,GAC/C,UAAWpvM,EAAOo6C,UAAY,WAAY,CACtCoyJ,EAAKx1I,KAAK,iFAAoFh3D,EAAOttB,QAAY,MACjH,OAEJ6gC,EAAM65L,OAAOgC,EAAa,SAASxyJ,EAAUm3D,GACzC,GAAIn3D,GAAYm3D,EACZ/zG,EAAOo6C,SAASwC,KAK5B,SAASiyJ,EAAa7uM,EAAQuT,EAAOw6L,EAAOmC,EAAalC,GACrD,GAAID,EAAMC,GAAW,CACjB,IAAIxxM,EAAM6vM,EAAO0B,EAAMC,IAAWlkF,OAClC,GAAIttH,EAEAA,EAAI+W,EAAOvT,QAEX,MAAM,IAAInoB,MAAMm2N,EAAW,2DAA6DD,EAAMmC,KAK1G,SAASC,EAAUrtN,GACf,GAAI,kBAAkBlJ,KAAKkJ,EAAQsG,KAAK,SACpC,OAAOtG,EAAQ2c,KAAK,WAExB,OAAO3c,EAAQw7C,MAGnB,IAAI8xK,EAAa,6BAEjB,SAASC,EAAOvtN,GACZ,OAAOstN,EAAWx2N,KAAKkJ,EAAQ,GAAGoa,SAGtC,SAASsyM,EAAcxvM,EAAQuT,EAAOzwB,EAASqrN,EAASC,GACpD,IAAKpuM,EAAOzlB,MACR,OAGJ,IAAIA,EAGJ,IAAI+1N,EAAsB,MAE1B,GAAID,EAAOvtN,GACPvI,EAAQ,WACJ,OAAO41N,EAAUrtN,SAGrBvI,EAAQ,WACJ,OAAOylB,EAAOzlB,SAKtB,IAAIg2N,EAAa,WAKb,IAAIjyK,EAAM6vK,EAAQqC,WAClB,GAAIlyK,IAAQhuD,EACRguD,EAAM6vK,EAAQsC,YAGlB,GAAInyK,IAAQhuD,EACRguD,EAAM,KAGVgyK,EAAsB,KACtBlqM,WAAW,WACPkqM,EAAsB,MACtB,GAAItwM,EAAQ,CACR,IAAI2tM,EAAWp6L,EAAMvT,EAAOld,QAAQsG,KAAK,eAEzC,GAAIukN,EACArvK,EAAMqvK,EAGV,GAAI3tM,EAAOttB,QAAQ+nE,WAAa,QAAUz6C,EAAOk8C,SAASC,SACtD,GAAI7d,EACAt+B,EAAOzlB,MAAM+jD,QAGjBt+B,EAAOzlB,MAAM+jD,KAGtB,IAGP6vK,EAAQuC,QAAUH,EAClBnqM,WAAW,WACP,GAAI+nM,EAAQuC,UAAYH,EAAY,CAChCpC,EAAQuC,QAAUH,EAClBpC,EAAQuC,aAIhB,GAAIL,EAAOvtN,GACPA,EAAQuW,GAAG,SAAU,WACjBi3M,EAAsB,OAI9B,IAAIK,EAAW,SAAS/pK,GACpB,OAAO,WACH,IAAIgqK,EACJ,GAAIN,IAAwBxtN,EAAQoG,GAAG,UACnC,OAEJ,GAAI09C,GAAYwnK,EACZwC,EAAexC,EAAOyC,UAE1B1C,EAAQ2C,cAAcv2N,KACtB,GAAIqsD,EAAU,CACVunK,EAAQ4C,eACR,GAAIH,EACAxC,EAAO2C,eAGfC,EAAOz9L,KAIfvT,EAAO5qB,MAAM,SAAUu7N,EAAS,QAChC3wM,EAAO5qB,MAAM,OAAQu7N,EAAS,QAE9B,KAAMpgO,MAAM2pB,GAAGgqH,cAAgBlkH,aAAkBzvB,MAAM2pB,GAAGgqH,cACtDlkH,EAAO5qB,MAAM,YAAau7N,EAAS,OAGvC,IAAIM,EAAa12N,IAKjB,IAAKwM,MAAMonN,EAAQqC,aAAeS,GAAc9C,EAAQqC,WACpD,IAAKrC,EAAQ+C,SAAS/C,EAAQqC,YAC1BxwM,EAAOzlB,MAAM4zN,EAAQqC,iBAClB,GAAIS,GAAc,MAAQA,IAAe,IAAMA,GAAc9C,EAAQqC,WACxErC,EAAQ2C,cAAcG,GAI9B9C,EAAQ4C,eAGZ,SAASxB,EAAevvM,EAAQuT,EAAOo6L,GACnC,GAAGp9N,MAAM2pB,GAAGi3M,iBAAmBnxM,aAAkBzvB,MAAM2pB,GAAGi3M,gBAAgB,CACtE,IAAIC,EAAoBzD,EAAS73N,MAAM,KACvC,IAAIu7N,EAAwBD,EAAkB,GAAGphM,OACjD,IAAIshM,EAEJ/B,EAAevvM,EAAOuxM,gBAAiBh+L,EAAO89L,GAC9C,GAAID,EAAkB,GAAI,CACtBE,EAAsBF,EAAkB,GAAGphM,OAC3Cu/L,EAAevvM,EAAOwxM,cAAej+L,EAAO+9L,GAC5CtxM,EAAOg9B,MAAM,CAAC59C,MAAMm0B,EAAM89L,GAAwBx6N,IAAI08B,EAAM+9L,UAE5DtxM,EAAOg9B,MAAM,CAAC59C,MAAMm0B,EAAM89L,GAAwBx6N,IAAK,OAG3D,OAGJ,UAAWmpB,EAAOzlB,OAAS,WAAY,CACnCiyN,EAAKx1I,KAAK,2EAA8Eh3D,EAAOttB,QAAY,MAC3G,OAGJ,IAAIwhC,EAAQ/jC,EAAE6vB,EAAOld,SAASyiB,QAAQ,iBAAiBnwB,QACvD,IAAIg5N,EAAS79N,MAAM6rB,OAAO8X,EAAK9qB,KAAK,QAAS,KAAhC7Y,CAAsCgjC,GACnD,IAAInX,EAASiwM,EAAOsB,GACpB,IAAItxM,EAASD,EAAO0tH,OACpB,IAAI2nF,EAAW,MAEf,IAAIC,EAAoBnhO,MAAM2pB,GAAG6/C,aAAe/5C,aAAkBzvB,MAAM2pB,GAAG6/C,aACnDxpE,MAAM2pB,GAAGirI,aAAenlI,aAAkBzvB,MAAM2pB,GAAGirI,YAE3E,IAAIpyJ,EAAS,SAASwH,GAElB,OAAOA,GAASm3N,EAAoBn3N,EAAMxH,OAAS,GAGvD,IAAI4+N,EAAqB5+N,EAAOqpB,EAAOmX,IAEvCvT,EAAO4xM,uBAAuBx1M,EAAOmX,IAGrC,IAAIs+L,EAAe,SAASj1J,EAAUm3D,GAClC,GAAIn3D,IAAatsE,EAIbssE,EAAW,KAIf,GAAI60J,GAAa70J,GAAYm3D,GAAYhhI,EAAO6pE,IAAa+0J,EACzD,OAGJA,EAAqB5+N,EAAO6pE,GAC5B58C,EAAO4xM,uBAAuBh1J,IAGlC,GAAI80J,EACAn+L,EAAMu+L,iBAAiBnE,EAAUkE,QAEjCt+L,EAAM65L,OAAOO,EAAUkE,GAG3B,IAAIE,EAAgB,WAChBN,EAAW,KAEX,GAAIrD,GAAUA,EAAOyC,UACjBzC,EAAO4D,YAGXhB,EAAOz9L,EAAO,WACVlX,EAAOkX,EAAOvT,EAAOiyM,0BACrBN,EAAqB5+N,EAAOqpB,EAAOmX,MAGvCk+L,EAAW,OAGfzxM,EAAO5qB,MAAM,SAAU28N,GACvB/xM,EAAO5qB,MAAM,OAAQ28N,GAGzB,SAAS/C,EAA4Bz7L,EAAOvT,GACxC,IAAIkyM,EAAa3+L,EAAM4+L,IAAI,WAAY,WACnCD,IACA,GAAIlyM,EAAQ,CACRzvB,MAAM2uB,QAAQc,EAAOld,SACrBkd,EAAS,QAIjB,OAAOkyM,EAKX,SAASzC,EAA8BzvM,EAAQld,GAC3C,KAAMzS,OAAO+hO,kBAAoBpyM,EAAOvW,SACpC,OAGJ,IAAI4oN,EAAgB,GAAGjgO,MAAMqD,KAAKtF,EAAE2S,GAAS,GAAG6wF,WAEhD,IAAI2+H,EAAK,IAAIF,iBAAiB,SAASG,GACnCC,IACA,IAAKxyM,EACD,OAGJuyM,EAAQ52L,QAAQ,SAAS82L,GACrB,IAAI/mB,EAAIv7M,EAAE6vB,EAAOvW,SAAS,GAC1B,OAAQgpN,EAAIr6D,eAER,IAAK,QAED,IAAIs6D,EAAgB,GAAGtgO,MAAMqD,KAAKg9N,EAAI7/N,OAAO+gG,WAC7C++H,EAAc/2L,QAAQ,SAASg3L,GAC3B,GAAIN,EAAcvyN,QAAQ6yN,GAAO,EAAG,CAChCjnB,EAAE/3G,UAAU38E,IAAI27M,GAChB,GAAIpiO,MAAM2pB,GAAGk7F,UAAYp1F,aAAkBzvB,MAAM2pB,GAAGk7F,SAChDp1F,EAAO3M,MAAM,GAAGsgF,UAAU38E,IAAI27M,MAI1CN,EAAc12L,QAAQ,SAASg3L,GAC3B,GAAID,EAAc5yN,QAAQ6yN,GAAO,EAAG,CAChCjnB,EAAE/3G,UAAU3vE,OAAO2uM,GACnB,GAAIpiO,MAAM2pB,GAAGk7F,UAAYp1F,aAAkBzvB,MAAM2pB,GAAGk7F,SAChDp1F,EAAO3M,MAAM,GAAGsgF,UAAU3vE,OAAO2uM,MAI7CN,EAAgBK,EAChB,MAEJ,IAAK,WACD,UAAW1yM,EAAO3I,QAAU,aAAe2I,EAAOld,QAAQsG,KAAK,YAC3D4W,EAAO3I,QAAQlnB,EAAEsiO,EAAI7/N,QAAQwW,KAAK,aAEtC,MAEJ,IAAK,WACD,UAAW4W,EAAOo6C,UAAY,aAAep6C,EAAOld,QAAQsG,KAAK,YAC7D4W,EAAOo6C,WAAWjqE,EAAEsiO,EAAI7/N,QAAQwW,KAAK,aAEzC,SAIZwpN,MAGJ,SAASJ,IACLF,EAAGO,aAGP,SAASD,IACLN,EAAGQ,QAAQ3iO,EAAE2S,GAAS,GAAI,CAAEgvC,WAAY,OAG5C8gL,IACA5yM,EAAO5qB,MAAM,UAAWo9N,GAG5B,SAASvD,EAAYjvM,EAAQuT,EAAOzwB,EAAS8gK,EAAiBmvD,EAAYhE,EAAiBhB,GAEvF,IAAIY,EAAap7L,EAAM65L,OAAO2F,EAAY,SAASn2J,EAAUm3D,GACzD,IAAK/zG,EAAOV,aAAes9C,IAAam3D,EAAU,CAC9C46F,IAEA,GAAIZ,EAAMiF,SACNjF,EAAMiF,WAGV,IAAIvjC,EAAkBwjC,EAAwBjzM,EAAOttB,QAAQhD,MAE7D,GAAI+/L,EACAA,EAAgB9zJ,QAAQ,SAASjsC,GAC7B,IAAIwjO,EAAmB3/L,EAAM25L,MAAMa,EAAM,IAAMr+N,IAE/C,GAAIwjO,EACAtvD,EAAgB5vG,OAAO7jE,EAAE+iO,GAAkB9pN,KAAK7Y,MAAMwa,UAAU,IAAMrb,GAAO,OAKzF,IAAIu/E,EAAW9+E,EAAE6vB,EAAOvW,SAAS,GACjC,IAAIkhE,EAAWx6E,EAAE6vB,EAAOld,SAAS,GACjC,IAAIqwN,EAAWnzM,EAAOttB,QAAQhD,OAAS,SAEvC,GAAIyjO,EACArwN,EAAU3S,EAAEw6E,GAGhB,IAAIvzE,EAAU0L,EAAQ0wB,WAAWjX,IAAI,YACrCyD,EAAOZ,WAEP,GAAI2vM,EACAA,IAGJ/uM,EAAS,KAET,GAAI2qD,EAAU,CACV,GAAIsE,EACAA,EAASx6D,WAAWi/E,aAAa/oB,EAAUsE,GAE/C9+E,EAAE2S,GAASksE,YAAY40F,GAG3BxsK,EAAQwsK,EAARxsK,CAAyBm8B,KAE9B,MACHy9L,EAAOz9L,GAGX,SAAS/+B,EAAKkhD,EAAGzgC,GACb,OAAO,SAASpb,EAAGma,GACf,OAAO0hC,EAAEjgD,KAAKwf,EAAKpb,EAAGma,IAI9B,SAASo/M,EAAYn5N,EAAKM,GACtBtH,KAAKgH,GAAO1J,MAAMmK,UAAUH,GAGhC4xN,EAAOkH,QAAQ,mBAAoB,CAAE,WAAY,SAASj8N,GACtD,IAAIk8N,EACJ,IAAIC,EAAW,MAGfhH,EAAkBn1N,EAElB,IAAI+4C,EAAS,SAAStzB,EAAMmxM,GACxB,MAAO,CAEHwF,SAAU,KACVC,QAAS,CAAE,WAAY,UACvBlgM,MAAO,MAEP29K,WAAY,CAAE,SAAU,SAAU,WAAY,SAASG,EAAQqiB,GAC3DzgO,KAAKgE,SAAWzC,EAAK4+N,EAAaM,GAClCA,EAAOV,SAAWx+N,EAAK,WACnBvB,KAAKgE,SAAW,KAChBy8N,EAAOV,SAAW,MACnB//N,QAGP6mF,KAAM,SAASvmD,EAAOzwB,EAASirN,EAAOE,GAClC,IAAI1oB,EAAWp1M,EAAE2S,GAUjB,IAAI6wN,EAAW92M,EAAKzpB,QAAQ,WAAY,OAExCmyM,EAASn8L,KAAKuqN,EAAUpuB,EAASn8L,KAAK,QAAUuqN,IAChDpuB,EAAS,GAAGpwK,gBAAgB,QAAUw+L,GAEtC,IAAI3zM,EAAS8tM,EAAav6L,EAAOzwB,EAASirN,EAAOlxM,EAAMmxM,EAAUC,GAEjE,IAAKjuM,EACD,OAGJ,GAAIszM,EACA7rM,aAAa6rM,GAGjBA,EAAuBltM,WAAW,WAC9BmN,EAAMu7L,MAAM,iBACZ,IAAKyE,EAAU,CACXA,EAAW,KACXpjO,EAAE,QAAQO,KAAK,WACX,IAAIwjC,EAAO/jC,EAAE8C,MAAMi+M,WAAW,QAC9B,GAAIh9K,EACAA,EAAK68L,uBASjC,MAAO,CACH5gL,OAAQA,MAIhB,IAAIyjL,EAAW,CACXC,OAAiB,WACjBzrE,eAAiB,QACjB5uB,WAAiB,QACjBo9D,eAAiB,QACjB7B,WAAiB,QACjB7wD,aAAiB,QACjBqxB,YAAiB,QACjBuU,cAAiB,QACjB/vG,YAAiB,QACjB+5J,OAAiB,QACjBz+I,UAAiB,OACjBgf,OAAiB,SACjB0/H,aAAsB,IACtBC,iBAAsB,IACtBC,mBAAsB,IACtBz4D,SAAiB,KACjB04D,eAAgB,KAChBrK,WAAmB,MACnBtqC,SAAiB,KACjBstC,SAAiB,KACjBj7C,KAAiB,KACjB2K,YAAiB,KACjB++B,YAAiB,KACjB8P,OAAY,SAGhB,IAAI+I,EAAiB,CACjB,aACA,eACA,eACA,kBACA,aACA,mBAGJ,IAAIC,EAAoB,CACpB,oBACA,aACA,kBACA,eACA,oBACA,eACA,kBACA,aACA,mBACA,iBAGJz2M,EAAQge,QAAQ,CAAC,eAAgB,eAAgB,mBAAoB,qBAAsB,iBAAkB,mBAAoB,kBAAmB,SAAS3b,GACzJo0M,EAAkBj/N,KAAK6qB,GACvBA,EAAS,QAAUA,EACnBmsM,EAAOkI,UAAUr0M,EAAQ,WACrB,MAAO,CACHwzM,SAAU,IACV15I,KAAM,SAASvmD,EAAOzwB,EAASirN,GAC3BD,EAAav6L,EAAOzwB,EAASirN,EAAO/tM,EAAQA,SAM5D,SAASs0M,EAAiBC,EAAOtkH,GAC7B,SAASukH,EAAKC,EAAe90M,GACzBwsM,EAAOkI,UAAUI,EAAe,CAC5B,mBACA,SAASC,GACL,OAAOA,EAAiBvkL,OAAOxwB,EAAY80M,MAKvD,IAAI/kO,EAAOugH,EAAW,SAAW,GACjCvgH,GAAQ6kO,EAAM3gO,GAAGlB,QAAQhD,KAEzB,IAAImc,EAAYnc,EAChB,IAAIilO,EAAW,QAAUjlO,EAAKsG,OAAO,GAAKtG,EAAK0V,OAAO,GAAG7F,cACzD7P,EAAO,QAAUA,EAGjB,IAAIklO,EAASllO,EAAK0D,QAAQ,WAAY,OAEtC,GAAI+gO,EAAer0N,QAAQpQ,EAAK0D,QAAQ,QAAS,OAAS,EAAG,CACzD,IAAIyJ,EAAQnN,IAASilO,EAAW,CAAEjlO,GAAS,CAAEA,EAAMilO,GACnDh3M,EAAQge,QAAQ9+B,EAAO,SAAS43N,GAC5BtI,EAAOkI,UAAUI,EAAe,WAC5B,MAAO,CACHjB,SAAW,IACXpgO,QAAW,KACX6D,SAAW,SAAS6L,EAASgvC,GACzB,IAAI48F,EAAMklF,EAAS/nN,IAAc,MACjC,IAAIgpN,EAAa/iL,EAAWgjL,aAAehjL,EAAW+iL,WAEtD,MAAO,IAAMnmF,EAAM,IAAMkmF,GAAUC,EAAc,KAAOA,EAAa,IAAO,IAAM,IAAM/xN,EAAQ3L,OAAS,KAAOu3I,EAAM,UAO1I,GAAI0lF,EAAkBt0N,QAAQpQ,EAAK0D,QAAQ,QAAS,MAAQ,EACxD,OAMJohO,EAAK9kO,EAAMA,GACX,GAAIilO,GAAYjlO,EACZ8kO,EAAKG,EAAUjlO,GAOvB,SAAS49N,EAAoBjhN,GACzBA,EAAKlc,EAAEkc,GACP,OAAO9b,MAAM8yB,eAAehX,EAAI9b,MAAM2pB,KAClC3pB,MAAM8yB,eAAehX,EAAI9b,MAAM4pB,OAAOD,KACtC3pB,MAAM8yB,eAAehX,EAAI9b,MAAM6pB,QAAQF,IAG/C,SAAS82M,EAAOz9L,EAAOuuB,GACnB,IAAI9jB,EAAOzK,EAAMm7L,OAASn7L,EAC1B,IAAIwhM,EAAc,qBAAqBn7N,KAAKokC,EAAKrK,SACjD,GAAImuB,EACA,GAAIizK,EACAjzK,SAEA9jB,EAAKozK,OAAOtvJ,QAEb,IAAKizK,EACR/2L,EAAKpK,UAIb,SAASohM,EAAazhM,EAAOlnB,GACzBknB,EAAM+8K,WACN,GAAIjkM,EAEAlc,EAAEkc,GACG8S,WAAW,UACXA,WAAW,gBACXA,WAAW,iBACXA,WAAW,2BACXzW,YAAY,YAIzB,IAAIusN,EAAS1kO,MAAM8nB,WACnB,IAAIgkF,EAAO,MACX,IAAInvD,EAAQ,MACZ,IAAIgoL,EAAU,YACd,IAAIC,EAAW,YAEf5kO,MAAM8nB,WAAa,SAASre,GACxB,OAAOi7N,EAAOj7N,GACT5G,QAAQipG,EAAM64H,GACd9hO,QAAQ85C,EAAOioL,IAGxB,IAAIC,EAAiB,GAMrB,SAASC,EAAUd,EAAOrrL,EAAY4Y,GAClC,GAAIlxD,MAAMD,QAAQ4jO,GACd,OAAO52M,EAAQge,QAAQ44L,EAAO,SAASA,GACnCc,EAAUd,EAAOrrL,EAAY4Y,KAGrC,UAAWyyK,GAAS,SAAU,CAC1B,IAAI16N,EAAI06N,EAAMz+N,MAAM,KACpB,IAAIo7B,EAAI3gC,MACR,MAAO2gC,GAAKr3B,EAAE9G,OAAS,EACnBm+B,EAAIA,EAAEr3B,EAAE+H,SAEZ,IAAKsvB,EAAG,CACJkkM,EAAejgO,KAAK,CAAEo/N,EAAOrrL,EAAY4Y,IACzC,OAAO,MAEXyyK,EAAQrjM,EAAEr9B,UAEd,IAAIyhO,EAAaf,EAAMrrL,GACvBqrL,EAAMrrL,GAAc,WAChB,IAAI2+F,EAAO50I,KAAMmxB,EAAOvxB,UACxB,OAAOivD,EAAKnuD,MAAM,CACdk0I,KAAMA,EACNj5E,KAAM,WACF,OAAO0mK,EAAW3hO,MAAMk0I,EAAMh1I,UAAUE,OAAS,EAAIF,UAAYuxB,KAEtEA,IAEP,OAAO,KAGX7zB,MAAM4sB,mBAAmB,SAASo4M,GAC9BH,EAAiBjlO,EAAEu7B,KAAK0pM,EAAgB,SAAShxM,GAC7C,OAAQixM,EAAU1hO,MAAM,KAAMywB,KAElCkwM,EAAiBiB,EAAMv1M,OAAQu1M,EAAMpnN,QAAU,YAKnDknN,EAAU,CAAE,YAAa,oBAAsB,UAAW,SAASj0M,EAAKo0M,GACpE,IAAI3tF,EAAO50I,KAAK40I,KAChB,GAAIzmH,GAAO,OAAQ,CAIf,IAAKo0M,GAAO9I,EACR8I,EAAM9I,EAEVA,EAAc,KACd,GAAI8I,GAAOA,EAAInkJ,SAAU,CACrBw2D,EAAK4tF,eAAiBD,EAAInkJ,SAAS,GACnCw2D,EAAK6tF,cAAc7tF,EAAK/kI,QAAS0yN,GAErC,OAGJ,IAAIjiM,EAAQs0G,EAAK4tF,eAEjB,GAAIliM,EACAk5L,EAAe,WACX,IAAIv7L,EAAIskM,IAAOn0M,EAAW6P,EAAE7P,SAAUnqB,EAAOg6B,EAAEh6B,KAC/C,GAAImqB,EAAStuB,OAAS,EAClB,OAAQquB,GAEN,IAAK,UACHzD,EAAQge,QAAQta,EAAU,SAAShV,GAC/B,IAAIspN,EAAYxlO,EAAEkc,GAAInV,KAAK,gBAE3B,GAAIy+N,GAAaA,IAAcpiM,GAASoiM,EAAUC,aAC9CZ,EAAaW,EAAWtpN,KAGhC,MAEF,IAAK,UACH,IAAImnB,EAAWq0G,EAAK/kI,QAAQ0wB,WAC5B,IAAIp8B,EAAUo8B,EAAWA,EAASjX,IAAI,YAAcgwM,EAEpD5uM,EAAQge,QAAQta,EAAU,SAAShV,EAAIvZ,GACnC,IAAI6iO,EACJ,GAAIzkM,EAAE4vD,UACF60I,EAAYzkM,EAAE4vD,cACX,CACH,IAAI+0I,EAAO3+N,GAAQA,EAAKpE,GACxB,GAAI+iO,IAASvlO,EAAW,CACpBqlO,EAAYxlO,EAAEM,OAAO8iC,EAAMuiM,OAAQD,GACnCF,EAAUC,aAAe,UAEzBD,EAAYpiM,EAIpBpjC,EAAEkc,GAAInV,KAAK,eAAgBy+N,GAC3Bv+N,EAAQiV,EAARjV,CAAYu+N,KAEhB3E,EAAOz9L,GACP,WAOpB8hM,EAAU,YAAa,yBAA0B,WAC7C,OAAOpiO,KAAK40I,KAAKttI,UAGrB86N,EAAU,YAAa,yBAA0B,SAAS/2K,GACtDrrD,KAAK40I,KAAKttI,MAAM+jD,KAGpB+2K,EAAU,YAAa,yBAA0B,WAC7C,IAAIn5L,EAAOjpC,KAAK40I,KAAKtmH,WACjBm5C,EAAaznE,KAAK40I,KAAKn1I,QAAQynE,eAEnC,GAAIj+B,EACA,GAAIjpC,KAAK40I,KAAKn1I,QAAQwoE,eAClB,KAAMR,EACF,OAAOx+B,EAAKw+B,QAEZ,OAAOx+B,OAGX,OAAOA,EAAKrjC,cAGhB,OAAO,OAIfw8N,EAAU,YAAa,yBAA0B,SAAS/2K,GACtD,IAAIupF,EAAO50I,KAAK40I,KAChB,IAAIn1I,EAAUm1I,EAAKn1I,QACnB,IAAIgoE,EAAahoE,EAAQynE,eACzB,IAAI9mC,EAAO3gC,EAAQ2gC,MAAQ,GAE3B,GAAIirB,IAAQhuD,EACRguD,EAAM,GAGV,GAAIoc,IAAehoE,EAAQwoE,gBAAkB5c,EAAK,CAC9CjrB,EAAOirB,EAAI5rD,EAAQmpE,gBAAkB,GACrCvd,EAAMA,EAAIoc,GAAchoE,EAAQmpE,eAGpC,GAAIgsE,EAAKn1I,QAAQ+nE,WAAa,QAAUotE,EAAK3rE,SAASC,QAClD,IAAK9oC,GAAQirB,GAAO5rD,EAAQwoE,eACxB2sE,EAAKttI,MAAM+jD,QAEXupF,EAAKzrE,WAAW9d,EAAKjrB,QAGzBw0G,EAAKttI,MAAM+jD,KAInB+2K,EAAU,iBAAkB,yBAA0B,WAClD,IAAI96N,EAAQtH,KAAK40I,KAAK5mH,YAAY7uB,MAAM,GACxC,IAAIsoE,EAAaznE,KAAK40I,KAAKn1I,QAAQynE,eAEnC,GAAIO,GAAcznE,KAAK40I,KAAKn1I,QAAQwoE,eAChC3gE,EAAQpK,EAAEgU,IAAI5J,EAAO,SAAS2hC,GAC1B,OAAOA,EAAKw+B,KAIpB,OAAOngE,IAGX86N,EAAU,iBAAkB,yBAA0B,SAAS/2K,GAC3D,GAAIA,GAAO,KACPA,EAAM,GAGV,IAAIupF,EAAO50I,KAAK40I,KAChB,IAAIn1I,EAAUm1I,EAAKn1I,QACnB,IAAIgoE,EAAahoE,EAAQynE,eACzB,IAAIjjE,EAAOonD,EAEX,GAAIoc,IAAehoE,EAAQwoE,eACvB5c,EAAMnuD,EAAEgU,IAAIm6C,EAAK,SAASpiB,GACtB,OAAOA,EAAKw+B,KAIpB,GAAIhoE,EAAQ+nE,WAAa,QAAU/nE,EAAQwoE,iBAAmB2sE,EAAK3rE,SAASC,QACxE0rE,EAAKzrE,WAAWllE,EAAMonD,QAEtBupF,EAAKttI,MAAM+jD,KAYnB+2K,EAAU,YAAa,gBAAiB,SAASvyN,EAASpQ,GACtD,IAAIm1I,EAAO50I,KAAK40I,KAChB,GAAIn1I,IAAY9B,MAAMD,QAAQ+B,GAAU,CACpC,IAAI6gC,EAAQs0G,EAAK4tF,eACjB,IAAK,IAAI3iO,EAAI+0I,EAAK5yI,OAAOlC,SAAUD,GAAK,GAAI,CACxC,IAAIwb,EAAQu5H,EAAK5yI,OAAOnC,GACxB,IAAIiC,EAAUrC,EAAQ4b,GACtB,GAAIvZ,UAAkBA,GAAW,SAC7BrC,EAAQ4b,GAASu5H,EAAKkuF,0BAA0BznN,EAAOilB,EAAOx+B,OAO9EsgO,EAAU,YAAa,4BAA6B,SAAS/mN,EAAOilB,EAAOx+B,GACvEA,EAAUs3N,EAAOt3N,GACjB,OAAO,SAASQ,GACZy7N,EAAOz9L,EAAO,WACVx+B,EAAQw+B,EAAO,CAAEyiM,WAAYzgO,SAMzC8/N,EAAU,CAAE,UAAW,cAAe,cAAe,eAAiB,4BAA6B,SAAS/mN,EAAOilB,EAAOx+B,GACtH,GAAIuZ,GAAS,SACT,OAAOrb,KAAK27D,OAEhB75D,EAAUs3N,EAAOt3N,GACjB,OAAO,SAAS0hG,GACZ,IAAIz2E,EAASy2E,EAAGjhG,OAChB,IAAI9C,EAAUstB,EAAOttB,QACrB,IAAI2gE,EAAMsS,EAAUswJ,EAAS,CAAED,WAAYv/H,GAAMy/H,EAAO50M,EAAOs1F,EAASu/G,EAExE,GAAIx4M,EAAQu3E,SAASxiG,EAAQ49F,YAAa,CACtCj9B,EAAO3gE,EAAQ49F,WAAWxwF,QAAQ,WAAa,EAC/C6lE,EAAWjzE,EAAQ49F,WAAWxwF,QAAQ,eAAiB,EAE3D,GAAIkgB,EAAOo2M,mBACPzwJ,EAAW,KAGfuwJ,EAAQD,EAAOh7J,SAAWhoE,KAAK6/B,SAC/BxR,EAAQ20M,EAAO/+N,KAAO,GACtB0/G,EAAUq/G,EAAOr/G,QAAU,GAC3B,IAAK,IAAI9jH,EAAI,EAAGA,EAAIojO,EAAMnjO,OAAQD,IAAK,CACnC,IAAIopC,EAAOm3B,EAAO6iK,EAAMpjO,GAAG2hB,WAAayhN,EAAMpjO,GAC9C,IAAIyuB,EAAWvB,EAAOuB,SAAS2a,GAC/B,GAAIm3B,EAAM,CACN,GAAI11C,EAAQ7a,QAAQwf,QAAQf,EAAUD,GAAS,EAC3CA,EAAMnsB,KAAKosB,GAEf40M,EAASx4M,EAAQ7a,QAAQozN,EAAMpjO,IAAIsP,QACnC,GAAIub,EAAQ7a,QAAQwf,QAAQ6zM,EAAQv/G,GAAW,EAC3CA,EAAQzhH,KAAKghO,QAGjB70M,EAAMnsB,KAAKosB,GAInB,IAAKokD,EAAU,CACXswJ,EAAO10M,SAAW00M,EAAO/+N,KAAOoqB,EAAM,GACtC20M,EAAOI,gBAAkB9lO,MAAMkrC,kBAAkBw6L,EAAO10M,UACxD00M,EAAOh7J,SAAWi7J,EAAM,GAG5BlF,EAAOz9L,EAAO,WACVx+B,EAAQw+B,EAAO0iM,QAQ3BZ,EAAU,UAAW,gBAAiB,SAASvyN,EAASpQ,GACpDO,KAAK27D,OACL,GAAIl8D,EAAQkkH,QAAS,CACjB,IAAIv/G,EAAWlH,EAAEM,OAAO,GAAIF,MAAMS,SAAU0B,EAAQ4jO,kBACpD34M,EAAQge,QAAQjpC,EAAQkkH,QAAS,SAAS2/G,GACtC,GAAIA,EAAIziN,QAAUyiN,EAAIt/N,WAAas/N,EAAIz+N,SAAWy+N,EAAIp0N,SAAWo0N,EAAIjgI,UAAYhmG,GAAaimO,EAAIjgI,SAC9FigI,EAAIt/N,SAAW,kBACX1G,MAAM0rB,KAAKs6M,EAAIziN,MAAO,YAAc,QACpCvjB,MAAM0rB,KAAKs6M,EAAIziN,MAAOzc,EAASP,WAAa,gBAMhE,CAIIu+N,EAAU,wBAAyB,QAAS,SAAShI,GACjD,IAAIxlF,EAAO50I,KAAK40I,KAChB,GAAIwlF,GAAO,KAAM,CACbxlF,EAAK/0G,OAAO+0G,EAAK/kI,QAAQwxC,SAAS,gBAAgBvvB,GAAGsoM,IACrDxlF,EAAKvyI,QAAQ,UACbuyI,EAAKvyI,QAAQ,SAAU,CAAE8M,MAAOylI,EAAK7sE,gBAEzC,OAAO6sE,EAAK7sE,gBAGhBq6J,EAAU,wBAAyB,UAAW,WAC1CpiO,KAAK27D,OACL37D,KAAK40I,KAAKvyI,QAAQ,YAK1B62N,EACCkI,UAAU,yBAA0B,WACjC,MAAO,CACHmC,SAAU,KACV18I,KAAM,SAASvmD,EAAOzwB,EAASirN,GAC3BD,EAAav6L,EAAOzwB,EAASirN,EAAO,yBAA0B,8BAGvEsG,UAAU,kBAAmB,WAC5B,MAAO,CACH9gM,MAAO,KACPumD,KAAM,CACF28I,IAAK,SAASljM,EAAOzwB,EAASirN,GAC1BA,EAAM4B,eAAiBp8L,EAAMu+C,YAC7Bi8I,EAAM2I,UAAY5I,EAAav6L,EAAOzwB,EAASirN,EAAO,kBAAmB,oBAG7E4I,KAAM,SAASpjM,EAAOzwB,EAASirN,GAC3BA,EAAM2I,UAAUh7D,UAChBqyD,EAAM2I,UAAUzmB,iBAI7BokB,UAAU,oBAAqB,WAC9B,MAAO,CACH9gM,MAAO,KACPumD,KAAM,CACF28I,IAAK,SAASljM,EAAOzwB,EAASirN,GAC1BA,EAAM4B,eAAiBp8L,EAAMu+C,YAC7Bi8I,EAAM2I,UAAY5I,EAAav6L,EAAOzwB,EAASirN,EAAO,oBAAqB,sBAG/E4I,KAAM,SAASpjM,EAAOzwB,EAASirN,GAC3BA,EAAM2I,UAAUh7D,UAChBqyD,EAAM2I,UAAUzmB,iBAI7BokB,UAAU,uBAAwB,WACjC,MAAO,CACH9gM,MAAO,KACPumD,KAAM,CACF28I,IAAK,SAASljM,EAAOzwB,EAASirN,GAC1BA,EAAM4B,eAAiBp8L,EAAMu+C,YAC7Bi8I,EAAM2I,UAAY5I,EAAav6L,EAAOzwB,EAASirN,EAAO,uBAAwB,yBAGlF4I,KAAM,SAASpjM,EAAOzwB,EAASirN,GAC3BA,EAAM2I,UAAUh7D,UAChBqyD,EAAM2I,UAAUzmB,iBAI7BokB,UAAU,uBAAwB,WACjC,MAAO,CACHmC,SAAU,KACV18I,KAAM,CACF28I,IAAK,SAASljM,EAAOzwB,EAASirN,GAC1BA,EAAM4B,eAAiBp8L,EAAMu+C,YAC7Bi8I,EAAM2I,UAAY5I,EAAav6L,EAAOzwB,EAASirN,EAAO,uBAAwB,yBAGlF4I,KAAM,SAASpjM,EAAOzwB,EAASirN,GAC3BA,EAAM2I,UAAUh7D,eAI7B24D,UAAU,kBAAmB,WAC5B,MAAO,CACHmC,SAAU,KACV18I,KAAM,CACF28I,IAAK,SAASljM,EAAOzwB,EAASirN,GAC1BA,EAAM4B,eAAiBp8L,EAAMu+C,YAC7Bg8I,EAAav6L,EAAOzwB,EAASirN,EAAO,kBAAmB,wBAIpEsG,UAAU,oBAAqB,WAC9B,MAAO,CACHv6I,KAAM,CACF28I,IAAK,SAAUljM,EAAOzwB,EAASirN,GAC3BD,EAAav6L,EAAOzwB,EAASirN,EAAO,oBAAqB,0BAItEsG,UAAU,yBAA0B,WACnC,MAAO,CACHb,SAAU,IACV15I,KAAM,SAASvmD,EAAOzwB,EAASirN,GAC3BjrN,EAAQkgB,KAAK,eAAetyB,KAAK,WAC7BP,EAAE8C,MAAMmW,KAAK,QAAU7Y,MAAMurB,GAAK,SAAU3rB,EAAE8C,MAAMmW,KAAK,eAG7D0kN,EAAav6L,EAAOzwB,EAASirN,EAAO,yBAA0B,8BAGvEsG,UAAU,qBAAsB,WAC/B,MAAO,CACHmC,SAAU,KACV18I,KAAM,CACF28I,IAAK,SAASljM,EAAOzwB,EAASirN,GAC1BA,EAAM4B,eAAiBp8L,EAAMu+C,YAC7Bg8I,EAAav6L,EAAOzwB,EAASirN,EAAO,qBAAsB,2BAIvEsG,UAAU,iBAAkB,WAC3B,MAAO,CACHb,SAAW,IACXpgO,QAAW,KACX6D,SAAW,SAAS6L,GAChB,MAAO,cAAgBvS,MAAMurB,GAAK,qBAAuBhZ,EAAQ3L,OAAS,cAGnFk9N,UAAU,oBAAqB,WAC1B,MAAO,CACHb,SAAU,IACV15I,KAAM,SAASvmD,EAAOzwB,GAClBA,EAAQqG,SAAS,aAAaC,KAAK,YAAa,cAG7DirN,UAAU,oBAAqB,WAC1B,MAAO,CACHb,SAAU,IACV15I,KAAM,SAASvmD,EAAOzwB,GAClBA,EAAQqG,SAAS,aAAaC,KAAK,YAAa,cAG7DirN,UAAU,4BAA6B,WACtC,MAAO,CACHb,SAAW,IACXpgO,QAAW,KACX6D,SAAW,SAAS6L,GAChB,MAAO,aAAevS,MAAMurB,GAAK,eAAiBhZ,EAAQ3L,OAAS,aAK/EwmB,EAAQge,QAAQ,CAAC,QAAS,OAAQ,MAAO,aAAc,sBAAuB,SAASvyB,GACjF,IAAIwtN,EAAQ,IAAMxtN,EAAKhX,MAAM,EAAG,GAAG+Y,cAAgB/B,EAAKhX,MAAM,GAE9D+5N,EAAOkI,UAAUuC,EAAO,WACpB,MAAO,CACHpD,SAAU,IACVqD,SAAU,EACV/8I,KAAM,SAASvmD,EAAOzwB,EAASirN,GAC3BjrN,EAAQsG,KAAK7Y,MAAM6Y,KAAK7Y,MAAMwa,UAAU3B,IAAQmqB,EAAM25L,MAAMa,EAAM6I,WAMpF,IAAI3D,EAA0B,CAC1B6D,QAAW,CAAE,YACb5C,eAAkB,CAAE,iBAAkB,YACtC6C,iBAAoB,CAAE,gBAAiB,YACvCC,KAAQ,CAAE,iBAAkB,iBAAkB,eAC9Cx7D,SAAY,CAAE,eAAgB,WAAY,eAC1C5jE,MAAS,CAAE,iBAAkB,gBAC7Bm1H,UAAa,CAAE,uBAAwB,mBAAoB,qBAC3DD,UAAa,CAAC,sBAAuB,qBAAsB,gBAAiB,0BAA2B,2BACvGjD,WAAc,CAAE,YAChBtqC,SAAY,CAAE,YACdstC,SAAY,CAAE,YACdx3I,UAAa,CAAE,mBAGnB,WACI,IAAI4hJ,EAAqB,GACzBt5M,EAAQge,QAAQs3L,EAAyB,SAAS19H,EAAWv1E,GACzDrC,EAAQge,QAAQ45D,EAAW,SAASt+F,GAChC,IAAKggO,EAAmBhgO,GACpBggO,EAAmBhgO,GAAY,GAEnCggO,EAAmBhgO,GAAU9B,KAAK,WAAa6qB,OAIvDrC,EAAQge,QAAQs7L,EAAoB,SAAS1xM,EAAS8uM,GAClD,IAAI6C,EAAe,IAAM7C,EACzB,IAAI1zH,EAAWpwG,MAAMwa,UAAUmsN,GAE/B/K,EAAOkI,UAAU6C,EAAc,WAC3B,MAAO,CACH1D,SAAU,IACVC,QAASluM,EACTixM,SAAU,KACVp/N,QAAS,SAASmuM,EAAUmuB,GACxB,GAAIA,EAAOwD,KAAkB,GACzB,OAGJ3xB,EAASjnL,WAAWqiF,GACpB,IAAI1pG,EAAWsuM,EAAS,GAAG7yG,UAE3B,OAAO,SAASn/D,EAAOzwB,EAASirN,EAAOE,GACnC,IAAI/c,EAEJ,OAAOA,GAAc+c,EAAYl7N,OAC7Bm+M,EAAa+c,EAAYrsN,QAG7B,IAAKsvM,EACDsb,EAAKx1I,KAAK2pB,EAAW,4EAA8Ep7E,EAAQxvB,KAAK,WAC7G,CACHm7M,EAAWj6M,SAASigO,EAAcjgO,GAClC6L,EAAQkhB,kBAvCpC,GA54CJ,CA87CG3zB,OAAOE,MAAMH,OAAQC,OAAOstB,SAExBttB,OAAOE,QA78Cd,CA+8CoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAavtC,QACTA,OAAO,gBAAgB,CACnB,aACA,eACA,cACA,aACA,sBACA,WACA,mBACA,iBACA,aACA,qBACA,eACA,kBACA,mBACA,oBACA,wBACA,kBACA,iBACA,mBACA,cACA,eACA,yBACA,cACA,cACA,qBACA,gBACA,gBACA,aACA,iBACA,kBACA,mBACA,qBACA,qBACA,iBACA,oBACA,oBACA,iBACA,gBACA,eACA,gBACA,iBACA,uBACA,sBACA,aACA,iBACA,iBACA,oBACA,wBACA,iBACA,mBACA,uBACA,eACA,iBACA,eACA,eACA,oBACA,uBACA,sBACA,wBACA,oBACA,oBACA,yBACA,sBACA,yBACA,oBACA,2BACA,2BACA,sBACA,2BACA,2BACA,wBACA,sBACA,0BACA,sBACA,wBACA,iBAEL,wBAEC,OAAOc,OAAOE,QAhFlB,CAiFoB,mBAAVhB,QAAwBA,OAAOqtC,IAAMrtC,OAAS,SAASstC,EAAIC,EAAIC,IAAMA,GAAMD"}