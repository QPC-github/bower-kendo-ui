{"version":3,"sources":["kendo.menu.js"],"names":["f","define","$","undefined","getEffectDirection","direction","root","split","replace","parseDirection","isRtl","output","origin","position","horizontal","test","kendo","directions","reverse","join","contains","parent","child","e","updateItemClasses","item","omitWrap","attr","addClass","children","IMG","IMAGE","LINK","filter","removeClass","empty","append","DISABLEDSTATE","prop","length","LINK_SELECTOR","contents","this","nodeName","match","excludedNodesRegExp","nodeType","trim","nodeValue","wrapAll","idx","elm","wrap","updateArrow","updateFirstLast","find","remove","each","arrowCssClass","getArrowCssClass","support","hasClass","MENU","FIRST","LAST","updateHasAriaPopup","parents","index","parentLi","eq","removeAttr","getParentLiItems","group","parentsUntil","storeItemSelectEventHandler","element","options","selectHandler","getItemSelectEventHandler","setItemData","items","i","data","select","isFunction","popupOpenerSelector","id","popupGroupSelector","selector","getChildPopups","currentPopup","overflowWrapper","childPopupOpener","result","opener","popupId","popup","POPUP_OPENER_ATTR","push","popupParentItem","popupElement","POPUP_ID_ATTR","itemPopup","animationContainerSelector","overflowMenuParents","current","last","getParents","parentNode","is","elem","mousewheelDelta","delta","wheelDelta","Math","ceil","floor","detail","round","parentsScroll","scrollDirection","scroll","isNaN","isPointerTouch","allPointers","originalEvent","pointerType","touchPointerTypes","isTouch","ev","touch","type","removeSpacesBetweenItems","ul","window","ui","activeElement","_activeElement","mobileOS","isArray","Array","HierarchicalDataSource","MOUSEDOWN","CLICK","DELAY","SCROLLSPEED","extend","proxy","template","keys","Widget","NS","OPEN","ICON_SELECTOR","CLOSE","TIMER","SELECT","ZINDEX","ACTIVATE","DEACTIVATE","POINTERDOWN","pointers","msPointers","CHANGE","ERROR","TOUCHSTART","MOUSEENTER","MOUSELEAVE","MOUSEWHEEL","RESIZE","resize","SCROLLWIDTH","SCROLLHEIGHT","OFFSETWIDTH","OFFSETHEIGHT","DOCUMENT_ELEMENT","document","documentElement","KENDOPOPUP","HOVERSTATE","FOCUSEDSTATE","SELECTEDSTATE","menuSelector","groupSelector","popupSelector","allItemsSelector","disabledSelector","itemSelector","availableItemsSelector","linkSelector","exclusionSelector","templateSelector","scrollButtonSelector","2","STRING","DATABOUND","ARIA_EXPANDED","bindings","text","url","spriteCssClass","imageUrl","imageAttr","content","rendering","wrapperCssClass","enabled","firstLevel","cssClass","hasOwnProperty","selected","itemCssAttributes","attributes","imageCssAttributes","imgAttributes","toJSON","contentCssAttributes","contentAttr","defaultClasses","textClass","arrowClass","groupAttributes","expanded","groupCssClass","Menu","DataBoundWidget","init","that","fn","call","wrapper","_accessors","_templates","_dataSource","_updateClasses","_animations","nextItemZIndex","_tabindex","_initOverflow","_attachMenuEventsHandlers","openOnClick","clicked","_ariaId","format","notify","events","name","animation","open","duration","close","orientation","closeOnClick","hoverDelay","scrollable","popupCollision","_initData","dataSource","angular","elements","view","_overflowWrapper","_checkActiveProxy","_checkActiveElement","on","_focusHandler","_click","_preventClose","_mouseenter","_mouseleave","_mousedown","_toggleHover","_keydown","_focus","_removeHoverItem","_mouseleavePopup","_mouseenterPopup","_documentClickHandler","_documentClick","_detachMenuEventsHandlers","off","backwardBtn","forwardBtn","initialWidth","initialCssWidth","isHorizontal","_openedPopups","_scrollWrapper","templates","scrollButton","add","appendTo","_initScrolling","outerWidth","style","width","setTimeout","_setOverflowWrapperWidth","_toggleScrollButtons","_popupsWrapper","wrapperWidth","menuWidth","borders","wrapperCssWidth","css","offsetWidth","clientWidth","min","_reinitOverflow","overflowChanged","distance","_destroyOverflow","popupWrapper","popupParentLi","unwrap","scrollElement","isNumeric","mouseWheelDistance","backward","forward","backwardDouble","forwardDouble","scrolling","touchEvents","value","scrollValue","scrollLeft","scrollTop","finish","animate","mouseenterHandler","mousedownHandler","stop","currentTarget","trigger","stopPropagation","preventDefault","eventMap","down","scrollSpeed","ctrlKey","shiftKey","altKey","abs","_closeChildPopups","n","parseFloat","isFinite","currentScroll","scrollSize","offset","toggle","setOptions","destroy","enable","_toggleDisabled","disable","attemptGetItem","candidate","referenceItem","inserted","_insert","_childPopupElement","insertBefore","before","insertAfter","after","groups","plain","groupData","isPlainObject","ObservableObject","renderGroup","ObservableArray","map","get","renderItem","charAt","parentItems","container","_openAfterLoad","dataItem","loaded","_loading","one","visiblePopups","closePopup","getByUid","ns","hasChildren","load","closest","siblings","li","clearTimeout","overflowPopup","windowHeight","setScrolling","nextZindex","parentHorizontal","effects","openEffects","first","_getPopup","_triggerEvent","height","maxHeight","_outerHeight","getShadows","bottom","overflow","zIndex","kendoPopup","activate","deactivate","_closing","sender","removeData","opacity","collision","anchor","_popupOpen","hide","mouseAndTouchPresent","_configurePopupOverflow","_hovered","_initPopupScrolling","popupOpener","groupId","_wrapPopupElement","Date","getTime","autosize","display","skipMouseEvents","scrollHeight","offsetHeight","_initPopupScrollButtons","scrollButtons","timeout","p","isEmptyObject","_closeParentPopups","_keyTriggered","_setPopupHeight","isFixed","location","popupOuterHeight","popupOffsetTop","bottomScrollbar","canFit","popups","_initialHeight","_location","max","top","innerHeight","dontClearClose","hasChildPopupsHovered","isPopupMouseLeaved","_isRootItem","_forceClose","toggleClass","target","eventTarget","isEnter","indexOf","_closurePrevented","hoverItem","_hoverItem","_findRootParent","hasFocus","oldHoverItem","_oldHoverItem","nonContentGroupsSelector","matchesSelector","end","_itemHasChildren","pointerTouch","isParentClosing","delegateTarget","rootMenuItems","subMenuItems","relatedTarget","_","sibling","$window","stopImmediatePropagation","browser","msie","toElement","clientX","clientY","_closePopups","rootPopup","groupParent","innerPopup","_innerPopup","openHandle","childGroup","childGroupVisible","shouldCloseTheRootItem","childPopupId","targetElement","toUpperCase","formNode","link","itemElement","href","targetHref","sampleHref","isLink","isLocalLink","isTargetLink","_lastClickedElement","handled","_triggerSelect","_parentsUntil","enterKey","click","context","itemSelectEventData","isSelectItemDefaultPrevented","isSelectDefaultPrevented","_getEventData","isDefaultPrevented","eventData","_defaultPrevented","active","_moveHover","belongsToVertical","key","keyCode","ESC","_itemBelongsToVertival","RIGHT","LEFT","DOWN","_itemDown","UP","_itemUp","HOME","END","_itemEsc","ENTER","SPACEBAR","_moveHoverToRoot","TAB","menuIsVertical","nextItem","_scrollToItem","_itemRight","parentItem","nextAll","prevAll","_itemLeft","scrollDir","getSize","currentScrollOffset","itemSize","itemOffset","ulSize","scrollButtonSize","itemPosition","_outerWidth","_unbindDataSource","fields","field","create","_bindDataSource","fetch","_refreshHandler","refresh","_errorHandler","_error","bind","unbind","findByUid","uid","wrapperElement","node","action","parentElement","itemsToUpdate","updateProxy","_updateItem","removeProxy","_removeItem","_appendItems","forEach","nextElement","next","textField","_fieldAccessor","fieldName","fieldBindings","count","x","expr","fieldAccessor","itemWrapper","arrow","sprite","menu","renderContent","dataContentField","subGroup","renderItems","html","len","ContextMenu","_marker","guid","substring","_popup","_wire","_initialWidth","showOn","alignToAnchor","copyAnchorStyles","_showProxy","userEvents","mousedown","_closeProxy","y","visible","kendoStop","left","_configurePopupScrolling","downEvent","_mousedownProxy","visibility","_setPopupWidth","windowWidth","popupOuterWidth","popupOffsetLeft","shadow","maxWidth","right","arguments","_closeTimeoutProxy","focus","_showHandler","event","pageX","pageY","_eventOrigin","_targetChild","_closeHandler","normalClick","sameTarget","containment","which","_preventProxy","UserEvents","allowSelection","_triggerProxy","noop","plugin","jQuery","amd","a1","a2","a3"],"mappings":"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","file":"kendo.menu.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('kendo.menu', [\n        'kendo.popup',\n        'kendo.data'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'menu',\n        name: 'Menu',\n        category: 'web',\n        description: 'The Menu widget displays hierarchical data as a multi-level menu.',\n        depends: [\n            'popup',\n            'data',\n            'data.odata'\n        ]\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, ui = kendo.ui, activeElement = kendo._activeElement, touch = kendo.support.touch && kendo.support.mobileOS, isArray = Array.isArray, HierarchicalDataSource = kendo.data.HierarchicalDataSource, MOUSEDOWN = 'mousedown', CLICK = 'click', DELAY = 30, SCROLLSPEED = 50, extend = $.extend, proxy = $.proxy, each = $.each, template = kendo.template, keys = kendo.keys, Widget = ui.Widget, excludedNodesRegExp = /^(ul|a|div)$/i, NS = '.kendoMenu', IMG = 'img', OPEN = 'open', MENU = 'k-menu', LINK = 'k-link k-menu-link', LINK_SELECTOR = '.k-link', ICON_SELECTOR = '.k-menu-expand-arrow-icon', LAST = 'k-last', CLOSE = 'close', TIMER = 'timer', FIRST = 'k-first', IMAGE = 'k-image', SELECT = 'select', ZINDEX = 'zIndex', ACTIVATE = 'activate', DEACTIVATE = 'deactivate', POINTERDOWN = 'touchstart' + NS + ' MSPointerDown' + NS + ' pointerdown' + NS, pointers = kendo.support.pointers, msPointers = kendo.support.msPointers, allPointers = msPointers || pointers, CHANGE = 'change', ERROR = 'error', TOUCHSTART = kendo.support.touch ? 'touchstart' : '', MOUSEENTER = pointers ? 'pointerover' : msPointers ? 'MSPointerOver' : 'mouseenter', MOUSELEAVE = pointers ? 'pointerout' : msPointers ? 'MSPointerOut' : 'mouseleave', MOUSEWHEEL = 'DOMMouseScroll' + NS + ' mousewheel' + NS, RESIZE = kendo.support.resize + NS, SCROLLWIDTH = 'scrollWidth', SCROLLHEIGHT = 'scrollHeight', OFFSETWIDTH = 'offsetWidth', OFFSETHEIGHT = 'offsetHeight', POPUP_ID_ATTR = 'group', POPUP_OPENER_ATTR = 'groupparent', DOCUMENT_ELEMENT = $(document.documentElement), KENDOPOPUP = 'kendoPopup', HOVERSTATE = 'k-hover', FOCUSEDSTATE = 'k-focus', DISABLEDSTATE = 'k-disabled', SELECTEDSTATE = 'k-selected', menuSelector = '.k-menu', groupSelector = '.k-menu-group', animationContainerSelector = '.k-animation-container', popupSelector = groupSelector + ',' + animationContainerSelector, allItemsSelector = ':not(.k-list) > .k-item:not([role=\\'treeitem\\'])', disabledSelector = '.k-item.k-disabled', itemSelector = '.k-item', availableItemsSelector = '.k-item:not(.k-disabled)', linkSelector = '.k-item:not(.k-disabled) > .k-link', exclusionSelector = ':not(.k-item.k-separator)', templateSelector = 'div:not(.k-animation-container,.k-list-container)', scrollButtonSelector = '.k-menu-scroll-button', touchPointerTypes = {\n                '2': 1,\n                'touch': 1\n            }, STRING = 'string', DATABOUND = 'dataBound', ARIA_EXPANDED = 'aria-expanded', bindings = {\n                text: 'dataTextField',\n                url: 'dataUrlField',\n                spriteCssClass: 'dataSpriteCssClassField',\n                imageUrl: 'dataImageUrlField',\n                imageAttr: 'dataImageAttrField',\n                content: 'dataContentField'\n            }, rendering = {\n                wrapperCssClass: function (group, item) {\n                    var result = 'k-item k-menu-item', index = item.index;\n                    if (item.enabled === false) {\n                        result += ' k-disabled';\n                    }\n                    if (group.firstLevel && index === 0) {\n                        result += ' k-first';\n                    }\n                    if (index == group.length - 1) {\n                        result += ' k-last';\n                    }\n                    if (item.cssClass) {\n                        result += ' ' + item.cssClass;\n                    }\n                    if (item.attr && item.attr.hasOwnProperty('class')) {\n                        result += ' ' + item.attr['class'];\n                    }\n                    if (item.selected) {\n                        result += ' ' + SELECTEDSTATE;\n                    }\n                    return result;\n                },\n                itemCssAttributes: function (item) {\n                    var result = '';\n                    var attributes = item.attr || {};\n                    for (var attr in attributes) {\n                        if (attributes.hasOwnProperty(attr) && attr !== 'class') {\n                            result += attr + '=\"' + attributes[attr] + '\" ';\n                        }\n                    }\n                    return result;\n                },\n                imageCssAttributes: function (imgAttributes) {\n                    var result = '';\n                    var attributes = imgAttributes && imgAttributes.toJSON ? imgAttributes.toJSON() : {};\n                    if (!attributes['class']) {\n                        attributes['class'] = IMAGE;\n                    } else {\n                        attributes['class'] += ' ' + IMAGE;\n                    }\n                    for (var attr in attributes) {\n                        if (attributes.hasOwnProperty(attr)) {\n                            result += attr + '=\"' + attributes[attr] + '\" ';\n                        }\n                    }\n                    return result;\n                },\n                contentCssAttributes: function (item) {\n                    var result = '';\n                    var attributes = item.contentAttr || {};\n                    var defaultClasses = 'k-content k-group k-menu-group k-menu-group-md';\n                    if (!attributes['class']) {\n                        attributes['class'] = defaultClasses;\n                    } else {\n                        attributes['class'] += ' ' + defaultClasses;\n                    }\n                    for (var attr in attributes) {\n                        if (attributes.hasOwnProperty(attr)) {\n                            result += attr + '=\"' + attributes[attr] + '\" ';\n                        }\n                    }\n                    return result;\n                },\n                textClass: function () {\n                    return LINK;\n                },\n                arrowClass: function (item, group) {\n                    var result = 'k-menu-expand-arrow-icon k-icon';\n                    if (group.horizontal) {\n                        result += ' k-i-arrow-s';\n                    } else {\n                        result += ' k-i-arrow-e';\n                    }\n                    return result;\n                },\n                groupAttributes: function (group) {\n                    return group.expanded !== true ? ' style=\\'display:none\\'' : '';\n                },\n                groupCssClass: function () {\n                    return 'k-group k-menu-group k-menu-group-md';\n                },\n                content: function (item) {\n                    return item.content ? item.content : '&nbsp;';\n                }\n            };\n        function getEffectDirection(direction, root) {\n            direction = direction.split(' ')[!root + 0] || direction;\n            return direction.replace('top', 'up').replace('bottom', 'down');\n        }\n        function parseDirection(direction, root, isRtl) {\n            direction = direction.split(' ')[!root + 0] || direction;\n            var output = {\n                    origin: [\n                        'bottom',\n                        isRtl ? 'right' : 'left'\n                    ],\n                    position: [\n                        'top',\n                        isRtl ? 'right' : 'left'\n                    ]\n                }, horizontal = /left|right/.test(direction);\n            if (horizontal) {\n                output.origin = [\n                    'top',\n                    direction\n                ];\n                output.position[1] = kendo.directions[direction].reverse;\n            } else {\n                output.origin[0] = direction;\n                output.position[0] = kendo.directions[direction].reverse;\n            }\n            output.origin = output.origin.join(' ');\n            output.position = output.position.join(' ');\n            return output;\n        }\n        function contains(parent, child) {\n            try {\n                return $.contains(parent, child);\n            } catch (e) {\n                return false;\n            }\n        }\n        function updateItemClasses(item) {\n            item = $(item);\n            var omitWrap = item.attr(kendo.attr('omit-wrap'));\n            if (omitWrap) {\n                return;\n            }\n            item.addClass('k-item k-menu-item').children(IMG).addClass(IMAGE);\n            item.children('a').addClass(LINK).children(IMG).addClass(IMAGE);\n            item.filter(':not([disabled])');\n            item.filter('.k-separator').removeClass('k-menu-item').addClass('k-menu-separator').empty().append('&nbsp;');\n            item.filter('li[disabled]').addClass(DISABLEDSTATE).prop('disabled', false).attr('aria-disabled', true);\n            if (!item.filter('[role]').length) {\n                item.attr('role', 'menuitem');\n            }\n            if (!item.children(LINK_SELECTOR).length) {\n                item.contents().filter(function () {\n                    return !this.nodeName.match(excludedNodesRegExp) && !(this.nodeType === 3 && !kendo.trim(this.nodeValue));\n                }).wrapAll('<span class=\\'' + LINK + '\\'></span>').filter(function (idx, elm) {\n                    return elm.nodeType === 3;\n                }).wrap('<span class=\\'k-menu-link-text\\'></span>');\n            }\n            updateArrow(item);\n            updateFirstLast(item);\n        }\n        function updateArrow(item) {\n            item = $(item);\n            item.find('> .k-link > .k-menu-expand-arrow > [class*=k-i-arrow]:not(.k-sprite)').parent().remove();\n            item.filter(':has(.k-menu-group)').children('.k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))').each(function () {\n                var item = $(this), arrowCssClass = getArrowCssClass(item);\n                item.append('<span class=\\'k-menu-expand-arrow\\'><span class=\\'k-menu-expand-arrow-icon k-icon ' + arrowCssClass + '\\'></span></span>');\n            });\n        }\n        function getArrowCssClass(item) {\n            var arrowCssClass, parent = item.parent().parent(), isRtl = kendo.support.isRtl(parent);\n            if (parent.hasClass(MENU + '-horizontal')) {\n                arrowCssClass = 'k-i-arrow-s';\n            } else {\n                if (isRtl) {\n                    arrowCssClass = 'k-i-arrow-w';\n                } else {\n                    arrowCssClass = 'k-i-arrow-e';\n                }\n            }\n            return arrowCssClass;\n        }\n        function updateFirstLast(item) {\n            item = $(item);\n            item.filter('.k-first:not(:first-child)').removeClass(FIRST);\n            item.filter('.k-last:not(:last-child)').removeClass(LAST);\n            item.filter(':first-child').addClass(FIRST);\n            item.filter(':last-child').addClass(LAST);\n        }\n        function updateHasAriaPopup(parents) {\n            if (parents && parents.length) {\n                for (var index in parents) {\n                    var parentLi = parents.eq(index);\n                    if (parentLi.find('ul').length) {\n                        parentLi.attr('aria-haspopup', true);\n                    } else {\n                        parentLi.removeAttr('aria-haspopup');\n                    }\n                }\n            }\n        }\n        function getParentLiItems(group) {\n            if (!group.hasClass(MENU)) {\n                return group.parentsUntil('.' + MENU, 'li');\n            }\n        }\n        function storeItemSelectEventHandler(element, options) {\n            var selectHandler = getItemSelectEventHandler(options);\n            if (selectHandler) {\n                setItemData(element, selectHandler);\n            }\n            if (options.items) {\n                $(element).children('ul').children('li').each(function (i) {\n                    storeItemSelectEventHandler(this, options.items[i]);\n                });\n            }\n        }\n        function setItemData(element, selectHandler) {\n            $(element).children('.k-link').data({ selectHandler: selectHandler });\n        }\n        function getItemSelectEventHandler(options) {\n            var selectHandler = options.select, isFunction = kendo.isFunction;\n            if (selectHandler && isFunction(selectHandler)) {\n                return selectHandler;\n            }\n            return null;\n        }\n        function popupOpenerSelector(id) {\n            return id ? 'li[data-groupparent=\\'' + id + '\\']' : 'li[data-groupparent]';\n        }\n        function popupGroupSelector(id) {\n            var selector = id ? '[data-group=\\'' + id + '\\']' : '[data-group]';\n            return 'ul' + selector + ',div' + selector;\n        }\n        function getChildPopups(currentPopup, overflowWrapper) {\n            var childPopupOpener = currentPopup.find(popupOpenerSelector());\n            var result = [];\n            childPopupOpener.each(function (i, opener) {\n                opener = $(opener);\n                var popupId = opener.data(POPUP_OPENER_ATTR);\n                var popup = currentPopup;\n                while (popupId) {\n                    popup = overflowWrapper.find(popupGroupSelector(popupId) + ':visible');\n                    if (popup.length) {\n                        result.push(popup);\n                    }\n                    opener = popup.find(popupOpenerSelector());\n                    popupId = opener.data(POPUP_OPENER_ATTR);\n                }\n            });\n            return result;\n        }\n        function popupParentItem(popupElement, overflowWrapper) {\n            var popupId = popupElement.data(POPUP_ID_ATTR);\n            return popupId ? overflowWrapper.find(popupOpenerSelector(popupId)) : $([]);\n        }\n        function itemPopup(item, overflowWrapper) {\n            var popupId = item.data(POPUP_OPENER_ATTR);\n            return popupId ? overflowWrapper.children(animationContainerSelector).children(popupGroupSelector(popupId)) : $([]);\n        }\n        function overflowMenuParents(current, overflowWrapper) {\n            var parents = [];\n            var getParents = function (item) {\n                while (item.parentNode && !overflowWrapper.is(item.parentNode)) {\n                    parents.push(item.parentNode);\n                    item = item.parentNode;\n                }\n            };\n            var elem = current[0] || current;\n            getParents(elem);\n            var last = parents[parents.length - 1];\n            while ($(last).is(animationContainerSelector)) {\n                var popupElement = $(last).children('ul');\n                elem = popupParentItem(popupElement, overflowWrapper)[0];\n                if (!elem) {\n                    break;\n                }\n                parents.push(elem);\n                getParents(elem);\n                last = parents[parents.length - 1];\n            }\n            return parents;\n        }\n        function mousewheelDelta(e) {\n            var delta = 0;\n            if (e.wheelDelta) {\n                delta = -e.wheelDelta / 120;\n                delta = delta > 0 ? Math.ceil(delta) : Math.floor(delta);\n            }\n            if (e.detail) {\n                delta = Math.round(e.detail / 3);\n            }\n            return delta;\n        }\n        function parentsScroll(current, scrollDirection) {\n            var scroll = 0;\n            var parent = current.parentNode;\n            while (parent && !isNaN(parent[scrollDirection])) {\n                scroll += parent[scrollDirection];\n                parent = parent.parentNode;\n            }\n            return scroll;\n        }\n        function isPointerTouch(e) {\n            return allPointers && e.originalEvent && e.originalEvent.pointerType in touchPointerTypes;\n        }\n        function isTouch(e) {\n            var ev = e.originalEvent;\n            return touch && /touch/i.test(ev.type || '');\n        }\n        function removeSpacesBetweenItems(ul) {\n            ul.contents().filter(function () {\n                return this.nodeName != 'LI';\n            }).remove();\n        }\n        var Menu = kendo.ui.DataBoundWidget.extend({\n            init: function (element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, options);\n                element = that.wrapper = that.element;\n                options = that.options;\n                that._accessors();\n                that._templates();\n                that._dataSource();\n                that._updateClasses();\n                that._animations(options);\n                that.nextItemZIndex = 100;\n                that._tabindex();\n                that._initOverflow(options);\n                that._attachMenuEventsHandlers();\n                if (options.openOnClick) {\n                    that.clicked = false;\n                }\n                element.attr('role', 'menubar');\n                if (element[0].id) {\n                    that._ariaId = kendo.format('{0}_mn_active', element[0].id);\n                }\n                kendo.notify(that);\n            },\n            events: [\n                OPEN,\n                CLOSE,\n                ACTIVATE,\n                DEACTIVATE,\n                SELECT,\n                DATABOUND\n            ],\n            options: {\n                name: 'Menu',\n                animation: {\n                    open: { duration: 200 },\n                    close: { duration: 100 }\n                },\n                orientation: 'horizontal',\n                direction: 'default',\n                openOnClick: false,\n                closeOnClick: true,\n                hoverDelay: 100,\n                scrollable: false,\n                popupCollision: undefined\n            },\n            _initData: function () {\n                var that = this;\n                if (that.dataSource) {\n                    that.angular('cleanup', function () {\n                        return { elements: that.element.children() };\n                    });\n                    that.element.empty();\n                    that.append(that.dataSource.view(), that.element);\n                    that.angular('compile', function () {\n                        return { elements: that.element.children() };\n                    });\n                }\n            },\n            _attachMenuEventsHandlers: function () {\n                var that = this;\n                var element = that.element;\n                var options = that.options;\n                var overflowWrapper = that._overflowWrapper();\n                that._checkActiveProxy = proxy(that._checkActiveElement, that);\n                (overflowWrapper || element).on(POINTERDOWN, itemSelector, proxy(that._focusHandler, that)).on(CLICK + NS, disabledSelector, false).on(CLICK + NS, itemSelector, proxy(that._click, that)).on(POINTERDOWN + ' ' + MOUSEDOWN + NS, '.k-content', proxy(that._preventClose, that)).on(MOUSEENTER + NS, availableItemsSelector, proxy(that._mouseenter, that)).on(MOUSELEAVE + NS, availableItemsSelector, proxy(that._mouseleave, that)).on(MOUSEDOWN + NS, availableItemsSelector, proxy(that._mousedown, that)).on(TOUCHSTART + NS + ' ' + MOUSEENTER + NS + ' ' + MOUSELEAVE + NS + ' ' + MOUSEDOWN + NS + ' ' + CLICK + NS, linkSelector, proxy(that._toggleHover, that));\n                element.on('keydown' + NS, proxy(that._keydown, that)).on('focus' + NS, proxy(that._focus, that)).on('focus' + NS, '.k-content', proxy(that._focus, that)).on('blur' + NS, proxy(that._removeHoverItem, that)).on('blur' + NS, '[tabindex]', that._checkActiveProxy);\n                if (overflowWrapper) {\n                    overflowWrapper.on(MOUSELEAVE + NS, popupSelector, proxy(that._mouseleavePopup, that)).on(MOUSEENTER + NS, popupSelector, proxy(that._mouseenterPopup, that));\n                }\n                if (options.openOnClick) {\n                    that._documentClickHandler = proxy(that._documentClick, that);\n                    $(document).on('click', that._documentClickHandler);\n                }\n            },\n            _detachMenuEventsHandlers: function () {\n                var that = this;\n                var overflowWrapper = that._overflowWrapper();\n                if (overflowWrapper) {\n                    overflowWrapper.off(NS);\n                }\n                that.element.off(NS);\n                if (that._documentClickHandler) {\n                    $(document).off('click', that._documentClickHandler);\n                }\n            },\n            _initOverflow: function (options) {\n                var that = this;\n                var isHorizontal = options.orientation == 'horizontal';\n                var backwardBtn, forwardBtn;\n                if (options.scrollable) {\n                    that._openedPopups = {};\n                    that._scrollWrapper = that.element.wrap('<div class=\\'k-menu-scroll-wrapper ' + options.orientation + '\\'></div>').parent();\n                    if (isHorizontal) {\n                        removeSpacesBetweenItems(that.element);\n                    }\n                    backwardBtn = $(that.templates.scrollButton({ direction: isHorizontal ? 'left' : 'up' }));\n                    forwardBtn = $(that.templates.scrollButton({ direction: isHorizontal ? 'right' : 'down' }));\n                    backwardBtn.add(forwardBtn).appendTo(that._scrollWrapper);\n                    that._initScrolling(that.element, backwardBtn, forwardBtn, isHorizontal);\n                    var initialWidth = that.element.outerWidth();\n                    var initialCssWidth = that.element[0].style.width;\n                    initialCssWidth = initialCssWidth === 'auto' ? '' : initialCssWidth;\n                    if (isHorizontal) {\n                        $(window).on(RESIZE, function () {\n                            setTimeout(function () {\n                                that._setOverflowWrapperWidth(initialWidth, initialCssWidth);\n                                that._toggleScrollButtons(that.element, backwardBtn, forwardBtn, isHorizontal);\n                            }, 300);\n                        });\n                    }\n                    that._setOverflowWrapperWidth(initialWidth, initialCssWidth);\n                    that._toggleScrollButtons(that.element, backwardBtn, forwardBtn, isHorizontal);\n                }\n            },\n            _overflowWrapper: function () {\n                return this._scrollWrapper || this._popupsWrapper;\n            },\n            _setOverflowWrapperWidth: function (initialWidth, initialCssWidth) {\n                var that = this;\n                var wrapperCssWidth = that._scrollWrapper.css('width');\n                that._scrollWrapper.css({ width: '' });\n                var wrapperWidth = that._scrollWrapper.outerWidth();\n                that._scrollWrapper.css({ width: wrapperCssWidth });\n                var menuWidth = that.element.outerWidth();\n                var borders = that.element[0].offsetWidth - that.element[0].clientWidth;\n                if (menuWidth != wrapperWidth && wrapperWidth > 0) {\n                    var width = initialCssWidth ? Math.min(initialWidth, wrapperWidth) : wrapperWidth;\n                    that.element.width(width - borders);\n                    that._scrollWrapper.width(width);\n                }\n            },\n            _reinitOverflow: function (options) {\n                var that = this;\n                var overflowChanged = options.scrollable && !that.options.scrollable || !options.scrollable && that.options.scrollable || options.scrollable && that.options.scrollable && options.scrollable.distance != that.options.scrollable.distance || options.orientation != that.options.orientation;\n                if (overflowChanged) {\n                    that._detachMenuEventsHandlers();\n                    that._destroyOverflow();\n                    that._initOverflow(options);\n                    that._attachMenuEventsHandlers();\n                }\n            },\n            _destroyOverflow: function () {\n                var that = this;\n                var overflowWrapper = that._overflowWrapper();\n                if (overflowWrapper) {\n                    overflowWrapper.off(NS);\n                    overflowWrapper.find(scrollButtonSelector).off(NS).remove();\n                    overflowWrapper.children(animationContainerSelector).each(function (i, popupWrapper) {\n                        var ul = $(popupWrapper).children(groupSelector);\n                        ul.off(MOUSEWHEEL);\n                        var popupParentLi = popupParentItem(ul, overflowWrapper);\n                        if (popupParentLi.length) {\n                            popupParentLi.append(popupWrapper);\n                        }\n                    });\n                    overflowWrapper.find(popupOpenerSelector()).removeAttr('data-groupparent');\n                    overflowWrapper.find(popupGroupSelector()).removeAttr('data-group');\n                    that.element.off(MOUSEWHEEL);\n                    $(window).off(RESIZE);\n                    overflowWrapper.contents().unwrap();\n                    that._scrollWrapper = that._popupsWrapper = that._openedPopups = undefined;\n                }\n            },\n            _initScrolling: function (scrollElement, backwardBtn, forwardBtn, isHorizontal) {\n                var that = this;\n                var scrollable = that.options.scrollable;\n                var distance = that.isNumeric(scrollable.distance) ? scrollable.distance : SCROLLSPEED;\n                var mouseWheelDistance = distance / 2;\n                var backward = '-=' + distance;\n                var forward = '+=' + distance;\n                var backwardDouble = '-=' + distance * 2;\n                var forwardDouble = '+=' + distance * 2;\n                var scrolling = false;\n                var touchEvents = false;\n                var scroll = function (value) {\n                    var scrollValue = isHorizontal ? { 'scrollLeft': value } : { 'scrollTop': value };\n                    scrollElement.finish().animate(scrollValue, 'fast', 'linear', function () {\n                        if (scrolling) {\n                            scroll(value);\n                        }\n                    });\n                    that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n                };\n                var mouseenterHandler = function (e) {\n                    if (!scrolling && !touchEvents) {\n                        scroll(e.data.direction);\n                        scrolling = true;\n                    }\n                };\n                var mousedownHandler = function (e) {\n                    var scrollValue = isHorizontal ? { 'scrollLeft': e.data.direction } : { 'scrollTop': e.data.direction };\n                    touchEvents = isTouch(e) || isPointerTouch(e);\n                    scrollElement.stop().animate(scrollValue, 'fast', 'linear', function () {\n                        if (!touchEvents) {\n                            $(e.currentTarget).trigger(MOUSEENTER);\n                        } else {\n                            that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n                            scrolling = true;\n                        }\n                    });\n                    scrolling = false;\n                    e.stopPropagation();\n                    e.preventDefault();\n                };\n                backwardBtn.on(MOUSEENTER + NS, { direction: backward }, mouseenterHandler).on(kendo.eventMap.down + NS, { direction: backwardDouble }, mousedownHandler);\n                forwardBtn.on(MOUSEENTER + NS, { direction: forward }, mouseenterHandler).on(kendo.eventMap.down + NS, { direction: forwardDouble }, mousedownHandler);\n                backwardBtn.add(forwardBtn).on(MOUSELEAVE + NS, function () {\n                    scrollElement.stop();\n                    scrolling = false;\n                    that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n                });\n                scrollElement.on(MOUSEWHEEL, function (e) {\n                    if (!e.ctrlKey && !e.shiftKey && !e.altKey) {\n                        var wheelDelta = mousewheelDelta(e.originalEvent);\n                        var scrollSpeed = Math.abs(wheelDelta) * mouseWheelDistance;\n                        var value = (wheelDelta > 0 ? '+=' : '-=') + scrollSpeed;\n                        var scrollValue = isHorizontal ? { 'scrollLeft': value } : { 'scrollTop': value };\n                        that._closeChildPopups(scrollElement);\n                        scrollElement.finish().animate(scrollValue, 'fast', 'linear', function () {\n                            that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n                        });\n                        e.preventDefault();\n                    }\n                });\n            },\n            isNumeric: function (n) {\n                return !isNaN(parseFloat(n)) && isFinite(n);\n            },\n            _toggleScrollButtons: function (scrollElement, backwardBtn, forwardBtn, horizontal) {\n                var currentScroll = horizontal ? kendo.scrollLeft(scrollElement) : scrollElement.scrollTop();\n                var scrollSize = horizontal ? SCROLLWIDTH : SCROLLHEIGHT;\n                var offset = horizontal ? OFFSETWIDTH : OFFSETHEIGHT;\n                backwardBtn.toggle(currentScroll !== 0);\n                forwardBtn.toggle(currentScroll < scrollElement[0][scrollSize] - scrollElement[0][offset] - 1);\n            },\n            setOptions: function (options) {\n                var animation = this.options.animation;\n                this._animations(options);\n                options.animation = extend(true, animation, options.animation);\n                if ('dataSource' in options) {\n                    this._dataSource(options);\n                }\n                this._updateClasses();\n                this._reinitOverflow(options);\n                Widget.fn.setOptions.call(this, options);\n            },\n            destroy: function () {\n                var that = this;\n                Widget.fn.destroy.call(that);\n                that._detachMenuEventsHandlers();\n                that._destroyOverflow();\n                kendo.destroy(that.element);\n            },\n            enable: function (element, enable) {\n                this._toggleDisabled(element, enable !== false);\n                return this;\n            },\n            disable: function (element) {\n                this._toggleDisabled(element, false);\n                return this;\n            },\n            attemptGetItem: function (candidate) {\n                candidate = candidate || this.element;\n                var item = this.element.find(candidate);\n                var overflowWrapper = this._overflowWrapper();\n                if (item.length || candidate === this.element) {\n                    return item;\n                } else if (overflowWrapper) {\n                    return overflowWrapper.find(candidate);\n                } else {\n                    return $();\n                }\n            },\n            append: function (item, referenceItem) {\n                referenceItem = this.attemptGetItem(referenceItem);\n                var inserted = this._insert(item, referenceItem, referenceItem.length ? this._childPopupElement(referenceItem) : null);\n                each(inserted.items, function (i) {\n                    inserted.group.append(this);\n                    updateArrow(this);\n                    storeItemSelectEventHandler(this, item[i] || item);\n                });\n                updateArrow(referenceItem);\n                updateFirstLast(inserted.group.find('.k-first, .k-last').add(inserted.items));\n                updateHasAriaPopup(getParentLiItems(inserted.group));\n                return this;\n            },\n            insertBefore: function (item, referenceItem) {\n                referenceItem = this.attemptGetItem(referenceItem);\n                var inserted = this._insert(item, referenceItem, referenceItem.parent());\n                each(inserted.items, function (i) {\n                    referenceItem.before(this);\n                    updateArrow(this);\n                    updateFirstLast(this);\n                    storeItemSelectEventHandler(this, item[i] || item);\n                });\n                updateFirstLast(referenceItem);\n                return this;\n            },\n            insertAfter: function (item, referenceItem) {\n                referenceItem = this.attemptGetItem(referenceItem);\n                var inserted = this._insert(item, referenceItem, referenceItem.parent());\n                each(inserted.items, function (i) {\n                    referenceItem.after(this);\n                    updateArrow(this);\n                    updateFirstLast(this);\n                    storeItemSelectEventHandler(this, item[i] || item);\n                });\n                updateFirstLast(referenceItem);\n                return this;\n            },\n            _insert: function (item, referenceItem, parent) {\n                var that = this, items, groups;\n                if (!referenceItem || !referenceItem.length) {\n                    parent = that.element;\n                }\n                var plain = $.isPlainObject(item) || item instanceof kendo.data.ObservableObject, groupData = {\n                        firstLevel: parent.hasClass(MENU),\n                        horizontal: parent.hasClass(MENU + '-horizontal'),\n                        expanded: true,\n                        length: parent.children().length\n                    };\n                if (referenceItem && !parent.length) {\n                    parent = $(that.renderGroup({\n                        group: groupData,\n                        options: that.options\n                    })).appendTo(referenceItem);\n                }\n                if (plain || isArray(item) || item instanceof kendo.data.ObservableArray) {\n                    items = $($.map(plain ? [item] : item, function (value, idx) {\n                        if (typeof value === 'string') {\n                            return $(value).get();\n                        } else {\n                            return $(that.renderItem({\n                                group: groupData,\n                                item: extend(value, { index: idx })\n                            })).get();\n                        }\n                    }));\n                } else {\n                    if (typeof item == 'string' && item.charAt(0) != '<') {\n                        items = that.element.find(item);\n                    } else {\n                        items = $(item);\n                    }\n                    groups = items.find('> ul').addClass('k-menu-group k-menu-group-md').attr('role', 'menu');\n                    items = items.filter('li');\n                    items.add(groups.find('> li')).each(function () {\n                        updateItemClasses(this);\n                    });\n                }\n                return {\n                    items: items,\n                    group: parent\n                };\n            },\n            remove: function (element) {\n                element = this.attemptGetItem(element);\n                var that = this, parent = element.parentsUntil(that.element, allItemsSelector), group = element.parent('ul:not(.k-menu)');\n                element.remove();\n                if (group && !group.children(allItemsSelector).length) {\n                    var parentItems = getParentLiItems(group);\n                    var container = group.parent(animationContainerSelector);\n                    if (container.length) {\n                        container.remove();\n                    } else {\n                        group.remove();\n                    }\n                    updateHasAriaPopup(parentItems);\n                }\n                if (parent.length) {\n                    parent = parent.eq(0);\n                    updateArrow(parent);\n                    updateFirstLast(parent);\n                }\n                return that;\n            },\n            _openAfterLoad: function (element, dataItem) {\n                var that = this;\n                if (dataItem.loaded()) {\n                    that.open(element);\n                    that._loading = false;\n                } else {\n                    dataItem.one(CHANGE, function () {\n                        element.find(ICON_SELECTOR).removeClass('k-i-loading');\n                        if (that._loading) {\n                            that.open(element);\n                            that._loading = false;\n                        }\n                    });\n                }\n            },\n            open: function (element) {\n                var that = this;\n                var options = that.options;\n                var horizontal = options.orientation == 'horizontal';\n                var direction = options.direction;\n                var isRtl = kendo.support.isRtl(that.wrapper);\n                var overflowWrapper = that._overflowWrapper();\n                element = (overflowWrapper || that.element).find(element);\n                var dataItem = that.dataSource && that.dataSource.getByUid(element.data(kendo.ns + 'uid'));\n                if (dataItem && dataItem.hasChildren && !dataItem.loaded() && !that._loading) {\n                    that._loading = true;\n                    element.find(ICON_SELECTOR).addClass('k-i-loading');\n                    dataItem.load();\n                    that._openAfterLoad(element, dataItem);\n                    return;\n                }\n                if (/^(top|bottom|default)$/.test(direction)) {\n                    if (isRtl) {\n                        direction = horizontal ? (direction + ' left').replace('default', 'bottom') : 'left';\n                    } else {\n                        direction = horizontal ? (direction + ' right').replace('default', 'bottom') : 'right';\n                    }\n                }\n                var visiblePopups = '>.k-popup:visible,>.k-animation-container>.k-popup:visible';\n                var closePopup = function () {\n                    var popup = $(this).data(KENDOPOPUP);\n                    if (popup) {\n                        that.close($(this).closest('li.k-item'), true);\n                    }\n                };\n                element.siblings().find(visiblePopups).each(closePopup);\n                if (overflowWrapper) {\n                    element.find(visiblePopups).each(closePopup);\n                }\n                if (that.options.openOnClick) {\n                    that.clicked = true;\n                }\n                element.each(function () {\n                    var li = $(this);\n                    clearTimeout(li.data(TIMER));\n                    li.data(TIMER, setTimeout(function () {\n                        var ul = li.find('> .k-menu-group, > .k-animation-container > .k-menu-group').filter(':hidden').first();\n                        var popup;\n                        var overflowPopup;\n                        if (!ul[0] && overflowWrapper) {\n                            overflowPopup = that._getPopup(li);\n                            ul = overflowPopup && overflowPopup.element;\n                        }\n                        if (ul.is(':visible')) {\n                            return;\n                        }\n                        if (ul[0] && that._triggerEvent({\n                                item: li[0],\n                                type: OPEN\n                            }) === false) {\n                            if (!ul.find('.k-menu-group')[0] && ul.children('.k-item').length > 1) {\n                                var windowHeight = $(window).height(), setScrolling = function () {\n                                        ul.css({\n                                            maxHeight: windowHeight - (kendo._outerHeight(ul) - ul.height()) - kendo.getShadows(ul).bottom,\n                                            overflow: 'auto'\n                                        });\n                                    };\n                                setScrolling();\n                            } else {\n                                ul.css({\n                                    maxHeight: '',\n                                    overflow: ''\n                                });\n                            }\n                            li.data(ZINDEX, li.css(ZINDEX));\n                            var nextZindex = that.nextItemZIndex++;\n                            li.css(ZINDEX, nextZindex);\n                            if (that.options.scrollable) {\n                                li.parent().siblings(scrollButtonSelector).css({ zIndex: ++nextZindex });\n                            }\n                            popup = ul.data(KENDOPOPUP);\n                            var root = li.parent().hasClass(MENU), parentHorizontal = root && horizontal, directions = parseDirection(direction, root, isRtl), effects = options.animation.open.effects, openEffects = effects !== undefined ? effects : 'slideIn:' + getEffectDirection(direction, root);\n                            if (!popup) {\n                                popup = ul.kendoPopup({\n                                    activate: function () {\n                                        that._triggerEvent({\n                                            item: this.wrapper.parent(),\n                                            type: ACTIVATE\n                                        });\n                                    },\n                                    deactivate: function (e) {\n                                        that._closing = false;\n                                        e.sender.element.removeData('targetTransform').css({ opacity: '' });\n                                        that._triggerEvent({\n                                            item: this.wrapper.parent(),\n                                            type: DEACTIVATE\n                                        });\n                                    },\n                                    origin: directions.origin,\n                                    position: directions.position,\n                                    collision: options.popupCollision !== undefined ? options.popupCollision : parentHorizontal ? 'fit' : 'fit flip',\n                                    anchor: li,\n                                    appendTo: overflowWrapper || li,\n                                    animation: {\n                                        open: extend(true, { effects: openEffects }, options.animation.open),\n                                        close: options.animation.close\n                                    },\n                                    open: proxy(that._popupOpen, that),\n                                    close: function (e) {\n                                        that._closing = e.sender.element;\n                                        var li = e.sender.wrapper.parent();\n                                        if (overflowWrapper) {\n                                            var popupId = e.sender.element.data(POPUP_ID_ATTR);\n                                            if (popupId) {\n                                                li = (overflowWrapper || that.element).find(popupOpenerSelector(popupId));\n                                            }\n                                            e.sender.wrapper.children(scrollButtonSelector).hide();\n                                        }\n                                        if (!that._triggerEvent({\n                                                item: li[0],\n                                                type: CLOSE\n                                            })) {\n                                            li.css(ZINDEX, li.data(ZINDEX));\n                                            li.removeData(ZINDEX);\n                                            if (that.options.scrollable) {\n                                                li.parent().siblings(scrollButtonSelector).css({ zIndex: '' });\n                                            }\n                                            if (touch || allPointers || kendo.support.mouseAndTouchPresent) {\n                                                li.removeClass(HOVERSTATE);\n                                                that._removeHoverItem();\n                                            }\n                                        } else {\n                                            e.preventDefault();\n                                        }\n                                    }\n                                }).data(KENDOPOPUP);\n                            } else {\n                                popup = ul.data(KENDOPOPUP);\n                                popup.options.origin = directions.origin;\n                                popup.options.position = directions.position;\n                                popup.options.animation.open.effects = openEffects;\n                            }\n                            ul.removeAttr('aria-hidden');\n                            li.attr(ARIA_EXPANDED, true);\n                            that._configurePopupOverflow(popup, li);\n                            popup._hovered = true;\n                            popup.open();\n                            that._initPopupScrolling(popup);\n                        }\n                    }, that.options.hoverDelay));\n                });\n                return that;\n            },\n            _configurePopupOverflow: function (popup, popupOpener) {\n                var that = this;\n                if (that.options.scrollable) {\n                    that._wrapPopupElement(popup);\n                    if (!popupOpener.attr('data-groupparent')) {\n                        var groupId = new Date().getTime();\n                        popupOpener.attr('data-groupparent', groupId);\n                        popup.element.attr('data-group', groupId);\n                    }\n                }\n            },\n            _wrapPopupElement: function (popup) {\n                if (!popup.element.parent().is(animationContainerSelector)) {\n                    popup.wrapper = kendo.wrap(popup.element, popup.options.autosize).css({\n                        overflow: 'hidden',\n                        display: 'block',\n                        position: 'absolute'\n                    });\n                }\n            },\n            _initPopupScrolling: function (popup, isHorizontal, skipMouseEvents) {\n                var that = this;\n                if (that.options.scrollable && popup.element[0].scrollHeight > popup.element[0].offsetHeight) {\n                    that._initPopupScrollButtons(popup, isHorizontal, skipMouseEvents);\n                }\n            },\n            _initPopupScrollButtons: function (popup, isHorizontal, skipMouseEvents) {\n                var that = this;\n                var scrollButtons = popup.wrapper.children(scrollButtonSelector);\n                var animation = that.options.animation;\n                var timeout = (animation && animation.open && animation.open.duration || 0) + DELAY;\n                setTimeout(function () {\n                    if (!scrollButtons.length) {\n                        var backwardBtn = $(that.templates.scrollButton({ direction: isHorizontal ? 'left' : 'up' }));\n                        var forwardBtn = $(that.templates.scrollButton({ direction: isHorizontal ? 'right' : 'down' }));\n                        scrollButtons = backwardBtn.add(forwardBtn).appendTo(popup.wrapper);\n                        that._initScrolling(popup.element, backwardBtn, forwardBtn, isHorizontal);\n                        if (!skipMouseEvents) {\n                            scrollButtons.on(MOUSEENTER + NS, function () {\n                                var overflowWrapper = that._overflowWrapper();\n                                $(getChildPopups(popup.element, overflowWrapper)).each(function (i, p) {\n                                    var popupOpener = overflowWrapper.find(popupOpenerSelector(p.data(POPUP_ID_ATTR)));\n                                    that.close(popupOpener);\n                                });\n                            }).on(MOUSELEAVE + NS, function () {\n                                setTimeout(function () {\n                                    if ($.isEmptyObject(that._openedPopups)) {\n                                        that._closeParentPopups(popup.element);\n                                    }\n                                }, DELAY);\n                            });\n                        }\n                    }\n                    that._toggleScrollButtons(popup.element, scrollButtons.first(), scrollButtons.last(), isHorizontal);\n                }, timeout);\n            },\n            _popupOpen: function (e) {\n                if (!this._keyTriggered) {\n                    e.sender.element.children('.' + FOCUSEDSTATE).removeClass(FOCUSEDSTATE);\n                }\n                if (this.options.scrollable) {\n                    this._setPopupHeight(e.sender);\n                }\n            },\n            _setPopupHeight: function (popup, isFixed) {\n                var popupElement = popup.element;\n                var popups = popupElement.add(popupElement.parent(animationContainerSelector));\n                popups.height(popupElement.hasClass(MENU) && this._initialHeight || '');\n                var location = popup._location(isFixed);\n                var windowHeight = $(window).height();\n                var popupOuterHeight = location.height;\n                var popupOffsetTop = isFixed ? 0 : Math.max(location.top, 0);\n                var scrollTop = isFixed ? 0 : parentsScroll(this._overflowWrapper()[0], 'scrollTop');\n                var bottomScrollbar = window.innerHeight - windowHeight;\n                var maxHeight = windowHeight - kendo.getShadows(popupElement).bottom + bottomScrollbar;\n                var canFit = maxHeight + scrollTop > popupOuterHeight + popupOffsetTop;\n                if (!canFit) {\n                    var height = Math.min(maxHeight, maxHeight - popupOffsetTop + scrollTop);\n                    popups.css({\n                        overflow: 'hidden',\n                        height: height + 'px'\n                    });\n                }\n            },\n            close: function (items, dontClearClose) {\n                var that = this;\n                var overflowWrapper = that._overflowWrapper();\n                var element = overflowWrapper || that.element;\n                items = element.find(items);\n                if (!items.length) {\n                    items = element.find('>.k-item');\n                }\n                var hasChildPopupsHovered = function (currentPopup) {\n                    var result = false;\n                    if ($.isEmptyObject(that._openedPopups)) {\n                        return result;\n                    }\n                    $(getChildPopups(currentPopup, overflowWrapper)).each(function (i, popup) {\n                        result = !!that._openedPopups[popup.data(POPUP_ID_ATTR).toString()];\n                        return !result;\n                    });\n                    return result;\n                };\n                var isPopupMouseLeaved = function (opener) {\n                    var groupId = opener.data(POPUP_OPENER_ATTR);\n                    return !overflowWrapper || !groupId || !that._openedPopups[groupId.toString()];\n                };\n                items.each(function () {\n                    var li = $(this);\n                    li.attr(ARIA_EXPANDED, false);\n                    if (!dontClearClose && that._isRootItem(li)) {\n                        that.clicked = false;\n                    }\n                    clearTimeout(li.data(TIMER));\n                    li.data(TIMER, setTimeout(function () {\n                        var popup = that._getPopup(li);\n                        if (popup && (isPopupMouseLeaved(li) || that._forceClose)) {\n                            if (!that._forceClose && hasChildPopupsHovered(popup.element)) {\n                                return;\n                            }\n                            popup.close();\n                            popup.element.attr('aria-hidden', true);\n                            if (overflowWrapper) {\n                                if (that._forceClose && items.last().is(li[0])) {\n                                    delete that._forceClose;\n                                }\n                            }\n                        }\n                    }, that.options.hoverDelay));\n                });\n                return that;\n            },\n            _getPopup: function (li) {\n                var that = this;\n                var popup = li.find('.k-menu-group:not(.k-list-container):not(.k-calendar-container):visible').first().data(KENDOPOPUP);\n                var overflowWrapper = that._overflowWrapper();\n                if (!popup && overflowWrapper) {\n                    var groupId = li.data(POPUP_OPENER_ATTR);\n                    if (groupId) {\n                        var popupElement = overflowWrapper.find(popupGroupSelector(groupId));\n                        popup = popupElement.data(KENDOPOPUP);\n                    }\n                }\n                return popup;\n            },\n            _toggleDisabled: function (items, enable) {\n                this.element.find(items).each(function () {\n                    $(this).toggleClass(DISABLEDSTATE, !enable).attr('aria-disabled', !enable);\n                });\n            },\n            _toggleHover: function (e) {\n                var target = $(kendo.eventTarget(e) || e.target).closest(allItemsSelector), isEnter = e.type == MOUSEENTER || MOUSEDOWN.indexOf(e.type) !== -1;\n                target.siblings().removeClass(HOVERSTATE);\n                if (!target.parents('li.' + DISABLEDSTATE).length) {\n                    target.toggleClass(HOVERSTATE, isEnter || e.type == 'mousedown' || e.type == 'pointerover' || e.type == TOUCHSTART);\n                }\n                this._removeHoverItem();\n            },\n            _preventClose: function () {\n                if (!this.options.closeOnClick) {\n                    this._closurePrevented = true;\n                }\n            },\n            _checkActiveElement: function (e) {\n                var that = this, hoverItem = $(e ? e.currentTarget : this._hoverItem()), target = that._findRootParent(hoverItem)[0];\n                if (!this._closurePrevented) {\n                    setTimeout(function () {\n                        if (!document.hasFocus() || !contains(target, kendo._activeElement()) && e && !contains(target, e.currentTarget)) {\n                            that.close(target);\n                        }\n                    }, 0);\n                }\n                this._closurePrevented = false;\n            },\n            _removeHoverItem: function () {\n                var oldHoverItem = this._hoverItem();\n                if (oldHoverItem && oldHoverItem.hasClass(FOCUSEDSTATE)) {\n                    oldHoverItem.removeClass(FOCUSEDSTATE);\n                    this._oldHoverItem = null;\n                }\n            },\n            _updateClasses: function () {\n                var element = this.element, nonContentGroupsSelector = '.k-menu-init div ul', items;\n                element.removeClass('k-menu-horizontal k-menu-vertical');\n                element.addClass('k-widget k-reset k-menu-init ' + MENU).addClass(MENU + '-' + this.options.orientation);\n                if (this.options.orientation === 'vertical') {\n                    element.attr('aria-orientation', 'vertical');\n                } else {\n                    element.attr('aria-orientation', 'horizontal');\n                }\n                element.find('li > ul').filter(function () {\n                    return !kendo.support.matchesSelector.call(this, nonContentGroupsSelector);\n                }).addClass('k-group k-menu-group k-menu-group-md').attr('role', 'menu').hide().attr('aria-hidden', element.is(':visible')).parent('li').attr('aria-haspopup', 'true').end().find('li > div').addClass('k-content').attr('tabindex', '-1');\n                element.find('li[aria-haspopup]').attr(ARIA_EXPANDED, false);\n                items = element.find('> li,.k-menu-group > li');\n                element.removeClass('k-menu-init');\n                items.each(function () {\n                    updateItemClasses(this);\n                });\n            },\n            _mouseenter: function (e) {\n                var that = this;\n                var element = $(e.currentTarget);\n                var hasChildren = that._itemHasChildren(element);\n                var popupId = element.data(POPUP_OPENER_ATTR) || element.parent().data(POPUP_ID_ATTR);\n                var pointerTouch = isPointerTouch(e);\n                var isParentClosing = false;\n                if (popupId) {\n                    that._openedPopups[popupId.toString()] = true;\n                }\n                if (that._closing) {\n                    isParentClosing = !!that._closing.find(element).length;\n                }\n                if (isParentClosing || e.delegateTarget != element.parents(menuSelector)[0] && e.delegateTarget != element.parents('.k-menu-scroll-wrapper,.k-popups-wrapper')[0]) {\n                    return;\n                }\n                that._keyTriggered = false;\n                if (that.options.openOnClick.rootMenuItems && that._isRootItem(element.closest(allItemsSelector)) || that.options.openOnClick.subMenuItems && !that._isRootItem(element.closest(allItemsSelector))) {\n                    return;\n                }\n                if ((that.options.openOnClick === false || that.options.openOnClick.rootMenuItems === false && that._isRootItem(element.closest(allItemsSelector)) || that.options.openOnClick.subMenuItems === false && !that._isRootItem(element.closest(allItemsSelector)) || that.clicked) && !touch && !(pointerTouch && that._isRootItem(element.closest(allItemsSelector)))) {\n                    if (!contains(e.currentTarget, e.relatedTarget) && hasChildren) {\n                        that.open(element);\n                    }\n                }\n                if (that.options.openOnClick === true && that.clicked || touch) {\n                    element.siblings().each(proxy(function (_, sibling) {\n                        that.close(sibling, true);\n                    }, that));\n                }\n            },\n            _mousedown: function (e) {\n                var that = this;\n                var element = $(e.currentTarget);\n                if (that.options.openOnClick.subMenuItems && !that._isRootItem(element) || touch) {\n                    element.siblings().each(proxy(function (_, sibling) {\n                        that.close(sibling, true);\n                    }, that));\n                }\n            },\n            _mouseleave: function (e) {\n                var that = this;\n                var element = $(e.currentTarget);\n                var popupOpener = element.data(POPUP_OPENER_ATTR);\n                var hasChildren = element.children(animationContainerSelector).length || element.children(groupSelector).length || popupOpener;\n                var $window = $(window);\n                if (popupOpener) {\n                    delete that._openedPopups[popupOpener.toString()];\n                }\n                if (element.parentsUntil(animationContainerSelector, '.k-list-container,.k-calendar-container')[0]) {\n                    e.stopImmediatePropagation();\n                    return;\n                }\n                if ((that.options.openOnClick === false || !that.options.openOnClick.rootMenuItems && that._isRootItem(element) || !that.options.openOnClick.subMenuItems && !that._isRootItem(element)) && !touch && !isPointerTouch(e) && !contains(e.currentTarget, e.relatedTarget || e.target) && hasChildren && !contains(e.currentTarget, kendo._activeElement())) {\n                    that.close(element, true);\n                    that._loading = false;\n                    return;\n                }\n                if (kendo.support.browser.msie && !e.toElement && !e.relatedTarget && !isPointerTouch(e) || e.clientX < 0 || e.clientY < 0 || e.clientY > $window.height() || e.clientX > $window.width()) {\n                    that.close(element);\n                }\n            },\n            _mouseenterPopup: function (e) {\n                var that = this;\n                var popupElement = $(e.currentTarget);\n                if (popupElement.parent().is(animationContainerSelector)) {\n                    return;\n                }\n                popupElement = popupElement.children('ul');\n                var popupId = popupElement.data(POPUP_ID_ATTR);\n                if (popupId) {\n                    that._openedPopups[popupId.toString()] = true;\n                }\n            },\n            _mouseleavePopup: function (e) {\n                var that = this;\n                var popupElement = $(e.currentTarget);\n                if (!isPointerTouch(e) && popupElement.is(animationContainerSelector)) {\n                    that._closePopups(popupElement.children('ul'));\n                }\n            },\n            _closePopups: function (rootPopup) {\n                var that = this;\n                var overflowWrapper = that._overflowWrapper();\n                var popupId = rootPopup.data(POPUP_ID_ATTR);\n                if (popupId) {\n                    delete that._openedPopups[popupId.toString()];\n                    var groupParent = overflowWrapper.find(popupOpenerSelector(popupId));\n                    setTimeout(function () {\n                        if (that.options.openOnClick) {\n                            that._closeChildPopups(rootPopup);\n                        } else {\n                            if ($.isEmptyObject(that._openedPopups)) {\n                                var innerPopup = that._innerPopup(rootPopup);\n                                that._closeParentPopups(innerPopup);\n                            } else {\n                                that.close(groupParent, true);\n                            }\n                        }\n                    }, 0);\n                }\n            },\n            _closeChildPopups: function (current) {\n                var that = this;\n                var overflowWrapper = that._overflowWrapper();\n                $(getChildPopups(current, overflowWrapper)).each(function () {\n                    var popupOpener = overflowWrapper.find(popupOpenerSelector(this.data(POPUP_ID_ATTR)));\n                    that.close(popupOpener, true);\n                });\n            },\n            _innerPopup: function (current) {\n                var overflowWrapper = this._overflowWrapper();\n                var popups = getChildPopups(current, overflowWrapper);\n                return popups[popups.length - 1] || current;\n            },\n            _closeParentPopups: function (current) {\n                var that = this;\n                var overflowWrapper = that._overflowWrapper();\n                var popupId = current.data(POPUP_ID_ATTR);\n                var popupOpener = overflowWrapper.find(popupOpenerSelector(popupId));\n                popupId = popupOpener.parent().data(POPUP_ID_ATTR);\n                that.close(popupOpener, true);\n                while (popupId && !that._openedPopups[popupId]) {\n                    if (popupOpener.parent().is(menuSelector)) {\n                        break;\n                    }\n                    popupOpener = overflowWrapper.find(popupOpenerSelector(popupId));\n                    that.close(popupOpener, true);\n                    popupId = popupOpener.parent().data(POPUP_ID_ATTR);\n                }\n            },\n            _click: function (e) {\n                var that = this, openHandle, options = that.options, target = $(kendo.eventTarget(e)), targetElement = target[0], nodeName = target[0] ? target[0].nodeName.toUpperCase() : '', formNode = nodeName == 'INPUT' || nodeName == 'SELECT' || nodeName == 'BUTTON' || nodeName == 'LABEL', link = target.closest(LINK_SELECTOR), element = target.closest(allItemsSelector), itemElement = element[0], href = link.attr('href'), childGroup, childGroupVisible, targetHref = target.attr('href'), sampleHref = $('<a href=\\'#\\' />').attr('href'), isLink = !!href && href !== sampleHref, isLocalLink = isLink && !!href.match(/^#/), isTargetLink = !!targetHref && targetHref !== sampleHref, overflowWrapper = that._overflowWrapper(), shouldCloseTheRootItem;\n                if (targetElement && (!targetElement.parentNode || !itemElement)) {\n                    return;\n                }\n                if ($(target).hasClass('k-menu-expand-arrow-icon')) {\n                    this._lastClickedElement = itemElement;\n                }\n                while (targetElement && targetElement.parentNode != itemElement) {\n                    targetElement = targetElement.parentNode;\n                }\n                if ($(targetElement).is(templateSelector)) {\n                    return;\n                }\n                if (element.hasClass(DISABLEDSTATE)) {\n                    e.preventDefault();\n                    return;\n                }\n                if (!e.handled && that._triggerSelect(target, itemElement) && !formNode) {\n                    e.preventDefault();\n                }\n                e.handled = true;\n                childGroup = element.children(popupSelector);\n                if (overflowWrapper) {\n                    var childPopupId = element.data(POPUP_OPENER_ATTR);\n                    if (childPopupId) {\n                        childGroup = overflowWrapper.find(popupGroupSelector(childPopupId));\n                    }\n                }\n                childGroupVisible = childGroup.is(':visible');\n                shouldCloseTheRootItem = options.openOnClick && childGroupVisible && that._isRootItem(element);\n                if (options.closeOnClick && (!isLink || isLocalLink) && (!childGroup.length || shouldCloseTheRootItem)) {\n                    element.removeClass(HOVERSTATE).css('height');\n                    that._oldHoverItem = that._findRootParent(element);\n                    var item = that._parentsUntil(link, that.element, allItemsSelector);\n                    that._forceClose = !!overflowWrapper;\n                    that.close(item);\n                    that.clicked = false;\n                    if ('MSPointerUp'.indexOf(e.type) != -1) {\n                        e.preventDefault();\n                    }\n                    return;\n                }\n                if (isLink && e.enterKey) {\n                    link[0].click();\n                }\n                if ((!that._isRootItem(element) || options.openOnClick === false) && !options.openOnClick.subMenuItems && !kendo.support.touch && !(isPointerTouch(e) && that._isRootItem(element.closest(allItemsSelector)))) {\n                    return;\n                }\n                if (!isLink && !formNode && !isTargetLink) {\n                    e.preventDefault();\n                }\n                that.clicked = true;\n                openHandle = childGroup.is(':visible') ? CLOSE : OPEN;\n                if (!options.closeOnClick && openHandle == CLOSE) {\n                    return;\n                }\n                that[openHandle](element);\n            },\n            _parentsUntil: function (context, top, selector) {\n                var overflowWrapper = this._overflowWrapper();\n                if (!overflowWrapper) {\n                    return context.parentsUntil(top, selector);\n                } else {\n                    var parents = overflowMenuParents(context, overflowWrapper);\n                    var result = [];\n                    $(parents).each(function () {\n                        var parent = $(this);\n                        if (parent.is(top)) {\n                            return false;\n                        }\n                        if (parent.is(selector)) {\n                            result.push(this);\n                        }\n                    });\n                    return $(result);\n                }\n            },\n            _triggerSelect: function (target, itemElement) {\n                target = target.is('.k-link') ? target : target.closest('.k-link');\n                var selectHandler = target.data('selectHandler'), itemSelectEventData;\n                if (selectHandler) {\n                    itemSelectEventData = this._getEventData(target);\n                    selectHandler.call(this, itemSelectEventData);\n                }\n                var isSelectItemDefaultPrevented = itemSelectEventData && itemSelectEventData.isDefaultPrevented();\n                var isSelectDefaultPrevented = this._triggerEvent({\n                    item: itemElement,\n                    type: SELECT\n                });\n                return isSelectItemDefaultPrevented || isSelectDefaultPrevented;\n            },\n            _getEventData: function (target) {\n                var eventData = {\n                    sender: this,\n                    target: target,\n                    _defaultPrevented: false,\n                    preventDefault: function () {\n                        this._defaultPrevented = true;\n                    },\n                    isDefaultPrevented: function () {\n                        return this._defaultPrevented;\n                    }\n                };\n                return eventData;\n            },\n            _documentClick: function (e) {\n                var that = this;\n                var target = $(e.target).hasClass('k-menu-expand-arrow-icon') ? that._lastClickedElement : e.target;\n                if (contains((that._overflowWrapper() || that.element)[0], target)) {\n                    that._lastClickedElement = undefined;\n                    return;\n                }\n                that.clicked = false;\n            },\n            _focus: function (e) {\n                var that = this, target = e.target, hoverItem = that._hoverItem(), active = activeElement();\n                if (target != that.wrapper[0] && !$(target).is(':kendoFocusable')) {\n                    e.stopPropagation();\n                    $(target).closest('.k-content').closest('.k-menu-group').closest('.k-item').addClass(FOCUSEDSTATE);\n                    that.wrapper.trigger('focus');\n                    return;\n                }\n                if (active === e.currentTarget) {\n                    if (hoverItem.length) {\n                        that._moveHover([], hoverItem);\n                    } else if (!that._oldHoverItem) {\n                        that._moveHover([], that.wrapper.children().first());\n                    }\n                }\n            },\n            _keydown: function (e) {\n                var that = this, key = e.keyCode, hoverItem = that._oldHoverItem, target, belongsToVertical, hasChildren, isRtl = kendo.support.isRtl(that.wrapper);\n                if (e.target != e.currentTarget && key != keys.ESC) {\n                    return;\n                }\n                if (!hoverItem) {\n                    hoverItem = that._oldHoverItem = that._hoverItem();\n                }\n                belongsToVertical = that._itemBelongsToVertival(hoverItem);\n                hasChildren = that._itemHasChildren(hoverItem);\n                that._keyTriggered = true;\n                if (key == keys.RIGHT) {\n                    target = that[isRtl ? '_itemLeft' : '_itemRight'](hoverItem, belongsToVertical, hasChildren);\n                } else if (key == keys.LEFT) {\n                    target = that[isRtl ? '_itemRight' : '_itemLeft'](hoverItem, belongsToVertical, hasChildren);\n                } else if (key == keys.DOWN) {\n                    target = that._itemDown(hoverItem, belongsToVertical, hasChildren);\n                } else if (key == keys.UP) {\n                    target = that._itemUp(hoverItem, belongsToVertical, hasChildren);\n                } else if (key == keys.HOME) {\n                    that._moveHover(hoverItem, hoverItem.parent().children().first());\n                    e.preventDefault();\n                } else if (key == keys.END) {\n                    that._moveHover(hoverItem, hoverItem.parent().children().last());\n                    e.preventDefault();\n                } else if (key == keys.ESC) {\n                    target = that._itemEsc(hoverItem, belongsToVertical);\n                } else if (key == keys.ENTER || key == keys.SPACEBAR) {\n                    target = hoverItem.children('.k-link');\n                    if (target.length > 0) {\n                        that._click({\n                            target: target[0],\n                            preventDefault: function () {\n                            },\n                            enterKey: true\n                        });\n                        if (hasChildren && !hoverItem.hasClass(DISABLEDSTATE)) {\n                            that.open(hoverItem);\n                            that._moveHover(hoverItem, that._childPopupElement(hoverItem).children().first());\n                        } else {\n                            that._moveHoverToRoot(hoverItem, that._findRootParent(hoverItem));\n                        }\n                    }\n                } else if (key == keys.TAB) {\n                    target = that._findRootParent(hoverItem);\n                    that._moveHover(hoverItem, target);\n                    that._checkActiveElement();\n                    return;\n                }\n                if (target && target[0]) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n            },\n            _hoverItem: function () {\n                return this.wrapper.find('.k-item.k-hover,.k-item.k-focus').filter(':visible');\n            },\n            _itemBelongsToVertival: function (item) {\n                var menuIsVertical = this.wrapper.hasClass('k-menu-vertical');\n                if (!item.length) {\n                    return menuIsVertical;\n                }\n                return item.parent().hasClass('k-menu-group') || menuIsVertical;\n            },\n            _itemHasChildren: function (item) {\n                if (!item || !item.length || !item[0].nodeType) {\n                    return false;\n                }\n                return item.children('.k-menu-group, div.k-animation-container').length > 0 || !!item.data(POPUP_OPENER_ATTR) && !!this._overflowWrapper().children(popupGroupSelector(item.data(POPUP_OPENER_ATTR)));\n            },\n            _moveHover: function (item, nextItem) {\n                var that = this, id = that._ariaId;\n                if (item.length && nextItem.length) {\n                    item.removeClass(FOCUSEDSTATE);\n                }\n                if (nextItem.length) {\n                    if (nextItem[0].id) {\n                        id = nextItem[0].id;\n                    }\n                    nextItem.addClass(FOCUSEDSTATE);\n                    that._oldHoverItem = nextItem;\n                    if (id) {\n                        that.element.removeAttr('aria-activedescendant');\n                        $('#' + id).removeAttr('id');\n                        nextItem.attr('id', id);\n                        that.element.attr('aria-activedescendant', id);\n                    }\n                    that._scrollToItem(nextItem);\n                }\n            },\n            _moveHoverToRoot: function (item, nextItem) {\n                this._moveHover(item, nextItem);\n            },\n            _findRootParent: function (item) {\n                if (this._isRootItem(item)) {\n                    return item;\n                } else {\n                    return this._parentsUntil(item, menuSelector, 'li.k-item').last();\n                }\n            },\n            _isRootItem: function (item) {\n                return item.parent().hasClass(MENU);\n            },\n            _itemRight: function (item, belongsToVertical, hasChildren) {\n                var that = this, nextItem, parentItem, overflowWrapper;\n                if (!belongsToVertical) {\n                    nextItem = item.nextAll(itemSelector + exclusionSelector).eq(0);\n                    if (!nextItem.length) {\n                        nextItem = item.prevAll(itemSelector + exclusionSelector).last();\n                    }\n                    that.close(item);\n                } else if (hasChildren && !item.hasClass(DISABLEDSTATE)) {\n                    that.open(item);\n                    nextItem = that._childPopupElement(item).children().first();\n                } else if (that.options.orientation == 'horizontal') {\n                    parentItem = that._findRootParent(item);\n                    overflowWrapper = that._overflowWrapper();\n                    if (overflowWrapper) {\n                        var rootPopup = itemPopup(parentItem, overflowWrapper);\n                        that._closeChildPopups(rootPopup);\n                    }\n                    that.close(parentItem);\n                    nextItem = parentItem.nextAll(itemSelector + exclusionSelector).eq(0);\n                }\n                if (nextItem && !nextItem.length) {\n                    nextItem = that.wrapper.children('.k-item').first();\n                } else if (!nextItem) {\n                    nextItem = [];\n                }\n                that._moveHover(item, nextItem);\n                return nextItem;\n            },\n            _itemLeft: function (item, belongsToVertical) {\n                var that = this, nextItem, overflowWrapper;\n                if (!belongsToVertical) {\n                    nextItem = item.prevAll(itemSelector + exclusionSelector).eq(0);\n                    if (!nextItem.length) {\n                        nextItem = item.nextAll(itemSelector + exclusionSelector).last();\n                    }\n                    that.close(item);\n                } else {\n                    nextItem = item.parent().closest('.k-item');\n                    overflowWrapper = that._overflowWrapper();\n                    if (!nextItem.length && overflowWrapper) {\n                        nextItem = popupParentItem(item.parent(), overflowWrapper);\n                    }\n                    that.close(nextItem);\n                    if (that._isRootItem(nextItem) && that.options.orientation == 'horizontal') {\n                        nextItem = nextItem.prevAll(itemSelector + exclusionSelector).eq(0);\n                    }\n                }\n                if (!nextItem.length) {\n                    nextItem = that.wrapper.children('.k-item').last();\n                }\n                that._moveHover(item, nextItem);\n                return nextItem;\n            },\n            _itemDown: function (item, belongsToVertical, hasChildren) {\n                var that = this, nextItem;\n                if (!belongsToVertical) {\n                    if (!hasChildren || item.hasClass(DISABLEDSTATE)) {\n                        return;\n                    } else {\n                        that.open(item);\n                        nextItem = that._childPopupElement(item).children().first();\n                    }\n                } else {\n                    nextItem = item.nextAll(itemSelector + exclusionSelector).eq(0);\n                }\n                if (!nextItem.length && item.length) {\n                    nextItem = item.parent().children().first();\n                } else if (!item.length) {\n                    nextItem = that.wrapper.children('.k-item').first();\n                }\n                that._moveHover(item, nextItem);\n                return nextItem;\n            },\n            _itemUp: function (item, belongsToVertical) {\n                var that = this, nextItem;\n                if (!belongsToVertical) {\n                    return;\n                } else {\n                    nextItem = item.prevAll(itemSelector + exclusionSelector).eq(0);\n                }\n                if (!nextItem.length && item.length) {\n                    nextItem = item.parent().children().last();\n                } else if (!item.length) {\n                    nextItem = that.wrapper.children('.k-item').last();\n                }\n                that._moveHover(item, nextItem);\n                return nextItem;\n            },\n            _scrollToItem: function (item) {\n                var that = this;\n                if (that.options.scrollable && item && item.length) {\n                    var ul = item.parent();\n                    var isHorizontal = ul.hasClass(MENU) ? that.options.orientation == 'horizontal' : false;\n                    var scrollDir = isHorizontal ? 'scrollLeft' : 'scrollTop';\n                    var getSize = isHorizontal ? kendo._outerWidth : kendo._outerHeight;\n                    var currentScrollOffset = ul[scrollDir]();\n                    var itemSize = getSize(item);\n                    var itemOffset = item[0][isHorizontal ? 'offsetLeft' : 'offsetTop'];\n                    var ulSize = getSize(ul);\n                    var scrollButtons = ul.siblings(scrollButtonSelector);\n                    var scrollButtonSize = scrollButtons.length ? getSize(scrollButtons.first()) : 0;\n                    var itemPosition;\n                    if (currentScrollOffset + ulSize < itemOffset + itemSize + scrollButtonSize) {\n                        itemPosition = itemOffset + itemSize - ulSize + scrollButtonSize;\n                    } else if (currentScrollOffset > itemOffset - scrollButtonSize) {\n                        itemPosition = itemOffset - scrollButtonSize;\n                    }\n                    if (!isNaN(itemPosition)) {\n                        var scrolling = {};\n                        scrolling[scrollDir] = itemPosition;\n                        ul.finish().animate(scrolling, 'fast', 'linear', function () {\n                            that._toggleScrollButtons(ul, scrollButtons.first(), scrollButtons.last(), isHorizontal);\n                        });\n                    }\n                }\n            },\n            _itemEsc: function (item, belongsToVertical) {\n                var that = this, nextItem;\n                if (!belongsToVertical) {\n                    return item;\n                } else {\n                    nextItem = item.parent().closest('.k-item');\n                    that.close(nextItem);\n                    that._moveHover(item, nextItem);\n                }\n                return nextItem;\n            },\n            _childPopupElement: function (item) {\n                var popupElement = item.find('.k-menu-group');\n                var wrapper = this._overflowWrapper();\n                if (!popupElement.length && wrapper) {\n                    popupElement = itemPopup(item, wrapper);\n                }\n                return popupElement;\n            },\n            _triggerEvent: function (e) {\n                var that = this;\n                return that.trigger(e.type, {\n                    type: e.type,\n                    item: e.item\n                });\n            },\n            _focusHandler: function (e) {\n                var that = this, item = $(kendo.eventTarget(e)).closest(allItemsSelector);\n                if (item.hasClass(DISABLEDSTATE)) {\n                    return;\n                }\n                setTimeout(function () {\n                    that._moveHover([], item);\n                    if (item.children('.k-content')[0]) {\n                        item.parent().closest('.k-item').removeClass(FOCUSEDSTATE);\n                    }\n                }, 200);\n            },\n            _animations: function (options) {\n                if (options && 'animation' in options && !options.animation) {\n                    options.animation = {\n                        open: { effects: {} },\n                        close: {\n                            hide: true,\n                            effects: {}\n                        }\n                    };\n                }\n            },\n            _dataSource: function (options) {\n                var that = this, dataSource = options ? options.dataSource : that.options.dataSource;\n                if (!dataSource) {\n                    return;\n                }\n                dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n                that._unbindDataSource();\n                if (!dataSource.fields) {\n                    dataSource.fields = [\n                        { field: 'uid' },\n                        { field: 'text' },\n                        { field: 'url' },\n                        { field: 'cssClass' },\n                        { field: 'spriteCssClass' },\n                        { field: 'imageUrl' },\n                        { field: 'imageAttr' },\n                        { field: 'attr' },\n                        { field: 'contentAttr' },\n                        { field: 'content' },\n                        { field: 'encoded' },\n                        { field: 'items' },\n                        { field: 'select' }\n                    ];\n                }\n                that.dataSource = HierarchicalDataSource.create(dataSource);\n                that._bindDataSource();\n                that.dataSource.fetch();\n            },\n            _bindDataSource: function () {\n                this._refreshHandler = proxy(this.refresh, this);\n                this._errorHandler = proxy(this._error, this);\n                this.dataSource.bind(CHANGE, this._refreshHandler);\n                this.dataSource.bind(ERROR, this._errorHandler);\n            },\n            _unbindDataSource: function () {\n                var dataSource = this.dataSource;\n                if (dataSource) {\n                    dataSource.unbind(CHANGE, this._refreshHandler);\n                    dataSource.unbind(ERROR, this._errorHandler);\n                }\n            },\n            _error: function () {\n            },\n            findByUid: function (uid) {\n                var wrapperElement = this._overflowWrapper() || this.element;\n                return wrapperElement.find('[' + kendo.attr('uid') + '=' + uid + ']');\n            },\n            refresh: function (ev) {\n                var that = this;\n                var node = ev.node;\n                var action = ev.action;\n                var parentElement = node ? that.findByUid(node.uid) : that.element;\n                var itemsToUpdate = ev.items;\n                var index = ev.index;\n                var updateProxy = $.proxy(that._updateItem, that);\n                var removeProxy = $.proxy(that._removeItem, that);\n                if (action == 'add') {\n                    that._appendItems(itemsToUpdate, index, parentElement);\n                } else if (action == 'remove') {\n                    itemsToUpdate.forEach(removeProxy);\n                } else if (action == 'itemchange') {\n                    itemsToUpdate.forEach(updateProxy);\n                } else if (action === 'itemloaded') {\n                    that.append(ev.items, parentElement);\n                } else {\n                    this._initData();\n                }\n                this.trigger(DATABOUND, {\n                    item: parentElement,\n                    dataItem: node\n                });\n            },\n            _appendItems: function (items, index, parent) {\n                var that = this;\n                var referenceItem = parent.find(itemSelector).eq(index);\n                if (referenceItem.length) {\n                    that.insertBefore(items, referenceItem);\n                } else {\n                    that.append(items, parent);\n                }\n            },\n            _removeItem: function (item) {\n                var that = this;\n                var element = that.findByUid(item.uid);\n                that.remove(element);\n            },\n            _updateItem: function (item) {\n                var that = this;\n                var element = that.findByUid(item.uid);\n                var nextElement = element.next();\n                var parentNode = item.parentNode();\n                that.remove(element);\n                if (nextElement.length) {\n                    that.insertBefore(item, nextElement);\n                } else {\n                    that.append(item, parentNode && that.findByUid(parentNode.uid));\n                }\n            },\n            _accessors: function () {\n                var that = this, options = that.options, i, field, textField, element = that.element;\n                for (i in bindings) {\n                    field = options[bindings[i]];\n                    textField = element.attr(kendo.attr(i + '-field'));\n                    if (!field && textField) {\n                        field = textField;\n                    }\n                    if (!field) {\n                        field = i;\n                    }\n                    if (!isArray(field)) {\n                        field = [field];\n                    }\n                    options[bindings[i]] = field;\n                }\n            },\n            _fieldAccessor: function (fieldName) {\n                var fieldBindings = this.options[bindings[fieldName]] || [], count = fieldBindings.length, result = '(function(item) {';\n                if (count === 0) {\n                    result += 'return item[\\'' + fieldName + '\\'];';\n                } else {\n                    result += 'var levels = [' + $.map(fieldBindings, function (x) {\n                        return 'function(d){ return ' + kendo.expr(x) + '}';\n                    }).join(',') + '];';\n                    result += 'if(item.level){return levels[Math.min(item.level(), ' + count + '-1)](item);}else';\n                    result += '{return levels[' + count + '-1](item)}';\n                }\n                result += '})';\n                return result;\n            },\n            _templates: function () {\n                var that = this, options = that.options, fieldAccessor = proxy(that._fieldAccessor, that);\n                if (options.template && typeof options.template == STRING) {\n                    options.template = template(options.template);\n                } else if (!options.template) {\n                    options.template = template('<span class=\\'k-menu-link-text\\'>' + '# var text = ' + fieldAccessor('text') + '(data.item); #' + '# if (typeof data.item.encoded != \\'undefined\\' && data.item.encoded === false) {#' + '#= text #' + '# } else { #' + '#: text #' + '# } #</span>');\n                }\n                that.templates = {\n                    content: template('#var contentHtml = ' + fieldAccessor('content') + '(item);#' + '<div #= contentCssAttributes(item.toJSON ? item.toJSON() : item) # tabindex=\\'-1\\'>#= contentHtml || \\'\\' #</div>'),\n                    group: template('<ul class=\\'#= groupCssClass(group) #\\'#= groupAttributes(group) # role=\\'menu\\' aria-hidden=\\'true\\'>' + '#= renderItems(data) #' + '</ul>'),\n                    itemWrapper: template('# var url = ' + fieldAccessor('url') + '(item); #' + '# var imageUrl = ' + fieldAccessor('imageUrl') + '(item); #' + '# var imgAttributes = ' + fieldAccessor('imageAttr') + '(item);#' + '# var tag = url ? \\'a\\' : \\'span\\' #' + '<#= tag # class=\\'#= textClass(item) #\\' #if(url){#href=\\'#= url #\\'#}#>' + '# if (imageUrl) { #' + '<img #= imageCssAttributes(imgAttributes) #  alt=\\'\\' src=\\'#= imageUrl #\\' />' + '# } #' + '#= sprite(item) #' + '#= data.menu.options.template(data) #' + '#= arrow(data) #' + '</#= tag #>'),\n                    item: template('#var contentHtml = ' + fieldAccessor('content') + '(item);#' + '<li class=\\'#= wrapperCssClass(group, item) #\\' #= itemCssAttributes(item.toJSON ? item.toJSON() : item) # role=\\'menuitem\\'  #=item.items ? \"aria-haspopup=\\'true\\'\": \"\"#' + '#=item.enabled === false ? \"aria-disabled=\\'true\\'\" : \\'\\'#' + kendo.attr('uid') + '=\\'#= item.uid #\\' ' + '# if(item.items && item.items.length > 0) { # ' + '# if(item.expanded) { # ' + ' aria-expanded=\\'true\\'' + '# } else { #' + ' aria-expanded=\\'false\\'' + '# } #' + '# } #' + '>' + '#= itemWrapper(data) #' + '#if (item.hasChildren || item.items) { #' + '#= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) #' + '# } else if (item.content || item.contentUrl || contentHtml) { #' + '#= renderContent(data) #' + '# } #' + '</li>'),\n                    scrollButton: template('<span class=\\'k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-menu-scroll-button k-scroll-#= direction #\\' unselectable=\\'on\\'>' + '<span class=\\'k-button-icon k-icon k-i-arrow-60-#= direction #\\'></span>' + '</span>'),\n                    arrow: template('<span class=\\'k-menu-expand-arrow\\'><span class=\\'#= arrowClass(item, group) #\\'></span></span>'),\n                    sprite: template('# var spriteCssClass = ' + fieldAccessor('spriteCssClass') + '(data); if(spriteCssClass) {#<span class=\\'k-sprite #= spriteCssClass #\\'></span>#}#'),\n                    empty: template('')\n                };\n            },\n            renderItem: function (options) {\n                var that = this;\n                options = extend({\n                    menu: that,\n                    group: {}\n                }, options);\n                var empty = that.templates.empty, item = options.item;\n                return that.templates.item(extend(options, {\n                    sprite: that.templates.sprite,\n                    itemWrapper: that.templates.itemWrapper,\n                    renderContent: that.renderContent,\n                    arrow: item.items || item.content || item[that.options.dataContentField[0]] ? that.templates.arrow : empty,\n                    subGroup: that.renderGroup\n                }, rendering));\n            },\n            renderGroup: function (options) {\n                var that = this;\n                var templates = that.templates || options.menu.templates;\n                return templates.group(extend({\n                    renderItems: function (options) {\n                        var html = '', i = 0, items = options.items, len = items ? items.length : 0, group = extend({ length: len }, options.group);\n                        for (; i < len; i++) {\n                            html += options.menu.renderItem(extend(options, {\n                                group: group,\n                                item: extend({ index: i }, items[i])\n                            }));\n                        }\n                        return html;\n                    }\n                }, options, rendering));\n            },\n            renderContent: function (options) {\n                return options.menu.templates.content(extend(options, rendering));\n            }\n        });\n        var ContextMenu = Menu.extend({\n            init: function (element, options) {\n                var that = this;\n                Menu.fn.init.call(that, element, options);\n                that.element.attr('role', 'menu');\n                that._marker = kendo.guid().substring(0, 8);\n                that.target = $(that.options.target);\n                that._popup();\n                that._wire();\n            },\n            _initOverflow: function (options) {\n                var that = this;\n                if (options.scrollable && !that._overflowWrapper()) {\n                    that._openedPopups = {};\n                    that._popupsWrapper = (that.element.parent().is(animationContainerSelector) ? that.element.parent() : that.element).wrap('<div class=\\'k-popups-wrapper ' + options.orientation + '\\'></div>').parent();\n                    if (that.options.orientation == 'horizontal') {\n                        removeSpacesBetweenItems(that.element);\n                    }\n                    if (options.appendTo) {\n                        options.appendTo = $(options.appendTo);\n                        options.appendTo.append(that._popupsWrapper);\n                    }\n                    that._initialHeight = that.element[0].style.height;\n                    that._initialWidth = that.element[0].style.width;\n                }\n            },\n            options: {\n                name: 'ContextMenu',\n                filter: null,\n                showOn: 'contextmenu',\n                orientation: 'vertical',\n                alignToAnchor: false,\n                copyAnchorStyles: true,\n                target: 'body'\n            },\n            events: [\n                OPEN,\n                CLOSE,\n                ACTIVATE,\n                DEACTIVATE,\n                SELECT\n            ],\n            setOptions: function (options) {\n                var that = this;\n                Menu.fn.setOptions.call(that, options);\n                that.target.off(that.showOn + NS + that._marker, that._showProxy);\n                if (that.userEvents) {\n                    that.userEvents.destroy();\n                }\n                that.target = $(that.options.target);\n                if (options.orientation && that.popup.wrapper[0]) {\n                    that.popup.element.unwrap();\n                }\n                that._wire();\n                Menu.fn.setOptions.call(this, options);\n            },\n            destroy: function () {\n                var that = this;\n                that.target.off(that.options.showOn + NS + that._marker);\n                DOCUMENT_ELEMENT.off(kendo.support.mousedown + NS + that._marker, that._closeProxy);\n                if (that.userEvents) {\n                    that.userEvents.destroy();\n                }\n                Menu.fn.destroy.call(that);\n            },\n            open: function (x, y) {\n                var that = this;\n                x = $(x)[0];\n                if (contains(that.element[0], $(x)[0]) || that._itemHasChildren($(x))) {\n                    Menu.fn.open.call(that, x);\n                } else {\n                    if (that._triggerEvent({\n                            item: that.element,\n                            type: OPEN\n                        }) === false) {\n                        if (that.popup.visible() && that.options.filter) {\n                            that.popup.close(true);\n                            that.popup.element.kendoStop(true);\n                        }\n                        if (y !== undefined) {\n                            var overflowWrapper = that._overflowWrapper();\n                            if (overflowWrapper) {\n                                var offset = overflowWrapper.offset();\n                                x -= offset.left;\n                                y -= offset.top;\n                            }\n                            that.popup.wrapper.hide();\n                            that._configurePopupScrolling(x, y);\n                            that.popup.open(x, y);\n                        } else {\n                            that.popup.options.anchor = (x ? x : that.popup.anchor) || that.target;\n                            that.popup.element.kendoStop(true);\n                            that._configurePopupScrolling();\n                            that.popup.open();\n                        }\n                        DOCUMENT_ELEMENT.off(that.popup.downEvent, that.popup._mousedownProxy);\n                        DOCUMENT_ELEMENT.on(kendo.support.mousedown + NS + that._marker, that._closeProxy);\n                        that.element.trigger('focus');\n                    }\n                }\n                return that;\n            },\n            _configurePopupScrolling: function (x, y) {\n                var that = this;\n                var popup = that.popup;\n                var isHorizontal = that.options.orientation == 'horizontal';\n                if (that.options.scrollable) {\n                    that._wrapPopupElement(popup);\n                    popup.element.parent().css({\n                        position: '',\n                        height: ''\n                    });\n                    popup.element.css({\n                        visibility: 'hidden',\n                        display: '',\n                        position: ''\n                    });\n                    if (isHorizontal) {\n                        that._setPopupWidth(popup, isNaN(x) ? undefined : {\n                            isFixed: true,\n                            x: x,\n                            y: y\n                        });\n                    } else {\n                        that._setPopupHeight(popup, isNaN(x) ? undefined : {\n                            isFixed: true,\n                            x: x,\n                            y: y\n                        });\n                    }\n                    popup.element.css({\n                        visibility: '',\n                        display: 'none',\n                        position: 'absolute'\n                    });\n                    that._initPopupScrollButtons(popup, isHorizontal, true);\n                    popup.element.siblings(scrollButtonSelector).hide();\n                }\n            },\n            _setPopupWidth: function (popup, isFixed) {\n                var popupElement = popup.element;\n                var popups = popupElement.add(popupElement.parent(animationContainerSelector));\n                popups.width(this._initialWidth || '');\n                var location = popup._location(isFixed);\n                var windowWidth = $(window).width();\n                var popupOuterWidth = location.width;\n                var popupOffsetLeft = Math.max(location.left, 0);\n                var scrollLeft = isFixed ? 0 : parentsScroll(this._overflowWrapper()[0], 'scrollLeft');\n                var shadow = kendo.getShadows(popupElement);\n                var maxWidth = windowWidth - shadow.left - shadow.right;\n                var canFit = maxWidth + scrollLeft > popupOuterWidth + popupOffsetLeft;\n                if (!canFit) {\n                    popups.css({\n                        overflow: 'hidden',\n                        width: maxWidth - popupOffsetLeft + scrollLeft + 'px'\n                    });\n                }\n            },\n            close: function () {\n                var that = this;\n                if (contains(that.element[0], $(arguments[0])[0]) || that._itemHasChildren(arguments[0])) {\n                    Menu.fn.close.call(that, arguments[0]);\n                } else {\n                    if (that.popup.visible()) {\n                        if (that._triggerEvent({\n                                item: that.element,\n                                type: CLOSE\n                            }) === false) {\n                            that._removeHoverItem();\n                            that.element.find('#' + that._ariaId).removeAttr('id');\n                            that.popup.close();\n                            DOCUMENT_ELEMENT.off(kendo.support.mousedown + NS + that._marker, that._closeProxy);\n                            that.unbind(SELECT, that._closeTimeoutProxy);\n                            that.popup.options.anchor.focus();\n                        }\n                    }\n                }\n            },\n            _showHandler: function (e) {\n                var ev = e, offset, that = this, options = that.options, target = kendo.support.mobileOS ? $(ev.target) : $(ev.currentTarget);\n                if (e.event) {\n                    ev = e.event;\n                    ev.pageX = e.x.location;\n                    ev.pageY = e.y.location;\n                }\n                if (contains(that.element[0], e.relatedTarget || e.target)) {\n                    return;\n                }\n                that._eventOrigin = ev;\n                ev.preventDefault();\n                ev.stopImmediatePropagation();\n                that.element.find('.' + FOCUSEDSTATE).removeClass(FOCUSEDSTATE);\n                if (options.filter && target.is(options.filter) || !options.filter) {\n                    if (options.alignToAnchor) {\n                        that.popup.options.anchor = ev.currentTarget;\n                        that.open(ev.currentTarget);\n                    } else {\n                        that.popup.options.anchor = ev.currentTarget;\n                        if (that._targetChild) {\n                            offset = that.target.offset();\n                            that.open(ev.pageX - offset.left, ev.pageY - offset.top);\n                        } else {\n                            that.open(ev.pageX, ev.pageY);\n                        }\n                    }\n                }\n            },\n            _closeHandler: function (e) {\n                var that = this, target = $(e.relatedTarget || e.target), sameTarget = target.closest(that.target.selector)[0] == that.target[0], item = target.closest(itemSelector), children = that._itemHasChildren(item), overflowWrapper = that._overflowWrapper(), containment = contains(that.element[0], target[0]) || overflowWrapper && contains(overflowWrapper[0], target[0]);\n                that._eventOrigin = e;\n                var normalClick = e.which !== 3;\n                if (that.popup.visible() && (normalClick && sameTarget || !sameTarget) && (that.options.closeOnClick && !children && containment || !containment)) {\n                    if (containment) {\n                        this.unbind(SELECT, this._closeTimeoutProxy);\n                        that.bind(SELECT, that._closeTimeoutProxy);\n                    } else {\n                        that.close();\n                    }\n                }\n            },\n            _wire: function () {\n                var that = this, options = that.options, target = that.target;\n                that._preventProxy = null;\n                that._showProxy = proxy(that._showHandler, that);\n                that._closeProxy = proxy(that._closeHandler, that);\n                that._closeTimeoutProxy = proxy(that.close, that);\n                if (target[0]) {\n                    if (kendo.support.mobileOS && options.showOn == 'contextmenu') {\n                        that.userEvents = new kendo.UserEvents(target, {\n                            filter: options.filter,\n                            allowSelection: false\n                        });\n                        that._preventProxy = function () {\n                            return false;\n                        };\n                        that.userEvents.bind('hold', that._showProxy);\n                    }\n                    if (options.filter) {\n                        target.on(options.showOn + NS + that._marker, options.filter, that._preventProxy || that._showProxy);\n                    } else {\n                        target.on(options.showOn + NS + that._marker, that._preventProxy || that._showProxy);\n                    }\n                }\n            },\n            _triggerEvent: function (e) {\n                var that = this, anchor = $(that.popup.options.anchor)[0], origin = that._eventOrigin;\n                that._eventOrigin = undefined;\n                return that.trigger(e.type, extend({\n                    type: e.type,\n                    item: e.item || this.element[0],\n                    target: anchor\n                }, origin ? { event: origin } : {}));\n            },\n            _popup: function () {\n                var that = this;\n                var overflowWrapper = that._overflowWrapper();\n                that._triggerProxy = proxy(that._triggerEvent, that);\n                that.popup = that.element.addClass('k-context-menu').kendoPopup({\n                    autosize: that.options.orientation === 'horizontal',\n                    anchor: that.target || 'body',\n                    copyAnchorStyles: that.options.copyAnchorStyles,\n                    collision: that.options.popupCollision || 'fit',\n                    animation: that.options.animation,\n                    activate: that._triggerProxy,\n                    deactivate: that._triggerProxy,\n                    appendTo: overflowWrapper || that.options.appendTo,\n                    close: !overflowWrapper ? $.noop : function (e) {\n                        $(getChildPopups(e.sender.element, overflowWrapper)).each(function (i, p) {\n                            var popup = p.data(KENDOPOPUP);\n                            if (popup) {\n                                popup.close(true);\n                            }\n                        });\n                    }\n                }).data(KENDOPOPUP);\n                that._targetChild = contains(that.target[0], that.popup.element[0]);\n            },\n            _moveHoverToRoot: function (item, nextItem) {\n                this._moveHover(item, nextItem);\n                this.close();\n            },\n            _focus: function (e) {\n                var hoverItem = this._oldHoverItem = this._hoverItem() || [];\n                Menu.fn._focus.call(this, e);\n                if (activeElement() === e.currentTarget) {\n                    this._moveHover(hoverItem, this.wrapper.children().first());\n                }\n            }\n        });\n        ui.plugin(Menu);\n        ui.plugin(ContextMenu);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}